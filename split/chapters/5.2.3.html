<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions" />
    <title>
      5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:teal"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:teal"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:teal"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:teal"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:teal"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:teal"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:teal"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:teal"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

      
      

      <div class='permalink'>
<a name='p1' class='permalink'></a><p>
  The assembler calls <span style="color:teal">make-execution-procedure</span><span style="color:blue"><kbd>make_execution_function</kbd></span> to
  generate the execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for an instruction.
  Like the <span style="color:teal">analyze</span><span style="color:blue">analyze</span>
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  in the evaluator of
  section <REF NAME="sec:separating-analysis"><a class="superscript" id="5.2.3-sec-link-4.1.7" href="./4.1.7.html">4.1.7</a></REF>, this dispatches on the type of
  instruction to generate the appropriate execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>.
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-execution-procedure inst labels machine
            pc flag stack ops)
      (cond ((eq? (car inst) 'assign)
            (make-assign inst machine labels ops pc))
            ((eq? (car inst) 'test)
            (make-test inst machine labels ops flag pc))
            ((eq? (car inst) 'branch)
            (make-branch inst machine labels flag pc))
            ((eq? (car inst) 'goto)
            (make-goto inst machine labels pc))
            ((eq? (car inst) 'save)
            (make-save inst machine stack pc))
            ((eq? (car inst) 'restore)
            (make-restore inst machine stack pc))
            ((eq? (car inst) 'perform)
            (make-perform inst machine labels ops pc))
            (else (error "Unknown instruction type - - ASSEMBLE"
            inst))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_1_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH02APNso6nQ7FygkgAoqJAM4UANKAA2TAEZtF0hczIALKWwUAHMgoLKA5gtlMyLBTUPSAlKADeuUJ9Bk6s0N1AAXlAdNiYAE0kZCicAbnwvUAAnNgoiJPoAwOzQACImaWkqcxJcj0SvAH5GVk4CopKo2S0bPRIDJVV1TVAHHuMncorQAC5-IJzcijZZMuHPauZ2DmnZJvka3X0FZTUNe0dTCyMyQfnR8ezg3JUkpnIdOfnF2o5b+911lq32na790BmJiWUADIYVMZZSbmGgrGhPYYvZYwig0L6bNodXbdE5neaQibXaRMABubARFSRnGJZPR2kxVgoNjsoNO4MSBKueRSshoKQpiSpHB5qJSdNa21A1lsuPZXk5k0MbCSBD5DAFVRqyyVKrV4p+WP+PT6svOY2VST56NyAFUSCwSDQAO70KSyJJESi0egUACeSrGAEFwOAAKIAWQAQgAZUO5OK4AC+QA')">function make_execution_function(inst, labels, machine, pc, flag, stack, ops) {
    const x = head(inst);

    return x === "assign"
        ? make_assign(inst, machine, labels, ops, pc)
        : x === "test"
        ? make_test(inst, machine, labels, ops, flag, pc)
        : x === "branch"
        ? make_branch(inst, machine, labels, flag, pc)
        : x === "go_to"
        ? make_goto(inst, machine, labels, pc)
        : x === "save"
        ? make_save(inst, machine, stack, pc)
        : x === "restore"
        ? make_restore(inst, machine, stack, pc)
        : x === "perform"
        ? make_perform(inst, machine, labels, ops, pc)
        : error(inst, "Unknown instruction type: ASSEMBLE");
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p2' class='permalink'></a><p>
  For each type of instruction in the register-machine language, there
  is a generator that builds an appropriate execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>.  The
  details of these
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  determine both the syntax and meaning of
  the individual instructions in the register-machine language.
  We use data abstraction to isolate the detailed syntax of
  register-machine expressions from the general execution mechanism, as
  we did for evaluators in section <REF NAME="sec:representing-expressions"><a class="superscript" id="5.2.3-sec-link-4.1.2" href="./4.1.2.html">4.1.2</a></REF>,
  by using syntax
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  to extract and classify the parts of an instruction.
      </p></div>

      
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
    
  <span style="color:teal">Assign</span><span style="color:blue">Assign</span> instructions
      </h2></div>

      
      <div class='permalink'>
<a name='p3' class='permalink'></a><p>
  The <span style="color:teal">make-assign</span><span style="color:blue"><kbd>make_assign</kbd></span>
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  handles <span style="color:teal">assign</span><span style="color:blue">assign</span> instructions:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-assign inst machine labels operations pc)
      (let ((target
            (get-register machine (assign-reg-name inst)))
            (value-exp (assign-value-exp inst)))
      (let ((value-proc
            (if (operation-exp? value-exp)
            (make-operation-exp
            value-exp machine labels operations)
            (make-primitive-exp
            (car value-exp) machine labels))))
      (lambda ()                
            (set-contents! target (value-proc))
            (advance-pc pc)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_2_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0mBnbqgcxIAKKiW4UANIyZkAFqLZSANkwBGbJdyk0ADmwBOTanS2gdZAJSgA3rlD3QZExVAUm+-mxcBeUJ4oc+mz8VOIGQsxyClI8fIKBwRwkTAxsImIUFhYA3HYOThmgAG5MSkScbAAeOqC+sQIkHCVlFdXp4jl59gXixaXlHMT0vqEcugZGtI1VOkLNAzMWXQ4rAPzS7GN6hsbTbfOtOlKR8iSKoCrqmtrbkyZLK4+gAFwbnDr6VAxU1EWHQrI2EwACZzfqHCzHGSnc6XDTcTrLIaUKZmAwEGj6BgcZibeqCIRWWxPezcLwcAoUNgkCjcIRuDxeKQHQakQmdEmgEElcjvMhCcw5UDLAC++BWQQoRH09G2GKxONYnHxJFyIqAA')">function make_assign(inst, machine, labels, operations, pc) {
    const target = get_register(machine, assign_reg_name(inst));
    const value_exp = assign_value_exp(inst);
    const value_fun = is_operation_exp(value_exp)
          ? make_operation_exp(value_exp, machine, labels, operations)
          : make_primitive_exp(head(value_exp), machine, labels);

    function perform_make_assign() {
        set_contents(target, value_fun());
        advance_pc(pc); 
    }

    return perform_make_assign;
}

</pre></div></div></td></tr></table>
  <span style="color:teal">Make-assign</span><span style="color:blue"><kbd>Make_assign</kbd></span> extracts the target register name (the
  second element of the instruction) and the value expression
  (the rest of the list that forms the instruction)
  from the <span style="color:teal">assign</span><span style="color:blue">assign</span> instruction using the selectors
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assign-reg-name assign-instruction)
      (cadr assign-instruction))

      
      (define (assign-value-exp assign-instruction)
      (cddr assign-instruction))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_3_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AQwGcmqBzEgfQCcBTNziQYBbXgApmrDpyokmFbkUq0SASlABvXKB2g+FIt3oALXgwAmYigyoAbCS3ZdZ8xcrqrVAblwBffMTk1HSMjtIAbgy2RLycvAAeAA4OUs5yCkrBapqg2rr6hvTWdlY29pJOMuluWZ4+vkA')">function assign_reg_name(assign_instruction) {
    return head(tail(assign_instruction));
}

function assign_value_exp(assign_instruction) { 
    return tail(tail(assign_instruction));
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p4' class='permalink'></a><p>
  The register name is looked up with <span style="color:teal">get-register</span><span style="color:blue"><kbd>get_register</kbd></span> to produce the
  target register object.  The value expression is passed to <span style="color:teal">make-operation-exp</span><span style="color:blue"><kbd>make_operation_exp</kbd></span> if the value is the result of an operation, and to
  <span style="color:teal">make-primitive-exp</span><span style="color:blue"><kbd>make_primitive_exp</kbd></span> otherwise.  These
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  (shown below)
  parse the value expression and produce an execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for the
  value.  This is a
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  of no arguments, called 
  
  <span style="color:teal">value-proc</span><span style="color:blue"><kbd>value_fun</kbd></span>,
  which will be evaluated during the simulation to produce the actual
  value to be assigned to the register.  Notice that the work of looking
  up the register name and parsing the value expression is performed
  just once, at assembly time, not every time the instruction is
  simulated.  This saving of work is the reason we use execution
  
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>, and corresponds directly to the saving in work we obtained
  by separating program analysis from execution in the evaluator of
  section <REF NAME="sec:separating-analysis"><a class="superscript" id="5.2.3-sec-link-4.1.7" href="./4.1.7.html">4.1.7</a></REF>.
      </p></div>

      <div class='permalink'>
<a name='p5' class='permalink'></a><p>
  The result returned by <span style="color:teal">make-assign</span><span style="color:blue"><kbd>make_assign</kbd></span> is the execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for the <span style="color:teal">assign</span><span style="color:blue">assign</span> instruction.  When this
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  is
  called (by the machine model's <span style="color:teal">execute</span><span style="color:blue">execute</span>
  <span style="color:teal">procedure</span><span style="color:blue">function</span>),
  it sets the contents of the target register to the result
  obtained by executing <span style="color:teal">value-proc</span><span style="color:blue"><kbd>value_fun</kbd></span>.  Then it advances
  the <span style="color:teal">pc</span><span style="color:blue">pc</span> to the next instruction by running the
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (advance-pc pc)
      (set-contents! pc (cdr (get-contents pc))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_4_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AQwBMA3B8gUwH0AHMgCj4BKUAG9coSaADOHClzJ0KHEhWmCyAGlAUGVADb8A5nIVKVajUOsBuUBKm4AvkA')">function advance_pc(pc) {
    set_contents(pc, tail(get_contents(pc))); 
    
}

</pre></div></div></td></tr></table>
  <span style="color:teal">Advance-pc</span><span style="color:blue"><kbd>Advance_pc</kbd></span> is the normal termination for all instructions except
  <span style="color:teal">branch</span><span style="color:blue">branch</span> and <span style="color:teal">goto</span><span style="color:blue"><kbd>go_to</kbd></span>.
      </p></div>

      
      <div class='permalink'>
        <a name='h2' class='permalink'></a><h2>
    
  <span style="color:teal">Test</span><span style="color:blue">Test</span>, <span style="color:teal">branch</span><span style="color:blue">branch</span>, and <span style="color:teal">goto</span><span style="color:blue">go_to</span> instructions
      </h2></div>

      <div class='permalink'>
<a name='p6' class='permalink'></a><p>
  
  <span style="color:teal">Make-test</span><span style="color:blue"><kbd>Make_test</kbd></span> handles <span style="color:teal">test</span><span style="color:blue">test</span> instructions in a similar way.  It
  extracts the expression that specifies the condition to be tested and
  generates an execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for it.  At simulation time, the
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for the condition is called, the result is assigned to the
  <span style="color:teal">flag</span><span style="color:blue">flag</span> register, and the <span style="color:teal">pc</span><span style="color:blue">pc</span> is advanced:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-test inst machine labels operations flag pc)
      (let ((condition (test-condition inst)))
      (if (operation-exp? condition)
            (let ((condition-proc
            (make-operation-exp
            condition machine labels operations)))
            (lambda ()
            (set-contents! flag (condition-proc))
            (advance-pc pc)))
            (error "Bad TEST instruction - - ASSEMBLE" inst))))

      
      (define (test-condition test-instruction)
      (cdr test-instruction))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_5_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0K2BnCgCiok+AGkZMyACyFsxAGyYAjNnJ5iaABzYAnJtTprQBBQHMxGsgEpQAb1ygHoMgYpO6AEyr76AXlDc+DmcST29BYQpLAG58R1AqAlBBHg5NHT1aEg42AA8NfmDQzMtrOzi44L43EK9MjmJfcXZUrV1vbLyCj1q6MWYpGXklFUM0tsyeaNjyhwbKTNBWghptBg5mZoCBUvsZ8p42CiC6bhIKHn5jJjNqorp60n4SmL3ypncANyZyTgt+C2ioF2MwAvtMZtpDkRtPQlis1htOFsokC4iDQCM2LZgeUdNoVuFRKAAEQAIXeoAAKgBRcCU+IRbREeZ0ABcoAAguBwNSALKkgAy1OJUzRuDBhFILPoW2ONTCsqEfCZ0p2cUhFGhMqYVDk-EVjOZ3imIKAA')">function make_test(inst, machine, labels, operations, flag, pc) {
    const condition = test_condition(inst);

    if (is_operation_exp(condition)) {
        const condition_fun = make_operation_exp(condition, machine, labels, operations);

        function perform_make_test() {
            set_contents(flag, condition_fun());
            advance_pc(pc); 
        }

        return perform_make_test; 
    } else {
        error(inst, "Bad TEST instruction: ASSEMBLE");
    }
}

function test_condition(test_instruction) {
    return tail(test_instruction);
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p7' class='permalink'></a><p>
  
  The execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for a <span style="color:teal">branch</span><span style="color:blue">branch</span> instruction checks the
  contents of the <span style="color:teal">flag</span><span style="color:blue">flag</span> register and either sets the contents of
  the <span style="color:teal">pc</span><span style="color:blue">pc</span> to the branch destination (if the branch is taken) or
  else just advances the <span style="color:teal">pc</span><span style="color:blue">pc</span> (if the branch is not taken).  Notice
  that the indicated destination in a <span style="color:teal">branch</span><span style="color:blue">branch</span> instruction must be a
  label, and the <span style="color:teal">make-branch</span><span style="color:blue">make-branch</span>
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  enforces this.  Notice
  also that the label is looked up at assembly time, not each time the
  <span style="color:teal">branch</span><span style="color:blue">branch</span> instruction is simulated.

  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-branch inst machine labels flag pc)
      (let ((dest (branch-dest inst)))
      (if (label-exp? dest)
            (let ((insts
            (lookup-label labels (label-exp-label dest))))
            (lambda ()
            (if (get-contents flag)
            (set-contents! pc insts)
            (advance-pc pc))))
            (error "Bad BRANCH instruction - - ASSEMBLE" inst))))

      
      (define (branch-dest branch-instruction)
      (cadr branch-instruction))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_6_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0AjAJyfIAWACiokAzhQA0jJmQGi20gDZMubJWOkEVAc2kAHMgEpQAb1yhLoMnQmgAJmzsBeUL35yOjiSPEUjANwWVsGWVASgImIcKmpKHGwAHvpC3v4m5lZZ1rYUoKISYqCuSjQ0LET6MarqQrHqmqD18UlVzalO6UGh2cTk1HSg+mw8BDQ8DBzM7Nx8gkIZPdlW4ZE6bBQcNiQUbDtiQtpMOkaLy+dWYhtbdLv7QobSBRRigfgXWQC+oA1sZksfSxMewANw8nEMD2MQUBlk+ALh73OPA2RB49GGo3Gk2mnHcgm6Xx+Gj+mXOIx4418EmkACIAELA0D0gBKAEEAHLQAAS+T8PCIlFoJAAXKA2eBwABRACy9IAMlLaW8vrh4YRSELBvjPGkhDqBBxngKtSQzlYURQ0fQBGxgUIKEwqEp9XNPMbBQMzW9PkA')">function make_branch(inst, machine, labels, flag, pc) {
    const dest = branch_dest(inst);
    
    if (is_label_exp(dest)) {
        const insts = lookup_label(labels, label_exp_label(dest));

        function perform_make_branch() {
            if (get_contents(flag)) {
                set_contents(pc, insts);

            } else {
                advance_pc(pc);
            }
        }

        return perform_make_branch;

    } else {
        error(inst, "Bad BRANCH instruction: ASSEMBLE");
    }
}

function branch_dest(branch_instruction) {
    return head(tail(branch_instruction));
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p8' class='permalink'></a><p>
  
  A <span style="color:teal">goto</span><span style="color:blue"><kbd>go_to</kbd></span> instruction is similar to a branch, except that the
  destination may be specified either as a label or as a register, and
  there is no condition to check—the <span style="color:teal">pc</span><span style="color:blue">pc</span> is always set to the
  new destination.
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-goto inst machine labels pc)
      (let ((dest (goto-dest inst)))
      (cond ((label-exp? dest)
            (let ((insts
            (lookup-label labels
            (label-exp-label dest))))
            (lambda () (set-contents! pc insts))))
            ((register-exp? dest)
            (let ((reg
            (get-register machine
            (register-exp-reg dest))))
            (lambda ()
            (set-contents! pc (get-contents reg)))))
            (else (error "Bad GOTO instruction - - ASSEMBLE"
            inst)))))

      
      (define (goto-dest goto-instruction)
      (cadr goto-instruction))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_7_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0BzGimgCiokAzhQA0jJmQAWQthIA2TAEZsFwiQAcyASlABvXKGOgydUaAAmbCwF5QPPh2ujBIijoDc+E6CoFQQWEOJVUFDjYAD01+Fw89Q19fM3c-d2FQewUaGhYiTRCVNX5QtQ1QUvCogsrYm3jvJJMAJzYKImb6fj1bAD5QYTaOFIo2Egphfm0JIVFhLx8TAF9QMrY-AKCOVq4qUTZmiOi60R0EoybTcwpQHcyHIZ290eb+Zhk5CSf9w+rtti4JwaFyarXanUCPX6gwowzoo3Gk2mD1hIzGE34OzO3hBoBWawMuN8B2aNFes3EoAARAAhJiWUAAcQA8gAVZlpUTNIiUWgkABcoAAguBwABRACyNIAMmKqQtfEtcErCKReXQHLwaM56vxHNqKdz1SRzr4wR16NI2PT+BQmFQFHqtRxDTzqHRscqgA')">function make_goto(inst, machine, labels, pc) {
    const dest = goto_dest(inst);

    if (is_label_exp(dest)) {
        const insts = lookup_label(labels, label_exp_label(dest));
        return () => set_contents(pc, insts);

    } else if (is_register_exp(dest)) {
        const reg = get_register(machine, register_exp_reg(dest));
        return () => set_contents(pc, get_contents(reg));

    } else {
        error(inst, "Bad GOTO instruction: ASSEMBLE");
    }
}

function goto_dest(goto_instruction) {
    return head(tail(goto_instruction));
}

</pre></div></div></td></tr></table>
      </p></div>

      
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
  Other instructions
      </h2></div>

      <div class='permalink'>
<a name='p9' class='permalink'></a><p>
  The stack instructions <span style="color:teal">save</span><span style="color:blue">save</span> and <span style="color:teal">restore</span><span style="color:blue">restore</span> simply use the
  stack with the designated register and advance the <span style="color:teal">pc</span><span style="color:blue">pc</span>:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-save inst machine stack pc)
      (let ((reg (get-register machine
            (stack-inst-reg-name inst))))
      (lambda ()
      (push stack (get-contents reg))
      (advance-pc pc))))

      
      
      (define (make-restore inst machine stack pc)
      (let ((reg (get-register machine
            (stack-inst-reg-name inst))))
      (lambda ()
      (set-contents! reg (pop stack))    
      (advance-pc pc))))

      
      (define (stack-inst-reg-name stack-instruction)
      (cadr stack-instruction))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_8_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0BnJgNzYAUVElwoAaRkzIALYWwmipLCQAcyASlABvXKD2gydUaABObAOagAvKHNsKHM+aqi2JgcxlyFFJR2GijhYcJEwMggEU6uoA3Pj6oMTk1HSgKm4ENCYMHMzs3HyCmjoJCSpEXNICimTKtvYchiQUbM1cAk7RcaX6TAAmvEzknGoCarG6+gC+8fpmFEQm9Okmmdm5rJw8-HEzhKSUtPR5nGaiWREi4pJeJPKgNXXj2pN6TcZO1vUOTi4t7p5ZHcfH5IkFzCEwpdRF1ZnokodUis1jkTkFzmYBMVXqUuA0mi02h0LKoaCpqr5arCenp+oNhhxRuMYqAcXsEvNFssMllUZt0RQLrt8AiUvRHv4ruDIeEKaCriYiIiSNiOfYuaBpGx+gJfFQADZy2qS0SK5WwqZAA')">function make_save(inst, machine, stack, pc) {
    const reg = get_register(machine, stack_inst_reg_name(inst));

    function perform_make_save() {
        push(stack, get_contents(reg));
        advance_pc(pc);
    }

    return perform_make_save;
}

function make_restore(inst, machine, stack, pc) {
    const reg = get_register(machine, stack_inst_reg_name(inst));

    function perform_make_restore() {
        set_contents(reg, pop(stack));
        advance_pc(pc); 
    }

    return perform_make_restore;
}

function stack_inst_reg_name(stack_instruction) {
    return head(tail(stack_instruction));
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p10' class='permalink'></a><p>
  
  The final instruction type, handled by <span style="color:teal">make-perform</span><span style="color:blue"><kbd>make_perform</kbd></span>, generates
  an execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for the action to be performed.  At simulation
  time, the action
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  is executed and the <span style="color:teal">pc</span><span style="color:blue">pc</span> advanced.
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-perform inst machine labels operations pc)
      (let ((action (perform-action inst)))
      (if (operation-exp? action)
            (let ((action-proc
            (make-operation-exp
            action machine labels operations)))
            (lambda ()
            (action-proc)
            (advance-pc pc)))
            (error "Bad PERFORM instruction - - ASSEMBLE" inst))))

      
      (define (perform-action inst) (cdr inst))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_9_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0AHNgJwJq8GACiokAzhQA0jJmQAWYtjIA2TAEZsV4mTR68m1OjtBcyASlABvXKDugyxiqDlH6AXlN8BQjq9okohIU5gDc+PagVASgouIcenyGARxsAB5cwv505pY2kZGOwS6UKcQesuwJ+sl0qRlZpXQyzApKqhpaJokGbuJhtgV2vGwURLz0wpbuAHzWJW4c5VOhLgAmAG5M5JxmwmZhoAC+EfZHoF1s1oNDfLyCQZIyAEQAQkxroLAAogBKAGIAeV+AFkosFeEQmiQAFygACC4HA3xBrwAMt9ngNIicToRSNCvPxBAw-NDHiFrpERmMJqAKEwqCoKYdcEcgA')">function make_perform(inst, machine, labels, operations, pc) {
    const action = perform_action(inst);

    if (is_operation_exp(action)) {
        const action_fun = make_operation_exp(action, machine, labels, operations);
        return () => { action_fun(); advance_pc(pc); }

    } else {
        error(inst, "Bad PERFORM instruction: ASSEMBLE");
    }
}

function perform_action(inst) {
    return tail(inst); 
}

</pre></div></div></td></tr></table>
      </p></div>

      
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
  Execution
    <span style="color:teal">procedures</span><span style="color:blue">functions</span>
    for subexpressions
      </h2></div>

      <div class='permalink'>
<a name='p11' class='permalink'></a><p>
  
  
  
  The value of a <span style="color:teal">reg</span><span style="color:blue">reg</span>, <span style="color:teal">label</span><span style="color:blue">label</span>, or <span style="color:teal">const</span><span style="color:blue">constant</span> expression
  may be needed for assignment to a register (<span style="color:teal">make-assign</span><span style="color:blue"><kbd>make_assign</kbd></span>) or for input to
  an operation (<span style="color:teal">make-operation-exp</span><span style="color:blue"><kbd>make_operation_exp</kbd></span>, below).  The following
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  generates execution
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  to produce values for these expressions
  during the simulation:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-primitive-exp exp machine labels)
      (cond ((constant-exp? exp)
            (let ((c (constant-exp-value exp)))
            (lambda () c)))
            ((label-exp? exp)
            (let ((insts
            (lookup-label labels
            (label-exp-label exp))))
            (lambda () insts)))
            ((register-exp? exp)
            (let ((r (get-register machine
            (register-exp-reg exp))))
            (lambda () (get-contents r))))
            (else
            (error "Unknown expression type - - ASSEMBLE" exp))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_10_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0AHAJyoarUAbpzYAPLgApxXADSMmZABZUSbeQBsmAIzYaAzgEpQAb1ygLoKgVCSq+jmTr6KTEhQ4zpEw8bOWA0CcSFyDQAF4g51d3TwkOISYNIjZvLkMAbnNAix42CiIeekljcIA+IKyci2yLAF9QPX02Kxs7By1dDTipGV9TWsDg0NUXfQjQDRoaFiIuDk69SUWDTR09HoX1jTTfKuq8gqLbUorRin0swYamlutbew48gHN7CjYeHt2-QYDhilAPAmz3yTzYrxcH0kzGUqnUgPBbw+mxe332OUOhWKp1AII8wXe7n0kh4mVA+ACNwMLX81Q+PBoPDS8gARABVEgsEg0ADu9BkeX0+lo9AoAE8uGwAFygACC4HAAFEALIAIQAMoqWZlrrg6kA')">function make_primitive_exp(exp, machine, labels) {
    if (is_constant_exp(exp)) {
        const c = constant_exp_value(exp);
        return () => c;
        
    } else if (is_label_exp(exp)) {
        const insts = lookup_label(labels, label_exp_label(exp));
        return () => insts;

    } else if (is_register_exp(exp)) {
        const r = get_register(machine, register_exp_reg(exp));
        return () => get_contents(r); 

    } else {
        error(exp, "Unknown expression type: ASSEMBLE");
    }
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p12' class='permalink'></a><p>
  The syntax of <span style="color:teal">reg</span><span style="color:blue">reg</span>, <span style="color:teal">label</span><span style="color:blue">label</span>, and <span style="color:teal">const</span><span style="color:blue">constant</span> expressions
  is determined by
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (register-exp? exp) (tagged-list? exp 'reg))

      
      (define (register-exp-reg exp) (cadr exp))

      
      (define (constant-exp? exp) (tagged-list? exp 'const))

      
      (define (constant-exp-value exp) (cadr exp))

      
      (define (label-exp? exp) (tagged-list? exp 'label))

      
      (define (label-exp-label exp) (cadr exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_11_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0KgZwH0AnAUwHMmL3Xn2ADwAOACiHCAlKADeuUAtAcKRVvSbMKAQ06d2AE2YAbHuJEAaUACIOnK5IDcuAL75i5anSVcefASLYuMylZeUVlVXoAC3YtfVFtKiNgyUcXN1JKWnUWMjpGbRIKfzEJaTlFbxU1BhZtXQNjUwlLKzySAq0i+ydXQkzPenbOopLmADctIyJ2FNDKiJqYuIStJJS0vvcsrw0jLQAjdiMSuYrw9mqczR09QxMC4Nb9o6Me9P6PbNAX47Hf5JleYXK6gZbxRKAkSpXpAA')">function is_register_exp(exp) {
    return is_tagged_list(exp, "reg");
}

function register_exp_reg(exp) {
    return head(tail(exp));
}

function is_constant_exp(exp) {
    return is_tagged_list(exp, "constant");
}

function constant_exp_value(exp) {
    return head(tail(exp));
}

function is_label_exp(exp) {
    return is_tagged_list(exp, "label");
}

function label_exp_label(exp) {
    return head(tail(exp));
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p13' class='permalink'></a><p>
  
  <span style="color:teal">Assign</span><span style="color:blue">Assign</span>, <span style="color:teal">perform</span><span style="color:blue">perform</span>, and <span style="color:teal">test</span><span style="color:blue">test</span> instructions
  may include the application of a machine operation (specified by
  an <span style="color:teal">op</span><span style="color:blue">op</span> expression) to some operands (specified by <span style="color:teal">reg</span><span style="color:blue">reg</span>
  and <span style="color:teal">const</span><span style="color:blue">constant</span> expressions).
  The following
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  produces an execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for an <QUOTE>operation expression</QUOTE>—a list containing the operation and
  operand expressions from the instruction:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-operation-exp exp machine labels operations)
      (let ((op (lookup-prim (operation-exp-op exp) operations))
            (aprocs
            (map (lambda (e)
            (make-primitive-exp e machine labels))
            (operation-exp-operands exp))))
      (lambda ()
      (apply op (map (lambda (p) (p)) aprocs)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_12_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0aAHNgJybU6HNgA9uACjHcANIyZkAFlRJs5AGyYAjNuoDOcnv0G0SegJSgA3rlB3QZOnoqgeoALyh1NGiyLcObj4qBgkjASESEXEuSWlzQ14I0wsAblt7RzMXJiCaMj0PeTiPAD55dkDghipqADdOaSk5ZiUVNS9tXQsZDPt+gcH7cJNhaVjjEgATPSlxc3N0vtBickjQJIIaPgYOZkqRyOjJSxsh0D42CiI+eh4JZkluMo2JBNBcvnyLReWAX2Wy0u11uG34Wx2e1YnEOpmO6T+QA')">function make_operation_exp(exp, machine, labels, operations) {
    const op = lookup_prim(operation_exp_op(exp), operations);
    const aprocs = map(e => make_primitive_exp(e, machine, labels),
                       operation_exp_operands(exp));

    function perform_make_operation_exp() {
        return op(map(p => p(), aprocs));
    }
    
    return perform_make_operation_exp;
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p14' class='permalink'></a><p>
  The syntax of operation expressions is determined by
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (operation-exp? exp)
      (and (pair? exp) (tagged-list? (car exp) 'op)))

      
      (define (operation-exp-op operation-exp)
      (cadr (car operation-exp)))

      
      (define (operation-exp-operands operation-exp)
      (cdr operation-exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_13_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0KgZwH0aAHAUwCcBDau5hwAebABTC2ASlABvXKAWguHCkS70mzNjypdxI6QDJDDFhR4BzCxwAmzADZMKogBYceN-VIA0oAETsfpIA3LgAvvjE5Pz07Nx8tCSCIqxicbwxyVKy8orKquqgbh6i5lT2ru6e6QkCEpINoRGEpJSJoDWZEqnxJDaMop2JWdJyikoqavRlFUN1Bk1AA')">function is_operation_exp(exp) {
    return is_pair(exp) && is_tagged_list(head(exp), "op");
}

function operation_exp_op(operation_exp) {
    return head(tail(head(operation_exp)));
}

function operation_exp_operands(operation_exp) {
    return tail(operation_exp);
}

</pre></div></div></td></tr></table>
      </p></div>

      <div class='permalink'>
<a name='p15' class='permalink'></a><p>
  Observe that the treatment of operation expressions is very much like
  the treatment of
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  applications by the <span style="color:teal">analyze-application</span><span style="color:blue"><kbd>analyze_application</kbd></span>
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  in the evaluator of
  section <REF NAME="sec:separating-analysis"><a class="superscript" id="5.2.3-sec-link-4.1.7" href="./4.1.7.html">4.1.7</a></REF> in that we generate an execution
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  for each operand.  At simulation time, we call the
  operand
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  and apply the Scheme
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  that simulates
  the operation to the resulting values.
  The simulation
  <span style="color:teal">procedure</span><span style="color:blue">function</span>
  is found by looking up the operation name in
  the operation table for the machine:
  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lookup-prim symbol operations)
      (let ((val (assoc symbol operations)))
      (if val
            (cadr val)
            (error "Unknown operation - - ASSEMBLE" symbol))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_14_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuAzAVwDsBjAFwEsB7E0AGxpoGsiAHAfXYCcqBbABQBnAJ78ARjQYAaUDXYBTHgENqdYQEpQAb1ygDoMhoqgAbioagAvKBXDhNMiPFTZ8pavUktAbnyGoDyKFEQ89BZW1tGgpAAmigRUJIpx+oGGAPygyjw0PC6S0nIARACqJCwkNADu9ArKarQkAFygAILg4ACiALIAQgAy3SWa6RmgbQAWiipxghQqVAyCkZqa-gC+QA')">function lookup_prim(symbol, operations) {
    const val = assoc(symbol, operations);

    return val === undefined
        ? error(symbol, "Unknown operation: ASSEMBLE")
        : head(tail(val));
}

</pre></div></div></td></tr></table>
      </p></div>

      
    <div class="permalink">
    <a name="ex_5.9" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.9">Exercise 5.9 </a></b> 
  
  The treatment of machine operations above permits them to operate
  on labels as well as on constants and the contents of registers.
  Modify the expression-processing
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  to enforce the condition
  that operations can be used only with registers and constants.
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_106_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_106_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


      
    <div class="permalink">
    <a name="ex_5.10" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.10">Exercise 5.10 </a></b> 
  
  Design a new syntax for register-machine instructions and modify the
  simulator to use your new syntax.  Can you implement your new
  syntax without changing any part of the simulator except the
  syntax
  <span style="color:teal">procedures</span><span style="color:blue">functions</span>
  in this section?
  
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_106_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_106_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


      
    <div class="permalink">
    <a name="ex_5.11" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.11">Exercise 5.11 </a></b> 
  
  
  
  When we introduced <span style="color:teal">save</span><span style="color:blue">save</span> and <span style="color:teal">restore</span><span style="color:blue">restore</span> in
  section <REF NAME="sec:stack-recursion"><a class="superscript" id="5.2.3-sec-link-5.1.4" href="./5.1.4.html">5.1.4</a></REF>, we didn't specify what would happen
  if you tried to restore a register that was not the last one saved, as
  in the sequence

  <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_106_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(save y)
      (save x)
      (restore y)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_106_15_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=5&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0GYBQuBnAQwDcBTACgE8BKAbkNMoA97cAnMggFwHtPq9IA')">save(y);
save(x);
restore(y);

</pre></div></div></td></tr></table>
  There are several reasonable possibilities for the meaning of <span style="color:teal">restore</span><span style="color:blue">restore</span>:
  <OL>
    <LI>
      <span style="color:teal">(restore y)</span><span style="color:blue">restore(y)</span> puts into <span style="color:teal">y</span><span style="color:blue">y</span> the last value saved on the
      stack, regardless of what register that value came from.  This is the
      way our simulator behaves.  Show how to take advantage of this
      behavior to eliminate one instruction from the Fibonacci machine of
      section <REF NAME="sec:stack-recursion"><a class="superscript" id="5.2.3-sec-link-5.1.4" href="./5.1.4.html">5.1.4</a></REF> (figure <REF NAME="fig:fib-machine"><a class="superscript" id="5.2.3-fig-link-5.12" href="./5.1.4.html#fig_5.12">5.12</a></REF>).
    </LI>
    <LI>
      <span style="color:teal">(restore y)</span><span style="color:blue">restore(y)</span> puts into <span style="color:teal">y</span><span style="color:blue">y</span> the last value saved on the
      stack, but only if that value was saved from <span style="color:teal">y</span><span style="color:blue">y</span>; otherwise, it
      signals an error.  Modify the simulator to behave this way.  You will
      have to change <span style="color:teal">save</span><span style="color:blue">save</span> to put the register name on the stack along
      with the value.
    </LI>
    <LI>
      <span style="color:teal">(restore y)</span><span style="color:blue">restore(y)</span> puts into <span style="color:teal">y</span><span style="color:blue">y</span> the last value saved from <span style="color:teal">y</span><span style="color:blue">y</span> regardless of what other registers were saved after <span style="color:teal">y</span><span style="color:blue">y</span> and not
      restored.  Modify the simulator to behave this way.  You will have to
      associate a separate stack with each register.  You should make the
      <span style="color:teal">initialize-stack</span><span style="color:blue"><kbd>initialize_stack</kbd></span> operation initialize all the register stacks.
    </LI>
  </OL>
  
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_106_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_106_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


      
    <div class="permalink">
    <a name="ex_5.12" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.12">Exercise 5.12 </a></b> 
  
  The simulator can be used to help determine the data paths required
  for implementing a machine with a given controller.  Extend
  the assembler to store the following information in the machine model:
  <UL>
    <LI>a list of all instructions, with duplicates removed, sorted by
      instruction type (<span style="color:teal">assign</span><span style="color:blue">assign</span>, <span style="color:teal">goto</span><span style="color:blue"><kbd>go_to</kbd></span>, and so on);

    </LI>
    <LI>a list (without duplicates) of the registers used to hold entry
      points (these are the registers referenced by <span style="color:teal">goto</span><span style="color:blue"><kbd>go_to</kbd></span>
      instructions);

    </LI>
    <LI>a list (without duplicates) of the registers that are <span style="color:teal">save</span><span style="color:blue">save</span>d
      or <span style="color:teal">restore</span><span style="color:blue">restore</span>d;

    </LI>
    <LI>for each register, a list (without duplicates) of the sources from
      which it is assigned (for example, the sources for register <span style="color:teal">val</span><span style="color:blue">val</span>
      in the factorial machine of Figure <REF NAME="fig:fact-machine"><a class="superscript" id="5.2.3-fig-link-5.11" href="./5.1.4.html#fig_5.11">5.11</a></REF> are
      <span style="color:teal">(const 1)</span><span style="color:blue">constant(1)</span> and <span style="color:teal">((op *) (reg n) (reg val))</span><span style="color:blue"><kbd>op("*", reg("n"), reg("val"))</kbd></span>).
    </LI>

  </UL>

  Extend the
  message-passing interface to the machine to provide access to this new
  information.  To test your analyzer, define the Fibonacci machine from
  figure <REF NAME="fig:fib-machine"><a class="superscript" id="5.2.3-fig-link-5.12" href="./5.1.4.html#fig_5.12">5.12</a></REF> and examine the lists you constructed.
  
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_106_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_106_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


      
    <div class="permalink">
    <a name="ex_5.13" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_5.13">Exercise 5.13 </a></b> 
  
  Modify the simulator so that it uses the controller sequence to
  determine what registers the machine has rather than requiring a list
  of registers as an argument to <span style="color:teal">make-machine</span><span style="color:blue"> <kbd>make_machine</kbd></span>.  Instead of
  pre-allocating the registers in <span style="color:teal">make-machine</span><span style="color:blue"><kbd>make_machine</kbd></span>, you can allocate
  them one at a time when they are first seen during assembly of the
  instructions.
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_106_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_106_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

      

    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./5.2.2.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='108' href='./5.2.4.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions
    </div>
    <script> var chapter_id = 107; </script>
    <script> var chapter_path = "chapters/5.2.3.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
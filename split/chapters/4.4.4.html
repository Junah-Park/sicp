<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYCYhN6Y+CYNMCKBow6AW3IITpVdR0A5uRnYNrajCEWsIhIQniNEI640Nx2oOHrFzyiAddjqPgxIP4JaiBDHAkQzhr4JN7KAshx9d0kkKiETY3+OUA0HcBrpfJghoQ8ISUOSH2AYh7guIWTgSHYNahKQ0VGkI+aiV0GmQh3tBFqqNCK65qUiEMMUBDDuhHXbIRpFyGdV8hfgxdD1khID0YY5Q-ANMFUDe1KI8XWvkcPkDaR7YpgRIAY3KHk0SAt2Jhm8kuHmNOgNw3wfcMSAktiSBwn4dgzsQJMRgcwloQ8DaGIIronJf4dKzWEbDwqbw64VsO+HbChMMI3zO0j6xgCeIkEE9BIg1g-9xQGgFQfeV6TcC4BvAuAfwLIjWkgByA3oeIMkG69pY2DbEavwwx6V5Awg1QWMN1DvDLAtgByuH20F38b+50IkdyPvKJs+RBodyEKNaJ8jORxIqAbEItJp98Au6YWmW06LbgNRy8YWjQ2y4dxFRdfeQHoGwYWkMUYw1ATMErxmjtRZJcemPlxEiR8RyIE0RKJJFxtYIl7PkXoHDRBpL2RIi1jKPXByiw+rROdH6LWH2g50wYmMWaFDECj5R5TaMdUIcgzp4x6Y0yE4Tja6jNR9LbwXKjuCScqUMIgKqPQkLVV4Rc0DaGtjAzepkwmIdyOpx6a6cXgmgZNiaOTYqitkWNeUYHCW6SQnYSY8MQ31aJdiuRNXcTrQE0DZjTIPY+kbXwHGpRZGeou4PS0BF9wxhlBZ+mYHMTliVxvICSH-HQ57xCA-BJfjSDtG8YMBMLLRqmLNH1jnETnT4XcMi5Y88uPQh7otydhOd6un4ooNfl6FvwdeEwIHmMD9B2JqidAFAeXTTYzdGgN4zrljUi5OwJ2Zox5JjjQGRc9ACjEptUUi4LISxoAPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMAecdOmfChKOMlGj0LxOFeCTeNlEWtXxV46kEu3bGYJxJYYuNq+JkCVBWxmCHRspPbh8SZx9AXIbEPImUSaJdExiSxLYkaSWe0k2SfxPkmjjR6r45EdJNsCISustkqqGpNoA3gtheA5xFLBbZyTYkgkr0Ypy2FkRjhiNOhESJVQFUDiHnSYDkGbHaS9OhwSKcX1yL8jiAQkhMdxPHGJSBJVwsMUJLWwkSuWQdEgN51kgAAGNQgNFyjHgywEkGTta3BSUBEEueBqaSDKnrgnYJUjqSCKspLEeAWEwND1IGCdTGAOjNzLVPQyd8f+PUk1s1P16xCJC1TAXBITmlNT+wLU8nuyIl7Pi+spgBuNNP+B2AcoEUBqShOdrrSumC0lQvcXqmaJ5pm01qfHAGgHD7gx4GQCmEM6mgs0aAhTmIg0LUIppR-HAVdLzYLSOinzS9pxzK4SE3ptgD6dIE8x-pC2CYqIPDMRkpgOOsbSGfGzQ618MZn0s6S70TYTAihcXacAWyEGdk1+dwISb0lemmB3pRM0kawJA7sDheJgmUu6By4-9OZnvQkinCLyiD9B0vTvF4kpEP9qR55ISSLMu6BpSgTI8CXr35KhANR8sfkrEEJlIzj+VIu-noMR4bwHBycTHHh3NEORQg2s5GVwUEg5MrZtg0rtV3VkOAXB75ewgmiZkIyWZTrRNtiJLrOBOIDIf4DtPX7VB6ZniLGoyNkjaCv+tIhhnTK9Hxx-YjIopoz3m5g9iAGxQURGN1lSzRRcA86POMCBhzE5o5SHmwLQHVARY7pPAMPDrlWxI5PA6OXwNjnpoS5wAwWf0hTlgSsoKsqBDIKzkpid+RckUVBlzmv8TQG8KeR6RsKwIx6QREOQnPblLjRZSHf2GTIQR2BDgJcukR4VsK1z65ncwNPmP1GFjEOScaHihwXkICYyHcwqGeIZgkBB5Oc-IFt3yDK9exFwk8uqILHZ8ogCjdcQaLGFGjK8b8ibBaKELQt2Br882Xyz9m4jA5cIYOa-JRofzZ51ouwGgPfmwKYo8CgOXwSQXtd35KNLblAPqpgA65w8KBdbx6wpMI0Po3aNguwZPywS2c8cfOyqHukoxE2NGT0BYUgIUxE7ThXrWWATseFRczEjYTzGAKz5mI2XPdO9BMJbx7szAUgR8BKLOWDUzAhsCmAXjGQJUs-rg2JnC8dGPUsXAYsU7KVycjXc6Y7M6K84ZAH0ooDelhjoUaGXmADAYr2Hm5M6mIBRcYs7FCsdQ+UywIEoVY0i-+Ec52lMHNTuQSp3UzoE6RIwnSFgBioJFjX4WDiTxTsTOJkpTGTj0pvCj4DotkAG4YlJCAxUUuWCLiRBvQzJauJ-mny-5LIIEcAvpT3AqWxi4-DaHKVxLzpvC3cSWIPG3DQm9S48VFCKlmBSJFE2wPRN3AAAZQ2uxNrHtxqpPknie5RKlGhApn892SJP4ETBqQCkywJJIsnwTXUWy45X5BoaaTKglyt-rcoUVGhR6Bk2ZQsqWXmTRglkniJctsnBSYRhQrenQnsnljHJzkq5VMKJBoEGpnkmES+ATEgqRlF1aDtCruCwqRlPLRNsXV+UhKMpQU2ISFLeHhSNI8SzqgcWLoSgSpAStKbKMyl0JspvEnFYUq9F7S3kcIVuh0qFaKACltKkkW+Olb-KRloU+QMSp6BqjwqV0EKTPR4iLDO8vk3KfJJ5UFSvRvCmsdioalGglVoSllYzRvLojfZ7SvFgq25VCtJR-Ki6aJFdAU1ZI-42jiaoVbnRtwpMI1QS2r4DsrVJAJWb3JZFth2VeFF1YS1NV8qthcbD1QsFM72riWZqkNSgJSWHLO+foyxfeOOKPifMhqDVH0DQEYSfM3gyTqYAVVKRS60kqRv5KIqiw2B0kzvu5L8j49UJeXJ2GCre5ITq1-vZ+AIw3BGQC1ZYkZdHUISIqvhkXNyaWvRW+C3VQQfIKgnq5DrrJHkryWsK+alrNANY9tQdOeilrzVvpY2ffK9xsq81QydqUWrEkWKolokUcU7BKV6LDgaStIBWvgkJrcVEcZYM-DQmyRG1ICJCbZI15tqLAq6hRfyt7UuR+174vLporRVeT-eE6vEIOtQIlSR1iQDvNz0vYlSl1tVFdZ2p6khrN1JpUWI4hHRjAfl7Unol2pLUzqy1vQkKA1JI06ScF-89sPhv8UtqaG2natVRqSl+QtO9GljS2t6QqAeiMnddYesOWsaXgvpZ+BUD8mka0kryoyQxKYmsTwA8caTbRNk2mTllC60jShuOriau1COWvtuFyABMQBf4ejVSuPVpBeN+anqYJuvHXqfxztbTVsqdivK5liyhTWkGc3vK1NSGhqZps6oOaNVvpWaPppyCGa5FUBRUvzA2AE0Gor0c4Sosiaxa3+f2KLahES2KdLBzuUxU9F+jRahAb7OLXTkaiMEzoOjZHPzE0q5aJ8E0X4bamq06M-sFW1LdVvS0oyStRm+LNlsa15a0tsQ7GZlva1zRRAngJ8DxE6XNbYhGWz3BA1oAE1qAp0lLXlujXoik1EWkBAtonzraXsFrPVSMpoZRa5tqS7LZtqNDHbIVNJQ1Z0uS0zbUtp2yeXrR22+D0skGi6nS12LOqqWYBGbQdvn4h8bAs206V1sPpLaRlJLG+iAkB1oQIdVXWja0uI6zDGAzQhYZ0LRh0J3tXKhrX9tS1Q7zoD2n4XdpyG1UKtB2x6FOCh1LDMdeWy6G7wci47pWTaZ7fpsYBvaLtQrAXETpyg-a3kuUYbQjCcjBrltBKgFUSu9r0rv5oVC3h8CsVo7jV3OkbQGvybvQJFRCYsfuO7VfDcx-ganSyEGWq7+VL5C3lvFsQbR8dQQWnfTsnWFpqAHLVAtLtdWaBZdCgTnVihkkCNiBLA3obrBwFyFn6+NKkO-XnKJtj2HrL1iMj51m7OYV5IXWFJF1mhxVJkGkJMFQRKAM+PNIgUoGPpAtFoOOqQsfUMR2tkq6Y7juIDnEiLAg1UCjnVD5E0ytyexA3dTu3BB7H290Hlmlx12li9dThdpnYmyFm7aYDOxvaewSjM63AT4ANQLgH0h64CahZ+EqDTb6VghTsAAJzvgBo8+nSnroK2Ds3ka+kBCFIpBqoVA9ukHmwL+GPr9yBgliFYDSIVSmegQHfYoERaIsqoaAF-WOtXkXyiQ9+6EQbKiA77+VJdA0CiIqEqBzoVge8PviR5uzjAf+vfYAfZiz7xgNgAyqyr3iOKdKLi8KLXD43A7HtinWnX3ot1oHnF2aVxcPsfAKAx9wEaQE4owNSiM8C7WEPLpyiQaTC64coHCAsZkisaroJ2B2wvBbA02DB7ZTMAcAwRiAkG-4q+ExU3qWIyERgOwYpAjEim12fUYOhB737twd4e8EIaTZCtrA4h+zm1Diq91TQ9+iVp0tdDrx3e2G1wf7GrXZopOpQGTvhrRiWGQe2nHqURq42cb11YuNwxr39hyGFDTUUAMobhB3A1DJgjQ1obvDTi2NdGuTkYa0NdRrD0vVwVuvSDRGYj94KlrFCHEk1sjd4N-dAaQPBC9dkqgFaKo0hx6Vi5hrldmJT3bA093KyUUuuL0EBaqNZXhbbsJa3YVd7e5EXYn8ibqXkQh+XYi1bGKBS9AAHSwBUrpVDhsiD0VCbd68qSVQSKZCf2oFwjMWWiGMc6UTH2xUxkRbMfmMBCeIknJY1KztG7RCAJhc6FFwkJ3HQAAAL0TqgBZjUQBY5cfwDLG89ax14+c0IRbGVDERllk7vMI+5hgdAY8GqmYOoILVUkHg7JD4NdshDdow0MnoMNSQdiUh6nseS7hpIejLR-eP0eGVfChjgW3MragsLQ6WQlujQuOLlSmitg8TDeLKwhadLGjhAg6K6CsyOEhCs7f40-k6o1km+zteE6MB9Z8wnY24XI5KeiCGb1CybMYL8DkPFk9JfYiU9iZHF8oG6kp-VnzF9In7bUkps-ZkdKM6ULqWh7GHmoTRHMcoI2ow26oyMNtuDvBoJZ2wEPdtM2lkUQ5KckPSHlgWR2I6qbQpWVEy+hiQ9keKN19LTNoOo8av8N+wWI9hy404cxAuHEEbhkwR4cI0oxvDEmnSd0u5U-6ggGhqiaWoSN5QE0txIkZIHf7RE0AsZ108GfjPWnsjuhhVnkZPEMBCjcVKqLGfLPxnyjGkEKVUfHA1GXIiZglhnGnkQQCBVAXk60egjtHbAnRhmp3mJN8nSTXgIZWrruGUmf9rgoICqbVPrgNTIxvqGefDOXm1CeAeU9ieiBWM8A3xqTr8euOzUZ4tLXYqUF2KkBdi9LLBg+b0OpQ6A0QFznhHJmLGPzKx43Za0kC-n-zgF+FQhaQvz4ULwFsAG+auOhMHFqF3nH+YwtVQgL35wSohaqhEXUCAFkizy0gs4XYLigfC5RYItXYaLqBUi2hZYvEWOLdF18+cZgt-HmLqBKi5VlYuCVOLwl1nMhdotYWoLlSH40JZ-PcXqLmF+3fBakuiX2L24ICzoCAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy2cRHemoKiNRj9gQfRYL4hg64saSDIIYUJQUbjYl0cfVu7c87cBMW4h+sM0RpIyZbYQvh8lF0JuwDwXgr5GJ-q4-uZjB4pMFiJZplCImIIrvI8EIkhbMC0JvZJNSwlJH8YE4gwToEcIMV-bhPS75ZwGakN43FUQ-ARistZwzwnSLGSvY23BjJFFQfQI5zgTkBKCYYZw8z+aHOWaQTJgQU6n0kZQwODBAgyGQXiap3ynm-IYJSC5gZQXguQaSfhKSfmnL+Z0aJJsKEJmRZUZBOhaYCNSMYdo+9lD5yBZskZVyl5yNuSgiltZHDEC+ZxQmrKqU0plmET+IKK7gh5ey8E3Bg5hHRQs0V1LplUGIJvPJBdYjAp7tsu0bjpX8yqKQD48rZn71xQK-FW1r6SuhZxIJM4PgKqVW7E1arAy-yleY-ZYsFCaFxLKvllBHV0suWkDIdDXV1wWV49YNqZmKqNQ6oSc8g2uxde4slTUuQdI2QGwMozGXjOZeCNpygvCcvqrcRqhaM20scUXJBBb03iupP3bVT101NXwI00JiyXCVN6Xs8NqQNCEBBNyVEiKc6l1zTcmJKDB3DqgSW8wcSsWrI+SEzNXaqHOJ2X-ZtHkfpiGVVWjdJjeEMJSQ5EepAD36CIP66t9LE1ZFvZajyur9X7pvYQO9x7r7Pt3eYa1l7r3PsFQmG8f7oYePMIIn6+hTnd2zQy2RFdTlWWKDgum2cmZyBZlAOAiBkDoG5niABHlxY1gVcg-elZ41SKFpGUW5GzyS3arHZSpRG0y2Us0Z2ecu7seBFbaSJCSnsKPi3NuudO6x24NRqYKweMHPoLa9BNioH8edKUJj8LlPMFU1olRVG6A0e48PDRyj1Nsc0y0U8p1UbCIs6O+RcnTOC13pvDTiotO2fc7G5zxn5MmWHocxJLyFzLvOVZrzNmfgheOeFt5K7xH+ZM86RTAc6l+Ii6u9Z-cBOE2zluTLmTIGfS0Hqru+E9LTG8ekvxDSmkyfuVeFzaXh4+s8ysbzPwOs+oNTGqeh6NayYC65i26bOvyRiwuCtRnUuKnS0MqLXXptguBnNwLKlh6zuoCO5LeXrOzqaUxjoWh9BLsS5F-uI2aNVbQqCyT6M8n7qG7LG7kxTNmWCMgmydkHLOWpL4Ke5B4ZeR8idhVGGd6ECHU05E3AXtCQHNHLqChQuVkaoV5Ekwcb3oTEd-51A0c0Ax29R+52HAI6va6nMz5-jI6U56-A5Qyc1Ip3QHHUEYjvlWRkYqEOztxIa+zqmzXYwIyRv7ajB56AebF2hOJWS87lbydju71XpgvfVxrooS7jMy9fmCbHj4s05yme-IJfPNsrfNwxHTU9Y2W7YLLZrzQxwajDBRF8hovubnhyg2y9knIuCHpQXwJAweCBh2wXwNUcyQaHg90WT24MBMMO93HQUL0vdT1+63sRSguzYHJZoWEBdfTfTOD9pywjve186JPdjax5MAznmvVMWgBdJSk7TcWwu-KS2u5lcnI50coKQWscGJZncxW8-5tRKud5o-nko03TtfVn4E+3r2O+tba+X-Qm-sXO8X3Jvt-NtO9eNunpf60Gceq9fRyl7K43rTjJQ93oZyRe-p8KfQEb9VbVDUp5X9cdpggoD9K9+sPMLVOAz9v86cwDuddN-oDxADjYm8JRQB7lIC0Co07U-Nr8qZ4CVh79bd7EoDg5MDOd7kgpKCMD0YmJCgf8kD-Qi5L82g2VqV9B5cNp0CCDBs404CAsmD49mCE8UlG8HBd4F8O5VkEMc4i99A5ClgVsi8VxS8NwIRIRpDn5x5ag4RuApDq49CNQb5L4VC+EyJsD+kZVuRGBmcCEDMoEd8cZ78r875WDGxJVGQ+sgCBs-Uu5RC8dEMH8w8n8uDfVVC-RC9g17k1gYd94U57DW5+BNEiFURVc8DoDCD+ULxeCihDAUjHD0jtF3gBIy0IjeUeCdc0JAN-D7ULUzFmDECudTdgtdMQFSjDNltoskEmFHNypilrZTF4izNLFxRujLMDtVwFIK5zM1NYphi6EPsrxmgi8AoJCFltNZsUt1pGwGtGQK020O1Y4mJGxuw9RfDii0jBjlNlp21fAgJYhGxdCPl9DQhGRjCZDBhLiad2iD8Gt69FQJckixZ9d5BDdbxuQ9RuA3iX5agb85Nu9tjbMlth8AtR9KFCZyDJ95cD8plst9thsCjphkTz9OJtNfMQC9icZGx0ZGQD9qSZx2Frtb8mJd4RMW535mSuSVjepax3smIgpGCtiL9bMFjnCnMMSaMcZOTljMDSZJi7jGBljKsVwD9JSMjypWThtb9gT4CdQYgoMXBe9Oj9NtSh9p0R8oJ5TxMFx34BjFihj7T1SVgD8nSpSdSzoZN9SNSRDIM8AsNmYlA8N2ZCMuZLBSNoMS4J8vp4YFDQBQdxJ2Q4yKTS07hCslcytcluAgTb8sSCVhVcgmcWds5xVeDsyck9U8zHihS3V+0dNSyRBWcCxztEyc1kMdwZArISzCBmcWzyyX1F1H4StskVd2zCykVQQ1sIUezQAoV-0Q9RzhcZBEzCU5zuA0UGydVRzpdISPM1ypy0QZyUV5ySV0zrhKjcSN96AkY8VyQgpa0byG03h7zhyzdgZFT0YOykMolvo+orIXyPyu1MD7d7yALzxjzN1zC7QfyUSL9HAvgPk2pwTKwDcPMbTHyi4bxDSTTUC9UZxIY4NMTC5KFto8Kh4qVkLy04dskM8IhChsLKEsJIZ6zzhGxKAw5FVH99zZcjVGQNjozRJKjiLlib8ntEyY57SJKGJQ18LIY+TVdslngmL391URgaYlzMY85MDlK85VLVV1LnVL4tKxTKTEYwS+KoTxLeob8WB1hGosLjK0R94xAuKjAZLwgUyOA2oPLTxojosCZRLslPLSFZK9QO8HLjA0KV9YhmhfL3LVAwrj4BUAAeYENy-yzoQK6zX3CEAAFStlABuDoF8EECvV4CVSbGj2oFqGaHBFAAAGpsDaiDY5ohRGsvLmqUErIerSTYh2q2pOqAKJhXcWhSBzJCriqZBiBHIKqxAqqjUmYaRar6qUF+q2rx8OqZAurwrwgWqG1GqWqBqYghqxARqAqU1JChMsQ+TFTliGLyQqLjMA4rZsRnLpgh4ijbZbKKZv1FQE0lDxK4q8rXr0RsRTrYhqL8AUL5prLMKu8Brmhli05toQaobZhr4rqoaUb7DYL-wvKbQ4KcqTdxDSC-9qM04uKnLPVwiEajU38yTJrvtHqA86BLZyhQA5C49tRWj7lGxIZGQoDiKSC-QgofroFFLxLzsVLgSCJFKU8aZniMxv9mKExqM3qiASKaNLyn53jVT7SHr7TeonqkQe9wb3qdama8wUlJaUrrYIqAaVggbg0HbIreCtNLbtbTqYa4a0KMLY1kTeCUb7S0bzUvLSTSh4JtoArepQaFNqR8aiIia-xRqybacVwBwqaUyaawjcQGap4baih8q2bftOaRBua85I9mTeanxIxvdYxBbslhbsjRaAzYwJb8bpaZLZaDL5aFdsk9K+7AYVbWI1aXKl8taPqAyIogzH5sN5BQy2YCNOZuZsB8KUcid0dMdydsdQNQiJ0uyjdKcUFAlt6ScOUQLz7idqBScich0Aj1N97TVu0NUshjcPZCpUcd7WzMiviK50xa05gG1Yg5hVxRcathUORQGYgOQIH69a0MJYGeANwEGgHhVA4UHA50GoGdwNJFZg0G1nZg1nRIGGha1uJDAh1yBY9uAqGaHyrFRyGiha1fdYHfdYwWHCha0bguKR4WBDBxU+HVABGmYVhuHYha0mqUHYh9B4ZuAnjAQAA+JMnqphyRmIWtTyWRmIeRxR7y1R0HHyDRxB4VQw6YfR0AJRgEIx0ASEaxmITR4EYVYAXRgwBR6xwxtRsAUxjB-BgAUncasZsbsYCccdAGcdrXElkZCe8eTKlCeLMfwYAEJJRYnPHQm1G0mgQkn-GwRwQ0rgnMn4nQAMqYg8m8GCm0qARdG4mVG1GamKmonhVlHimDGGnQdVHmnkmCnlHanuAih6nbG1H+men8mIQUn3G1HCgRmYgUnYgEz0wCoUCb7f64lxLAQVxClOlhBuA1nL6-7GYVn3gBADm77d6alW4WAAArEwP1LZlYHZ5EBppBn+y+htExY3Zxooc50nLDNMSKVZ95i57fPTB5oEJBWtT-YQBtGFn52onh4VSAOgBJMPUBlFtFypxFhvYVERhgWASAWB-FwlhFnFlx-B-FgAURQepbJZxdrQADlyBGX3HmXGWE7aiTmqQ-nGomFNmARtmNBzsGnto1z9mQXSd8FXVv6L7QWmEntHnphnnRX372yO9eWwWQFXV8KCdNWsdT790olEyCdXo1RSAY8TobnyBqwiiupNAai0JNWH6OBN5n6HB6WigjXA4EQihzKPJpw7rC6wREzQSWzg3HXVxB0kj9B9XRy-qoaeBJW+XzSbUib5do3kY42rn8Bbn7mb9E3NWFW5LPXYg86eL6aIT+Ki6v6UC86xAvgHLwsq3DdfD4xCAA6DzY1AX56alF7cMV6OZMAMBhKVA7yKBTAGBKUPhyobhSAOlFFfyg1lZVYTFF3VipsT1L512DqUEGBjrG1DYLrdrdmCalS-h74NCYKbx13tKSybh6MlctBAUj2AagpyBlBlAqqMhKMjAEdP3vGmYWr9AP3lA05wRGrSgIPQAGq+qWrQPS3FQIOJVtq2p5Kh4VlKAw81Yj2qcD08P58sOlGIhoJ1bAxzqerwQIQer72-FjAn2F8dmjXMOw88OJhKPrBwRtKWPcRysFAQOr0l2lD90V8oOi9dIgsvEK4RPQAE5lJ-9CGk1L4RPwgdZr3lPBPwgcmUF0NRODBtoZOUzwR0NjJSg3yJ2Zxp3Yo52OkRPjJmgFOR5aq9sQkZO5PVxeNO4LszkcsBO1oN3osqOD2eOmAyB+ODPqc-P75NrYxGqD2FTJM5D2cCwB9zkVOYu-Q4ueqQu+PT2bwc8VOccmrmt4QJOFsk3JBsPJJQQG190JXKveOwuAumhh4sI7OVseOIRkGjCK4Iu1piasgVP6uiPQvSBBIr39ZUP2p2uptwQAByA9-dSjhbq986kakT7j+IcIylUgJpHb4jsjxQt2z6FdzcbafbxD2MWtIQWFqyYII6hyHSNeNwYsI6ifDgeEZr1fTr872sXbjvG8C74b8IvjlfUvLbppX7sgJJtOoHirkbi7vW0Aa1215Qe1lku3QJDwFdXPJdnbFz6BeDFcOY-B-H+damPcy7Xz+DAeooHZlH9YNH6gTQMCrH6lNwNj3Hr7+K4eJLonlbWtdDCVI2xLvjeDMHloAJJH-bw+YHeGf5bHtwXHtwv-NzZz9TcXsAwW+NsOoEFcBLspLzynnz8RcX0Q7+xX4wf2F7eKYVmXxuOXhX9nm-NvAJDOugnX0hcD5B4n1Bg8U9tnldJeRHCpNVwPl7636nS9xOjZ3X9SLB338Pq3oDQwK92Pr3ozhnu15njHvqMrooUoViz34+Wnwoenm1xn9H1n+QZ3zn8XiXovq5tmpP4PqPgKRA+-Pnt3pmp84VIXwHUhUpKTL6M3hAhu6MQ0CAqXtW2w-mMPEgZXsiwNMvN333ii1fxO-K1DdmoPAHIk8wefq+u9u85axfw71rrQ-nqbXCjfoLLfgJKyQPf7U0qnjyN85aqHFJC0YscqSgfAJqRqAMAqCDB4M0FQ-sryM7f9qo2lIASPBe7aRyowuUAUvzNQjB3+ghUfrP04gGx+gCgJziQBbIVAIEvgBfIYDZBEDaGS8QwKSGgokNXYZAvThQJIH+xqBTwK9lhHRpQpS+cjQDuPlwH4CwSTA0gXwI+gIQjAXAxNrUSEEsDSQIFaoOVhtik5pB4g+hpGEoEyChObtBgb72kFCxiQbAxOhwPNQSC0ITwBpvILICKDrExAhfLoNYGXdnQZgkZjgNEFEQoU11GVCILwEyAIE6sYVv7jfZFwfBVAJGNMkCAfQcO-A55qfQmDaVghWHfeGENwGRCPomg+gV4L07qFE6Fgi1v0CUFqDmBkbRUOjQyGl8nBqjeIaEJcH8dqhYg6oX0lHZht-YQobfKCFjSKJ6GVAamCpTpIoFnoRxYmC9EYDEUOhOlQGMKSLj9CUyMLX3k0PPbkxfEIcMYXyHYEhCyAjAPhvxGeiKlnoHeRYd0IMpI9eI5WDYaFGSq8ROhSwmmNBSFpGcZASYWoI1V97gh7hewR4Ve04KdBY2XQriFQHCC+8haxpbIakE6jfCTYswyyi2RaGUg2hIBC4b8KuEqUJuqQLCLxHjiJxo4WhRYXp2OHrCGAmw5KjeDRHcC-QN4bESSOdC4ilkBIgPn8IpE4tto5IyQYPQMoS8XhDw2FkjzhocA-+qpLwfIykpaFPG5Q7msGgQp4I+gRaEeIwCgGjpZRzgbgDL3hEy9rhUERsASLWw0hncjIKkacL4jJUlRPw+UfQDuTks0IKolShMOxJnDNRfOcDq8I4CwtfeWQoLNyMkA6J+RGop3O7H9bmBeAMVFqAjDBFLtzqtIndL6JcBpQkhEQ7oGyG6A0C1RKBJmECDSg4g4xfgbcpPWTFgRgw44fSKKMyAwdqQSPQMfLyJBtxgxvQ05qAG6CMhtoaIq0YGlBHdBwgUHdDEWO6AeweRoAAqgAAkqWDAAAILgBwAVLAAEoFVIAAAeUZbIAgQQlBSpIDUBwCtImRMEScIOHYwUBqoAMTKHhjrj1henKMaWOD7wC1xuoiXlGM6ALhjR7wbSleMyArif+9xRMn2IHHDjRxE46cbOPvGSAGAJ463meMZgHikgiZKMdUP-x7iGA5YiFBeOe6rjnAnkaoZ-wWTehAJCE+4rqM3H9Rz+tQ+ITszFyLCqqKjAomoBMBeBpRT4hASEiImWRUGCQpINhMQ6zV9RVE88WsMYnLD3E3Y97imwcDlZGQAABhOD4UagjkMFBkEAHq9Yo1AQYFdEkk6Z+J2gIELxMUkO5SAPVPEI2MDCqTcgSk0gNpUJhiS7MVieYRjFUlk8ZJkEc-lhGM4NosIFk6SeVFkkDczJDQ-CoEDkImTxQqQaoNkEkn7EUCjkodLtmISyTBKc1CScIksnOS5JTEUPIEEaiOROgHSZASuATSgjQB9yUoEZMimKJc8AQBSTFOyiyTOW6WFfoQE5aF8tCfApKSlNPbi96RZbRKQwGSlsAOkN-Sqdzy2ynJNik9Wqa1Pqm8TxRHkCoAQNCCtxCeD-MaPZgxiqjnqKSAaW1NSnF178mUmgsBEprtAvhowh8KwRdo4U0y9yFgm0TfB9CBhF0IYW9FCpzTLRvBIKCwDTgzCdcpQe4VGFOrNAlp9U7Ye-BYAZ1Va0EE6bQToxl5-hBEUoF9PakNSccanSGR1MvgPgQ6-0HKsQGCKgA2I5-OGbjyR5ND-xosfss-D+BmTTaXEqsVSCmGgBthr0EYRMQhh3TBQf+fodp3hasEgoDgTqviLOHnRVoOwwYR3mZGFBTwTEo4K1Vpzj8BYqvEEbBlPCc5EWeASEArJXAHFBhF0nmdTNCpCyuJaMh6SrOZngRxw2U6UBzJpEdCBZlMwYbzMumi5oINsvMEiNjCmRIRgwUYZrLMotFxZA4MaUkVSAhJNZow5WpEFADyzFZB0yhOyLeGcix+lEU6RujmEuzOgwsmfqO3Zm7VOZ+o2NnuF-DzTJ6tw9SA6PeErZw5jo-PqsBaDbSsghATOXp0hjIi7MGcsGVNlxktCCZHyImZXP2ZZz7ZknKWZhBoEQjJceMzJLDVbmPBCAv4duaTKDlgAFZkIWuaiKhSycMRKIrQmPL04pzcQNIokSYNqJEjSQTUooOvLTn8R6x28s0dMHrF7yzZKwZWleyLmPCSxqQXiWrAEIPlJ6nZf8g0SNRAVJJC6FwG8HAT+jxEw06CiYmGkgVVJwuYBduN55u0XEdoMBXp2u5sBkpvgWMrWHhBXst28CgKR4P5gE4-ET83iYqL+64gsJoAC0QZTJkCBwE-QRgLxMZCeTdKiiXydAmGnnEUCh870YyGayHyaRhohiXQH3lGh6AAC3zjQqEBRS+QQihoBQvGHn9OFvObUXcI5ElyC8BY4vJv2nyNR9u-k4RMLnEV0KAp9It0byOjH8cFFWo8MRFG7FviGAY46yAABkqWc49RSJKHgsTlxvEvJGQuzntF-RjUUsSBI5y+9jxe4peF4qCWXi-x14yRXkhAoPiFwES18f2LsWOLnFv4mcABNiWRLoKtQzNoMDFzgT+RpY6CeWArFwSBZkySSUhK8HwgSRRS8IfxzsnfyOANSxpZ9yR4E4IlPinodArwm+CCJV4ehSMwKL4LJFuijGD0v7pi4PFojbpRxMEVcSRpDcF1topIX6B+FG45YWYsTL9KqAgyr6i3RGWxg8liRQgQUIXy8E0JbE4CZsvWFMT6RIorpZJLyR3LOJytYEtLQyE4ytFU7dZft2wk7KqF5Cl5imMkA3xw8X0OHuCHLx-LoeddDdK0FBU5j1QtQX3h8k9TCIdFAK7ZfUKvZIqHAh+E-oITh5fLGlyynOKWKWhojaB5KKbmGJhlaxxiZ3a+GiIpWNpgggAoCSVMYCBLbxd+SWf+L3FLR+VxdRsLWKBAlKYJIHblRzjRmNgv2k1I1Dco9GNKlW1WBpckO6DwTnxdANpbgIRWFAioOIHVdRL1XITS+bXWVdwBFGKrPJVeWVTsrHpAzxCYafmB8E5WSKhVQqioPuKgXkhCoCyxkP-LPC+c2F5Ie-FSrbkLKNpwi6sRKoFhQTpVF4+VSgTtXKrVJ1Q9VXpE1UxjtgKCXifqo+iGrYgxq7VQWuqUWr7kDkySTau8bpqD4majIc6v5qurR2sA1ScEBVXQJ+VtK8Zb2t94drJJMqjCcEsTqwDbxI63VSBQnWyqp1Zq9aB6sCDdrvVfK2VWPSihsB0Juq5MT2JSUfjxxk4mceACYi2KD1X449TqK0K3i61DTa2NurNX-EQiLgcEBiC447lOIQ6x4P6sKBLrGoqk16IEvDWvAUC962JYyFsX2KnFJ68kJBrSUuKa15MEUWBq8Vj0gor64tA-Pzr24bm5OdvH2qULt44h2RN4LhpRC55Ah5Fa+ERo-UeRAMpGx6Hknw3QLOp6Hd1BW1xBUMyNbZZjefzoFZAaNbqziFAS42PQKNiZdfnnm0qAZRNKIJjWnkTKsaQKNQMQAqn9g6LeNk9STfJXwqkb8AfkhjXJsBX1C+1HGnDeTkM2mBcqq+MlbgKvZ6a-J9G+gNxsCKWa-UDgmILCp0VQE3NRKugC5trxYBrCtRWzakNpjGrwQN3I6l5pIWvlnN+muVaOy40Jb9AsmqzcZoyGma6anGlIC5vERpb3NzouItkPUlWCRENggpS1l+XebsiBW1LblsY0d5QtgkFCA0BFHJbHNqyUBA1rk31bDAAW62Trma3-wIt93KyDFvhX0NctCWwFkPBU2UYtcuKzLX0q8FvQBlwrGZUcuUZBbFQ-GqfBRi0BwrduyhYgKpufZHamkIfK+b+rmg8jVVyQ5WrYGC2r4TF92iITTCC2wR1iwaVrbriHr1D7oEWx7tFuq2xbuA82rQLNp7zwwTA-AEfm72goH5t+9bRtichbabx2VWfJnizx5LU4Mt5KycBLVW34SNtfoW4dtr9AIxYdZ2TSOC26hnYoafXWvMsOkUGBKw1MQxpIPyrs7RZZ8nfs-3okzTI8x1T7cFvBBY6q+6MT7gnWjq3b3RfIxpSPRWF+hvtmQWnsNsB38AIQEunPpgRB0Ha1lk25HhX2z447xoIk9USDmYQ8RiBjIAAJwnAh4DDYgWYqMDrQndNu2hmYv-HlY1Y4O1aYKuBp-xWCLBAcC4BTKCTi6hQZ3bQ30Bzc5uVkNAEnpLXkRW1foGPZD3NThjYwGe73YklVi1C+4HeFwD5EXIrgMZ0ez3d6lW357NwN+G4PLwz3srOgKCtBV9Bficr8duAxMs1s10FMW9tDNvfruYyHb9utXZBYPqYBxkodCyJPhdsglFQTwZAS2B8jDyBTqxrQRkPbyBzMB5eSfb4Xqnb10AiolHI4B0ojV-4McpAFfYknKracRUbwqePCFYIZ6IQ3kHyEn3IUkLE1J+sHDo19YrhX9IXbFccHRmtEWIA4W8UwH-4qwR4wgYARstjUNAv1jULtZOtnWjqTie3f6RLLZ3L7Yat+0APfo+S+Ut4+02IK-vBDv7vITIXVYIHgO1A-97+-yGAfFkRA2IaehoJQeoM0H9ufBPnEzB4PeQU9wUahi7ogn3JahByq8OTtOrAH1lzI2nSAnp1QrsJNqnnUeRGbL56RE247a0AlRy7TFEEovPfGdURiCK76d4I5FVjVAio6+qkJvqBDb7He++rJMYAX38BT95+kDdWMhi7rdDe3Aw21Du0K7khJhtDXRiUJ+G9O4IByCVTOFzQER5AWSNBHB4Nd59ShqeCoY2Wh9NK2SZnR1A50NNl8JY05socozb82K0oCuv7E6gMB1AIgDgKQHd0YoiAx2BHTHLWmwZNeMcnw+TJVlAgqZwwm6dNLdni1JhAxlFRBE9rVGBytRn6PUZu5NGCpXEpGbkEIBNIfpZ0XYWPXdmUR78FUpA4DSLhYR1jmekYI1LHYbGz29fNGS6vGOUJep5eieu0TOPYzIMc+nRXN1lH6A+dAAHSwBPz8l0Bt6MEH45F5FGBjHHGhAT0KJ8DxgGqJ8fWXfGzxvxs+QCaBNnL-Yf-UE2N2+H+9eAJ4DvD0CwiEnQAAALwvAxAATXrLEyCZkBgnCj1jbgJSehN6RYT4IK-SvqP47bsCUBIQIYGsObhvjdJnEwybxOZMeupPI6iwCOrKAjqsLSYHNzTB4AkT0POPcCbFOMnJTFLfvTKblMKnPuHJ-yEAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruKHr-WRqRmBiAkCtbcYI1FcPZH0e4tce4JimlhCJ4QABkyTeg43cSOKJIMgl+MLvDbemT053ymkEkJDAwk2KsnQbeNVvoj3qr4PRLiGD4CATU6eRSV5322oHIxP98mpAtNQMQdBp50HCfzWxr44aBPIMEoalSIlWWGaM8ZOlm4NPMKssZYDhpNKcebIxVF64ZJvL0pM7jg5D0Ljs9Z7dU5dNiKckYN4+kaPZv436qRjRCBnBUZQXUyr0CeTEWZMTylLKmVZX5EzQaArnllOgdSvnmFhf8kwQKkX7OaUc6ZywXmDHOWcy5STrm70Lui+FWLYqsKSScnpJK7TvPJfU-eyRUgQOpYi1EoKjbxLmQs0JoIqmgHBFygFNLnAosLhKzFPLyqGAOS4vlhL9DEteaSqZwdNnstzm-Dg3LgWMDpdqhlWiLnMq1f0gZWyOUVKaiwchDAj6EECG4ZwqqSmCshSK5ZYqw6g29NQVEMq7XAkdc69cS9-qGC9VopWSrcWtPadvbglq8WstRWiSN5AGBOOEL4eNCZH75q5F4bGmqrV2jJZ8wZDARLFpNhCxZfroVipEjrKgxB1lhr1Z2117rDCevpTMxlVbM22r1VNN43FUQ-EHcQD1ILR0Eu9S24VO5-X40KOCWdIbnALsPm6pdw76B9s5rOl1x7SAMBPbdM1Y6tFhIbZUUVc0bnhqvYO4B9A42rueXfF9gQZCitJJ+vV36b0tTYJM45T6EzAbff6nQU7OZyLaLWRwM8ANgvXWU1tW723gmMO0S6yhiAXs4qW0jWGKM2JFghwMlSSOYfI5R4WUywgQc5rR9jXatDrP-Y+2Ia6LVMsnTxziVRSAfAEz2sBDGhJqoidxil4b3Uzg+N2oTSnzUJneWptl6HUg9s0LiPj2G9NMftWbJTUnvkOrk9pwTinVPKfXXZwzdbw1TXYB4CtuG8NaNKfM31RH1FWX88oLwVGPKlui4Fx9YnEMivBIl8EnGjEOfMIl-N+BC18v5YGDNVy8m+aGYQQgIJuS8qC+Cgjm64ORPBK1GrSK4saztdek9y63H1fHUS61HycsuDnmIYT8GUslYk+q4bWbC4ORaqQCb+giCMem7Znx63dWcxk3J8ba3CAbcA+JkYO3RvjQOytuNO39OBhvBd3e2btHt03K6zRAqN0VJFa6qyxQUUvZoWQOhoVGG8UhhQlBn3AwoKyeCGQSZajglAFbBHSPhC6RMi0donR9AQ84eEK2cOYi2ymgnfHVAicrFKIQ9qQpf3vFARMynkTyGROh2T1IWFeIpLSQkrG7P5pFFKMDpIiswdzbtLzumr0bxC9ly9MXoOGGVsGDLnd9MijbQV5rrXsRofC9WAGjH4Jyt6uHbHDglBsp+0PjDlwWFD7cC9mbNDnE1AmC8C1RgFpiyer99pZw3AyOkFxAT0PuJodjUbPQtQr6aSwcZMriXqvI93ooYH1E3A9f65iOn6HmC75x9UAnjI6V1KI72Mjq2NsMbUlLtb23FsBJg7L7B93HleDGHHjKQ+rOHevYatY7avPO-mDSjrM6OI2TdFGlBRsAigRpRn2WXw4HulaKX2BYM459LWxmqAZohhzfob7wwIkbSB8x7-QIbojJR9U6LyFzlc8cThFKOCAHR-QDdD8db0AAAFQAAkABRBgAAQXAHAFAIACVADIAAB5AAOWQCBDNhOBexkEkHjyz2cDjWV24UH27xBmjiPlZ1oSN1iFKEnzIMPiGjwL-QoJByoJiGaEn06AXEYPeEuw4MyBajcH9yYMHxAPAKgJgPgKQNQN4MkF7wqHoJWm4IIMlhYLiUDEnz9joIv3LCv2Vw4Va0EKD3oE8hlkB0Lm9EUMMNRGUK1hByILUJcBlh5j5iVk13Z10SOlzxUD6Bix9wEK0l5XcMsnvlsKSCIMV2mGwIYX8KEPeGYLCMoRvh-gANIAyBBlyAcH+kZAAAZMDFtiBHIG00iWoqt2tYpqBBg65iiMiJltAgRUjDUaisiABqUAPEZ-BMBo9I-ATIsgS7UtGoQoiBV+UhSBLoko6ragWrcqCowfLCL-TLe+A8bIYotrKY7FCom0O0CBLNF7QIDpEGCBVIaoFYjgOBW-OIVY0o9Y8os0a2Aooow1NY6Y7KCo5KckQueWEGRyToCtD7MaOMF-N7fQf4-GUoAYh44Yv7S4p464l4xgWY-GZoAXZYj7MEpYzcL4hgH4tgCtbaD7D2OXQIb434qXLIAk1gpoFoY9AKTfAzYk7E0kro8fFwCoNqUIVpNxaEtBRI5eJEcNLEnEv4w2QUYUfQcnN-B8AE-sMUzDPHHkqUqCWMIKU6WsJiLMZ8aMXPeBRBZ+MuZBJeEEog9Uv0LBLJMcDULw6g72ToYwK0tg9kBkoUthUuB5WsKuR8ZiLAaCCiF8fGcFLCOsXPUoQU0k-EyYUxExR04gEk3EskkEyYXPZoRHKME08ickQKO+UMuMj7U-TiOnFaBnQgfAD1P4EYheU8ewhfC47BIuPU3vSeQpHkwvckAcBBAAQh3zwUghXCCgcCFFxBLxdJYQ7gHg4XtMVErN5IRFR0KF9P+AHAlM3FPAjIiH1zwEhE3JXHgT1N1OYX1MYBQVnjYGNN7Lvg7K7IgnRP7JkEHMlzQQnIaDHlYTHJQmglQk51jFMmPiIXLPfk6FPLnM1LtjFLZKIVSBBSnObO-meFAA3K3JWCCnR2r0xwCmAqVNOwTALL-PPinJbLnOe0LhvLvNV0ID3F-Gj2KS0ThxwWQo4ExzRyr3oqxxUhxw6CyDIu4EIFJGJyXi52BLIup3kmpIASLJLOHTLM4p4Aou-n4op24qEoWgLMATvXEuoEkt-CkujzgrAE3MhH4p5zmlAFSVex5x4pp2lAHNT34hvEEoiMIkuQUvstXGIussYVHzxjzz9FH1JGcq8sN1tjouRzzMcy6Llh0zAUH1CyFR+yIwiomSsi6M6xcDeEBW709WZIcPSQnVOIfEu3GILSLUyqoq+y80uVojSODithY06B+N8ECVSMo0pOaFKwqrOJ8z1Ta1xDzTCq6JD1rDDwz1CLoH6rICj2-hv3eAEEBX6EYC6MZH2O3je1GOOLcWZKYkbFcvdXL0ZB3VcqHPT0IMfNeHoDSrPTcRmqEEeM-mOtiAL2-g6MDC2qXR2toqYprwsrr2xyURrG7QYEj1yvy0K0urmsqr8qKEtzECb2lhb2esTxG2ewANEIYFgOsgABlQC0CD9Mg8jw0oj48uibDaEqy6Snqe86D4i6BKSaDZC6ChpCbKbmrxBZDODrq41dtOI+CFwGaRCwCUb0bMaZCZw6aVoGa9CsqnCLoRAXYrwNCW8tDL9QM9DwbVxwQuiTCLZ4QVbmatMW8FjEq0iNazp4QWTBBSjcQxaVCEjKLSbHCLZnCqBXCrx5qiZZyCIuqWprrcquKraRrpztb8bS9LbhqiDTbh0FBqsQYAbDrfbuEp97pB8nDNYnbIil4jo3bnRJaqsiEKZloZa0ILCYijC4iY6Q7-bc8vYPaGbS7ibpzCTU6lr3YQrzBKBfASAQTj0orucsY0SLL8TO7bYzJggO7CArJbJ7InIXBF0+t2Q26mrLs3gpZKA41-iSrm1AyB6LKbxe7vrSBzIR6x67IHJnJqTetzqVB6Al7DBAc+E7UBE5AhEoA4BEBkB0BJE8QZEPIfqzxu1RVLpKwPMgT5FFFlEaBVFtVlJSgTp1FlJkTTZCkklIHgRnFpIcVDk3ScNlUFw2k0gEHtVuB-7KSHSZ1b8-kjUkV3EkHv7GdtM4VJUFUV121CHYHXs5UEVjVKHnRadTxlrxRyG6smG6AAGWGpo7k3MIGuGWgeGxGWd-VmHnQ4HGc51D0Fxp7zrOHFRuGfh9151VGb1T0R1BHhGFHXsuo9FnU1HDGjEkHS0w4txc0M8Y0yBJsNFtbYwzGnU81Cr3E3G-R5HFRFHLN6NEHJHqGgmcM2NsN5NdMkkCGhGiGf8-Ny0NGLLqHEs-74mRHUhG0QnNGpGfgcmjGEnFHniKHcmLKuqQTQGZ5A1LHGGjE4mAHfGYgX0cGP441xsXGOFCHimWg97h7-UbIj7J7qRfAJlyBD4vIfJv6OgtAzDw1KmVZOmhJFzudE4FAD1yY7HkRVzDRV5za711nNmQZtmHBuBlmwx5yQKDASGI6ej2pTmqaRSL6pqrtXr8mf6tBlZutvGdnmmVhlL-6Dx6B1l86vKDduto1t5Y1vmqb-m-ROn4XnRamhHgXdkWcdnPTgsvtO1WFtqO8d1ShcWGJGcl7Rh4aEnYhmgLTQxlgrmMKh7NwVYhmJ6T7Pi56pmzbqtfAaocxCLw1WmgF2mR7DBGmRSgoltOmRWiHSgvrsdAzqnlYDxrs45XUwgxXfHBWMG41NNltVs1Xun4nTbqGdGVGesh0rHIlCGsrSlGqqnfqvmoM3VDnepYmWgjXjItHPmZ4nXb1KQfH3XjGTGZnf7fWYNmtDWAHm6p6eHwmGMxWxpVmXUI7W7hpIngmuNdnEK74aXNQMzgKk2upnNmBXNZHM3nnhI74Q2vn9tdb4rmt1XCG0LIw-SGwLja2dZ1EMHdrYxq2anlW63S2G3dom2Vwk3iXHkO2IkMGs3TS74p2pkMG0zQB6X-Sq3Y302Z5c9dWXMFMJkXHG34nl22J+W9UtWHAdleoDiTtMLm07Nr3qbsa2BqEsYoQL2PVRlag4RuBz2akP2NR4yH3jgyJUdQ5w1DBuRGAeiMV2GkUunE2xSMMyMrMyVpSYhF8uNGRwnomwEunl3wUzNU2433N0S5WAmuXfyIOrroP+H8ClXZNB293h367XoqOoP+BaOmCaNN2wXwXpgd2S2mOD2dVm3KIMLsXm0qV6GOHym8nKkpP5VjU0GVUyUkTWGSE+HpOymJHVwFIRU2GpVbcsGrlNdmgMCMzT2-4eH0m5H4nJqqRCrEFy0gai0kkNqLjuw9QsPIPWkOOtPrCq4CtfAgJYhNq-3h1P3QhGRf3L3BhPO1NASsLFXCrfHAXUX5B0WwR4vuB32IuNRRXA2OqrOCmxYMmAGsrS0J33S9c+3Rhe5zWDH6nXHbrCvjXpH-3QXbPyvqzXmP5GRauZGZxTUGnCumIdllOFxWFBuJuA2P4xXHqXAP5o2PneG-hOP+simxpxuk10HWEDOGHpZjPYmVxav9ulPhvXHCuIjR2dRSdC4TXSG6HFPtPItCutv-2JuMH9AFPYPYoduVP8GTvFWfvDOTUO43XCHruj3ntb72V775AlAn7RFX6JFLBP7zBbX3T7csrJmcFVTiBlvbG7VKcnHZNuAUu3u160Q0tcg7nygeY7VMtc8oXp5Y1yegv5v1Np0flFBiz6ftmu7vtKkZAYVef7mVow5krvZIXEVWfnHlZB8kNQMRe2iOaPJA1fnFfQRX1lfuAN9jNpNusgWMvQWZAte5MQNlZuBUNCeI5X16vWFF7IqsqWMquOMXml61eMfsmxYvuP5BfGtYrwEGJErfeP4pe3fSXFN-esrSt-fjXHAvhIaXV0uQXFNrWqe-wQToeDf1eB3GzOkM-bbsrBgbuXtyMk-I4i0UEE21zRNEvAwsIa-Rvd5GxKBolCPcRje0+JlGRzOXtbHDT-u9QU5awb2JPHcsZh+Cv2mvfxYl4Ju41KLChi-toWzc+NYF-hXl-6-b2+5Ll1-0ep6fz2pu-MujAsGZ-bTyf1gQYi+G+0RLoxB2+L-cURYcEOBY4X-Twlg-RRcH47eR5afinHVZFxb+KfINuR0-7P9GE0-cIAAB5gQT-b-raUpYxBac-TTcOCEALOJQANwOgL4EEArZdEuHJsNcVqDNAUcrRR8sPljgDlX+hyEWK0UWJUCM6L0WgWIHoE-9Eyq4UyJgIhA4D8A3sAokQLEAkD92ZAyYhQLFSgBqBWuDgfQLgGyCxUVkZQTQKsR0Dbyx5CYMtzyifc6UWDWvh8XDT-0KkzibEPf0iLgdIODAlxFfz1AVt-QnmHxHAPtK04hGZgogLx1egV8SyrpM-qCx6b2lj8WDLJG7Ev5oC8m20bgY+WPw2CiIEQrYlkG4EhcMwY7WUkIyyTt87+KbLvqn0y6ODCgjLWwSeTFS2QnE5Qa2LUlSGsR0K+MRsDRW9j58jyo7ZUnfDY7KwF+0-TobAiRZIgt+DEJfjBWPYWcH+gbTwRYJz5H8mQIyQ7smgMG4oU4Rg-knqlMHohJh3XFcIXA6HACL44-RUOCjsyuCCI7gysBMO8FoRfByfAIenw9YEQQhuKMIRkmOF6RSg8EaIdfwviRCqSHQhIW-w4Q3gUhx7NgaKQMD-0shHfXIRALRbrJChsQYocP0PoVCRAVQ6eJy0G68ttQdQ2MA0LTpAgO2LQ6Hm0K3w2CUEi-HoTfD6EG4BhqcIYbAhqEEVGRe-cYesOz5RsYesgO+oIkR4iIX64iSRNgBewJIjmNALZsTx2b3Z7UgfYXmczFRupqAGzUUfPS56cx5Rio6gOTAVGR11kFDCUTZhL7xlMWfiQqCKI1EnMuRQISpOmBYxzBFisQOYKuBY6FAWMHIO0TEA5COjFcLGDCG6IxKejrRaWMJL6LCT+jpgLGbxJkEWIRi2AzoJ0bEBYzcRDA1WbqIsUTHJjCBioOMS0zSyMs3RjLWMFmOBBpZ6EpeVgNfU4AliWoLAARCsELEsZmivo2IPoGdygBgu6dSZq0QzF1i0snkRsQzBbFtjXakzHyF2K9FpZv20wZsdwEHHHRJmkIVsTEG7E7hwQwAPsQYAHHhAhxcFBcaACXFghwQAAUjXFTjWxm42caAAPE7i9xEIcSI2JPEzjQAuPKUMFzHHLjOyAIO8RuPbGgB3xp418fuPgHHivxW4xATEBfEBjlx8Aj8dwCKD3izxj40AFBLAnXjwQh0ICdOPgmTNjoyE-8RCEOjQSGgcE78fhJwkQT9x7ZNcQhMKCu0Yg7ZWIPbnTAFQLiao45gz3ZSL9AQK4JWHMC4qmixRcPJia8xYlKi2JBYVpCwAABWJgZepxJWBKxkQ6db0XxPd6lZMWhYooMJLNGiTrCaYSKMxOUk0NmAEgy0SKhYy5tFiubdSeCxYyQA6AwaVunaNsn2TwJfHMMcWKoCl5YAkAN0ZWK8lWSvKLGSsaAV9FBT-JeeFjMgXIDIE1xkU5At8JeiCSqQmk8mFSmn6yTpg8k9Omvw4TJTuiU1P5GphNEKjWJVKdpulIaCZTXaqki8DwAMnoo1ML2D2rlO0meolmK2IPoPg9oTw1QAMXwK6QklAx1gygROJoAuHOhmpWojgDqN5R-Nc842DqUcCKCWdOI04LENCJN6KZB8aXSsDCMUx64pa6uAyYGl2HHVmpqUxIftOzrS1mpgafAJJOkkFdTpdUx7kN0GFhTCg2Q5NuZnWk98NExoi4p9Khp3SF0+Q9ZFh3jCEAfp5-XSbDwLDw9H6vIsRJgAwDTDF6FAUwP9TH6xQbgpACtDsRtY6I9EBiOPhpz+BVU+6s2QEaTParhBmBDAVgQoK0EkyDUD4JmszNGJqwv0igG4GmyhZaAH0icWOPsNXjKBlAuiDIL-SMDnNRZ8EgRK0X0DkBRZ8OFHJ-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-rE69tZOnks1w0VDo3pRULFtx24L9AJO-mYdowU9KqRioSGtDX-UUjWZDOiyrzskDN5p8nOd8j-jNjQ6ig6OwSEPB210KWBAO3BYsTZ07xy+9BMWV8yZUGrau0JQGV8BYAgydpG0iZKbRmXDS5lci90mTrl2+ggoSdFwjTr9B07jIR8EwPwBnj4q-kScL5o+UAVtLuEfQ+OFfDPG3VihlYHPK5JiAstj6k-AQAnE5ZUDvSku3dJbtMXh9elwuxvKLphri7ZKrcp9n5Xt0K7G14IDPdboWU46HWUdVXdwEr3bK84mBWPBM3C1JjKYjIAAJwnBztPESmPzv2F96O93Uf9ePH+hyxuA0G8Ttc3blHCPkHKq5gOBcA4Jsi+q4KCPqLTwL4FVkNAHvsxFPgtVHKwoGmMpilyPgGqhoKftH1OEQ0BiJwoHA4QuAfIH6FcCexP396b99tO-ZuAK43AAl1+4Lst1qrdQGq7pWYeOtu1BwsqcusvfuJAP1UmAjVZXczrGoPy2AdVMAxrsLidK3AHO8UnQCKgngyATiYdK3XOKvNWgjIApf4t2XKFZM3uwg-wCdlHATaTEAcMDFICkGQ0hA38SRmrwTJ4QHKwAxCG8g+RcDAiSPPuqKgxAxD-keDRvvTH44wF+B1oMcBXboUWIA4YtcCv0QtRkVvUNQ44MQ3FFwNaG7DRhpc75LL9s+zg9wdbqFyJIw6T-hsmP2xARD4IMQ95CZCxFBABh0QF4e8jyH6WbEIDVfs-1FpPDgR0AFIfxYyTAjQR+tYoYH1+x8YThFOleDd30xxFc2lrj7omR+6Z4rQYPQYCj3ex4JADKbR81mZ165txRhvFbjz3863c5KAiqGukz58hAhgRyAYmqBFQKDVIKg0CBoNFK6DJPYwAQZkPMDWDnpXEdvFo0q66jwsXPTbnz03qWjC3V7HZhQQ9a4FDkPAWDlLicJyAskaCJtBUMA18jhKr5vUbX5LxQBoe8o+nUqPLdFjYefJbgqgMGx7OAgVoApOXySB1Uc9D42NX0JvGeWpmu+H8YcDmlwIYqnPRHUNQ4KxqXxhOrbGhMXVL6uHEE2Hg4Sl7nsEh-A-Aqzz6BXJAAHSwCwarpK0YFTIGCCyxpdrYjCRGTQg76xUdhkssqMJMA1iTVhUk3xwpNUn2STAfADzHpOU5livAE8Bwh6BYQpToAAAF41TQAFJooAdJFNim+FjxnoEqZZN6Q2T4qEg5yZqioQC4nR94D0c3DEnqTGpuk1qYHH-zlxJxqLCwOUAsDMckweBWmDwDcmWd1p4U7SfFMOmixTplgSwFdPumTaBp-yEAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsUQRHsUYS5BCxasGb6j0-qwgkMTLQF1WwmRyFpWMiZW9lAgqNZ6jkcS03+qCQICQuaaC-0YhWG4FqjIeorfCOJOwJINtaVGpVqTY0SRpBSJg5yU3epHYG4NtBQ1svDeQstPilndusN+UmhZAIzqYCG6gfbI2KsxUOlVoApY4uoJuwY2675Bt3XO6gk7OWXoDbehgHA736ieSalpnSODMFwMcpwHKUIbtfUG6FP4+1-oA8cnQIHopgZnVwUQXSF0-vITBoSxy8xesfAY6caUSDvjDRhtFCTo3KssYrJSM5+DECYE+lCGdaNEYY045sZGthHIgqx+jjH8QLIJAh5EfHiOjpGOcnNpHjBJFNUykViyRNkgiPQCT47kEceevJspwnK2DODe1egY6pNacXe2S1emBnep2OO7gpA9JifY7p7TEaomShc8pn1xYjNVEk5plz5mxTufdYpzceGUI7C9GWFtpGZnBYo4OtD1HGbReIBWJj6cWAvjS7F9Dcnf0jQgrliCgn8ledy5nSgdaUWoq2Muz5q7Bk7AKMNJiMq4u7Lc4l49yXSCK1a+QdrmqxWPnjTuvdoTOtAqXW6ldXmAHBmk-lrrs223Coumy61gz1ZcAYEtmQTpOMFblbsSUR3RsoRHAwNTi3DvcGO6t11jKLtecM3tg7F2gs0CvK9jkpKdgFxkIGrJCWMUdJGoGxWbgSWkvJnwxkFJKbkzQf1jhmDZ4tMvvVRmuBqjSAgme+oHg4344ECLFIk4ZxziBuwthzi6Ho-3rJ+oyprBA-JroRnDCigcUg3O+gmmUdSLRx-RUbOP2A056AIp8Tgb064UceHox+FI6EVeTnkMoZGCvArrX2vlcWER4I1tshNfnu18YVceuLeW6ZxVcXuOycQQi9FOdudxikEdWCC0d9Qff0BnfZQxpQDyia96uMGYKxcGpNpCWyK49xUGMoOjDA9LC9T3pD+LU9oCLjP+3ddhY6G9VybzPku0eJ8LMoW3dvy8yPi42tXBfSKoZx6TqEBPGfykd+74Mnvve0ips34NRfw+PnwEpNebk760+NY3+JYJvGrk5+PlCftzTsF0rhBcBE1h7UUVRP22-ErVngwvw-NlqHSFAHKPYSo6Cu-0TPjg2Fxlz6wTCvC1YQIr4pLjOrCVABXSXQEnGHB-BcWRT3UAAAFQAAkABRDgAAQXAHAAQIACUYDIAAB5AAOWQConlC6FJVwA2Hzyr0GBzRLwwXAUx3IUn2mGznvjnz4UVw5g32YLvh8EoKylYJV3YOPA3znDKl4J-C82EPsC4BLHjz4P91gMQJQLQMwOwPwPAAkI2GnxEG4KEDEOoN4QEPoPbA3x9y3y4Nf1OnfxL0kQgjEP1lMLYFhziWEl0JkKTz4JoPt3kIcI3gxHzR5npzsQyEyAt0j3Sxj2kKFmRUCIVlCAMIsFoIhh5jIMEUiNkKg08I-iWWgIYDsGmHrCIETBAgAAYSC4kRINZ-08iuBeA2sE5yBZBe5qiCjVQQJcjxhoVCjRhQAABqUAeQM2Fydo-IygLohgLzDOCoieIhcYQhFhF+EwaowbYbR1Bo+Q4GCCGHcaa4YYmo7gOo12Bo86BwZ+TtXRR8ZgSZaYZ+awFUbsPIz-H8dSJY2oobeow6UPJgSo3Y5Y9472Imb1XIaYDWOcFtEHHaJ7BLIHcEo8DwSYr46Y+Y4HW9WsF4-Yt4w4hyI8CXYGEHWEuI64IEjgEE0QFtVcEHQ0f6IkkkltK8CkwQ7hBSW9M2C2AKZgYE0E+48YNfaKEQQoJsDgfdKHMGGYhY7PPyOJakzkg+diTiGQQHYAiqCE5IaqQjGnVBBSGEZUhoNktKM2OSBSLaXyc9bBXBaecefBEhYHRIgA8SFpD0HHa-WhS3DwPHI02vB-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-MmG+tNwBnAg93u2-RD3Cwc0WNxX3xenGhY3T3TM1WAy0nTXryEtx6724G5nb9QJUl-31UV7O6HkV1sTN7bU3wAPj78keYPAjlD6p7kbC1oOnIQhiCKL87b557+HMWy7FrfxKrcFm0qmZ3XA9puotoJ2u3BTb3wOj3O5qsJAAD9relK2mwQJa3uP62aEupSo9NWxyE7XKqBn6nS6mnRnhOVpnnXIs2mwEWuWkWJHwGsXPb2wM4FmAUpY7Xp01Gf6CG2nh7EWqHflr7NOSO-I9oxEQI7WrO4V+VSWk2jBrlIPRlu7nOjNMPSWxEXn3ryExE1OqG0OV6BHbO1hPODUHlu6IvqV-O2UfK7XEu+VJ43OtHFQjX5IjBSUqGwPJ7IviOaZYvC1u6ivt7XY4u6VTOUg7Wqu+3u6suy7Uv2Gk75EU6lEYwM61Fs7NEcx8OVlKhcW-dVanGKlOq1PEHEnOmNhRhFPJOyX5CeN6wRXRiigR5Stz15vs1lBlvcuAd10snNuhAwmUr5Uj0IdUlcBFZ1vsmtu6kcrjnxVJcs1FucRVu7nYM7v+ihbXvKmobcBvu1NfvlBz9rMxs6kGmJhZOWmQfVasNAM-vcNU3HxdOPX+VvxlnQfwITasfwY7acfkEAepnCeAVfXsWru0qUFwYsqKe0oXvAC-SlnNMqftP6s5tfWLOSB-w+9Yf4fNNh7Va6SOvZaxsHWCERfOeaByTxeoeC6+fKzIbqmSEBXtyWc82CTIhL4guOQ9pKlpgF29IZORnzkQJcPSVEGrTautpX40pc3f2A9rg7fFP9GyfL4vOtocQFrNf8uxPntZAG9FfoovfHnxTXAF8rwQ-hvuXpLBfzeAtC13e5wlvixjetOF9xhc5Kke6HlmwGYc-gw8+Zo1296f5stpgCE3fX54WKEM-Ye5mQhi+8+3fdAAAeP8fgEvoRMvoD4DnZyxiCGAtCJ8QMCQAMfbOxeNugTCdE6QEIQnPoj8pfXOUc-P0ZZsPou25fwO-6Nf4MDf-vgf8x3ZkfsfsgjWKf4MGf5huf14xfxmXo-fxaQ-jf9vl-3fl-1frxdf58-+FtAGqpow4mEb3i10LQa8ASj4Uuh0jQjMgZeioOJNe03728S4TvHUt1i7Dt9a89CU+nAKdDRs7c9Gfni3ET7NNhe7DAfskBCB28ccq4HAXbl3C3B++H5WgV2wUwXQU+kiK8CfxDYWwuycpUujjiN7CtRW5A0Zuq2SBD9IgdvRWCrCCRDhQ8fSCZkjDDaAg9oLFC+FLytLudMBXtDgV7zd6+9MEl7FIOHyhYmDwEqg82ITED5bBYBzMBAQrzj7UR1kGHLuq50gElwoBrgOJI4PgHA4s+9QZARwNr7oCpBtMLAdEkYH9Q8BEwAgcyA9IkDKyZAs3hQO2Tmdz0tAwtPQNKTcDbcHgD6KuDL6vxqBwQOgBwJhjcDjigA8LIqHkiKhVSp9EQRkhN4SDzkkQ1wDINQHyDCAigoMFcXOZuCr6wwK5sm3UGqQv8Wgr1tL3F5hl2wKAowSnysFJE2mFg0uMe0ToNC7B2vAIYQKO5yIL43XNOr11URZ0NEWibAMdxiZBMQm1fPJkQHLrkZwcRyXEIrECZxNyAUwZnp8PuFrwRW4wc5DvXCbfYSk62BwPk1kTRxYm-whRHxxGgPAeMy4O2lbliBAh4aRgHjNaFRE65qgGIjyjxkGi4ideBIpEUVk6QkjOkZIlIDxlsT2A7a9I0QI0ExEgd8eNsfYpIDtoci1ALIwkUVhkG4iZBgIVkTxgERx1PQtAUrOKK4AehFE9QUUUVh6IkjjAMgIPKAA44B0nGfRSfqAEVGpIII+sFUakHVGajngTjI2LqP1H49q2KQNUcoDNHZAnGUEDUUYGtGQRgAxotMKaJBBOi0KrovUfyINEABSL0faI1G+jQATjYMQGPdEQR7oKo8MY6KjE44OOQY-Hn2XSCJifRWo0AJmIjHpjIIHfMMTmPNGgAu+RgNMeSINEd8sxygQIEmMjFONaxlYuMZkBLEOimxoAbIK2MLEQRMgdY5II2NzEDjex1YjMV6JTGuBngRgHssYD9wPBEIMIu4fEweFvc3eGQRUPmmXA+hYRq43JuKj0zLivhCTN7pQA9AAArDMKQEPxbjsQuIAOkSL3HfCBM4Is1EZHGbR0-h+4hRIhCjhf5vxL4henikPxsiuoRWJ0nbSdKsi2mWIorJAEICJoHMqIhCUhKrGwT6gYoikHHVgCQBcRMo3CTBNglYTKkHABAiSJlEIEiJbTHjHgRYB4EvRdEvAuUP+hLiAJz4z4P+w3HpA7xzITiM8FXAg9dxK4oCePSPHsSRJnE8lC5yhabj6g+afidkGXQg9JEgEqSU8RAl-jBq+xdPBxLXGZg9mi2G7vPnsEu0dJ0+DNm5DGASAyBF4j4MWGICFx7MRAoEGpKYKAiz2IIp4QMyMmdJOggQdHihDahgD0hcneQtJ2GYZDwIUsHdqBTckHjKm4Q8KvFK4k1CYpvATWvFPjTnirxZARTslL0nASZJmw6iYEFEHtDQpnQ6EV-lEH95zx26SKaMwnZthuAHQzTH+OTqHieuKiTOuokwAYBXBOPF0GQDBqO9XYWIBgC2lOLU9dg9iRxMulOJNUAavVIyItN0A78OAe-d-gAIWlwd+qPNXaaKW2wR5owWIahugxGD6hC4ucDAVE2IDEA7EdgYunIGSb3TIxiiPojIBYD3T28hOEnITiX6KwX+304gKVKaAQQ7ah-KzHDlMAOZ6QLcZJvtkU5GS70lITUXoBegX4-+wYL-pBBf7rczpSkC6XMHzQozYZi4XxutMZjaAXcEvFCKjMXaJg6Qi2S7mdgcAszGcEEeUP9UZI7AjkLMmXAUnHDykQsnA9mfti1IJll0LM3QPmNtpFsAqAs1ijDgpZkphgw09qHRnoBugJpLaDmVuzdZ7EDiCeCWYLPZjihGkqjdFj-RllzMSceMvogzL0hMzFZSMr6RLK1Ir8gQhOLaRVz7ot0rZs6E2T3CpnswfZL-J2ZUFGB0hpZbs22etLDk0ztwlwcmZBEpGIzgwu4jYIzOjlLTeZATQGPrO0pOzIIxImtiNFXAszahMsrOWjKjkMBqYllQ-u7J7icyAA5Hv0Wxf8O5vebGRvxZleZI54NTPKzK7D7w5pkQVcCPLMGYSisgYcnIrAbC791YwsAbG4VXn208iTtItiXKnmTU0xxsTqNPNCDkz65jc0tqnL3lzUeBRkY+UPP3mIs7JKUTtk5PahiIYmZYe9IWVZmyNkUeJDii1VeIrFCAdtQOaAyFK3owZxgfNE-IcmvzWeQaT+SWAzk5p6SllFuv-OapFYtiQyXusWimQUkeKzJQKdFHLw0oHGd8D+QxhLDfzBWcpFrEAp3oUkISmgmHnQOOrvQ-Z+ClRjD1gYQKiyEzGEUgqUi6EkZ7sbEGQokAUKqF96FBd-ImYBs2FuQ1isSMZzAwV8UYahSIo+z19l0iCrRTwSRnwxHc8adhfzEpFqLNF96QxUthMVKLDU7eWBS-PID2Y-SPMpXIDFMWQCpYMC+yc4tcXvz9Fsim-qgsgV5yKhwMLxYal3HCKbFonKCkaXSYiz+6BCsJRCRcg8YcFdve5ikvfAUl5WiS01kRWIWuBeg7bR8KczyWQKZpuJSBYznJJ1LGWFjSIMKWsaHM7GfCn7BID4DM8SezDWhbLzlyAxMFANOko0spwyxdmrSg5rY3j7WzEM1AZZlKMRZiFKglATONMD1AiBZA4JQZZUtoWsUq8tM0PsiC2VpF3C1IKGrsoXyrg+lN4+RWp0FiL0i45TYUnr1cgDChABcDgPGEEDjAGANMOJPWG4D1prlrrZJdCTSU-tAgh5E8seV9JtlUl3AcigsK2CUI7y7kB8lGQ+VndpiPy+ef8sLI2lshZKEFT6TIFTkWyAZUpVsyFa1KBF2pUyTr2hpOh60DSgRcoGBX1oxlAimwd+3DaasSlybXYc71JWgrIFYXZRqNLmoyBM8iRTfNTFI7+gpwD4o-BsCZTdL3wx8iCFq2lVp5xhoqlVUQEdKysxwHFOdB5L1X1o5V9uBVTzSNV3VFl07Y+UYINCPLtq2hDuNLkGWeJrpecP-IsnCSwdJ5twVfGp3oANhNl68t0OvEZpiEaYQrLgh3HjWRC9oC4ECHrUsKAZ41IbPaA9Nli3JVlDhOSdrmtoWgFwa8qItQDNqogDVgQGOLpErXpEa1eQHboCGBhiFg8kY-NZcXahFrbQBSlGHh2QFe5mAo1CyYzWqp2cAJ8RGgFRDyqzQf6u1NYImpnxerZ1frTKEtXTVURM1ekKwhutzVf4e1tyXYsWp4mW4y1W+CtZvPGAtr2Ada1wA2pvUm08i96xwl+MBjjU0w3a8wL2vHUOEv2kwpGCQtOUCAhAuxBsOcplTxqZpwxL6dGuoBaUAaZy+DfGsdxnKxCCGqtdzQWzgboNCeRDdzRagRqx1qy2NTPmw3pFOOX+UZK4Rw2gSJaqBdAlgVwIEEzYTG5QqxrUIgQO1RGrtQHTo0EasoABLCuhGOWkpUNeRCGjTFI3TBdiFG7QjJr2q0bRAEGpWiBAlpS1CaHGxQtpqJrAxv1IeITZTVE0tIII4m91WIMXbfgLxiTOFqPOiQOavMXrWzcTE+aq12V0MuJO9jc2IhQlD2eQjyu83NZ52IrRdjbDs3ioPNPq0Wc5rplh8HWkW9zQ5s81xlb0IWqdLunxRWAoteUmLdHyMjxaTlNAESMGDHRCBwaqWwZV5sRa2bKAdxPzXlPlWAaZp7QprTKg63l8Aarq1EI7nq13FfN1APLfcq61QLAguq8Gq5uG3uaxtv0WCb1qFBLIG1thQQLv0m37ziew2hrbhtcGRadtPwXLcTEU6LbpQbW8LXpGS3RarteUotj3hIYqhEw7wT4JqBcmNANtMqr1jdvAjfb6+p26mPNobGRj9tg27LcICO3+bDttAEbfC1-KW5-td4FbUvMVgfb9VCwXLTtq0k7YmA5W8pv01tWtbBl3tPwtiGSIkJgicO9iHFqlXg0ytFWq1S3Nh0YSr2iNDYIPgFBZFnArbQIEUNZ1e5kaQ+MXP+Rw57BAdfgkhHaodgraV562mnZtuUB06RgWO71PfAzB+gqlRZVWna2FK1T-wHoBqXDyT7JU1OTixyS4rfmTx8dCOlSC5GJ0UhfajQFiiETqbcEHp5TJ5XiheXPs7clcoxYkRnmpAJg78X0ZdR6FB7X+wVNpbMriL+gC4ww5fr+X-KuAIIpu+BWIm3mqy+8SNBVasOb7FtLaCOqXX6Egip7zdbilHXLrmp21S9ASnGCQVzyONwdtsXkVRAACcXQOJDyMkA56MBnesmGoAVVrxEwZQBXZEKFbYDA10KtJtVDnU2RiiXQ4wF3vrRty25isNAOvsfUJKh1gIJfQFXoDUqUgS+wfUmkcQ+F5kkiGgEbGAw7DSlawI-T4RP2yDlAWIShUvpWWiA2qHVZ1O4MjUtaDQqtf7UXvx6tVJAX+18Tqsr1o6AwH+0A6NzriuCglJYBnSqBjjJRRgQSOdA5keK-gpwIESRdIsQP6Ebs74FA36C-4dAnaZsaqFMAYAYGk0k-OWXOhz4XJtSu+w0S40IOgBM8LwGOEYENhGj-JioXfffJlVThYQobaCnoAtjVRVlXuDZVwHA1zAxDkQqTR0Sg1YbMNRGqjsoZDbUH0DqQhzHmP5hMHkECERlYvv72SBII-BlxmIQDCKHNINhw2KbAkOFLcywGwIGwacNGxuDxTRRN4YEMht79Q+I8D4Qd2DNydWQD0iIbTxvbtcHu4YF7tlX+60w4exHs8FMZSdID1q-EHzvZ0Wgw8FaW-eUquwOtAwtADWI4lIMmSzWOBvA-vLuQEGrFNCzNEpHlKEBeDO-CgwGU0EkJQJqOnI3QDyMC6BQhR4LuRi7CXxutPOxmOrHH6CIW4IuFgGzBegpzs5ekcGgkYoDF0pwpaW4FMckT5xg9AdUxuGqCb7Fpgw8hownQ2qE6sZDIH2qTpCGRHsgoR2kBrSKCvbz0LhYTVBnOqzqbSAzEPNE05r-GI6NpGCYXv+yEGGdbcqvDIGZ0AAdLAGhoylFA5DuABsHSHlAOjOxWpfqKvsZg0GMDXVLoDCfBpwn15CJjCcidRP8k1lG8LE7TmuD4BkokiRcMDFZOgAAAXvNCMDIm+maJoQBiaZPh7FwvJ-E-9EJMQRiTKvSOH9DwBlGfwlRyIHCaFMMnMTDcpMeXINHLHFYHoXfsQF37k4YQbcxCA6HJP7yZAap+kyKa1OmidTwB3fgafu7Gmna0p02EAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJeJWD4hcoTAkuNALojQhAQTckAcYkh8S2AU13h0LQ+ggZsMIDQje3DnGyKvNuGco8v5ng4foNeYhHFFOATnGJplSDmRblZWy9knIuEHgfcgPUvI+UycTGqEUgaCEIAkh2DhuC1IGq+AcDV8nUAUNQGglYBEyxyQ4SYg0YhBTSbiZZqz1mbPxtsugszSB1KAuRZ8-xFlYOavgcoDBBHIl2VBGI74OEZGKsM7JuTlHTLoOouRDRepaBEI1bOB56DIP0BovSuTxFNykWdD5JTwWFDmVi7FeYZYwsrHCqBWcwQfMfLEPODARKVNrKMGkbA36xlKLS-uBsD5koZX8mJOigzqlDMsCiL5DRmWCBcjpdkHLOSDvjdkvgSCDImVMmqOY9oM04mUhgFT+5o0ms4vZQUHIMDmedOSpQxpsDks0LCALm6OxNdc86xSkWxC1TqhiZ19amths4gO4zTHkLWZQhc+COGEMKenA1UNRYNXVvSu1xthB5NIGIwIgwnGNMmMZCJWTm7kJTRy+pldnHGVMiXfN2DC2dBQQ0rR9MA2f2MOYmxLcuZZsGo8xqEtcTNoMa2zeEw9lUtFmODUAV7li2FPoBqq9FofGJgiwdnyNFBUTQ6hd9iuXLs4PW8kwrowrkbBu1+dKJSgA0eug8867FNW3a-c2e6VhdrZQxHJ16ZybzPSu2MQUT3pzPUxQoB7h3CVFqYvt1jm6uv2Rwz9t6HFtqnk+7U+71XjPdUXBwiCNT6HHnzeZVNY2pEtXhpuSxwmgEtVrHgG4ISQmw5wyBtQ4TcEwwwRjhDmODBvPhjhkwEQe3QzLak3JGAvMPsfZ+xbW6dunQ1SDFi1HrVePQKkg7GSKZsWrRdZKZO3LA5tZIqRHqSzMf2ox6cKN+gtb9DRaxJlZwzWJ7V-A-5SdRBij9Omt0wOXWC8FhgXMSfcwA5wZ1+Hmag4i-Fq59abrvQfGTExKUga+SOozV996SbC5G5lJCynGwXQfULJ9O7d17pPXlsSr43x-hwUrz8wk2eBKCfQdX74VH-mVweFX-zcOq64qjv0ArCblaYvxATX7RvJI2YFjJJsMGBZPJijZux6k08FtzXWPPhf0MCgzTN3gCE4xAjUIcgTsdO9x283I9SHbXRW-b+AVF4sVJCpzRKSUIvW+26752-UNpE6YqJ02O0xsy5F19VSYtXkTbSsNnC8sBfxVo-1wOEFMdJX5sHWjBqNn7oyRNOHkFnpkVmpiOHyvDzJyTsl1PKuZv7s4piQV+5A-G5-Drv8du5ZflG8H5Iqe9Zp-3dr39OuPx60PRnRSVyJu5w13nZWxeZq0W9vdOoYgao8oGtTzASvK6a9EwawuZd9zfdlxrsURey5LfLp7VujexVV3WmeGuZ70zwEDEOchFAQBgPAJAqA45oGJAnTiCnIxFwBdUcuaiMaZZ+t3Mgk8YgAB90-GQU+rOPafQCZ+z6kHuvd+j89k4Xv0P1xpqI54zON5AxASGTYVoBlA+j3DECLJPqQsIJ4AGT996DTNP4l2Qd+YGIOvkeSMTwTxDhMDem8k1b2D8EfHRk6-MLbkeY85-cMTwmbaREBvT-qqkOnOPK5UWpZP5vDBV8C-BJfnSuNxkv4Z-16-r5qYjBvMfpMKrfkeGOVD-V3b-ZYX-HjQAk-SuYAiPc-ItA3HLE+NPH-YjTve-R-DOUAcEJ3KXZ+TfcZfA7rZ+T-NAyA0WAAu0agr-VuATW6ETEg3bbKcA2TdAzLWg-QWA+gt-ETBqRXfmZ3LhCAjLRfVIO-FfNrIBcEQQ63ZwIgkTOQ4Q7KHfCgsQraEff-LQwA5TeA8ZZQggl3N9efSgzgnQu0HghgsbevVIBRURRHCNcvXODAyQlvaQtfXJYMaoYNegRQuVew1hVFSRMgfTG-UWG4bEHfbVPfPmbgLgvQxggI4RURZbUwjQ0SW4fmSbIYCwrIKw6wsZfg1IUHUQ2DHvTAqQncGQ2lBLZBfwxmBHdhJHZw8I8wv-XQ0-GwmfDlChegKhfJcNEQ9gsw8Qyo9w6osHGDXAoNXBUNZopwhoziAtfBNNWodQ8ohMLVQIGQdpUAPEPguVFY6hItDYjaLY0EGlSoPY0kJIxmY4-JE1JlM4oKbY64oBHQdHOVKPFtSzEYjIq+Nwh-Dwp-LTYgJYjySLMEpDNoi4nccEME8EbgZdO4ziMEnzRLM2NA2IUYzQjou0ZTVEuabzOo+9KzFw9ojNB9Q4xouDDExDZdWEwMHggGLfYzbtJ6aExkjgsY0jFEvacZWddYeDXTK-M2Ck3k36bgzo8kr42wpbLkKbMozYkaCQxvLAkEnA8ESbCE64LIhUjxF40WQrbUxUpE6kbhIk8wRbNIg-BfPE6Agkrooo74i-SZRJY3O03E9koE7AqyNJagJJBQmkziXJRw4YiUh06Up0uAq0lwU1dIlUlwLggokMjyY1U1IgQjAE6vLILMtM8wB1WpfQfMpk5MkffMuMoaRaTMtaMsv8Esm6dVb3YOUOf3COIPaOUPHQBA+6CQ0gelHqbvBMAZMfeNYgM-PUu4QRYIyQUI7gYFGbOMTLE03IZ5V5IGJE6Y2c9FBcl7HoTXNkrLRQQgF5aFd5Yc1U8Y4EncGQKyNc08jcmWXU4GQlHc0InJS8tES4nYnJbgA4qsoFfcz8w-QMN43Yu80AW4gUkTMM2FeQbHclL81rRaX8yCz4yczIu4aHelN4KFf4gEk0nC8E7gPCslAs9k4i8XKpZCpfDUncZnXA4il884pIM9DlfC6i88UC8s-ErIfueAo86xL4QhMuL7BChFPHe0rGQAw88ZB1b2bqGeHi4fEYOS4HRwES7Ih2CRLgcHQoIjTLLCb2FnPaRsdvfmUzXENBb7MlRkS1E4I8yLRSnfdtXVZCvvc3Nyz1Ci0OJuT-DFXS54Ay5co-Efb2Xy72M9QKpuYKnE0K5kwAiKzCloHqKFZNGyiS7dLy+iPUBc9YSy5S6S4ELOMQdvIwLy8IMfDgMucq08azbxWjA8ASfUlynKqsToc2UAFgAqolXlZoGqsq1QCqvrAaAAHhKtquGvqsGx3laXFXBAABV8B8A+EhBfBBBrleAHEmx3TqBahmhwRQAABqC9bFQWOPIUVRSqk63AqyW66YooC6suK66iiYJFFpNpJala5WYgRyTasQbavTXahJfa4QQ6h6863PF6mQa60a8IU680o606x6woZ6sQV6mauUzVFa6ST-MnHfJc2IANbOB-Fa7EKSlccZILIQEa4eby+7UDf0DAvkyq1G-SRpMmogWHbFYS-AUSsQcS+FLlNHdm5oHfEcVSjNNm7FWYEfGa9mobGm2WIiSqm0O0LGoDNVZ9adNBSWiyjkszTK4Wg+FTaYMVTcQm3A2yHucoKjJuVVbUSddLBoY9XSxkBS3SpSnOLWwzBMZWnJXSgKwO2Kt7AiKK3VEOvmSlYDNDBKlwNBLmimz3bojyM3PrAm83XKomglcbUm9EZOnOJm6msTOm3uBm7Mv0alVm+G6YnefO8mnmvSPmgWoWxC727NAicW83SW7aVywbIoUoeCbaeq3Kge1YUTWm1W+G9W-izqmOnMM6-sXW7OfWjvKytu5BM2iFeay2rO62ugW2kQe2vmJVF-R2p8SMEVWMN2puD27zRSlDZ0IKAOqK1yqOvkMOtCCOz1D+he8iOOgExOgujur3WQVsv3cOQPKOEPWObAI8pZW+E5agDZN5LZD5esuiqo8lGZXA45YNDZFi-B05BgFZBJTEprDBnkqMm8ClemQqJBghs5AsC7FCsEdME0uYc02IOYVcFHQoE0jkbhmIDkPhvFE0jCYRpq0gMRjhtrSSUEKRspWR6YE03M803M50fht1eRl6BJcgXwc0vR1eDaxUbRmIE0i24Ri22McxthiEG4dvE1FgQwJExx1QZxkOFYOxk046qR2IfQHqbgXwKqgAPlAAGVOtMZ8fkc8n8ZiECeCbCYia8lAGifEfkdY2mESbSeSYGUhDSZiBifhOAHiYMCCdycBHCYGTAHSbkfhIAFIymcmQmqmUmGnCnQBimwRwRxJ-GWm8nJaQmMn4SABCSUfpip1pgEap0AcZoEYZ+pnpsa5pqZwZiamIRZ1R+RsagEeJgZtpgZXZzZ7piEUJ1ZpJw50AcJk5kZnp0JvZ7gIoA5mZlJh525pZiEUZsplJwoV5mIUZ2IIc9MAqfXHgRhkh3JVywEFcSI3IgYbgYhlB5hzzUF47cFlZJhtB-GbVFgNqEwM2GFlYOF5ENpiRiF5F80rgilOxooJF1Bn3NMSKMF+l-mbLVhwrE0sdWoc07l1ML+2LE0yAOgb0NZQxp54V0VyWWl2LCx+R9xhgWASAYRhVpVmV2Vk0hVgAUSke1fVcFfkYADlyBDWynjXDXx69I0WqRWWkCl4AqiXpgSW2ntoZAp4MXkHUH2XrWBBbWrddVHWGhnXXnqWLwPWsXvXHL393SjkKWGX0HcHakbyCKkzlV0lSHGA1RSB0k48GA2pyBqwgtb5NAm7YxbWyGOBkFKGdkBWigk2ykEQihU7t94xCBN6uVkKPtoVjb26YN4knN9BbWoX2rFa1w422X9d7X+7a3Yh+2RBB3x3sWCxcX8XOZuBR3w2SH-WfKZ2RH16e123Tb6GwWDaxAvgerQ14KTbippwsRD2wQmWWz8Zfcw4A9I5g9MAMBeyXA8KKBTBbY4NyobhSBPFBDaKSNtqWBU8uCwPO7q4UzADYOEbcCGBkaLTb4YaKYYOJc-gBMaNsPb4SIqy1ybg9FUUtAqSMObkVLyBlBlBtqMgU4jBZk6PkmQ5Tqak6PJbwQjrSgeOaskbbraPlB9W-QePkToabkqzBjKBJZU4qOrk6lFO1jZPWmIhoJDL-bJPbrwQIRbqSPWFjByP1i4Wk2ZPJZFOh1EbrBwRpP4gzMpEFAalrlwO0gpTaltE+PLVdITJGE2sPPQBB9lIZ0IPxobwPPwhM8pboysgIu5n1Jih4QVxSh4XBgAux9wREuc0jt1ZaOZwyYPggO15PEPOy0DAwE9qgyPoAugvVxG4+YLll3wzquXO4PGrdO0PzPcRHPUvnO6k+uBNIbYwjq0PoiKk+NGvYpmvZY4uUbVwRvbquumAyAnOuDTUIvdljqkV4QfPglwXJA5OFGPhzTalEX7PuuVu2u54lk6NSvKMuuIRJG2M2ttoPPZ6Bv3WlvHPtFdF0aBvkvcCAByND2pHT4HmjdG16jzuzg73EMme2fQeHtTzTq80jPmFPTcbaJH0T0peRoQYQJG4IJGhyHSf0twYsJGgcjgeEK73hB7rHu2YZhs7Hs72H5b0gQSGjenkfFn5nxnz787gD+2bGjyfNwt5QYtmcdlfJDwcNVaVzgMqr2Wa6Tz+x5-Srwg7mQlab+X3dta7EMX9YCX6gTQdimXmxNwSz+X2nvler5uFXgHk0xL5E83GItICeFXn71KwgFKpHzuPpHqNNWXtweXuTcrt00GpX634dY9QlCWoEFcMb2I+1bXhYohT3rWhh4P4wZNOZeKDQRHxn-35gQP838NK3jPw0P9OPnujLyRgHrCbaMv8n3P65Lqrg5vnPx1G5G3obYdvrbjspXbwe8F7PkmOZGjfv4ebjw3otk3qXhiYfunujKf3uPXuF2f43036X+QC39tH1PqPDlYG1FfmvvrM7sf1vqT-dSdLtCbz34dV4+R536kV38bj3w-w7NLKv8DPqUbF0xmJLBICh9iqN3Zqg70owwxD+NGC2qtElRdIZU03eVCQBYpkUksIAlHuyVtTQDKM2MQgF71gHXR4B0qBOmn3MBoCzYm+I8haGLDlRKA+AJbPzAGAVBaYh-FSkAPt5sCMuNA6qFWWYEmpye2kcqMthV4qVtoFAvVPgJF5Tlsi1QbiGXHFyEdkIHVGiipSwiCFcq54KsiwDkG5tBC+2XQWXGQrbQdBIgOPL5VMHyDBaYuSweYPYGAFbBRg7QYYMFrVA3kXtDQX5Wjo0cvwig+rHpWSowVxsaVAdp4MYoRU1BdGSLI4PLhhCGI7rQIQAJ6I3wMB8dQEuqWwZwDcCiXaQYWGKw0AU4RArwXpQcBH1k0N8BgOoBEAcBSA60YgkQAyRsCXaU6cPl-E3AP9mhqmdFjEIWwuCM27gj-oQG5hBVfazNTLD0LHx8s660oMoW0MqH48ahWQiKtMW1gNCDBZgsSjYJcH-1QAIGLtNgKkFM00hWEXIIQCw4j5PepFNYXgOsJZhnaq6X-j7xXBsRMBTMM4fLxSq+xeYJqRzNCgqAmN1ihgNkP8IMYkxDApIFSrmSMAHEAeII3wGCOJBPAuedGPugcT15PA2mXwhQD8JIB-DIwoIyjn7AQjQicesrBoHCIRH6F+CnKbNv0FQYUiM0wI-EfCOTTgjXOfJGEZRgZECxERXvRviPiBGkiDAyTaoFIg4AFshCzI9YtyPBFPA9ezoDEa8yxHEjBRglamurCJEyBV4acAvsiGRLIUtRVAKFGrA1jyciRJLXBhMEArajjRWIs0cLEhGhd+sGsVXtRmP5iwaR4o+kVKMGAaI+6Go4WLW0VHhNDRsnLOCaL9j2jsRJ+F0WqOBwhDoUQoItKCC5SeCWEOBCIVBDmwuDehGw1wYwEUqeDAhaQiYWBG8IagAeXbQYGmKoDDDYqyIsMWxUcb8QYhZOGIe63TF1jo6KVXiFIkYDNjhqvEbgJ2OKEGj3aGXGQEmB5ZL0lY4IScXsB5YwD2gnQQdrWK4hUBwgAPb2PFV84CE14q42TJWITHJokxlIFMTAiHHriMxQVGjGAMwgbjAuQ+O8foHTGq9exZAfsaFGGo3heIQoxUDeFfHyj0IRoj8QwAHG9dfxQE7FNtEAkbtw6QVL3nOKnEE9PhceDgPQMYB2ihykQ5qhU2DHDZMguQlQH0H8QmpGAPArqBROcDcA-el4v3pmNmxgsBxVxRlMVHfFNivxhfcmGIjXFUT6A67MkVeHokjDXhzEo6H8m47ziOABPAHm6N84C10JqhAMU5zEm-ImURE3gMYAzYVAeoB41zn9yb4biiJaUCMbzBxBshugEIrMWC1YZpRzJZYXwNBTSEXYyxAqUQLZkyA1ZDAKVOQb1AYBEhR4ek-HGC26CMhDJrcVnBgRSHdBwgfHRLjVm6D0x0JoARagAAktWDAAAILgBwAWrAAEqLVIAAAeUNbIAgQDlb9r9T4geM+J7wA8X2K7F1hiqmk-mL5N0nsTQUAPEyW1PH6CDPM9Uj8V7xMmdAFwtU7yUEMZjDTMgAgrSP1OQppSMp2U3KQVOKmlSqy3UmUD1F6mzS9sHU5CiZLtFtT-J5YQKXtLJ47T6AnkLEVQPkpyCZptAtTANKSCNTkKyo0MXC1dTpjtqVTR6moBMBeAyJ90oQR9C+mWRaMjYy5KON3YyBJAagIGf1I6kvSA4yUqnhOwcBSJGQAABijYiYagjkGlBkCYEa9Yo1AQYBdEJkGx0Z2gIEKjMpk0jbqeISKZllpm5AqZpAKspFjxltD-Bfg8UAEApmK8yCpMjynRky7mksItMwWSTOEDvckOKVQIHxm5nihUgbMVGetHfACziZ5UUmfZT+oEyGsUs7WWTKYjjINR-MRyJ0E8SiDmh1KFIaII0SlBOZes-QUUMllazsows+zFfAOHVZSgWEM2QwAtlsBPEUAqQVBPZCBBzZlsmLtb2qymQ-+gDVNgHKDmeI1ZKVCoLiNCDaplefUeiEoKXCjjBopsyOYHOjlNSVwXaO2T+iry61lxc9fOXpQfBHDpgl0AchOQ0Tf8CIc2XMVYP6GP0XpowlYEFBYCS0ph4KUoJOKjCK1mgyc6Oa2JsE7DY60ETuVXQwK2pNxBEUoLPODm9cm5UXbeZ4iui989uk84wKMJeFpCD5Hw5tqQPSqkMi4p5ThH8F5nKDTwL04Kd0JzFAhWxbgwsThwLnFiXQ06HofM35QQRt6rFVUHQCupgTOJ88t9O2IEmCSVBA8mcbsNv7yZUgKQ08J8nxR4BIQBCo9GCwmHdU+hv8jwZ0AHkrhh5OY0BWPJawOAYF4EjQXBNiDwKYciC92NBFQjLDYw8c9Ki-ILlvzRxE6K+g8mnQZynMqQD6MIqLEITIgoAfBYQqHmiwkJC4lCTfzEVM010x4wRXpWEWAKAGSQjyIwthqwLqpg7PcL+AYlpDtxE45CUv1iB8cpJi490fohXGEArFqvb2LeKwX7jPFG86uFWPvliJ+ahCZ+Z4sRbWKbx7ovcZhAhFHi75SYx+eEseCEBfwkSwuYorAAELIQvinic1QCWPjvZdGdJar1MW4hwJP4tERux-Gkhw5sQCpeYv4hN8alyC6YE33qWsLnQEVRCS4o0XGK+y+soxKKRTaQL0hy+CYrWlGVWRUZqA+gEfE0lEI1ZYgvItkEJlUi5UtM5bCstAFOiY5tEDZcfIUh482AFs3wP2VrBJd3RCHO0GrLjGgEY2JqYZesoLm0SQJz00AMJNiofyqQR8MvMMsZAKz-KghFWXrA2WrYwWTS8SUykZBIoml4E95RDIaUUgFlZ4JwuzHFGMA1ZKKwoN8u7GvDoVak9KOpH6WOKYgHkq1G4orRC8KY2y4Cv8qEDDK-xCkyQEpNNFErWJglZKQtIYB5TrIAAGS1ZlSCJbAHGXKhhnVThlZ0RGYXOalaS2pT0zqZRg2k6SSYqMmVR8uVW+cppkSQmWdF8q6rpVGI4qryv5VCrwA60yQNpN6jqr9VSq16cpJxEDtXUB05STOk2nHTcQp0rVX+MVDghUZV05SfCF3ZurTRYs2ZYTKDUawaeKVQ5MatlU2KASb07UR9KvCoy2mj1eNawlRmvK9KiaoKtDNhkeMNVSqpGahOagNYkeXE+2DxORXFDTJgkFSimqoBprpgdi8JhomVFztk0DI0tn6G9C58+pe2JFQ1KhnTF8J8a0taOo-FIy3sb9ZSURLtS0qa1PQBdS6N+UCBWgpLIEHZI4Grr3W4IZdUjwvrjLt1DgUeeBHHAA9CEla-mNWqR6NTG1Xvc9bLAkEHqn1WIoiQ1Daniggpeyk0XnnCm7IoucSiCUZM+H0DAg8M7WYwEVW1T1oXaX9c-IQ0QLGwoUoEEdICm7EENowxsPR1aT05apjawNnpDDWRjug50h6XQGjV+xT1hQIqDiCo3AyaN102tlhFqncB8JBGhWTOGI1fqv+9w2OiAUZgfBgg-MWmW4MVW7LGJ6LDqYyDeCLKMVac8kEhs2l-q9paGkKX4EZBYaTpuxPaXhrBY8b6ctMrEaRoIjkazJlGpilGuumHYGN-AJjbZo4C0beYW5MtnRlRlcbkmJmkrGZsXWCatFUEc4IMvjLCBk0tM4IDBuq7Dr6ArnXNQhrQW8J+BiWuLdqpUiCAItMWmbult8r8DapNSPLYNDE3QbiNUmzaUVoumgpIV6LXuEOuq2sNeVS0-KYVJKmWryQzWnKa1tWkiqON6WnzW03q05bdoaQ8EBiFs4TTOIqWwmXmvWilaJNFMirTpLm21aqQw2jVYyDNWCrhVTEbbRasZASzCZg215htv1UPZVFE29OSkBZhswUYp0T9YusdGG1cQ92gsC+Ju2oxXRdmWJZ6LpGSiARvouHDSurUOo3tYIcHV1XXV+x1EHsBJskzBi6wGUyMT7adA+2vQvtKEcFNDuFi4xGN420gEjWPWM8jGN23WEy3GSEwU4uKBtV+ubVOr3pBfV1B2vdiKgoRxO8mHhmIBEwKOK6uZH6uohoS2VmE91b0tsBw7eErKjCY2r-pcKaslqLHV7CDpfrpo+OknkTpB0k7uAVOrQBTvjEmB+AnA-ASpUTRFDT257PBFe0QpETN+kvWnG30e0bqYwL9BnamqZ0DrxxoTYyLavo7ZJNIyBO+NklHavc2+CQ3SiivazcwwmcE2AZWCQXIKbIUqbpODI6oyNvIuBE6lwrh3ghbd8-M9DT15RD0hd0uu0bwoYQK7jIOOwSKrqc056C2RvO3f3A13JwtAtK80rnu37xDHKjYG4IH2MYGNGQAAThODjJ+9vad1ZXVzqMwx9ja0hlIlTja6IFd-KUh8GrmX1KIA4FwGPkxkQLCgY+-QID0B5WQ0AJ++jYvWC0aJ99-oxebEBn3Ki1kqeZUSfndYuAfIAFZ4YnOCiGB9G4+jWHPsf3cBe9z0HiCYyImdBzlly5uGdnE2O6YdKlKvTXp6bgGDGkB5vWeBtgnrZkZylA0wDbl665UnfFddUCKgngyAPcQhNK03VfLGQfvXpCXyD579VxC0KA3QCKg6cjgsa1TdOg2SkByDYreLhJEIQ1VX8TNffeCG8g+RO+Xyxnh6LYODI4mjbFcPvqW4Prjg6C4LSxAHDEb6BjAk1BFvWKtA19dbbLVFtTSFaCt6WpbMBUMMOagFBgHg3wclgCHcCQhslPCGbkxAxDEh9PbVKy0sD5DEh-yOocogRA2IQm6YF4e8M+Qke1ZP5CHCiPeQz9nhkAwYxl1dqnVbaq8CzvBQqHGe-az2P7qXiB7m4rQRqVxrj3KxkmTSeURzoR6lHqQxe9lZGMtQCYv+N85WN5iECGBHIqeYg-wHVlgtWgNBovnQf6QMG5e4iYwB6rYOI0ODlKW+gRiJya7Od9RqXU0bMktGLtFRUjN7Aaoj918q1AcXHivHkBZI0EG1IL2rWFGD4xRxHvEXCq6Uuqkeyo20yaT0x8d+PNA3mjb1XCTY5OxyoQerWA8KJ+gZBQAB0sAiW34cmh0MyBggTnBXWkySa7I0IR+3Ag4f5rgk0wgJvI8Cb6mgnBJEJqE5nKYAMC4THPVcc1V4Anh3WPQLCNSdAAAAvMNqAAhN1toTpJt5PCeeM9BmTKJvSGidkJkHMTNUVCDNE6PvAejm4YExydhPcmpmz3eEqcasgsAkaygJGgT0mCA80weAHE5zplMkm5TFJhU2r2VO4FVT95DUzT0FP+QgAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESTTFQtIXL0zpBDum8MIIQEE3IqHZOaYIcZbAKYGI6FofQQNnGEFcQg6p1jIl+m3DOX+DCGJnVYWIKp+8am1LMsEPBoAbJ2Qcs5akvhZHkB6l5HySziY1Qit7DmCzVkOG4Kcgar4BwNQ2dQBQ6jqBl18ciSYg0YhBX+biSF0KaBwoRrg5EwLSBnKAuRZ8-xwWpFyM1fA5QGDwocIiqCMR3zmIyMVL5Ky1lxIpgi3ZelepaC5ovA89AKn6CSXpNZwTz5hMBXQR2oqCIgu5XXNZAr5CCOEdKyYhK4yS3ASJI5Z4L5HWZR48RG0VT6trKovlYIjVsBoauZoY4NRhgoi+Q01zNy4rubZeyTlgbYvZL4EgHy5kTN8DVHMe0GacX2QwQ5780aTRqUioKDl2b4sTWtOSpQZZyU1lnVlF8QYzlOedGpiqGixvjcc0Yi0QVlusbjaNHkDGqOMc4TRLjzE6K2XPZNMcdUNWZrWbqW8L5GPWaQIJgQbbbJSSagZyzx30BVlo1R5yr41OMqZMd+gJ1rs6HIi51j6be1bXki2JTL6GH7eSUljVmqUFxBegp1CJhItiEFJ1oZySupJcKfQDVhaLTKU1dVb66VJKCoW1ZB4QPMHKeB+RYROApICsSj9DLIECGLareRFqJSgCSTB3DoHhUQdQwQpigoAM9MxgR2DC0ZzUII5B2MQVSP4fftRnMGH6XTGg7kopl6L5yuReY5jCGwOyI3ShtDK42JRu9lWjeDgpEan0P-IRoKqaxx+uNLT5ixE5t+hrTOB4ISQjUxYgRtQ4TcBUwwazOjbODBvIZiYCIyJEd+QGww3JGCUpgVg1hOCN3rXvS+q9oj1qvGw0fSpjIoulKkxU8LPHxODtSI9J9qthOvuQyazxubYxrHGRbG2AW438BYWws6nHibkcK7Kuu1IqtBdq2FgStxSn5avWJuuSM8ONeEbJzVWrQB-sw2akaZLsMYIqCFthfTZn7L3fN2RnXYqf2fq-QBRWVGMPIYtyhbikFXgUqCfQR3mEndC9tr+e2YtyuaDLAKSmA2traR0+Rt64vvAEByxk32GAcsAUxRs3Y9RJfazVu7dX9Acom42Zz-CNTdyBI51Hrnbzcj1BNwTNZp4corUUXlFXGogMFWq2RuPOg3ulOp2oDP52ns+-QoZv3rESwTN4hger34iuSbuvVZiLG9s3QNlYrOPv4zoT8dTTW+3c6go2d+jIYOK+EQxiJJ7yTqcfrtt+DF9Ba82zt7+gD6IGpqUxIK3HZcT3oTdjgW2zsKJSYNA3FvX4MZd8HeHODDeW8SdL3d-u3fZUF7rlJuz5M6hiM28wrb0GbcD9M5XnuoLe8e8bg162AcLdgfd8qPv-zVJXDB1PwXTtR5NzHghceqNRs7ti7uvclBQDgIgZA6BR7EnHpxBqa8N6suqLvURPPZtpF4M-MggCYgAB9F-GWH8zcfC-QDL9X6kF+r9+jsPcVvlffp9Pl-3mzuXQ7yBiAkCrNbVjKB9HuGIC6enUhYUnwAMi-70HOk-xJ2Rn9mAxBL9GYz4hEF8B0Exr9b8SYH8udwRDMfkk8XAy840-4AFJ9oCtoc4iJ3Em1vYGozcj0r4qIV4X878GAEDldwQSCUC-kbMadmNc8oDlhqYRgbxtp8D95NVboA0SCdcj9XwOC3Mkx9AeCr525B96o5tC809i9ltsD2D39KD4CrsrFwRq9I86AGCA1tD09S9WDlDP1Y5uDxDzC7QYtpDvYDDFCg9o9hCVCdVLCshJC+C9oiDUgI9DCJdl5VCQCqCaCFFwQfD7DUQ9C5cwilsg8y82DTCXC8CLCkirCCCbCA1oja9GBHD95yCzCUi3DxDrCwCh9UholAkxce1D9ciRCAib8giNDEC1lgxqgYV6BIjGZyinEJVQkyBws8idUbhsR0DDlDNuBXD9svYA0ujQd8B4l4jMtecetQcuRGkJj3CPDfMr9UhOcajnCYDUhAj1CdxNC9UyNhEOjOJRcu1xdqiyDajEjOCiiCCSjZC202j-5TEbiqiFiZspY1D79GjlcBstCV0PjO0Nlu1nBLiPJ90XFp1+YTDFjAxY1AgZBbk5Z+C5c4SNl11figpUTKhblSQsTGYcSp1D18TY5CT0SrEdBCCA1h8+ssk9iEiDiATqCgSQjksYTrhljktr1-CdU1twQeTuAINSTOJkthtEMZMoDYh9jcCnjUjeDJS5o4NJMRtacIMBiExtZCs1TEYJMZTpNKlBTdTAxJCAZUDwEctn1mTzSHj2SZZBTDT-jgNNTZTSCdM2Tp8XSrTpCbSGpvtfi-jwEjjASTjEDvteTRJliQykSwyRSYzxT3E3TQAQcwdEywyJiYtXj7oxkJlqApl3chT2SIzOSozaD-liycFYye5sVJ0oS-CLSXBcyXjPCBCM0qTHixC7QNipi5c0160iAfTkT-iXTRzBzGZcNS0pzWy-8Rgpz0yhsRy1oFybxlyW9ZA28e55BO8B4e9h5R4dAZCCymBSAR0eo38dV3lADh1iB8y4y7hfEejJA+juAScVddNhSrtQSKUqUgZwRSdCg3ywlPy5ieh48gy5sAKuZ4Ubzyz6jjiwQZArJyVCBKV4LsV6zxVQteiFpVlEKUTQR+ciS0LQBMTOy5d2VIKiKp80RSK0TVluASTqKZzGyVUhV1UZBiLGLFpmKKL6SnyvFliBcTc3hrU+LgQ-zxKDVgKVB6ApL0y6NJY-cGJpLYCGidx34rI5Lax6z9Lg5JL1V35pKJizKGS5dL0vgdEd5KdKxqdhUs8fyEwrpm94YaKNTqUQkL4XLtU9Sc5oKz1HBbLg4WBOVfL+1ChXLAwsI5Bz5bc9pGwn9g47SHKnLhFGQ3szznyfFfKjBc8GcE1pLP8irrdaxrTvYEqhFg9X56tfLngYqAqlTBgarGJ2LOJ2qCMGrz4mqFSWqsZxD2qrKJ4eo+VV0qdVVyNyqqx6dPz1g0qCEGLgQLYxAn9CqjcBpACOAd4NrTwlg-RSgsI+d2rNrv5ir6cgEWBFqHKTVmhdr1rVBzr6rwgAAeVava56g6orTxD1CEAAFTvlEroF8EEHxVn1GybHmWoFqGaHBFAAAGoiNWtbZx8hQEkirwhkaFKEbkapdCg0ad4MbrsrrfrTJSBzJAbgaZBiBHJwaxBIaZNoaiy4a7kkaUa64iaxASay8BocarIOaCbYhuaSafrRqY075pI6q88R0y8-tYgQrKxqC75sR-LphvZ-MhAXq9RrcxznQKCXS+bfqFZF4VaiAhdWtgEsF8A7KxAMrpr1V51hbmgy8RxFybYsbhaYhZgc4frvbQBXaAsJCiisabQ7RxaMtJsVwBxF53bUqH0nouLmDYtph-r5bvU6AX5yhQBkCJtCgpt+MGhGx2rGRcMzr5N2NY4tacVfKZbeqhEWsra9zz4erVlGr87I0C7YqXAzb0Q1aPLcqmQ0cZaddc9rcFa8xPsQFzaB6l5ptNbg6+a9bU7hJVCjavaCIUEZ7+7LbnYbLbbx8HbuLadnaCJXbc93btZN69JSh4JtoDrrcTaiEa6Q6rCw6-xSb8dO6iUY6AM477zn90rk6KlV6ydKabkM77ls6RBc7z4Q16Cf7Js+MkkS7fKy7vKK7m8q6dVX7uq+b26+qQK-RuqE1CHG6kHFNBrFFZ7upB7pAGz8Z299z+5u8h4+8MAh6IVSEMVYUfFsUNUFytKULpUrJ0UYUg56zxHMVg4oUJlTScFBGnTWq36sgEUm1CoeGJH+GmHGQ1t0wRS5gFLYg5hVwm6igRSORjGYgOQzHIkRSMJrHzNSA7GDG-z9knH9lXHpgRSz8FKz9nRzHCgRSXoJleYFLQnQ5An7G-yPVrGPVYwgnYgRSbgn92YWBDBgLUnVB0nu4VgkmYgRTEanHYh9AepuBfAG5jZ3lkawbQACmZKdxwRPISmYgymKmqnQB3kfI6mGmRT7Nph2nQBKmjYunQBIRhmYg+m-zgBWmDBynhnOn3kwBemYmmmABSOZoZkZxud5dZyZ+ptZsEcEcSEp7ZpZ92ypo5iEAAQklDOYWZ2eqdADuaBCubcaabeq2ceYuY+piHeZ8b-LeoBFafOdGfeWBf+emaacNm+Y6fBdAGNiheufBENhBe4CKDBd2cRaBEWZRZubmbGcKEbhiBudiGvPTAKni2kb4epUbL5sBBXCGOzgGG4BpaxSYapYBx4C0ZkbpfxjjRYDahMESwBCZY0GlVGYcd5b4YUomPUYaaKHZZ0YLF2kimpZlbLmrwx0abBBFO-WEAUoNcVebsKb-MgDoG9HUXDQxYtatafRNdNZSaoBydgEgGseyYYDdcdebudbSYAFEnHPX-WfWraRSAA5cgcNuZyN8N5+vSLlqkZV9dZgc3IqxllYZl4URubaXitlzV4yjbSpRNgQZN7QhNDN6YLN0Z+Vi8HlqFbRlN6BNVv5eZNFAt-lgsURhmys+4nu0NBZBgaoJzGUf2XwI+tqQOdYZQUhTQPe1cZNuRjgCpRRrlAbU5XthEIoR3KU+MQgY+5gg2HA3u8ainEB9VMTc2EQfQZNtZZezmuuMtot+u0N2IK9wYW9xs-AIVkVhnAO+t3hrV59kq4hoAtKx9XEc92RDR+LBOsQL4G60xKak+4qacB+KDsENMBhruPcvuLvQeXvDAThm0ySigUwUmSq2KG4UgRpf3TS+OOfTcCy1hJhDgTVJOD21RrjujxFHGhgPGk2dGmQCmZj0hEiMRZoUT1jh8dM8lG4PLCVLQWdUhHefWsM8gZQZQWfDIaeIwYFTTzp7uZG03TT928EBG0oczwOu5QW5GjT5QV9xUcz1MlTgldMyEygJ9GeVzvFM5XzhEzzkZiIaCft7mjm8ECEDmuTpxYwRT-mZljdjzp9Xz99HG6wcEdz+IXLP2BQU3fFejmfcaU5YzO5GWXSEycBNbYr0AH-ZSQDeOcaG8Yr8IZfTjpr-L8IV5u5YoeEDjllwYarwA8EHr4yUoUjjTmcMmD4cqajxpYr7dAwYgmGksj6ar2r1cCAotTi743RZrhdO5SL5GpL3EHL-rvLs5c7zVIW1cBGgTkYzAyA5VHb1bjr672MW7jm47pgMgXLiY+tPb7G0VeEcr5RHlyQLzySUEBS05fN8Hk7n7yYMzCFLOeblYY6rLimcERxhzK7baYr8OrIZr2HwL770gQSJH1edfHeS7jj8EAAcgE9OXC4Z7M1FuE8u8y7h4o-Jn0DJlICC-7bPwEiahYHn22j54BdNd1YhCEENasmCFxoch0isgtGLFxsvI4HhER7R7B8C7O4l6ARvAN+J+y4R7M2O-19rH58N-EON919ywN5EsnerH81nZnHfmnQ8G7VWgK5rJW9wWuhK5FL97rO4Ce8hNuJ99A+Zed+nbd4I095KTcBS59+14q8259445FJ6-FNzwwLSAAUD4k5aD6hEol8fleR6kT+98D8GnvRD66iL4-RLvpcvqBBXHu4L8e+24j5+KL5400a97cBJhBXiglfL8-kr+r+T4ZszUfF9P9QFbdqG8cY461hzg2SH+MBVhBSAQmM36T+3-TQJTT5UkYYLBlrM48bX-kEP5H4zTMzvbb-Ulj9d+oE0AIxB5vmcelQv-lrExj5Ts3+H-D3gf27Qp8i+xfeKq3yNz5st+9-Nzr+gwz3pDMqfD9AST-I59nkRufPqgP75IDIwbqNejqmujvYtijMJ9CQB94rVkeFmQPhxxhh9Ri+-1a6FZB9SPIT2vfDyJQOID1kTKcpWvse3ARYR6BOvbGIQGYEQNNwrAzOr6ieSVFYSSlUbCgRtKq9tI5USgPgFBzBwBgFQWmEwJWo8DqBQ3NQTpHTK6D2Yw-dQdlDByCD+220fgWaXwHkDOIfOFgNUG4jU9-cFVOsEIKwjeC5qBqacpxHcFqJ7K-uRHB4PHzmUc4oQzwa-nTJxCj6guJITvGko3hUhCQzqh5EyFDtGAZ1AISNRWpthPAhQxqumXJzXsAhulFuo3RWonV4yUQrwSx3FA+CgEI1ESg1BITUChBwjSMmCBkHDcVBRBeQjQGngyD2q3ABwDAxVgkIGA6gEQBwFIDrRbCRARZAYKLo+xaM3hVhGgM2H-YqQmQ4HE0PtrDsK6fUMPuUKgyxwjhgBA1gNlKDTCsKsw1hPMNl5LDVolwvqgNmaC5BCAFMXISkJOHz8C6yA7YUEgLRMCwG1DLCH8JE5BUoR3AOEVx0gFR1C61wkgaXwUy-p+2yIwPiJVtjNxqUwsWeBKy9RqcOMJIvlHhlNjeciRWbIFNSHSI0UqRFsGkc3DpGswCuRtZmM3BK4lZ0+siEuP0DLgpx52KwfUqbFDYFxjYMgVkYwEJGsxORLcZ4lKMDJnpT2XMIUOulBCmUWhyELiFQC+F1DVc8WW4RmROF5CfKACMoX1Ttw3CTh7te4Tr0qGDAAhjiBRCNXN5UA-YjAVJvxEBEm5MhQCD0caI6ouCPIvEX0QwH9HPVeIEcI0bUN8H9tS6Q3GQEmFqAI1ae6YvYJmLMxFJOgN7RMR6PCAcdS6ieFYIdl2G8RSxLozUSrG1GUhdRtOeMYaM9GNUKeEIizDWJq6-5aBm4EsWvx9FkA-RoUZ6jeBrGgdFQN4EsVOPQjDikgMYscWd0nH-sCI20WcWuLQgjVi+4IHMRwENYEjx8HATQQqN5FKjry9QrOAsxlG51foEtWEn0HaTsxGApg3blYNRDcBy+rY8vkUNNHctYxZFGkHakZBRiRxS4viM9W-GJi3x9AbgFuLQi-irh1DQCbanSjqR9xeYnXgKLP520Tx2URUbl1QlMo7UD48wLwGMB5CKgPUIsX22oZr5XOK4qgOqIDRpR2RSo7oGyG6DRxyQjYHVmlBxBcS-AbFahhjjAgtENQxWX6NZ0MCdCZQVfIkL-FonrRGw3QRkNtBrH2issRyQ8H4HCCWceu1nboPTBPGgAAaAACX9YMAAAguAHAD+sAASgDUgAAB5cNsgCBA5UbStNSCZYK0iogzoYEpIGGOkoUTZG8k2ib6JK5sSPBvUEfh+OcCBSFxMqMzGxM6ALhYJ7wdMmlMyB+TiwiUo9v2wslWTbJ9kpya5PcnZTJAVEuKTvwSmQJIpI46SmxMImAZ5JDARSeiSCkyoVe9UugJ5EInDCA03oOqf5IKndSQpK1QicSKoDMs5UHo2fEbClxqATAXgF8XlOsG4IFplkTOJ5xHEhTiGPktQBtICmNTgpSYwMqZI16FsHAfsRkAAAYTgNpGoI5H5wZAdBy3IPNQEGAXR3pECW6doCBDXT-pQolxsjTxBaSEwwM3IADNIDpk+cL0nSdJ1JpicDRwMhvuVG+mlUs4QwtllnHRmfTYo30gnijOk6bEh6gQQzEjPFCpBqg2Qd6SpPiwEyiy-vIdmaFzp003pruDGdlG+nJRyQ3sXkcHEcidBGkdglYBQW6G18kkpQBGZzIiEyDmZkyL6amCSQqIRBTAmWT-yFkMARZbANYgiIkGOcigOsvWY0nEHsdSsJfQgO9moamzRZ9MtjiJQqCcxQgcaAPhcLmqoylwF0waILMCDCyHZyYlYPeillsZT8-9doIWICEPhpsEs2OA+SjqgjCB0YAbI2BYDHCwhpw-IQVS4AXSk5AmG4U6PAjjhvapQdMVGG9rNB7Z+syIVnIYwsAQR2oLANBHRE4N2SIg2sWhFKA1yDZIwWOa117kojT+DqHuPTkfLYju6dsgObrKDlMCRKroodhvEwoWI-gpM1oYEMmn-jDhjooELkLOEFVbRjdJiAOCOFddjW02L9HQAxoQSAxlooEVnKAQITYgp4EKUcAfbIMU5WwxbjsM3Cng6UVtPAJCGAUrh05u8i0fXIPk2jOgb8lcEFDPniT1QtQLWQ4Bvmxj15yEZ+YGPzzBiUI0EVCF6KtmuiMFPs1+fnIIGUQBwLsirKkA+hkKj5sciIKACAUgL45OqPcRmMPEUKiBhczERNRIV5yyFHQnERGPInXzhOt8uMXuF-B-iUx6DNMZwq-4lA7kmEw1vmKjlZBCA0ikru1U7HdCtFXc02vWKXlBJbaOiNeVorZYyKOxlY4hNWPFgcdF52oleeYseCEBfwli32cwrADALIQnYrCAYt7HCCs47ikrqgokXoKJxusf9hONJBziig4S3EOgo0nRKpeioDSXEufkrAdxZmDhbmK4WiL-i10meFqTokL9wyyFfoSUq9J6V3pfA+gFggom6JrpMQ5UvsAZnBDDof0sHC0poENdCi-ZcQi0pHnKLg+bAEWb4EOKXleBxfdYkMo6VkSXAqKdmFzMNTvSvxVvNFMlI2XkxrRJo3ifFiwQH5VljISma3X9y0zcELSiHPFkSVATmUjIUVHcvQXQS9pwUhCW8EaU-EjlQgVZcbOdBIS7R-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-5CAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRLpMVAIn4xS8myM8fgwghAQTckwXw0pghalsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfIdJrjVUOPSPKtTad0ug3Bpki1fAOKaXDqAKGEdQcmhjkSTDGjEIKZzcQPKeTQV5JzH4q2uUBciz5-h3MvooQg+Byg8yBb-d5hsYjvgkRkYqByulhwYE4lx7zhkvQ4VLFaTcDz0BiWCNxBEcXmKnlYi5Hs7ErGuYSuxOKyXyFoR-Rlj5YitwYCJCZZ5a7cIxQU2IpQhWbzfvQKWYIxVsFnquZoY4NRhgoi+Q0ZlggXKsrZeyTlxaIvZL4EgeyWl1N8DVHMZwK4eVGQwcZm9rFiMMPkz5QUHItVIDM-QbqdGlBtkkngWMsW1yqKQD4Pr+4BvyWy6YjrnWTNGNG65-rOFhHmeFe15hKFCJEWo8Rkj6EANFsbZIqRTq1n9dXLpLCi2kDMYEW6czZESrKWeGu+gG19Nle8QZHi-SmTrbXXt6iWpKsHQAnNWAw6ZIXME3x-j67utkWNKFXcFCaFxEu0JA8JifP5WLIM6pQzkk1ZC4U+gppdWjR8aJdCZ6HqgisIK4blYHnvcwLQlKD27QYQFCFR7UX0CpJG799dhW1kZPjD9EGZwPt-U+6RWbAMrk3dKhin6o2IekdBh8IH-QnoQzrKDm8mKFEvURuMFaF3DXCcul2BFuF4cfbE-9nB0NZgvXaudJqk2dwcAQohvUD4kJueSAVZt9DiYkXIoNM1bZYShMJ6honhBwm4IJhgamI4af0DeOTEwERkVAHx+dhhuSMDhZ-KBMDZn10Npuvdfij4otiI2Z9jJXMgyQ8QSljnB6UePXRqaAWd0MZ8fu59Er9LWyU7GNYtTLq3Ws06-g6DoE-2saR-zf7YtMvplZoQGW7MYOcNY-RUWIm12pXY1jUTkMccK3y6jr7QsJimu-cr2XGkBNjApUEPawPMA-llmBy9V7r3c-jBRoDUEcAmz-Epg3gTDYWxA2+FXY7bxm3AuLMRmhmwChZk1lDsm5OkR6qCjY8WMku7i-Azij5MUbN2PUPn0u2eW6iaxeKwWgfeAIPTNDag5yBDp0HBmPthCYu+0d+g8UJoaMS1LXdT7ku5WCWH3BocajXQwjO-G6p5tfhU6766oJBWq1hkVzH3GI6FX0iRmipFOZR6uIns752UJE9j0tzcxqNk3oyD9-PKUEenc3Ji-Ops7ylxL0h8v9tts3vk+HJ6KNndJy4Shm20Hbb6wMypDCxpy8MHt5B9ODdLaN5Ny303zYc5XB+23IN7c-yl-EoZruZ1nFiCTzm+bRvX1+ybynZuoIW6t1Lnr4fdtO9cSsD98fPexU3tLorqP-cRSzoinOchFAQBgPAJAqAy5oGJLmytDGO5dzrZHI+5auum14KvMgzfQAAB9u-GS8adJvcCYi9-76kNe69+js8Hj3vvfp4YzVezrzmU1mBiAkCtUZWDKB9HuGIROJ77lY2HwAMhP70HGzfxLsl32vnnJrJ4kOb9Tw-VbyDr6Glvyp4I5NHKD5xR3BXcZOTZ-KTE9baQOJzYnedKaJXHlYfV8AVNfDfRRYbb-OAnSDOedDAlXZ3GfRA8Ay-G8CApMdzNWE1HAzPBA5YIKEgu0SAwedmf-X6aFYHMPdPCPJzKiJA9-FAr-SncENPL+Y3egP-edIQ+zL3QA1XLgggujOgrIBQsgrAk1CQnbRgKg7RbgwgkYG8Bg4OHNGA1Id3BPafFuV-PfPgtAgQkwjg0QlQ3XKsFBLbYQh3K3UAzrQMJQpQg7cgxw2w1wr3TQ2QmgnQwYPQ0g3w+-Rw29BxVRFnEtagzw2vZAz-aw+uKyHFYMaoZ5ewwwgTOIsxbLSxMgILcwujJWaQ3efeKebgHw7RPwzmJRExVRPFDwr5E9arS7bGXQ0g-Qgw5fTiKaCnEI5I4BVIzfdImRcEIVfLUhMQk1ZndRVnTg-A0I+QogyIho6IlfVg1hZwdhZYxIrQuQ1vSwtIncSperUAQQ+gfY+gQ44tNnBYxw8dLhZtXqJIjoujR1QIGQLBOafI14u4xtftMo7Qn40EQVSoLBUkIEzmN4ptToMhE49YhMX4mEypHQaAh-NuRjGLVEsY1fXgi4lEjIm43zF4zmarXzf9CE9E4bcESk4WVDBwzmXzJrALUhcEiIQPMY+oqA+EziPLH9Lk+A1k+krwy-WLIUjyRrOYlrCU04wMBguHO1IwrdSLWk2LSU2vGTGU9U3ExRdYNjZrMkygSTIktvRGVUpgjU7or474s4iY1Ay4gQy7KkziLorkK7UYp0wMLfcED0lkpzWU8wR7Nox0o2BMAUxgnYoYmpOpagBpVY8o50kkyYt08k8EM5ZMn+T0jyDlI4tndo6MqU3ou0A7MMlwdNR02gzY+grYqAtkzib1dNIgS0-0vUxfDslswsr9GcaZfQXs3Ui-EYXs6s8aNNX1axEc5UlwG8CcvjfPXXQvPOEvQucvEuSwGvcY0gGtBOFvQMXZa-atYgeMjyarQxOlEoqNbgZHKnMAyEncW47dOFdqMOcETnQoG8yQUo+857HodDb6I03IN8+FN5A-MLN-D-TMsEGQKyMC2FCCxFAsjWRFIoixP8qNZWKChk6NP45WbgQEw0xwnFNomQPCgMqEwihC0AOE0izmDlTHLlP9Sio8tEGimEui7Ei864W4EGOnGtN4eVKizil8oS4gL8lQOVUhPs8wYYsWKXTeMS8YjM10sEdXG4yStClwSS-teVfQFSjisc8I0glSnExw3xL4COPuDHSsLHP9KPJ8hMG8YC5gjWAcnmLC-1MtF-DYkYdy3nRwGykGFgfFLCm7QoFywMLCOQWo2RHNRsHfEGCLSgXETlClUhRkE7Xcq8nyqotdF1VSrCQq+iEVNUkCsirC3A3LLC54aK2jGMy-eKkheS8WGql1ZWeqyIRqsYm8VqxiQYjyNHdqTKgXMqpwvUe89YVKvymKtES6MQHfIwK3EWa-DgPuFa08JYP0UoLCfKw+Sana4+FgWa+yiVZoTa5a1QVap3EWAAHmBCWu2s6F2rWx1U3HBAABUF5QAbg6BfBBBfV29uSmxWlqBahmhwRQAABqczOxBqSOIUFxQq8IeG6SmG+G64ooJGvuFGoyt6yYNxRZZZH6v6mQYgRyYGsQUG2JcGpMqGm4uGhG4rQffGmQVGta9Gm4qyFmnGwoPGsQAmk6yypoheaSXA73K3G7ckYKysRRBebEZylYSzazO6neIqommjK06aRGNGgW+LJuRWogBnOxay-AWysQeyxyuhInQ25oKokcUyjW9ed616WYS-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-S3vPjvmNLNBr0g+f1nIaBLlPq90+6-SSQHmf+QBfjfmc22bfp3Qzv3036gTQAjH7koJxzcM-neH3nvy-qd6-83hiQfkPmmsP236Xh+nFSr4y1JG7fY-o5yAxIMr0E3U2En3D4eYgogZOPpsgHr19a4LfC9HnUNDvo0+vGY5I4XSokAC+zPE2EUWh5O8rY20Cgb92TpiI06hqDZMtw8iEDxGk5EStyWIEBcoem4agcPDcrh9bYtAzhPQPWR64m+5gdgbEj-xNtRe2kcqDHFxQgwBgFQQYE7xMosCC+u-WQTpEnLKCqEWkWKG0TUEkCXA20SQRaRH7p8ui1QbiH3EJpgJxQ5Vc8CZSwju4nBQ1KqpzBYA2DR27uJHD4L7iqVto3gkQJHAkYhDbB1tTPBELCHqDSCMQwIZOQSHW0B2pdNwbnHromU2wngdIS3UnKHt7Bi2LgFNVrDcAW6LgrGNYNCF2D0hKlMofVXT5TRQEnAjuikXUpb46BNxVrmLSGJsEP44CLpJ0MGp450675FaKAgYDqARAHAUgIbHEJEB2k4fIjJumaHl9p6rwKlskIewBCUhjATBsIIyFtVQ6xGOjFsOvzGt160oKBuMOgSTDeeMwm3vUPrrXFmguQQgC4mSFS5khrdHMMBk3RYQ1hFdE9FhDeEuIqB8A7gKCOq5ZBk+o-cFFAMTpj9U+hAY4WxAC5Qine6fQ9v207iUhQQdCdISohkTlDbsmwnYdsOqG7DvKh8XIQ0IC5nCwI2RDUFbAKGEiqATwtqspklhkBGAGTfiJ8OiE7Dj4RIjkR4N3K8R-ovI0KLdV4iQx2RhwusCYIVGGcZASYQ1t-QQQ3FVRewQ1oIPaCdAL28ookeECthF0YgtsJodAkNEz4WRccElDiLBL4ieUsoriPKJboWjUgWEXiOEDPzAIsIxomftyKSCKxpR0I60Vzz9A3hjRprRUBKJ5Ehi+It1baN6JjHMpto0Y79jSnqop9wQ2ojgHz3T5qATAXgFqIwG0FXc3AxYZwNwEz4ujM+JI8kI2D5H5NFUxUOMcGObG995evyeUeWPoDcBMxBEesXSNaH-VpR0JGkEqhVFqi+eVsYNEVytrRxY4FsASOONbE9CPIvAYwP2xlBxxwxJlAfA5w67eiNx5gNKDrDOg4g2Q3QUaKSO5Y6s0oV4ssL4AYqjiIcjIs9KIEUyZAzOhgRobuIYBEg94+4u8VSG6CMhkxVAT+gKmaHdBwgJnVrmZ26Czpo4oAb6gAAlA2DAAAILgBwAgbAAErfVIAAAeQjbIAgQuVJtpTUTH6CqxYGa0ZKNFGqUtxsjXcYxJ5Gw9zxNgjhBv0rFyCGJ7YugCn3PGdAFwfY94JOVEmZA6JAkgdKpQwlYTcJ+EoiaRPIlSTJAO4ioHHD4kGDKsHEpIKpXPF+weJOfICf8SEnHwcy-E1EJ5BljSD503oTvjZP0lCTmJJlGWDzD5hKxqURI9vEdBxpFickpY2SZgj8mWRQ0WsHkcxKIY0S1AoU1yUGMuQKimCqEiXlq3fL-RGQAABkbbzoagjkQVBkCUGu9yo1AQYInGKmyoHAWUoEOlOqkfxtA8NPEJrjoz1TcgNUsgJOWqwFSJkDgv4IUMcFxAqpuZUvv20ggBcVMyArCPVNGle5ypaPQaQJztKLFLoU8PqUUNSDVBsgxUw2O+BGmlTso5UnKlTSKlLY5psUcqclDlomp5YIMRyJ0DSTGCVwMEq0WoPxh6IBKaQU6X4M6GzTDpjAcqXFgUQAiBBa2LCHdIYAPS2AaScEf-1THWNAg90x6WGNhFzZkRp2UcZDOhlpJ0pp4lwBUDaihAnUZfA4bSMyFQR502MlGYqPDowC+p-qD5OsJdAR19RWQdIYRmZnL06MZ5Y4VRiwEEQ7sFIyITuOpFP5iheQ64kFBYDO0Lh9MUoKqKjA+1mg1MmGf4MpFfCfhGYLANBHaxAjoKZAngSaIIilBVZsMy-IRnq5mzUZAApLN7DernkVwaIrGUjKhk0zw+WIu0ejiFBmJLaEcAabUM6DuTQJAgM4aAE+GpCfK5Mo4eSAHBbCnmp6CCEvSREOAUaCY-kTsK+FCiBxfrQoKeGYkbtMBCIlYVaNPBMzmUeASEFXJXB3ZyRQICOXsKjlByUpxw6WeSITlyy9q0oNOZ2LcGDiYgAo7DN8JQjQRUI7ou2ayJE7FD85LcouZRAHCEzUsqQR+DPOjmczQAlc6uW+hPS5iZxyXOecg2mA4CSUS0pcFNQLl4DdyqczmunJlF7hfwDY0cUXV355jdR9HLUXvL1EdAsghAe+bD0GoeiGZv842cPGxE+zYU1CAab-NZYPz6qgC5oYQFGi2j7R4Cv2dQCgW-hoFKUmIJvMhCAKvRc0Mrufm4EXtSQVsa+biE7E3hgFCMwoNQtJC0LYgFC2+ceLxi5zFQyYhhf3MVBkNbYu8nUQWK3a150pcsdjKA11oul+CYiqyOlN0oyUQqW4gZHjJMpKE8ZEjeqW0WUVKiAmYY2iLtNtmSpdWEIToA9N8BVp9y4jITg2SY6kE1F+M5triFUQiL0pNY7sUUSilJBXFZAXEI-M8xUs74U+M6RKHGhyYNp4oLab-DxlvYqWzC1sbBlXDMLOxtYpKYwopD0A74iix+AEtKx4zUlhQYcfXVakJhYl6KKcS-M-nvz5xQCcNAR27E7SlsbRbJYwFyXXFFxkgZcZeJKWTi4yfGVCYpIYAETrIAAGUDYUSEsmQPKSajiktjip1iNydgqVGsStJHCAycJKtjcTdxQ0dKXMqSkiTNJYkoJdYgkbSSFw2yg6EqP6WDKRl4ADSTOFMlbLZlqy1Sp5OfaztFQxklcaZMAnlhgJlkvJbEBmLFS7JFseEEQw+WXjwQyAwFRwGBVnQpe6fPtmcvmW+LFOnkzWD5KvDpTOmONPtk4uKn1LihyK+qrFMkDxSkVKSlKfYojjbolsjPLsd4vcVMSFRF4+6M8otheSqAGK6YM-OOj4wXlKWK6GDF6jXEnJCUhicko8XJSW6MYr2IiseUSqmVZDQlHg3dhYjR0tS7xfSvp6iiWVTUPaVS1aCSsgQj4jQTr3BA1LGeCDJEYaocCyzwI44K2NSvkYar6eWqnoCqqDi2wbVv8cwdYh14eqDYjQiJdpPFAgSuBbcNzseKgl1du8wCZoZBJ6X4D2SMcQIGKsBnprtJenFyfQGcxF9g1HCUNRJKZk1yqW4EoEF8vMlZq9JOa44Y2BU5LJlcEk3VWJB9rgr7oOIEXtmroCwr7oVqn8vwA7U3EJJPapqF+XxhYQJJqcU5vWsCDjYm17sT+nrLbqeCACKawSlVIHamSCV+q7lkJMZBvAMlJZKJbHLzXLK44oayycnMbBlq7YAEytZZNrX+LEgs6mcPVJlgVs9IbavWN0BkVAr7JcIngAOp-XaU-1IKpVljBcUGBp1z65XG+qDiLqBZtqJNZxD0H1TggaaqtfROEkHjUgIiotRqPv6ob8VRa22HoIkmYa5JEjMjV2oo2ohDYHwYIEoK7Wiyt1Ra6Jdy3XjOTq17wRkP0uUmETiJZEm5eSD414SBNaksZROq7VTrOmnGtNWqVHHggMQ+8ldacmEArRnFu0saAxtTX1TN17E49RsI41sANNsy3jZhIGXDLRlTES5VZsk0QbipMm2pnJu2XQSd5ymoNTHVxBvBBWiKG3gpyRE6KA0k5UjD5p6T+aghFszNOookQzgwtKIP-gFqCj8DCAlVJtuFm3Sx0wmvm3hgGhw160YR0WkLV5Wy3ha8tSouGWlvnSNZStCWiLXELtDBbGKrZYgGIBrgrQ6V5WgLpVvsU+b8A20+LaYDXQBrWV+W4DoNswQTb3amokbU1Fth9btpjWKbSNjoA5ahtEYwoBarqWhb6Aa2sEFNo9hmZG660hdbOiKjGKRAmNLbd4ukoLbhJkyxwtlv62-xatQ2nVe7DG2ZbcQr2sKSkD23Tb7+VSh+vbDJge4hVgwalNdtdWkYft+gH7cv1m2CQUIDQL2E9sW2xaOof2npNYnh2Hb6YiO9mOdqU2kArt6qy1ZDD+3Pa1WvOHSSp0GFLClRH6TodHUg5nVREMHOSunzf4B9M8rKZlR9pjCV12V6KnvsZB5XGReJdO2uJpDTYDC6sdiFHo51FGpKjKZQkZpmOTqVgc57CmIKsgYEuBeIThUgBaixo6zR5RQcENzo-638I+GSNpTHGlgrjx5uCcZanTF010g4OaInVbpv6bxSdPcLQC6ptagAfdn-EVGqybE7JMd4TSmIyAACcJwedNE0pjNqjAcwk1Mnu6jNr+2-0OWNwGw3T1N0+pRgkRmowDgXA1+bKcnMKCZ6XEBPAnlZDQBN6+1vwhEVzOCgx7uoHXD4FrLeg8QU9nk4RJ3k8mBxj4LgHyCRR4yUMYgte7PUPs3BrobgOfWvfYpMXdRzFNaGhIxve1BwTKiOr3QOpzJsBTFG+qSlZCh3B619ZipgBYup0mo1+bgIPTejoBFQTwZANeBHF84hyM+jIPvlsmYA58H9OyqNNLpf38BguRweFSeoMDAxSAH+61s1wkgRxNqmBIjLXohDeQfIQBjPt2NvVFQYgmB-yARtiDoH9edS1oMcFADtYWIA4JtQoJYBKD1NvUCg8nKI1LZ0N5G6jdxqewvYWDxwgcLAfgPpVEDFJHUR-HhCIj0D4ITA95CZBYbBATB0QDIe8hEHqDB86MCuCkPKGfIjPKchihzjaGWmAG2fX7D5XsquVV4cXfTDIOarBxMu6+HLt77K6YDauzps3A20LpOkIMOla0GFiRwlxjuy8enAGLLrdypGIQIYEcid5qgRUHdVSFaC-63F-fAA9-2APGBn9+BjGpAb5SoMp4OrC-U4epD+H2lgR9tcEaKWkCZMg1AHYYp-z4AxxiYyOK6OYCyRoIm0GnriDpX2H+h3aXwy7WqPHxVd3sU5u4fT41A2tXSPnQTo8nC7vJouyw2gyJg6zFQQWsnXUvGPtan9oKf5XBGKMO7U9ZDWwEdvv726Ol7a90ebuOwzRkdRQAnQfv6ZC9-dXaQPeTutitaa4arIA0-oJ7aD9AOugADpYA8NAqlaAoJkDBBZYZseZp8w+RoQG9NxQQ5bVYFYAvjdKn4zZL+PsLATwJomUwHwA8wITho6HrwBPDHwegWEEk6AAABetbUAICaKDPs8TBJ9XkMZ6A0nYTekeE+CERPGAaoqEOdF5QiNRHNwPxkE0yfBMsn2mSPF8uQExosBMaygTGnz0mAE80weAVE3UtFO4mwThJqU0YpzJymFTSpqXlyf8hAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiVCSscJDBEkxK4aY6BhBCAgm5KA6hYTBDZLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+TKRnGqEVw5FJyQYlWnSRavgHFNch1AFAMOoOTWRyJJhjRiEFVqJSlFPz2TQQ5VTxFrNIF0oC5Fnz-C2avRQhB8DlB5vc3exzDYxHfKwjIxU5kVPDgwPRqyHAey0YUUhUsVp5wPPQLxYIjEEShcotuajKl0HhQiho6zGkIqhai+QmCT4EuDkxM5Yt74iTaWeTOFCwVxNiKUZlo8j70ClmCdlbBO6rmaGODUYYKIvkNGZYIBKrK2Xsk5cW-yXCUF8CQGZyySk1RzGcFOHlmkMFaaPdRzDDCxNOUFByLUnlmrIUsQpNsAk8CxhCzOVRSAfFtdXc188cFkpWEak17TRjevWfoP1vTwoGvMKg+hjDhEsLYdgm+otjbJFSKdWskb04VIIUm0gVzer1JwZy8J5TM4FpqXy94GiMl+lMnmqt9AUUiJasK+tOCY1YCWagxxljrHZwtVwsaHyy4KE0LiAdzia4TFObEIK4rQzkile84U+gppdW9R8TxWCO7zqgisIK7rlYHh3cwLQGK527W7aut5C7gX0CpJ6i92cWW1kZPjU9r6Zy7qvfujhYROB3pWOOnlDEz1er-Rwj9D5H3+kZb+nW77R70pzA+o90wT2HxnVYl2BEKEwb3d4m9IGb7ofIqu-VvbVXAlBMa0uDgYFwN6jPBBGzySF2mojdjrDuGlGdSZV1B4ISQmY+g1jwg4TcGDUxmekmNT6BvHxiYCIyKgBo0sww3JGA-NPm-D+3Ts6G3HXhodtcgWxEbAexk5mPEAdI1-SjRsExTWIJO9Vw1XGDpvfjQTM18ZrGyZdW6unjX8GAe-C+6jkP-o84B4dF4sXTB00ICLBmQHOHUdI7zFjZ0pfpkRhzCWnNAeDi815kZpXHsZVNY+mXov5Jsf5+jO4GtRY-v3Qew856cviffR+gCOCdYvkkv0ClQT6CGy-TeWXsqGHHr1r+-WYjNDNgFLTdHUGROiRwy1UFGwwsZLt6F+B9FzyYo2bseo7Phf06N1E6iYWVZUM+gQEmxFScMIyOTDBPsYN6jdsITEcMVwqTCwN0wkWhbLovNF1KwTA+4AD770att1TjYfNJ+3R1QSCrliDrKCPGObaMDNhbWFiKoT0wrKwy09r7YfFjiPU35zGo2UejJT0s4xXBrtFHyQs+6xPfnvPEEi+Wz0qsDFYmg8ZWhjHnNUEzaAXNprdTcc4LGsLxbPX-7E9VyN9XXW9cT0MfTsnRuQYm4vvz0tN8yV3p1DEWjmOXDxve+vR7mvs4HaF4pyXBuc0ddt7FM3UuTNO7J6Hs+GvsqjwF-nJ3gvQ6yFVT9uQigIAwHgEgVASc0DEljZm7zJcy55uqNXL+6a3Om14IPMgc8YgAB8W-GTMadKvzfQBt476kIew9+jsJM739vfp4YzUu0rziU1mBiAkCtZpYDKB9HuGIQ23GsI14AGQ796DjZv4l2Rr-n4zujrcEHN-x3VrN5AF9DWX+k8EfGFlu85hHye09Z415vxmg-IwgcJmIcJe984uNKv+yw3G8+i+fCU2z+4BOkIBSyiBQe1+UBjK20N4WBSYfWasdGqBiekBi6mBh+N4QBlmIB7+s+ny7wzAJ8PuNOo+r40B9+sBT+uO4IsehmF8b+Sy3B820sS25szBGB-+OBdoEhIhlByBdGAh8ejARBNiVEQUUhymuBK2sh7ug2ACs2ceH86BJB-+c+bBj+8BnB1ujBdAfBdGlhYe5Un+hhDK4hZBuBahmhWhnMdh+hduShohRhCYahFBdKM+v0qQ-CCiQiNSVOvutcKht+6+7B5hfuoA4IUKwY1Q+y9ANh2hERiiuKqiZAxmcRLBjKSsn+jGaQbc3A7hNi+BuROiQiMKThrmgYuWu22MgBuBwRIRiyF+qQOO-hzhdeiRZhO4z+zK8WGKORnMzK0RKaxBwxgYtRwB5+2h9WraWRM8TCIiMRTBJRYhIxMBYxSCuOhWXBmxia8x1O1hnhnE1a7aLCt0yhpR-+RqgQMgYCc0Ma-BrahataxRBcjK7xlQYCpIPxchfxNanQpxQxrRaIDGHxYCOgVBSyZiPms6ix8J98xxS+yRnC4I5mMxnEuW5mN68RbxU2hJGJVi4Iws5WEJ2h9mUxiCgJkQsQhxyxrhdoK2jJnMcWl6pWsJlAnGARXJIwB6dxHkxWLJZWSWFJCYFBIO+qaJqQHmU6eWbiFmopSxpeZsN6fJNBfC6wxGjmwpOp2Jk+iMSp7M1BYR0KXIe2cJlpd+D+eJ4xnBu2xJHk7RjpLRQUy+4IXp9JJmhpHkp2zRWJ2JKxlmaxnMU0Fy1AeSsRQJxhrpSRHpKR4IiZyZ2RUpGsqqlOCxLxnJLgMZ9RnMEaWJqh3JWQPR+ZLgNqEaRAFp3G+pLZDZ3s56M4nS+gHZCp4pgwHZYZ5gxWzZhArZjKN4w5NGYcGekc2eMcee8cheOgoBc+pAOaJCm+jK0yx+2axAcZJJtwMiqq+gBRkgRR3AkOeOXGwJVJuQk6Py7U4cdJhWF5ai1552PQzudp5gGxT5vyRyO5aZox7pYIMgVkj53yQFqq3pBZ7uSi0WhRXqysIFCYIJnxkFoA3xKpdGUKzRMg6FgYmFys3A4JeF2hFK8OVK16RFteJFiJoJ2FKJR5PpJ5qSYs-ObwAqxFCJO44IROtYdJb2J8iCnZU0Qlmco8fFOJph4F02suqRUl8FLgUltaAqilrKslahMlqJ22jgXwYiVccOlYCO162uf+ipuBv5SyyGcgs8lld5LhIwtlBlW8+Axg0KqyKiXAeOhQzlCYWEDlCCcu+qjYq+IM6pXmlK6KiCjIG2oBuWIVY8+uI6pqsl2+wh6V7SnZKVQesWvlzwAVcYLlgwKVeVvlcGhVbcxVHJpV1ldoFVbFcaJCyKpl5l+62V9Eeo156wUVaaVlJFl0Ygq+Rg2V4Qx+HAVcY1p4jqkiWEyVvl41aVPVwGoALA-VplnKzQ01o1qgK1E8IsAAPMCCNbNZ0PNRNi0AMnKuCAACo9xSJCC+CCBPIN6slNjFLUC1DNDgigAADUmmWiDUVeQoBin+IsQNIl-1QNdOhQoNVc4NWlEwRi-SgyD1T1MgxAjkb1YgH13iX1OSP1wgf1gNwN9MiNYgyNkN4Q0NVk5N8NsQVNyNc1tpSyeUQe9uwh-uSIBllYfCPc2ITlKw2mumh1w8OVeoVmwkCR+ptNTNv8i8gtRAJOWiliRlVeHVtFWCZaTNzQn+I4ABt0E1TNdixtKNq2GM1I4tREE1NodobNr2hQLEgoG6ecRtkVE6GpsViOMtRQsqm4n+CqdAQ85Q1sbcuq2omG+MjYKVjI9ly1oGfoQUaWl8+VkNysRVUOV4+VpqWdtVzteqLtgVgYecKtwtqeoBuuwh3N+uPVvNsQfayt6Ild7OWGeYdGadEtvVMu0tCGDVJsPG-4ptBEStAtrdatekGtnlWtvtFlN8Vta24y+uRtbso9ekpQ8E20c1PVS9PCNtQg6hPJ9tf4ltRdryK4A4Ht+5a+0VuI894lA9sQgdPdIdYdIgEdCCWqiBUdT41W0Ysd72kcbcCd3ZPMSdgusYqd4tGd2VBdCCRK5KVV+dFVF9oAbEpdHuLdQtkaVd0g3s85We0cueccBeic2Af5peOyNyByp57utKA5peuJcBO4Ks4IND+ywMqlPA1yXDIMuyOSQpY2xyTDFtN4gKPahUfDty9DBYP2QIy+6YgZcwIlsQcwq4SDhQgZHIajMQHImjjSgZGEejImpAhjyjVJzSpjzSFj0wgZVpbAIljjzoWjsQgZ3EhgOS3UIlnj3jr1iobjMQgZgdejgdsYQTbWYI4INwq+LULAhgdJsTqg8TP2KwkTgZANpjsQ+gJC3Avgk1x00yQNATGTVJnk2TDMeToABTR0oA0yPkpTRjVJMm0wuT+ThT9ToAkINTMQZTAlwAlTBg1TtTRMXTYATTljAlAApEM+0zU509MtM706AP09E+JNk-M6M0U0bQU80wJQAISSibMjOLOgBHNAh7NTPRPHVzOnN1PTKnUxBXP2NUnHUAiVNbNnPvPPNrMQiHR3MdMPOgDHS-P7PROHQfPcBFBfPAuQtgvXMQgHNDNdOFBjMxAHOxDbnpgFTAOcOyN-KIWQ2AgrhKxzDcD4t0OEvyO4t0G8O7L8PUuxT4AsAABWJgIpJLKwSsyIdTxjMjdDIlahgKkTRQlLdy7uypkUeLAr5MDWCjUTW4VJy6wgIlKrorxKwTVJkAdA3oDCvgajOrer6qGrmrgZyTDAsAkAejFrVrprxK5rVAKTAAoqYxa86-awioGQAHLkDetDO+vev70ES0tUjisgwdbEsAiksaDKx1PbREUUuysRte7eKhsCDhsAn0EzimpcvTA8vxu1loXzyZvytphUPaq4iZtHIODcCdKsMHGD0uAXK4jVD-YygAy+Ba2stAzrDKBPyaBT2xiZuCMcAYoiNwo51FD1vNIIhFChHmDTh9yP00qyUw7tQruYpoQXQiDnnJtMsOHdUU30ylupt-r20pY7uDDVuFksvsumAjpm1rj7sdYZVTuxBe333a1xUnxUERVr5iBfCbVMI0U-vFRLuEDfus7luqne1eZvCstnl+oMV6lT5+ojnizgMIdVKRoOo6WH7oeUWzGsIzjYcoj2oTmyU3iEffT9Fwe4ieOIcMPIdDWoeIw0cVvIaMc4csdYMW0cdLLFbcfke4eUcodn0Cd0Y1BiAZwrQWKkClJ4fifbQccVukImD8CZzMJrtk7MI7AAdAfEKgd+0tUuDGWAeSALYWy5OZVYzVNexmxUFzmSsLkkOxz56YAYCgE8UUCmAMAWIfDlQ3CkAhLW6yWT6N6bi6W6F-DBxWxBG4FhcnLQ0MCw1cxg0yAGLRdPwkTcLNDZfDYPgYdvYKA3Dea4paDPFPxVwWnYnkDKDKAN4ZAZz6BGB1sNedM-ZA36D1fKBG3gj-WlADcDYw3k29eevOgDf0nVfPLFcsJawQ1d5Vx1t2ordiDFoLfPDQR8dU3k3ggQjk2PllfGAVe9RKz1vzfqprfzrQ3WDghzfxBeb-SyydLhf16IyvdWwv4zS6TCZbpTavegB77KSbrvd1m4GvfhBt7iMQ9PInIXOpHFDwhWydGDCA-H7ghI-GSlA+f1czgBexTBchKfeNoGAJnfW5mXyA-A+riX4eqFnXHiKQ-lqpEHdA2Xe4jPeo89d2o88b7JfHuTepHk0VGtJ8YEoFhFk3F88C9GL-Vpcc9MBkCyxqERrM901y93fGSbSPcGKSSggiWdJJuSBPfK+TC2zbJYwk-1wc8QgmOyZTbbSvcO1ZCQ-G8LdK+kCWzW2d4zcy9fcADkaXnSe3QftsLNmXMvD3JvuI8nBicfb3w9AkHmLATe20Cf77q4gZQgqrVkwQMNDkOkVkFoxYMNm5HA8I5vySvDMf3PGfZ99fivz3eXNfC3dftYCn88N4jfuv-nHfBTpnoAPb1YOmA7ObDEVyHgVOonifOZY22nVs2fFPvB3AFKuxKa2nmfz12Iw-fbY-cGk-Vibg13M-Vff3psjlZCAmirmPIlov3+V+2nLfzCg-cf-ckyJCh-0-2nY6G65PxNlPU-gujjqFlDaQIFcPfyqJX41+yaaXk-3QzSMp+bgIaOsniixs3+i2D-l-2P540KOj4MUiqiJbCF+uJjK2FtEPzkIkBxgFaOsnnhqFKBR-agT6jUy2woUYA9SNYzIHyBGBKAu1KwNAHECMeu-UftQE0BwZfuC0YKgIPropYlYwg-tqIPH6spsBI6CNE-xb5SCiB9dXhlQN4Gzd70ADO2H-wv6P8r+VmAMlSSR7Cxa6YvS-oQHwFroF0J6MhJtj6LaF1UJAGfuJ0t6iYF+1fFTlf1tiv09OqRRVKMg9zr8bi7IDVMQB4Y8VWSXg1jvfCwh+D641HQIdbWCFkIQ6SqMZIz3MDxDvEb+CtiX20jlRKA+AaFCDAGAVBBgP-JIR4K05X9+upQnSMVxqFoItIsUZovUL47bRChIpU-oP3aLVBuIVcRSjl2Qh91zw4nLCNbh6rnhiuLAUYVrWtz6BlhIgKvPhxGAbCxhG+JYSsJMqJ5dhWw8TjeBOFVxOyFw9bm2xSoTDCuq-IquJzbCeB5hIDRBsV3XaDA3ho8R4bVVmFYwRhmw8YT8IYjzxmqC7UvI-ESF8cTCbpBtqJyshI99K6xOguvGfgVIQhKVFHKHWfIrRH4DAdQCIA4CkBDYvxQgIp3sEIZx00Ip-s-SfR0trhJ2Q4TcMYB3CsRRVFzE2w2osijaKrQrKUAcAf18R78QkTnxJGIj3hfIQrM0FyAUj1hLI-nNcPwEu0H046FIWYPpHYksIcorLgRzMHcBdRx9LIOoJcyOCO6iGf-C-xXCYNuRRo7ToPy+EMAhQAJUEFgjeGCJOEFVDnMAyZFAhrhzotkctTeEQjuRfosCBkQ1BWwvh9w8UJDCoB-DEGtsXiP9EYCxN+IAY44SyPniejExjESEa6i1hkA0xoUA6rxHjFeinhSQ+OhjxkBJhag-1L7nWL2ANigh7QToOeQTFcQqA4QK2PHVdw+9Ug0I3iL2Or5OiXRlIN0TSnLHdjKxtVC3qkCwgjige++HwZuE9HX8UxxYxWKWONGdja4W-RUDeA3GHj0IksbcemIOrbQRxp4rRNtBPFPs9IaDW2GkXrGqtB+agEwF4BaiMBWhTPZAWUPoDcA3+M4t-t6MOzANLxnFGkMKkZBbikgO4viAdRAldi-xQEwXpqz9BgTORfHKCUKnSjqRmxHAVVlbCEx3xzOHACodLGs54TQUwqFEZzF4BeVRhpCfcYnyprc8RxDEziGlB1hnQcQbIboKNAgl0sFWaUASWWF8AUVuRCjCMeqFqD6RrYM0AbIYEH4sTP+RIKeGxJ9F0tugjIa8T2PlygVoR3QcIENyR4DZugPaSiaAHuoAAJZ1gwAACC4AcAM6wABK91SAAAHlvWyAIEIlU46SA1AnQ4sNln3Gpi8xslJiQIxlAkIIpxY6-rxPUkoCAJT2BKUkBb68TOgC4NCe8GK7ZTMgoUwCXWlkr2THJLktyZ5J8l+SCpkgQMRUBISpSuh4U+CYSnE68S-Y6khgJpM+JtT542ZNKc4E8gyxihdlUYcVPSltSop4nGWDzD5hKwsUnohvEdDpyfiokP4yaeImWmWRCxkUqURN29jBSUmeU9RNNIOlUEbJ5fFNg4H+iMgAADCcArY1BHIqSDINUOX6xRqAgwTfO9L5S3TtAQIa6f9LErmMgaeIIyQmGBm5AAZpAYrrlheltJJhjwN4cDLn5fTIIfHLCLfwpZYw0Zn08qN9Jd6xjYu7NOjIED4xIzCuqQaoNkHemGx3wf09GYTLNDWwcab0kbMzOyjfTko5IJZPLBBiOROgISXobVmMnvwvBrWBGezLWEhD8ZAAu3N9P6y8INR9g1rFhAFkMAhZbAEJAEPsGHSigms7WSEnSH6zlZLQFwdRm5FGzhZdMjgNxI8gVA2ooQY1JfBCEhiqxfMujDbJ1mRp-aNIiWfBgtFu0DAriDsW8KDmFYgoB5LkRhkMHByjQvo5kcCNZEQNHKUU2ObLX-wsA+R4EccGbVKB1iowZtZoD7JCSZjIMLAFUdqCwDQRzR+MLfG6lHFoRSgZc7nvBmh5tzqOZ-K8M0CLnGAzRVsggeyECCCzbZDogseONLjfJ0EfwEmUuD7ozSRJVIP0TyJTmBi05V+D2bVSYgDgmRCPdVghiXR0BwaiEjMYqKzEpz54j4hoKeAzmC9HBAczcKeBOQRAEUeASEJ-JXBHZeR-oxUbcODGdAM5K4IKPvLkkQRWsDgU+ZePnlcAb5sQCucTmVEoRoIqECqkFgtnIpYFDdA6QFDVEbonZoWVILvDvky5kZflNBuyQ-lfyxZCYV8S2PfEGDKIFo5wVgtBFsBgFJdNwYxJPmZcz5ZYvcL+HAl8caxhEt8RIJ-ipEiJrYzIe2KyCEBBF1-FKguKRnnk5oGErlJgthwuiZ5YiOeQoopZCKiqKi4caNGjFtVtF08zynoseCEBfwBig6TEGoWQgVFS49RXvmSFYw7F1-KBXwpgU3gFFBs6YAEtJC3jCgvi3EDAuvF4xMJioa8aEvgXOhnx1tehcRPu4FjJK70uWCRkbbDy4RGZU4jkqsjXS4h9ALeExPETXTthgwWiPTM7LAzmiVS7wWDz3G1L7ZPcyRdnzYBCzfAWaTcrEJb4Jc7QVSsmdoRbYtQOZbKd6cBP75IUixSQGZWQFxDCLXgwDLeMPkmWMgKZbcKmeKBpmXwqlV2YBhEuglgov0q4E5TApQnzK6AYShoG8HKXS91l6WKpXcqKDYSd5fHE5fhP67SKSJ1fMiU0APjg4QYcfO2SDGaLPLGArywrBRMs7UT+J3yuibGRow2TypDAdydZAAAyzrfyUpMyBPS7Kx0yZWdPPELLHFSQmKQ1NYn9SrYyUuKUNGumkqblWU+qTlJJW8zaO2hQqQuCZUHQkh6KzFTivAB1SZwKUlaHyv6mzSLYLUELLuyxSdTrO3U3qRlMJRvLCggld6SNItjwhM+iq-iTjOUparRpoyyssUlxCSqyVtyilTtxlWaxFpV4a6XUzpzjKhE108FbjJuVRTM+2NJCRyvOloNB+YiSdCNjBXXL9pGdIONKu5j2rY2K4GscdHxhzSr2FMZaEOz9DegaBQ059PoHDXFjvVhWL2OMr5V5ryVaDMlJGoNiOjm0ffJZbmv755i+J90BmcA1aC8sgQ4kxofWqWUDT3UtahTn-WxJtqHAucyMbUCtjBqhG-a+Pg2qlFNqmoLfYdZfAGHqJ6+la5tWpP2WNTxQ2kpIb727wGTLMY+HQlFwoE9iHZi7CoYEC2nczGA6knrtmvalQRx06kndXlNfnfzgGekoEMqvLBaT31LmRsI1wGQS48p86sSGbX1X3QcQxfR9dqrOiDrCgRUGDakTynwb7ob5Ydlb0fXcAvYwGimT2UfXgaHBMdLhRWw+DBAQYwMttveqaXLyM2VqxkA8rPDS9Dl5IF9XFJ3X9T-ajYb9XbDik9S-1fUq1egyA2JACNky8DXmxehQa9Y3QYpcap1XoNkN8mo1RwHQ1NRMNfoLCNdNw2dN8NEuYGe7Fez1yyNJQ4QBKr+nBAb1VPR9Yn3dXvqNF5tDoQ5rs22wOheUh9S1PoCdkPNj6rzWFJ81jQKN16sDTRrikBaSpr2KKGwCzXeaI4QIdFZVI8leTfJIq8kEltckpaapeKrCHlL011Nh4cWwLe8FexBRwQGIdJVysrIWbJl4Kw2CFqo1-TwtjU+rUcrpZFaSVjIQVditxVMQetwquCXjOmUGBOmnWplWVsZQVavAVW7zvQFZb4BaZZHB9o2vdjNL6OtaJjgWH0DLaRSSiqqjLFtgIdFtBykjptqqTqJdtwGeGn2rBXIZdtO2+bRdo9gaYtE66hdVQWQ3ZkRAMNW7f3xErHbqgMHOjIxxO36BhOK2udWtr3VqlPMDHFIFttAQQ69tpEwLD71BlkwbcYMXqFij+11quOCOnDsjvWrvbBIKEBoF7FB20yhOhOkTsTpe30xSd7ML7fnysh46B1kMBHSduB3aFpOLXUlFDqjVJC5psa7EFigTW1zFQjjXNCCunX6A+dlXOXbQPVWKg4VVE8DQgwfC2BXtJQakFXkolWd+J6C1BQNjNjk6igTOmNF9sL6-aa1cfESgrvzHSs6WNwT-n40piMgAAnCcCWTu7uoGu2rr7p4iUxwNzo-6HLG4BPqr6xgpPh8A-VZh8FBgFwMfnun+1CgfugxAHwD5WQ0AuexDXHOYX4wM93POPeg3T3B7-dc0hhE3jmmBx54LgHyLhSzBDyYgGe0PdXqDrcBXdHUCvQPwLGdAelfSnNBgko2rahdIig7RbCt38AIQA+7qEPtiFs67d-2utt0vn1MB+l5bRsNUCKiT9PMjIcEHH341FRGg6Sitm-2EBPxgYRaSei2rpY77+AcEqOIOwf0zhKBnmV7OOn1Kv7490wYveCG8izI80wQdkMr2qCycZkFTEzaRsTl0tWgjIDARMmYCf8GB0-ZRMYE3R0Aioe3I4JXxcz-7ADPkS-XQ3Mat1j9j+wg1AfwO9692MfOXa0GrkxABwYGioVUJagWbeoDBtPbEBc1Wai0nmvzfFrOwXYuDmc4KF40pgQgnJj6wQBwdEAVDZx5ADav1TQD56qshe2MAQcoOgAj9+En7JQe8gw01Db0XvRrqxRzSHVaECXS9EV5gra5GmTSNmwxGZxWgeY3DZWG4AMBOm+cIJezvj7Cx9d8KjXY5xCLN6VgF+q-WQArq8yzNSyVA24Dl2v6TwZAIeGIhNY6SqQ8BoEIgawHxHSVXqTOK-pwN4H2NG6a-akf1bnN1IYiaakgQQxaGfIeRnQ-33IMCBID-kJzeIf8a0GPeYa44Bg0wwsRmDRG1g6n3YO1Dc1v+klLVuBnWaBDtWsDc0VEPR6DA5R2euqiqMSQajiCeEFqIaPeQmQJW2Q7UMgOAGOj5otiDAYaD7GDjuh5FfoYMPGG29fsJNTKssO51fKq0k9r3zsOatHD6Ilrq4alHuHV+3h5LARD8O5qAjVcA3Qiug0hGHBNGPI3LoD6tCeuFm0REqwEoAAhBhNxAs0V8rI2Jy6Lqpv7gAzwCCUgGZUyCL7Ui7k76RIFADuT8AAwESniFT2TBs9qRbYyfBqjImwVqJtKfoAW0sAsT0TXE5QHxPCBCTqRYk7cQd4CVoKmnUgDDUcjUAAAXu-FVbBwuThJFsbybTD8n+++gQU10KMCdB34BiQMhKalMynwQcp0kwADZ7pLpjk7qZ5NIEnpRputaaeLDonL90-QMnZPq4+AVTVkJySUjcDkAYasAUk4GWgDyIn4wgCQDDQACyFoUAE5O4bcAAA7AAA4dTVkD03ye4FU4UTaJkU2KYhDBmokZAGGhGd6WGBozVkWM-PEDJKn-oMNSgWIBUSUnK+1gd0-qc9NYBvTCnE02iabPbwrTVJGs6GfrORmmzMZ0kygFdNumizQ5ks1QPLNCmaQpUMyu4E3BBmQzdZ8MwuebOpFWzCp8U3ie+nSnaT9pkk4We5Mbny2o5zPWiZqGYnAyAAMQ5Yw1oABrKyAABE4zVJBM4PCTMpnwzHGCAALKL66Anzep2o5ucYHbmzTlZn83+asgAWYaIFtsw+S+TKmuz8gHs01D7OIXizhp0swkYFMTmLTY5zC6YH-OAXUieF7gDoAACsrpzk+ueQtUWtztFnc1iDID7m5UjF+C+CBwvAXQLOJm8wSfvMOmKLL5r09RdSCCWzTn5wM1SXuqOR+gXgBhDDSxUeYYarrfCzic8pUSYa2J7qLBYzhMmWTufUAMSFJA8XnzfFk4G+fHNCmML2l3S7cAMtWQjLCgEyzJeiYdmTzqRLQGoBPnKBn4txVy0hZ2P8XUL6lv05OctNVmHqfl-SxJaCshX54xILiy6YSuUWPLqltC2leEtUmUgYl3y3pYCupE8rVkUy1eYhA2nbzdpxSyVeUs4BPLvp7SP6a-NUl3J-QdwDUDDONWfkKQUKxCHJMfVqrNJmM3KFsmjz7LrJ7gHmY5MDneLSVsqwJeNP9WwQPlgSiNfWD0AIr4ILFVNcSZmWwrhFzs1ZG7O9mLrp0W0DUAGXdX3LI58q6lYGvpWGLw10a+dYmuXXrrpJnQKuc+u7Xvr+1n0xOaquiXDzgNs6+NcMtg3br1Z48yDYbNRmlzSlr6zDZSsHX4be5mq0jdkuSmOrClx861fBAAB1d+CwF4BRJEmVkbySCGv39nBzBNvqx+YxNaWBKDN0gEzZZsw12bJBma+CHAC6WaThgDgCxcxqEBQAdk-oEreZOsn8b0N3m95ZZaZWhbItrwKzdSLi3ObGN7MsID2QnyGoK-VIssLECqm+gkYLmztYNN7WibcNnc-RenOC3GbzNw22LY5t1n54eIIq8Ve2tuXobhNss79bBCaW3AmV8AP2x7hQXUizrVPvKZv502SO2RKyOAHUD6JQAWKoQLSfZOa3XbUdmi8TZ1uinAyid+QPgBTvgg07NNm-r12fI0Aq4MNNQD9RkAw027t09eM7Yjvl3tbZp-697eiZ13k7955uxnZzOh2obI9n61XbHsI2ybCdpOw3Znvp3Jb+tv20bfBAm2g7i94cxXbUsr2-Tcd9RPGZiifiJLzJ1PtVDNsRm9QllqyN62VvvxH4ogcAHBbZOOmy7w50e36eOvRNoAt9voPfZZal8zb-dk+FXhhoiDgYqNwByhejsX2-rXtzK+A9LGSAYaD9mB9wDxCbWw73NrW8vY9ur3SbB57BxA7wdWQCHT92m1Pa3smWd7qD18xQ7HOHXBrAt6Jk5J+7AXiAdNhhEgWYcUmRLewO095JPnmBwA7YwICJQ4scO3b6DyhyA91uBkBHmQXC8I9EeS2Bglt0EB-EQcmB4glpoe4laXuw3uHdFqc5le0dOMhHIjrWKScKvcXw7VjoB1w-fNCXqHtVgSo490cuOxHmd326LbZuB2VTKj3qz468tmnwswgSoaA4hDhWQbapzUyEEltpPiLDd569E5PtoPK76jga4k+SeaOCLk6Ii1ZAydansn91l6yYFUAxW4rlj0q7E5se+OEn6WJJwwBScXEqnD11Ik9bItB3abOTx6yRfycw1XrcoD654-adn2KrpTnp+U5rtUlDHmRa26iFMf9tJAFj2Bxba2evWdnVkO2w7eIBO2YnnHcBkIEMC6XNwP+jIwICyPNGll7-ZAyoM7EFHMD2B6GrgfwFx1fKCrSE0CbV2G74TM0fAW2SnwpUrqkil-PgGepISq8ih2SNBB150GwV-x+B4CZqKH44X88abKCbqY+HB+8g-fongF1M7JwqdO1QtLjUZrPjRMYyOp0a4VIcXNAFrk+yd52pwRvlN5cS+9iFMb5r9Dw50a0TDJchLgXiGQq1Sw17Dr28EBS8UHiC4u11cF3Cb1joLSeZu4yJbv1RfaVXYg0eLbtl327uAxrpQYsLsC3P3gDz8c7u3Hvnkii6EpqO3fnhWuxcCgduyC10CQ2BzaYPALzaddYPSoY1utj69umeve2Igk15Bnde3S-XENjx7qbWPGB-IQAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-oRc8e-lgBO7rjgpbD-Ao2oLtjrkurkC4AyOJ6kCep1gGigDLbQQOBvLLZp5p7+DRd0BJiKAqhFCaCmADCMBjDhMflUO2pzc9GLeIugCi15RAvMwyBTeiAzcXNPNrcLesKZw8l-qncbcXHbkTekAHdHdzrXdrzrtub1d3CKD+rBJJgYgfetR81XbDz-dTy+kDTBkwmPe2A8CaDTe2ATbZlvvO10CEClD-dOxYiTdw8w8JoAb1K7a+OvvXwsQo9o+fKTnbdjALk5n9KU9gfmyacplPxY3XcY+whY+Hfw9yssao--evnWosSs9pGU-U8fCzR09XQHmI+EkpzPeTDrdE9+lvklxImib0D+tQ849w+irRkeii-Pyk-o+ySY8PfY-c8dz498+K-+yG-k-C-l1Sx5Si9EJmC7aIaW+fLOtmgSHupm-8dQ86+dk1AM3H1RBzoe+E+K9S9M9RDPxC93cc8gKB+Lq8+fL89Ej+xC-xoi+mlbw9Ctlu9WKp8NdYB5-UkSESHa+6-3le-0Ip9k+R-vhl+gDR+d4F9y-zdjDV+K8q-K+FSq99b6XyBdeUKi-GaZMQ8FBst6KDTQkFCzKxBsDZc5QOCxfT+mShAr-+sHGXEVQsDBf2egA1c-Jbn-d7k9SedWBD-kBdcP1Y3H91d28aHUL-dffvjPytdOwP9xefJctz-5DFpKKTXWSN-zkSv9twW-Nfv-T6yc4co5ILwHgXUQNcg+evShhIRIzd9UGpQOAfSRIxxIcBXgJBn+mwF-RCBWAggY0xGQkD4BfqHhgBmoFyoYGDAqgqXUKIYCmAHhShib0QEYYW2NhVBhUlnrsCUCThNAfR1gGkDvAwguAnwI8LrsLgaiDzst2Kz7Y8QQXO5lFwdSp0Rg1wBGOoIsKNJVyo+HiGolsDdcdIdwRgP6jAxO4xGy7RHkex+BjtpeiSLGswM8A+IKBJddyOeVpCyDXS9PMWP0ncEU8HeQtMYAWS25GDW8pg8wWMEsE2cOBrpTvLEAGD5AbQ7g4OO4PT4JwTSjg7zh22d72F-eaQm0BZ0TqlDyc57KPiaRj7Lc12poKUhf2W6VDa267I4uahYCYhN6Y+CYNMCKBow6AOPPoTpVdR0AEexnZSsoB6zmMRhAwniOMK+4eM4OoOHrLX38rJMYYnQ7oS1F6GOBRhoTbYYujWGh9qScwsYRNhgY5QDQdwGul8n6GDDhh+w+YfYAmGX8VuZOIYXW3OELDRUSwvjisPgxfD1hCVWqtcIrrmpSIPwxQD8NeFfcQRZoL7sdQ6GJBC+0w3zO0gHpbDUR+AaYKoG9qUQluxQ3EfIG0j2xTAiQGptsPJokBbsfjN5CSKqadByRnQqkYkBtbElsRLAOtnYm2YjAIRdwh4A8MQRXROSXIztkiM6qMiyRKIhZrKLRGyiMRGeQQTxEggnoJEGsdgeKA0BJD7yvSLxBQM8GSDvBZEa0uwL8LvCQh9vCYI7wiFtgVRPAz3qAG1H+D7yyw0keuHcgOUR+mQqgRQPOgujdRa2AaLqCZGWBbA3o1oqGL0ryBXRo9C0tl3wC7phaN7TotuCTHLxhaVnd0Pt2jHOj5AegcxhaQxR8cFBMwSvAWNTFklx6Y+NUSJA1HIg8xgYpwqqx1D0dQxegcNCZ12jai62oYg0F6OH6tE50HYhER8DnS9ixxywfsZ6IjFDinmo404aZBnSTilxGkJwkm1QIZi7g7rdoXKjuDxcqUXIgKqPQkLVVJR4VOxMGOcRddJgOQTEO5D9axdGQT4l4JoE3Z5jN2ogzxFjUjGBwUekkJ2DOPDGRjFAH42MXd39bzBNAa4jSF+P4HvC-xqUTJtuKzFtheRfHSgs-TMDmJjxSE3kBJD-h6c94hAfgnAJpAVjeMygtVmUwXEFjrxfWVriyMpHTcteh3N4UEAN5OxWuj3NiUUGvzvC342fMIdLD9B2JqidAeQeXR3Zw9GglE77ljWm5Ox4OBYx5JjkUHTc9AOTe5tUWm4LIDxoAPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMBddCuq-ChMBOIBxjKGpEnCtJMokDi62TE8idSCQ5FdYkvkzcUxJkCVBXxmCVBvFPbheSoJsSUesZNMkWSrJtkhyU5JSmu8IpUU7yZghCmejR6TE2UTBGkm2BZJXWWKVVCSm0AbwsozQc4iljftop9ACqZYH8nGd5RjIxGnQm1EqoCqBxW8cmAfHpTnxhwMafv1yJhi-JQYkEe5Jv7uUWpvU3yXGLWwGSg2QdEgL11kgAAGNQgNFyjHgywEkJLo23BSUBEEueG6aSCOnrgnYB0l6fyKspLEeAakwNB9IGCvTGAqDNzJdPQy-92BH0qtvdKp5iCh4SnCQlDLun9gHp5vR0Y32Imh5OgTpEjHYBygRQbpCk52kjNBYwyVC9xa6ZomhkozHp8cAaFsPuDHgZAKYUrjHyzSKDSuYiZ-vcDBl4D1BJMk9jDI6LCtTO-nM0KEAkIMzbATM6QJ5j-TnspxPFUwIzOZlVDChwssevkF07LcpZMslMAdIYlvIJguwxbtODPZ+DOySAu4ANIH76dlZ0s1WXqJj6OCOZEce0DKRzHeMrZwhMQG7NMizQi8gQiTvLBcHM9napQI0TQJNHnk4xQcnoLNAjnWiso4Q-kqECTHyx+SsQXWarN9FQY4kOQt8hvFb7JxMc3nQsQ5FCDZzZZTze8mcw1QJp7ZesqoSu3SgEB8kxeRoe+WKFVyWZHbddiqJLrOBOIDIf4OjOtlB8bZnEtwYaNkiZDWBZonxuPItFBB-YIQ25jnzZkpwSAGxOcRtPwHGi-Rkg86LBOMDVBY5o5KXi7PLHVARY7pPAMPAflWxp5kgyOfSXnnpoz5QYwIQnMNHryRJO3KBFEJ3mgSMBsE3OTUH3k0DLoG8GBR6RsKwIx6QRMeT7M-nLzCoeQliMbIQR2BDgn880TYVsL3zH5MvfpOmOTG7iNOIczef0gdHSCYyaCi-piLeTbywSu8kfvkBx75BA+3494QmNeaoT3W5jMhZmMEUBdPZleThRNiLFCFWxigjheXLDYDy1Rw8uEKPI4Uo1uF8C0sXYDkUI9zGSioeXwVUWfcuFKNHHqIPqpgAH5w8VsRXx6z7MI0sEdsVIrbAsKQEoEkcScPdIjiJsisoIG4rYWtF4OXivWssHg6+KT5PQDcR42EU7jpmmMzLJTO9BMIqJxQlQUgR8ApLA2N0zAhsCmCkTGQBssrl4wJl3B6Re8D6WLiKWTCVm5OZ7oTJblYxXW0gJmUUBvSwx0KHjLzABgNmQk+sxdCUAdNKU+zwJy098dm1NGcCfxztKYOancgHT3p2MpIODP+B4yFgBsoJFjQCXITZImcAJaBNGUDi-FYc-JQblmUkIDZxyqIPBLkHvDtlBEwCYmPIXr8og0CTaAF3pT3BLWwy4-DaHOXzLCZY4rCQeNwkUiFm9ygCT5n0lmBDJJk2wNZN3AAAZQ2s5LmgbRzpnUjye5QOlGgdpQYgKWROCmxTzG4U6Sa6hxV9S-IHjVKZUApUwMaVSSo0FlLhUIrkV4AIqaMBKk8QKVsUyhvKJnoiiNI1U48RFPqmc85JTUtcWgRultSuRL4EEcKrBUXUlO0qu4LKrBUht12xdHlR6P6n4rBpXIsiHiJGkaQFlnVA4gMqSXDKUauqlaU4TWlYrGVlK3aXuNbpfLs2YEiZXipvLii+Vhq4ad7VNAJjwqV0flT0J4jQjO8XU2aRQkOWei4xY4i8XhE7BOq41eqjcYzR9VgrDZWKT5Vm3XBWts2ro5idyP1FY1XQFNWSDxOc6eqC150bcKTHzWiNz+4HCtSQFCE2iU5bYOEG6qbWFqC1xaxUR4zbULAKuta6NoOvFHyC1lEwakL-w7GUNdUxxOiT5kNT1yyxxjP9B2JzUMwVAPRJLj1JNERS0mPU-1I4Iim-8tpfssOaJCUmyRRVDUk9WVNoCK9n4MTDcEZBjWfouR0dQhIqtZHTdmpPU9VZ0JbVBB8gqCR7kBufXEAQNiQDvPaBFY9TNASa99aYEERbSS1OQ4uf3zYZ7w91pgJJUeuCnVKtk77W1U7DyWyADcGytIOeuknzrbV162PopMO5OwH14qxqUxsCFvqLA6G1-M9NlG-qXI-6liYd2yVqr2pivCDXiEA2oEDpcGlgAhu970cDpKG2qmhs-UfTFRvpHDYwozwFcPpPRL9YcCvWLqAsN0p9RlKIrmNDNlmq9R4wK5bSrNc0vyPlzGDdSYNLml4P6gI0HqYNxG2dd5vmC+ln4FQTzdZrSTZTzJlkmyXZMcnsq0g0W3KXFoKmoqkNMG9TcdXC0mb6AvpWaNuFyDxK8NDMOzZ91I3Al91RG0useto1TznaOWnFU7Gi2sqUV8cFrUipRVATVNN0rLZ1Ua03TxOxQwrTkGK0qNaABNagPjIwaH1J12a8zYAxAQza0Iy27IjFCzWdCPGwDKbesqei-QyGh9RGBNtQjvQgSja75X9mW1HbiAB2l7NAr1obb2Ra2GTRdTda7Fzt2bMAhNp23QCjZNgSbfjM4azbdRWGhbcQ3GD-bQGQOu7eYwwnChrAX024VCOeFow6EH2gtSHB2CQ6hAMI7HYfXOiPbuRJoZvqCOOqkMdtj0KcNDqNDU77t9CQnYehe2FbGA72vNZawFzk6cov2veAIwOhOQQdiov1WCqNXyATV44YNaXw+BTD0dojeuKIEEYhM+1VzU7aEsOL7icJR4pVRuP8Ak6WQwKjXSWpfKl8t4tiDaMTvSAM7aYTO71qzrcBPg+1AuXnQoG50MxKOfbAdiMn50M7OYV5f1casDVmgJdmkSKTEwRgr8eaugpQMfRlaYdXRVywxC22SqnDrO4gGCaruMDVQ7OdUUMZbK3J7FjdJO7cG7vY73QQ2m3fXYeMN0tj2WaK9uF70t07wmdxe6jglFt2PgFADuzQM3o91wE1Cz8JUDu30r9CnYAATnfADQh9OlQ3USLjKD8bABlEtSXQNA+BNARFZ2dJ1taQpmNwcpiP7CsBpETpRQ4wJPptDattWVUNAJfrA3oLGeV0E-U8xUAFyegJ+xfRSDVTyj9050KwPeH3ydze+gQF-fKLf0hpNAA+iHVpX6E7q-wLSnSu0vCi1x91c2zofGNcKyirdkG-tDAbaXZoOlbensJ3vbBYG4D95PvVjRygybS2fMJ2NuEtYI6ZN0QeJeoU3ZjBfgyEFGImSRHTLRI5B4AcJz5i1SKDQ7PmL6UcHY4eDq6mPvfu3B3h7w8MHogmlpY5QhGbUOKrptqFPznaroJ2P+wvBbAd2aHXFTMAcACGmuOxV8JqtNBSGZD94Fg2hSsqJk6DTXaw6ocCH37M23y10E-uJ7QRMN8XRLpiA81oxPDR+9sB5qI3GbnNTmw9WLmCNxzj98+-oRdTMk9TQjKXBNLcW1GSBQA5RBwGgGv0M8qFd+hIzpQurOH7wtB1KAwDKNxUqo+RqIIAePF0J5RYu9cSeTCpAl3DHq43SvO0FUADoroOPdBFT2gBbAtVGsmOJl1Wtbs6uyvTVKvG+Y++6QZg6wfXDFk3+-pJhXvAMNK7xDJhdcOUDhBNQiZokLQ7JB0OAcDDFYw0EoHEP-FzDOQ-2GwYOMUgRitza7JmMHSi8rDd4YTp+w3bZtHDUkFQ11CrFuHqWSu2Iy31qFNDmIPhw9X4dKBJdAjiCYI4jzK33AIjPUtJmEcw0xGvDsJwxPsfLJNRQAbxuEHcE+OhznRxRm0NIesOQTXNqRvKCoZkMgno+MJvTfUZpOlHnD-xgtWg0IlVGyjdRho0qtDWGqWj4uto6FX5KdGMdS48PdsEj1gTBjCeggGMZD4ORJjKp-eDMdBWsj5j2Gl5Nse+XatXx2Jlg+W15wAAhCkOSA83Bsqo1pzoPKvrbgBZASQRgNUnbjPgqo1kh6S6lADWTqA0aAXDwEP2YRz9qBckzFlogmmPVZp3LooEm2lBFANpu0w9PiG+nUCzpzTOdCbysAZN64XYseEoAAAvGYO638hRn3jFJn1nGc46wgldiZ7ycoBkAzAbQ6Z8gPaazO7FczrpgAGwnThzEZmszGc+NqF4zGOlsxr2S7Sg0zV2IyVExVAs6qoZkgCLCEkC7FYArp3nNAHEy-AxgLqXYgAFksQoAMychAFwAB2AABzVmqo45+s++CnOy6ZzsXZM-jQXOCUlzyYYs2uY3N0AtzVUHc-mauzN5UE-51AkO08BWRPTZescx8efNYBXzp+800BaeCdnFzy5qC9uHXNtKgL2510ygBHOjnHzSF4tKhcUDvm5sBQdcNUgm5bhecv5lc7sXwubmiLYFwSrae7OZnHTOZl0w+ejMUW2aVFmixafnO84AAYsTV2LQBdKqBAACK7mrs+5soIeePNrmkgDAcAAzIDZ9chLtZ2My+cbN2BTT5plM9+bsoyWKAclhS9uGUtcW7KEFg0LsRgtwXizhlp85RdMvNn0L7Z2XdJdktVR5LuxRy+-gACsI5yM+RbrM+WROflpMyjxahembAPRKyxdRsv6XtwoVqqOFfrY8Wez-F7cP2a8siXJzvl8y0mbnNWmrsfRY8OahyAUhdiiK3mLsWNpOWLq1pvgoeL7M6UIAHsVqMGdDOaBRUlwnQIhbisNmErVV1s5Zd5z1XGrzVqqK1aU1VQOrM8cC4WcgurnUCCgLrsQCbDXA8zMV4S1NZMszWEz-lzCxlf6INXlQy11AqtfauunRUUV4c6daMsTmULlVq60lboupXGLt1xaw9eyvPX1rKl7ixmYdPZmSrglz695dEu-Xpz5pmq-u15zWTzUE3XKLte3CIquINgSG3ZXdPjFUrPp7c0LUMnKygzIZ91poFvMRmJrsV4yz9cuso2kz81q7JjZhC0BcL+NwgITc6uVZtrrlqqO5cSDwWqoMMQeLlHQoI3yrrNz9oldbMYWOzt17m9jb5sE2XK50ZbKRflvnXFbwMZWxr2Sv0W0rTFrm1jd5u43+bgtzaz+Zwu432LhFkCwheZvfWjbTZ2a6bYBsMX0rXZoq7DdKsO27KAAdRmClBCAyYFylVHsmNg2D7ts6yza9tmW-rrZtG0aF5wR3GAUdmO7sXjt2GibF1cAA1Z9N0A7g9lgYvkFABGTzUNd4a1WYNss2xLFlr89ncjvR2cgsd1AoXcTtC3o0CEQ60cWfRVRsBngEs96kcBJ2vryF1u0lYCtYXBKOdvO93YLsJ3PLmgHgO9Y+tM3k7nt+exnY82SWrs4AQttkE0uoFDaiJvM6HYuph2nozbVAuAG67WhQAiK4YNmfDNlXDbh9jXpzcEpn3mA1AS+9uGvuCW77-aaJqPg8AT358nqGYvgF9bQOjp2wGe4jYutK2fbH51W4FdPvn2QHsN8B7fdADXmd7zd763-Zwd+2Lbt1oBxfaIc33i724Fe13Z7vbg+7nlih8hdTsm2Pzmd269AGeC3jsrwZxE1AMgfrnGIvVqqBbVrszA1EYwAa8rP0s8ABzP9lu8jbfNt3Uze54R96lEf41-WzD9JjA7lS7EqOyEHG+g4VtUO5si9wR-o7MC7ExHxj86DwAZu73Jrmjtm9o-+spX-bltwSkI6HHOO-TRjiR26YIegPiHNjw27w+wd4gBHvOMyRtDCuiAw7FIes5A5JuenvTxV+yYdZEDgAcxpgAXBFY0eUOtHaFjm+3auypPFKeVjJ1k5MdjAh7EiH5BY8mAFgOzcTnx1g-Tum2HHKTtJ008ydVNXr5Dve7PfisDP2bKtmh0DZGeNOlLzTiZ0LdYf5247G9lnZU54d2PEYJCMYAlwAfOWRbuF0sxWYW7MOXLuF8WywHgt7PZnxtxJ4c-cjHPbApzi6rc9xuXPKzNz857jf2uepDrpAY6304PvVPqL5p5BB86+fC2OIO1ty8wFgsS3N79bH58i5AceWgXswIWnLemcYOcABz2Fyc7qeCVB7OUDp6PejPdOzAvTge206pcj3tcY9+EJPdEDT2nnLu3XD7mGB0AGrW4cQ8cakinG+TojLdnoaA77tLIxh242YYsP1bRIFhNJNqYGO6mvAIKzXQaY2g5CiStqFV3W0LS3FIxcqfMVsC2Ybxk2Srb5YqZ0H9GrMjhIQu9CGOJ7jqNZfuSHsgtKDihusdQXIWfr40qQ79ecimj5f0BBX0L2erg5tApXsbwEFgDA-Ojd6aO4URIDA9ADhU9b0Via7RDwCt3o3DjuN7QATdJuu9rHKjj3ogXpujpmbvrvremdPG+CLnIAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vojgzVBQfQHvg2t+hzZhHHRSfh9S5uNiEXoy0haO4GPuXE+b+nWDmdnESfwXwTEszIyGCXxvFX2zXX0GwcUqRAKbxb2xzb0C1iUcQlSlmv1yUcR3xcyQJHygM9zl2Z3gPfSNhNguUPnrxmkPxQLD2lgo3NXBBWUvxOlNmcy2W7z-1yT+UuXNlp0L2TzRHyUCBkA5jxF4M4n4NIDeUIKlxGXEI5lJArzR1kIBSYOEOfwTCUMqA5h0DgNyXu3PQLm0NALfS51bxP3QPBCHWIBwM4ks3sLRUb2y1xzsNMPBG4BHTUMG3sJvQ3TvQl36xEOlwzRIJtz8NyS1XXQC1tToMXxGF8LtzR2vSwOtVcIPyl1Xxk1SPIIRQHWRUhTMISLcKlyRwzzyOzw3xx3WDXU7S0LKOyITEqOX3vTIOMMhy5HI3MIsOSAOSP2sPD3bzI0cI8nAJ6IUN0IA3BDGJ8MLmiM4jo2APn36PCPaNw06MV15nXkXhKzpxaMsJD1QJsPGliXwWoCXmj2kI8lMS4L30SNd2ILL1IPyNyVqXnzNxeJX0iLXyWI8mqVqSIFgSOIGIDWRxBNuPMCVV6ShPKOeJGChIBPMGvWBP6SeMDBvGRP21kEO0amalOzagu06m6h0Fu3BMOWOTVmJyl3-nEnZCOV1VR0G0swwU0Qfyjm4EU0o3JCCg8OYVYXYT3m8PNQ5O0S5NAB5NlRqIKMFLYXkQwRkFpNaMGIYNxxkCsnlOFMO3GJhMOzv3DglN0RVMDD0IkM1NACkJRMSQNOAOVLe0ULEP0MtNUPeM4lMUUXkBVysVNNEOJWUMtMMO2ImNPSs0qSizeF8T9JQzBHBGs1rG8JUHoGjJtIVgTOGlehjLmhOMYJqwYisgzL1JcAzJ8WZSzMdMRIiLtCzKMLBUcC+HdnWjUw02ZTM0lwTBvBlIVzuNXX9iNOKSBkrJTyX27JIwbPwGMDEQkSNN2UKD5OyywjkC-163OEbHxz9n7SRTMW9KlkZEIwpJ9jDOXN+hFxhWvhjLJ2m3PIYmqJ7JhKNKN10SNOeHnLjCSMGBPMYndLuMfKKS-NfNCLCJvAApDN8zVjkWxx3OUU3WvPoj1G5PWE3KHI7LNMmjEHxyMGvPCAZI4HWkwtPBDUaSwjZIHLPPgoGSlKQrU1HWaDwowtUCwtS1gQAB5gR0KCLOgiK9YWhSBzIIQAAVG6I8ugXwQQahT7a1JsPY6gWoZocEUAAAamFWMT2hJnWiFBTjPPCGUqTIUuUvcxiA+HUrEE0vzL1CflXFMj4tfnBCEvwCamIEcnErEEkq7WkoXlkuEHkqUpUuMWMuezMu0t8r0t8sMrUsCpkBTkIv5HzVyTyiNyd2myCyRDRwzhxxumxHbJXDAT3WpjgpywsqpWEk5zDSYo+m4rQn1imgyqIFs1Us5mhknOexbN3LbKBjwxBhF3p3N20vCtmCXxivCuaDys2OwptBrK4psSdRWAHAznpw3MKO3K9JgvRgbWmCiXKueislsienKCaS0UyW1FxWfQaEbC-MZCVS-MHOmh7X9Gy1Gq-KfN3hfJ6wIiev-JfL41YnJECmy3SvRCyr2zis4im1SyStS3gpStiHHMrFqqBrK1OqajR1GvIsKtBKNVKsDS2osvNWqrhsBvqrjgrkbJaugp9JussrQhGumx6qXz6rjlKHgnN0Ivgs6vllGqInGr-HMomDup1DlXxXmoZMWq3NxHJqlnWo8xss3BFx2roD2pEAOrOjSV1yOqfA5UNVjHOqNMur7Oupiz9CCkesfLPJeq0W3QarzD-NvPNrOmmsdUdp0MDABsyspq8wOwLQJJO1anOw6iuwwEPIQRJmIVQXQUO0wUxMpKGNOJ3BiXBCIRQTQWLJ4BDqTr9iQQXiCNJR1m4QRJHJl3d2sS80KjTpIXDq9sZFx3TA8LmCTNiDmFXEtoaA8I5HrpiA5CbqUw8Iwnbp4A3C7prtmPPj7vPkHvjlmMqKTMqOdGbqKA8O4kMAXnIF8CTMXuXrEsVDnsKA8KiXbqiVjG3tiA8JuHxxqRYEMG8NPtUHPsahWCPuGVmMUr7tiH0DVm4F8BwoAD5QB-5lLN6H7YyIRPIX6Yg36P7v7f6vJQAAHu7ZjE1phwGYHIH-5IQYGYhAGPDgBQGDB37kHAQf7-4wBYGh6dxwQABSHBpBz+ghqB8h9B0ATB2Y8SF+6hlB+nT+uBshgAQklFYbwZoYBEIdAF4aBE4dIbjJYqoYEfYbYpiHEYnrIZYoBFAbYdof-mUfkaYbIa-ukYgfUdAB-q0a4bjK-pUe4CKDUaEagbMeMYkYhG4ZwagcKGsZiG4diBpPTAKgE0TvLo4QLCfMBBXFf0gIGG4F8bDv8crW8feAEAidIVEXwBYAACsTBbUgmVgQnkRaGe6y6w6kyS9rFAGih4mK6Cw8jIofG8nSE5sRMgGPCsVagkzGnUw3qragHwRIA6BvRjZV6LGumenklin2mOnr6GBYBIB26xmJnhn2mT6qAb6ABRPusZxZ2Zq2jwgAOXIE2Zwe2c2fZrjhiapFKeG0-TPIyemCydofN2VPCeqb9lqeObiYebOeA2vkuYaGuescKYvFTqQXTreYSJOHvJcHwUIVeaVKgRcsYJjPBYYGqHExlFIAIRauSfIGrCLRJk0CJtXFOczo4ClnZj0QMWoVhaOCKBZOF3jEIFatWrBBjJU3kQluZSGXnhnX0FOdETRvCv+dDpqdz20raaKHZZEE5chYNKSdSdMBhV5dOfWwvOFcKFFsRXFpWp9Pl3XIJzEC+BYFVnVb3KBGnDuhZeFjTGkGRsrsJN9vakuwwEDtBeTPRgoFMAYHLg+HKhuFIA7lq2zNSHSC+03BL19apqRhLxvBDZ0tiQYH0oio0qitCerKyEjYjQ2Ijanz+FisdeYRuBzk0S0FpxMoxvfITHIGUGUE+wyCeSMGgXLcgcamUv0DLeUHp3BAUtKDbdAHkqsl8ubfWb9DbYWKLehJcHNkoGSRGhMqoTvmnauUkCGciGggXKlwCvWhCohF8pzedmMHzdqBPWxFvjnfHZ6BgWwV0usHBDTLHaRUjgUCbeoT9YhKyFviLg7bDV0hBkJQAxfdAEp2UgJX9expvBffCH+zTfdxA5EfUmKHhBXFKETfvaJ1bZg-uSdcOTLZnHddii9Y7hfeMmaAA5qRkuuPhh-b-dXFZ1+nuPNgIJA9HQ7Y3eUuvdxFvYQ9qTo7CtXAUtjff0vh9UwQCfwO4MQ7Pb8oHdiV8uY6YDIDvZL3Y4fezSUrUXhA-azlTvnZTkklBCTNvnuY0+k9IEEiLmziwjw-HmY4hF7qTQA3NxfYmufYU70+PYM8ElTaBxMpE7g9iQAHJY3b4QrfPU3V3TKE2X2r34gkVy5SAU4ouaHULwSyqzpA2EPYv+2rwPChBhA9Lgg9KHIdIrILRiw9KjkOB4RQ2ihSgLPzdUv7P9Aav1PnPb3jOGuJ3qvaxovZkbx6upPUuwKXB0XMXlBsWZxvFNYPBNk+lH3LiSOcYzZX2OnpuqYkzqOaDZuNY0uYgQmBv1ghvqBNAdUrlxu3Bp3pl1vyuglKPho5uvOPCYOfDpsP9+O5vmuzY+vQBYv7pf41ZDvK43BJu4V8U55iP2ZnuqVzqDTuqgQVxeOxcqODShOdZnuHVS6jvjBscYF4oNA6v2vB0f5mBvuxvfuYVakkfDRNUIfaaGSE6NxVOKv+6DwEPCfNlQ9T3v8fjxXUeWepls1U3uXKf1IR6vOme3Aue75eeKfUtW3tusW9uRuGJafvYlyJePolXYgtuMWdvhuDvhfieplJvzv8N6follftrU7Of0fufH19R4UnuzuqV+TZi7vv5wa+O2dSf9UTqyf-qNYiMQaPJkkSB-v4uFZ2l1uvPzdruVhrL+KzZ5b4kv4EfzAA+HCR20PMi5vhzwTQ-CB5uuyw+o-eKY+NY4-P4XBE+XAozrVBdHXCvtJypKB8AxE-YBgKhBgM-g-k--uqfa+dI0yW+akRe6-spgD2-l2qzAN0Z0+zu3vwDqhuJ1p8ySZxR4LzxM+jfF+a8uBCrzw0yWA5+WraseN9-1oYzzc9+jYT-d-j+xAotz-5+kOO-3c7-ntU-n-mzEXrratuAAK1+2xPAv-jsFtNMky0GAACMsgA+2mvxIphk3+G0MAQxFmSgUqWOxJxJuFH4ltjiMdPMrH1iQwc6yHkTSCNhoBPIcBX5bTArQVLY5iYDAdQCIA4CkB1UOeQgJvHW7FU8UBgOaMTH15sDG0sTKUtf1ozX8EWjAA2sXwgHflYwQUWAfThaZ41pQitKgbDBoGZd6BfSb-i+XNTNBcgzAo-hfxv7VZYBDtOhJrXYGEds+6KSQYuSjTaCU4EfM7twBsHtFnu31D3iYKRoYCy+PvFcGxDH6BhHBc3N7sZX6AKAiOJAeRBUBhi+A92hgNkBEJXqh5DApINfm0RiHzc4hUQ7HIkKeCpssIvVKQqrzAb1tDkwQ0IapnSHRDihp0BCEYHyG8tVK5QzIaSFT7VBI4HADFnVkjDxCbksQzoRkPmhJDg+KQqQl5waH9DshBfXIfTVqFoQngtDFoWQDaGkIGh+gUYVkI25+hZh1jIIVUKIhSEs2jrbYSEJkAwxRoWPGJMWzCLHCqAciElIEFOiTsShWTaFnzR-IwkThNww4Q8NOiPsyqhw+bhOgL7zCUW-QJYb0L3ZpxeqlQwSEq02E-0rh47SaLcOCFfCQhsuO4UZ3wHgVIKCLJaJSFBDlkM2S4LiFQHUEW0cE1GAQUCFgHCD+ybOAAUgI8H8C9BMg8COOC84gCN+y-YkecQAo5DrhZARgKfX4jUiDB1-WZE7B5Evk3uvESOIKNCiMVeI3ACUaSMgHB8LqVPGQEmCaZic6e4ITUXsCaaptc4nQTliSO5HhAvOF1GIG5yryYQqAFo8eCAJxFvJ8RwsRUdyJVF8gbRd+BnrxHCCU4Q+UaCUfNxlECiGAQoxijeD9EFDnQN4YMTGMVChikg4Y+UYz3tEJiGq5ueMXULQgAVmueorUVl0CHPYOADfRbFCLfqXko0eDWEU0kDSYiK+fQPuDUkYA98dYbY+gNwA+7uiPuP-KjAJgjHhlXExUJMXKL4iMVuxZojsXQG4A5i0IvYqUb4NEjyihxgiVtvqI4BZcvOAIrqiWMkDZRPhg4-xG4gbFlApyc-dWKaP3xLiFYwXNMZnje5pQkR9w7oGyG6ADDgsAmOpmlBxBvi-AbpRkSJjAjn4NQ+kOsZkC7bUg3uF477kSC+hXj1UjYboIyHNx+issFRW0TiHCAdsYOkE7oF5lLGgABKAACUWYMAAAguAHACLMAASgJUgAAB5TZsgCBAHlHWMgSQGoAH5aRj0o4z0TGV4DniZQasK8bKPm5PiYJLPQfrxP5FJBmuT4zoOLGkkNQ0yCkzINxOLANRZhwfEiWRMonUS6JjE5iapMkDCCKgasKSTxK0mjiYyT4z4TBIYBwSJCNkgrspPoCeRDh1fMBN6HR5uT3gokgUfxLX6HD-YJwkJvoglGfYCGO6NQCYC8AtiNJQ-HGJFMsj90ERSQfiQUI4njjEpMk9KTOPEH7DCJJXR5gqUjiMgAADCCzAQ1BHIVmDIM32B6xRqAgwP1A1MVgOBypQIEqR1Mn6kBfKeIdCQmB6m5BOpZANMpZlqmoDN+nI5CHEHamLdmpkEG8VhHBBO8sIPUxaeVBam1dI2b3QID6mmnihUg1QbIA1MQkCZNpTU7aWaCaROV6pRWLadlBanJRyQSSQIH7EcidAO46A6lJzi4EZ804pQSafdMP44CrpnlGbgi1TDQYEEUaSPn6Eq5Rpihn076Qh2e4ZiO6H0hgF9LYAdw8+OfA3ipBaBeCZqwFbGbjI7glTTxFQMIaEAKRrdCA9EJfnNL7FvS0cKMnGWjLrBI14UAMiwYjiFrtATRAAh8DwL+k5EmSd1VwU+nNTUZBBegmkQbX4nSyJZCYFgCyJAm1BDKpQTUVGEMrNBOZlM3Qff1v5GCfq0EA1OLOdpZ94ZDoqqoyWICoy8Z6M7BGByNloyuyRMtTnrOMD81fqN4j2S7ICHID+oEFVTEKFDiTl3YfwWaUSNPBBT+xfA6QVSKEEf8By9IxcYKHxTSDRGwSCCFLXWIOBNKKY8cSbIP7OJDBs4kZrEATmFSKWv1XFHzNhjmUeEDVPAJCE7krgKRzI1OYrPTl0jOgKsjFNllznASQkdQP9NKBLkRi45XAOcUyNNmii9B26aCGvOtoW1oMHI+AWwGHkyzre+KWmTOlSDww65mci2q+Q7ldyVgQUAsQaKLGNy3BI8qXNvMJFb865DIrJH73MDFyoqpc-iIQD3C-g2ZjI9UepA3GGjx4d8zcQr0N7GisggC8JqSEtFGlvRXAwBfbKRhOjI5rCbWLHMQU8BgFGgwEZhMIBJD2R4c+RDgujnUB8Fv4AhT-1ABXzIQ3orCBgt-ZU44Zvo5BePF-m4hZ5UY6YapSjGkhMZhQPhf-MYqoShFNchoKhNEULyVgeY1NtAqabQTUgJUkaI0Ufa5k28jRQsg1JTpvBoYgknWNTLX4l5qZqfHqcAXMWDDAOyOaAu7isXzcMubAL6b4AORMlYOBfcNs4vOn7CDcexXEM7E0UlSuxOPO-PlIiVkBcQIC2II2Ghgw4HpQqA6VoiOl-ATpOMamcxgEwSLjxxUNRBItnmTjolc44xWeGE5JL901MsRQ0AXFACbx+SgRG4nXGFjYFY6cCeGgL4dI3WOPM6UVmALVLGAtS81E2R1b7jyx6I-QM0uHFFTJARE0iQwBonWQAAMosxYldLqpaObKVxJKnRw+JhUtfoJIzrCSApckrzhJOEmh59l5yrBKmzUmTwGp0cVPo8pSUvK1+uk5ZWso2UmSZwkk7HLcpsnBSoRpQsVvojskViHJTku5esOdDxkGpHkqEfCAKGQrpla04rois8mBK0c8LIFbJIKnxKbZalEofCPClXgSptDHdPC1CUNSBlW-Q5QBSymcSb6+K6JYVNPHuwWERWWLtj1iVRLZRno58YJBBXojQpVAcldMHVE-004IU0VtjmWHmofJuUrSaUsFWFSExtYvFc8r5XRcBVgUjlT1iep-C3uvS3lbFyFV-DyRAmVoNkyBA-jO+9XcEGapx7q11itqhwJrInlecuVWdPpbEt1U9BjVUI5rh6pxiV8709XYNeiNPFzQYJ4oBCckNSB3jUJ9o0Dr9hgwtzU1D40OeYA+DBBm+fkmkTBKbZ+Tq0gPLJeZITXTiBZZ1ATMhKBDQryw8EmtXdUSWJADpPSItYcM+Z6Q0VyI7oK5KsnuTsVd1IqDiCHWaSR1yKpVqZz8ncBaxFbPipFmnHCqbEVsqCOcFlLC4G+gQFJcWrOV2LPxfA0cYyAqWmL4YOS8kPCnjX4KCVtaikPWr8CMgm1uIeCTZLbUCYl1na-dT2oBCGV+1L47YBgSxXIqXBsQcdYOpA0cAkV6I0UrGA2kNSF1kDb9ZFh6l-DvqG6gOd-LBbCBAV7U4ICqtI5lqk1KS0tcOqwQ6jvY-fTRTWtTb99px5GqdVgj754aiNOMGtTgnzV7rV1iLEta2uPVUhnovkijXUy+X6TaJ9EpieACYjiaqJkmoyZsrnUUbkNtDYTexryKMjwQGIS9q8Nw34bHgR6woNxr9g9S+Nh686bkr4Hqb9ljIL5SsvWUybyQ9mn5UpqjThKDAkDGzc8u+q3ydN6ipariDeDJMI6MyUjWVRmRpklUwW8hH0guHEq7BGJNMtehi0ohTuGJNfgTLvKV5At5MFICFoLRxafh2NSLXpqah9lF6BW0wEVosWjl6k1ii2JDHy3kJ0t8W9YlltT41AxAQ0bHLyrC3B9Etd5bNvQGSb4BTpqWmVpapDWkaxahsKrcvAm0JEUF6Sw4am2C1jbsljWubS1on7zaBkl6F1QGui0jbYti2-bbmlUrRrgh+w8deCEy56VDt0XJMutuqDmswElWjbSsOa1paptMambaqzy2GB5tOsSrS1v+GBo3OfUxYR0MiHgirwj2iRBVu+3VbQdaWxAabRDUoQGgtYj7adOvSo6ZWX2oHWDqx3SIrt3wgzLdpy5WQEda9fLRtre1o4utTyQxOILXWirSVYUrHvomlVYALtgoBxVkAR3epiA3Wgtv6ui6Id9tsi4zXuLLHCq7aD4WwPzuLjUg5dB4isbyPXkEZA0pOpEBjpjUgpbteXB7T8gl19M7pYu78o63VgmB+AV3VgcH1pQ4DFqOrJJvq3UxtU1qb3aXrt327VZWd5OkVTGGNqgqyV3Ov0Lzr9C26K2O8QgRDFJg7xwqtnbnp6LqUGBKw3-b+nUM2qZ6qN7TOJKXzSk5Z+p3kCTopT53rzCg4IX3Vr1ehld6Oau9aKWI13TLeRXyLpcKyD2U7+AEIWvbLx1Sm75MfsWLkmX73+6EBILRsDcG+7r1IhjIAAJwnB3tPESIQrra0r6l6a+kKcbG+wfBuAlG3mRWqfYjQH1+8hhPihcAMkKphcwoHPpXr6BvO3nKyGgFf1urz91s4KFvof2QjzZd+1fSvWFUItI4KI6oR8FmQuAfI1pbwQHP-3f7B0oK3fbLW4Az7AdG9U8Tr3N0Eo6ARUE8GQCejuwF2ScqkK0EZAfdwMX3H7hNzDjGBsDRUEKkcDK5MQBwaCUgAQd6ZQcJI7sPCnrjYH37NO3kHyDr3e449QYOB-gDEEEP+R89MQfg+K307mrjgoADdSxAHCrqG+TfGpHhr3atAz9sQGjQRrkKMaGNRa4ArofA0xAWD+B5qskk4OxJuDlieEJ-rkPghBDZe6cYIG0OiA3D3kaQyocfmyyVgLhnwz5Fi4WpBEjUEIyAwsNf6N6Cu2VaCslVXgo90iHrv0pzHx70Yie4aK0DT0Z6s9tDaaHCuF25Gm9Ey+XZ8LDSwFfeh5WEu8EcjfZqgRUC6XwNINAhyDePP+FQb+40HhoTRiQ7pUYM2IdaWiOpiUZ8Lq6plyIqo75qxrI4vylVVXfzgcoRjns3I8gLJGghtIIuuIXlZkeIE7xSjtzI0pRRqwFHrGRRt7p0A8VeLjkkmAtb9uu1r8g9Ru3vXdvcUr1bjDhGnWbtH3QIPjnipgEyXNaYHeV3nHvvoFkUAAdLALRunTyINDMgYIHezDQf0IG2CNCM-tiSsGCDKfE4KCf6XgnpJkJmuTCbhN0ymAjfJE4Z1NEM9eAJ4WZD0Cwj0nQAAALz+agAYTIreE9jkRPImzjMDbgOyYxN6QsTHeaw8YBqioQXUfZIQIYAaObhwTPJyk-7H5MCNrOZDDY1ZBYB6VlAelLLpMG85pg8ABJgNUqYpN8maT6phbnpR1Nal9TZXMU-5CAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsUQRHsUYS5BCxasGb6j0-qwgkMTLQF1WwmRyFpWMiZW9lAgqNZ6jkcS03+qCQICQuaaC-0YhWG4FqjIeorfCOJOwJINtaVGpVqTY0SRpBSJg5yU3epHYG4NtBQ1svDeQstPilndusN+UmhZAIzqYCG6gfbI2KsxUOlVoApY4uoJuwY2675Bt3XO6gk7OWXoDbehgHA736ieSalpnSODMFwMcpwHKUIbtfUG6FP4+1-oA8cnQIHopgZnVwUQXSF0-vITBoSxy8xesfAY6caUSDvjDRhtFCTo3KssYrJSM5+DECYE+lCGdaNEYY045sZGthHIgqx+jjH8QLIJAh5EfHiOjpGOcnNpHjBJFNUykViyRNkgiPQCT47kEceevJspwnK2DODe1egY6pNacXe2S1emBnep2OO7gpA9JifY7p7TEaomShc8pn1xYjNVEk5plz5mxTufdYpzceGUI7C9GWFtpGZnBYo4OtD1HGbReIBWJj6cWAvjS7F9Dcnf0jQgrliCgn8ledy5nSgdaUWoq2Muz5q7Bk7AKMNJiMq4u7Lc4l49yXSCK1a+QdrmqxWPnjTuvdoTOtAqXW6ldXmAHBmk-lrrs223Coumy61gz1ZcAYEtmQTpOMFblbsSUR3RsoRHAwNTi3DvcGO6t11jKLtecM3tg7F2gs0CvK9jkpKdgFxkIGrJCWMUdJGoGxWbgSWkvJnwxkFJKbkzQf1jhmDZ4tMvvVRmuBqjSAgme+oHg4344ECLFIk4ZxziBuwthzi6Ho-3rJ+oyprBA-JroRnDCigcUg3O+gmmUdSLRx-RUbOP2A056AIp8Tgb064UceHox+FI6EVeTnkMoZGCvArrX2vlcWER4I1tshNfnu18YVceuLeW6ZxVcXuOycQQi9FOdudxikEdWCC0d9Qff0BnfZQxpQDyia96uMGYKxcGpNpCWyK49xUGMoOjDA9LC9T3pD+LU9oCLjP+3ddhY6G9VybzPku0eJ8LMoW3dvy8yPi42tXBfSKoZx6TqEBPGfykd+74Mnvve0ips34NRfw+PnwEpNebk760+NY3+JYJvGrk5+PlCftzTsF0rhBcBE1h7UUVRP22-ErVngwvw-NlqHSFAHKPYSo6Cu-0TPjg2Fxlz6wTCvC1YQIr4pLjOrCVABXSXQEnGHB-BcWRT3UAAAFQAAkABRDgAAQXAHAAQIACUYDIAAB5AAOWQConlC6FJVwA2Hzyr0GBzRLwwXAUx3IUn2mGznvjnz4UVw5g32YLvh8EoKylYJV3YOPA3znDKl4J-C82EPsC4BLHjz4P91gMQJQLQMwOwPwPAAkI2GnxEG4KEDEOoN4QEPoPbA3x9y3y4Nf1OnfxL0kQgjEP1lMLYFhwjDqUUUjGUSgDgEQGQHQC0XkF0UfBMVSjHWOX4AmFc1O0MWMVMQoHMU+XHA8ByEsXHAl0mRIzZXiM5nDjuUNSdRI0LQ4HGRsEaU+WUFCMEOlh2C5XxV1Q1X3TiMaHoRmn51hWqMJQdSm1PTKOSPiR1TaKDh8QyMCLKl6L1TqM6MIDCO6JaxDTOQC3SIaIUiaN+TmJSy6MaAlw3STWvTKgmwfQ6PyUGKaM2K3R2LfXvXnVWImPKOPB2GrRYHA1nQuKsQyIzhHi6nYHTXuMzS3mzR8X10tzuKqxqxKNrxSDWIaAlyczSIOIWKGN8EI343TDo3E2M382GGW3yVKKuKmMCWbQGNhKaNyxCOxPWPiV7XqIHEWMAnJPGMmNJJa14Da36IpOJwDEZPrSGNnBGBZHFQePOLGMxIUiuP+KaD-UKLERzUWwxKsSxLCOuIf1GDlmOWVlVnVi1iGWGBYDvlAENipNmjHVhyuXZJ5OUClOemqhyULjYC2M+DeNxBhB2kALZO4FEHTytJtOmDtNZADH2z02MGRmUgtPXWjG4EoCHA3jqR5IdNRjJR-HUkLzbyok5OCPjVrXrXtJFP+h5yEFCIiGoHORkFBIaHjW+P3l+IzKLPqClMzMt3GwmLzJuW2XtPWiewSxHX5VH1Q3lI5nbPBkgypHAk7OeKBBCGvwEGugDMdMVIbBNMZhVjVk1jJEGQcz4B1KNlawkEjn9P+yrTAgKPgQlOB1vVoFlJpidN2ylKPIe2uLv3sG1B4WuGTO5Ou1u32yvIJFPJrOSDFIPPBhzXe0vMDQ-KFLlKfxoDhOOO2L5Mm2JLCKMLBwYGdSfPfCQzfQ-WYC-RlJAq3CaEaKCO5NQog2Ij+Owu3EnGiJQpfWQznD60kTKLAr1PhOROcyE1PJaiDIDTYHs0cwROIy0zPNbMkkag8nCgUi2kDM4hkFuJ83UwLJcwEuSBcmQpxFU18xMxWNIA-PotEp8kdKMD2hfN80sVyJAiPGUsMtko0q0quLNlcA4t7IBQsrKVyOjKPBcicoWVyNsv9LEpRjcpaThKhMLMWne1RI03RK00UG0rClcF6C7VTT3MKKIGuTmFSMe0EviS7DSvKNvIVFZ1CEBmgmSpmJoXgmUB-I4GKrnQ2TmCvGythERjPXiu9VoCYmpDDNaNGKg2myMA4qCsaz0tjJIiExAihMsois+W8pm3IzswcyYrY2hM0u7Nv1Dz2CPBCAKEYTkDaoKL9HtSDhzQ8vUu2Xkq-MaFasDF2s6tqKgxY14vY0rP8l3TUrRM0v4pbMnJjOmoSyqP2o63mNwtAlSV+vVXaOyIeRXXWp6NtTfD+qeOWqMA8CORGJuvBrpUax5hCGIMJmaoCMJLxOxTKJzy-zTNwWbSBPrUmv3y-26i2lGp2o6rhr4LTIAL2iqvWRoUPyBvaiSt6RKrmFpr9IyuUrTLOtcGzIDXrKjEbPAkFuUHZpqqbFPLX1viaJpMuLguaXIQzgcudSlmUunTOJgpBLt2MDKJVugSWJKrktpM-zjNrjyj1K5PfGWLhX5RKOwrNmuTRuGMnldqM0LRIrEVPLNhcjEQYrhJRvaNgppm9oNQeVyMIRYQ1BqLBvjvRrZRFOUqjoTndszuwqzpsp6FkziQgvJW5VTuZNtpajjvyP5RBsrtdnTvLSzoopkAbr6L5Ung9rKMLrCNkWcPFVcKjBjA8LUW8M0RzH8Mi3RUQvfD93gpoG1IqTnoYteMjNLI2FGBPIoWq0XCJq1vbB43rC4rDKKBHlK3PU3uzWUFFs9v0xs2DNPvDLtPkMPUo1SVwEVhPtDJfrqUy25DqUlyzW3pxHkKw0Ay-tAGAwfrGyAbTLAcXu5oL0geUHP2szgd5NzOloLNwHAb3Ngygdwx3MGR1q-kTu-AHPwdSQgl1oE1jKoa8x7XIf5TETfvlSPQh1SWDsZjoYAZoDof7M0zYaQeXTYYtvApIH-D70lomAbILIPoXyvG0owau1Uo3hIWByuNEduBUdJXo2kemA9HTJITYr0FcAX2BkvhDo5D2kqWmFmr0mwfzOQRAmxtJVeM0ebp3olPkNyULR8b-Mu2ikvh9sOs4X0AsdbDW1kAb1UZCZIVyPCYx3MZZwyqvDientvgfkYVkfkYCwCdfh3o9GLAce0cPu434GDEqQLUNWbAZnGFzhqZmkPEBp-my09K8cKZLmApKan3BIhL-CqZqe8d0AAB4hmmmhEWmEb6FZYZyIIYC0InxAwJAfTgw7FkFFFSJGTyBpAQhCcABqInS3JfXODiSmgJ3QY50rRmUAY5oss54MC5-+LaHCwESceZyIRZ5ZsgjWdZzZ9EugTCF0vZgQA5+5k57XJ5l50ZyF25o5qFqGGF3AetGZiRzIzCH2xO5usxomb1UIjpNCZkRR+oOJC6qbbpmZwa6J8jLsUZ2vehCYolp0YK02gxygGR5xmWrRuU2vEIZunHVcBlu3XcW4GZosgVtqhTC6K586BwdFqa82RUaqUInHexzi7ivJnB5BBSwIacyIXFucwgIJIcUPPpAA2K3y3yI8AykhECCyghaKpoFyClnERJ7x91zBMWpoUJw8j+S17c2KhfQl5mElou3GlCWunI92wtV+PF1wUu5lsN3lvV8l6V7xopvV2lhLelq589JliYFl5kUEjlrlqWlx7Zc289AVwtIV0pfNqGDwD6VcFp1+BG7hOgaVmGOV42TqRVxUeSFVyStVipDJRx7Vyt+fQEA12ph5RWFWU1oMVItc6iDmidQNpGa1mlr8L-bHKiR1zR51xoV16V0Jz1j+H1xoP1v8r18BTd5V4NnNyRotlNvRuRC+FwpRUe1RLwjRLRbAAHawINcga0igW0yM+077ftTho5XERWEDsD8gKYfh0Id08Dpgri8Yc5foqDrjGgZdZs2RaOdD5Dz0r9qiI5B4HjZcW5q3WIIEQ0QIHja0OjnXaoRj-4njQaNjgqiITj6jorTpXjzpATlIHjWxewW5yT0QRoJj1wHjG2F0yQW5pTtQOTrjorA1tjg1wEeT4wHjARKILgD0WgUrIzkzxReofTowHjQ53j4wGQIPUACQEEbIbU45tZ0AGz7myCfWBz1IZz1zjIdznUlzowHznjMqlIJz5QYL54bUqCcL7zzTmh4AALtMILtz0AbUsALzyLorAAUgy9i5c+y+1MK+S4K5ofugc9K-i9C4Zlc9S-AgggAEJ+I6usuQucvQAOuqJmvBOaGxmSvuuEvQAJmjBBvxOisxn0gAv6vyuJuqIyuWvIJMhRu4ulvsgpvqvWvMh5vlBAhFuevtSDvdu1v2uMvevXBngjA2vjA-cHhEISPQOPSIzeTvGMhFR81lwfRSOIOh6Xuv9EP3v41KAPQAArDMTS77+ofNXEHr7jgH+hwjogeGM60HjDj7zMPTKOEHlH5ovFLmo5HjMc25scnz02hTorSAQgRNBzOjunhn6b6nhoQzikYz2ASANjiz7nqntn3ziCCzhA3jkXgXtnnjPAlgPAjL6XvAjtqGYH+2rHsjonuFL79IH77ETiZ4VcPB-7t77HqovTV7pDz4X6iUuHlIBHnrwj+aNDo3tXk3xCUlDc9Cp3wHzMWcxbLh6djK939eQSMYCQFuDgSHj4YsYgQuezNlpyVXz4UDl08KvzZFCsxaX3zpToQIEhlqtsbgSdnl+QiW7lgsqWTawQIGQn+NTNpFqGBP6YX60Zq9ivs3avoBiH6HsgHeyshv9X9qXxq9jVid0v3V4jr-DV-vCH7dCtmW0a-Pwvgs13we3H79lRTw9RTADALJ5EShl0MgDgOjegN0LEBgFtZ+dh3YexRxMRmG8YeGRnZdK8C-h0m5jgRFlF+tW-ohe-955IEIb-snW2wR5owWIeEt8RGD6hC4ucdKt9SLDEBiAdiOwMETkCmkEB2XRRMcxkAsAEB7eQnCTkJwHNFYkLHAcQAl6AgIItzJ5lZjhymAHM9IFuKaV9JMDW4d6SkMFz0AvQL8XiXOPC0giQsT6YApSBALmD5pfebAhzCwM3DwttALuWBihAkF6REwdIRbJfy7CqDGcEEeUBTn-4+oRoqgmXAUnHBSUQsMrBwKoN0BuISk62cwftgdL9dGYMOHKmmFXAGCGYEEGHNuA8B78cB7UI-q7FP4toNBTQEICYK4C7Nhs+6AwUUnZjihGk42I2nsWwF2C-+rJCCPwOOaKDKgowOkK4N9LJCe4r-OvvUEJwf98ihRVIjyUzDQUkhFgyFuzFKGQsshyg03GYIKGSkUhr-BobILIpocNg9ApmGBFuaLZ-u-QpQTkNSHBA5cgMYIbKD6HsDIIPHcqiNDyE9x5WBQh3s0ImGO5PE0AvOLMOSAk4AA5Ii0WzwsThveHgc81RYbCvMWQzPDIEzxqDok+8a-pEFXBPCr2opIrIGHJyKwGwCLdWMLAGwyEU4isRCuMAQiTCOYig1oZ8L7YOB4RWwhgNTEdywiPhaUNPJIivBIi6BekJ4QxQj4pRWqMfAfn2SDRlh70V5S-oNkiGhIQcjOHjLSOJTvwgGuxZFCDivb5oiRUfUkbkXQqUiSwUg6kdCJuINIpkDI1kjxhhz4hyhxaCUbelFEKlb0DFcvDSk1J3wBRDGEsNSPYqSUGSoLOkSKMdIGUgGgrKiIqGbr7kiiUyBIXehgog5A2JHQUUpF0K+l3Y2INURIA1Faj70wox0d5Xcpmi627gnjozmBgr4ow2o10R9mArLoKR0Yngr6Qf75Ua+IY-mMJ3DFRj70SYpbI7jTGGp28PIkkeQHsy5EdBgQDwFY2DGGouR2IYsdH1LFkjS4vooUesxzSOjyiD5SIAWPnZocXRuYoWlu10ocVKhjox0i5GlFUC5RNo98AGJ0riUJxAVFUTjR34-YJAfAXURUyhTAxJRcw1cHuN0GzsocxrBcuqXZHIgVyjGYJrv2oADkOxiopBjkkBiHjKxCI6kY7mPG3oF2qpRcgpESGIY7xWzQ0j8lBGuwvcmcaYHqBECyAQcSDK8bqPcFV45B8TZENBOkJCw3QCDOCduOsGyBKGWzEUQxUFgtEi43JE8dY1chLshABcDgPGEEDjAGANMOJPWG4AclHxX1bYPqPZzAFxxnE1wNgmni8CqIeCakE62-H24H2z7ChEJODA44xyBbKiWfRokAI6JvwxiVeVoKsQa2ZKNicIm7iJ0JED7SchxV3GKjs2GVYGKxK-66NzJygayW0M7FKtPq-lchIGmcmExpJDkkHFAQ2AmA7AjfM+omBAgAAGEgnEhEgax-0AU8IYaITjkBZAvcGKfWCIDBSqIEIwKalNGCQt5AodFpBlOhRZSGAXmDOJFIng-9t4d-F+P5PGCxSmSrsBKX40Koyi+OkQAqcyIakCB1hL-DFswFSLlTk61gFUN2ACl21fw7UiIfFMOih4mAUUiaXFM6nex8Wj4XINMA1hzgW0OExUHsh4mRA4JR4DwKVNmkDSO4J4+afVLdCNSoaz4x8oqIOmtSmUzANaRtNaGOivhxgVaRwHWmiAW0yjcyctUnArin26TJ6V9JekZSMWIgQoE2AKL0iJJqCSSS1DiSfTvpm0vVhxSBwVQd2vVEdtTgVZVTSirlEKi0kYBpQlWVrXSvxJSDYJcEsk6fBo0aTVSG8xM8hB6HknCUaEoJDwHjnEqgkQgKMl6avH5QegWyYUF6C5PEjdZdxXORaB4AFk-TXpDpKwfLN+lGQHci0EIDzKUgeTgZcA4qKDNRnUiI6OTXnPAlDIho3wSdIBHOC0ljT-QlCGSSIlbj4JNGCM5mcYGqg4IHBlPQai5CIAXNjclMIWZPAkQ15BexgGaLbI6BIsTJ3E8qa82jKm0HQUEFOYqEElOzaZTs+mQQkjmSSlWLkL2Vfg5ljhAQg4QgAHLzzTMCZj1YwMHIBShysAL0JuUYDFwfN-xj8K2TXFznuzhxi46qFDMYTWB90uct2ZwkJCgBk5qc+oC5A7zjBycZsCWSkCUomymEFU+NnnNXGkp-ZqLQOUIm4C4RuAoMbPLhP3b8w8cnecnJoPPlzyKxUwwjDTn3k+gdAjOS+DsN2lAwnAxQxGu3NyZ85zZc6S2Y-NCBHzOEb8+OYfJllzCJaf8zlgAvGBAxQYQC7PBPLAApyoIYC4GPvMKTFIbpkQCBYzm3l6RK5bQrBe9MCAa4dAZC1wIQt3mtDSFNcxoCvkoUMLiyY8x3LPIJzETrAGUsoMdX956z36SWXha9XBEBTUO34BFJPmRQQydGNgkab-zewxSEGMi3CTJzaGBRRpSopGj8NEDrSJAs9NKAhEdxP8jIEMiFEaRdJ6R7iPCjKSnkxHp4DCFgOxaMCzwRM-Ie0BFKwGpAZSQIfUreCdLfBDTQkEMs2GzXLk7yhyplIEDQuIXl4aCDCiRbNCSGeLLqEMqhckHrycI8pDBcJXpEiXuDr5XeVkj3nyrIVD+9i+RUYz3rt0Qk0U+-l8L7wD5qQDhGQDQqHIQpoC8BJAhgSVgAAZBAoQVWr2BwpgyMgoIjqW7p+CTixGbhMYJaEWC1hRnJwRnw+AMp+hXkBYC7EhhNCIhCZTmhvE0BJCZUNZR+AXxdKOAPS-peoXkHRRll2hVZQFPWVsEkGDhWKVtR5gmEh85hN-IBmsLpLAgtDAKfYVpAIQfWnygUB4IRYZTgVqIKEQxXd4nKaCMy7gQyB5D5oeYPi54Bbnd7WKAplS8aBsrxCSSfWYy-PIiscVEqA2DFOdFh2mAPC4lFKrSZvmpgvLaQG8DEOirJb2ssVaMNla3y+ClBz0wkXQmBKoKPD7FFePhLbK+Eh4EVjy8VS4slUq5bZVPc9gaAjoUVylLihVWniZUOE7ZoAKcIjyPwbAmUG498PCIghlLM8W5DKkaqIDszHonM1kjSuT5aq08OqxcGqtRBbL7VoSAiRFXhHeqhQXC+ZXfA7jS5VF1gJ5nQv-yWCXE0Nd4bcFXzUqvczADCbIWpDrwuC2A0VdQBpgcUuCHcMQkTOplf4FwIEb5ZYUAwlqlWHi8wH1PahiFmV1vKGOCotALgQRmE6gDCryC2qBofoXSF2szW9r2Al9QEMDDELB5suiA2WLcmbX6qACi8pGDctExprpgBU7NTPkqUGqS8IERJVIv3QhK1ghamfBGopWlrMo9tCtVRCrV6QrCF6utV-lnWNqJlLarXpbnbVb5O1vDIFQ4X7WBAY4Q639eMFHWOFMegMWxWmBnUNrbkBUxdQvO3Z+Q4qa4gMAICEAFSGwGapPFELzWEBL+PCktV-JWroTCNeGrZehLEK5ru1+GhbOhuw0yoiNfkegA2Cgl4b6ZOa2tdTXtqjIRVNGrmuctQLoEsCuBAgmbEE3KERNahECJOrw3TqeuvGhjVQQAIzz0IKEt3vRpsWjSWoLG9NZuqzXbrj1Akr-IprWUgRzllygZeJsUKWbBlwMKDSHlM2PKVNLSCCGptDUTtvwkPSMkBWeGShfNXmCyl5uJjvl5CB448gcvWBqZgtiIB8deXglqyItTDawBOxtjebxUoWp8aYIC2rqVMN2fFFYHS1kBMtuE8LdeTezPVhAhW4mHFtgFOk-p5W3LTNODBjohADw3zbItglJbc+z6QgJD0oDDSYt3fPVQaCy2as5qQ2mVJNtaZzDg17AR3F5oG3BLKt029utQCK1LUyF1qipUFvW0hbpt9wRqnbjm3UwlkQG2woIARbbaXFtzRbSqFd5xI0tS2n4NVti0jafVY21La9u95paatzgkpZTheCJh3gnwTUHHyaDXaPVFlX7YiBe20ANtwFE7YduSAh4ntw097DDu75w6EdyO7XEjogTnaARisSHZuQWCFaltD2nbEwBa3clqy9uZlfIVeVorsQPMfdpkEbkNA1FJOmQCJBp0+AHhZpf5edRbhNLmVd7CqM4CO1HBGlGwQfAKDFzNysaewX6MkCR0OxztQIq7ZqptXKBedY6SnQS24KIDyJHEkNm3RPGT9-wJTHYrP3OQYsGxfI-lHTqR0qRXWbK5nSW19bcr2dEOo3X6HfAkS8UZE98EWVWGI7TGRZfOO-Dc6PVZ2EwMOeHKMAqkzxAef0AXFXZHNG5zc1wBBAd1NjyxKYhYjLq9zNKh8rc0kvKC-Jq6OQ52vPWWLERa78KdK+xbczr3Ni64jsL-FiE1FqdJAIEAAJxdBHtZMNQGLrq3D7bYo+15UmkcT0Bdd6MuOfS0WSDVY5aYGgAzBCkWSjAve+tEcKOGKw0Ah+gDRTMXFUzt9I+yQK0PoCiyUgO+5lWvETCWhPoZQSRDQCNgwMYqQbYwHfun2P6d63eqrZPskAYs5weigxQHo2Ssb3tQoJBidvV2DrbCuiyQOAcb36kRg7q0nQGCQP6LKgc9A3Y+ATH3oMDUlQgDHGSijAgkc6BzAaqnAgQvRPowgzqMzRKQSDMceFh0DhUnrJKUwBgJQaTRrMHBvGTvMMAQiDUd9fnXUowcUSZ4XgbBtcv52z6KhxD9wipVOFhDmwkNFsaqM2ogkOIuA6GuYGob1akaYpWGqjZRvY0IMjDSraqDwb4MOY+u-MOdI0wuTYyVAF++tBBENjeHqImatDTBPkPeHTYGhymRbGXWBBxDXh7w7qRkNDlFE0RoIw+x-1D4jwryzlf1DZ2gkVD2qmuYHuGDB7HhWk4PPHovjZc5SXw7nVOHxAi7ZdpegUGHgrTBtI2ITdRoGFoAaxHEKoGODQboMSr1RVQTUVIdpw3YA9pBv0Owc4PGb7al8LmpUeqMe5ajYuho9krpbRIZjzgrQZQBWaCIW4IuFgGzBeiXA8RxBvIxQGCJVG8J4u4ClHtKM9dQKPWtRkUD0JTLKVbilFXkHZUUh0jgIenHYhC4W5I86WGPEpv3S-GFYBVQldKtZ3kFjOzxpFVSv+xSHiDRwqvDIET0AAdLAIRt4C5MIJuABsHSEr0uctuDpfqPvsZh2HOW14roEiYeEomwJaJ8OZiexPQzKglADeASdpzXB8AyUSRIuGBg8nQAAALwd6gBMTgQflXic5MlHFwIp0k-9HJMQRKTSkSOH9DwCtGfwHRyICiZxNFApTKI+rssJob7HFYHoBFsQARbk4YQRwxCA6FpMVKdTrJ-U3SCC5GnWuJp1LOactNQjFTpsIAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZPuoTvTUFRKkxh7SWCdPXALY2hgclBRuNiZ+Zj36fz1twQpdCGGwzRB9RZ5Amr4GEL4dZXDCbsA8F4IY9S7T+ICcAxhYcRK3KscM2JV94nghEuHZgWhsFzJObkk2CMenED6fQH5dTfF2iaXvSFwj6DcVRD8GFvTDD9LIYM35CikH-LQeM0AxkihqMxTM5wOLul4ucBC+mbxh64oYLC9ehLvFcNHgwQIMgVF4mOayzFXSels3oGsgZvKrH8sFSo0kTjGFsolaQBgnRYEWKJQmBVlQVE6FpkE1Ixh2hM2UF9WVUShkkpGag7VE9wRmtrI4YgLLOKExdRaq1FcwjwL5VfZ1bRXWWvBNwceYQVWQu9W6kFVBiDYJlWQ2IuqtovKKSUxhVRSAfHjWCzm3d-W1PTSMSNorOK9JnB8BNSai1CWuo0v1FbWmpETZoXEsbLX1oDcStIGQilRsCZ81Iki801oLTAntJb+6dyyPYiYaLQ61y5E861Nq+2KNGQCil4IHnKC8B6+qtxGr7rXTyjdeqg1nvDdSQB0b6ZnsudcnJUKXCHNRdDFpB9UgaEICCbkqJEWnztWSx1GDCD-uoIB5lLbzCTNxXC-FCL10+JsU2-hD7OI-TEMmnVcqkXodeRh4pWGPIOU1aQXD+giDFrTbOgdNHCBDofpCnNeacNMbowR0tgxaNwZcFWyj1H+O9oTDefjS6hGpE6voGFJ9+5bodXJ7pVlii6O-S4I2ZBGBm34rxe2fNMZ6wU8Zz6m9wQyCTLUcElKVilEs9Z4QukTItHaJ0fQBmuJUHCCrMz-wYgG1ATJn6nmfN2fkgzdWLMo7sw+IWrzDt-NTBUsFzlG4wuV2XmlrC2sUtFFKNpk2emLY3l4lTKlsYbx5fwnpIoRXdOhQtttcrtW6t6W2jVyr7WGg03y6sVRVm9g2akx5fFbUOCUGyqXfoCh9Dw1M1heG3AniAgAHygDnbTPAfcPZyC9lAOAiBkDoEDniQRHkY41gTSopmlYG22vDpGKOV2zxx3agvZSpQ72J2Us0Q+39PvOgUvXaSWS37VOIW-D+aQj4L24Hd-rTQ0suMqUBoHipVanile8ZgGiMnSNu3Qe7f20vpIkeElDgCvstGx+T4x6OKWI9J2AvpWDC0Y-s7Tn4+DsFE5J86f7qQ2V0voAy2F8KZGc8i69nHWL6ULkQ5L-nSOBttLOZ0pXyGpfU+B6AQmfctwa4ucsvWqzj5tZ6zEBZnS64vvh912MzPBdpa7b63ONPZdu6MCGn1+bE2czw0nBHxPVexCF01Vdx9PfY7PSrlnqRvnS5mNzhcSemeh4T5qyDAHCfJ4K4IHPNzXsdC0PoBDjKkMEtziH+7lvVz8ph+jNZOGg9UxaKHsPMRTKkHMiomydkHLOWpL4GB5B4ZeR8iXhNGm8FF-Lw4bgrehIDjnl1BQdLKyNUN8iSYONL2Bj-WwXEPTqAb5oFvt6j8F90CX1RodOZnz-FX8LxQhB8DlCvycm-e+oIxHfHChkMVNPmXpMnbjcrvvXu1mrEzOysTgePQHzo7leJMqbp9ObpAcgauK3lAVbq7CctHPAfICwmCLvo+Dxv3MCp4r0kAV3iUG+mwo1G8EjGCDQWwEnJVs0GOBqGGBRC+IaGZMEDflZLZPZE5C4CApQL4CQJPoXv+r4DVDmF+iAo3lHM3ipsxrXutG+ptvgMJmsjCksJjptgOnJIbBliAV9OxjOJxoYe3ojrgSsKoYwWskJq3hoWEFocaowrLiLtiorpXsrvEojr-I9pQKQOwpYfoGqhylyhbh3vdnQfpKnqXl9DEYyjjm3locZKZLHGXukZKlqvEYjqNnDNjt7pGloTjC-tHAoB2k9uam6vWtoRQYrBBAFE-qAsKPoOruOqCgHlOuWi0cJFwlEdYf7nzuWpwCUeSHwdGCuI2OMePIwYyFSmMQeH0bWhzs2tMaHkxIKN0V8sDIweXhsdWhXIwb-lSkFEsRcejPsY-pGPwbGEFF7r7k0cgUJhOgMZQEHp4TMVmLMcofMqCLsgwA4PgrUPoF-HCqZh3IxjCUYZFnOkFlhFCBCWzhqHCNwM4RifipAlCTeIiY4mRJSh8jGtyIwB-oYhTskm3tUYcaau8d2k0vvrEI2JGoyG7hMYHsfA8Qfv3O2lIQ0aGu7r8UkckSibGGsJBrAUYJSe-PwKErSdImsrcVsYMc2hVlboYAqdScqQzu7AJCeiKT6voFgXVl8f0XWkMeQXMWyQKSjtKnjjSYaVTh7rGApFfKjgTrFNstkk0lShHvTpTjrh6auF6TuCGZkv6Q3HQt1s0HOgFMCZCrLnHsEaHjjMLFcr4KLKus+jcgvExI2N2HqFyXqUqWjkaeAUBOyc6dKJCaEIyLibfJiVCaWQ-q0VEeAY4dMDAczHdggSQbeNyHqNwHicwrUIYF4aUS4LLunonFUQNHciaVQWdI7lEcClrtXsHhaQ0Ijt4amdjrztsYuQketI2OjIyFESeawtUoAloUxPguDguJ4redWlDpmr1LWI+eSEFPcSmfTLLtGXnhnvdjjM+bGa+WdCBX6Z+RbiuFEbBeVPeTXuebgTMTqIFiAr4c6aIgaaGSrhBZiS+ScT6SqXBWYghSsFEeRW6YwKhcHuhYhXsV+jto-HtvIEoIdr7CdgHJYBdj+kwBEV9AtqEVYhPgrOEbWLOfriaYbmgZIGQNOaAD2eeeJVejuDSnUR-szH3OGsgYpastwGpZhZpk6TpZ-jvnCaBkolfDIFZLkJZXpY-EevBo-OlisspeXqZvqkKg5aACKmRu5QQeAT5RpYGH5eXtwMqsOmxh5YOcQXzjIL5aCYqgFUarJYTGuTbMwZzKlVpTlbWLenlTAgJmlkVV9OjDZTEnZVGQxFZJVW5YJscejDjiwd9JTBFe+hmp1eeIeUBY4F8ONvNIlYgYWiEcuVYjeGZSAuMZLJNX+VwttLNT4UNfgMYE1BAQLEuYUEtVYlhJDL+ecI2JQFPEKbiGNSQYyEmYJaJPJQLEYJ+Spc3othllBS9QxCxuZZDC+WqQLM8HtXGFYttDLHFfTL9eoTTJEEDa0TeGDeSUBYzAOUQeNYMc9b1CpSwOsI1ItcDXqkzGIGdU9WYv6grBwG1MTaeEicYQTA9XDhjRTJ4apTjYQQLi7hTUTRbB9eEAADzAiE1U2dA0166CGbjggAAq9ccldAuZOGvASaTYOe1AtQzQtmAA1BFu1qXHNEKIWc9eEJrbehrVrXVjrW1HrZ1RMJwS0L3kIZLdLTIMQI5IIFRgrYHkrVBqraoqAJrXuTEObWIJbTzb7aolZKHf7XemXEHTIDctTc0ioaDliKRZDmYkueSDhcTiPPXNiHjdMCArqU3B9ZjcMf6I9nOiTSQiLWhKrFneiNiJHTEBasNSdFdXzgeXuc0FBZvNtDzZHbMJQvHZHV3ZSVQo0gbTaHaPHbWRmCuAOHdpvGdbjXUcKW3flQ6UUGLZXQ3CIXQHXOUJtnfDPaxJ0X-kaPWZDIyPNY9QCX6EFIXTIr9R9eXgDb2SgQLC4S-SZsfYUGxPtQmHdtnUQHJqxYjdhiRVBScVBb1OnUiGtZWEA7nZmWfXmIwg-dvWOUzaXfjSBv2l3H3QRLXQg-XeaT1s3Rta3ajcOR3QRF3Z+T3ZQgQ3pKUPBNtNTb1BKalug0RBPX+FbeQb-abQcQYAvVJedSvZdVQ9gtg7EFvdA6orZPvSIIfeZt5EwuzjAoodqKfVSosQLFfWcW9DfaxS8Vwug0-c9V-YDG-auJDV9VYw+PyaAH-Tg3OXXTnSA-ds7OxScpxQdj7Mdv7IHNgOZWvmfpvtvtfrvmJrg0psosiFZKfuftQFvs1TwOvhEyzHURwNgoTtEzOtYmPXaGQc7IVBkxfpE7482VfOmMouCHMLerEHMKuNqQ0HUxyI0zEByC01AXUxhJ0zwBuD07U0GqPAM6PMM9MHU-CZkLejM2wM6K00UHU9xIYP+uQAofbDxJIrmYqEs4UHU2LZ02LbGPs7EHU2bKoJqiwIYOGpc9cx7CsGc9bkGurQM7EPNtwL4OEACBthPprbs888CEGp5O8zEJ86AN8+tqABPj5IC700GtidMBC1C78zC6AJCJCzEEC3U8AGCwYMtpCz8386AGAPCyM1pQAKT4sovEvouUtYugA4tBriTvO0vQuSVSjfMItaUACEkobLhLqLJL-LQI3LFLYI4IvNNLQrdLE+-NMQ4rUzQavNAIYL7LaL8rQIRLPLkra2MrXzcroAG2irzLWla2ar3ARQGrJLFrprurEIvL+L6LhQaLMQvLsQC26YBU9ZSTmTkyH1gIK4myzyAw3AfrFTX+BYQ6ZT4Tkbky+ALAAAViYL8UGysCG8iNC30+Uyk+6gcr1WQUC-Vrm5frtmmJFL66W0wXhTAh7ECMonU9wTZuOeBOOMW3gec0GpAHQNMlIY0z2320q524qBc1QFc7AJAJ0-c5Ox2yO2O2dQwAAKIDP3NLtzudt1MABy5AW7+LO7W7nD7WPruO6TcbebmRLpf16b0wmb0LoN7eEbF7BiMbVb57l+LizeN7DQd7aLhyKVj71bl7oiQ65lR+J+QHO+i+rt80o8pm4H4s4JMopAx+J0Sb5A1YupXUmgpDaET7l+Z+-6PxeTDgG7RQOGDqCIRQgFnE04yda9U6pm-ZcBlYQ5SBaEf6cp+HlTBYf13Ajd3HwHrCPNNjsQnHyMgnCbybqbKlAnQHn7X1ZHsQS9tR9RDHPcX6p1U8YgXw2NiuUjnMXJ8YhAbNbHhaFbPj0bns3FATfsmAGAd1Kg9A4R5ApgDA5qHw5UNwpATymsNV6cmcm4hyfnkwfmhyN4IXhtqiDAJtgdltwXZSJEYezQCXqMHAWakKTlNwT2puWg3K0d3GrRrnygCtGQN2RgS+ygygdLHsmt+gxXFmtmDmtmat4dmtxXSnio4It6gd31ICsKlAUh2c0dd+uGo3nK8QUhzw0E-9gYgdod4IEIodWXFyxguXUJIbFHA3Uho3EwC31g4IwVWmk3uIxsc2OG-njGF3fm4Ic6LmqWbSV8F3oAy8ykPRacjGN4F34QhchTX3VGe+orqi6mYepQobgwz3Cs4I6mxkpQzBFAbnHnsU3nTy13fozQ732eUGMGCKz3r3q4AOVhCVgR2u9XAPoXfoDmS3mt23p3ZAc2207h33UXlWtmsXn5YJMJN+vH25uP5PEdq4bPodtPTA9P4PRTWQTP5Pe+6trPB3OR6TkgQ3kkoIt6OG4bJ3ovpAgkyXOWGWaPkWtPEI-TOJV8jPAPk9kv5PGvSvdP2vuvJc4Rc0ZPa0N3AA5CbThgtx70FnF7HS7+VSL+aqQDcsH1C1NbPB913J9BnFnNtGH517GHU0IM5lZMEMbQ5DpBgm4MWMbRERwPCBT4byd+Lwn5b-oGX4r4N3b4JKiSX-H7WCH+3jeJX0H43987Jeh5h8oNhzOG1T0h4EhhoTVUftBoTvJn5sn8rTjyktTMTxLqT-JqJzECG13+sD39QJoIwRN4P24Lt8P0Xw92nEfBP1znU+phGhzzDlz-JrrzCrJWH0QmPvDDv5am4MPwyQYGAtP+P90lcQ0IsQ8rd0gQK4SBtfyPgV4F+ESW-g8TKa79jAw8VvPFA0AV92+T-ZgC-wH5v8VK7hGAYaBuJAD6GUPfpn5iwgtZ5A2AlBMvgLbIosgWApDFQPvz0IgsAbIgepDGakCKBDAxAffhYGECzEFmNflh03598GI93AvIdX4EkJl+clbEEII35b9++XAvfjBwMJ-9D+yOSQQQXkb0Cc+PA3DMfXtI1Eb+6gtkkFHP49cr+eyb+HgMEZPF5iIxKxPfyBJgMPIUhEgB-wj64MsIp-SLCtT-5BYt6MKXemIWHy88XA7g91OVVKq-FPBs3fuD4ICFc4ZqSQ1zEENUwKNB84hBmFAPMAxDbmA1cBlpFihTYmojUAYBUEGDyZuq7IaQl9GqFQ8LQufI7oIGECICc+2kcqGFWqFeCeqIwfIQf1kqaQXS3UMvMEP8ytslGw8TqAwHUAiAOApAdaM4iIDF4-+G9GorJlv4b1Xg9ZeWKpWJgvQJYN9DIWDVMZWJ5YYEYMOOGQKlAHAUw06BqjmHCAFhGhR2PrFoZOdCANyMWJ4megCNHilEGookMID-876XCLCLkC+Hi9b+3ASETchSEgj-h5EHRmcIAbdInGLjVonCOH6yUZsH0LHrAVCQ7MoShgNkBUGJHDxDApIGofMyMAio-M5IjZigipFPBUSGWXuiKhkGrY0WeIhQASOZiMjfAJI8IrNgQh0jE+I7QoIKOZGkhyq1QY2I3EvzSj14ZIyMEyMpHUjehaWCuqSNB5cQ1RQojUayJWDmEDw4vXUVyLpbyiyAioipAaKhLKjw4xIJ4DIOdDciNsvIsUbqITpoMRR+ImQJIhzgoCEm1IUzAGKoBIwQUgQD6MN1FGZtoOi6cGpxHDGDcmYUY2bLGI+iXd8Gfo2vlzilKuZrRKHfoEqPtGDAqUvdXMWR3dH-RAxkY3kZmL5EAJoxOvQoR5F4CbUWoCMTLDVUDri9ysbY8wGlHTExjugbIboJqKFj1l624gSQDiHHF+BYqrjakJvGbaiBSgc6UAF3SGEygX+RID+D2KzL1lugjIFrD5lliPZZM3QcIA5nUxbjQA3QZ2JNlAAS0AAEkuwYAABBcAOACXYAAlCWpAAADyW7ZAECFuo-VJAagTVB0NRBrIGsbw0zB2Mahdj4YmWY2HQD1HDjUJVA2CUaQay69hxnQBcE0M6HSoWhREzIDBOKFGlTMb4j8d+N-EATgJoEiiZIHFgVB4YuEmidKnQk6ZTMw4hsahIYD7ihUBE7PjxLoCeReRs+bNC1GonFh8JEYnTIhJqGeiUxIbbrNrAVrrYsCagEwF4E1SMBSJQGbSZZEGapikgiE5fk7XNgKSyJ7wPiVZOSy0xnx+fGtg4GNiMgAADCcHMo1BHIAqDIOUJ-6xRqAgwK6MFKlSeTtAQIdydFJgTaBNaeIC8VYnim5AYppAFoYTACkPDykUsUaPFNH4z8WYkEeIYMzNHQ9b0WEIqaFPKjhTy+kXWSoEBhJ5TxQqQaoNkGCkXl6ytU7HiYnCk3VnaQUjgFj1zxhSIpTESQoEEaiOROgTyHoSuGiSbC1hVKUoDlOGmaxXhcQKKcVIGmpggyevM0b4L1xYQRRs0+adCPUGujlOM0hgHNLYBPIERzA6UjkOTLLjzp90y6e5MHEuAKgJAEQKkARTjDNYqkqCNNOIAXTHpcmUuhsNCwPhthLoboiGg8ygyWgoIq8NdBEpOM7BlEFBoqGFiiwDhiHBaohJxnTA5Yq4tthqH9qlArMUYf2s0E+kPSnkPws6CwCRGsQsA0Ee0vjOXFzwLCvmQhuyDukszoRe+X7szMukzUNBr0+mcYAxFAkPposy6fJlkrMcYsnKDavij+AFTyYp4MGVONPZ7CxYr0SWGjNOFIyDAIsIHmuNLpBQHAetU2E1lthtQTifw-jpKNiAGzksRwU2kYMZIPDOqv+PAngEhDhyFiuwg4UTIuiHCjGR8H2ZbMcEJgbZlwpWHUE9LSgnZJWPWVwEbqFA2ZNsD2dzOgioQaYh05jrnJga+zZinRAcP9NgJAyZEPsi2QDUBphyI5KwIKI5mGzOYOi9gjeq8WRoaxEuaMToGTJcGOdHZsdZ2ebE8x7hfw0NLUZfSh5DYOAzmG7mvJsyBD3MdAheXqMhhBZgkoWQgCKiEaxBVYw8zWe-j6S6zT54bReQDSPkhZMI1IvzBrNZg3ydZjwQgL+HvnJYYgHcyEM-PSxmjT5S8FeALLAWkg-M083EDnLKycjG6ZWUkDdKKBwLZ5-EFrEgq9krAWsqC-OX6D6xBYe568w7jR1bQjTfUGpSuFqL+R1VYENCxqsFLSZvAJEHYiJD9JqGHIfp5VeKWFS4V0Ko+86BpHaF4V6jk+bAOab4AUQiV4QQWcLrQnEWyUEOFydyV1PJiP8EJoAR-kvKNlUgJE-QRgO5MZAtS9YbUv4B1JkQ-Tiy9ZDBWwWKiVYMFOcrRcpKsmEKnOQ1DhQikMVCAqFEoxULooBqpSEw9iwAuwQsxbyN5+Y0wiaJSIJp3O7fDRaehzLRFG4xi7qa6JGqTZpsuY-QGEppDsFmkz4+iQwD-HWQAAMkuzAkmFMgfkualBKubuT4Jbi2-AAq1HISOJ3YgiX5mwm7iUEzSpyZhKCyUS08wUtZOVVGVUKJlNQ0peUqqXgA2JM4HCcPEGUES1JuY-keWKvCCS8lwk0SUMoCUrAgUwU6SbmPhDL9dlLYiEBf1UTuSzlLYwvioqLzTKhlhs5cepMDGaTMZwU6FlgVUVULkl4bVpdZO6y2ToJaykFS5NxGEdRpYfVAWQBPxQqn6VYjZS2LehfKUBK4FeRtipSejxOw8ZUbhxQLySTJRpVxZZLaU0xXRNYhDoMopUYTEJxbFFS2N+nxKtAiSxFQipD5vCRxgkI8ae1aBZsgQaUKhHUO5XctVElhTlSHy0aOkhVDgKmVcJplc58U2TRqPCrD68reRuvBVTIgGGV8WVs2NlWHFQlLRysNI01E7xJhniHErcMnKFltU+iY0U2QIPZLCmMBUJ9XPCfQHWg1EzVusslb6tLqNgTxQIfZeWAPFBrMJTjRsCV17yEJo1fK79npCuUZjugEkxSfQAeWzY5V9WfgDiEzUOSc1H0AyrGCwjRqVsdLeNS1JsI+rGAOqwwSiKUKsZ6YHwYII1HimvQvVgi-RQIAayMg2FZ4UnjYvJD+rdx5q1pRjIpDHi-AjICNbiAPEETY19ZGtYQnim8iU1BENNaOO2B3LTlMkn+rECKiFr91HAEtQoDLV+gapwUqtdCzXWsIN1VYptQPKgjnBXB5gCoVQvfgapo13qySTVXUXRqhZkWL9UBvrW68v1f64DS0Kg31r-1WazCTjHbVuqk13a3cQhocnH0oobAdoZJJnGlLGJ-4wCSBMWXkhCNP44jSxJqUVr61d6tFg3Dw2IbOyjpcEBiHIWtrsMbQwFb2sKAobO1UU9DZxOSXYb6yjG6ZYyDmWVLqlTEKTQssZA3ryYNY8Tc0uPrdz2NQwttBIxxxJtr8dhS1XgyyB2EWh4xN4LppRAeFTM-g5jHwrhQzgzNj0NQTZpqEIi+uI6VTsKVWbmaCwlmgzRXWM1JiPI4xLzY9F81ajrNbmyFEJhC0ognNhXR0q5vKo1AxACaYePCv03hbKEAWj9S4DM34BOpDm2LdqtRVCKPNuIQrT5oq3ik-MRqj6EFjy2dShMVWtZM1qOXSr4Vpm+gN5rBCtaUIko2rTr2dgnrwQKfY2u1vb4lUut+WmNY5y83Tb9AMW0wCpQG01ULqriFIN1oiSLbqtMSzIEfMSnFiMOdoikcSr9DjauVwWjbaFu23M0VtfW61nSzm2Na7N62wwN1rWQ3aKspJAiCtv2jDb0+Vkc7bKq2ZvbptFbEBMlpuw4F-MfK0zJ8qoDfLbG+jX5tzMVC0igdNySHXlxlU3JqBHihoNkskC5LrlfWWwN9voKE6psDavJeXNLn3i5092pEB-R1X3RhtmfMbXkQ1UTbuAWOqGOZQRgmB+A9QtYVqKiLjCVOOnRNjigM5lVO+GHdfr3xOLQ6Vtk4e+pso0lYqiFyOtbMZAF0lcy8ww0RKMK+iR1zeBgt4Wgo+aVhqYxLfOVvWt3nzO2A+UIVpioBjRSAshDWiXO+3gh5Biu9GIXySIsM5oOS6nSTqfno9albAN+ittZ0Frfd8u4QYoLEGA7OdOO29H7pEGXE-JjYG4C-1WbrNcyQIAAJwnAQEBenZnyqMBLDGEFejZnypZjGxs4PO2GYHJ1F2r8ZAcgwC4AVjeSZGMQOvTcjd5u8rIaAMfXmtxnPE-Qg+80Q4nJkD7tm9ez0TMizieiAE7eFwD5CCorhMRC+tZpXuX1N6VKee17YXrZWdBpFsi9hMwg7XFbWVNQgbXHslYX6NmV+-NlKrT1h81eUi1-cJXPD1LGEug1IPCuqBFQTwZAOuPiim4CqqQrQRkI-2fjP9X+Q-ZZMYB6J0AioC3I4E8rHXdEt8pASAzMlzJA9nUw2TRqXRn3ghvIPkIAzovb6gIMD-AGINQf8iO7go++jZp5k16arjgzjU+ixAHBJrShmcTVG0KhKtBp1hQMDVFOCDuqIkcGySQWQr6cyBw+Bwg1IVAAkH8UFNHBIjL32F6IQ1BtRtGtaGVDJ8Rh1g7zLYjNqGglBow2ozD4bRClabew95An2xBB9VevFZssR3v09YuknrG3y5WELDdMCY3RXwt0GAHdKVaFokVdEY6Ij1IEPUTrD0ZitsASX+hQvgyGMhAhgRyFnFAP8Aepgq+A2gMQMYDkD7-VA19EKMCAja2B8gnoz1gziEjrQCNMkap1V70jIS3BhXUhjV0L5qiByHJXNhzRvMzAWSNBENjcGkloRmgDdjaOFN+j7eDqDbtiPOrWUfQA9EZLkO486NdBxFelgnhBKTMMBgQCVgFThLioDWTBRbApVL59j+O1cCcadjlSLjDiyJU5nEH0ECxXDDo8TozHvGrjtMIAzjv0Bu8TJ+gXBQAB0sAQG2UszFKEyBggc2BnZC0NZ740II+hJBAY2pRCTgoJ+FRCdglQmvZsJ+EwDOHhImUTYWM0bwBPDt4egWEek6AAABeF4GILCfI4ImqTehZE9r1WPom2T9CdrNifBBqG8TNUVCAdByPvB8jm4CEzyaYB8maTQrU3lpXIDG0WAxtZQMbWcyTA3eaYPAISaSWKnKTypt6Kqa+bqnn9WpnU3qcL5in-IQAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZPuoTvTUFRKkxh7SWCdPXALY2hgclBRuNiZ+Zj36fz1twQpdCGGwzRB9RZ5Amr4GEL4dZXDCbsA8F4IY9S7T+ICcAxhYcRK3KscM2JV94nghEuHZgWhsFzJObkk2CMenED6fQH5dTfF2iaXvSFwj6DcVRD8GFvTDD9LIYM35CikH-LQeM0AxkihqMxTM5wOLul4ucBC+mbxh64oYLC9ehLvFcNHgwQIMgVF4mOayzFXSels3oGsgZvKrH8sFSo0kTjGFsolaQBgnRYEWKJQmBVlQVE6FpkE1Ixh2hM2UF9WVUShkkpGag7VE9wRmtrI4YgLLOKExdRaq1FcwjwL5VfZ1bRXWWvBNwceYQVWQu9W6kFVBiDYJlWQ2IuqtovKKSUxhVRSAfHjWCzm3d-W1PTSMSNorOK9JnB8BNSai1CWuo0v1FbWmpETZoXEsbLX1oDcStIGQilRsCZ81Iki801oLTAntJb+6dyyPYiYaLQ61y5E861Nq+2KNGQCil4IHnKC8B6+qtxGr7rXTyjdeqg1nvDdSQB0b6ZnsudcnJUKXCHNRdDFpB9UgaEICCbkqJEWnztWSx1GDCD-uoIB5lLbzCTNxXC-FCL10+JsU2-hD7OI-TEMmnVcqkXodeRh4pWGPIOU1aQXD+giDFrTbOgdNHCBDofpCnNeacNMbowR0tgxaNwZcFWyj1H+O9oTDefjS6hGpE6voGFJ9+5bodXJ7pVlii6Jdn3D2cgvZQDgIgZA6BA54kER5GONYE0qKZpWBttrw6RijuZs8cd2oL2UqUO9idlLNEPt-NzzoFL12klkt+1TiFvw-mkI+C9uDWamCsHzqQXGVKA-5xUqtTxSveMwDRGTpFWboDZ7zoCZNlPFKEiR4SUOAPcy0TL6TKvJIK0V50iXNV9KwYWtLKwMs-Hwdg5r8WTIlay1i+lC5EPwpkd1+SdWfhsrpfQBlsKpuDeK20s5nTJvIemzVgLoBCZ9y3Jti5yy9arOPvhPS0wFmdLri+mLVKrxxfW6akNPrj61ac-Z81bqjDvbjROxNnM8NJ1i4VobKkRtns+-t77MP4kvdayN75M2ZhzYXKjilSPFRtb-QB-LaOiilHxzcpzHQtD6AQ4ypDBLc7g5s1dtC-LIvozWTh0HVMWgQ8h00FopBzIqJsnZByzlqS+BgeQeGXkfLk4TRpvBkG2A3ORNwDnQkBxzy6goOllZGpHeRJMHGl7Ayk85dr3X+vH5U4cGrqjQ6czPn+JrpLihCD4HKG9a3hv1oxHfHCjIxU5eU8mfdlXDgqZPdjGrJm7LCsHnoANqPaFJlnc+hdw3TPrvTA51n7PRQEPx-kCwsEPugL+js8CzxvTA+89m1XhiWWkZghr2wJOT3mhjg1GGCiL5DRmWCDbugVlbL2Sci4EBlBfAkBl4IJXvgao5i-SAlnUc2cqeYwz33QUKMc430sdLoA51yUNhuOTscQ8Hg41R-fXO4t5+dKvthcLRjX+ozCsIW-jWMO+wt7FE2adVtEcIdf47NKBSB2Fg8vo1UOUuVLtucbM68SgMcKdoDxUOVKR4CcdccUDLMYDGVNU28sCIcpMzNMsu1fVE5DAt8cYXdo4FAO0ftQ1KDKAJhjceNVRwJxwAondQFhR9ANtx1QVgcp1y1fdpggooCqcr9q1hCBty1OA4seDIw+8GxpUBB2NZDE5n9GQqUpDND80RDHVP8lCVw6CG8bYDDx5n8jcoIVggorCK5n8mJChe9owqVJDyCAdu1k8NohDa0Qd61FCSCVw2Jl95lQRdkGAHB8Fah9Av44UFMRs514i9YD9Ztj8EseAz8oQYiOsNQ4RuAn88j8VIE4ibwEiJgEQyJKUPkY1uRGAPdDFGtpFOdaD+CS5vCWDbCVxGxI1GQKDDC60F4XCOCRt20p8mCPty0qVShMi-Q1hINY8jAGj35+AKtjFUQ1lHCAjRDm1I989qRVimiNiqt3gBIT0pi-tfDs8hMgdhj9jHxQA3D2CTd+5ks8tUs9s-QFIr4PiWjYptlskmkqU2sGtNi6d28rxfidxwSziQtM0kCoc50ApwjIV4dV1BscZhYrlfBRZV1n0bkRihZ1DgR5wPYgRDBjj1iUt3ZlpcTy8-dSSSjmFagKTgRIjIsWSyjBhuw9RGS31cDKcw8H9FQY9mZrME8S9bxuQ9RuBuSNRqCEDmkQFvssdE4aCBo7lLiLD2Fk8pDgVttISDjDiYg4tv90TMt+sutscQCoJGx0ZGQpDrTWFqlAEt8mJ8EETn99AXTq1wtM1epawPTyQgp0ZSC4Z6sys-hTimtgCbMcYvSgTQszo4TMlkzAyVwpC0yqkzoYtlTRTTCdQYhv0XBf91DRFYzCdbSEyoIkyAyfT-iITsoMzLssyL80DstKzaTso3T6cCysyQiIo8AtNPYlA9NfZDMA5LBTMf0mAICvp4YkjpcFZwDawIzRJLijs09JAyAlSRTlTQD5Ug1cgGCPdmY+5w1fCdzVluADyizSyRtTz3dPcDcki-klEr4ZArJnzzzh5LyBNXYTlOUpF089yqckj9UhVvzQARUyN4NH5CSIKjyr081FUYLlVh02NELJTi8BsZBILIj0LuAjUNyDsdTgZGz6Bm9CKdwgVKL0Zb03gaL4L+5dSvp0Z3zQNPzYSGIrJ2Kj1zB2Km9C1OKULeMqFaFOKLT6YLUvh8U2po4i9E9C04txKXAbwHyQEDDJY1KtSrFtotKf9HB5LT0VcBZNTChQyuEsJIYQzzhGxKAp4JjcRcKVKYFGQUTZzNy7hJYMylS2ckj54AyAqGIWNHzIYETtiBZngrK4wDLKEZYsL6ZIr18aZIg4qxibwkq6jZLGYJTlLpT-Lep9z1hGo9LrL5UmYxAnKjAQrwgFYOA2parTx0jD8CYtyBY6qzFQr+S7yyqlKWtkcmqaqLZ-LwgAAeYEaqlqzoNquHAXQfcEAAFXrnIroDxJw14CTSbCV2oFqGaHBFAAAGpKVDjS45ohQiT6qTrVErJbqbjCgLq2orrvp+SkTVh+dBcVq1qZBiBHJBAqNtqQddqoMDrVEHrzrwDLqZBrqerwhTrb0jrTrHrYhnqxBXrWqVT5kgssRvSwszFNTyRVTCsR565sQKqVgQEqSm5iqKZuM-RokUjxrUbVZSb0RsRUbCg5L8AFL5o3LpTzTUbmgMzN5toWbDjZhKEsaubQARaGjJKUV6qbQ7QsaBTXCzD+DrNN4nLyqGDJiBbsFxCGgB9NwMyR86A65ygj8751bHcVD3DYxGxIZGQdKurTDYwgoaaZFIr-KqcYrRSCJUqwr-a9YniNaI6xjrMyaiA5MhzvKmFIF8a8yAzeoiakRjLKwY6Ka7SVxqaFa6asbXiK8+1mb6rfC2as6Ob9Auaea+bBqpSBshaCIRaAyxbKEJa9JSh4JtpWreoPqsjvbFb-xla-w3rF1Qizr+wtbCsdbnL9bXLCqjbi7ubFqzbU7VFbIraRAbbPpZ8-TF9tReC7CjRSSXagQ3aj4PbGauEh7faQrQ7AZA6U8BZn9oqw67byJyRAouFo7q6HzNNH5tN5BxyfYDN-ZA5sBHytdqAdcaA9cvcTkh9bNN1SUeLS9bdVEelYHLdBKXBsG4HqAEHYH-0jD8tDcxMJLsqI9aZCoLd4GrcTl2TlF0xlFwQ5hb1Yg5hVwTSig2GOROGYgOQeGH82GMJBHsiDwRHWGg1R4JHR5pGbsg0O4B1b0VHMhnReHCg2HuJDB-1yAF97YeJJE8TFQtHYg2HTbBHTbYxzGYg2GzZVBNUWBDBw1HHnGPYVg7GOS6LjqJHYh9B4ZuBfAGqAA+UAaXU60x7xthzyfxmIQJ4JsJiJryUAaJ0RoNQo6YRJtJ5J6XSENJmIGJoNYAeJgwIJ3JwEcJ6XMAdJmRuigAUjKZyZCaqZSYacKdAGKbovEn8Zabyc3hCYybooAEJJQ+mKnWmARqnQAxmgQhn6mwRwQJrmnJmBmpqYgFmlG6KJqAR4n+m2npddnNnumlnQnVmknDnQBwmTnhmzm9nuAigDnpmUnQmgRcm7mIQRmymUnCgXmYgRnYglz0wCpSSCHLdEGCworAQVxNlnkBhuBwWGHIWtjQXsseB6GiHGGoX8AWAAArEwVgmFlYOF5ENpsRzFvXW9Q5MvZ+tcSl7F1Fk4SKMFhlrLGtGBZhq+NhrvWoW9Xl1MOl00thyAOgaZKfTh0V8VrZ00x-INdx2ASAQRhVyAbx2Vix+VqgJxgAUQkfce1bVfVZ8aWYADlyATWymzWTWB7Di0WqQkWsX2Wct-SeriXphSW2ntoCLEW2WDEh06GcHkWXE2c3WGgPWXmaWLwMXA3HW-W0xHyzcHWEGDdMGcMHUkizdXo1RSBlcTo8XyBqwqSupNAa6CIk3GoSGOBsFyGI8hXCg03R4EQig0T6Zpw8bDbC0kjxS49KxG7C1k8-1ljy2UXyo6bZbo3CGEGXFxq62YhB3kZh3JlcWCXTAlTx3h3g2wrDWGhdb6DGCO2YFaHSTd2xAvgWAcUl7OYBj4xCAG68LO3mWRygGxzvZ9M-ZMAMAE7mKKBTAGBzUPhyobhSAnlNYuL+0M4s5DlQPJgVZrFh74PoOEbVEGBka70y4MbYb4WiMshEODY4ObxoPWKVBFAbh7MzstBuV0OGa3jBBlBlBtqMhLMjA1c6PkmPZTrfS6PN5wQjrSgeO5a7qIbTryBWPZ2VgeOI1oa2pwqQFYVKAp9s50O7dcNlPzdJAp9nhoJKqEx0bbrwQIRbrTzSPjByO4i4W025Op9lO2DEbrBwQiPLPcRjYFBfSqMwOUicMkC+O51dJhs2kr5PPQBl5lIBC05GMbxPPwhC58PaFIvZn1J1MvODBtpAuFZwR1NjJShv2ROZx-3YogOnlPPjJmhQvNU9qYMEVAvgvVxfMvpqcVsdtXO1oYOfjVEDPTrHOmAyAXOUv7cmv6FIbYwjrUOMyoiEih8oWjTKu3OkOnthvbrOvnOsP4O99Iujdjq5u7PiuMX1OblJJQRb0cMfXduuvSBBIkC2ssIiuesdv5O9vxGiir5eu1oVashIvju7vTvBI8OS4pP2prvZtwQAByVDnDPTkHvD9G16zzhz+ISY81UgG5BH1p-S2eMLruT6CDzcbaZH7dgiNhoQYQJG4IJGhyHSDBNwYsJGiAjgeEFr2bRz5b3H17-QZn27yY5zi79nm5HH2sRHrnG8Nnzr3Hsi-Nwt5QYtmcdGc3DwJDDfMD-HaDfLeTWDgn8r6RW9erplBFeTMTuFsX9YCX6gTQZ-GXy1Nwaz+X+nqHWr+X1XoNdTCNBsyLcb+TLnmFMi5HohSXeGM3uX+TdogwMBdXoDN39g52xC0WoEFcUbl3o+LX2nHX7pcO4j9FnpWXyn4eDneKDQVnvnztCXZgX39P83pUvfN30YhwyPtutL8R2DrCbaEvpDFBdXA5DNfQJvzP4TKovDyZKP9SOR+v+QUvlv+3Xv6vsxbjg3ot43qXhiXz9HWyifkhPX3P6fo3k36Xzvsvvrt3rnpf4C82jFjP4wLP+3AUl4ug135P8QoKNhx38XHZOP7+Cv7+4+w0SQ7pVE3KziKfEgeX9SiNiwgq8buhlZPnh1Nob4LaY+MXFNw0rT53UgFZioEQD6o8QMIFA8Hbxu6aVwBWRSATCmgGi4yygBHbKn2byuMZK2GSntpHKiUB8ATURqAMAqCDBUB2nQMH-y+gB80uFoKnkRyYHtYtIsUMPAALQHvpKEyAzllbzIqaRnW3USnAQMxj7JpQ29YeJ1AYDqARAHAUgOtGcREAycyfYunQVkxh8T6DQYWMTDECiwLB4sN6O7VUyKCnYHhLhPLDAjBhxwFdZQX+VOgaoNBwgLQVAIcH6wW6xHQgDcjFieJnoKfciLwToLACb+K9MYlhFyChDlubvbgMkJuQ4DCAASLMO-09q-0v+oRb+mwJcAZD5eZFUuP0AUBlcSAzMCoCYziKGA2Q9QgxigkMCkhAB6jf8CKlg4tDfAbQ4kE8Dw4N8O6IqMTk8DaaVCPoNQ2PKEgaGUcqhCEIwGMPHaHE+hAwrNOihgRkBG4CDdYevGaGRhWhw8doe50YxNCku+w8OIMP35n5xaKwtCBMJebVBjYuwipEcP6GDArh7Qp4GJ2dBPDwmUw6oURBFTY0Y04BRYTIEkQ5xc+quakEkShFUAkYIKQIB9EU6LDSWmDCeqxhSrQjkRQI9ER9DOFdwgRSXeYjb22E5t+gewj4XESpTi0IRRIoVgCP+h4imYKIqoYSOBFNpUR53SgR5D5ocA6BjAAkUuUAFYQKmLIudPyPMBqATAXgTVIwB4E0DKu1A1ENwC968QNR+fWwWHWxKkkzYagAVAHjbyMgjYZARgIaItiai+YTIYsM4G4CrCCIXvJKvFQTBWjjRNIU0WlxkBJg+WsHckXzkFGSAWyjIlzh6Nbw9wW2nEXgMYHFgVB4YHfKgGB3RrLdeIYI+mGlA5FojugbIboB0PtKkl2SaUHEHmL8CYU3RgYCkq4KViiA5iA6AToYGkEyhfeRID+EmMriFj0W3QRkI32TGyw7MsmboOED47qYBO3QZ2EKNADLUAAEtqwYAABBcAOAG1YAAlZapAAADyJrZAECC8oRVJARo5UVsQ7HGxh8gQpIrGIrYtjTxFopLlmJagIwW+aoukuaKSBc8sxnQBcMePdhEdPxmQAQfaOlQTDRB04ucYuOXFriNx248AH+MkDxinxWfF8cBLfF0AkiWYgkY+NbHlh2xqErnOCB-H0BPIQIhXNmhaiASVR5xVCY7EFiVin4YYt6NCLhZR5tY21KpjcTlEHpFRFEoDKxMsjZF5OFomiXj1iB-VzYPE18UiKEkXjaYU4mno1FyAOBjYjIAAAzMsQENQRyAKgyCMCQ+5UagIMCug6SpUSk7QECHkkmTKRt1PEAOKsQWTFJlIojoTE0neDykUsUaBZMV4VdGABkoKjkQf5YRPJek7KAZJZ6IcyKgQBIq5PFCpBqg2QHSetHfDGSvJJiAyZ5X+raSOANQgnLFAMnJRiajCCEY1EcidAnkrA+woOJ+gADZi5FO4C5M1gBCgpUGbySzFTCgkgBZ+EAa1ywhFSGAJUtgE8jAHZCRJ0wXqf1KeRZD6E7Uj3sULonshAgxU0qfFI4AyiXAFQWoaEHfgyIFBmsYSTjEnwLS+pS02idPSD6lZNwD4BITEAHAhpOg7k8mJdNMGKhroC5UYk+AdpXSKQpJFgFYIugvQJY7tYSW9OenODN4ArLmqUF9FRguazQMaUtPCFnQWAUQ1iFgGggvEnpc0ueJ1PCAeC4ZA01IUbmi54yJptCB8L4WaBQzjAwMsInNOJnlDoxZmfKsPFZju4+kfwe6RjFPB7SuxVIeWKADFivRJYu0i8UxAHAiw5misCCMbUFIOArqpsUKBbARk2xIhjoo1rEC5kiyp60Qj6UYKqmnhbCppPAJCGNm9FvpFg36VbEFldUNZroiQs4PNkSzwZsYUoLLNhryzzYHMv4c6CVnsIVZqM6CKhBpjTSmZnsimEDLf46z+C602PKkARQazhZNMWKkbJNkVSrE4IX0XsD5bKFKIT0z-urFDk2yYq3-BOq7NxBWiO+e4X8OlVAnn11IGcjgET1g7py-RjcvAe0DumEBK5SXSGD93OkVycZN3btizCjisz8U7MzuYiyrkxVe53gjvh0Ng5DyWZvNMeY8EIC-gJ5F4mIMnMhAzysIncpeCvCxmYC15SXUue7P4g3h95XsooJfNJDXzCgZ88uY3weFqzpgjfO+U6OdCJy8OzczOUT2kGpB5J2cXYp2JKEjYlMYyEBfxR0l4NU+EiWMREnklJFDkSCwChZOEFILOh6PedA0jtCoKkuBPNgCVN8AKIFy8IPDoclogJSMx2GefJqkylfR5J2osgLiGomgAXRMVfUeiwkT9BGA8kxkJFL1jRS-gsUmREgqYiNgz5kY3QquEfkKy8+LCkCoJKSD3yzB9AeBY1x4VCAGFI02MBwrDq2SEwUik0elDrktyF+xOI-AOggEdk-2+fZaaelxL6AtFfChKX8ODHCjsxLnYxV6IcSTjJAYE+cauOsgAAZbVruKsWZB1J2aQ8U43klrI2F1csBVeIQmJi8JsHB8S2JQTxLbx74vDv+Mxw6S1kgFApQwuKWADZxQS0JeErgkzgsJ2SopbkrQmACgRMw5GFHgwlhiBCLYhgG2KFR4TVF1KeScRLDHwhZ2nS3kRCAf5AodJIy3kXTzIpm4cliSzhaBNaWIiYRnNK8PwpeY3EzcFyIBUwoElnjhJs7MSUaOWVSSVFMkioZW0ajI8FFiPJRScsCFeKki6ypibnzzoCw2mVKVpfO2Hj7DS2KeciYRPOI2jlF54mmH8JZFLLGlEKl5YnNFK+0wxq0oUvcvsXI8aJbyrhVSFaBksgQJYjgY8qGaqIoCdilhYfRo74qHAYMrghqFg74oGCWUh5ViteWki8ONKmRBINYIkqucKK3kWirDhYSlo6YrBSiLmhpjkxUXfOCNlkx9i-FDM8wB8GCCMDkJPkjVQmN9Lqr1odBEVezLBU9E1C3YvwIyCwm9KcJQqQ1cDMbD0cBchCMFV4tDZ6QJlnI7oBT0EHOA5lVQqlUUCKg4gPVQEugN6o+hXlYwV3dVdwBZF2rIpM4R1aSIv55Cl8OIziCqsCAMKbBWEhxYlLBZXKXAQIN4BosQUJTRZHRURQmNFV5qjVp9E1XiSBDmq+lTSz+qnypAxrCEFkoEc6oIiuqcx2wVRMMpInNr-V7q-tbMpIlCtApOkqNckzbWsIO1qKxNR9KgjnAf+HkfgRZOCASTVRnq+gGByAWGqtZli9dTpO1U7q0JeHfgWCtPVBrAKl69VdesonrQ01aqs9ZmpvHWqSS6LBuEhLPXslKlEElceuK3E7imI-6pcYBugk7izRZ+MFdOrabfqt17wAUkFHBAYh7OyVbDMIGHiHKEpOMZ9RmtehZrxFn6qkAhviWMh-1wSsJbBPJCUbqlESydeTBZFkailyGrhKhsPQAK92kxN4Hi2twf5iRWQATURwMK8bHot+QAUNJk6MIhMYmlEGsgE2ACsh0m9FG2gXquIUgfGpBoptAldDb8ImmQhpsMBabTAEm0CVJrQVwoxEmmx6Apu6TUdBSymwCjUDEAJph4DynTWAos1kVeN+AOKXJtXbYrSR4qlyllhM1AYAtrBbua-SBF4dfNcU2TfQHC1rJItn+R6uSoeWiakt4m1LZHhqKHEBVVQ5pP6oIkiAkaGW-PkxSS1+a0J0SyFLozxY1b9ADW2zUFtRUhb1NLWpBl1tXZkjrFWRF4TsOpHvD5hwK6PLYsy2GaetYIabZ-nZWoqUIDQFkQ1qa1CZZtzWmzfJry355CtRI-aCVpJ5WQKtlKoxsZpq3xsNJxAVzZTlzzzbBVLShiRsuYlXhz6oTVGYqD03HbEe8RK7W5opXfbW+n8hoB4tDGTLE5tgfLcgRB0iiulQcgOQJznSLaC8MW1FfdBK1k9ytE2yrdwBc0JoLtP+eGCYH4CcCDBoEqQgoJPZnsL2vbe9oe1F4FtDekvH0rdt22CRJwXtR7Z8q2Vfyfl0zYyE+Po6U4ZBoiOQV9FlrPc5tdlWWh1GphhNVhkAysKrNfmb0Rc4+ASWNFICz5ka-s-LeCHX5M7GKU01rtDq8WP0ghyORHcZFZ37b+AEIfXbP2fyY6LMWgf7YY1AD27N+40Zlo2BuC+9dG+jOtaAAACcJwEBP7pMam6HNYe4xgYy8UsxjY2cHHdLKv7nCHExdS-vwXzVSgVJ0swoOHoMb6AgeQPKyGgFL2+rXCSa50Pnp54d1FVsYavXHpmRZxWlACLnC4B8hwUihkdGIA3taVN6za3AX3UZoD1orOgxC0hewmYSqq2t92muSjt5Fo7bdBEohQYwn3uojtWOk7YIBX0kL5y54OrfTG36u7ulRUE8GQDrj4oNOuKgQK0EZBe9n4PvP3m4CTG5ovo1QIqHpyOALLyQA4PXKQAv0zI8SEs51JnJgTwhi61eiEN5B8jb92F+fUBHQA-0y44mTbFcJAeF6YrjgzxY+ixAHCOq6BDAzVFhriKtBq1DQY9VlM3VXq71r64QaQebW-7z9vNQA-Fwkj4omqOCT6ZAfBDQHvIdoyiYIGIOiBeD3kfyNgaXVsRK9RQbgyIZ8jI8-CgeD2LIZQPAze9XSv5QxOe0v09Y7E-PBgZYVjbDiwumBKLtZ40So1iu-6Mk0QJ-CvtSPCNHNCFGg7OR0onIcmoToGEhAhgRyFnHf38Ac16LW-UCHv2F8pcT+hJT9GMAn7+An+7-a8DPoCx2Sdhsw9SEcMhiYdky1w4YvQEpFIY81ZAuCAcjkVzYc0LiFQHICyRoIhsOHriAeXGGaAlmVoG3xGB5GucMuqw200QJkVUJ58i2FqLKMTwklc02uRJHrl8tD1BRsY63OGy3Ssg-R7WAPNmwu0SyA2vuWKoXlMzh57LDmFOnmO2ig5qxjAZhGTFBdD5qQLCAsfr55rej8HdMYMtiA3gFj9xtcNcafmUI7jQO2MNtCeOfG-Q38rIr-IbnoaIoR+h5UD2PH6BX5AAHSwD7qlizMAgzIGCAudEdaTJJkbjQjF6EkTB4wDVFBP2LwTaoyE2rJhNwmNpTAegUibO5JjMBvAE8Fzh6BYQ6ToAAAF5RtQAMJooACopNvRkT7RnoGyYxN6QsT4IP-RfsQEnBUIB0QzV4Z8ObhwT8J4eIib5OTNHudFCo1ZBYBI1lASNInpMCB5pg8A+JgwwqfJPKnqTqp41hCA1OqItTP5XU3TxFP+QgAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRK0M1n3BgnCWHN3HifDQhAQTcgbg-Xuwi2AQPQR0LQ+hX5XxvnfaOpDD6ALQtuGcbtTp9X-j9MQJDvZkLYaZUg5lG6gBsnZByzlqS+GTuQeGXkfKyMFjVCKr9BCEBERA5E3ADFhCogOGW89qAKE3tQSsjVX4KIcJMHGMQgpSNxGEiJNBolvQZhnfxghSCGKAuRZ8-wQmT0UIQfA5Qsmw2jsiBJUEYjvlvhkYqbj5GKLAX4+JGigGxARkjYQisJYHnoEPfQUC9KKO-kbLQpB-51J6b0oogTFlLNiIomBIzO7izBHUx8sRpapBEro2sowaRsFNquUoxz0br3oEjMEC8WlsNiM0McGowwURfIaMywQ4l0CsrZeyTkXBeMoL4EgLjvG+JqjmaGMM+ZaIYDo9G-856GDIYkoKDkGCBP0Oi8hpR0iZDks0LCbSvpVDmTOAx+Lr5hDIasxUSKUUMX-gvGl+S0X0p9qw2mXj0F3NmlvJRu994m0xQNYGJ9KCkFORS-QU9RVf0CIMNRfLjL0LPILRV9BBk7yFUY2OZDjKmWVl9JVBrOjD2MYfe6CLOKCswUgnBmcMWHxxqUxWChNC4mdfgt19SVxBXeaGckXySnCn0DLCOHxZbMC0GMtWExEnTCCgqqlcbCGJp2YGzgrCArFNTY0+gVJM0zjViciUoAoEZoPFmhNxAk0mwZQWlcXqblnXLfGkWVag2xiCt2yt6MmKFAjcW-00qnV4OQeMgiHL41EJ2Uaygra-ajrhWO+FXiWUKwcAPDU+gPa3yBnjZIqRiVZGPUsbhl6Vxko3BCSE+7F4d1qHCbgu6GAvr3m+wYN5r2TARGRGtnjskuEMNyRglSU7h3rozMunqo0y39bOh+61XiloEMmxkqGcGLpzcnFdhThLSplk231CCsFoZbS8-SoA72xjWD48WaqoPIv4EXVO8HS0KPrRWxtzaRYTCZauSDQgOOwZLqif+hM8NfQmWsjaDal1EcDUBwtkZvkrEOYa5gycuNwfTqo72UCFKgl1e8fTUmeOMEMM7e2Zc6PwJroZ6T4rUFXnMzuVzddjPW1to59DinmiXoCtu8DPDGHMIlR6qCjZOmMmi01fA4Cy5MUbN2PUuH2Mwbc7Z-+nSSMqCw9KA9tQmZAi-T+9uh6sthCYum81y1Uv+EUzEfprGhmVi2WM+r3Aat-vdXy+1Aq158Ni6wnGQVCadr6nOq8Crjk71vnve+xj2uKhGxFmpPCD1CazlN+LpX0aMgVftnZVaAF2vJAegLLsrsXYM-ZwL-5bXozIY16VI6dt80Fb57jxnLFHdu6+uzDmHZnQB0ZqO92gsbZWAq6H7nsqO3VX7JlbadQxAdR5QVScbNA-4ZLHGd2XsPcdgT-L-nyfw+NSuBVVO-Ow7R7a1hmP13wrwK-JmcgWZQDgIgZA6BubEl5pxFDkYFZtLmohqVZ6T7pFtmQRDoAAA+avjIodlbLh+MQNda9SHbe2-QTOx3V5rv0BsMhvdjqNyLMtmBiAkIMrRljKB9HuGtabZHUhYT1wAMgD70foarvYjnZJ7p39vdsGyNnL8kumncu9PhZg+4Jj0eNx+YWnrt3bx71-LhM20iLe35Q71IT2bXm9fEn8gzvaip53OnqvWevFV7h7b9WVEgol6TEMUP+hS+xw09DdvYOh5XcL8sXvg+bzD-VvyMDseylWZDtT0u0+Dm+69ynt36emeA6jm3yLh+YexVzwn7fCu+92lv13oD+0vFn5R4wVnNeZ-Svv0P-v6Gn8V9OlRkLmZ3EXD1rx32T0b331i3BGR1sxP12zgJpwhyvySS-zn372-z-3-0QJ+jJlriP1inf273AJvwwLtAX1H2Xz5hjQ+g-kvhWxUVQNxgTEd3rz3zTxgMUWDGqEiXoAQMRToM-mmU+lmWIx72lRuGxFz2RXz0+m4CwLLxwMEPPkvk6WYJm1uEamiwHxGHn1-yUPLxX14WBg0IgPYKgM4JFismOWzSbR2QEM4mW2vjFXWw-2v2L3IIfyMJoNX2nmcFnhcNWw8xIM-wVzYIb1dysKzk23BA3hFUYLWzoEcI8ktRcJVVqDMIVyRUCBkEsTxGUM4jSPnkNSyITByMqEsVJHumfz1WVWtTKMDAqLyIPh0B8Il1SHk0aPPV30sObxgPkxSOuC0KoxdRQVXSlmlTd3BEGO4GTUKI8nkwI3sLU0L1iDCM8L0IMJHxqMiyHUE1zXmIkLIJGHmN2N2wXTsOIUDWOITAXwazHwAIo3BVGIDSONINYIvRt0DXON8NPnWAE1U2rwmNuMDGt0yB-ztHmPaI8hlh0K3w8LBNSEgKiP6OsKsWiyGNEhGPhLAI2KaIs3BExLmO9l+Kei5C8BSzSwRLQJOP-W2MXxjz+KkWoDERCMmPCORIsNROBKshZLZP4IWPMA2SCKYJpNny2KhLLzJI8jxXFPQMlKyEoKX2zxcBxTxSICCQ+KRLSG+M1KFNBX41xXyX0H1NBJcG2n1JlPMAXQ1MIC1PxJcBvCtK51kHA153kCUAF3ZmFy5ksHF1hORLlS+nhlPQTGcXEnZGDKZM4hfnA30BEN-jmW4E6UlUTymMJNyB9UqREGqQLHBFE2mETLEJTNa0+0eOMKzIqSqViRkDDJ1JRKb12SsirJzMGVfixPphqS-kjlEL-gUXrLRFBBMLyJkG4AKOtNBXAypL8UHOBGHNyIUW4GqIrL5g2WGXkG2W7jrJ92yIXMqLHN0BhOGLuDm1OTeAeTnOmLPOIALJK2Th2QNJPhvO+kpl3M+N6J5NfNrBsOBirU7JvKFQeW-P6nTLpMhKyHRhVNVN9nDnwD3jam6161zRBzjAVxvCxxgu7UhnxT9nfK2kH0woFUcC+GMCaj8R-klUKDAoTCwkhnLPOEbA90ameNxE2U3KHkZDCwDJPJiR-idle3dVRTnP9whyErZSfMhk73mR-meGorQs2MGBpknMxiNirRkqNjkvWIUsDBvGUt+0dURi63YtGUOLEt6ndRYHWBYrwqLyaPFjEA9wEpdiCUjI4DaictPBvRXh4EfRfn4tz3Er1B9isrItYVNWBAcqcsCvCAAB5IqPLVBXzvK-RK5zE-lwQAAVC2UAG4OgXwPJMQXgYhJsHxEEWoZocEUAAAahrTWQ+C6jaiFAgRipqqsSsjas2yKAarmmauSsmAmTMQsSypypkGIEckKuKuXVKpEWoAqqsU6vqp1yapkBarEvCFqrvKqtqq6sKB6pWogS8ugp3Qtmkk7ynwhzTKREixgVPgtmxFQumC8XE1UXMopgdIHR30vWcvthSoIkrgljuqIAWzWWwVIpOhMq3LBA1V6WaFzwj22hit2qfhDxGCOuRooWpCgwgp+uCptDtCOuKy3RWAHBgQj2Yu9Uo0hqHgw2mF+U3Fz0BToDtnKAYyNlhW1CLQaSNFK0hkZGwv4rbU+oVxeoUR-mkrFs0sLKvCktRUlsBiJs3SVtpITFuvRAes52oM4jJwhwute16iuvWRusBvVtwpJ25rzEi1FsCostptI05N1IhKRv+uziBuxAxrBvgoho3NMu7hhrQjhohwRsH2dr0lKHgm2i8t6joxUixqEBxpivxsgs6AmA3SKXbSjTJsjIptYqQo4sfInUKHptxqZpZpEDZs+ihVb0VqKS02jCgUbD5qBAFvjyFr9CClFqksCvlr5GltXFlrZR7v2WJuVpYMDDVvurNtpm53dOZi9LZiF05m5mwBgtCS6nSSiRiXjLqXNJlW5KbP+SsjSUiWiU7OPoyUanCRERWITSXh3u1ItK8P+WgsKnXpPq3pqUq3nJ3HTGmLmDvNiDmFXCpl-sJI5AAZiA5GAdWWmIwggd8oPGgdAZ3EklBHga0SQeAUJPBLYDvJwedBAawZQe4kMBEXIF8DvJIbIYKsVEIYaGmPpogfptjDoaKGmJuA91xRYEMALI4dUC4aZhWFYcKGmOqvgdiH0Hhm4F8HCABAAD5QBnFaqaHhHYhpjPJxGYhJHpHZGFHnEfIVGYHCSP1phtHQAZHAQ9HQBIRzGYhVGYhpjgBNGDApHzHdHFHQAwBDHkGwRwQABSZxsxix+Rjxvx2x0Aex7+3x8ScRoJ9xiMqUGRoxlBgAQklFidceCasbSaBCSZ8YhFisCcyfidAHipiDyaId8dioBE0bicsY8eqfKciemLkaKZ0fqecQUaaeSd8bkZqe4CKDqZCc6aBDcZ6YhBSecY8cKBCZiBSdiFDPTAKlK3Ps3rzIvzEsBBXCkN0OEG4FWcyR52Wasx4DfovvWfKnwBYAACsTBV0tmVgdnkR6nYGznN67zv89lImigDmP6CwHjIoVm3nMkCcv63dpjQ1hA7zIXvmlM1HCTIA6BvRN4KGBnEXkXwVYW4WomIQ+GGBYBIAIG8WCWsW4X2GqB+GABReBvFyl0lpTaYgAOXIEZeceZcZZjt6WOapF+b03X0CoeemCefqe2jrP2eBcalBe5YEF5ap1RUFYaGFZCc+YvFOfCXfr5aIzTBgpSRVXVfOdrIcACXySbLnN1dejVFIGkROmufIGrEgy6k0BBtXF5avo4CHlLgWU2wMVNaOCKAMsWPjEIDzt9rBDnM61zOptzXa2EVYwTIlYueyhtrqrWVlaw35fWr7tiFjeRl5cUSududMHdQxrXATblYkqzcgc91zqjeTlpiYs9zEC+Csu3h9qhtwyDZDahuShwBns-rntZkFw5kwAwB4pcAvIoFMAYCwQ+HKhuFIBoRrjnOt2V03G-yXYGu4W-xvA3Y2qsQYG2u1karED6vXbwJIkfmaDPaAIfBUqzJuAQWmS0DD2PY+sRJBmUGUGKoyB1SMACU-fcaZlqv0HIE-Yj3BCqtKAg-YXaoWtqtA+UHpedAg5JNfafJvkoHBS9mPeNcMVw4yMw4sYiGghosDH2rEDavBAhDavvcvmMCfcyJ2Z9Yw-BVw5TU2usHBBUpY9xFmQUBA-yWXa+IhIMUfig8vV0gDhjQs1E9ACD2UmjWE6VP71E-CA11RvpLtFU9AByasWKHhBXFKF2YE+90jPBH081XvNlVA5nBndinnZoVE4isU9xTKtZNLlk-k9XDj09hFOUSSJM6A0s6o8PZ46YDIH4+2jxVU73YmSqsPZkJ0WPX+QLFFWCIzm052tXHi7arC74+M5vGi8E6Axqri844ip49yjQdw-FckBeL483ak790fSc+4Uq-BDgc-Qsyi8E6TsC59jy4i8vZPnI8C8M6sQAHJD2DFKOpv70j3erVrAvuP4gXisFSAIF1uiPSOejvrPpV3jOtukPVxpihAoWrJggtqHIdI+S3Biwtq5UOB4RGv45Kvtoju+uPvTm6veOhv5u3vB8vubwvuwujuYyPJbX7XlBHWZxbl54PBVs6VCAhPXPZqBTo454xOcXwR+Tj9qZpzEil5MfK3cqNB9BIf1hofqBNAq0VUEe3A2OkeguVh4FkvMfxvpj9O5jdakvW7r4XumgWhr5wfzAtvrZHF4Y6ecE3AmekMDBW43P0emfabG7pz4agQVxEu5DKUCfRSAvMfFbX76fjBBlAl4oyexf7MJepfVtGeDeN1B01eg6zO4HxusJtp4fpeTfjSCkFCn7PfVtG9AlmeA5FF1f1ItFJPXv5Aveg+uV5uw-nf1IKeHXqfYeGIo+K4EHNxE-9b2sdmU+qeae4eY-bfCruVkeBfj46Knf9bTnje4+ClNNKIvU2f+faagpOe7yte0g+fK-m-tNJ0Fc55wstaPJwUSBZe7KejyV+fxvtp2eWeWh0rNw54mbgU7FCfzAJ-bynyLzl0p+duT5Z-kfxuMK5+l-i61+rEgVbEXAt-x37ll0s8dW7vtJypKB8AmpGoBgKhBhMf8KTpCFF9AAFmcLQ93FSr-1xRv9Yo6hAAdPw06WYHkFfY6gAU6iH8dKPRRsm7mv7mcX+XiTSNZm6jyJr+9FaUGXUGSdQGA6gEQBwFIDrRaihAGRPzwnRep0BBvQurEASzEwKOQIZ6AwFeg4VSBslNOkPwTDPQI8kLTbKUAcAUDAC1As7nQKR7UxZKm2ZoLkCYHnRVoV2Z6MPRzBFovUJ-ftO3WlRYQNBECBfu324DmCcaBvGuqAHHQW0xB49YXiuDYhH8bBmPEXhBllT9AFAqPLrBUAji+BMihgNkEEPIaN5DApIQAYrm+JhCseEQkIYMmiFPB-uj6RGgURJ5PB6mDVPwQENzJJDQhvgj6AhCMBZCS2SmIoSkNJBPlqgsyDgHawILBDQh4QyMJEJqEo9vqCQ8btUNljEg0hS-d3iHQqFoQchITeoWQEaGZJqh+gPoakOO5+hxhCjPIaUKIgFFUBu2VYf4JkARwdYZPXJG+xVqBhdhVAJGPGkCAfRsO+Qp5ka2pAqkvEpwzDuLAuF+DrhH0LofEJKGCRxujGKTg+Stb9AZh7Q5Ic6xWCI1vh9LZYf9D2HnDth7w-waXkuGCRNhfMXiLMkYAcN+IvEbgBfCzg0xYhTddSDICTC1Aqq43cECSL2Bkj5uiCToAmSoC4iqA4QcbnzRxxL8ZY6A3iCyO4QRtBkQoQ1KCFzQ4iuIjI1SoDHm6hJH03IuTsHilEHg5hzIt3mcLICYjQoSVG8NyJJ6KgbweIxYYqHRGqiGAWIpKh72ZHailM20PURaLWQ0xhulI0kVC28HUg5oHAT-nZm+GSMRKj6VxtCMvTHlx2fQJhLikYDgD3+GXGAc4G4Bi8RRYvAkcdhOYmiTC5yYqIaKSDGj1R+gGMWKLDGohuAlQvSHGJEFH8kxTyC5OBypEcAoWvwm3PNwQpNtJASbT0aWOaQXIAxZQMii1ARgMjQimAkbstXahmjGSAbcwGlFeFXDugbIboDEITFUgv6aUHEFOL8Ark+xlWMCDwQ1D0ZL0MHQwM6K7GS8iQbsHsetEbDdBGQQ44rLpnQHdBwgUHfTjB26D2o3RoATKgAAlKWDAAAILgBwAlLAAEqZVIAAAeUZbIAgQ3FLCpIDUDQCtIMmHsRiJUGaVYhvATsTKHhjwTVRWPMcfuKD6RjeMaYugMNzHGdB+4eE94CpWImZAYJxYBDHOTfEfjvxv4gCcBNAkUTJAAgtCbhNgkIYCJc5McfCP3EMBDxeRXibd24n0BPI2w-AXsRajUTwx7wDCUkEQnYwEB2wt6HsJ2aKY8RxVSxl1TUAmBKSEmXMUvG0mWRfKzwpSeKN7qKYxqfEfhsZPwkqjLJdop8ZIDiAZBJWOZWZIyAAAMJwGCjUEci8IPJqPURLDmoCDAroIU3IA4G8lAhHunk2KdoFqp4gvsCuBKXciSmkAVKhMQKYAXwKkw-oGU3HrFAineiFReA-Zo+mKmK9wpezP8IVL+BUEx2G0Y9PlPFCpBqg2QDySeNKw1S0edUriuNWCmFwSp5UCKT22uq7ZfBjURyJ0BoTwDg0O+dgSwLMyk87geUmuMoPcmjTappU1MFAngRGC1pWEGaQwDmlsAaElgyvjaKjLEBZp802we32cxC9CA4WPsWdIuk0IEp7YioCQBECpAM41-GuMpNApTS+Yn0x6WDP7DIZ84P0fFMYOdCk12g9IkGS0ERmrhro0ZKBI4M2wJYksPAjiW9EFqgz7BOmaVCwEkHgRxwGNUoCSKjAY1mgkMy6VoJOiOwWAegjMFgGgi4zhaH5clDyLQilBmZV0wigknU4izbBVfP0M0HpnGBRB7gj6YEAeksyvBI4+-kZVzICiKki8P4I1PJinhSZOMbgRdF4GgB+Bgg-imjP0qCgo0Eg3TjCwnQho6AzVDMXZNZmIV2ZPAn2AWKKCGyrJCIFNrXRb6wzACr5epEpjwCQho5K4E2atAJmmyiZOFf2TbLTQUyeBOndceqFqBrSHArsk0frK4C+yYg-Ar2abJAbQRK5eYVQUxiF4DJC5BtAOQP0jQGA-prGQGdHH9nWzZKclKOTHPJkK4HR1Ip0eGi5pLTh+mswYGjJTnFit0Y-cwHnNWpuzsRe4X8PGKP5EiJIlYmkdwiHlVjM+x8OkVkEICrysekMSUXDMwgFEg5WfPkQIIVg6y94esk+fszXk1ymuYcwgDEPG53ztZ8FJ+Y8C-n7M2QBIzxmAGjmQgL5PZBUSfPCBB5j+0o0kON0Xm4gC5mo0YWsk1GkhbpsQFBcvNNGD5YFOCq8B72wXFzFQdo+bnvLJF7ijkHkr2ECRR7YDOCQJGwh5M7JvBw4KEpeD9NiHf4fpT5DKeoV4UICcGONWiD1OlkxBvMvjToHNN8BBlawBnJftu37wCL2xurS+AlO6nkxsxFkgFKACLFITZxAgcOKbhGnVpAgbUmuJ1Ojg-SMspWPBWWOKgTI8FBcvRQhOLmcKzwAXMxRJh+nELCgRiwGGlITBOLWx6UYkY6IPko0-hsdClNO1rAbcdF2hVrIqkaGMAAlm2esW6KbHIj9A4SlMdBWfH0SGAf46yAABlKWYEhjDbn8mPCoJ-DBKf-AIlGyEBKEy+mhMUmETxu2EziYMmaXdKiJ7EkiRYv-hPlKJC4QZXRPfFlLKl1StiTOBwkDKPJLSpyYRNiFqSc2gwRTPxM9GCThJQywJbEHBAJTJJ3w+EJWz2X5LKpViM5VJNRHa0yquIQZa0oDmbLvh6kqgJpKvAJT6mXVTRRYpSVVT9FpMytrZOgmvL1lpM9sXvB9SFwtuWYpJakmhVWTxxgkD5ciK+X7D3aKwJugoygRbKWMhQkEZkU2zehTeZE-+B4tVFgrNs0I3VoMppXOSe5TKLupCOdEJLEVW3UGeit6knNWgzzIEAuJ35IqyASTKxFyuRUc1jhLgQVQ4Cpkbic53COFdfUSXiqxVG3XldsOG7yro4+-NTF93ZXIj2xMsfcUtBlGiLOiA44ztyLU5q4T46Ai8bCs-6BA5JpUxgPuJA5kT1oXqc1XrIcmES7a95KkGeKBAHLywR4wNfYMbBftzEl2QNeioVZ6Rrlbw7oGJJokSSHlogoqDiAzXyTzlyIgslAiwiBruA0IuNVYppRkS+VxWXmXCkmhW1XVjUDKa9C9UiLyQhUdZYyG8XcKM49i8kH6rQkWr1lGMzDCczDWBw0JQkyNSJNHWiDY1iQKtRYqTUAgMaqaicdsDuUeTC1fgmVT834B5rt1HAXdR9GLWxgsICU8te40rWXYMpOqutWPLnktSoBGU4IO6qXjRrYhMsbRV+vG6vr6F0a+blAMDXerxJhEyAcIEpXgawNmajZVBA+DBAf+NattV0ujUOKTm9saDXBq-qlLGJ-4wCSBPABMQ8NP4gjSxJqWlqyJ16+plho-WlpLx0qcEBiC46rltaUGoFR2r2rNqV1qGioOhIHXjqqQdG5pYyFKXlKqlxG8kOJvmWUbqpHkmjSExE2rLGNg8ljbQspovE3g1zeMgSm-VKckeDxRtbtm7TabHohmuctdKM0wUF0ZmlEBXyOFj0nS-eAlCpXIw+oXiJDHTTUgs36bHaWQVzWxo8jdovN5mvTQgKs2CLb4ocFIN5qLa+aEB5-e0k+RqBiBBYgyRFeFqP6RbnR2m-AF1Ls1FttVkIvzbnUK0Nxytf1EoGiu2Hzc8tXU2zfQDi2rpLMzWhlLtSlUarTNTW8zZVornYsatkI2mLmpx4iAtqnWjbneXq0QaWpXm-LdHFC32bitJq0rR5txCLaCwcw2LY9Cq2xLaxHIgEdMOaEdCwRW2c1OquSUhbttKILbYYDa0+xjVfg-rYM3cZzaGt0WouNdvi0baJiKEJZI9o+H7QRtl3KyBNtRbBQ7t827Vl4lS06oVkg2lbapM+VPCfl-dH+LpJAxFAxFYOo9MQDS3PsLtECYPscrgiujGxHo-JXaNsCY7qtOS8neiqHrczYIoWG3H9qKAA7BI90Ebdd3G3natud5WHVoGh03V4YJgfgCAJYEICFU1-Cmk2yuazw22NNZ0YXxh6PYuUy2p7ZOA7rI6NJZPYyPiuMgIwxd8iQgSHGIEKY1kPXX3lZOIUdRqYujAscXUrD5iBthQaxBvxcC8QxopAKFNtSZ2Y7wQKutPv+RD50IXRbUXJRTreE0wIql6aWhzqB2HrA9drSnqrvRi86awgsQnXeSD3F9xo-kxsDcEl5UNghjIAAJwnAvEJe8hgzsc1V6eIwQ9FQINmRexuA8GjOvLwM0fAx1+guuoHCjQuBIyPk4NYUGr0QIJuE3KyGgGn37qx0T6v0GPuM7d6yZsQMfU3s3gq41JpeH2C4B8gTk3B4ackGvrUkb6Ga3AIvZ9tIbBCNFbAeRYoq+i1YkNGuj4YSPFrbCudSeuReQ3v0Z7tUWgbPQElv3f6mAwZYXbtgD5uBCd0aOgEVBPBkA7Ye8TFsbNKytBGQlvBxMwEl4QG1lcyB-TAf4CUcjgz3JiAOGiSkAEDKLTORJD3juUdIwaxfeCG8g+RsDhi5FVOqKgxAmD-kG+aPob3kN42P3KA60GOAOCuaLEAcIms-7f9cUUGzIsIeDUAbC4760DSBprXqF5Dog0g-Aa9rgoqDViGgw4RH2r6+DECRg0wZ8iBrBAsh0QOYe8jcHHBbEefQ0AYO2GfIW3ZTC0iZiuGNG9g4-Z6MJWfLUdMtdHfIwxqg9kVp2oBKbuTjm6sxoM8tc7v+juNJY+onHa0DmJk73RDO-0aPmfVYUjSQgQwI5BVzVAio-KqkKgaBDoHre2BhkbgegMcHNqRB-ZI3R-hf00jGRiPfTvhE5HQlOpb6pDF23SKrEDkUnnZLmiijmAskaCGSlW64hEV0RmgDqnSOIDBjPsO3UkfqYpHOVk8++YKI+C5o0ZeItpZ2tKwSC+BhMy2fHm7maU+jLgc41nIgg-zJ5DcyY6TPSH6L8FHs+aGXNWg+xjjTc+FNgagMTdcx+gV3aAAAA6WAX9cSsGRSGZAwQfjnHvMY6MEkaESfVYjIMIHd+JwYE4itBMwDwTru6E7Cf+nwmv+iJ0gPxywi8ATwPsHoLSe4AAAvVVlCYFDbKmAlJpExsZ6Csn0TekTE7AW0PGAaoqEA6AUfeDFHNwoJuE1ybeg8nMmXXFBuQC2osAtqygLalC0mATc0weAfExEdlPkn5TVJ-jkqex6qmrI6plslqee5Cn-IQAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMTWtbIjsVQwTBPjRvQWEHjElQsDBSHrJsljWOuZHYQAZApoC6vq5EZOk6SgKQom8Zx-51uK7BMExqyltJqG8fxQiCaQwmgIuhDGYuF69AZyK0BI6H0RwlCgU5bAmfJkkoapMiHsFrl-v0AE7CwtC0OQMGEIFwymUSyFlmK1hWQJVh2fJyiLvFiXJalpAuTW7k0CVSUpfwpC+F5tE2upGVSeWYWHl11RMeeVUxXWtVlQ1HAQfgQWYth7Whbch4RVN-WXtVqGuveVTDMUxDiAwu6McFZmZRZPHidZHC2fZi5rfQLCbSI23tntlUcit10bY1907XtTXea101JLNerhb1PVQn1dpcTQb23R9TAPbtk7jZNbUA1lNCgw4C3kRDK07P2J7Zp9j0BulqPHTlp15UJhUOfjg4anDX0Bs9bmDcidOnltTPxp5v2k7OaMqXNIPC2DkU42zNAc4TjPE-GSP80dnWi5jvXi-pkuoeI6ECCwYEAB7cMwCWDIrHXZWJfFUwVU1FdVxS4Cq5DM1FK3a12uscGEu2BR6tBmyhTJyM1Pl+TYxnKBj4MDYidbu57tECBIAeC420w9pQxANjcQPzWri1LfCuPWHOKfk5bZ0XTTi5zjSFJMOVLOQ+b1JMIbxuJdQZfK7n+fYxrsfcdYa0CM7gwsKIBtG0wJtdwdM2CydVs2fl9nUYEV3UKPAYT1PHeDE3r1b3vXvMGp-0CxZtlhkwuD2U4Md3qAI8n9d3dbNfzB3zTOiPwBL9tyNlwUQNsUaX3LJ-W+9kADMUVm5ESYAARwmiQZGF8lYW1yivamtsHLAWQfwYgTBD6azTr4JBKCiFYQJIdFuoALqLnwZQ4h+IpoEj-nWJhhDpg3RGOVf289jBkx7rILGiFXaa0dgwegdc+ENWoUhQG592EvU1sbRqvCG4NQEWwxRgsxEqNZoPGSYE2DcFIBIchBDUEKNoShNikp5KGPgdYcQMjNHlVsQvcu8pgZi10XA4uHAM5ZzNnQpeldV7VxCQ2Ehxj6wsCbME0Qmds7z2ER-Vei4YmrhyORDhyIYnBMoEnMJSi-F-Qhi4rcO4SbpPAZgym2DQGkCKmOGMT0JHxPtoA-ec9Fp2MFlHSKBSaoMBgjosBGD0YqwqdHVR8TCCUC4OM-2lBuA0O8eWBxDh1nOJWlImR7Y4J7L0RZMKpzRnrCOasmQpzBkWUPJc5ams8bthkIAkKi8KbL3OqvQBRUVyBLUfwYyY1jz02sCqDczpJJvQrKOKMHTJyJi9C2MMEZ2kTnjImfwJZjArVyNMYME9s6fNoYEex1h+wfMNrodeHgyHouliZAFCKanIpxdOdeypZLhEiJ8hloR+XhWYMS0lOdZCfMNECVwRKOAktENnQ80qZSNBCIA-FRhejmXLPKxV2cRxwOvOs0Y30qinjXPgR0t0BCgH4qQK8YBcBPhfMQKIPAPSgGgaAOQcMALQLQIG2B0V4klUzjIJsEhhxw0oAwAQmyRTfN2JKZgrp40Emoh4IgIhHZBgENRDVyCJ6RqYNGoWQMwpprjQm8869QAeCrbGjNar1WgHDcQUt5bDzVpbcC+JZCLW9jhdQeg9DM67yHUwL0DCABUU7Z3PVcG7OiDZ8DMijRwJQoBN0rHaoEeFtB8BdinV6DtXat0Hl6ik2Mk8p3snqOQXAvqj0nvphpLSObb4qmkJJeoKEv15ukFqwI3RQBiGAhS+o8Le12q0ue3dV6xbHvvReQET7fWwY-aAQDP7pxQaaABwQ3780gfqGBiD0792AhQj25t04yMpB1UxtYzGjC43vKMOym7t2IdAEjP9xhD0offfBhKEaeNIYcDeyd9MH0pAw3IETp5sO4fzYJ5IwFGqHhk3e+mdRZXJHXBdSTwrrh8YEzKwz9QdMTr06eJa5HwOiEg9RlIMH6NnvE52vjEVlPjHk40RTWHNKfuI0B-DbmACQ9QtNiWQ2+y1WAYvWaMyK9cFmJ4TSs6lhofnEsBfZCl7VznXP1uMHFuj6aBDKAE4x5IbHQOsbWCtUetAwikHdTINgGm6EvlCw5FJlA13cEXOVht47hvrvGyEfrmkHIqmAgwCq42jAeEW1x1bSpwMMCfJENgRUACqhAGxLODDQU1CM6wAFprvaXpku4wjWUJtY6+6zi8LLvmtEwkpJU68VYHhQ6r0X3Jz-cXENkbz14XcGtSDvgV29zg428t56zcyFdhVKPWCR4ByWv41ls8FKULrhZbVwnXSn6Y8ECRcFePezU+xxJYnQzbiM5IpTgC7PYLgsgiZbnzP920d6gLzndYBcJmpC64yuOCZMGUNLwKXyLLnrJ4+YyYvkRtypLINXSMFc+yJ0LwW64MdY5IrL-TBO+cJHV0rgeT8RCFATb5RibK1eK6Ny1zW+qJVe8fc+mQbyBUwgI8kRTFCS1q7PL1-9+jwxMHq6B0rVHVvwq7F6CXKoOCe4+QbjXSe48WQzwNtT0gtvGA8LgCewEK9GBCL7pVMgJcKy7IFhovQosUZc6nmjyb1xE9Wx4Rv2cwox8ojhbSYqFUSpVTCVbIRq896T41578emDiqb58h3AFtf8CEE+r2lATankt-jiC+elcUvT+b2Cmfb8wUlznw3Z+hx27PCBxTAvQAAEJ5tl8i0VCIyfUsSxE6yiGbwf15wmkgJp1gltzrwaAv3f06FAFYxT22ED2DyPFEFDz0Fy1cGvFnWIMVBvzgJgnv3IKf1z2QM9zQxSBQm-z-zC1zTwyFSIBAMZApC6zJ0QOSBb0J1gKZ3uCi1EPY0N1bXqA1X1h11f3l2t0vw-3QMo0wN9Sd332sC7mQI9wkMJFACIJIKL3LEXGryhGkEXBA27zKyMK2D30EDkPJ1EEUPoO1ReXiQ4NwFAO4IgO4G3W4E0GcJZwsk92wxMOqHMMVA8DCLMIEDGykPA2LQcF8LXB0EiPf0VF5TpxkF8PpXqA8DsIP1Am4GP0SlP2SNCACJQIyNQhpX8NyNlHAxkP3wTCKJKPIDKMqPKLoKMAMNnWqJ2HXByNACUlQkGNSLyJw0IE4LAK60PByIMwIPuzBjqIWIII8K8PAMlWyKcFWMWMaDChWL4KBDoMkIuAclMPGFiJ304RIgdD3DBAtH1mV3LHXH1mUGNFAHlH7Sfh2BHDKHrnKmeMaV+SriqDkWGCKhHDiSfjWm2nwE7kYiNSCJETmSNU1xoE3ETmTiRONx8XYjzjBjRNOLW3oSyQnhJQkBygTxcmqKjh7VhSqRWjHEsT1j+JHGUAIQYEsQ6w9DxFAE5MsW6P3XhW2lYGpBHEzFBUCjpzlyhURNhRA3hXWJviPRAS9HrWVJmIgIFK9gpF5N2MWNhMggRJkFFNugxQCwNIIJ1LoJA2AM8JVLsEdAG2iMuLiIaPlGqPAiy3rg4AFJhWzCxNNIYgtLPCtIaESlgjuOpAePYBkGVONidMZM1nhOmCxzbmyIpCBJMWIhxwOKzO+IAgdXNDjKjV4zLT3TWEPS9AdS7XLIkF-iTQsgfFL3Czwwm3lG21oGuO4mI31g4E3T8kzPQSMHhSjS9HzMQjtOTRpSjV0CiJXG2yjU4gdFAAABUAAJAAUQ4AACVDsAAZLc5ALSeUP0A5DYd1UM-2Hk0YPkoUps8sVMyXEQfWYc3k4kibYs9M-WHwEcG8vUu8z8kIYsieSef8gHIxJ+UC+wa8tIXE8sTcnc-co88AK5b8vsv850AC3kCwbMlEPILcffGQcrYs2MukH8gcstXyO+W8vC8M1LGuZ0a7cilyBiwIMi2kGQZcXJJi8YFi2kFyY1Z1SWB8F1Z8V8OARAZAdAb8eQUNJ+b0yCeueyfgCYM5bZICECMCcaaCUiRaAiDwPJR1NtIyQKJiQyybEbH6FqaAoKEOSeMOAKNBW3NSz8+vVaUdd6LmOWfpciSypSnMLymGHyxHfaXBNygiTIllUKvaCyxofIiCGU+mWKupCKwgdSqK1CYaeqNKYKAKpKnKzxGmSK0y4eLeMeagXeXpGeE0-KhK8DJKkeSqpySeGq2ecKhCZQUqhoTI+OPWdquqgyhqshaqGQfq3Uw3P2Jidi6zCaoM4KWawzHq+IhBaxKheqhoRK3eLhGxXaohWRLRYYSZRCbqjK9y7bHYGJeKraxq3ea6kq86rK34tGG6iYwK0uR6zKsqjlbFPyxCSy5kj5XSkYFkYxPeWq02Ra8Dc6pa5Ia+MOJGf2Y5E61y86i6jVXbONS6Y7U7Sgc7OgCQYYFgfWUAW7O65SkYJuZuIG3EZQFGpCRTAYjsNgMeT4Ma3EPA84FCZk0+cgVmigdmyWMG+m1ZFwqw6dJm8qsxN0IoDmogLm5IDzVU50imqCUG+2IMzmuGwEAosCDKiIagTxI4lIe2b2Yyaa7Wk25IFGnWwzHpA2p8XKuyTm9vaZVCWuBWRMkBC6yvFuOyoK14NKb2gGoEEIAArVCWgjUYPbEWhyXGs7MkH3CQPgMmu7Zkx7UAXoIuTWBG0CJG2lDZM69SqDFCJZFZCZQuzNW6z03qszAVEGkyQ5RqY5KutG9Su20kmRRGwnf2dRCu-2QBAkYu5M+JQK5qneNq9uSG-6ke5EzBBPYGn00GgBduU+OYaGty327aymkyVeoBN+Tep6poDVRu004+XpYBFpduwsusQK-atBWgOe-dKW0xcxSxB+hRXrIjVg0jZQnvVQoPVxeKDRMEo6lpAkWPBpGgJS9WpuiIdxMB4q3RRQNyywjAtzUcrym8BB0BhCOy9U3Ws+5uw65BhCYetBxUV+z2wQkh+SOyxWwjQWOhqaOylfDB9eFCe+ihbhEi6zfujxbRBRVB86lfZrHO+JPOjgIgHKuYZyxNXVC2XxeRz8uUPYao9cRcWdGRk2ZKaQRdZQKRnR0qfNOZFR2EYrNAiRp+WgWMakN0WGeGPaVGilV+z+yKMPZ+bBpxL0B+0hoR4KJPKlN+ixKxZhBRIVWuk+9tXgYi2x80hx1KwYf2FhgE+RJxGETuwIeJ+x61JJ0dbrRJHhHhmxa2phxBtJ46r+9vKOzB8Jcq9aEKomMKt626i6aGO6WWMKmy+iPqHlGoiFTmZpuKzawEDwC6GK4ZycXmFqPp2VEIM88RhS3fJKh69Kku4U7BrEzPG9BsYpUpQJqs7B3TFsugOx3yPJqZ5J5vEpCQFwrx9aSY2RhNGdfKGi6RpyXR0xk5+5rhs+rEzuvWtSw2528auzJ+p5r56QCFrensmBpKz69Z-CshGhvnPh2VWBlS2uQaqGxaLJlIWFtwxSwqr5sh1pGGjZo5x5pGL0TF0Goq0aBWI+9SkDHKnpyeBWBlzaGZ3p6G-XCl35wWJGOFim5KoZrpkZpFilNlnljlwQyZiV6ZhymaxUOlkyBVpxxGQQ5lnLYwShsDIwZuce4KzpzV3FrqgV6Vr59luy8+xp017me45Vxa1Vs+jpxxx16kJlvFgV8M-VnAa8aqMS11SS98GSr8INZZwyKkmAp4+emgUmgbRgCaEV0a4W8232UYCFgFy1hCzJISTeGWnNHPSWVcVbDNjYLN5QHN-1oJV0ItuW4W3AfCiJa2HEIqet4o4t6qaEgCM2x6TN6RHEfCyBO+XAZQB+BZJ+TW254d+NruxqL+dt0ARsqCvtyWfWiYEFzxZt+d0d5d2BVNopm+aSW1taKkEcuhBhVFiaXJc9hqdEj2tGW1gTed1t5pHAiaSE59pGXtusG9l0agC9z9-3aBitURXqSzEVwhFJSMx-YFp2zxNy+dlVURqdvt3B5-GXZDvNmZIGWtzWGD4-dOZOT3Z+1wR8rYdcMjgVmseFHSaYBud+zd7dhqNFPYc80hY93PWViFpG-CuSByvj3ux9z3dllJiQ-QCjxRvD2QW09DusMTguoU6TsDw8eT6x3fJoooBDo29JoTxw7N+KRj86vd-gGCHSYOX6GhAbcYWCSziCauhq03bjl-Xjwz23LsYzzd32kIOziziA3j3QAAHnoXM4c5r19pJJjuxsXDXLogSUIAkHbXGXwH4ToHXW3HIGkBCEXALDQL2NzJghAKs5ahoULF4vy74KK5K8c-nzDp21jri4S9wBDBS5gjS+0Qy6RRy4ciq8K8YBIhK6C-y8q8LGq8G9glq8i9vuREh3XRtaZYcufu9zHoyvOjomZBw8VBWhydK-omE5cygfdp2X26O7r3yPW6G2ZBNqI7g5Y8Q-kS3rrxCFlewzCiC74MbVuDq74Ne7sbmSC6kxwMgbEYD19TUuwwY5CcsV0+duO8a+xtlaO0IFohzU+OcnudcFqfXnhRCK0hIdz0ob72bIB7E945xAkPxeSCU97sp41yx6e2axk4pY2-WQ+TQ806GmtdldteR4UNzdW8Uqu82458pfqF24B-c+twUaYbxMcSE6i6ODUrZ5u8WLu9pzh6Q-RoX0Jt+ne9uE+9yw8DizCkc8cKV8CH+9ukB8V+B7q8Z5KyocD0h6TdEiY9Ca14fc8dcBi8iH58XGOzR8EAx8CjTvbVJYakzuTxULqdcDx8Ny9EJ5f2J7l-LD2-J6E-p6V2p8CFp75wk4Z7B6Z5Z5V+u7F+EpvFEsfAkqgCko-FkowCjaHj5oFvICFuMTBo0uBMiSEjpociNn5rZuIUfcH7b8+H5u3HAbis5oeRRPU4VrgRhxZuH5LeMVOYugeAYVUlyWMFUiBF1YXe4utF36MGtAP6tIYQXFP-rov636yVshv9sjv5SAYR2VyR2UaEP4YVezUFyV-8kBf9L+WSP3qfz96Ahv+WSMAlEC4BdhaAq4aAbAIfD1BIBBbfMDf2MAyA3ioAO5hkGyCk1CwyXUAKgLsiLhrsGA1INgNwHPBSad2IgSQO4oGMUgWA5QNQPwGgBZ0OAowAwMXDAAKBvqKgSCHYFgB6BwAgtgAFJ+BLAnAUINACk1xBXA4gWINIGhYMB0gtgXIOwx3NlB3FZgmoMEF4DNBzBGQToMXDBcpBBgmgaAFC5GBtB9-AtsF3SAUD1Bsg0mo4NsE8DMgFg1ga4NADZAPBpgzIE4OUCBAXBhg0mkEICH2DSBP+fgZoNcDPAjAP+YwE8QeAXhl+Q-QWtMHti8cMgioIOKpDXAr8sha-O8CogyHj9shG7SgF2AABW-qFsvkOxC4hDBV-Yoe3xYTgc5krtQ-oEDH6r8g2F4QHNg36ElD3WG-VeAwgAK5IACvQvYq4AYSQBCAeaZ2BIF35LCVhFiOYfMKMAMJEBsASAKf32GQBthOwvYRSBgFbkb+iArcqcPmEMIAAciwAeH8CnhDwy3rlnSEjD2hnwd1uJzyH1Ag4z6Z4GFGbZFDMhHQwOjdGOpfDHmowyEX8KRoAiUgQIwwVHGba254Rvwk1qQBUQ00ow3JH4VUM7799jkfyegPhV5rZ4v0YwCQLTlqEfB4oxADsOYnRayosRaZMxOMHKgz8FandMkbZFQIUcueHkMsNwAe56c0o+FIFo7UlF2RxsBQYihyNKFKtrOygI4sqL+FA8FRsTewsqPtg1D6hZACFhqKJFQjvK-HO2tDw96w9ZR8PD7Ng2h4wQUkXnNqnaPKi+MxREo0FkMMDbV9xKL4OvmG0-CYBm+UMIDrtDIB+kJo9AeMFiAYDZwWULbawLYHQiYQo4SY+rg0TpKQdBmhWXQBVw4B5dCwNXTwlsUPCZjgKXQisXmJjxXJ62WIchObRGD6gOwsEWXu7RYDEBiAaXOwCpTkD01uxsgh8IWBkBdjiAoRPLlETy65cio+XccXcMaCLhckRXfZJrGniUhk4RXUWhMh3Hr1NxhIKLJRxoBFdRu3FfLg2L1jARmxcwIOGSI3EWIdxkDUbtoAsIKdkQD4yxB6DpDHJkxKaBwL+LSKOQ9g7pZIH1VXi-jhiCkAiEA3-FzJfxzESfFHAQm-55sPFVRr6jCiQSXSK4LNA80YBdjGoBCWMXuHjHZxAJ0TWCVijiqQSlI9aMyk3Q3Y4su4CE7eg5HPGFhPxlQUYHSCwm3JWJ-XQEHl2LF69bKTlGXD0mnodUxx4yUPONyBDCT8uXE78eWN6go0ZJEkc8AWHrQuRQJ8RT8dxUf47iihGwUJt+KzFgTRiIqCiQ0QMmLhr+hjVeHxIkjA8EJJkzcdxIYA9Z+iQESbnBBsnJAoiAAchEnHJRuIU6oqWOTi-irkXE-0gKT-G+JAoaYyIGFASm594aZJQQLxTjS8UlkFUNpAlC4y8UoSdaCYgZLSkTQuStuQ8OlNCCmAzJPEqsRVNuB1TapVU7QfVNMmWIEpIrBkW2FsYsjGoSMU+JnFqqF0-x1EkmIKgmIMIppB8BXExKkkmlPkdtIOP1KZFDSA6RsMaQlCfETSLJVvVCM5QmlpEGEK4fEA5XeYnTpUXpQ2CKx1KeRia-ZHaUQgSgTTXGWBawPNK7jSoCMePDdm9y0iKhee4k8ypJOnjSTpUjGZfrtOAhCAUaXoIOI9KJpVAXpT4N6RC3UnQzuazDQGQ5VCLX80i64A4hjNqo+AGakcWZK9PJkIyxah04IFX3BpAy0Jj-YmWTKKl0yJk1RHIQTJdIbTBp5AcxHZT0lHBqO+M36GtOxACzmRQs4aYTlGmYz9pqqDRiKl5mSz6pcMimWLXQYqFX6N0ulIJhQjnSVxV0sGaykNm6yAGbmLhvdKWbNwLEfAD6bhysnXAZp2Y24O7Msl+9C6KPPGgTWYk0BHZI-esUByEbkoXZAxEVF7MCDD5eoMcxmT7LZSB8TsidRopDIRL4TtE1NJkkVOWzxhSAyyDCFwAEAiApUdKFDinQtncAQQaEkqMVKuR6gEZecycEGQjnHiuh97KpjjJFFDBoRFAFSmyho5EBg+QgfsBwA9SCBxgDASSEfG4DJx254PWCTSj+lx8hMWzB-JQSZzUEU+hsZwoXjA7f5Wyv9cvNZmzSo9ZaY89sBPNtTTzfZVRazCEFdDzyhCtOVvA-jdpPYMCr9AfIbJ95gd1wz85OGPkNnKAgFcyVVOw1j6cNBYmqRUKvg7ngLt8RLLTjrhaJQj8o8iNXLrHJYPl4+G88glvNpzZ4aCtY-eR3KPn-42y+aNIgUQcIqAKQzhVWbhWpBalX5POd+eQVtw4LyFvc4VCwq4KbEOsCwRhSgXnb480JFxcwgVwaKukIi8RSPEkVEU4L6igU9-EIlWrUp3kHWVRbHMaJoLD810TBWlGEUMLcFEhHybqWuA6KoJrsyICouJmAULAgi2Yr1B0UZTjAh4FRR4qMB0VWF3hLYu4rKZAgwo3i4JYCBOLVE5FVxFBXWHdRww9m5peufnJYktzBgHJDqbqXJY2lJOmzR5lqUdJqktIfilxdqUyWmLklAYdUTsOsw5KC8HcgpSHVCJSLYiaRKJpZLg7RkSydIRpTPCTIrkNg65bchwAACC4AcAFuV3JrlIAAAeQeEnlPiHHMMTeEvIwDKl1zPxYERdnPkfy75ICmkQwqvkKZaSgpn4qrEwVJ46y0dOhQ2DAJLlJy+8PBQ7lIVRl4yyZdMrmVoV3xNAQ5W3GOVLYAwOFD8vO04oChKKg5Wik4sIC25ioDygSqiBzmSIscXAB5UCrvJbKO55FHPBiCDjlYcFaXPAVtniVZwuA1IK5YxHxUHZ+F+pFAjrVa7gEUVAKjZVCucKzcTxk-bMPFPKUsr383S-Clip5C4qJeifZ4OvCxWKiigmoNkccWRXkr-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-kznlVNUDHJBbe40VC7C8ViAvFWIjCCCkXhrw7J-0mab5OUmrTdJo-sVF4oOmO2zpoStqcqhAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJw+S+GEBhhEwySTJivI4soTpiOdVwDjsqCH1AJJFFBed40TJEnXwCoQrfZjj1ACqqvpHRo0a6j2iSVJKAKWhqGSPR+rCyF3MilivzeITJtUmCfU7XLEN6IT3gWZghyMqThVO-AkpS6twPSoLmv6xjbSi78xB0Er4l4xLkvwVKntvDLmv2uDNMQ6kOQJXofx+mZ-ruwHgYYK6TIRgGSGq1pjVBl7My7WR8D4QNPDKqKsZRnHkN2j1idaMnELuSnNtw77sYmXBuwJ+z2kZ0nAwAZkk66tvefAAEdr1iAK3Sm9UvQO+DeYhXsPhlmdqHwDGopm6xNdlnXWQOBXVM03oje13WKm1M3Buea25bOjR8CHBr0osQm1xc3d3o89ndm6MFXYu89TfN4LHPttmhpSi8-3DphPcxM271U1aHcDobEXdxRCGjSWtblyOM8ypEKAo7PjM+t4QNDpP3Yj2Py-Brkq6cyOxZMulcAWpbntVdvlcho7MV7ebFr1oODbm-vFvp5rLan5IhlAE1HeFVe5tocbJsVrMc1WiLHiDxFJlqGYl8zCGcoQieg0v6Z4hnob8ppoHHpZIemoc4--ZuS3uObIQJU4CR9sJABr4T6nxMgwWgEwSBgL0LQRQ6cwa3w7jyVB6C47PEKiQUOoDcEYMgUffQaCa7iyCEDC8oCGpUKjs1Z8TCPrnzeMUPQKMFaHzvodWUKNeyDB7lFVoyYZK6SBtoFkwReF4UqBMZQUxuK6AcOkWQVglE1BfloXQhgfAWBMoQVo1gpC8SWjwu8BI9qcOyNwpKRgYYcn6C1FIaRpCSPMg4xQFRxjP1UY0ZxNIABcnpNQ+IMMEgkriIkmPwGYixy1HI8IMGUaJsMLDxMSbgJaz5UlRMyRYMJKNDHmCiMPTM2TKDmNyWMKwYsdhoJYNxBYaxhhkGIMyHQoAJSECwDsPgJwzjUHlEoVwoBhagFBEBZ4ws0DzNFmfIa-YFp6FSNGPxQFaAkB0GQyprZsFLFaHQXZZsMnmFcYwQChVJA6AuaAEpMteLrPwJsihyScwnJ2Xs-cDzLkfO+WcwpRTzBhNWdQV57znxAt+aI2e7ivRrEMNYhRC9-ptIIA4S2AAqTF+AcVYV8OVBkyQyBtQ2ZQTwFRKWs2sb4BRBwyB5HxQ4CFUKqXzF3Oi3ASKCBFlhsIPg0ymUsvMuwc01zSZFUlLw2GqkpW3MlGUgkERQCfA+PSjkCjYVsqrGs2lXKGLMvxQK0FQrpm6rNBwRVMrGhaqKQqhgNy7UqthmqjV+AHWZMzruWFB5QWgAqRyYN5TqS91-CwAMlLqWgENaZXi145UWEZSa8VHB2UxqNUsHlfL1gBo5Ba0Eaa1gSptc66Vdzk00g+BeZ8ub8XpMDZkiJmks0dC6D0eN-kNhNubYG+tC0MXmXcu69VuBNVUUyTq7Zuy9UHANW8ygdxs3FrFWsM1RSi1WslRWpV9qp3mAAJCw1rV6Y167yhYBPf22GESIndsTesPtt7m3iRLfyosN7ynjsnf83wZ6YWzp0BUHtbqQ3RNDUG8NUUfoHE6IQUZegEjVsPmca1QZ+60DJYoXo-6AVYZw-hx5LUy1BiKh8Egw5iMAoo1GmjJGWAnB6AkXsABVBgyQEFSHEM0qywoAC0AmLTmSJRYKDqk4MIdGQKBRfHWnprcbNfFBisAKL6Q4eT1kVO9EI+SrCCjFCdM04oFp2nvG9Do1RrCNClPWDyEVH6pJvLlATXxXhqkIkud6m5pNwDxAOedUVIEXjkWBac0CDz0cczheC-g7ejngs8T4noWLwIossN3GlyL-nQDZZkZQIZPVliyVc0V50GXMzsu8xUcr6xct3WYM6krUjQNPtq7VdY1jPOduQ4i7LLXzJtfcx1nq8KhqAVM86t44EhEJtKz5urvDjGmJqUkrrh7aTCr0IiLh+bvW+CLdLAESwavqo2AdjkmdyD4HAzSD1E6vWbaKQovIDh8tFUK517ho2Kt3Z9R6N7GHbV3IYxYVxfBeIfDB2Ci0q3alLXy-5VLm7MlRCPQ9v9gbbHVV611mjrjqkI8+fofbuI4cJLW3U-JGwaNhMh49-7UGJMeiJ+txx7ChqNZnFKIV1VaCpWRWdv4v2NvUle4l4E73Jchc+3Vwb7TjhjZVUW7LoAACEu6XVVu9U6oVRckiIflKlmXyXrwm6C+lioMPMki6V390A1JMdeqLbt+xfwLvGFfTSHYOK-fRIl5boE0ug8Ffl3bpb-3VJq81+W7Xkp-lXOKnwA3GgkM1ZtzSJHT6LcRbSdeo9N6lv-JKQlJr+hhe8VFwWn9nqXjbcmzzmbLI7dnaW00UAvv-fyo9L0SH+ZJS9BVc73XHpufNcr7gavw-Dy2cYPryghukOKFjYoFd9uxcHPEHVsjffFiD+ia4vfA+dB4dhk8k7egV-DFZofjf0Swlu56CvpxsNXHj9598RQAvqzIuvx0dfYvc-T0LhNfV-FxdVMvHnbQL-H-YQP-dff-JbcwLvHFB-cJXrF-UAPUDA0YMAu-efFPRfNPY3Z8F-F9b3cwMg1mCgygwg1PI3EnK-CmWgyg0FbcMA1gtgzJdvdA4-AgU-TnJ2YLAgQgLQYkbMBIPQBKSrdoCJBKCoFFNgAAPgkCrnG2kmCAxDdiHFkKVnUgEV5h0PPF7GCDfmeB-GAjIG-nqX5W62i1ElfDkXi3HHGDGgmjkXsJHm5FCjEj9QaVpzf2Glyj7FwHMWjFFBuzDHQJWn8M-UaTABwiOCGVOHODgEQGQHQFuE8GWWeF+ETTdkDBnAyGYSwUli+B+CvEBBBBNAuVcQ3kxAuUfy5GK1qKKVcT00UBsgXDNxTA6l5S6mTFdAqGKJBWAK+l-HwgAgUn4xBnJDqPVT+BsEmPYl8mvkQlGKaJAJWHMnknQlmJ-kLAWPyN5W8z2K4nWMfk2KKWaImFSjPAbDaMyXfyWNPGnEeKuIYBKK2ImMRj+l5U-jRldGOKWIRl+jEGRnui-jSk+O+JuOiidEqnikBJsKeKCLnhwj0BGnihqh6nqmGMzwJGxN3n3hNC4LYOuMyVuOdhNjRIgJOOLmNhTGOxtjDmbhTmGPVS+LGI5FuNXmBPaMWP+n5I2O5J+O2jVAFOeKFN5R2lFLhKpM9ACUuPmMFMmAmhOIBGYD0A-ihKBLJK5JKPJKKWJi6n8gagYU5NGJ5NCXVRIGYy0g4y41oB4w3mjCYHkASlACExlK1N1g0OFHVJ1MYAqAYQVldw1ByASF+gyGsExJiE92cVUnVNxmEGjJEFjMK08mDIYFDOQWznE1-Rd22y+gSG-2uSzPZhzMTJpBnSZR5gcE1MKPyncOrONNfQ-x+C+O6DECHD0EJI5HylxLqhYAagTPbLYIYQnMoI-m7JOHeIDATNRz-kORJgfF6LGCBgoEhH-VcVOn8mWKawDBSm3JtOAJB2VXxBH02yYx2RzPY042423yikLlM29OE3VLE2gw2iGlNO+HNJ8QOBGO5PpVUgQSQRQRRnOWlJ8IyTCQiSbO1MIWIWQUArSUNPz1fT-N6IagTggoaigvQutKEOFAZLBKRgBL1NRNhL0LUhu24SqO1OpnulxklCtO5LPJiV9MKOYuSmWPAUhGAoVMVMQpdF4pxl4jVkEowpIvHAZJpICiAowusQjJ+DLMLkZJtm7lH2agvJ0GHyLPr2mURAbkTnOnZKkrNlQy324qQpDjMuMI+IhDNjKFGIMrr2e1AAUWQrMohF6IcH+VEp1PsrZL7Njlcu5P+1Uv3Jzx8rOj8p7Wsv5m3xCu1F6KZ0Ms8psvkpZNLhozwqbg9kjgipKKZyd1n3Kn9ATG+EYDeLYuTH2WSs9B8L0Aas4tAFcVguAIiV6BxVqvuLuUJQqGwv6oHDuS7jas2G-Udx-KdnUFmHoGmP2JIgEt4VUoUr3G9UZTTgcAUtCvPFWqjwrnzg0o2tjkTzUJ5BLwnGUB51BHmoTE6XOIMl-GCqIQcuTkst7UzwOAesWueoOIajng2oHOxzoX2o5NjlHULI8uiRxzYgImWpVJ3MDQ6NygRqWouPqDIgXD3GuqfykQBpIilNRuCNlDOLWOxv6Lxv7TCR8Jn1mtIqWJFJotRUOGIHcPewXmSBJImk3nF3ZuGiHQnV2r+qespsOFSz3mjBry8sFtGqnElCOA4BGsdAGrYp5QLKaqCvcOnN8E7OKJ7IXKxOFqUoVtrCVqEtPlswZLlNZqnVUjnhipS2IyCtuiophPJD1tBWIoqqigZLeLCvtoFsmN8y9Q4CCsDvPA3INLcupDeO6PjGRyjtnBxsZE5P8itpVVUn8lkvEAZIppmOJvlN4QTrTtOJz0LqRqptsjJOiSCqrqxq0GR1ju5PJLjrVXMBttBPZtWKLuRqtusTLv6I3IxqJusnLoJNhiCrHoltmBbsLCtvbsitn0GU8mSOGTSMuEyJuAWVyOFDbHopkK8MzC9IwxMWvDzrs0rOPCv1AhHKIQqF1uUodoZhCLoDLNsClBwiGBo2HKIFHKfulqzpzmkg-vLOdRvuvj4Fov4VVh1N7HAa-qgdfhcOfPZlx063xJgZPoFiqqZgQa8DQd2E8l5p1NosFjJj4AqFZly1nIyCNr7JwdfuXnwaFmocmQDPHCdrVFHrECPIoZCOduvHXh-AEdy0RGEZdB7Vwf0OykMOWD4lMN4f8nMJuhUafUPIjhkZYf-kcNOyfWtpMm1n7mrGBC7IYfnL7NGNkZE1fA7tszivlxsd0d9hzAceMdiFMfswmjq0Hq929hsoiT8ZksPAUUtGsBOqLkNqsfPHUSrl4FswxO+3LqUvNNooiVSeG2vGoRMjq0TonR1M6w70Caau3Ej1AeFHyYAuQICa7psufAqcZrkqgMgZid7Jbn6LSahyfsrEiZAtcfEAIGBEtHanInTgw2GaBFGb+GgsFIiWSdaK6eGxcryz6YsfauKWGhnGmeN1SaMAAB5tmRnjdZnNnfB397S7zegAAVBkNxBgaMCcZBFEA6jeclGoSUMJXoUADwH6kxYLfXMZhcdODwdeH5v57ghokkIEIFs585rZ28noW5+5vgaQZ5oEV5lOd55RYQL5oMX5x3KF4kQFlPYFxkUFoMXsQl-5mFuFqHIxqKTogpmO-o-xmDIOYo6UBkNqFx6JEyX65kclidFZpKlcpWFq-ZmHd-L47ltBfsqF8wExgXJLdp4260mHMJcusjbcKVqF1xbcM5zPLV+arufZ1deFsqwVbbYosjCJtSguaJucjppgMVu0h08uh8+ka5CQHqL81VTK-5byzrBwJx77OOsG5qQVlkfJ1Jopsbb2opapp9Mc4p2W3wZndMMfWVrDXlle5pk8Aalllutltzdl4lf2nNnl7hAZ-lqKaN4V7pidN1nHSVrphFrirl3NhVikrxlV8xtV6xjiunN08iHVmOdtsHVxM9Q1nptzDt20ht8Sdti1hl9Nws6JI7L4u1q0KJixxh88N1pF4Vr1r+3150d8icAay6dd2vR7S7cwYNnqUNkK5xleyNzMBt2Nrp+NirRNngzrHC39-NK18TLN5qLt6thxgZRI9e44VIqAdIq4LIjAfeiWZKNMmMuM7MhMtuMogw+BmIXsDD9M4QWMtR8cEjrD7QMsggIcYm3DzBNx-R6ssWQzKM6jpI7FXKYJS2dcdeCwdcZtTCmkS2TcATqgxYYTrgy2TUCTjtboaT3jkIrseTrsJTjkS2B0KudebTnkIpETokkIqTECaMdeEz+QJ5zJQz3wS2JFiTpFwNGziwS2Q3eUCYPIA4IYNzjzo4WGZz8wS2NweTiwaQioGW9gVQr0jwKzgLsmgMXoATEL8wML0ACLlQ0AL04TWLmTkIoajkVL9LqL0AHFNL8wOLy2YAZL6ZBQtL00YrsAHL5T2UXoAAUmq8K-q8y9AFa7K9AAq5COtRC868i+64wxlty5a9j2G9q6K+69jzq8m4S4OY69m6669KOfMAm+a+W7YGS5G4y4244EW5276GUNW-C-W9AFUK24G5a+UL24qAJAO+K4e9u6W76HV2q+698Ay-MHVwsBkOCQPHY8w4zOw4wdSfYGiVahJ2GA4-B5QcOBB8Fqo8R-yloDyAACtZllaYelAczRvZOEeyPbYPlGnGB9xpy0fSekffwDw1NUeSfMyMblb4usSQi9L149K4vFXbOQjIAGBbkSozOnvBfhfC5ee+fAuQifPYBIAJO5fIApfpfXONB3OABReTnzjXlXvny2AAOXkAN+q6N4N4XbYJR9Dpp5Z97tTq6eh9hlh+FQy-KfQpt5CDt8IGzlB9I9t5WNnHNMd45Gd9G-6hgfd+Z894D+94Z5MhTI97p-vIxdVlopTM+ylRIFwGjCSyx-kCyF+pyALh7f7UT7TJUAsoY8p--dAVT+4AJD9qDlrXJX3diYbFooNudeNuI2qDusT-yiyaJahcT7HvNZ79uua379Icx5x6ECUsJJH695wr198Htb3cHcPdk0FvtaBH7jyGRi76HF2v8C6I3-b8SbXvZg3oQ4uAyOuEwDQ45iYGIiEEoC1jBHqCSBICWm81gY7lRHRD9Rf+gRCArEVfDACjAYLSgBC2haksJoQAnYhuhAG2kEBC2OBFTFOBJBJYuJZgPjBhaNVxWE4agNQBRAUBCioIUMsQK65HAPAegeQMQN3w-Mj8Pzb5tSw8D0DqAK-IpL0HXgktgQuTKKIDEICFwMQMLPMmAnEGsVhBEXYwEenA6fsAWUuMFn0EJYf0sBHwHAWxVh618hBhccQVZUJZhgh8lTSjrCA0quApCoCP-pXBwRWC78wYHTugRMq5QrB2BHUBch2xHIu4VgowOTn6g+CNc5oAYNESCJMFXBGGYIQ8lcRiMX+F4d-tZC-5LQ7BoKMJJ4O0QqJr4rgvUP+gdDFZdSqMGwj4IRZH4VBHgXQUXAsFhD8ydA5BPuBpbNofmMA8utVW6jOgcyx4bGNCXAgBDIWgaRoYS3KHWgWAUhfwdUKKGQD-0Rgh5PBTMETRdM-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-JBlE-KUL1Joy3IKJKiyWm3MBVKz-2S0lMuUrRU5L285JWNvDKvqiU3+9Iv5SwHeSEqsZ8iQWlLBiAOAr5F48lXiN7AkrAR-rVSHSsYBaS90dqO-F8or6kqKVzKylYB0qmTiuVLIBid7xFXoUqVkhbZYiE-neJd5m824TvMNm+DsQ2xCEY5F3mfKxCrQSxdZE+wFL+Fa1BycquRTmrUM-8t5A4HGVLof55q-7AohIH2lo6-C4FcH0oJLK0ZGyQxSioYAbLJC-rXwEZmjRvJA1oi4NaYup69Z+FihLru6vET0IjFM86lbLWvLlVa4TfQ1dYHGCmqK0DCzwn-NR4PKHAlhf4DYTkQq5LVxalVQ8prLapBaACjgI6qLg-yuFrqwWimujrjBKpPq73H6qPlRqgwwQENU6DDUWAI1UKUwrMrjX-IIkdy6ZMmoCCpqelwK1HNmtPHMTyJm6nZMaqUjmrN5WhE9Xfn3Vnr01-S9Avuu8UuqTBJ4LCUeu6HXreEYIHZFUGvUFYzVb6lVHJlwDIqY1bPVpVIqwU4L8F4AFVKBvQXgbZFKSrYdeqTWjdGQQGqxVrUIG9BsMxg3NSsmfW3KGk1iD9UasLWzACltaqucQFQ09KQNsS+JUkqg3UhWl9G5JQ4GXVWBkNGXajVktlqqQsNa8D+W8D3Y-gse2ZQipvJaqEU6GIVETU8DQq2MHxSUAQUHDwqyaywAEggYfDAl4IJGQm9SkXDgyiaqy4mjKV4Kk2Prg471DiK8CM1CB5NdElJEpuIZ4VDNTwDTbRW03KahokgIEG7ClC-KTN-cxTTprPGsQxAWPWgEVD0Bqa5+QK8VZvOE3hbsyMW2PnfnlVOh0CImyLbInBopaGoeWqZRYDZVkq4qKW6LUlvU355pqULdLdjIFCzq+wzqcFsVopWiNwt2WuPrBhs3ZafFNmtzXFvhkJb9N1mg4LZuviubKt48quE4K6mQy1p8U-QPhha3-C3qocCbXZvW2x8Bt1K9JNVtXWjdDNPWlzX1vU29bRtbmqrdwVq2nwGtCI1lYxR+X0jzO3WoqJ1qDg+bCiU5DfFutBXHKHFBPfDDvhULXpMkmUhigUWYBCqVtH23AVDomhhkI5gaMxrv2nmkRZ57eKJHtvBwbwp5YhNHcsuLyF4SMPhXbTSGu1bAGtSI5rQ9rh3rwYd9WE6UopIHsTxJ2VB7SZItBWhd+mPA-pYxdbALQt44AcayI3Jfbrty4VSGCtOUA7QUQO5Qg8iZ2dIXQFGKYmxJdCZ4jh+ZOVZ1kR3TIMgtWergOWPb66h+3coMNBNdIIZ5sl7CFgXmq29BhdbY3olsuKE47gQohDNWjKALwkSdDycnYeAa2O6hxHY+7RDse2taKgQe9se5kSYKIkgNoizk8w4AABOXgCZET3ArQQwkoOBnoOklR0QYICoP0u9Qrixpa0b1CPiLTiAMMnAN1onr0CPDHhvYNAC3unV3sscoKevXDNsk0hc9xy-PVqGOWuR0K4gYTBTFA5hpfAferGdoFcAUC3ECe14CoEs7bLeI4RSIubinCfrttCq2xrVop2dI+ga+yzhvrJ69BltovCcGERP3Wgbsb2oaIWK-hw6dsDACNaBhYD0hqwkvCmdXKlgOBox7pBYDaMf32iaoHwF-RGsMHcAtldavXR-pVaFxAhHAK2APiYBhhvU9exLj6RANHBARLEyA++SS7hhTdBIevXSOFVSxNgQaTKlBiLRer0JaICYFhLYqUHUMl6rRIevvXPqvVrZVg1FW2yxkSAn+kXkgaDDVhhmw4OvUvtM59AhMchq9kGonDMGekchuQyOGoMeVmch4jkJgdUM+k8DC873oQdUNt6FZ0hyzpnphXHKIV-aOXTbnIMrbQaKu-8Grtbmi5FCJunBhlxKKFaL9bht3Sjrx2Z6fC+4LNYLpSpWbmQBwKQOiCKgRqaVodP-RwAAOxicDd9IhMrtf3GYwW0B1HE+2dBs8-DUsO2Ljs93PSQjvGiuC1TqxzNjZwYWgAPPlDBZHZCwPDEejJHnDflzhpgK4eKMfIaj6FIoAbtG4+Gr61ynpbYR8y4r+Zpc-5ZXPPmh1gI2YWYBco4DiIeooWJpTIkmOy0FE9BIeQ2S9HNp9jLc6Y4EF10LGrCNhJY3nLkQXGLAvc5XP3P2OGGR5++MeSDOm06yadvytwtLWi1MgVjDSf9sjo93460ZLxrcovLFg4Hn9jwkiXoDN0AAdLAGerhXWhEEfAHZFIRJ1pdLuF2W9E3qDCCHP9-pXgLCd+Xwn2FiJ7uSibRNTYpQ6ErE5cLvqjAyAoGdCu8giTsnQAAAL17TmAUTBIIZYycxPYmhjeJvk3UMoJEntI8Bj4FhBvTRAQqURmIz0HhPommT4p2bgcJa7yBwWeQcFtQHBan4Ngjwg8DsApNkqNTDJjE4Vm1PhddTCXfU5PCNMmmtlspkcEAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJw+S+GEBhhEwySTJivI4soTpiOdVwDjsqCH1AJJFFBed40TJEnXwCoQrfZjj1ACqqvpHRo0a6j2iSVJKAKWhqGSPR+rCyF3MilivzeITJtUmCfU7XLEN6IT3gWZghyMqThVO-AkpS6twPSoLmv6xjbSi78xB0Er4l4xLkvwVKntvDLmv2uDNMQ6kOQJXofx+mZ-ruwHgYYK6TIRgGSGq1pjVBl7My7WR8D4QNPDKqKsZRnHkN2j1idaMnELuSnNtw77sYmXBuwJ+z2kZ0nAwAZkk66tvefAAEdr1iAK3Sm9UvQO+DeYhXsPhlmdqHwDGopm6xNdlnXWQOBXVM03oje13WKm1M3Buea25bOjR8CHBr0osQm1xc3d3o89ndm6MFXYu89TfN4LHPttmhpSi8-3DphPcxM271U1aHcDobEXdxRCGjSWtblyOM8ypEKAo7PjM+t4QNDpP3Yj2Py-Brkq6cyOxZMulcAWpbntVdvlcho7MV7ebFr1oODbm-vFvp5rLan5IhlAE1HeFVe5tocbJsVrMc1WiLHiDxFJlqGYl8zCGcoQieg0v6Z4hnob8ppoHHpZIemoc4--ZuS3uObIQJU4CR9sJABr4T6nxMgwWgEwSBgL0LQRQ6cwa3w7jyVB6C47PEKiQUOoDcEYMgUffQaCa7iyCEDC8oCGpUKjs1Z8TCPrnzeMUPQKMFaHzvodWUKNeyDDFjsHCRw+AnDOFAOAiBkDoFuJ4M+Q1fi8QBMwQMM4MjMKwZLL4PwryAhBCaGGBJ+jmG1KY3wAAuT0yZXRWIsOY-utBkhkEUDZBcPE+LtXIgmJMPVXQVC0QYRx5hbFfV-PhACCkrJpULGE0A5jVG4BsFE9ivlr6IRCYkiJnCVjmXkuhOJINySJOSX8GSukLKxJIpohg2jcmelPNOBsJjYbmAqf9FpQ56mNI6aAPJaTEZ-VSZ-NGDiBldNSQjX6Yhkb3S-vE9WoAckDKGSNeK4zv6TI6eYueOE9CbOqqBOqLBwGQjKIkgZNJjljQmiaK5NznkWDWR0oZzsTbtL2asypnyUzS2Nobc6zcU5BNWQ00J6zPSr12bDaZ88B59Khe8z0O1vnwt+f9dFj83mwyGc-OpGKOTmMmBNFJ6iXQf0WRMx5ELtFPJeb4YmXV-INQYeCkJKL8WrJICcLUj9egAFUGDJAQVIcQMYmDyASqAAAtHKrF-w3ZXRoROZQuAJoxAqAwhWwg+CgD0IiZKwgEi-QyNYQ5MQNh3n5ieDVRcTVmpEBaygVrGA6uQdnCwERVm4A+C8A1Rq3h0ASIoWwUp3UMBtVRCweE-AHAoMQDgFK3Z6Hyvc9NjADCMqZR0u6zAGBSi0d0MQvTrl5osPlGqPV6pZujbmytAyGGNqbbDD+DTS2tIDNaosNI9rbTVN468YwgZJu5VMxWw6QhiELQGFK46K2DNAIwQChVJA6B8OYX1nwA2xvMCwfl9bewirFbQCVuwoqF0UPgeViqyVYR9YeNVLLvhsu4UlA4wTIW2sPggpBKCUZmzCeY7kuAwm2M1NwwxGjCHEOQR+vB36GVLosK+6dDUE4AYakBnN9LT5qpScMuZjoxk0p2dkn9saB3WnIC6VNGjqb3VxpKTlkKJ0kqVZSvQTHkppIuXhvFPKGMul4zjXiatLn4fYSov5gKbam2Q7w-Vhq85hsLsXIF3df12pXUW0mRVJRbu3X6gNKng3SkrInEFvTY68NhqpET6aQ7WbdrZtOOaQnGdADu-1t791xsOMQOD1mITTocBWpzIWw6gsk2bMoXnHHmcRKdfyzmiGhYvP5GNFbVLRe1NO7zvhfN7tyx6Ij-y9Coago3Gz54LnxcS7DKIxXn3lX9P4ygjAWmseTGQ4euiwN6D6xxpxEgq6OMg10HovQABU3XUq1klLN9e6GFsDg3V3EbmwACQvg2tRQOOoWY9AYnFJIgJ21yW3iVcYjp8w8b7YOH+TFj2roiu6bUwXIut2PMVtAxN55tjqgzmNMdhMZAztcRmA1fLdW2keZzdVmkR3mQQ6hwZX8eg56VeR22hNrnk6EAa-uA8xXTP+ccTRtiBFztZISc85xuUacY5KaRDqFENgVqGd5PStT6dlKZUz2UvOal0-qGRBce5UO2LA95qIG1ZP-VhZR7Rtr433IcDvTNm9qTxoXrxI4HBUcnch0U6H8QGr3LJ4FqJemes6CN8NDrXV1tTlYwb-1Nu-7tCc-c1tNyC2g5+J2k43ajkLUNxUN3S3HdKZ7lFIjOKVkhNtapOeqW1Eumq05265HlmXLxxyLlMnnhEZ6S3XFVG9dBdMlnhwTmK+zjS3SprFgWmePjGlpvicOfgv8kp7zql-Kl+FER0X5vMfIttR3yXXes-LFknz8XWg5+c4DwemDLoJ+ZPqC3wsSmN-SeLN7EyRGWeT7Z9P2Ns+OfTp40FjJ-OJd98eY4pzF-d9aH3+SQ-7-IUChiKeQSJSLnCyJXAKJoDCzKLSSEB0Z6AJS8KqSypmgcBwHXij7jgHKeR6A1pnJEIVD+74Zp4My5TwynDhqrpuqeRDDI54FEDnKEF7zRiD45zSShqUFFrUHszppIEVzqQCI9q9gcERrcHHhvwEKeQnK1QMFEK8EkHLwdZMzpoVAUzALiAZrMHyHUakGhzKF8AVCszqGXrswh4ZBdq9J8B8GKF6FCwGGgCiyYGJApDWCZ4+I-hzrWFExkFuHXjrweHnj4LCgpZDppbZYKG6ICGqzLB8S9i+G6xBHjjxFpJzoxHXheG+zQJLDZYJ5Bzaz9zVjAhmEWERyp46EsK7iJa1xBzRaSKBJlHpjRw5hVGEaxAFHWB5BaoyFKYmD7YDbtBQZ1HOisFRDxqWjWD5waYlph5DgOBy4wHCgHIyG+ILhfp158T9a6ZQZr5rFsqJEaEyGd7+rpoyFNB9G6bbhDHrDGFXEYYnE9RnHez9HiDPhXG5EqIJSFrFqh5lotwc67FR6gB5CVgTHV7PHDQzhAiWgrGMjpyoEQnAjQl-DAY3LmJQZLGBI7EVDIl4bAkfBmGjYEi2IECInygwle6gAAA8CJUJZJOJS6ySfKtAM2AAKgyC1MyNGBOMgiiPVhvO4jUJKLYr0KAB4EXhYMSEVECPqg8v8UYB4OvCKWKfjhYnAVKTKTEWbISTSLYoesyX0GybQLsNINyUCLySnPyRqsIEKUGKKaAOKaqSSNKXwLKeROnAqb2HaQ6RvGqcCBqTie8c8C4m4h4mvvfmvj0bGmfg0tKAyG1A0e2odsduSQCRSQFv2hXENjsdqaifSrGWglViqa8m0bQIUUCMUTMaUexuKbYmvuwOaNuNmd6eYtuPSUWbWcmeJHKfMLuAGR9tuklkGlovWWgVaJMUXNMb8UwPZsXkyVqBziegwPSKuhID1I+hyCVpTs8vGlcQ4LUcsW3gMqpCbvcc6EcbDqcUfpWrce+m8d7gSC1k+uCVovmfGQAQdkHLfn4i3guesZGdSNGRkK+dwmCRyCZCeViesZsUeZmZ3E2ZWskjGS4m1A6fkaWVKRWVOQGFysjrWRziORQimTmT8h8BeK2YCX8MRTyieV2W6Xhs+H2Y4r6oOYasOfCeMT8OphOT8d2jOTSHqfOeRIucuUWquc6HehOItt2uuTSJufdgSDuTIXuS5m6gee+c8secmbcTsaeesFeXmjeVnheQ8fea1mZbpi+chSBdooAWAOIscKcGAZcPIjcBgAsRLE6uapajgdam3JEdlIIcekGJ5S6gkcYSFcIK6qaioLFnUr5ZgpkaJK+L2gKPGhFa6vZRwJpFYpbOuOvBYOuC8kjhyJbJuPleYJuEVRvpbJqOVR0NNlVTlWQV2HVV2I1SVWQQ6FXOvF1TyAMsVbcmQT9AcCoPINGOvMNaNVyR0gNQSJbAJeVQJc8rNcymQUkJaBMHkAcEMOtfKJtUcLDCtWhmQW4HVRYAgRUNGKaAAHygCyoeDTVHXmCWxypnXmAXWgBXXsC3WyqKqPXVVkErYVA0gfVfVsA-WgCzafXmBPXO6yi9DABvWGoJSXU3V3WgBgD-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-dFyeAVBXeUCszyWPZkB5B48OD9jw--eUBU-1uvie5eghOmW0hBqJpM-mQEVV0fd8UEiqRi8br9k+YucVrxrI86As-nfUAU+0+I+giM9499o3LmZK+i-6bV2NDyUOYejS9GYVpyXpkdKZy7hK-8+yVMXUiPnmC9y-jpvq+c8093DYlZ4S8M-C9rAq9w9q80+c-Pg886+O+mda9B8ECG-vcboS++CkVejc84+8-lDelQaaTh-DCBc+9+98Tv2cO+CR+Z-R8x-W8K+14G8cCs9h-s++9c+8ja-mS68DL6+Q93eJ-l0106Z7Ychp-iTt8LdYBD9FlQZQZF-rHpGydtqj-x+pMHiT9y+7pbl5oj-28986DF-pGy-mVO9H8mFDSTUaBbfY4S-p4NPBnuIScvLOJk-uLVa2JnCQtFQfBdd47mKf-pt466lwuCQSLoV1AAzc2cElPHjJR8wjd2g5-QgFt1Sq15wBc3EXhwHR7mRDAvAeNKtwcAoDqumA3oHf0UBYQ0qS3DgPgPqB48+gf-LrrnRMhzw8gRUH6KSFFz791gKXeqqMDYFz9riPXccEwKLQYVRcegQQSwNFacDtwYgqUmk2kFFE0scgiQS1xeK7hFBsg5gRhWgZXFF81SOdqcU4GN8dB5kPQQ8WMJB5mGPAgfMcAeKcD0SLhOaBoNYEpN2BeGN4o+0-7RJcgGiPLlcWjxLlRCxQSgNtyLQEASAvCTGGgnJRLt5K12GSPu1N624r6igrXI4PLJaCDySUEwc6Bj7glkh8JC3p9wQp6YRKUoQIcEJ0ChCIu1g7IbhXSaRDRBqQ+-GoOr4mdYhaXDTgkJ9ziAoMdARQBNBC4acKgvQiaJlw04tCN+nQw+CjFl6u8YB4JYYUO0fbEhswCQEdjei4KAQQI0YVjAcE56bCxqvoA4HT2UF2I4KFMSdvsO2FSgjhhgRJmRxjgUwF+71KpnARWFrDg8lwnYa8KdDp9eQjwsviqU+HXDWYaTIqK4CZCuogRoIPYZ8AOHAiHuZwu1kCPeB3BbhPKe4TmF2HRtDA1NMESwAhE1IthrGZETcOjYDIcRstZYT8PEgUwCM4Fb4asL4AgRwQh9bVBvGoZMiNAhaM6K0CdDDM3h8dD1OyLSacjBmM4HkSsP5FOgEROCKkZa0nZgYHmYQAkfJCJH6AK0jZBkXPQpG3VRR3IuUVKNWGuReRlrOkYnloZcF9U-Gf0BHB4FxRCAWQjgbGg1ypCUhQgooukMCQ8C3BsA8QHkPNAFDJ25g-QHaI0COjK2nQMUYEEoDrVL+igpoakLwz2jwxj7SMa4FmCxiySkYioMmOqFOjfReYhpnwEWCSgRSk7XoMWPzCljEmgKX7tmNAD2ijAk7XcuYAeb5IegkYpsZimDHaBvgyEG0Q2HrG5i3ibYk5KME7EvN9QxqQLo2NI5ciWAGYi-mSWfCdinhAyZ8I2LXEdI0xC4mMUuJrariARTKbcJuKPEvI7yiTCsSWPjZLCpSBAGrqRAZEIFqGUGVmjqPGw8hyuuERUItAmCzBOumLAbvEAqDPt6xz7N4urlryZiSYiaHmA4B3HRjMxtbRticgdGw902wE+0t3UrTgTTiQ+D0NBIXRwTIWlYggPGwVGA41WG8O8UQFXxPjCJY6HmF+JXT4lmBd0XAhoGHbusDxnE5iatwlF8iru3vf7scJrx24ncq3CnsJOjBGECxRuAMUbw+5JIPxuAZdAcHcH6Y32NPRMBxMCi+B40V3BwOR04n4SR4XCK7kYGaaDBl0V3AUPeNAAskAAEpPUoAABBcAOAEnoAAlFkpAAADyC9ZABwHmJqo+ARALbhMCAmHBdJ6Y8MZwLICsTNJMUhcXa34lsSEoSHKKVjgQnRpEm-E3iKkgAmW5jC+UnkJFK-4w4cRJwpyS5PcmeSfJ-kwKSVKIDaBNJmUiqZbmSmBBqG-Eg0elMoDaSyYOUvDH2Cylyo5RqqEyOun64dTopOUuKScLlFupmRXtVDPaJRDfU8cW3ICMkD-HlSMJ4EdacAPqpRiGA4Yp4WFIQF7Uipc0+cYEHDHMTAI6wx3AmBZB5dvR+gqMlelaDWApAvEJaPmNhixCuEqTSYeZlrHZFnBqySznmkzh0ZD+xnCYTb1hga43R4g1qapXqIpjkcqkPIH32N4OlzExYvzA6VsSvDfp-0hoe6PLIKDO+HSKIDthr4aUK4aXLsXmnMTkzKAf03AEtBC42ofmnM7mUtEy5g9UUxMj4DMJd4FjBZlMnhI+x7FWjw0qUNYEYIW5-k8xWPWvHkKBKNDPREHD6aYOpDmZkhnNN7v3xN428pexUF0nuKulUz0ZCgxMRUDPHmA-gKYrCYjL8yx9EQXCSio8RVI7BZsQcxxC6OplozNBswbQW7I1my9cZro02YGMZx6YZStsy-mwLPHxjHZ1MpHDtlzlu9Ti3OGhl8VVnlB1ZPo8nBMPMxPTQcbwcCNHINnZCzigc4OWb2ahXiqxN4l3vL1bmZhgxJc3qGXLwlSzFczwRgCnKQmKBOeigFvhBJOG7kSJ14h-mYiDCkTqxwmH7vRynmsxmxMhUcVwknlszc2Rc4PIrNLLVgVZk84YDPILk8ofZ2QXAnTyDEWipQp85WYUGnnDBOeEEjGmACDmzZRx0-CmJOM9DT9t5mKMeTbKQkrj-hddFcazC3E0gIFRcJCeRxgXYSOk5HeBS7LAqnFK27csid1xHnBFtoVgDEG5kCKcD+E0RJuEODiJWB4u44H8MBASlKRgg1DfqGwrSbjBM0bCyhZcy7jPhOFdrWNrgD+nRhRQdGYFjykCavghFj7f+vFGCBjArAIElCfNKfYoTZ5Ykq+sBGzCzBggDgVoMmCqTmQ3gRUZRfE28zxokFMEpNBFheQ2KkJoEu6WdKPFML-gOyXRWjjYUILYYuEw2eCRsVETk0gLVeeRMxSKjhMW+VtiwAmjcKtCXi-RVYDJFll7xdEk0XoCCWMS1odkogA5OcmUAvJQqAADKT0gpKk3gKFPCl7VggDUdRVosCWJTAICULqblMxRpS2pUoWpa0sralTUk3StJn0tkBWAGo1DGqYUpKVlLmpF4dKb6G6XDTOBS0phuqKZS9Snx-UwaT0t8UcgToVgcaQyLDBPC1lGSoFnQoID7KTR2beRQ6mGUEA6lLihaXJIZHLSNAq0plAYtlp44FFtyl0MEAL6nTzpqGS6RFPmUPKNZzE6sGGioCBtkJsS1CbFLzECTLWiy55aKLeU4Keo1NCtEsoEYbDYRVw9Bkymmn7SqunU5xQCo1lbj3x-9bpeSoRV3kj82lLUfLOiUwrA2jopFZrLtxSwE6HASSW1zra9ARMMS-1tANUg8rGA+Mj7pO0hUxURVAbRthyrlGVsJVLIcbsTlhVFslVzKzzsQtanNLMBE4k4USBtbGS1olIbEJ6C4RmqzRQcMEMySqBZSMZ6U2pllOUzfszFmkzATdOjQB9a8hkjgBsvZ46SfVMfeNMUz5TngSV1kOUY-TbTHLJRCPJ+GNImkx9FAkOCnqmxTUHLZOGrLKRUHfERqjF9CJ1cqvvJMyn01RMhjV1aA-LnVSU3hc6ODouKHA7ilheBDYXeZYh6Uw1S4phk0gDJ-3BwEGqLg6ThpsvcNQEGLV1rY1+9FUgmsEn-czl+AC5SsOgG+B01AYJNbsvOUTTc1gXP5YajRpFqo14wMtc5yRnDybGE4BrnWuZLRr2WbqvhT8tdWzTo0Hso+X1xfWhrEmX6n1a+oOnRpjCf6rKQBtJViBeE9q2tT6vrXNKwNMwe8vGkZAzTANTucZXVO8m+SAp4AbzOho8mYbGp5SvNW+oLVo1kND6w4PeVUi9BXEhCv+reqUWNrqQUG1wlYFg3sTO12i4gORtqUOBxlRS0pThupD8bJlRGg9SoqPXU0eNIyqjR6Bo1rx3BbwJRj+Ajo4FcMz6obLhhuIqUVNTwRDPk1UgDC8ExhLDLprLDqc8EnA0YcZv4FKwlGw1VTTwXU3Gr+FWm2zcHAywcRXgjmoQPpvYWOQ3NVa54Fhgc1PALNBmj0NZuoTwJ8AQIN2FKBhXOaCxRm6hGqhU20BzFZmoQGsSZUmjh2ymsQD5uvhZbicdrXLSsMSbpbzFpmwrWFofwMAit8WIvMKphXRYSt9WxrTnPQXlbpRYsTdX0DjaKkWtjbfwoVoy1Abr1Dm8bXoFC3mbtVeW59fZu804FZt2Wu1pEqol4i4G2YSEfitYyoZhtsS9LKHFW0BhTt8WRFcqquRr9nh1NKbdVroReaDgjWmbctvM1db8cPW00VsH600aSAQ21lSNpzHebxt9AqKJIDi0aIW0l2rUSipNEvKWRKFIlUpXBoT8OkvVJYIdv9bDZYt8W+VSKya3oKUcNEh8Uit0oJMbtvgcxKktomPiMlI4vObLirjXaaQX2ySL9uTYA61EbseVevAh1uwwdeRDKcU28HRCThTmPLhxQ0ZiNkYOjQIo+2E7rtN23eL1PNpWFuhjyqKlaYfWuTzzrq1yO6EBEhwugPB-4LwdniLIGs+mjo7Ze9QyBzsbqZfASkUGdlE6LAwqUVKAMjF15WACqW0m4An55zfAvQRXUp38jZtiW1E4EGkrp2SiRx0rFSfgzZ0-aM1IehTiJ2V1Z4udyqZgLzoqCh7RO06XOvGiSBvtJqWwhwAAE5eAJkcvWNTJ35Na9rwKakiu0CuAMQFQd9Tb1iFZlzVNvOSuZnEDwlOAKfCwHXomj2t7WvYNADPvXWezSszycfTWzBB0zYY4+1vSVHRBLTXIeGcQIqjULO8T+6+paZvq1AVBS9T2qasxN4hiKJFI6KcA6rV3SjOBX2lPdO1EVjU79tsIMFjtboTgP94i2jAf2vUqc3gMKoqJuuxIsB6Q1YSZk2u5UOA0O0YV9u+yrAcSiEJuhgJurCbcArlRsoNBahIAwGW6ALDgFbCrFMAww8lJfb0AVSKpQDGi2JS8CwNLc70r1Yho4iX28s2Vmwdfl7OMCzDzMMGmrnNCqANdWMUsftQSC-XjB71-6kDW+t3j7xJDMfczIQeIOFxSDQYasCSWHCj7zANBug37p9U3rGubBugyOD4N7pZhFamkIYaMOKpA2CaJNEcAcMKo59Bh5vVsLJ3Yrnl6K5HZitR0qluDjbQlUWVN1MBzdtbG3Yant27A0a2iMkb-uiNR6NGtOsnWBlJweciF44aLMyAOBSB0QEByHFyqvpSxEDKE9DjKlQP3KMDRqFg8QAVK4G6ZilHqE7mSNSw7YJO9JZKMyOyaR4Q2K4tDyPnBgjSmYqUg2I0DyB7mO2GVj63x0RGRAaaTo4RSGN4YXd8R6mokcfZGKeoJitYJ6osWAzEhxAcYDOy0C6A5i0gOtecdmC6AsBAFb6fgApk8zkulsiuCDOiH-YOSs0dIPscKB5czjv7ayLoA3rqtAuWXH5FBhlmvGjNpffHDCeFmVExhhc6YVLPBKImjjfW7jl-Hx32sAJegN3QAB0sASi5ZdaEQR8BmSpzMDJdVRo2o80U+oMOodLJhUsAoBvEwSeJOknSF5JkQ1SYtYcTRgZAbEnhmu5QYRToAAAF7v1zAJJ6Q7iqlD8nqTGx67jKYZNNomT2kaA6yawhD9ogKlfI4UZ6D4nFTFJt1CqcFp6syC0xyeIqWoCKl42Gwe1geB2AcmYVpp56eaYFOnMrTU7AbYqTyD2nHT2bLUyOCAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy2cRHemoKiNRj9gQfRYL4hg64saSDIIYUJQUbjYl0cfVu7c87cBMW4h+sM0RpIyZbYQvh8lF0JuwDwXgr5GJ-q4-uZjB4pMFiJZplCImIIrvI8EIkhbMC0JvZJNSwlJH8YE4gwToEcIMV-bhPS75ZwGakN43FUQ-ARistZwzwnSLGSvY23BjJFFQfQI5zgTkBKCYYZw8z+aHOWaQTJgQU6n0kZQwODBAgyGQXiap3ynm-IYJSC5gZQXguQaSfhKSfmnL+Z0aJJsKEJmRZUZBOhaYCNSMYdo+9lD5yBZskZVyl5yNuSgiltZHDEC+ZxQmrKqU0plmET+IKK7gh5ey8E3Bg5hHRQs0V1LplUGIJvPJBdYjAp7tsu0bjpX8yqKQD48rZn71xQK-FW1r6SuhZxIJM4PgKqVW7E1arAy-yleY-ZYsFCaFxLKvllBHV0suWkDIdDXV1wWV49YNqZmKqNQ6oSc8g2uxde4slTUuQdI2QGwMozGXjOZeCNpygvCcvqrcRqhaM20scUXJBBb03iupP3bVT101NXwI00JiyXCVN6Xs8NqQNCEBBNyVEiKc6l1zTcmJKDB3DqgSW8wcSsWrI+SEzNXaqHOJ2X-ZtHkfpiGVVWjdJjeEMJSQ5EepAD36CIP66t9LE1ZFvZajyur9X7pvYQO9x7r7Pt3eYa1l7r3PsFQmG8f7oYePMIIn6+hTnd2zQy2RFdTlWWKDgqDLgKgkBEKkEJqGxqo3JjTHGQ9KCBEao5ToHT+orgHDBzcD4cYrAHG0DoWRFHcCY1BWM11SC1iYlmZ80Z7mvHoFSFgjJnoMFepDOD1NslATQkFST4kgzqlqKJ+S-1OjGC0ypdkFGGBUbYB06T78WCPmYlgaCFEXz3ITVhOs+n9KGeIJR6jnTBhMZ1m5jzpmb6XwfC55oMhdPEEEzmckgUi7kfc8Zzz8G+38wRkjf2QpMn4Gfn8Umf1TwKbzutRsz0pPExeowOTnHMaFaYgOErABCMCwZxzrTjJQhwQpcQ3D4qoc6q07G1j63tO5ek-T5eq4DI4oBovCYFsKfQDHvpsEmJEUbhQ8CQk2yuYrZXSsXXK29bJS2CuTZXCp3bjXRzgXHPc0oHWZBddCr1zjLnnTmbOs9KmNnoKoRpvc0yiN96DCq+NmmAVZsDmw0DvD0DxtVZps8UAG2tsrCCuCMLexajgnB5GezqOi6paB7ltGnQTtQ0KOcCKeBs5MzkCzKAcBEDIHQNzPEACPLixrAq5B+9KzxqkULSMotOdnklu1WOylSiNplspZozs85d0l8CK20kSElPYUfFubdc6d1jlxugfPZfDyYcoqBivnSlBF-C8TzB0E2LN-I3nUwVhy9SBo03o6JcW5aKeU6RHrFaJUTzg3zuTLD13pvc3ipLe+4j7Gx3IejdAKeYkl5C5l3nK99Hn3PxDmp-oK8s5q71nMqd0n1I3j0l+Iz8XqPKxSiE2zluOpfisl5y0Hqru+E1tFEr-U9tTS9evcVGX50rvBeUvZXX7TVufVGDY7yg1Map6Ho1vrw3Y-h4VunzMHPC5t8J434qcfQys-1732C4Gwej8u-D4QId1AR3iLP9p2dTSRcdC0PoJdbyV3P-7uvl9qNqCtrujHkvuqvrLIAaHgZmZMEMgjZHZA5M5NSL4FPOQPDF5D5B-gqhhjvPfmwE0siNwBAUJPRqkIEtQAoKnpWI1E3siCtjxhum-v8lQTQXQY-N-g4CQVeq6jmBDvNsnp6vgOUG9JwQwa1ioDbhtDSGwMVDgV-nEg0kQQ4EAT3oUITiIGLAbgePQJHsPn6HEm3p9B3nkgwd3uoUUBARYZYbEEujofIK-GCBIUpm1oGlMu-EEhkLLKJqUB4QxNblPLGl4XITAbfmOBqGGHZiJg0HAZuMQSgrZPZE5C4GRr4CQFgYIAQb4DVFFv0gsiAaLGAXBgEoYIAcxkFBehASUV+mEbEKUC7GwHJM0E5hLIoQeO+lejUWEIATYX6IUQNqsqMJ0deqcj0S0CHqSiklbnnscunr-pnqXiHpHALuRoNgoV9Jim8v8rUF3hMXznUSUHvp-psbClioEZAVTPsYcbEKZG0acVoecTinsU7slpxLPgvlPpKuUVBOQR6l6hPmytSnGpIfegmBEaGDNrjv8H8RAvqraoalPCCcxtMEFBsd-h0VGnavHsbD0a8VCZREwTEI2G+lGjLIMYyPcuiaSUvpHhapwPiSxoIakP4fYjScHIMYwQ5kXOycbIMZFuRLNkSf6ATr7nPi5oBgicvn6nGgySHgKaAGxJBkPAMQ4LvLsR3KsghjnI0foJqUsOfo0SuC0RuBCJCGqc-OPLUHCNwKqdXJaRqIFnaPqXwmRNNvkfzIYNyIwCIQQoHlApcTjH8XPm4iicSdIZKoyD6rSUapcQqQmoqgCSGbiTcfUaAEabGGsPfkTl6UIK3PwJokQqiGYZiTGUiRamoWtrmT6QWR7ozAJGWoCbyvoAYQRJKdGvahWVZtEWGRusnu8Lbn6UWf-hrLdsCBXCbvbrFMUtbKYv9sPO7lOSOT4VeApBXIuf6dOZrnQpMFps0I0QFMqdMb7gfksXzjjMVgPlJq2soV3ExI2N2HqFGd6fmUOdou8MtAPq4VIQOdKOqaEIyHaf+beNyHqN+WifcZ+Y0n0c6Jof7LzroU4SBbptwBaR8laaENAW8Rzr7qfmedqaAITKyYNvpuiVMjXsuZWeoU7lMQslbnHuWfhRedIejIyOiQxTOOwgAdcUxLvGri3O-BxfxTub1LWIAUxEFOjNhXDL7hucOWukxVBHxTOQuO-HJe+cJV3iuOiepbYlxWvtcTBTxWcKqkPDMTbiAoWe+dfutMpduYMfoJOZueVCpVpSsOiU5fJYwPpVAYZdpfKZBtTo-LTvIEoAzuzMzlzJYOztBiXPxl9PDARZgWpmsRFkeQso3pwcYTknqtwMoT8eSEFLWrkMIaIdnOKi5tlaYXlQPuJW6v2tbqVVofQQRTmshjuDIFZCVYQCIc1Y-AuqkY-JkpAiYbkt-gRYShCp1aAFCv+oNTUm2h2jIBNaCJflNdwGivVTqkNQhY4ZHstSsUKvqiitNSStJaJI2cRQ8UjHioVTWsKldQ2m8DdS+rFZfvLA5ejK1UhlEktmJSgo9a9S4FdYETdX9bRm4Wal0hxuNLRSlo4F8B8m1NoZWIhZHk7odWBkFgFWGjqqWXJhjYXJQttPibje8QjVluWkQdkj8YUHdZQlhJDHVecI2JQGHImZQLiLtXoUaoyAeTFRdXcHJipWURTLWN+hujHNuaLWAUDRNo1CLd-opqtqqpDd2tfGDltZxJDIMWYcrREHTWrX+ErTVulSloDo8Q4TzeWdLb1KLSwOsI1ITfTQSvvGIGzUYNLeEGphwG1B7aeAad7gTI2cLbbRTOMQ7cYCjamaAM0L7e7b1iLeEAADzAhu3+26Yx0xCW6kDmQQgAAqVshFQgvgggV6vASqTYBB1AtQzQ4IoAAA1NNuoQbHNJ1p7aQgKk3Q2vXU3a2Y2obGIO3QHbuauKZLnfAeCIXfgP9MQI5GXWIBXbGVXQ-rXSgo3c3T3q3W1O3UnRvT3Rvf3dvUPQ9kthMOdcrhiFiMJQ5SpQVUiNMQbgHFbNiM7SsEPNWR3cfDLZnb2Ubc7MGl-dbIHXpJbk-eiNiP3TEFSojSdNzUhTRQYc0CpWnNtEnf3bMNfCPf3cg96U6f+F7TaHaCPd+RTnRvNrzmnGzU7Z6pzSjWjUaqCUUHEUA2wFZLZJbOUOmTXKQ-wdCX-bECSdkoyDSQTQFbxkXJ-TrYrTTEZQRDrcUQjgqUqUbbzs-UQHBjjQLUyC-DfRrqQr1PfXYY-ZWOo6-cscKR-XgyLXbUw--YrIA+gwRGA6YxAy2T3jA1lnA1bQg5MSFqgaQqg+al7cPqUPBNtAHb1FnQZp-URIQ8bSQ8o5vQ0KxgblQ+zbQ1zT45vHY7ECw3fYkXQJwyINw59JkRxbkdqEKfckI3nCI-jUdoyX6EFFI9ksJXrYVnI2hAowxB04DLw+RNFi7YGGo246TTgEFTUiFfTmzEzpzNzNgJhsPJQdQTQLQWITUlwXQPzg+hOu1c4dwSgis+wQNTwF1Ks9QOs1QUOtKWbgwaBlDVunaBIR7IVOc+wRswWEzECEgumLWnMA2rEHMKuFRbELWhyICzEByCCzBbWhhJCzwBuDC388KoHAi4HMi9MLWgA5kA2ji2wM6KCzELWtxIYEOuQDkdwKS+S6XYqES+OTuOCHEZC3EbGPS7Wt1qoCPCwIYOKpy9y0zCsOy8Kg3Qi7EPoPDNwL4N7QAHygCYFN20vCuMueRisxAStSuyvyteSgBKuwvCo2nTAau6tauYGQi6sxDKtgjgjABqsGCSsmuAhyuYFgB6souMsACkdrxr0rTr2rHrFroAVrEI4kYrPrprac0r+rjLl2YbDrvrAIzroAl2Jr0b1ryd3r8bEbqdMQUb7r6bAIar4bfrmBydQIqb+bEIMrmbmrJboAcrubwb4IMrhb3ARQxbib2rLbjbabEI9Wdr2rhQnbMQ9WsQiV6YBU0hxzazHBC1ItgIK4hSXm3A07lzs7Xzk7v5q76zcS+ALAAAViYH6guysEu8iH63C+8zOw2iYi4V02uFe2u588WWmJFFO4++s-gt8wy2CLWhCcIA2v+-S7YWC8KpAHQAkpzYC+B5B3myB4qBy1QFy7AJAJC-yyh8B-B4h2zQwAAKIIv8u4eYcge1oABy5ApHdr5HpH0Ta2m7VI27jUTC87AIi7Gg3+fr20y1K7H7THFlK+9HAgjHFxg5utJ70wZ7nHGqWQy1VxwnX7r7+BQ6uIwn9Bhz+6USBFLBr0aopAhBJ0+75A1YXpXUmg7jaEwn1zHAm8dzqh97VhV6mnU2dNHpnE04198DkeBFcF9De1sa+mg6ROqnQ1NjyTa28n-HNqhDAX2ZyMwXC1e7h7pgotUDEXA5llst9nsQ1D-xdDnnjDrz0hOXYgXwDt6e2TvNQI7nhAvn1tYIr7kzXzzMYVszHMmAGA2jz1FApgDAlKHw5UNwpAHSii31QaysqsJiI3o92mJ6l8U34Q3dDAvdA9bdp9k3liJEhxzQ63-uZ6CyJVNwgubeWggKg9EtQU5AygygFdGQ3ORgJBV3WrTMTd+gl3ygac4I9dpQn3sdKCVkG9b3xHsYn3Eq5Gc0oaSzKylAnNasg9PBB68POx0PvrEQ0EwzLgx9+9EIG9B3fixgx3uxS7GnUPnN8PEw+91g2OWtHkJPuIHeCgr3V6o3up+6hx33jRukYeXiFcrPoACcykC2DjSal8rP4QvmJiovyb6k6GbPBg20vPam4I6GxkpQXXl3M4fXsUg3HSrPxkzQgvI81dT+ISvP-Pq48uncP+Re4iovMd332PTdtPTAZADP8vvBjPa0K2fdq49dy3KlpSOuX0Vv7yNvTPC3YXiovvG9Tv9PXm+DHv4BYfXvom8InPx+ZzkgMPkkoIDa+6PHmfdPLv03Bm0cppuv5+tPEI8LtpFcbva0RDWQov+fyPzvpAgkxpw8x9Hvsv4IAA5Mt-uvvf3x38fe3az3NRny35SqQE0tPyj+j8PLqZ9ON5uNtHP0D2hLWkIAB1ZMED3Q5DpGvG4MWD3fxhwPCMX0UKUJX2v7WDP1cTeOv833Q-T1t5PzD7f2QFG8bU-+-7iOvxfUM7GdlApnTigEUCQeAV0NRUbrOkfxm54MK4Ncoy1gHG9VE1MHagsVrzwYsuMQJdkAPWAgDqAmgQYv8kgFuAye0Ay-qsEX4K4EB5+WtOhglT2VtcmpSgR31OQX05+h8dAvDFIHUo3A0AoMsyUN4P5UBlAlEiSRC7blKScEZgWUkt4YDre+GAJFZnDJbt5A-A4wP7AgLxR2OXAxuDwL4EroKB8GXhkFDiQoNFe8LRAYiwPBx8IBmgpeKQQqTSd9ADgldE4N4L3wO+Fg6QYrzRY2D3Bx-bQbwR8FSDAmivfASZyIFgC+oafK-rYPiLhDj4OA4utiCiGEDiB6MIweQIXp5JTBb-RmskOtg8cyBWgoDHwT4aUQ-irA0wSiSKrCpGBATEpCwNoEqDvyPZJgmiQCSHlXOHkTmiQEEFE1A0TmFQTYJJpjDb8LDAjIgWSIoEKK5gAYRyjlrPVYyQwhfqXzsF0DtMN4bYbAQnqMYAk7DJAikRaCYCPIqwlfHgRSQWhiw5USgPgCaiNQBgFQbzCoMxrOp0iX0eDB91uHVQJ+LwkeMf20jlRbyPw4YY80cr0Abq+Q9oRfU0iDluoX+AjEzWlDFN-YnUBgOoBEAcBSA60RhEQHfzvDhSfxTqOIOFJiZfyJWIENJlkyNMjh8tAZiKUoTUimsGmOoM4zRG9UMRP0LEdv1xE1EyctHGIM0FyCEAmk72exJ9iZE9k-iowwgFyQkYM1TSYoppBMIVFXFVR8fAoUk34YUis0LgDgSuBUYGipC4o6ARfQNj9AFAIgoHCIggS+BdihgNkBUAdFLxDApID4TqUcZQobBroilu6OJBPAO+WENBlClSFPA-WVoj6LaK0L+jHRp3a0QhCMDhioG6heMYGL25ewgienfoOswzEpwXRkYAMf7A9HM8fRsvAsULCDGFDTSYYjfuKy1bVAO8NsfMcWITH6AqxHop4KkOdCRjO20Ym0URChQpoUkg4t6BAnVjscEi53HkpOKRjTJAgH0WHkmLPaHNz61PRdPOP3iLjrRK4j6OWNdiDjZeGZLnjmNbHWI3Rgwe5GgziwHj7O-YuVjIG3GMBBx+4ocT0iXGCRRxdFC2ullFiUhQQsaKrL4hDiMjmKVI3bDSLKwyYKsR2eHIpgkpFxWRV2ZrBqBsFwVic5MUCUKJDFUAO8jAbrPxElGDZPsVLKgEKIvq8QCJDAIib1l4jkSwJJGCEakWEaK8McHAADhHzTLo4kwWOdge0E6BuCKJXEKgOEBsGQxVaXPN3LBl4jiTz8PnDLIBI+CxoGJokpiYpg76bDMIYkvnonG0mdixJgQ-CWQEIlPZ4+ck3sSsBvCgSGxfoaiaZNonmTtolktMWhG2i2SrJ6hBHB314mY4AOlouaBwAeGvi7xDPRKl6MSHGtHx6ZYNHDTwR9Ai0I8RgH8NHSpTnA3ALgWpK4HMTyQjYOiZflkLFQHJSyOifoCykiT0p9AEbPB1XA5TEJC-AqSEXSjqQOJ-Ew0sGhH5BTJAOiMKQ2R6yFTvC8UjyLwCjotQEYwk26vY0XFzR7BYk4aeYDSi7jlx3QNkN0E9FQRGw37NKDiDWl+BNqRtb5myIgiuZGiv3QwPCJlC8CiQbcSaUVmkLdBGQLksSUhIfRkjug4Qb7uhl+7dAPYwU0APnQAASuHBgAAEFwA4AXDgACV86kAAAPKkdkAQIfmksxkCSA1AQIrSMWUmkEShRkU0aY1HGnwwcZpk2XktKJlODgR2Mkqdsw75LTOgC4Kqe8An70zMgmMu4eJkjEsSAZwMsGRDOhmwyEZ4AFmZIFgkVB4YlMrGfWRpkEUlpb4omQwBukQoZZR-KWfQE8iDjrhCyb0NoKpnSyTJSQPGdzPHHPiqAS7LTKBIrpOtXsagEwF4GSnsyQRISS2ZZERbQ9TJQonAWjIGlMy8kNMoUbTH+ln8+ODgDvIyAAAMJwJZjUEchgoMgzwo3sQmoCDAro8c63KHO0BAhg56cnMRvTxCvSEw2c3IBnNIAT9CYMcv3FYiwkYxs5KApOZBAX5YQleDaLCLXMTmxRk5DfauX0m0aBBNSlc8UKkGqDZB459038m3NEH1y+ac9OOcIjrkdyU5TEMjEZhMw0ZiRZ2AXGSJ+Fjly5M8xRIKLiBpz555UZOVnXHzyis61-U0nFn8wdJ1RF4AwjfISwBZdh7Qs+WcMICHkjaT81eSPI4ALSc4wctWNiSnijc9mv1KUpvCsjBzTmbwcBKNPETByCKJiJBXLWzm3kkFkU-FvH1oijyqBaZLfmwCoy+A4qtYeEB31m52hUFACrIspxHizyvowczKXfxU4Gy6AzCr-odkKwQSqQ4CfoIwGDmMg+5ecAeX8CHnQIkF95aQvdlxDNSZBsYGRU5J6zlSWFw1d2YbLck-l4FtePhXmSQVeTpg9U02kbUUVyL2JfEgDjYNPGwF7ivXFhX-PLQD5HKNsARaPN7FI0SuPU0KV+P0CmLVkQ0wOZIB5kgyoZ1kAADK4ckZsUzIFHKHjeyMZwcv2WwqNkL8CZYsiaTLJsHkyrpS8RJSTKSBv9WZC4PJXLSKUMK8kBFIGSEvCWRKRZM4Cmf7DyUyzIp44wLsjC0xyy+pCspWfku2YGKGgkyeORrLCnwgcBnSnxc3OgVDLNZP4-mCwSaXJLwJxssKROLNnsctMgiztq9hYJ+IgFTCt2bjMZFez0ZXLBZeovYWMiaFHyT1MIjn4qLOF-s+WstMEgtKVlpsqcZA3fpsS5W9yVpbF39gFjzOV4HWY7OxkVTzlnslzDFPmXxy8k4Kw5QjiMrSMwpNCjYnYq-73KZ+ZOZ5WPKpCtBz2QIHaUsMxXf8mWtiufpUzBKBh8VDgNOP+xsHXKbm6KmfiSuxXHiO+NK6BJcJlK-9kVX4mhYLCJlLQ5JWC8lGDxJjPS-4DsBcrBklWzK3ODwwIKCpPmMAiZr3PWfQHWh-EhVOWJmYqKNAPS-AjIbpeWFul6qFSjYa7rnSNTKrepX48TqNnGV7jugqsjmXQGGVfjKVRQIqDiFdVOz3Vms+zlhCZncAYpVqvuTOCZk4qOh1TMhmTQ8gfBggjUbOa9DVWYLNpU7NhYyDgVnha8ki8kNqqunCq2F+qhoI2EelAgTVuIW6TLItXSFw1Nq7OYOIdV6QnVK07YADWmUjKmRPql1Z2o4AerrRFVWMK3PjmhqtWDag+E2pRUxq9RQzPoeYEBHZzggtq6BHqtFUML1Vas7ZtxOzqCBhAjS+OVurdVv9ARTM49f6rlpnqNVa6m9etETVKqo1qaq6RetRDfkoobAXWduu-ZVK+ZkMmGfDMRlMRf14M-9YLMRmMhg1N68dX62thfq3VlQqlS4HBAYgqe8axdQes3XpryQD65NWnOfXiyHF766QnBvKWMhf1oSiJcLPJAUaalUS0deTBimkbEl4FIuChuLTwjUgHNXEG8H3acExih4rIAJon40leNj0bosguvjCbNxwNVZDODE0ohYRtRSKa-NqIT9BY3G5hCkD42bMBNG63UtJvQ2pFSypLHTaYAk2RT1REPIeIBlM2PQlNs4yhKpus3npiAYgBVP7DuV6buZVmmhbxvwDDyFNyXNlSio3Waagto6CLSAwSF8rrRHffzcPMAxRaoRdAMzX6jskaFyV9i0TfQDS0pa0tPRGzPB1i0HjaYPq8ENvx7poqKV3ABLds1iUpJTNAW6BHZsU0hb+VYWzJlpsMBpbxErW5LieM6m35mxZAC8faJLFAq-Q1W7LSZu03ib+t6W9rdaK+xul1WWrJrYlrk3daCtnYubYppW094St34+6OVr35WRptX-BtBtvq3aMag7mr-NYSeXHjXlX41ZR8sm3OhJJibIrSxiF5CastGKu7R5uZVNJnBmihoB4uCl2q9xCOWwKtqOKQ6vFzyk2oDG+y-dGiKEBoEdv2jlaD+VWgHTPwbRA6tAinaYhLOu7Ij15qjSCgRmK6lcTkFXUBYAKM4EDQBDlR7djsnAtM3lk482YYW+XGQEYJgfgF9AREgIkRX0funX3GJM1+6HUamLKzTEsNKwNU2qYUzmEuBeIhGTIr3W+yrbwQGQtnejAv529qQ3UkKcjr+x+h9ywae9tjpO38AIQhumIYMXx1c4tAIOhtM7qyHjQo5+UjAt1ppaMgAAnCcCHjUsHRyOiWuHp4iR7xxiSVWB8G4A7qSRwg3Uh8FLWsQBCBgFwGpnDm5MYgEeilvoF7698rIaACvV6opyxq-QRetUeah3T3I69zymTB3nfHJiM9yenVrNWNFDNCgze+PW3tFo3BeBdemhZ0GIWkLRd48JNUtoPGRSjtDu61hPopZT63douD3TVsEBELV9TAeKqToWRBDUgdy6oEVBPBkBLYHyTmrioECtBGQ+gtAswF4FH7hJeqUXXQCKj70jgF-WrPNloKkBL9iSUuimxFSY4p48IXsnXohDeQfIR+0AHPwFgf7+AMQGA-5F3XBQyWDotwfEDoZ3LWgxwRUkKRYgDgo1Dwp4SPAPW7F8DTDJdWnJXXnrr126xarP1UEug-9F+rxpzSl4SQPkvtLeAI0L2x7i94IGA95CZBur91rwrAqIbQOdC2INehoFAZEOiGfICB5qUzBUPeQq9sQAfX1N+UrK+d3TAXT3id53K3JYuqeBLvKlk5Q1Ku-6FqwOK9iLtLK1oBKnN3Q7lxjRe+B0LNra1SyQgQwI5FVin7+AN++A-ftUUGCn9OQpJW-oWxIGBA3db-VZlqafRv2zh2fm4bahQ7vFe4rw6xofS6lIY0Wo4uCAcjF0esc0dSeQFkjQQWiOB--vYosM0BucrhzdCjq1K2GFdfrA4hfUUVlTCAe4X8LlKNpfbWpFi+IaUbamWKphgkrIIMZXakgJJ2SLSTJMwhQp0DluP8TJlFg9VssjwBYzwGGOaThtaxtwZ6IwnbGMsexj5DlkIC-hDjJGJHGAE2yQhVjw1OwYMfjj6SKCppe47L36PmSbwXx-pVC0vj-HQT0oTrEov4guTUxau6YC5NJCQnYwPk2-H5M4loacAR+kHSXtSn6A1dAAHSwBAK2l-sMgzIGCAM8MdurTVitjQhl6FEHB4wDVBxN3Le++JokySaPVkmmAjwyk232El2DeAJ4K4j0CwginQAAALwvAxBiTVhf5XybehUn5dtJ6U-fDWyMnwQ-+y-csJOCoQDo-h94EEc3AcnFTFJlU-Gxr7ICe6LAHusoB7oAdJgvfNMHgDZP2KzTOGck-yctNStrTy+20-acdMX8tT-kIAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'style="color:blue">[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy2cRHemoKiNRj9gQfRYL4hg64saSDIIYUJQUbjYl0cfVu7c87cBMW4h+sM0RpIyZbYQvh8lF0JuwDwXgr5GJ-q4-uZjB4pMFiJZplCImIIrvI8EIkhbMC0JvZJNSwlJH8YE4gwToEcIMV-bhPS75ZwGakN43FUQ-ARistZwzwnSLGSvY23BjJFFQfQI5zgTkBKCYYZw8z+aHOWaQTJgQU6n0kZQwODBAgyGQXiap3ynm-IYJSC5gZQXguQaSfhKSfmnL+Z0aJJsKEJmRZUZBOhaYCNSMYdo+9lD5yBZskZVyl5yNuSgiltZHDEC+ZxQmrKqU0plmET+IKK7gh5ey8E3Bg5hHRQs0V1LplUGIJvPJBdYjAp7tsu0bjpX8yqKQD48rZn71xQK-FW1r6SuhZxIJM4PgKqVW7E1arAy-yleY-ZYsFCaFxLKvllBHV0suWkDIdDXV1wWV49YNqZmKqNQ6oSc8g2uxde4slTUuQdI2QGwMozGXjOZeCNpygvCcvqrcRqhaM20scUXJBBb03iupP3bVT101NXwI00JiyXCVN6Xs8NqQNCEBBNyVEiKc6l1zTcmJKDB3DqgSW8wcSsWrI+SEzNXaqHOJ2X-ZtHkfpiGVVWjdJjeEMJSQ5EepAD36CIP66t9LE1ZFvZajyur9X7pvYQO9x7r7Pt3eYa1l7r3PsFQmG8f7oYePMIIn6+hTnd2zQy2RFdTlWWKDgqDLgKgkBEKkEJqGxqo3JjTHGQ9KCBEao5ToHT+orgHDBzcD4cYrAHG0DoWRFHcCY1BWM11SC1iYlmZ80Z7mvHoFSFgjJnoMFepDOD1NslATQkFST4kgzqlqKJ+S-1OjGC0ypdkFGGBUbYB06T78WCPmYlgaCFEXz3ITVhOs+n9KGeIJR6jnTBhMZ1m5jzpmb6XwfC55oMhdPEEEzmckgUi7kfc8Zzz8GPZ4GzkzOQLMoBwEQMgdA3M8QAI8uLGsCrkH70rPGqRQtIyiyK2eSW7VY7KVKI2mWylmjOzzl3JrwIrbSRISU9hR8W5t1zp3WOXG6Dlba8PJhyioFdedKUWr8LxPMHQTY+b8iytTBWO11IGi5ujsa4tlop5TpEesVolRpXJs7ZMsPXem8FuKiW2dx7satu3em0Ap5iSXkLmXec47L3Ts-EOX9+gryzmrvWcy7b33UjePSX4wHMPnsrFKITbOW46l+KyXnLQequ74T0tMJH9T21NPGy5508PnR7aq5S9l6PtPLZ9UYNjvKDUxqnoejWE2pv0+HhWlnMxQcLhF59wXioGdDOBxj8XYLgY3el7th7hAh3UBHeI+X2nZ1NNqx0LQ+gl1vJXTr-uAuqY0+BKCUpdjax5P3Xz2WVu7sGbMsEZBNk7IOWctSXwU9yDwy8j5Q3CqMM7w12wJpyJuDO6EvR1IgTqAKD+5WRq2PkSTGYxu-X-zU-p8z4-E3Dh49XtdTmYTAthT6B+56-A5Q3ol+z+tGI75VkZGKuH43cSGmx4cNb0n0wEZI39mVg89Ans279HE-Hn1Cd5OzyT4f0xncr9X0UJdk3J+vzBK3pTcYH1TPfkErv7uFcn4Yitqesaz9sFlqJ5oY4NRhjsyJhonvNxx5QbZeyTkXAyNfASBQ9BBo9fAaoot+kFlQURt0Y8lTlDArdmMgoL1nc4MAklgQcXY2A5JmgnMJZe8Dx30r0MCv0qYWhbsN8-RYDRZ4DRgSDr1ECKDttSUUlltwdjkAczcgc4dbtI5KtyNaw4NCCvpMU3l-lahidKDysL8ihXtitjdxDAkb8XcWCvs-RTJRD9BlDsUH9pDts+1+Y2dOdmdJVkCoIk8PUvVGc2VqU4028s1VRwJxwApq8rCIF9VbVDUp4HDc9hIi4e8vo30o07UPtjYwhOBDDotq8eNYhGwQjpkZYHcJRQB7kgiTdiDQifDjUqZoiWNa9BlgYUjMi9Uo1kj0Yc84iAjKFEjg4UjItyJYiHNAizt2cXNANvCec-U40ojbtGjQA2JIMh5aCGAHBd4pCO5VkEMc4cD9ApisDtMcCVx8CNwIRIRxjn5x5ag4RuBRjNiPltit07QFi+EyI0joD+ZDBuRGBG8CErsoE1CcYrD2c3F-CVBVsWs-VGQfVud7VY4BiE1FUbDXiIi5D5DQBljYw1gNd94U4bjW5+BNEiFUQl8si-jwj+ULwZ8YhrihBET7iUTGYBIy1bDeV9AcTlNVlsjuiXcJgrN393iE1ZsNsjt+57kFIK4WSHjYpilrZTF7kGcDtWSLcNYtNOSdxhSeTyo+S6FJgtNmgcCAphj2CztJc+DyscZGx+8pNW1+8u4mJGxuw9QfiES7jkTtF3hlpKdD8Pj3gBADiX5agmYgR9jq4tiNRbxuQ9RbSgoMj+9qDadEY4SxYd95A98vTdNuBHSjikCZCU1VSfg5cNSZjQBCYr97F9MMiplUdRTXdKTYhWCjDOJlt3tfCpd1pGx0ZGQMiyyZx2FLd4ymJd5+sW5346zWy5TepawrcmIgp0ZizCszspSiS10UycYWzZSSiRzLTOzicVwMiZzbEGz+d4zAymyzhVUh4ODVsQELTrsKyJyPTOySjuTRzGBZT5yVgMizzZyVzXc1yFz+jIMUtH40t5AlBMt2YcsuZLACtoMS5+Mvp4ZUyQ81MhCIsVSFkscS958ck9VuAAz4yBChUdxHkG8m9s5xUXM4LF9ELKdey3V+0VsMKRBm8akTdUyc1kMdwZArJchSL-YsKX1F1H5MlIEF9clKKUKCU7cUU6LQAoV-1AC2L9SZBUzCUIUBK0UiKdU2KJ9wyntxKeKkU+KiUBKSVBzrhSSMzhC3gkY8VyQgpa1dKOVuB9KjUWKc5TLvpKYVLx0EFJ0wR0YrJTKF0XBTKb8DLbLzx7LN1As7RKi2CFkqUvgPk2pQzKxd8ntts-Kbxoiw0dV0S5NYrC5KFtoErMNKDwF8BjAmpY9skLDCgjKi4sJIZCLzhGxKAw5gTKBcQFKp8jVGQlT-zRJSS5NZS4z4DUyY4hs9RuzpjhLMY85Oyl9FNIhiqj91URgaYhrIYUixq85nhJqnC-wTdFMtKXBR8QyGqIzOreo4yWB1hGpUqSqQV94xBqqjA+qBU1MOA2orrTxFiQcCZ2rslrrSEurdMKCjq8q6chd7rLrVAPrj4BUAAeYEC6x6760TJbUgcyCEAAFStjTKEF8EECvV4CVSbGj2oFqGaHBFAAAGo0jN8DY5ohQqcbrwgSaG1CaSbKTya2pKbbKJgn8Wh4avdwRkb8B-piBHIMaxAsajUmYaRcb8aUFibSbV8maxAWbOqaaUErIpbGbyMKaZAmknqEyYDessQTzBtSELDyRtzJsA4rZsRTqVgh48T1kbqDrHCajA05iFaZ8ltTb0RsQCzsqwqTpdqYrbtwTNCA9SE05toXbN9Zhr4tbKTmgbaAr-xqabRArvrbTCgWJBRa8ys05qqTrPU6rIrorLL3jCgv8QbrYrJbJLZyhISa5U6q9Ix7NYwEjslGREiUrnzeMi4475rOr1qlr1yCJ5r6CaY67yJoszqEwyszaiA4NnzLjOJJy+qSjZTeojakR2D3bzbZ7NTqj6YZUbiy7+qKZv1FQE1nbqaXM3bKxp7PbV9QrcrfawzGrfDWCQtg7j5Q7zUL7SdSh4JtonrepA6ZdqQD6iJE61qtbR7BjpaGhWNJts6aq876qn698HaihS6V7f86Aq6RAa7PpQC6zIDtRmim7PjIZW7kr3r8i-Qgpu7slRq+7AYB60Ih6GJFrAYoGhiprAwp6Pbt7aZXyal3yMs2ZstOZuZsAsro4uo08aAM9yKCxS86AKsH0J0aL98y8UEU9ZHqAM93KeAZGi8ZNPUOBN55ts9QMzUukshW8PZCpDG5Hi8hHGQkF0xa05gG1Yg5hVwh8Gha0ORPGYgOQfHAza0MJAmeANwQm3HhVA4InA5omydhVnZg0G0UnMhnRfGiha1uJDAh1yAIDuBcn8n0bFQsnCha0v9Amv9YxynYha0bhqqR4WBDBxVGnVBmmmYVg6mYha0iaInYh9B4ZuBfBwgAQAA+UAEPEm0pnp23NCzyAZmIIZkZsZyZkPHyWZ0J4VXY6YFZ0AUZwEdZ0ASEA5mIOZ2tYAJZgwYZg5tZqZ0AMALZmJtCgAUmuf2cOYmYedebOdAAueFXEgGc+fubAqlFGe2bQoAEJJRgXbmvnjmYWgQIWXmwRwQwaPn4XQXQAIaYgUWkm0KwaAQlmQWjmHmiW8WAW0LxnMXVmyWQ9JnKXIW0XxniXuAihSXvmGWgQ7nmWIQoXrmHnChvmYgoXYgQL0wCpPjtGjG4lOrAQVxCkvNuAZXHGFHUSpX7SDHC81W4l8AWAAArEwb4gERVjQJRslsJhx3Rsy-ym8A-Zhtca1+R1LNMSKaV51xqfBF0+ZsEWtF-WoBtAN1MR1zfX1iESAOgBJOqzxyN6N-FsN50BpqgDp2ASAQJ9phgNNuZxN+p4VTNgAUQicLZzdzfDfBAADlyAK3rmq2K2gGw3NWqRVWbXVC1sbUbqFWVglXhRvntpxKVXPW22QFXV7GdXW2mF4Cu3pge2yWTFxKKCW35HvW3Wo8h1cQl2nHFGf990olUz89Xo1RSAY8ToDXyBqxriupNAKSCJN3jGh1ujzHB9Q3Chd3A4EQigoKrj4xCAC7FLY1UztqyK-bY19NB04T9A725W7aYHh872mEFaX2YhwPkYoO2L9WjXTA4yCz4Pdy342HS2Ggc7rD86QOp5aYqqw4xAvgjqAcUHN4fif2-3n6wQ3XBGCxhHPzRGOZMAMBWq7TyNyBTAGBKUPhyobhSAOlFEqLFYsaVZNwTFpP5SFcT1L4lPFbwQGB6bG1DY5aNavN47SYSJwTmhFPLESIhqGKbgqt8ctBAVdOT6gohPlAsaMgSsjB49lBlB7mmYSb9BnO05wRCbSggvQACblaSbnPCPYwguJU1a2pQ0sqVlKA6q1ZdPy8D0MvJCUvDmIhoIJ7AxZapbwQIQparO-FjBbOpClXd3ku6qMuJhivrBwQhq6vcRCcFB-Or0ZPH0uu1oVwQucDdJ7svEK5914445lI69ZOk1L5xvwhfMTF5vQAkWUF0NwTSgDPxvAv0NjJSh9KKBhPRPYoJOOlxvjJmhpuR5cbtcQltuE5RMOtO5TdodxF5uG2QvSuSa2umAyBOvtp0D3uVbVxCbtOpyRspilGCxflzc7vuvFbRNQepafuOuDObxAf4ec8ibEfmuLuDHJBUvJJQQG191B2Cf2u-vlORvk81jzuFc2uIRwm9iK4Afuuk6sh5uyecvfvSBBIVjh5Za+uNuUEABybT-dYrsX-n2Wlm8b1r+IfOylUgJpJX3Lgr2Y4NASRVeTgz1X6LtCWtIQYQOm4IOmhyHSNeNwYsOm-jDgeEKnsXBn7aPX9n-QF3-H7njrkzj31L532sZXigm8d3n7vXza0AM9i95QK9+s6-QJDwFdMgnr2dLXebeDAb8t5P271RameSngtHeDJD1G7ECP9YKP6gTQFI-5ePtwBrxPh3poYeSHtPhXWtdDCVJeiHzreDb305MP1Xw+IPeGKv6lNwRP54wogdG71PgJKow0BIti2UxkFccHspZ73P17-DGfuu+x6v4wf2Z3eKc1-vxuQf4fldWv7vyLIKaDkOtTcEcJ9PrCbaOPkfvfoDSIu1y+F-ldJeBPev1YPetD0X5384mj-eQK-1-4V5+eN-D+nfxL6Xty+MfPqMN0d5rEYB5dfTEq3gFl8K+6MM-jX0FoIEt+3vMqgvz6qDtd+kAg9LaUZJWEm+W-XPMZWFRt936w2Vfl9Ev4xEG6H+f0IEQCTKl56HkOqiQDH5pVA0TmGfunwyqSC1cpdAjD7n-z+5cy5gYQRyisoCcRaog9XsPAkGEBhe8VGQfdjkEBIK6vuAAi0Dz4eQLKvOSPCkgtDFhyolAfAE1EagDAKg3mGfnFWAIcDPBd-ewdVCGpuCR4VvbSOVH1LwY-K20awT0U4GCDoM9pEBN1GNwEZyq0oHBv7E6gMB1AIgDgKQHWiMIiABuTwbvSsKdQ6+xdeIp8WehSZiYL0RgClRMHDVAYAxbhi4GqFqZg2l9NIY3jIqZDshwgXIWQQUxLU36uQQgE0nMxnRnoVmNOu4Qn7sUDw5Q3eq0MiaLCxhTSaQXoIoLrDDO3fThiQxoZ8DCAAxLhqtR2FJYv2nEA2P0AUDXccM-sCoBAl8BSFDAbIR4QUyXiGBSQfldJv+ChTp93hzw-2F8KeD88n+5qKFIXyeBktrhH0O4SGUBEvC4scIoiJCK9qr5ERwI0kOoOqCE4bY8jTEUYDeGRgPhWInrs7X+EK5MRQsYkKCLVzgiRgrw-XoM3ua4iyA+I6xE8KkLUiQRzI2MNCO+awjbhqIvpPxyFFvQIE6sc1j-kc5FwZAkopGNMkCAfQ0uNwhgD200YTA5qCo-eEqJuGqiPo5IzXkKOF5QkRut+Y9v0AJEkigRN7P0GHWRGCRQ2AoyZvKKoCKihRBo4UT0mVGCRtaxhYMmRSFCqFQQsaTjFxCoDDDsYUEbUrUJqEXQ6hb0d6uGNmraD2hYEYMOOHT5AdBg4Y3xCHCaF8gwR7osgIwEab8RJh9iaYUU0jGFjgq-MXiITjLGhRgavEGsQWJIxiDAw5DO-mFj2CBtYOJQFBH2I4DG9+ebGToJB1rH5jwg6fchjEH54MYpxJsbMYGP9jBjKQoY3wm2IjEdjFMi4mnosN4gTcdBaxGcY-xLFLJyxwNG8MeML6KgbwM4+8ehEvHNi+IwNZ-lQD5G5ttoT49EVeBHr89wQI4wNmH3CrUdJAOiR0UMx6prFbmLoyEsGnrF4I+gRaEeIwH8GjpMJzgbgP3x3H99Ox5IRsNeKVw0gH8jIRsaWPVEti3e-vDdrWOwn0A7kZbK8ARI2raCSJ9+dKOpBAljiFcZogzOBI4BOCLy0EziZ3gfzISPIvAPKi1ARjLieugvT8TukuEeQ0oeolUd0DZDdBvhMYz4j6zSg4htJfgGSisJdIZiNMogUoDgTC7Ugw+ckofkSDbgKStSnxboIyGUm+lKsZQ7oOEBC7oZbJ3QD2MJNACI0AAEgWwYAABBcAOAALYAAlRGpAAADyFbZAECBapZUZAkgNQMEK0iollxTYqMbRhWEyTGoDkwqaWOF7qSHJv-EIQVMolJBve6kzoAuEYnvAhqLUzIHlIcHiZoRXYlwOFMikxS4piUlKWlM6mSAZMMoeGHVPynElGpyjPyupM9EOSGATkiFItIoLgh2pnkIUbYIWTeh9+9Uhaa+OKmplxRboqUbfVXD5isaRzGnGoBMBeB0JPU0ISEjumWRImKXUsedKQ7ZT3xb0hqWdLrG0wQptvL1j0MJyMgAADCcCyo1BHIYKDIK4Kn6xRqAgwK6CjJWwOBoZQICGTjItFS08QfZIuATNyC4yyAQ1QmIjPOxWIjOo0AmZn2IQYzYJiw8ECwKwhMy0Z5UDGa73U5h9AgUxOmeKFSDVBsgKMysp8W5ma4s+MmM0JCX5rIzhEzM9GZjKYhkYjMJmGjMUJXAJoyhEQjkqjTuC0zFEQwuINjNVm8zUwgpU8YsOb5+hSgWEOLP5g6SbDsSw+F2QlgCwGCthDbWyb33HorCvZ2siWRwCknmAHAlNaie+Mg57hfwhElYT2J4lJhA26fYCanL4lGD2gk4wgPHOF6QwDx52OObOIVw5iZMosQgLlQ+R-A45KrBOfuLVxLjCA3w1cWPgrmZJq51AWuS3JVZsgSMjzMAJCGHlFysIeck8dHDWItzheUcjWjHP4i3i0RYbW8aSGfFFBZ5uIa8QZ3HlryCIz-Vef+MVCAS1cGc-scb3smpAIZasMIuRx+FIYok18nIq5RRn6M3g4CGSeIghmpkTEX89QQTP1Jfy75vXFxHaF-nC9DebAKjL4EAq1h4Q-PVTqAsln+iF64BEeMrK+gQzcJdE9ij9KSBYKyAuIROZUK1bgJ+gjACGYyCFkjVFEYs6BF-MNKfEN5pErvEv1XBMKt5eEs6f+Lflng0cpC-El-N3kNA2JS1UmZQiYVcTAuvElARCQEkN8giInOiWHPLSU4dCNschZLPvFCTIJok30foAkUSSVJEUEKUNIYDxTrIAAGQLbpTEJmQeGUPABm5SIZeSRaedL8plTppFQeGJVKanp8apM0peM4p8XKN+eXUhcEEvUFhL0FeSVMqYvMVWLwAk0mcLVP9hBKtpflcUSh0GBaYVp0EtaRtOCXfjnQkyFGXtMdHwgkOuSvRRzJt6lL9pyCvdKgrSUgyiF96BMJdMlFKstMFC75jTnzx+Ir5mC76UVLrH-ScpHTZpbgroDnSI5LgD5CY0aiq9aJBCnBSMp7qOiLpjoiUVQC6VW0W6vS2MJkthJkVCRLmI6UDOJKcKplf0lzAhPzxBKrlayxTDm3WW+jZl4uI3IsqUWq9ipGkwSK5K1atBkQjIQyaoOWUB8rICi1XkQzaWBggVDgNOJ0IVzzKH2iigheCp6CvKbh3veFdAmiF5J3eWKw0RfM8UIwlox4oBUpOvjHiFuWsYeGUM8nvKPgwQVwSdOyivQKp7U9aFYQclLQuVaDRsO5KBD5LywzkrlQMUbAud4aRqC5VBN9HTtScVS-Ud0Et7zT6AZS30TCqKBFQcQqq3qXQA1U3DsKsYLCO1O4AISpVQsmcO1L+UMkDhY9RKlcKcGBB0F000ld4sAV6StWi0xkDwo-khJ6F5IHlTNPJWvjZ+DYNyX4EZAircQzkraRKs+KWqZVBMoUQqr0hKrNJ2wFBBDMNUfQtVhQHVSquzV1LylobLmSjPNX3Mk1B8FNRspoH2rBiqk8wEEIJnBBZV0CLlUAqvmdr0+LalGf5zZUhK1cQQ9qQOrVXKNAhwgY6eOrHX6r1ozKl1Tao5UzTZ170idURM+LWxp1+qn1qYpGkJSkpqUxJeSD3WxSD140mxaasHWVqyWW69tZXlWrggMQLXWSgvSnXoLlF8651Y1AJnLqvFn6hhVqzvXOLGQcSyxdYqYhgaElFEtYkMoQnAaUZD62FS4CfXFoSVtVXEG8ANYl5mCQCuYswTmroksNj0MgrKPSrXwCNr6jyIBmI0ogiB5BOKkFkwI4jUgGG5hCkGw0UVcNA0xvpr0o2OrX06JXJpxtMCkbv5FG5jUNUAzCbHo9GsjWBiY3kEhqNQMQAqn9hLLuN2gzYYlyypYb8A4s2jVh1+UmigFbGwzaOnM3PUISRKhQPzz03iyaN9AETT0Us1FKYgUKpRYkXM06EnNsm63OcU3w2b3EOqnaSIDpoeaCFDaezeuqyrCb9N0CGTXRuM0bLTNSDdjYYGc3iJEtWHU0cGkXEWiORIiLkdkqvARblepRfVNlrBBVaP+QWlCA0AQlxaHN1JdLc5ryQ1b-Nq+ILftBC2m9IVohNFcrwbRNaYtQ8FTSVnXyFjbVGSrZVdN2Wrgex4zGzIqF+EiFFCXy9FeNrs6DamkCeIRVODmjCS5V+okerYAC1DjtFIkv5YwyLHQRYIipYNPVq3z0MTR90ELeb3C0DboV3ALbVDCyoIwTA-AHwXoL8oZECMxHajvqxOT0dLKYfbAdHxKKTagtk4WhrNs6XmtjIi24yADpc7G5NI7bJIV9EpKs9qBxU-bR1GphrMvapdSsMxJYkxAFBfuFwLxEIygF6aNmO7Q8nh2ICUi9vD7tSEO06LrtNMPHjgUdZBa3t-ACENztwEMRPt62nbQ2hl1IDzw8M4icHnS0lNGQAAThOBDximTw67SfX108RDd4oxJKrA+A-a0GdA40X-HeK0Da8LgNTDDLQaFADdBTfQCLxF5WQ0Afu-NfXUojLDYgHujYeahUmxhQ9fymTITi9EIQ1YFBFwD5CEorhThMQKPebtj1xkbgQ-UPe8s6BQKYFX0F+CyuS1vK-KNmyXWiwL0FMi98uurFoEV3x5IFtepgEBVXYpJv+bgHbXXjoBFQTwZAS2B8jqpSzAVjIY-oHmYBD8u9Lin6MYF71FRiuRwe3kxAHAZ5SAQ+xJOjVW4ip+xU8eEO8VD0QhvIPkGfaAFV4Cw+9-AGICfv8iDiQ9puz3SH2+XHBoG3AyICxAHA2qnBLgkeFOqkKtBw1a+d9a2uxSDr-O76m1fqUANQM19g+h+nVRW7qQPk91LeBUPT2P6mk4IE-d5CZD6rBA-+0QDge8h37GSEQNiA2vd2YHj9xB8-XRI2hkTvixBkg1Awz3QT7k4o+bQBP2VLbV8z+9FeiPx2JCSsrQMnQYFp3-R7mshe8WVpV4SpBdV2z0TgXvg0Cm1gBdEkIEMCORVY1QIqKPqpCtBx92Ck-lPvwGz69Uxeq-QIFprL6rMzdPOD61kNu95DbUI7bov1HKGvJD6OYpDCs1DjwQDkVGu+Lmi7jyAskaCPgQV64gllQhqeITucP+VfDFBCnZIbJayEw+5c4MVXOfi1zwxp4NxV6okxxigQ0mWTMmPM4Qx2JGdAwNUNW7Bs0GQUdhTRMrHCFqx9+sNvkbrFHBYOjugwEuNPBVEw2eAYeZCBXCxiEx8Y1aG6rkydHUxKwFTHGLqMuENQRspo7HM4yHyWjX0asRztQgi7oSFgsfAzPJizGqjge-UAOGwxwk8M0CToymOeUTVhjI8+Y0XFPmjiX1sw9-bvT9JrjjjGMU46IvHoRQZ9PekXphP0D06AAOlgG7XHL-YP+mQMEE65i6DmqzHPGhB90KJ4DxgGqCCaWVgn6pEJlidCdhP3CmAzgxE7zynGLDeAJ4Cgj0Cwi0nQAAALwvAxBoTRQLJeSbehImUjPQVk+ib0iYnwQ6+ofWoJOCoQDoGh94Noc3Bgm4T3Jyk513hbM80KYRqyCwDprKA6axvSYCLzTB4A8TSi+U2SYRO8mVTGfOmpqfoo6n7ewp-yEAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+en7UE+KVWOe6dVH-KVKYAPysbgYAN94m4XKBgyLIQ5CSsQHSgO05D70wrB9cMIl8YwoBraABghhSa1oH-G1LK9X5AZPQuk4SDDsH6RgHQm4zE0sUfmZQoHUBga9XKKRt6gBIMGRixBOgYLCAALlAGzTQZRwGyQQjqFBaDOyEMwV7WhsCTAMOIZKakoDKFDDdMwpWvsgZmxaKBPQq9eygDVsHOQJ8sjHAkTyQEAAqYRWRFH5lCHeNW1BtKEFEuAyQPBBj6ImtLMI4i6CEA8ComQciQGkDATIFmhieEtkkfFaxHo8qUHwF-CxVjHzHFODghiMROirzyl+YJeDOhVDytUUhchZCmLyuI5htjOH2OMYMGcliPEQjyqkHxeg0knCONg6+IT8EdHCQUrWzgomhI6LE2poB4nyCSXWFpdSXHIJDKg6pzTam1DiZiYZNgVb0G8H0fRzisn3mgjIGp1hzG5ICWUuxDinHZLdG46ReTBlFCKX46xgSykNKqUssIshLQul2TImSbCunLFWHoc6Myz4rB8HM4ciyTD9EeV00ItyDLuMfBXBhbTEk2M6Sk-0l8SkcLoFwxxkh+DbOzqs0CniWneK-iUoJFTonVOSaAAAkHla5FwMX+NPlgclgKCnPJ8EyzZqLBg-L+QChlYQck0qyOC+l1hIUdK5aESlLpmHsoWfklpYyUhytaZiO8MU6DLHIKQYYegWCXKEqcoEWidGLEBKK6wWCDW6JNaAEhbBSlAhiLIRgwpLWmvEJMx1zqrWkMYMwHwLAUwAFViDaWrgAd2cIfCCzgAC0UaeGgXUTYBVX4VVqo1eFcREbj4nLKUIx8oiqjiLvnIzNlZrF6EBOao1EJxHn0vmUktr4y2AntVM-MW0tKqF0ubGIMVYggSyFKm0q8vwsv7TJeZQ7R6gA8D2mIOgl5nhETO6+c7h2aR1Mu3tkwp2brnVBG0ehd26DXQ2F0R7t10yRueyQMRJD4AjOiMdgx72ghPTiDZT6mCvqnb5Pi189Cfp+c+h9izTEjs+VqztelZ19vDIugdE6Rx-K-U8TaeB5wMHvU-KAcBEDIHQHwHgQCKQqGgu5AEsplAz15rIBQShhyRliMyR5WCHbGEeSQh46JmO1LNRkQ1b4kQ-LEtWZEqJQTlEGJR1htTONSF7IGei2ZI3lBY6Q60UV0yKefCHGi0mOMLDHUpjcMJVO8fU-FIzOnTN6eIFRgzEQzQykljxgpWDSPSKc0KCjdmZMFLk5pmKMISp+RTiRZUamPOBaKiCaRydyo+fs7JhYylcLxdTmZtzHau3zleY8TiuFlggbfoXUw-zuUtNS67d2zJysVYKfp5LEQQacz83ldzGmWvf3ZgdNGENJOkN8w5qQFtMvtYs9I0btmkv+YWDZVz42ovzeco12bjno5B10xF8zAc5DqQ85oPiegk6hYS7VwbVG6sVbapJH5Ak+6leQ9JtrhQSHeB9byQNwbqBhuBnCRkqg8KgBjRNw7N0BFI12+pYQgwHtY1xXoCIhFKAsFisoMYuXhCGhJV+KHDUUdo4x1VY7JBYd1xla0hJSSEcRD9CwRY1AcF3uJ1jmpqSkr8zraD8jdFVLQ5IJy+reVf2ylqnZ1YtBvMeq6XRIroISsk+IILoXtSHtXZV4UJO4vmDOb6Kzinxc5uOn3TBIinOXtZdcj8zTf6+hm7kKYUVJDzkxOSMK6FGD3uoMVwGoNobE5A2ZosGxIOocJsVWhJGN3FB3b0KVOgUnfPJK-NXCeAl48W9CFguWbCSEsoOzzlGlo+5x4Iq9RPl3nXR5N0lYpSVi911L9PCvFl21RZqjFkLZUMvTbfdrKIMEC9Hf6nVBqnQBvPYBR1sjw-pqj6Gud1bs2h-PBH35WaDuJ++Yh71KLXX-ot9MTTqQjNmasx689PGOrNIu6aaMqnNjj-dCpETFoJMXPk2xzCwoX4V-HaL31hjHjP0NJgcu7iSssnCsjD3K-sYDXnIlyn-t3GLG-hLPrOXqAQwk-lbgsv-jAZEHARypcvAg2MgbAZaD8gcqEOAd-ikL-p1mQhzHoM6uPOLP1sAZgSMtQQvEDNXiQE5uPtJHAoboggLEIZni6jnnlHnhBkovwcRHSJ0GooMHwSCAoVUt7OIUaIKqADwUjHQMHMQMiBfMZleP6B7E-vvihBAX1FAf9HIi1oAYyI9lQSISfvTmflYYrBIWENnkglyiQgHKLgYIYcYf2MppuAJGQU4egYaOrvVgYTkGEaYZGgJGbF1tLvVqwagewZ-uCtQQ-jYV+LTnCtpuBFtvEFymajyApqWBEZWPCNWO6AEYZnBo+CkRUY7gytUf8FZuUQ0eJP+D4SkCQnLGAXobvhplNitknp0uInznIi7HzuUAcuIrsgwGUokUYYzuESZo0AJHzgbuIvIQKFUhsfIqjJJCcdKOPusQbvQTPs8HzvES0iLtfEoNrpLhjOsYMNcYobAi3srEDEto6Iln3s4GbDgQepan-j5Kdj3sqC8ULs9jviRhpl5kATMVRqYuIj8nIn-hiXKMJovtvpiE5oJtIsJoSUTIMQNkBhdvcZpJQRMWiZZm0aBB0TZliavOSY0YqDXgBuyReP0a+HyZkJJgwn-n0fUa+MSYiQyUiQyVcNDHeO3qUXUXsSlNyaYryYMQKbUbsWYUYWKf+IqX-gaZybKbgSSZXsLqSdcOhlVJhswGwDhpwPhrwP-MRhKM0IwDBHhOCaAEDragPjIKiXdFBszlZHoHLrxPxIMM8QyWBktP8AVPTozu8fOL9M6rGfYPGdOm7BAkqZesLPJqwAzkzpjoGevFlHrimHThWZmVVCbL1LLjxHmT3MdoGaNKtPgIMN1FOrzoWV2cmR9MtGNH2aABNIOVVB8coBLrriOZ0l+D2Z1JORtOGWIJCcbsJmmLbt2QolCSOPbHuRaAnEbrGAKRyqOSdBlGdDyPSYCEeeDiWRSM+TbhjNecueulnGUEQZuc4E9GrDSLoHOQud5tJjefMC6JgZ3EjNES+uiJBd+Q2DqLBW3mQMBXpNDiBofuYKEJiOBi8oheOuheIiMGMKfizJRuBRaHImMd6VuZGSRSJoqAnohklIGSyiaexXdueSRRSVESBlMARSQcFAcCRfxSBjXkJa+hYKJYbi6JJQBaQnhH+mLvOTrt5jxYOuxR4FSJRbMYRa1LKDoCMKxZkBTLalkLoOZdaOgi0lgiymbCxTpROuXtOgZXOcMdYCQjZWZZqjxWYAADwSKmV2XqAOVdLubere6AgAAqGQHaxAcIko+c7gpMwMuiMcnQJCgIoAAA1LoRrg7NELoN4upEFYVUCCmNVZkdYIYGVToBVYKYkoaE7l6h9glUlfgDICGmlToBlc4VlRtpQLlUCHVSVY1XOi1VVUVfbPlUVfVaVTNfgOpPZa3povxrohSQKSaXhUqsCXZt0BkKJMhQwneFsRZYkrpcQW4XzALEFZke5sdVoqJMtdYEBdQCBfOjRVpRjJPiriQiaXqjqE9SVVgjqBtctcDYYd7EFein+ZFdivKlgUUpRnqhRUoB4dRZ8brndZ9bFWsIMb7ukDgqANJOHmEDQVyuIiRXIghSBnHqSV0l+FdQJTxcdsJYqRVgJbHpJQbtwULYbpRidQ3MzVRipbqaJsSSTROgdRokdcoGLWdUZXlJdXDW5RtTYWJdrK3ODdyi9crW9cwRrl9T9WBf9ZLIDdysDYMaDQhAbRVlgpSlDZFYOj5dIcDHDTOIMR5S6BtYLYmsVYUAjhjSGecFRZbV8YyATZ1d7vtUCIGmTdfBTaCMDrGtSVTQUe0h7l0nTSBgzQASxZwS0mzXDRzX7Vza+jzdynzQsrJahkHUKqMsZQ2KLSbehQ-Bho-K6RwHhtwHwNgO2kjtEKjlQOjlGd6IrtRreTrPef8DDkCMjuPZQOji2RSCvYTjevTlkEKCHFjtLEPL+TPZtDWmPdvT3WUudIQp9BqPbDYBqICsrmEJ9HqA-dYHqM-UiZ9Eyh-aAEyt-bfQooeP-YeEA4UJ9KIXIPbNA7Ui-aEJ9CmmGHCPbMg6oKlQUggzYJ9F7owB-Xg10tg9YJ9MJCMLNB4HQL9GQ8MBQwwHlMQxcX0ICAVf-TYHoHhIMHCGYEcAAHxBnVWYOMOfRRpsPWAcNcM8P8NA6xpCM-0KLKGFASOgDcPHDSOgCKIqPWDCMKLABiNfycMqNSMCNgByPAOpkACk+jyjqjfDAjFjWjoAOjqZpSbDNjxjwZpw3D8jqZAAhCcG44Y7Y+o-42Ut4+Y8w8FdY0Ex46AKFdYOE5AwosFUcGI+42owIykwk848w7w9E5Ixk0Dvw9kz47k6k4MGEOk3Y0U2UkY6U+Wr4-owI6EHY9YL4zYAGYQtWlAVvRPUTlZIJccAwsJKJBqGfBfX01PTCLTOfQTpM3RNQB4AAFY-wbHDMiSK4ZO-0TNr1ghUKlwtj6613WC9O7NTP7EQhYCzOr2T0GnnHnSfS372y36MMlWv0KKQDEB4LMSoMVOfPfPMyvNvM4MKI0OSCwCQAf1gsQtAvAtMPlpgsACi-9SLsLwLn0AAcqoBi-o1ixi57SVd0+mAAzs7c+qTSdWGs3lCM8dhkzqPgMhqc2S1ps4US4YCS3M2cxaXdkM9Sxsz4nY3JAy4y6S2MHc5c3eHjky-09PUvX3HrIGXjresEowHtnuks6oGoAYdEEzKbdytKzvYHGgQfQLsc2EPK4eJUGECyRKNcjtX9THX0IGW8RpbRZLJakEf+ga3RG5R9QaxaQjR69HMEd67OYsysxQOxX66K5piWBQQ3Wi0CpHTjdHfjemlAVjToGrPpXFnjUKA4diIsKm95pc46VZM6dhv3VwJgBgIxdVLQFEKoBQJIOzIYK+MJIwEZGOtWa4O4F4D4HJN2+1eNnJAHUKb8mYPNZIItSteVWtcZAc0jUuFisO69l7GO8u-yueXTsJKzHLnxE1FEHOsId0k26QO4PzORgYLDqQKQMYwwEVXoGe3qoCPlVgq+56gtdVWe4m7Uq+39Ee7oB3O2olOQMzL4E1WTgXFB2PmB6o+YKSm3TiNNboNVYCOWtVTu7hLIPu+PjS-K6B8zFB0rGhyYICFOoRyzG-CwE+-nD2w9WUH3D4e+3LMal7SLDyEx1sJsI8ojr2wLC6Ex2YEEOu26EJ6AKE0CLvMx1-DqFx7aoCLvFPrYYyBGM2625WB20ZExwCiQnx7NKNXHFGFx9sKKlxs8Cdt3sZ3R6u1luhzO5R+MN4DR3J43kJ5OyHS0vlTOyaWJlJBJpZ-5NZ5MB56Kt59VY59Rwuz+Ix25zZ9jgVWF2R7pyS-YOBxWr0PbH3OM2l1R857Z+wkjhBjp+NpR+Wn-SoTyK55MIjbRyFzl3B054wNqgwgFih-oCV4UO+wAOQzt9xoe9etezvNXztMcUezBn7syMDqRTfwdId61IJaoeT9vRd6Cze-uAqfQ5AdALWoILXVzCgpj8itoph+lZDggFdZ6pdwerfre1d3fXdn7Uc+F54TfqQ6gPcugPeOfrcqUataukA6vxs2gNQGQpxN70e7axwhwrwMI9HMNQ9Gd5jPqznpZRgrxms2A0v-dUiA+UBMw16g-XTUjEcQ+Xc2ABbSQQ9w-wuKf2y+eSRU8rwveqWLAqWzfygA54RE-g8rxH5FLrYxxI+5DM8kp02zkg1lIMIM-iboiBdhaBTM+uHn1g-UgJgPZyI0sc-whc888k8DXp4EQo2G4+v20Kd-008so6iESq+yBdBw77MxcxnMDE929p70Je2m-VgvugOW8u8pzq91xDde+Kgvs4-av4-A-HmW8QYh+ZCY-WDY+au49A+E82+u+k-M8s8spx9yDjO2+B8FwG7gFP5M9G81IrkKK7x-R6mM8SZK-365046aSlTjGR69RB7PB88oVz355G809oX99e14NN6+7fa-Zo9iCd8b0SinnOEQ9QU+h9+LAycwVD9rsj9bxJ1+4-aAXwmz8Nukx7yStq+OqNo1xeCzQdDBgHDd-zfOCd8L8KfHeOrkevmmjX+zSn+VjLF3+60lwHA5+XMMnipXtR9gzwR2LfiRV+LEAU6XQRcJIBfjXwsgjAVeHeD9CLB9sRvGwk-kXBk8daNgeYjBh0CLFiBN6IwiXQIjAZv0XKL8Oej1S35nUWCEgHAKXiIDtuKA0fihkWTOoSEGA9SNemEznpjeOdKFOIAF5SBl+X+WgZpBZT8DVuzPQYPILX4r8RBwdJvrQTCC-4CIrhFusLW6TyCV4KlRqtkBYAGdg87xYMCg3Hx0BnEVgjBgmDoAmIe+C3R6t1Bp72C4Qjg-gKIiG5W9Ha3UBPl-HvZRBTB5g0XPRGsGHs7AjwKlESECEfUSqng7wRZAmRvwsgmrMCFEIMB2D5ADgroE4Po7613B42ZIQUJ8HZ8IMYNBIdylEQZMYg6Q7IJPTKF6Ayh0gCoUENqR1C7GJg2ITOG6ibUgYvQswfgDDBGB+WpOYGIGVGFaA-0kQGITR2GGSAaWS9fhO-zEAzCwOsoeYaYIg6mCihi3YYTJykJrsGh3gDIc0LyFeCDgXKMGqEMeCJtuh-DTYXMOGF7C+h8MBYeCnb4kY1KEQ7xLG16Cflx2gwHCAbG4FiIoC9AspNelvQsVP0yle-tOmIEMDCUjSGni60FKbtx0YI6gahj8GzDvARhMhhqkPRkChBxA5DLiIhEqU1Ub8YkVoFJFqpQRWgPEaBhcGJxC6CnfAFqE6D5UaegIHkYSD5FDcyE6gGMqyNABgizANPemtYCG4RA8BaqGUYtj+HvEARxYIEZLGZFSjJRklBUZIIgzKjuOCwFlNKJj5bCnAywxkZqhdDKjOheUF0NKIdGFA6RRI60eqk1TW8tAG3OFjqGdGJC66wlFnoKN5E7djBc6LIOQEghvCAyi-ABhBkMZPCKaSCIEkjA1QhhtIs0Iwi-1My5jGggwDnjqI56SUcSUBEkbQ3txc43RVoisWtxHDTduI4I-MbQEGCBjuUJY4SgciEg2iVoFiB3C+yFFZAduNPE4SMWBiRj7AMY+4TRwrF9jzcKlQgLIHIHBg8IEo2sEiOayAd9A3osKDazEB3wdhjwTZLMkcTODMQ5iORHfBPFGIzxjJBsBsQJS4JGkoAPwqUE9R0BQBFSbnvohRDrjIRxLcBHIl3H3i56eA8BGYHfa7xPU4CcKFGNADxUAAEoi0kAABBcAOAERYAAleKpAAADyGLZAGUgYrtpeqnor-g6mmbrj6RbIwMkuLGA9pfI1EokTJ0PGMS8I6vb-vsWYlOAWeh49QJ5i4n+gp0-E0oBRKmTcTAySElCehMwk4T8JhEkSfYBXG+ROJlE7iTWKVzxjDxbw9iZIF-GdRNJyGPkEJOIBRphhx-LuD2nEln9zCmk2ifGKWGbCaWJqMEe4DUYeoMxhkbMTZNMxuS-UCYy0cQFokJ8yJGqXyRpMJFOBaJm0eCWdzFYZk34ciAAAxVB20+CENO1H5hjBEex8SgAcGHTZSooJAJKWUninFTGQ3gaqjwG7GaRypfoEqd4CnRmwMpC6PNJ+nKm5TKw+UrirIWr4JiXknUwznlI6C1ch2aY3qHYGkhtTQIUgGIMUmykAT2WQ0oXiNPop9Uspq4Lqa+Hyn5pDqSMUIWMBDTqAjIf-H-AgikB4C+eVRbLGMFaljouBK0zbN1OqQtEiuLyWHtFQGk+BDpkgY6XICMiD9VBLooYHYCOknTvYWfFoq31br-9QZMgcGQDIWn8oVKLrG9IoAZzEQREgGdQA5LmJQiURMIsgXCKZoIiuxmIBHPQMk4vMiiN+YgBVQ9GkjBBuBYQW2LhahBrQtEioJ50pxN9cB4YVql-jeZ4BFEoshhEQJXSociZks+dCTIkycyaRDCOgSiOploiqkN0kgAzLrFPp2xyImWQKVZl0pSU9KfUV0jexqiDgOMvPorNEHU4ikwYCwbAmRC5AFZZM19CJRFliyIkmkUMcKPDGN8xBmg7QepSxHwZx0CsxEdwR+EShNZa1RmZqkWDOJFgaKCEfGPprciwxbHLrrREzmii9o4oxOWfAmiyiQMBopeDGW6g8yruaMgEZjJpAiJC5ADFOabNOGXSBZyclUdnJrkYzvq9crIDGRTmNzSxoAT2YojLkspE5ZgbYKaKNHFzxssclmHWLtE1CSqdoiaCDJsALz45q3SeRvIZTW915us9WsGKG6+zhxb-aOZFHim+B3IQoejvGFrI3z384Ip8tlJn5FhaAoYJcVGHimBk5Iv888uVOWK-z4x0Db2BKkWnk8XUW3OQMdLhBfA-SN0IbqO14SQKJpFIPHLhGvnxTCxDYlmPZNACdi5K+M4lqGGyBGF4pciKaaCBmlZA5puQX+asSgJbyqxCBQFFvLrFFiopwU9sWmC-kZYyFSRX+XvNCBELUMtUhsCwo5wDiM5fsrOYwjHHsIV8LbPBcjL0jDlBFFCxaZ0J+pRjpxCwvQFIv7F7jrg8E6SZICwn+oAAMoiyIkpjSgaUu8GFMrHZSBIBC0sRyOwTLj2JPEpXDTzYnfiEw8Utxdwr4nKSBJm02vOeVEnSJgldQzxeYssU2LwASky0OxKCWuLfFgZJYZ6xuEModJM4xHN+P0koo-xRkkRTYFflZBzJM48EAnwKUGK6ep3bKTUoWEXcpaG2FmHEvcXCVHJM4u9GMJckMpKFdjD1JgsiVqKPkQUkKSamcWRKQl0yiEegttYo4jWKi7wDNzwVNiaJ3Ao8dqj6ULCBlWgIZZri5H8MuUOS4NpYKuHj5nUeCe3qZIEhcLFlklTocmLxxxLnlOygWoqQ5ozjllYgZRbN3rEbK2ReypaZfB2jCArx9gXUHCGDwgrpuxkoFXgqppfgoVJAVEc+PVnjYaQu9MYMCtm5gqjhQ3DFbkCAFPK8FyGP5V8NAH0LVxeaY0Z4q3FNUd5Po4TgEFaIDsEIyogFbCGjF2AIpkEW9D4pbFaTOkT+diXmjFXSDYUgExxHIj0kGSn2pk5uip3ZbntvUFoIVcaRnG8sVcDS3YdwhMnqTaArS0wdnRsC1pNkR3UyeaseDZknkxXUyYMGTGaqppxeUyeCuL6FFOktQOCr1EMCoIxg5UkVd+LUUQrAp9IuRHwo0AZZGFFMiQSpLwiMrQllycREBLKRKrSlhk0JboPVWXx3V2q8qcMP1VC5DVx441fFPtUsBLVJzC+DapcgtKLJZrFlDguCEZMi1coEtf8p9UaDW6l85wPsC6DlTUEOqlVaavFWbipA18mVVXJsBYJh1EymVUNyXViqJ1Ek2gOeTXWmSN1tkqdWKgFU5SvVYa1cXuphBHEoCmQB5ZOvOLmLZJ2E3CQRJSWYh71GEx9QpLsUsoxVrq4xtep1W0w4ZgIbRBfPbRLrsFi00xEGsFWhqjCPihNaEAzRyAR1riuRIkusW2KDk6G5JXIjbXZTf1GTf9cEtAnzBgN2kUDSPXcJMwWYaYJZsTgzygL+OZQDPIOQAK0boQTeE9p7CBnAdvI9eTTHRpECG9p48YlQbxvphUaz8KqQTdPQY3MqmNnG-igAWk0ca5NSInjYAv40qahNim0TW6BY3rDnA+CHQO5C6DAq1NcMjTSpVo3UB5p7GoTcSv+WMbsa1GgTcTns2RsZONK0wUNxs3zTx4Hm4AYFvLzS4UVGyvAqjEC16BgtnKHQiVW80PDNo1qvkNfAWphbpuJ5WgEs1s1K5HFQMaTTltaESAZNXMRzV8Oc1R1tN09KrVzGOH+F2OlU1Vk0KyH5C9WXSdLdDmU3FaONNWjyglu1T-I4tHauxgVv81abutOm3rbFo1z9aLIyWvbimA61oNitOWiVkDGM3kY1cuyo4QcrCHOSNmsys5XSgKRgKOtegDbQe3WXTc6uIW9mSkF0VTjdVBigWqwiG0LqJxugPRU9t2H6jjZnqOWINpSCzbRQyWg7mloYx8QrtvzCmjIBM18Q1tSMVSee0gHYDPFf+Lfpm2zYlQ82Z5P7snwj4E8qSdcMrfsMphs1+l+296i0nTm8MAUSOi+M8DAGBgIBzwZatVz624VlqAGZ9FI0SEj9lAbMu7dYEBBfZ-cgU+ZO-BByLUjZcWwEOHzx6E6FkF3T2i7UnHRjvtx4lubNgB0ApgdkIZLfLtT4-JwdjxKHfbEN2R8a8lzcRMJG57oNUqZSAAJxVBlUEgQOBgz2UGA0B+Wt3Sgz2U3o34vgQYAetDpJr9aJIGwiXyKTOBbUyUuOvbr0DdduuKYNAKnrrW8zA5XKBPXcLUEpB7d-u5iN4HeFmDkIyGaNKAAHIQpYZNgfPUsML1rBBgtutcL7owZ8rJQsCjBggpgjShg1JOh4WnOkrDCQdDavkB3vgXjBEFJujQO5DN2w4x9XexZHlqRjp8U4UOopbWnZTeB0gNIQFmWOJY7Q5E2vf7C0G54r7qQEonuIzuIC1o0OFQdpYmq-jo5GA2+n5hJ1OBfRhRjIcEDYQT2AgY0saM-QwFm6uob9GdURlawYQJ6fuqinaEaAz0dIFUCOMVeMAv45Tr+4+WA5cnA1FSx166ndZOuqwzdc94gx-Vvu+qv7JOH+mysKHj0t71If+--ZnVMmSh0DN8RgzGhFDwHoUCqGmnlF-3sHY0wBqsQwAEPgH81tewpRcv6UnKGUNO+qtAfC2BimdjIFnWtzZGuqBdBAYxlRl9Hc5IdhKv6Grv0W7C5YAENvnW2gK9x6AIaIvTEFrSRqD9ZSI-br0AMX7ZA6+i+Lfvv2IaoCJFc4mdp2iGHPtj2z3aYZI2yxFufhmTsCGoAdpPRc6XUS0GNSkpXuuXNfcoaoDkZAjXsKIxoZ50ZMdDKlB2aLikCK8qBEusOXjP2kd8wZf0iGeyLRpfxFRAs35AQOsBh185S7So6QllXcovwoZfNbbLzrcp5ipA-WXLKQpcyWCmkDwFisqQEINcWCHkVCnqokJfp-0oyMzIPQeBiD3BUlLwbLoXTuIH0zud0XhmIzAZCEVoyJ3WMQyYKUC2bMsdkD5qeDSI240jKMGehADa+7rrmL0BC6AAOlgFnVXKug0Yu9Kgho4A6VGkjbHNymT1Agn92+l8t8eBW-Hv+-xu7UCZBOOyUDEJ5rhKJeSEB2UyGIsiymJOgAAAXnEWsBAnzWoJvE-gEhPc6YTVJzsCrgROAgkT31F8vShuAAEcgdAGwz4F+MMnwTTJgk0E0q6plVAC1DwAtVIALUduhobrhCDwConVFop3E+KeZNSnaespw2AqaVMXdOTIoIAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDJ60-pacg7ZCE8yZItdw4imACEcPbVI0g6DyORjCdkdAr4ey9kbPwfCqFgL0RiAxRjaZsEaFY6u1VmBeBqHUS4gD+EMKbsPAuM1QYnT8YoqWKjrYI2CidVQbhUgl10YXNJXBpEMFkfPbh-9eGP0jIw3WwjiZMBFCpds2I8kyMjkUnui9swoKSRvTBRMZiklqdo5wDSpFNIIWCJ2VTamSOkcY2QhhilIP9ugpgshcBqK5GM6JeRJmNJqWieJ2YlkrLUUdZhEzqBCx2UcDBlceGLOJMs5Yaj0gbM2bzEm+wRwkG7jckpCSU5oOSeLQyjADi52IA7DZzsAlg1BV8xmXRe7V1UaSEFnzwWkj8GLLoLcqmorBcwNQggGAl0sQnKQtzswuPVpCqpKwLFzQycS3O1zSAIraY6euWKaXuJkQyolJL4XUOroPbFpz3Gg2JSkBUeK4VcsRQkm6z9RXjPFSoGeah0n8uZYK+V7Shhs2AeUhGdxKmqqYEE4gIT5kLL1YktegLgoWrqNkma0KnX7MdMip1GKtrBxxe4p15rKA+PkQoylZTXGmtHioZIvARbqgQdapOdqAVdJSYZWN8bWouryBoxpBTmmEA9TQKloD-WF1npoUlrSKUcojYa1x3LC6RSYJWyxdg2W1v1oq7gHam0zTpRqytvbeCdt+eGi4fby0zV5a26QVaR1jptZWIBU7wSvP1lA7geSZbIKUagtOJI8nBTmPnDdKMlicCYHyT2RhEbQQ2uiE4Mp65qTrMuzds95QiAWKSU9d0+xNC5lEYR213rxCgHARAyB0D-S5CPGaUNhxErUbnAcQqEmME8BDJDv4YZw2Dj5BYvqEY+R2KjI26siMYk6iZCh5dO5SWyPYpgnsDaUYVn4NDnxfLVJPuw-BLScbUdw7sicH88EH1Q4QdDZHqmsO8AJqTCsRM-kY9AthknWrSdk7acjMbZHt21Sp20CxRNtxznHHTPHbJ8fOQM6gQz8mFKLSZr4Zm1P9PqSufNLnrNydBqIwxEjfOFqo6ZqqsJmB61VJ4iRJijbmOrTjDi7lNhBa8cG3xnGemAW4wF95sLwXhfc7sNTMrisVYJYygVnHdgyZs7MfT5q1RWsIxF0T7rN71d018ZrcS3MWTK9iAbmD8t6eqZm8gCa5GDc2AsTNvjcOHFSNwPNwyC2zeDlxhrqX6JLLY13Sxbb1Y7fQ41mYflpABTUaFcKkUYouzjvwTgoBkrDbw6kM9rdeBxt8aUPwbb0xYTlhoWIAyBzReEWtogJh1ofuCL9zwCppHkHBxQSHTAYsA+CPO0VzZIJ4hByoNosReCUBTFj6HpQ4cPskA1GRIwgiEmWyhjR3j-uw722lqQXBUjsEhjJx81AS7cFy5xDRCWzEOEsTT7nPOZhtvlwrqQeahcxEsySGnGFx2OliWbRjv5jaM88MIXLCw0ldzE-zkkJuzd3h2BdF0+YhJQVjP5doMPCDBTChFaKNBnakEaPYN7KVFs9WbOu52B2IZHe3VIugZ3tLIxbSdvJXQbILEVTZHYzFWercHWeYd6ehBJ+V18GPhuRyWNnWnhPpeetROdqJrzgyfMbb8917jftbXqBHNu6Gq3tnDJmWsU7jeLszA88hof5ypnSDE8l4QSeiZ+UH8bYf0yrnj+41GxD5WPn4vhUn9axPIZk6DzCtF3zWW0-MsjJ3h4MqE5RpuQLwY+WZOMxzO48PNjI3z2NkL01S-ysy5R8F3xRFdxLHMgamALFir0qh6UALW0fA1UJVAJZS6AgIaxkl6DP0tyY3gI5kQLvzLGRmIIRkQLwIJyLDd3IOrlEyqzF04lnQwKZTjiX2wMgMbCgKjyqUryIAszH29iXQR1ZlGG4FEMnyumz142YgpCEMM0PBpD8EEMNmULH0XGkO1AElAH4PcToHVBcAp1PjgQPiX2PDP2YNAT-3pz6ixRlCqxAI4NZXVhoPEJUElUvxsJ-xkKeGujZh6R2FjVzjmWMNY0CCU1allzQM-1cMFVL3F02CMJCEiLMI4WcEsWhWYOSIVzYJq2ZS4L4nfVAGgLsLDT1xJ3fh3i00TXawzEshfH4zqJGjsUoWpWCPk1nhwU0zIW0zmwi1UQU2YFaOoHo2vlAXFx2EVQygMMLk61a2s3Wgag5xlEDQ53cJRAahAjOi2giNMOiPbEsQ51KIaiUMjmjjWD2PUOEMMF2NKIAPX24A53L0eD5zCMFwHGF01yXHVC9D8AuOzmuKTxeWbzU1G3TW7wfWsSiweV0kQJYLy2eNyQ7zCxyxV15wazBKqXM2UNFy7waxWL6i7hlBQIsw7i4W20bxkgswmJXF-gpOZXpPHy7iT2Omri7j3zyFExGKOK2yhKJIfTpPaIY1-j5LGJcFFMmO23MhQIlP6M4SYzq243L0gI9EkHPRbxqIyME1czGyFJRBFJY1-haMVLaPsVOzlOeLNPMJ-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-WaqatOratg9rYzAQ8xR-dhmkudnyVICDyxkvc0EBzxzI6RoI6D26BIn1uzFGp2tJDJB2tJ3fcYE-bHwOd9ao9OCBxPaEFJD-LEvtEv3MSWkrQ3YNgNQk-Ml-UVTcls0CxfAk9AGVh8m4DIbAok5EAJgPaAW04KYclPRkIWBvZU4Mj-QU9K1nYA7PEXfKhXZCRk4zB2A05jQ2pm3nhU7U7vAo3ti92udCzkW0-Rt-WY7ap49cAcCWnrhOxC7OrvGavPcOtY0cX8-W2czCwM6GsS8Mh2si7E5vcXDi-nRKNaty1pCs-kJE98SMmJB9UrQlbkFE+i73bTrlg-Bg9K9k41ea9q8wbUJfFi9K+zu06a8I4VDE5kOa1Gq6+lh69JAAHJz3K1GPlv72L2tBxqJOhPeuJuF2RxpBfFQUjvJOe17Yt2nx64TvMW6WMyQg2ABr2gBrIpXJM4qguwBrgzvBaQ2up89uiPrvDvUnUoVQbuG8CvWuNueOb3wfs64eAeFRwejK7WHXiAnWzwrdpEagC149eBJOptPOi0d0evkVCfs0-AMuRl54d14XegDnUfgx0fyAUhECZkceqgKPLEd0-vvg-PjYSehtkVT1MUWM2NvY8fefibjLeAjKbvL5nsr1sfwUqhJfT8393P6qifJf2a4DOzDqZRzIUvxfKMqfNsaepEdbH0ghleC1U420ZQDn5e7FFf2eVfBK698f26KD9fo6LPMGevmJX0Yh3f7e8cG8qVbePuhY+Ppu3pfesaLOCHA+Q+7eY+8cNuNEDeLPGfHWWfMepIquAiaKE-y46epAGf7WmeMe2eo+Pe8cde4+S+dmraNWOfGB0+q1Sjyiz8Jeee-9kZhefVje0uBfLfu+X8u6ACpE5jTbC4g97A1eYS90uygrBf93651+07q7j0eb7t-cZfqf9Lg9H6lyZo7zOCl+6Or689LeevUK7-eMd+pE66-dHsguKgL-WVvsqkI4uwRpSAlAc1MwAMAcA8KlvECgvzH7494Of-CaLt1AGtoPuLkEaJsR3QgV64X-bnuPyMpupWAKkWGBNQ0w0RrKf4ECsxBGKSU-wu3dwPgNDojEXidA2GOeXri0D2AWgF9mwIIFI1f4XAjgZAKAR8DmBNApgUjQtZ8UiBvREgdpWX7+wI4coSgVvRVq7cI2hgRQV+RkHX8xKnXPAewMIHqCpIDeQyoGxBgZsKAKGXfnxUBL10Wy6mJgEkHYDeBpAx4N+LwCWwQCu6kgM-Fun76eCZgqxUQesVEEsAXAEgywQpWprA0hBmgbGrCx9qLAG6QsKBPYIe5OC8elPBSpHVRBuDGBegngUxmiFW9BIL+M-Lfy95A09K2DE8nYF8Sb9x+fgNoDkIf5e956ZRSfj0mn6y9zIetYGo0PcH48jK80fQLEFbQ5sBcHAFhmPjoC9gJhDDVOHQDWiyDbUoNdZD11mGNB5h-IJEND066cp1k5fYxpB3UDDDRh9gcYUWDmHfsFoIw1CPsPLaYl1hmwtxKPDjgOB6YmOR4XMhmEXCNhQsBYWdwNTTCTOoAT4aoC2FN9dhasIEQcKyBmNWA5id4aMR+Fj5QRCwpEDCNtBIhImQwxaJRGyDrIm8uKY4biNwAzxsYwrHHH+2rikjBA-OdJNcOI4nCXmRATFM8IHRki6ROIpaFyIBGSEeRPXOQop1eHWt9AHw5EYYB6ScpiRWkOnliPGY0jCOucekcMMZG4ig41wwRIfWMqmUWAEMWCMSCApPtcQfgcRECk0G9AAheQoIXkJCED1KMig4wVEMCHnQCILoHrqoMkHXgQRggDISrR2GKjFATAQRhpGiGIlChJon0UoO1pGU1I5iFwMGOSpqQIxZohSiBT4rwdcAT8aFqmwCKkhMxQIaFhtw+RHA70yYkQD13TGaleMoMLdG+hzFSAzMJlT4nqEXwGirMSY70SmL9HViVAzEOscrGqTMRTRwI2MQ4HjGCANIi4N9BiMeCLhhxM4zYKOMDEJib204+4ZxHrjzj1x09OehtzzFZjHugwrQN4EAFSlpRSjc8sxG8ZyiNGiqW6ufz0CWpW0LgOAQglfHOA-A8vDsfL3NFSAGoCYh5OKFNwyglx449SMlS-GRj3x1APwNuPog-iIhWgyLOBMAlM4MxB4ovg2MCKjANuiNE8eMS5HBUUJdue8bmnwFIDnIxxO9HGN9Ha0QKXIrHGSIObi5TR1VXxsNUSBvA6gz4iif-3nisSgo74AMcazUoHDFqKE6CaKGoljjaJWoF5CeJkAjAtWlZcxDKAAAMOrZ2FaCijLIlJpwrNOVHICGAZYektoEQFUmEhvuyk8yWkDapcgOS-sKybshsnSBdu0KbSepikHGxFBTk8noZKIhLDHQChEXlUN8kecL4Rk7OseyMqyBvYnk40CoFYDjAlJx4BnHpL8kjQjJnFJarpMUwZTxiRkuqLbSqTHDmAUUI4CEnQF+Dk0PgiAT0gWDuScpDA3fmFK14RSjwXRDrmv0f4BVmIpUpgOVM8AhI6hXvBcShFkBlSKpYFHnnjT8gz9F6lQ-qYNJCRWTSJFQDgGcM6CsZieL-ISsQLIq-jWwJUiaQNKmmjg-B3gr9HJIqFeDNwxYymkaJIHXS-BHtYVFGUiEd16C9EVYtaO4G2iwhsk1oa9P9juBYhrow8IHQWCZjiwgdHYEtKmmhjeBRQ+SFgBIjlEXplQrqU+FHDxD4ZQ0m9tdN054yQkqFKXhNmhmMBqaPQxaSdOWmS8jKqg3UcYgRqRxcQno40dZUBnElNo0Q36aHXEGhUHRiE-ApuF5mFMcwaYCog-kIDdUgxE45KojIKGiCG8cEqQD+EBn+soCJQjXuphzq05MSNgckEbNgJ9ReZhIUMQLPtFHANZ9+auGLL3Dgy1g9UxYLLJXGUDVZis48uGNRkkQ6IalLoh6IMG10ox0kLWSLVfxZANpYRFQPPHVl7SvJgMxSobONnAzsw+4gsYeLDmd1bZBtJsfGyDk2zdaJgioEQFdnyy+AvYXgMhEOmiUQ56EjOZhPmDqIMJRYg4CWN4CVzBQFY0ihtxrFfoO55YobIzJbHk5ZEbMjucc2rmZCexusquYPP3bDyIYo81mYiCrnHNew2lUAMnPJC9zexnXAeapxVhYy+AXcobKXKupyzwJYFAeWNKkBTjBQt8yQOfIVArjX0dw0ll8FfQPzVZjwNSnH3TneBM5c-GJCoCslYwtUbNECu+VTQYIIFQKK8kpJzSf9qA08egHIlWkYD60q0l9k5M2IYLAp3aA1IexVDYLgRZPTwOVMaDJwoytIDblSnEgpTCRZtJHAqAkRgKrJn44Hl2WEmcKHACoGuQ1Gnj6AXAVkmULFKNjxTcQiUotKtJkjnEZZF8u3IbzvDPzL5GkSCTwrgkihUFYWIRWkVWmPzegCE5QUhNUVKKLO+YwBY3NkJBEn+6+A7nwuSmKZNieikRSlIxF4S5ABE88WYoKRM4okCkoqgAAkKWTAAAEohQAAMhS2QCEguK6FOQIkFykFJpJigLmQQtoAxV8BXAVJYQGBG7QQhHATgKnCsmWJQJcfApUcBXClKipZ-PIJUtGDJLLE55YJaEoiXRLwAu3ApdkuKVCwal5S+idKNOG5txcBSwiT0uvSchb05SwxVIAQXeBEoXI2kAcLGXnjLOqSJSYsulG-cjKerfpbSJkkhzzyDEhUcxMAiiLxmw1PVmwqUlOKyKoEwGWJMSUSN9lPCo5WtNOjutmAN3bgBopokhzlRi0Y5UMtOXCtzI6Yy5WWAYlxshYnwl1mWEtAx9kBVEv5YctEl5EbxiOP7E0t+VcKHl7y8vGPR5EMz7FPym7rJMBVaRuZ6IPYK80JC7QG4J-XFXwobykhACDio7kLQRy0qiAYM1MBDKGyRwycimMlcDwpX8jeMPKotFgOZWndxV0oj5dUh6XGg70knWbq+mMA6c8Y3RK7mrDfSKq1A7QEAcisykuAelMHE1dQCsI6zlVbMySWQW7p9Rn0hICZTelWT2rqagihQLFKLyWqzx1wp5jzlWUMj-gGaP1VsuuFcq-mgQeUO90onOAI1wwvMmWGYiSS-AmKoDtdmZKSTKVOudGXwTqUVBDVsgZJbaPNX4LtiFzA5Y6EJDaLfwYWWRSiDPy2rV51avJZXWt6AYKqLqy9JMoVDTK21rQr1Vmp3hOSuRgatLMGpVGhr5lDARNYtCjW9AAge0U4LOvnWxBk1GYZiBwthGRNM1Pq0tTyIn7hyH0VgYBXkEQFOT2gvElAV5z9WScwF9q+sU3MvW3L7VG3RAZJItXxqrVCAtgEip-VFon1D6YtcasA1lrL036viXkrkV9R3YAG6DXsVaVMAAAguAHAAUswlRVSAAAHl6WnSlEMhrQ0YasNuG-DSBM65prd14zeDTeuOKPFq4pIFkIJyfoXr-1ySu5ceFA2lqLW5alKbBs2i0bSlMoZDe0piUyRRNUSmJRRqCo7rMVQmpSfjkqFMbnURlCVBfgVAihbm0OEvFAv1SSES8u3YAlpumh48qR-sEaXhyqSzoTNZQbAaOnPLNCrNZqMujlG016IzNvIsYIZtY0VBgCbm0zbpoyWWacFBSSeMoHc1kB7N5m7ME5pfZWhNARKIWD8qC1ISQtRlLTZQCSm2aot8qjUXpqZqX4ctCCYreDX+5ErpRG3TLUlJs3UBItbhUrRhyrqkrgeqBelGJnq3VDCA9W7AqjNJYVaNRLyZdWSAe4DV2VN3W8nVqy0watRbm6bdwAC12a8twwyTq5oi3Q5FtUW4EYKPa7CjERn8SYRKORIz5vlrW-zetrKALaLtW25bUCtoizBMVc2mrWFt3jXa3Cm22-Pdp5wDaVtGyYbUxukBjaWtfCphhFum1DstJDARLatiVwAqeRgy64YxMEBnK7wEKtRn1t1D6bvNwOo7lISh1JaOVviIHLMvIjHivF-qlUX-OKB6F-uni08ZSonrU6yIMxNmF9vpCK0FVj0f7a9yB0nbCdPqBLUSgh24lilQHVbFVKQkoFd+jNdtsWwaTdsK6KPKvnn1Z6MlyOcOhVcRDlogqmJYKjMGjqJhcA3ggQY2E5D5bmDVs5bYbl31kmPzwKlPdRuuOroDhYJH8uZb7gezaCggUCZuoNR9k07SQufZnqrsL58QiYCdMnfTsIn+yXO2E2ukTB+1AqudMawPcruD0F8jcvOz7KdpB1+Ag9NfV8jq3-EvZXtuUFhjKAACc5gZ2MwwYYM6RKNe1SCw0pUsBzEWMPwHkoqK99ARQ8Coj303A0ADIakjtb0Fr2+JFui3YKGgGn2LrPpotDMGPpvZqBkZo+pvXXoYnaJMYDEoOA3hoApRRy3QhaZIDH0t7N9XNPwDCCvRj7FVRwShdQv7zZwjVt2qlRksT2xBk9+jW-Qw3v0Oxgo424Hg1woXf6gy1ArUXX0J0adCAy6wcA4FpiRxqO1KoIHsBlDO9GgrvOvkYAsSm6oDA0fqqYB2VNrNwkOaQHAe0QVVxZKKAsW3QqKL6DG72OvqABu4Xpl1kgZKIYzMDPqQRa+3xJFzJXag2hJ6uSFhBzWADgBraf9WPj2AOrZgr6xTNeq-Wfq-Vk5Y7sjKwjEHSDQeQzoSEoPeVXII+qQLQbYPvZJJwQCQ2wFDxGH0oAhzugpHaGPBDDRhlKEwbtzbRHDyUWfcfu4MM6ekDElHYBAN0K5eDrW7cWbong4JVsewW3VkBd1vQzG52DEf-scWRGtoke7xQyLvFMIi556vzf3RCB0AoomMVgMutSl9RkDhIVA+gdT6q8TEjASAywbwMEGLRfUPinsUSO47kjdOtIyqIyMOTlhBqFo8CNJCRRkJiQLQJ2P4BmQSIueGrhAdCNxxwjxsZI2K1IrYFojDuyJudi5iBKQlqG9DZhuw14bYlcezSbSmeV0asiuS9JaYqyWQbylPXbpZent5+qylg6jbg0pXCSSHovmmgO8fON7IWlOx4jfsbI0EbC1PxuQIUqN0Ibb1UkgZRkqnWLRIDRSvtal1yWsrJJ66s9OAZ+WLdXx3AN3QAB0sAj6sYULFEO4B2gS0RVCo1MZw56Ik+rBLAYRqP1sTrW3E8ivxMfyiTJJzaa4CAEUnpAS0ZiPgEHAN5TgwpvwAAC91WoAIk4rlJN8msclJ+3ZYylN8QecDJ0kOoeZM9Q6IeAXI6KAKNPhcTCp8k8qZyaDdLyExx1ANWIADVHuJgRbmCBsCsnHFJp3k2acFPhNLTn+gau4FtP2nfump9KEAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vojgzVBQfQHvg2t+hzZhHHRSfh9S5uNiEXoy0haO4GPuXE+b+nWDmdnESfwXwTEszIyGCXxvFX2zXX0GwcUqRAKbxb2xzb0C1iUcQlSlmv1yUcR3xcyQJHygM9zl2Z3gPfSNhNguUPnrxmkPxQLD2lgo3NXBBWUvxOlNmcy2W7z-1yT+UuXNlp0L2TzRHyUCBkA5jxF4M4n4NIDeUIKlxGXEI5lJArzR1kIBSYOEOfwTCUMqA5h0DgNyXu3PQLm0NALfS51bxP3QPBCHWIBwM4ks3sLRUb2y1xzsNMPBG4BHTUMG3sJvQ3TvQl36xEOlwzRIJtz8NyS1XXQC1tToMXxGF8LtzR2vSwOtVcIPyl1Xxk1SPIIRQHWRUhTMISLcKlyRwzzyOzw3xx3WDXU7S0LKOyITEqOX3vTIOMMhy5HI3MIsOSAOSP2sPD3bzI0cI8nAJ6IUN0IA3BDGJ8MLmiM4jo2APn36PCPaNw06MV15nXkXhKzpxaMsJD1QJsPGliXwWoCXmj2kI8lMS4L30SNd2ILL1IPyNyVqXnzNxeJX0iLXyWI8mqVqSIFgSOIGIDWRxBNuPMCVV6ShPKOeJGChIBPMGvWBP6SeMDBvGRP21kEO0amalOzagu06m6h0Fu3BMOWOTVmJyl3-nEnZCOV1VR0G0swwU0Qfyjm4EU0o3JCCg8OYVYXYT3m8PNQ5O0S5NAB5NlRqIKMFLYXkQwRkFpNaMGIYNxxkCsnlOFMO3GJhMOzv3DglN0RVMDD0IkM1NACkJRMSQNOAOVLe0ULEP0MtNUPeM4lMUUXkBVysVNNEOJWUMtMMO2ImNPSs0qSizeF8T9JQzBHBGs1rG8JUHoGjJtIVgTOGlehjLmhOMYJqwYisgzL1JcAzJ8WZSzMdMRIiLtCzKMLBUcC+HdnWjUw02ZTM0lwTBvBlIVzuNXX9iNOKSBkrJTyX27JIwbPwGMDEQkSNN2UKD5OyywjkC-163OEbHxz9n7SRTMW9KlkZEIwpJ9jDOXN+hFxhWvhjLJ2m3PIYmqJ7JhKNKN10SNOeHnLjCSMGBPMYndLuMfKKS-NfNCLCJvAApDN8zVjkWxx3OUU3WvPoj1G5PWE3KHI7LNMmjEHxyMGvPCAZI4HWkwtPBDUaSwjZIHLPPgoGSlKQrU1HWaDwowtUCwtS1gQAB5gR0KCLOgiK9YWhSBzIIQAAVG6I8ugXwQQahT7a1JsPY6gWoZocEUAAAamFWMT2hJnWiFBTjPPCGUqTIUuUvcxiA+HUrEE0vzL1CflXFMj4tfnBCEvwCamIEcnErEEkq7WkoXlkuEHkqUpUuMWMuezMu0t8r0t8sMrUsCpkBTkIv5HzVyTyiNyd2myCyRDRwzhxxumxHbJXDAT3WpjgpywsqpWEk5zDSYo+m4rQn1imgyqIFs1Us5mhknOexbN3LbKBjwxBhF3p3N20vCtmCXxivCuaDys2OwptBrK4psSdRWAHAznpw3MKO3K9JgvRgbWmCiXKueislsienKCaS0UyW1FxWfQaEbC-MZCVS-MHOmh7X9Gy1Gq-KfN3hfJ6wIiev-JfL41YnJECmy3SvRCyr2zis4im1SyStS3gpStiHHMrFqqBrK1OqajR1GvIsKtBKNVKsDS2osvNWqrhsBvqrjgrkbJaugp9JussrQhGumx6qXz6rjlKHgnN0Ivgs6vllGqInGr-HMomDup1DlXxXmoZMWq3NxHJqlnWo8xss3BFx2roD2pEAOrOjSV1yOqfA5UNVjHOqNMur7Oupiz9CCkesfLPJeq0W3QarzD-NvPNrOmmsdUdp0MDABsyspq8wOwLQJJO1anOw6iuwwEPIQRJmIVQXQUO0wUxMpKGNOJ3BiXBCIRQTQWLJ4BDqTr9iQQXiCNJR1m4QRJHJl3d2sS80KjTpIXDq9sZFx3TA8LmCTNiDmFXEtoaA8I5HrpiA5CbqUw8Iwnbp4A3C7prtmPPj7vPkHvjlmMqKTMqOdGbqKA8O4kMAXnIF8CTMXuXrEsVDnsKA8KiXbqiVjG3tiA8JuHxxqRYEMG8NPtUHPsahWCPuGVmMUr7tiH0DVm4F8BwoAD5QB-5lLN6H7YyIRPIX6Yg36P7v7f6vJQAAHu7ZjE1phwGYHIH-5IQYGYhAGPDgBQGDB37kHAQf7-4wBYGh6dxwQABSHBpBz+ghqB8h9B0ATB2Y8SF+6hlB+nT+uBshgAQklFYbwZoYBEIdAF4aBE4dIbjJYqoYEfYbYpiHEYnrIZYoBFAbYdof-mUfkaYbIa-ukYgfUdAB-q0a4bjK-pUe4CKDUaEagbMeMYkYhG4ZwagcKGsZiG4diBpPTAKgE0TvLo4QLCfMBBXFf0gIGG4F8bDv8crW8feAEAidIVEXwBYAACsTBbUgmVgQnkRaGe6y6w6kyS9rFAGih4mK6Cw8jIofG8nSE5sRMgGPCsVagkzGnUw3qragHwRIA6BvRjZV6LGumenklin2mOnr6GBYBIB26xmJnhn2mT6qAb6ABRPusZxZ2Zq2jwgAOXIE2Zwe2c2fZrjhiapFKeG0-TPIyemCydofN2VPCeqb9lqeObiYebOeA2vkuYaGuescKYvFTqQXTreYSJOHvJcHwUIVeaVKgRcsYJjPBYYGqHExlFIAIRauSfIGrCLRJk0CJtXFOczo4ClnZj0QMWoVhaOCKBZOF3jEIFatWrBBjJU3kQluZSGXnhnX0FOdETRvCv+dDpqdz20raaKHZZEE5chYNKSdSdMBhV5dOfWwvOFcKFFsRXFpWp9Pl3XIJzEC+BYFVnVb3KBGnDuhZeFjTGkGRsrsJN9vakuwwEDtBeTPRgoFMAYHLg+HKhuFIA7lq2zNSHSC+03BL19apqRhLxvBDZ0tiQYH0oio0qitCerKyEjYjQ2Ijanz+FisdeYRuBzk0S0FpxMoxvfITHIGUGUE+wyCeSMGgXLcgcamUv0DLeUHp3BAUtKDbdAHkqsl8ubfWb9DbYWKLehJcHNkoGSRGhMqoTvmnauUkCGciGggXKlwCvWhCohF8pzedmMHzdqBPWxFvjnfHZ6BgWwV0usHBDTLHaRUjgUCbeoT9YhKyFviLg7bDV0hBkJQAxfdAEp2UgJX9expvBffCH+zTfdxA5EfUmKHhBXFKETfvaJ1bZg-uSdcOTLZnHddii9Y7hfeMmaAA5qRkuuPhh-b-dXFZ1+nuPNgIJA9HQ7Y3eUuvdxFvYQ9qTo7CtXAUtjff0vh9UwQCfwO4MQ7Pb8oHdiV8uY6YDIDvZL3Y4fezSUrUXhA-azlTvnZTkklBCTNvnuY0+k9IEEiLmziwjw-HmY4hF7qTQA3NxfYmufYU70+PYM8ElTaBxMpE7g9iQAHJY3b4QrfPU3V3TKE2X2r34gkVy5SAU4ouaHULwSyqzpA2EPYv+2rwPChBhA9Lgg9KHIdIrILRiw9KjkOB4RQ2ihSgLPzdUv7P9Aav1PnPb3jOGuJ3qvaxovZkbx6upPUuwKXB0XMXlBsWZxvFNYPBNk+lH3LiSOcYzZX2OnpuqYkzqOaDZuNY0uYgQmBv1ghvqBNAdUrlxu3Bp3pl1vyuglKPho5uvOPCYOfDpsP9+O5vmuzY+vQBYv7pf41ZDvK43BJu4V8U55iP2ZnuqVzqDTuqgQVxeOxcqODShOdZnuHVS6jvjBscYF4oNA6v2vB0f5mBvuxvfuYVakkfDRNUIfaaGSE6NxVOKv+6DwEPCfNlQ9T3v8fjxXUeWepls1U3uXKf1IR6vOme3Aue75eeKfUtW3tusW9uRuGJafvYlyJePolXYgtuMWdvhuDvhfieplJvzv8N6follftrU7Of0fufH19R4UnuzuqV+TZi7vv5wa+O2dSf9UTqyf-qNYiMQaPJkkSB-v4uFZ2l1uvPzdruVhrL+KzZ5b4kv4EfzAA+HCR20PMi5vhzwTQ-CB5uuyw+o-eKY+NY4-P4XBE+XAozrVBdHXCvtJypKB8AxE-YBgKhBgM-g-k--uqfa+dI0yW+akRe6-spgD2-l2qzAN0Z0+zu3vwDqhuJ1p8ySZxR4LzxM+jfF+a8uBCrzw0yWA5+WraseN9-1oYzzc9+jYT-d-j+xAotz-5+kOO-3c7-ntU-n-mzEXrratuAAK1+2xPAv-jsFtNMky0GAACMsgA+2mvxIphk3+G0MAQxFmSgUqWOxJxJuFH4ltjiMdPMrH1iQwc6yHkTSCNhoBPIcBX5bTArQVLY5iYDAdQCIA4CkB1UOeQgJvHW7FU8UBgOaMTH15sDG0sTKUtf1ozX8EWjAA2sXwgHflYwQUWAfThaZ41pQitKgbDBoGZd6BfSb-i+XNTNBcgzAo-hfxv7VZYBDtOhJrXYGEds+6KSQYuSjTaCU4EfM7twBsHtFnu31D3iYKRoYCy+PvFcGxDH6BhHBc3N7sZX6AKAiOJAeRBUBhi+A92hgNkBEJXqh5DApINfm0RiHzc4hUQ7HIkKeCpssIvVKQqrzAb1tDkwQ0IapnSHRDihp0BCEYHyG8tVK5QzIaSFT7VBI4HADFnVkjDxCbksQzoRkPmhJDg+KQqQl5waH9DshBfXIfTVqFoQngtDFoWQDaGkIGh+gUYVkI25+hZh1jIIVUKIhSEs2jrbYSEJkAwxRoWPGJMWzCLHCqAciElIEFOiTsShWTaFnzR-IwkThNww4Q8NOiPsyqhw+bhOgL7zCUW-QJYb0L3ZpxeqlQwSEq02E-0rh47SaLcOCFfCQhsuO4UZ3wHgVIKCLJaJSFBDlkM2S4LiFQHUEW0cE1GAQUCFgHCD+ybOAAUgI8H8C9BMg8COOC84gCN+y-YkecQAo5DrhZARgKfX4jUiDB1-WZE7B5Evk3uvESOIKNCiMVeI3ACUaSMgHB8LqVPGQEmCaZic6e4ITUXsCaaptc4nQTliSO5HhAvOF1GIG5yryYQqAFo8eCAJxFvJ8RwsRUdyJVF8gbRd+BnrxHCCU4Q+UaCUfNxlECiGAQoxijeD9EFDnQN4YMTGMVChikg4Y+UYz3tEJiGq5ueMXULQgAVmueorUVl0CHPYOADfRbFCLfqXko0eDWEU0kDSYiK+fQPuDUkYA98dYbY+gNwA+7uiPuP-KjAJgjHhlXExUJMXKL4iMVuxZojsXQG4A5i0IvYqUb4NEjyihxgiVtvqI4BZcvOAIrqiWMkDZRPhg4-xG4gbFlApyc-dWKaP3xLiFYwXNMZnje4XjvuRIL6FePVSNhugjIc3H6KywVFbROIcIB2xg5dtQA3QLzKWNAACUAAEoswYAABBcAOAEWYAAlASpAAADymzZAECAPKOsZAkgNQAPy0jHpRxnomMrwHPEyg1YV42UfNzSjCCKgasFnoPxIn8ikgzXeiZ0HFgsSGoaZTiZkCInFgGosw4PtBNgkISkJqEjCVhL4mSAGJ6sZicROEmjiYy9Ez4U+IYAviJCKkgrjxPoCeRDh1fMBN6HR56T3gNEgUWRLX6HD-YJwkJvoglGfYCGO6NQCYC8AtjBJQ-HGI5Msj90ERSQMiQUPwnjjPJrE-yTOPEH7CIJJXR5gqUjiMgAADCCzAQ1BHIVmDIM32B6xRqAgwP1BlMVgOB4pQIGKQVMn6kBfKeIX8QmBKm5BCpZANMpZlSmoDN+nI5CHEHymLdspkEG8VhHBBO8sIJUzqeVBym1dI2b3QID6manihUg1QbIBlPfECZBpWU4aWaCaROV0pRWIadlBynJRyQSSQIH7EcidAO46A6lJzi4EZ804pQRqetMP44ClpnlGbgi1TDQYEEUaSPn6Eq5Rpihh046Qh2e4ZiO6B0hgEdLYAdw8+OfA3ipBaBeCZqwFYGaDI7gxTTxFQMIaEAKRrdCA9EJfm1L7F7S0cP0kGX9LrBI14UF0iwYjiFrtATRAAh8DwLOk5EmSd1VwU+nNTUZBBegmkQbTInMyGZCYFgCyPPwahDKpQTUVGEMrNBCZiM3Qff1v5GCfq0EA1PTOdpZ93pDoqqoyWIC-SwZ-07BGByll-SuyUMtTmLOMD81fqN4g2TrICHID+oEFVTEKFDiTl3YfwVqUSNPBWT+xfA6QVSKEEf8By9IxcYKHxTSDRGwSCCFLXWIOBNKKY8cTLIP7OJDBs4kZrEA9mRSKWv1XFGTNhjmUeEDVPAJCELkrgKRzI32ZzP9l0jOgPMjFNllDlgQhZtQK6dKBjkRi3ZXAOcUyNlmii9B26aCH3OtoW1oMHI+AWwGrkszre+KVGTOlSDww05gci2q+QLlFyVgQUAsQaKLGZy3BNcqXMPMJFb805DIrJH73MDRyoqsc-iIQD3C-g8ZjI9UepA3GGjx4a8zcQr0N7Gisgl88JqSEtFGlvRXAy+erKRhOjHZrCbWK7M-k8Br5GgwEf+MIBJD2R9s+RCAudnUBwFv4CBT-1ABLzIQ3orCAAt-ZU43pvo7+ePFPm4hW5UY6YapSjGkhAZhQMhefMYrfiqFKchoN+NoUdyVgeY1Ns-KaaPjUgMUkaI0Ufa5k28jRQshlJTpvBoYFEnWMjLX4l5kZqfEqcAXkWDDAOyOaAu7iUXzcMubAI6b4AORMlYOBfcNtovmn7CDcexXEM7EEUxSuxOPO-OFIcVkBcQN82II2Ghgw4NpQqCaVoiml-AZpOMZGcxgEwMLjxxUNRAwtbmTjnFc46RWeGE5eL90yMuhQ0AXFACbx4SgRG4nXGFjX5Y6OsS0gL4dI3WOPOaUVmALJLGAqS81E2R1b7jyx6I-QNkuHFRTJAkEmCQwGQnWQAAMos2wlFK2AyUtHMFMIkxTo4pEyKWvwokZ0qJFk9iV53olPjQ8EyhZVglTb8TJ4GU6OKny2U+Ldla-MSd0r6UDLZJM4FZdjjWUqTrJUI0oWK30RqSKxGkrSesvWHOh4yGUgyVCPhAFCnlzSvqcVy+WGTLFaOeFtcrYkRT3FKstSiUPhH2SrwMU2hjunha2KMpFSrflMoApBSCJN9CFc4simnj3YLCIrLF2x6uKnFsoz0UiO+G3L0RtkqgAiumDqif6acGyaK2xzLDzUJk0KcJNiVUrIpCY2seCp2XkroulKyyYSp6xPU-hb3UpWSti7Uq-h5IgTK0GyZAg0oFuFJMNHq7gh5VOPdWusTVUOBBZISOoOPGJVZ0ylrisVT0BlVQjmuxqnGJXzvT1d7V6I08XNCfHig3xyQ1IHeO-H2jQOv2GDDnMDUPjbZ5gD4MEGb5mSaRT4ptmZOrSA8gljEn1dOIplnUBMn4oEC8vLCviM1d1TxYkAmk9I41hwz5npH+XIjugukpSfpJBV3UioOIOtUJIbU-KlWpnMydwFrEVs+KkWacTSqM5W8taR8g4Q30CA+L418ytRcFh8aQrGQCS2RfDBCXkh4U3q8BZCszUUhs1fgRkHmtxCviVJRagTH2tLVTqK1AIQytWvuG1qMCwKn5S4NiDNq71nyjgN8vRGilYwA0jKT2sgZnrIsJUv4d9SVlQRzgx8sFsICuX5TggvK0jkmr9U+LE19arBDqO9j99BFGa1Nv32nHIa21WCPvlBrg04wM1OCaNZOsHWIsE1haudXwOeimSUNdTY5RJJQloTMJ4AJiMxsQmsbpJgyrtShr-W0N6NxGvIoyPBAYhL2rwyDdBseCzrCg5Gv2CVKo0zr5poSujWwBk0WxGQxynpf0o43kgdNpyvjVGnsUGBIGwmiZd9VXkSb+FS1XEG8GSYR0ZkiGsqjMjTJKoHN5CPpBcJhV2CMSaZa9J5pRCncMSa-CGXeUrx2byYKQRzQWm80-DsabmqTU1D7KL1YtpgeLQotHL1JlFFsSGDFvIQhafN6xcLanxqBiAho2OMlc5uD5+a7y2begMk3wCzSgtMrJVQ6sQ1i1DY6W5eK1oSI-z-Fhw1Ng5ua3BK8t3WwrRPx60DJL0+qm1R5sa1ea+tM23NKpXdXBD9hza8EJlz0pzbouSZEbdUHNZgI0to2lYQVuC3taPVnW1VtFsMA9adYaWwrf8MDRucypiwjoZEPBFXg9tEiVLRdoy1PbgtiA02g6pQgNBaxp22adeiB0ytzt9257eDukTrbvhBmLbTlysi-a16MW0bcdrRzlankhicQUOpjI2T4VWPfRCyqwCrbBQGirIL9u9TEAKtBba1dF0Q4zbWF8mvcWWKHV20HwtgGncXGpDc6DxFY3kf3IIyBokdSIUHR6pBRba8uu2n5Kzr6ZrTmd35R1gpIrY7xTpMK2lDgMWo6skm+rdTG1TWpvdpeu3fbtViJ0o7BIk4Y2ncvJ3YhjIVOv0Frv4DDRCBEMUmDvHCq2duenotJQYErDf9v6dQzaqHrQ3tM4kpfPyTlnKneQJOilanf3MKDghLdWvV6GV3o7C71opY0Xc0t5FfIhlwrO3Wjv4AQhM9svHVErvkx+xYuSZavdboQEgtGwNwb7uvUiGMgAAnCcBO08RIhvO4rQPqXpD6bJxsb7B8G4CobSZKap9iNG3XjyGE+KFwAyQSmRzCgXelevoG87ecrIaAQ-YauX3KzgoY+nfZCPllb7B9K9IdQi0jgojqhHwWZC4B8jWlvBFs6-efsHR3LJ9stbgB3ru0b1TxnQAxUYuOSSYY1V2jbWvzt3y7K922-RSvXAMOFMdyuxvdAiQOGKmATJPHYNh14q6CUdAIqCeDIBPR3YC7L2VSFaCMgPu4GL7j9wm5hxjARBoqCFSOBlcmIA4NBKQHIO9MoOEkd2HhT1xsDt9mnbyD5B17vcceoMYg-wBiASH-I0emIGIfFb6cFVxwUAKBpYgDhB1DfJvjUig17tWgS+2IBhpg1yFcNOGuNcARMNPqYg3Bsg81WSQCHYkQhyxPCFP2qHwQEhpPdOMEBGHRAvh7yEoe0ObzWZKwbw8EZ8ixcLUgiRqNEZAb2Gz9G9XnWyruVMqrwbu6RD13KU5jvd6MX3TqqD0h6w9tDaaO8oZ2tAfCIuppciLDSwFfeh5WEu8EcjfZqgRUBaXwJoNAg6DePP+Iwb+7MGvdchgQLpQ4M2IdaWiOplUZqP57GlvOho1ZqxrI4vylVIXfzgcoRjns3I8gLJGghtIIuuIMlQUeIE7xqjGxNY7MhqxlHrGFRt7jervbdA2Q3QAYbRqpB1NNVzxssL4DdKMiRM9cs1fpCGUgTDAXmAg2Su84999ArCgADpYBMN06eRPoZkDBA72YaD+hA2wRoR99sSHg+QZT4nAIT5SqEyxJhMpz4TiJtGUwEb6onDOpohnrwBPCzIegWEJk6AAABefzUAPCZFZInscKJtEzcZgbcAuT2JvSLiY7xOHjANUVCC6j7JCBDAbRzcFCf5M0n-YQpgRtZzIZ7GrILAPSsoD0pZdJg3nNMHgGJM2rVT1JwU-Sa1MLc9K+prUkabK6Sn-IQAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDJ60-pacg7ZCE8yZItdw4imACEcPbVI0g6DyORjCdkdAr4ey9kbPwfCqFgL0RiAxRjaZsEaFY6u1VmBeBqHUS4gD+EMKbsPAuM1QYnT8YoqWKjrYI2CidVQbhUgl10YXNJXBpEMFkfPbh-9eGP0jIw3WwjiZMBFCpds2I8kyMjkUnui9swoKSRvTBRMZiklqdo5wDSpFNIIWCJ2VTamSOkcY2QhhilIP9ugpgshcBqK5GM6JeRJmNJqWieJ2YlkrLUUdZhEzqBCx2UcDBlceGLOJMs5Yaj0gbM2bzEm+wRwkG7jckpCSU5oOSeLQyjADi52IA7DZzsAlg1BV8xmXRe7V1UaSEFnzwWkj8GLLoLcqmorBcwNQggGAl0sQnKQtzswuPVpCqpKwLFzQycS3O1zSAIraY6euWKaXuJkQyolJL4XUOroPbFpz3Gg2JSkBUeK4VcsRQkm6z9RXjPFSoGeah0n8uZYK+V7Shhs2AeUhGdxKmqqYEE4gIT5kLL1YktegLgoWrqNkma0KnX7MdMip1GKtrBxxe4p15rKA+PkQoylZTXGmtHioZIvARbqgQdapOdqAVdJSYZWN8bWouryBoxpBTmmEA9TQKloD-WF1npoUlrSKUcojYa1x3LC6RSYJWyxdg2W1v1oq7gHam0zTpRqytvbeCdt+eGi4fby0zV5a26QVaR1jptZWIBU7wSvP1lA7geSZbIKUagtOJI8nBTmPnDdKMlicCYHyT2RhEbQQ2uiE4Mp65qTrMuzds95QiAWKSU9d0+xNC5lEYR213rxCgHARAyB0D-S5CPGaUNhxErUbnAcQqEmME8BDJDv4YZw2Dj5BYvqEY+R2KjI26siMYk6iZCh5dO5SWyPYpgnsDaUYVn4NDnxfLVJPuw-BLScbUdw7sicH88EH1Q4QdDZHqmsO8AJqTCsRM-kY9AthknWrSdk7acjMbZHt21Sp20CxRNtxznHHTPHbJ8fOQM6gQz8mFKLSZr4Zm1P9PqSufNLnrNydBqIwxEjfOFqo6ZqqsJmB61VJ4iRJijbmOrTjDi7lNhBa8cG3xnGemAW4wF95sLwXhfc7sNTMrisVYJYygVnHdgyZs7MfT5q1RWsIxF0T7rN71d018ZrcS3MWTK9iAbmD8t6eqZm8gCa5GDc2AsTNvjcOHFSNwPNwyC2zeDlxhrqX6JLLY13Sxbb1Y7fQ41mYflpABTUaFcKkUYouzjvwTgoBkrDbw6kM9rdeBxt8aUPwbb0xYTlhoWIAyBzReEWtogJh1ofuCL9zwCppHkHBxQSHTAYsA+CPO0VzZIJ4hByoNosReCUBTFj6HpQ4cPskA1GRIwgiEmWyhjR3j-uw722lqQXBUjsEhjJx81AS7cFy5xDRCWzEOEsTT7nPOZhtvlwrqQeahcxEsySGnGFx2OliWbRjv5jaM88MIXLCw0ldzE-zkkJuzd3h2BdF0+YhJQVjP5doMPCDBTChFaKNBnakEaPYN7KVFs9WbOu52B2IZHe3VIugZ3tLIxbSdvJXQbILEVTZHYzFWercHWeYd6ehBJ+V18GPhuRyWNnWnhPpeetROdqJrzgyfMbb8917jftbXqBHNu6Gq3tnDJmWsU7jeLszA88hof5ypnSDE8l4QSeiZ+UH8bYf0yrnj+41GxD5WPn4vhUn9axPIZk6DzCtF3zWW0-MsjJ3h4MqE5RpuQLwY+WZOMxzO48PNjI3z2NkL01S-ysy5R8F3xRFdxLHMgamALFir0qh6UALW0fA1UJVAJZS6AgIaxkl6DP0tyY3gI5kQLvzLGRmIIRkQLwIJyLDd3IOrlEyqzF04lnQwKZTjiX2wMgMbCgKjyqUryIAszH29iXQR1ZlGG4FEMnyumz142YgpCEMM0PBpD8EEMNmULH0XGkO1AElAH4PcToHVBcAp1PjgQPiX2PDP2YNAT-3pz6ixRlCqxAI4NZXVhoPEJUElUvxsJ-xkKeGujZh6R2FjVzjmWMNY0CCU1allzQM-1cMFVL3F02CMJCEiLMI4WcEsWhWYOSIVzYJq2ZS4L4nfVAGgLsLDT1xJ3fh3i00TXawzEshfH4zqJGjsUoWpWCPk1nhwU0zIW0zmwi1UQU2YFaOoHo2vlAXFx2EVQygMMLk61a2s3Wgag5xlEDQ53cJRAahAjOi2giNMOiPbEsQ51KIaiUMjmjjWD2PUOEMMF2NKIAPX24A53L0eD5zCMFwHGF01yXHVC9D8AuOzmuKTxeWbzU1G3TW7wfWsSiweV0kQJYLy2eNyQ7zCxyxV15wazBKqXM2UNFy7waxWL6i7hlBQIsw7i4W20bxkgswmJXF-gpOZXpPHy7iT2Omri7j3zyFExGKOK2yhKJIfTpPaIY1-j5LGJcFFMmO23MhQIlP6M4SYzq243L0gI9EkHPRbxqIyME1czGyFJRBFJY1-haMVLaPsVOzlOeLNPMJ-mVOpNVLlNwPXRAz0TAxiAgy+mg1+n+nSAQwgVcGkH704F3X9le01mDIYG5OhDhJiylzkBlz8FeMbx709RfD6TiHJ0pz1gxTyITKS2TKy3ZLFWjV2TJwpwF2xzDN72UXtXTlwC3izMrKFlzP7VzWEWMW-mlwsTWxrPTI1SOUbNAHWWnQ7L0SDRDVwH7KZHuSHL8BORVULjV2+I11F2nLTNnMHMeWHOeRjL0jhMIKN24BFBtxnKJHTlJCPJHB9VPOZXbLeXhIGERK7nPI6XrJJDZMMmvIhTHIqB-Ot21VfM3JrgbW4FfJxPcTBUxEjlhi+J+NF2hJRGRkXHVPPWAOiEoyQp0gnUMDQubxIBgsCX+1MV8FTNEF6GQurmYkwvthLKsAai1mYG8IVDQwQuZRlFmIDNjLhFop9nsUT2-CkjEMqJoHlgEskiN2VXQtIvpNl1Iu6EopwrrQuD4ofID1krjzUrECUt1xoEXDUv3N2E4H5wuXVxF2MwkqEoBNAHcGDGYsNOUqZFzk0C1mY0oQRQMm8Fhjcp-Az0aPfEfE0jjNIvcvLkEr8obzssYC+P8MkB2G8tcp0DCvdgRQAB4MQXLfKjh-KywzNrtPdSQAAVTqSLQgRoXHTQfAElLaNkONcgNYHYUkUAAAan0JV1Jlhj1GywEpEDap9WararyJmE6s0G6vApyvuAd12AKqfGKtKtwAYCikquqqKNqqRwarYCatavaoV1GvGulK9D6sMmCh2uGt6H2twF8UisgsLisl4HpMRMOpPwfQIoHGFk6nZGws2GdlSNcyssioqKcuqR7UOtyvcjMxkw+rsCRJV2gsoFgs0HgrXO1W4zir6xdkoTwlArBvRoi3rkivOqkHumMLAtxojDGBuo8LKPMiwjQ2xqYvPylWRosrjm0k2A9yfGesMjClphTGuiNgjwgjoJgLLDgNIplAwtCp4IzGRj+rW1krBoVqNiSMxNbE0uEuVvth116AUiov9jQ2hq+pdKEXcWNMoSevsUkpepRDeqNu3Ucp+txVJrBskpEseGTVBt6ryMhveuZHZCJvq2ngRq0BZt+LRryPunsWxs5W9rSwWAogJpyskrxqa32IZlQl6opomqOtKN1t2tmDppkwZslhYrDpLnZtmE5pSs8B90ID5tCG9lDyLiMzzjztoOEjp02HFqNklriKx2lpdIYP9nlr4rkq1q1DePojHq0oUvbsEj4OBsNv9odvQ2A2elAzek9M+igx+lgwwG4v1lR3R3IEx2x1h11SqJTUPS92CmPoh1-NLJmnvox2YDRzjVcO0xp0vpLXrW1y5gahftPqh3dJlFUVvGRReB9SkBeDvFVtmGRSrGgckCrDgeV2RUYmQcCukDQYgYzPQSwfQVwfSwzIkM8B9TIdtHgZmGRRyjjX4EaB9ToZngqq+God6GRU5uQc5rLHYakGRRhC1lbXcDoAxUEZ0GEe2keD4ckGRRaqwakG4E4D8EaA1gAD5QBXs2rWGZGLySRSREoFHJAlGVH1HNG3tQAdH0GMzVDNgTHLGzHXtyRLHJBdHkVgAjGshlGHGCQNHXswArG8HLyABSTx+x1R3x8x4Jlx0ANxjMpMBR8Jxx7G1R6xy8gAQlNESe8YifxD8dAEycJFSaCf0bSrCZyeSYyskGKZIcvLSvxCMaScide3qeqbicvLUfKdMeadAA0babSf0bUYab8BmCabyfMaGf6ZKbJHSc8fMd6HGckHSakFDNvDBEAbBwfqpwnLBoJHMhsVCTYD8CAbPtA3Wb6hOZAcZFY3cAACs3hWU9nHgDnShImMHNnX6fUqVtddGZhLntnGRRVepNp-mT4biXxkVH81gfUoWjwp61bkVIBCAtEg9oGkWUWam1aK8MzxGmBYBIBkHcX8XfmsW9GyRcWABRLBylklrF5FAAOX4Hpc8cZfpdTp53OZBY+eAcXzcB3l2fxH2eSDW0ifrmnOOe5cxzBc5fRFBZ1MQLOiFfZH1HGe+f-H8EleYGlfMHPUWxmTRy2fPu90qsPXPL1dYCYH3GkGR1Dtuf4CHCMI0BSFhrvH+ffu8BLi-q5zyMrVNdMBmHmJmlPDZHLu1XPI+IFzYpRqs2SNCPYD4E1YBfKldoLp5zlfE35aztjd+zCITYNdfqTZGkoDuYecEsDskHTcJR3iO1pZmEZrLqjdZs5nXUYslk0ExDsp83Ms1ycP6Aesbd+LBEiA3tAfAx3u+hgwwAPvPVPMcDICYFBTUBGhhGkBCRGLfP1XRkxipXXamvm1AoHiAV3eOtJCYEGt9Q0C6qusObAuPfMh2B3Z6N4nUtRFiBhDBgS1SDmXUC0BEuRn4GIGIGqpGBQ2yEB0A7Me2jau4AA+IGxtJGat-WaqatOratg9rYzAQ8xR-dhmkudnyVICDyxkvc0EBzxzI6RoI6D26BIn1uzFGp2tJDJB2tJ3fcYE-bHwOd9ao9OCBxPaEFJD-LEvtEv3MSWkrQ3YNgNQk-Ml-UVTcls0CxfAk9AGVh8m4DIbAok5EAJgPaAW04KYclPRkIWBvZU4Mj-QU9K1nYA7PEXfKhXZCRk4zB2A05jQ2pm3nhU7U7vAo3ti92udCzkW0-Rt-WY7ap49cAcCWnrhOxC7OrvGavPcOtY0cX8-W2czCwM6GsS8Mh2si7E5vcXDi-nRKNaty1pCs-kJE98SMmJB9UrQlbkFE+i73bTrlg-Bg9K9k41ea9q8wbUJfFi9K+zu06a8I4VDE5kOa1Gq6+lh69JAAHJz3K1GPlv72L2tBxqJOhPeuJuF2RxpBfFQUjvJOe17Yt2nx64TvMW6WMyQg2ABr2gBrIpXJM4qguwBrgzvBaQ2up89uiPrvDvUnUoVQbuG8CvWuNueOb3wfs64eAeFRwejK7WHXiAnWzwrdpEagC149eBJOptPOi0d0evkVCfs0-AMuRl54d14XegDnUfgx0fyAUhECZkceqgKPLEd0-vvg-PjYSehtkVT1MUWM2NvY8fefibjLeAjKbvL5nsr1sfwUqhJfT8393P6qifJf2a4DOzDqZRzIUvxfKMqfNsaepEdbH0ghleC1U420ZQDn5e7FFf2eVfBK698f26KD9fo6LPMGevmJX0Yh3f7e8cG8qVbePuhY+Ppu3pfesaLOCHA+Q+7eY+8cNuNEDeLPGfHWWfMepIquAiaKE-y46epAGf7WmeMe2eo+Pe8cde4+S+dmraNWOfGB0+q1Sjyiz8Jeee-9kZhefVje0uBfLfu+X8u6ACpE5jTbC4g97A1eYS90uygrBf93651+07q7j0eb7t-cZfqf9Lg9H6lyZo7zOCl+6Or689LeevUK7-eMd+pE66-dHsguKgL-WVvsqkI4uwRpSAlAc1MwAMAcA8KlvECgvzH7494Of-CaLt1AGtoPuLkEaJsR3QgV64X-bnuPyMpupWAKkWGBNQ0w0RrKf4ECsxBGKSU-wu3dwPgNDojEXidA2GOeXri0D2AWgF9mwIIFI1f4XAjgZAKAR8DmBNApgUjQtZ8UiBvREgdpWX7+wI4coSgVvRVq7cI2hgRQV+RkHX8xKnXPAewMIHqCpIDeQyoGxBgZsKAKGXfnxUBL10Wy6mJgEkHYDeBpAx4N+LwCWwQCu6kgM-Fun76eCZgqxUQesVEEsAXAEgywQpWprA0hBmgbGrCx9qLAG6QsKBPYIe5OC8elPBSpHVRBuDGBegngUxmiFW9BIL+M-Lfy95A09K2DE8nYF8Sb9x+fgNoDkIf5e956ZRSfj0mn6y9zIetYGo0PcH48jK80fQLEFbQ5sBcHAFhmPjoC9gJhDDVOHQDWiyDbUoNdZD11mGNB5h-IJEND066cp1k5fYxpB3UDDDRh9gcYUWDmHfsFoIw1CPsPLaYl1hmwtxKPDjgOB6YmOR4XMhmEXCNhQsBYWdwNTTCTOoAT4aoC2FN9dhasIEQcKyBmNWA5id4aMR+Fj5QRCwpEDCNtBIhImQwxaJRGyDrIm8uKY4biNwAzxsYwrHHH+2rikjBA-OdJNcOI4nCXmRATFM8IHRki6ROIpaFyIBGSEeRPXOQop1eHWt9AHw5EYYB6ScpiRWkOnliPGY0jCOucekcMMZG4ig41wwRIfWMqmUWAEMWCMSCApPtcQfgcRECk0G9AAheQoIXkJCED1KMig4wVEMCHnQCILoHrqoMkHXgQRggDISrR2GKjFATAQRhpGiGIlChJon0UoO1pGU1I5iFwMGOSpqQIxZohSiBT4rwdcAT8aFqmwCKkhMxQIaFhtw+RHA70yYkQD13TGaleMoMLdG+hzFSAzMJlT4nqEXwGirMSY70SmL9HViVAzEOscrGqTMRTRwI2MQ4HjGCANIi4N9BiMeCLhhxM4zYKOMDEJib204+4ZxHrjzj1x09OehtzzFZjHugwrQN4EAFSlpRSjc8sxG8ZyiNGiqW6ufz0CWpW0LgOAQglfHOA-A8vDsfL3NFSAGoCYh5OKFNwyglx449SMlS-GRj3x1APwNuPog-iIhWgyLOBMAlM4MxB4ovg2MCKjANuiNE8eMS5HBUUJduF5CeNABFUAAEhSyYAABBcAOAApYAAlIqpAAADy9LZAISC4roU5AiQJAc5GOJ3o4xvo7WiBXoBv1L0QksccCN2ghCOAnAe3sgMEmgS4+sko4CuGgmihduak0YPxP-57JzylE6iXRIYnMS2JHE7SXIDklcBFJAkrIlJMUDnlZJhE-AVwGvSchb0Kk97nZOoCJQuRP-dxJaBj5KT7JoEkSaOCWGOguRWOMkQc3FymjqqvjYaokDeB1BnxeklAfPASlBR3wAY41mpQOGLUUJmkyxGFKjFahSJTUb7lq0rLmIZQAABh1bOwrQUUZZCMBAEecL45AQwDLHam7IiAdUwkNVP6nCidqXIDkv7GGltABpDgXbtChanqYpBxsRQcNPJ7lRupl4zrpZ2OaddVpnU9aUc1B6U0jRa4QkTylzhGxFpxoFQKwHGDtTjwDOPqWtJGjdTOKS1NqYpmenjFupdUW2lUmOHMAooRwEJOgL8HJofBEAnpAsHmnvSGBu-PaVry6lHguiHXNfo-wCrMQAZTAIGZ4BCR1CveC4lCLIEBnAywKPPPGn5Bn6L1KhWMnGSEmqn3jlIDAM4Z0FYzE8X+QlYgWRV-Gth-pxM7GaTIim00Ne6mbdGQRZibhixx0rmVxnFmAQUKUZSIR3XoL0RVi1o7gbaLCHhTWhHtauO4FiGujDwgdBYJmOLCB0dgtM0maGN4FFD5IWAEiOUT8HA1UZT4UcPEMtm4yb2FU-GHjCJkMASZns1ClLwmymzGA1NHoTTP5l0zJeRlVQbqOMQI1I4uIT0caOsraziSm0aIerNDriDQqDoxCfgU3BZzCmOYNMBUQfyEBuqQYicclWtkFDRBDeOCVIB-Daz-WUBEoSLK3Q-hacmJGwOSH7mwE+oWcwkKGNzn2ijgrc+-HrMCEly4heVRYFXJXGUCm5dc48uGPtkkQ6IalLoh6IMG11ypE-EWq-iyAcAWZKgeeC3M5lLTtZilPuQPN1n+x9xBYw8e3KPlgzGCTY+NnvMnm60TBFQIgIvJrl8BewvAZCDzNErlT0Jz8zCfMHUQYSixBwEsbwBAWCgKxpFDbjWK-TILyxQ2OOS2PJyyJk5yC45mAsyE9jRZoCnBfuzwUQwCFScxEKAuOa9htKoAO+eSAwW9jOu2C1TirBdl8BUFQ2ABVdWrngSwK2CwmVICnGCgJFkgIRQqBXGvo7hpLL4K+mkVNzHgalOPk-O8Avy5+MSFQNVKxhao2aIFd8qmgwTGKgUV5dqTmk-7UBp49AORAzIwH1oGZL7YaZsWcWRTu0BqQ9iqDcXAiyengIGY0GThRlaQG3KlOJHulnSK0SOBUBIkMXVTPxwPLsnlJSUOAFQ4ChqNPH0AuBqpMoWQN7Cum4gbpRaBmTJHOKVzhFduQ3neDkUiKNIkE9JXBJFAOKwsuStIgzJkW9AEJygpCQ0tqUWd8xOimBbISCJP918B3TJXdMUybFOl+S+6RiLwlyACJ54wZQUiZyxKZoeraqaVNpFjj053ii9icIVFxT5Z7UyJsNT1aJL2psysimVIKni4ipfEvZQ5Pylz0jxZORTDd24DNLhJ5U5UYtHPLRSzlwrcyOmPGY9JopcbIWJ8JdZlggpGUwSf8sOUHyMRN4xHH9g+kFI-lqSx5XPXLxj0eRscqZb8pu7hSgVWkDOeiD2CvNCQu0BuCfzxWZKG8pIQAtMqO5C0EcdKogAbNTBGyhskcb5cwHJXA9KV-I3jLyqLRYCWVp3CVdKMZmPlXJnAY0Hekk6zdX0xgHTr7MwVXc1Yb6JVadEAGyBkVL0lwCqpg4hTqAVhEWSqrVWaS5Z-gvqM+kJAqr3JCoW9I6upo5KFARSovNarPHXCnmPOZyeeP+AZpA1fk6Udyr+aBB5Q3k-SYQGjXXC8yZYZiJpL8CYqgO12ZkppKpU65HZfBM-nkDUDtBmAw0i1paq8XbELmByx0ISDaW-gwsFSlEGfntVEL61hAJ1RaJdVNAZQ7qm9KshUk+q+oOa-1TiqpUhq0sYahkRGusXeAU1ww2Nb0ACB7RTgC6hgEusWhpqMwzEZJbCMibjrmSw0nkYfM7rFqtRiA4ae0DNVedA1knQxY6vrGwLr1dyx1Rt0QGaSrVPk7tQgLYDBTf1P6pNceDLWmr81VaySd6trWbR3YgGpNXsSMm0T6JTEliexPAAyQkNJk1DeZM4lVDM1h68ZnBrvWihHi1cUkCyEE5P08gb6xEDWouomqK1fUyDfJPuVnE+oxGvZTKCQ2MSQoAAGQpYYaUQPG-jYJpAm7T2pWasxpxvan45KhFG51EZQlQX4FQIoW5tDhLymL9UkhEvLt2AJqbpoePKkf7Hxl4cqks6AzWUGwGjpzyzQszWajLo5R1NeiIzbyLGC6bqNFQYAk5sM2abjlpm9xQUknjKBnNZAazcZuzB2aX2VoTQESiFi-K-NSEgLUZTU2UBbplmsLQqo1Faamal+DLQgny3g1-uxK6URt1S23SLN1AULW4UK0Ycq6ZK4HqgXpRiZqt1QwgNVuwL2zSWJWjUS8jXVkgHuA1DlTd1vJVa0tf6rUU5vG3cAfNVmrLcMMk6OaQt0OWbWFuBGCj2uwoxEZ-EmESjkSM+UVY1u83LaygM2k7Wtvm3AraIswTFVNoq1Bbd452twqttvzXaecPWhbRsn60UbpAQ2hrZkqYYhbxtQ7ZqQwFi2rYlcgKnkSBVBWxTwVgESFWoy626htN7m-7UdykJg64tnK3xEDh6UnhjxqyoNSqM0XFA9C-3FZaeKpUT0ydZEGYmzDe30hFaiqx6N9te5-aDtOOn1DFqJQg7cSCkoDqtlBlISUCu-Rmu22LYNJu2FdFHlXzz6s9GS5HKHYquIhy1pRMUwQOcttCI6iYNkwXcbCch8tzBq2ctsNy77hSZF4FSnuo3XHV0BwsE5RVIDuxv9tBQQKBM3UGobzydpIXPszwV2F8+IRMBOoTqp2ETt5LnbCbXSJgfbgVrO+NT7rl1+6C+RuDnZ9kO0A6-Avumvq+R1b-iXsj23KCwxlAABOcwM7GYYMNqdIlcvapBYZUqWA5iLGH4G7UVFe+gIoeBUR76bgaABkeqZXRmAV7fEi3RbsFDQBj6V1ys0WhmEH03s1Ats3oIPvr3aJMY0UoOA3hoApRRy3Q6mZIEX3RTl9XNPwDCCvSD6jVwQYJQwzCX95s45ay7dSuOUx7Ygce-RkcBCVX6HYwUYbcDwa4X7QlQZagVqLr446NOhANdYOAcC0xI41HGlUED2AyhnejQV3nXyMAWIDdoBgaP1VMC-cZIWESHNIEgPaIKqJclFAWLboVEZ9Bjd7HX1AA3cL0a6yQMlEMZmAX1II2vQwwTZ9dgDewbUG0LflyQsI+awAcANbQAax83B-vbRuYC3rv1X6wNZOWO62zcDEBkOkHkM6EgSD3lVyP3oX1sHaujB97JpOCCiG2AoefQ+lF4Od0FI7Qx4BQf0PvZaDdubaHYeSgT7d9uh6ndCvV1a6EdEtPJoHUi6-LtxhuieDglWx7ALdWQe3W9DMbnYMRX+mZeEa2gh61lDIu8Uwl-l6Lc0-dEIHQCiiYxWAa6h6X1DgOEgEDSB1PqrxMSMAQD9BzA9gZg3og+KexeIxjsSOU6UjKotIxNOWEGomjwI0kJFGQmJAtAnY-gGZBIi54auwB4I3HFCPGxEjYrUitgUiPW7Im52LmGRJE0Ca8N3E52C8okZvKCVKtMSTFUtUqSeusklVanEONdrVJVk9STissQvsdJK4N5YZKolMBeN2xyyWeCuNCwbjeUkFerthUIqvgs6lUYOo8nDrbj+OyQJuu3WxBaQBw8E4tDJAi9vy7UhE-UcKhAHfli3V8dwEd0AAdLAE+rGFCwhDuAdoEtEVQqNTGcOeiCPqwTKHGAPUXE41vxNKTCTyikk2SZZmuAgBVJ6QEtGYj4BBwDeU4KKb8AAAvdVqABJOK5yTAprHNSat2WMZTfEHnEydJB4HIDj9OiHgGyOig8jT4fE0qcpOqmcmg3S8mMcdQDViAA1R7iYEW5ggbA7JmZWaf5MWnhT4Ta0y-oGruB7Tjp37tqfShAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+en77X86O7lCljnunVR2WrxaKaMMvJu9WmoaEKnej71k69D1nZQXzIFnecvrvu3fV+acU-Py9Obqv4auU2AAflAJ9dQAB3VQcIvj7xuv-awAAuL2pkf7Lwrp6PADdvCbguKBQYixCDkElMQDooB2jkFwGAfAzA2CkGGCJPijBQBrVAAYEMFI1poHYRtSyvV+QGT0LpOEgw7B+kYB0JuMx36uE-ufEM1BRGvVgaEIBJBgyMWIJ0RRNgEFs00GUARskEI6mEXIsRnZNFKK9sY+RJhzFaMlNSPh+ihg-1kdY5WQMzYtFAnodevZgEGXil4rIxxgE8kBAAKiCTIcJ+ZQh3jVtQbShBRICMkDwQYqSJrSzCH4ughAPBRJCbw0g-CZAs3Sc4lsatg5yGwZfCEeVKD4GYXkgpj5jinBUQxGInR155S-F0tRnQqh5WqKAeQshsl5T8VY4hRx7F0EcWUyQ-BBgznyVEj0eVUjNJkSIuZnSiHdPUR0Pp2ytbOEGT0joIzzmgDGRMmQUy7lfhdLMhpdzaijMxF8mwKt6DeD6KkipmTBjDnvs86wuSNntPmcU0p5S1lumqYEx8WzChNJaTC0CHT5lXJOWclIshLQuhRbUqJ-RbHnOWKsPQ51gW4JWD4UF95oL3xMJSu5XKbCkoCeStF6KUgPLkJMus2yZmuLmQspZLNVmVKJNi+ptzzmYr2SY3FoB8W9OeQASDysSi42dFUySwHq7l2yaU+EtQilZYK2Ucqpea0I6y2mgVQWa6wwrRWOpsAat5kq7U2g+ec35QqfmYjvDFOgyxyA0L0CwQlns2AnHmYCBJSTFiAh9aAIB6bknZoQcm04gIYiyEYMKbN1ggGlsBZW0A2jGDMB8CwFMABVYg2lq6gOcBgiCzgAC0-bnGgViTYUNnso0xpoeFPxvasGFPmZ4x8Piqh+NISEudlYol6DTRkDN+Y-F4IIfMzdr5t0loBeW-MW0FiLj0KVN+vN4xZT6KVFMADWI3oiDEYMeFl0xsfSdKQhhoixB1ABswQRb3hmMk2CDvt6ZHLwpIVJKI9AAeyX4gRITwNaGDRvKQd6BFmCAYCD99bQACIQ0jUhkQ7CPARSCspWSxW5JCaQxjGTmP4a-AwFNmqjlDOIUAuWFG6DUd6oYORYx+SAtfDESQP7fJ6Fk+Wxo69VXfqQ8u1TMJDSQr6v6Ah2H5lKeQ6hzqun1PKpyUZvqjg7Byis5BED2Rk11psLR1zDGnF8mpHJ2g-bvMsFHSkI9CKUzOeIEFqIbnfpUutVFwYPjjgAD57ONotLNfzamXOxceIK+54yRVPLFbUTuSMpN2CXquBTZnz4oMw3ZmN9DnDzOPhoM+r8bOaakGZ-9WhWv6bFaELDZSQlmZQ8stDLXvDEHw6NuzpAHNZbvnRtzxwPPWC8-llgEWXLLxi-RkLC2bDhd83fI7cXOV3OtXfZLZgjjpeW5luUa3guFa9aV8NaEkanzGPVjDYqvwRBAzEfQuGwqeiyAQgAKgACQAKKSAAILgHAIjgASrDyAAB5AAcsgeZcsqg3vwPYGh2Wy0wgErNpwgxKGgkA-Mf7imkPocG3NmxeUgG0bMwmKLtPOdOG54UBBtH1C1MF6PEh9hZqlCpwF+gKXgeaQR8jtHGPsd48JzLvnSGBc5Zpxz8gQ3slfh28dvQk2LMm6G5Fo3jQruPE-TD0A6vJCY9bQAGUR0T0AJPuEUnJ7G4YNWkp27mwziMTxmeXNkGz39keReKN53L-nXQ75C9N1zxR4u5eS-DwJBOsvLSF6zyrzEX4Pde99+APX6eDeZ+Xtns3quGzBdmtHWUBwfWW7c9bpDU2WYzeF-Nm7Tq8qAku8F8EE+7n94Y2R+20-Duz4suQggVUGCUNYOwOAiBkDoD4DwIPEoVDQXcgCWUygZ681kAoJQw5IyxGZOYoBDtjDmIQQ8dEb-zm5p7rJJvhIjgpiTVjIioigjlCDA36i55Q-5SC9iBj0TZh9rlDv7jLWhRTpgoHPghw0RwHf7QZLigSoEbgwgYEAFYHxQgQXjgQEHOREHnKIFU7ShChUHbJAIX5S7ETmiSyEHEC37EERA1RFQgi1LJzlScE840G1JiEwglR+QpwkRMFCHwFi4LDKS4RSFnz-5cFaSqC6SSDzh0qPCcS4TLAx72D8QwFbaFDaHPzqTMjz6T4pDMHbKsEgycwaEpDcHYHeEsLswHRowQwwHjLqEiFSAWwyGFD+HxQxGCHCEsELA2T6GyE8ErSxjX6REpERABxByMHxCYEFHqQ8GaB8R6BJzKHSEuERG36uHcptSSTgoCR9yFymCwHqG+FhANpNq8jtqdrUDdrAxwiMiqB4SgCDpyEVE3QSYUilFVEkCDDtFYy9YNSUAsCxTKBjCmHCDDb-xfilEbFbFUA7EmFVRLHEArF1zBpfbiC7KiGsCLDUAqIXFWRXEHEpASp5JyDHozFX50SqTqT7GNFuHWC+R8REJKBCGrC0AcH2HbJ0RWGgj0ICSgmIl5TtFgnglxJVQwnKBwkyiSz7GFYXKpGOhQQ2gyK-GmCOpAKuTgo4FQl9BET8x0ncoIJao3LJD3EjbjKNpyJXFtodpdqJxAzMyLBPLTGlGhblZn5KTLQtFsoCSlR0BdG35TJfjVwTyqkEQKIGFyyaIILWrlGAkoxl75z3r6kcr1EOqT7NGKCtE0mWmTxqm2lwHuJIyZEKFxSSE1F6FqGant5AbjDQL3rP6VH9R1QNSdDhGem2LxEaBX7Rl+Q4EdEem5EpFmlRnTQxlzTxnqHzHn4BE6IcwvQakaaPFSCMzMyszBHPR4yJoDKCbXI2b3HrGixEwtAkwCHkxfEvKaQ5nPDdxiw9kSz6yvT9BwHtnFberTJ2ajndnGBUkjghJUrDlVEWmhEYx4zTlFmKLrGMlspbk9zLmWjgoDnnJfhLmRArngo2ahB8lUpfiZGBGVrjzixhF7kzmKLjryk3qOmSAkBmgnJ6DSTiLFwtzSIQU9FVoB6fx56gDWoRIgV8EnIxKDBAVoUChgUuiwVGgeqgALxAx0DBzEDIj4LkFXj+gezrGBEdgGa5LkwhLeE7mMgZmPlQUMwsBMwswMX9lUoiaIVcoIIBw94GDkWUX9hoGbjonblfm7n9n2m4nAxSWvEyUUGNACRmzvmqVOqfnjnfnKWfZznfb9KSLpl9jUXoHpEGHnTIGliyWVjwjVjuhUqsF0FgTOWqHFHmq5o8heU2VYKuXvgdg+oIKB5PkkXenYGJFBm+J2bAkhIuzAnlA2Z+Jkp8ZqU5DSXBXG7An4Z+I4XSidDZXYUgjoVxlZU8ZDmRnPDAk4l5SQk94ElEkcFZWDAlV0hlWVlem9SZFpEJXm6aRmzHnUnZqbk+QBm+WdGYkQndHFliCZGgUcFJGJXpiso2ghKbmrVZZgF1G-mhCgUgG1JgF7VyihWZDhHgqVk2ZfgPkxUDXYFBX4GUHrXZInVXVnUnmvUMEuXiT-g4mbl-U+WQQHXKiVnA0HljLWA3o+lGZ4H-WzWVmfXoWnWrnPCOWaU0UUXfV2HNX1V6DY35WvgQ3xBQ2KK-nXB4Dzg75UL76cBH68AcIKlxjhl4Rx6gCTH8ZRAjhLXOBmymEom8T8SDCNV2kjUfRhJ+i8WvHQnzjxaT4i02E9zi1uyCJ2ky5PFy1vF7Fc2bwvpVEpiy0vF61VSHzB74kq1olVFc2jSrT4CDDdQy5Aka121S02zLRjRO2gATSu34k37tUYz4D23e2O2DAbQC2GHGHjUwRpgslh3-DT6Ungr2wJ0Wgl4RBx3PCXme3azPp6x6C3UuSp1sqW0Sg53MkYx50hk4w-hlCXn9UUhPRqw0i6BtXMDEmvrqH53OAujU1k7bmM7ohwF91eyD13it3UAJ4eAgnWGo3mChBV6aTWoj0yRa2Qh+IjBjC1ksxB1d1CghKB43pC3WHgGKjqlbUjiQXknWrfVX2tEl7r2nXonWFTDL0SINg6jr3P3WGY1v1M4WCf1QUui-3R0tXQkH3wm7mA2P3qBX0eBUi729113OBZC6AjAX2ZAUz8YYM6BYPWgGnUHWpn3QEP2BpTmgBIMJ4eGeHAKygEPDDYMipmAAA8DDmDzDRDcFfhAp-RgIsOGQhhxAcIko+c7gpMwMySMcnQCCgIoAAA1MRfpWDroE0s4XA2YMoyvkoyo6pWozoBo8XQg3-Jyfw0KYI8I+TqAuIzoJIxxdI9HD0HI0CHo4iYY8Yw-do0CCmO46o1EODsYzw83exEAYsBjQdYDYvRGkDDft0BkKJGPfydYHeGRTkCw-A6wwZl-aGa3N41ttwUIQkw3HoPNdPe3ToJ3TA5LAmbiQgt9RqjqAU-pUAjqDw4iQ0+Rd7N40ii2CE1xZ6oebsjfhqjvUoLxXWdA93YmqEN4P0d9SKekCogHqCKFmEM+Vyn4uvSEreevfegeVyrxt0y-Q-VUe-U1U6i-c6b-adkM9Fbk-MPEwkkkzDWzQstKJEyeYs1tTE3id6cUy8wc8GYomk90xQ1tbfdsiDlIgLC006kU8oCU6JPYRU+DtU93cC2Y06g04DU0whPC5PkAgau0wg4Grwykek7kDOFo3043aY3c0VsM8wqM7zecHvRi2vDkzYPM0KT84CO2ss0Qqs08FMUOhdcKIy5s3cts9Ybs8PefUdYOR3ic--Wc7-Zc+atcyqec0zlK+Go884M84k1i+FLTdvkwHvlAAflwMfhgO8xEIRJsdsbsZcfsdLDCzrGdDyMICmE66cZQDsRXWIP6y64prxVkEKCHO69bPXd7KSTOs1tEAG+cXTSEudLAp9BqPbDYBqNyipWEJ9HqDm9YHqPm2CZ9JaiW8hUyuW5m2EoeNW4eHWw4WEh-KUPbO23IOcgW6EJ9JOmGHCPbAOxAj2xW2Ery4wCW5O1yr2zYJ9MJCMLNB4HQL9Iu2HsuAwHlHO9YJ9Io9WzYHoHhIMHCI9ulpMco2I6ADu6Esnf2ge9YEeye2e9zVMaAFeze59JhYUE+++y+5MeEu+9YJ+2EsAA+8wse3+2lq+2AB++O8nQAKTge-unvQeTEIdAfXvwd9CAgpoHsof-saqnvYc7oACEJw+HkHqHT2r75H8yxH9bydbDyHVHhHHD1gDHrbTHRwD7BHaHoAbD8yf7JHgIqWLHz7-H6WHHIHydqWPHgwYQfHNHkxcn0nInpH4Hr7oQNH1gpHNgnNsCEIh6ybYbdED9m2eUwkokGouCJnZxrrVktMxnzr9n7x3oyIHgAAVqwnxoolZ1cdB5W3Z4G2CAYqXC2KSTe2EKG653TRCFgM5ym2MNjeVTyJ9NyfbNyVF-pX22EpAMQGosxEOwp-l4V8zNlzl7u2Euu5ILAJACWzV3VxV5Vwu1oGHojtWzV4js1zl59PjqoPjuB-1-jhS5V0Z0my5yF1ZSgeZ0cH5yJFUdBz-baTF1Nyl+N5tat+cSTa0RZ4UP580jR3JKHSt8F9t4jRxfF3eMcVtw596MKXY3rFzccQpl0owHIHCOi556oGoGRdEEzGU8rWdwDhGxOdGyQD18dfnE9xUGEE9RSMSsAdMxwVzZA7VLCYfRjNmuJUQuhsD25wDdWFfZibd9N5dbS9j93rj6T3RNQF5z54MCT-jztyqZD6W+y5M-vRjzU6YIm5teMzoGrEg5Idz93axdiBE8jxjPF+a455a2wNa0zdwJgO8wnRGBQJIOzIYK+MJIwEZF5QbVIp4N4LBg3SY6QfUrw20zfN7Ab-pjo5IAo8o54-gOpHJHb7wwgu7+GGeG6iXrLcJKzCiXxE1IE7oFC0caQMtiwPzFfgYCsVHy+wwMoyplHxqoCAo6Rgo-I348o6oIn5q3chn39GHwXCXolKbs4aXzcQXDX7GZX1MDqivR3qX3o4CDunowH7hLIMH3Gf533PX8zDX0rG3yYICDLhX3WfQntn3Ib3zALLP6nkCHLFmggVoTyLP1sJsOYtbrC1-GULP5BgEIgm6If6AHR0CB+lb8wjqJv-xsvomYZoyOr5aFr5WLr0ZIv3cggrv13jHHHFGE37bBHUv+EcoHRmqBRD+o3HNECA77KNJ+LMafqbxUx1wUBkwe3voyL5uNnegNSAlJGgLVEyoZ8M-so0dQKMneyFWYFP28B7Y5I7RNAQBCUZkCx+tiE0lQPUhppeg9sPuLZ3sDUDGACaT3gsESz5xr+CAndFWywo8hb+ogulgwNO58DEBNAoQaDlL4MCl+gIAAOQUC+4bfbQUhRd7qRZ+E-dgZrxHCMB1I7MCwXP1bhPBjePgHUFYM46VcquydHIB0BXxyIV81cYUA7mpwr4744IbFnw3EGODzBxHeVHoCcEKDK+4wZQUhVCEIRohcg5IZQMUFmDvAp7aOt91+6kB-uF5NlA1AMgpxrSiwOfgUVjghwH0S-EBM40qEsQGc4AogVGAfSF8bA-nHIVSDyGUAmYmNIoddGpDD9ShZiNfqAOGE1CwkH6P6LgMkjSRhhQg0qNHScHyhxiyGQiMUOpDDDsk6xCoQAMCgPozk2zfEo03mSKJvqeAuYYQP8gtCCIZJJ-oYEoEbDZAXQdoiEn87LD4Qqw-oSnCGEHCuKN5Y4Xi3v5Vsl+1qcDMwAGHPDdStpOSOsMhEC5biwQ3olvisinV0+jbUERCJTgIiC4SFMzkCOLSdC-uPQgoTaFX5xEa2tKfEdWDaHWAOhP3LofkL6FwifhdjPUmUKRGhATSTKK4u5x+Ysj-MLw24rOUeQPFmEYwg4c8i-CfQphoxCArMOgJ-CfkZlKUUOQIjtl4eEoSUs8AfTj1HWPI6obIR1CGjNCk7UoSKSGIjFdCWouEFKWDbVRaALJdkXP1NK3Cl+A9N0WvzNFvogQgxMUuMggEOjGQpMT9Nd0dyQRyANcLwLNA6DBgDguotBkMFtE6jbh6fXTOPzphIx9gLw8MRRTSoJjm+wUA4BnQ4rzDo6ZsDwD+nBzm9feWQQNCOC5rWovK9Y++DLkrFEJ0WXlPQO2Jii6AuaOoHseDhLyDiO6YBEcZMHHouhxxw4qsR3QUz7NmxTAIBomPhSLjwGmYganhChIHBFxJdX+uPVIZGE9Is4-QLuPtTR4mc0dUtH2DPCVEfR69LqsQCFZdBFwkgWhEQiyCMB14d4P0IsDKKpiUmYo3-neklGATFsm1ccSlRPFs4TCirAiBeNjyDMwgX4SCfxm5KVplET4+Wi+PDBvj3Bn480UuNjyVoEEv49SOOMxrdiTxdwz1CqPWKuiOR3LO+jyLInICDhgwViR6I5FSsVRYEqCosL-IGsoKrEh9NHU7w48ugwYQdnGToAVIpJECBMHQBYyFjtY+TbqEv3klwhFJ-AHxAkJ5HNNuotI5hEn12x-9WqmkmSaZJnCGT5qqlCyV0CUkPxEM9CLID9zAjSSmock+QApIcnKTDW0FOFupNkL2TpAOkoQWCIJY2SnUKWGjjEBcnZBzi9kvQCFKUk+IjJ5yGKelk7zWTUEv2STKZPwBhgjAC3X1sDC5qFTOceNXbL4GOySADuyxMqc-SKlQl1sDGD7HqL341S3M1-I0qMODHvcEp7knyYDzuTNNdsPXTKQQGamyhWpe2bKfDGOy5T3maPRTIoGLC9Aa6PvR8IMBwgGwiJEKVjElRPFQSOxc4iiguK2k4J9ptVBsKhMOSqJrkS-NHjWO2mgBdpCE++HpJzxOA6pWgONBRLHHUSdpWgD6aExDZj5fpoeE3MDL2n7jExOze-vgC1CdAFGGgpGYSBRlIUdE6gaGW9LwyYCwgQCHZnDVGGEYYMGGJ6VuNapNJ0yG0yWDGhhmgykK+o2lBhm2DCCeRu0sQRDMXZxoXQAGdKXlBdBczBZhQOnBRV5nMNIcbPFwTqBFm2StW79IQYCHRlZAPBYk8HDDjyxW5OaB4nkZB0mlywwZ1UUYIZFmgUUosKmXMYMGWEMzQAywuGZiD8SSyVotJEJOLMhlxpbZIMhZErkZ4uCnUDs9+vdVGp-Sw8bJP4un1VmYzZCvUzQpUy1lVSrcLsiObz01FiA1EOY6nNpWTzXFrp49TvBVOKkotzUu09wGljrQ0IQw2kc2Yrlyy5Ay5LaGtt9LzkasfUIeSnILlzmgzNobuNbH6BID0IQkAABlJx3h1EoCcPH-0KKVhKABwK+E-AHn9SQk-c+WkPOUY8AQ5DYVeYPO8Ay4zYE8qCBb1zqXS6xtgJ+LsKwRzzGxPI5fIylpRrZL5s8joHII97R1HMoII+bWKShs4Gsl8JrJtUfl1C9hFFOecfRkCTygF--K+fPJsx3hYsYwcBHICMgFiLKvMECamKEox0xgh8rsT6KgUzz5MpyDyhzNpQmiSGPIhBZICQVGRjRtwmWc6jsCIL1ARkLiSMO-4BjFgGo-yVQpoV-zWx6c5wMGClJEIpA+w+CaymPmgzsk8CphdQpYX3pE06xECVeW2SqpsZ9LKReMlUVHNZ40CJCU+V4mVo-EHgE6b2KqbzjFWoMgxYUBQkap0JqlImQgxkD2EEEvChRQDJPIeAaJGzU1NK2vKWVTSZgDCUMDkV8LjR+mKDO4uQXex2UJEggM4qQn-kVJ-dMJQotEmCKAx241aUsBno0hvEZ4uQNIsOkQTjp8yCiZYugJrjg5mIVVJBIv5ZcDMLZDRp7OYaeLqS04-2QHOsDWhrFBMjstWSPkmM5Aw2HLngHCQTLFEJispdQ2gmVL0QvS66UhJQnHSGlrZE5FgpIAtLJZL0nBArNmWnSqmgMw5Q6h1RnLUm79Ehc9MKXWLlRoo1VMIp7xiLcgiy6pXq2AbjLJlaCnECrORnqy7lJWJpWqO3G7Kz5iy9cdFTykUgtlrvVpehgqSLA5Ujs-yQjOLTRyPBaMv5eSJSDaI9oOMxYAiomhL916zMsmVam6gEyLEK0mmS8WIjeICVuCJFZctJlDLEVwSjIlTOhI0q8llAelXKgZX5zQAny8JKSu4isyKV7MlmVaiJWyEYVLMHZfzKin6V+ZE0UWaEDlVwrwMSq7pSkHAyqr9leUW5khV+UYz-lUK00M4xZi4Q74-Cm2eEO4gty7VmQ2CcuKdlLZXJFFO+CvNlCfyvKfWXIN1jdWbUNVqc9ctyg1U7LvZjqhWR1lPhRhQw2QT1SgjVUpAg5l4lJQJhaWhrEZWKpfnHJxUAk+IGQiwfwqcLE0PV4eBhQnPsDayB8IapKOyQ3zXdLVRebufnMTGFyip-nH1F6po51pji1q5eLaubmtZQZtIjueHJbxtrbmGs0HsWssH2rxZH02aVzU7VaBu1hquVn2q5TiSqekk7yVpN7yT5M5dc43FGtHXXT0pk044hXnPVR5rpUXU5uNIgb1V51UQ8IcuvaklKHhO0YQOxnsC6hkx76zIbaUBDDl516zL8L+pID2L1lGiWQjSDnVODgNFgz9eNKQrQbcgJYrmChoiFPrFpV4mspzxwKedLi7pDqfPzKDulXa25NMKRpEClCI+mkOhdPBlzjw6N0IdkUxobBcSO4X6IjXxTXASB6N93cjYmK7aMbn625KNCJtfQ2lx6LGvjd5CShBhhNnGyTZOLdDUaNxFIdRDoHchdBkNYmjNYpuNlP9PO1AGIMTVoCyar6+G7qRRo5YcaPizmigMQz4b2bHgSFOjZZoDUqaSN6m1zVzAYUQlX1yG28kFus3EBbNpygOZ5sEHhRwsfIIhCvnA1OD06Nm3zVdyBgybfNyUtTSIDs1qtxpjm4jTJsuLlbCtPUkSpoTineBXJiUg9XGR9Rpbwhp5VGJVooD5a6AMWtDYtMpREVH2L7XLVZvHidacN42qcqalUrxaLISWrwSmFa2ZDh2wmrLWPKBh6ar82JfaSuoLkFSu1C3duVutSzTbGknUpbSWs20h831qxFNXcmrWRik5A+W5jYkG0WIHttahjL-VNR6pIqn8AbSkFm2igktPg1LWFvCH2wrtAi+GnhBDD4IUxZQ8epuR9EC8heJUUXmvGyEMjiRvQ86nXD60ObXgvGfbeusO13IEZJ2u5L5Dh2VFrxgYW8c8ERIyCy+H0u7cXQZxntymgpHwMoC6U6qBWopYYs4BjSSKxW2An7YNsBBEjuhuO8uuwoMIfantX25lSkTliasgdkIJLdLqZFp1Ft4O5bYMG10kjMa8XZ2RMSE3RpB2ISAAJxVBI0EgQOBAlmkGBvxOWh3YO1mmKZ6EvgQYPNgMzrF8mJIAzAMuYRtZTgw82ZjYBHbqRNBmglMGgAT3rNDFoovidYGj3IDDAPi0INHs93MQTe807OJ0QDxvsXagkh5lHvd1O7O8eetYIMGEjIZo9ZmsBBAigQwRpQ0mAnQVnHrxbgd+CHdM3sgRhkRwYOy-EWvS0rE5A4CQfXzWh13gBRUgZDTECPRgpvA6QGkOVwAU-qQkHwsYi0DWFYjNhVhWQIPiPRt8KgQQnrLsh2KMA19RXc-sWhpAYNJWBmdPYCEHRDp599s8IeIGICn6xW97SoJSor2W6IEePdIchp2hGgisKe8dKqiizjAoxMmWMXGUgOJpsxU8uRKesAGxisDkENKqgaQmqpr9t+5mPftTSP6LQ4IJiW9Mr0cD39MpXMZKGQPEJ6Dg6EUNAcBXmB-yRivKK-tYNDonBWIWkgwH4MAGkJOe4LCNPOSd4N1VzY7fYQQFvrbJdOxkAzqiGs7mEvOggC+1vwMKLtlgv6JrJrVK69sRs1BJCvea3kcgdAUBCbyX34INqW++ZDvq+Hz6OcPcZ4PYYIQ6Nz9hWWVqCGyr6H1DwMIw49ud1mGt5eTaROvXc2Ezl+1AQwqHnBx4yWgWaHVGwPANtaVDVAK-DtDC4HAYjtpdndoeg66Ho66BtbJgctlRY5+Nqmo0AfgoVGh1NRpCugeqO5iS8bR3MVbOzm0B14VWGTLmJgn1YajGVOzJkCzlK5sqHuTXFjhxwE568mIGY+jjmM65-ciWa2cZOg4THcD9AG6T8sSQZiKsPCHAzatfjZIBjU8urOzkDXgSHhOxrPCEhrw+4-cNmZ43Xndk8j7sWxmjg8Zbz7H5ggIQ44loP0L62tmg3THoB1UAAdLAHUb3UIGTCciUw-9vfbPt9MTqOPUCGIMz05iWAefW+ohNG4oT3S2E-CZEVdBIxSJgQRzlpSEAwUtpTWtanpOgAAAXoaAU6wmwgEkxE-gGRPFHNa7JjE24SxOAgcTsgfMGahuDblrDthnwBCYRNUm+TNJqjlILcEr4PAK+UgCvg8GGhNBEIPAASeQ0KmKTvJ-k6qdvY4dVAGprUzqaCGimRQQAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvcEbMV7emoKiU+r80TExYNAhg64KAky0KQQwKDQ43GxE3e2PM+ZM24E-EBvdCHAmIaQm6whfC0KzqABKxAGDsA8F4IYgDp7AMlp7PG89UgiUEQmf6Wtc4YM+lZESQ1mBaGNgQquLgdHEHgYgwwyDg7j1DuwuRCiuFx3oNxVEPxTEIOIEg9OVjN6hzUdrYGu8tGgGMkUQuTi8HOFcWYjxFj6CGN+m8YGbjSBkMCBjNWbdAygwYIEGQ+c8ScKMSoJxcCEEMEpCorJoIcmVHzqSb6fcSnJIYJ0VWjtrFCOybk-OOgvZgNjqkYw7RrbKCDhkjpqjNb+N1m0iGBchm1kcMzQpv0RFDTaIs0Zj0wjq1DnncECyRnM24ODMIDSuGHKWboqgxBjY0ODrECZotpF2hAecopVRqEzg+Dc422yhL33SXNM5Zx+keUQd8vRtzraUHuZ9HZmSXAzxBWbIpg1bmaFxJcrZpyAW+NSOkTI-z3ngNSCnD41z9Ewv+bsoRb0iXItAYosRXJJHeJ8XSqZGi9ZBPBOI5QXh4mcTWfytl4yOUJn2aK8EJzJYks4qKsR+B+F-3-s8h+ry7GgrBYTOWhBCAgm5Ovdlars5oICZouaBt9WGobkKjy2DkkxMseKu+NiXndxWRbUgYg4XtIleqwYQDNVRy9R5ByLSfU0KIAip52dCVZBjWG8wnyKWp2mkm2lACRhJvleCjxM503RsILGgNSL3a5u1cyxe+g3Hk05dvC1O43FWWKBXHV2dqgVFgeKfQvF62TN0cdKaUiRj9vCHtWWI9Nxi3HfYtFMpYEMCJLzPtVAFqNm6IyWd66mJbxrd0cIpRwRttAM0bo87fppSHf0BQOI2TdFJELRsjUgRpXvWWXw9TyRBVfWBYM459KgATWe6kl6Bk5IyGM35MKB3LS5egnlMGVbaKg-a6u9Bk68FiXQbIUG4MuCfqQfDybjFQaVSq4jHACNToTVPO0tESNTBmMCOm4JOiOXIL4KmxHlkrmaE-Rj1HQF1UIY1ZqSgoBwEQMgdA3U8Qxw8uNGsNz87W0rHihtw1RrKbPJNU6ktlKlGpJ9ZSzQiYC0RkZ4Et1pLXyYb-Rh3NeZpCZmTbg6nmMmSnf3Y+DcybWd0+U+gPzi6X383vTzZmp3vw4J-euxrDPOlKEF2Loi-OJatS0OgGnouDT9tSqzyWWinhaUgo2hWglRedOZ1IiSIn0Cie4zxuGiuKhS6V+rLiFxOpa2pnLXmVJTsgSQmBvWcMBeK2stmW4eEwPIUzKhfr5r4T0tMEbvDlUCMRqttbRRquKlq+s4ZSzJvtZKz8bFQcNlHMpdClWy3rAeYG3l66rKzsrA6z8UV-Xcs1ancotrn2LsLkB1Vl7-38s2uoEal1W1rMaANQI3THQtD6EddEvrO3ssad21ebJLnA40KLe5nHkxotmWCPnGydkHLOWpL4FW5BYFeR8ijm57aZaI7YAI5E3Ai1CQHPDY6CgImVlETN5EkwhZuqEdz3ECDqCi5oOLhgkuHD86jUBciz5-hC7q4oQg+Byhq8Iejhw0uoIxHfB4jIxV2do+wXw3nFu8d7ZaLArQIgxo5YPPQP5IS9LYIW5QsgNCpdu-d7EItkeo9NUIT7ysfurYq3N3QeRhot46N-ogu3g3gfZ4YsFlW1Lc9sHmoH5oY4NRhgoi+Q0lPNx84LrZeyTkXAy0oL4EgrPBA2t8DVHMVauEE9GkT2t8DDDPY0zLoKEaSduKWOdhNclmhYQd6TVNhafUT5LU9snseVij5HmeDxow01Rt32EafTKuFBa65EnrmOJuRYG0LVBvHa0TTR4k0pKT3FAorZk755FBfZ6Y-5NJmLF6PY37GSmTf6ky-7NKtKk6ebgZKalZXbbI35Cz65jQKCYrHabJjLAqW4rhBTV6hjkh1567Cj6AQLrCQrIazITAy7TBBQb7o4HgUo-JUqp64qcBoHUG65sHW4hYCBb66JzQn61iMghKcGSG8H3YsFPZCErB4GF6n5cFfJSEziBxkGxhBSKGfQyHEBMSFA0GiH+ihxBZYGB4+I8FQp3L-KCEDbmFD4WHD5FLH4OCWy1D6D8weI0b0pZCBFL7yTAbvT8Y8AbgQiQi+HlYahwjcA+GMyJH+E3hhHyJkTBLSwXLciMDG61xfxlyPa4F0GHQ3anYgJWEvrwqMhXZ3bOGIzuGy6DoYpd5EFHL-IhKlAr6xhrD6rWwYwFE8z8DxbfwhbaGOHMH-JPb2HTCGCjFFETGlECS3CiJ2Fx6rgQpNEwrLYTCPigCWFW5lo+biEJyrERZJZ+gKR0y+bhaxROaeohJHZpZXGZYV5Xh3E7jvEZblTPEez2HNAJoBReG-RBY-av4z5QSNjO6MiKrO5kxMSNjdh6gNHLHjH-FTHO7a5iHvACAJEWKKy1CvqsYUouZEkKwai3jch6h4mmog6o6kzO6H7TCmJe5JK+7yAp5gholT7Sh+GhA359IyxBZg5Zaebv50IbE1JZymH6ALGcEmLP5w4rYLGKieail36lYFb8Hg4wnkiNiByMicF6l6GjzY5qHR6JH2bcy-zml2ndz0Sn4357qhyBzoHmCpapyHwfzYmtYGkLSWxOkKl-GPEAl2x3TuYricHhklHDyOaSw36x5CE6gxAdog7QHMBhYJmfE4FQQhnPEKkPF5mRk3w7axkIH6ClkJY-yWnJkH6xluHaqiZGLibyCSZtQyadTdQ6CKa6pMCf6wI0Ys7iTsi8ZemiSykzYh6SBh7cCslk7SmdJsa5AEHG7e5swyoalzlLaLlbZumgrMrrlG4m6S7BEIZNpggyBWSnmbnAzbmkbx5GJkJDyh7ULo40ZdK1K3mgAFJ5opoJ5IkyDfnVLdJ-nfqoq-SOrcn+7UqgUrmSrgW-ncC9JTnCKymaG1g1n0Be6tw-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-AvxFLrk3DrILZaDpLQ302Ml-vKBbUZCqZGD87KDKApONTHX6D0dYzggHXHoHX7W3XHX0eGuxh8eyo0fPnuKUBd4zTQ0psCn1sydd7PDQSAPsxQ0nTw0QjXVkcwLGCUf+EIvKfxBd6KfS6ofWDgiEMQuSCdFUJ3rpoQd0bOcrjHoJq6TeYQJ0zOegAozKT0EErvSK3cc+rS6TpPzOfhALMFxtqDWlCIthcwy8dtrGSlA-sUD-uAexQgeSJud+jNBBctLQ6w7px+cBergWab4J7jbILRfWvHq6fHUqe4iOdJck4NcQ3ieI0M7NzMKuYCwY7NYTbRfdd+gHUYd2eydtdkB3pReX4NcoeB7whecj2te5SggI3pqev2ezekCCT4eIOxEFcREbe4MbgI15xizOcq1ZDRe7czdMBzdHeHRacjqncsbggADkU36a8Nv30RWH6NyX0nZnuIwypAAikP7TMl+KkHRKJMa0G0YsMPYnaE+yQgfLVkwQCN4IDkOkBsbgxYePVGyy8HLGG3qPtYUP++N4aPj3DnL30RVPk8DPk97PrXAHNPwTGFBbRbygJbFpp+qSHgMSu+EH3OMO-mda7nMTEIUvZX5c3Aw35iyCdaM7sQCL-P6wgv1AmgphovoybginEvFPTQtGyl8CCX8vJ6CNxZLmgRZv0RbiGFMPtsTOS6CCYvbgEv5RBgUOINSvZvbBztCeotQIK4DvLCQ3tXqp6cdaYdDDPvxgwMRa8UGg+g7vHMnvRvMSpvif7hRh4fnd45F3B4a3oBUjMHY68gxvqfkavq++T83v9fOsAu5vQ12CEf6k8jcvrfMS7fUa0R3fpf6kOvxb+vwvtYlfJQ1faeML5tCx2vhbuvQvhvA-Jv-1NCifR3ZlJfzcnrKfQ-TfAUIheBTvifbBQU+ybaJySdjvVvhARxJxmeNh8CYJ8dv0XeJAfvcPDa6+a3nL3UpAD26LQD6lThbRb0289OOruYB-4ENjyXCH9vsT-4adjuB4CXnLzkqgDvMC1KATThgEuA4BLgFAQ9k5xcILQxYcqJQHwBiJREAwCoIMDrR0UkU3eUmCwLL5UDqotnRgWVi0ixQkSLA--tmkGBkDYUZvDCiKi7QnQmKS8ZCEXXPCsD5+aWHyoxCQFFIWAMg8Smln0BaCRAJ0fipPH0HcQpoz5EwXm1-gWCzBygm8NYJhi2d7BDATNjfVUFf1kqygtsJ4DcGZUNBEJT3AOzcGBwVeEVZQe1VlL2C5BfpJcIoL5AhDkqGFTSDmRoCqYoBHlbgA4B3rAxF4DAdQCIA4CkAFojSQgMjmt5WE8CNaK-o7QpDgt7BCJbQXzRcHu14E8Q9+vfQqouA6h45XlhqVKCZCHy06XIVjwKG75WhfIDUs0FyAlC9BDQhUvYKOIWFz+FRVIIAOf4LQVgQULCFMIEQgC1h3AbYaF13731X+hhd-oQGOEAMOhxSaYXWgwpHRb0JXEgN7gqApxfA-hQwGyBeFcYdYhgJ9CIPopM0CkcvL4W8OBi-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-dfmgpRwaUQO-SfDRgVkopMy6KfWriB0ZgajECG1ScFyg1YaYNV9AeCkGI2mBSN3U3Ybhpli7EiN5sTDXvlsHuxkN0FTiDUDEA3JgYIqiDcoKY1ZrSB9AfFvgCxnob12Ca61WRqXqdFZN68FTZXV4WSqZR0RUDdJqKUFpi8dGiQWpvaX7YECDq3nNRpU24U6AhmvdjkSjwZrb0oCIqArxEB49A1PPBGjpuqCxsZYRG3TfoDY0Yb5NmaxTYeyC0FhAttG9jTb2GVDUORZAG0Wqt5EOjnQHm8ZZIQi1ggst1+TTdapQgNBUJ-mrGaxui0YaothgWzfMXs1oRHNAYr2C5p3WkB3NZmoNeSNo26bfNXCfjaphjx5bQt3UmlfKIGkgSmYI0mrS6HI1ZB0tjqnrVR3M3Jc92AS2IPMtglGi36D4WwBNpiB91oJCyuCbeg21bbYIIJd6AVqKB1bBI30RrQTxa12rhVnm7gHNvUGZlgpDHNHAzKuGcEoBi9c9ni1cTXtj2fPVfpPwN4Oko0IWpzZOF-QyraVcq1LQ0EVXGQ3t-AUmEkITiHw0cY7G7lrjGH1LEmlYFXqE2xELVCdZa3eYQLpxEMqAqdUgL3gw7ZzwFoSCfnrzB0MR4QdcqvqtsWX4rIF9chNIHUu0Nb+AEIFnev0Dh3bwCD2lJQjTF1T9TCsbRsDcCXSGNXhjIAAJwnA-NPEV4etto7a7dGuumFXgg2gfAntDs5BafIR4fQDC9tJBQOBcDjlDpFuwoKrq4z6Bvu33KyGgB93BrFhpCkJG7p2Hd1VlgenXVxiNHOCqEPo2URLH3wuAfIAFZuarJiBB7I9JuzcAKWV00bDdXGcTYIDYCcZuMQ5HCtSU7WQ6Axygy7ddpF3sZC9XGHjDPysgzaB8-OevcXq9kvaZYm-VICKuqBFQTwZAG6BYlU5uqBArQRkNn0ZzMAvedfcXuQmMD0E6ARUeGkcA51MQBw4uUgMPrwTrVYuByCCSrHhBWEg9EIbyD5B72gAYef0ZffwBiDn7-I5OooKfq55xrjgxxB2ixAHBxSmAdA9aC0hzX+FWgtuhoBWvIz5q61zagdZMqz6ZyYgm+ofTzV33zN1IFiRqibHdnBRc9AiOJufp8hxTBAgB0QHge8iP6TibEP2SsFP24G8DV+nnotBWWNQSDpBv+mnqknKqZVI22rb2JCay1X9PPBHWtnR0qxMdpMVoHjoMBk7EKbzDTCZpiAt6s+JyPbWtqkkJoe4n-BBpISECGBHIG0fvfwA3TgsJ9QIKfbnx71rpqEaO2-QIFQ5r6ji59JmGSQUPiHqQyhnnYdrUN-r4edGDyupp20FwHImFGSdp2jHkBZI0ENfODwW3CGUhaOFw+630q5aaKROjprIbuG0Cz1P+zNrctLVQQ8ClU3tEWot2bo-AjIJFdVP7WuTB1d8jJYkFRmFpu1MooNnpDxWHbugdUqo1ivgl+7YgLm9owXDildHb0O5WMCupbVfqOmDHD6jCgLVSqGSuc2hbxo8inrREu07I8pOPXkTMWfkxkG8CwwTYr1s822QUeUW1KQDNQzFluiBDlGUVNUs4-fUbBTH6j56powCFlqtGNR-RjFVBiGPEweja4EXV8eJXYqZ2WEMnhMbeZPGZju0k0fMcoND4IoPehbd9zwn6Bd5AAHSwAlqhi3uWgWrmCB3oBd6TZJtLjQhe794iB4wDVCRMiqUTOqtE7K0xPYm9Zv+-EwdzXSYDeAJ4ffD0CwhcnQAAAL3DagBMTRQVVXiZkAEnkjxJwU57D2zknwQW+4fYgNQj4xqN2h3Q5uBRM4ngYEpqU9MxSJsYwjVkFgHj2UB48+Wkwb7mmDwA0mBD2plk3qfZMGnbexpguKabvIWmOdCp-yEAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-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-VjoCMwVw8SBjMhqVRK-ExvwLG3WFD-bijD7HNIpOvWKlqYswMQ0xihopPGUi1FCLUNCSNm2SBIMopd0km4zE0sUfmZRNOmugaAQt9TQAlp8ICAAVGp6R36OiWftipmzAo7PewM0aAAkKEeNSM6DB2IMiQg-ZGEwhWXeglERr0dig1h9MDtFbMoSWjSTzJZNhEnUoJ9LMovk0MykAtemolgIDrKJq-nAvBZEY0ASnHEMYzxlylVYQ-M5Aq8Iq8-o9BmxE013r49xYpdyxXND-6BPQZ00S7DJDny9PtdEmBPJ6GVY6wF+E1Z3RFYWBwsCIWjF9NmQt-4232vkKQf+PLmzjN6bS4p2+FIUllLHS-SFdLwnMpdhy1LmI6XVPUAwI4wNytkuW+QgS4TMWxcMKAZz0pOj-dAE5kEtml2-dxRDrWzgSPhMbdE3lpWBXKCFZq7xBk-uDBh3SOHPaL1I1aY6WpE7NJm3NTaUVCqSM+RHXtgpon5G4N7bT-hyikPtOezSulKDmUkeFxaFjZ6ZOYmUWduXMu5RrffJMlB6a0tfhQTTu+-DjszdEU91eSv1fIItXoI3XDKwW--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-fsSsJKzG3nxE1PCQXFnaQKQO4PzI-AYB8iw1VQwOsXoAA6QB2YCCsQAsI5KccYCQI0bRosI39Iwx3P7olOQMzL4AQ+igXOo4usozleYB5piK6Yw9g8MYCdQ7hLIHQ0usTU3Uo8zOo5BkcSYICHhbMM+h3iwPw-nFA64Hph45MFAqI3LICFAvYjyH3GYNsFQkBq3C6GE2YEEF7DE542YLNUCLvBdgAsQ744FacICLvGur-YyBGIA8A5WGA0ZGE-ug+v7L8XHFGGE1sJsNyg8OiGMmVM4rEy2aI8Y+sTYyzG45k52h0zCbMisXg5iZJNJKiljU4nU0k8M9EqM4Cb0+MN4O43JIM0kxCqsdyuCEEyEsWi4+pICFJeo9HfYK46s0g62QsKoRU3lAAr08McJYMOdDqGE+OS2LE2c9oys4wCwGQwsKCbEHc8g0CAAOR4N9zYMQvBP4NglENhPOPnMszsyMDqSos6P6M0k+NPAwM+A6gYvSNNr945A80pi+rHHVzCgpj8jeDUsuT8w3RXP-wO3IuZOEsfNlAcuss-NuMAuPMEsjhot1oujcvLOEtRHOBF0l2kBl2WgoINQGQpxdpeOzQ1Mhwrz+MeWIHdKxybj2ytP+RRgrz72hDE3StUiyuUBMwsaKvXTUh2MqvMugLgLoiav3PauLW7x-SR4TPCEETOs2BbIESSugAYvyiXJ4R2vKsrzhZVNqsxy1OBQrzvp2kr38kA5QLjOYItMr0zPJsBs-mg1KvUgJjLLMrE3hvwiRvRsOsfE5qLA6rpaaRj3tmFGAjCVauqE6iEQluyBdCfKyRZxlC9v2v9vZqdiwutvVhCNSVdvMBjtlt1xTvptts5MWul3WvysWp7OguqHTtbmibmvF2Wtyu2ujspyOspv8v2FTN25JkO19tLtMM3bWm0auD+uNvvpfifTevAy+s5vPApuvujYxYwYhu-pt0UjhpAcBs8E3O3vuugs6hIfXMGldrGlBohr5u8FwgRpkEShoFcwqvwf-KIcBtat8EUembodbxAiBqnKY5c5Fh-2kzPJAy0uMCVjkA1xeCzQdDBgHCxuZENgwckftucfCj377ADultcevgcrCdYsNg6hEcNtMF4ANzeCx4tCgSI1BaSi7ntDkD7xv19TDAiQd6gBrS-KyC9RrTF7F54KJ3UgGR6C6RwiDB2B+iMAdBabFneMCzee+p+edPQ551fqdCVOZLqDucyCedew6jBe+dKw20oMITJehcOqHl0Buceectto+ehconN6QEXCgR6Crw-ak7oK6dZDMqfSWZ1cyAOZBl3hokIJxcsw8CDAeeSATR6l0oMoeDNfMr8h5fxeSA9dDBuio7leYM-nWCAbDejeFF82dDvrUkNjrcdCKnuqgfnlhB0qZdjeuekBdf9cFcrePhNsaKAYndrcRfc2bfyJfg7d7dyZnm85fguiZeLfBlTmQdpn0z0B0sXfTd9f8AFkjgvdDeEAjePine5fnd9fTcuhzfNe3dFAErXegQdk7cvfnH2AXAtgY+PimvyKqHnSo+I23uQ-Q+BkU+zLo81fzeBn-d8aepRLHchghdI8TcsxQ8zfZzw+Y--epAEoPenAE8xZeaFC9kk9Eii-k9YBy+T23uqH081Ew9M8qozjK+gTDZq+gCc9jYKoK+-e8++cM-i9-kA9KnA9Ix6VaCkA9H-N6lCSzsZDom7v9EdeLCiZgJsDtsxCyBce+-ioAKh90ubH3FDEsCYeMegBafkIHnNeWnWAhn-nO-kCu-hR0op86eI8A5mzNeVdVB0rGfMqF-cePjDH+-5g0UGcA41+vhl+AjR-h+M13hmweAxAxSxDbY2-weqFD-a+sb35986IcnbZ6BT8D+TDwc6jz87EYEr-sGGrr+L8ifhEthb9r-98ck52uHYFLh6dMCeHwfjfndj+RF0y054R8oHBj9EF+Ej+3u9+H+D-oPk-j91p39KZhY09KgI-Do6uFycJpIfF0EXCSALOOiLIIwFXh3g-QiwQZHB0O7vsl4TrIstYFexf8dA72fAZIGP5OkCIgwO-g+U0hb98eT3OzLzgAQkAdy0A8MLANJYICMOF-J4DbSDa-1UBc-IgZv3wFY9TyoHTAaoRTY4DPYqhFAepBQ6FtUCDcdSFRy-Yc8vulAhsKVA+4m8geUKGQSq1DYXFsgLABNvjmDBhg4QS6OgNNzMHaUEwdAAbjv21i0luoWrGwRYK6D2DKusLbtghCsFEtfkPDKIEYJMH8o3BlgoIY8EV4GBuouvOWmEDCEeCJoGBGIB3iyDF0wI5gywdYPkC2DEhqrZwek1AAJDpA-ALwaZh8G4wYhomSrodRSH51sgSKBIXoGKGeD-BGiGoW1UMGRCZw3UJgqSQiHGD8AYYIwCJEwrAxbCQwrQHykiB2BHgqjYIR7XeTjCXCww6YV0PcbrD8hPjTYVqxMyXY6hjANIY0JyHuCK68iIUgMKNodCQqkw5RrKBmFGD5h3Q+GLMP+Z9C+0j-fHN8h3S9AMYY-HCAbE4GsYXs9tagQDi37ECAsJ-W-sER1xUD8BNA4MJFw6Bate6p-DBjJCKFaByBwRbwVMO8ABYbKrvfgdPw35W59+gwAETiM8KhtlgdwpwJICJE9E6RlI7EUCImFXl22+ALUJ0BWJatAQ3IwkLyNhYxcR2bIgEWYC1b2k-cpmCIIuBHpaBJRHrXusQMUDFhfhksFkViMBF+FYWZHUtHSPCY7B9RPgCUV23xEMimR3sQ0bELygugJRtowoHSI7yEiXePRHtoqMdEikdQDozer6WCIAsBRPInmgYJ2JZAeOq2AYb5VsKqEKq1wq7KUBK6EdRghkWaAFkk51M5OMIQYOGy1Hhs3+4ue2kyJWgMo7UzKZ0QSMZFui9AuYtkRmNoCDA-RKqfMbCOU44hixtqJlFyODER9QgBWUoLCzrLhjII6wrrG6JLEmpQ2hAGQv318gKi1yYZbaIw0yaGikxYgYzg8LmEecIe8XBwd9ntrw5jOXXHcXCC-xtj5g-2aXrQM6DUIExcgSUnQFDazio2fXFEPOKq720POzKD0aYDhG8x5RHnMwKI13iSkPO4UcMaABGIAAJHWpIAACC4AcADrQABKIxSAAAHkTayAAHMYR-r4B7ArvWaFmOqzziXR1IrgfB2nFjBnxpEgkYUI3HPiy2xEzrBWKcAAsNx6gdBPWPoD34OJpQIiWH1Cw1DHBzgaCbBIQlITUJGErCbxOJ6MTZOgkkiaxOIC2ENxo458ZIFfGdRlJdaPkMxOIA3J1h7HJGF+gUl0slJFo9OgWPPGwgBhniYYcTTFQAj3AuVTYq7xDDaQ0xAk8yYFGckJ87C9IqycESZ74Tc+zlbiQJGUnkTAy4E+wLYEZZRQSAVnAHAAAYTCd4b9CcnagJTdWSbALJQAODV4EpfoJKd4GZTTpVwJUxkGVPWI8A-xOICqZaiHwd578ZsTKQIjr5j9GpCbHpJWAKkxjb2uTe2KoW6m5TY8BUgrqQ1DZ2BpIHU0CFIBiBGpGWH4uLKNPVZ9SOgRhN4tlNXBjSNp5fXEmGjsBjATk6gIyEp3Gz-jwwJHKJAAjanbTZ+dHNaYm3GkdAhyWicQdRxCQPNb2QQk6WdMyYpsvRf0yQKdLkBGRlBk7aJMG0WA3YbJQwY6aDIBmNS1xzgYMBGh0RSAC2iwZMmfyyDRSkBR0mQP9PBlloXumA+UYGUkEqk9osXMflTMO6XTqYFeLQSIP4ySDbSoIwgaSPrIkDhCBM1mYUC-AeBERzqOgSKQATcj+MLJMBCDLBlGQIRm-YQbxlV6m9JBGWcQUqPLIIziZSM0mShwhTxM5ZAMvgoGzsQEA-sMgLQVn20GLidZJM86QG1DYqjvhpKYiBVxf4pl2RIIuLGCKnxEC+Z6IGETSMxCAZqBKTGXodze7EA9iVYsKSSIX5y4KRE9OIdYGtACyU5JvN9hFnYTXTrQ1KQWngEszFyoEeAnmdzMTmBzng6c9kVoOFkIiI514lEfNnC6xyrRQ-JsdYEVnkihBQSDzP3OsC6joZLST4cPU9lyABZI2dmYBnRmlYsZuQGucHK4FeEi5JcpmfMCDFCiQxU8rnuvKY5P90Rv-GuRQLjSACKQJANudWMWDTdFgQvayXbPtLdit5vYozJvKyA80RRtMkdjfImhSjpUeo3OT4Gvlaz8sI8p-qqKWDSEaQFXa+YjTvm4jZRgCkegN1RGjyugrsqBZQBgVC9YF3smqmAGLmWYAF3EA0d1AaYIcDRv8j1hfMRJxziRLoYBV6JsAMKJoTC6wDQpZhWie2VQ1OecIQi3y2hvWb8rCzfm8inxUgRqb4DqzoFSOGUTfNlGkWAikCjLAjixzZLTiowKMpfsOyWkLd783UjlFopEktwfGpkN0CjLNm3jPo6gU6XCCnQjhwQsLVBuYuWnvCkYSdXCJIsak5ihWcKSyT4u8Asx75kOJlKGGyABZGp5U2UKCDmlZAFpuQFGWljpQcKJxZYzNrMhSVWjaxgUthZzPUXOIwlrWFGbkpsAtiQ5dslJZ2KEaCj35L80UnsLQ6HogGvi3RXpDdjqRClES5abEKHH2ARxUYypUlBNSbQIJYkyQMhP2QAAZHWthLvHpSu4BE5yo1Min+LvZxiqiZCODB4RaJbErVgxLzp4QEwyynZSpNhZ8T0ExyjAucp2lJRhJ8MsZRMumXgBZJloeSTcpWWBTbC6wkIQcDFRqSoxGkrSScsEV5RlFWQQyQMPBBM9-lrw4Yn+zBUyAIVrw8EKjOhSBwWYxyqKWsvhnfLbhjk8VJEraqbEPFNy1pbTxyXsiQpiy95ScoJmoqaQJKVcBixrG+LuIFKv0psPg64qHJowkkpyJCpRJvlQ9LoE0N5ymTvJ8nTrNkrImUrec8YpOsculUEi6VGeDlZcOdlNLmVGLaKZuPd6Fi4sO0YQMyiPFiduWgIWDM0sCUZ9PYhqkgKLORFasGVxFS1WixZWBKdVOw0zLatyBqc3VwrD1eqqg4ShDAvqMYNxMhGbK5x3E1eJgOfF19o1sPT8fF2ZSArJub46NVoLpSsNBisucNesNDpNYYVjw-LkCG4lIqjB1q0IIsCCxdcaW+k8tY8FHzRJbm+kwYPGOzUzSO0+k3VVjzVk0pbs-Q0NTcojU0SjF+4gOpZOZRphQwGiwKIktDk5zI1eEOvjpMTVxYvxAOVNSzDfE6TM19tDtbLm6n5qjgLJItVuPi4phGpDalgJWpsDVq+gJahFdeqbUhIRpjLNtVVQPVygj1lwoMn2sg5nzTQAnYdb6glWiJo1si0lRBq1YycoN+kgFrBu4n8N4N0nYDUhog00oQ1dgMDa+Bzo0SM146qHJkDMmSr6AzKMZRJJQloTMJzyzEBRsQlUbpJsyltYpIbEBDDqxGnDf6CDJfhAQcCJxvf16iwavFy0yFFhqgIJS8NBy1pUGQL5yAugyy8jTBPGVTKZlaWB5apuY23tvF7GtqpxuWU8bNIfG7SAJsA2RQj6aYHGiilTRbCBYNm7-DeUs3Qgu0-nf8nIOnj6L202iKzSIAbaubPYyghRovCPoaUfN3oFzbZrKD2bBNFIXDKFuc02btFTYaLbPl6jjx4tvmiLfB0C0YFv0OgdyF0GZWJbjF7mhRv7ks3UBFpTm3zQGteGqsLNtAMLaImq3r1Chaq14bCwq2LTx4LW4jr1teiOiLVzK3DL1r0D9auUxvd8u1qMFMF71wxUlscSG2+L7YXWlSfMqd4SAcalW3IBlvXq1aZtkGkLZtpRS7auYhQhpWEEITVTDhDQjIbkLOEaIltgS0jD3CDDHaRAzQ97a1v22PAJtmVKqqFu21tpUYp2gSKDr+3Alptv2rsHNr42MBFtmq5bZSM23bbu+QMPLY-CVRAie1XKuyXit5XipH5QVVXvIgUplpEdz2jHfQxdXqRB2nclIL0ojG6rXyq6SbX2OBhhi+lkY2FbqIHlgI5YfclIFDv+aihYdVLBHayjGAYt7YVOifj-V8ghggssHRtvBxIx0dz6l9EqDfTgKhsN2VrG1oaix3C63oBjV4fZK0D4qNERO4JArtYYjJQ+fYM8CMglJvMMU0UthdbnIEJU-R6HZQI2N4U2ADkRyJPnSOsKMADyJxVXgPNCCAg9dZ7UglDNcSM7+lPOhBebIF3BJjdoumtbHpPabsDdO7FME9rRb2w49W7FjIzTpTCQo2elcwcygACcVQO8LXu0rM7-NzeiQPpV1XECO8vgQYCpL1KYDaSJIPUmrMAzOBCiKUwnjYBb3qQwWYLFMGgCX23rM+agkJLPsyaGBlZKQWfd3uYiwNvlyEOtM4HuR35AeDvGfZ3vMF77e9VhavWuCv3aVUVNi7SvYueDShQ1P2vVfDOF3Z7FqL+uxeMArwS6NA7kGnfbAANv60dSMC9tSBp1-JiA96pIt4HSA0gZaPsqHDtGZRVsLkLQKNrAZWU9x39iBgzkcQqAoq0sgGEFIwFQPi1QAKTL6EKMZDgg9SG+wEHcnuQEGw2vi8QCQaZRRpoqlQTOaEA33isWlO0I0FnIO42zAM4anjubDDUCcl0Ehl7sJoSmgb0NaG7tRyhUNaCqDKB6QnQYYM0gsgzB6fdYDYMcG7kOXHyc4Bk43irDdyEUFIfZnmAbZ-6vKJYccPcHAl9KRlAwEcNOH-uu+0cYKrsmW7Cd-KlkmIee1NiHdgYJ3c8B2ju7fkfuggFVXWSxDi96LP6JzqZ2ji5YAEOGWZsTg3kcgdAE5LAxiD3qVpmB7A6yurZ4Ha2hB2QAgfvXYNyDWPS8qCHhzZGaxuR3QMOO52PDCjhm3mK3FcJ9FQWwIF4kyJ2LajVAQTDzAc2RbwH4jjIRI-0a9iTG60nu9I4dXWTiKl1K6xUZBqBb6AfxhsgIFtmumXHNoBB+A2C0k56AA9AAHSwCSLhV4wGuPgF9TuMBd2VeKhCgVQL6gQ1B1A7hSwAPHmVTxrMS8d4XvHPj89flPId+N-MFRpaQgEkTrQJdVCWJ0AAAC8o61gd42EC+Oom-jexhLkSeBNNZQTgIcE9IUhNy8bgZR+gJUZ8BPHkTXQCk+iamovMSWxxDwMcVIDHEeahoMFhCDwDQmWlXJjGTyZ+OUn+TnrebUKZFNimUV9JkUEAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-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-VjoCMwVw8SBjMhqVRK-ExvwLG3WFD-bijD7HNIpOvWKlqYswMQ0xihopPGUi1FCLUNCSNm2SBIMopd0km4zE0sUfmZRNOmugaAQt9TQAlp8ICAAVGp6R36OiWftipmzAo7PewM0aAAkKEeNSM6DB2IMiQg-ZGEwhWXeglERr0dig1h9MDtFbMoSWjSTzJZNhEnUoJ9LMovk0MykAtemolgIDrKJq-nAvBZEY0ASnHEMYzxlylVYQ-M5Aq8Iq8-o9BmxE013r49xYpdyxXND-6BPQZ00S7DJDny9PtdEmBPJ6GVY6wF+E1Z3RFYWBwsCIWjF9NmQt-4232vkKQf+PLmzjN6bS4p2+FIUllLHS-SFdLwnMpdhy1LmI6XVPUAwI4wNytkuW+QgS4TMWxcMKAZz0pOj-dAE5kEtml2-dxRDrWzgSPhMbdE3lpWBXKCFZq7xBk-uDBh3SOHPaL1I1aY6WpE7NJm3NTaUVCqSM+RHXtgpon5G4N7bT-hyikPtOezSulKDmUkeFxaFjZ6ZOYmUWduXMu5RrffJMlB6a0tfhQTTu+-DjszdEU91eSv1fIItXoI3XDKwW--DjmwJGbe7cgoayZuDHfeoV9i6wW0WVmPTNN233Pb00vN2guXS2TubjO4EqBJHo-G9fO75U6avcrvCngQ+TBWDsHPlwK+aA1p3YlM0adzw8Kry-Nck4AOogjn1xSM2XipWgj4j3QY2OV2M4+jyAqJKyX8vnL9Xnbf-Gd9AN31DnckZENYKS8lyKrKjOrxNnWZ0eT4BTMSxfw+qom16pKniMqe6r97zbZaY1t+gG6qPUNVlXbu3wGvvvqNr+DAmvftVhONUipfxfiNFfqtDfhtE3ndO4mMCzjBFahaK-pfv8ICNAWCIMLAYyAnAsMgdbhavAdrPGFlH0Fri5PRigofhSMgdotatgTaLgSXD+GUCghZP7k9GrDSLoATkTiKrgoAc4C6DPv7rhsfBAtwTSkPAhPwXeCwdQLIObOpEIU8GHt5tpg2OZqMtKtrpCHSiMGMIzM+s-JwRaMynLFUP7i3tKmJNWGmveMmrQWZisGsGglYYshgfIQ9I4WoaCFMEoVCjqK4S4dKixjVtKl4dDModTG6H4eAWIHjvyvoX-vVo4YMNaFYR4FSDoeOqIa1LKDoCMBYYqBTHXgjtkbkckRdkZqoWYVgokdYWjl3mkQTmUQQkUboLkfbhTAADzNE5HDDUF5oHYtKMA7J6CAgAAqGQbixAcIko+c7gpMwMCCMcnQYCgIoAAA1KALzs1lEDEDoN8hEo4WYOsfbCsesZsaEIYNELoHsb0aurMlsoMb6sMWMdQAQDICctMToLMXkvMTCpQEsUCGsRsb1jYBcTsdcW0YcUCCmICWcSCdsVcfgOpKUQLr1LAvAogvbnLvbmHpiJIeIt0BkKJCIVAneC1luNUaUTFrquvq3BCbCTQvibAqJLCTEmQKwTsRwfEZLPzrCWAvbscKcDqHScCQol7KUSyZooDjkN7BCYMC6MiWlgplAoBs-AKfXucLoSzHEcKnAVSWED6g4dWAGsQOkOSsZqCLGrxuhnqaEHSq4cyoIeYdRiEl+GSR4U8GdkEZ4Rniqq4YEe6axujmEPJnGmEfMM-ASQ3GWj7qXmIBHtWFiWgkkeoDiaEHicoJGUSRkSSUDG6W0cmWjjaVCrpgLMKQqgyRmUyWzsCVIWwToJyTqdyUUo0SkHyWgmqV7GWSqgArIJaDqMkQWS2Zdm6TOAcXKW6AqVAtisqQSqqYUdoZlkzFqeqo2bWMRg8YaYqMaaaTouaU8FGpKLZp5EGQptaZhikHadKg6WRp4k6QrtEq6f5gGZ6QGY1iKRKgEa2n4SeaGb+RjvWpmdGS-FngfFVEfCfPnpwJfLwBgLGT6PCsCqCiiuCtLBlvgXrKiimAhYijdPfthZQEioCoHOBiHChdbDjPQZyptHSvhUijngDudMAp9BqPbDYBqLMm+WEJ9HqKxdYHqBxV7p9OZrxXYasAJUxf3oeCJYeOJYUJ9CWXIPbApRopxaEJ9DFHQIHKoHCPbBpVpVMfIqpTYJ9AabxQadEkZdYJ9MJCMLNB4HQL9DZcMHZQwHlJZQjv3qsSJTYHoHhIMHCGYEcAAHygDXLrEGXuWfQ3LeXWC+X+WBUhXXL3IRWCX94OaDApBxWgABXHCJWgCWbZXWCRX97AAxW-J+XZUJWhWgBgApUSWIEACkZVWVOVwV1VDVhVoAxViBde3lLVVVtepwAVqViBAAhCcH1RVa1XleNQDsNfVX0ICO0c1VNQNaAJ0dYPNXJf3u0UcDFf1bldVbtZtd1YtUFStfFYddciFSdSNWdXtRlaEAdW1ddQDpVXdcMaNWVdVaEG1dYKNTYFXsAhCDRdEAigRUhY-m0ccFAsJKJBqIMLRZDd6LTKDYCohcvt6MiB4AAFYhhcww15Rw2oqHVCVg2IX2xyTaruVhBI2Y2hYQhYBo3g1IpLbw7nSfSfouodD2xc12Y03vlqX96QDEBfrMQ6UZUi1i3MwC2C1WX95OWSCwCQC8WK3K2y1y3WVaDOUACiIlitOtGtgtn0AAcqoCbWVWbSbUOSKSDdhmZuTThTun2J6YTYUMTT8m1b4XWnTWzXbXFr7VNnKIsm7SkB7YdVTYaIjY7RDc7YGLTP7gMg1OjU7ZSmih8XrLYUnTEKpjot4LChyTjaoGoH5tEEzNWeKnTURVkEKKRVSj6YUH3JnRUGED5r1L2Qgg2cTrYTEbVCucTqJiVjonoHTXRPmUCe+YHUHmrmOYPdHKViPTHXRVVNjXjRQFYRKQ7SnbHdHs4Q3WEAuZqV3UKNRfbQuToGrKkZYv3UKIltiIgtqd3SYdnmBbnqfBwBfNwJgHBX1LQFEKoBQJIOzIYK+MJIwEZNtrYbpp4N4MZKXC2JA7cYUAAnJPKeGIIlkJ2ICYCJICcQ7JcbsYiXA5RYgxdmAnJIg-fsSsJKzG3nxE1PCQXFnaQKQO4PzI-AYB8iw1VQwOsXoAA6QB2YCCsQAsI5KccYCQI0bRosI39Iwx3P7olOQMzL4AQ+igXOo4usozleYB5piK6Yw9g8MYCdQ7hLIHQ0usTU3Uo8zOo5BkcSYICHhbMM+h3iwPw-nFA64Hph45MFAqI3LICFAvYjyH3GYNsFQkBq3C6GE2YEEF7DE542YLNUCLvBdgAsQ744FacICLvGur-YyBGIA8A5WGA0ZGE-ug+v7L8XHFGGE1sJsNyg8OiGMmVM4rEy2aI8Y+sTYyzG45k52h0zCbMisXg5iZJNJKiljU4nU0k8M9EqM4Cb0+MN4O43JIM0kxCqsdyuCEEyEsWi4+pICFJeo9HfYK46s0g62QsKoRU3lAAr08McJYMOdDqGE+OS2LE2c9oys4wCwGQwsKCbEHc8g0CAAOR4N9zYMQvBP4NglENhPOPnMszsyMDqSos6P6M0k+NPAwM+A6gYvSNNr945A80pi+rHHVzCgpj8jeDUsuT8w3RXP-wO3IuZOEsfNlAcuss-NuMAuPMEsjhot1oujcvLOEtRHOBF0l2kBl2WgoINQGQpxdpeOzQ1Mhwrz+MeWIHdKxybj2ytP+RRgrz72hDE3StUiyuUBMwsaKvXTUh2MqvMugLgLoiav3PauLW7x-SR4TPCEETOs2BbIESSugAYvyiXJ4R2vKsrzhZVNqsxy1OBQrzvp2kr38kA5QLjOYItMr0zPJsBs-mg1KvUgJjLLMrE3hvwiRvRsOsfE5qLA6rpaaRj3tmFGAjCVauqE6iEQluyBdCfKyRZxlC9v2v9vZqdiwutvVhCNSVdvMBjtlt1xTvptts5MWul3WvysWp7OguqHTtbmibmvF2Wtyu2ujspyOspv8v2FTN25JkO19tLtMM3bWm0auD+uNvvpfifTevAy+s5vPApuvujYxYwYhu-pt0UjhpAcBs8E3O3vuugs6hIfXMGldrGlBohr5u8FwgRpkEShoFcwqvwf-KIcBtat8EUembodbxAiBqnKY5c5Fh-2kzPJAy0uMCVjkA1xeCzQdDBgHCxuZENgwckftucfCj377ADultcevgcrCdYsNg6hEcNtMF4ANzeCx4tCgSI1BaSi7ntDkD7xv19TDAiQd6gBrS-KyC9RrTF7F54KJ3UgGR6C6RwiDB2B+iMAdBabFneMCzee+p+edPQ551fqdCVOZLqDucyCedew6jBe+dKw20oMITJehcOqHl0Buceectto+ehconN6QEXCgR6Crw-ak7oK6dZDMqfSWZ1cyAOZBl3hokIJxcsw8CDAeeSATR6l0oMoeDNfMr8h5fxeSA9dDBuio7leYM-nWCAbDejeFF82dDvrUkNjrcdCKnuqgfnlhB0qZdjeuekBdf9cFcrePhNsaKAYndrcRfc2bfyJfg7d7dyZnm85fguiZeLfBlTmQdpn0z0B0sXfTd9f8AFkjgvdDeEAjePine5fnd9fTcuhzfNe3dFAErXegQdk7cvfnH2AXAtgY+PimvyKqHnSo+I23uQ-Q+BkU+zLo81fzeBn-d8aepRLHchghdI8TcsxQ8zfZzw+Y--epAEoPenAE8xZeaFC9kk9Eii-k9YBy+T23uqH081Ew9M8qozjK+gTDZq+gCc9jYKoK+-e8++cM-i9-kA9KnA9Ix6VaCkA9H-N6lCSzsZDom7v9EdeLCiZgJsDtsxCyBce+-ioAKh90ubH3FDEsCYeMegBafkIHnNeWnWAhn-nO-kCu-hR0op86eI8A5mzNeVdVB0rGfMqF-cePjDH+-5g0UGcA41+vhl+AjR-h+M13hmweAxAxSxDbY2-weqFD-a+sb35986IcnbZ6BT8D+TDwc6jz87EYEr-sGGrr+L8ifhEthb9r-98ck52uHYFLh6dMCeHwfjfndj+RF0y054R8oHBj9EF+Ej+3u9+H+D-oPk-j91p39KZhY09KgI-Do6uFycJpIfF0EXCSALOOiLIIwFXh3g-QiwQZHB0O7vsl4TrIstYFexf8dA72fAZIGP5OkCIgwO-g+U0hb98eT3OzLzgAQkAdy0A8MLANJYICMOF-J4DbSDa-1UBc-IgZv3wFY9TyoHTAaoRTY4DPYqhFAepBQ6FtUCDcdSFRy-Yc8vulAhsKVA+4m8geUKGQSq1DYXFsgLABNvjmDBhg4QS6OgNNzMHaUEwdAAbjv21i0luoWrGwRYK6D2DKusLbtghCsFEtfkPDKIEYJMH8o3BlgoIY8EV4GBuouvOWmEDCEeCJoGBGIB3iyDF0wI5gywdYPkC2DEhqrZwek1AAJDpA-ALwaZh8G4wYhomSrodRSH51sgSKBIXoGKGeD-BGiGoW1UMGRCZw3UJgqSQiHGD8AYYIwCJEwrAxbCQwrQHykiB2BHgqjYIR7XeTjCXCww6YV0PcbrD8hPjTYVqxMyXY6hjANIY0JyHuCK68iIUgMKNodCQqkw5RrKBmFGD5h3Q+GLMP+Z9C+0j-fHN8h3S9AMYY-HCAbE4GsYXs9tagQDi37ECAsJ-W-sER1xUD8BNA4MJFw6Bate6p-DBjJCKFaByBwRbwVMO8ABYbKrvfgdPw35W59+gwAETiM8KhtlgdwpwJICJE9E6RlI7EUCImFXl22+ALUJ0BWJatAQ3IwkLyNhYxcR2bIgEWYC1b2k-cpmCIIuBHpaBJRHrXusQMUDFhfhksFkViMBF+FYWZHUtHSPCY7B9RPgCUV23xEMimR3sQ0bELygugJRtowoHSI7yEiXePRHtoqMdEikdQDozer6WCIAsBRPInmgYJ2JZAeOq2AYb5VsKqEKq1wq7KUBK6EdRghkWaAFkk51M5OMIQYOGy1Hhs3+4ue2kyJWgMo7UzKZ0QSMZFui9AuYtkRmNoCDA-RKqfMbCOU44hixtqJlFyODER9QgBWUoLCzrLhjII6wrrG6JLEmpQ2hAGQv318gKi1yYZbaIw0yaGikxYgYzg8LmEecIe8XBwd9ntrw5jOXXHcXCC-xtj5g-2aXrQM6DUIExcgSUnQHCjhjQAIxAABI61JAAAQXADgAdaAAJRGKQAAA8ibWQAA5jCP9fAPYFd6zQsx1WecS6OpFcD4O04sYLOLwgISCRhQjcehLLZwTOsFYpwACw3HqB0E9Y+gPfhImlBYJYfULDUMcHOA3xH478b+IAnATQJlE4nrhNk60T4JhE4gLYQ3Gjj0JkgPriiEwlESaW+E4gDcnWHsckYX6HiXSz4kWj06BY88bCAGGeJhhxNMVACPcC5VNirvEMNpDTE0TlJgUfSQnzsL0i1JwRJnlBNz7OVyJAkfiUhMDJPj7AtgRllFBIBWcAcAABhMJ3hv0JydqD5N1ZJsAslAA4NXh8l+g-J3gZlNOlXAJTGQSU9YjwDhENgUplqIfB3nvxmxQpAiOvmP1ykJseklYGKTGNva5N7YqhcqZFNjwxSCupDUNnYGkglTQIUgGIEakZZVd7ajU9VlVI6BGE3i4U1cE1JGnl9cSYaOwGMBOTqAjISncbLzHlGxsokACIqeNNn50chpibZqR0CHJaJxB1HEJA81vZBCFpS0zJimy9FXTJAi0uQEZGUGTtokwbRYDdg0lDB5pj0m6blLXHOBgwEaHRFIALaLBkyZ-LIO5KQFzSZA1056WWhe6YD1pbGaJCqT2ixcx+gZSQYuJ+mN4okpvXGZDiZQeBCBpI+siQOEIwytBq0nEGTMe5IjuaLJABNyP4wskwED0p6UZAhGb9hBvGVXkTMO54yTRSMiepHx+nwy-piMlDhCniZcybpfBQNnYgIB-YZAWgrPtoLxkKzEZK8UNiqO+GkpiIFXF-imXZEgi4sYIqfEQKpnogYRNIzEIBmoEpMZeh3N7sQD2JVinJJIhfnLgpHiy4hNRGmQHKJkozww1BalILTwCWYY5UCPARTPJm+zbZzwa0DTKgRfhnZV4pmXQPmzhdPZVoofk2OsC8zyRQgoJB5grnWBdR70lpJ8OHqmy5AackQfxnxS-JgZpWMGbkFTnWEoZmI78hYBqpgAY5lmdOZpCDFCiQxI2FuW7KEx1zn+P-c-t3IoFxpABFIEgPnOrGLBpuiwIXupLxn2luxE83sUZnHlZAeaIozGSO23kTQpR0qPUewnDlbylRoLA2YoCNk0gKuW8xGrvNxGyiH5PgHec-Pyy1yn+qopYNIQ-lZAR6QvL+ebMHn5VY5f87iAaO6gNMEOBom+R63XmIkvZxIl0E-K9E2B8FE0QhdYGwUswrRPbKoYHPOEIRAFpC2ZN+VhanzeRobfVIy18B1Z0CpHDKJvmyhcLARSBRlgRxY5slpxUYAGUv2HZ9SFu9+cqRykkUMSW4PjUyG6ABnKzbxn0dQItLhBToRw4IWFqgzUX9T3hSMJOrhFykyLMRtY2yTmKFYsw95JMvqGkICy5TkpsoUEF1KyA9TcgAMtLHSnIUTiyxmbWZIEqtE2LEJRctMKGHEWBRQw2QVxf1IYU2AWxDsvGYEs7FCNBRZ84+aKT2FodD0QDexVYqfzqR4lrWAGbEKHH2ARxUYjJUlBNSbRnxTEyQH+P2QAAZHWmBLvHBSu40E5yrlNcmqSYZKEmcXnQwn8TsJXE8ZQmEGUSSBJsLKiegjmUYEllE0pKPRO+ktK2lnS8AJxMtDcT1lQy2ybYXWEhCDgYqISVGJEliTOoky5JdYCEVZBZJAw8EEzyuWvDhif7J5TIBeWvDwQgM6FIHBZhzK3J5spRWctuG6TxUbitqpsXMXrKrFtPWxeyIcn9Kjl8ymGYCppAkpVwGLGsfYu4goq-Smw+DpCp0mjCSSnIkKlEjOVD0ugTQ3nIpPMnydOsESgkTDNiHxik6cy9lU4CxUZ4SVlw-WYUvxUYt3Jm493oWLiw7RhAzKI8WJ25aAhYMRS7wDpSDJfhZVJAREc6hzmgscVxFVVWiwJVqqJVOw0zFqtyBqcTVwrM1cKqg5l4fFwYPCHX0NE8KZhOxFcYqLiYBAts4cj0WFAdViBDAvqMYORMhGQjnV-DaSavEwHoS6+5EtGYUDpQedmUNyybuJMTVaC6UrDQYrLnDXrDQ6TWD5Y8Py5AhyJfyowRn1ppBYuuUk3ibQErWPBR80SW5tJMGDxjc1HUjtNJMlVY8hZkHWfO3R452B1lEa9CVYoGkB1VJzKaJRoGcR+LHZEWJ1b5FdWqSk1F5e2qmoBzpqWY4kyZdmvtpdrZc5UwtUcBZIlqtx8XFMLlKbUsBq1oQRYLWrLU-K71LakJA1MZYdqqqx6uUKesuFBkB1SpVeaaAE5jrfULK0RImvdWWLoNWrGToisTWwsEN5E6NQ2oEnScwNqG6DTShDWjrw1OdCdVmv3FxZMgSk1lfQGZQtKWJ-4wCSBL2WYhqNP42jexO6Vtr0N36w6mRsg3VYNVY8uBE43v69QENlixRZiDw1QEfJhG8ZZOv8X21uNgyqje+NaUdKulaWbZaprY23tcpnGtqgpsZa0w8ZgIATWwqkBH00wONFFKmi2ECxrN3+G8hZuhBdp-O-5OQdPDkXtptElmkQA2xc2exlBCjReEfQ0rebvQzmmzWUDs1CaKQuGELU5us1SKmwUWodeQU81xafN4W+DgFowLfodA7kLoPioS1KK3NCjf3BZuoC9THNPmu1a8NVbmbaAoW0RFVvXqFChVrw2FuVt6njxmtxHHra9EdEqr8VuGHrXoD61cpje75NrUYKYJPrFqpLY4oNvsX2xOtGGn+iFoq25B0t69GrdNvdXBaJAjWqMFtq5iFD8lYQQhOlMOENCMhuQs4RokW1qrSMPcIMAdqc3Hb+tQIvteXMypVV1tXWtLa9oy3vbxtIpKbY8AsizbhiFLFMA9rRa6UDtG27vkDFy2PwlUn20lRCq0lQrKV4qA+UFVV7yIFKZaUVcUpR30MjV6kQdkXJSDVKIxkq18qugm19jgYYYmpZGM+W6jK5YCOWN9rCBg7-mooSHcCGoD0tlVJOtVfbDJ0T8f6vkEMEFlg6Nt4OJGOjufUvolQb6cBUNhuytY2tDUaO-nW9AMavDtJWgaFRojx3BJZdrDEZKHz7BngRkEpN5hincmkLrc5AhKn6PQ7KBGxNCmwAciORJ86RPcg8icVV6VzQggIbXWe1IJvTXEtO2pRzt-kqyedwSA3YLtrWR6T2m7XXTuxh3i64dgwKPVuxYyM06UwkKNnpXMHMoAAnFUDvCV7tK9OvzfXokD6VJVxAjvL4EGACS9SmA2kiSD1KhyCUzgQogFMJ42AG96kMFmCxTBoA59D6-btPKiST7MmhgfmSkEn3t7mIsDM5chDrTOB7kd+QHg7wn2t7zBW+zvVYXL1rgz92lQFdou0p6Lng0oUNTtvB3wd+d6eubXIB0VP6Ft+eiWpKB-2P7xgFeJHUjAvbUgKdfyYgLNqSLeB0gNIGWhbKhw7RmUVbC5C0CjaQGhlPcZ-bAYM5HEKgAKtLIBhBSMBED4tUACky+hCjGQ4IPUivsBB3J7kOBsNvYvEAEGmUUaaKpUADmhAV94rYpTtCNAm8zymswDOGp47mww1AnJdCIZe4iafJEG7DVht7UcoFDWgsgwgekJUGaDNILIPQfH3WAmDLBu5DlwsnOAZON4sw3chFBiGDumsoDYUFMO2H2Daq+lIygYC2G7D-3TfaONpVaSzduO6lSySEOPamxtuwMPbueA7QXdvyb3QQCqrrJYhsO9Fn9FZ107RxcsACF9JA1iBcMOQOgCclgYxBZtU61A+gcJXVssDtbXA7IBgOzbsGxBrHpeVBDw40jNYjI7oGHHs7HhORvjbzFbiuE+ioLYXW4ick7FtRqgIJh5gObItoDURxkDEa6NewRjdaN3UkcOrrI2F4y0SRmruWKiUDTKbdV7ENHZSTo-8rrmYFEa7xJSHncKDgegNgtJOegX3QAB0sAsG+evymkP4BfU7jHndlXioQoFUM+oEOQcQO4UsATx-FS8azFvGaFnx74yDK6B-GATCo0tIQCSJ1oEuqhbE6AAABeUdawJ8bCD0rxgNcf43802MJdiToJprOCcBCQnpC0JuXjcBvJFGSjPgF4z8bRNUmMTU1F5iS2OIeBjipAY4jzUNBgsIQeAWE8Ut5OonKTniQU-5WFM6tRT4pyUwCqZMiggAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYCYhN6Y+CYNMCKBow6AW3IITpVdR0A5uRnYNrajCEWsIhIQniNEI640Nx2oOHrFzyiAddjqPgxIP4JaiBDHAkQzhr4JN7KAshx9d0kkKiETY3+OUA0HcBrpfJghoQ8ISUOSH2AYh7guIWTgSHYNahKQ0VGkI+aiV0GmQh3tBFqqNCK65qUiEMMUBDDuhHXbIRpFyGdV8hfgxdD1khID0YY5Q-ANMFUDe1KI8XWvkcPkDaR7YpgRIAY3KHk0SAt2Jhm8kuHmNOgNw3wfcMSAktiSBwn4dgzsQJMRgcwloQ8DaGIIronJf4dKzWEbDwqbw64VsO+HbChMMI3zO0j6xgCeIkEE9BIg1g-9xQGgFQfeV6TcC4BvAuAfwLIjWkgByA3oeIMkG69pY2DbEavwwx6V5Awg1QWMN1DvDLAtgByuH20F38b+50IkdyPvKJs+RBodyEKNaJ8jORxIqAbEItJp98Au6YWmW06LbgNRy8YWjQ2y4dxFRdfeQHoGwYWkMUYw1ATMErxmjtRZJcemPlxEiR8RyIE0RKJJFxtYIl7PkXoHDRBpL2RIi1jKPXByiw+rROdH6LWH2g50wYmMWaFDECj5R5TaMdUIcgzp4x6Y0yE4Tja6jNR9LbwXKjuCScqUMIgKqPQkLVV4Rc0DaGtjAzepkwmIdyOpx6a6cXgmgZNiaOTYqitkWNeUYHCW6SQnYSY8MQ31aJdiuRNXcTrQE0DZjTIPY+kbXwHGpRZGeou4PS0BF9wxhlBZ+mYHMTliVxvICSH-HQ57wnOnwu4ZFyx55cehD3Rbk7Cc71cbxRQa-L0Lfg68JgQPMYH6DsTVE6AKA8ummxm6NA7RvGe8c7Ui5OwJ2Zox5JjjQGRc9ACjEptUUi4LISxoAPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMAecdOmfChKOMlGj1CA-BJfjSDAmyiLWF4ridSCXbtjMEPEsMXGwvEyBKgrYzBDowkntwmJM4+gLkNiHYTcJBEoiaRIolUTZJLPASUJOYkiTRxo9C8ciIEm2AQJXWIyVVGkm0AbwWwvAc4ilgtthJsSViV6MU5bCyIxwxGnQiJEqoCqBxDzpMByDNiFJenQ4H5OL65F+RxANiQmPonjiwpLEq4WGLYlrYMJXLIOiQG86yQAADGoQGi5RjwZYCSDJ2tbgpKAiCXPKVNJDZT1wTsTKbVJBFWUliPAOCYGkakDA6pjAHRm5iKnoZO+P-RqSawqn69YhEhapgLgkLDTyp-YSqeT3ZES96xEOToE6RIx2AcoEUUqZ1zl41SRpc0n8TRPuIlTNE+0uRJVK77B8MOpge4MeBkAphDOpoLNGgIU5iINC1CfqUfxwEzSumo0jop80vaccyuEhA4bdPunlNC2CYqIKDNsB3TpAKYDjrG3+nxs0OtfGGXDJTCZTlpIfUQEULi7TgC2QgzsmvzuBsTekA0dGeDNJGsCQO7A4XiYJlLugcuP-emZ70JIpwi8og-QdL07xeJKRD-akeeTYlczLugaUoEyK-F69+SoQDUfLH5KxBKZ8M4-lSLv56DEeG8BwcnExx4dzRDkUIIrM8x-p6ZOTA2bYNK7VdZZDgFwe+XsIJobpsMqmU60TbYiS6zgTiAyH+CLT1+1QMmZ4ixqMjZI2gr-rSIYakyvR8cf2IyKKaM95uYPYgBsUFERjlZAs0UXAPOjzjAgPs8OaOUh5sC0B1QEWO6TwDDwS5Vsf2TwMDl8Dg56aLOcAPZn9Io5n4rKFLKgQyCE5KYnfhnJFFQZk5r-E0BvAHkekbCsCMekES9lhza5S47mUh39gTA8ZdgQ4FnLpEeFbCxc0ufXMDT5j9RhYxDknGh4ocx5CAmMnXMKhniGYJAduUnPyBbd8gyvXsRcJPLqiCx2fKIAo3XEGixhRoyvDfImwWihC0LdgdfN1l8sXZuI92XCE9nXyUad84edaLsBoDb5wCmKKArdl8EIF7XW+SjS25QD6qYAEucPAAXW8esKTCND6N2iILsGF8sEonPHHzsqh7pKMRNihk9AqFICFMRO3oV61lgE7JhRnMxI2E8x78neZiNlwnTvQTCcCbbMwFIEfAEizlqVMwIbApgHExkFjMU7WYsZb-RqWLjUWxDlK5ORrttPNmdFecMgO6UUBvSwx0KNDLzABk0XYzzcmdTEGIq2lhzJxMUzsUKxpF-8-ZztKYOanciZSGpq0pIANP+AbSFgWMoJFjVYWDiTxTsTOLEpTHuLZRzCj4EotkAG5-FJCLGWkuWCLiRBvQ2JauKfnbyX5LIIEZ-PpT3AqWri+4GLmyWBLtpzC3cSWIPG3DQmxS48VFHSlmBMJOE2wMRN3AAAZQ2tRNrHtwCpjkhie5UylGg3J9822RxJwpATRJlgPibpKAmuo5layvyDQzkmVAdlb-A5WIqNCj1VJgykZWMp0mjA9JPEHZUZI8kwjChW9OhCZPLFmSLJuyqYUSDQKlS7JMIl8AmPeUdKLq0HP5XcABUdKeWibYug8pSmWBfZ7455W8J8kaQglnVA4sXQlCZS6l-PDxV6PikzLTluytKUWNbo1KhWigFJalJJGXjpWTyjpV5PkBoqegao8KldE8kz0eIiwzvE5KSkiSaViKwlZ3hrFwrSpRoIVbFK9Hi0by6I52dUrxYKtqVQrSUfSp2nO1XQFNWSE+No4qqFW50bcKTCVUEtq+A7LVSQAlnNyWRbYOEBSpNWEtVVdKrYXGwtULBTO+q4lmqpdUoCIlEwakJ3z9GKddUxxVMWaOyYao+gaAmCT5m8GSdTAAqpSKXQElSMXJRFUWGwIEmd8bJfkfHljSgmyRPlb3UCTmv97PwBGG4IyImrLEdLo6hCEFV8Mi7WS01UK3wWaqCD5BUE9XZtQZNsn2S1hXzNNZoBrEVrTAgiHNeqt9KazT5XuN5CoB6JDIapya1Zbor7HO1RxTsDJSosOBRK0gmaoCYGoRW5r5uz8AtdYCAnmTi1lko9WWqxqjqq1jUrYXWpcgNqrxeXeRZCvsn+9O1eIJtagUymtrEgHebnpe0ynDraq96wRI+vRFTqTSosRxCOjGD3KapPRatamt7XprehIUUqehsUlILX57YJDS4tLU0NtOOa3DeFL8haciN5G0tb0nnUJqJ1y6-1RRpeC+ln4FQZyRhrSQXL1JJEsiZRPADxxeNhE-jVpPGWDqMN4G46pxurUI5a+24XIAExAF-giNuK1dcCQXViLqRKa3dRBNEiya5lTsC5UMtGVCa0gJmq5RJtA2lTpNnVQzRKt9KzRFNOQZTSIqgKKl+YGwAmg1FejnCpFkTPzW-z+zebUIQW9RUbLOg6NIcoWoQG+38105GojBKLSpuPQ30QEmlHzRXgmi-DbUOWnRn9ky1hactEWrgiltnV7xIcRWuLeFtiGIzncOjXKJ4CfA8RalJW2IZYIa1nzBOtAAmtQE2mxbD63q9EcGrsDpbfoWWifINpewWs5VHSmht5v62RKnoE21CEaGm3vQgSxq2pSFt61haNtl0N3tSTm2+D0sP6i6nS12LbahWYBXrUtvn4h8bAfWzadVqG3OqRteisbQoVe1oQftVXAjZUuI6zDGAzQhYZ0LRh0JrtyqwrU9rC1-bzoJ2n4f3Jyq1VMtS2x6FOD+1LDYdcWw7SsUR3Ssm052xTYwCu2KqqWAuNHTlAe1vImtB0JyO9o6Wj1PJqK72nQnZUW8Pg+iqHQS3riiBmtHDB1fk021cLDixY-cTWq+G5j-AR2lkK0ol30qXyFvLeLYg2jI6zIrhH1TvGJ3MsydbgJ8A6oFx06FANOrFIJIEbECWBvQ3WDgLkLP18aVId+vOUTbHsPWXrEZAzoJ1NwryKK7yWzrNAc7NI5u1BEoAz480iBSgY+kC0WgI6pCx9QxHa2SrpjuO4gOcaLuMDVQKOdUPkcTK3J7FldR27cK7sfb3QeWaXeXaWMV1OF2mdibIV7tpjE7i9p7BKHrsfAKBDdmgJve7rgJqFn4SoNNvpWCFOwAAnO+AGiD6dKiuhLYOzeQT6QEnkikGqhUCaBMNywNgX8IjjGk7u-sKwGkVylM9Agc+xQIi0RZVQ0A5+9tdPL3lEgj90ItWVEDn30qS6BoFERUJUDnQrA94ffEjxtnGBH9C+l-ezH73jAbABlBxXvDMU6VLF4UWuAuuG1M7FOBOhvV2v7TSBzF0B58FVB526V2waBqA9misWm6GYC7WEELpyg-qTC64coHCAsZkisaroJ2B2wvBbA02JB+ZTMAcAwRiAP6-4q+BhV7qWIyERgNQYpAjEim12fUYOhB5H7twd4e8GwaTZCtz1PBtqHFV7qmgj9ErWpa6HXju84Nrg-2BOsk7SdMQSGtGDoZB7adGpqG2jTRrTXH5CW9+-2EIZENNRQA4huEHcCkMmCZDchu8NOMo2Ea5OqhuQ11D0PS9XB069IL4b8P3gqWsUIcSTViN3hL9f+0A8EMV2crnlrKjSIHvoRaGqV2YsPdsAj3UrJRw61PQQFqo1lmF2Bso-vHF2V7kRdifyFOu60r4fcwwOgMeDVTkHUEGq0SAwdkhMGu2bBu0YaFD3cH7OOxPg9T2PJdw0kdR10LdkaPtKvhLRpzbmVtQWF-tLIQtLcXlFypTRWweJhvFlYQtalxRwgQdGWNzsdj50BPVUeOo1lE2yy-gSxqDWfabh+qGNWdufakHaliLVsYoFF0AAdLALiu5XZopO+AHoqE1r15UkqgkUyKftQIuG+CdHLAGwaF1An2xIJrheCchMBCeIxh2E1KztG7RCAJhc6FFwkJUnQAAAL0TqgBwTUQKE6SbhOPGouTJ5Ey5FRPbh0TDgYtIb36idH6APRrcECeJPQmyInJ2ajPFpa7FSguxUgLsXpaYREWtEPANicBPsmYTcpoKgqcEqSAlTKptUzy35NdQgAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvcEbMV7emoKiU+r80TExYNAhg64KAky0KQQwKDQ43GxE3e2PM+ZM24E-EBvdCHAmIaQm6whfC0KzqABKxAGDsA8F4IYgDp7AMlp7PG89UgiUEQmf6Wtc4YM+lZESQ1mBaGNgQquLgdHEHgYgwwyDg7j1DuwuRCiuFx3oNxVEPxTEIOIEg9OVjN6hzUdrYGu8tGgGMkUQuTi8HOFcWYjxFj6CGN+m8YGbjSBkMCBjNWbdAygwYIEGQ+c8ScKMSoJxcCEEMEpCorJoIcmVHzqSb6fcSnJIYJ0VWjtrFCOybk-OOgvZgNjqkYw7RrbKCDhkjpqjNb+N1m0iGBchm1kcMzQpv0RFDTaIs0Zj0wjq1DnncECyRnM24ODMIDSuGHKWboqgxBjY0ODrECZotpF2hAecopVRqEzg+Dc422yhL33SXNM5Zx+keUQd8vRtzraUHuZ9HZmSXAzxBWbIpg1bmaFxJcrZpyAW+NSOkTI-z3ngNSCnD41z9Ewv+bsoRb0iXItAYosRXJJHeJ8XSqZGi9ZBPBOI5QXh4mcTWfytl4yOUJn2aK8EJzJYks4qKsR+B+F-3-s8h+ry7GgrBYTOWhBCAgm5Ovdlars5oICZouaBt9WGobkKjy2DkkxMseKu+NiXndxWRbUgYg4XtIleqwYQDNVRy9R5ByLSfU0KIAip52dCVZBjWG8wnyKWp2mkm2lACRhJvleCjxM503RsILGgNSL3a5u1cyxe+g3Hk05dvC1O43FWWKBXHV2dqgVFgeKfQvF62TN0cdKaUiRj9vCHtWWI9Nxi3HfYtFMpYEMCJLzPtVAFqNm6IyWd66mJbxrd0cIpRwRttAM0bo87fppSHf0BQOI2TdFJELRsjUgRpXvWWXw9TyRBVfWBYM459KgATWe6kl6Bk5IyGM35MKB3LS5egnlMGVbaKg-a6u9Bk68FiXQbIUG4MuCfqQfDybjFQaVSq4jHACNToTVPO0tESNTBmMCOm4JOiOXIL4KmxHlkrmaE-Rj1GmUXMoMEURFpizlWqAwLtpj9CSe0s4BaA5BpyZ7X8BTbgpP0EmELV49AqRbqBOp5d5ZV2KdREBI0hmBDKESIEG2lnypHVvYCEJKxr2ueJjiA22mlP0E8t5hQNV0L8F8wXZzgXgsypCVhKLdBuBPEBAAPhUA5mFLT-OxWC4+UAFEXzknOKi36HxxOQY4LJxg6m8PUefbZngVAqEuCBG8LDOHauMXJKp1I6ne28Wa3pqCBn3gCGM39RdZncSroG2QOg1mGiNns6QRzM4qOiOC+5vSsQvOUECD57oqGOBBb27e0L0wioRfBOtk7+2Qv4WdFhdbSXwgAjS8t1bFWNuneJnlgr0YitVq4dh0RNX+1Cy3kdE6o7Bhzu1RwAQAAVAAEgAUQYAAQXAOAVHAAlRHkAADyAA5ZAQIE0nA7U1SQagstaVRDQ2bSRuByCZjRkHVXu1rsoINlcpRr3qZ1glxnTW5vMaaOISQLTMh050+8PN5hr2dAXML5LUEgoo-R1jnH+Oiek4Vy4AXi6hfZYatzwbEPQ67bu-oUzK68lM-m35+nzhbtnb6XVQhjVmpKCgHARAyB0DdTxDHDy40aw3PztbSseKG3DVGuHs8k1TqS2UqUakn1lLNCJgLRGafgS3WktfJhv9GHc15mkJmZNuDR-FypKd-dj4NzJvnxP5TbMJ0-vXY1QTa9Z6ne-SrTee9bVb6eadh8P7D5dValodAY-98Gn7alefnSlDb8vlWUf5914l44kQET6BRPcZ43Dq-FTr-H4kw-jMFxOtP9vhfzps9kp4TA+-HXz8rFKGstmW439kJDyUJkB+rzQPbbZFCQIkIwJ8ICKIzgEQGxB97P5TrYpjKj5r4tDj5oFGAbJHKUrQoqygHWA1476L7XSsot6YFt6iqP676rBTrKJf7yRYE-BMG95kEoFL42rUBGoz7zT54aAGoCKJ4dBaD6COrRIP7wFz4x4IGrjZIV6Bw0JFrV6yGTD95mTBD5w2R2QOTOTUi+AqzkCwJeQ+SiE3LtoyxCFsACLIjcBFpCQ9apLUAKARKViiJ-7IhDaGhBQ2G4gIKuHuGeGEISEOAOFRoLb-Z-TCi26pC5AKCED4DlAMBeEOA+GLYNaIIZDFQWHiHYKwFhFO4eaximJaAiBjTz4Hj0B-IlFoTYLkJMxUI0LeHyGIGxBFptHtFNSEKVGVjVFWxb7eF5ZuoNo6K-zZFsACGrilDjEMTt4qzUqTHTGxjNBjgahhjRHDYtArbaH2EFy2T2ROQuAyyUC+AkBmGCA2q+Dnb5ZA5FKKGjTKG1rwKGCkEx76ZBQRqqFuJLAX7AbvRyTNBYR5GkypqFo+ovElokHqFdErCPEjxngeKjBppRpQlhDvEiZFJt7X4uJ35SGf4cEfHq74pMC8a1oTTiGJKlIpLuJApgHqH0ElCsFJ5UlNJmILHEGYnGSmSUmkzUnNKtJqG17gZh7YF4FLLbKYlCzOEYpnHrLDKSm4oLRxhCLrGhhFbPj-DOHkqQrIazITD6bTBBSgkSEHgUo-JUpb64qcAimamRiFYNgNbgm6JzSIm1iMghKmkumWmEEGkkF2krDOFzFIlmlfKukziBwZF+hBQ+mfTunEBMSFBbEhImnimKlbJ1GLQWlQp3L-K2k75Jk5iA7SxcIIkOCWy1D6D8weI0b0pZA1l-EsEJr8aNYHgQiQgVlIKKy1BwjcDlmMzdkaj0YNlMwTAIhkTBKllFKGDciMDJG1xfxlzEEymxGHQSk4pyJGkxAvrwqMhoEEF5mIxFmjGDpylYobnoGwpMnMktmrFXEkAiBGBzk8z8Bd7fyGZhk5n6n-IkFZlFCzlCCvmLnd5m5rI4H-nbYQqHkwqgHjkLb5ZanbmmoN4d7FyXzN7MHf6sY7iN4YU5Z2x3QewhIv4T4XxLmYWp5XgKR0yD6iLT7ZRl6eolHNAU4lmh7mA0GUF7y171ajagCwGMiKqFHHnkiNjdh6j7kvkLnvnLn6CwEIWNhdkWI9mhCMgDmVmDASUgqqkJimmwFwnTBlHWxJJVHyCDFgjaXcDKUKwahvGMmimcXj7sGz68UklCJrIhm1j6B1GmkmIEn8F-ndExC159Iywb5Dl-I8U758VUiByMimmb6RmjwyGBkdFDnF7cy-xJWZXdz0RImYl7qhyByOUuBt50WyWUWuUxVQSWy5UJn6AVUMWNyEV5UrimlNX4U-wpWSyYldF2k6gxBU44loUgUfln5EkLR1VMUNV4UUUEU3zwHtV8n6BzWgXZSl69WwntWFnaqe5GLe7yC+5tQB6dTdQ6AcVmrkmwI0amHiTsi8alXCK3AhFGJroUKSAgHcAGXqGW6dJsYJFJEpFsyxYESNHAHULfXKo9ADVU6OKJHJEVFeF1kIZNpggyBWSA2I3Awg2kY9FGKAEfXNESE0ZdK1IY2gAFIG740FgUZ2Gk3VLdIU3folacSOpmU1HUoyAM0UpM3cC9JPWeUUyzX0DlGtw-p7JsZeXHLFKLEqx42DTS2NUMQo2NozLK0FUFzS3obGLC2BwLFi0a3nh-XZpBruxRlhVcIjJfAWJTR9EDF-JuUS1CI3iw0ywums4CxO26WBq1q7Ws1h6OA22iIsB2EfXSkRCFDO0JhYSe1cDqHfSNiUBQznn23mXGyMhsVU6-4fVGCtX2XKE0YIz535W1gopU5x25UtEfXPBR0+2EaTxx142V3PFN2RB11lp-gSE11PXGUVHR4O0r4l1VidD2UsDrCiLe2d0cBTTJ153Nw7L3Uz1iBz2nhNn-FYQ51V5MUF2j0wnj3GB9E3kxDNDL1z073hAAA8wI1sK9qgGt691Buxm44IiOt0z1dAvgggPqvAdyTYPBtQzQ4IoAAA1MEu0VDlNEKHAfneEGAzKgXKA+A4gZA2INAw-RoauKZM-RCG-fgNTo5N-WIL-bBf-QatQIA4g2A5BbEKg+gxfUgwg8A9QxA3tidOg2vVib9HlPVaXq1RHeSOFfPiDLdNiFPQ0DLIBWfsPZw8hfXbRu9PPfbI-WhOvsI+iNiDQ4UNbfgLbWIGnZzVvqFTQ80ExVjGLBfVo0BmLJw1Y6Y3OSOUo3dBiV3ZwwhcmSuAONHljMnZPYkfKQPenbBnI0gTg0xVZLZDdOUMBkzLcaxEhdsZkfxXHYyB7bnWlc6L+g45XTvd3WzoZVeC3QxNXWzu48WR4-I9HiI0QH7THk9dNa1Q1eEyPWwAI0iFbeo6I7UyqbEJIw4zvflaWjGaSXRpYwRGo5WNU5o4gTo3owYxZd08ffXmY-dRY7A5BaUPBDY6PflUsyZNSA40RLAzaHaG4yeYhZ47Ed4-db42NP47iIE4Y+LaUWE-wwcXQFEyIDEyTJcUlXE8mQkyEo2Ck0CGk1Xhk4qFkw9Dk-nXkyTEFcFUU0iSU-C2U+RIDpU50zU7DdIDTQzk1Eda1P7h1EHhgJdVOoEW4TQB4akaEd4VmvBmrXnPseCJS8ETrTwMdFS9QDS64Qan6c3vS4imHGbXaMMXjIVFy8EbSwdepXTOmPsnMAg7EHMKuAi5AWxhyMqzEByGq20fshhNq22aQHqwq2xqDEa6DKa9MPsvWQg-Wc6Oq4UPstxIYAalxgg66+61-YqE67EPsloaQNq4G7GH6zEPsjcMnS0iwIYDKpG6oNG41CsGGzhWCOCCA0a7EPoLAtwL4K9mlqYWAz6ym-sp5JmzENm7m-m6AKYT5MW-q2xn2dMJW6AHm6ljW6AJCK2zECW2xsAOWwYDm629W6YWAPW2azuOCAAKQDsttttvYdtTvdugC9uTviSZtzsjtYx5sNuTsACEkoG7Q787BboAB7QIO7E7abl9s7x7W719MQl7NrbGl9AI5bm77bphr7j7q7abKWt7Vbn7oAaWP7u7f7b73ARQH7C7phKWQIw7YHEIe7A7HbhQC7MQe7sQN16YBUDWbL1Lr1tNO9W20w9CMO3A+HPLhHDOuH-FlHNL2C+ALAAAViYLCiRw0GR8iO2wa1KwRwg0-MMSm0UPR9Rw1GmJFHh3x1R5ycwEQXKzuPsuqcIAg8p8J8FeG2xpAHQLgmccq9p7p0+xp-CWxvGwwLAJANq2ZxZ+pxpxG1QAm6jka2Z6jrZ8FfssTuQMTgO558Tns4gbR1SKJ7J53sRwCCuFx+22LNzRR9JzSzXCCpK0EQRyFzbMoRx0UJFwu4JxeJy8lzJwlxJ9YdcS4dywx3S+EUQzMjRv4VVgwGqKQLYSdAwMx+QNWLOcdJoD5WDXF6DokRwMbIK+kQU0UOmtV0cEUPcaVvGIQPM38jRn3aZf0UE1vnUUISZX2r1zK0R8PVY3l2V6Iv3BfSNx0fqht8F4xyx2x-ZXt8F-3IXSdzqynfc3N7BhKw1rc2IF8OPXfhzRZfuTN691vhJ-tQWIdS1H7u1IHhgGS1Tm8HtuQKYAwMMh8OVDcKQJInRaratOtDOh6srUvH8J7HziK44zeFj3pvAwwMwxnsOmgzIAIk-BT0yQJvjxT9TQkTcOso0VoOknT0M6eYGIj-ZgoBkJHkYA4coMoNW41GAwplL1jOCMA8esA0A1ZEg8L2536Er7Kvz3je4jznAWw1NBEb6qb6kpIGcc8NBNHYGKg4wxCEg5zzAsYDz1WWR2Nwb2cab4afA9YOCNTV77iFQneumtj4o2HyT+CAmrpPsxAnTGH6ACjMpHEWkIozeGHxOjtKTxnz6npuewXG2kyaUDDgpnn4r22sZKUPDxQEjyj7FOj5IpH36M0KnzYbwc3on8n6uDnmCb0R-sgpn0s8eo72A0H0wGQHemLKoUP0gx5sAzTzNRXjWUUbTQP+nJn3P6uAv0g+PyH6X7n76mXzDJ7KA-P-7zyZy5bwIpJKCAg+mrF9fxP6QIJCzxSxuMf8X1f4bxCIa-2XTNPzz4nMsgmfR-ob2f6CRWyh0Y3tNGb4sFwQAAchp7ppGGSA1snQwZ6f9A+8QeUsMlIACI8BbbdyoOjowkw1oG0MWIQK15Xh9kQgFTlZGCBMMHIOkZ3MWCYbrZ4QmDFgkH1L5UDgB+gPgd-3lIh83+PAygbWHwEwkbwgg8flQKeqtd2uygTrslSRKpIPAMSKEqrXb58F04daEnrQJ4I6Dy4LOfvgFV0HwJqBMQMjgoPWBKDqAmgBMmoNGRuAfemgrgfXl76aD9BbGNtCckabL9wWFgt-m4ieqEDbYxhJdAgnUFuBNBq5AwNwXIZGC3BRpYFr0RWbIMGgS-FhALEkIn4OsdaMppK2iHGBgYRaeKBoAEESCsURhZgJEPkDOD7KPxIIUWVjJpDWqivQ1iTywizp6hMSIXJETYT48ohDQ-ob6mJ4rBmg2CFZupAtZdDeh2mUoVGlbJTD2h91cEDYI672CVBtYWPixljptDm4j3Z6tiA2F2CHB+tYYTElcEFDRBH-FYYcM5bFDRhOlHMEhWcIr8ChRpIKPsl8GGFm4zCSvF7WaH2lKI2xE0vAgChTdOIZxEgLEOIGMsQSFgknmLD0ETCdi5kKEhEz0LHEWgZgpFOcWWQc9RasFOEbb2ziIjCAX-V2kiLRGBtMR7zI4gYXX4uB4esFKwlwgSxMB8AYiCTMIAqCDA60JtQMDCNJiCi1hlmAPqCmsJ8jZcAWRgIUUFHwiG6IwVkUQTcGC0XqYiLtNDjoql06wSo41gT0nxLgWm54amiwG1F206K8lS0TDCFHKjBgFog-FNDxpOjuIVo0eG6JOg0YbwXol0eaNtF1c46Ro8UCzhrr2imQmwXUQSzZzU1FuIY5CKaPjpt0DRm9TUX6OmjRioyYY2MVCIGijYE4h8cQi2hjEkxrKHzbGtOgYDqARAHAUgAtEaSEARCFg5Cs4RrSfDEmFIBrBmKEqBiZMwYksU3XObyMex91ZTlmVKAOBPmwMReNWLoF1j6RTdLMs0FyBNibRzo-Rr-AzEjFXhDpbUmuVSAUjoymTUOFhFXGM9J4BQ7gOeMcY3DzmKZWMOCMID3iMWndG8XWierBYWkZ3CohUBTi+AqyhgNkH+K4w6xDAT6A0fWSMAFISeIEgCcDHAlPBWy3QyeEBMsEGAZeP2BQN+MfLAw4JgErCQhGgnoTjOsQfCQhNJAK1FijXfoDS3InQTuA5EoaBBLJEKMiUaE2CZGFAkUSkJaIlCSMDQlHDksC7aoFQnuh0SuJ8E-QExMQkkTFQwktLF+KIgFIuGnEL8TIBTizQKh+xAXihQ0mi5G4WEmaHdgYBcdKuEwamvpJ5zWwb0PmXLBGKgm5YSed5OPtRPEn0VJJVZEJBYywla8FJTUTSeUVsl3olJsiO7PIjzGcVYE5RYGEKE5KghqU0Y6BHMhTFiVuxto3sRuKDG51oxQ41iaOP-TqhagJPeMUlKoA5j4WyE0XEkFMmhR76GYhqtuMYnlTSxXWacr9Edy1S+I99XiM1JSnhiDRILdSDICTC1BgGUfEaXsDGmtkNknQbnH1PCAk8UmQ1NEQvFTjc5Fp2FRbrJlGiUgEpW+XqVxBalLjVph4j-uDhRjv92yyUr-p1Mjb8Qbw-aI4YqBvA3Tnp6EaqYwHun30d0YBPbgRDFhvT-p9RGum-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-ivJV4D7fTK-KJwIdKIaSdjuh04bttuWe7VB2rb-b9tBaWrYYFO246qdm24ndtke2-YvYL2xgVZHR34DPWdWgHUVy4Q1ABt4hToquvskGiN13a1cDutoXALytMWt9cqr52DbENAiRwsWumBaqxMIs3NcitsCTkaNaunVZrpOXpLQMCaenb00J0vrQUL25ge9tl3gbuA8urQDzuxKwITA-AUUS2INGmkSxn3b7q4j+7Gxxt5gU4coIaqC7GdgkScL+kIlWSxdioCXX6CTX2ZxCmkOTjQEjxWNABYwhWbCsaos582-0ukZWGZmkTYguhRkS4F4gj0TW3kKhmkp13rC2utgkPYHE4HD9qQ0M7VRrp8yZKT51q1psZHD3M7wsDexQc3oYg26I8WgRXQg2D1bCEyEnRsDcCXRet-xjIAAJwnAZYK+rjMFKMANiuE2+rFIRLwQbQPg9uv+TEXiHS6PoQCgFnuMv3VksYLsi-YUEP36AEBCAqyGgG-3-NClLSv0G-p8nUKigh+4KbJioTGTb0REj4DCRcA+QqaK4NiOSFANfiT9m4eykvsp3etA9RmtgJxm4xklvKtlcTCDqe0Rjw930F7Rxi4w8YdhbO23RzocJ4GaDhBrrFTkuFuBFdeaoqCeDIA3QLEVvb9YyDCEcwIhTgjQeQmMDcH+AjDI4JwKYgDgPCpAfg3gi-oF8DkU0lWPCGQpv7wQ3kHyBwcaiECJsRUGIPof8gZCQDPEf8Ztyf7vrjgiFe-REBYgDhORYmHkS0j5FVlWgt+jonRsqxEacZHGzkYUR8NYLFDfB3RqobPbqQLEM9E2JAuChusbDeh-Qz5ASy0b+RZhNIxYa2JsRAWKwXQ2kZr3GHlijUYo95F-0xAUDRkvdYRNj3i6PqmsxArIOVXAyU9hYyPK0Gz0GAi9TUatjHhIns6CBJyDvert30oyIpHjdFSmhq1CBDAjkDaNUCKh1z+KrQYQ3itEO1DxDMQyQ6TGWMyH4GchvLMCw+oSbhjAg0Y1NGFkTH3oeWLeHRjjow6Ygx6ByM9W6knQjpzAWSNBGBI4DcQC6joyrCLGkxujpPJ4zCVz39H22gx-DWJrlG4y5cC0XjRJlI0CbF0iJuUQhUU065ZNpODze2SZneaF2OJ5TXJoC31L9NeMQw1wYQGWZ9AJegADpYBsVma4GO4ZkDBA70Ju1tlWz0xoRP9+8SI8YBqg0mF1dJ7LAydInMnWTB6rkakS5Nrp2yvAE8DCR6BYQVToAAAF65dQAzJ0bnKY5OKm+jPQHU-yb0iCnwQSh-g4SMl3BIXS8xxY5uDpOGnuRnJl-nO3-6TtyATDFgEw2UBMMVOkwBAWmDwBinlVLp3CfKfdN3pj2XptNj6ash+nMagZzgZaf8hAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYBkRpgqgb2pRHi6198AAQ7SPbFMCJADGvg2wOTRIC3YmGbyMIfIAiE+Doh6Q6Vop2UoxDEgFrOxAkxGAV1zUpECYNMCKBowronJGGL4OdYddjqKQ8xp0EiG+Dchfg-dFEOlaQk+sYAniJBBPQSINYP-cUBoBUH3lek3AuAbwLgH8CyI1pIAcgPcHv8eBAPCYEDzGDYNehq-DDHpXkDCDVBHzXIk0MsBxCw+rRbQXfxv7nQRh+w+8om11DHD3IDlcPg8N2GjCoBRnMYbI3wC7phaZbTotuB+HLxhaNDbLh3FeF195AegbBhaQxSHDUBMwSvFCP+Fklx6Y+foSJEGHIgIRNwsYXG1giXsHhegcNEGkvYjCLWDwg0E8LOHzsoRXPUXgBnJH0jxwlI9cNSIb6tEJ2dI4+i5BnRMieRDkJwnG0BG-D6W3guVHcEk5Uoah0QnPNAN2jVV6hnVOxGtjAzepkwmIdyOpx6a6cXgmgZNhCOTYfCtkWNZ4e5VShOxWRJws0YoANF7Cau4nWgJoAFEOQjRiw2vmaMDhLdJI3w0UdnyiDQJNohwygs-TMDmIZRoTT0alFVHOJCA-BJfjSCRG8YMBMLLRuUyJExi+sTnFodEMi5Y88uc3TxItydhOd6u+YooNfiWFvwdeawvXn6DsTVE6AKA8ummxm6NAkxnXLGpFydhci-4SwhEVuEi56AFGJTaopFwWSSjQAfRAABKG1bAAAQXADgBDaAAJT6KQAAA8hbWQCyRVCGefAGYA846dM+FCK0cQFuGj04xOFFsUmKpEWtsxCY6kEu11GYJbxbIuNtmJkCVBtRmCHRp+PbjHjHR9AeoZ8JnFzjFxy4tcZuO3F-iWej458SeNfFnjR62YzITBBbG2A2xXWZCVVB-G0AbwmQvAc4ilgtsXxsSM8ReMU6ZD-B8gRGnQhGEqoCqBxDzpMByCajAJenQ4AxOL5HCqRF45kR6UPHuU8JwEiiXiLWyTiuWQdEgN51kgAAGNQgNFyjHgywEkGTta3BSUBEEueNSaSBknrgnYUkvSUUKspLEeAjyfpEZIGD6TGAOjNzMpPQyd8f+Rkk1ppP16fCJC1TAXBIRckaT+wWk8ntsIl6Zi3kpgBuI5P+B2AcoEUNSZ2Odq+SumbklQvcVUmaJXJ-k7SfHAGg1D7gx4GQCmEM6mgs0aAhTmIg0LUIHJR-HAQlLzZuSOinzS9pxzK4SEcptgPKdIE8x-pC2Ak9IK1PakpgOOsbeqfGzQ618+p+UmKS70TYTAWoOkOwIcBwELC-+osbKaYFykTTxhrAkDuwOF4mCZS7oHLj-12me9CSKcIvKIP0HS9O8XiaYQ-1mHnkLxF0y7oGlKCSDde0sfkqEB+Hyx+SsQcaR1OP4zC7+egxHhvAcHJxMceHaEQ5FCD-TOpXBQSDkzhm2DSu1Xb6Q4BcHvl7CCaNaW1I2lOtE2vQkus4E4gMh-gQU9ftUEolFjna4g26fSS-7zCGGdwR6WkH9h0yimjPebmD2IAbFThHIwGXdMuFwDzoLooIFTLxGvhRykPNgWgOqAix3SeAYeMrKthY06ZskbQYzPTQSzgBp0-pBzJrFZQ9eZUkgHzJtE78xZywoGVBkFmv8TQG8B2R6RsKwIx6QRCmSzLt6sypeSHf2DNIQTzSFgEspaT6TexKyVZeswNCKOBFijEOScaHihzdkICYyuswqOhz3imywS-Ml4Vt3yDK9jRoQk8mnyBF3B6W2DKOSXP9FrgDp4InORNhhFCFoW7A-ID1hRGrA0RfQkmXwThDkzm5KNPOc7PhF2A0Buc6GXyyJn9DSZ3c9rrnJRpbcoB9VMAMrOHiNzreLckkQSN2gjzsGGckBDaLnTNyHeywfeRNh6nLAd5WczkX+gPmnz6EE7E+ZbMxI2FhRxc4WigICxqSfATCZMdjMwFIFP5z2TlmpMwIbApgcYxkFJLP64NJpwvHRkZLFwQLshkTcnI11imozOivOGQHlKKA3pYY6FGhl5gAwQLuh5uTOpiFSlKApJ+ooVjqFSFsiqFCrOYctJNHO0pg5qdyFJMMmdAnSJGKKQsAgVBIsa58i0bJEzjnybRdox4TfI+AgLZABuVhSQggVSLlgbokQUsKEW8gJIn9Kpi-NLltgChhw0mHiwVbQLj8NoeRewtik3yQxko8MZ0MUDqLvRPmCcWYCnGzjbAK43cAABlDaO4uaBtEUnEShJ5Co0GJPznYyrx-AiYNSDfGWB7xcElsa6ikkhLaFsSmhv+MqBJKu+IAkQOkuCUgSlhYE9xV4p8WwTRg8EniJkuQlUSIxmITerPToSoSIx6EqJZhLe7ticJYstAmpIIkRiXwPUxpXYq8mAK7gPSzoTy0TbF1KlKS88XiOqWdCaJgQkshpA4WdUDixdCUFJOgX89JFeInqQeI5F5LQlT88Ua3XuBUtbR1Co5U6UyGj1qJjQuiY-K7jHUro1EmejxDKE6VKhgopfhxIoQSK+JuyzvEqPCqTK1JRof5XQvEmM0byEYkKVinpRnKhWFyhVrcJzFZCaZokV0BTVkiljaOyK4llVEMVUtq+A7LFSQDem1iPpbYOEKcqMUEt8VUXGFZ0LjZkqFgpnBledCZW1C35kSmkJ3yJGILIh+qXsYjI1R9A0BIquFQzBUA9EZOZE9yKXUfFSN5V-qNgY+M74iSI4ywZ+N2NkiPjWlICdsZqo17PwBGG4IyL8s-QRjo6hCAZa0Mi64T5Voy3wSSqCD5BUE9XR1YhPwmETmRXzeVZoGBX9YLAYU56PKrRXU9wZqcr3G8hlWmByFswpVQgoxVSQzxTsGRWAsOD8K2Z209VT3OmVaqzSXYvLk7H1VYSYlfkE1VjTNWhqE1mQm1S5DtW5i8uwy0QM6sSCurAg7qvEA6tQJST21LADvNz0vaULoItVGtRaqMk3LfSUalHu0j6zacjJPRS1YcE1WCrNla67Bouo-maqaG2nEScqu9WVrslRdMYKRKPWHqgJ-qONXKqPWJqbxxq5haJAqDnqgJaSQpRBNXHritx4AeOB+qXFfroJvi-1UesDW1UX1K6+gL6VmjbhcgATE9e2DPXkLoF16yTvGqMmKqbx2ah7s32kAVKwVTsQpR4u8W-q0gRG4pcBpHVqSwNx1CDUkug0pxYNOQeDfOtlyKl+YGwAmg1FeghCf5SCiaG-z+ycbUIPGyBVwTOiwKnov0LjUIDfa8a6cjURghJoQ3I5+YmlGTRPgE2CrscAmnRn9nU0iatNnwywc7kk1TgDNsm0TU-yU2maENuUTwE+B4jnKjNSwkzZ7gga0ACa1AaKcJtk2oqblgqm+iAl80T4QtL2C1lysSA0NON3mvhVJrC1GgEth81FAirpWAQfcYWxGJ5tQjvQLeetSLV0IWTdqLqdLXYkSqFZgFPNsW+fiHxsBebopFmw+v5thWBaFCjWtCO1qq4Bi-FMCeESZLuA10vk5Qr5eOHK3GL9NdWkTZ1s5WuEbl9snKrVXU2xbHo5mybZZum3zb6EBWw9MVtg2MAytqW4lXpTq3VaAlfWezQdCchjCI1cy2Ifcu9p0ILSYVPLcsByFjb6VF2jhmlvya5a9a6QaxWGOlF2KhR-gN3t1oB1Si0VL5C3lvFsQbRNtQQbbbTF23MsDtbgJ8GloFyfa7hGeGkJMFQQqc62inXWDgLkLP18aVId+vOUTbHsPWXrEZFdu22cwryNS+7UstciFzQqJkPHQIwRgZ8eaRApQMfSBaLQZtXcJRf5XEB2tkqAo7jlLpRHUlqoFHOqA8M7JWU7wezGHWDu3C07H290Hlmlwh22LWhThdpnYnpFI6d4u23XaewSho7HwCgTHZoBt3064CahZ+EqDTb6VyhTsAAJzvgBo3unSlDvk2Ds3kQekBNRIpBqoVAmgIiltI6aktIUhayUgYJYhWA0ickpnoEAj2KBEWiLKqGgCL2drbuSHE6TnpsAGVymKgEGVEAj1oqS6BoNoSbx8DnQrA94ffEjyxnGB69UepvezE93jBK95QqVX+GkBYKcF4UWuLKua3MrFOBW5HR6v7Tj6dKk+58ISsO0VbgIK+7BdmlwU1a3kC7WEN9pyjdqTC64coHCAsYTCsaroJ2B2wvBbA02R+5JYaCUCn77OOxV8OMpzXQRkIjAS-RSBGJFNrswIwdCD1z3bg7w94F-UmyFbWBiA3a4wNAa6gojc9Erc5a6HXju8TS+gVwf7BEnZopOpQGTmerRhYGQe26zRMuoPX7rw1YuCgxr39j-7ADTUUACAbhB3BwDJgyA9AY10iTENcnNqHwdQMe9XBs6uvcPp0oXU+DGuqlrFEcUMBZDd4EvXXykOR6mlLympQ8tMhPaudKxDA0ipdH87tggu20bcMDXy6n8nVGsjfPe2EtbsEowHVDpVG+Yg+rGveH9mGB0BjwaqD-d-K4G37791Cztk-u7aZtLIDgdCUga-0-6cNztCwmknsPmH94ThyHWhNcMWTXc2ORIxa0LS3EzRcqSEVsHiYbxZWELc5SYcIEHRXQVmRwkIVnaGJpdx1Gst4JqVvKHgw2mNFtw+UVCeIdAQsf2KQV0Aes2DXo66gGMdcaG47UHD1lPlBrXldS95Y4E+WcNYhi6OYw-IcjjH+jE2N-jlANADbShKxvo8oB6MnGJjgxlMUnrOMWsdj9gUVFMcOEzH4MIxw+UGoOPFDBtnR1Y4oHuOTHktHwBYzUo2O+Y+oL+77Yi21GKA-toAAADpYAN1Sxog2RB6KhNzdeVJKoJFMgF7UCLBvgnRywAQnzlUJ3UTCb+0ImkTs0niJJ1RNSskRu0QgCYXOhRcJCTJ0AAAC9E68J04B0dpP4A0TTRzE5yfOaEJcT24fEw4GLSG9+oPubw74a3BQnkT-JwU7NRni0tdipQXYqQF2L0tMIiLWiHgGJNIqlT1JlEwKfpNqnLWkgTU9qd1M8txTXUIAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYQkpEe5oyd+t7Zp2DTdgUojkMQlbKeRo6aRhsbCqqIGDO+V4RhxqkAthRhafQHAOvWVrwWmorsbenE5g+wQUgwmKRD+ygAEQAKqEDqhCUAA7jQNrDCwG6gAAtClIkmSFnQ9CS-QZqAhkyMiyjubQbJJOQuCgDIOzbuQbCnp8ZlVsiMKrMkSkFbwogSJBRYNRQTV5RGxUFQwHnZcY3QUqIvLbFVNXWP6bDcJQRBCM1mateVyTxvQ6y0HYpAZBldKmcN1C8ZQ6FFUQtl2SkF4jEULIRNQrEyFhD1IhdhCQWmKqwfBrWId9DSlaDYMpJtAqem907Dttk2BJ1OxKS5xEyDuR2+ckHjo5axEcPGz2ztjoi-kCITrUwuDkIQ0hdFNM1zeygSjIFt2EKFEVRbFNCbaApASHwqXpYZWVM0YvTwoLDmkE5-KE5+MgXtwtA2e1riddFXDjfBatld6Hi2PY3qXOEkTGWdRURI57mq1uZU2ZDyFWArznK-BO4K6Vjvq95rLZbLv0icT1Armu5pq5ZN6MprbNGKj1iMJj1v0suFl9XM1n3rjxgKSZMiZzH4cJgh95YSE6eqiXl5cBTFfznCuUooMYfUYxEoa-eWtGJV1U7EwK3C749E0aR3dtYnKMbFyoA03TDMCFL0ss0w82D9Y4iOcxw8zlPO1NJ1Ne23BCt7x9P7O83azTWIrPyntx10+fvi3hjG-pKAX2n6-u9VBYgfa+CRb71AHotDgBMhSmTthfD+ytp5fU6v-eBjJP6r0CPfWaG8Z71BPnWTutFPp2R9u-M6rFPKMhvjmTBrhej0Jyn0Nu5J5aKw4EQCcfYBxzCdJ+I+Sc55bB2KbBwfCjbCVEfKC21wQoACpOGTh4QIORIVlBsOcoo7hy8ZCQjESqMqsIACQrgmGC1oDpP6a0FYtgBhmKhko+6b0gUQyeHEBGBGfrKNiJ1XFMUAfvYYDjkYdSEdyAUI9ep+Knl9E2ewvohAKPwOIlinL4BsUwVM6ZBjAzgeQoBw4QH3W+hYpMaSMlZN0vBACQEx4MWIV9KGHJPzwIoTOBxhjYR33Xk47WYSeLPyTBU1sVkvKxNAPLYuAYhnljseZG0JozRqnzgqHYhZGxllsdkuOlMgSandjIdZJZNmZJGZdBZdplmNNACEURmCZatzJDQWMvEtTiWCr3GeXi0ISBOmJHUV0bocUwV4t51J0Tf1KVY9Jsztnlx+SE0AXitFTmkBCiZ7t2EouUTIMFs1EUEKFDbH5rsmhPWSbDCY8MPp4p7ti5ePd5zB0eflF5SkJKsicZ1Gp0xoFWhIUhU+6MY6fmvHpSUpLvpMpbswp5YcuFTivipT5awvHKxOqfBVA5WKfybrQtYWq-oXLNLqw1OrjU1C8soZWNlMGdWVjKwWLyjlNlhbpDlHjDWGkWeaZWhyGzHObKcuZ5zbRLOsvKU+LqTmVIzLq3O85JX3jhMYWVrK6yDOTMGuFHqnFeotbqzNwyQ1GrDZat0SbT5FrdXGv1CacyVv1fCREm10S4ExNiKAcBEDIHQESTQLL247F5KIfk6d6big4ly-pIj8AmlGGqIwAAfJdWFh2MAnYu0AK613WFNGaVg4rdA7qaLO+wapHWhx2FUUUoofCTI+aQGIlQWCig8cnf61wp0ADJv2gBiCwOIXkMjpG-k+6YN7L0sPCXwxdM8P03rvUIB9yqQp8MljlcxZb2GwanfB-pAHZB6OWVBuVOwzXAOA4nBDr6kMcBQ-HUAIUKPDAw70QWLGL5lrg0kTqhHdHVBuIBgTUJlldPY6HTj8aqO8YI7cYjxH3HMrTUOpa0ys2xtGW6PuNHb33oOR8kK1atm6TYyp8kxns26W9ZcvDsnNg0H48RpzgmlPMsFpZzTl060yeaQ5-98nBOKa8uJ8z4To1Bq80enTM6U60f0-QdsIUIs1sGGZwWKWTNxotTxvz88XOiYK+WyUMJ3Oh0y1Z2tMDcuCP80VkTxXSukfyjsFCb4RVfhq+sfz174vIYM6hmGIgl6nmoOl0ObX-rQQ2KMYJMX-MAW4HIbDzk+HKHq0pluct2DgTfD8rr3LALTH+UJojQXXMhdC2F6SYSDuxZfXp-riXDPo0vjOcb0HutcgsqKrTjjqNyeE8Ft0ynBZ+gjqN5U0dLy-Z2QI3TdGGN3muUYIzEOo4-a-B9uVddtzZyA9pgH-m2HMFwO2JwW3Q644YGXObRP54k9pu2HQlPPvU4brOOzeWtiM7Jx8gAzKDq9PJx5dy57V+evXHv0YG4xkKfjsf5R5XUieZE2Lw-6ZM+XovaJqO8WVVncq-H5MCWxODqbueOcC6J9xhv8qoJN0q6hGu6u3BAXb9uZC3tBKnvN+ewP1ce-JEPSJKuxe3jKn74RSo9hTyD+EnerSCmc4jy7yXMfz0B8Mc11Trz+KCXFxL6PD3Eey7vCFf5iv27K5O4XzqWvK-KGBZh0O-zAUYUL19rYG2Qs5+D9YTS2l3V1-u4hhLKe5eD50hmKv5IYYdbFXd13QOLsg-j2NDyS-8vW4cAHprLfPu6z9pQAOUeYOx5Pwbg-cqHcO0v2n7vtx7-r7Icf0-9OtjEef0wltv020dpxG7XxD7TQH50HX70qAYExg3HfX6WSlAzAygKYD7xoGV02hkCgkBlm2UBJRVT6WJwOTRxWjWiKE2jURR1CABhgmwNAFwNvgk0+3B2IPWg4HQNwFgJ6zi2l0mVwFCmWlWhYLILK0+xhkwOoLgiKg4IZ0xVJyKmUAp2v3t1+nb0kOnQIMclkN4NABZ0UPbnnzhkxARlnHYLUOkI0KZy0MFxQP-COygTCULWoFJikJ50IL5WIj1xJhnGELI2sDcNVEQVMOLzHye1nBtSYz8NnxoD8LLlJn9StGcKtxX1E0QSF0+xIi1D7DFEpWpQPnnECJoGI3oOuwd3bRVFVhzHyIC2EyKKdRIAyOOwwlKOdATlMXwPniuEiCaKYFtRyi8XAwiW4FHlekMNYhOjuXANQNsK6OWx9R7i9gSMoK-TLTmJgSvwYJv2mxszNGBmmzZFaMtyqNkC6O8Pt02K9iKl2P0H2KLwKME2OOsPJRegMPemAWWOtXBRwInGmDyPw2J34FFCfRmLtEjwQImX+MBMtAkQog6JkDQOmyBO2PePxU+N5EpRWRuTBLFEBItUjwAB5MSASog4ioSmgYwApKBIgQoAAVbUGwwgX5dyOddpOgfUbgLSaQEIEKUAAAah-iaTBAnUqg72WN0F5L1y5N5IoMCAFLFCFOJJhEaWrnJMpJpMoCRCYBig3yZKCRZO6nIA5KYx5L5KhhlNFDlJxNFKY1CiNKlNcFNLlMhKuzlm1D1ANALTrTLQTjWFqImHo21CWx+PlHMUsQRNmiRMjzwRSA-VEVDJJLshjE9D9JPwFSaXSMoEyNFGyJGNyJ8ltIxItRA2-n4wtLzKMA8H40dNLPzJDMUxFOUGI0dMRUYXAQWhZELKFmfWHkGN6mGJeOGA8XqA5gpNDJ5kIFNHWlAHQybOZgflwS+i8S6JOhKPhLAWPn6ShQuJVC2Nmk3OdGKShi6M-h2JVC6XqAYSmjWBPkTK1GTKKOu3zWww9J9SRK9NcB9KTIDIqMjKMGDKTFjPDIHKjPuxjJLPjI7A-JTIejTIzKzL7NnCZQoJCALNBOLJFNtI8F5AVgrI+NAEtHRLzDoBrNczrKFkE0bLoWZnlAgTbNBP6K7KGOeKMMAuSCHKCk9KYwinHMEEnJVDFgKiUSMIwzPJ6W-M8QDAxF4u-mXLKNXMaE6g3MPJxN3KYH3LBkPPOOOOnOljvkvP6RZAgrvN-2g3-yxEALxF7UJAwAmJ4jqgGnICGmgy5gf3CWCJl0S1GhClssaiYEiNCH6m8o4HqjZNN3dVajP0OIaycuUy8S8sGmAj-xOkmQeC10Iz12MEIyBFUoxUSxCj0TSqMD0UyslS1w6PysWIYCKuSsIPljKvlkqpSC1zPVED1yasaCyq1xXFoDZMkD106u6t+QaHasINYvytYsBCGpyoAifS4GNFoDUSmqiBmvRHqAmtnBCm5LKuMBkA3GUAkBBGyGSl5IGtWpkBChSk2tSB2tAD2oyAOtSmuqMBOvkQuuqiupuueGSjkQetACeuABeu2t2v2tAGSjAGOuKsIIAFJ-q3qgbkoIbvqnqEDNqAbrrYb2y9rwacqABCUDZGmG264G0AHG7+DGqqnK3E6GwGgm5KfEowUmhqwg3E9IC6lG96u6pmump6zISm1G6m0AbITmzGtazIZm5QQIVmtGkWwWsmtarGl6wm1wZ4IwLG4wGAh4bKGK-yuK1g5QnEjIeURbU7ZQWK+y+K4yjW8Sk2hyp5JyY0AAK0yR8XSANp4C5gJpKq1tNr13qyRiTVcCtrNqeSvywE1vqgCqLXRUmS10XnpmkD1xjuXiyqaUCC10gEIBG2FjSrTozvpuTsaC1wWo4FgEgHysLuLqTrzvskIMLoAFEyra6K7K6tcAA5FgZul61u5u-CqGC2hMY6AO2nQMLjWY-W+oQ2qqZ4fjdg42z2z4CO3u-aAe6tL2UelIcegmn2mEGesO7W+eroe87qXqAetgogEqcaNy-7XS-zQyQKv6GmMYCQCdDgO2j4CcYgIsQYyCwEAeoK8YViUKu6P2lIdyC+zoQIMxUOTC-UWCowtIX4+eR4oQXs2BlHJJQQDA2ewO7LN440qGJe9TYe4ExuwINB2QY+5Qyge2x2nuKsvyne02wemZeYoBwIOi0PZB1iaK8S-o0ULUY0c8Ri0YyFOeA0Dhg+bKBEMAVtDEUyrtcygkTAaykmMMMgDgBiegcyACBgQSCLBY2dedSIerXRhU4SerBsgNJsUrI0kKDgCUnIIsWU3ADCIxix8YUraRCK8xosQNULDzLEACMeTAkYIDBxiaSolgYgYgOdOwG2OQEqSJoG9EXkmQCJ4gdskKLkjwDJjE8Uo01J4hpoDJpvDdMUNY67D8UgYWMoUJs+jyWp7OSpm6vQIxK++eU06x06o05aAJ3kIJuYQ2kBip4WWpwxax7QEKdfIZ3qWCNgFJ8aPRjPBwdyXGLJ0REKDx1rA5ZZ0AX9KMSBGM4jZZ49JdTxwTI5om0DJjNwLKeUDwU7OZt9dJ65rCDwZRiJhWdRuNLRwSZZquLeLgPU6fCMbZ3ZoEERMo+fGHTrI59ErJzp3kqZyoUYWZ-jP2GFm0oELkuxgtVbCF5QhfYF+Zy0xpLFo0xFmZ+5w5-WB50rUUkl8Zv5qZ06mq2pmejYUeGZkxgi2qS2Gl25vy9ljCTyy2PXSZVF+Z+ss5oltlxppFhgNgXGfCEp8UX54SEKAAcjsfcmsc1Y8ftKcZpcmdMFHgYgYAwlNaadaeLxjOdAMfuYtYKaQi1yTAEHFIpPFOilIHFK4VGC9dCigPGCyi5bxgFcafteIjNfdGIwdZlY5eRcVdDaqf4xjdItExTcRYdesJfqpAsQ-oVmVj6n4lFX9gWYBbZKHzbDVhWeyrWqn1M2UEhY-E6yrZYdcENuzbfrzc-kLdIl7BGZLeDcfB4lgyrf5a12uabxW0dBkq3EHb8jVmsItcNESg3B7eLaracQgXI0BfdSrcAoXN1rLROnlBxenedC5htoJarD3Yos1qLd7B8FKhOkNqXYSiqFXe3HvZ7j9hvfOBQUPZ9XSdKv5ZhP40-d7d5CEFKndHq3A9FUff1ncfqBCBhmQsuZChqpA8xAg4Q48g8dQ6PdBJCg7dzfIEGM-nWeEhhII+fJR3bdftI-I4Lbg77Y3wNlnbnYVGo4A7tBnq-dw6v3oR6S3aVBne4CQVCXULWonboCnZsDE9PJnJwV6S72eS3HuQgc+2Fj4BLcqJ5euFHdMduEM4ItYv9lHL5jigpChbFSFhFh8pOPbk8J9w3fgeLxhJM5DcKNnY8bM7Vgs+iis6vZoGc7YjM3vIfYYDjVIEoF4mmEAxEFkFc6tYKPs906I59ai4md0PJAS57F5Ci-Mn22S7aMf2E1C-Y-E+U0RBP1GGsyqCbGNvSQKm4rvVIEkZkexGICiB4FglAH52ql5DlX51ANAOcAi9oH4hkCAgkGUGYH9AYAEAjJS+Hdj3m4pKW9hYXkEFpljoED+fHmpGm6YFm4iv43W8W86UaXLNuAu828VP4sm+IGO9O+Izu+z007lWVwa-GDgdVXErxRfSbESsILkR+6YFUURWdN1H1Be44CUFABm44BWFEq8UOmNHB5Oi4Sm6R4R+I0B-B8U+SAgXR8x9BITukGYtnn8wp5XnlGwUfkBC8Tu6x97Bx5O+R8lZt3wAx58a0sCAgRZ-J526Xkp5U7kv6Vp4ouSAZ7nNIX6Te8yQ2-5+bJSHPO0rfKvQTF9bh4R6R80CROIip7R557J8e-Z96jx8EwJ75+l+cVJ8DXbNp6p7tI2BfVExt8a6rJhMmVx+Nt5f18N5UsdaBHx-4nXEJ6J6wREvnPEqF-N+e8D9TZqFN9t6+kF6V8W6d5F728ApMRSEwvd5T9569-z6aRhJhKT8QVbe+kU1T8sa6TL9AFl-F4aEL8V4W4ECD5V4vLPJ0s18+z6rpG69hKp+5XSZvNdMo6Qk1BdP1BRxCGxCI-pgK69alI8BX99alKVM5jYAC-5lAFq7hT4vB6Et74OKH9IG65lS8SP-q8d+-m+8DX8C6C8Ta5Ojv+i+f4w7n+4Awxiua7fxP+5kcHqdU35ZcJGgsGvPTBXBih-U3jRrrhRgQLEYSEWbvuvmNAwCn6EWGQJgMEAToFi-GPAbALfQYCsBWRP1MQIIGVFiMVAsUI53JB0DMy9MVgvCTQESU9y4TNns93YH3EcuanZ6LIHYFhFjilRGEtAPwFwDhByAhtrsWsJrI0wunNzi5T6wX1zOVzcLmDj7pDJiw9IfzhwO6LbcuKQgQsBwB66CBxgDADxH424BGRZ2rfETvWCtgcdW+rgb5OQNFB-IPBt9VgWJ1kEnk7epXGgEwOz7DY9uFBDwEQGMFOCzBLrSweoOOKIUkUJ+DCEwN1RMCo+QnWcs4n07OCqurgg4jCX9C2D7me7ZQMUIwjecqu-PFvqJSCHWduAdvdXs3xW4VCS2DxDcIIMCr8g9o7sA+OwNfB3hRBXycSiEO-hpCWB0xXgXIJW5jDLmtPflog3gEbJDBgw-wXuQ8ZhBKmowP6FNRH5pDKBHg90GsIMGpE5UWw2CLsOH5EkthCwOkOsJUqVFFyRHXANUDjq4NAgWTV4VCDjq+ciIR3W4SoDpC6B+Wi5IwBswLCKCthII4SIg26G04+hw4QEScMSHIcbKvLaETsz-S5CfgwIkDnSEuEcA9hRJYjNCJr5NBiMgwkPo0AuE7CiR1w+5mSNoZ2R+MVI8kZXU0oeMQo3w8YK62sIZlxgMXI1OUFmYwExBvLK6k8GyCiIzh+UbrpkgBRlJMubYZUYMGUBLtARS7YYf9z7o2Er+i1cmMdG-i0iLA9I-UTIA1H3DHuvrNUR8MrpNAtRMw+ocSLsKHQKY6THkb8MkTxI0RAojYOchFGwlrhronGNYXwCokYBF4DAsCL048hlWjI4EbKPbhtd344IWZjNz14ncUeOo-aOija4vdMxEgHQvUIhTzCc+y8aMJOT2D5l5BO3VdkjwdDRjL6bg8SjNxOhgdgRdqe7IWBe66Asm1zDEjNxlSCjQAVJAABI10OAAAQXADgAa6AAJSpKQAAA8s3WQDfxxixRDYN13y42i0QTYy4Q8IWLhjpgkYjcAeJ2HVsUxZ4x9pF3sQXiLACbFMdSHNCqi0Q6+Z8fYF3GFd9xCxccZOJnFzjFxK4tcR+Ld43ioOd4nJA+MIALEUxYIPIDVDrEcAGxZOE0bBNChvjCAKUBCewE0Ghwl4kE1ftBPQlHjKiuEzgLgHECuhXa1yQYXOlupSl5RAkLgH9Cwm4izAe-SgtsIsBHjyRuAbcYtSwnwRSJpw5TCOIDbTB-QRAPrt-AAAM+9QWAzBihQI7A8XHdnGnICyB30ak8ODJNGAnRJJek14BVV5LyAux-mIydJJMnr5lcykpwSsOWGBo5uukutppIEAoDeWIUGTjCSMluTzIWkrng4GMZJjyQzAPhA5MDTWB6YWMNSR4mZ6uSNJAUgQGMQ1KqSyw-ky6FpJf7elQ4uQaYDFGpCCQSuQFTgk4N07jI7JaUnAfoL8lJSspHkhJOiIM4+dAQHgGEvlI4CFTRAgkfjGULzKdTupgkKoUhyaDVx1O-fA4oNKKmxS3G1hEQIUCW5ORMw+g6YSeScSCxppPU1WFT0cE9jg+BQ-uK2X+HBTXGhgg6XUNKn+4kCgQpToz2wjfIvBkg5gX9GmKGC+B8vfzMaFCG7dl4pZDwK8JwSlkQgW0wSAcOqzGhMhavLAEYlqHIJ7sHnGEdhA8CgzShbUFdELGYAFSZphRTjtxEBm8gmhk0m4pjKYDYztpVbDoV0MqiQR0yfYJsE5MQGWgyJIw3UWMNoLeDJhbAs6UeMwQQIQhxNbbmEMTqt9OoRAIUmaP2HeDDhz090MyMCDMzThHQD4S3z2mKC8KexJpIiDkQ6yn4owjwU9JIE+Cph1IXmfKE6gCyyxws6QOMnFlONJZRJNAfLKMDgz+UGQxIEYk9k-ldiTUpYdINEBmyshynCBAtOSTWAqwistaXuT2LazdZ+CfpNyLeF8juk2Q0SifE6HJJGZ4wF8krJ0ohxPsds3qMSIwII9uABvU4U8Omweik50-ENonJ+Gus-htIBwNwFLk6BQR02CEeVNblIyQ2cImmatEnAMzW5xtcuaiO5aQjIgZc3uZ8Os7Uz+Qg8+mb9zLnG0Eeog0ALHLkRdyK+TgLEc1KnntzhIhch2ZFR7nsiUgpInQOfOSDHzi5YHJwNfIehgcr5zshoJyLRH1zeR2XfOT4XSkug2k-ZWMSXnHxlAAF5eSSb5XjAhhwxEYSSYQJ3yzTg+L+XSftjgVAKDm52UTHArxmVjnWogQqRIBThIEbmaIsxoJmwWhSaAN9N8JJMQXqiI2R9AkTsPoWjBeo2olsbqJDCHo-5hk-gFuQizRTMwcCkFOJWPmGjj2QIW+QyMtE8TuYzsqBTSEXxcKykcCx+SkEdEBCVuYiz8EdGrkNza5s8qRGiJrhqMGFiClQsor+iqKKCfooUamMQnaK3RJWYcRsFHETiOA84sKAABka664qsfYEUkETBJf8kSUwt4kVzlBC8CMXWJglXjwJdYnwJJNCWyKnxbvF8SEpynrF8on4xSGpPgh-j3FninxeADAkKwIJGS9CQsQolltM51yeCYGLPEoSOejYypWouSAhRJJOEkUVlHJH1K0xp1GTh0rUldK0xQbawjfSSUwSWZK3apVRLpCG1rkkkgmlKWoV-y6F3Ew8acP4nBLJlokzSvyN-rTALWFohhf9FkUPD7F7AKpSKNYLUSFl9QZ4dkC+jVLSGXwUoBQUInfj7xMizZccXPlSiuobJXqJMp+XMKxJSaRSiKMoWnQRgpi1hSctYUXKKJ8U8SgRGRAnR8x2nVUCmxCgmKLWZ-EmWiqIA-TRe+3YSH2BWhlhjlFrJFVCo8ZErMwFXBFZG1pVpjoVOwM8c-0xGRL10oTBMSVm3QnMFBhjW4NCOhX0AKS8XKCVlL+hniUm0q2CZuwWgcq6xz-LCRJxSBeI2x38RpahPlXETqA-PLxFEwCgzgvl8yEUavW+h9LEJM3TCQqpGV5ACVgQbgOkhe72qDV2EiieQW-q8ssJygAFSavCm+wFVlyhVoijhmMIsl7cCVcwD-k+C5VaC1mYvTCU0Bv4CimBVWGEVrBHBnK4eamo1W7RWxJ3E6LquaVoSC1dvY1eYGDXxqKJVqh6DavYDurwiwy71fz1dWzg7Vra8YI6rwmttfJakgNUDSDVmqjJyKiNTHyjXWU8uRkikuaqrDqqgFtCpdfy1nVqT9Ve42CR4zy7sT1V6+XdQqs3U-jFVM8WNVKs9UJqYl+6nMcdDNBESt16Kf8dONnELilxq4kpWsGfWAS31IEvxTCX9XVQga96hdQmAJQJzdQ38+8gICEC0Kk1awc9fGpYGJq4pIi3USBqSUnRn1RS3xZgmw3eLfFJ0QddnKA0E0MNeS8Df5hCiQb5B1geir1HjB21fo-sZbvUKaosaGBAsPJIxrygcbKifUp2JxoOgKweNKISrqxqmmCZDYQmkPN2WEBWAmNjlaTegtjzSb18DuTqoprIB8bIlAmgOC-haTybaAWms3MpsiVVCymSkpgKKDOhCBjlZmlbnprKbXZGNlAGKaJrIA9xIVbKoBfRrLgmaIwHm9XB3K3IUSPGrmmKWQiC3wRot1I4wHirMUO4gtUyQgCZudgwz7R3mvIFdk7WnUXW4pBLawo8LUA7abm2CYEsH4KaytPwBTXlC82bFkVvm0PJpuY0taxN1bIxdyxMnvBPgvwWQNckK1msz4jkNrdptG3q5WV2Wj2ckABWabqtZCcbfBEW33Am+dkLLVcuZS5bqNDAArYTDOhwqzWvVKrfTEgGhwGYNm+kBDAMFhrrlaY25fMtolIRHlGW8BIs1Vh7bYVxy87bZoO0YRoObSpoLYoDH9LNKzgVbUcCB3CiQdPsr2bcj2DTbAg62hVi3C22etdtRKT7Qwr1zfaRgp2tIhuEyTpJVQJUkmafH0E8M+GAjKlNmX7JZsGO79Mjvm2qxXakdR8eSjcrmU0SlsWEZ7WSgJ1RN6QK-IeroNVBVlxWE0B4QDsOQNt9qzIszhMGUCvzjA4USKIFxoBbCkBFVNKIaW5IwyvZrgYjvTq7bKwg2W3SHWGuUrok4d9gFhqzpR1urDdObBnUxxgTo6aQ+2-FcoBI7O6md8Rfel4gAirs+qagE6AAE4uggsYPZIAt0SafyocKPVEhuWrgF09AZQKeqorKq3t9AQtdH2yEQI01lzOSS72MAJ6ZA6rdVqFDQBV7nVQc+6Y0FL3FlnFX0BPWGsCqwRqmeQIvmUHdA0B0oChPvqryMAt7qlyeoKMoED1Gb+q0K6kAQqIWYwpwkqybVcsrmhaRR9u2tvgskBz6fKoUQbRID1wz6t9kBI3hVvOHYdRUv2pCZ2utSjBTQfYYWCit1EEQTor7CQCuzXa9hoxcEVUPTE7XWMOgYynNQtCmAMA79q4X5ILPlw-DWMVPUvWdW10sd0QFrF4H-rFjnUwG8oUvRmzMUERYQzfESs0IgRYTKgsXY0PFxg1zBcDVPddWWHnV7qYNoGlQlQbt4QIQDYB4WBc2-hQHxgMBw6SoCsD9VTqaUYQ9aJPUFQKDKU4Q8Iclj4HU5zQyNSkDgNSHtdyBw0eiGUNpQa9JegQ2oAt3PKbl9y7CLzrBjYH4V8soXToJtgERJd1UBXUiCBpBxz5e+i0U3gnSCjgdiEmUfvmnXFE8kSYWgDFAXS-70kj+-aM-u-iv739iBr-byCv3NcxSABqPguWmzopnD1hugG4f9FQ7PDewKPtGVjxdE4yRwNDGqWJETogRVQdZkYkuDGteoxyiw8MBF0uGIqhR90NLvsME0g4-IjnXctdqjRY9qnJENROegx6DDfR0+nQF8YEThj-AUYz5p5VZ66V3os2GiPpiwQetQaE4F-RSCN62VrbAFZzpGMUSO9EIC7Gypy3n7ewl+9VsqJkD2ijAAAHSwArreAFKGLqwQpKzNREu1QGm1GwgV6mMbB9Mg5y6CIHrjtx+46ACeMvHFpJBj4-K2jHXB8A1qd0KdxhLInQAAALy3qPHDgry947gE+PtHTu2Jv4w9ABPJZb9wJjDPnzwB+GEwgRyIDcdeNFACTRJt6uokIIsBxSxocUsQHFKusYQ6rbKIiDBPHLmTsJtkwiY5M1s8tPJvkwKaDYUnJYQAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWVMfdO2AsWEFqONEkmSfL5aSUUjA4to0B1hs2tbuJRql6Snl8yt+QUm+3pRsqWyNS41I0zTwxuWC3O9USMZiMfEAIgAqsQcsRqAB3Kx0IojSTU0AAWhv-tk8lE250AG4sABfAQkdUiDvSG1BE0Bc6D0QxAkofBQEUC46UoFgKUocRVR-F5FEEHQwIhctLHbesAJ1X4EKoZDbD7RkgPbRhFzfSIPzEaQHGsKCYLsAYWHyagSDGMjUIokhMIMCENhUUB6UIaRyFAABeB8e3QvjaFsK1AIEsdxzNGkFGIHjHUoZhEU6PFfQ0qJyKU3VZn1dcjQw9TTPtED7IcolzOIFxtH02hcQU4hMNo9IcKsC4gtnD1FHEyTVwVMSzArML7g2bS8UipZ7VibjRHwShiFEMZ30CejHCY8ConXTdfM0PcDyPU8CEUqxyCKfJRFve9-yKF8CuML8vywNzQEnUYZ2qD0jW5OhBSEqIgtAI9MWo8baVAu1QmICTpDtWJdX0xRuyfdD9KnBc9uW9oCXaEyoiG6dnFG3kIt5UYQNO-JQJXd8+oGtZSR0xDaCpKVeRlYcptKkw4twi5yEYcL9oURR2QHRhCLy40LuilY5IOpHuRRkT0ZzEzYnhpRcalTFJMJrpPu-IR5gfexQyDL1Fkmi7pogliLlEDimqZsNgzZwTwZmyGrEy7LcvytIisY1rIOgi5pinSNeaM4WsPtWbScOw1RjVnyUnenNup6hiStNESpOy-X7F8BKZNAK7ddt1WtijDXjfaU3TUV1iy3FhK9fdtQEpFq7Zrdg2Hfus2ojly3tfFxnA3DRQrqCekY6faNhfUX3li-IJerp38rBumcSCxeFpcUZpeS1wJZoudbpGkevEkb001o201tskXbtwAKmrhkETy4ft00SvnDH7E662SgO4b0DMNfABIIJPzLl5QDoZt3K4nZHn2F4lzaTnjH9i406Ft4m-Sa3998BhZLvr17dzoyL78eOs5TjzPmRQBYs29GoFa9pe7tyurEDsnQxjKEPtOQgJ89jPHmLZI6OdPbIm9pdFyQQD7DBQWgoE59FBKhVKA9OmdCEAPdt-EYv817r1lhbVqosAGFmCmxQYWwRgPHQS2N4V1Mg2DxNbbYQjyHzGKGUCoKJMaBBJFIX4Nw7gyLPoyURGlxEqEUGov4mjATaKUueBRHcH50NiG3aQ8dS79QaozTMKYBQc1Fs-FSTtXHKWoNaFE8dn5ZGbIxJ2xCj6oK0RgwYigVIBUCM-eetc8pv0GhI26thkkT0QSEmQoF4461GgdFSzl7RaQQR5cQXlDLIjyYxTQ2TpbsxzLRL6zifpBWzF0K+sUeGgCofcUK90M6mV1qFPGwMdHLjoUSVptMnH0xED9GuOIvagg8WkZ+90na61WbU0YIzYwXXjvs+R9Rg77NxOcxRxz7qCkKSnOOO9Fnl0ZkYjRAJT4xNBpsoIZyLEXJGR8-40TgQ3KsTM5YusQUmO+eCo5y4LplMCL7eixhXl7x+lIwRpifndN0L0gFdQKjBxxWQsx7lAW3KhQ6YpCNyVgv7Iitoo5TRopwHgNyDB8DMDYFAOAiBkDoD4AAJl3gzW+jhnDwxyt4N4vSW7xEIGUdcKJjAAB8NUmVvjDOV6rQBap1XYcoFRRDDHVUas0rcNqBJeQNaGkhPCeDyrYIa+JyAAAt7hbE8I-PpFY+g7S3AqgAZKG0A3rJCIIVdJONoAvU+qdQsh18Qu7qtFkq2wvqXU8Xde47cDcuo7wGtShoTR00KszSnKNiCl6QraG0iVIgLhXPWZfcGWac2uvzRs7cbaRjFq-ANAdBsSUNr8FfWatbFD1sUDOudD82HDucaO4OVbIjTvNXWweHdF1ymXc23hv0hi4vhWhDdzdAF2G7XmiRO5GV4uBEOzFDNH3nrkWWjNm6a3btnbu+df792NsPQNd9wjmVuHAZOztv7o3-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYCYhN6Y+CYNMCKBow6AW3IITpVdR0A5uRnYNrajCEWsIhIQniNEI640Nx2oOHrFzyiAddjqPgxIP4JaiBDHAkQzhr4JN7KAshx9d0kkKiETY3+OUA0HcBrpfJghoQ8ISUOSH2AYh7guIWTgSHYNahKQ0VGkI+aiV0GmQh3tBFqqNCK65qUiEMMUBDDuhHXbIRpFyGdV8hfgxdD1khID0YY5Q-ANMFUDe1KI8XWvkcPkDaR7YpgRIAY3KHk0SAt2Jhm8kuHmNOgNw3wfcMSAktiSBwn4dgzsQJMRgcwloQ8DaGIIronJf4dKzWEbDwqbw64VsO+HbChMMI3zO0j6xgCeIkEE9BIg1g-9xQGgFQfeV6TcC4BvAuAfwLIjWkgByA3oeIMkG69pY2DbEavwwx6V5Awg1QWMN1DvDLAtgByuH20F38b+50IkdyPvKJs+RBodyEKNaJ8jORxIqAbEItJp98Au6YWmW06LbgNRy8YWjQ2y4dxFRdfeQHoGwYWkMUYw1ATMErxmjtRZJcemPlxEiR8RyIE0RKJJFxtYIl7PkXoHDRBpL2RIi1jKPXByiw+rROdH6LWH2g50wYmMWaFDECj5R5TaMdUIcgzp4x6Y0yE4Tja6jNR9LRNh50mA5BMQ7kdTj0104vBNAybE0cmxVFbIsa8owOEt0khOwkx4Yhvq0VrFciau4nWgJoGzGmR6x9I2vs2NSiyM9RdweloCL7hjDKCz9MwOYhhGUIIxLYiSH-HQ57xCA-BJfjSDtG8YMBMLLRqmLNFrYBoTnT4XcMi5Y88uPQh7otydhOd6ut4ooNfl6FvwdeEwIHmMD9B2JqidAFAeXTTYzdGgB4zrljUi5OwJ2Zox5JjjQGRc9ACjEptUUi4LI7gUkPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMAecdOmfChB2MlGj0dxOFYCQeNlEWtLxe46kEuyrGYJuJYYuNpeJkCVAKxmCHRuJPbhMT+x9AXIbEOwm4SCJRE0iRRKokySWe-EwScxOEkdjR6l45EfxNsCgSushkqqFJNoA3gtheA5xFLBbZCTYkrEr0Ypy2FkRjhiNOhESJVQFUDixY5MGWPkl6dDgvk4vrkX5HEA2JCY+iV2JCksSrhYYtiWtgwliQJIQdEgN51kgAAGNQgNFyjHgywGUwoXm3BSUBEEueEqQMCynrgnYXLTKSCKspLEeAcEwNA1NJC1TGAOjNzIVPQyd8f+HUk1uVP16xCJC1TAXBISGnWsRp5PdkRL3PEQ5OgTpEjHYBygRQMpEE52tNK6YjSVC9xYqZomGn9gKpXfYPhh1MD3BjwMgFMIZ1NBZo0BCnMRBoWoR9Sj+OAnaWVJOnndYEgY3aJxzK4SEDhV0m6eU0LYJiogwM2wNdOkApgOOsbDoiTFQ7vl7CCaS6dDNBkNTFpIfUQEULi7TgC2QgzsmvzuBsTekA0KGTDNukg82Bj0iOPaBlLugcuP-YXiYNr5F5RB+g6Xp3i8SUiH+1I88mxM5mXdA0pQJkd+L178lQgGo+WPyViCUzQZIoqDHEj0GI8N4Dg5OJjjw7miHIoQBWbDLBmCQcm+suGYwVK7VcZZDgFwSjLpyNR0ZVMo1om2xEl1nAnEBkP8Hmnr9qgZMzxFjUZGyRtBX-WkQw1Jlej44-sRkUU0Z7zcwexADYoKIjHH8qRoouAedCHGBBvZYc0cpD1pm2jqgIsd0ngGHjFyrYfsngQHL4FBz00mc4AYSRTiRyvxWUSWVAhkHxyUxO-dOUrJqBJyH+l0DeP3I9I2FfpbIhATGVrlcykO-sCYHjLsCHBM5dIjwrYSLkly65-SfMfqMLGIck40PFDkEU9mhya5o4wqFuIZgkA25ic-IFt3yDK8GxFwk8uqILHZ8ogCjKcQaLGFGjK8V8ibBaKELQt2Bl8nWXy2dm4i3ZcID2ZfJRo3yh51ouwGgOvmAKYowC12XwTAXtdr5KNLblAPqpgBi5w8P+dbx6wpMI0Po3aPAuwZnywSCcrsfOyqHukoxE2CGT0AoUgIUxE7WhXrWWATsGF6czEjYTzGvzN5mI2XIdO9BMJDxqMzAUgR8BiLOWGUzAhsCmA7jGQWMxTtZixlv8OpYuFRbEOUrk5Gum082Z0V5wyBrpRQG9LDHQo0MvMAGdRdjPNyZ1MQIijaaHJ7FRSaxQrGkX-19nO0pg5qdyA1PqnLSkg-U-4GtIWBYygkWNZheuLbGyRM40SlMa4tlGMKPgCi2QAbl8UkIsZKS5YCOJEG9DolE4h+RvKfksggR78+lPcCpbOL7gYuTJf4s2mMKFxGE5cbcNCaFLeQG49LGlJUm2BiJu4AADKG1qJc0DaPlIckMT3KDUo0K5NvmoyOJ-AiYNSBEmWBeJOk4Ca6mmUrK-INDWSZUC2Vv89lIio0KPV6X9Khl4AbSaMF0k8Qtlhk9yTCMKFb06ExklcaZPMnbKphRINAhlNskwiXwCY15W0ourQcfldwP5W0p5aJti6dypKZYB9kfjHlbw7yRpACWdUDixdCUA1JqX883FXo2KZMuOXbKUp3g3CpomqVJLkpJIq8dKweVtLPJ8gFFT0DVHhUroHkmejxEWGd5HJCU4SZSvhX4rO88IvCJ2CJX8ropXo8WjeXRFOzKleLBVooCpaSiaVW00SK6ApqyRnxtHRVUK3OjbhSY8qgltXwHbqqSA4spuSyLbBwhW6VSoVjqoVbKqthcbU1QsFM72riWjqmVSfMyyLKaQnfP0Yp11THFTxPmQ1Bqj6BoCYJPmbwZJ1MC8qlIpdfiVI2clEVRYbA-iZ32sl+R8ekEvLk7HeVvcwJWa-3s-AEYbgjI8aqlDCOjqEIgVXwyLlZJTUQrfBxqoIPkFQT1dG1+kmyXZLWFfMU1mgYVWWtMCCIs1Kq30hrOPle43kKgHokMhKmJquJ2ixsc7Q7FOw0lSiw4BErSDprgJ-quFdmvm7PwoJskAtSAjAmGSNepaiwCOtfwlSthNalyHWuvF5dZF4Kuyf73bV4gG1qBBqc2sSAd5uel7BqYOtqrDqK1HUp1ROpNKixHEI6MYLcpKk9FK1ya7tamt6EhQMpqGhSQgufntgENTi4tTQ205ZrsNoUvyFpwI2kbi1vSWdXGrHWLqllZGl4L6WfgVAnJaGtJL0rUkkSyJlEy5WkG42ETeNmkkZf2rQ2gbjq7GytQjlr7bhcgATEAX+AI3Yrl1wJOdSIupFJrt1D452tJumVOwzlgy4ZfHCM0XL2xwGjKZJs6r6aMpsm1GfJpyCKahFUBRUvzA2AE0Gor0c4RIsibea3+f2DzahH82qK-0E0DRU9F+ieahAb7HzbbJV7+adGyOfmJpWi0T5wtgavzeFp0Z-ZUtwWjLbEMsHO4dGkOPLTFpC2xD4ZxWpTVYFyieAnwPEapQVt6FFbPcEDWgATWoDrSgtMWz1W0pJY30QEPWifMNpewWtpVbSmhh5q63hLIto2o0PNq+U0k5V1SwLR1uC2LaTQbvakhNt8HpYv1F1OlrsQNVUswCHWmbfPxD42BOt60srYfT617bMtbmkBHdrQivaqueG8pcR1mGMBmhCwzoWjDoQna7VuW67cFve3nRdtPwrbTlVqqpaZtj0KcO9qWFg6YtfclYlDulZNoDt8mxgMdpW1CsBc8OnKJdreR1aDoTkalU6rpWHCvJ3tOhCyot4fBdFwOhVeTo4aGqbQy7HJeOGaVLiq1wK3Mf4G20sg+dknAXV8KcIW8t4tiDaDDrMiuEnVtMHHcy3x1uAnwnOgXOzqlEZ4aQkwVBCpzraKddYOAuQs-XxpUh3685RNsew9ZesRklOzHU3CvJIq6dJZM0Izs0gCSBGCMDPjzSIFKBj6QLRaJDqkLH1DEdrZKumO47iBBxHCwINVAo51Q+RxMrcnsWl3bbtwtux9vdB5ZpcxdrSyXdAprCjL242Qp3cro7VZ772J7e3aASqis6jVmgbPae3DhqFn4SoNNvpWCFOwAAnO+AGjd6dKNK5QAwOcRD6QEHkikGqhUCaB0NywNgX8Ppn7kDBLEKwGkRylM9AgE+xQIi0RZVQ0Ah+1tRPO3lEgd90I1WVEAn00qS6BoFERUJUDnQrA94ffEjxtl18bABlG-dPpDSaBO94wT-cELsV7wTFOlcxeFFrhzqHtPwxTpjsr12VQDZi7NBYrV2PgFAmu4CNIFMXgGdd6hBdrCE50wRiAX6kwuuHKBwgLGZIrGq6CdgdsLwWwNNvgZmUzAHARBr9f8VfBQqd1LEZCIwHIMUgRiRTa7PqMHQg8d924O8PeCYNJshW1gYg-ZzahxVe6poHfRKwpXrx3eMG1wf7DHWSdpOmIBDWjFdDL70g2nDqchuo1UaU1x+Qlpfv9i8H+DTUUAEIbhB3BRDJg8Q5IbvB9jyN+GuToockNdRND0vVwZOvSCeGvD94KlrFFbEk1Ijd4Y-cYGv3Ii2VjyplRpE930I1Ddq7MX7u2AB7FVkowdbHoIC1UayjCxvYS1uxyoWlEuu4XYn8gTrvVK+H3MMDoDHg1UOUL9aqqkg0HZIdBrtkwbtGGglAXR+zjsU4PU9jyXcNJJUcKP7waj-OkfQ0d9JElbUFhD7SyELS3F5RcqU0VsHiYbxZWELapXkcIEHRXQVmRwkIVnYR7Sjx1GsqSq8C1GR9OeaAbtGqrCqGjCyJg4QcRYVjFA8egADpYBsVHK7NFJ3wA9FQmdiIKklUEimR99qBBw3wTo5YBfj1S-41WMBMcKQTYJgITxD0NQmpWdo3aIQBMLnQouEhck6AAABeidUACCaiDgmiT0Ju41F3pMImXISJ7cCiYcDFpDe-UVo-QA6Nbh-jBJiE2RDZOzUZ4tLXYqUF2KkBdi9LTCIi1oh4AMTdq8U3jMlPEnQmMpy1pIHlOKnlTPLHk11CAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+eng84MPgzBsFAcCIMg6B8Dwlm9So0HuQCsrKDPvOyAoSjDpGsTMrlYQAPzWMS9+hAAXC3oLlK-NhP2r1DaUIIsN8SJhy2nEnIZEqIv7MkGCfEwP9rAfwiL2QM9FswQTTvERBoAn4H0gag0sGCQ40XgTg5BUgQIXnAiQ5UOC8HWigkuUC6CNwwmPsQU+5DKTEXNJLO+eVrAMPimaGU-DnJkMEaAChUViAxRhCVPyKcSJ0KkcIghhUFGQOTuVDhXCpEyOUrhHRqdv5qK0qoXSkh5x6CMdxCMvF+LlH6DgqRKQ7GqXUrA1xbjQiSMETIkGnMEHmPwazdmB0DBsyug9FoJNGSF1MHAzhISAkLAtmYwR6jzZq0Mno1JeUZE2QEVk0AYTikSJSdwiIAcg60OweY2p6l8GaD4noJOSjdGwLKSklxvj3HLUkmAgSfdEkmGSafAphQP7eGYGsZygIACqxBtLVwAO6wjhIyVQeFQAAFo9llOvnxViW1JTRzkOpYQgxRlY0oPgUAegIiEUoCwWKygxg2OEIaaWxdzmBxZi8t5VAPnWKqu0kgNy64QhsNUMpchZDiAeU8qQfoWCLGoCQLoXySA-LrDYXsWI6D83IMcI5h82l0U8RC4g4yfH9N8nxORShOGrFoEKPQ9L+k2DossBx9gnHfL6dy7lozhUit8UnVlzAxF9G+R6FIX4IiuTAXoIiJKpmlJVdBMYaYmV9HVXIUw9KP5YoYjEToVRYXwsRfi6wszqA+GuUCZZqzqAbIIEDZmiwZD7MOU0-MsLPR3jakMnVAlSp0AmVjLWzhq4TwjQRV6iCn5y0QR-ZYqw9AtKPt3Xu+ds1JvGT00+4r+mhsUMMtVSVLSjMLdPaNysgZhJqkVEE2jOmmNISk35SqviMBgjmtp-U6oNU6M4kthpXHqNac8EdflZFjOja4mZxy53TVHXNCd8DfbNsYUEl60bfn3MeQzdFzNwkxMxjGmYmkzWMWIJazEcL5CIpPSi7oVIiZxIlvrJWvy8pfiHc8PN373Icrxv0Hdz6bW+rtQS-0pLQORGMFBG0ZKfHAfaSjMD8S-3jOg3ld9yrHRoZgsh4kZGZB4p8V+CjfgqNWsKC+hFcHaOaTCQerlLUxY-ohpjKDKSmMpFqKEWoaEkYVskCQUR47pJN1vbzVu8nNW-1AGmwpoBM0+EBAAKhk7wx9HRdP2ykwZgURnvYqaNAASFCMGoGdBg7EGRIQfsxCYRjOPciiIB6OwAYQ+mB2isyVBLRvx5kwmwh9qUOelmfnyaqZSKm-mcgfEfwDrKJqznXPubYY0AS9HwMYzxnSiVYQnM5Fy6wq8-o9Bmy4+Vpr49xYRcSxXGDr62OAc0igxDaDnz1ONb4v+PJCF5dqy5+E1Z3TpYWFQsCHmVENP6aN-4C2auYJAf+JL0z1Opai+JveFIwkZO7afX5hLPFkpdtSyLmJCW5PUAwI4wMcuYom5ggSniYWBcMKAcz0pOgvdAGZkEhnx1PYRb92N5KNBH08WW3xjKsssuUGy2VtiDLPcGIDukwPG27qRuUx0+Te2aTNtqm0nKRVYZ8p25bSTuOCPgU24njDREQcqRd-FhKwFkqw5zi0VHt1CcxKI7bIuhdymm++bpYDo1Ra-GAon+9GEbcG+w87MaJey9ATqvQGuaGVj1-+JHNgsNG6W5BVV3T4Hm-tWLuF1gzktv60Q-LKVuc68M5L1V43Nubm284n+WGA+a9fLb5U0aHeTvCovKqy9V7sA3lwbeaA1rHYlM0Adzw8Ixq-Lsk4r2ogjlVxSM2Ni+Wgj4j3QYiPJ3k4+jyAq6LMXMvnL9Zn1fHF19AA36DnckZ9bb1isFVl2kF96xlM6PJ8ApjRRisfneE6eqsvYmvgqp-N9RmNefoBuqjzX96V27t8Db5tstPfgwJpH6lejmVHLz9N8v7v1a++Nrl7upYsYVOYJ6otAvxGhbz-zBEGAAMZFXxI1jBFzASALDln3Wx1RTFAJNl6lANkX1UNx1XgK9hdDgLZ33jIDVhpF0DRwxw5XgRf3mBdEHzOWQxXi-ioPxSHgQjoLvCehIL0iuX5SPXMHs0UxxG03aV4Lj0hEJRGDGEZgvRPgoItDJTliqDOUr35TEmrCjXvHDVwOENNw0OGVX0YKeG20K35SmAEL+R1EMOozv35SoxMNBDMOhkEJoLdCsMIJOzwiZVqmlXZRKwgT0Jx37ypCkJ7RYNallB0BGDUMVApmL1BwiKiOtGTTcSfmEJUJgX8MGCSOLQ8GCLR12xsA-iyF0CiN0LMAAB54iSjhhsDod6U8FGA5k9BAQAAVDICxYgOESUfOdwUmYGIBGOToD+QEUAAAalAGZwqyiBiB0HuS8X8LMHGPthGPGMmNCEMGiF0DmNqKVhNTKUaMdWaLaOoAIBkDWW6J0F6ISX6IuUoCGKBDGImKaxsA2JmO2LKMeOWMeLWJeOmK2PwHUmyPcPYgyEAWAVNxF1Nz4MxA4M4W6AyFEmYJ-jvEqy3EyM0OhwC0VWnz5gFjKJ+LwThP-lEh+L8WIOoFIJ0HIMfwxlZx+I-lN2OFOB1HxOeKES9myNJOkTexyG9jKMGHwOewVWYx-nfRPiZJL3OGkJZlkJpMgKxLCAdTWAgRTGWXSCxXU1BEDWY1gwVNCEJSsLJQYNUMIzcS-FRJENBGMMtKeDKzZJ5VsKrTcJhzCFEyDWcOcBPnhIbmzSdyzzEF1wgUhJVIxOhNCFhOUG9MRNCORMc2c2iMyACMxPg2xKU1SwTLqIlUJMjOJJp2eM4IpJmOpN8MljpIlQZIgQlK9lZPKyflkEtB1CSKyPUAKLSQtJnAWIFLdCBKizEyeMKDFM4SrMkNiyZhlJ8NlRvUKCVIzNVOIHVLkU1KeD9UlEM08hdL7K6z1L+yQ35SNJw2sRNLF18XNPjKsOtLcNjwlXPKdNMI3PdIfNhy9NzLoNwDACXiYFYBT04C3l4AwH9J9CBXeU+XBW+Wlhi3jCyjlUhSBCApBRuiPzgsoFBVeUDl-RDjAuthxh-DKHlXCkJSQtBQ-Ne3Olfk+g1HthsA1H6TtLCE+j1EousD1Bood0+m00Yq0xWEYBYrIpb0PA4sPB4sKE+mKFS3tlEtKCkVotCE+hijoEDlUDhHtjkoUq6MEWkpsE+iVMYqVN8Q0usE+mEhGFmg8DoF+iMuGBMoYDyn0tBxb1GI4psD0DwkGDhDMCOAAD5QBdlxi1LbLPo9lHLrBnLXL3KvLdlDk-LWKW8TNBgUgQrQA3LjhwrQBdNErrB-KW9gAgrHkXLEqwrvLQAwAoreL-hAQABSHKhKpKzywq8q9K0ATKsq4vRy6qgqovU4Ny6KsqgAQhOFarypqpSr6tey6tKr6EBHKKqsGvatAEqOsDGuEpb3KKOCCrauSsKpWoWqaomo8umtCo2t2S8u2u6t2tWritCHWtqqOte3ytOuaJ6pysKtCFqusB6psHz1fghAIuiGBWQpAvX10OOB-mElEg1EGEIoBu9Fph+teWAvHxP2oA8AACsQwuZga8pQaaUNq2LfrgL7Y5J5VbKwhIaEbPMIQsBYa-rQVxsQdzpPp70LUOh7ZGajNib7SZKW9IBiAH1mIlK4rubebmZ2aOaDKW8LLJBYBIBGKJapaRbRbDKtBLKABRDiiW5W+Wjmz6AAOVUG1pyt1u1tbI5u+sQy0zxvgsXT7GMIxsKCxoeVqssOLVJtptNqCxdvd0tGGVtpSHto2sJsNAhotv+qtsDFpjOSaQajhstpxWIChSpMPFwMjpiGkzkW8EuSLORtUDUCc2iCZjzO5VJtQqyCFAwtxSvMKD7j1kqDCAcyRnrKAWLMx1wJR2ZVlJLL6G40yzkT0FJrol0MGC5PNujpDoD35K7ujiy17uDqIqqmRBRrRo0KHo9vTDQX0IrrCBHOlKbqFE2gkPOB0DVlyO0QnKFFC2xGAXbubqUITysiTy-PXh-O4EwAAr6loCiFUAoEkHZkMFfGEkYCMgW1wNEs8G8GMlLhbCAanTyifjkkFOYSyE7E+MkBWIdk2NmIBPAZwuwIQeo2gb2zkigaPzRWElZmrz4iaj+ILiTtIFIHcH5iPgMBuVoYKoYHGL0E-tICrMBBGKfh4e5K+PGM4c1qkR4b+ioY7jOUSnIGZl8HQfjo0KrukeFosBs0xHNKoc+OaMeJIdwlkHIfHSxqUdmGZgUZ+SWJMEBEQpMZZlrxYA4fzmAdcHTL7l2z4blkBB-kMR5Fca2E2BwQ-VbhdFcbMCCDwLdBCdABGqBAfnBB-ifiwYccmG4dienTfsZAjC-p-srH-qMlcZXVPX9luLjijF8e2HpQeHRA6TKlMRCeNr4e0fGOUdse8HsZ1DrTqe+P6RGNQYhMkmkhpRPxMVKcccWP7LcR6ceOafGFacSeCbriSYAjGPpXBE8bcQzRseaP4vjqDvsAvTsfwZSBkWEPyZgfNr2fUkBHYsGHOnacca7JbBCd2ZkZacYBYF20CSocWfiaBAAHJUG+5Pj-mvG0G3jMHXHrGLnv6RxGB1J2ZYWnHcSygnhQGfAdR4XFrRaxayqchmaUxHVljq5hQUx+RvBiWXJ+YbpDnH5zmXnEmMXi0XQGXnn9nWmPnaXZH0WYWuqhg3RmWOWWYGWv8xAs6c7SA86vadUGoDIU561EXalY4Q5So3G7KcXinNx7Zqn-IoxlWN7QgsbRWqRxXKAmYqNpXrpqQFG5XqX35P50RlWfnPpYm-ogz+mmCCIbXCiykCJhXnAMX5Rtk8JzXZXlXvNCnZp1X2FlWpyDS57GTXsf4+noEqm57hnApo3ez0n-tCIZXqQExRkyUsb-X4RA3g3LWLjE1FhhSPTj8TdKy4irmuK1nChUiuLEmc2LXZAuhblZIs4ygO2U583oVPWkFa3Xx43ThAR+KfmB283u264QX+763J3DXc6TXJWbRm3ktOKs0l3qw9WbADXs6jWJWzXZ3FGFno32XhC93FQg7c2u2E0XSWM30fNXB3Wq2pyvwnX7Yk2pIP3q3QAX3utosOMfXn067epSXGBKxyAa4vBZoOhgwDhQ2wiGxvVnhQ2G3oPhQj99hu282YPXxqVUP1HNIdQICuZrX48wAG5vAg8WhQIIa3NJRFz2hyA3zPy2BSBhgRJa9QA1pHlZBeo1oM8M8EEI7qQDI9BdI4RBg7A-RGAOgFM-kJKygFPHVlP6mAc06H1OgCnol1AZOZA5OvYdQNOlOlZjb2TzOQxNPkjfEMspPSBjPTOXQLOtPgSxAzZGOsg9AY1HtsdIFfPfUSKYqQuTMXSQ1QSgFXPJAeBBhZPJAJoFTCViUPAQuyV+RpOkuEveWWwocLhQJAPUhkV0vMu4jWbOgpzUycQquOhM3rBgPtzrBCUPOsvnO4v+AHmiRCAMvHwSuBzkV2vKvdOmaavBEvx6vGvXTdSUzJvZ43QPP7yRMf43SmuYT6Z6AyW4u8ukvuuMSRwJu0u+uKvVy6AcuTP4ueusdg5guBuVukUhPTvHwqz6uJv1j7ALgCuguiusgD28phDzpcuIa239vmybRA6h7QgXRCuQuOs8pmv5v9SzaRvzvLuWYDuZwXvivHvSvHkRvTh3uAs7NCh6zvvev+umOsBSf7ThDhDwfDvqMAeJVseqfEGPRaegO5vmdyf3O7OlOIejuZuxM1uIPwygYVKtAeP6sJuhJuH-4wSt2RtQcYvFhuMP42AG2YhZAYPlfVtxBtuYPJiZkDifAWA5y3UPU6PMEVyQvtSNua2pfyAeP8KzabeGPXvXsfPHx-OqhCV2OyUPfYPfep21f8wCKWPXtg-XwQvmideyX8xlCf9zYYgYpYgFshfqNqDnBhDM+mfV8PA0+iyFs9Ai+5EZjcCdRy-0-Jgj8a+S+DcG-dBcCXRm+6+6YkZ2-JAU6rCcGzwmOmAHCc-0eXP8+3Cj9W6Dh8+Fch-bSR+0iU-2-+-Hws-i0J-IOKQIhFw5WR-ToqJ-hSoUxYmvOmhV7GQzw2kj+5+ZIdOFyuhFxJBeO5EshGAY07w-RFhmkPWFTiNKFwxrWLXLNqSnb43Zi+ZBXviaQIiDAN+J5TSKANG7Bg9OHQZnE-BID38mET-XFq-3rQwDTCzOD+J-3Ujd9VU7fQbk111J-9uIWaaNkAK-DCEiBiTaNuAQbjqRaCHrcgdzy3LI8-kpUGbutyA5kcGwjA5Vr6zQbZAWAEbH1MymDBhg4Q46OgHl1kGKUEwdAFLmhxOjOM8S3UH5soPkFdA1B-nEFsIRZLdQWe-nDahsQkFSDUceghQVEGsEzgzB0PNknYIMETQoCjIdOtkFBRuCDASg+QCoPcGItW4iglVm4OkD8AjBmmEwQhDCHmCCqMQWvFkGzpgQ5B46CIYYJEa+ILBtVKwY8Ap7+COsEmXqPkMkH4AwwRgESDSj+i4EKhWgJlJEDsCPA5G1g+2jBSVh35KhjQsoa0MeAhD0yZQlVhpj2xJDvBqQ+iOkIOA+IWSDg-oXq1yFeV6hMjWUE0IkF9DJByEZoe8wsiu5PCqOe5Iul6AYx8+OEA2DfwC5m0EB-ecAVSUgFfxx+phJXPANuFvcxuRmH5lPxX6D8zheAhwsYIaHeAXMRlGXiQKb63Di0vwi4WIOWArCnAkgEETUVhGDAoRbhEfoaQbb4AtQnQEYj80BBYjCQOIkFoZ37ZaAURWgMwD80NIu5NM2-AAbCMpFnMp+PfRQMWGOGSxkRoAVEfgNpFSB6eFIvxgsGEJnCVWsI2vMCOl41EXQDIlnoIhdAijZRgPQEfCMRHtsKRio+0jqAVEuDuUzpEFviOxHM0xBlJLIHBymxzD7G+eBfm2zyqLD9spQU-n1FGCGRZoLmHDqU0I4whBg-rTkf6zRG84zaiIlaMSiNRkoxRQIhEZKL0A+iyR53Mlo0EHpYsRUfop4UIJxBBjDUpKTEYaP15qYRhRzYGDMVNGQRehGYpKBqjEGEBZAPfNOnhF7oCiNB2sV4rEB1AMjHR7HNYS0Nk57cTO6gh7GbRBzsdXOPYuELfjTHzAXsRPd4Z0FwT2i5A3JOgGILT6+RJASXFEPWNrD9igssnMlK2IpHPDeYO-WTmYD4axNuSsncKKaNAAtEAAEsrUkAABBcAOAGVoAAlFopAAADy2tZAK9kUKv18A9gHjrNE9EFYNx4ov4fP0bHOAqxYwZcXWPDFOAVWHY+Cfm1Al1ZEJtKEFh2PUCQJ3R-oI-DhNKAgTdenmCwdBOvF3jHxz4t8R+O-HgBCJX3VCQR1IlgTMJuBDsb0Pgmriru649iSS3QnEA9kZQ05HeAfQsT4xGE5UXHQuEj8yh1iSoVjS5RnD3AyVSYjxxDDaRXRJEySbkBUkW9OKcImSZeS5SASXellfCfQHAlAjIJeDS8fYFsCUsooJAfjq9gAAMShO8I+jWTtQnJCrEppBEoAHAC8Tkv0C5O8BkoB0q4MKV4O4rjEeAB4nEFFN1Tt5a8R+M2N5KYQD8-O+fZKVILqSVggp2hNtoCGdY7sfAeU-yUHiCk3coGjouwNJCymPgpAMQNVJS0uFBZKpkbV8EFIUJnFfJq4KqYVOClRY7wDgsYGsnUBGRSOPWQ8QANDY+In4GU-qaX2v5dSY4AUlzEVLmzPI22DrFXsIXGmSBJpcgIyDqGYE-EjpJ0oyOwM-bWcZk4HUXjWyulTS2piDMQcGGkHKdkQuQa-o8OH74oxpdgCaa9Oz7zcqBO-PBkALFJ7QjO+fKGTwNq40Fc8Iva1NwOZxXYwBFfCAS5j7639YBIqL8B4DeFICmapJJ+FiNYykkP4L006WX1uEi4PAnA0XjZiR7sZeYwhbPqgKGDAzjpr086T8jCa0ybpboPBgQIIDPYZA-A8Xn8mFlysxBzIw4RimIigRvh-3UMrJIDFBZrh3fe4eiH+m2kos76UAdE2J7zcpuxAOYpGPMn0zsZVJUgRCMTFJjrA1oWyTXU6ysYnuH6HftaDxQc08AumQOT-CuyvDXsus3GaoVdnQif4RM14abOnEoCVeJAK2aqMz46ibhdsxmY7Jp42ZSebhObF8Jn7qA3Zh2Sgcik+lZYpAgUKOQbIRlFUwAgc3TDHM0gGjCRRoj2bambkNhC54YbKbfyjkEyNuJQikMnIBLWyZeiwPLosAO7+jxxicPctmLbm5j2SrcrIMzWJGwz+2U8iaFSP5Qgs6RPgSeYyJbbesvCLIpYBSRpCqzJ5ENGeTyNGH-9D5KXT4fsOZRKzL5lAa+QdxvmyT65qVIObyOoGHzuogo3aVmmnkqtR5LMVUdKOcEc1pRE0DUaECgXjyairYuBc7MKCtjEF6cvKHqM0yrycRS4qQMlN8DFZ5SFE-flBTIV4YUClLNAlNGIJViowyUqvn2zel2TO+6BJydSlYV78tB8sacEt3akjtZxn0dQJNLhD9oRwcTTTHA2EUc9HRkdXCKQuSnejuW3EIyeou8AsxZ5KPILKGGyAuZkpkU2UFaQWwtTcgrCqLIShQWZiMM-SFBaqJjFaKdRaYUMMwsCiGKqsrCpBSkBTEOFEp8wOxeWNDGLy15y82cfmLCCroKUYwDFhwtPzqRvFxi9qbKJNH2ASxFovQCEpDFhRPQV428feNfGLIAAMsrV-FzjPJXcICZZWSkCRMJbskfrBJrHBgEJ0k5CUxNrEJh6l1kpCdhK+64SBpSUP3lwopBETIEvS3AkUskAlLylDEsZRKBQndKugvS9iXJItE2Ce6XKTidku4lrjOo-EnUYCGSnCSLR4IAHrsu2HNEypJyylmcu2HgglFFyFmGsuklNKKJ8k5YUpO5QmLaqkxZRcMo4Wg8tFFwgHmZOAlvLQVzpY0cXXiXctoxGixpTf07HvMNl2whSVoB+WFAMRXlHxPJO7pdA-BzOcSTpKI51YXFEEsFczjtGR1ellKmyRcOJrnkhhCstdNCx0WIqdFtk1FR1P+w7RhAZKIcRhy5UIsUwwGDlbCwd6ewBVJAEmeag+FnMaQ6KVcAkoxY8qhhILWVbkEo4CR+WLKi0Y6IiDwTfeDI-hU0JmJqiSQiQAIPNgAF7j8lw8iUIYEdRjBLJNY1pb5A4aCSY0VAk1arMsk0Y8ohKHca9n2W8TOogamboSjoaNFhc7qsoT7XKxXL1hsnASaxNoAPKJB0q0IIsDcyud01ukrNY8C7y+ITmgkwYHaNjUNTa0gk3lc+x56i8h8pQuDnYGGUer4JHCvlaSkwlkp3FGgUxNYsxB+raxpqjpcdzNqhrDebSniSzD4kdLo1ZtatcLjymJqjgpJFNV2JM50KsgxalgDmpsB5q+gaailrupEl6thCaix5AVWXVyhV1hqhtejKbWv18O7ax1GSvYSBrzVpCr9T81fU-qfVILV9ZZO9UZraUeHJDh+o9FgaY0Lqtte6pTqdqo1W4-7JkAknkr6AZKGZU+JfHvivxP4qLNhpol4b6JYYttpZMrUFU0NUG-0C6S-CAgAEVjRZQGUg2qL2pvyODb-icmIbaxXamxe7zkCrLKWIOGZXMoqWEaqJYmypZespaUaNq1G+pXRpbmMbiFo5C9GmGRrgpI0AwgWNprvwHkNN0IetCp1hznSi0R+ceIZpECVsTNnsW6ZIz9hqaWYclTTRPm03mrW4em5jYnAPIuajN7miiWZungWaa0a4CQK5ooA2bW+os8zd5vUwyAdA7kLoAkoC1zyvYXmp1UWFoDI1qArUqzZFo1WGrzV29fLewlK0Odt2Bq7YSCw025arFoW8rXoHK3ZC-E7KhJchlK1Nbst0IV6C4i572kqtEg3YUeuaK4tliEqjFvbFq0xAKad4FzXVr0B+brNhW7YYi23pLbvQi28LT1uGGpZ95sUlIb4MCH6CC6biCbQiuQwba+gV23rSiqGF9b4qBVeba1PHg3attdACLVzDpT9aRUg2-oV2BG0MbGA42trdy2Urha6ts2oGI+kS1tIxUd2orZ8s2XfLqhpkheR5Rp6CI1O2aUHZyph1JbJV6kHtrgvWJFjMl5o65c6QQQ-a1MGSs0aiptLUYc53JOWA9rCB-b3mooQHUSxB1xLCd9sfHXxCh3E48IIYNzJhx-4USsM1-EcofSRolRT6gBMQau2NamtVU8OjnW9A0YYqUdJJNxLitcS+QxdbSHXn2Ev7PAuSdzahrZL8WPJlAMAsKtDxnL27xmzspZCsnWS58tAmhbigcgeKjEc5-WwECrtPZgInl2nOnVksp33y0krO1xJrq535rg9x7Ndmrp1S874cfEfnYMBD3rsqMFNQlMJCDYqU5BZKAAJxVA5tEgVSgzts1V75Kcg1FT31ry+BBgtKX-m+yRa+Ag1OpLcu+mcBxE3JH3GwCXsUp6BfmvzFMGgGn0HqKBT6txKPvUizDmZI+6vY3vknMQwG8k5CMWmcCHJD8YvJ6avob2KUm9m+tYIMCL1haT9blMQRIsUrSLng0oV1StqG3ojbCZQxPRNXv1SLxgueDPbOmz2Sg5Akix-cLt6jntCdTyYgEeqyLeB0gNIFRlrP5Vkpi2WyFoEG3Pb1ie4T+mAyxyWIVAnlRs5FB8kYAIG+aUTSdjSGKLCgJui+5ogckOTntQAGLQ3keusCMGRQru0IPQemZqqjQXAz2eYAEHvp3VcHc2G6qQ7jodoPelIP+qcnvqQNwGutdShkOPd30pB8g8zEoOvYvohIxkOCCAH0HAQjBv3ZZMlBSGOgfqUw1waR4CC2ZeUYw6Yb92sHMxDAZwwcln1ci19p+3ofis2XYrdR6O0knwYRUuDTdgYc3dGJt126HdG1SZLKPO2cqdof0MnfTt6FywAIh2TfhKGQw5A6AayMBjECPXdqWDqBjRSWwwNlsGl4YWQNAfYMEGiDKG3cqCBBxJHYW0RwsboGLEU71hmRpTWmQFhWEKtNLYECcUREzEuRWgVQJ4xswbMoWCSiIxfyPgpGvYwx4tIbjiO1VJkYgkVTNNU58i9pHrH5kFvZYzlr+7uq3p6QZxiAMODCiULqt36ULDjNA442c1ulnGzeuAl1B7vdTXGamDx9+qTFOSQGElvzHDnoEwUAAdLAD+snrMpxD+AR1PY1Z2JVQqPyEVJPqBCaGKSCFLAKCYRXgnPRkJ52TCbhNfTxgNcJE283rFZpCAWRYtKZ2EL0nQAAAL0DrWAYTYQQlZSesTInNjaJtk0gyaxYnAQOJ2QPmFJ43ADy+Rwoz4HBPwmugiJ-k4NRuYt4ZjhsZYqQGWLM1DQvzCEHgAJOcqFTFJ5UzSdVOqtv9yxDwFqZ1NPLRTIoIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+enezOLM8pVY57ETLKseir7lNgAPxezveUAFygN4zA+KVKYAKrENp1cAO7OMn5VDHCy8m71aZ8YyAmr9L68pCb0vgREwu9rAHxdEfQop9z7UBAYsG+d9H7Pz8inCU39SasVwGAecDB8DMDYFAOAiBkDoD4DwSyvUVDQXcgCWUygZ681kAoJQw5IyxGZOA-e1hiTcOsKfB46IuF5QgaANW1BtKEEWG+JEw5bTiTkMiVEoJyiDAYWA0RoBBFSF7IGei2YIJp3iPw0AB8aFKL0aWQxIcaIaNMToqCS5QIGI3DCcopjzHWicWeFxz5bHOXsVoxxZoZSSxEaIrx8VQlCnocQRhDiFg1SKiCJRL9U4eK0VEyxhUYQlTQeVOJCTgkLGUrhdJJFlSeK0qoXSkh5x6DKdxCMvF+JqNMVolITTVLqWZP0DpnTQhBNEY4kGnNNGRLPt4sZBg2ZXQei0Emv81Fn3iRMk+CwLaZMmRY82atDJFPWTAhYNkIl5WyStWMhzEkRADkHAJJismSmjnIdSFjNB8T0EnApGS+mrMYf0wZXTlqSXkQJPuhdTDqLWUclIsDGAX15Lfe+1An7AzhIyVQeFQAAFocVTNoXxbBd47nqWEIMCFWNKD4FAHoDe0QWCxWUGMBpwhDQAK1s4UlDVKCMqoMy+pVUvkkApXXCENhqhnzkLIcQNK6W6NYIsagJAuispIOyusNhexYjoPzcgxwCUaDoXRHpwriAmEBUCzpvkf61XiasWgsSBlWpsHRZYLT7BtLZZal1gyIU+t9VopO9rmBhL6Gyj0KQvwRFcvIvQRE9WwvOTLKCNooqMgxgmuQphnWnxVQxGInQqgSqlTKzV1g4E+HJUCZFKCCBAyXjIXF+LSX5glQvIGbVQXQSStvAidBoWMI5V+auE8-79qTTwuW-DT7AO3uwz53de75z7dPQdFrnU2C7YoMF8akqWghau1667lZA12ckvJaSfmVOMOugB0aviMBgu8uh-U6oNU6CsjRk7QjZI+c8N9fl02Qotf8n9NhYELoA9Nd9c0v1rN9me6ZcyOYvTvZq6ltKGYsCZizGZeM14zE0vmxixAi2YklfIGVmH5XdCpETRZEt9ZKw5YUL8L7F0owY+5WJeN+gaOLSWqjTby1av9PqpdDHjCppHAagZHHniSbRrx8mFqBPcJozGx0MnFNcciNJ+RGqBlfiU8SHTgmUiUelSJ4zmldkzM3S1MWjGIaY34wh7htRQi1DQkjbdkgSChM-dJJuRHeatxCz+g+06NlzsBAAKkC8ROknR4v2380lgUZGfxlEi0aAAkKEDtSM6DB2IMiQg-YbEwhAwAzTUh8MoVY9YbV-0DVjOU6TcoFmwgPqUDh5mrN2YHUxgM6L-M5ADNPgHWUTUysVaq24xoAlTMuYxgRgNgbSs5AW64q8-o9Bmwc4Gk749xauYI5GoT1nmuAOA32PbRjtlPPOlYxb+3yvwmrO6KbCwQIXnAg8nNVqD7nX+2Barr4vvvg7Ju0+cses+aoRSXZWy7FrIAdqnpBqXamuZD17V+z1AMCOMDebyr3tGIEj08VYn0ygEy9KToJPxEgsUIzlLBwifStp5yw1-69A9M29avCtqlAhsdRjbnA6GcgmS9lmX37ENI12acwJGPNVCVqWMWNPa9COYU3u2MA10EpWVMLk7SvivUO8TE9b6uh2au1fIg1hu7dyjjX89ToRQmyKUXG93RNFErPkeunrX55HK5t-FcHj2gfocxL76Hci9ex-8ZWZP-4Lf87oWnwHQ49de7Wdn9TkrrBbUNfd-R6eb0GzAwApPiidN6De3HjPwe+ncMN63mvkFPfm7AyXjz1w8B4KYKwdgJCuDkLQGtZHEpmhPueHhNeX5sUnFJ1EEcUeKRmwae60EfEe6DCF-XzXS1-gFRw8q4gqqqq-Uc6AA-rTj+gFP6XivEQ-TX5VYKqyXzV9NJToqJ-h8AUxv8lVf95xP4KQ3UeJPUe4AD70L9LQxowDQBupR560rJXZ3Z8BACPplo0DBgJosDg1lAHUw0kDz9CDUZiDQANod87ptdLkPhm9MFGQCCbYeRARdcbR7YODTAsCtNjc41DNkDeZ4wso+hQ8XJtN5EYCJQ+CRx00f4ZCe0uCcYcs9BDNT0VcyA1YaRdBxcKDQ1YkNEJDqY3QP87wlMCFVELCaDgoDgbCz0DDqBZBzYyUPV0MiswscQ517Cngw9IRtURgxhGZBsGFKChQDUEd58xA98PUxJqwZcwVNDnA51M80ie0O4K8giHpFEVsPUpg-Di4vYCiE4mBQQdNijQRSjoZ-D5gXRKimCxAbVZsTCYj1sijBhrQZcPAqQIiNdMQvwshdARgUjFQKYN9xFZQdBJj+jwMxE50kjVFsi+jidQNBjPDhkRk5iJjhgpjMgKYAAeA4hYo4pY51cxBFeBPQQEAAFQyBqWIDhElHzncFJmBmkRjk6FPkBFAAAGpQBH8whDBohdBqVekiizAQT7ZASQSwTQgISYgdBoSdCtjliIMz47ifAniXj8AZAH4PidAvjf4fiXlKB-igRgTQSTsbBUSoT8AYTUi4SgQUw6TkTGSog0SMSli9DeoJEpEZFM9m9M8E9Qg7wGFugMhRJHDuE7xtstxej7wtjbsmjZYJtjieduTzF4lZSG59cGShl3CjCdAuizCMZv1uTT5M9jhTgdRsjsSnkdRriTTtEycchvZnTBgXQBSetvMNM5UGEHTN9zhIiWZoirTOCNSbBK0dSkF0gVVQBpI21CgrMy0BltUCiDU7DkjvdOkvxlSvkPU-c6ingN0PTXUyzd1KjecwgvN21NT-lDT5Th8EiuV5c-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-+DDOVW5KkhNwKVeICnMq5+00nbhf5lRdETN-yRNttnCzm6N6kBMCFA1NW7t+EXt-tit0k8dRYK7Fsn+6sTx5yuZudHUQiDd2QLoSlWSLOMoe98tx9sdTsYVi9xUTx7ym95gD9rduuH96d48pZgt7e4tiNntVF611yreX9zIXNmwfNzewt8N0t99lOStid91kl5Dgcwuh9kD8JxHJC2VLDVwVt09oCsYngxt9FasZRKSWjs90ATM5C3rOzAiRHT0PABubwTcC4UCYWyrSUSC9ocgHBWhvqYYESI-Bg2lWQXqNaWfWfMBCvfkAyPQXSOEQYOwP0RgDoCx+cppgWIz+BUzu52XYMUjTofZs+PadQPTmQAzr2HUKzkzpWO8yRhCbzmz3NWCugXT-T71vdYzmzwU3fFgloUCPQNeQnAyeKeLrIA1T6eLNLmQNLBsu8YU6RNzlmHgQYfTyQCaW7VrQgDwbLg1HT0gIryQErx1lsbnUTuRyi6wGjXVGrx8E8x2zoICqNYjFehzjoHC6wLjucvqAuwLur6kML9z8riLnr7LjjvKGjOb2YgbjoIb0RL8Hbibxsyj0TLRL8F0QLzrxszzCjTEFWegU1xr5rsr-gfskcPbqr3r0Ceb0Lhrsr5rl0Nrtbq77r6r2r7b0bu2vblE+wC4VrlLpRbL1DvKOdc6f74Wkll7t7mQfuuB0IQHhH9rnH9b67LMlC2bkMazn7xblmV7lrokMHx8EnlITbynkz-ryHp21jQrQoS8uHhnr7rIfpHnj0udOdLHtUm0IJwNGcRn0CCuLAEXzjk7x-Pni7tnjobHq7oMvKJsybu7oGBKrQUgI41l27ISf9jIEU+DoFUHK36RRzU+NgJZmIWQRgYUMEg+V301sE+FRFFgJBFFNFIToxGC7L9M-Xlso38gE37B+nEPkT8HmpOpbLxLqobVaTg1BPysVPrF+3xYfMbSiT0nbP18XP7393-MCvM2DwGIGKWIcHLXyw+YOdRvyX97rA2v2-Hc8HQXOvtEuenULv+vyYTv-v4wuNYfgf5v5wF0Kf3QKo+fi0pezCtvyomfkL3TtfkorA5+g4Nv2Q9fpwlvklmv8f-QA-jQwYVom+hfKQRcWNjf4A6Q1dFMGZmLhfJBxkM8T5K+ao4I2XBBS6CLhJACnW-FkEYBrw7wfoRYG8lAS3Z6sTiKttNyxzn8cc5-BSuVkwp-8b+gyL8Evw572c7ay5QATfmAHhhQBOrCAa-3-449H8p8GAepCX7N4l+zPZXsJio60Y50E7abl+DnSMC4WE7QYAIKgRtsruU3U7jxwbAdsbuOvcogINXidsIS2QFgLNBAYv1gwYYOEJ+joDNdNBsVBMHQAq7H8tSAsXQa030HaCugRgxLsK1vYIRzByPWlM4yiAqC1By8DQfIAMGmM7AjwfngYG6hODNWNgSwYYImhVEYgR+LIJvTAhaCdBegrwVYOkDGC0m4WRct1DmahDrB-AWwbFhJZOlAhjmRLijUiGr1sgAqLIXoCyHJDEuQQ0RMUMurKC-BM4bqBZArxNDVB+AMMEYErrVozOnsLoVoB-iRBfBdTDoZIG7oipgYFkWwt0OGEdCYmKghVq3A6GtMYsxyUoYwGiEVDEhn6AZE6VcGPBk6DQtqoMKiaygRhKgxYc0PhijCFevmahKLk6LUpgMvQDGG3xwh14j+mIVAd310DoC-hy-LAckW371Fw8mkAgRDyIHZY5me-TEs4iF6gBPh1-EonYKGHeByseVE3n30BEsDz+oGZEbQI-6yV0RTgCYcbyOLLA68hI74eezQpLN8AWoToICTmaAhGRhIZkcKzmSucqRgwT4WYDma5ly8RLe-uGC-paABRyaPfgpUUDFg3hksXkUiK0Aoj6iwrYllvCpFmBtg3FElvyJvakjMRFI72JqLqGFAXQ-I00SkCpFH5DRMfI4newlGWiGSOoC0XjxdT1lhWbIpkfbSUFoksg5ASCAsJXwb85021E4amQmzEjqoowQyLNHKwmt3eUYBMTCEGDdtFR3bWkXTkMA1I7RK0XVNmgNTWiMR5Iu0XoDTHKiQuprRoIMDdEuoMxO-VITiCxGlUs0+qBkd6Jt5hBxspQYVuaX9GBjDhdTZsXmMTSdtCAnhOvr5HFG1hGx2sDlnC01FRjQA0nS4Y8CK7Pd3OKQ0IK1gNTSd1xpXTcQ2WLKECC02WMxBGNKCek6AnbScX2zK4ohpxSXAuvpwNQOihCs4hcGKP05mAfGMzT0vp3Cj+jQAjxAABJx1JAAAQXADgA46AAJUeKQAAA8qnWQCk54i+RewCb1mibtExB2IsU4BVGVkN+44sYLeOnE2jWmK428Vuxwk1ZyJGItliuPUBKJkxy2LAkxNKDYS3edEueqBPAlQSYJ8EpCShPYmw9qJT7WictnolOA56K4hYbeMkD3jOo+E81Ma0km0AcUHQ4lF3Dr5cSqxeEg0YRJx4b9xhZwtWpuk+HuAFqYJE3iGG0hxi9JuE3IJZID6uVzhBEokcjyJK5jWJBk9ycQCMltCgJT6VcH6BIBKdScAABiqAV4yMD8dqBa3cH3JKwlAA4KvkSlhSM07lUnCFLbo34lOIJHgOCIbC5Soo4U7wFgTNhxSfEj4eEbIxki2BEpabFKbtxDEktlm9sOdKVOamvhUpEXLRp2zsDSQapoEKQDEHjQWsnx9ObqaOxE6pS4ixJBKauB6mQRUpafA3kjFcFjAH46gIyIO24R9YH+-8MbMnzGDVTe+f-GaTHDHblZUpLpRxNwNAQnS50W0yQDtLkBGQdQQg7kq9PelGRRBdHe6WfD463cWyv03aRNLkadtgwHg0zsiFyB-9QRREzVIvDsDbSIZxkyQYgKOlGZBkX5FzmUDb7E9puYMpfEd0QocDJBeULHACJH6YD6kBZQKeTNwoNgPAJ4sbhuQPiMjrMG5U+ODI+k4i6Zk-NgUGXywSDbMvMbgZKJdSQI0Zb0iGV9PZSjN+Z-06wtWyBSnxuZsgI7nr044fihgcsv6bG07bSiXhSqYiAl0v7EdMxLWAupCLfwYCV+IImRo+CZmYgaMBAqZjtz24HdiA0JEsdiOYGT98RNY4IdYGtBMyPyk3SjtjLFHWgNU1ZPAPFmTncJfhI-WmTuSdmqII5RIo7vgLQFezOejnQZAfBID+zmxdU12bWIdm4jg5gIjdPlkbnWBKiv2OEVbLdkUybsNGGGbNikCBQc5SM4meYH2pgBk58WA6ZpC9EcifRFGFXnlHYxPDP67c3ObdweEUgy5LJAOZSOa6LA6eNsgYfSNOBTysg9tVkeyJPmdjQgsCAmV-R3kTRBRHqNUaKJ8CLBuoUcrscDLFxmyPCNIBLq-OFp7zURIopAbvOlnJtP5zwxQObN-lZAv6dPf+USOsBJyU5wCsXm-O1HqiX5985NBvJZgVyXQr86XnlAIUTQnR1gXBVvIXGFCw5hQO9qQurkTkKKno8+cyJvFSBcpvgHjBaAVYiUI4a2RkCmFykyVqotAUMOOKjC5TB+r7SGcTywKlTTUkip-hZ3ljTg3Qki9Wb+i1Z8g5AO0uEI+hHCzMNkUjNRZNLaGj0F6s0Jac8Fympj7W3EfybYu8Asx952qUMNkHKy5SDUQ0mouDjGm5BJFBOAuhQtbFyYgUFCiueWIcW1i0wYijJG4p2ySKyFoQesWCP1nBKkoeqTxiwtPnJp1h95BTFKycUyLcC6keJR4smlBC+x9gAcaML0DpL8xYUT0EBL4mSBYJ18AADJx1UJF4uQDFNsKYSWxFrASCpMCnESJxK9PCNJPNRzMqJEyhMLlOGUGjGJsPZiVYoEhVEOJSiBZcUJMHASwJrSjpV0tEmWhxJayqZXPXGEf0Dgm6OSYOLpQTLFJS3B8SpKIXBNcpmkwceCGR63LalHUwRRaw+WjDwQS47lNspGWILdlpk7oeZKtSeLLqYJblLhA4U2K3JNowKV5IGVnLwV9ZX0ThlXDqsyxdi7FWWVWEmTBx9SaFZXUVL0i2qAyS5eoK6CVDH8pGCSdxKkmRK0Vnkx-OGNBVDLCVTi+xZyvrLZ4CKqwk2VBkKUyt+VMrIyauLN5O4C6O0YQLuPsC6h34zwX1oCAKXqsI+nsJVSQHZnEDk0NIPFWMAJXqtZVqw4VvqtyCCEBIvrUVYOKXERBbxtUzUUopGFokFxEokZgED+xii3xZioGIYHgRjBfJt0iNcGEmXhq14iA11QlxjUfdnx7nA1ApKUluN1J5qI7q4scBDSD0mauVZ3ROw-Krh4XIEOGsBUqDdVoQRYJViK5qS2VGkrSbmznThrBg4YmxgigtCOSM8TqhsuLKDKdwSsAYuwFYvplkTFFCq+nCpINQxKNAGSAJe7OHZ+Ko1bqpZUmvpwvjScaap5cpKWXZqC6navNWOo6FFrA0JatcWWt4IAqtJV3WtX0CvXvLm1AyLqRa3bW7Uj13a0qasP7Vzz20a800B0C6ClT4EPapMZmoVYcKY178zRfsGA0WsM1ja6ZRsjg1gbQWEGrAqhvDWIb9J5qABCGtHXhrx1EynDU5IbLapMgrK3DSzhaUCS4JCE5CeAB6y0boJ9G4Sd0tbWZr31KNSjWhvoBHjJ5kiSpnTCRiobkVk0-DSOp1yJSl6E6yaYEvj5yB4NWQGjfsraWdKmNmIFpepq6WFiSWKK8MbxoWUCaGwgIITWwr-KDY0w8tIVKVH6F9ZW4dmqokpms3Qgj0UipsE5rkX7p00NmkQCe3s2zxrCE6YQlIAwZRU-N3odzR6sc0haRNvUJTBFrc1OaN+X0uLUOt6jjwkt-m6LbsoBl5E7wZGHQO5C6AEqUtuytLdPE7bWbqA401zf5stVOqPVGDerVFta1cxWmjq0YcKxq3jTx47WgSANteUVoJVBKlzbQEi19AhtwvTVl1qWGbR712rW-AiW1X2sBCE22rVmq4oRbNtVQiQJNplxzajhzWgbCzGy1RbztHWuZnkrCCCIsp2w2Id4L3qDJVtRSxLftrc2Xbj0tAuVQ3Jmq7UdtfWnzV9r210ADtf2hkkdtZZdhFtZmxgCttG1ra+R+2zbSPSBhFa6E-qH7aSshXkqzJVKq1LmVaqK9REIVedISjNX2s9AGOkxpKvUjPsGFKJP0dUs+x3L6yYCJXh-KqUBjWdtSluU3PhwTYZtYQKHTDrrXAhqAZrLVYjqcX2wadOPPpWejwghhKsK8eAbssNx-9cG+DEqEQyFBLioORbEtgHjriNa7hlMYsnjspXrlOkROlqh0l8gq7PkrvPsD-2eB-0aW32gomQp0LX9hqePBMsoFDk0LAQtaVFJkS0Bql3KeKSForybmhBAQhurDgoW-adILyzOnnXKqIqVknOcsVBqLtFCw6k9MHHTAjop1077Yxe43RoRinaphIfbBKloINQABOKoHeEb2xUs9-Q9vRIESpyqFKR+XwIMDw1Yzl1irJULjIzIxy5UzgWYpFOh4hDe9WgvQDyx5Ypg0AG+6taT245aIO96kA4SLMX3RUtB-e5iEI3GHIRQMzgfFJgVkHUUkRS+zveMLP1rBBg9etcI-qaqdt1Aui-Rc8GlChqzdSwjflDsL3i6f9sVP-WXqNR8QK9FKHRZAfGBL40dSMHDtSDp33L71fRbwOkBpD+1Mciqg1HuwxQtA+2aBxZT3H-3EB71CjCoMCp6w0ZmUjAXA17VABTMvoHIxkOCFux76HieKfFOQa7b2txA1BiTs2j6pX1uEvBp5uaqNDsCbs5gXWTRiI0BjzYYaoDZ+h2iT6UgYmxKaBuw1YaC1pqLQyDzlRMGWDzMNg0fJpDjFhQC+6wLwcBD8GY94ayUBoY6DiH+DIoeQ2Wl1kDrCgjh5wzHvVY6o9UDAII3ii30OHP9WeuleSphXuiaVG5GQ1TrdEu7AwbussUZPbVB6CAu1RhK8te1Sqdof0DPTUquFywAI-HADWICUw5A6AD8IRjEHvVTTsxO0Ig3Yv3akHD2FB2QJgYk7wk6DHHVCqCBZxFHZWpR3QP2N50VHIxJmk6Mouz1JRWmEunMSbzRJKiWgHTfLOi39YYH0j3-OhCUYqIepvtvuvIyjQKPf6C1qhrwLNHcOP88t6qx-ks2THCaMtFIQw0hpKWPH9ZOoO1VW3CjkGMDPLZMXoDDkAAdLAFBoZXjAa4+AeBHUzz1zUhq7KF1GvqBDmGPCN0KoMCYJWgnaJ4J4IVCZhOwy4T9SRE+KK3iEA+ioGDznOhpOgAAAXv3WsBQmwgVy8kwiZZbnGPOLJtE4GgxOAgsTsgfMDzxuB6Z6jjRnwKCdhOqHuTdTX6lS1TYIkPACJUgAiXtqGgeWEIPAHiap2ymyT8pyk0qa0WqBVT6pzU8CqFMiggAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYCYhN6Y+CYNMCKBow6AW3IITpVdR0A5uRnYNrajCEWsIhIQniNEI640Nx2oOHrFzyiAddjqPgxIP4JaiBDHAkQzhr4JN7KAshx9d0kkKiETY3+OUA0HcBrpfJghoQ8ISUOSH2AYh7guIWTgSHYNahKQ0VGkI+aiV0GmQh3tBFqqNCK65qUiEMMUBDDuhHXbIRpFyGdV8hfgxdD1khID0YY5Q-ANMFUDe1KI8XWvkcPkDaR7YpgRIAY3KHk0SAt2Jhm8kuHmNOgNw3wfcMSAktiSBwn4dgzsQJMRgcwloQ8DaGIIronJf4dKzWEbDwqbw64VsO+HbChMMI3zO0j6xgCeIkEE9BIg1g-9xQGgFQfeV6TcC4BvAuAfwLIjWkgByA3oeIMkG69pY2DbEavwwx6V5Awg1QWMN1DvDLAtgByuH20F38b+50IkdyPvKJs+RBodyEKNaJ8jORxIqAbEItJp98Au6YWmW06LbgNRy8YWjQ2y4dxFRdfeQHoGwYWkMUYw1ATMErxmjtRZJcemPlxEiR8RyIE0RKJJFxtYIl7PkXoHDRBpL2RIi1jKPXByiw+rROdH6LWH2g50wYmMWaFDECj5R5TaMdUIcgzp4x6Y0yE4Tja6jNR9LbwXKjuCScqUMIgKqPQkLVV4Rc0DaGtjAzepkwmIdyOpx6a6cXgmgZNiaOTYqitkWNeUYHCW6SQnYSY8MQ31aJdiuRNXcTrQE0DZjTIPY+kbXwHGpRZGeou4PS0BF9wxhlBZ+mYHMTliVxvICSH-HQ57xCA-BJfjSDtG8YMBMLLRqmLNH1jnETnT4XcMi5Y88uPQh7otydhOd6un4ooNfl6FvwdeEwIHmMD9B2JqidAFAeXTTYzdGgN4zrljUi5OwJ2Zox5JjjQGRc9ACjEptUUi4LISxoAPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMAecdOmfChKOMlGj0LxOFeCTeNlEWtXxV46kEu3bGYJxJYYuNq+JkCVBWxmCHRspPbh8SZx9AXIbEPImUSaJdExiSxLYkaSWe0k2SfxPkmjjR6r45EdJNsCISustkqqGpNoA3gtheA5xFLBbZyTYkgkr0Ypy2FkRjhiNOhESJVQFUDiHnSYDkGbHaS9OhwSKcX1yL8jiAQkhMdxPHGJSBJVwsMUJLWwkSuWQdEgN51kgAAGNQgNFyjHgywEkGTta3BSUBEEueBqaSDKnrgnYJUjqSCKspLEeAWEwND1IGCdTGAOjNzLVPQyd8f+PUk1s1P16xCJC1TAXBITmlNT+wLU8nuyIl7Pi+spgBuNNP+B2AcoEUBqShOdrrSumC0lQvcXqmaJ5pm01qfHAGgHD7gx4GQCmEM6mgs0aAhTmIg0LUIppR-HAVdLzYLSOinzS9pxzK4SE3ptgD6dIE8x-pC2CYqIPDMRkpgOOsbSGfGzQ618MZn0s6S70TYTAihcXacAWyEGdk1+dwISb0lemmB3pRM0kawJA7sDheJgmUu6By4-9OZnvQkinCLyiD9B0vTvF4kpEP9qR55ISSLMu6BpSgTI8CXr35KhANR8sfkrEEJlIzj+VIu-noMR4bwHBycTHHh3NEORQg2s5GVwUEg5MrZtg0rtV3VkOAXB75ewgmiZkIyWZTrRNtiJLrOBOIDIf4DtPX7VB6ZniLGoyNkjaCv+tIhhnTK9Hxx-YjIopoz3m5g9iAGxQURGN1lSzRRcA86POMCBhzE5o5SHmwLQHVARY7pPAMPDrlWxI5PA6OXwNjnpoS5wAwWf0hTlgSsoKsqBDIKzkpid+RckUVBlzmv8TQG8KeR6RsKwIx6QREOQnPblLjRZSHf2GTIQR2BDgJcukR4VsK1z65ncwNPmP1GFjEOScaHihwXkICYyHcwqGeIZgkBB5Oc-IFt3yDK9exFwk8uqILHZ8ogCjdcQaLGFGjK8b8ibBaKELQt2Br882Xyz9m4jA5cIYOa-JRofzZ51ouwGgPfmwKYo8CgOXwSQXtd35KNLblAPqpgA65w8KBdbx6wpMI0Po3aNguwZPywS2c8cfOyqHukoxE2NGT0BYUgIUxE7ThXrWWATseFRczEjYTzGAKz5mI2XPdO9BMJbx7szAUgR8BKLOWDUzAhsCmAXjGQJUs-rg2JnC8dGPUsXAYsU7KVycjXc6Y7M6K84ZAH0ooDelhjoUaGXmADAYr2Hm5M6mIBRcYs7FCsdQ+UywIEoVY0i-+Ec52lMHNTuQSp3UzoE6RIwnSFgBioJFjX4WDiTxTsTOJkpTGTj0pvCj4DotkAG4YlJCAxUUuWCLiRBvQzJauJ-mny-5LIIEcAvpT3AqWxi4-DaHKVxLzpvC3cSWIPG3DQm9S48VFCKlmBSJFE2wPRN3AAAZQ2uxNrHtxqpPknie5RKlGhApn892SJP4ETBqQCkywJJIsnwTXUWy45X5BoaaTKglyt-rcoUVGhR6Bk2ZQsqWXmTRglkniJctsnBSYRhQrenQnsnljHJzkq5VMKJBoEGpnkmES+ATEgqRlF1aDtCruCwqRlPLRNsXV+UhKMpQU2ISFLeHhSNI8SzqgcWLoSgSpAStKbKMyl0JspvEnFYUq9F7S3kcIVuh0qFaKACltKkkW+Olb-KRloU+QMSp6BqjwqV0EKTPR4iLDO8vk3KfJJ5UFSvRvCmsdioalGglVoSllYzRvLojfZ7SvFgq25VCtJR-Ki6aJFdAU1ZI-42jiaoVbnRtwpMI1QS2r4DsrVJAJWb3JZFth2VeFF1YS1NV8qthcbD1QsFM72riWZqkNSgJSWHLO+foyxfeOOKPifMhqDVH0DQEYSfM3gyTqYAVVKRS60kqRv5KIqiw2B0kzvu5L8j49UJeXJ2GCre5ITq1-vZ+AIw3BGQC1ZYkZdHUISIqvhkXNyaWvRW+C3VQQfIKgnq5DrrJHkryWsK+alrNANY9tQdOeilrzVvpY2ffK9xsq81QydqUWrEkWKolokUcU7BKV6LDgaStIBWvgkJrcVEcZYM-DQmyRG1ICJCbZI15tqLAq6hRfyt7UuR+174vLporRVeT-eE6vEIOtQIlSR1iQDvNz0vYlSl1tVFdZ2p6khrN1JpUWI4hHRjAfl7Unol2pLUzqy1vQkKA1JI06ScF-89sPhv8UtqaG2natVRqSl+QtO9GljS2t6QqAeiMnddYesOWsaXgvpZ+BUD8mka0kryoyQxKYmsTwA8caTbRNk2mTllC60jShuOriau1COWvtuFyABMQBf4ejVSuPVpBeN+anqYJuvHXqfxztbTVsqdivK5liyhTWkGc3vK1NSGhqZps6oOaNVvpWaPppyCGa5Fe8DYATWoCnSItqEdmHqpGUksb6ICGLRXhS2H0LW8W3wTQwi1RbUlT0X6ATVi2IxaAhWoQO9CBLOrOlf2NLZIhK2xbLobvakplp+FrZINF1OlrsUq1CswCJW3LfPxD42BItp0zSqVsPrRr0RSaxUvzBG0NQlhg2+rVuJgTWi+pzQhYZ0LRh0Iutxqv7DNqEBza6Ao2l7OdGa2wiLeOVWqiNty2PQpwu2w+vtsO3lbGtOY1wphtphtb9NjATrYaqpYC5LtOUfrW8lyieADoTkYNRNoJUAqiV3teld-NCpnblgVirbQS3riiBgdHDANfk3K0iLDixY-cd2q+G5j-AT2rGIMrx38qXyFvLeLYg2iTz0gJ2ptO9uZZfa3AT4ANQLiB1PgAdWKGSQI2IEsDehusHAXIWfr40qQ79ecom2PYesvWIyUHfTs5hXlIdYU6HWaHFUmQaQkwVBEoAz480iBSgY+kC0WjHapCx9QxHa2SrpjuO4gOcdjuMDVQKOdUPkTTK3J7FKdjW7cFLsfb3QeWaXUnaWPJ1OF2mdibIfTre2TqPd97E9jLtAJVQkdulUAJ7tPbhw1Cz8JUGm30rBCnYAATnfADQM9OlcnecNTLOJ89ICEKRSDVQqBNAZGhHezL+GPr9yBgliFYDSIVSmegQUvYoERaIsqoaAPvWOtXkXyiQne6EQbKiCl7+VJdA0CiIqEqBzoVge8PviR5uzjAE+8vdPvZhp7xgNgAyqyr3iOKdKLi8KLXD43jaEtinE7WHrsoH7nF2aVxczsfAKA2dwEaQE4qP1SiM8C7WEBjpyiQaTC64coHCAsZkisaroJ2B2wvBbA02X+7ZTMAcAwRiAkG-4q+ExU3qWIyERgIAYpAjEim12fUYOhB6d7twd4e8DAaTZCtrAiB+zm1Diq91TQneiVp0tdDrx3e2G1wf7GrXZopOpQGTvhrRjMGQe2nHqURq42cb11YuAQxr39gYGsDTUUALgbhB3ACDJgogyQbvDTi2NdGuTjQZINdRWD0vVwVuvSCqG1D94KlrFCHEk1TDd4Afavp33BDydkqgFaKo0hq6VijBrldmJ13bA9d3KyUUuut0EBaqNZXhXHr8P7xcd-u5EXYn8ibqH5uuH3MMDoDHg1Uv+1BBaqkhgHZIEBrtjAbtGGhtdVBqSDsRQPU9jyXcNJGEddC3ZIjwyr4TEcC25lbUFhKrrRsLS3F5RcqU0VsHiYbxZWELTpd4cIEHRqjc7Fo+dDN1BHjqNZWNVNuS11aK8E0X4baiWM6NqtCxigK9CL105jOWxt-pDhq1vttjA7bGc7h0bI5pt82xY2dEm3Y5VjRmlfD7lu3YCbjsQywWcYeMWGdgVxu7Usaf6MEzoOjDnejs6V-G3jKMwEy8hgMY7EWrYxQNjoAA6WAKldKq4NkQeioTYPXlSSqCRTIPe1AjIb4J0csA0JzpbCfbHwmRFSJlEwEJ4iSd0TUrO0btEIAmFzoUXCQiydAAAAvROqACRNRBUT9J-ABicmNRceTuJlyPie3CEmHAxaQ3v1ESP0AUjW4WE7SbRPCnGTs1GeLS12KlBdipAXYvS0wiItaIeAUk1ytVPkz1TIprU5a0kC6n9ThpnllKa6hAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+eng84MPgzBsFAcCIMg6B8Dwlm9So0HuQCsrKDPvOyAoSjDpGsTMrlYQAPzWMS9+hAAXC3oLlK-NhP2r1DaUIIsN8SJhy2nEnIZEqIv7MkGCfEwP9rAfwiL2QM9FswQTTvERBoAn4H0gag0sGCQ40XgTg5BUgQIXnAiQ5UOC8HWigkuUC6CNwwmPsQU+5DKTEXNJLO+eVrAMPimaGU-DnJkMEaAChUViAxRhCVPyKcSJ0KkcIghhUFGQOTuVDhXCpEyOUrhHRqdv5qK0qoXSkh5x6CMdxCMvF+LlH6DgqRKQ7GqXUrA1xbjQiSMETIkGnMEHmPwazdmB0DBsyug9FoJNGSF1MHAzhISAkLAtmYwR6jzZq0Mno1JeUZE2QEVk0AYTikSJSdwiIAcg60OweY2p6l8GaD4noJOSjdGwLKSklxvj3HLUkmAgSfdEkmGSafAphQP7eGYGsZygIACqxBtLVwAO6wjhIyVQeFQAAFo9llOvnxViW1JTRzkOpYQgxRlY0oPgUAegIiEUoCwWKygxg2OEIaaWxdzmBxZi8t5VAPnWKqu0kgNy64QhsNUMpchZDiAeU8qQfoWCLGoCQLoXySA-LrDYXsWI6D83IMcI5h82l0U8RC4g4yfH9N8nxORShOGrFoEKPQ9L+k2DossBx9gnHfL6dy7lozhUit8UnVlzAxF9G+R6FIX4IiuTAXoIiJKpmlJVdBMYaYmV9HVXIUw9KP5YoYjEToVRYXwsRfi6wszqA+GuUCZZqzqAbIIEDZmiwZD7MOU0-MsLPR3jakMnVAlSp0AmVjLWzhq4TwjQRV6iCn5y0QR-ZYqw9AtKPt3Xu+ds1JvGT00+4r+mhsUMMtVSVLSjMLdPaNysgZhJqkVEE2jOmmNISk35SqviMBgjmtp-U6oNU6M4kthpXHqNac8EdflZFjOja4mZxy53TVHXNCd8DfbNsYUEl60bfn3MeQzdFzNwkxMxjGmYmkzWMWIJazEcL5CIpPSi7oVIiZxIlvrJWvy8pfiHc8PN373Icrxv0Hdz6bW+rtQS-0pLQORGMFBG0ZKfHAfaSjMD8S-3jOg3ld9yrHRoZgsh4kZGZB4p8V+CjfgqNWsKC+hFcHaOaTCQerlLUxY-ohpjKDKSmMpFqKEWoaEkYVskCQUR47pJN1vbzVu8nNW-1AGmwpoBM0+EBAAKhk7wx9HRdP2ykwZgURnvYqaNAASFCMGoGdBg7EGRIQfsxCYRjOPciiIB6OwAYQ+mB2isyVBLRvx5kwmwh9qUOelmfnyaqZSKm-mcgfEfwDrKJqznXPubYY0AS9HwMYzxnSiVYQnM5Fy6wq8-o9Bmy4+Vpr49xYRcSxXGDr62OAc0igxDaDnz1ONb4v+PJCF5dqy5+E1Z3TpYWFQsCHmVENP6aN-4C2auYJAf+JL0z1Opai+JveFIwkZO7afX5hLPFkpdtSyLmJCW5PUAwI4wMcuYom5ggSniYWBcMKAcz0pOgvdAGZkEhnx1PYRb92N5KNBH08WW3xjKsssuUGy2VtiDLPcGIDukwPG27qRuUx0+Te2aTNtqm0nKRVYZ8p25bSTuOCPgU24njDREQcqRd-FhKwFkqw5zi0VHt1CcxKI7bIuhdymm++bpYDo1Ra-GAon+9GEbcG+w87MaJey9ATqvQGuaGVj1-+JHNgsNG6W5BVV3T4Hm-tWLuF1gzktv60Q-LKVuc68M5L1V43Nubm284n+WGA+a9fLb5U0aHeTvCovKqy9V7sA3lwbeaA1rHYlM0Adzw8Ixq-Lsk4r2ogjlVxSM2Ni+Wgj4j3QYiPJ3k4+jyAq6LMXMvnL9Zn1fHF19AA36DnckZ9bb1isFVl2kF96xlM6PJ8ApjRRisfneE6eqsvYmvgqp-N9RmNefoBuqjzX96V27t8Db5tstPfgwJpH6lejmVHLz9N8v7v1a++Nrl7upYsYVOYJ6otAvxGhbz-zBEGAAMZFXxI1jBFzASALDln3Wx1RTFAJNl6lANkX1UNx1XgK9hdDgLZ33jIDVhpF0DRwxw5XgRf3mBdEHzOWQxXi-ioPxSHgQjoLvCehIL0iuX5SPXMHs0UxxG03aV4Lj0hEJRGDGEZgvRPgoItDJTliqDOUr35TEmrCjXvHDVwOENNw0OGVX0YKeG20K35SmAEL+R1EMOozv35SoxMNBDMOhkEJoLdCsMIJOzwiZVqmlXZRKwgT0Jx37ypCkJ7RYNallB0BGDUMVApmL1BwiKiOtGTTcSfmEJUJgX8MGCSOLQ8GCLR12xsA-iyF0CiN0LMAAB54iSjhhsDod6U8FGA5k9BAQAAVDICxYgOESUfOdwUmYGIBGOToD+QEUAAAalAGZwqyiBiB0HuS8X8LMHGPthGPGMmNCEMGiF0DmNqKVhNTKUaMdWaLaOoAIBkDWW6J0F6ISX6IuUoCGKBDGImKaxsA2JmO2LKMeOWMeLWJeOmK2PwHUmyPcPYgyEAWAVNxF1Nz4MxA4M4W6AyFEmYJ-jvEqy3EyM0OhwC0VWnz5gFjKJ+LwThP-lEh+L8WIOoFIJ0HIMfwxlZx+I-lN2OFOB1HxOeKES9myNJOkTexyG9jKMGHwOewVWYx-nfRPiZJL3OGkJZlkJpMgKxLCAdTWAgRTGWXSCxXU1BEDWY1gwVNCEJSsLJQYNUMIzcS-FRJENBGMMtKeDKzZJ5VsKrTcJhzCFEyDWcOcBPnhIbmzSdyzzEF1wgUhJVIxOhNCFhOUG9MRNCORMc2c2iMyACMxPg2xKU1SwTLqIlUJMjOJJp2eM4IpJmOpN8MljpIlQZIgQlK9lZPKyflkEtB1CSKyPUAKLSQtJnAWIFLdCBKizEyeMKDFM4SrMkNiyZhlJ8NlRvUKCVIzNVOIHVLkU1KeD9UlEM08hdL7K6z1L+yQ35SNJw2sRNLF18XNPjKsOtLcNjwlXPKdNMI3PdIfNhy9NzLoNwDACXiYFYBT04C3l4AwH9J9CBXeU+XBW+Wlhi3jCyjlUhSBCApBRuiPzgsoFBVeUDl-RDjAuthxh-DKHlXCkJSQtBQ-Ne3Olfk+g1HthsA1H6TtLCE+j1EousD1Bood0+m00Yq0xWEYBYrIpb0PA4sPB4sKE+mKFS3tlEtKCkVotCE+hijoEDlUDhHtjkoUq6MEWkpsE+iVMYqVN8Q0usE+mEhGFmg8DoF+iMuGBMoYDyn0tBxb1GI4psD0DwkGDhDMCOAAD5QBdlxi1LbLPo9lHLrBnLXL3KvLdlDk-LWKW8TNBgUgQrQA3LjhwrQBdNErrB-KW9gAgrHkXLEqwrvLQAwAoreL-hAQABSHKhKpKzywq8q9K0ATKsq4vRy6qgqovU4Ny6KsqgAQhOFarypqpSr6tey6tKr6EBHKKqsGvatAEqOsDGuEpb3KKOCCrauSsKpWoWqaomo8umtCo2t2S8u2u6t2tWritCHWtqqOte3ytOuaJ6pysKtCFqusB6psHz1fghAIuiGBWQpAvX10OOB-mElEg1EGEIoBu9Fph+teWAvHxP2oA8AACsQwuZga8pQaaUNq2LfrgL7Y5J5VbKwhIaEbPMIQsBYa-rQVxsQdzpPp70LUOh7ZGajNib7SZKW9IBiAH1mIlK4rubebmZ2aOaDKW8LLJBYBIBGKJapaRbRbDKtBLKABRDiiW5W+Wjmz6AAOVUG1pyt1u1tbI5u+sQy0zxvgsXT7GMIxsKCxoeVqssOLVJtptNqCxdvd0tGGVtpSHto2sJsNAhotv+qtsDFpjOSaQajhstpxWIChSpMPFwMjpiGkzkW8EuSLORtUDUCc2iCZjzO5VJtQqyCFAwtxSvMKD7j1kqDCAcyRnrKAWLMx1wJR2ZVlJLL6G40yzkT0FJrol0MGC5PNujpDoD35K7ujiy17uDqIqqmRBRrRo0KHo9vTDQX0IrrCBHOlKbqFE2gkPOB0DVlyO0QnKFFC2xGAXbubqUITysiTy-PXh-O4EwAAr6loCiFUAoEkHZkMFfGEkYCMgW1wNEs8G8GMlLhbCAanTyifjkkFOYSyE7E+MkBWIdk2NmIBPAZwuwIQeo2gb2zkigaPzRWElZmrz4iaj+ILiTtIFIHcH5iPgMBuVoYKoYHGL0E-tICrMBBGKfh4e5K+PGM4c1qkR4b+ioY7jOUSnIGZl8HQfjo0KrukeFosBs0xHNKoc+OaMeJIdwlkHIfHSxqUdmGZgUZ+SWJMEBEQpMZZlrxYA4fzmAdcHTL7l2z4blkBB-kMR5Fca2E2BwQ-VbhdFcbMCCDwLdBCdABGqBAfnBB-ifiwYccmG4dienTfsZAjC-p-srH-qMlcZXVPX9luLjijF8e2HpQeHRA6TKlMRCeNr4e0fGOUdse8HsZ1DrTqe+P6RGNQYhMkmkhpRPxMVKcccWP7LcR6ceOafGFacSeCbriSYAjGPpXBE8bcQzRseaP4vjqDvsAvTsfwZSBkWEPyZgfNr2fUkBHYsGHOnacca7JbBCd2ZkZacYBYF20CSocWfiaBAAHJUG+5Pj-mvG0G3jMHXHrGLnv6RxGB1J2ZYWnHcSygnhQGfAdR4XFrRaxayqchmaUxHVljq5hQUx+RvBiWXJ+YbpDnH5zmXnEmMXi0XQGXnn9nWmPnaXZH0WYWuqhg3RmWOWWYGWv8xAs6c7SA86vadUGoDIU561EXalY4Q5So3G7KcXinNx7Zqn-IoxlWN7QgsbRWqRxXKAmYqNpXrpqQFG5XqX35P50RlWfnPpYm-ogz+mmCCIbXCiykCJhXnAMX5Rtk8JzXZXlXvNCnZp1X2FlWpyDS57GTXsf4+noEqm57hnApo3ez0n-tCIZXqQExRkyUsb-X4RA3g3LWLjE1FhhSPTj8TdKy4irmuK1nChUiuLEmc2LXZAuhblZIs4ygO2U583oVPWkFa3Xx43ThAR+KfmB283u264QX+763J3DXc6TXJWbRm3ktOKs0l3qw9WbADXs6jWJWzXZ3FGFno32XhC93FQg7c2u2E0XSWM30fNXB3Wq2pyvwnX7Yk2pIP3q3QAX3utosOMfXn067epvVnhQ2wjeZhCHWzmdREO9sZzSo5y3UPU03nBoO0CppGRSY5XqDAK22UPt3aCPWQW0OCIMP1lPSGcix37SZTk7xSXGBKxyAa4vBZoOhgwDhYP1HZ44QfUiOG22PhQj99hu2832PXxqUBOa2dQICuZrX48wAG5vAg8WhQIIa3NJRFz2hyA3zPy2BSBhgRJa9QA1pHlZBeo1oM8M8EEI7qQDI9BdI4RBg7A-RGAOgFM-kJKygvPHVfP6mAc06H1OgCnol1A3OZAPOvYdQgufOlZjb2TEuQxgvkjfEMsXPSBYv4uXQkuQvgSxAzZtOsg9AY1HtsdIFyvfUSKYq6uTMXSQ1QSgF8vJAeBBh3PJAJoFTCViUPA6uyV+RXOeuuveWWwocLhQJAPUhkVBvhu4jWbOgpzUycQVuOhM3rBgPtzrBCUiuRvcuOv+AHmiRCAhvHw5uBzkVDvlvwuma1vBEvxNvtvXTdSUznvZ43Qiv7yRMf43SduYT6Z6AyWOuJuevTuMSRwnuBuLulvVy6Axu4vOuzusdg5auru-ukUbP4fHwqzNunv1j7ALgpuauZusgD28phDzpxuIa23IfmybRA6h7QgXRpu6uOs8pdvPv9Sza7vEfkeWYoeZw8fZvsf5vHk7vThCeAs7NCh6zSfzvLudOsB5f7ThDhDGfofqMqeJVReVfEGPR1egOPvmdFfCuMufOmeYe3uxMAeIPwygYVKtAzP6snuhJuH-4wSt2RtQc2vFhuMP42AG2YhZB2PffVtxBQf2PJiZkDifAWBaP3VnANPMEVy6vtSgea2XfyAzP8Kza0+tP8fXsyvHxKuqhCVDOyUi+OPy+p2A-8wCK9PXta-Xw6vmiw+yX8xlCf9zYYgYpYgFsbfqNiOd2fBh+dfV8PAB+iyFs9AZ+5EZjcCdRF-B-Jgj81+5+Dct-dBcCXRd+N+6YkZD-JAU6rCcGzwdOmAHCx-Ru8vJ+3Cj9W6DhJ+Fcb-bSx+0i+-D-L-HwR-i0T-SDhSAiCLgiOcHE6DPioj-B0OMTFjiDxLBUAj4sAqwrjnnLt4ugi4SQOZzkRZBGAMaO8H6EWDNIPWCpYjJQnDDWs9uWbUlIfxuyz8yC5-E0jRw-7WF2MDYOgfd2DARcOgzOJ+CQAXKYDww2A3FngPrSDA3CzOD+EQPUin9VUh-a7jt11LkDuIWaaNtQK-DCEZBiTaNuAQbjqQKOn7bHjz3YE4hSob3QHkB0E4NhtByrX1mg2yAsAI2PqZlMGDDBwhx0dACbm4MUoJg6AfXCAdrFbheCVWPgjwV0H8GVcQWwhFkt1D16VcNqGxRwc4NRxhDPBUQZITODiGs82SaQiIRNCgIEdGAWQbOmBHcGeDvB8gXwfkMRbBDuoPzPIdIH4BRDNMMQhCCEPiEFUYgteEoaCjyF6BGhkQkRr4gSG1UkhjwJXgYG6gWQzk4wpwfgDDBGARINKP6LgQWFaAmUkQOwI8DkbJD7aMFJWHfkWGbC5huwx4LUPTJzCVWGmPbN0PTrZA+hVQ8IQXUEQskMh5wvVqMK8rrCZGsoLYY4LOFODkI2w95jMI4KeFUc9yRdL0AxiT8cIBsVgVVzNqcD+8DAqkkwK-iP9TCSuTSJwJl4PcjMPzF-n-2v7wiJBphaIRsO8AuYjKbvOQTvzRHFoyRiI+wcsF+FOBJAtImomyMGDMi3CY-Q0g23wBahOgIxH5oCGFGEhRRVHPaDFx5GgB4RZgH5oaRdyaZQBlAtkUqLOYv8z+igYsDCMljyi+RFItUVIE15aAzA2wBYMIUVEzsqRHIrkd7E1F69BELoRUS6Op72iaRrvGojqGdE5DuUOod0QGP6TOkQWEokUczXsGUksgnHKbO8Psb54v+bbPKl8P2ylASu1UUYIZFmguZxOpTGTjCEGD+t5R-rfkbzjNpciVoxKI1GSjZG15vRefGoiWK0A3JCxjQQelixFRljsR1gnEFWMNSkohRkYyPmphuFHNgYMxWMZBFOEDikoGqewYQFkBn806eEXuhaLH6+Yvmfoi0ZmNACGd-hOw9zhDzi4BCHsZtEHIZ3y4ni4Qt+PsfMBez4juBTNXBOmLkDck6A9ggfr5EkA9cUQ642sOeKCzucyUO40wDiN5hgD3OZgPhrE25LudwosY0AC0QAASytSQAAEFwA4AZWgACUWikAAAPLa1kAr2RQq-XwD2AzOs0dsXVnrHUjyRt-QIc4CXFjBvxa4+iU4BVYHj2J+bWifQAAkNj2WB49QJAnzH+gj8Ik0oDRPD6eYEhzE5CWhMwnYS8JBE4ieAEkkk9eJ0nWSQVkEnUjcCB404exN-Eo9-xnE2lCS34l7I5h8ApGA+h0lks9JFkxiZ-wUlzDrEiwrGlynhHuBkqkxMziGG0i5iZJTkwKL5KT6cV2RcdREVT0olNjQpsnOiV6Ncl4NEJ9gWwJSyigkBLOr2AAAxKE7wj6NZO1CykKsSmkESgAcALxZS-QOU7wGSgHSrg6pRQx4jwAgk4gmpuqdvLXiPxmxipTCK-hV0n5dTnBdSSsFVO0JttAQzrcfmqjKmRtXwVUtHlAz3F2BpIg0x8FIBiDzTEGl2fngtJjgVSXMVUhQmcVKmrhypQeKqRX2B5IwMhYwNZOoCMgKdCgMWMAaGx8RPx+p50+frANGlXSJpHQVLsc1I6Uc-ewhB6ZICelyAjIyHD1sMM3p2BHpz072FezmzmDHefyKGTDKMhdS9xwYFwb52RC5BYBWIpiXdKg7IzoZqM0fp9xUEfSaMviMUrKLKCT88G1AmtqXhkB29rUW5XnoUCuz0Cl+jAlzBfxkgsjmcX4DwATwJGRc2ST8YUaxlJIfwcZqM+kdTg8CKDXSavEwSeRxIIctRIqJ+GrNhk6CfkYTU2UZFoIjs0kSs2QBYKxmw4rZcrewTqKhEYpiIoEEkZT1DKIj9pQWFEafwxHohyZtpKLO+joHRNZen3F7sQDmKcifRC-NESLgUGdiux1ga0KlJrqdZWMOPD9GAOtB4oOaeAXTGXJ-hXY0Rws9fiuMPKYj1A2ct7tLKrnRy5ZvAv3iQATmOjh+IYjWTBDTlq8bM8vSQdl29ZeEfZEsrOZLM3J5z30hMrLFIEChTyw5HM-gqXPLk9YGwEYqUVGNzm2of4QGCET3Tf4Nzp5QaCTL1E7kAlE5TY3uhN0WBQ9yx94xOHuWHE7zRx7JbeVkGZoyjNA-be+RNGVH8oQW6onwIsG6jjMaW7sxQJ7JpDezwFENR+SaNuEUCwFfXIkUfK6AeyKScCirg-IhoTd+RRVMAGXN0wgKzRbbcBZaJ2DPJKFgCs5lfJZiOiXQVCj0ZvTdAPzEZhQRhTfLd5+jshGcvKH6ImhsLryd5cMZKO-lWNgBpoC5CzFwhdTdpEslsdFOLHcs65bkoCf9lDDZAXMXUxqbKCtILZtpuQfGVFkJQ8LBxGGfpDwsdEqKGxoilIGmFDBLiowOiqrPjMcVhAexDhDqfMEsXzjaxb8qRT83HFhBV0FKMYBiyUWn51I7ivRZSy4Uxj7AM4hMXoACU1iwonoJCahPQm4TFkAAGWVqkS3xhUruFRMspdSBILk-2QpNYkrjgwHEr0dxK0mriEwVS-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-7r94wXPHE00xwMXjRvTaCAeiW-NxOegQRQAB0sAv6zFV0CEP4BHU9jZnYlVCo-IRUo+oECoYpIIUsAwJ7HaCcLHgmM5UJmE0TPGA1wETbzdcVmkIBZFi08XYQrSdAAAAvQOtYChNhBFl5J6xIieWPxdWTaJ8rBicBBYnZA+YeXjcCyP0BcjPgUE7Ce5OUnExrlG5i3jGOGxlipAZYszUNC-MIQeAPE8drlNkn4TvJwaiqZxbLEPAGprU1cuFMiggAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-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-V436DohtjauPDpbaa-0Vrj1SeMLe61AbxN2sk2jGT5NnXyZgTxrNsZb3-IM8SW9xqA1fg05ELTQCFMpE46q5TDnNLEZWRzf1gbx7iwhpjOTBGYG1FCLUNCSMb0kDNGxg40km5Md5q3ZLMHhGgG3XlXdKwfCAgAFTxcSZ0Qr9s4sglKz+MoGWjQAEhQiTqRmvHIyJCD9hMZuFD5GNURBIyhET1gzX-WtTMwzpNyhubCABpQ1GWYDcVplsIW7+ZyADfAgOsomrB2IO1zrQTGgCSc8FjGeNL3xpsK1vbeqDtXn9HoM2Syr2XZavx9yIXzvpsU55obR8tVqbsR4t5XixloJ5IY0sXXKxYPfB2DbCw3FgWhyRUH4zwf-CR4E+7e3YeZHdFe+BctpvRcYRSXxpyyl-sxGah11qXYOqmzTtTN8DLqAYEcYGu39vY9MQJB1irVPplACVgUiWOc32WpJUX0pINq2DqqwXWtnB6b0A6uN-T3XbaUEm31GN5fs8GDLuknQ6AXuVkR+J9zjBkf-ZpM2RboLPBe6rny37UfxA1-G6DhGka+IS0Zm3L7hVmqAda1XAeLRWeBaZ0ICXlHWNUZHuUeP-yDCARe6bX5XPNaYfErH9iQdB50cK+PqerMF+B6+VPvS8qq8ryjyCqiY+gpgaZ5V1g33xMh3d0xZzD5l-Eonp3ege+883An2vhRVdj8L6+ZvyoL1e5fcQsApCmCsHYNQrgdC0BrTJxKZoQHnh4UPl+ElJxOdRBHL73qLSqp6BDd0nugx1fB7tx9HkBUdV6s9TKqqv0L2oAT+9g-Er+bscImedMSMBirAuq+q-+Vk-yZ+mkp0VE-w+AKY2q8Bf+84JsvUwaPEoB4a+AKBn+qMY0mBoA3Uo8-aVkQyDKZBNsy0lBgwE0tBiaygPqKayBwqX4o0q0VBG0t+FIDu2aqiaYpaTBI0X+juNo9skhFoCcCwchMEQC0hYcZ0PIGeLk4hTu+BFIqhYwihks6hfBmkck6hFufuZAasNIugOuXByafqJeH+1Mbo7etKTm5CeC5S5hDYOonhd4T0dhekDKXSMk7+TWqWOIe6PgPhTwUBtQZqIwYwjMNG7C3BQo1qxOB+YgLSERaiioZu94TuKWIqcRRRmQJR0KyhCRD0Q+x2ERUw0RIqOo9RdRERt6TRoILR0MMR8wLoHRIhEoWuf+mRzhZ2jR6ehuoAHgVIaRfhbhI0soOgIwVRiuxwpwWQug6x1oG6-S18lRBRiCqeNR7OqG8xsgjhy2Ng8COxaxwwGxFMAAPDfKsXsRcVWpYiitQAVgACoZBfzEBwiSj5zuCkzAyKIxydDwKAigAADUoAQBYQhg0QugrK6kZxZgSJ9s8JSJKJoQaJMQOgmJeg+x0C4yyK7agIgJ1ABAMguKYJOgEJmyUJLylAsJQIiJyJr2Ds6JpJ+AWJjROJQIKYPJhJV2UQJJZJFJ1hvUas1ACiSi5ezeQ+tumIwRoS3QGQokrhMCd412zxMxmxKmGaqBrga2zxtxTS8KOpDcAWfJIKoY1A9hOgjhWRGM0Gkp8CqeWxnOOo2JkpWWOoFJwZEiRpM4IpgwLocp02UWZmGq7C-pZwaR82HpkxjIjG0+vxaw6pQIWK6Q+q2WoI46hQHmzaAaZq9R1q3hhRse-SX4Rp9RCePRTwF2TpTAoI3R-yzRSuYQkWE6AxKu2pipep4WMWvUg+2Cap1YJpGpoQWpyg9p451OCaQMRpZxJp5RMis2rcQZgalio5upjp3uthrpJJGZeuks3pgavpQ+KZgZIphJ18sglooZsx1oNpuWXOOQ3s2JMZbocZEWvJhQPGyZl+qZc2TMLMEx15tYumuZGxXaxARZnqJZTwI6koiSnk-ZUWTaXmYy1ZERtZBm9R+84WYyTZu2vZ3ZZxtF7Zy+gaLZs6HReFQ5HFyudpY5FFHCq+dB3oZCFCW+nAtCvAGAeRPoEqvK-KD+gq0ss28YWUqacqQI0lUqN0tB6llA0q3KgcgmIc8l1sOMNWHar6Zq2l0q6+nO50H8n0Go9sNgGo4yHZYQn0eojl1geoLlXun0cRnlwB+WPldlX+h4AVh4wVhQn0xQa29sMVpQMirlEKX+MUdAgcqgcI9sqV6VoJn8SV16X+bafxnlRVjAYy+V1gn0wkIws0HgdAv01VwwtVDAeUFVku-wgICJAVNgegeEgwcIZgRwAAfKACSkiblW1Z9KSt1dYL1f1YNSNSShShNb5V-uVoMCkHNaAANccItaAIVttdYJNV-sADNeyn1dtQtaNaAGACtSFR1QAKRnVbU7XDXXUPWHWgDHUdWX7dUvVXUX6nADWrUdUACEJwf1F1r1e14NnOwN91fQgILxz1UNANoAbx1g8NUVX+LxRwM1-1u111uNmN31iNQ1KN81hNJKI1JNINZNeNG1oQBNb11NnOl1dNeggIoNZ111oQb11goNNgp+H8EIFl0QkqOlsl9BZxxwMCwkokGogwllUtglotLOytiB3oyIHgi8IYXMsteU8tHahNfl4tMl9sckaabVYQGtpCEIWAYt3KMlyGfYEu50n0LGdaHQ9sntiW1tnZlVX+kAxArGzEmVG1wdodzM-tAdVVWgTVsAkAnljVkgidMdnZcdNVAAogFSnVnenU6Z9AAHKqBF1nUl1F3fl8lq3C4a1j4y1HBy3fxspvXtGoZ12A6bI12GDAFm0aUu1GLQoG2FBG0t0jWW2GhK192S0D1d1VC0pfINRO392Gryp6waGipyAswxCSA1qMBb2Xm-xUj-xMynnjIa16VZBCiGWRpAF9zr0VBhC54UhvmKJXk8Eb1jFepOHwVn39JbaeqP7T1WVVStmDDhm93L0z313RkvYAMHC22gPUA6160lEQMd22Jyi1FMUpCpHQUZG64pqbQpHnA6BqzzHZKEPZGc6v1KJwUf3z0kJVRCWb5UKiXcCYCSV9S0BRCqAUCSDsyGCvjCSMBGRI4b0xWeDeDGSlwtjiOUkfJeymRAXhhnigSdg8mAiSD4n8kylCkyOmXyPLbwKWGqOPgWR3jarCSswhp8RNTSm6A7mex8OkDuD8ysIGDgKkCkBXUMBIl6AuMpmAjwnXzBMSJ4k8kuMF0yLBN-QOMKpaWzDMy+ACnyolH32JTkDR0WD1aYhNnxOaOc08lWO4SyC2OQZG0ZNJOQHMnCa4kmCAiJP2A0ZhosABP5wSOWkCx9zLahNyyAgEILDnQ9NbCbDiK8atwug9NmBBBKNujTOgCw1AgYK9Pso6gjOQWAgYJ9LXySERj8OCOVgiNGQ9PoaUbPIxxxxRgjPbBVoPDogAr+TXMdMKNHKAhFNImZMtPeBtPrN1ztOTBCoEnjLwk6Pl4aKIKPMvyBQLPAtjKgs8lfMsytMGPeywrTNAtVrggDP9K7rVOc1hXypT3NPIs-OvNhBVKVGnM3JIuc3+WDDnR-OTCAUtjTPEtZOkuMAsDGPTLxMAurOAgADkOjfcmjwrgzxJGJ+jPTTTHLAjI4jA6k7MirnTfMAsTwUjPgOoyrWNAd7ViNOQ3tKYxVKY1cwoKY-I3g5rLk-MN05LoQRx+L2rCrwNQwboOr7d1T4wZLgztLzr3grrLoHr7LNGHrIxYgg6zwB8-hJ0UglR58NygRyCgzpVc6KFPafa9SEokbBhEoJhXMc6qr8bybNyLoCbSKPiSFpU6beKKu7uRYPDpMNKd4lrjAlY5ANcXgs0HQwYBw0byxzgkbhbQTrbwotB+wXQo7r4jO-beTFhCE+ba6iwr6eADc3gE+LQoEStHWko6F7Q5AuAa+wlpAwwIkYaoAa07KsgvUa0e+e+KCC91IBkegukNTdgfojAHQTje5Vp77fxX73518vtnQZzKy6gL7MgNTOoOof7n7SsVdsiXssHAHVam2T7pAEHNTLoyHSs4bzgZsm7WQegh8ZqBu1ihHw6Nla1FH5W-Zd4ipypmHkgPAgwr7kgE0f2I2hAHgFH1q-Iz7bHLHbrLYZHFw6j7F1gPGFqPHj4KZwHHQ2Z5pDY8n8ZP2lZRFLOyHfH6HTH-ALLRI3HFH32MiPGWnkF8ninn8X4KnAaFZhFrqX42HIY-7EnA5EWHGmp9M9AVrTHQnbHenpRNolnXHMnoE2ndAAnkHzH+nbSbO5H5jrnUnhnsn5nnqtaftf2RJ9gFwIncXYnWQOD-SlR50gnSt+WunJpI4k9EDoQLoonRnxnA5BFmXQuPdZn2FEXGH-nMX0nDXqnKQpnznn7cnaXrGnQ2ZjWhQb5OXBnoXBXWAk3fJlRlR3XgXVXhXl2M4yX4nEIi3oAdnLXKQ03TnH7HQlXMgrnCZeUg51gN3AlFI2VWgJ7j2lnQkQTDHiiOL4KciSpiiL28CbAmzMQsgbbX3rq18wPVrKJ1Jfxj2Nbvazga7piWFFHZZt3c7DYj35AJ74UZqSPG7KXX8uk+Xzw3dVq+71q+P7bj4BL8in3ZPwBO7nOVPr4FHnNkPoP9td4ZsHgMQMUsQSO53G9lRgva3F3tBvPnql5SOaufPJJG9Ookv-PkwEvcvDhqiSv8vMbgxbomvugyhev7pO95FovHR2vzg-HGHpvzRtBX95JZjW7YvgwZvA7gV+6PPav+gov6hzvNvz9h+ri4Yw7rvaBylabyzzbXnJYVArC1bXZiRIuqFv+XQi4kgp7nqWQjAh8ljDc3yyCf25mgfPgUCh33Dwuhv9Onvkgxv9ZBEvvvR-XM2mkFfqXwYY3HQQBQHSfCBqf6fHQmf4fHRQB8Cfoiw6khvVmhvjX+FSm6q5z3E+6JfZpTfDYlRo-6kSby7qG6-3sUCrnB3y-w5PiBEjfd3d3X4O-B8eH-J2QLAs00c2uwYYYcIkGdAQnT-GVCYdAHHIfXTRI3UqCUAB-xf5dBv+xHX1uV0DLdQNuPVXxlEFv738h0f+YAa-3gGPAZuBgaATV1ewoDQBE0ZQjEDDRZAV4YEZ-q-3f7yBP+eA1VvuQAE3JcB0gfgOAJ-KVEoB0TWaldUIHeBiB0qXAXoAYFgD2B-SYjoTTRIICZw3UV9IaTQF398AYYIwM3VUrftNIcgrQB6kiB2BHgKTBAaPSUEWMu48g9QWIK0HGDuW5vFuFaVMGrMcsFbLgfvWyC8DKBIAv+oUEDIyCC6Igt6qoKyaygNBt-bQegOQiaDuWUgojHhA9RdBWUyGXoBjFF44QDY8fC7iHhZwt85iVfGvogmt4N8MeOIFvqcHk6AC7ecQrQPX3bIQCfBTgSQNVWe4T8NenvVDPENKHi9-eYgZYBUL2zVCnibQwYI0MSEb0aymzfAFqE6DwlABgIIYYSBGEps9o4HboUAK0BmBABNZTvD+QiCLhH8Cw0CrBmP4RDq+igYsDEMlhzDehQ-VYXG3K5tCzA2wBYJUXiGrM2hYaDoU9yeIuhLhMA-pC6DuHvCZEDw7wE8Ox5PEdQbw7AeCh1BfCQR4yNioM3GHDDva1-N0lkA7a44ZBvVYXuVwuqeCRqcseUj2FGCGRZoe2KdjC2pBWtGggwHVtxASEUiXezOYXJ0JWgWoK01qX4ZUM6F6AKRcwokZ2i2F6t+k1Iv3kf3pHlorUgw2EWDxWzZY1sErEkoiMgimDHszwhkfmmv6EBrifPXyBsIQpH9+sfLIEQsJxESh92fgrQa+z86Qcf+tInuhLn3aYczRcIdgjkPmAc58ho3L2ohzlgRlr+6ovCJIDY4ohNRJHFnK+2tR6jTAWeC0n4kw5mBQmGCCRK+3CiIjQA-xAABJZ1JAAAQXADgAs6AAJX+KQAAA8kXWQCc5ciXhewCewSQg8YQAkFkdyJpFH9VRYwb0ZqMeGrMjR3ohMFyNrFqC-hPLI0eoGsTdjaCA40oFWNJEPYN6KYtMZmOzF5jCxxYkcdl07GTsSRbbI7K2L7HmCjR8o70b6Ki7+i6xqGPkGuJhCkpTBkfJGKxlXHViNxdYpoRvVMEyp5BRtK9PEPcC7UUSJ7EMNpAJHjj1xgUd8SwDK7tCHx7w-ABWKardjNxTgB8ZtETFAZVwfoEgOe05wAAGeeneDYy4p2otrRAa8lfCUADgZ+PCchMZDeBrUiE4wr-nPZIkeA4YhsFRKigoTvAtBM2NhL8RqMiOovJiXfCuaQQiJaI-dFs3tiVFeJHJfiXtiIkxcjG1-OwNJE4mPgpAMQe9La0DHC5xJlzCfERJyKMlcJq4PidpOInTY7w8AsYLinUBGRZ2eUWbOsOjYBpmkqgYnhxJl5x9NJBEgSQpwRycpyu5bW0pUTMmSALJcgIyJv2q6bc7A5kyybv2QT2sK2RCDzkf0CnBSjIVEg0WIGDBICv2yIXIHHyyHtlhUpkyKUFOilJDl+hfSMRd0s6pAkyMwsoKLyqml8kpx+RvjP1+yH9CgtOSvlLwcIZD0QkRYYkAS-AeARubfL2sGWvhDDPMwZeBMlOim1CR8HgafuWQW4H9vMvMeNosMPJDBipKU1Fo1NmZzSQpu-OKWkimmyBT+iUkVEdKsnIJr+X9PYUsFdI0hQI9vfxAV0C4Pjkh5fT3t1OV7V89sJvB3h9MGk1T2UFfJZhZz+zWdiAmJKoc8Nl49T3SdQpGahghHWBrQD4x+hxma4VT1hX5Poq9jwCFYSZMCWnL9M5wT8+pzwTGX0Mb7DTfpkM10YlgcmJ84ZbIwXhCIWk2hEZyvS9PVgFnWBThuLHYdtjelcTIitM0GWp2HQ8ZMp22KQIFFpn5TGp5gG6mABJmFYYEX4GEZMLhE4zZ+y-MTOELFne91AWMjzpOQpAkB2ZCMxYEJ0WABcGxIqAYacF1lZBvaYwiYR7PFGhBCEdUx-A7ImhLCIigzNYUH3tlbTFGD0qIbqmIivT7ZStJ2c0TDlF9H8HHQoSbL-yxznplABOQF0Tl9DrAxM0mWcIX4+BI5ozG4RcODk3IbZQpeGQCO9iRzvhhQV4RNFbkpB65LMNkUCKwG8i8oQIjuejMKBQify7skYV6KkBUTfAH2JQuYND56xZ5GyBIYCCom5sG2thVUVGDSnmC5IaU5QkxMZy7zf+areWNODdAHzVmt8OQBZLhCAYRw4IQZnJGw5qTQhSMRerhBnlUTyRLrSkY8N-kBsZUzRb6T3VDDZA9sVEyibKG7JI5lJuQNKdNjNTdylRTIznFWhQVsiORvY2CSCLTChht5gUcBW1jSmdy8o-I7IY2NhkNzhRQTb2VMJuQ2CUgGGFhHxHlYBtVJq4RnMQsgVqTW5CI+wHKJREoLhRr6RMdOMkA5iMUAAGSzoljJRpQTCV3Egn6S7094oua7ybEAzgweEGCUakAEdi0ueEBMFRJ7HtD+x2XQcaooEjKFRx1iUxSINd4SKpFsi8AEuMtArjrFeix8TIMQFiyr0O4lEXuL9GdQjxZCwoGvNtbniZB4Id4YEuCGc0MEKYKidEuCHgh0pFvelF4vUXOyuKT47wa+PBRQK3qKJT+aos4WREclzRcCSoocVVLeiGS4GJfTGA6t2Rf8+pU8GNFmDXe+Sl8d-ANIkUSlYyJ8fA3ohkCDgQBa8f+JrFtKgFHSi7q3MxGb0WYDi7BaBL6HW0WyVg+6ZhnYWKtZlirJoV0vUk90dowga1DaKHbBsgQemPZZlX7JfgzlJAUaelxA43IaQOqVcK0p1ZHKrBgzJ5bkEXYHLXWWy9wVPO0W+QaelwheVIElb6BQxQqWZuHK1YIRLhjSwwH8TGBciAZEK3RVyMPgVTvRNPfFcFyDGQdrUwSg8Z1HxWN8zUrjFFFHmxWmDh68aeJf4NfYWtTxjQVJbfzR420OsmHTlbeNoA8rHggBMZFSy5W0BBgSy+lfJMtBMr3B-ZNaQmU7gtYO2dgVRTipbEnzLRVqOsdanwUaAGkiCzEISqMVQqcFRqUlcLmDGc5KVLMQ8Vatc50rHA8qrVcysbqvY2VJoyDskqiUXjXOiwAVRyptZZBRVLAcVUV3K4-z2UV1OVVHiYlWDlVzXE1KTgXo9stVfxaZdcylVGoYV5S-FTyIdaShM1M8-FYMwnY5riRwqo1OO0zVciAmeaw+Bis1XYqd6LYmlXqtACZAbxE4+gNagkWzjcx+YosW4sxBDqsxI6hcfIslW1qZVV1XtdWvoAPLNIgIJUo02gJTky1trCpS2o1VjAmJHaoxXuqQUs4l1piwdamMkUyK5F02ZxbetnUxrbWC6wmhetta0wj+667SJuqtkB98GLMNMIvAfxPoaBVpUDRwQMxAboQZ6BXghAg1brDCSUS0NBpEBLtlBDYMtuugIFSB0iLMVKsBqQKgaC1rcBDWqoIIGYCNMG4ja7034dxaU48KjWhtg3mCsN08Wgmxh0DuQugrSmjY6JLh9tsN1-IDdQBUmoaKAJRUFcENVZ4abEhG70KPloDyauYqzKTbf0GYiaVJ48cTQWx03npCSty1pU5h02KbiAym-TXtz5JqbHgr6YNQa09R4lDNLrBQkptE11quGBGtzfwIkDmbfl7ggtbJqY0KagtKmwAUwopbiByJ9gkgWMqoEuC68uyozZRp80waQtz6azdy3fiWa41hNTzVpuQ1rgUtzGtLfzNewZaLIdmzmiaxuWJbnNPQnzW5q55AxONrCWNIkOOXmDelWgQpZCMGVDUFun8eKmUCc0cKWtdjO5QC300DyiSMowRciISVsUUE2Wq+E0t0Cyj5t-gofoLKJxrYstKQcraKEq3AhqA1rQECNsVb2wxtzQt9MYtcZ-JrJIqVXHHzwZkNkGJUKhkoWv5H014G8S0Enjrh+bpNlMfJsEOfHdb+l-SAYf1s1y3aOszwYHn2DPB-JwyTLdLREXCWzVlAzvBajV1TZY7i1AdTFNilraBUrUi4LCviQW6CzQggIb7SfT+36FOwOzVbWQzm1dKGKF3M5nLEK4HbIQR2unb9tvSObatAbe2ALoAQM6gu89M1MJB9HZVn+1qAAJxVA7w8ujKuzqcaq6JAOVLpdXzDS+BBg+a8qX1j-6+B7M13XGRqmcCQU0J1UmwGrvUiCtBWKYNAK7r5VtT1O-SB3ai0MDLSUgDu3XcxGkZPjkIqGZwBShoLucru9u7Xc-0D366SisuwrWlWf6NL1Ad8h+fDrpCYrAdt-foV0VMGHaBVfIW+RlUz3C7WFLSurZKFL33zxgx+JrUjBATXRqQE2mIHZvTzeB0gNIbJiajNQ7RrUFI+EESh9HN694nSWQBymIB2bNGFQdJdNh4x8pGA3esOoszdk0gdiwoSzt7sBDkoKUY+6kKAB1aRaZ9I6aapUAJ3WBvdSLCbTtCND7dU1d3HjNio7bmwsVPbSDHfss5VqmJ2axtVWuxWM4v9jfRfV3ovLMw19nOL6JMMZDghS+O+vfeSg679rS1vbM-XvpFAP7DZZ-VNTAgQOIGKUx+4UQwAIPkp3dMelPervlEBonxPW8FFDuDI37Wl2AhHYGCR3PAdoTQmVfjtIKE0EUrc87Uqz+izakR7O7ERXEtlcMnMOQOgLimkbt6OsJyq1APs5xD7CULQUfcwBb09ie48O6fTu1xJz7GuxFUEBLkEPsjhDa2tnfKPEMMTY2Z8jnQcUUbHav4AIkkvMJaADN6seLElm3swYx8-knBr2PUWfTklsdfB9+b1DUMj6d42h4PmapN34T74wSJfhfGrKgM-S6CvKOC1wQPNQGWbQKFAlU5i1QEsgSdnXGtRG1ojGh2IynDSaFt2KjmDIw+U2b+VABrA1FVoZThdjmUskLOGUAP1lHV0TOn8nREyNuywq7RroySPKMFxBmYxlo27PF2AJ9C7R8rgsbnIvYjayxyXSOFqNgJamDRnlpUQ2OKgp6pRnowkwNm-YKpmiVI0p2YIdUklwMIfDgikh4JYpJOXAw8fmAJTVVOAQYxNsFajs9AA8gADpYBy1D-P-K-vwB-E2m3O7avNSFSupndQIJfd3s0pYBATrS4E6eNBO8iITUJrKeMBrhwmuWGw-dIQHTyoYamlRak6AAABek9awBCbCCjLYT8JsI0iaZMaN40aJwEBiddJYnJuNwAzDIbkM+BgT0JroJyYpNQ0GWX+VQHiQ8B4lSAeJb2oaEFYQg8AOJl1noGlMkm5TbTBU-q05rKnDYapjU+koFMiggAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+eng84MPgzBsFAcCIMg6B8Dwlm9So0HuQCsrKDPvOyAoSjDpGsTMrlYQAPzWMS9+hAAXC3oLlK-NhP2r1DaUIIsN8SJhy2nEnIZEqIv7MkGCfEwP9rAfwiL2QM9FswQTTvERBoAn4H0gag0sGCQ40XgTg5BUgQIXnAiQ5UOC8HWigkuUC6CNwwmPsQU+5DKTEXNJLO+eVrAMPimaGU-DnJkMEaAChUViAxRhCVPyKcSJ0KkcIghhUFGQOTuVDhXCpEyOUrhHRqdv5qK0qoXSkh5x6CMdxCMvF+LlH6DgqRKQ7GqXUrA1xbjQiSMETIkGnMEHmPwazdmB0DBsyug9FoJNGSF1MHAzhISAkLAtmYwR6jzZq0Mno1JeUZE2QEVk0AYTikSJSdwiIAcg60OweY2p6l8GaD4noJOSjdGwLKSklxvj3HLUkmAgSfdEkmGSafAphQP7eGYGsZygIACqxBtLVwAO6wjhIyVQeFQAAFo9llOvnxViW1JTRzkOpYQgxRlY0oPgUAegIiEUoCwWKygxg2OEIaaWxdzmBxZi8t5VAPnWKqu0kgNy64QhsNUMpchZDiAeU8qQfoWCLGoCQLoXySA-LrDYXsWI6D83IMcI5h82l0U8RC4g4yfH9N8nxORShOGrFoEKPQ9L+k2DossBx9gnHfL6dy7lozhUit8UnVlzAxF9G+R6FIX4IiuTAXoIiJKpmlJVdBMYaYmV9HVXIUw9KP5YoYjEToVRYXwsRfi6wszqA+GuUCZZqzqAbIIEDZmiwZD7MOU0-MsLPR3jakMnVAlSp0AmVjLWzhq4TwjQRV6iCn5y0QR-ZYqw9AtKPt3Xu+ds1JvGT00+4r+mhsUMMtVSVLSjMLdPaNysgZhJqkVEE2jOmmNISk35SqviMBgjmtp-U6oNU6M4kthpXHqNac8EdflZFjOja4mZxy53TVHXNCd8DfbNsYUEl60bfn3MeQzdFzNwkxMxjGmYmkzWMWIJazEcL5CIpPSi7oVIiZxIlvrJWvy8pfiHc8PN373Icrxv0Hdz6bW+rtQS-0pLQORGMFBG0ZKfHAfaSjMD8S-3jOg3ld9yrHRoZgsh4kZGZB4p8V+CjfgqNWsKC+hFcHaOaTCQerlLUxY-ohpjKDKSmMpFqKEWoaEkYVskCQUR47pJN1vbzVu8nNW-1AGmwpoBM0+EBAAKhk7wx9HRdP2ykwZgURnvYqaNAASFCMGoGdBg7EGRIQfsxCYRjOPciiIB6OwAYQ+mB2isyVBLRvx5kwmwh9qUOelmfnyaqZSKm-mcgfEfwDrKJqznXPubYY0AS9HwMYzxnSiVYQnM5Fy6wq8-o9Bmy4+Vpr49xYRcSxXGDr62OAc0igxDaDnz1ONb4v+PJCF5dqy5+E1Z3TpYWFQsCHmVENP6aN-4C2auYJAf+JL0z1Opai+JveFIwkZO7afX5hLPFkpdtSyLmJCW5PUAwI4wMcuYom5ggSniYWBcMKAcz0pOgvdAGZkEhnx1PYRb92N5KNBH08WW3xjKsssuUGy2VtiDLPcGIDukwPG27qRuUx0+Te2aTNtqm0nKRVYZ8p25bSTuOCPgU24njDREQcqRd-FhKwFkqw5zi0VHt1CcxKI7bIuhdymm++bpYDo1Ra-GAon+9GEbcG+w87MaJey9ATqvQGuaGVj1-+JHNgsNG6W5BVV3T4Hm-tWLuF1gzktv60Q-LKVuc68M5L1V43Nubm284n+WGA+a9fLb5U0aHeTvCovKqy9V7sA3lwbeaA1rHYlM0Adzw8Ixq-Lsk4r2ogjlVxSM2Ni+Wgj4j3QYiPJ3k4+jyAq6LMXMvnL9Zn1fHF19AA36DnckZ9bb1isFVl2kF96xlM6PJ8ApjRRisfneE6eqsvYmvgqp-N9RmNefoBuqjzX96V27t8Db5tstPfgwJpH6lejmVHLz9N8v7v1a++Nrl7upYsYVOYJ6otAvxGhbz-zBEGAAMZFXxI1jBFzASALDln3Wx1RTFAJNl6lANkX1UNx1XgK9hdDgLZ33jIDVhpF0DRwxw5XgRf3mBdEHzOWQxXi-ioPxSHgQjoLvCehIL0iuX5SPXMHs0UxxG03aV4Lj0hEJRGDGEZgvRPgoItDJTliqDOUr35TEmrCjXvHDVwOENNw0OGVX0YKeG20K35SmAEL+R1EMOozv35SoxMNBDMOhkEJoLdCsMIJOzwiZVqmlXZRKwgT0Jx37ypCkJ7RYNallB0BGDUMVApmL1BwiKiOtGTTcSfmEJUJgX8MGCSOLQ8GCLR12xsA-iyF0CiN0LMAAB54iSjhhsDod6U8FGA5k9BAQAAVDICxYgOESUfOdwUmYGIBGOToD+QEUAAAalAGZwqyiBiB0HuS8X8LMHGPthGPGMmNCEMGiF0DmNqKVhNTKUaMdWaLaOoAIBkDWW6J0F6ISX6IuUoCGKBDGImKaxsA2JmO2LKMeOWMeLWJeOmK2PwHUmyPcPYgyEAWAVNxF1Nz4MxA4M4W6AyFEmYJ-jvEqy3EyM0OhwC0VWnz5gFjKJ+LwThP-lEh+L8WIOoFIJ0HIMfwxlZx+I-lN2OFOB1HxOeKES9myNJOkTexyG9jKMGHwOewVWYx-nfRPiZJL3OGkJZlkJpMgKxLCAdTWAgRTGWXSCxXU1BEDWY1gwVNCEJSsLJQYNUMIzcS-FRJENBGMMtKeDKzZJ5VsKrTcJhzCFEyDWcOcBPnhIbmzSdyzzEF1wgUhJVIxOhNCFhOUG9MRNCORMc2c2iMyACMxPg2xKU1SwTLqIlUJMjOJJp2eM4IpJmOpN8MljpIlQZIgQlK9lZPKyflkEtB1CSKyPUAKLSQtJnAWIFLdCBKizEyeMKDFM4SrMkNiyZhlJ8NlRvUKCVIzNVOIHVLkU1KeD9UlEM08hdL7K6z1L+yQ35SNJw2sRNLF18XNPjKsOtLcNjwlXPKdNMI3PdIfNhy9NzLoNwDACXiYFYBT04C3l4AwH9J9CBXeU+XBW+Wlhi3jCyjlUhSBCApBRuiPzgsoFBVeUDl-RDjAuthxh-DKHlXCkJSQtBQ-Ne3Olfk+g1HthsA1H6TtLCE+j1EousD1Bood0+m00Yq0xWEYBYrIpb0PA4sPB4sKE+mKFS3tlEtKCkVotCE+hijoEDlUDhHtjkoUq6MEWkpsE+iVMYqVN8Q0usE+mEhGFmg8DoF+iMuGBMoYDyn0tBxb1GI4psD0DwkGDhDMCOAAD5QBdlxi1LbLPo9lHLrBnLXL3KvLdlDk-LWKW8TNBgUgQrQA3LjhwrQBdNErrB-KW9gAgrHkXLEqwrvLQAwAoreL-hAQABSHKhKpKzywq8q9K0ATKsq4vRy6qgqovU4Ny6KsqgAQhOFarypqpSr6tey6tKr6EBHKKqsGvatAEqOsDGuEpb3KKOCCrauSsKpWoWqaomo8umtCo2t2S8u2u6t2tWritCHWtqqOte3ytOuaJ6pysKtCFqusB6psHz1fghAIuiGBWQpAvX10OOB-mElEg1EGEIoBu9Fph+teWAvHxP2oA8AACsQwuZga8pQaaUNq2LfrgL7Y5J5VbKwhIaEbPMIQsBYa-rQVxsQdzpPp70LUOh7ZGajNib7SZKW9IBiAH1mIlK4rubebmZ2aOaDKW8LLJBYBIBGKJapaRbRbDKtBLKABRDiiW5W+Wjmz6AAOVUG1pyt1u1tbI5u+sQy0zxvgsXT7GMIxsKCxoeVqssOLVJtptNqCxdvd0tGGVtpSHto2sJsNAhotv+qtsDFpjOSaQajhstpxWIChSpMPFwMjpiGkzkW8EuSLORtUDUCc2iCZjzO5VJtQqyCFAwtxSvMKD7j1kqDCAcyRnrKAWLMx1wJR2ZVlJLL6G40yzkT0FJrol0MGC5PNujpDoD35K7ujiy17uDqIqqmRBRrRo0KHo9vTDQX0IrrCBHOlKbqFE2gkPOB0DVlyO0QnKFFC2xGAXbubqUITysiTy-PXh-O4EwAAr6loCiFUAoEkHZkMFfGEkYCMgW1wNEs8G8GMlLhbCAanTyifjkkFOYSyE7E+MkBWIdk2NmIBPAZwuwIQeo2gb2zkigaPzRWElZmrz4iaj+ILiTtIFIHcH5iPgMBuVoYKoYHGL0E-tICrMBBGKfh4e5K+PGM4c1qkR4b+ioY7jOUSnIGZl8HQfjo0KrukeFosBs0xHNKoc+OaMeJIdwlkHIfHSxqUdmGZgUZ+SWJMEBEQpMZZlrxYA4fzmAdcHTL7l2z4blkBB-kMR5Fca2E2BwQ-VbhdFcbMCCDwLdBCdABGqBAfnBB-ifiwYccmG4dienTfsZAjC-p-srH-qMlcZXVPX9luLjijF8e2HpQeHRA6TKlMRCeNr4e0fGOUdse8HsZ1DrTqe+P6RGNQYhMkmkhpRPxMVKcccWP7LcR6ceOafGFacSeCbriSYAjGPpXBE8bcQzRseaP4vjqDvsAvTsfwZSBkWEPyZgfNr2fUkBHYsGHOnacca7JbBCd2ZkZacYBYF20CSocWfiaBAAHJUG+5Pj-mvG0G3jMHXHrGLnv6RxGB1J2ZYWnHcSygnhQGfAdR4XFrRaxayqchmaUxHVljq5hQUx+RvBiWXJ+YbpDnH5zmXnEmMXi0XQGXnn9nWmPnaXZH0WYWuqhg3RmWOWWYGWv8xAMX5Rtk8IGoDIU560Y1iMimY4SnApSoaMUgDS57GTXsf4+noEqm57hmlWCJhT9SzbCIpXqQExRkyUsbRX4RxXJXrpqQFGZX7y6N1XKy4irmuK1nChUiuLEnTWHXZAuhblZIs4ygA2U4LXoVqX35j8Td3XThAR+KfmI3zXg264QX+6E3XtAQs6c7SA86vadVvXktOKs0s3qwN7Qgsa82qQC3KAmYqN7WU4nXlWY3Ciy2nU3XK3zazWg2E0XSWM30fNXAmDDWpyvxPpYm-ogz+mx3FgjXQAh3utosOMCJDs67epvVnhlXqDAK-XlWfmdRD3NMZzSo5y3UPV9XnBt20CppGRSYZW92FhhCT2fXeWWw32jn9imjz2XUVl1lPSGcix37SZTk7xSXGBKxyAa4vBZoOhgwDhd2wiGxt2n2PXIPhQj99hg3zWoPXxqVkP1HNIdQICuZnX48wAG5vAg8WhQIIa3NJRFz2hyA3zPy2BSBhgRJa9QA1pHlZBeo1oM8M8EEI7qQDI9BdI4RBg7A-RGAOgFM-kJKyhZPHUFP6mAc06H1OgCnol1BJOZBpOvYdRVP5OlZjb2STOQw1PkjfEMtxPSADOjOXRTP1PgSxAzY6Osg9AY1HtsdIEvPfUSKYrAuTMXSQ1QSgEnPJAeBBgpPJAJoFTCViUPBAuyV+QJP4vYuP2ygocLhQJF3UhkUUu0u4jWbOgpzUycRyuOhezrUtyUywhCVXP0uHPov+AHmiRCBUvHxCuBzkUWuyutOmbKvBEvwau6uRNdTGuetUO3RXP7yRMf43TrAVu43s96AyXovsv4uOuMSRxRvkvuvSvVy6BMvDOYvOusdg4AvevFukV+PjvHwqyavRv1j7ALgWw8vAuq3BFhDzosuIa-XdvmybRA6h7QgXRvu7v7vl3tzrBmvrP5PWuzvHOQecuDAnuCv7uivHlBvThXuAs7NCh6zPuuuev6OsBif7ThDhD0e4DfvysZwsfEGPRqel3pvmdSeXOkeOhQeDvJvXTlvn0YSgYVKtBOP6tRuhJuH-4wSS2RtQdIvFhuMP42APWYhZAoOFfVtxBNuoPJiZkDifAWAL3APQBqPMEVzAvtTVviOGxxfyBOP8KzbLfaPnvXtPPHwfOqhCUWOyU3foPvek3lf8wCLGPXtA-XxAvmjNeyX8xlCf9zYYgYpYgFt+fqNn3hD0-9vrC6YkYPAU+iyFs9BC+5EZjcCdQy-U-Jgj9q-i+Dd6-dBcCXQm-a-8-eo2-JAU6rCcGzx6OmAHDn2MvHOc+3Cj9W6Dgc+FdB-bSs+-WzY2++-HwM-i1x-N2KQIhFwn2UOToZ8qJ-g-3ARYn3OmhV7GQzw2k-2rDcd5z28uhFxJAuO5EshGAY07w-RFhmlDWFS5WmFnX4e6Tf7G3xuxF8yCPfE0gREGDr8TymkEAUN2DDacOgzOJ+CQAXIP9wwT-XFq-3rTQDTCzOD+J-3Uhd9VUbfPrqt11J-9X247QAV+GEJEDEmbbcAg3HUi0Fx2sPTnrAIbClRBea3Nbl+AYHKthWsIKINkBYCzRJ6zKYMGGDhDjo6A2XaQYpQTB0BEuu-bWK3HkFuNQAig2QV0BUE+cQWwhFkt1EZ6PJWGogx4BIJ9RSD5ASgyhnYEsEzgTBEPNkjoOUETQoCD7RgFkGzpgQZBcghQbYN0HSBVB9vPfkiwMDdQfmbgvQfwAMGaYjBCETQaYJ84bUYgteHwaChiF6AYhIQnzqYKkSpDaqGxMQWT0iEdYJMvUEoZYPwBhgjAIkGlH9FwK1CtATKSIA4PsbVDxB9tGCkrDvx1C2hXQuRmIMRYaCLB7zH5hpj2zpD062QLIUEPHQ+IWS4wzWkUK8otCZGsodoWIOGGOD4YHQioa-Un7d9FAxYXoBjBz44QDYs-TPrzjNrwD+8YAqkhAK-hj9TCSuOAU8Je7DcjMPzSfsvwH5XC8BDhQwa0O8AuYjKkvEgY3yeHFogRNw0-pxU2FOBJAkImossGuHwi3Cz7Q0h63wBahOgIxH5oCHxGEhCRILPTuGy0CDArhZgH5oaRdyaYt+4YXuloDpFnNjh9yRdOcMlgYiaR1IhESC2eR+sMRZgbYC+z9a0iU2YIlEWiO9iiiCheUF0LSMVGFAMRteCERLxqI6gFRLg7lDqBVF6j+kzpEFiSIJHM1hBwMGYlkBg5TZxhzlbQn6zyprD9spQREZxxDDaRZoLmTDqUzw4whBgorPkaAFFbYi7hQWNEStGJRGoyU6o8EaiK1F6AgxAo30bQEHpYsRUoY94WEPmCRjDUpKPEeaJ15qYph37SkjaMghDC8xSUDVJaMICyBu+adPCKyNrA5jtoXzHUWyMREsdthjwJzjt0M6hDjWQWEHCx37FxdBxLpc0t8MQFM1cErouQNyToCWiU+vkSQPFxRAtjfOZtKTmSk7GmAPhvMbflJzMB8NYm3JKTuFBtGgAWiAACWVqSAAAguAHADK0AASi0UgAAB5bWsgFeyKFX6+AewJx1mj+iCsLYjUcCLn5qDnA9YsYKuObFxinAWgnsQhItZgS6sSE2lCCx7HqBIEqY+gEflwmlBQJWvTzKkJgk3j7xT4l8e+M-E-jwAREj7mhNw5kTwJWE3Aj2KGEIT1xF3TcRxJJYYTiAeyLoeBy7gp9SJZLdiTKLjoIjn2XQ6xHUKxpcorh7gZKpMQ9GGRvRkk-DoFFUmm8kRkEhEYzyAlO9LKBEgSFhKgl4Mrx9gWwJSyigkAeOr2AAAxKE7wj6NZO1Acm1JY4QeSgAcALwOS-QTk7wGSgHSrgQpXgx4jwEPE4gIpuqdvLXiPxmxPJTCfvt5xz4JSrBdSSsAFMdFZpj+9sYQtlN8mKsXMAUq7lA0RF2BpI6Ux8FIBiBqpKW24oLKVOKb+SOgChM4t5NXBlTOpPvUXkjFEFjA1k6gIyER1m7hDt+u7HxE-FSk9SS+f7dqQq06kWdjmB7Q1nNM7a6g7Ao08aYwPHaqihge0yQGNLkBGQ2BC7dtt+x4Ei8PSJ0mQPtIunNTEGlo4MNYIU7Ihcgf7N4UP3xR3gRpZ0g6bcNFIjt-+eDQAWKT2j6cc+kMmboUC-Cl4ZAgvTcqxkAHDjgBoA8vuAJcy98ZICI1GYjLgEzjzUvwtkk-HxGsZSSH8IGedKMjQjqcHgcgULxsxw8EZsOYUVmkz4oDHpz0oyMex+RhM6ZB02gjdLSRUzZAvA+6X8hFkvShBG-CUJyMUAYpiIoEAEVkFB7WTWpwAr4a9i74vD0Qf020lFnfQgDomhPRruN2IBzEExZk0vk8JFxkD0xGY6wNaG1kVBxmHPLcn-237Wg8UHNPALpmDk-wrsesx4TjOeF4zVC7swmT-C-DmyCePwnTorxIC2y5R6fI0YzJgjOyqeNmYnm4Tmz-Dp+6gD2Z1nRnvoPpWWKQIFFjnGz4ZRVMAMHN0zxzNIZoskRaPLm2pW53AzwlPRLlyAy5YmRWWIDTkAk7ZkvRYNl0WB7cwxbYm4dw1JFZBmaxIpeeSNPYwzw208iaPSP5RCjKELIqeeyPfbKylgFJGkOrKnkQ1Z5+ApkQfJ8Azzj5pbU+arIvnecZ5ENbLtiMbmpUQ5d87iFmiPl+MJRgCneWczHksw5RLoI+cdJsDQKJosC6wBAonnaiEIMCo0XlB1EIKMFhQE0ZpnbnLyrGI86yJS18DFZ5SlE06AfyPDkLrhgIBKXewlBphQw9YqMAlMr5htXpNkjvhSGynUp2Fz7ZTt7Bc4tTxZa2CauoDGlwh+0I4OJppjgbzdRFiIyOrhASlcLAx3LbiMiNklZj-pD2M2qGGyAuYEp4U2UFaQWyNTcg7CqLISmQX5iMM-SZBXKOTHaLEFw4lhaYkMVVZ2FbimwLopNnzy7FNYmMYWI7nFj2SpYsIKugpRjAMWXC0-OpC8XGKWpBQ8sfYErH2igl0YsKJ6GvF3iHxb4xZAABllaf4hce5K7jATLKCUyyTJO1nPs4JjY4MIhJkkoTmJTYhMDUogngj2WxEyBF0tXx9LepSUCifPPyWSBClJSxiTwolCoSOlXQLpRxPknjCrBU9LlFxPtE8SNxnUASXqPoWUsRJ4w8EIzw2UdDmi07CllkEOUdDwQyii5CzEWV1K5JlEhSRsOUncoTFtVSYiouGXqLDJ4I7WSZKqXDLalrihEYiJpDopVwcSlxUZPPJdDcCrypSQ0ORJ7kvlviBSd3S6DZDmcD6ViVJLqywqAVxk5nC6MjpdKiVTgbWcTXhUrDLRwGaFt4DhbctrJvY95pdjNo7RhAZKMcWh35aAgGVGLW3p7C5UkBSZSAn5pCrQqMrYWSYllTcLZXstRVuQMjgJH5a0qDhK4yxc0u96ijBFUgV4rEH3FCyAg82FkcaohUwc7AOkvKRVKbEcMhJsrcGQhO94ESVWhQQlLuNexbK+JnUN1YL0JR0NGiwuAiWyp9rlZTlOwqToJLYm0BrlYg4VaEEWBuYnOMaglcJNElVsTmQkwYC6KDW1Ta0QkxVYO04FBoh8VQq1b-gckp0EJXCnWaSiwlkpmFGgUxNYsxB-8XVl81pYdx3GGcyUPqlmPxNaUBqDFjgAtcMrDVHBSSkavsdGsuUyB41jwRNTYGTV9A51+yq5Zmp8QlTKWuagqvmuFzZSEVJahriL0qEUgcOE6x1Dar9GxraU+q35W6q9mhAn4l6tRW6pBaXqCJDqu9avi-VCSf16amNIYEdRjBQ1Na+1f6v0VBZMg+K3SfQDJTjLnxr4j8d+N-FRYkNtE1DQxNjF+sCJe6jarBpvX+gpxbcgBEQvLUXqEOvygRfihA3WrspEG5pXWpsWu85ACyyliDnGWTLSlGG6iTxrKU7rNZZgwjexpBWkaGwgIcjVqtHIXo0wyNcFJGlGHpklNd+A8vJuhD1pFOsOY9kWiPzjwNNIgRNNPGfZXTJGfsWTSzDkoKaJ8Smh9a3FU0zKxAyGazZprs2UTdN08fTTWjXASAbNFAYzdps9hmbV8j6HQO5C6BxL3N88zzZIzOTybqATUwzQFtZUIqH129ZLewky22dS2GqsQSCwS1NSDNtAfzeR2y0iNFSa6GVVcnU0lbNN5WlxOz3tJ5bHgFkLAKuuaK4tligq7lvbEK20oKlSMazYltyCuajNqWlYelriy+a6ApWqMGNoC1aDIlsbGYd4LmF+C7BBdNxD1qZXYYe4QYPzZpoW1cw1+thBFY1vioFVhtRWnzcdoEh3a6UTWkVC1veZdgOtUmxgN1qq1CqaRfmkbRTQ8kyBwtbSMVAqrS0vKVlbylFdylxEeUqegiIRTttlVhaIt1WpJq9F8V5Q0ltotlTaTwYIIntambHRkrOWFz853JOWBdrCAva3tKa4ENQHJYCrvtvWwYCjr4gA7m0eEEMG5h3Y-9KJWGP9iOUPpI0Sop9QApaNra50G2RbanKDpp2UwNGHQxSVoHeVSJYdriXyNzraSa8+wl-Z4FyTubUNrJiCw3NALCoQ8ZyygF2a7P-aXtnAGIzQtxQOQPFRiecprbm2zp1tC2VGW5Rp2J12jSdt8gxAuI3o07RQ72yXfW0bZgIvtMS6rfbEj3e64CShQlMJAlYqUZBZKAAJxVA7wGexSrjqC156JAqlNld31ry+BWdo3P-mMPdVTcfZyKZwHERclvcbA+e9SL81+Ypg0APe5dRQNPW+J29iTQwCzNCDt6y9zEMBgpOQjFpnAhyQ-ML2Hlj6S9MgifRXo0Jp6ZtqlZRXICkUyLng0oUDRNoOE4izt4w8PXTskWKV99se+HHxHj03Jd91+8YLngpqEoYgq6yVuejJSAgMWevVdW-CIVnJRWHQaIB8nqi5l61-+iPr23PRPJiAn+01uehdI170yH+tzHXrCBD7AQByQ5EOkdRDBWmMQCLX6kConr0ZjXQlDtDJQ2stkLQCVqm1qU9wD9CBxjksQqC3LBe2B3A4clAP-VuKxJaA6Sh4NkGuDK+xStPShYwqWZ76UNTB3NhgaEO46HaJgbyhvqHJ1679f+rvUJKkxo+tveIcuaPihJkoJQ11Jg7aCtAqgIIrIDQB97vZFBnxNwZEMhjuWRKElAwBEMHJli9h5ffJVX1DCuUCk1XTDrRVw6ms0zOJXnNSDn8qAR8HaMbseRW7QAkgAqpMgKFI64Wf0a0ekoD07C5YAEaWXlBANgHvAUZQacPPPUShGDaO9A9cPAPpAaQKjcMf9moOvZaDdrRg6yOYPwHV1nxDg4u3fQNHCyzMKJomxpDFFhQo3Zw4ckYOuGmVQh6wLgZFDPqDD-hiQ5Ee5Z6Ga67MtbrIaLXyG4OOHZQ6oZsDqHVwmhgDdofTW6GVD93IY94EaN80xjObCYxaHBCACZjzugiaYcQ6kHljOx6bnwNLUpAvjzuv-fmM8NeH7D4+wIxipWUhHjRYR0kpsd20uCddgYPXUmMSOm6CAaR8HhKkyPYmrRugCsXkb7EFGOslRnADUbiW-NMOHDBDv5FsQt4AAQsxBigIcsgyxVk7KGOV2Uyq4ADQE8EYDo5SgYBIEG+ICntBQAb46gPsHtg8AW9hoLvUCDeOMh8wtJrY-Sf9F6BkaSNFk2VXZPkBOTHQbkymF5MVRi0n0RfDzs+0pg1klAAAF7hhmanYVU19DJEamIQWp3bTqbIkGB1A4YdSJ9GNOmnzTQIS0-yYABsLkuM8qY9PqmpjShX07Kv9NbccOzJz6LeM-q6R7TQIR8ZcmpCqBlisAfk59GgCPAPA0QDoO0GWIABZfkKAEfEfJ7YAAdgAAc7plMEmc1PMBA2aO9M1Bz1MGnszuZ7wMsULPSK6AJZlMGWetMt5bTteZYqax0AOIRTvuxM16eTPtb+zKcQcwyZnPlgQzLeHM4ZAnMpgpzxZ0s-yZQDxmEzPZ7c32b7YHndTxKH1KKYkCHExz55-M4CCvMzmbzC5o0xyYClmmJTgIKM92bVNPmKaqZjvQyczPStPoAAMTRrLFoA-NIEAABFyzLeSs54BrN1nLzTwBgOABGnksNoKpx85MefMDm6TDJ-Ux4ENMTU0LFADC1hcBC4XgLE1JcxedgrMA1zjwDc9Bc9O0WfTe56kK+YDNHngzLF5omxcZ2YXli3FwYGtAACs8Z6izBfEtVB4LegIc0yCATeB0cZ3HwKhfQsphlLKYVSwKYmphmwLEZyC3ydEu9m4LklqQAxd1NIXqQ8l1omsmyDaRmIyxIpR5GWKq0eLzRVkxSVtE8nFKEAH9LKflN4tQA-ADwSYC3O6XdzL5rywGaYt+WWiAVyxMFZTChWWA4VvC2VT4t-m+InHG2aQDPBWntLYl94xJZyvanDzQZ2VZ9EKuBWSrQIMqxVeLT8BNLcZ5q25b0seXpLW3d8yZa-PmWW8vV4q4zsGspgIrNzNk6Ba5MQWoL412Cymamu5WMzTJ5Cy3jfHZAzuj6P80UsxQSBKrE1IU70U-PinSzFqG8XtKSsKnBgHZ5UxlZoutXJr7Vv04xdHNnWLrtAfi4CBuuEA7rkV1vKushurn1zkNj+haipZ-WdLAN7K-RY6tvmurJ5squdapAQ3rrt1sysWjWj3m9rWV-S4Zcx4fnTL35sG8TaushWyb915omebzOTmizgFuc5uf+vemDrQNtM4eeMufmzLflhy9tZ5MuWNrZVAAOrhgPAhAQyGZRTBfieg4BgW5jaFs0nDruNgMz5YEifQlbjAFW2reWKa3+DHNwEOAACvim6AWQTi20UWCgBbx2QN23KYVOuX9r2N-c0deHP5XTbyt1W9pHVtAhrb2tuG-sDeQ2yNim4ZYoXx0DLE1koweQDrZat63abnV4835bNsW3w7VtrWxOeLQ8BRrY1jG1nZ3P+2pLgdvoMbb8vgAC2GQYi0CGVpeArT8tiagrZrR5gUw4ALjmpFABFKcgEppU77ZpsG3gbup4Oy3mbvMBqAbdwEB3blt2XOttDJKTMWWKcc7i+AZYpwySmBhM7E12u55cNszX8bTdlu0vYgur2u7oANsxXeptY2c7b58W4zYWuCmb7y9++7bYLth2I7gIKO6XZft62z7014c43YrMVgPRjOuU14G15w3CzCKWKymG1ru3wwi4LqeRb2nkseA0Zye6-enui3Z7oNsqtAFgejB4HSNePjHc3tOTt7PZ+th8lZtEPs7JDhC3jbzswOtR9gZYgg7oeDAeAP1yu5leIci2uHMlj+-Nb8uUO+HNDxB1Me7vNEF7rdu+53ZPt+2IH9dxk6AdOtlVHxYlGyzIAVvMRlH69u28KbmsvWNbNssQOABhl2B7Y6l9hzubft5XyHE1Ix6UBUumPzHtt2O0xATssQezIYWYMGa0dT3JHBl3O3Jc+g+O5AfjsxzI35MjWtLVd0+x45msyPJbCT4xzhf8epO4bADy2xrZLufa3HCfbJ8OZywdAa4c9qq6wARt-nHTLp+TrbeqsrnBLyNyp2A-cecPYnupupw068fNEunDp5066c6fNO7TyxWq8MHquNWonWNnRxfdqdVZ6nkgRp7xdmfLmUwSN4S6XZUfw25nBznp0c5qsRg0bKz8BzU76AjPtnYzvkB0Dju9BMEyxAThE9haBPXnwTj+qE6BDJ3U76dpJ1U451IxkMOQOgAFZ8B1GoDbR+Y7CzFb0Hm2vlvlLIF6NsGgQAxl0gaX5Qg4iTCRkk4fVyO47KTcU9QemSsI5aaW9OixGZJmKWGWgnjGzBsykNbGMTF-eI6GybA0vi0uJ5-LVUmQS7PdUu6PTqjRfGbEW-U9hF+xpafRZX14aAXq2A4-TDWpgmtmK6j0y6RwUr1tuwP3lSR52WgqdvbG1bGv0QbbCkeu2DQHloXsL2Jz3VkuyqPzl1m5CwCSnFpE90uqXJ66cmgAvKlNjJ78whB4Ac7zrq+267TGSh-XkBQYD64ley643pKIN1TarvDHZAIoIAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+eng84MPgzBsFAcCIMg6B8Dwlm9So0HuQCsrKDPvOyAoSjDpGsTMrlYQAPzWMS9+hAAXC3oLlK-NhP2r1DaUIIsN8SJhy2nEnIZEqIv7MkGCfEwP9rAfwiL2QM9FswQTTvERBoAn4H0gag0sGCQ40XgTg5BUgQIXnAiQ5UOC8HWigkuUC6CNwwmPsQU+5DKTEXNJLO+eVrAMPimaGU-DnJkMEaAChUViAxRhCVPyKcSJ0KkcIghhUFGQOTuVDhXCpEyOUrhHRqdv5qK0qoXSkh5x6CMdxCMvF+LlH6DgqRKQ7GqXUrA1xbjQiSMETIkGnMEHmPwazdmB0DBsyug9FoJNGSF1MHAzhISAkLAtmYwR6jzZq0Mno1JeUZE2QEVk0AYTikSJSdwiIAcg60OweY2p6l8GaD4noJOSjdGwLKSklxvj3HLUkmAgSfdEkmGSafAphQP7eGYGsZygIACqxBtLVwAO6wjhIyVQeFQAAFo9llOvnxViW1JTRzkOpYQgxRlY0oPgUAegIiEUoCwWKygxg2OEIaaWxdzmBxZi8t5VAPnWKqu0kgNy64QhsNUMpchZDiAeU8qQfoWCLGoCQLoXySA-LrDYXsWI6D83IMcI5h82l0U8RC4g4yfH9N8nxORShOGrFoEKPQ9L+k2DossBx9gnHfL6dy7lozhUit8UnVlzAxF9G+R6FIX4IiuTAXoIiJKpmlJVdBMYaYmV9HVXIUw9KP5YoYjEToVRYXwsRfi6wszqA+GuUCZZqzqAbIIEDZmiwZD7MOU0-MsLPR3jakMnVAlSp0AmVjLWzhq4TwjQRV6iCn5y0QR-ZYqw9AtKPt3Xu+ds1JvGT00+4r+mhsUMMtVSVLSjMLdPaNysgZhJqkVEE2jOmmNISk35SqviMBgjmtp-U6oNU6M4kthpXHqNac8EdflZFjOja4mZxy53TVHXNCd8DfbNsYUEl60bfn3MeQzdFzNwkxMxjGmYmkzWMWIJazEcL5CIpPSi7oVIiZxIlvrJWvy8pfiHc8PN373Icrxv0Hdz6bW+rtQS-0pLQORGMFBG0ZKfHAfaSjMD8S-3jOg3ld9yrHRoZgsh4kZGZB4p8V+CjfgqNWsKC+hFcHaOaTCQerlLUxY-ohpjKDKSmMpFqKEWoaEkYVskCQUR47pJN1vbzVu8nNW-1AGmwpoBM0+EBAAKhk7wx9HRdP2ykwZgURnvYqaNAASFCMGoGdBg7EGRIQfsxCYRjOPciiIB6OwAYQ+mB2isyVBLRvx5kwmwh9qUOelmfnyaqZSKm-mcgfEfwDrKJqznXPubYY0AS9HwMYzxnSiVYQnM5Fy6wq8-o9Bmy4+Vpr49xYRcSxXGDr62OAc0igxDaDnz1ONb4v+PJCF5dqy5+E1Z3TpYWFQsCHmVENP6aN-4C2auYJAf+JL0z1Opai+JveFIwkZO7afX5hLPFkpdtSyLmJCW5PUAwI4wMcuYom5ggSniYWBcMKAcz0pOgvdAGZkEhnx1PYRb92N5KNBH08WW3xjKsssuUGy2VtiDLPcGIDukwPG27qRuUx0+Te2aTNtqm0nKRVYZ8p25bSTuOCPgU24njDREQcqRd-FhKwFkqw5zi0VHt1CcxKI7bIuhdymm++bpYDo1Ra-GAon+9GEbcG+w87MaJey9ATqvQGuaGVj1-+JHNgsNG6W5BVV3T4Hm-tWLuF1gzktv60Q-LKVuc68M5L1V43Nubm284n+WGA+a9fLb5U0aHeTvCovKqy9V7sA3lwbeaA1rHYlM0Adzw8Ixq-Lsk4r2ogjlVxSM2Ni+Wgj4j3QYiPJ3k4+jyAq6LMXMvnL9Zn1fHF19AA36DnckZ9bb1isFVl2kF96xlM6PJ8ApjRRisfneE6eqsvYmvgqp-N9RmNefoBuqjzX96V27t8Db5tstPfgwJpH6lejmVHLz9N8v7v1a++Nrl7upYsYVOYJ6otAvxGhbz-zBEGAAMZFXxI1jBFzASALDln3Wx1RTFAJNl6lANkX1UNx1XgK9hdDgLZ33jIDVhpF0DRwxw5XgRf3mBdEHzOWQxXi-ioPxSHgQjoLvCehIL0iuX5SPXMHs0UxxG03aV4Lj0hEJRGDGEZgvRPgoItDJTliqDOUr35TEmrCjXvHDVwOENNw0OGVX0YKeG20K35SmAEL+R1EMOozv35SoxMNBDMOhkEJoLdCsMIJOzwiZVqmlXZRKwgT0Jx37ypCkJ7RYNallB0BGDUMVApmL1BwiKiOtGTTcSfmEJUJgX8MGCSOLQ8GCLR12xsA-iyF0CiN0LMAAB54iSjhhsDod6U8FGA5k9BAQAAVDICxYgOESUfOdwUmYGIBGOToD+QEUAAAalAGZwqyiBiB0HuS8X8LMHGPthGPGMmNCEMGiF0DmNqKVhNTKUaMdWaLaOoAIBkDWW6J0F6ISX6IuUoCGKBDGImKaxsA2JmO2LKMeOWMeLWJeOmK2PwHUmyPcPYgyEAWAVNxF1Nz4MxA4M4W6AyFEmYJ-jvEqy3EyM0OhwC0VWnz5gFjKJ+LwThP-lEh+L8WIOoFIJ0HIMfwxlZx+I-lN2OFOB1HxOeKES9myNJOkTexyG9jKMGHwOewVWYx-nfRPiZJL3OGkJZlkJpMgKxLCAdTWAgRTGWXSCxXU1BEDWY1gwVNCEJSsLJQYNUMIzcS-FRJENBGMMtKeDKzZJ5VsKrTcJhzCFEyDWcOcBPnhIbmzSdyzzEF1wgUhJVIxOhNCFhOUG9MRNCORMc2c2iMyACMxPg2xKU1SwTLqIlUJMjOJJp2eM4IpJmOpN8MljpIlQZIgQlK9lZPKyflkEtB1CSKyPUAKLSQtJnAWIFLdCBKizEyeMKDFM4SrMkNiyZhlJ8NlRvUKCVIzNVOIHVLkU1KeD9UlEM08hdL7K6z1L+yQ35SNJw2sRNLF18XNPjKsOtLcNjwlXPKdNMI3PdIfNhy9NzLoNwDACXiYFYBT04C3l4AwH9J9CBXeU+XBW+Wlhi3jCyjlUhSBCApBRuiPzgsoFBVeUDl-RDjAuthxh-DKHlXCkJSQtBQ-Ne3Olfk+g1HthsA1H6TtLCE+j1EousD1Bood0+m00Yq0xWEYBYrIpb0PA4sPB4sKE+mKFS3tlEtKCkVotCE+hijoEDlUDhHtjkoUq6MEWkpsE+iVMYqVN8Q0usE+mEhGFmg8DoF+iMuGBMoYDyn0tBxb1GI4psD0DwkGDhDMCOAAD5QBdlxi1LbLPo9lHLrBnLXL3KvLdlDk-LWKW8TNBgUgQrQA3LjhwrQBdNErrB-KW9gAgrHkXLEqwrvLQAwAoreL-hAQABSHKhKpKzywq8q9K0ATKsq4vRy6qgqovU4Ny6KsqgAQhOFarypqpSr6tey6tKr6EBHKKqsGvatAEqOsDGuEpb3KKOCCrauSsKpWoWqaomo8umtCo2t2S8u2u6t2tWritCHWtqqOte3ytOuaJ6pysKtCFqusB6psHz1fghAIuiGBWQpAvX10OOB-mElEg1EGEIoBu9Fph+teWAvHxP2oA8AACsQwuZga8pQaaUNq2LfrgL7Y5J5VbKwhIaEbPMIQsBYa-rQVxsQdzpPp70LUOh7ZGajNib7SZKW9IBiAH1mIlK4rubebmZ2aOaDKW8LLJBYBIBGKJapaRbRbDKtBLKABRDiiW5W+Wjmz6AAOVUG1pyt1u1tbI5u+sQy0zxvgsXT7GMIxsKCxoeVqssOLVJtptNqCxdvd0tGGVtpSHto2sJsNAhotv+qtsDFpjOSaQajhstpxWIChSpMPFwMjpiGkzkW8EuSLORtUDUCc2iCZjzO5VJtQqyCFAwtxSvMKD7j1kqDCAcyRnrKAWLMx1wJR2ZVlJLL6G40yzkT0FJrol0MGC5PNujpDoD35K7ujiy17uDqIqqmRBRrRo0KHo9vTDQX0IrrCBHOlKbqFE2gkPOB0DVlyO0QnKFFC2xGAXbubqUITysiTy-PXh-O4EwAAr6loCiFUAoEkHZkMFfGEkYCMgW1wNEs8G8GMlLhbCAanTyifjkkFOYSyE7E+MkBWIdk2NmIBPAZwuwIQeo2gb2zkigaPzRWElZmrz4iaj+ILiTtIFIHcH5iPgMBuVoYKoYHGL0E-tICrMBBGKfh4e5K+PGM4c1qkR4b+ioY7jOUSnIGZl8HQfjo0KrukeFosBs0xHNKoc+OaMeJIdwlkHIfHSxqUdmGZgUZ+SWJMEBEQpMZZlrxYA4fzmAdcHTL7l2z4blkBB-kMR5Fca2E2BwQ-VbhdFcbMCCDwLdBCdABGqBAfnBB-ifiwYccmG4dienTfsZAjC-p-srH-qMlcZXVPX9luLjijF8e2HpQeHRA6TKlMRCeNr4e0fGOUdse8HsZ1DrTqe+P6RGNQYhMkmkhpRPxMVKcccWP7LcR6ceOafGFacSeCbriSYAjGPpXBE8bcQzRseaP4vjqDvsAvTsfwZSBkWEPyZgfNr2fUkBHYsGHOnacca7JbBCd2ZkZacYBYF20CSocWfiaBAAHJUG+5Pj-mvG0G3jMHXHrGLnv6RxGB1J2ZYWnHcSygnhQGfAdR4XFrRaxayqchmaUxHVljq5hQUx+RvBiWXJ+YbpDnH5zmXnEmMXi0XQGXnn9nWmPnaXZH0WYWuqhg3RmWOWWYGWv8xAs6c7SA86vadUGoDIU561EXalY4Q5So3G7KcXinNx7Zqn-IoxlWN7QgsbRWqRxXKAmYqNpXrpqQFG5XqX35P50RlWfnPpYm-ogz+mmCCIbXCiykCJhXnAMX5Rtk8JzXZXlXvNCnZp1X2FlWpyDS57GTXsf4+noEqm57hnApo3ez0n-tCIZXqQExRkyUsb-X4RA3g3LWLjE1FhhSPTj8TdKy4irmuK1nChUiuLEmc2LXZAuhblZIs4ygO2U583oVPWkFa3Xx43ThAR+KfmB283u264QX+763J3DXc6TXJWbRm3ktOKs0l3qw9WbADXs6jWJWzXZ3FGFno32XhC93FQg7c2u2E0XSWM30fNXB3Wq2pyvwnX7Yk2pIP3q3QAX3utosOMfXn067epvVnhQ2wjeZhCHWzmdREO9sZzSo5y3UPU03nBoO0CppGRSY5XqDAK22UPt3aCPWQW0OCIMP1lPSGcix37SZTk7xSXGBKxyAa4vBZoOhgwDhYP1HZ44QfUiOG22PhQj99hu2832PXxqUBOa2dQICuZrX48wAG5vAg8WhQIIa3NJRFz2hyA3zPy2BSBhgRJa9QA1pHlZBeo1oM8M8EEI7qQDI9BdI4RBg7A-RGAOgFM-kJKygvPHVfP6mAc06H1OgCnol1A3OZAPOvYdQgufOlZjb2TEuQxgvkjfEMsXPSBYv4uXQkuQvgSxAzZtOsg9AY1HtsdIFyvfUSKYq6uTMXSQ1QSgF8vJAeBBh3PJAJoFTCViUPA6uyV+RXOeuuveWWwocLhQJAPUhkVBvhu4jWbOgpzUycQVuOhM3rBgPtzrBCUiuRvcuOv+AHmiRCAhvHw5uBzkVDvlvwuma1vBEvxNvtvXTdSUznvZ43Qiv7yRMf43SduYT6Z6AyWOuJuevTuMSRwnuBuLulvVy6Axu4vOuzusdg5auru-ukUbP4fHwqzNunv1j7ALgpuauZusgD28phDzpxuIa23IfmybRA6h7QgXRpu6uOs8pdvPv9Sza7vEfkeWYoeZw8fZvsf5vHk7vThCeAs7NCh6zSfzvLudOsB5f7ThDhDGfofqMqeJVReVfEGPR1egOPvmdFfCuMufOmeYe3uxMAeIPwygYVKtAzP6snuhJuH-4wSt2RtQc2vFhuMP42AG2YhZB2PffVtxBQf2PJiZkDifAWBaP3VnANPMEVy6vtSgea2XfyAzP8Kza0+tP8fXsyvHxKuqhCVDOyUi+OPy+p2A-8wCK9PXta-Xw6vmiw+yX8xlCf9zYYgYpYgFsbfqNiOd2fBh+dfV8PAB+iyFs9AZ+5EZjcCdRF-B-Jgj81+5+Dct-dBcCXRd+N+6YkZD-JAU6rCcGzwdOmAHCx-Ru8vJ+3Cj9W6DhJ+Fcb-bSx+0i+-D-L-HwR-i0T-SDhSDD59gzwbSdDh-xkhhcFyXQRcJIHM5yIsgjAGNHeD9CLBmkHrBUsRkoThhrWe3LNqSkP43ZZ+ZBc-iaRo5QCJefyYgfd2DARcOgzOJ+CQFgFMIEBuLZAfWkGBuFmcH8dAepFP6qpD+13HbrqRwHcQs00bAgV+GEL8DEm0bcAg3HUgUdP22PHnuxgbClQ3ugPIDoJwbByDlWvrNBtkBYARsfUzKYMGGDhDjo6AE3SwYpQTB0A+ucHE6M4zxLdQfm9g6wV0CcGVcQWwhFkt1D16VcNqGxEwWYNRxeCbBUQcITOCCGs82SUQnwRNCgIEdGAWQbOmBCsE2C7B8gBwckMRatxbBKrJIdIH4B+DNMAQhCMUOCEFUYgteDIaCiSF6BShvgkRr4hCG1UwhjwJXgYG6gWQzk3Q0wfgDDBGARINKP6LgRGFaAmUkQOwI8DkbhD7aMFJWHflGGzChhiwx4IUPTJDCVWGmPbPUPTrZAmheQ7wQXUEQskYh2wvVp0K8rTCZGsoOYSYK2GmDkI8w95gMI4KeFUc9yRdL0AxiT8cIBsKgZdjNq0D+8pAqkuQK-iP9TCSuTSLQJl4PcjMPzF-n-2v7AjuBphfwTMO8AuYjKbvQQTvyhHFosRVAowcsEeFOBJAhImolSMGDki3CY-Q0g23wBahOgIxH5oCHZGEhORVHPaDFwZGgBgRZgH5oaRdyaYIgi4XuloDFFnMX+Z-RQMWABGSxhRTInEVKKkCa85RfjBYMIVFEzs8RNIukd7CpHtCpELoUUXr0ERUja8BI13jUR1DmibRHNHUNaISHcpnSILHkRyOZpGDKSWQTjlNmuH2N88X-NtnlTuH7ZSgJXaqKMEMizQXM4nUpjJxhCDB-Wwo-1syN5xm06RK0YlEajJR2j8RtIx0XoEzFaAbkaYxoIPSxYipsx8IvQTiHzGGpSUbIv0ZHzUwHCjmwMGYkGMgibDWxSUDVEYMICyAz+adPCLKNrDNjtYrxWIM6LlFxjQAhnZ4QsPc4Q84uzgh7GbRByGd8uW4uELfjnGwgCeKIzoLghjFyBuSdAIwQP18iSAeuKIGcVVzNrucyUS40wAiN5gyj3OZgPhrE25LudwoQY0AC0QAASytSQAAEFwA4AZWgACUWikAAAPLa1kAr2RQq-XwD2AzOs0GsXVhLFOBsRt-FwfMHHFjAHx044ibSh+ZrjqJ+bQifQBnH2j2Wa49QJAhTH+gj8HE0oARPD6eYQh5E5wJBOglwSEJyEtCRhN4kk9GJ0nQSQVlYn4jcCa4zYdRKfEo8XxtE4tHyGYl7IhhLHLuAPwElkslJtE0iZ-xEnGCehDwrGlymBHuBkqkxMziGG0hJjTJsnQKI5KT6cVqRcdKgVT1wl59LK3EliRZKoGbQwJA6VcH6BICWdXsAABiUJ3hH0aydqJSzMF1JKwlAA4AXkylxS0hZKGKbqnbyWdxiPAH8TiBKlRR4p3gI-GbDSlMIr+FXSfjVIVYlNIIuU7Qm20BDOtx+aqTKR1KDy5S0eUDFcXYGkjNTHwUgGIINMQZgigs7UyNq+FykKEziGU1cMNJyl5Sosd4GIWMDWTqAjICnQoDFhlGhsfET8RqRtPn6QDlpMcTqS5m6lzZnkpHSjn72EIHTJAR0uQEZGQ4esLRbPOwIdOOnewr2c2LQY7z+TfTfpRkEqSuODDmDfOyIXIJALhFkTgeSMWGWDNH6fdxBF0mjL4jFKCiygk-PBgQJral4ZAdva1FuV56FArsJApfmQJcwX9oBQAiVF+A8Dnj6BTNUkk-HZGsZSSH8HGX9IX5QiRcHgEQa6TV7qCTyOJBDvKJFRPwxZ-0tgj8jCZqzwZI7NJELNkDaDoZsObWYYOAEShFRfwjFMRFAgYjKeoZUEbmKCwQjT+MI9EBjNtJRZ30xA6JrL0+4vdiAcxMsSFIlksyqSQg0kXWPrHWBrQlk6wuM1N5bkCZeA60Hig5p4BdMGcn+FdihHMz1+k4w8rCPUCxzse3MnOT7IvGMC-eJAQOaaOH6ejIRocqWRHLV42Z5ePA7Lt6y8K2zoBMcikZ1lYw48WhMgZGVIECi9z3ZFM-gunMzk9YGwvovkf6P7m2of4QGH4T3Tf5Fy+59vCTL1GrkAkg5bvRYBN0WBQ8cxp4qAdw15FZBma3Iq+fyM0zRd+2x8iaOKP5QgtpReAo+crO3YWzFAVsmkDbKPkQ1T5mow4bgJ8Anzv5NLX+UsApIAKKuJ8iGhN2ZFFUwAGc3TO-O1Ftsv5eot6VmkgU-M95LMU0S6C-mujN6boSBeQtCBEKD5TohCGQvrl5RnRE0ahSKm9GaZ5518qxmbMiglTfAxWeUtZNOhURsogikEYCBKl4cJQaYUMOOKjAIyx+ckBGavhqnUpFFwitwfLGnA-dKWnYR1i3nUBHS4Q-aEcHE00xwNdFRvFcZHVwj8KSpGY7ltxH8mOLvALMM+XzyCyhhsgLmEqcVNlBWkFss03IAjKiyEpaFbYjDP0loWmjKxLiz0bIo0CmJvFVWBGWwrCCNiHCVUiiQHP3mRKOxC8rseyR7FhBV0FKMYBi3ml6Q3Y6kFJb4r0U2jAx9gQcaGL0ARKRxRqAYWBLEmSBEJiyAADLK1MJ14lKV3DwmWUSpAkCKR4r+SUTJxwYGicaLolnMGJU4hMJMuUlOB2JJPTiZtKSgV9j+vUPiZAg2W4EelfSwZeAFkmWh5JeyqZUstwJDCIhPdLlGpNaUaTnxnUHSektCCSLKWBk0MeCCp5vKPhzRfqX8qyAAqPh4IGxRchZgbLplphMfk8rsnjCuUfi2qpMVsV7Kql9PFxYFK5TBT8JCKpZcXJXE0h0Uq4SpXEvtGxz1x7zZFaGOsSjD7JeUVkV5R8RPLu6XQZoczgfQKSzJdWGlfiOLk2joxkdDZcKpImRTY855PYUYOAzQs3FFY7lnSr2GLT-sO0YQGSgPHQcVVbi3SYqoxZZ9PYWqkgLzPNSoizmFKtCkqthb6rYWaq0MeyzNW5BlOAkflnKudX3jglCy8vuaLH6+YvmX4zWQEHmx4CQ15KzjnYE8k5TnpU4jhsxJjTiDqJ5fMKUTMZnvi4uZKD5VpM6jpq3uhKOho0WFxhT6VPtcrCCpeHucSW+kwydj0WBuZ8utaxSbQChUmCu8viE5sxMGDRji1k02tMxPpWAd5ZQaIfL1EMCOpf8mUlOtRKqVvj3aSyslIkvkWBRQlmIFNVOP9UPLYeWaroq9lzUsxtJDywtWbX7XC4apQwitRKirUbi4uKBf5fWre6Nq+gNailpCsMl6thCDix5AVXPVyhL1zq59mb23mv0pOey5EPVDCmJrW1tKQNVIH4Xpr45oQJ+OBsQ1JqQW4G6DQWsOUUgsNzEmDYKrg34pJ1MastbOoTU4bPF-2TIAKq8n0AyUPSiSUhJQnoSrlmIJjfBJY3SThl3a2Db2oKq0bY1BWF0l+EBAAIeF46vDbxxxUaLMQpG6dauAo0LL51YSwvnIC6CTLGNUE3pQMqGVRZzlem3jW2x-XRihNky0TZpHE3aRJNr9M9GOVkTI1wUkaHYQLBc134DyaYJzSIHrR+dYcAM6eEfnHheboQlbPzZ7BUGSM-Yo5C9HJW83ehfNrmsoO5tw0ShkMcW6EIlqUVsEi0QWmtGuAkDxaVOLmsfpFtXyPodA7kLoJUpK3WSAtkjM5F5uoBzSQtIgDQl6o+GItt6rWhLT1q5gqsOtJgkFk1rmnBbaARWgSH1tejkKjV3LbDD3EtB9a9AU2ulCb3tKDbthm0F9c0VxbLFZtbi+2CNtpSjKkYcW5rbkAy1tanVnW+DTFpZiXaEtD2-rT8xKW2sjh6Qk4VkPyEXCpE+2+1elsK2Zant02qAcOpcRrbf1G1M7aNvy3A6WhgOtratrZIbbPhoobbeJsYB7a10dq-miKMK3naKaqUmQJVraRipQd6q6ySipZVoqvRe5Tymr0EQBds02OypRVqq046km02phesX7HNKQxoK50gggh1qYmlwY+lTaWowtzuScscHSkBR1dh0dRLLHeUpx32w2dfEQnc2jwghg3MMHLAdZKwyQCRyh9JGiVFPqAEjBq7Y1qa1VRk75dlMDRh8OZVaBWVUidla4l8g662koAwMOAOeBck7m1DWOeksNzcCwqrPGcsoEjlRyXUKyOjn5M0LcUDkDxUYi3LW2Agrdp7MBDCtC6i6WlAu0BWkhl2uJ5daOptRnuPZrsbdOqZXfDj4iq7Bgme9dlRgpqEphIQbFSlYLJQABOKoHeE72KVxd4W-vRIFUr0qz+teXwIMGI2ik32SLXwBmpExiDkUzgOIolKJ42AB96kX5r8xTBoB99JqzcgPIZnWAt9iTQwDLNCBb7x9zEMBk8uQjFpnAhyQ-A73t5X7R9Vgm-ZPo0Lt6Ct8lKwTYrkDGLTFzwaUFOuu0mCphthIYWXompGLFKIB2vbOgb2SggDCB8YLnk11Ixz2HOmIC+qyLeB0gNIFRo7M1Vkpi2WyFoEG3Payie4oB4gC+s+IVAYVns5FB8kYBEG+aUTSdjSGKLCgnuZ+wEAckOTntQAGLaPowb9SBUa6P8M-dM2pVGgE5x+nQe+jLWcdzYYwKTuOh2iL6wgaGzKY6mE2BR8NsG0-HCxlnvp2DnB5mNwdexfQ+RjIcEAQMEPCHk9YUyULx0vGuGDkIoJQ7ah0GjqUgLh7w2Ie5ZEoSUDAbwz4ex7X7NhnKpla7tp2ghnJbJeQ3NoSE+7GQfuiscHseRR6CABVSZDaL+1ws-ovOsXZsLlgARDsvCxOAeRyB0A1kYDPA25gXVkHXsFB0tjQb5SyAnkDBvTksWYOAcDS-KEHCUZyN9jdAA4-nS8KqOWa0yAsKwll23bAgTidImYiKK0CqBPGNmDZlC0qWZGqAR8HaL2ybBLHi0oegoxtUmQ+qmERHTRTrEQJ9BIBfU05DgcqW-NxOegGPQAB0sAiGyesynUP4BHU9jGXYlVCo-IRUu+oEFYYpIIUsA7xubZ8bTHfGo5fxgE8jPGA1wQTbzWUVmkIBZFi08XYQoSdAAAAvQOtYD+N6HATXQYE6CcuPxdKTUJ8rDCcBBwnZA+YeXjcHqP0AmjPgT43SexPWJGTg1G5oYuWIeBlipAZYszUNC-MIQeAJE8qqFNYmGTeJ8U6qzgNSmZTcpmFeyZFBAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32tyDwpb-WIBR5xFoJSWS7gaX+j9ZpKnyMocdmSG6aAE0otj2nxOWn8TaS9snA2DOUiElM1ngN+BQ-a0TdgunOYDVDeTBG70GILaFQ2RktNLKsBMoG0mgtbvg95w9r6W18L+pyZGUzZQ4fo4G-Dine1Vmdg5bc7INOA0HCDWLbzyZ0lRjGuUU6U43VMPgfEPBbNxdAI1-GsTkvtYyZ1-EoresNbJMjSmeJhv9I61lfEABmJtGXj0f2g0Z692aFOEYi32zb9W95uc28LNrC373biO5ob2qHnGba-rg8ghmDCBD47hazD97t9ejk99WeDX7bYY3+u7JbnHZ3+3nb2F3A3eYKeDvrQD8j8zOzD2DcnbB2OFj9t5YnGHPfOxjoryr25Ic1iJpHJqPMyZcyF3bYWlMHbK9uVxx2GZudcbT2a7rWceeni-NouO96+JUrT4LVgvsHsp3j6E+EmwiNa8T+nt6mdzb7f+BXLx2ciFU1JkG3O4M7pY9LxHbyXrzf40BgDaXQPOPmi9agb1gck6x7ap3COV2-ewQtbwHuXefb-f74XDNIeO+d7D3Cc7g8vK5Q1HlfL2CCq4CKtAy2j19BhuFak-rZrXjjbJLPogZcneVChOLig9PWUNJoUpfzCu4V5+xTi3FeJxenrM0AVezA2Vr45h5Zu94XGb1xHSbfy7oVzzt1X7r8BVRH63tyOurCqe7wZyfiqRtTjG3P0APWQ+64an4gJ+Ap+Xe30t3fE2D8r6P3pAyPlT+b-P6MHfmhVsl452XwOPCyW0GSmfoGrzsMlBgLklEZJNkPgFkHMClBoASrntuFniPcqANuCATUMvhLglL9MlIYnAc-lbqlgBvdOlt9GQFkHCF4FUjUj5DmAQVHgBhygNH9ryumnQdWiDvBkwR0uQdQA4MpIBFZKIGDNvNwoGsGuhEIQPl+M-Imi4MAtQQ-kZE7HYu+OtgMt-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-kyFfGtuCUyZKEJA3w6MLA-2AgymNE8TErHLtMc2GhMk6k+OK3Omnrolgblk1UQow40sUEyAiE+Uy9KM4CeOPMSQ3CTOA3L5OXLltJlkws+o+8ZMwWME+uKE9ZnM+E-5IsZnC+PE2aNtAczaNuFJSYwHXo9M0c1g8sCSBIW022FMxdcGgLu6jOtE6KQBlk88149mm8wk3YLY94N8z0AowAOQkMLj-HIs0OwunHROBN3MwMeiMA2hhgEsRNu5k5JBoPlNEtK3m1XbDBjC7HmVVRHjkC7FYjrgstVSwx3AvjvMIu6NeOUv4tjUJoAZUvnRTOQuMAsDRS3MvOCvrjCtzpivgv8xiv+FWDV212kD12HJQaERJjAyvQkua7dOMjcgxP639ry6mvkaaBDO1Zmu0hqNBCI2aswjauUAo7YF0gGuwg+NGu8tnB9BrPmvYO84lO3bmarNsFOsytj35DqugBUvFCXjUj6teiwhGu9I3ydONg2sLDmsLnmlH71nL2BArMVotD2vSiOv5CvlRCQ2+sOA8QgROyI3JvnipvpvAz+uFv-wS71RxYQqyP-PYMSEzo+sZvNu+7vS5Pk6TvAyuogT+Q0Oqb1lVNSVjvMBTtLuLSrslvjqyNut12eu6sYFjt5HrOw0ImzKus13us6vevbs9ujFLR1uBt5gSFrsInY1Nu7vaPsLFQKzcxpotCFumk85XYRv7xRuVtKB9uAfywQeBm0gOL91vJNQtRZs8P04SGhttgzr4fChdEVTcgrmHgnifnDMMyYfoU6PgHMLYfWOu54dOvYNzpEdBuWWvTke1RUcOsiAMcvYvphmwjstyLkDUDKT3DRoTCILmsGEJrNTwdOuyNsuMAss6OyeYhicadyJi4Kc4ckWIJCdvvpZ4BO7rjgpbD-Ao2oLtjrkurkC4BgC8qAWkCep1gGigDLbQQOBvLLZp5p7+Cid0BJiKAqjeOxQDCMBjDcPMf07Y6mAxdxdjOgCi15TtPMwyAReiBRczozrJc9GpcfslhztFexfZE3PblhekC5dRdzoVcleJtuY2d3CKD+rBJJgYhtetR81XbDy9dTy+kDTBkwn1e2A8CaCRe2ATbZn9ZY10CEClC9dOxYjhczdTciuIb1K7aMPDlcx+fLerdpEZdjALk5n9Jnf9vmxAfzdBDPxNdrewgbd5ezcgssbHefL1tEj+xPenfl1Sx5QXcfCzTXdXQHn3c9CzSNeTDFcHeSmmhSk9RImib0DssTdbczeirRkegg-PxLcrefLPe1eY8fcdy7e9c-djksSE8nfxpncg9EJmC7Y7fdeVC9eX32gSHuqbco2XvY+4-3nOsaRzqU-ffU8jl3cplPxY3-c1evcgI4-bdWJff7c3c0-QT-cM+A9C3nemlbw9Ctms+q9E+2dYCG-UkSESGC+dk1Ai8uSLpq93C+aW+gCQ8y8fDG+w8pdC8I9+lvklyo99b6XyAeeUIg-GayNjcFDXN6KDTQkFCzKxBsBpHbg5QOAadx+mShAZ-ssHGXEVQsC8eUegCWc-Jbm9d7ko8fmgCh-kAecP1Y3l-WfE+yStefIdfvjPxOdOwt-9i9cXUx-5DFqUX2eyT98Sed-p-o9Z-p3OKc45TkheB4HqK2d294+KcSEkZ+86OlBL-0kkZxIH9eCj0zr79-Sn978n+mMjIX-L9+qKdzr39yoYWgAv9UGl2FE79MAeGKfrd1cf+fhQfAzAqSz0f+KBJwlv0vaL9L+3gCAXATtY2FE2FwNREx1r7FZ9seIMjsUxE4OpU6Iwa4AjBwEWFGkq5UfDxDUS2BPOOkO4IwH9RgYncXYVTp7xzY-AA2UPYwF4hv4+Ib+JddyOeVpBICPCGvWvh-08CTkzuBZdLuQNbxUCaBYwOgTx1-6ulO8sQAYPkBtDiDg44gyXoVBNJsDWO77TgQOwkIaCbQhHWNpoHMHk5C2-vD3naX6TcgNeyPd3glysA2DzWibI4uahYCYhN6Y+CYNMCKBow6AW3IITpVdR0A5uRnYNrajCEWsIhIQniNEI640Nx2oOHrFzyiAddjqPgxIP4JaiBDHAkQzhr4JN7KAshx9d0kkKiETY3+OUA0HcBrpfJghoQ8ISUOSH2AYh7guIWTgSHYNahKQ0VGkI+aiV0GmQh3tBFqqNCK65qUiEMMUBDDuhHXbIRpFyGdV8hfgxdD1khID0YY5Q-ANMFUDe1KI8XWvkcPkDaR7YpgRIAY3KHk0SAt2Jhm8kuHmNOgNw3wfcMSAktiSBwn4dgzsQJMRgcwloQ8DaGIIronJf4dKzWEbDwqbw64VsO+HbChMMI3zO0j6xgCeIkEE9BIg1g-9xQGgFQfeV6TcC4BvAuAfwLIjWkgByA3oeIMkG69pY2DbEavwwx6V5Awg1QWMN1DvDLAtgByuH20F38b+50IkdyPvKJs+RBodyEKNaJ8jORxIqAbEItJp98Au6YWmW06LbgNRy8YWjQ2y4dxFRdfeQHoGwYWkMUYw1ATMErxmjtRZJcemPlxEiR8RyIE0RKJJFxtYIl7PkXoHDRBpL2RIi1jKPXByiw+rROdH6LWH2g50wYmMWaFDECj5R5TaMdUIcgzp4x6Y0yE4Tja6jNR9LbwXKjuCScqUMIgKqPQkLVV4Rc0DaGtjAzepkwmIdyOpx6a6cXgmgZNiaOTYqitkWNeUYHCW6SQnYSY8MQ31aJdiuRNXcTrQE0DZjTIPY+kbXwHGpRZGeou4PS0BF9wxhlBZ+mYHMTliVxvICSH-HQ57xCA-BJfjSDtG8YMBMLLRqmLNH1jnETnT4XcMi5Y88uPQh7otydhOd6un4ooNfl6FvwdeEwIHmMD9B2JqidAFAeXTTYzdGgN4zrljUi5OwJ2Zox5JjjQGRc9ACjEptUUi4LISxoAPogAAlDatgAAILgBwAhtAAEp9FIAAAeQtrIBZIqhDPPgDMAecdOmfChKOMlGj0LxOFeCTeNlEWtXxV46kEu3bGYJxJYYuNq+JkCVBWxmCHRspPbh8SZx9AXIbEPImUSaJdExiSxLYkaSWe0k2SfxPkmjjR6r45EdJNsCISustkqqGpNoA3gtheA5xFLBbZyTYkgkr0Ypy2FkRjhiNOhESJVQFUDiHnSYDkGbHaS9OhwSKcX1yL8jiAQkhMdxPHGJSBJVwsMUJOfF9ZTADcdDJ8jsA5QIoEkUkZ4jl7VTChebcFJQEgkcT7iZYeqSayamIIRuziA4fcGPAyAUwhnU0FmjQEKcxEGhahLlGPBlT-gygrljJ2tZdSOinzS9pxzK4SE+ptgAadIE8x-pC2CYqIFtJ2kpgOOsbFafGzQ619jpg0qqS70TYTAihcXacAWyEGdk1+dwISb0gGg3Tdpe0EHmwLGkRx7QMpd0Dlx-7C8TB102GMXgh4mlPeywLxJSIf7UjzyQk0QdDxTilAmR4EvXvyVCAaj5Y-JWIL9JTAiioMcSPQYjw3gODk4mOPDuaIcihBSZ5TSGTkxZkcdSu1XQmQ4BcHvl7CCaUwP1NuleCzxoAp0TiOcCcQGQc0hATGV7E-jnajI2SNoK-60iGGn0r0fHH9iMiimjPebmD2IAbFBREY4-lSNFFwDzo84wINUHRmjlIegM20dUBFjuk8Aw8d2VbCxrKz3+fAtWemltlayRpWMngXrOZGZcoEMg42SmJ37WzyZNQM2Q-0ugbxk5HpGwrAjHpBF2RnyaMujMQ5MR-Yj0hBHYEOABy6RHhWwm7I9mEkU4+Y-UYWLzmHlq5TgiWVnPX4BzgBQfTEW8hIBRzTZ+QLbvkGV4KyBZaoqpuuINFtha5G47PnmCNGV4B5E2C0UIWhbsD+5jMvltiJLpSy+CcIOaf3JRpDy051ouwGgMHnryYom83EdLN3ntdB5KNLblAPqpgB3Zw8Fedbx6wpMI0Po3aGfOwY9ywSJs8cfOyqHukoxE2Q6T0H-kgIUxE7EBXrWWATtwF1szEjYTzHjz65XcqAu1Pa7RY1SinTAUgR8BMJiRaBaqZgQ2BTALxjIBaWf1wZ3TheOjBacfhtA0L8FkTcnI12qkrs2wvOGQANKKA3oYZpTMYV5gAw0K9h5uTOpiGwVKAFpnYoVjqHymWB5FCrGkX-1qnO0pg5qdyAtKdglSnSJGCqQsBoVBIsaUCwcSeKdiZxzFKYycelIgUfAKFsgA3FopIQ0KHFywRcSIN6HmLVx6ogsTPJZBAixhpMPFgq3oXMLEYzQnRVwogW7iSxB424aE18XHiooa2EiQZNsD0TdwAAGUNrsTax7cNQswR4nuUFpRoQKcPLpwSxLxYk2ydgyknwTXU5ShSZYCUks8VJMio0G-00mVAWlo9TJdkryXgBzJowSyTxBaW2TgpMIwoVvToT2Tyxjk5ya0r8geKegpCu4J5JhEvgExCypJRdWg4bLRAWypJTy0TbF1JlSijKUFNiEhS3h4UjSLos6oHFi6EoBafQv572KvRWU0pV0pWWFSixrde4FS0UB2LZRkot8dK2mVJLQp8gB5T0DVHhUroIUmejxEWGd5fJuU+SWCoKnfLO8NYi5dVKNA4rlFXo8WjeXRGJtQlIKqlhCq2EoTnaroCmrJH-G0dQVQrc6NuGpVCtq+A7JlSQBxlZQ8ZbYOEECrCUEt2VCrOleiJob8qFgpnSVcS2lVJKipsufgRMGpCd8-RbCm4fqgwk+ZDUGqPoGgP1USK94KgHojJ38nuRS60kqRtav9RsDpJnfdyX5Hx6oS8uTsJZW9yQmur-ez8ARhuCMhYrElvg6OoQj2VfDIubk61Sct8G8qgg+QVBPVxjXWSPJXktYV82tWaAaxgakqc9GtWQrqetMwqCAJEAWrTAMi6kXatYUaLRIo4p2E4qoWHATFaQJ1fBK1VXLgZZpD1SMVkjeqQESE2yRrwDUWB81VarYeGpciRr3xeXTltVLjWJAE1gQJNXiGjWoEFpi6lgB3m56Xs5F0w46nmuDVML6VvpEtSj0wUMxtOTCnoiGoWB+qdV7yh9dg2vXVT7VaavyDQ206ur31Okt-t+utW-qkpRFUWBWqtUfrq1Ykv1aYudoVA-JH6tJJkqMkMSmJrEkZWkCQ20SUNpkgpVmo-U5raqcGu9Qjlr7bhcgATMtUXTGATK31tatIGBqrW2qxJraxWaJCI3lKnYgy3JfkvjhcbhlI4vddVII3HV2NRK30rNDI05AKNl6zLIqX5gbACaDUV6OcIFnKVlNb-P7AptQjqbFOlg53Iwqei-RFNQgN9ipuqUq91NOjZHPzE0rGaJ8E0X4bagc06M-stm7TQ5t037SzoBmqcG5pM06bYhZ0-TZRrmiiBPAT4HiCCo82xC9NnuCBrQAJrUBKpWmkzcqt8Eksb6ICFLRPmy0vYLWFKpJTQwU1JbjFhm3LUaHK1TDUU9KYFUKxDijBctiMBLahHegW89aBW9LWtlXUXU6WuxblQqzAIJaSt8-EPjYES2VS-Nh9NLT8J1WZbxgY2pTZNry1biYE1okEYwGaELDOhaMOhP1olWuaFtQgJYYdsPrnQOtPwk0G7wSq1VbNJWx6L5pO0vZjtdAOzXlsu0rFzt0rJtN1rI2MA+tNW8VbpTr5jbhtxS+3GFoOhOQSRRa6FYcLCne06EiKtrcsDU17abQuUcLRw0B35NWt8Cw4sWP3Flj9luY-wFdpZDxLCdkKl8hby3i2INo72syK4XpW0wftzLf7W4CfCA6BcGOp8CNreQ0hJgqCFTnW0U66wcBchZ+vjSpDv15yibY9h6y9YjIodn2puFeRmX3KEdZoJHZpBkkCMEYGfHmkQKUDH0gWi0M7VIWPqGI7WyVdMdx3EBzi8dxgaqBRzqh8j3pW5PYjTqu3bh5dj7e6DyzS4U7SxVOpwu0zsTZCVdLO5NT7vvYntFdoBKqGjoFy+7T24cNQs-CVBpt9KwQp2AAE53wA0bPTpSp1mbB2byIvSAhCkUg1UKgTQCBr9ggdSWkKbtZKQMEsQrAaRAAAxM9AgFexQIi0RZVQ0Aw+5dbdyQ4Ize9NgAyuUxUBUyogFeyFSXQNAoiKhs+uvbeD3z2D+ZxgBfVXuX3sxM982rSsENVV7w+FOlQReFFriWrptUK1UUzphFR67K5+gRdmiEWJ6AdVLAXC-sv1SiM8C7WENjpyirqTC64coHCAsZkisaroJ2B2wvBbA02ABipTMAcAwRiAq6-4q+DOVtqWIyERgOAYpAjEim12fUYOhB597twd4e8EgaTZCtrA6B+zm1Diq91TQfeiVjSvXju94Zrg-2K6uzRSdSgMnajWjFdAt6ogr6zRLep-UAaINYuUQ-739h4GCDTUUAMQbhB3AyDJgig1QbvDTjgN7YYQ5BJ0N3guoXB6Xq4PPXz6p9wQi6sYfvBUtYoQ4kmnYeYMa9d95Y5FTMvhUaRtd9Cdg3VuzEG7tgRu0FZKJzX26CAtVGshArR2hH94BO4PciLsT+Qz1Ys3XD7mGB0BjwaqYA6ggZWiQYDskOA12yQN2jDQSgXI1JB2JYHqex5LuGkliOuhbsCR0NXcOSPibcytqCwlVyiCxNbi8ouVKaK2DxMN4srCFiCqCOECDoTRudt0fOhW7Ijx1GssRLMBiR6pAwEgN51kid6wdfWaaVWs6n9hmpekuIusdHxbG1jmiDY+to+I8AsJgaJhdcYNA6M3M+xo-j-yYWHG5EzUysZe2qYC4JCnxpaUcbGDk9W5LvdLEgex2ItWxigPHQAB0sAT6gITxEk5kQeioTcPXlSSqCRTIg+1Akob4J0csAUJkFTCfbFwn4FiJ5E09P4PompWdo3aIQBMLnQouEhZk6AAABeidUAIifEMom6T+ADEwsai7cncTLkfE9uEJMOBi0hvfqBkfoDZGtwMJgU2iaFMMnZqM8WlrsVKC7FSAuxelphERa0Q8ApJurSqdpNqnhTmpy1pIB1N6mDTPLSU11CAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkC85rjI+AxJQMI3t2EpYR4OFLDmTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7qAeKYgcVx6QdHCgmOqAwkANZjCu1CkNprYIS6yEGqhdSKT6u4aeRXz7r81HHkCu6RFoMhCqxd6uTIBFETStC2fBTZmSSopsRhvq0B0zGNOo+GETIxGBaRE7svZlGOUmzmYoUYSptFsW0PFvmJclxBeehzhpl0pWMEsdgHKln6aYekh2PgAI8Ap3qgDVCX1cWQXzG1HUAvwPU9tFA2SOoR4bDurW9O1DEAgAzF2EU+rIACOI5kKOC1kTiFFcoevK7ftpBgpNEo6WMl2ytdeR0CqLUNudgKPQdgKDMSr3GlVoDfddbl8UKAnbjYx3qiZ7YoYDVkEKshhgx5FovW9cGw02-23WIRGWgG4MWpDfiveO704qFAMFkDEQeYs5BwtIMh7U9h3kBTi12VJhClJjiO9REYao8T6OMpjlPYz6JRIfDxivZtd5pHIBlGc1VPpRcmWJvN5ApvphmVUj92SEbGtjjzOKfRbv3A8qQsUhb5vUGpsEy9+iHuuFKtSCJiw9KQm7DXuuvnTRfKLIHlDByx+POHRdVJQFW5WzDTpwy2HZO6ajA6GTR1pZnIVuqFna52IxDULN+cCdQizcxnCxy3oDe07eQOMYwqPhvo7dY1+OoD5XziE7XBdt43g+aS6I+eng84MPgzBsFAcCIMg6B8Dwlm9So0HuQCsrKDPvOyAoSjDpGsTMrlYQAPzWMS9+hAAXC3oLlK-NhP2r1DaUIIsN8SJhy2nEnIZEqIv7MkGCfEwP9rAfwiL2QM9FswQTTvERBoAn4H0gag0sGCQ40XgTg5BUgQIXnAiQ5UOC8HWigkuUC6CNwwmPsQU+5DKTEXNJLO+eVrAMPimaGU-DnJkMEaAChUViAxRhCVPyKcSJ0KkcIghhUFGQOTuVDhXCpEyOUrhHRqdv5qK0qoXSkh5x6CMdxCMvF+LlH6DgqRKQ7GqXUrA1xbjQiSMETIkGnMEHmPwazdmB0DBsyug9FoJNGSF1MHAzhISAkLAtmYwR6jzZq0Mno1JeUZE2QEVk0AYTikSJSdwiIAcg60OweY2p6l8GaD4noJOSjdGwLKSklxvj3HLUkmAgSfdEkmGSafAphQP7eGYGsZygIACqxBtLVwAO6wjhIyVQeFQAAFo9llOvnxViW1JTRzkOpYQgxRlY0oPgUAegIiEUoCwWKygxg2OEIaaWxdzmBxZi8t5VAPnWKqu0kgNy64QhsNUMpchZDiAeU8qQfoWCLGoCQLoXySA-LrDYXsWI6D83IMcI5h82l0U8RC4g4yfH9N8nxORShOGrFoEKPQ9L+k2DossBx9gnHfL6dy7lozhUit8UnVlzAxF9G+R6FIX4IiuTAXoIiJKpmlJVdBMYaYmV9HVXIUw9KP5YoYjEToVRYXwsRfi6wszqA+GuUCZZqzqAbIIEDZmiwZD7MOU0-MsLPR3jakMnVAlSp0AmVjLWzhq4TwjQRV6iCn5y0QR-ZYqw9AtKPt3Xu+ds1JvGT00+4r+mhsUMMtVSVLSjMLdPaNysgZhJqkVEE2jOmmNISk35SqviMBgjmtp-U6oNU6M4kthpXHqNac8EdflZFjOja4mZxy53TVHXNCd8DfbNsYUEl60bfn3MeQzdFzNwkxMxjGmYmkzWMWIJazEcL5CIpPSi7oVIiZxIlvrJWvy8pfiHc8PN373Icrxv0Hdz6bW+rtQS-0pLQORGMFBG0ZKfHAfaSjMD8S-3jOg3ld9yrHRoZgsh4kZGZB4p8V+CjfgqNWsKC+hFcHaOaTCQerlLUxY-ohpjKDKSmMpFqKEWoaEkYVskCQUR47pJN1vbzVu8nNW-1AGmwpoBM0+EBAAKhk7wx9HRdP2ykwZgURnvYqaNAASFCMGoGdBg7EGRIQfsxCYRjOPciiIB6OwAYQ+mB2isyVBLRvx5kwmwh9qUOelmfnyaqZSKm-mcgfEfwDrKJqznXPubYY0AS9HwMYzxnSiVYQnM5Fy6wq8-o9Bmy4+Vpr49xYRcSxXGDr62OAc0igxDaDnz1ONb4v+PJCF5dqy5+E1Z3TpYWFQsCHmVENP6aN-4C2auYJAf+JL0z1Opai+JveFIwkZO7afX5hLPFkpdtSyLmJCW5PUAwI4wMcuYom5ggSniYWBcMKAcz0pOgvdAGZkEhnx1PYRb92N5KNBH08WW3xjKsssuUGy2VtiDLPcGIDukwPG27qRuUx0+Te2aTNtqm0nKRVYZ8p25bSTuOCPgU24njDREQcqRd-FhKwFkqw5zi0VHt1CcxKI7bIuhdymm++bpYDo1Ra-GAon+9GEbcG+w87MaJey9ATqvQGuaGVj1-+JHNgsNG6W5BVV3T4Hm-tWLuF1gzktv60Q-LKVuc68M5L1V43Nubm284n+WGA+a9fLb5U0aHeTvCovKqy9V7sA3lwbeaA1rHYlM0Adzw8Ixq-Lsk4r2ogjlVxSM2Ni+Wgj4j3QYiPJ3k4+jyAq6LMXMvnL9Zn1fHF19AA36DnckZ9bb1isFVl2kF96xlM6PJ8ApjRRisfneE6eqsvYmvgqp-N9RmNefoBuqjzX96V27t8Db5tstPfgwJpH6lejmVHLz9N8v7v1a++Nrl7upYsYVOYJ6otAvxGhbz-zBEGAAMZFXxI1jBFzASALDln3Wx1RTFAJNl6lANkX1UNx1XgK9hdDgLZ33jIDVhpF0DRwxw5XgRf3mBdEHzOWQxXi-ioPxSHgQjoLvCehIL0iuX5SPXMHs0UxxG03aV4Lj0hEJRGDGEZgvRPgoItDJTliqDOUr35TEmrCjXvHDVwOENNw0OGVX0YKeG20K35SmAEL+R1EMOozv35SoxMNBDMOhkEJoLdCsMIJOzwiZVqmlXZRKwgT0Jx37ypCkJ7RYNallB0BGDUMVApmL1BwiKiOtGTTcSfmEJUJgX8MGCSOLQ8GCLR12xsA-iyF0CiN0LMAAB54iSjhhsDod6U8FGA5k9BAQAAVDICxYgOESUfOdwUmYGIBGOToD+QEUAAAalAGZwqyiBiB0HuS8X8LMHGPthGPGMmNCEMGiF0DmNqKVhNTKUaMdWaLaOoAIBkDWW6J0F6ISX6IuUoCGKBDGImKaxsA2JmO2LKMeOWMeLWJeOmK2PwHUmyPcPYgyEAWAVNxF1Nz4MxA4M4W6AyFEmYJ-jvEqy3EyM0OhwC0VWnz5gFjKJ+LwThP-lEh+L8WIOoFIJ0HIMfwxlZx+I-lN2OFOB1HxOeKES9myNJOkTexyG9jKMGHwOewVWYx-nfRPiZJL3OGkJZlkJpMgKxLCAdTWAgRTGWXSCxXU1BEDWY1gwVNCEJSsLJQYNUMIzcS-FRJENBGMMtKeDKzZJ5VsKrTcJhzCFEyDWcOcBPnhIbmzSdyzzEF1wgUhJVIxOhNCFhOUG9MRNCORMc2c2iMyACMxPg2xKU1SwTLqIlUJMjOJJp2eM4IpJmOpN8MljpIlQZIgQlK9lZPKyflkEtB1CSKyPUAKLSQtJnAWIFLdCBKizEyeMKDFM4SrMkNiyZhlJ8NlRvUKCVIzNVOIHVLkU1KeD9UlEM08hdL7K6z1L+yQ35SNJw2sRNLF18XNPjKsOtLcNjwlXPKdNMI3PdIfNhy9NzLoNwDACXiYFYBT04C3l4AwH9J9CBXeU+XBW+Wlhi3jCyjlUhSBCApBRuiPzgsoFBVeUDl-RDjAuthxh-DKHlXCkJSQtBQ-Ne3Olfk+g1HthsA1H6TtLCE+j1EousD1Bood0+m00Yq0xWEYBYrIpb0PA4sPB4sKE+mKFS3tlEtKCkVotCE+hijoEDlUDhHtjkoUq6MEWkpsE+iVMYqVN8Q0usE+mEhGFmg8DoF+iMuGBMoYDyn0tBxb1GI4psD0DwkGDhDMCOAAD5QBdlxi1LbLPo9lHLrBnLXL3KvLdlDk-LWKW8TNBgUgQrQA3LjhwrQBdNErrB-KW9gAgrHkXLEqwrvLQAwAoreL-hAQABSHKhKpKzywq8q9K0ATKsq4vRy6qgqovU4Ny6KsqgAQhOFarypqpSr6tey6tKr6EBHKKqsGvatAEqOsDGuEpb3KKOCCrauSsKpWoWqaomo8umtCo2t2S8u2u6t2tWritCHWtqqOte3ytOuaJ6pysKtCFqusB6psHz1fghAIuiGBWQpAvX10OOB-mElEg1EGEIoBu9Fph+teWAvHxP2oA8AACsQwuZga8pQaaUNq2LfrgL7Y5J5VbKwhIaEbPMIQsBYa-rQVxsQdzpPp70LUOh7ZGajNib7SZKW9IBiAH1mIlK4rubebmZ2aOaDKW8LLJBYBIBGKJapaRbRbDKtBLKABRDiiW5W+Wjmz6AAOVUG1pyt1u1tbI5u+sQy0zxvgsXT7GMIxsKCxoeVqssOLVJtptNqCxdvd0tGGVtpSHto2sJsNAhotv+qtsDFpjOSaQajhstpxWIChSpMPFwMjpiGkzkW8EuSLORtUDUCc2iCZjzO5VJtQqyCFAwtxSvMKD7j1kqDCAcyRnrKAWLMx1wJR2ZVlJLL6G40yzkT0FJrol0MGC5PNujpDoD35K7ujiy17uDqIqqmRBRrRo0KHo9vTDQX0IrrCBHOlKbqFE2gkPOB0DVlyO0QnKFFC2xGAXbubqUITysiTy-PXh-O4EwAAtACzpztIDzq9p1QagMhTnrVwJqVuLjijFKl2zWwmtqVjk3Htg6TKlMTAY3tCCxvfqpE-soCZio1-uumpHjsTUWE7B-hkWkgAZ-ggeaIfntghMkhIbAd2xmQIi-zEHZkYHiy2RaDwmwf-rAe81PX9mAZDjoYCwNLnsZNex-moegXRDgf8lAYImFP1LNsIj-upATFGTJSxpYbYe2U4eUZwY0LrTod7M9n7srLiMBHYrIc4qzR1D0ZTjUehVkizjKDsdUa6FuSnU01MerCrMBH4qsdcdkHcbriIePxNzMdOEBFQdzowe-ptEBACa4ppRPyhO4xQezrQa-qwcCbwYAc8b22EO8cVCDpUaCYTRdJYzfR81cCYPkanK-E+kob+iDJodqYIYqd1PgyA0YefTrt6m9WeB4bCN5mELAasZ1DGc0xnNKjnLdQ9RMQlAGbQKmkZFJgAeoMAqScmcKCfloPkdCemYIlmfWU9IZyLFoH1TMuBIDNUcYErHIBri8Fmg6GDAOCGcxC-AGfWfMf5G8GFCP32HcducrGpXeY9K9ggK5jyfjzAAbm8CDxaFAghrc0lEXPaHIDfM-LYFIGGBElr1ADWkeVkF6jWgzwzwQQjupAMj0F0jhEGDsD9EYA6AUz+QkrKAZcdWZeNqflZs6BXTKT2nUBpZkDpa9h1A5aZaVmNvZPFZDE5eSN8QyypdIGFdFZdAla5euecDNkRayD0BjUe2x0gV1d9RIpipNZMxdJDVBKAVVckB4EGFpckAmgVMJWJQ8BNbJX5GpadYdaGDdChwuFAgUaKGRXdc9biN5Y6CnNTJxCjeMesEqe6zcUJQ1a9eVbtf4C7OzkIA9cfBDaI2RTTcjbTofU6BjcES-HjZ8STe3NjZcJbA1fvJEx-jdMTZhPpnoD+btb9adazYxJHArbddzYjdXLoB9ZFftezbKEDZNYLfCDDZHcfCrKjYrfWPsAuBbFncfCQcEWEPOl9YhqSb7ebJtEDqHtCBdG3eDfncTc6Z8VTblaZfTfHZVZPf9ZzbzZvYTdDceWLdOFXYCzs0KHrM3aJCXaRawGA-tOEOEPfbgN3fKxnAg6yA62g9AFrZTMEVA-VafY6FPcHZ-bE1bd6fDKBhUq0BxfqwraEl8f-jBISZFT-htcWG4w-jYHMZiFkDucY6zPEC7bucmJmQOJ8BYGOfdWcDhcwRXJNe1PbfBYo-IBxfwrNqk4ReXdex1cfH1aqEJXRbJTU-ue078ZY-zAIpRde0M9fBNeaK47+fzGUJ-3NhiBiliAWwI+ow2esZ8Hc4HesLpiRg8Bc6LIWz0CC7kRmNwJ1HC9c8mCPxi5C4NwS90FwJdGS7i4C96nS8kBTqsOwOYSyEGDcK8+9ZVd87cKP1boOF84VyYAcK87SKc-S-y7PCRb8+LQq76YpAiEXHWeGZOhnyon+BmaBEoa1f45LCoCPhG6sNx3nPby6EXEkFxbkSyEYBjTvD9EWGaXkYVOI0oXDDybrb6jNvS5u2C7INy5NKObq9tKI7+TO5LeDDLY6GZx5fm7HyW5W46DW-rSK9MOZw-i2-Umy9VXS9vYw91P2+4izSEaw-BeEOB+MibDofAIbnUj2faebch63Ph7+VKh-bbYw4+c0iR7AaYdhCiGyBYFmknuZWDDDDhHHToD9YZ8UoTDoBdf6+1lbhZ-AdADZ6Z66E5-1dCeEJZO6kQ8eQKo2Op9p59Xp-kHZ6aip8eDA4MEl4vbZMF454migNWcYCyGzrAkZ+Z9Z6V6F+kC55J7TLxO6isZ1+F-4FF803F4Qj56l-1Y2piFryN9BUd70Ed6t-1al6kS99qtl7V5nG6gsjOUj5p-wDDCMBEhpT+lwMT60CZUiDsEeF8Bz5p-tpgqVjvyT6z-j7z+p8AdcHTPj-540z2x9-TuyH94t-HR8RZNV5YE1vD68oz-IDL874r6j-hnz46wk33k8NR3uUXV6Axl85wgNlu88951O4u50HO4i8u5czy-K9MKV00ke4A9LaZqsaq5a53YF60H+4cLF8z+8BcyMqo9B6S7X+LQX+v7u664lGWH7-v8kEf5qI-9Bg7-Jfunz3LmN8AWoToCMSsaAhIBhIaAQc0FYuMr+l-fwFY0NIu5NMPXQ7j-zMCn9J+zKafsWFn6SwgBaAj-tRlCbPIkmeArYDsBoFZoF+-PH-rXgf6UcaiLoPAaHzyguhmBPAwoKwL-4ADkeBwbgVr25Q6h+BEg-pM6VCZwCoBzNCnsDBmJZAHmU2Qfvnga5JM8qPffbKUHG44sQw2kWaC5l+Z3Mow5gmEIMC0bcRF+tg4rivyCwACVoxKI1GSiEFOB-+HAvQLYPIFWDGgg9UWhKgcF78beOIFwYalJQQDFBvHZLPoLSyaZKSagyCOX0iFJQNUygwgLIBy5p08IvdLQFX2z4zFRBBQsKF-zEDots+1PVVr2xFbW9FGQWEHOi1qGOt6hLpc0iu2P5GZcECQ7knQGUEudfIkgJ1iiDKEGszatLMlLY0KH79eYvXWlmYCfiAhKG3JWluFDUGgAWiAACWVqSAAAguAHADK0AASi0UgAAB5bWsgFeyKFX6+AewDi1mjAsCsZQtgZQNwLZCxgQw-IZ4NpRWMqhPwtRi8Lqx-D6GoAKoeoEgQBD-QR+SEaUGeHcdPMXvbns4B2F7DDhxws4ZcOuFwiN2QIoFkiNeFgivOVQ8vj8JGGTsxhYIlMDCOIB7J4+pyO8A+kJF-NiRd-JwB8K87x9rESfLGlygX7uBkqkxIwYZFMGIi2RgUQUWJ04q-9ORoAxDg8KU6WU6RAkP4R8M2ibCB0q4P0CQHxavYAADEoTvCPo1k7UfmGMCgYgNIIlAA4AXgtFRQ9R3gMlNqN1Tt58W4xHgHMJxCujHRBvI-GbFNFMJWuerXzr6KtFB5bR2hJJisPtjCFwxAjSsLaOnbn8b243OwNJGDGPgpAMQNVBaImFBYExMca0S5ltEKEzi5o1cBGKTF2iosd4KnmMDWTqAjIYLQoDFl648MfET8QMRWNC4jcixdSGsdKxkSjN9mI2bzrqDsCNjmxpQ1Hj8QbGSAmxcgIyJj0IaKsykPTYjuCwXFLijIro8bsGAV7MtkQuQEbrv3q74p6xU4xcTOOX6ilqmTCbNDRl8RilkBqYwrmUmfEipPmuee7ne1x7M4rsG-WLrkMPJMEPhf46LAfy6HPcT+bJJ+JANYykkP4O4mcc-2pweAIexHGzJh3YwjMtm+AvjqhOXGzifkQQIYNeN3HexqM0rd+AQGewyBCepHP5MRJbHyNlBVXHLooAxTERQI74mSKGVAGXZV+m-dfq9my5Xcv454z-qkGRRncRqAOboeWwVJVtiAcxbwcqLC5r8Rc4PIIcEJsDWgIJ-Zf8axiRR8NHx1oPFBzTwC6ZbJP8K7Gv2AlFlJJ6IQyaAJ-Zfh5JR-WCUZi7GKT1JIg9zjIPQkwRdJUHGzMBzcJzYz+NXdQBBM6ymT30h4rLFIEChuTpJNEiwEVTAC2TdMP8L8AoIQFKCEptqfKRxkIHVdwwIYgSW5M67Edx+FIEgAFJ8GLA-Wiwfto4PCHzBDSMQoqXEMfi0RYhSAzQC4zakTQMB-KagQdx8CtTCJOzDcV4S4lLAKSNIPia1IhodSAe2A6ab3RdYEDFp0-HiatL1btSIafrYrtlNSp2TtpMPGad1HoELBYO40vKO92amaSuBmvDmlwImgCDQgTUgEhpKo62NPp+kvKLYx+kyC8ocgzTIVKyDFSGp2eKQK6N8DFZ5SqIhYJBT1goy8MKBC0cswlBphQw2QqMPuK85yR9xq+X0dSlJnoy2W3sdVvmPybxDPo6gJsXCH7QjhwQoTOSAzNQ6x87wkdXCMjNdE2CRwrDOwe8NAChCLxD2M2qGGyAuZXRLo2UFaQWw5jcg+4qLISn+kswohGGfpDrMBk1E-BHIuOhIMJkaBTE8sqrPuN+kpBpZMkv5IbL1m9S4Z-U0ICllKAHM10kgLRnmNXDUprZis-MaH2SH2BUhg-Z2RkKNSx9Nh6IyQCcMWQAAZZWjcISHGiu4jwyyq6LVGmyuR6Mr4bkODC-DTZ-PQEXkITA5y3h9-cEfCMgRVzV8dcysUlBRFdS0RuwhOcnNTl4jLQBI5ubnLlG0puRnfeXlPS5RkjB+FI0YZ1BpESDAQrohkZ33BCIcJ5+fChssQXmMj+ZQMSOlXPVFCT0ZPIvvvyO5RKzaqkxQWc3P9kCT95l5LlEqKeF7y85oA8bjSHRSrg-ZJsweZQOqGPBcCR8vkSn2RLgCvKPiHkd3S6AB9mcLIiURYLqxfzJZd8iVHoN3kWiBICC+-hqNjznla+HEn2Z-LFmiscFnfAsf9h2jCAyULQr5lo2LSAhgMvswhXJ09jkKSAME81L5JekqD35YwAhd4CIW2Fa+oTFhbkEhboLCFHXARSQsGHqzi52nOgbTKkCvFYgMwkkIkACDzZDuKi7efXQeZ2BYFSY0sXkL0B0iY00PH4dpxMVDtJhIrMlFPKpGdQTFP7QlKQEcAZja0IIjQfnx9rlZV5NQ2lrSI8WLz8+TC0IIsDcyqsAlRI2gEEup5d5fEwhOkYMD0EuLGiwuOkb-K74dMAJ9UuProt-wOiU6Pw6+aQtJR-CyUFs4mYFE1mYgzFeQuRaXKsVBYphr2OxSzGpGlynFcs1xcLl9Hx9vFEqXxbn38UuQLRMSx4CEpsBhK+gwy+eaMsZFIN4xFopJQVRSVuLm5GSkNrhJyUR0Xm6yx1PossEeKihyMkxcZIGmAsr5Ji0JhcrpHGKjlALXZbctOX4pDAjqS0R4tAlFLHFssoLJkFZFwL6AZKeOZiNOHnCrh4AKLMCqOGgqcRachJR4uWUbU-lBy-0B0M0iAgAEgIB5V0GFn5jfkryvRb6MKVGLqljQ-7MipzlAqO5iclORCsxDxyaVqcjwUkxFnS8kVcgHFWgrRUNgMV2kLFRUJ9Db00wyNcFJGiKGtwxVd+A8sKuhD1oWWsOCZkWiPzjwZVIgfBvKs9iY8O4ZyM9GOTXASARVE+MVV5zpmSrMuFIZDHJUNUUA5VUXNgkqvNUShx4Vq6EOqtS5ugzVQ+XqI+h0DuQugfs41ejMVXTxlBwq6gLmNVUUANCxC0fiaqkBCraA1q9hJGq5j88Y11PUJmGtzEqrE1rqvQCmtegCD6Ffs5DCmvzW5q1VdKdDvaXTV-zNoUy5ojkGZophi1jCtHsQGRrhraUGcpGFaq7WB8DVrqn+bXzjWjkL0LqifBOqjV19Us1Ag3n7xN7K8C6biVtXwuww9wgwg6kQAOroBJrC1S-DZS4mrVsraqfa7NTWn1W7q81U61NUerZK1rMlooBtRisYDLFV1rDZSgaq7UU0TRMgX1W0jFQHqR1h8kecfKAXcoepHlKDoIlNX4LCFegH1X6oYVrrbkdstxGHPUEZKbSNEhBMerUwYaI5a8qKRFO5Jyw71YQB9V2GfXVxhQLauDXwvtiIa+IP65tHhBDBuZBmu3dGVhhG4jlD6SNEqKfUALKDom6DTBqqkA2UbKY5pUDYApJJuJINriXyOxraRcc+wZ4NpFyR1Coal+aGw3EVzCoXsZyygPSaDJdQrITmsozQtxQOQPFRi4U6tVEwyYxNxNOqcEEzM4UEbPFNQqKW4g-hkbXElGp9eEqc0f0smYCN9fRo-WDBRN4WnAkoUJTCROGKlRnmSgACcVQO8ClsUpYaNVWWiQKpQyU5da8vgQYEPKw7Q9eeqirDrW3fTOA4iBotdjYGy3qQAA5K1pTBoAutEykyaVN8QtbShhgLCc1oK2M8itzEbwEPxp7IRi0zgQ5IfhI5biRt8lMbTyIm1rBBgSWy9apXG6szFKHM54NKDeXDqSFXnB9cFsgZyA2ZB2yLRSh4VtrJQV2-beMFzwsakYgTZDawyeTEAplWRbwOkBpDC1hJQWHaGSlsHwgdGXDakAUJ7iHaftKLJYhUHc1RZ30HyRgADr5qgAFJX0BAYyHBAKkBtgIA5IckCZSzCF-HKZdYGJ0igzloQAbYlH74sxP5RoHHqZPMBE9306Sh5ubEtEvNx0O0L8SkAuW+j9lTyx5R8upQC7seqO-7YWWZhY7ImNIYosKCa3WBCdxO2zXSMlB86OgfqDXTTsw5E8tlhQdXRrsORaMiUJKBgGboOQ9aBeo2nLeXzAUjyT5IqRTWyQZ0Xo-ZWvNTYGA03PAdolApJSZoIAFVJkofd9epED0qDdAKQ7zbnzlgARDsAq5GButMF0A1kk2mIFMpKVSywdhC+UJDsCYw7ZA32ynYjuR0-L-sVhEHJHt8F-RVB4c+PSwAQ2pYQ2MWVuDXv57AgTiAAmYmgNUAJMbMGaWYF7vg2+7GQ-u+vV7C73B6DNG1SZKGouYRgKAyGwwK+GEiMAjIC2cVe4C8A+A5IO+jzR7LwJlxuyVU-Nj8iWKSAViDsTYrMQBKlDBSBXHDdzOcb8SLIm3VgMJFZjV4+IKve-Rqq-CqBSALilgPzCPgGAbkoBmXo8WMWgHfGIxZYSMWGIphHiIB0gJrSkSAgqGfxAuKvk91eI8DeDeOmOkZ1TAbMbcu-f3qWLNFHiaKH-bID-3josaVdQg3gyv1AgTA-Kr1RSEIPjBvALevuLvoFjCHYBcsd2YUQWDnRhD9AnBB+lbguhhDZgciXJGUMK7XssY-nqUNkPmNKG06E7oyBX2Wh2Y6+yCJvqMhiG-N5k6sZYPzhmBtg9KB4NIznoLNAoyh7lkCDoPjF+DteFvdprrjGL7DnB+lCMVv2SMpIX8GRsoncPBHvi-SMI48V8OCGn9boOtB4cWKhHuD-LQg80X4rx0g69gC9H4eP1SHGBPgKw-NNyMWMuKpmHkAEcmApjlDhRxnQIcYBd8ppxQ2IJUfiGAhWtt+vuJ8X6OhMlFD+9SMIcQqj6md8GmhaOtbhPBPAk2nUDQrQ10UW8Ta5Yo6mWI0bliVgjeXjLXFVGpjpQlYx+zKCnHkj7R8EbkeWPiKUxFxqY59rcrhQPtfs1rVYL0BmaAAOlgBOV08ug3O-AI6hb1kbEqoVH5CKg61Ag0dAOhClgFePwb3jwLT46DJ+N-Gjx4wGuECfaMFCs0hALIsWlFbCF8ToAAAF6B1rAPxsIBAsxPWJgT+msE2Sc7DPEoTgIGExSThPAcbgB5HIBnsm3vH-jtJ7Ey3sGqDAWZyxDwMsVIDLFmahoVrRCDwAIm11ApjE4CfpOim7KZVQfYbClMyn3NrJkUEAA')">function pretty_query(query) {
    return pretty(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? pretty_term
                  : pretty_query);
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty(string, args, pretty_arg) {	
    return string + "(" + comma_separated(map(pretty_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vojgzVBQfQHvg2t+hzZhHHRSfh9S5uNiEXoy0haO4GPuXE+b+nWDmdnESfwXwTEszIyGCXxvFX2zXX0GwcUqRAKbxb2xzb0C1iUcQlSlmv1yUcR3xcyQJHygM9zl2Z3gPfSNhNguUPnrxmkPxQLD2lgo3NXBBWUvxOlNmcy2W7z-1yT+UuXNlp0L2TzRHyUCBkA5jxF4M4n4NIDeUIKlxGXEI5lJArzR1kIBSYOEOfwTCUMqA5h0DgNyXu3PQLm0NALfS51bxP3QPBCHWIBwM4ks3sLRUb2y1xzsNMPBG4BHTUMG3sJvQ3TvQl36xEOlwzRIJtz8NyS1XXQC1tToMXxGF8LtzR2vSwOtVcIPyl1Xxk1SPIIRQHWRUhTMISLcKlyRwzzyOzw3xx3WDXU7S0LKOyITEqOX3vTIOMMhy5HI3MIsOSAOSP2sPD3bzI0cI8nAJ6IUN0IA3BDGJ8MLmiM4jo2APn36PCPaNw06MV15nXkXhKzpxaMsJD1QJsPGliXwWoCXmj2kI8lMS4L30SNd2ILL1IPyNyVqXnzNxeJX0iLXyWI8mqVqSIFgSOIGIDWRxBNuPMCVV6ShPKOeJGChIBPMGvWBP6SeMDBvGRP21kEO0amalOzagu06m6h0Fu3BMOWOTVmJyl3-nEnZCOV1VR0G0swwU0Qfyjm4EU0o3JCCg8OYVYXYT3m8PNQ5O0S5NAB5NlRqIKMFLYXkQwRkFpNaMGIYNxxkCsnlOFMO3GJhMOzv3DglN0RVMDD0IkM1NACkJRMSQNOAOVLe0ULEP0MtNUPeM4lMUUXkBVysVNNEOJWUMtMMO2ImNPSs0qSizeF8T9JQzBHBGs1rG8JUHoGjJtIVgTOGlehjLmhOMYJqwYisgzL1JcAzJ8WZSzMdMRIiLtCzKMLBUcC+HdnWjUw02ZTM0lwTBvBlIVzuNXX9iNOKSBkrJTyX27JIwbPwGMDEQkSNN2UKD5OyywjkC-163OEbHxz9n7SRTMW9KlkZEIwpJ9jDOXN+hFxhWvhjLJ2m3PIYmqJ7JhKNKN10SNOeHnLjCSMGBPMYndLuMfKKS-NfNCLCJvAApDN8zVjkWxx3OUU3WvPoj1G5PWE3KHI7LNMmjEHxyMGvPCAZI4HWkwtPBDUaSwjZIHLPPgoGSlKQrU1HWaDwowtUCwtS1gQAB5gR0KCLOgiK9YWhSBzIIQAAVG6I8ugXwQQahT7a1JsPY6gWoZocEUAAAamFWMT2hJnWiFBTjPPCGUqTIUuUvcxiA+HUrEE0vzL1CflXFMj4tfnBCEvwCamIEcnErEEkq7WkoXlkuEHkqUpUuMWMuezMu0t8r0t8sMrUsCpkBTkIv5HzVyTyiNyd2myCyRDRwzhxxumxHbJXDAT3WpjgpywsqpWEk5zDSYo+m4rQn1imgyqIFs1Us5mhknOexbN3LbKBjwxBhF3p3N20vCtmCXxivCuaDys2OwptBrK4psSdRWAHAznpw3MKO3K9JgvRgbWmCiXKueislsienKCaS0UyW1FxWfQaEbC-MZCVS-MHOmh7X9Gy1Gq-KfN3hfJ6wIiev-JfL41YnJECmy3SvRCyr2zis4im1SyStS3gpStiHHMrFqqBrK1OqajR1GvIsKtBKNVKsDS2osvNWqrhsBvqrjgrkbJaugp9JussrQhGumx6qXz6rjlKHgnN0Ivgs6vllGqInGr-HMomDup1DlXxXmoZMWq3NxHJqlnWo8xss3BFx2roD2pEAOrOjSV1yOqfA5UNVjHOqNMur7Oupiz9CCkesfLPJeq0W3QarzD-NvPNrOmmsdUdp0MDABsyspq8wOwLQJJO1anOw6iuwwEPIQRJmIVQXQUO0wUxMpKGNOJ3BiXBCIRQTQWLJ4BDqTr9iQQXiCNJR1m4QRJHJl3d2sS80KjTpIXDq9sZFx3TA8LmCTNiDmFXEtoaA8I5HrpiA5CbqUw8Iwnbp4A3C7prtmPPj7vPkHvjlmMqKTMqOdGbqKA8O4kMAXnIF8CTMXuXrEsVDnsKA8KiXbqiVjG3tiA8JuHxxqRYEMG8NPtUHPsahWCPuGVmMUr7tiH0DVm4F8BwoAD5QB-5lLN6H7YyIRPIX6Yg36P7v7f6vJQAAHu7ZjE1phwGYHIH-5IQYGYhAGPDgBQGDB37kHAQf7-4wBYGh6dxwQABSHBpBz+ghqB8h9B0ATB2Y8SF+6hlB+nT+uBshgAQklFYbwZoYBEIdAF4aBE4dIbjJYqoYEfYbYpiHEYnrIZYoBFAbYdof-mUfkaYbIa-ukYgfUdAB-q0a4bjK-pUe4CKDUaEagbMeMYkYhG4ZwagcKGsZiG4diBpPTAKgE0TvLo4QLCfMBBXFf0gIGG4F8bDv8crW8feAEAidIVEXwBYAACsTBbUgmVgQnkRaGe6y6w6kyS9rFAGih4mK6Cw8jIofG8nSE5sRMgGPCsVagkzGnUw3qragHwRIA6BvRjZV6LGumenklin2mOnr6GBYBIB26xmJnhn2mT6qAb6ABRPusZxZ2Zq2jwgAOXIE2Zwe2c2fZrjhiapFKeG0-TPIyemCydofN2VPCeqb9lqeObiYebOeA2vkuYaGuescKYvFTqQXTreYSJOHvJcHwUIVeaVKgRcsYJjPBYYGqHExlFIAIRauSfIGrCLRJk0CJtXFOczo4ClnZj0QMWoVhaOCKBZOF3jEIFatWrBBjJU3kQluZSGXnhnX0FOdETRvCv+dDpqdz20raaKHZZEE5chYNKSdSdMBhV5dOfWwvOFcKFFsRXFpWp9Pl3XIJzEC+BYFVnVb3KBGnDuhZeFjTGkGRsrsJN9vakuwwEDtBeTPRgoFMAYHLg+HKhuFIA7lq2zNSHSC+03BL19apqRhLxvBDZ0tiQYH0oio0qitCerKyEjYjQ2Ijanz+FisdeYRuBzk0S0FpxMoxvfITHIGUGUE+wyCeSMGgXLcgcamUv0DLeUHp3BAUtKDbdAHkqsl8ubfWb9DbYWKLehJcHNkoGSRGhMqoTvmnauUkCGciGggXKlwCvWhCohF8pzedmMHzdqBPWxFvjnfHZ6BgWwV0usHBDTLHaRUjgUCbeoT9YhKyFviLg7bDV0hBkJQAxfdAEp2UgJX9expvBffCH+zTfdxA5EfUmKHhBXFKETfvaJ1bZg-uSdcOTLZnHddii9Y7hfeMmaAA5qRkuuPhh-b-dXFZ1+nuPNgIJA9HQ7Y3eUuvdxFvYQ9qTo7CtXAUtjff0vh9UwQCfwO4MQ7Pb8oHdiV8uY6YDIDvZL3Y4fezSUrUXhA-azlTvnZTkklBCTNvnuY0+k9IEEiLmziwjw-HmY4hF7qTQA3NxfYmufYU70+PYM8ElTaBxMpE7g9iQAHJY3b4QrfPU3V3TKE2X2r34gkVy5SAU4ouaHULwSyqzpA2EPYv+2rwPChBhA9Lgg9KHIdIrILRiw9KjkOB4RQ2ihSgLPzdUv7P9Aav1PnPb3jOGuJ3qvaxovZkbx6upPUuwKXB0XMXlBsWZxvFNYPBNk+lH3LiSOcYzZX2OnpuqYkzqOaDZuNY0uYgQmBv1ghvqBNAdUrlxu3Bp3pl1vyuglKPho5uvOPCYOfDpsP9+O5vmuzY+vQBYv7pf41ZDvK43BJu4V8U55iP2ZnuqVzqDTuqgQVxeOxcqODShOdZnuHVS6jvjBscYF4oNA6v2vB0f5mBvuxvfuYVakkfDRNUIfaaGSE6NxVOKv+6DwEPCfNlQ9T3v8fjxXUeWepls1U3uXKf1IR6vOme3Aue75eeKfUtW3tusW9uRuGJafvYlyJePolXYgtuMWdvhuDvhfieplJvzv8N6follftrU7Of0fufH19R4UnuzuqV+TZi7vv5wa+O2dSf9UTqyf-qNYiMQaPJkkSB-v4uFZ2l1uvPzdruVhrL+KzZ5b4kv4EfzAA+HCR20PMi5vhzwTQ-CB5uuyw+o-eKY+NY4-P4XBE+XAozrVBdHXCvtJypKB8AxE-YBgKhBgM-g-k--uqfa+dI0yW+akRe6-spgD2-l2qzAN0Z0+zu3u5piYg+x-jiY68zY-YkYO6yPJNIRsaAnkV+vztMFaFTsdiYGB1ARAOBSB1Uc9CBN51viq8UDBZ-YZ9e7-G1YmpTqhuI12gQWAP+WrEWDbi+x2C2ndRLaBgf+RsL-mBHPwag8a0oRWkf1hgn9Mu5-PpNwAArmpmguQa-jxl-7Nlqs4Az-kTm+oe9Na9-Qjtn3RSxggoWELASnAj5nduAtA9os92IE5hPeVA73oQH5q-UF+FfIgDfxz5vdjK-QBQERxIDyIKgMMXwHu0MBshJBK9UPIYFJCZ8FYZVWQfN3kHSDscSgp4Kmywi9UpCqvMBvW0OQiCxBqmTQTINMGnQEIRgQwby1UqWDtBpIVPtUEjgcAMWdWSMAoJuRyDvBWg+aMoOD5tF1BXnJwYEN0EF99B9NewWhCeC0M3BZADwaQicH6BwhOgjbn6HiHWNhBNgoiFISzaOtchogmQDDFGhY8YkxbMIqUKoByISUgQU6JOzMFZNoWfNH8jCTKF1DihTQ06I+zUHWDXO48CdAX0SEot+gKQ-wXuzTi9UBh-bbIT-RqHjtJo9QkQT0NEGy4GhRndfuBUgoIslolIUEOWQzZLguIVANAS+RwTUZcBYgWjNcIRaMBrqtWc4cAN4Hv8IBNwhki0y85MtBgTw04ecXQFRDahZARgKfX4gECWq+A64bMidgAiXyb3XiJHFBGhRGKvEbgLCOeH20VBF1KnjICTBNMxOdPcEHiL2BNNU2ucToJyzOH-DwgXnC6jEDc5V5MIVAWkePB+F7C3khw4WGiP+GYi+QjIu-Az14jhBKcIfKNLCPm6IiQRDAMEYxRvDCijBzoG8BKMVGKgpRSQGUSiMZ4sjVRDVc3CqIcFoQAKzXYkfiKy5CDnsHABvotgGFv1LyUaPBvMKaSBpthFfPoH3BqSMAe+Osb0fQG4AfceRH3ACpcIEyyjwyriYqOqORF8RGKAY6kb6LoDcBDRaEIMfCNeFhj-EbiVtiSI4BZcvOwwrqpaMkDZRuhGYgRG4ldFlApyH-dWFSP3yvD3OIOc3MKMrFpQVhjQ7oGyG6BBDgsAmOpmlBxBdi-AbpUAYWnpwtN9IzozIF22pAz8ZQ33IkF9DrHqpGw3QRkM2JZFZYKiTInEOEA7YwcZx3QLzFaNAACUAAEoswYAABBcAOAEWYAAlASpAAADymzZAECAPKOsZAkgNQAPy0jHooxfImMrwGrHzi6xSI+bm2JrFqwWeg-ACcCKSDNc2xnQcWHBIahplkJmQP8cWAajxDg+54y8TeLvGPiXxb4jCZIHuEVAYJ6PNCdynAkgiYybY7odBIYCLiJCUY2ZOCATGeRih1fMBN6Bon-jcJgEoAViOD7FD-YZQkJvolhGfYCGO6NQCYC8CejsJQ-HGLJMsj90lhSQICUYO-ExjVJ8E7SYmNEkPhjxkgOIBkEeYKlI4jIAAAwgswENQRyFZisliD9isUagIMD9RuTcgDgWyUCBK7WT-J2gZSniC3EJggpisEKaQDTKWZnJTiEmOKHzJJTkIlkorIt08mQRXhWEcEE7ywhRTMp5ULybV0jZvdAgPqRKTXgtj3DsgVklcQJkKnA8sp+5Jyq5IynNTip3kpiEkkCB+xHInQDuKPxWD+o5+GfNOKUHiltTasqA9Kc306nZQvJeGEzlGkj5+hKuUaUwf1MGkIdnuuojun1IYADS2AHcPPjnwN4qQWgPvHgaOMZLEBtpJ0uqRwErEVBxBoQApGt0ID0RUpJw4MVBF6n3SjpO0usEjXhRjTKBiOIWu0EpF-CHwL-alNlipLMlYwBqeGWdQEwsBbh7w+4f2Td5ASQBCMqXJjM+HgRxwhlUoHiKjCGVmgW0oGY9IhF4DnELAB2hmCwDQRUZSNW6QglWmsiqqd0h6R3Aj7YIwOtM46adPdwPgMBTULisjO1A3TgKh0sWZNze7sihQocScu7D+ApTqpUNUyQ1Lf4MyPhbwwgTjMeHHCuAespiAOENlQdRwpMn0Hf0xR0BNKmomMTgOxlQj3hsyZMbEFPD4zCRqMsGU-1PA8IGqeASEBHJXBXD3hWMk2f-wHJ+zLZGKbLDbNEbBIIIE06UC7NlHazxQ+0lYIbKiyGzt00EUudbQtrQYfhuctKYnNAq-VcUA4V6TOlSDwxE5fw40ZEFADhzI5I07LKaNJHmj65pApGjSggocs-htctMU6j97mAHA2crUYQD3C-g-prwnEepBzFkjx4-c3MQr0N4Uisgi88JqSDpFGkBRc-RebzKRiqylorCbWFrMPk8Bl5L5M+U-0IDKDvhY8+RGrNvmazHgb88JmyGDFdywAEcyEAKKwgXzf2VObmUKOPnjw55UVV2fxHlGxDVK8o0kPnNiAILcQOc5sagpGbTBmxGCn2SsGNGptt5TTGfqkCCkjRGij7XMm3kaKFkrJKdN4NDBAk6wgpMZEvFwtT5RTgCXClQW0WgLu5eF83DLmwAGm+ADkTJWDgX3DaiL6phQg3HsVxDOwaFQU-0TjzvzGStFZAXECvNf5UhoYMOdqUKgqlaIqp4oVINUCenfkjFAgbBeGMESMg1ETinOXGN0XJi2FZ4YTiYv3RcLMFRQVMS8NulOLMx6UdeWaN3ljopx4aAvh0jdY487F9GRjP4sYCBLzUTZHVsWJtGbD9A4S8sZnnMkCACJDAe8dZAAAyizd8XEsclo59Jv4oKdHBEmGKwiIEjOmBI4lecoJ840PM0vomITU2mEyeFZOjip8RlZi8ZSoLKUVLql4AciTOGgn9KxlgyrBCoIkmitBg+iJibaJYlsS1lmQ50PGSsk8SBh8IIwbsvyV5Tiupy3icorRzwsBlrSi4eJIGGSSqA0kq8EFNoY7p4W6iqyXYvCYISTJAFPST+JvrPKQVQEyse7BYRFZYu2PfRToqRF8j2xgkDZe8sWFfLpgOIn+mnE2XToJBkw7Ze9Q-6GTcJni1FXrNVFOinlqyqlSCJhU9YnqxQysYksRWxc0VbKkMW-1aDZMgQA4zvvV3BAcqce6tdYvyocDjj7ZtQLznCqzpJL9FSK6LtytmGpspVOMSvnenq6srZhVCyierGSnCihFqQYLtqMzzw4YMT-DccUqpacQPgwQZvrRMYCItoJTbF1dWkB42L5xyUhMRDPRlv81xQIfZeWCXH+q7qjYCtnxUiwJj0VnzPSFctWHdACuLqs5ZsIlWFAioOIVNUJPoDpqRBopWMKZxdXcAnR0aiqT0hdXoqbEHMngbKWFwN9AgZinGe6sEVUYfGIKxkD4o4XwwuFVs71YarVjGqQVAaikAJmDWgx5xrEsNexNHWRqBMFayLFFOKEJqCISajsdsAwJ3LzlrAtcPwBzXbqOABa06EWr9AFSrJZayBkuuAwrrZh31OtdPMPL98opwQClaR09WmqzFHqvNesq84vrAV-q1Nv3wTE-qcJ9AVPiBpdVga1J6qR1c2rjVuqwJEa3sW-2eiCTwNR2IEGUqIkPinxr4hZeSBw23i8NpE2pSWt-VXraG6G99e8G+pBRwQGIS9u0LBbCBscGi+qTgng1+wopSGqiXYu+pRQ2A7GsZYyFmVVKalTEcTfMsZAXqThTomjc0vo19ymNBqsWobGSYR0ZkX6sqjMjTJKo3gmmlEH0iqHO0XA9AjEmmWvSGbyEp3DEioLOl3lK8S1XEIvSM0FgTNfQ7GnppY1NQ+ybm8hJ5pUEWanNaRC2JDBSDubbUQWjvhLPqSp8agYgIaNjkRXabg+IWysYZvwC2KbNKIGFHqs2GPt1NuWjzSVoSInzLFxQ1NlltsXWb6AUW6OGVoGSXoxVyqgzfVsC1NaS5IzArSIMKHZquJIgPSq1ui5JkatWCepYNjc3Zb1JkW2zWqsK1fr1NAWgtGkLm15b5uBYy6aMOSFeCpBUwq8CNokT+b1tpgNbYYAa2zJetvQlCA0CdHTbat4W8mKdui0raZW3W6RNdqM4goBtOXKyEdrXqRaZt5rJycQCS07xDEpkmtZis2EfLyh2IfRHirZmKg2iR271GDuS1KrouiHZrQQt3RFjrR6Ku2g+FsC5o6e2Sq0SWNtHoCy5BGQNLdpMSm19V2SAbXl2G0-IsdfTJpBjq0Ag60qMEitjvGGlhFaUK-RajqySb6t1MbVNam92l67d9u1WSHV9t9DG0sVUkrHsZCR1+h1YJgfgMNE34QxSYO8cKrZ2558iglNWNAd-QcGbVKwSYvHTEDiSl8tJOWUgGkn0psyy5hQcEPLq16vQyu9HakATqp35LARdsMNMKxV0-aD1vujXjL0V3y9-tHO2LkmT92y8dU5rRsDcG+7r0pBjIAAJwnAwEeelekTtM2WtckpewdO8uNjfYPg3AdZaDMHX9Cx1JAyiAOBcAMk7JUtIoNXv0DedvOVkNACPszVsDh5acfvTMJZl96eIUg9FQi0jhrDbBHwWZC4B8jWkVwbEckNXoX117Za3AHPc9qXpSDKxnQKRTIuOSSYnVC2vrdiKZ2bCY9cZc-SvUv0OFk98mP2KnugSSLX9TAJknzsGw69OdBKOgEVBPBkAno7sBdh2r5WMgPu4GL7j9wm5hxjAoBoqCFSOBlcB1BgNBKQCgO9NbZsSd2HhT1x39+94IbyD5B17vcceU6jAwAhAYIhCRhQfvT12SWtBjgoADmSxAHBxqG+TfGpGxr3acHe9AGorG+tA1Qbf1qSmLjPoHB4GCDySIg3YVJHox4QaM4KCfpXrAMqDPkBMYIGEOiA9D3kfyNwZOpsR2B0wCgyYZ8ixcLUgiRqLYaYN3Vd93Qgle8pxVXhtd0idg8qsNGG70Yxu4aK0At24HrdtDaaEcrR2hHg960SnXktWFhpYCvvQ8rCXeCORvs1QIqPrKpCtB4D2ixA-j2QN-dUDBusA-wEwPYHUNPKI0nUxiM+EQ9iRxockeU3bin2xOyqsXFiQOQjyMY57P8PICyRoIbSCLriERWBHt+O8WI7czqOzIrdTUSBlEbe7gFrh1ck4RWWD5YQJ5DEVPoXJmnFzgtS+YuWmX2NMzoRDm93Ccd82Fz45bOdua8teFthPADxl4Q2rBSfzfh5s+CrWCAkqCSKYZQ2esYtlZl8ZzqYA4iu84999AeOgADpYAaFWypgI3xkDBA72kemBhA2wRoQh9sSRQ5ORT4nAITySqE3BJhMEL4TiJoldjgEOonDOVIhnrwBPCzIegWEJk6AAABefzUAPCZFbUnkT-sNEwsZ6BcnsTekXEx3kgMEmaoqEF1H2SECGBMjm4KE-ydpNCmBG1nMhkMasgsA9KygPSll0mDec0weAYk8qpVNvSBTdJu9hqYW56VdTWpA02VwlP+QgAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
</span></p></div><hr>

    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' style="color:blue">[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
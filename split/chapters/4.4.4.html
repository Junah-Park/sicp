<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations and Blocks </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdrLqPPgmDTAig3qPbqELMrBo6AK3bTrpWUDDZ6mUQ8ISJFiHz0NWYLeHMNid7A1FGiMAIUENiIpDvUBQxIBb0SE+spegQEoWkIWwcdCoBoO4O3QBRhCIhmgWofYDiE4CSczqOgEkOIadD0hoHLIdBn6E+s+uY1RoQeGaG0RahigIYdKnnq5CFwkwxKv4PKF7phsLOJtGUMCH4BpgqgezIxFEYN9d8hw4yMWFMCJAbGhQiOiQElxu4H0Bw+QJcI2HxN3hGXPoXsIhak4smIwGYbajmGOBohaCe6PDh+G5C1hBAC4Z0CuEBDbhmwwTD8J2F9Il68+RCOLTkRWRAB4oaGHAIOTk19BQg3-g3QAHMNt+EAnoaAGJEg8JgRvArsQygFoJcR8gCQVoJjZyUrGB4OsJ5Wj76D7kRgjoWyM0G+FOuuobkUWD5F9EJRwo-Ee4T35ulmm+AK9MVA2K4sVRm8NUWwyK59xZRoAPEXoHqZuk8UnIzAceAlFGimR6IkSJiJkjYjkQ+ovEeyN8JZM7AdveQHoFTSgsjohot9q8J5G2BpRypS0SsLNDbpDRYYokBKINC8io+fRFdp6KjEG1N0kY++h5GApsMTwmou4Hyz8Eqo7gynBlHsKioL0VC7VaEaTkNa8NI0yYTEHWEM5nMzOLwTQLm31G5sCR-icmtKIGx-FFInsGMYGODFtiRRjY2gHvWqELgOx6A6kT2Kyizscx2o4hn8M5F8lCxtiEsXON5AKRgEhHB9IQAcB-8Jg1IZvJ6L37GowS8rS0dWNAA+d4RNwpLvj1K7dCgga3T2D5xa5Piigz+akd-AN70jwefoUnM4joAYDQeBbebo0FPF7l+B5NJLp7ETG7izhfQHRC1z0CaNamziJLmskLGgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwIF1M459aEg4ywC6IXoHiqK4E6CbGIhZ3i1+NIXts2LwSCSeRGbO8TIEqBjj6AUTWSb3HYlitJJC9AiURNInkSqJtE+iUpM56iTqQ4kjiZJK4nEAF6d494ShHAm2BIJc2cyTdBPAKTXw7wogRDjX6qTzOyScyTxL37vC6Ihwlmk4jxELEaqFxQLpMByD1ivJeEUKWXy5GxieJYYlic3wCoKSjQvk0USzlwmSs46JAELqpAAAMxhUaEVBvDVgFIanV1hOEoBoJy8VU0kAVIPCew8pTUgEQpW2I8APk8aNqQMGamMAom92cqT8C36b9-kmgNqcbgrZ1g6pZYsFi00+wqEppNUlRHVJp6EMbxpgNuKNP+R2BCosUKqbGhe6NTppsKOqYYQ+KVT9EZ02qfVNtijQCh9wG8DIBTBWdlgGqVCcW3uiKgQCI0i-gQJWnltzpEPJBD6OPDCdiGKhJ6bYBenSAUw1HdNsmMCAwy4ZKYRwVGxlbOhM2BHZCajNemHSWGnXCYMEM6QrgFgBA8AQqOliPTTAz0gmbv1cHwcvp8ce0GuXdDFdABvhSHh9Ozg14pBZUFwcsgCQkj7+Ig18pSJnEFxs4pQOQYb3B7ylQgKo1WPKViD4z4Zr-MWYYOMGOlreCvb0gzgo5WjbIoQdWQjLEKSQymZs5UtzO0EEASkteTwSH0nbWzfBe4hgjaPrrOBBIDIf4ONPc4Vk-JhIgOrSJpHCCyRVRKmZILSDqxiR1TNnq4KWgkBDiQY+MZrPbKGCkBN0dMVEGqA8TfwDbODo-DsCoTqgUsZWngEnhVzHYRIwQapAFERyy0ec7KfdyWhxz-xYPRWD9MUEpzgxh-HOcYAFGZy3+d0XeGPOMCREwZzI-2XcED75zlYpgniCTNQR2BDgzcqOYGQ8KVzq5vM+NNmNVF5iF5j3e8sbBtEzzt+zcqkVXHvQEpk5txVOWlObx7d8g6vTschKVEntFxfLDUQfLz5aIxAHMvUc-IWzGi5CbongfkGGwNsWQzIr2TqF5Jwg-ZkCwmq-PcLgLUJL842YlFgWYifZiC3ri-MJp7c4B3VMAFXMnjgK7eUC70ahDBaYL6md8iiMGO3SQKqh6QFhQtmRlRBGFD86PiuxyEDyPgK7ThYIpLLuEM2+8rUYfJvnIFrp3oZLKaXPF4UqsPgBRdDHwJVSiCGwKYAeMZB5Sb+SuPuPoo45tSfM+ipRcy2VJtcjpWMlkDy2kAvSigH6JGOxzYYu5YMxim8XXQlB5TCZ2-EcZKPqigBpxwA4ObJCmC2o6weU1qZ0AHi7T-g+0hYPooiTk0eF841SCwh4XDj9WpdAMdxIHnaLZAVuCJZQn0VcKegISwMj1Nu7EAU56Sz+b-PqYrjaOrKe4PSz8UhIwkJSqJUdOTFrizAG464fEzSXbj4oymXCZpNsAUSzwAAGTtoMSXEvcUqRDlYkBU8pmUvJUErfnrY+JR4mkFJMsDCTDJ4E4NOsoOUWS2GykyoGco45XK5FRoDSYRKmWzL5lBk0YEZNOVVSNlgShegFPXpgiDIVkksUZLslU8oJjk8pekA0V3BXJewn8GGKBVDKMqaHaFaIFhVDLpWnXOumcqynbK4y94PYYFPkDBSDI0SsahcW8VyK-FIvQJclKcSpS2JOKzZTxJvFwgBI+idpQEqSmij7xLAX5YSpeFHDOSYigeI9Xuh-LT6IQkEakJ7oLgFYG7CScki5U8i6VHkaEdiq+UKsclOoZldlKVp+lPhnXKmCgxyVaqDwITA1T8P67k1XQggd8WYC3S6czVBrBqMavpZ19J2tqkgHLIAldziGbKmiiavNXOqLV35H4Wwy9ULA7ORoFVpaqGU3iLgRkkfpaIsVktvAiEy2XqhQlYCM1rK5TqYFilrTZpAkhSbGng5Jq-ZpayHh-HgmqQQV9kh5Iqosn3cP4UjQ8GWELWDKAh6dHyIioRFJcjcTa9FQEI9VBB8gWCFroOtMm0Bh1iQQfALzBYKTNA0IttdtI+hNreVxg-WTGSnyswVAIxCZI1IbpGS-Fx08muZM9iFLdFhwZJTHOLl7LqQyazZazJ6A1rSunsetWCocnPqW15NVdR2ranvCe1HkPtQ+NK4Ssqps6lgKOsCDjq8QA6vAnlKg3zqzQy0qqcus6r-rxEgGlEdh2PnSx3E8nMYCJDakjFO1CwUtRYt8WUb6mJnajU2ozYmcFJja6dc2t3VgRiN5GljWpNoCxp91BahSSIJPWlqUlAdCoAqtY05JJl2kyidRLongBbY0msibJr0kLKVCS65CJ1XE3kascyEk8LkEibsba6nG3xeYulj8bD1+iY9QJNvWvi2+0gEjV8s9iTLplcyhTWkBc0vK1NYLPKRhserab1l75JaPppyCGaZF8qXHIaSBi002oX0U4etgSGzQOOkODYDFqEBxaDFOGJLVE3jypbcIkbeLfio14ZaomQsd+sZTS2L4ktFipktlqM0h5XYFW3CBlr36IzvcOW9hE1qEAFaF6GMoPGVNECeAGwIkdpdVu05tag8weVLdQAOl5butLozdRYq3LRbYtc22+hCzjUBC2G02g6bltoCVb7Oa2rhGwpmRtLTVKW-bc1qO0-RreUvTbYkBZxwaMqvLWEm6pyXwF9tM2tjcHgq1faFhNgA7TzHu18qlt5WgHbFq63ramlI8M0R1NmGtDQRsqokG9uDWQ5IdeIdHT9B5WfCTQHvHKp1V+27bOt4O7rf9roCA7R5IJYHUhie36bGAr21pUGtpYWUAdX2ouu7kG2nQvI2Oq1dpwCmCqSVcqp8glVu3LBEtjO9pUVCG1CMmdFLGDpCrND9KixvK38qwzx0sgldXam4ZPPHmxBScuO9INTqZi06hWDOtwA2Fl2fYpdDYdnQ+jElSNUY708Cq0o0FaFf6NNKkIA1xA3jH2gbYNlHG53U7YYn5AVUFPsw2QlR8VGyPbqwRKBs+YiUgajH3oIssdFA-euYndb5V0xdHcQBOMnF4ELwjHFqBKOzIKV3wQJF5mPLx0nhfd-7F6NK3mYnwCxAy4sUisnkfNFl0gJ3kburi07a9z7VKGbq-AKBLdmgfvf7soLGEP4SoAtpZTCGewAAnP+FGhz6zKKuwrVOwJSr6KIAUikDqhUCaALJ95eDrWUIz3ki5yEKwAUSKk8yahNgKyooDxZ4sGoaAV-TBsFn4b7o2++VioB1k9Bt9vK+ugaERGBCb0N0KwB+AvxOyd1QQAA7vuAM8wZ94we-WEK8UOKzKzimKM3APULbPhiosNUMuN0TrnJ6BpxXrhcVD7Rwo+siKQcwNijUKkHOwO0sKhwaHCB4coHCGcZhKlIroT2IO0fBbAC2jB08YaDj3EA4N1DX8JirvXIRsIjADg5rSqYns4QrRYVpD2-2ZVy9jB4JTkoL4SGeoWVceqaG-16tg1roEKJ70qjo91Ygm5Tqp0xDEbsY5hyHnRsalkbmNTGjdT5mcP3d1YchhQx1CUOqRrsWoudLfuMAaH3wURy8jxuM0acDDUR-qJYYETo9t16QSI1EfL30skofYxmpkcSOo84DJY8VYSsF0GRI98pUw7SyR27F492wa4KjFdAujl1ueggJ1V0BVCUd1Rpo03q8DrjW9CIqscFgI7DRGDsux-YZ0UCTiAAOlgGo2SqRIdh-ACMXib66qqeVSSLZGf14EVDKWViGMfaV4tJjMxuY1VIeQLG9cKnZY4wHiYqFCADhG6CEzuOaAAAXjnVACzGog-yy43RBWMZ71joAN45sZ8jbGQjqhpfvwVDzDA6AN4HVCwawRnqA6vB1SPweHbCHHIDgGyRIZhJSHjBj5AeDki6N0tJcze5XdZKGPVKmWTJHwiyWHJ4FrwvrNKSqgNHyBJAmTXeJ8zRbjG6jIwBo0oB6PeE5CWO-49-jGodHW+AdeE6MFXZ45PYJ4bI1KeiCGbg8ubMYL8DkOFk+u3BvQ1PwpqsBu6Upy1njnfIn7nUUpl9ekZQNmUMq0RlGCMTzSrNCow2gwx6rSMPkbVfB7VUO0EMjsNlohrE55xxPSHlgGR8vWqdIoKUOSOppSPkff0GirTNoKo3Sz-1cDuN3kusHYdKBqdHDHLC0x8FcP6J3DTah5JxsE3eGUzUQDQ8RKbVkQczeaN4niMkA0jUiaAOM26ZDMJmbT+RnQ+apyM7iGA+R98LCTjOwGEzKupxAFLKNC7RVIu1hEmesjjyEIBdXk6dB6MUDZDmgWwO0cl62QiTCrEk30Zb0q6hjFZ9HkEFVPqmDwmp2DofAvMRnrzxhPAAqfENYJogrjPAN8aWN-GtqS8V7GyYailBYSpAWEnyweJPndDWUOgNED86fmrjfxtYzy1hKAWN8IF+FTbX-N4FkLeBYCw1FAv+APzFxr8zcdp5-m0LYuLC7+lQs3RELAFoC1RfwtgBYLvx4izRcwtkXXsOFvAqBd-P9UML4uOi7helYwXCLcFli6RdosoXqLRldi7xaQsCWuLQlgi6TJ+PXH4mrF-iyhcEvgHdoPFw6nxYoucWTweFoAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohC6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5Jw48CK20lKGVN4efLuPc0glz9twWjUwVi8dSBwjRcC-aCcowuFTji1MqPkzxyeujVPDoE86UomnTqo0kcZ9Zdz9POiU1Pd+u942mcVOZ08Tm1kuYXjRugdGDNgOedQY5C44Urts+xszLRPOHJC68sL7yItrrs-5hTJlJ5NOCeF85bmVilEJgHLcOTkn5JLloA1smHlXiy22jtSd8J6WmPZxUjn-W0qi+5mLPx2tGCpZKo1cbHWyZaGlwLFtM3qeixZ+tfmAsOcntM2NQy8vyW6wuJbyrXOpfm61ye-bB26dHoJg7bTNMdC0PoJdOXV3wIa6NujjW0Kgqk+jYpe6D1Uwe5MAzZlggFtsvZJyLh24L3IPDLyPlzuzKw4fadbA2nIm4B9oSA4E5dQUPFysjUivIkmDjf9CZTv-Ix1jnHr8rsOGRzej1OZnz-DR8pxQhB8DlDehTvH60YjvjSRkYq0PLtLpaYjhwVNquxgRkjUOtGDz0CGeLtCS6yufQq8UvHT2mvTA+xrzXRRrv+dl5-MEnOgL+gY704GzjayjBpGwWW1XSh9PRgihe8bwl8-S3tn2oZlgURfIaP7m4keYMBw5Zy9NvmUF8CQSHgh4e+BqjmaGH60SgiqVbtJCHQmGDk2lgnQUr0faz2+z3JRL2hrks0LCAuvpfpnD+05YRc+PYV7Ww1r2GLFJA0XxvX35Pku+RZuLoXl25Z20h3NpBrc1-0DiuFJPagjf78ZDzVHLtz-eS7z7zfS9NHWxdr6G+wlTzt0vtLMH+YWd6zKnfONGdiwUL6oW-WaUJq54+wM3vNTkj9wz4U+go1DV7UhtTV8coIVggoZ869BsVtjYm95MAp6cCdYhGxoDI4M9GQHkoCDwgDltttnUqYECVx78nczo0DjYM8wCHkgpyCZYM8mJChf9kDhIK4r8X9BVW8QNgCVUE1OAiCswf9k8J4XtRYHAj5F8+40kJ9J5k19BJClh8ty9MgVwq8NwIRIQxDnMNQ4RuARCGBNDvNfYbx5DWEyJ7lx5FlDBuRGBWdSF9FNFPs79-9KUOVX9vFmCfl3gBAZVGR2sYCTVPsGCP9A4fUo9n9XCA04Dd8ihShk0Hk1hp0T5M5rDu5+A9FyFUQ1ccCY0ttfMrUxdddqQUjbD0iDF3gBJbhGpetW9NcuC8Dht8jHxQAmDwDgjJ5tN7CjtOtot0EOiMjyoKlrYn54jDM7FxRSjNEptVwFI64jMdNYpBirEfsrxmhk0AohDFkZtJs9M88oJGxhdGRW1hc-YmJGxuw9RfDii0ibNEVlp21fBTdudEUBADCP5agmYgQ9DXjZ5F9zjac2iZ9hcddnRJckixYDd5AjdbxuQ9RuBviNQc9vsB9L9PNNsHUWVb9y46FCZSCXEFcZ8+kbtItZZgS9J+8L9OILMj5YDJ1vscZGx0ZGQZ9qSTUM8z86MmIj5RMu5v4WTT5FiRt0Yd8mIgp0YKSKNPM5jOiTNx8cYuTFi2SpT+jDEJMljSSZ8lSyi2T7t5N1Tz8zh1UJ4h9niIEJiujWV5M5StDuSFxv4+itSBSGsVwZ97SnFeFR4d89SOTk88AcNmYlACN2ZiMuZLByNzBV4p8vp4ZpCIdxJ2RIzxTrhKj2csl9BldCkDVuAgS6SsSiUxVchH9WcRAUyCxwRST0JYEVciksz7jhTPVYMEVCy2dcdpDGVUNjcrICyWdmzX5S09VX5-lKyMy1dpDiUIUZBuAoUd1+ysk6tEdRy090UJzQBMV6z+Z9dKxDchkZAFzDUlzuAyVEzRJkzcTrc3gkZD1yQgp0EplLd0YyzPCLyL1BZTyvp0ZWyUNx0dwhTMFXy+ybU7yGIXcLzvpKZB4tlu1H53zkTKTHAvg1k2pwTNzIShlLTczAwbwiCI11zsi3oCkENdiryIKCLvTsLYLoF8BjAmpEcClMTCgiK6EsJIY6zzhGxKAY5QjcQZcUKTVGQ1iwzjy7hIYjBVTES3tpDE5RLepax30J5IYbS1cClnh6K4wAMRgaZpzP0CkM9FKS5lL1VVLINH4NKNjB9EYwTuK5dXMpKKZESWB1hGo0KGKiUT4xB2KRKqFhU4yOA2p3LTwFDosCZkzhLFixLOgm9QB7KqKWs9sfK3LVAPKL5hUAAeYEVyvy8K6ImIloUgcyCEAAFStlABuDoF8EEBvV4BVSbHh2oFqGaHBFAAAGp7lCiDY5ohQ2lQrwhmqHyGrmqajCg2q2oOrQKJhqtTJcr-twRCr8B-piBHJyqxBKqAjqqZ06rMEmqWrdchqxARqurNrerNqBrYgdqRr-K01vk8obTtTVTMTyQjT-Mw4rZsQnKVgJ4rDbZQreo-1nQk0X0urjrzNHr0RsRjrChOV4KTpLKoTl9NdmhFjs5toAbCjZhb5zqwbQB4brDN1-xRKvsbxzrHjWJiD-9aNs52LHLH8wjoa9538GhA9ErrYrJbJLZyhL0m4ibGCkDWiGhUCClGRoDhL+C-QgoPr4F5LQqrslLyzFdtK3spa9LOak9GDnLAxaMnqiASKYKPJ5TVSbqqFeo7qkRNjgbnqtaPD3rsavrbK6azdg1n1XZka0IgbKwNbQbdcIbKKoaISrLfNYa0J4bVTEbLU8aBrSh4Jtp-Leosq9sxacbGa9R8aoLMqlbyItqGgBwya4yKaH8n8aaTVbbwbJrNxFjma6BWaRB2bPpY8+T94gi07Ix-dYw+aS4BbcKhb9TYxRbsaJbRKFbAYZarx5L5aaZU7mjBDDK1bTbNasKcBfTX5cN5AAy2YiNOZuZsAU9J4wlqBMcaBscSzh08cINkNFEvzjcqdMFt7d7qBsd-yXAr6ycGAd6B0QC1Mj6j0XAPFOcC5CpSc97ycskPi28wR0wby5gHzYg5hVwCiGgbyOQIGYgORoHgSbyMIEGeANxkHQGxVw50Hw4sHpgbznZQ0HziHMhnQYGigbzuJDAB1yAE9uAaG6GyrFRKHCgbzA8EHA9Yw2HYgbybh2Kp4WBDAyyBHVAhGmYVheGYgbzGr0HYh9B4ZuAHjAQAA+UACHZqlh6R4BiETyeRmIRR5R8IAEdRiHHybRlBsVHQ6YIx0AFR0xjR0ASEexmIHRm84AAxgwJR+xkxsx0AMASx7BnccEAAUi8bsYcf8dCdcdAHcbFXEnkcib8acbjIeKsZCYAEJJQkmfGomnHsmgR0ngmwRwRkqIm8mUmIdUqYhinCGxVkqAQDHkm1GnHGnan4mQnVGKnjHWmId1GOmMnSnVGmnuAigWnHH+mgRfGhmIRMmvGnHChHGYhMnYhoz0wCpnieA-6b6AGCwFLAQVwykhgM5uAH7-6D7GZNmvDtmd7H6l18AWAAArEwSgD4o5jQSnFwRx1BnZ2+2pLVLIE3Qe256+-enDNMSKLZ853ZrfZgR1RkdBG8r-B8r-HRwoqhsVSAOgb0ELBhmIbF3FqPdFjFvhsVMRhgWASABBilqlkl0l3R8EClgAUXQZZfpdJZvIADlyAuWvGeWuWY6MXrmqQYX96OFQrDmVhjnhRHHtodyzm-nGoSEPVf67mLmOE3spXpgZXWmv6LxQXH6VXIW4cB1cQxW9nD6L691mVpDidXo1RSAEcTonnyBqwrCupNB9BW8LWn7H8OA9437RcQXCgbXw4EQihTL+ZpwsQkKtz41pDQTiz87fMFd+0ki0ylXLmVTPLuAMbDWNWTT+S8aQ2Yh03kZfWHnnnXnET83fXNXO8OXCgc7OK42eKF5aY2KY4xAvh7KwsfajdfD4xCA23fawRIX57AH-TWZCMOZMAMABLHyKBTAGAOUPhyobhSAs01EPzn1lZVYPEd3li1tOlk6rMHxurMEGA+quNDZdqZA2lD2xi-hn4VD6FIK7Qj3NKXACybhn8ystBAU72fqa1yBlBlBKqMhqMjBkdwOUmmZmr9AwPlBs5wQGrSg0PMbMErJNrkOm3nQ0PG1gOL1UlKAo81Y73qd90qOF8yOVGIhoJVaQdKA72DqIRNrf3gljAAPF9jmbXSOo8qOJgDrrBwRv3tnJAwiKsFAkOb1d3ZC91oiMPk1dIMt-E65FPQBU5lIACQ1XYbxFPwgdZ3347DPQBCnMFMMlODBtpNO4zwRMMV8l2wOZw13YpN2s1FPjJmhdOp4aq51IlNPtPVw+Na8ByiTAu5Pj2utwR2PmqBPcRpOTmRgi9DPL3qsGqb2FSpNJCvn9mIv4EzP+rVxMvNqEumAyAZOPFUuov8dGqMvRPvOJO6PcpQQHy91FXJPEvKvou98E41CvPFCEuIQ0HdC65bO5ObQ7RDPOu6OKvSBBI339YWO5pZO1oVwMOAByG9vdA67bt906h9tbkj+IMIjlUgNpc7+jpjmQl9T6fdzcbaK7-D1cG8oQYQXq4IXqhyHSbeNwYsXqqfDgeEXrsvYbp72sC7pOu0Z72bqTnrt98H2+WHv8fQFH8r57o80AV1915QT1mcZ3MJDwFdYvXdg7WdNTRDDbxl8ngLrRamcLpLc5RDUt4qz5nH9YPH6gTQDPEnYntwIT0n0H2IRzXLqnxQm8zDaVPWnLmTRDaI0yUJLHq7s+MHeGPnrlNwUnpwgwQWWnyn0JKg3mrZpdBGoEFcbL6pfua7Jn27IXoI3+-n4wUOD7eKT5lX0HZgdXonzXxEnvQ3pWmggcs39SNB6nrCbaH3lddeFHAFk9TNp3mPmnV9xTCPfZkPiSXB8P+QX3pP-dN903oO+zjnj17ngnhiVTmYDBg8PLhY26hXY5kvrnnnwnnPldQX+XhX6voPYP267ZxPl35PxAxuv-XXxWOXgP5A68sVKX6kGXq3r6eX4fyiVoyApXwQiwyPaPRfw38C+26vQ36n7acXjLBm9DEPOyMPFwAr9kbfu+x8gI7X9CwOA-wgazzCw-1Ps-0JMuoHcPG-88gEVhyLILQxYcqJQHwBNRGoAwCoIMEQx79IM2-bXvZ1AHVRxOMArzGAOyjHF4Bz-EzoAOGxL8o2nEA2P0AUB+cSAxZCoDAl8CL5DAbIagfQ3XiGBSQCAk+rIXoHWdGBtA0OCwKeCI81CSNKFKzyeCtNSBH0CgWCW4F0CWOZAhCEYGEH5tCi0g3gaSGfKu4nW-QfeioIUGMNIwTA1QfJ3+pQpqeKgoWMSH4Gp8I+lqRQWhFEGONqgFWG2NoP0E8D9AZgvgS9z9D2D1G4g8gURChQXVo2sgiQTIBgTqxPmweEDjQXCFIx+kgQD6BRzkEysL6EwcTmEKoBxC-BSQj6EYMdohDFuihOIqn0cFkBnBDiGgYvgeRI0ChTbHwf9FiEnx4hZAnIf4LPQJDBIQQykuZWLJCgt8oIeNGokYZUBqYSlekls2eiHFiYL0RgMJSGGYw9KIpCuJMLjJf5qeSbQYPMKCSsoaYAgsjmQEYACN+Iz0Nks9C+zbDRhiw4gR5F4gVZDhoUBKrxGGE7CxheAyGKhxkBJhagDVanuCE+F7Bvhb7KlJ0DTIjCuIVAcINT3eExAlucGH6KCJNjrCehocPoZSAGG+Ynh4Il4XpVhGDka+vEFOGnH6419th1nW4QcIYBHCEqN4Akaz0VA3hSRdIisvsOWRUjkugwWkUoLQjbRGRXIoekpS75-CvhH3LHghR7aSBDEBQxRhJTUI+N6hyabWuYDUAmAvAU8RgKgOHQajnA3AFXpiJV40xxhNzKkWCl5x25GQ5I1kQ8LR6Q9zWYIrUfQDzYMs0I+opSksOxIPCTRtudKOpH+EcAPu1PYoRljFEcAIBjAbIcaPdx25FRqoKii1ARgIjd2O1dkQmOjHiBJAzQxId0DZDdBWBexLZkAzSg4hsxfgVcpPRBzZwv8+kJQmwCw6GAsecY9XkSB7gJjDRVIboIyEj4Qi3RT6eDN0HCAYdMMWHboAXBDGgB8qAACWZYMAAAguAHADMsAASvlUgAAB5LlsgCBD8VN6MgSQGoEwHaRGYCIu4ZcOxh4DeAsYmUPDCPEHDrOaUJ+peJj7-cDxtxC0XQC753jOgC4e0e8HE4fjMg+4zIqILwETipxs4+cUuNXHrjfx6YhsY+K0iATXx0hO8dkIbEMAmxEKRCX93gnOBPIfg4Ad8m9Au8nxCEzIQcJPH9Qbufgt6OEOObi5thlVNRjUWVGVo1RAE2RPRMsgYMWRdAciS9x3F8RxG344pK+N4m0xRxQPZVkWQqyMgAADCcE3o1BHIYKDINAP84UJqAgwK6CpIRQOBpJQICSTpI0GbU8Q3YwMAZNyC6SyA4nQmIpMsz2JSYf0Ayfr1igaSZRNfBzg+SwhOS1JLk4QFNyyBHtUxgQSQnZPFCpBqg2QFSetHfDaTnJ5UDSXxXmrKTJEcU7KBpOSj3VFksgxqI5E6BZpcBK4BRPBngEPICsyZWyWomLwBBYpPk+KamBGLEjNwJ-QKmoWykMBcpbALNMfwD5MjEGgQHKXlPjqd8RipydYmWPjLEABpnUyKRwFTEVBKBoQbuPAnP7zCDRUECeG1I6n5Tba9+YqUbydik12gII+YQ+A8IQEK4LHWsPXVYjc1W8+xKYRdBmF4U5evE66edLoQsAKx4EccGDVKCfCowYNZoJtMGknDv4LAJogIWggtFqC5uPEU1MhEERSgwM6acf3xzGdkZWaTCsLwWz-TjA10tiDdwxmk8seGwp+qLBZzvw-gDktGJ0F4mtiBAKwyKtMPvHPT+4q010eSAHCTCLOaLDwkFAcAdVKRVo0GWdDOGOinRMQU8K9PTrNEkCu0+EaeDAIYs8AkIVWSuH2LTCHpq0FmXMNpkLDAY10oKNzLAjBgfpsYUoALIfZCyBJ1MpcHyKZmPTTh0wsXNBFdl5glKI05EbbIxhSz9ZUMLmiPwFj-55pSRVIJEl9nszFakQAJmAFVmQhCpFcIUQCJFE-5bp70hMBsO9mG0-ZRNc4Jv35iWzcQbIwgHuF-BrSbu7w+zr6MBGKEk5foyvnvmBFZAS5ZzUkFCIKS4j4MJchGWtlJl9CKZayKmS3J4BlyPZJQuEZhFYFIipcZM-5JRUHmPBCAv4YeQaJjnOM1Z48uGWmShRaciRqQLCEvOs6FzrZ-EGkbYMKI0jSQvUwoMfLZGR9z5EshoJHyvn2y3qAot9nXO+H1jekKktWLkUvLjS2yZ9P+eiSsgST7+bwaBOeNkQSTpCHiWBcBm0nHFYFbAwOLIRvC0Qop2MqsW9zYC5TfAVcSMvCDfans7QCC1McTmCQSSZpGMXUaRKSA6ibRrMiia8C2bQJ+gjACSYyGCklxQpfwcKfAlgWnEtmx8yMcVGqy3yrRdC7idfON5wVoFkSdhUIGSl8hZFRQF0VcPGmiLTR3oiSNXP9FFCK8X-FjI1Cu40K5ys+G2Jwqil0jgxEosMVKO0VeifEo4kCQwAXHWQAAMsyw3HVj5JclXceIwknCT6FPEnOagrKAXiKgV4xCdTzvGwTQ4wS68UkHfHpjPxKi4pBej-EbYVJmSiJW4o8XeLwA0EmcAkoyXJK3xESqieW0GDi5kJUo1CehIqVeCCOEk3CQUPhClt6lHQiELPymQqT2lHQkHlj2JxJKRJ4SvAVRIyERD3aq4LhY4xqKUKVFNCs5qEt4mlt+Je4sZWspzmpi1k-rUxTaOtFkBbRMiv2RmMEhVKCh1EqgLRLfmt0FlsYapYkSoGuCqhBEQiWxNuLSLjxOcukfUNGW5LjlF3QcmctHqkkJatQkmSYtXZHKru5Ei5dFK2atBkQjIQsVHhIDAr0mmCGvLCpOWJ42iKKhwF9NNkahqe+yl+niou5YqEVfgrvkSvgQEC3mWKr7JCo6GpjBYDYpaASIiXLc72yYgkUZy1ijFHut8QVaKIgGBAvljAV6A2KQ7ETnA60e-Fyqpnfj9pcitsX4EZCNLywzYtVddMbAQdcqrJb8Rcu1ZNZulLQ7oFhKwF0BBlZAglQ0CKg4gbVz4u1XhJBZYRvx3AeoUauCn14FVko9lbnLTlJ4yKHkD4MEEagGTZVl4mhUipuavjGQkCs8HbyEWcznCAi6JdytCXqqKQWzdsUCB1W4hmxiEg1WwsSD+qVFZqgEGDUtWZjtgv5AZXhLHrOrrVTajgPao+hlkHkXklST6pSZ+rWSBkulSGsDlQQ85i7DAQZOCDSr5V2E+gLu2oVqqZZZeadb-LVVvsMB34+dbaovTbrA1hXQ9etEjVSrTVsa6JburdVE0oobAIiQuveCMg3FYExccuLXHFLyQz6uca+sgm+KvVh6gda02tj3rbV-xQnIGHBAYgxOa5XdMIESW-yUFUEU9dGu0kXr4x6a1hTc2A0ZKn1k49xV4p8VMQClBGv9WoQkmAbHG2G4JUTSCiQaS0383OmETeBPMKcveXlXpyyC950huFZjY9GLzRDiKXGmDR5BAy8aUQxSNjXgI-4l5xOgsVtjQxY2plJNN3MhpxuzwXpoCCmvjcpvGndSZNwmgCoai03ib+N0haTbJUWQ1AxAsyUOGYp01tE9N76TesxvwARSxNpgREmyrIG7tW27m4dH5oCpV8vNH0N9i5oimib6AimjzbPki2PQm8A1XFWYugJ+aYtdAKLW8xdlOjgtnQguM6vBDvdeqiWm0Q+TC1vj-FiyBTa5vgTGaPNtK2oexsY24gatw6ZrYFuyqBiVIAsDQeUKkSVDalV4IrScquy4Vmt7glIOloirZbMt4zFJpVvC1pJIE42uLWNsMATbptTWKbftDy1fcrIg2i7g+Tm1lbF2Vm6jNrnOV0qrlHQm5TMu9b8iHlqjLAGYSKCqaEMMKsxSdsA5Uq2ksfV+YNTmghig1LQ0erYCe1l47FoYi5f3T5CPbYIqxUNChAaBTb7oeWn7oVre3FbuAH2qGJvQRgmB+AO-N-hEpnzn8c6PbR5icgHa00seTffHmyTO1TbJwota5dMruXOhK5D2v0Ljog6XZNI8LGgNRgxoTd90rK2ihjQ6jUw-GSghmpWHFmPybIl-YHFxLGikBY8fVGHU9vBA06y+GeEHkK3Dr-b7FkO3YX6Dh2ZBB6SO6GHlq10t8K+u29Hfiu4DW7y+lMeSY2BuDq8mGNAxkAAE4TgE8T3fQ0h0gd-dPEGgRcqfoVY1YmOnaZmodqXw81AcyiAOG+ZSgZJhdWIAHraSbdNuVkNAHnsdU3Tx1DyTPcmI+AQzpgme8PSFlVhUSR4X2FwD5CnIrgCZhQSvVROr0l1uA7uzhKHvoYUK8F9DQhdbg-hRq6t7KiJdluR38AIQnQfBUPqlQ4r7d+25HAPoIVMBIyJrRZFHzcBfaACdAIqCeDICWw1kxLemaAFaCMgPevgNXhrxJ75JjAe+oqAdSODDKM1BgbHKQGP14tzO6kNZD5X3geES94IbyD5G31MwruXWp-ZDn0YRsVwJejHnCuOCyzx1LEAcKaogFQCp4cGxfK0AT2xB11kiWdTuoPUPqLFuBsegOA-1f6o8P+iSH-pNTwgzpGe3vW0mAMgGfI34wQNgdEDsHvI-kZAyvzYihqGgQB3gz5AgNiKmYYhmA9dLb1SiHkVE1nXdurqmMwaCBobVyN50QJuol2VoORJ9Uy7-oKTOjC0r22XdpUBuiHdkIVEiIVa+cziNASECGBHIqsaoEVATVUgL9QIK-TfrAOgiDUX0Nw-wGf2v7MNVISGEAzMNo8LDbUAHQ4p6U2HTJaCl9BEes7ggHIbPASXNCxHkBZI0EKvKd1xBmKtDC8HQ19D0MmdUjBhiXa0xMP1ivC2h6jOf2YrSgK6ocTqAwHUAiAOApAdaOwiIBnZd+PNIOWP0sxC8mDTxG5ozJOGvQhaP-HOW9LaIrCTZ6oWoK3gtnl0iy7Rn6J0fe49GqpOc1vM0FyCEA2kIslxGcLHpMF78r-PAywUYpqETjj7W+PL24BPGhpAfK48IcVBr9CA+Miem0XeOIZctbfHfWYs24aj9Aj8gADpYBl1Ly0OBgZkDBAZOyaZRsY3xxoQc9qiI-ZRW5RpgwDu+iE8RKhMSzYT8JhaUwEgHImFuoImvrwBPBfYegWEBk6AAABeBrUALCaKA1KqTb0FE+LvsbcAOTmJvSNifBBUG8TNUVCAdFwpOGXDm4CEwib5M0mZOeTMbiE1yNWQWAvVZQL1Q+6TBNuaYPAISfBO8mkTAp9UzT16o6nOy+pkHuKf8hAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruMKJ450U0xwancUPX+sjUjMDEBIFa24wRqK4eyPo9xa49wTFNLC8TwgADIsm9Bxr4nBlAkmRNCYXeG29fHpzvlNSJ0SGCxJsVZOg28arfRHvVXweiXEMHwEA5p09KkrzvttQORif5lNSBaagYg6DTzoHE-mtjXxwwieQKJQ0GnxKslMmZcydLN3aeYHZsywHDU6U482RiqL13yTeEZSZ3HByHoXY5ez26p0GbEG5IwbyjI0ezMJv1UjGiEDOCoyguplXoJ8mIKzkl1M2YsqyIL5mgwhXPLKdBWmAvMCisFJhIWYrOV0y5SzljfMGHc25DzMlPN3oXPFaLCWxVYZk65wzqV2j+XStp+9kipAgUyjFqIYVGzSas9ZMTQSNNAOCQV4LmXOGxYXeVBLhXlUMOclxoqKX6CpT8mlizg4HL5bnN+HAhVQsYKyo17KtH3K5YasZ4zDn8vqU1Fg5CGBH0IIENwzgdXVIlQi6VWzZVdT0V6n1frDBKpNZzCNnryAMHXEvf6hhA1aKVpqklPS+nb24A60lPKcVog9V6pxwhfCZoTEWvVTr-kutNVNESOsqDED2TWk28KNmhqRbK1tHx217OVa6sVSRvWH19cQf10K2XLI5Qau0tLSljqmm8biqIfjRpnbGudtqF1aJqWskNO4w340KOCDd1At0Lh3bOrF8bOIbsnb6lNgRboHvJXfWJDBAgyBlXNZ5Y6X3RuAfQDN87v1aN-f+mVpJgOmtA1O0gLU2ALKuYehMsHKgyp0E2zmci2i1kcDPKDXyg09qlWe-t4JjDtEusoYgo7TWP2GsRxjZHFkiyw4GBpdGOOkfBMLbjT76qCaY22rQezIMHtiNB2tnLi1iY1geD4UmO1gJsTxhTgY3aicQ5zP1M4h3SbAbJ9ROmKNaL+WEQz4TvUKE0LiejJGmPaaEnCs2Hn7NAvdep0zmn5kebteK6aiNbMAomQwdgHgvCivHW62pvaaPqKsrF5QXgWOczYxl+L5HYU-uleCPLwmTpGN8+YPLMX8BVoS7q7lBGHOtRBNyEVBXEvaKo-UvtaXZUteoG1uNlXxautfTGgNHWGsNrVmOueYgLNkus4ppdWRGsqZcA5FqpAFv6CIFZwrR6dGI32xt72amZzzb24QA7nXtqnZG+NdT82M2ndC4GG8D3d6lq6wnfQPrNFheS9RsEPqrLFGxT9mhZA6GhUYbxSGFCUGA8DCgkcsqZBJlqOCUAVtwSY72Nj22xHOj6AR5w8IVs0cxFtlNP7vFKcrFKIQ9qQpwPvFAcF8n5CEnI9p6kLCDPQA5K61hHn80iilGhxO+h-EbwM7pq9G84vFcvWl7Dhh2MRgK4vfTIo20Ve6717EZHEvVgY6x8IcEq7TWxtjhwSg2U-aHxRy4LCh9uBezNk1jyagTBeBaowC0xYA3B+0s4bgDHSC4nJ1H3EyOxqNll6oP9M6MjFXV4rOH+g48pooWH1E3AjfG5iLn5HmC77J9TzSdD6P8eW90vJa2M1bZ27EA7p3FsBJw+r+nn35heDGHHjKQ+ZOqCu66w1ax20Gf95cGlHWZ0cRsm6KNKCjYBFAjSsvssvgENDK0ZvsCwZxz6Wb5kUAzRDA28IyPhgRJelj6W7ERs3RGQz-HxXo77dDx+HCKUcECHS-UAboUJB3UAAAFQAAkABRBgAAQXAHABgIACUIDIAAB5AAOWQCBDNhOB+xkEkDUBajcBDwgyf1oW4Qn0HxBmjiPkoJhzN1iFKAX3oMPiGgL2cAzXV2YJiGaAX06AXC4Ig0e0EMyFIK0lRAzQn2gLgMQOQLQMwJwLEMkGHwqA4JWhEPeEYKSAnwXz9nYPv3LEf14O2TIPD3oE8hlkh0Lm9C0IsOkN0LoGoNSUDBlh5j5iVl1x510SOmLxUD6Ey0D0kPILcV8Msnvi1hh2oNV2mCIIYVCMsJ0PV2oJ-nANIAyBBlyAcH+kZAAAYCDC4ahHI-0siWpCBCBWsiVqBBg65yicj5ltAgRMiLVGi8iABqUAPEL-BMVo7I-AXIsgR7NjEon-UhVBEhBefoioqowbGoyCA-BMLCQAsrLCGYgbIbbKWom0O0CBEtH7QIfpEGCBVIaobILIuBCDE0cozYhYxkMYjYyo6o2KWo5KckQueWEGRyToeLAHMaOMb-P7f4-GUoUY4gUoiBf7KdAIW454+Y141MfGZodJLGAHUE++A8PVQIb434rXQYAHD2JXHEhgH4tgeLG8QkvgpoFoKdAKJYj7Eksk+LfoufRaNqUIHpNxMHM1CY1wqCT4pkvE5eFYAcOnOef7SYAE-sYUf7doUnNBFoKUqCWMIKU6WsJiLMZ8aMYveBRBZ+MuZBJef7agzUv0LBdHIJfBemUoTHKMAI2IZoL40kvEseVhFgR8ZiLAaCCiF8fGOFLCOsYvUoZ05k-EyUjxExdkIU8k+tO0B8YvZoO04wM08ickQKO+UM4UqdNklnFaNnQgfAf1P4V+Pki+fk8keBA0-U5hQ0xgFBUshecvckAcBBAAQmPzwUWJWCCgcCFFxGTzYVLneVrCHNjg4QdOdFPFNNx0KF9P+DFIFQlNPGVONzwEhA3JXCrNrJrJrmH0ngqWnMoQwRXCwWrI7NHHAnHAxL7JkAHOzzQUnOmDdI7gHg9mgg-LzG-mRNpJPkbPfk6FNPTO1LtllIqA5NSGhSPMVNN0iFAHXM3J7Lvnr0JytwChApVOW0DDzP-PPiPObLnO+0LlvPvM10ID3F-ATyqS0TRxwRQo4CtzxwJwYsbxUhaHlKyHIu4EIFJCpyXn5x-zJzmlnKbzzMARTSLNjRLK4p4Eou-Ixl+wlJ4sZ1EuPiIXEsLOLMeB4u4rZAT3grAA3MhAEsF2EpF1RKxOUqthIqz013lzxmN3l1JDiKvBssHJnwcpL2dBn2cqfKvFN1tnouxxvwc36LlmHTAQn2PUlR6xowivmSsn6Oy2fXoAhUHwDVZLcJcDrVZLOxmMrWrUyuorC281+QeVyupIUmK06B+N8AiUyOY2pOaDrVokuKizm2eNxGTTCv6Mj1rGjzz2iKSD6rIHj2-kT2uJUFcTKIZBaMum3nGPFDOLcVZKYkbBsr9XT0ZAvTcuz1z1SL8teFSrPD3TcQhX6EYFZJcoIjL2-l6MDA2rT1rzouYqJyZ3PzYGJ2US0AYDjwuItQKv0HOqEBms-mLzbw72li70epr3+TAMkEgNgIYBQOsgABkYDcCPqiix0EiSD+ieDJYYjjyRSsLVQh92DnDKrxA1D2Chp8bKbbZxCFx6azsmbQaZCsrEa4CUb0bwBVCZxaaVp6beDOaPCLoRAXYrwDCu8jCH8AMzDDrYhwR+jrCLZ4RrrChpal9VjEqsjVazp4Q2SWtcRhbCbhriaJ8PDNZvCrx+ijoRK0JjaWpQb-rIFUiLaNaTdiCU9TahqXCLa2TY0nMLU-r9qzb-aUFF97pLaLZPCqAbb4il57b8YxbKj1LnZi97CkinCw6-bYji8vYnb6bc6qCA64jI73YQqPJKBfASBoTCAoqBc0ScyrZtp0SFKzJgh66rJbJ7InIXB71Tr2Ra7GrHs3gpZKAM1-jiru1AyW73rKT56TIWhSBzJu7ZVe6HJnJaTp0H0VB6AJ7DBIc+FXUBE5AhEoA4BEBkB0BJE8QZEPIlEax20ZVLpKxPNKN5FFFvrrFMllJShyspBnQUTTYKk-7nQFJnFpJiULkRyyMtUFxek0gwGjVuA37qT+CutGUFV1V90jF-6WhTx2ch1UUcGrVX66B37lIQHFq-hLVMV3ECGn6FxVV0VyGw10HqGutXktNwHFRmciGeHgsOHKGMHgD116BN1nBt0UNd1JsjUmGiHr1b1xs5G8GElOHgGutE0o1ZGH1GGIHQA2Mw4txy1k1U1t5013FParwdHk1AbMkbHVxNHFQaHXNOMDH+HCGfh3HSMjAJMQZAsZNrGWhRGuGpo8tPH3rmGYsuR8t+0XGFKW0xYNNO0+HomiHB1mAzNhGEmwmtGpo7j2sFHDHjb-tvqZ4w5VH9HHHQn36nHChf0kGP4M0XsQn0GxHTJV6u6w0bI7It6XBNV5lyBD4vIfJmGOgtBbCOqqjq0VYXshJFz31qAFAb1qByYTHkRlTDRV5OrlnVmaANnXVlYHBuAFmwx5zQKDAJGnNBj2pNmHBtmGh3wnrioJmX6qnAatmGnnQxK36Dx6BO1FaGgqmLHp4rHvngWigXsfnVwqn-n5ATlgstnPTDswtW1WFNr0MxGWDEs4H2cJ7RhYacXMGrTNRlhLnMLO7NwVY+m+7t7PiR6xnBBOqaocwiKx0mmgEWn67DA0HRGASgots2mfUlgvGbZXHMTNx3mtBlYLtts45RWOF0GfmuW4GM1jMFWp6p0wh+X37cylHJG1n6AZHd7TqKH37OaakGrynn7ZXkM31p1P0jE9XJhjIBG7WZ4HXUNKR2n8mtGZWvXJHxs0MMMNFXWq6D4iHfH3N4k+W6nDYlmO1nN2MGM-G42nnpheyryNR0LIx9QlmuoAtsmgsw2JhpThI75A25XSBi34qy3dp0G83KJMKYhGwqha2TNFk4HtrYxq2O262cmG3OAm2VwlmMWO4B2u31E4HM3nQgop2dYZ2P5UzQBKX-Sq3o2AnJa0JNWgnzMPMR3RHV22IOXTU1WHBjlepjjbtOtvFEYb2qaJXl6VjIRL3-UZlag4RuAL3mkP3gkbxH3jgyJcdQ4x1DBuRGBBj8U2HMVFtE3ZSiM03Y2jVDYjr3gBA43GQY3AmS3gnMlV24Vk2a7U23MuNLMSXShn2tHxbbpIOel+B6GnDF393cmKOiT6YIOQboOmPuDu87gcOd2vLFQ928OD2M26U5yMLTzKNsG1V2GSm-Qqqdw5PYPYoc0LlHkfzxTzUQYyGGH0mlPgRpVWHFUncEGtOrxmh8D0yz2-4iHImRHLX19JqCrEE4mas6sCPKzJruw9RsP6OeP9OnCCqgIX9Jr33Y1P3QhGRf2r3Bg-O7MGSB6Kmq5at-Bi8-nKGAWkWwREvuBIvpkNR42OnI2Uufgsn62LWJ82MJ2Pkjdq3W1B75GXXgXSu7POIYmhGw3XWJqMOL5axGRq3uu4G-X36mJjkYHulWERuNPtVamP4I3kuBviAyvvGWGpi6HguWuNGBWoJJu5uNuPlTPcHpYLPHGVxq2TurVRvamVXLvj2zh5NC4YnVOzO3EnPDYDuEHRu3vTupvi04jq2-ububUXWE2gfHveFZBT7BElBL7REb6JFLAH7zBrXRyXdObRnCkGq1vjHjmwXJAyB42CreuZ60RitchbnygeZXVhNi9Cf01uBSeE3HsbnCyafNnG7usGkZBkVFAOf7m6eztQWMVwXiflYJ8cMAM+fuiRexsvmpfQRU8ZfuB99eVOZ4XsvEXO0ZAlf1M4NZf8M8eI5U9e5fuD7IrOb+M6vawytx7Iq2fUhbfJjU5ufgdYrwEGJEqUmP5kqPIXeCWtMP4J860Q-czHAvg29vVtfAWtN0HObKSofCD5WGyE-ye8kRhR2NfOvI+izI45ml4yfChlusIUElvzhGwikQZiPcQEW4-5kHiZpsbWNTeGzDv42WmJ8MkEHO+GIkuc+PIK7e-lZxqIgS-ASVtBhmzB+NYl51XR-YE4L5NJ+PsHkZ-UeB61L2p6-cujBe+U4Sf1ga+9vluOBY4il9+SURYcFz+xBL-TwxXDGsJjHjSO-D+OEWBj+Y+qG-Rmg7-L+HfcIAAB5gQl0e-owkf4ksz81LCEBAWcRGMhAvgQQDtl0TmYmw8JWoM0BxxdE-KU+WOP2Sv4XIRYXRMrDgIdovR8BYgQgVAOgFdM164IeAfgG9gQkUBYgNAfMgEQ0hMBwgbAaAFwF64qBhAoAfwNlRWRRBeAqxAQLvKzw9Q7Vc9lAyxAA9buCDMnh8THRv16kzibEOnxXCFwuOH3A-hfFvZIVv83mIAZOWZyUMtBRAITvTEYxR9hyu-TtB00nJX4EG6ON2L32gHvVtoUAvylfkg5xl-w3g3YlkFoEnsx2spN+ujmr6OYU2zgq3q2yKCwDDuPdOgE4nKDWwWkYXJ8Pmx1Kxh22SdIEIuzT6PdVSd8AwYv2ngA8M0yOWFonQWo8tTckQwiqvwHrWD0QOg5Pj9m+65pWUqg8sgmzGgvdOh2g-7KfxWD6Cgh7-YwWhyzaUZzB3g4MnUxsHYgnyDgosk4Nj579XBBEdwSSk8H5ILBL0UoPBD8GdA++bAHwebiqFERQhf4WQRMBPYUDBQ0QyhrEKSS18f+OXPZPMIaCpDBhfTTISIGyHTxmW3XNltqGk6FDJqtFc7J2wPIDJR2FQw-EEOH7X9qhYNLypHWaHfxchrEWzu0NWFdCJh43b7CfT5Rn15A8PERNfXESSJsAP2dJInAObrMQYDzOgB-W-we9eepzWVL6hWZrNgY-vcwIKLZHkwVmVRUtgwy2bvZsqSmE5lyJ-iFRWRwojkbDyBANJ0w-GOYGVliBzBVwHHIoPxg5D6iYgHII0arn4wYRzRUrK0TqOKyxI7RsSB0dMH4z3s2AZWT0c6GNGNNis3EQwFUW6hlZAxwY5AYqD9GxB+M1Lc0dS1jBRiYg-GehCnlYBH1OAKYlqCwAEQrBExxnHcOCA6J2jYg+gD3KAF8DhAiYoAUZl0QjF5j+MnkYsQzDLEVj7aozHyHWOtHFZv20wUsdwFbFVjRmkIcsTEHrHFZgATYgwC2MrHHRRmYATsY6ILEABSScX2PLEzjqxoAJcSONABjiCx4kYsWuIHGzj0cFYrsQWIvKHjpxbY0ABeXXHniwQ4IYAauOvGDjQAoAmIGeMXGPjgBAIJsUeI3GjNfxn4vcY+MOgvj+xgE0AMdBAkPiIQh0P8dwCKAASbxCE2Cd+IhBtlJxm4woFWJiBtlYgLudMAVEmrij1RtPPlLUMBArglYcwbimqMOYaiqRJE-rmRMYkUSCwPSFgAACsTAk9aiSsCVjIh7aNohieyLKx1oUWeYooGxPZEcTpCaYSKKRLEnkw8Um+fMXl2KxksysZLaScJ34yQA6A3oG9L4H1GGTjJNdPSV5WTFUAU8sASAOaMzH2SrJJeGyUUgYAwE7RmYmAi5ONz8YsC5ALApOIClYEbhekFiVSFkmqTrioKKiQCBokaBlY9tbaHr3olCj2JakiKQICikDEMOsUlpgJOmBCTkpiovXhwhynENmAnAxSS8j2YVTORZzHbJ7wnxO0J4aoAGL4GHLcSgY6wZQInE0B2DYwFUqURwD2SyjHmPzebM1KOBFAOu4mBIIQB+E68tME+LLpWF+FaYjctHMnCpKYmcTZhh1CqYyiAENNtp9UsbPgB4l8T42h03aZVPyn99fJsQOId8MSHzIVRk1OIe3kunbodheybDvGEWlvSwQikykQWGpEX06RYiTABgE37715kFAUwL9VrAfByoNwUgPFn2JWsdEeiAxGH024cBg4rdRUTeH2JSlSBDAcgUIJkH4zdORMhSrTImKzYkMigG4OxgsZaBP0icWOLe1XjKBlAuiDIC-SMBnN+ZG4gRF0X0DkB+ZdeHHAARxzYDxBXRaWcoCemKhwQZWKgQPyhzxAa6+sUuI1IWyGz30kgSyZEGgjLcqBog8EBCFEFU82ZxgDmb1CVhTTp0WsHoAs3CCkDrA1uelGOjdkkd-ossebNz28why8cZsVijSSmgNIQ5wuLJMpH0CejghUsnbFKTMSZ9KUDyEOeEDvGrEqa4ZOOXRQhzut4Zp0aWTOAYyozso6M+LOHL-7XNJk8JLYm4jjk5IL05SAZPCz0bmsc5OLAArbK6IBzcQQcwuTtlaZpzyZrwlYDjipk-ckGxxJUZxOa7Qoc5Eg1cLPNEHDymAZAWWHWjaZ9yvZF6eEFHJfa6zq0kkUEGVnmz0TTZI83eW6ySZN0sS9cpvMPIhC2if20qbaCHLCGpza45U8+TvNICWwn5i+axK-IWjggAA5OQPmzWzYFreKQdQJkEhzHs280Ov1VbEZ9k508XGZuG2hx41ZsYfjEICtxWRggZAhyDpHMJSEyBSVemW-PPnhkiFf81hTwCAVBymqHCu+SwqwUcIbw7CjBfwrW7dTqwEHfqTOA-jvoPAu6eutzyKYBp26TeUhc3MxRlZu5ZrJRTmQaZKwxFvUyRfi19SyK3Ahs7Vg3UfnL1O5M8ZRQtH4wQ5hY88-NMiJzLcKfUa3XPEM2YCHwZFTGNwPIrGhLNFF0KQktKXbZjZDuvbaYIdzzTIMu5Y2FedyVcVmlVRJi4wFoXHnxREpni3wMMx8XGK-F8bEVskp2Z3wqmkSuiraKthbR8kBS3dJwXHkcI60dSsghkoWyMK2K5SjwXRWdHVL5AhShpQtlthdLDhdFfRRIuoCaA4Gp83FmXwiWqCjceinqRMqmXSKWlRS8efIssVsU5llEtIRwrSWDKkuUnfIVcyTmgMXFFi6UkFHsWaynFcSmxSUpOUttSlWidxbZzA6mptCTAfADFhBgDAKgBJHMonxHoBK6KBeX2bPxcAArs65UQGtPWW7bQHenArZWt00hVSaAL9HkuX2lAgiVoCcBgOoBEAcBSAhsBlEQGrQIrRSiHJctK1cUVsKQrnaskCCQT1ljS2Ku6huy0TYJOyEEFYQ4DxU-5CVZCklevT5z7D96hAatC+Q+RvkCRzygtjSrzxYlQlyQ4kVhFyBSrwyhJbgJqurSL0LF8qnMDCPNJVs6SK4U9sSL1XyK0Vy1DQpXCFw4LUgVA8MrPlMRRkdOrq8fIHUdyBBYV2xRgBTW0IIdG56hI+JXGDX-D4ZVIN-ECFlomEAMwa1do2AFmr1Tk3ymWIVJeha17oOIWhWEX1r3QoRDQIqHmv6yOFnAhapqPTyGlYxtCnuDcamqOKXYK1neA2ASPXaEUoVJ0YICDBmITwKaRVHzqxPDqMg3gaVc1qtRbJKr2CDq8OnO0ZX9dY1dsO-HLUprJrJqTa05DMUzXxT6YOavWN0F1ocAq1CgYtTJP4BlrlaetGwp7XWJZEG19tLdaih3VBwO1JqtMp8s5gwqZiwQf1a3NbVcjsZLtYNdPJiClAf1WRKWYBu4UwrtC0GqQs4DOxwbANCGsIobA+C9r-1+5INTBrWqTUXEDhRDRBkZByEECSBVAugWwJ81yQZGhQpRuUKY0sI9agwBuMI3-rjlpNWVBiEhW9DhAQtKDUOsKCYa-V-awNSPldoEioobAATRwHUlkaeaGNJiAprRoY1GQ968+F7HY340CRQUcEDxttXxCSObwbiccyVbAbvMSrR7IuxM0jxeWoffJFZr9mmpNWtmlEOYt5mZkHkTm7tVNG+GBjTNfKezRZp8Q+aU+iIgLXZvM0Z826OrPKjOjBQpBAtpgDzRPgNXaziixAMQO2hWh-VotiKxzXFrW4mb8A5xNzSlu4RR0mo3Pb4eVpFR1an+C0CuhbFtglbzirm+gMlsnpA1OtI8XVg6UDbIzRqNbdTHVp610Aut-WkDnrma3trQkpa8EGQrIGDa489vTraVq5Et9OYAWjbfoEi3ubKt7sYDf5qS3HN9tKWp9i3iSZNEHYQMPTmDF6i64VtWCkbYlsMBda9tp29zRwlm3R0UIDQL2Dtva0JaOoX2lLZ9ve19b3y9MX7dVvzgLbKFVkZ7aNVDFJaNtNUsdDUGy2ysYWxNKrYJFFqx1raiU3XLRUOjelFQyc5HdHn0BY6ctQ2mnQswaGrgIakgNtbmtNy2BptJQakKXEhr46sRXO2CNZxmj-aigsOwSEPAW3ULltFTBnaZO4B06tAGO01EfBMD8BHlDdTmtWx5JfSvgX-O9H9Md5zTzA4yvqZMqkUdxcdEu30EFCtpeESdfoMncZDV0CzZW6K0FEnFlZ+Uf5jS7hMzoZiVgr4M4xWrAKD1gbjcdLAZlETNTMscB3pT8pejN2GK-eHS96qzsdxQ0l84qrRmbA1o26pdl68EMnot3TKkdcu1bdwBL2rK84BBJPCM1B1BjKYjIAAJwnBC4YYymALtvYd6eIXejwjegMQfBFdUapZuYP+QMrLmA4FwDgnyJRrCgne7qPoGgXQKrIaAdfeeoVUFC-Qi+6tPplRbTBd9+O8eP9H9gsxA4HCFwD5CAwWqiRsQI-QPtP3xsbgPi3fUbTYC1V6qo5Irr2sO1BxOaEuwvY+JqrdQv9zGcvZ63l3XyP9oBpgA1RV2cx1l8upOXQCKgngyATiWNGbJc79dWgjIHJXkt8VyLU0xgFA0VGtlHBDaTEAcMDFICYGTJt49SLGnP77IGVu+iEN5B8jrLQAceFdeQbGaNiEQEe9g8IuG2tBjga7DCixAHDfLHcfylqPxt6jiGo1kGi1H+vg0obiNjAQGsodXY0GMDWwmuowYkjMGwE8IBlQvr71L7wQnB7yEyDCKCBFDogWw95H8iSHTlEQNiB+rehWGL5LhnyLwaxb8T-Dgh1dg-q7wp1Y6CdfysUPJ30xRDNO4Fh7vmRe6Z4rQf3QYHD1697a+rH5tTurTpHed9uNnVntzXe5JO7LL9ZxEXZCBDAjkAxNUCKhXFcD+BrBWckIPrKx8tbGeI0f4AUGqDw6qkCgnUn5Gc8wsPnSUYF3lH7qbqbzMMaprggHIiAhhKXE4TkBZI0ETaEAr+rJHMVsrQoylKXi6tMjwenI-IPs6QHMFo1P-QbD65UhWgwkrfJID1Sgr2F4IfI+eqCgPGHAlpHNtaSbxB1pRyBuPDcejq2xvjZ1S3iivYUF7vsSBv6tAoLz6BhOMQAADpYAwqtHH5TzGCCyw895YyCVKTQir7ZUtBzA6PSwDwmXtiJxwsiZRPonMTaddqHIZkC4mx8WJXgCeA4Q9AsInJ0AAAC8LwaJgUFiZZNsnw9PQQU0Sb0gkm5UBh4wDVFQgFx5WtR+o5uERNMmVoYpkBUeK-kFj1j6WMgcoDIFW5Jg0CtMHgCpPDaNTHJbE6yZ1Mti9TwBsgSwCNMmnDasp-yEAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRyM2zmUMYPMOYOdwPlbHIU8I3gxGrR5jZzsQyEyBtzjAzArETz8LcNCWiIVlCF4U1xYIhh5hoMERSMLHEKyIsByORUQIYDsGmHrCIETBAgAAYqD2kRINZYMqjBtuA5tXZyBZBe52iajVQQJKjNUBi6iABqUAeQUA0pYY6oygWo0YdrDOFo9VFhbeZhYuWYjorot0HoqwzI64GAiCcaa4LY2bcgEbXYgQc6BwZ+EFcHezfgLeVY3KawFUbsKov-MVEwdo84y431HokCFYs4obC4hOHo72ImTdXIaYDWOcHLGHHaL7dfKHREo8DwZYpgVo5+aHXdWsX40E-46kPYo8HnOva4GHdEg4yIGEjgOE0QHLVcGHQ0f6Wk+knLK8ZkyQ4IBSXdM2C2AKZgWE+Ej48YWfaKEQQoJsetUJJHMGDVF+IImmdpNkkU4IqqTiGQSHCAiqJE5IaqBjZnVBBSGEPUhoQUtKM2OSBSLaXyD9bBXBaecefBEhaHMoq0poFyD0B-RqeyZvUADwMnW0-0kIVUhk4RbuP1cRdaBoXoF6ZGO08SfVYGdKD9DwMMxk24XUtxYqIUukkUzkrcRaEIIMpSD0pGQmEI9sDM3E7gcU6BB+RhOBcpSgBNN8QhNY1+Mowvf-ShChJ01uF0rpY0tvVwaqHBAAQhskfxpirPYMIA4j0mLwjJbijJXNzkkX9PqBmndKp1cATO2E1O1MiBmlNL0Cd1AAdCgmvMVGwQHMdJEUHOpAIR3KVPLLy37MfNACnIenchoSpKIEXMx2r1QS3MCFXhlQkV+hej+hl0BEnEbMEA7KATnHdPChtO2mqklMYWsEPVfJHM4UJEvLAGvKgkVBcnd1pwgn5IwsTJSBciFyYQVK7LfMJnhHaUAtwCXO1yBlwm4FBgLx6XIWJwZkos9wH3qGgL7wp1l0NIcG4D4p0A5xIVl2PN4oF0kt5NgRF24FbPzXbIUp9AEs4VUvAMiH4o0tlC0qbJ0r0vIAMtBkMqVKMCvJvPqDJPlycEV1qR2HlyUs0s4u4ur11ycBN0Wl1x0DCv6kCuAst1uAUpZIvIaCt0irAsBA-kkJCDEv72ooeMy1mLKDXWQX2PGw41IyKuGGXSqIq0I2oGxXnzxVmP2KDSaqex+M1SCW6yarYPu2iQRSMlaskI8GkznDhIkAyUqIE0yrqX0yMkCk+J3zBSGz0k7QKtmMzzSmzzr15FKNAFb04R7O+OxVYGpFmKGKeP3heLfDeNCSarNj2hivjW7xAnZhiuXNr2YLSqMG-HqvvVCWOsDDaLFKiv+n2swWmPIUev3WetEukokqsqH3coUlMRGA4Dz1FOmE6t7QBtOs+JBpSBHzH2pE8JkChrL22QQI2A0IwLwKVgABk0DyDo89gmiRV8i6DZjiidq8RnKhL2wOCjDuCJDqdBCl8fBOaLCLBprFCyoJa2qZagb901C5yaBUCab6bGaDD2ohDxaqiubeCeqUQ8gOjGEZAeYbCJ97Dv94NnCvrGZZiPDaQEJ8bXALaBQjiqrxhHbUQEJ6yixlrFb9bsjeb1CwieRIinIzrngbdZsVrFaMbxpuayiXbIpaCS8JbAiMrZEIwplFFIxlEoA4BEBkB0AtF5BdFHwTFUpJ1bl+AJh3MwtDFjEUbvEGlxwPAchLFxwyTlkfF27OZw4PkOU1z7U60G1e6GllA67uTX8dgKUJVqVcUH1BV+6q6yp56zUl7QkyVp7u6ykvVF6g4+7Gh6EZorrNUbUt7a7CB66969kE0HkLM26T7kbAJwUn6uNd7GgyTgNv1Bgb1d0Vtl6UlV6z7f6f1ls71Vs8cv6GgySO1IH-1j6BwnwqtpgR4up2Bs1O1S0t5y0fEU6nIEGsaCG7aFIb6Z6ySgsxNn6UG17fBVNgtqHpgnNNMCHyHb7v6ylmtkHNL6GeGd6KG77rAV14tnNEsV6X76HRGKrSNitYGka9lCSj7aHNLY7ocUb3wls-0-r2Hp7CHAgYMG0xEK0ds9srEp6KHKGZY5ZbllZVZ1YtY6AJBhgWA75QBDZX7ZpJ1vCRV1HcRlAzHnpqpfLC42A-7PgMHcQzzzgXJY6wNyBwmKBImpkWQeagnroDyQmL02BdKhwN5UnonZzRVfwnry8QI17ZwRg0nMwute1omDGmhGKY0b6IhqBp0yHIopk68y1RgK0GnOmjAzHGmnJtHWmow3kTkincZkS1Vx0ZUymrF2YPB5nwZRcqRwJFmZ7pZH9MnaKkTRhbGAnGYVY1ZNYyQRUAs+APGjZY7I5jBeh2Ki0wJ614ETHazaBLH66doXJzszGPnuTn97BtQeEKTNGcQXt2o3tY0CQvnErAQjG3nwYK1-t-mYXJFp6-avHRcr1-7f1AGoHgGYGKHDa+lJqNHq7qmiNAGwMklBU4XtnT7KX3xqW0NiI9GhGmhJxwXWWGAuBy8OX6739b4z7mHxM4WWpsmY1cmAsGHeMmG3NimCVIbfSaEaKfJDy0wYtixHMxHp1IslXaZSlKma7jM4tZHLNFBp71XbSzS9ozXdXLEoyXrAQTXqmHX1NxG5HSBYXrXFQpXVmoUPXKkoyYmkzhLIWaQnWxF3yDzUZ6LjXRXGGxMP1-tWGXNLW-Wwp9y8rN1EWElOkH6aEZBllPtZmOlolS2hrmbgWkbgZoIiBXlpB4JlB83G2i25grwq3YREYqcnnN1aAmJqR5iF7tUMN6tjApWxXgU7X-8bMQJmHPW2GGl3ywDpX-NAtk3mNLFDxAQgWFR4KAxeBTbB3AaR3N6g5+nI302JGd35otzT3h2-QL2ijJ8XwxXBmE3zWEsfXLN7j9z9n43lW4dRdV1mVvUr7VGUGbkN7L62Va03VtnZ6zK1iX3oGkP+CsMUENi3w0PA8EOfEMPX9KC2KK6UJ+Hstr7vm-JsFu0JBcFOsSGV3T9-9uotoF2h361n24PX2saZmHrC381DlpBz8sPXmC2m3ZA2PbMVavGqnxE6ORnmm662nJnwJpPlB22hOaFPmOHFryOz6ZGf2qP9iM5A3-UpY3X3xx0dH0ORn6hMXhXoEz737b3iXqOWPvixEKnwXXP2oZVJ69OzZXkh6vk1y-PQv5l2GxE4WIb2wY3c3K6z6D6x3t7P6SW-IQvR6yoZUUufViaCPJ7FQrPkLcOeO3QAv6W9Ooq-X5Iud2l6HYOIOVH0uPPXAsuEO1ymvD7XZsvSGHOeXGUMU8PqRKuUk4WauKHs75Fc6lEYxC61ES7NEcwyPooyX-UQ9Db3GGZGBLTEuhM0GCnVUWdemTNlAsaJW+apMRoIJ6xcn5iigR5jiP1cH95y1zvFOgu7NMs7u8nHvCmSr4dCtwJcBFZfuHuhAnu2qltXuNg+mcR9jKNcNQfJjofumSHcBEeXmqMUfb9vNHwxmJhVPp1MfDakf4MUeaN9vKsXxzOWXqANmse8kII6fjjRVGf2sx0v41yxFAeDUEd-4357buexEaqaA6f1mLNefDag1eesW+N-wR8WmieJnp1p7DbOSpvvvN0PWCF1ervj0sytf8fyOSBFfMb6mSFLvXB1DgZL5YuOQ9pmlpg-NZWVPVfkEgSWbVvkQM4CFsvdOTH9iKkEPA-kXoeSFIutocQDrzydNZPVw28TfFtI-3nBKbfZOrwk+feaBlPxn2mn7Q-X5dOPRiwXeMv1Dxhc5mka0OVmwGYq-gwa+Zpd2X6f5Dv-ei+S5YWKEy-lftmQhG+a+A-dAAAeP8fgJvoRFvjD+hWWBsSCJAtCVBwgejnbOxFzOgTCTo8gaQLK0ACYh9rxXORc2vr5ZsCYtnynQ-p3MEFuU-mfjDycefyICCJfygC+LEgMS7Df4YRRUiUEnv0ZgH89ytuO-ify4pn95kF-RmIrBAFH9C4EA3tI-yc40BmYg9bLiPQQ6XcoSldG+oMjQjMh9eiodpI+ygFbRi+hrWTqlhqCh8iOgQehPgOZjMg0qCvVsquXd4F8TkmLZvCEGy4k5VwI-LcruFuAz8tyfAodsGloF19JEV4FAYqAthjlNSddEnM73XZu98+anKgcYEOYL9suisFWEEiHDR4t49zFIHGyPD2sSEIEXXq6SzaelSkZAy+FH36acJ7OKQZwWn0IqxtKy5bOugQKdDQ5jeOfaiAcgK7D0Au2AkuDgNcANcmBhAoIW1w8EioyBAfSgWaWoFRIIsdAtMhwwCEsDbcbApXpwLU6JCiy-UPgQhwEH1IchUMDwB9FXAt9X49A6WGQJhh0CbigvTcLG1AH6llBN9VQYUld56QShjybQUYF0GRB9BJzQgEYKDDLIbmoQx+sMDMEbRAOlg--CJQviRs9eWvcNu2CcGR8A+MfTBO4OSCeDkWJwl3D4Jzayd-BzAsodNwvizd8683VRMXQ0RaJsAEOawHGkSYRN0GhTIgA3RA4FZJseSY5hBD+FJNyAUwMXqEDCYAi14uTcYI8iPrRNgchvWap1CKayJo4iI5JoCNVSicbkDwaTMuDZ525YgQIeFkYGkzWhKRhuaoDSLCrSZBojI6kiyLJE3chkHIoZFyJSDSYaBbPGgY0FpFYdIINsTopIDZ5Si1AYo1kTd0mGMjJhgIcUdJgEQl5PQtAY4pqK4AehFE9QdUTdzGIcjjAMgCPKAAkAghsg7jCYvR1ADGjme+sM0akEtHWjYioAdxkbAdFOjwI0EV0WmHdE2ivRoAKCFaKMB+jIIwAQMRaOUAejng7jMAL6MVHM8AApLGODGej3GaYiMY6NTH+j7oZouMVaJDHbcbI1ogsZBB-LFisxiY78hWKjEQRR+mY+MWWNADj8jAlY7kcz1H7pBXRJYhMbaI7FURSxVYiCJkFbGljsxoAbIF2KbGZB+xygQIIOPbGLj5x44icoGNDGuBngRgCcsYBDwPBEI+I-4YSKO61MA+GQRUNWmXA+gCRsIokZmFsyniYRKTVVPWg9AAArDMD62vH1Bq0uIT0WyIfFwjm0R2NJvDBTrQikRCiRCFHH-wwTzx89EkSNGkyP42eM5M4UQxu6QBCAwkb9BIEpF4SCJAWcUUlWMAaiKQJeWAJAEZF6jaJ5EiiRKIgh6i0CHItiUxIonSYSCLAEgoGN4kkEWhi0E8YhNAlzExUw3K8ekBvHYhOIzwRPpIiQmPjQO4qF8WJLPEqSN6Jjf8SkEAmeig0mPJSeJNUkYpbM9KeJspPfGZg0mgTS7OCNXyyd4m68QSGMAkCrkvxHwYsMQELj+Yzai0KyZwRRFet0RwIkZjtgcmdBAg1PZEG1EwjK9ieFmfYnnxV5cDwIUsAoKbUCkXjeuXfMCtlI3oj9GmmUpCtlKWyUBvxv43TvlJMnaTw+jTNQcMISke9hgqSJ3oUlHwVSb0mgx5AuzbDcBmpaUyEnImeHEi5uKiIuuokwAYAQh34RgCwDIBo00o9AN0FiAYA5Y7ipLKJPYkcSy8cOYpcockBEHYjjsRkO4qaUv4cBr+KIe-pAL2kKl4Ysue6WsUMwio7uWIBhrgxGD6hEBu2fYgtOIB2I7ANdOQIE2IDEAQxiiCYjIABkk4IIlOaApTiypwCJiAMriYCHhkKZfpXmNHKYACz0gW4dk3bETNpaUgPRegF6KHWP7BgQBEESCCAPemdolIX0uYNWgil7oyZRMzcLTO0C5Vk+yIDmbK0TB0gdsfPLsKLOpwQR5Q9OZIPAxGiizvK44LUlkNOmdRRZugHMkGnVkNiqIRxatjcDhQKzRKKObcB4DmkuhFpvGFab6jWk5YJZXLLVtYD+JH0FZNSdmOKC6TaMCWSDdWYy0Zj0yJigsvSMLINmyB-mvs+AUCEpzXTMB49T2d01s6HptZN-DGcAMDl4zg5owOkFrMuymNLsQqA-uzAQgyy62GcyCLyKJn3iNgQsrOYdO4TK5rg9sqykHMgjsjW2I0VcKLM6Hqyq5ZMyoLXNMob5zETco6YzAADk10nbLTInnD5qZp-UWe1iDlLTRgvaPPGLOiT7wdpkQVcGvOwnJARqggK-g2Cv7qxhYLhIWFf1mK+1q2LcneZtUrHGxOou8hEdXMzkMBqYsuW+bcGflXhn5S8teagNACeSUog7Xyf5zWZxoywd6Wsnz2dmjZKSmlEasowtTvwE53s3RjDkabVpgF3ksBVGTAxQKSwXMmBXXJ5Iez94MC6nNJhRz4hOuccihcyVkp8kYpNAWvDMlcZ3wCF-GEsDAslZHknZyCvFMySRL2tum-AqiIqFjlLJ45H4xObKV3QxlvqYkwhUpFMK5z3Y2INhS4yqCcLIF3C3TmiwUUzNgOWwJbOIv5jsjqcwMK3FGH0UiFc5kiINHorvT2K-ppC6WGYqqGiVeRVi2xS4rUW7ZZcnijlHDJwWgLyA-mKMiXPVyAxglXyLBdiDCU+SIl4C0uFwrvTEKuSn82JWIqiHOKGCASmTg832ZSte6wi+Ni5GoVs8pFjaBhUYptYoxYmxrZhTm37aPgrm74REgbwbmRAEFVlJkgotkov9ayBghxuc15J7p-0xUCQHwHhFzSM2XS9Qr5UBh9LR5nJQZUjUmEjKZhZzJxnIvZ4uZfGm6MwpUEoCZxpgeoEQLIEWWZ8ZlnShRXDIbx8yLJAgUwq4VdgkMbl5bVcPMr-4kLAFgscVEXGqZyl7erkOYUIALgcB4wggcYAwGVJvSnQvaL5X0MdnqoSFGQr8L2XvJUQ8Ez5OwXiVYr7CtglCacqqzHCLRBwswiHuqmhWBgBAcK7ZXBQqEMpuAvaCCpPAkTGLilGrKVimSMWYqTF38QGPWDZWhySFygUVb2nWV1lFFPK21kByNbkJY0Nwh5uoSlUwLAFVnZednhrz3yci++amIdV-BTggJF+DYPCjuV6qV5kiCCNqrzyrCPypqogD6Uej-lNK+aYKTqtXn6qgihq6as6v+oM8M2z85wZ4SxY7AhCHcBXN0s8S-TxV-ODWS4n3oQFgC+naKPQAbAXL3luxYkkvhhk5rqANMKVlGvbJmEw2KQPaAuBAhW1HC8Gcte+T2iAzZY7yE5Z4V0lQw3aFoBcOfP8Le08gjq1wDHF0i9rUi-a9gM90BDAwzCkeEMc2uYCUo21toBpXRQrL8zpkAeZgIrUXyC1l83VGjohJKI0AqIP1WaLozuprAS1S+aNUeorWZRvi1aqiLWr0hOFb1ja--POveRbF21Mk23F2oPw9r7aVRcdV4W5VGBh1gGlnsBs8KTqmgwMdammDnXmAF17Ub9cuvQoas-IjzEIZcu3UNhCiqeQtYQD54FVy1vQhgQGFeXx1y1suXDWYQLUqEi122KjfRrI1+RM1W6k5evCEIMb-C-Hf-PMjeWMafwIENWloVwIEFiCZBM2GJuwISbdCZBECNOqI2zrPRgmgjVlBmYUV0Izyl5FRrWqfEWoHG6YFsW435qL1rgJ2KICECc1RNmhWmgzX0JrAxNDmxmkpsBgIao86mzmlptKQQQdNAK3zDKz0jfgvxqTdFltPCwOB0W7WD1qFuJgAsZeWZXdDjMeLYZ4tiICtBFu6UyrUtmWJqTbDC3HdstSylWQC1i2RtCtCWkrQn2S0fY2q-2KrZlsS05ajIMW7Xo+BEjBhJ0QgdGjVu+V1acZ9KULZQHeIZayAunMNQaEi1NTxto2Oba31HlTbUQsuEbe8X+wLaZAC29GSkHtX3yIWJmdqHNq23UAitE2+4L2ydzLahQqSYdRBHpVX89tK8tnmtuI2s1N0hW0bWkSsBnafWBq8NTNuC3CAftqTJredsHx7BVKqod4J8E1D+SgQT23VR6zB3gQUdPfa7dKF+jJAo8n29bfukxQg7mtaOi7bbgx3UwIEd24+YrER1ESFgP2r7fBOaJMBut1TYZn6oB3dKw6ERbEHkWsFZAsAl2scmVpp0ltmdPW71TDIcV7zGghNDYOPgFAZVnAgujmLLoDzE0J8MuGCsRz2BY7AgZOinX6EginzHtmjb1Wzy62TpGdIqe+BmD9D3K6yhtErnKTUGdTS+v6HqcVUAVJK8FMqNnfrpUguQudFICOo0BEpxEmmwhQGdU0BUYpgV74Lcp3Kl1BE95+cd+DaNYHDKJgTeZia4Hsa7LhV-oAuIsOv4C6tdue73SkqiWPSmg9QluETUNVXDWI24EIPKBdr66HYd2ivZEtF7U7TdDq5QF3tSV1xHY-+LEJwrlGSAQIAATi6DtIJ9gWCfGWyMBz6yYagQ1WvETBlBlAxGs0qUuiT0A71gQLJpqWPU2R6i4wlQKvskAyAx5Y8xWGgAf2Dr5VjSwEPPvFUH6wNgQefevu-SOIwimySRDQCNiIYFBvgowN-rCK-6phygMfcDtthqAsWo1SQBNX9RhCs1-26bd0rJ0d7Dd920QGNRQPyZGYNOtnkgfGqVBJqVuzdPkusDo0VQMcZKKMCCT5oyJxq-0FOBAhaKOF6SnhaWiUhalCAMcWmR0F9pmxqoUwBgMwcIk6zuMnuFYYazf0QRDYRsGg3tXvkvAhDNzF0VFMVBv7-5+2qcLCHNiAcLY1UE5QHnOVcBXlcwQw4a1w1bF8NrGljURrqY145VRgcQ0wfYEBYZDMmOQ08kFWX74D1+pQ8oduZEbKNVyrQ8odNjGHMNFsCwfUEUNhHPGeedYOTUUQpHDYT+8A1foX0CgjwYREPaMz53h7TcGciXV9Rj3DA49NeHIpHiz0XwQx9dHba4BF1Th8QdeuXeroFAx5-2aqtpShA9aBhaAGsRxPQb9BfETVnB++R8m4M0GTu-BiY-6Ev4iGYyVgreKJ3aOdG-c3RhvX0bi7r4uwl8RbRRqlkf9i8LcKXCwDZgvRLgFRug5JJqM10OjM1WQCcckSp6mjnolo4As9WdFpg6ND6keowOoh9iQezEDzvqBh7yN70WkCbSKBw6P0wkITf4QrTAmk6SpEZlHniYS0MTfCMouRPb3g4aDEuseQ3hkA57QAAAHSwCkbj2RQCw7gAbB0hW9VotsaaX6h37GYEh5g1NS6Ckn0a5J95ZSZz20n6TUpU5RvBZMs5rg+AZKJIkXDAx5ToAAAF7zQjAtJwICVKEBMmZTjRxcOqc5P-RuTJqLw0pEjh-Q8AkbEY2MciDkmGTups5cyffmDj25zPG44rA9BX9iAV-OnDCDHmIQHQgp-bQ6clN6nXT7o90-6M9MlYfTfp32qadNhAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJq2JsgrxKwfELlCR8cJWcUGv2caA1IGhCAgm5IA4xJC0lsAprvDoWh9BAzYYQGhG9uHONkVebcM5R5fzPBw-Qa8xCOMqcAnOLjQCmVIOZFuVlbL2Sci4QeB9yA9S8j5ApxMaoRSBoIQg6SHYOG4C0gar4BwNTKdQBQ1AaCVgETLYpDhJiDRiEFXJuJtm7P2Yc-Gxy6CrNIK0oC5Fnz-E2Vg5q+BygMEEciU5UEYjvg4RkYq0yiklOUcsug6i5ENF6loEQjVs4HnoBEjRekSniKblIs6ALqnwsKGswlRK8wyxRZWNFUCEkPMmK8uMm1kipFCf3UYNI2Bv1jKUVlDEDYH1pUdMFXSdFBnVKGZYFEXyGjMsEB5Ay7IOWckHfG7JfAkEmQspZNUcx7QZpxWpDB6n9zRpNZxZygoOQYGs86clShjTYHJZoWEIXN0dta5550qmYtiIa41DEzr6xtbDZxAd5mmPIXsyhC58EcMIRU9O5qoaiwaurWs3US7N3IaU0gYjAiDCcR0yYxlomFKzdgnN-K2mV2SX6UymbjbCErZ0RJNai303DZ-Yw5ibEty5kWwanzGoS1xN2gxvbN4TDObEIKY4NQBXeWLYU+gGqr0WnE+xtLJ2Ao0UFV1xSDzrrsU1Ldr9zZaIXZGaVDZ6BUndZvBptZGQaP3fe49ETt2cAvSuIdvLGkHoWjOB9-cd2xiCm+9Oj7iBMUKFK6Mu7RamLHdY5uPrzkcKA++hJ1azZT2-Vmck5w5ky2BKCI1RcHCII1PocefN1lUxTakB1NGm5LCiaAB1WseAbghJCSjnDIG1DhNwP1FHx4CeozeWjHD6VHA9nq+ZhhuSMB+YfY+z8cPrSHchixaj1qvFvQISdjIdM2LCZug+mmYMzsY8Op6pmjHpzY36e1v0NFrEWVnAtymjX8D-up1E+LD2YfiTA7dcL4VKaEL5tTADnBnX4WY8dqGyWrn1huk9lm+30oZaAOD070NMqvvvWLJ9IneNIzuEr-m4vZUHt3Xuk8RXdKvjfH+HAatlbUT6hSoJ9BtfvhUf+J9O4Nf-Nw5rriOO-QCgpkjpi-EBKSQOqCjZoWMkWwwaFk8mKNm7HqEzPnVOdY0-oaFuXGz8cIYJ0IjJRMMCuxA6j+3dqMoTPu6FpLFSIq85S6lESXvcEezd-tWiw3zc-rErDYXltaIxkVxLf701of3aE2NnCE2ty+5bGe4PVWmKox+2HM9BqNn7oyfdhOElQZke28kVHRvDxp1Tg+jPGuFv7s4piQV+4dohz8Abv8hsBa4Ymlb9OJNs77gxfr39BuPxG-V4eMiVz7sFx14XtXGBssLVor736dQxH1R5CNhml4nayWLuHUEGdK97jT6rmvFdD3Z5U1XDbHcK+fjT3XM99cz3pngIGIc5CKAgDAeASBUBxzQMSBOnEGoFyLhC6o5c1Hw4TD9buZBJ4xAAD55+Mon9Wqfc+gAL0X1IPde79BfpXcvhe-Q-XGun2IFem+pDnbUHbc3VWpvIGICQTban9PZH0e4YgRZFa2Tx9PAAyOfvQaa5-EmP-mzAxB8770xie6fk3T9SBvofDAR9APBNJ2ZxvzB25HmPXf3CM9bWX0RCbW-GZgIk0T+vr484T+P6f5bcEFnHSXGeZYAqXXPH-UWbaG8GApMJrfkeGVVcAnXB-KAorOAu0F-SuRA+PeqLBd4ZgVnJ3Z+SA5YX-I-EmAAsXcET3YbZ+S-eZOgkXOrF3cbb-cg6A5-eAzA9g1uWTPaJgs3Ygr3WKVAjgmzDA7grA+AvTUAkjBqdXfmEgy3VuKiCggff-PrM-JQi3ZwRgkjXQlQ8qG-MgyQhMXgoYaQvgnLW6QwuXIXUQ8qcQtQ9Aiw6w-QbA-gvHd-VIBRURdHeNOvVwzgg-P-Kg7QwA-w1hQI-Q+Q1VaIsRJ+SRMgTTdQ0WG4bEG-cjNIJubgSwuQuwhI4RURbbPfUI9wkYG8LwgQ4jbfBgKHULVtEI8wkaQ-TQiIncM-RoizEAooxmNHdhDHYI3OLgqo2Q1-XvXw-lChegKhMpONUXFowrTPdowfTo5o7gNDUAWg7BKNOYmNIYoIgw1VbNfBPNbvco1otEMjQIGQUfPEeIxmM46hKtMwlYwMQ1O40fUkfoziF4spa1Tld4jaBML4yoUfHQHwhPfOKxXTNAioto8I4fSImghzE4xmRLBzbLdIorEfcEdE7gbdP4jyBzczTLM2SA2IRElwAoyYpAxmN9JonEtwp-EYYkwQkjdLaHSk7dXEhMLwgGK-ZlOzSWJLFDFkmkq+ZjDkhkmEk-dYELXoyU646U36TwiYpzXA4Uq+RbEE0EpEyglErowAxbDEziRLPUq4j4m4nccEM0ok7hEk8wTbMohEt7NkwYGo6E-A61RZDJUg60g0kUo0k-VEjOHY3JagTJOI504GClWIzHUYqQ8Yu0PTOMwQZ5NI1k2kjw70p4ziK1G1IgejVU5vLIEsgsuaYLD1cuSs-kz0-QSsjMoNLMpstaBsrGeA5svVIPYOUOMPCOSPaOGPHQPA+6Q-UgdNHqKfBMCZVfNNaDKYi024O5AsfQHFFIhabgT7cXD020sEXY75X5IGcEbHaYTcyQVInc-AFRLnTk+o3IY85Ff5Wcw0jo40sEGQKyJ8wgH5F8mWc0uaClS8vFYpN8g8hoiE780AR4jMqFW8h2CCyrGcb4mC34h8xkhM1FeQGlGBGQZC8E+4mCqEt-Fcu4JHctAVA+QivrcESis8pmai1uDMhqSi2XRpZC-vdYz8ji2sKyBiqsxGTGKDflJFMEEDR-XM1MrIEDH08waxL4QhMuP7XCiJa3BjIrK6APTCzid1b2bqEnffSo2mHSuUk3RwJS-mFgB2CRLgFbQoTShMLCb2e884RsSgcfR6MUtBf7BJRkB1E4HUxLAym-ftE1ZCrCMK+iRpIU+Zb2KXfFOy54Ry-cpfEYb2IS4GOyqDJKpuFK6ktKm8TKsik3HqJFJtXytSrdNg8KzoftFgdYfmDStKjgMuTyowWq8IVfNqsQDq08ZzCrLCEKuyzqsbOqvUKeUARq4wSlEVZoXqjqsK8IAAHmBCzj6tUA4sGpIVlU3HBAABV8B8A+EhBfBMyxBeAHEmx-TqBahmhwRQAABqUAbYooQWVPIUVRLq56nYqyX6t6woD6suL67a4tVcHpPpQ6465WYgRyC6q67DG69JO64QB6gGolYGsQUG5a36xix6l6wG2ILG0Gga7U+ZDubInXNgpNckcNbOE-Y67EFq6YRTZTMa4eCa0sv0X-GUrqomneBm9EbEImwoRS-AZSsQVS9FWlMHIm5oG-EcdKgtfmolWYZfMm0WlrKLWWIiLqm0O0Mm3LWDH9ZdNBJWzy5qkdaWvC5Y50Pajm3uBVHucoDjJuHVbURdIFI0QzUOJuRkfS0a-DHm0WHW4pHKsK8O-K88q8BKk1KOvmR8ViQjJywMNBRmogQynOUq8wW3Ngn3GmqsToWmpEebIWpmrO-TWINmoQR2vUGK7m50Xm9U5a7YwWysDOkW+FcWyWm29S3HbYhWtgpW7aVuz2UoeCbaAamKybOeMOvW8aqam8I26zN5U2gwc2hcry62qqmWmigrIoB2m-Z2-80QaTTVYAj2p8K9eDWMRsb2AOmsgy4Opu0O9mhKyOzKmO1cOOgNBOh8VevLFOtK9O4WyuwPWQfs0PcOCPKOaPWObAHUrZW+G5agA5P5I5AFTsq+UMkfZEKya5KNA5IC8wQh25BgHZdJCk0grBnM5WjUu0AFAOQqFBohtcwLO7PrdMfEuYRi2IOYVcCLeROijkPhmIDkQR0lfEjCMR7jA8SR7hui2pWR2pBR6YfE8sxi8s50IRwofEl6dJcgXwRigx1ec6xUXR31OivasRva2MSxmIfEm4Ty61FgQwM85x1QVxkOFYBxlCiEJ62R2IfQHqbgXwbqgAPlAAmRevMb8fxM8iCZiBCbCcieia8lADiakbouE2mBScybSYmUhEyZiHibouACSYMFCYKcBCiYmTACycUbtIAFJKn8nwnan0nmmSnQAym7TxIgn2nCmlbwnsm7SABCSUQZ6pjpgEOp0ASZoEUZppw8latpmZ4ZtamIZZ9RuilagEJJoZzpiZfZ7Zvpw8iJ9Z1J450AKJs5sZi5g57gIoI5uZ9JiJoEAph5iEcZyp9JwoN5mIcZ2IGc9MAqX2shtB9hkw2qwEFcTIqwgYbgSF9B4PcFwgngVh8hkpfAFgNqEwM2OFlYBF5ETp6RrFqFxiywphvxooFF6F29NMSKCFil9BkrEOIEEffErvYQRinl2l1LRxuiyAOgb0PZYx55kVsVyWAVwVpxqgLx2ASAMRzxhgJV2V1LeVlxgAUVkdVe1Y1bJXxIADlyBjXKnTXjXZ7PZ0WqR6Wq0iCgNYWAR4WNBilOntoCLkXWX+Z2XbWBB7XqsTUiXpgSWPWPCCKprA3hDcMgqwD-SrkfWMH7l8GLqwyPhkLLkKHGA1RSA8lU8GA2pyBqwlNb5NB9Btj7XKGOBkEaGTlv7iVnl02WKihlzST4xCA+7aVkKftkVd7baK20I0kvMNyk2SlorXqyVo3CDzdlqG2Yhh2RBR2dk2Hk2CwjU8WCX+0tbMWV3yGg2A1DXYhLbRTcR+3kFmHfaT2xAvhGqY0cK97ippwsQu2YEmW+z8YQ8w5w9I4o9MAMBxyXA3h1ZyBTBbYMNyobhSBPElCuKmMrqWAc9LDYPwbq5LDl6HCOB6U8aGACbqQS8QaZAKZkPMOHxtFmgSPb4SIMynybg9EcUtAC0COXkpLBBlBlArqMgU4jBVl2O0mQ4Xrml2OlbwRHrShROWt8bfrQPlAj3FRRPHTb4y44qSMFjKBJZU4lOxAnlWkdOLj1OOmIhoJU6RlmO8aIRfraPWFjAGPu8EWWl9PJYdOp0Xr4RwQMy1OxSpEFBmlnk4O0h1SWltFxOHVdITJGE+sgvQAF9lIV14PxobwgvwgC96HEu-PwhFmdjih4QVxShEXBgovV9wRsuS0mKQOwOyYPhIO15PEgvjJmg4u-SUaYyPoouYvVxG4+YHl13EzZYkuRVxOLOXrPPcRvP8vfPWkJvsPCbVxHq8Psj6lpNuvYpeupvwgZvYw5vfqRumAyAfPLCbV+v1vMU3P6vMXJANPJJQRGKWlvWLvRu9vUOVIr4sI6v2MRuIQZGRM+ttoguDasgku7uDPdvSBBIuNi8tOpvcudiAByPDlpPGuHrjEmojqbjz+IMUsme2fQLHwzkztU8aPmbPTcbaXHuT2MfEoQXlqyYIfGhyHSKyC0YsfGqcjgeEJ7ooUoD70nu2UZv8HH3nqNjHh70H8j87gz8bsn-7gX8mIX+78D+2eSlwItkt5QMtmcfuPNDwONVafzqMlr2Wa6YL-xoA26g3xikpVbo3+d067EFX9YNX6gTQUSspbXtwZz3Xjn1YaUieI36H-E7Lok-Oxb33vqL30Va6HOlwXHzuMZHqLXmxNwXXwdZdMBM30go3qu++ilRWoEFcBbu-Lry3o4ohTP6zFht34wJtNZeKN1mP0ZZgeP13xP-tYNMP424MlVdd3P9SGR6HrCbaZvuNEmNZKaywoftwEfrM+lLjcd4eor5R-v+QFvqf1pWfnP+f9Se30tp3jXhiMLpWFyjfsbG3hF7fx353zXif1vtszPsXo--GKXb1yv1f17HMRdIdJbzP6dIKAPxigv3Il1zL6EYvahoPdH1Fmx1FGYksEgMn2MpIkXUYfaHjDCQErBIacqa6AqiGTKpeuaqEgCQyA70BxKpqQgP50QGkDoe2MCgWgJaC9IMBfULAUqhcC4DgO2GS-DqSZ7aRyolAfAFtn5gDAKgtMMPqxxgHNwjeInTgTpAzICDrUk-LgdlG2ziD4B0lQYKwKyzACoB5FaytUG4hlxZcVHZCEXU4qscsIShGKueAzIsAdBBbJQmdmsFlxkK20KwSIFTxZVpq9gqWmymcG6DJ8Ig+At4NcGWCPB2bP5KNTMF+1E6rHNsJ4HCElVdKZVCqvoPaz2VOcEQusMoLkYWRVyW2DwUkPFDmC+Q3MZKlH1axrw4B+PbiloR3CYCsu7A+ZJpEdZ3wikNQ1ytKBdrIob4DAdQCIA4CkB1oQhQgPkmEHe0YgQ6G+J7wPoGYMWAQsuBtmCHVBQhofQgEUPyqAM0qMwsQErR5Zt02hp9L+Lmm6HCBehq0FYYnUHpMxBhdglwSpS8EeCk6sGD-qn1SDkDQMIdIrFhFyCXCUBpAqap8IphUCBCWYUAWBkQwQCVwbEfHn8N14lDfYvMJrr9gqBmNLibIREUYxJiGBSQrHcskYEeLQ9URvgdEcSCeBcYB+y+QwI8Rt5PBOmsIhQPCORT4jLi6sP2AhBxHk9BWhQBkU2gxG4F6hAqPNv0HQacicR3ATkQLExEZDsR5I43qKIxHEiaBpI9khSLQxUi3m1QKRBwGLbKFIwaIwYDKKJFsjFQKoqJjSJZFSjyaJGE0TIFXhpw3WqbRup3ytFUAkUasDWJp2ZEksVk1IHkSRkdHqcs4Lov2G6OFhYj4u42DWMb04w0C1RZADUYKO1EEjBgGiUekyOFjf0jRysa0c6JpFBjaRL+cMeaPxzlVfsQoKtKCFpThCWEEZTKqTl9obC5h1wqWgsIMqxDih+POsavm2HsZe2gwCsVQFOF8gSRTosgIwGcb8QNhNODYVNUrH9ile3GP0UkAYCjitqvEEUX2LSHIUH6RXGQEmFqCPVoe4IbcXsF3FcZ9EnQDcmuMrHhBoeD9I3FGNSDjDeIV4rsUWORQljKQZYmBCuK4hrjMq4PZ4TxkfHRdF8M+A8PoEvH98hxC4pcQwyyCPibeioG8JePgnoRIJI40KFtUH5UADRRKbaEhJ3YERMqYvA8TuN5YwjU8HAHgYwGzEzkTBPGapumIdSzi1AJgLwNakYCSCiEHE+gNwBj5fiY+1Y1bL7SXFQUOUxUXiFIjQl8QtqvEtcVxMeSTt2Rq4fia2LSrCShUnKEToeI4C8toekY8LpLQol1YUxPnNSaCk5SzjeAs1HQb1HPF21O+EPUvJhP4IlC0oAY3mDiDZDdBxR5IRsBy3ECSAPJZYXwBhTSocswIwYccPpGmyZBtaJQ6yfHyJCjxbJ60RsN0EZBOTcsv+cYd0HCDidsuLWboPTAomgADqAACW1YMAAAguAHADasAASgdUgAAB5Y1sgCBCBVAOsNKSbIK0iBZbJEkmcax0sn8x4p-U4ccb1cnxSR+cgvqeJPGlcZXJnQBcHJMMAZlFpmQHqcWHixUiMhZUiqdVNqkNTmprUtaZIGzYVAeo003qdtLmlJBkKrk7MfFIYCJT7it02FIzxmnOBPINIuoT6J0GbT5B7wMaUkEGkZDLR1ohFj6krFXVamb1Zif4jYkAyuo0MyyHOIGnrj52MgSQGoCRk3TUJM4gOMVNZ6+t-yUiRkAAAY42JGGoI5AaIZB+B6fWKNQEGAXR6ZBsBwGTKBDEz2ZfI36niG5yixuZuQDmWQAzKJYaZ+w5IXkMMHcz9e3uZmZFR4zFdGKWEWWYzPKjMzpeKHWcYEGkySzxQqQNmMTJSm+01ZzXeWWaA4xw06ZHWOWUzJZlMR5kTI-mI5E6CeIlBK4LKWUPEEaJSg4s62bYJqFmyAy9s5rLoheG+zMhnhQIC7LdnjdM+yE8RjHIYCuy2AniAEeH2e6R9gGqpZ2SnLjnGyShFQEgCIFSAfQahLY-KoNCdnJzU57squqMKeH7Duorw50AOFPGyVSOmcVuWllFiLk1h7-G+pMJ9rTD6xPgkIc-RnEDzhIosFgFsPAjjhRapQbcVGFFrNA85dcq4ePK8H3DtQ7sfLCMP9C2YXUT4tCKUA3lxyYYpyFLhfLTkwSW51rFrCvOMCAMIRRVWuXHKN4lDuxFDIuH+U4R-BpZS4IwaDJ8m1iPBY8gtk2LCFdz1xTEAcHWMy78sD6s6OgF9UXHoSt5NgmXJOK2KKSYgp4KeQpLeRDyxhZQ08ICjJR4BIQNClcGtggVAhxx0CieIQrgWezZ5ECpBQvI1CRyHA6C6CWYPwmxBxxtwhseomggSK8wyVdzC0BfE9jYFrCuIQ8NIXLpi5XmMubLFYWVzE6KVahbQpWBBRiJR40iSAKHmHzwBiQ8IYopUm6pNBHkPhURwwVSSNye4X8AJPx6bj1IWk48exiMXaSD+c8DuS4uRakhrxdlP8c3MICPFiFnPWRRVV-liIJahCQBVEpCUziIlD4zEdDx-klj-5ySx4IQF-CpL1xMQPRZCAiVYQol4QBfC9wAmhL2MDi3ENBJvBVLE5hQFpaSDaWxBGlTi-iIPyVH4Lpgg-TpUIudCESuMfi3cXFJZT0zU4TRfzrg0iJNEBK9MggUxSPiWSiExs1jpYWNluDuZ22bZRKNDH3zaI9Mmfuxkp5sBXZvgScrWBy40D0O8BPZbOKzasJiZ2QemTxN55JF5x8k5SVXMEkYsj4teG2RKCGh6ylChsvWOct2y+0el6k4qJih6XQSZJfyrpRSHoAbKgi7MDUYwGNkYrCgAKxOgLKKwIqzJ6ULxSRICW8I9JWczNArwpgHLEKuK0FQSu2IGTJARk10eStEnalipe0hgHVOsgAAZbVm1OilsAqZqqLGd1OJlnQ3poCtKsNPOk2S3pE0s6VNKbTyrgZsKBaWdKWlgqzobg9aTEnpnGrWOgq4VWKvACnSZwWqo1bquQomjF2iYq8A9OMkroZQCU8sElPVWErYg9Femd9OMnwh52Hq10crJWUcAQ1GsdniUKzY6rFVJSsGcZL+QQy3WPqYmZ0zepvKwVny4Bcmq-o+pZVOMpNfjPXGzjCEzUDrLjxl72xfl6Mj+sZOdVprfRkMlYJuKiYaIXVnmekfGO7zbFvQ1fT6benrVXIK1xagiOmMTXmrx1ja4cQTK+zNrwx38hlXWtx79i3JgkGsRi1aCksgQaUTwuqmbhS8dirqRlVfU777qHA88iKTwvYzVqqGjK8dVuppFi8b1ssNQZSTPUrq-Ys4hqPFPFDJSQxLoxycvkfHJc88pQknhBqwlVqeBgQXGdlAWGjS5JWmJuUBsAXoaG5TFKkGlKBBPSXpzSUdbCkAaNgOOvSanHJO3UhtPYEawMd0A+nXT6Asav2FesKBFQcQzGraaxp+nf1XupG7gOmMo26yZwNG99blgPkp1zK1+RDfzG5mobvVBa9IWAoxZvTGQbwbFVsthXkgh0WGgpahJ7lTD8NfgRkERt9WvSjN5G32qJupzcyaRdGvSAxvclMadixMtjbzA42xAuNbmoNTGv40aJVZXygwGkzs2s4HNLaqTcCNsWdSZB3M4IMhr66kb-OHy9DTEt4TxbZl6GrjDILkkkaWNZG+IbnWEAjrCtBW3jbCkGgfBgg-A0jSELQ0pa4VGLXuGVsq1+TBVB0+qY1Jam2ryQnWmqd1uOkSrBNhW4TWk1a1Ja3+NpHYhiHc7FaXAWWx4EcvJA1akNimxgKNMLlqaqQk2+VYyCtWirxVTEQ7TasZDBbgF6YvbeasymixwQc2ouSkBZhswUYp0N9S2tA3eVcQr29cj9twy6S3MUYvkbGK1FIi3Vq4C9XWvdR-awJT21GFNT-Wpj3YDQdMWDF1jspkYcO06LDtejw6UI8KRHf7Gmhcb7tpAfGpDt54mMntusJlvMkJgpwSUaQ7da2o1jpqqAHan+nZVhkewig2IineTBozEAiYjHF9aPwDVwRyJXKqiZ6sIm2AedvCTlZRO3X-05dsEZoA6nx1ewI6La4nfwAhD09yd66yndwHp1aBad82S6Rx2aHDD8e+6Gode1vZ4IH2ttWcef3V7M4sy728MZOCCjgz2dmav0F2uMi9QTA-AZuA0KXhNCUs8KX7tP37EYr+s3MSJvhIdqVg8FgymyIqmGRzii6pATVATXdiSLCg4IN3bvygzs8Bu1ISXUruzG-i60kqmOoTtxgk7S9l-fflZH532xGKrevfpxSCqNgbg8fUxkY0ZAABOE4PMmH2jpPV9oyfTxDMbbqKGUiVOCbtw2f8W6-BA+vlgHAuBV85M3DRyPn1GN9AMPGHlZDQAX7vNJCyiIfMP2GBDGxHMkc5I0RT7F9eyHPCaJfxTUXAPkOCuCJzkxBX9Jo9-ZuH7SD7noR+8JgmuuVGM7l4eyBLVq93-rWOhO3XYeU6A3K4Dhu5OFoEvWrIYDtypgFOUYidTr+L66oEVBPBkAe4hCGVruqpCtBGQ9fXwHHwT469xExgL1UVDxpHB41em5dAclIA0HxWCzdSIQjaogED6U+iEN5B8jX9QAuPMWHQG4OTJEmCIDLbEGkM7cN1xwPLF7RYgDgaNPAvgdalK3d5Wgxm2IEtv5iJb8teW+rdtgsMd9G5BgQQ8IcliiGJI4hhJPCGHmAHIDMh2Qz5DkmCAzDogII95H8h6GzFbEGLQ0GkPggIjPkRQ4ipDhJG1DgDIA56p7VpqOdsdLnXM1FraHeeg7VLBHoPhR6ce8e1w0ns6adJ4JneimK0CJLV7uVgYxiYCNi06l3UQgQwI5BzwUH+AJsvdUwZ+UN9xkbBpPhwfD3KH+APBvgyZoEDew-JjRqo1XrLiGTpdrojo6StWIBdxoyx43ufhOpLjU8345gLJGgjOphe5BmdhUZTjNH6Ghx4TWnuVhpNOk9MEnVT2wNngbYuPRijrGqBMsyDdamHpIP0D4KAAOlgDS19qm0xhmQMEB84a7MmqTU5GhDP07E3DEtYgDVBBMlGwTM0iE4pOhOwmS58J3gYidB7njQJvAE8FNR6BYQ6ToAAAF4XgYg0JooK6qYCUmkTie1E6yew6exMT4IbE8YBqioQZoNZXo-0c3Bgm4TPJv5HyZmbfc7S5AfGiwHxrKB8avLSYDDzTB4B8TAu+U+ScVNUmfOKpk3uqasiamfyOp9niKf8hAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESqtmDlOEU0xULSFy9LKU1QZnSCHdN4YQQgIJuRUOyc0wQcy2AUwMR0LQ+ggbOMIK4hB1TrGRL9NuGcv8GEMTOqwsQVT941NqWZYIeDQA2Tsg5Zy1JfCyPID1LyPlNnExqhFb2HN1k7IcNwG5A1XwDgavs6gCh1HUDLr45EkxBoxCCmC3ECKkU0FRQjXByIoWkFuUBciz5-hwtSLkZq+BygMDRQ4DFUEYjvnMRkYqgLtm7LiRTdFJy9K9S0FzReB56AVP0EkvSuzgnnzCRCugjsZUEWhUKuuuzxXyEEYM9Fj5YgrwYL09+owaRsBoauUoJqGKqNFWCI6XKPGxGaGODUYYKIvkNE8zcJLXm2Xsk5YGRL2S+BIP81Z8zfA1RzHtBmnEzkMAue-NGk0amYqCg5dmZLU1rTkqUGWclNZZx5RfEGM4bnnRqRqhoibk1XLNRWnNVbrG43jR5AxqjjHOE0S48xOjDlz3TTHSW4Dma1m6lvC+Ri9mkCCYEG2RyUnOpGVs6d9AVZaNUXcq+NTjKmSnfoGdW7OhyPudY+m3tO15ItiUy+hhh3khpY1ZqlBcQ3oKdQiYmLDWxzdaGcknrqXCn0A1YWi1xlSq-aypJQVS07IPBB-pEzZH3sdikgKVKf3ssgQIctfS56XLPBKUAST4P4cg5M+RYROAYZXM+m1xGEMLRnNQoj551orCChR+R7HiBMUKEB7D-pY7XqKbei+qqsXmNY8hipO6aN0azIBuN3s60bwcFIjU+h-5CJhVTWOP1xq6fMWIgtv0NaZwPBCSEmmLECNqHCbg6mGB2Z0Q5wYN4TMTARGRUjIKQ2GG5IwBlMCsGsJwTu9az6P13tEZx2IjYv2Mli6UuTwiosCd-aOh6r733ic-dR51njC2xjWHMi2NtgtJv4CwthZ0ePEyg0VlVddqTVdC3VyLAlbilIK3eqTdckZ9KaxltDkwKWUsjF6rjhnaW4YwRUcLbChkrLOUehbsiuuxU-s-V+gDisqMYeQpblC3FIKvApUE+hjvMNOxFnbX99vxdVc0GWAVVMhs7W0jp8jH2vFw6AfljIfsMH5YApijZux6hSx12r936v6H5ZNlQgO3P8I1N3IELn0cedvNyPUKO4OHv5TWooIrKuNRARK3VqHocPulFp2oDPl2Xq+-QsZ6XUNTKXhLBM3jjWYz49K5Jh7elmIsYO3dg2Vis8+-jOhPwtPNaHdYwajZ36Mng8r4RwuIkXvJFpx+e234MX0Drrbu3v6APosRmpTEgrvzZwrztt2ODbfOwolJg0jdW9fsLt3wcEc4ON9bxJsvD2B499lU1+uUknLozqGI7bzCdvQVt4PSzVfe6gr7p7pumPp7C2d7Kfv-zVJXPBov0fGCx6XQQhPBD6adyJd3XuSgoBwEQMgdAo9iTj04g1NeG8eXVF3qIvnI147PzIIAmIAAfefxkh-MzH3P0Ai-l+pBfq-fo7D3Eb6X36Iz5f96FE38f1I-7F372d4zBqzAxASBVutqxlA+j3DEBdObQSs4T4AGT-69A5wT7iTsgf6P536D7SwAIT4joJgP7kBP4kyv5-avImbAop4uBl5Jp-ywEH7wFbQ5xETuJtrewNQW5npXxURGqP7P4MCoGq7giUGYGgr2a06sb55z6vjUwjA3jbQkH7wTa3QhqUF64EHLC8GeZJj6CCFXztwD71TzbvDMAZ6wIPae7Lw-50EoHXZWLgjV6Z7OCsEhqGHqFsKh7PYSHZYJgCEyF2F2jxYKHexmHLYh515n48GxwOFZByHCF7TkGpBR5GFS5aE5apA6Ev56FoHgjBHmE4ImEK5xFuGPYm7cGSHeHEH2FZGOGkHOEhrJEl615m5wEZGjo+GyEyFOFQFKEMH+KBIS4Dr76eFlEIERFIH0GMEKKST1FOKNHGFewhrRKBLyqhJkBRY0Gxw3DYg4EXImbcAVHVEBFDG9Fg74DxLpE2FEF8EyF+EKFYHgKc6jbc7WHSbhGf6dHRFMFHEDKyKJGMzi59qS7NHUFeHlE5Gn7yE1H3TKHdr0C9r7L9qaGTHnGREMFXEKKDYGEbrIr-GmJPFNH3GcTHouLzr8ylFbFoigiC4yAvJywiEK4on7LbqbFnEJiJqBC4lWKkgEmMxElzqnqkkbTknYmUkvI6BkEhpD79ZZItGYljodG6E7j6GpZIkeQC6pZoYgksk7jgiincDQa0mcSpYja3GVLcGxCtHbHSG5FCFKlzSIaybHFUH6b8naxFb6mIwyaqkobqnQbSmBhyEAwHG5ZPSSn2lvFtFpAJyKnLEK5gbrBGlqlSmelT7enjROn7GBFg5ci-Z8n8mIHIFRHCkxE-ZinXC9YxkNJMlBTrbghpkKnuKWkuCg7g4YlmkfEHbfFSzsxrLUCLLAmhk1lgldFWRgr1kJGDEK5aoImNlakuCLGkHFmCDNrlnMnamVF2h7FdmMxZrQr6BECmlklhkywLk3R+mMz4aVqLlhG2E5w7nDnDbzk7kOlYwyEHlxot74xt7yAd4Dzd7Dyjw6CKE-FMCkATo9Tf6jp-JgHjr8by6MwC6+KjGSDjHcCk5q6EFYmyl0qEAMpcxAzghk6FAgVhLgXrE9CJ4unzb0qMpopflektnXYyBWSwXwUqyIUzmcRyoRZjELQ7IEWBgUmVA7LcD4kbnUVEprEbEyCMXQUzhskkWgA0kcVzRcXaqSp6p8XAisksVCUcnVleKZmMYTpvD2rSV5kqXEBIWo6yLCJUW1FaU3YMTSWJmXE7jvxWRaXpkuBaV2qDLvzSUVGOWcku6OBfA6I7xU6Vg05So54GajpXRN6iXmD4ZyAAL+VxjvEjBYVXruX4DGBg4CohJcCQWFABUJhYThVCL257SNjv7ByPRvreW+XCKMjvYvmiSZnZUfz54M4prSVYRl71VXIGWhUpWWF6g7IpXPDpVRV7kjA1VtXAwdUprdXny9Wan9WOkyFDWKUU5irU46pQZ1W24M4sDrCFUEKT5ogWxiDv5GB1UNxSgcA7wHWnhLB+ilBYRAUpWHUm4tWE7gWbXeXOrNCnX7WqD3XfwDQAA8wIe151nQl1sYKCpA5kEIAAKnfEpXQL4COWILwPJk2HWbUM0OCKAAANSkZta2xj5CgJJHVY2vJWTE0y6FB407wE3GWE7FagCmTg3PLgjQ34A9zECOQI1I0ZYo3zLUBo2vJk242r5U0yCE0PXhDY06UY3Y3k2xCU1iDU0XVRlDF3zSSdV6757-axBxWVgMF3zYiRXTDexBZCDfWvyPVLnOhGqrnNV00KyLx61EAi5tbAJYIJVj4lXLWDLLqy3NBl4jjAEjC22y0xCzA5xK0h303tam1ERHU2h2hK0o6Cb0YgaLwB0FUvpPQSUcEJYNA+pm1sBWS2QvzlCgAYFJ05hYZspGiA41WMhhV3VKZ+hBQm3EodXNXjVCKtYu09yjUNpDUV3kQqbTUuAO3ogG3BUBYK554m4a0m625a15hfYgKO0T287V1L0K6t0F0W250ibnE21HWDYoIr3j3O3Oy3oeUe3Z1+UEJ222JfIm4B3axH3OylDwTbQXW2730urR24Kx3i3x1ZCJ1ZaUop0GBp2-kf5FW4g336XCaFD51l5F10Al0iBl3nwRosGD2gBCYb0Ui10pX12GlMqN3BWxgt3Bad2lJ1XUPd0u01V8YNY9U4NsQZWBhj363dST04BXkFg3l9yd6Dw94jwYCVXgJ4rIqEr4xKq7lhlEU7h+rgiSMEraXDU8CkL4oorByIrzK2k4KyOnmB06lZD6r0yFSaNSM+Kt6Mjrbph5lzA6WxBzCrj0OFB5kchOMxAciuORJ5kYReNWakC+P2PXaSSgiBNnIhPTB5kn46Un7OhuOxB5kvTzK8w6WpOhyJN+NhM+peM+qxhJMxB5k3Dv7swsCGBIWlOqDlPdwrBFMyWymY2BOxD6A9TcC+ANzGx-LY3w2gANN5meQtMxBtMdNdOgB-I+R9MDNhNObTCjOgCdNGwTOgCQiLMxAzOynADDMGDtOLPjN-JgDTM5OykACkOzCzSzjcfypz6z-TJzYI4I4kLTlzBzAdnTDzEIAAhJKC83s1c906AD80CB86E7Kb9Rc-828-9TEKCzE2E79QCMM688s38oi7C5s484bJC2M6i6AMbBi58+CIbEi9wEUCi9c-i0CPs0S18zsys4UI3DEF87EJ+emAVIDio9o0ylxc1YCCuNMdnAMNwFy9I-wxyyoRo4ilYzy-jEmiwG1CYJUvyysIK8iMs-45Y6ozpRUfqg00UKK9Y9eWmJFJy1q9y0Xljo02CHmdfjpdfvqz3cU2E5AHQN6OotGmS66+62+o606yU1QDU7AJAF49UwwMG36z3QG2UwAKKBNhsxuRsu15kABy5AKbOzabKbP9BEErVIhr26qhnBD1Kr0waryz20vFIr5rZclrebAgBb1eKapbDQ5bjcurF4UrWjtbm2lSJroKayuKNbRrBYSqpKYg4JHw0lOKDA1QrmMo-svgHtbUgc6wygpCmg59q4BbujHAFSBjgqg2Nyk7V8RwRQAFyp8YhAntklqG0lC1m6S1t7YIUm5sIg+gBbuyzV3AkdXbMr1ettyFMQb7gwn7XF+ACrSrDOv7jbvbTDSbsQGdMDN7Od5jgOGdYgXwG1piT7HBKWV7KHUqJrfDqIAjd5XeQ8mAYjBxalFApgpMtYHw5UNwpAjSgepl0+LAs+zlrCTCHAE2Scxjk5vhMh7HGKktDA0tJs+NotQrJjxlpCJEYizQPHinfw+RhJigNwqsxA8qWgi6pCO8lt45Lg5AygygSNGQ08RgUK5n4z3c2N5u5nAd4IGNpQrnUdUtxNZnygCHiornhZhn5Kw5gJlAb6M8QX47DOx7oXvrkQ0E7D2BwtYgxN4IEIxNdK2nxgen-MgrMX8Qb6UX4nry1g4IIXBXuIfsCg5uZKHH4ZWQNyZm6Bv0ukJk4C62jXoAgBykoG8cEZMhjX4Qi+QnN4g3QL6kxQ8IgncnNXX+Lnk3xkpQtHZnM4ZMTH2ULHjSjX+6BgFBdZDZH0nX3Xq4Z8QiSqBYs6QJh3tXkwi3ry6X2NsXlXZA1X2085g3EtONsYGNUnsxeBZ3PZgJzxs3xXMqP3xNT3TAL3M3o3zaH3EtYPpXO3T3uUET471bkgxVVXt3KwKiWE23Kw11FXEIATzm12b3tXQDIPQCkP2PlmK+QXIPgn4IAA5FJzcql2z5ZvLdTY1+V5j7iGTKQBTEL0s1BeAquUIjPpuNtKL357GHmUIMIFLcEFLQ5DpG2W4MWFLe+RwPCDj-JBowLzN3L1T6b0b2F896QIJJZij7L7WML0AjeOb5D3L4pSu9WEFhuzOO-POh4P2qtHV+2Qd7gtdE14r-twkdwIDwcqH31PL4Kx72u973xn7yUm4FF4HwbypBLxFfH4J3mZNwqfnrgWkHn4QNnxnNdIpaL4-D8j1GnwH2H4NM+sHwY2Hwlo2F+-noyCuH92XwD+Jb2R9B31lhY-71ryrNCvFBoPoLX5-PX43xnwjbmgasucGnK-7WAcoxuK1wrFrDnPshP8YFPzmkAhUUf+nyf9muSpX0Qt30-dv2cnvzfBo8fyTNCpZg-9-C50n179QJoD4wv8SgQTc7qkW-hAclK2IP-uuwAE+9bUl-ftJnw77KdQB3-V+NW3f6n9gugGLDM+hMxZ8f0uZMJkX0frfxS+BA0frgOmzRhDQcGPqB9inqMw30JAQPjtQkYlp8+hPITmH0sz51roKDQNJ8n6LmAWBajYcmpTGzN9xe8KTgRX0E7Yx5BuPFoIzU3ACD-U7yINC0GH4uBJBsiSpq5UZgWhiw5USgPgDBzBwBgFQWmPH3YFiC2B2-YwdVGHJWD2YWvbSOVHBzSDEuQnPQeqSoFMDOIAuFgNUG4g7wFOfHVKo5XYFYRA8tuc8MORCFqIvKgeJHKELHxOUc4SQsIV-kSHpCUhZubIRkLsEyEihO8dRmUInZzsaqEQ8UNHx6rsC2wngOIb3QmrDkH2tQ5CFWAYj1CJqMQrOMEPyG7wWhjlXoV3UUoNQSEbAmQe0STIntVoVkSboYMHwqFoEZCbZOoJqrcAHAaDFWCQgYDqARAHAUgOtBcJEANktg-Bs+imEd8EGiWQHJUJBxDDZ2jAGoZsJ6qgN96CYR4WAWvzH1pQuwy5HOkOHCBjhCw1oV3UGzNBcghACmJUOFyVC1+ldGgT7BAyyDrMtw-BiPVAEwiKYMMePkAlxHCcs+rDKurBlEwMCVwbDbEUSLD6KVbYzcJlMLFniz8-UxnbjMyNFR9JTYEXRkWq0hTUgNOm5TkRbG5HNxeRrMOrjbWZjNwmupWNrsXH9j9Ay4KcLdisHNKmwk2BcY2DIBFGMAGRrMCUS3CqIyjJRytF3D1FFQqwhQ26UEA5V451CuIVAMYXWCgiNgfhQOZ4dULuotC5qPgn4WBGDDjhBOHQloY4gURDVbeVAP2IwFKb8R4RpqRERHGdEQjGIF7DyLxBjEMA4xX1XiMmIjENDxeddbfjICTC1AMazPUsXsHLF8D2gnQD9imPDHhBBOddZPMoMmGsIGx1BEMZaMpw2jKQdo1DHmKdEFiJq9PVIFhF4jhBACHA6zE2ME6ZiyAsY0KF9RvBTjIBioG8E2I3HoRoxS47MSuJm7rjf2BEbaNuJPFoQB6lmcEFWI4DK96RY+DgGYP1Gmjqun5fodZj2baiy6v0ZYR5DUAmAvA7MRgE4K6igTnA3AWvsONr5DV1cgOHMYLnNTFRFxSQA8XxC+pQSUx4E+gD+ydZoQYJHwnwQhMdQWoXOt4msdwPlE59PKmHSQKXlfE9Z0JiEp1IpV4CJVQhvULsXV3lpHiqA5oxmGlDFGGjugbIboNHHJBJZGQaUHEKJL8AiVsRWOQMeqFqAlZfoUdQwBMJlAN8iQv8LiXBMlbdBGQ20KcQ7h-xTDug4QdzpNyjrdB6YT40AJDQAASMbBgAAEFwA4AGNgACVIakAAAPIptkAQICqgcRkCSA1AbgrSKRy7ExiXR0lNiToy0kxSlxTXQSRxJ6gf93B0UlCcqksyCTOgC4bCe8GHL5TMgkUkwZAgNji8nJLk9yZ5J8n+TApJUyQC8IqAZSp+WU5wGdBynSVBJBo6rulIYA6TcSPUzXlFOcCeR+pmBUKaEPKkeDKpOUuKewP6lMiqAgrVVOGKRpGwZcAE9pMBLmldRNplkTOGFyXFxSgOYUpiUVO6l7ikgcUttPZN17BxcgDgP2IyAAAMJwA4jUEcjGoMglgyPrFGoCDALo-0iBK9O0BAgnp4MvSsE2xp4hTJo6aGS9NhnDkBcP0oEZEM6FLg4gYMtvkDMgg+CsI4IUgVhGhn4zyowMqnmJz-FWkTMmM8UKkGqDZB-p60d8HjMBmUyzQZddmn9PdwUzsowM5KOSG9gyjg4jkToI0m8GzZziNw2wUklKDozeZqQ9QeTM5mCzUwSSPHnIOKzXUs4YshgBLLYCNJ8RFfeXoUANlGzGkiggTmVm0GEAPs2Iy2ZLJZn8dFKFQTmKECTRx9CA9ENTjjNglQRRZgQcWS7NdHgNeuQI7qDBmAip06xwDB0V0IfB3DhIscP8p8MExkiCI7op4ckKqGvDG6cUjOdMCCgsAA6fwuuKUFLFRgQ6zQZ2cbLSF5yERSIjMFgGgh4NyR5xLCHWH+H1yTZOcZOcNz7nEiHwUInuMDX-LKZk6TskOYbLDnx95qvYrmDaLgoWI-g2MqIZ0CWluiHhQw3OTkJeGkMAEvowiYKBAyPDgWQYZSYTJlkJgHABNNCfGOeGJihhQCC8YUFPBFyvuU2SiNcM7GnhWULtPAJCBAUrh3Re8oEPCO9HHyt5qYnBqXL3mXyK5V1aUA-JzEbydxioBMYUNfkoRoIqESMXbNDGJycZn8uBZhhREDgPZlWVIB9DIUnyJqvVYBaAtvmBgbxZY+8dQMoj4N6BVojBd0MLrkKVMgQjyPfNFqPzcxe4X8IHJ8HFj1I5E5XpWI4XADf6RSesYQCkVNcaq44qORoubHcCH2s7DeKvJ0TryNFIraRT1R0VTDCA4sHsVaKMVBIEqpix4LYpFZshYJoAZhZCB0WTi5YXXIAuiMwikhBOYi3EOgrXG6xf2a40kJgsKBhKJFR4qJXhMVDGTYl78xUFeOUHsLqxnCkRa+SekzxjSdXBRnImNJWV-pNlXSlgjYm6InpmQnYnaHqXqNoZ4OepewJPzEjaIrMu-uImtYQhOgEs3wBEXfJqNLMFRbpfx34mcQZ2TiQpU9MgkO9cUt0ugIsvJhHyu6+kqkFgj3x8ySMgQemYHiZm4J6lkONHHQAfkkTioMqBJegswmnS7p78t4DUqaJHoA4jAepXEoaAES2hPghJVcrInKLBOVEqvlOgY7kxXZwccHDsqEB7LzZNEp8fRJ5H-LOUFqfYvZJqkMAvJ1kAADIxsgpP4zIF9O9iXSIpT0m6Q8tWVwL2BCU1qZxJ6mCc0pWkkmOSuSlJBUBpU0ZP9LOjqNOVeynlewMxXYq8V4AZqTOHSksruVbK5VMtNfG1lPZaoxUH1IYmDThp0q82f5yemTTXx8IIDsqp5Ekyde-07VabH16KUZ2rKxadSvF4rTdRa02fqqienLMZcsyvZZCpFYrLzpqqUlTU0tWeq4FtM7Aru2Dii85+Sy3-JSpdFCTBIsqu2HapZHYgVwxY42EkhWkgdy4YcQbN6A6njTKp9y2KXAo3HfiLVUq-NWdIDUnJGG-UwNYrjPDExwVwvMNeTCjXVqtlAgVoOqyBDST7B5vcEKWgbXRoicscDtQ4HLngRgx3AnRM1HdyhrReLa18agJHW4I-BZ0c3lWoXUTDjlbU8UHpJmHci18xkviUN3nzEJOxh6r4umPMAfBgglgzqYLMYDpTzcd6mVVBGfTpSd1RUmOTXQMl+BGQqq8sLpM-WfDGwFncGrriKnRqW2ekfVeKO6BjSKpdAE1c3BjTTAioOIeDfNMQ1TSyc+PZ9dwG-GgaDlFaZ9dGoNQdzk68MLemYMCB7LD5j69pTvMlY5TGQzys8K8tOVPo0RW63qDup6l71GwhkoEP+txC6SepwGwHIRt1zQz+pUGgiDBuEnbBXkWqqaTgzQ1walNxq7DUkjJn-T8N4zSTVtmk0LqUc5G2NPktM7CAVY0M4IAdN0SfqOlqQQpfZsE6uCnNz61Aa4KKlPrc1yqFwZZts2Hd3Ng0a9TRog1ztH1QGiSYDlfg5qENVrTFXVO8m+SApoq8kAlo8lJbGpBK3DT5r03LMYtAW94EOtHTggMQZXEKhZqs3-TIV60ELcHGhnhakpHGgHJKwK3krGQQq3FfiqYidaRVjIHTTjO-FtbuVxWhMKVq8DlbzNulNqPgGZknRTADOddZqIc2Z1iq82rqOtpBoKwltzcSzO1Fm0nLrSm2jbHQHBh9tMF-a0NfhnW0naztNGNuXhJ21mj6YaG5giIClqXallOlfbdUH7YhpCY08dVKmNI2xrGR8a9aVeGTUPaVgnSz7RCoB36cB1s3e7SkqKAIq6JL4nkQPVsB+ZX+6O58dGroZtzYIb2X6ChAaBPbBI00V7erw+1grReOlBHWmIOK9QTA-AC+NLP5LwZ1BGHLDpolw4VIa1MAlPqaiB2U7fQLdOVeDodV+godfoVnRZ22SaQi26wyTG1gp7koXRXygwJWGj5dMTx+dXXd-JSVvIhBLgXiN0OCbeQBamNYnbjvBDC64BQA22Ssnx1IrxRhC7hISsLrGRxd1O-gBCEd2AD34dOmsPWoZ3cAg98A4jCa0bA3AG+mTXmIyAACcJwb2InvfQMTjO6eniKHGjWzs-YM8bgC+ojmdKp2e9ITAOBcBgF3pe9QoBnv0As8WeVkNAK3pQ1PgURWI2IA3vNItzXYue3mPnvUSz4VpJBIBC4B8jsUp5saevQPsz12xh9m4BnPHuehz6a1gy3mCMonQY4b1865bUWPbqvj-djzDfcMrfK1hQ9darQAOp0qn6t9zO72IgLcBI7qgRUE8GQBfg6I4ujGqkK0EZDz9vkzABvk-pukLQL4r+-gKlyOBmrONOuj-e7TfTjcJIOiU6jpD3oN7wQ3kHyCAdACi8fYdAIqDECwP+Rjds+wwGkwpiu8llc-Y4LgyrosQBwEGswRYPZiWb+YrQL9Q0Fc1gybNXmzzSRvBwcGcGA4IOKQE-0eskDryFA8InhApzgo5B0OBCCwPW6ipggNg6IGUPeQSDeDNiFnOmAYHNDPkPA1cu7iGGhmODDPYTtTVyqIdl4ohoXBDpUGIVF45XWsOnitAtdOuvXcsyXjmy4djajw9SEfEY7CdMsCbCZsvXAwSGQgQwI5FnwQHXiUWyVn-qBAAHF+IBhsWAdAwEHIDktaAwai74pUrW-hkXgqWCME7+pOmX8aNpXIJwaqW21-uCAchKV0JY+EceQFkjQRNYFXF-asNkSq65+CxHOPUaAQ3ZvDjcXw+7JSAzbmZKMU6HvtlErbkOcx0disb7bAqLM7Y2GaXCDxKx+YqqEo8xlBjTGVoaxmjMDurXk7yW4zMGAdsbSr7XoqMSuCcdOgqpcddh8+KRtxivbVeVkEoxk2mMHaTWIBpHSz1An6BUdAAHSwBOaKsXMZgzIGCDVcZYHTMZhijQjN7Xkohz-eIKwAgnQ1YJrKRCZSXQnYTnspgOYMRPW8Gx1mXgCeCAQ9AsIdJ0AAAC9O2oAaE0UHTUImkTYxxZtwDZPom9ImJ2IvAeMA1RUIM0aI+8DiObgwTcJlWDyepP-MyespDo1ZBYBS1lAUtZXpMBZ5pg8A+J6g-KfJNKm3xqJ-pcwSlqanSKOp-XiKf8hAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRJRK0DEshASMmUOKR8aJdC8myM8fgwghAQTckwXwxUpRWpsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfJ9JrjVUOQyPLdJcSrRZItXwDimlw6gChhHUHJoY5EkwxoxCCjcsxYC3k0E+Vcx+dzSBLKAuRZ8-wnmX0UIQfA5QeZgt-t8w2MR3wSIyMVM5Ayw4MCcbchwHs7GFA4VLFaTcDz0DKS7cl0xCXmKnlYwZdAyWMqKPcyZ5LCU0vkLQj+7Lg5MT+WLYBxTN6jBpGwWeq5ShSoYm-egUswTcNxQU+RQZ1ShmWBRF8hozLBHZVZWy9knLizReyXwJATmCGaT0mqOYzgVw8tMhgszN7WLEYYfJvygoORapCn1nClidOtjNOSmMDz6HxbXKopAPjBv7r64+DDeUrA9V6+ZMqZz3LjWG9NACM5YDDpkhcQiRFqPEZI+hADRbG2SKkU6tY43VwGSwmtpBAW9XibIrVAie6dvoNS9RKr3jjI8X6UyHba5dpGS1OVU6AHhTdeYShwTfH+Prn62RY14VdwUJoXEW7QkDwmL82IQUxwagCrCu2wp9BTS6smmppS6nSMvVBFYQV43KwPG+5gH7hUzzCJwBh97IyGobPQKkiagP1zmWeCUoB8b-oQzOd9xB6Vgd2pBlch6lUoYA0mrD0jkPnkxdMIKmGdZIc3mKnMD6f00YlZu8J26GVoW4eR2psSL34dXSuNirqy3WuzZ3BwBCiG9QPiQh55JW7TURvJiRcjSg2wxjwLGUJpPUNk8IOE3BJMMH0xHQz+gbxqYmAiMiaHLl1XMIYbkjBkWfygTA5Z9dDaHrPX4o+1GsVwYEGBxk-mQbYbKd5weTHxVNuAThk9w1OPnrw-jTTUbYxrGaZdW6rnPX8HQdAn+1i6NRc-bui8bi4IFfc8VrzAlbiRdSwFmrdjeMlJw6QmLtnoUwug9GFcyn34eYwWMjpGTpn6FGw1n+y9V7r0C-jBRoDUEcDm+0ipCrgSgn0GtiBt9xux23ktuBWrtVmwCmJ8tlDsm5Okf6qCjZiWMnu0S-Azij5MUbN2PU4W6tFaOyV1E1jiX9ZUCF6UMmNQ5yBKZ8zNDep-bCExP9c79DEszdMSleWu6n1pUKsEKPuCI8M3uhhpbbuv2qcB7roHHv7qgkFfRDBiNtva-+4pIyJGaKkT57H7iS1rvE05lwlCYe4cZwwsajZN6Mn-ZL0hlGd2D3yUxGHC2d4q-0Erj+WuzsrKrAxdXSmJWMZu9ayhB20HA5gfW5uY1NeGFO8gkjNuNt2-my7xb5sBcrn-R7kGXvYrSv7RmgPwmdQxFF5zShs2Q8Telw2qCzvXc64T1-EH5Ufc71cSsf9mfPPzbD0biPBeo+Z1kGinOchFAQBgPAJAqAy5oGJOu5tKWO5dw7ZHI+jaEzw14KvMg-fQAAB9x-GS8adPvcCYiT+n6kNe69+j88HhPqffoh+I3n7ERf2-Ui3r7dokX5aprMDEBIFa036mUD6PcMQicJXPKxvPgAZO-3oON+-iXZA-y-M-a1SeEhfvZnF-FtcgK-IaW-RncENTC5WPTiXPdeT1feQ+efcAhLbaQOHzKnYA-BAzInMA5YZTS-a-RRPbepcEPXHSDOctWgg3P3DfV8IKHApMbGEYXAweUVV1BgogspHXTA0giVdgu0bg3gxzTmKaIvY7dfFuCAx-Cg2A+uKyWQ7PegRA8tdQmBJgkg69UQn-G8MQ5g4Oeg61HQkvBifQ+LBMEwqzDg87cwsXYBIPTbJPHzKiMgqA5QqguAtwxPTQ5wzmAIrPXQlA0wrwwwrgjg+wpw4IziUI4vUPaw4Qgw7AowjgiQ9mJA36VIJRExVRHnOtNI2wk2JQmAvw1Q0ASSBxIo9RXnZwLQiTOosxErSxMgGLBQhLJWCItAtIKebgOI7RNWFo5RVRYlGwo2OwzI8QxwkY-AlwqaWnfjcpTw1gxQ8gyoncaglYkDOgtdctbnBoko7RKIjImIu0c7IApYhFEQd5egdhE4vnKY7w6Am-KomRdrGoqtZwJ42tPnZolwhdcdcRW6M4jYhLD1QIGQLBOaQ4iw0dbtCdLo84hMaEyoLBUkBE4EpExdToNYlgkQqE0ENnTE+pHQRY6QtuVrVXbowfSA94ygnYuAiLIEzmVnCLQTNEwMabcENk4WL9BI+qWkrraLMA2IYkmYy40w4UjWQDPjfY7kyE6U8EqrHEzmTrCrATPDHklwbg1HPgggo9ZLLk3UlU8os2QTDUziF9dYRU+nQkxTdIhklTLIA0nI8-ZfLkB7dYs3BLC-Hw7Ywkqye7dkziVne7V4iVPksMwUnzG0jyd7SY0osolwYYvAm46klqR1agNpDwokl08orYj4lk6omg3M-MoIxMjWNFbtRorRP0os9M2Y2UmslwAtVMtg1shwq4hY9s62fAFNaxIgZ0tM4BK00cuU8WBUlNfQKcvU7-EYKcgczrAtBci0-UjglcsTLOGvXOevAuJvYuVvHQDvYBVtWuBOAfQMY5P-S8rMiM5rVFMXfQFlDopNbgLHJnf09EvbcEXIY9ZFdqMOcEQXIod8yQTor8z7HoAjb6Y0wCpFFFL5Z-AMxk3wncGQNQxFYClaUC6c72OsyCtlGQNCv85NGE5WbgeEo0lwwlSYsim8tEUkqi7C0AbEuizmflAnQVelJirAiimcNi7gSkx8jyVndnedVVUhci3k-8qSsCyHD+WSgc5YsWHXTeOSzvEs5ksETeKyRSwiqSidNVfbBibSpcwYG8LSqkyuRwL4COPufHSsQnelGXQSwMG8eC3I+UsjHmCxWuDy38wMbaHy27By-AYwIlW5QKp7QoEKlwLCOQQY2RNdRse-EGJLSgXEAVOlUhRkK7c81nFK0AiIvdb1SyrCcq+iFDQ0hC+iwKpgsrQK54BKuMC4wYUqxiLizibqlXFqqeNqyUjqhMG8bquyjyXHdqPK4gmq43PUL89YLKlPRK4ES6MQe-IwV3EWP-DgPuLa08cNDJLCEqwK7a33CqzocDUAFgZalyrVZofaza1QC6neEWAAHnWoOteqOou30haA2RNXBAABUF5QAbg6BfBBBIVh8esmxczahmhwRQAABqNDOxBqSOIUFxcq8IdGpSlG9G74ooLGvuHG8yvUSYNxdZTZUG8GmQYgRyGGsQOG2JBGlpagJGmotGjG+mMmsQCmvG3mwm3mkmwoAWimv6ya8wPKJgoQ13J7ckCKysRRBebEYKlYctFzIQN69eK6qmq9YSRQq0vG8WgGpuNWogbjOxXxRyyOFytyuhSnc25oCIkcKyvWqm823RT2v6n2wpakVzXs-8Ha4+Gy66x8ViQjJ9JuD2zKk0nKx2vi2So2ooY1TcCIs1OgNecoa2KeZ1bUFjfGRsbqxkOjbquNYTWMIKHW9FJq8q5WVq8C2Mfq71JuoaiHQoUTUawMS29EDWyvXyjsog+WsPRWhapWpEK3U+K2wex3VjPMa1Our2g2sc50ZTU2sO74xBWegem2vSO2qKh22a9yktb4t213D2t2bel6UoeCbaI62q-6poIO3WoiMOm0O0aWuLUAHUGOgwOO+8h-bK3K3i-Kj+ILdOoGzOie7ZXOkQfOkhe1Wgwup8QbNO14KHMuoECu86gjGuiVFe-qxuialuv0Nu3NCarul1buta-u9Wqu5uEXPcsXWvPOBvQuZvEuDAc855IFd5UFV875RcwMpk6bFWcEF5YFD5YgcMjyaRwRkGV5FpR0n+EVRc+wjFEXQqARkFAxfc+HPbdMPkuYJS2IOYVcTlIoPkjkcxmIDkKxyZPkjCexnTA8Jxkx-86ZNx6ZTx6YPknfNgJSoJ50axwoPk7iQwFpbqJSqJmJ6GxUcJ2IPkjO+xjO2MZJmIPkm4e-FqFgQwMC3J1QfJnOFYLJ3bHccEVGtx2IfQFOUAXwcIImUAY5dGxJipvkzyWphmBpppo6VpryRpmITp-84zaYep7gfplp45SEYZ0AUZqp4AHpgwPp5p46Y5MADp5x-8gAUhWcmcafWcGd2fmcWbBHBHElqcOemY2Y9qaZ2aqYAEJJRrm1mBnjkXmgQHmvGqmPqDn3mZnQAvqYgfmAn-yPqAQembnjnjlIXQXzmIRDoAWpnYXQBjoEXHmLnDooXuAigYWPn0WgQjmsWIQnmVnBnCgWmYgnnYgE50wCoodFH9GXyCxmrAQVwlY5huBmXZHWXQdGX3gBBeWhG2X8AWAAArEwSgOHTljQdlAZlxvR2RpSrR0larWMEVgxthtMSKJl5V8mUbOHSp4nf84-YQJS81iprlbJ-8yAOgb0YRXwcx+1x1nK61m1nJqgEp2ASAex4phgX1j1rlL1vJgAUTcYDbDeDcZT5IADlyA42VmE242X6XpBWqQtWUTmB9dyqOWVglZhQWntoyKeWDWQYjWM3hXy3s3r4Br83phC2BmtGLweAa3K2Thh6HUWlcQs2vkHBuBFk9LLKAVqgzMZQAZfAHaJWgZ1hlAwFNAD7NWa2VGOAyl1HvlyGYgh3pkEQihLcXDpwl5T66FLLprqVwHiD2sLoRA3ya3CV5qA623XklHa3c3P7r3ctb2+26zxWpXTA90n2s3ZtKqt2E7QHk6IHYsxMMqH8o5xX2FL2ylwt4xCBIPiDdXWGCx2HDzG8i4W9MBzy3hTpyBTAGAfEPhyobhSA0kg9LKh8R9Nx7C6PqaVhZgeyI6wESJ8aaiGAiauZsaZAXFmOUFuPbYROuO-hRjcSFAbgUsWUtBwSwE+517pjAxSPlBh8Mga59AjBB3lBlBjmc50bdcDOPbwQUbSgLPA7Rb0aNOY2-QLPBTlOoUBzxEtZcbZ8+5B2Q0fOxBe0PPnhoI1qBaRaIRebAK5PjAFPeolYh33Ocq-PL0CbrBwQ3P4gk7-pZZFl6PTYZpddIUNMaizZdITJgFpscvQBP9lJn08vEYbwcvwhJ9PaGvCvwgvmajih4QrZODBhKu-9wQuvjJShiOKAyOKPYpqO0kcvjJmhauczOaqzf5KvqvVwQCE06ziiXjGvB0ajwv0aEvcQsveuCullTvg4xbVwUb+O+jZk1N2U2WtuxlGvLvYxrvebDumAyBZZ7CC0dv8a3F4RSukk23JAcrcpQQlLFky2wejvvvWOyvX9Y0Zu2PQePOIRXGTM9ttocuv6shGuYePOvvSBLZtMZ8XPzurZwQAByfjxZEW2n22SWoT879L2H8j2sUgFxHxLn3Lt0gSHDFgUfbaHnsFz1-8oQC1qyYIQmhyHSKyC0YsQm0gDIOR4OK2Q7k70X8Ojg7XwnzL+H22TXkXznh5v8fQPXtHpO7X8S8wGd6sFzBdmcTeQFDwXnQtQgPn7pPM9RsRIrvk73pbpS-lZ4sZP3rdpWe3udp3lXV3vxNwJLj39Xsn02Q+P3q2Pkrr4WdPO7tPzhBHoBMRW3lwUX5eQ5OOOP93v3g9J9KaQP33-P6jUuus92oEFcW79A0AkPgEsPxvpjXRt3twIae5eKeV0vl3cvyvhPlm0NT3mh2jFvq+gb1xjXrGbaLhQf4wFae5Y+ewjf+Prf4c5Psrh9pf9SHxjX+QA-4fkNW2U-33czqPx36gTQFXYHhBdxzce-neCP+Vp-+dl-s72VT79ecifP3gX1frJVF+vuMtpvxv6udyQBqOFLX1T6gFwBV6IKJnyUod8BiaAvvogOLrG0EsRfRAQe05g5USASfZisAiwjp9UeYVfPrbAzoe9s6FqPZE93MAUC1eA5Yjj1ioGeVO8tAxgaj28rCCyuzAsRKwN2Ti5Q+5gXgbEkQJdtFe2kcqDHCJQgwBgFQQYNXwEE2pKB1fAbsoJ0gDlNBVCLSLFEmI6C1q20eQTKyT4y1RIz5FgNUG4h9xzKknJcAtXPDUCsIQeWqueAHLOD7izlIPJjhcGRxLK20IIa4KfyBDwhIQ6wtEIiHUCbwSQvuIRTSH+cx2ldPwbnCGrUC2wngXIRNQHLnt3B62LgF4MqETUfBWMSMvEP7i5CtK3AEoWQNtKpBQE-AtamI0wpghJBnXRQefiFbXxwEAyfod1VJw508KcyHtOoBEAcBSAhsbQkQF6T5806h6ToegMXoUgocmQt7A0IYDZD8GnCFoa1V-q90XAewv-Oax3rSgEGK0UBAwDmHCAFhLAvISQjTaB1cghAFxJkJ1yZCo63dB9IeiEFz9MGzZT-jNhWEndwB3Ab4S4lEFz8aGA2SiNsIuEtBOEv9HuhCPhFJ9i+GIqlIcM7iUhQQdCXISohkQ1DnsuwhofsOCFZDGAOQ0TshHeE9V0RVwsCMGHHBWwyh5IqgKcKGpG9JYZARgLk34h-DpUAIyGPyNZEOCdMWsEUYrFCivVeI0oyka1WoE4N1IMgJMLUBRpU8dRewPUUwPaCdA3yMoikeECthl0Y8KfGYeaI3w8i44hIoUCiVJHCpVRXEGURNVthI9MIVAcIJ-hoFYxLRq-BUUkCVF8RXqN4XiA51jA3hLRW7RULxH+iijlRJ3WMUmPJTbRExT7AiNQ1tjghDRHAC1viLUAmAvALURgEYOe5D8VB9AbgKX09Gl8qR5IRsGKJKYao5UjIFMYqI7EW9TebRGRDWIbF80bWsYFsWcLWodiySsqdKNqN1EWsrYWmMrk5SjiSBY4FsJrFGNnGap8RvAaKi4I4QOi+eAtDMQGLlFpQdYZ0HEGyG6CjRqRQrakIyDSi3iywvgTiuiLhycjdUogTLJkEDqGB8RR4ivkSD3gnjZcUOboIyHX4Bi0cihTod0HCBWcuugdboCLmjigAQaAACTDYMAAAguAHABhsAASiDUgAAB5ONsgCBBFUu2jNHcSOMnS9ikgAoj4dQIPHKMZQccB0amKK5XiQJw-OsaDl4kii5EzQK8Z0AXBMSgJvVDyJJMyBmDiwzgaxJZRwl4TCJxEsiZROokDkBJ3EoSeYJUmiSkgllK8X7BAkMAwJsJFiRygV7CTnAnkGWIMOtTeht+DkuDCZLoBsS6wugmWDzD5hKwasFI4fEdBJrlickVYpSfWN-ghTLI8o1MT5LjHexJAagaKSJNslJTS0mElXhtlyAOB-ojIAAAydty0NQRyGzlV4LdWk82agIMEThVT8pKlUgIyFykVtgKhU9GniHgkJY2pKqAqWQAHKs5ypMwioeUPFABAqp9fWKHVKqq6Ys+kIvqdNPKh1S8e40qTp6WtSBA1Mo08UKkGqDZBVehsd8FNMrK1SzQ1sJmpVI2zLTsodU5KMrWtTywQYjkToGkisG-oEJ0CKgRlghrPkRpoQ-oUtLOkzTUwK2YMbGjoF+hSgWEZ6QwFelsA0kDAuflmIcaBAXpb0kOvYIuymRMRpA9EXDIRlpI2pcoioG1FCCepf4-Q4oRqKgjlpCZmM3yQA3m6bCfkaIl0LHVNFZBchD4cEUQLGoq9iA5w5jBg3ZkNAXsdImIYcMZH4Mkpws-mYGBYAe0bh9MUoDqKjA+1mgDMxGWEPpH-DAR2oLANBCQF8y1OggrGHWFuHaykZP+Xmc12tlYyHwF9b2NdSFkiZ8ZEIh2X73xHnsiRZiKKhHD+DrTPBp4JKZBKfFXDbqBwo4YfBplDUmIA4PYR1ytZp0b0dAHGpGPFEHDJRDQ4+HmKKChzZRRwMcX-WBEoD7Rp4NmeSjwCQha5K4F7LSKBB-CY5oBQua0M+kJYk5P4iCL9IcAZz+xfg-OTEAlGJDc5KEaCKhB9HZYCReWYOZULblTigRGDAcGTLyypBH4hcuOR8Lao1y65HchMEWMXFpcCBos4bOxmdGzymhnQOWaQKkKcQ+5QnTOSqL3C-hWx6IrURJGLHGjUeh8o0UuO0zhIzRhAF+UV26q+iOh304BVaNR6+zXRSKahEHOAU8tX5rVcBfaMICjQnRLozuPAsDmPAMFPLNkDUNAC7zIQaCrCFAqq5f4-Rb5UkFbAfm4h+xMYvGOShjGkhUZhQBhU-IzEsLxx0wdfuwqHmKgCx2mX+SWOPl3y8i10-xKsT566VYCqxQyqr3kZyD6Ad8A8WMhJnUD7CJM4ylVMmJaLdBQTLGbRCOkQCSgJrCEJ0Fem+AW0gs7rtpnsKmKOAkhc8gClURtTDpngpscKNYmgBJx+Qx8VSDvhr5pFrUy6FPF2l-B9pv8EmT9ihxcKuxxUNxFwv7E+Lwx3koeW8HUUvEQlQgaRclL9ABKPhPUhMIkpxTdiBuX8-+cPBXGF850HPMgC4j6mTE8ljAEmUmLXHRxNxN48pXOJyKYT1JDAEidZAAAyYbGiZGkyClTXJqUzsar2sSZTZRHEw8dxK8n8TJA0sioHHCGhtTFlvijlLbAUkLg9lD0hqpzGOXSLVJ1AoZSMvGXgA9JmywSStFOW2TLK-km9oMBqzmStxlk6yeso4UNBwQbUpyRbHhDkMflN4wbsr1V6gqzo8IOUQCleUHKw5fki2AFKoBBSrwbUgZiTXcXSKvFlQpZWQxqwMS0pyKjJVlPxERxj0G2UXgOKaVDjEprI68fdHeXorNYWKplIFVxWxgPlX7FaM7G+JuT0pxk9JcypJUEQvYSKhZQyq55MqRRWU3lCQyDg+yGl9K0Xj5NZVNRjpUOVoMiBfGSArMtqWuJb3BDxpGlXPNBmbP8UGrrh4EbkajxpWqNLV3PU3lqvdi2x9VDgKESpQEyW8VVBsYCTEu2XigIJRituF537iwSeCm+Vwt9JjWbTD2McQIKKrumMAQJuuDyRyhr4GApoIEsNUxLZn1yoJfgRkH8vLDgSi1v9RsJpw2TK4mJ2qsSD7UhX3QcQ9koyfQDhX3RrVhQIqO2pqJMTu1TUMCvjCwhMTU4xzOtdtPzTZqm1UdE2VBHODnLkCKakGH1LHaZrDFbYplgcsZDZKzwLxOJeSEPQFrEFBy4tbBifHQSgQFa3EOBLeU1qoc065XH1JlgNsXoravWN0CUUcBh1CgXtbEH7U-qaiIK5yeBSwhtTJ1AzF9frjfVBwIci62+W4uEAvKqpwQNNct2zV89PFRakuRYtMG4bsNtsUwUxKzWdqOUJg1DZhvI3KT6AhsD4MEA0FzrN1ay6tTuqfHrx3JFG41kMs0mkTyJVEh5eSD41ESBNOkyZeOuzXQaWmXGzDYaXRHggMQEipQdRs8XbqJaa66RdLK2XHjj1WDTjWwDQ0cBeNuE4ZWMomVMRblFmyTVjCg0GBjmcmvZRDiChKavAKmrtlNAg5vAJWaKD3qp03r5c00A5OjD5qGT+bIhtsotKuQkQzgwtKIWfgFolSIj6qnm1IBByia+bXyaaagcYuC1yS-KyaTLeFpy26DkZqWo4rFo6gpAstAHCLSkI4L5aV1HkGoGIBrgrR6VpW6wVFsICpau2Pm-AAdPi0AcPVQcXLeluPRJ1htmCabcdQWiBr7otsAbQdM6yzbfVtWmVoUtiAWr6VoW+gBtvW1DJwMRsm1gtp1Wlp+1NBEQITR22m8lKy2yjeeUy2DbYpNWo7aNoNjjbE6uIYra+V+0AciudS1+vbDJjB4wYvUGrLdqaWkYitb2lEPoH+2baPtbKlCA0C9jPaVtVWxHdYmx0ex7M+YhughrXSXaZeVkKHVashg1aXturW7Dss05jC1hug-9P0ITrwc7qoiJDqpTaEeR-+MfaVDyhZXuxJwtdDlYFPlbGQcGh0YyBwhMD8Ba4mkHNjQB04B0ceIaY+BMIDr7YWh6zPMcwMrDcAhFsQbZGwKSpUBjcLU7yDzVRpGyJ5RQcELzsAFv9j+EaLpRuOlhbip5uCKZWwEFxnbBIxO-gBCAd2v9N4N29VXdu4DB6gBKGXVu2KOTVbomlMRkAAE4Tg5aeJpTCbVGAlh1qDPd1CbWHD-ocsbgDmu2GHpTasa7YSbIHAuA-8RUqBoUDz0uJqe1PKyGgHb2AaURMGP0E3pO4fADZDQJvQXuESj5-JgcY+C4B8i0UswHsmIEPv8kj7M63AG4BXyb2Iq2ANiuxW2hoRMbkdOqzUYTrOgB6Lm1i7qFvrkZk7w9TSqHhvrP1MBBZNO61CALcCurn0dAIqCeDIBrwI47rcOVSFaCMhx+ByZgBX2f37Kk08u9-fwBFpHAEVCcp9MDFIDf6nWoADrvySNEfx4QadXveCG8g+QwD-i03nbCgMCATk3TPdiuF72fcNVxwUuaLJYgDhG1agoXi1FQ29RWgl66YIRvQ09oyNpGudZMQ4PIjH0BgRA8gZyqoH1IEcfanQVNk4G8DlupiYIDYOiAFD3kfyHQdRFsRCB0weQ2ocINNLxoc4nOGofUPCH59W4-GP5K5VXhJdPtag6byXavQFdIwnTq0B8mpx9d3sY5s3C23k7uewsSON0vd03j04vBOhpIsK35p3gjkUfNUCKi6qnxABoEEAcn5gHzREBt-UVBgNwGON8GQKsa38MW9AjfcYI1nrCOlLLS+XbqnNo-7wF8Af0qMZHC9HMBZI0ETaBl1xD0qXDH8UYaaqGI-4ajx8LXd4YGa+H8RrWnTgLr93sruYnK8XbYZ5VEwTtKwPLVfq576BJjinV-Tv0BVTggjburPdQ1sD46LFrumOCEbbU+jbdzQM2KjqKAzHj9EIOXmHuHQgxReSlLYz1SwBgHX91PIwfoD4UAAdLALhoFVMAhyMgYILLDuONNUWPyNCK3pqJiGoq3An41f15x-GATwJ0E6r11zgm1BUJknuaNjS8ATwx8HoFhDJOgAAAXq21AAgnuUBJyE9CZGM9A6TCJvSEifBAonjANUVCGWlnJCBDAsRzcP8eZM8xWTfTLHlU3ICE0WAhNZQITQtaTBqeaYPAL8fpXinyZEJyU8SelOWKaC8pxU8qYRXcn-IQAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiQ8VoLxSCbEoMPokj4nisExK4aY6BhBCAgm5KA6hYTBCFLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+RqRnGqEVw4VKKQYlW-SRavgHFNch1AFAMOoOTWRyJJhjRiEFVqVSlFPxOTQc5DTxE7NIAMoC5Fnz-AOavRQhB8DlB5q83elzDYxHfKwjIxUVl1PDgwPR2yHAey0YUUhUsVp5wPPQFJLs0XTARcotuaj6l0FRQSoouz2looRdi+QmCT5kuDkxG5Yt76JNHqMGkbBO6rlKJyhiR96BSzBBQmFcSeFBnVKGZYFEXyGjMsEMlVlbL2ScuLUFLhKC+BIEszZVSao5jOCnDynSGDdNHuo5hhhYnXKCg5FqHzrVkKWOUm2ASeBYzhZnKopAPhOurja+eOCaUrHNZa3p3KZy7P0MG4Z4VTXmFQfQxhwiWFsOwTfUWxtkipFOrWON6c6kEPTaQB5vVWk4MleE2pmdS1NOFe8DReS-SmWLfW+gWKREtV5S2nBiasAbNQY4yx1js62q4WNP5ZcFCaFxKO5xNcJjXNiEFMcGoAo-LtsKfQU0uoBqycknJHCV1QRWEFH1ysDyHuYMeplHcwicAHeSeV0YVyNj9be7OPSzwSlAPjK9X6ZxHuIHix9u0X0rBnYKv917-UgY4b+88ELphBWAzrH9o9WU5m3eetD7KR2uLHfitCFDEPZO8cuyDN8cPkVfSaodWrgSggtaXBwMC4G9RnggvZ5JC7TURjx1h3DSgepMl6g8EJIQcfQVx4QcJuARvYzPOTGp9A3mExMBEZEAPrOY4YbkjAgWnzfh-QZ2dDYzsXVYueqHIX0CpI+xkNmQagZSRZ2udGjYJimmB+dw1iNLog-jMTM18ZrEKZdW6RmLX8GAe-C+6iMPuZPROi8Ri4KxZMwl8zAlbhuaC7ZzLWjyNJLA4gzz2mvnfMjAqi97KprH1MyAlpaTYwKVBPoZruWL790HsPOzEX76P0ARwXrpT2v8pYzuUbL9N6teyoYceg2v6SqlWbAKjHh2H0idEjhdqoKNiRYyPbiL8D6LnkxRs3Y9Quey-FhbiXUTqKRTVlQjmBCybEfJwwjJlMMG+xg3qt2whMUvR2-QSKw3TAxdFsui8cWMrBKD7gQPfsJu28x1BmS70VYfQdqdUEgrSIYLBwtJWr2JKaawsRVChklcVNWwdO2ficeR1m-OY1Gyj0ZFe9nKTkPjtrrEpi7P+sTyF-oAXiCJeraGVWBiov+Psuw1juqybD5zaAU9j+nPDbi+WwN-+cHtfjd131o3E9DErCvWbkGFvYpcqrTfGlL6dQxCYxrlwKbPvrwm217Oh3ySG5WybwtPXHflSt-LyzbvIeR7Ps98qzuFehpXO7nAYctV-bkIoCAMB4BIFQEnNAxIk15sCyXMuxbqjVy-jm3zpteCDzIHPGIAAfDvxkzGnTr+30AXee+pCHsPfo7DLOD+736eGM0B+d+n86KaG7K02JZ8xqazAxASBWp0sBlA+j3DEIbATWEG8ADJz+9Bxu38S7JD9b-X97++wn2-E8a-m8g2+hp79yeCYTayXunMMek808s8De7+ua1+IwgclmIcFe98MuBOk+r4AmW+O+fCXWf+SBOk8BGyOBcu5sKBywQU20N4ZBSYdmaszGBBqexBa67KFBdosBtc7MQBnETWfuJ8Ae9O9BbKUBm+X+GBv+hO4IieZmF8gBGy4hi20sYeb+JBjBN+5ByhlBa21Bz+Mhye2UdBtcVEpBqhzBahNiGhnMU09uPBE+ehqBH+R+whWBohFhUe9AUhzGThSeH8hBChDBUBTBWQfhVBeBbhAC82HhfWuhBcShMBlBLBLK6uZhqQ-CCiQiNOmaEBihAhn+3+u+DhQeoAkkOiKRIitOzgrhz+SRiixKqiZAnmkRUBSsIBbGaQbc3AAR6hiaGyFRQiSK3h-BCYARsRbBGyU0uOlGqSfBPmJsdhP+uRnC4Iox96uBHRzG1OxRaRNi+hURgwgxT+CRTahCzgxCaxdOVhdRTe0xORO4uSjOYhXapy9ARxGaJxZRnMDaPaLCt0GxNhUB5qgQMgYCc0yxmhXaZaTatRmxPxrGfxYCpIQJrxIJjanQ4x1hGRCYvxlQYCOg8B7Bv0RcRWwuZxUx6BMxVxohrmLxnEpOrm1GEJaJXW4I5Jwsp6QRz+rm5WHmb+sQqJgYbRJhcJnEKWeO4GzJtJPJN+EG-JHkZWqWVGEGop2qxh6Wkp5gfmc6OqgWFiwWIp3x5xZs1GypleB6FGixNJOpUxepLBEwuxHBI+XI+2ExkxlexJlxyJVke2FJHkpOe2vRjpM2YI4I7pTJlmBpoAZ2PR6RcYvhhhRBrB1puJLUlS1AJSgeKJPh5xzpmBpJeR4IdySZkhLJnMdKxxKZhJLgvJcBIZsaEZfRYp0RRhdo7RJqGyjqsaRAfGaZ5pc+bZBZApN6MaHy+g3Z8p0Bgw3ZIZZWrZhA7ZNZCpdoY5jG2e3uueUcBescxeCclgCBm+pAhaJCJ+7Kiyd+BaxAcZ1wBWIK3u+gVRkgNR3A0OROKukJO4txc6QK7U4c4IMODQ15aid5F2PQmewx-yr5wKFy+5mRFxmZYIMgVkuQIF75WqHpGsWqSiiW1R-qys4FdJAa0JMFoAgJTZzGCKPRMgWFgY6J-xeFsJhFz+dKiODKeKpFje5FUJGJeFWJp5ok555OnaJ8iCZFaI9JPFn5H2fFJ8PZ8ZPF+go8Al98GZe+o8VkwlEl5gPFTaoq0lDEslARMl2Jw6jgXwYiVcCOlYSOeKOCzFs5WQgFRFfZPMKimcFlkB-RN+Nlz+lihlIMLA2yDlh2hQj5CYWEcgLRXCiajYB+IM-m6p9KuKiCjIm2CBpOwVCCRgYek6VqslZ+aV9Ef6YONFhZDlhByWDlzw-lkZLlIwyVjE+VAphVVqysJVkQZVHZVlDVbcel2OJCmKJlZlOS2Viueod56wkV2azl5Fl0YgB+qVxuIsd+HAVcU1p4bqkiWESVDl01E86VnQT6oZw1JlkqzQ81k1qgG1w8IsAAPMCBNYtdtetvpC0GMsquCAACo9xSJCC+CCAfIt6VZNiJm1DNDgigAADUAGWiDUdeQoBiIBIsoNIlQNoNjORQENVcUNmleokwRioy4yL1b1MgxAjkX1YgP13if1RS1AAN+RINYN9MKNYgaNMN4QcNVk1NSNhQdNaNS1QxzGeUhBUuIBweSI2Oi8fCPc2ITlK4GyhmQgp1g1A105zoAmepjNbN91ecotRApGWiHl+ARlYgPVDFWC1aqtzQIBI4I5sty1r0swN+XNqtMQptRmGmahaV88N4XN72hQLEgou6ec5tEVs6AWMVyO9mRQSqm4At+RtkQ85Q1sbcRq2oeG+Mn6DljIGGVVcatG+MQU0tl8VVRVbVCCFKtKdVUaVVj4rEDG5VgY6t6I4tWd+mz+oexu-NYeOVgtsQ+llYGt9dXO+GeYBmTtMNOVCtioStc+KtBEv8ItddWtekOtetBtsVTKxtBEptYe5tbsrtbNpQ8E20S1OVd1TQ1ITtRErtNodoHt3mOoK4A4ftR5h+UVuIwdKSod6Kj1EdbdUddAMdIgcdCC+qOBCdT4dW76sYKdbcaddlGdUGfoOdTt+dMNhdfIX5q4+d9V5dntxqXtAVNdM9Ytmd+cg6i5BYy5+eMcRe8cpe2AOJKpqQRyTyZyMiWqzKw5gh2RUFKq+RDDpywMSFLgPDzyIMxyRS+Od6byKKw5AR4Kg6hUjyvDzDS5-2XW6Ye+4IcwIlsQcwq4xdhQajHImjMQHIOj7SajGEhjkmpAJjqj9JnSFjnS1j0wajs+mQIlLjbAzoujsQaj3EhgRS3UIlvj-jn1ioXjMQaj4dhj4dsYYTfpEINwB+LULAhgn5CTqgSTf2KwsTajwNFjsQ+gJC3Avg4QRMoAiyoNIT2T9JnkeTDMhToAxTR0ZTXkDTMQVTz5im0wBTRTJTx0iykIrToA7T-pwAtTBg9TjTpTiyYAlTpj9JAApGM90w07080-M4M8MxCOJHk8s5M30+bcU3M8+QAISSg7MTOrOLKnNAiHM2PPnnVLMXNNOLKXUxC3NOP0nnUAi1O7OXOgBfNvObPgiHSPM9PPOgDHSAtHP+mHTfPcBFC-PguwtQt3P+nHNjPNOFClMxDHOxB7npgFSfY8DyNCMXkFhFWAgrhKxzDcCCNMNksvaEvvACB0svLe4WosAABWJglAf2AIVLGgZKTTZjJLTDIl0jKKGWsYrLijpDaYkURLMrYJzApNQIe+ajK+wgIlmrsTlK4T9JkAdA3oDCvgmjhrxrOqurerajaTDAsAkAhjtr9rVrlKNrVA6TAAohY7ax6y6wSmowAHLkABtjNBsBtH0vRMtUhKs9Yw2UsrBKzCilPbSkW0uivkzNZ5VyPHIKPKv+5WrxvTCJtNPSMXjEs5ukuZvyv4GVK4hKsXIODcD9JQWyV3K4jVCA4ygAy+B14MCctAzrDKBPyaBz3SvpvCNzocApIXzMqoOFDNudIIhFDxGcTTh9wv1YKyVw7tQbtMolYXQiBXnjsMvR79X21rjHuxvn37tRaHv1soX4Bcs8uTrnvluMMZtcEzgZVztGOP1qnP30XL1eaMbhWH5iBfAsDEKAfI4ubxiEBL0c7Vsb6pBP1NqcssPBqWUv5z7BohkYZvDocohxquraWuUkfjmsIzgEcNIupTmyU3i4c1Xxmoe+OEcFjEd0dYfuMcd5XfS2UIYdQpBsdgiYdjVllkd0cUcBqsc0c8f0eUGMd8fP41BiAZwrQWKkDVIkdYfbSKcIGkImD8COVkJbuQ7MI7BgcQdQemWG3iWcXUh14cCUBLYWwFOZVYz1NexmzYkkMvaRzkOF5xwl6YAIFvCnTkCmAMAWIfDlQ3CkAhL26yWz6t6bg6UhF-DBxWwDGUGJdXJw0MAI1cyQ0yAGJpdPwkTcLNBldjYPghlwU3CBbEpaCfFPxVyj23LKDKAt4ZAZz6BGBNuderN-ag3S6dfm3ghA2lATfxL5Es2g0RfKB+t+gTdMmtefIhksJazQ195VxNvOp7f62beWuRDQS4MuB03U3ggQjU31dCLGBNe9RKzNtHc9C7J5f5HWDggbfxDqn-Syz9JJfN6IwA9Wz-4zS6QSb7pdYA+gCX7KR7pA9ZA3gA-hBd4W3I8fJXLXP5HFDwhWzYwjAw937gi4-GSlBhcUCRfRexRxchIg9toGBTS5nJm7ww9w+ritwpVFlPHiIo81r5HXeg0vdMBkCyzbSxp8+s2rhA2FeNHdKv7c-NKs+Y9M003LdU1C8-e4h-cE-bGUES8q95dGLwgQ+eove5SggiX9JpuSC-ei+Y0Yz3xYT0-1zm-gjmNKZdbi+Y8X1ZAo829bci+kCWyO+95rfS6Y+g8ADkhX-Sl3MftsHNJXEfx+33tvuIGnBimfgPgmWQCCKXuv+g2fP7HS9JQgWrVkwQ8NDkOkVkFoxY8NO5HA8IDvrvWvhfxff4RftYmn88wvf3lXxL6fHfPfhzXfnfwv2f9n-b1Yhmw7X7Qq5CHgtOHHOfzPM7zComcTOZiZLPdAIlivJRu8m-JfSsM-g78-QuDyy-bgB3tHmXofpss8m-VsajuPwsYeTRr+m-g-zC9nmf-ceZCQmv5WI3Aq-adLuiZ678N+JnVDJ+hQpm0gQK4OXmAS54oVUiJxVflgzkY39jAK0XZPFEFYADlsQAkAbTjv5YCcM6GBARvWJ7mMrYW0G-Ev1AF4DA0O1AIswNpxDQ3urfO+AikQHqQ7GDA+QCwO4HOpbY-A2gepHP5z9qAmgIXKbx-iWMyU5LAWiVjP4DtZB8g0eGQNv5E17+vA4+kFRoHG402uAsQet1fTboZ03-WAauiChv8RKKA5oilR-5bpQG9gwjGQi2yN1OYOqEgOALE5O9vUJnLLhJ1-4f0OOqqKZBqhaDFlzA-g4gPw1Eqip7+XHehiEMIBb8GOoQx3uHSiHf11UMyDAR5DC6VZACtDFwPX20jlRnOiKEGAMAqCDBN+WHRIeAOJ7VCdIlZYQPgLcDFhyoPRFoUEO2hlCqMbgldp6XPIsBqg3EKuJpXK7IQBq54LDlhHtw5VzwIZaYSIF7b24ocMwuvKRxGBbDZhqfJjuYGOE7CGIew7YVXHk52gLhtwzYfsOModsM6awyOO1Sw5thPA7w8uiGW3aDB3hilD4UXRWFYwvSzw6uECK0rcA-hEwuhj0k3BDCzuclIQiSRE5kIrIuPDqs-k0gqsaAvXcziCK4DShf6K0R+AwHUAiAOApAQ2NISIBacshq6GIDOkfhYDmRFIIlg8LECnZIRDAV4etSJFwjYwQUbkebU1aM5SgDgMkYiMpHl8aRBQ8uozmaC5BCABibkVLm5EV0va1gyARkKkw-8OR1dARljFVGldwh88M0c7TtA-8sGtWSiP3X9BeDCA19Kui1Q+xqjV+9nAEfyNLiUhQQWCd4YIk4Tl1ucXIyEbyJuH60BRs8X4SVXBzsoxRd+CUSsF-hdVos8wmrpDCoCwiSqtsXiP9EYAJN+IGorlFqOzEhj4x8Ik0VrDIBFjQoJ1XiBWNzGfCghVVcbjICTC1AgaoPTsXsG7G2xXEnQK8jmK4hUBwgVsdsZ7kf6IiRxehK2D6KFBgkAxTKJsWOMrHtVbYhyLGLxHCCX5ghUmYMVvwLF1jFYDY60VkF3El9FQN4I8dePQiSxTxxYk6ttCvGvsCI20O8e+LQiYNbY4IPsRwC1b2c1AJgLwC1EYCdDeefQmofQG4AAC1xAA0MUdiJbPiyc0KXlIyBPFJAzxfEE6vBNHGQTYJavPVn6EQlVjjR71XCWhJ5TpR1IAEgcamOtjhZHeetJzi5zOj5YqJ4qXlDiM5i8BjA-ImUCQjnE586ahfXcbxM4hpQdYHE7oGyG6CjRkJzLakIyDSg4h5JfgaihRL5ZgRgw44e6mbBm6GB7OMw0hAwCJBTwRJYY5Sd0EZCvjxxCYiCmyO6DhApuuPGbt0EHROdQAz1AABIesGAAAQXADgAPWAAJWeqQAAA8gG2QBAgEqlQ72JIDUBoItIL2OcYWJbGgigh-E4RkJIyl1it+0k0ySQm4HQT0pWE8lLbGkmdAFwhE94CGRqmZBUp-QxzAdCCF+SApwU0KRFOimxTGpkgQSRUFKm9C0pzgdRJVNkrSS-YJU8yeWEsmTS6+5U5wJ5BlgVCNk3oUaa1ObSVSspdYIITLB5h8wlYmWYMS3iOhI0QJUScCS1JgmXwzplkL1LWKSB7SlueYZKek3qkTTHxL04kWwW8lN8QYuQBwP9EZAAAGE4IlJqCOQycGQBodANijUBBgJ+OGcKhBnaAgQgMtGXxSsag08QjkhMFjOBk4yQypOaGYiJq6ZjxQAQVGev0RmQQURWEEniJSwhYy6Z5UJGb7ypkZduaz+QIMJgpnihUg1QbIHDMNjvhaZCMjmWaGtgE1YZ42dmdlCRnJRyQGyeWCDEcidAQkyIhrE5PfjgDQs71O4OTN2FEi2ZUspWamGGzbiDRuQv0KUCwjqyGAmstgCEl06wD7xRjQIBrK1kXisB62UyN4LdEzl2Q3s52b7MBmSSPIFQNqKEAtSXwiRcY1sarOYxOyXZ2s0OqyP1kPgjRLoX2u0GHHvCc5jo3WQmGPLeYdRHgkuUaC5GRiThgk+ys-1ekVyCMUBFgOKPAjjh7apQTsVGHtrNA05vs0sVcJYDajtQWAaCG+lzkhybZSIicVPVDnEAfZrswvjnLR6DyV5DHQwbGGaC9zjAronBhRI3nayTO3o9Me1CXGAp0EfwbmUuAGqvTrJVIJMaGT5ExiUqScoukxAHBijseOrDkeujoBQ0cJJYvkWWMhHzxvxhQU8M3OIlTys5m4U8FcgiBoo8AkINBR+nDFRi65vbN+ZnGgV-TvMooiMb-M7kahDZDgIBc+NvlcBIFL8qMZqPAUoRoIqEJUTvLiGYpqF7dAhVYI8EDgY50WVILvHwUfzi5oAVBegtLmBh-xXYoCTwodErhL058wEelzvn4LhRxqXwZxAoUldgFjYvcL+CQkoj2xxPeiVq17EyLFBeCIcZeP0Vb8qqW41IGyMIBzRiJJQdhfDkvm60xEN85xbSwMV5iZxTi0aAuKUW+ilEXi6gD4t-C+K-pMQcRZCAcWoUpMzivcVflnlXlSQVsbRbiCoU3gUlnswoHktJAFLYg2S3ReJLxgkSVgr44pbQpWC-jHe0i-sbIs0WSU4ZcsMYjn3koOExiSlOGckLeBbx+J4iSOTp2jKiyOAphTiFjJ6KjKgh3HG8LRDFnbzYgnWZ8p0E1m+B80O5JIYP2y52hI5vMzmG2xajyzM4gMuCaP1QrPS6AlysgLiEMWvAiWW8cfGcsZD8y24gsv4MLMviRzrsRLMpdxOKhGIylVC-CTcpKWciDKwy3eC8qEBnK3psYMie1QJmBhAV6E2iRJFMWWLVlTEzIIOI7RRdR+Eyryv+W6yAxGAkc68axMkDsT7o+gdFTRP+mSAfJ-khgGFOsgAAZD1nFLxVsBIZG0j6Wcu+kQrYlOUgSSVIKlJAipg0kqUNEBkirCxg-JqQuAVUqylOnMFVcKvakojOp7KrlTyoGkzg5VK0NVZNKw6HSD2gwTLNNNc6zSLJ-xRaZAvmJwzVpFseED+1tUcTmZfSjgG6rOgt97OJys1T9NuViqURh0zWCdKvCAymmSNE5UIkBkkraWoa16T+3xpcS4Ziqusa9KjnmAxEk7EGJn2773LrlmU4kTJPuiyVI1x0wVpLVTqlN8Ylq29itGdiM5Npt09KeCvLXl1rxXsYNVmpLWacy1Oav6bq0QZBxvRhK4tZnz2mVqmo4solq0GRCqTJAGmXVJnE77ggfURK+5cA19LLqHAHcvSWQsYkFrRGu6zTkOp6ATqDYtsQ9ZfFGG8tr188W9VWpMk-Lhp4oKyfMqLg7dq49k1glPhGz6zANRy1ds50CCdqOZjASVfVKsx6ihppCb9fBtDqNhbJQIe1fNP+LwbvMjYLrmMllz1T51Yke2l6vpXdAlpY0+gP6vuj7rCgRUHEFRu2m0amon5fGM72WlESvYBG-mTGi43Swg472KeVBHOAaqINwQEGFjI7aSq5l5IQqKGsZCDKzwmAv5eSBnQlTv1k0tDUSww12whJc03EAtNDV2jRKVIXjbLixkyxC2L0cjXrEo35FAZrGhQPRtiCMaHNLqv1WtNQasy4Z3AHjYkD41nKSNFdETQxlaXmBGhwW4INBtZ4Cac+Sa+Da4txVRbEt8W22FFvqnS54t3QraXdOy3UbyUY0D4JJti2wbytw0grdtPexRQ2AeWvzkCD1XdTwpkUmKeACYhNaQpLWvqbys42Fb-NqzYePVvGnvYgo4IDEF9zOFVCehZyklYbBK1QbpNFW0hHNv+XKShtwqxkHqo5Xcr2t5IbbQat61YwLlBgQbXVuFWjb2U42rwJNoi0uACO+AEWdRxRCTo31C69IYHXVLPb2O323lnYsKoyxbYD2kWWVl+3qIwdiK9FNOuJX4d6AwnbrHDpo4exdMWiN7YJGxKMacyIgeGjusz4iVgd5KAVcxlY6Pb7pQnGjnOvdgfaWO5Oy8jJxe1b9xMd8e2GTAdxgxeomWXHTDrsr07TA+gXnX9sp1BwUIDQL2CTpB2UdBOhgYTuogF1PoJ59MNHezEx1V8rIXOvdZDCE6k6kOynYgKpzqTUoK1VOg6RbCOlUBo1aDBtYdAV3QZEeRaCuFoEvUGIVOanJ3Sn3l1VL2ajnWlYJo4mYNbAKOtxTSuc6+76VSo5hTNzNgi6igSuxNJjpr447odGu2WfruqoKtlJNwYAUE0piMgAAnCcA2TZ7uoJGowHSOJ08RKYJG-kf9DljcAitjomwRPSA2Oi4Fu6FwHfjBlv1YgRegxFHyj5WQ0Ag+1zfaPqx+ge9hfD4GPIaA96q9DCNvIdMDjzwXAPkAilmGDnBQ-Glew6XPojrcBM9Uu4JnmqqFsBNl2ywtBgkk1C6DYWHNHXHv4AQgNl3UM-UkLV1J7NOVvE-U-qYA7L5WjYaoEVGv5qlGQ4ITPvpqKiNBJtiUgAcICfjAxy0s9RdcpP-38BMJUcEdsgZnBL81S72RvYjAwNIKVw4+8EN5GWTFpgg7IUXtUDU5LIamwmpOg2CXWMhiBcyZgMAM4FgDlExgPdHQCKiXcjggawgxXu6gQgSDPkGA0wysZ10wDKB0Q7Qe8zj7J+xK1oFPp3QGBiNdQlgA0J6G9RlDXemIKltRkxastmWgTedkuy6GW5MQIg4FIE2CBtDogZzuuPIC7VjAaAYfaADC2xgiDshnyKAaBV-YfDNTKyO4cKAz6-YmWQ6RbqvDGLrdL0RQ-cpdgR6XQzLdeM-DqStA9p-mysNwAYCrN84kOg+A7qLVKHhY3ukPSXu85xE19KwaA7AbIA90VZODO7cS1wFu6MDJ4MgEPDETHclJVIVoEwauUkDWDug76f6kzgYG+DAhn2gYDgNdGTWoAbHgyX7Enx4QHI7w95BaMsDQAoBiYzQf8jJarDQhgxPEavUWGPDeGFiAOHUP4B6hLUew0XwIMrADD42IwwJulwzbiNPRCw7fV3SzHda8xxY2Inmq4Fp5G+4JiIdENMhtpdhpoTQZIP7GRNbEeg9MHWOQm-DGKgIz4fcNhHXOTa03VEct2QMiY9tE4wYm-F4jUjvXDI8SKyOwi8jUrNCOrtOOlGq4bE0PXrEqOhbGM7B1IMWqj6dD3jMBlfmowABCDCbiD0Ob5WQRTl0D1dv3ABngEEpAUypkBf35EwpSMiQKADCn4ABgIlPEJ3smD978iQJxBDVB5Nu7+T5U-QJy0fZbh6SYpygBKeEBSn8iMp-fvPDUZwUioZAeGo5GoAAAvd+Fq2DjGmljwJ80yINpyWmBThgToO-AMSinxTSMl02qfBDum5TAANjBk5nDTYZ00ysflYWm+TApxoaIntPPlfJEXHwKQHhqBSqkbgcgPDVgBym1G0AeRE-GEASB4aAAWQtCgBApfDbgAAHYAAHKGasgFmliWAYs8SqtNpSbTdptRlWaiS+mrI9ZrZXGebOtn6S3pozrWashL8xAKiJUy32sD5nlj052cwkfnPFgjA8Zq9cuerNrn8iG5xs9ufngoBczeZyc5ecjOtGSz1pmkKVFMruBNwT51cwedfMNmtzVkFs56YdPJnJTaZjMxOZNN-mizUZtwDGetNlnhT9JAAGI8t4a0AU1lZAAAiO558u2cHidnuz653jBAHVm19dAaF8M2abTDXmr1t57SIuZYAVn-SRF0wCRbIv5FKLCF58nuf+jw0jzJ5302xanP-mWBOFhc3Ge3iJnCLxFqyKRfhriXuAOgAAKy5mjTv5iM5xawu8m5zsZrEGQFAvKo1GQlli+CB0sUWqL-pR086ddPpnZTCljC5DK4u97SzPQ8s2o2eqOR+gXgBhPDU5VgZ4aXrCS+5d1oh74aIp7qExYzjandTFfUAMSFJAmX0LZlk4AFf0A8WwQtp-i6FfCu3AorVkGKy5qsjxXPeklgFPufhpaA1AgC5QM-A9P5X2LhZoqxZZUt3m1LCZgSxCDCsRWar+ROq3FblPEgjLOZ3q4pfMsAWrLQFmy8qZSD2X6SE16q05ZmsNW3LEIDyyma8uoWlrflnAMVdKuCmQr9JMKf0HcA1AoL4ITlUChSBHXwQCpn6ptdVPNm5QPk72Zlb1PcBRzhp886ZY4sDXVrN5gU+VbGvggHr6wegC+devvWUmCViEFJdRuyWmop5qyOFzlC7KLrhVmc4NcAuqWHzGl58kjaeuo23rvAD6-PB0DfmSbUNsmzDe4vWWQLW18C-dceso2XrDNpm01f9IrmazdZmC02bgtnmLzpNjm8pYpvDWNrdlvm8+ROvIWUrPl0WxCAADq78FgLwCiQpMrIUUkEHAdluQ3+rV18m2tYXN4WwBajfW6QENvG34aZtiQ59fADhXVThgDgKJdxqEBQAvk-oEHZ1N6nfLpN663DaXP0lnbrtrwCbfyIe2LbmNnMsIBOSAKGokhN0rAj9N9BIwltgq+zejtAWqbCN+O0bcTvu3zb8l7gHiAWuLWIbxd62wrejNK3eLDt9RGo3ABDse49F-Ih600Memdb4IXW5RxcJWRwA6gfRKAE5VCA1TBpyOyXdtuw3rT8Nnu33fwAD3wQQ97W9vwW5vkaAVceGmoApoyB4ah9kGevCLt9Wrzq9rm2XfUsI3e78gbe2mb3sj3QAw5xu2zetul3VLKt3my-a3s73P7n1yu27dNu13azy91uwA7vNd2Eb0AGKCBKcs6nND1UNO-Wb1DJWrIAbYO+-EfiiBwAzF-U5mbgf33ObgV9e7HeouoO+g6Dx9g3zTtX2T4deeGrIOBjPXb7y16G4rbtvDXy7bZhh5IHhoYOWH9dsG03blsr3qHJV7m7ZeAciOGxYjqyBI6wej3X7-dj+8Pd4eXW272Fju2CCQdqNAp4PCi8QF1sMJcCWjxU0o7+um3AF5gcAAXMCAiUDLlDpS+3cEe8WN79Jcx640sfWOtYn1gYJndBAfxOHJgeIAmf0dR2H7NDym8-bMcWOxLVjmx3Nd-vN2773jox746QRAOwLCNwJ2wF0sZPQnadyB9Xegee2vHmF+RzddizCAbj-j5q3OlatWR-TQZkIJ9exsvXcbCgU8-U-4c+O17C55p607of+l+nfpwM8Gb6ctXpLBNkwKoE6vdX4n7Nwx5ZfGd3nJnfbaZ1jaWc435Ax5vG3Xe36zPDzpzuSy9cJs1BibOTvhzbcacCn9nbT-0uE+qCROc7JpmJ5IDiesOM73z7O6iHhrTCxA+dpeWU5GcIEMMQgQwOFc3D4HH5Agfo0CGYOkCeTI4sY9wd4Nw1+DFdCBoxaBBMms+LJ8Dj7oqMzQK649RGFVStpKD-8+ASiWfarhOHZI0ETaFrzaMpH2HVJ1ojfgZfzxpKdJppvken6aCh2cghfnBkN1K7JwOdU3VGrrV+gYjxkAzl1zqQUn+XdSc9t70+SZHz2or72L03fH5DsjBxtFJMiKE1jFcVjDYwjQnlJHYg4IGQdK+0EMQzzZPBzqyapd+xWFkCPlV+Vj0mpMd7ry-qPET1FGndIlCNzK6FzVs7KCLpFwo8PYjWr1pUJ602wUBH3548bz13K9zcgyIWugVm+ebTB4Bo76b8u1m6IlNQ833AAt7K8LQNuS3x0Fm8ZZyd-HjA-kIAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIuynLcoGWmtqL6awjI3XJk2aPw3fUPDYaBoQWBhezdJBl-KwePNB3Cdab3bg9qXg66XBvoSB4y9BxfJBkhvoRB8hqfK-UPah3CTB+h7BphinJHZcNhoQIhuBsIngvDHB5hkQIqTwBsESMMRgYca6ThsQ7h-lGCzPOC0VDgCVbgTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHCxh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiE2x1xu4YLUeRx23Cg3RNx5B0AfiJUdmSzBQbrMEoR9bSQUgUgBYhSU6ZQaCVJzqhgbYh5VJ3UvAjY0IE8DY9Ys47YlJ0gF+okMpyXfYliChnkcgDqHwME6CNaTp-klpvWgwXeeBn0xpjxjKk46JiUBwOJ7GFmqu3pifOYg2DxnQE8ZpgsUWA0FgB5ZiSx+IZ1TcBKUp0nE8YJi4WtfZ0AVNX0DWJk7dfZvQA1EJ5Uu50AXavA4IH8IeZCTdc5gok8d5myUIPRlJ0YIxicUxlMfZimQWaEDXE3PCc5y5hcbuMtC3TTK3O55o0p0Z7YuZvXA8TZ75taLZmNSSeEhcDY7xjM1cNuOqWuS3RkZ5sl+0Clk43FjZuDJxvuT6DFvQTYlhH8Y5s0A6NZm0E8FS7pwmkVvFxgFgex4UBNeS4lg5imswNpoi+Sz7WtQlmNec2DO5yV1ViiDZhKF0RppVz5k8AAcm8c3A8eteCaRJuJtH2dWcNcMY9DkcUFkeqpsNwr9z7iSGsY5bQW9dqYXDF2GDGFhMcoamvHIFhKxAPHjYaiRjuB-DlcSjmeDa9Y9eWpTzw1DYNdaaNfxZNZVeLezcLfzb7irdxdDdTKsDbo7tIC7tGBekoiTAhi+h2cxFha10ZG5GVYjb7dN00FRZawHdpDDamPsybZhBbcoBFlSg7a9FhG6aIaCeWBJBpcHc+bF3ecl0c2paEKnbLe5AbdAG9eKCfGpBXa7cHYpTDhhZWP7cOEHbNKifJotz7JXMuKPdbRaHHanCt3fZATRs7dhGDRgk9hZqvYfBvbvbXYWe7ZAuINamLThSKfVfMkFZ6FCBUM3TpAg4cBEhghulByI9XZI4T03fle-a4yw5Us+co4hig7WmCfo-sSw7nc7sXbbbgOY8Vc4-qH-PDtnfbvndbeXZY6Q8+nfbLZUOE4qEleI7Y6aeVn4W4mhecyUHffpNF1ewPZPn-Z05Q7cU08ETQ-PeVknuPg6i6m7fodQkVd3Yca4fyDPYtO5CPKvFvCsDRdZns7IsiYQNRwfd9ZLRUNc7w+re7eCecq+h8+an84nZEFC64UA2D0TcYAnHIGoG0nuEzQmDQXC8GfCM6l06naw+y-jYoaK8xEg5y5UR81K+EZB2g3S43eUzwC9wPFhS2H+EJqwTIlPKDXIGgvUaifDXbANFAG22QgcAJW2wLwL38Cy9hCTEUBVHmdMAGEYE6R7aZN25GIO4BdAAVrGChY5hkC29EHmc3U3WO-253kGMeae9O4XGQQ29IFu-me3Xe4NgvfuwG7uHnopUiSTAxBB+6lUjF0nmh4XnfK82yDyBJO29sB4E0HR4W3vI-j+NKGh89ixE2-R8x9i5aT13+SXJ6HVnx8J4KIu4-erNkwu41LtgqmdPtA-ne6J++9+9sGlV1fc0IAJ6p9Q9XJ4h54Z5Mnyi9TGCZ4-OzlZ-ujvMs6JCWn+8mBO-F6iFjN15s4pP23oCTf57J+x4cMoNx-Jrp-+V57oBJ7u4x6F77gp+h+p4l4W5F-p9zUZ-vMRLMEp7w1d-+VE-tBUNrVJ8JsVfN4rI9F5utvEtg2D4iZ19V5dPJql8vId4okF9i5t4ibZ6CHVil595l4VkVvpP3h6FHMD4cS95D6wCr+DJUJUJj7jlD5BL3Xr5T--Cb-Z9Vj9+r4D81727GAt5qB17AqjIN7zOPksvkFID6NlfvKWjYF+YxNR9w5MTGhR4KGmViDX9zRPEKgcBy634MlCBP6TYuKeNqhYCS789AF66BQvOh5vM1La9AHn-IEX+YvJuf-6629VIwPf5PPX-AfwxunsAAbl1AFitd++QBtCxWG6qRoBKiaHhlSv5n9wGD6IXIVHJBeAwmlieQrH18L0MVCpGcfnHwoalA8B7ZUjCkloFeAsG0GGgcDCYHUDGB-JKOKwPwExp6G26HgSqkiaCCWCDdV8hQKYDBF6GxPH7hIMiIUMYiG9CQbgUiJkDFWuAtgd4GUGUEx27hC9iRhmCOcIufQVfGYm85vNMuxGAuiMGuCoxzBPhNpMeTnwiQdEtgabiZDuCMBY0o0AYPkHkYed7yT7H4Ch0H7GAAknAoJJwPrp1hXy9gvQQnGzgiDPARTC7vWXO5OC+8rg9wWME8GJdJBgZZZLEF8E2gkh9yJIe7116acghUXU9qELQ4qFih2bd9poEaHbp5ObPNPt6VkzWdHSM-OMlYEaGDsL2VxW1CwF7ZdR58EwaYEUG9Rk8phZlYNHQBx7GDdKygYbJ83mEzCRISw+esEwI7QY6Aw2DvsDVyaIxRh4w2IpsO9RnDEgtfNYdOwT6BArh2whbJE0KgGg7g7dAFNMNmGaBnh9gZYWVz9a1l1hDjf4TsIU6Kt4cRw6ZGDzGrvCDwnw2iM8MUDgjpU89Y4QuDhGJURhtwvdMNhZxNobhYw-ANMFUD2ZGISTfoQQDJHGRiwpgRIO03OER0SAkuN3A+lJHyA6RuIzZjyMO7Oo+RnzUnCcxGCIjbUyIxwAsLQT3R4cxIl+tiJpFcjOg9I0YUyLxGCY5RhIvpEvXnyIRxaciKyBIPFDQxVBBycmkkMiGaDohdEKonIPiGf8LR0vCYOX0u4ONFBaCI0fIF0HBE9hSoosJ5UX4MCrR3AzgTdGNHejAyF7XUK0wPB1gAxfRaMX8K9H5DSBxgt0r83wBXpioGxC1pmM3jZj4u7oG7omK-7yA9AnzN0nii3Z9AdEzeMsb+xZDuj66zgGSAaORAljwxKYsts5yOjRi9AqaBVkdGNHKtoxBoOMQvz6Lbo+xmIs0NumHEziiQo42MbYHjHZtpx99DyJunnEbjbIwFYJieDzF3Ao2wwlVHcDy4MpiRUVBeioXaoKjScaJNLpGmTCYg6wNXBlo1xeCaAr2JYq9qaP8Tk14xA2P4opE9hLj-RE4nNgeFLrJi3xtAPeo8IXC-j7R62QCVlCw6HiCxDjYUdWL5JnjbEl41CbyAUjAJbOD6QgA4GiETBqQdYvctSONRgk1xZYh8VYDG4qjGR23M3nd0BFBA8ensMbr904lFBn8QI+8CkLL5y8-QpOZxHQH0Ey9b26PRoDRNjQfxtunsQjmWI+S+5ax23PQKU3ebOJtuayM8aADGIAAJO2rYAACC4AcAHbQABKYxSAAAHlXayAVSEYVQr4AzAi-Brqf1oRgT6oXY+huRKopySaJY45VqxLwE0goOH4vBOFNjFltWJMgSoLBPoAUNkpvcXyUm3ikL0zJFk6ybZIcnOTXJGUgPtFOpCxS-J8UgKQvVYk8iUIck2wApLmy1SjccU2gK+B5GWCIceA7KU12SQBSIxqYkST43OGcjyRnJAyMaIWI1ULii-SYDkBfH9S8IM0+-nJRjGWBhpYbLyT-wCppSjQQ0rscpmMmps46JAWbqpAAAMxhUaEVBvDVgFIhXEdhOEoBoJy8T00kBdIPCewzpX00UQpW2I8BNJsmP6QMG+mMAKG92e6T8CIGECQ+ckT6cblfZ1g3p14xVn80+wqE-pyM2FG9Od7wye+pEglKYDbiwz-kdgQqLFCenKSM+SMl6SojemGEPij0-RLjNenvTbYo0M4fcBvAyAUwrXBkrrlrEPt7oioEAjDPoHmCcZDMrSGjKQSDjjw0XMoioR5m2A+Z0gFMO53j6sI1ZGslMG0NPbSlKYtINxKNL1n8zqZgTC9hMAmGdIVwCwcwXaKkHSxuZpgXmZbJGnLAghIs+OPaDXJFi+4Eg3wgr2WAa8kYteFXhZ2WQBJLRvA60bEO2mF8hZ8aUoGJOdFy95SoQTMarHlKxALZmsoMfHO4EVDehu8ToWaA1RRdyxHkUIAXK1liFJIDzeucqRDmFCCAJSSOb0Kn5ocW5Qw4mdER1EiQ9RgkBkP8EJl3Bx+208HuaIiGqRShYg20QE2IHyC0g6sC0a8195q80OJAQ4iuIgmlCQxmgm6DuKCDVAk5v7O8j7MMHVApYytPAJPEfmOxZ5mguOe2UXllpz5XYtnktA3ml8M5isMWekL3mriKBp80AIfMkxFyhBJoXeHAuMCREFZ7oiecQK-mry+EHPLTqiNEB2y7AhwL+c7MDIeEH5T8sOdnAPFZjjxGnTBdvONhDyUFU87+TZ3vQEpd5txfeXtObxk98gufP8Z-3TFH8MJUbXMZQvP77hA5XCwmgtgrFyETmdgWsfkGGwNj8YTYkebyThDjzFFUi7aXIuCE8Ka5MXVRc4FHkaLQePCwmmT1UHdUwAj8yeLopb5KKBxPY48Pos+ZsKKIq4qcTCOVpTiFsC4noO4o4WBjCO3ihCekEI5+LwFJZdwmWwoX5iqFLC5AqzO9DJZTSTnPClVh8CpLoY+BJ6UQQ2BTByJjIM6cwM5ZWyQ5FDP6T5hKXpL-Wypf7jTIzbDkbaMgPmUUA-QRyPm1Yl3LBhKVaiH0ddCUGdPKVfjc2OoP0YFKQkuz-xAdKYLajrBnTfpnQAeOTP+CUyFgJSiJOTUCVoTVILCQJauO-ETL-FHwApbICtxzLKEJSk5csCmWRjRpOyoiSBIzGiKhRI8asVTHdZQTylISMJJcoWU0z-FuEswPhIZGbNHlwEwjEZLMAmTzJtgOyWeAAAydtNyS4l7i3SIc3kgKmdMOnHKgpxgkKZRJpAJTLAkU8qXJODQ4qSVxAJKQHxSnJKjQkTTKZUCpV5S4VCK5FeADKmjAKplKp6bis2k0r6GPIi4RvScT1TLxFU5qY70UltTT5uSu4F1OJE-gZxEqsFRlSM4KrRASqsFemwvZ10qVR0vhethFUTSWaTiRZWNQuKDLklIyjaWOO2kzjdpPkw1XiuAoniBI+ib1pBLkbjLBVw0ticv2MGmqyR5q6JQPEer3QRV69ESCiOWQKxSOHU+gD6ugn+qux-ihUQav5Upq-VDq46f+T9J8iL2ny71d6wDV8iZ5AdV0IID4lmAt0FXFNTdBPAlrc27-NDtWpIDpzZegChxnCE9X3BS1ubctXKOCYdqFgnXRtcOrBXMS+gFU0AX2NqWOtvA6kwjOaj1Q1jDBK6-pb9jy6mAVpjM1GWFLSmxoghc68eceoV4qS7unsKVS1IeRJqdeH8NJoeDLD7rQVow9Oj5DVWqjtu7U6qZ1O6k698gWCX7n+pykAblVxwlQmlM0AKjn1pMj6EmsDUVCK5mpHhjupGITJPpDdCqeUtpkB0ApnsM5UUsOCbK15j8dZVRPnUTK-ZPQK9bMVUi3qZVrUmjWzyfUWAENySwNZ+o8jfr2Jd3FNk9J1WjC21QQYDXiF-V4EzpwmxIIPjD6KszpsGzqvBtfV-S+R75VDYNAHmsx6uf0kYm+oWDHralwyozZ8101PT71-6mlcE3q5pTLN4GmlXVzGCJqrN9mgaUKulgqBMNBm60bhuPVbKA6FQFzQ5pyT5SrJNk+yY5Jclcq0gYWwqZFpKmoroNSapTY9SC0Gascn-E8LkBWbiNa6zm21TUs827qsN+iHDWFLI08T-+0gESDis9hhaOVKK22A1qRUorQJCmp6alrGrpacV75JaNlpyC5bElKGWgLTWoBUyCGAjKdaMJ7aQNJti+ebVwmVaFriRwTNBuNo2XsJFtRobbQ8OxSsoB1ubaOKMEW1oxRthDO6H32DIrbp1ymcTRlUjawkW1UE+AqNo23YCCU1DDbaiJsA0MuE02xILNvfr8NF8IOpbW8sQTViERzdcUd8KlE91DIB2r5Z60hxg6ftdAP7T9BTHIbYFFVTql9qpnx4wdRoYnZdpBI3aZt-ae7dlsYBPakd3rCyr9ve0YqH0kjU6F5Gx0Vrg1xIuiKGvsxOJ0x8VRvh8FWHPbPWbO+JsjudZrQ9tBkYFeeMDW-kgmV2lkPLvfWMjEF8C2IKTlx12RvycopmNTrjZ063ADYKXZ9gl2+EWdBKHjguyXZRwOdFOwHbDE-I86zV-Os0ILpsgxS0mqME-mIioCnR962rLHQ4P3rmIx2+VDcQl3EDwSwljUXzi1GjHZkFK74IEnyzgVXaTwtuqTi9HTaYsT4p4kFRePVWIKhWaK6QB3yd2ytDdIG7PRJ147264CDUMXVrVAA56+OqUIWh-CVC3tLK0wz2AAE5-wo0fvWZUV1Uj0On2mwFZUDX10DQPgTQB5q1Ladayq67eVfJ4hWACiV00OU8Jn3TDFAlrS1g1DQBn7RNMZaOfaDH02hZRpcnoDfrn0UgdUIqm9DdCsAfgL8FcPoV-wP3j6RVz+pNJoF73jA-9sVfVdIDaUdKYozcTDQDqDWjTq9tew6q0rMrQGyKLe+na2ugiQG0DeuCOd3vJqFRxNHbPHJ7BPDetrAxAcTdEFy3B4r2YwX4NhExhNl8NskYg8gIpqsBu6HB0YERzxzvkghTJXg7RvSA36Mq74D8CjBGJ5p8WhUaRj1Cyoaar9dG8mq6E9hwdHwWwW9jJ1xWGglAvBjxr+D1WmhxDmVSQ1-yYM-SOSVB8TYoffAX7jA4hutkdtdD36H4yENKXrny6lBCuzm7GG4b33GBzN+ifTXZts1IafMgR5OU4bAMZVLJSasiP4bGB5o3ixoyQBAtSJoBHD-fTOGaDMOSGLDlBrKAwEKOSHYSORoII-oalOIRVYa3cU+QSoIkXD3yxvn3393bBbBSgV0MNNg2x7QAtgTqroAeGt6vWkuIvQroan3jgsHQ00AwasMsHiSYA5hahV0NS7Gp4mhwgeHKBwg+mZoqtRobGXwdtDiHPQw4A2PDcYSxhioerGYM7HNaLzI-nCFaLxsFeBRtPbocva5tbDw3RQ-1GUWxGTKh+lo562iO5GBEevdWF4by4FdMQyRr1qIaiAhH7gYRpNQ8gK1eGoj7hrBXcbbIdRHjqka7PmLnRBHf9QJsyhIcKOXkHNSR4rvYYcPj1VeevTTVUbiPmGqTxRp5YzTKMMm2e1Ry8VGp531GDIXukEiCZtA7iOjNg06D0ZTF9HI9j1YY-4tGOym1dJe1UdMZQ2Hw1j3qy1jV3ROMGu2YuAAEIUhyQzmtNg1GNOdAVVNtcALICSCMA2CvcDA3gTslvSg0oAOydQEzSfYeAu+wiCfrwLPGUsrEHU0dr1MfjFAY20oIoBNNmm3pOQ10yeGtPEBbT3ebg1ggPCwkbwlAAAF4zAo2wWIM0SZeMNpwz3yyM35OUAyAZgNoeM+QHNNJnYSqZ20wADYrpnZgMyWZDMknjCFZz1lWZN5FdpQcZ17KZJSYqhadDUSyRBFhCSBYSsAdM69mgCJBSgvwMYEGlhIABZLEKAEsmc1NAAAdgAAcxZhqL2deP-gBzNoIczl2jM00xz-VCc8mGzMzm5zdABcw1CXM3QMzAkLM9ObwJEdPATkR0-np7PEmrzWAG80fv1Ofmng9Z8c5ObfN4FZz7Sz84udtMoAuz3Zi85BfLPMAqO6xu8+WAKAHg2C9vY8GLhfNTnYSaF+c5hd-OvZTTjZxM5abwKtnzzwZ-C0LRgskWDTo5sXAADEGasJaAG3pPAAARZc-1VXNlANzW5mc0kAYDgAeZybOblxdLOhnrzhFiGMRf1Mxmnzh1ESxQDEsSXpLTF-qj3gAuwlgLoF7M5pcvMEXiO+lqM-BbrNGWMqJl9SyeHEuwkLLABAAKxdnAzeFss2Gd0uwhXL1Zv4l1CdM2ARinlk8N5bMv+WZLh1Fi02fYspmbTjlni-2cit2BdT+pkc0adexjEbwtqHIBSFhKIrGwsJB2pZYyu8lzxLZsyhAH9hemfTUbTQNKleE6AIL4VnSy5eKtRnDLYuCq1VZqsNQ6rLABq+lYyrWWDQsJBQIv2IDdhrgaZvK0NeguFXorJvdy56wmuVXlQ01vArNfms3RpUwVzs6Fe4s7W+LcFsi-FcotJXJrp1nyxdYaiNWl4zFhMxaeTOcW7rWlvszgEetRnSrsIJK3ZNtT28iogFk8IiqEg2AFrJ4e098XisunFzXqEye7K6u+nNAJ5gMwNbCvaXdrI1iMwZcfNi4YbMIWgChcRvI3fKTVxa5meWsNQ7LiQMCw1ERjjwiowXYG05YisU3KzcF2s0ddey024bDNpG4QBRs3RtsOFwW-lfJtEXRrMV56xRcSs03Yb9NhG7Lflu-XnzyFhG-RYwvfnwLpN0G6rb0vq2DrmthK1Rb+usWAbLZ3K0bcOoAB1GYKUEIDJhfKDUJyV2GYOW37rZNm21Fbtv3nIbRoMXN7cYC+3-bsJIO6RVp0s20blVl03QDuASWJi+QUAKZNtT53vTvp7a2TfBvVnxrr2eO4nZyAB28CKdkO+nczQYR1rVxUdngRoGeAczkaRwKHZBtQWK7B18W4hf6o12-bdd5O8HYcuaAeAN126yTbDvW2h70d5zYJdezgAW22QRS3gTtq+GtrHtjKp7feimYGo4AabtaFACIrhgrp-02XdBsr28QVd-qpveYDUAd7J4Pe+7ZaWpM58HgbuxvnDSrF8ACbX+xdO2D92hbw1tW5Tbcsj2krr97e8ma-sH3QAR5+e8rYet7Wo7pFuK1radsv2t7795B-vdRvj2k7gd6e2ncwfh3H7Alsq7JeeALSfL3p3w1gMPsnhZznEVqw1FdoF2ZgOiFI6pfdnqWeAbZ++4PewewPK71Nlc0w8jQsOaaSbVG9Uz-sqpYSvHbCPDcgcq26Hh10e4dWgDyOzAsJVh8o5ug8AibC9wa+Xakei23LDt162LiMcTiTHDUMx+w7tNEOP7KDnRztYjtFXpHw5teww8OqWTdo-l0QJ7YpCvGOH6Nx086eytOT1rIgcAEWNMCfZArEj5yzA-scyPYzYucJ9pQaiSWonMTlR2MFbtyIgUGjyYAWDrN+PbHItwc2LYQtJWin0gSJ9E9aa2nrrIVxewPZye22gn952K+RcdvtOInJTspz0-TvkPJ7lD1O40+Xt2OWnUZjBGMHy7P3DqS1hm7mYLP7dUbuzhG5zZYBgXsnwt3J2s+rMbOtnsjqy2zb2f5nCzRzx5wjdWvhp1rpATa8s6gsBP9r95257YG2es3-z7NoC8wBAtc2Z7NtY57Zchf2X3nswL1ALYGdQOwbqz28-qaBcguTwLdwqNU47tvYW2ZgBp83cqcEv27AGBqF3Z7uiA+7Fz63Z4khzDA6AlV48CIcrWyR1DqkTQwh10N1j9DFxpSFcZMNVaA6PhHJCqfGNeA8J6pxkdMZBnAjnUkr5VieGvAzs9pKqUsVsGOa7xhWbrb1VKcD2oxZT3hOQljoj0EAhj26weZMCzNGDRpJscwVoV-o00qQgDXECFlDysv2XsFjevo+bwuQ4JZEFgH-Zugd6m9NQB5GG4umgBEqit-p5a1Yh4BHrAb+B3FbhvQRY3ppTQJG-47RvEgf9+N3NyVsDPcTDgfqEAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5allruEx2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAIjdct3iQJdzjYsuSQYGsqMtivSsSarucpJhIiLmaFjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQQbdQcan0rSwbbGvBB0tKD7dAG0qskiv9eUEOedD7d2NrbrPNkoEyRGgcqYTfmXekPnfYYiGgkhpcFSrEASohEiu4QreMCrfxwSdfjXcyWXbpUsusHBA9LnYxUjgUDS2YUjfDTaNfiLgHYjV0hBnJSAy-dABZ2UjJQ-eGJvC-fCGB3Gpzag-kfUmKHhBXFKGzdfbp17aQ9eTzL9YDaDdilDY7i-eMmaDA6aQ0s+PhiA5A9XGOkF1+NEP+PQ6cWw-BAPf0sfdxGfbQ+aSg5Td0R0vTeAO+no+tMvyY-g5stXEE8is46YDIBffAN47facT0oE7vZI-uckAXbno+FzNfi+e0644U-jeFowQTWI+nk44hHHozSAzVy-eWqyCg8M-Xfk9IEEjjQVl3eY5Q+SQAHJ03X4ErAuvPd2nKv2H34gMVy5SAU5YuN3t20Thizpo20OEuJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4RTOihShrO1cMunP9B6utO3Pn2C3muF26vaw4vlkbwmu5OMuELzAiWSXlAyXdXAlNYPB9kRl33yON4Pj2YzZv2-7wR3jKOJ9uAGPL54Ylv9XQWNB9Bhv1hRvqBNAGzJvK43Br2ZuquIk6Pfolu-OtikPIjkaQCpyNZbvYhTINZBuXAEv7pQE1YHkpu3AZuSFUU1vFvPujqzbrTRqgQVxhPFdfotu38cYluva67QfjBycUF4oDuAfIMgeQfLukVmlMfXVdV4eOaudM6Nw-2kYsI1cLv9lTcUFllwDWe3B2eFkWPhrg7YoEf1J75Gfqv7mcfee34vPxXaf1IjvSXTvxuVUxfvYdyaess9uigEmFeTuzvXpSf9lrvMe2v1eRs7cvnJe8e+fuVKJUVA0bv6UZTZ6XvgEssFcHfKfn07rDRGVfuIaEaPJMkSBweYy5ibSDwZu-O1dHuBeTqzYzqAE0kWg-ig+slvC6zfXgrQ+kvzPI-Y-d5RzPuvP4+NZE-UkgFxPK90zgqZdNSSvtJypKB8A5E-YBgKhBglueX2R0-we6eG+dIPT2+mkefG-so4Cu+w-ZzBgs-+0vfA-rh7MWBqhuJ1pc3O91zmyp+86E0GtmLzwPTl+jY+yGt+MV-3tny1cj-V+6dD-z+T-a9r+L-u+bwn-1o6y3-GacW7z1-xRNv-zu+bYTwHv1dqg0PS6mBViANyygC6w2-SehZCX738NoUAhiMslAp-cFYxMHPkBWJwVljSCfZJEh07IR4QMEMUmCfAIF3k9MdAC6uomJgMB1AIgDgKQGDRltCAh8T7njVRRYDMeeNNtHc0-70YkBDAb-q9TL4wCvawkWzIIK5w9MbUpQBwLQPJz0DGBwgZgSMn-5-U2aQmdgWf2P6M1PEn-MGiamJSopekMPPgTBSwi5BdBMfGHtwBsEpwi+hAJ9FmB9420EwZsKWmxCS6OCZuGA+yv0AUBzcNMFQGGL4BkJsgwhh9U3IYFJDd8N6RgFQn52iERDyccQp4F52Z5O5DAKhLXoUG5ZuNAhp0EIeolSEyFzkQQhCEkMy6DMig5Q9IaSDrLVBI4HAYlo1kjAxCnkUQzoWkPmjxC4BiQ3IctwaH9DMhAvbIRNTyETJChkDFoWQDaG0IGh+gUYRkNqHOhZhRlKoURBUJZUYilQkoTIBhijQDuSSOtrZiOFUA1EY8QIKdEXZVDSmaLCYB6UuHztJoNwoIfcNOizdGqxQzztPBnT-t8y+LfoEsN6H4404eRA4YJHyGbDXh1wv4V8OCEa5bhgkPYcUggHk4hQPyUEE2WLZLguIVATQaDRozCYZBoAT-iIMYA-8QB6ApLjILAjBhxwfnTEb-2QiEjXioFLIVcLICMAn6-ESkYYKQHLInYnI+Cqy04i8RI4fI0KLxV4jcBRRxI2AUl3NrqQZASYWoDpT87gh1RewTUSX3aCdBRWRIjkeED85PUhsAvOaFgN4hmjp4mIkQUtEpC4jhY8ojkUqLa559MIVAcICzgVhYRRRy3KUbyIYD8jeKN4W0fkNjA3hAxUYv0MGKSChjZRaHSMRqwIhq5YxaYtCKBTa46iNRvTAIe9g4DN95s0I4Bs+SwhUNNhEaYgZxDUAmAvATSRgAPx1gtj6A3AAHm6IB6QUwswmMMf6W8TFQExMoviLxU7Emi2xdAbgFmLQjdjxROA-saEh8S9tdRHAXpn50BHC0GaxY7KIiMXESIfEtYjyLwGXIr91YxotWsOh84s8fRR48wGlA+F3DugbIboAMNYzCZm6aUHEC+L8DBkcB4mRkVElEDTp0cQ7akBgLPHA8iQX0C8cGkbDdBGQN4-6PlhaJYDug4QAdkhzAndBfMxY0ADJQAAS2zBgAAEFwA4AbZgACUZKkAAAPLHNkAQIK8pqRkCSA1AI-LSGemHEeju+J4wujKDVgXjpRy3B8ZBPZ6j8uJPIpIG1wfGdBxYEkhqB6VkmZAOJxYBqNyzgGETiJZEiidRLokMSlJkgKkRUDVjiTOJ6k4cc+QfGIjIJDAaCUoUsnFcFJ9ATyH8Lr7jkV+qksfnxm4kSDu+fw-2McISZmJRRqlGhvunrF9wmxXk7eKFMsgvk3hSQD0XGNYmjiYpFkqSVOIkFa48J5XH5jqUjiMgAADCcE1I1BHIDmDIG3wo7NZqAgwenFVMVgOBCpQIPKU1OBGRU8QKEhMG1NyDNSyAHpPwuVJFR5s-gbIgkW1Kh6xQ6pFYhNOCFd5YRJpNU6acIAa7JsMBgQQNCNI36pBqg2QKqXBOExLT5u63EQWaA6R+VKpZWKaeVDqnJRCq-OSoX7EcidAO4k-PFP3hGng8p0N5P2MNNP4EDjptxFaUNWzjmCXBP0rCE9IYAvS2AHcOwS4PWGxBoZsMjuM4P55+gfuhAYjDgJRmvT9pHAO8S4AqAkARAqQHbuINpEACoIGSQIM9PxnKiNqpKa0bDEqTapUcctQ0e2XxHrkHwlgqQRSQ5JS0TBxtfmRSDJFCD9BVI-2K9Q9HCyGU0gsanIKsSlB1RUYZKs0Dxlwy9BN-VLCwGMHagsA0EF9PdQFnh9ekdotCKUC1nwyncfMmDjbOhJszrmw8JqGJWIDeCIauMumTDIZmfcMBDo7Ebwm1hjSUBbAHib2IEFIDJZus0QYLipl-UmIA4QQQo0iQQQjqvtaUKZSTGjidZvVIUfoOWQzjYgp4OWZK2lqmDmZ7eTcKeBEQA08AkIRuSuFozRygQlIuOb9FLkSCpaQUFOYBIgg-SHA2csMeNK4DFzBRj-YUShGgioQuRs6FPshVHlo1u53vUWQOBJkLpyZOMLuQnNBoAUG5Tc0mrZjzF6iCxq8yiKbNRKsiw5csgPteSHnpUc5-EQgHuF-A9iVRa5FcfmNV7Fxkkq4-UXHy5mitX5y3O8l5xZmYQVC5c72IHKWjBz3YY0l+ckzfn-lwF1c0VvEJZF8t1EQcpcggseCEBfwSCvyaAAPmQg0FEfSBb6NZxeiMFy3B+biBHkRjphANCMaSDjErAGFT83iizxYV1CVgLPdhcXJWA5ivOJ8tcfewlEeR3EVUkaCQVm5p0n8JBGslVNzp5loYJ4nWHlMv5tkCZD4D0m1LgLaKEh4HGEnaFogHSvuMQQDKEU6AvTfAZyDkshwF6Js7Q2i9EYjURZNIrpw0PKR2K66UJMp-isgLiHfn8CqQ0MBHD4sZCbS3aDWXaTjG0VMRGwXCpccVF0RcKR544xKVOJnFvANFTHSJUem0UcLnQc4xOUl1SUHj0oao7+RuPRwl8tsgbAJXosYzMYiljAEpTam3GSBdxZYqpYOJPx4StJDASidZAAAy2zRiR0nRylTxybEz+nlOji+SwlMFPicZPPGWS-OokgSabiWVCTeRMkoyXJJ8XRw6yyk2eFVLOXd8RlYyyZeAEMkzgxJ5OfZZZP8nQjShgwMxNZLLG2T7JBy6SaUsVDgg8prk6EfCDjE-LUREIV3iCqqlgrURlXDAVi1OUAqspqyzOQFNeHBSrweUjhvuhRXOw8pei5JkEokEpSFlqKlZf+SJnUhqWfsBLo1wCU2kclSox8YJHeWojApVAHFRVU-luM04AU+VuTmWE2pvQePZyXxmyXSjkpNqTYSiv2XSreRHoupt9WhG0q+kzSkJUypCVsq-hh0u5q0DKZAgvxwfYaE13BCaqEuhtVEkaocBKzwIzI6eO7B4RlZGVCXPVeqq852qcYs-J1Dqu66erURtKuaJBPFCwSTFNwiHEhOIQwcIFKY28QEOb6BB0p2UHFpBLSySqG0VcjZWrHDWTj2ZDQeCX4EZB-LywMEgtVLUbCNspKMWSceypBZ6QoVnw7oE5PMkuS3JkgngPwBxBtq1JHa8FfkKwiTjuAmwmtZtKGSSr2VYNE2XfLLTJq-YbU9NQJL0UGr-mmUxkPkrPBMckl5IVFGGsQWZTC14su5ghKBBlrcQMEyyVWuEzjqYsbUv4Y2oIjNqnx2wIgvCs7VS0iova99RwARVBClSsYRaVVNHWoM7136B9eqsEyzr3UC-FwMPzanBBU1OMAtZGuJWoa-OCG2RQWq87D9Jxma9tUQiH7CAJVhGgjf2qIQkIPgwQNvlOuXUmTyN3kwTFFDYCkaKNzdEZTpKok0T6JDy8kJxvIncb9J0y4dZKtA0cNnobG7yVURwHggMQkir8kTiw2PBjFUEajSmqXWMAM1u68JQIEk2nLGQtyiZVMqYhGb7ljIYDQSM2H6allgmIKHJq8AKaY6tRdFLiDeB5Mk6SySNY1SWQvDN07m+hCMnOEH47ZrSOsnegC0ohFkYWl-i7l80hkriu1XEHvQ80jYgtPwtovFsU3pFN0KWwLV5rgEIzPympO9Hlqi3pbYtdoLLWVOIBiAho5ORlQVqS5FbaV7m-AHtMi1qsg1QQ2bka063bx+t4lb2GqtRFec2te0iLfQFS1qtgM02p1EjJnjHwGVLSvVP1tm30IxkRsuoSNp61a5v1q3EQFZStUBLcy42ojdeRS3tacYZWrrTAOnWRqjWN22KSkDm1Dbf5m4+WPMJBHtCWY4QiEVeGO3aq9UT2lYS9o21oC1y06lCA0E2GXaJtRRcmGDvK1PbNtxaAiDtu+HGZ9t+XKyIDri7H0XtV2+FvzhqB1aT4FiO7fqs5VVDsVB3MxObXAZbaNqpiq5EpmW3arSd9WrVXF3Q6bb+FB6Isb0tLHQqcxtgNHd7B6Ulj2VTtI2bBGaARpod1iSHfqqhT7bCuR2ppdau4Cc6tAxOrsqZMbYUDOBcAwFAQPNaWtVYNrE1hgN15jdUsFOjHRypjBBQsVQUunX6AZ3GR1YJgfgMNE0igZyBw0Tqg5z55KigVBQysJtwgZpiTqke6BYMxSSAId+AgYmDkmsqy60d4IW3Ur1iyVcCMvNQXVLsRFzy7YCu4yI7qx09qs9xLY7nbtega62d3OiZqAGz369UBpUxsDcGB4n1whjIAAJwnA4EPew+tLrqpD6eI4Q9lSIMjgjRtdGcklAYCGGh48aL6AcC4C5xFT59hQYfSnH87+crIaAQ-TapFkXy04O+tDh8ANkNAd9U+42P9gCka5lkLgHyO6RXA+Dt9E+kfQFLv2bgkUXexHfvXCG0rueqQRldUCKgngyAT0d2DM1JGGrGQRPEBMwGB4gHjRUcP3XQCKgJUjgSKvdaSjwSkBoD4zBDhJHdgUUrceNc-eCG8g+QQDoABLqDEwP8AYgNB-yPHpiDn7+uLS1oMcArmiyIgLEAcPWub6t8mkJG-HDwfn3Ka-YSG-DXhqnVwFJDUtAcAQaIOZISDySMg4vHhBiyqDNB7yEyAo2CBxDogfQ95DYMmy2I7g6YHobMP0GAltqSRI1DMPmGu1N+xEYKo+W8qrwnuqVtF1xCMqsx-usgR8laBh6DAcen0m42mjrC8d8XSIoXr6XQqaxrggpHBqaibohAhgRyP9nAP8A11AgVoAgeZXE9kDhvMHmHGMBkomDAgSyjgbBpm01yzdOI41wSPrQdxwuz4Ske6mDFGqd5N7dYuSQOQ7Mo497ByPICyRoIPSfw03uqN1x0Yge1o7B3tpjIIjUejhjEeRVsB7Fjiy5DJho3dbvh3fR3arqr12LD6ux7wrjs10nbkE2xi40wA5LNMQDsx-zgP30D86AAOlgHQ3zp1EIhmQMEBfYK6MGKDYhGhH33JJVDS5DPicBeOMq3jEkj4-wu+O-HSZ5OAE0CeNGR9eAJ4ZZD0Cwi4nQAAAL0hagBvjRQYVUwBb6AmPOJZUBtwFJPgm9IkJ0fFAZhM1RUInqTI+8ByObg3jfxjEzSaxPSM7OtiqyiwCsrKArKvTSYP5zTB4B4TLSgU+iepP+wRTDJlbhMasiSnTSMpyrqyf8hAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsMJxh-GRI4NQuY9BLEQLTvo6wVRgyhiEMNegTjLwxHdD3WeX8OwcGBsk5xAAyKpS5biVJBDZUghTMmyJHmUwgW8wnl1KTsTJ2SOC5PApUxWnT96R2HlAmgtAJD2MoGVSg8CxnvgaSU8hq4YaYisak9pOxtLkGDIQfewxulJBcn0lgWSfBDPyYzfZhzjnCwge0+5RzkG+FmUEm0KSMp91uFeDZRkGnw2vo+V5jyJ6l1OcYP5eoZBXk2Sku8aTLDWDUoGdqIhiDiBdoMaFzlekZMuQMm5IzGbouGMUbFACg4TJRbGLKVRKVYpxQnGZczvnOMIrC2QAL-lAq2fDZ5UyGU-iZZijMrLXZiPxZbdsgLOqIu2cKvRqKJ5EPGFSqVeLVncsJUUklI0yUQWflqmlhY6XtNNSy81bp2VfNlTy+FRkFWcqFaClC1rJW2uoJCtKjrSmuudRdQVyLdnWHEPYthHB77cGYCWHVgrfn6v6dco1WzFaRo9NG2N8baCDEtSKrN0awgkMTLQAN5CmRyE+fMjgiybBb2UEG4FKrHzFpYJnSgAgJCVvlfyxVAqkU7JFTsCSNIKRMEeX2sURKrk5PTZYxW476CTseYW1VcqLAxrvnGpgCbqAzpoC20NbTR1ouoKTQsgFc37vzYe3VZyU3ErTXkslUtyWXvINesqt6D2EA3Y+b8Qhc3lOYPqH5eryFDI4MwXAtynAeuisBndcaEFZSPaBegsGhK3J0Eh5EKHQNzmGUmqD7YYNwduXmM9m6DHTjSiQFZZGn02LnYat9GbGZKRnPwYgTBAMoQzjxxj-GnHNnI1sG5EERN8YE-iLZBICPTIY3JidIxHkVt1cYVj-a4VKrvO0kcDBsOro08g8Tz0nWVKUxydp8b2pmancgrTimrOlKVbZyZdHrBTu4KQPSsmmOWeTWx3YkobNtpQjscQpmqjmZOZF0L7ZbGSk82G89mdGIVllVutVqaF2caXYzL0ZYKyCfTiwF8pXiA5cfTC0p0mavlYUyk5TFDstdp7blp1BmR0+a4LwYaTFCyYYufOwZi7SCKwKMN2lUXooj1Q3mxNkHdNbBPUi9rADgyubWw19ZA6HB9YW8idWXAGC7ZkE6CT621Vdhu6dskERsM7eu9wW7B29OyEe+1hzF2ruPeS1sK8v2OT0p2AXGQsbrEpfY6+8CsbFZuDpfS8mfDGQUkpuTNB02OGYLWe2S+9VGa4GqNICCoA6Gk-JwIEWKRJwzjnEDdhbDnHU+J0YRUyprBQ-JroanDCigcXQz+JBJycdSLxx-bnZTgb89ADUuXgM2dcKOOj0Y-CsdCKvPzyGUMjBXlV-rg3Gvt0CMpquPXH6DfGFXMbm3tv8fgLV9LCCZOoQU9o4+fNudxikF9WCC0d9YdbGBnfZQxpQDyn60BmItWuDUm0hLPFye4qDGULxhgelJdZ70h-Fqe0LdRBw6RUQsczda8ETIPP5T2Fp8LMoR3Tva8yLIe2Yvpe7D+35h78YdPqfyll774M-vA+0iptrrv5fY8oXwEpNebk74s65e32d-JvFW4pBlzdftzTsF0rhBcBE1h7UUVRP2h-ErVnw2v6ZJPEmaTlHsJUdBvfRaXxwbCiyV9YMZXhasECLfKxM2c5XnABXSXQDwCCFHV-BcWRf3UAAAFQAAkABRDgAAQXAHADQIACUkDIAAB5AAOWQConlC6HpVwA2DjC4BLBTww0rwwXAUJy2Hn2mGznvhXz4VdyMA8D3y4Lvh8Ab0GArUrz4Nfz3znDKlEKyna2kPsHoKFjEI-Dv2QPQKwJwPwMINIPAAUI2EXxEGEKEDkJ-B4M11DxoD3yDwPyEK-1Oh-wkJmwYPT2oH1lsLYFRwjCmUUUjGUSgDgEQGQHQC0XkF0UfBMVSknVuX4AmHczC0MWMVMQoHMQaXHA8ByEsXHB50bX3h8QyM5nDg+Q5T9RWVrQWSWS6QaWUDiMkOPB2ApQlWpVxQfUFUKKiLKiaLNVaNCTJTqJyLKS9RaKDgKMaHoRmnVRYQ1G9V6NiMIHiMGL2QTQeQs3SPGIUkmPBTWK4wGMaFyOA2-UGBvV3RWzaJSQ6MmMOJ-WWzvVWzxz2IaFyI7VuP-TGIHCfCq2mBHi6nYGzU7VLS3nLR8RN1txeKCW6xqObxSEePqFyKCzE3WI+M6N8FU2CwROmCc00xBIUgWPqNfx2Ga3ePqAmMAiJP6LxKWOsBXXi2c0S3aI2JRJpLXR2OK1hIZzKVm3IBG3uPxI8Fm17U6NnBGBZFVVePvT6MFVqLxNBKaBgwbTEQrR2z2ysWlPiPxMnFlgbFuWVlVnVi1joAkGGBYDvlAENk2OiJGFRxeSG17VxGUGVOemqh2DjXIDYCOM+B+NxBhB2jywDFtLAzdI9O+KmVFIdMu1s2MGRmUmdIvTYG4EoCHA3lDO9JpiMD2njW7xAiFJiKWwhLtKIENCdyMCFxAwWIiGoGnWhIaCW0BP3mBO9NlKd2VKbNtyWziIrLeROVTNxi+3X3HRlUzJn3Zg8AHPBlFypHAiHKsXZhCEf2umjN9NGDljDMZhVjVk1jJBFQCz4DNKNgFMjijPB3aXlPgUVOh13VoDVLTJcnO2VIvI+3qOf3sG1B4WuBzJFOM1e0uwfIJGvNbOSFPLKIrX+3vNjT-NxPVPf1viuK-RuL-QlPmPiLYPywYH9Q-PfCI1OLAySSlMgq3CaFJNmhiKwrQ2IhxPZI5IwpkFIoYC4HLworxOgugUmIxPE2vJaljJjXjIC1RN43RLczTL7Mkkag8nCgUi2hjM4hkBi2LEc1pOnUiyEuSBcmoq-PkpZPpMsT-LqLNkXNRi-H-3UppEsTKJAiPDUpew0oS1I20oSF0sVC4rHKhWMsqTKJ9IMpUtKVcq2TKLNlcH0qPFUtYrRLEw-X+yxJc0s0UAcrCgCuPKLTAnrXgSIFeTmGWU+2Eo6WiQyskOfIVDhNCEBmglSpWJoXgmUCAtKvzUOTmCvFythERip3hHaVoCYmpETOaO1Qw3q2MC4rYuBV9PTP-xsxAgxPUzpNIBVN7NbDCz814oGrcyPHyqPBCAKEYTkHavrT9B6KDgrR8s0tsqmvmmrLasDG2q6p9XMOE1CvfGrKcgioUqiqUvWnNgkpRkVDANF1XWZVmNGKRI2JuW6JtV6JKIdWBVWqGOYVyl2tGwBsIqwxQWhrfFhrtQqJ8XxOCGjz2D0oSs3RRPJN2LxML3-3zNwU63zJ8TNj2m6i2jGq2s6tRow3zN7L2mqoORoXP0RuSoSU6TKrmFpsjKyuovzIAsCFLJjXLKjC7PAkFuUHZtqqbGvNnxgsAmZJsqQqsM+JfGcv9SlmovHQQt5LFsBDqJVpYsAm2K0oeOJr8j2jEWzJSPfCtvahlRqPwrNleTBrrRlRdu9rdVfjSmvNANKTEWYpoBROGO6slLZNtrWC9vtR9snijquv9pBMVGopTtBrdrwrqNlIcvki53aRROBr+rhqJuQr8gToqLKJosZQxSZupEToDozqdrrrFQbpBoThzpSX-IzqYvBx8NVT8KjBjECLURCM0RzAiOiwyTQvfBDxQtAFNIZkYDSnDu1pDNVRZzLVGCvIoW7UXDqKXuk3rHjMTKKBHgghNuMDrI2D3uUFFo9rs0yzPoTKTK9K1vGw43AlwEVjfovqECvqewvimTr13pMxxC1so1wz-tAEQxfs3TzMPqgZPqSqozgdv280fHbKlsrIs1wGgfQdgeUBozxsfAzl1swuoEnKIbyQgioevtFVofazHS-lrrES-vh0KyRrfkZkYZAaoYnIs04aXqDU4fNojpIH-BH0lomE7OnWPp6XISvALuoKso3hIWhzjtmu+20fiPaz4xkemA9DtJIQ4r0FcHUOBkvmDo5D2maWmHmr0g7OlseRAkoJnsqxfAIWbv3sVK1oqQqP8fBi82oJIX9v2s4X0Csd0Y21uDb2wZQkvmApxGicsZ0ziZoCvESa8egQfkYTkYUbWOCdfn3o9GLCcZ0ayvGFzmaRrQ5WbAZlqeDHqZmkPARp-i+M0eqNKZLggoqYX0ouSBCBafqb8d0AAB4-x+BWmhF2nMb+CZYVyIIkC0JPjCAJAAxLs7EXM6BMJuBhppAQhKcABqKnJ3MEFuDiXtCZ0Ac5phs5i523K53OG5-+LaAiwETUlZtZygC+JgDWbZ4MXZ4YRRUiIbcgY5xme555g3V54Md5u5h5xWWF06rxN53AXtBZyRoozCf22u5uixomfGhYwZNCZkJRxUVq9qhpr5EJz5oa2mfVLsCZ5vehMl5mZke63E7FSgWR1x-Bk5M25vEIZuknVcNlp3XcW4BZ6ssV2lmGYJyRK8HF-yo89iaSuIknRx7i-zFxvBmW5S8WrUyIIltcwgIJIcaPLeQ8lIQKwEPaYnKiYyghWKpoFyM60JFJvxtJzBG+xoFJ88j+GajVsNglchOI8lp0fR3F6u0ot2io1+Yl1wYuzlil2NplmlwMOl+ZBlzKxoL61l5Vj9DliYaN7l23Ix-lluIptxizEVxaMVioiV+pEtqGDwD6Vcdp1+RZkZugRVoFZV86BwNVxUeSRyrVhYnVwpZxutoV1fU2013N0QRWFWK1oMZZPc6iDm9dUNpGd63yI8J1khECV1rR91wt0pL1v1-eSJ29iGHl53aYYNzhfd82QmLJyCit2N2RIezMEegI1RYIjRLRbACHawV090igT0lMws4HfLF9Hh1ciCKD4MirZENDmDzg+M8YR5UY70hDupfTIyVM2RaOQuaD8gWD4ekCG5B4aTZcJhu3WIIEIs1waTa0Zjw3aoNj0E6TQabjoqiIPjhjkaJmMCIToZUTlIaTVLUQJh+Txodj4waTG2Q5yQJh9TtQZT-j8T5chsbjgzpMJoFTowaTAREvT0Wga+yzrgD0RReoMzxGyCU5oT4wGQCPUACQEEbIU085rZ0AZz6TfWdz1ILznzjIPzs07zowYL8TiqlITz5QSL54U0qCWLoLvT+h4AMLtMCL3z5e0AMAQL+L+hgAUjy+S+88K9NPK8y7K-Aggnunc+q9S+i4Zh8+y6a4AEJ+JWuCuouiu+uqIuuxP6HJmqvBu0vQBpmjAxvZPxPJn0gwu2vavZuqIavuvIJMgpuUv1vsh5vGuduVvlBAg1uhvTTMhNuFvALxOeu8uivXBngjAevjAQ8HhEIKOgzsPkyxS-GMhFRq1lwfRKPgy-uAOvv-8sPqOt7Mx60PQAArDMKawH+oatXEIbgTsH7DphoNHssWmHmjyHqg77qjz4Jormm5aTR-Jhx-Zz4sjj8TyAQgYSb9CQZjlntngLBnxn8z8Tuz2ASAbjwXyAXnvnizikEvNAoTuztA8Xxn6TEglgEgvL5Xkgvtg3KHsVUIHH2H768VSJtHlIDHob1cQh0Hn7-Xyn7X38In6YboxU435IU354fH+aXXq3in+usFxCelAUwM8nuH0be04FybegLWgP9eQSMYCQWtxHj4YsYgQufzGQD9e3teXDyagjwsgNsPoZToQIchlCNqfFwVmWtQr9iW8vqs-qdawQIGPX4n12PxpvYsjP7oiZgN+v2QDPpbSgJHlH-e+6jvn3120JhX1wXVudmv5BVJBxwpUfAfm9Q19xqiUv7gedivv3-9wsQDse4D9RTADAPJmgb8RgFgMgDgXjegN0LEBgHLZ+Lh3YexRxcR5G8YeGanINVVj-iqXQB5hwCeYIt3m7-DVP-1lxgDpihmEVGfSxColASIwfUIXFzgFs-Sl-YgHYjsAxE5ADpYgMQEK6KJzmMgDASTggiU5oClOE5qi3OYYDJ+jQcgQphQG7YQGe6SkLcwxbBhwyu2bgThXYGEgXo6hBFrCwgiQRYWcAztEpEQFzBq0O2PgQFm4GbgRB2gCCO1jYG8VEwdIHbM-y7DaDqcEEeUPTn7YxYRo2gxXFUnHAyUokaWIyNoN0BuJiOvKWwZdh9IjdGYKOPKmmFXBmCGYMBIwSSWYYugr+N-V2Pfxyx6CmgIQKwYNkObclRiZgmpOzHFBdJ2ypxO4oejsGY1oCYg85uoL0iaCbgcKe8pkLRZAhKcwAmug2mWSil4eRtDIS4IAFwsGBMLXIaYA0GjA6QQaYoQ0J9KnN2YCEfwRyTyGQQhkTDHbKDw2DtCGA1MSQrkWBgRDZQuvSYb2lQ4TQmGNybwS4JHYkCGhEw9gZUA6GzCykCLHYT3H0EAByJ5jthEGXDh8nA95toLUFtC9IeeGvGlGzw6Dok+8V-pEFXB556BQIaTIGDpyKxDOoySgMLBcJCxHmaFcYAhC+bJAPAwwv4e8K67GxOo-wvYVMOpiy5kRtwTEeiIcAEi8h1-VEbiwT4pQ2qKfcfqXDAxlg70D5Z-lyR5KHoYc1OIEZCxZEAZ34YDOoaEhhwBtq0FIpPtSLKJ0j+MJYRQYyIRHcIOkXSNkQEOkwo58QlQqovkRhxHDY0G9WvDMmNJ3xxRDImHJxWkp7JORoxDUb6SdZgNxWVERUM3R5rVDUhe6N4hqPVYUd6RDBUwhGXdjYgdRRpKoPqLjQej96YFXdK9QjZE5rRLbXwYJ2pzAwrcUYCUUpC9EsDm0R2RvsGJEIRkv+hVJbDaP5ijC4xiYu9FmN2yy48x0Y-mMKKpHkB-MZRQYRzBsZRiOUgo7ENWOT61iaRaUA0ZKOBYVoNRRwpsf9yTa69MxKYoWgex8jbATRnYeUWGKEouQlRTDe0VULnHcBXqDrZlpG13S40Wq25CQHwEZFL0XSgMBUYsNXBnj+2xnB8muz1KbkFIaQ-9MVAPECYQG5-KKkaOUZw46875MMdTlUZ-jCq14pHBaw3IGk+RzDFzNaRFRmFKglATONMD1AiBZAn49QjuXfBGjfBDeVQYgzBQCBTCrhV2JTVQlftVw74sFtKI3qCxxURcEUiBNsauQN2QgAuBwHjCCBxgDAGmO0nrDcBBSYYpllxShwWjPKgQbBNPFzi4JxJrcfBBe13QsFSE4kUpJQhsiP5S2jEwBuqlYnAiOJN459pr2PA8Te0q8GVBInfaLkuKwMYSUFVKTAxDJhQlCfOOUB2SAJ648MVGUPZMsq+O48dp+yyp2SYcCBDYCYDsAO8L6iYECAAAYqC7SESBrFgwhSYhc2V2OQFkC9wEp9YIgOFKoiwjQpmU0YLC3kAh1yEOU9DHlIYDtYM4sUqYh3FQTBTNUzIhOClMCbFVlRwnSICVIanJSBA2wp-jvkfDMBlk1Ut8NYBVDdgQpf+HXh1LNFdSPGgLeKfVOmlugUp3sElo+FyDTANYc4HLCRJSBfUhJ-E5apvRsBzTn4ukqabEK5FrwHIkNE8b+PXGHTgY60jgJtNEA5YLxjk5vE9Jek5YXJOYyIQ+O4C40v2X0raWNM-4b0RAhQJsPWn5FySwY4A+SVxO3LMANpoMg+JqzTCQ4ICFUTyX1S1ZM5R2f-Woh5XCoeZ566rDaB5JEm7RSakkkRNJOpButEZFMhoC5A9AP5RKNCaEh4DJySVoSIQEGa9OETdxa6HoNyQTBeibir2YWSyQLkWgeBBZb024DjIcGKzg0DgCqB+hCC8ylILMi2BbACgoznpaMsMRvQloi4EyCaN8IQmmLJs9JJNHXpQgoRSTF8PTfIrVLbyuBqoOCNwfTyZYuQiANzTHNXmMmTwJEbfPnsYBmjMymh5kmceqg+YeViyDoKCKnMVBiT6ZdMkWTJK6TRy9JLMtmVJNAC+zOZY4QEIOEIBBzi8Ns3qE+yMChyoU4crAC9BblGAZc3zB8Y-Brk1w85ns9yVOOqiQzGE1gQ9HnI9lvsYmKctOfUBcju5acOEgKlTM+qlJSy3c8+L3M4S7jT+rkKudriBi4RuAoMAvF+K2DOte888-QX3gpyy4GMzObgAfJ0Ac4SEsuLGZEHvlyzFh5s+BJbPzTWz75PoI+ZwhfngE35KwQXAU2Fzfz+Wv88YEDFBj-z7ZxXMAKnKgjAKfxb8pwOYOVzXBD5ngwOVi2DmUxdcTgPPskF1w6BSFgQfBXpGrlW4SFdchoFbgoUML6gIbWXHPM9x04qJ1JEKWUEOrP8Cs4fUjIdWXQhSMOZ-agNinnx4ocpWtINLIsEYJTKasi48dYOOxGRAo40mUUcCBGiBNpEgOemlAQiQD0xmiz-n1JQgB9O0OUsGS-FAC15mC9i1EW7PRmGUde2KVgNSBykgQBpW8IaeMBGmhJZF1Nf-NQunyxx2YYS6uQ4t4Sa5KFKQb8FIsQoeLzqsi+JckFbybz1CYS6cmQKvkD4AhQ+ICU7VJGjBe0JUymikq8XjS8+I+MfE3Qnw5L903eZFIgVQIYE8CSsAADJoFyC2NewNFJFQ0FBE80-dBYQsCIyl6HBIwtwQkLU5BCS+HwDlPEKxKLARwxQmVGWUrSkm0UDZaMorRa12lHATpT0v0K4SUICy4wkspCkrLeQaypep4RiEbUeYNhCfPYW-zwZnCdchhiFI8K0gEIN9V5QKD8GiLxgfy1EPCI3oB8tlji4+UINpAbwMQ1aHmN4ueA24rFoy2xeNDuV4g9JN9YZXQRhWrLcVIbDevmiz6lLs8bwspXXhxXyT981MB5Qip5DIrWFp7NFWjARU98vgpQD9MJAIkqEMMMSulXio-RR5oVNy6ldnlpV8JEZDPH1gaDNklLXheeelZ4Qmm-gpwmPC-BsHhQvipVaIiCBhUpUc9eyLkLVUQA5mPQuZAQ8lYc2mAqrURaqg0LLgtWhJyJU1A1ZIgVWohcWOwIQh3AVwny1UJw4Aj6QcGvz7Jv+XFvQAbCITCJS06kEIRIEJrqANMLigGutlmESZNMnXguBAjvLHC8GbNSzL2iYDZY7yWCZ4Wd7-QgVFoBcFCMYKEBwVeQO1gND9C6RG1bhZtZ4WvpHh5hqa3FVHnLUDT2oVa20HpSXnxUdlyIWNcwFGWuzk1Kiu2tD2JUgREls0RCsErWAZql8ga4lTmoSX-581VEQtXpCcIHrS1-+Ede8hKnVr0g0JOtQfgbX8Nflva99jHE7WvqwVvawnoDBymR5CuN6ylHeonXiUpxfkXoHuM3RISF1DYZQk2pTWCrCAz-GxdmqaFHBYNaGwdUcNg1mEkNTakBnhsHUEbu1NMOdfGuQ2Lql8pGwsKzX-zzIBVTarmkcuwK4ECCxBMgmbFY3aEONehECAOuQ2AahujGhDd2onF+kII6EHCTOqLD4TMVy6tYBRoXXrwl140kJTr1E3LKQIRyk5b0u42aE9NfS4GABrTCFctNNys1aUik3lZuFerXit+ER6hlwKnwyUC5vazGVHNxMX8nIuVmXlBG+6dqF5sRD9j-NS9FyWE3DT2a9INsJzdvRc2qLwsGs-zR5o0axbvNCW4NY4J81-ZAtwgKwHFrIChbHy4WoyO5vOXRQRIwYSdEIFeGZb1C70x8hvUc2UBRpwWorc6t9WJa527W0bL1o6aLCfVeQWXC1tGn-Z+t7dQrcdUoXGrXhnm6gFNsm3Ew-yzcyOUNulCpJP1EEYEY81m2oimGo2lDYMs3SxbWtoSdLSFs61ChutPFGLQVtDIXaitngopRyRVCJh3gnwTUGnych7aylOINLfdsRA-BAdT2q7dKF+jJAo8p2sbXlse2eq4dK2pqotHW0zCHYW2sEYzF+3Z4tOBWs7X7xilMBqtIpFss+wZVa1HlLK7EDzGdaZBVt7ENRdDmVWoiZAVWmrSatOErbI5yQOpRsHHwCgQ2zgJHUcB50B4Gl-OoBa3JCDygIdgQFHRAi23qxIRmOpnWUqYas6Rg+OkVPfAzB+gMJ-ErLdRRAm6sl+FTX9Kvzn4b12xoo32hGTB2MrPwnrZlUiqp1NAad24bXZgJFLUSMUtEu6k7k2Gpjn26StMBMHfi+ceW140PRhr566kwJ38CkPDO3ZnNm5rc1wBBCt2dj6xf0j4iLr50Wh25+xfpau23By60dHa9PYnxrF1ixEu2lXdjuUAZ7q9OMUnv-ixD6jtOkgECAAE4ug7SDvYFgnxoC+9ZMNQAyrXiJgygygFDQJPjmsttkTLOOWmBoAMwIpxrVwP3pkDnDzhisNALvrbWBApZzQEfZICjUR9326+4-QPoZDfpHEjyzZJIhoBGwEGcVcNioEv1j6b9ZrZQG3vy22w1AcbPRZIEMXvgOacau3VrRR1l6muc4fRcAdr2WkHV+2h0oAYMWVB56muzdEGKTHs6VQMcZKKMCCT5oeeDszVSBD9F6iexKykzCAcIAxwRBHQSFTuukpTAGAhB9nsXP5j5pamTyJlhvogiGwjYWBu9E4rKUvA6De5ULoX0VAb6SRKq2EG9Qg0WxqosEgPAhK4D4S5gU4Q9ckCw0JT4N+G4jVRsppaH321UFg2wYCwcGqIMmT3MMAQi4yjAfBgQ+aTMIBgNDmkZw4bFNgKHJK+gfWVOpSBOHPDIh7POsDLyo9PDXh99v3oZXfamgjy1lf1Dd225ZDzOp9t7uGC+6a88kyPFHsIZDd1SefLHb2inD4gW49S2IzHhBSExoNODDRoGFoAaxHEuBv0Bqv9BTgyDzi3UQGMoM70lIMlWg36HoOMHXAJ7LeFzWKPZG6A5R3nWLotBVGip34rsJfAG2IjGY6sT4oIhbhS4WAbMF6JcGeE4GO6mRmIqUey0rHJE+cMPQUYsWLZs4YmvfuMpJXpN4VDISnZWyBBs47EUXG3HGAzAVhE8DxvFF8YVhFURVH8fFbQSs6DrblsqvSZtuLElh2d5whvDIC52gAAAOlgDQ28BCmqh3AA2DpDS7vO+3H0v1G32MxzD-LV8V0CENInXhKJwiWia51YmcTUMuCRvEJMs5rg+AZKJIkXDAxeToAAAF4e9MThwblfia5NR7Fwopsk-9ApMmoCD1JyOH9DwD1GfwTRyICidxNFApT0wtrpVXE67HFYHoR5sQEeZ04YQ5wxCA6DpPWAGTkp+CQSYNMRcjT9DE0yVnNOWn4Rip02EAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGKky4I2ZBGBm34rxe2fNMZ6wUy4SGB9wQyCTLUcEoAVZaKs3sGzBsWjtE6PoAzXEqDhHs+ZmILmZM-Q895uzKxVaM2ZqzdmHwi2eYdsZwGAXUhYV4pvbeq8Nz6G1lMGYPAqDG106FC2N5Uv4T0kUG82WyvldiNpk2emLbbVK7Smr0xtpVZa61ooNMctNAc9Z4Q4Jv2xrmhwSg2VS79AUPoeGpm8sHhm9wJ4gIAB8oAGO0zwKPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjhds8cd2rr2UqUakFdlLNAvkA97zoFL12kgU3+9TKG-3-mkS+69uA3d6ypbdsr3jMF0XkxRw8PstFPMj8FaOamZOu3QW7P2kfVIsUBgHipVY4-J7UpRqT4ek9gRwgh07IFY+ezq1nXC9Vw+Jwjvr2LZpMqQ8szHgPsc-ClYy5w+KBkIpQxBpnzpftjtmfMhXyHiUc8l4TUeW4NebO2XrXZw9qtdeBEb1977YeddjCrxUavw6WvDRL6nUuFzdpta7+Nk6k3m5aAL5na6j3u7C57pq66ick9V0jsF3yp3IPD-JSPCfE3s+V8HuPsC-0AYx1TiPUG2CPOex0LQ+hEMsqJQzyB-PbsW9XEKqH6M9k4bw1TIPt3BerBaKQcymibJ2Qcs5akvhkHkHhl5HyZeIUaZIXnx5yJuDt6EgOVeXUFCy8rI1A3yJJg40VU04vuJBnUC3zQHfb02GV4cCvyjLaczPn+Ov1IuQO34HKNfsJt+6AH6gjEO+EshkMVLPhXohvckvg4FTPbs6GrEzNKsTgePQL8rAauIhibp9Gbvvo3pboIA-rgZblXkgfILzr-q4oaKop8r4kMiAT3rltQQxMjkjGCLQWwEnC1s0IPKGMsBRC+IaGZMEL-lZLZPZE5GZjCpQL4CQNPoIIvjVDmJJmfM3lHK3nJgMoYPXutFuuRu3uoZxvQfpOtoOnJIbJlmAV9LmmxpRvoWEFoYQSsCoTwksqMNYVRgsnYV3iuuylzjLqLtXkrvPPDtfP2pQKQLwhYfoJqjKosnyrnFoYYTEDTpdhXtEQrrjoHo7k7p7uXl9GkdyrqpkQLsNvTFzt7gGloTjK-u2p2i7m6tasWtodxoGNwZqOSHwS-sKPoN0usFWonr8r2k0cJKApEVYX0Rnsnr2pwPDgFM-ofrEI2GMV8onM4YyLSqMaxuMTWnqnYTMSuNUYwTbEsXPM4f-rSkFMcRXM4UxIUB0fMcMU0mUb7v6rAYJv7pzHhrscUSuGxEoTCk4Q4KQrUPoIAksnNvOl3KCUsBHgxi5lhFCICTzrUHCNwACS-EiS0naFCa4mRHZtAjCoYNyIwJ-mYgTooh3lUV0RavUT2hivcRyijl9vWoyN7gWknpQB3jcc0WPJCrUeUb2rSqULCbGGsH+ggUYESX-PwJEmSaiHspcRMTsReGgYUISUIFKaSRTu7AJLcI1OUSqXpG8f0R8Y0Y+KAHcQAdyUjh4hkgXrrn6ApI-DaejrFMcoUu0rSs7nToToXg6cCI-N6ZYm6Q3Mwp1s0AxgFH8T4Tjuepes6sEVBMLG+r4KLC+pAcPExI2N2HqCyZKSSTKVqXKstMmUBAsXKgIIiYiggrUB7ECGiUCYMNmY-laZEZAQ4dMPAczDdsgWQU2dwJWZwjWQkSUZxFzuntsTHnNoTIcbwvbpEZ8gETrvEQaUUPDmaqUTjqQgMfGQLjjI2OjIyJEVueQvUnXl4UxKQqDguL4sedwsGc4p3ujFobLKAujCOedrTj9GTI1LaZTjubdjjJefec4VLH8AWfTleebiuJEYGT4mdLDl4YQXsTqP5mfL4eWdIuBT6f+etEBRDteWdM6bKeVPeVBSsJEURYWYwKefEYhdBd8RFFtmwjtvIEoPtr7EdgHJYGdtJhguEV9LNiEU0lPgrGEbWO+dcLqd-gWMFjsmQJoaAG2V4UJYaiGu-oQJ-szKPPerAZgZIPJdwEpchZptaYoBpV-nvuCUpo6juDIFZOpZpVPNpcxhgQolgfJZXnNkaqKnZaAOKvxhIWEjbkvl5aCMKsar5WqlhuysQZWD2b8jIKFfmiqr5aahJaJFJTOXkfQCwUlWCOCFlfegyblQFfHsDCBejFZWosplzAxKCuVejPBgJg1UwW8Cwd9JTCpYRoEnaJVeuaOY4F8Iim1NHCQSgUWgmeSNdEwsZWfEsZLJNXGOhoIrNTCu6kNY1CwEvgLJUREIUFNaAlhJDM+dDI2JQIvLyVIaNXFaQYQoyBGTxRlXcJLPeQpa3nNmvPhW9QxMOiZZDFefKQLM8PtUtTxoMDLNFTmgLM4YDSZpECDVaTeBDfiT4RFogTdeNZMV9b1ApSwOsI1ItVaRwG1OdUYF9eEArMTWIKTaeNCZLgTFJS9djRTJ4XjcYNdYkaAM0FTaTa9eEAADzAhMzU0Wy02c1JF94D7ggAAq9coANwdAKZOGvASaTYee1AtQzQtmAA1KFq1qXHNEKI8nzaALrUVTrXrTVgbW1EbR1RMJwZLUITLXLTIMQI5PgWICrR8WrdBprVoqbZbeVtbWILbSbWbVZAHSuV9mXCHTII8mLf1TcsDliFeSBfebteSGhcTtPPXNiITQ0GfGqQzszWLfSaDYpgOl3HzQaarNneiNiFHTEOtfgMNfNN2bdRNQLuLSZGPtYgfNtNXV1rMIImLVHc0EXYupmuTTaL1Z0BMFyeRPsV0TdgfOdQTR2lde3Zjfhg7v3kIenVorZHXOUOtq-KWU+JGPwbGIsQLIyPNQLHJt8bGEFBPf9a9ZXkDe2VeP9WoT1gveae0QdY8XXbnY-bdulUyJwqneDtYr1BnUiGtSA0QGA0Ma7LGkSWTdYt9XqKg+XfRguoPWhLXZWDncgyuc3a3ddfFZ3d3rAePfhf3YIoQwRKUPBNtLTb1N3X1hPURNPX+HbWabcYHYKMvcTqvRdRvbiFvbzrg7EIIZuAfUPsfSIKfZ9LIbeUQv-RabSjfXrHfZsW9A-Xsc-aAq-dDe-TTF-egdDb-UDefaxIA3g13qQ3nQxTgExWEixXtj7Idv7IHNgCZRvuftvrvjfvvqJhXQ6pSsIVomfhftQDvk1VppviEyzB2hwIQhjuE42i4JcvvrTIVCk5fqE544yBoumDenMEVbEHMKuDAdMDehyNUzEByHU7gTehhM0-NqQG0xUyGjPF0zPL0w0yGhCWwEVWM86PUw0DetxIYP+uQL4EVXMwsymYqNM0UDevI80-I7GBs4UDembKoDqiwIYPekcycx7CsPs7EDetrV07EItqAL4BTWtlPrrWszczEDep5A8zEE8y86tqAFPj5J8+0yGiidMAC688C6AJCM8zEF8-6TuOCMAH8wYPDNwICwCG86AGAGC30yiwAKTovQtAtT5EsIugBIs3riQPNks4uwsKwvPgsosACEko9LmLzzMLU+HLQILLhL+V-NpL3L2LuLgtMQgrIzKL-NAIfzDLErQIPLrL+VK2orWLvLoAa2UrNLIaK28r3ARQirsLBrurqrEIbL6LsLhQjLMQbLsQs26YBU5ZPARTCTJTBYANgIK4hyQwu83AcTqT22LrjJQbxT0lsU+ALAAAViYByT6ysH68iECx0+64kxckRuQcqbGOGx65G+7GmJFK63m1fqYrWci2CDeq0UVa0Ui3gbcyGpAHQN6Iyks0a82621IfWw25WxCBc7AJAM0wO5AD2w24c1QMcwAKJdMXNTtjt4E3oABy5AS76LK7S7XD5WobVIpbjUHir1ib0wybQL20iVgb6b+7GFtaO7Age7uOqOM4reR7DQJ7jLeTF4brwTEb5bRbC+-6p+l7BbIyy+HtlKc2J+4sDAaopAJeJ0Mb5A1YhJXUmg+gulQH5+-67JWT0BVjhQOG4HRwRQUZ9M04Kd0jvyc2nZ6N1Dye9uUG4p97iGr1NKlu97B7099HYpyMTHbCf8sb8bCljd7H17T7P1C7hQa9NRm9Y1MjzsZ1i8YgXweNzKsnd1QIZHhAVDHdyeRbHjBYXjbFPjfsmAGAj1xVFApgDAbqHw5UNwpAG6msVV6cmcm4lyTnkw9mLyTCHn4QZtDAFtwdtt7nX5JE9BzQIXqMHAYi7iigNwLuJuWgfKMdXGVp5AygygKtGQV2RgK+GXMLHsut+g6XygFmtmpQ4ItmWtEdutJXEnzolXD6KXzGiylAUh2cMd9+uGXXPKkg3bkQ0EQDCYwdAd4IEIAd7+8XxgiXwJfrBHrXUhXXEwo31gQ2kNnEC3uIxs02OGznC6u39m4IDGukPd3Sj8u3oAW8yk3RacC6N4u34QhczSk9WQD3oA-LWi6m9BpQ-rIwF3Cs4I6mxkpQbVlnM4NnsU9nG6B3fozQN3v60GsGIyF3V3q4f2lhfHi5SiD3nNFX43utm3TAZA0220ehOPkdq4tmgX+Fpy0OQCVeWu4ub3utLWVPAdhP23v3mJr3D+xXlGFSptrPq3xkhs8Q7XkkoIRVOGF7fXW3xPnnKwzuWEMPqem3EInTqJj8pP-PM9PPa0neHP8vSWXyMdfPa0h3AA5BbThqN1by5kF3HWby12L7iG6qQI8m74CyAvdpXVkJ9BnFnNtJ7-V03iGkIINlZMEObQ5DpHgm4MWObeERwPCAr6ry71z-oMH7r5n7WO7wby70T6QIJHCen0H7nyy-w1n267L9Z+X4neYAh0h8oCh2J31Dyh4ISvoVVcXjBhjvJvZjej30j1ktTJj4zzXl33hzEH643+sM39QJoM4e3x6m4Et136n4juj13wPyGuppGjT1DqCevy5gshA57xQhPvDMv53-JpSQYLnoj33wMmcQ0IsXx-eWsXBAf2cvT2P4suLvJnsaAES28gFfsYCnjt54oGgHPmQC7Tj5mAV-QZB31X4e09kgArkhcXf4MMAenTezFhCaygDCUWCVfJmx6pZAkBYA4gQ-hYQuZmO2A9SAMzwGED4+EAh-LQKwF90Aes-ZDgv1b61gTuuWI6hwKoRT95a0A7gfP0X7oxr+KAvQoAPC7dNf8XrA+hQKIGsDcM9jO4tUSP6AD5i16XfkVWAqH9L46A9onMUtJBRT+gDFGvTCkIkAu+XVMeFhH74R5toLgnuvI30IiFh84hBmP-xrzshpCnqZjG1RNK39ve8SLZOYWf72Ybw7gxHJ4NUyH0fBo+LHsVQ+Lz5sM8fbSOVHGxNRGoAwCoIMHCFDcm0QQhwQDwtAJ9SqhQ7nFpFijpkShTjbaKENrTr8IGmkR9t1ArxJDjq0oZRlPE6gMB1AIgDgKQHWixdCApeZ-vSWqKyZdBlpV-q63liKViYL0CWEYwGSOwoYJjJpPLDAjBhxwsBUoA4AGGnRtUIw4QGMK8EJZ9YBEZoLkCmG2wRqviZ6IIyfyX1Oi9-ZLNEMIAv8-Qg0TLI8MeRuDn+neYES93X5ACPhlERYf6BGIDItGjjK0hCPkwQNJsH0BHggUiTyJfAwJQwGyAqC4isEhgUkI4KRwMYjA4qezESMWYkjiQTwOEplgHripRBy2RlhiIUBYjmYtIvEclymwIQqRIfXtoUF5H0iYuWKZBGQEbhX4xRe8QkZGDpFTxSRe3KutSIjxyjw4DIhQfgKYasj7c7ItbNUGNgyifyiovkVlnNH0ingog50IaOjoCiiI4qbwqRzCICiZA8iHONANA6pcj8CYD0fliZgm8psHXAUcmzvzUgJRMVT0UjGDEfRQxH0VUdQkCCJj7MwpU7lKNg79BZRVowYLSgHpujExVje0QGLa5BjORCYrkRAhTGCQXRnEXgOzRagIxgsO9K0iXDCJzQM+qWevi4DShxjps3QNkN0DJGJlXWFbNKDiCHF+AoqTjWsgcKViiAhSg6LmtSA6Eygr+RIf+C2PWiNhugjIJrN5hfI+9ZM3QcIBV3UwrjugzsMbKAGloAAJKdgwAACC4AcAFOwABK0tSAAAHkl2yAIEA9T+qSA1AdQ4sNqTqx0Bthc2BsY1CbHwwWxBWb7uIEkDiwKg8MYgdkLlIISdMCgvsZ0AXBVCchcqUqnhMyCgSiJ7wZbBEMDD3jHxL4t8Z+J-F-iSJKEuCRhPqHgTAxSQObH2IrFwSGAm40VBBM7zghCJqITyJyMyExUWo5ErCRBKgnkjORb0T0X606zawVaq2NAmoBMBeAdUjAMSTEnUmWQ8sZYpIFBKn6u1zYskziaZMgm3COkN4pPlewcDGxGQAABhOAmUagjkYVBkAKHq1h+LMQYFdD8myoXJ2gIEE5LCmZiA6eII8QmCim5BwppAUqoTG8nnDvyoFcmFFKH6WJqAkEUoVpkyyA8iqWEHKQFLynCBs+vnCBoEFBIZTxQqQaoNkD8k7jXW5Ux-rFHyn3U3avkjgAj3zxdTgpTEM+G6MaiOROgG6JodMFUTzCZhgpMQXcHSmawbhHUwaeVHyni0levw8WqUCwhjSGAE0tgBulBF-DhRknQIONMmmQj5BnpPwZGScYHSjpG6JyT2K4jEASAIgVICMiSGawFJUEUaZdMOnXTBYKwOYUFgfBl0XQy9NzFkD+ktB-hV4a6PxX-pCNPhUMpYYyRYCiw1hUHBalBNRkzTQE2MhWK0RXKlArMUYFcs0CenXSxYrw94RmCwDQRtGuwyIc4J8wsN2QQM56Rn0hlPdaZx0m6Rv1XDNBKZxgJEbcUKncziAV0oWWiJI6jk0aLMKOBpQ4R-AspGMU8P9KFjLC1hOMi6OsMMaXx4ZENERgYBFgfc629JIKA4CNqmwiszw+aK8LWGd5G6DQbWfZKI5mD0Z4MzcKeH-yW48AkIEOSuGFj6ygQYsV6JLE9lmyiZew-WVbPAhHDYwJwugPbIayazbRzoemWdDeEoRoIqEGmHdOo5ZyKYBMn2ZRAHAVBPpoQP+Eok9mmy7G8NYOaHJWBBRLMA2NbmjNhErhLBaNMubHKBqRkbB9Y9OXHQdnmwPMe4X8DTHJHmYAejmDgINkO5LznMivVzB0HIEzykJkMY3rJkIDiphGsQcLOrBVlbIW6iKDWYfMDazyga+8oLIQDJH2ZqO58tWVfMeBPzA2bIOeXizAAhzIQxvFLEfK3hI4UspIezHbInmZySs+oy3CVlJDZyigUC3EJnKaxwKRRbWQRE-POnlYesLmTuU5kGwdCPkfk7OIqSqpRNgUipUFH5KSYMk5EDYmJK9PJGXJXpzGKKemRYXUT8GXcYREwnYVITB+bACab4D4r8CFB3nO0IIogaQdNkTklqeTHP7yTQA5-OeaOMZJyJ+gjAJyYyDql6wGpfwJqUolemZlXWKC8KjSHYKf9YwFizOcoq4mQT3ZwAwakwpGRaL1Sr0pBdMDUXDzpZFitgulHUhryV5MJEwhvIsK19YBiizasmSiKNwdFrU20a3TGwTZCx02AJcAXYIOTJAt4h8QwHfHWQAAMlO3-HGFMgnkuasBOOZOS9kKi9Rf4sbHrjsJ3E+zH2LYlTxalLSv-C5lIkLgulzGPpX1JcJzZaJBS4paUpYkzgOlwyupY4rmxKSGOyMTrLxPSXdF1xAk8sFuOEneKGgBVPyRJPSXwgp+qymsRCD35aInJhymsSn1kWL5Zl3SnWbOPSXKSqAqkpGX5KBZoE5FwymJYG0cXmTOslkkCV0vqV2N0RmHfqZ7xgHu8ohtk7Yf2IWUvLSx7y6YAvLWy0pFl3HKeHKLQ4ERvQEAzCdqQcXwr7Jto+0ZBy6UkqCsUE+tm-XSVvTIl0Kz3gis5FtTGSrQFNkCAnF2CvoVfcEEyvL4KErSnKhwAfDJkR5EU6TRqMyvL6sqGVLmUVUolaEckYVFfelTWLelhw4JS0VLOSPbGm8DxLiVuGTiCxGq6xHkD4MEAKFErsor0OCcV1tV-47+8PHVRrIMn0BEZFIV1nuKBD8TBJjqjiZ6v-qNhMu-echB6sYCciX2ekU5SGO6Bx8g1dAa5VNmFUNAioOIRNWBPoApqPoOlXNplkjVLYYWYauqTOEjWIrNB5g6wSZStWBBhlUHB1dwt1lhtHFjIN4Iwon6mLyQ1RN1Z-PmWoNdxfgRkP6q2VCT5lIa11qWvIRRTo1AIFcnGvjEJrLlByySdCLXD8BM1K6jgLmoUD5q-QZUvycWqBbTruEs6hlVWvRlQRzgo8jyLUKinBBrJyPJ1VVQUWRrOZqee9WQvfUuZahkawNdmr-w1DhAhKpNQBoonrQ61NqpNY2uaXvqzFjJBuKBsA0Vsxl9Ej8V+N-HgAmIaG18RhqYllLleTq49YyyQ1Pr3g9jDuRiDW4jp6YX6x4M2tVLjZ61UU+1c0u7WvBXWZG2pYyDGWFKSl2G8kHxomWEbMsTkkjWtm41+TmyfowMOCGo0kLpOuIN4DGxvweEkxthFygYxU2PRNNrClahoQ4VLIZwOmlEGgMM3ki4hhm0qmHEuq4g5mqmn-Opv1W3cu46m0qksQc26bnNPC57u5vW4eRBMXmszXpt81WaDCpVGoGIAhRTxoVPm6WadN+omUVN+AZqaZtMAKUNVU2KqnZuRyOaZK6WjkrvPMbpKXMKW5qYJkK17IqtuCnIhCiiXu9K82m+gPlrBA1aUIvbLLYmNpgZrRJIgc2oKtgFFVytQG8zg5tS1KJgtGW+VZqpc1KbPEKQVrYZMW2PQ6auWdMZv0zGmicRSovFauEG2NbPNK2lEFlmO0ZbO8XWwSB1uNYwtxtFW4zQtsMCta9kU2orddrwUlbNV+0XrVHysgHb22wUJ7RNr-YwootV2dvDNuy2KTkVKk6AUCtvo4tmZioMZnJljhaAGtjyMHUlwx1m87Czi6YCkskBpKzlPWWwLiSKCsNRsROqNWsuLmFyVxDGd7bEEu3fbN1R3fALHy0T-aiqWOqGCZQRgmB+AX0aabJpcCREkhUnJTtG3xRqdOYb0iQS3xAoQ7bhiKycC-Rh1vK4dfodFcZAF2ZcK8nQ6RN0K+hR1teGg7YbsoMCVhqYrzd2Z4Ot3Hy8CQ+MQqPl4hjQem3kf2trWZn07Cg4IBXbwOcIp9ce1IKneNhp0k775sPcpWwC-os77ovWgPVIIYgDa0dMqoVdwCT18C+djYG4FfxWa4jGQAAThOBnwC9izfsUYAmEwpy9XaF5YyizgfBuAzquEdoIIbGq4RWgroi4AVhuTZGMQWvfoAt4W8rIaAMfWmtYjVrYwg+gsYzKKC17+xLMY2JWMFEfBO8LgHyP5R+LIiB9PEXEYvob0KNuAeex7aszemdBRF4ir6JwmtWQ7Ex88z7VNgT1s6L9izK-anpSLp6htK+ERW-qYD8UQd7KVQW4Bx3VAioJ4MgHXERT9cNFVIVoIyHP5fxL+MguZXmmv10Aioo3I4Lcp7VdEd8pAKA223e7qREUxNIhPSUH3ghvIPkYAx7E97nwMD-AGINQf8iO7AdqzDzAX2ZXHBzS5gliAOArV5DM4OqEDcCVaBer8OIGhtY+v-V-qnVwVTPnPoHD4HCDUhYgxJFIOcx4QGM9g7iIhDUHPdkawQKIdEAGHvIrBi0mxCn3TBKDZhnyPQcCUew7DvzddboYr0VjMVLy1Fd-QR0rYVyhPaFc4sN3IJjdmfC3Vbpt1Atu8to-7WEdD1tRUlEekMRtgoJSzb15gJYkIEMCOQs4YB-gOyrgMIHy+F-BASgdkrGB1lmBs2tgbNK6NPoFbWI60EjRh7idyRwdGaVUSUjIYa2inVogchiDzYc0LzMwFkjQRReNfaFcEZoBXYmjz3bo53g6iRHGW3eCBtpIvR6TyN4G1ENwBJU7HijDSzjYyQayWKQCjICCZPP4i7GmQgG1jpgr9C+KTM8UwMMccCUWYQlAg3oxtu4YtGkj8Yl41kqTjOxaDOOi3mJP0CYKAAOlgDfXYqmA+AN6MEGmyM7nmmrA-GhBH1pJIDLdYIScGBPQrQTmE8EyKKhMwna5cJhE0X2CwLZeAJ4TvD0Cwg0nQAAAL0-agAoTRQJZVPDyEyBETixlE8yZYQ1YMT4IFQ9iZqioQDoBjLIzkc3CgnYT3J3k2K014otyA5tFgObWUDm1BskwC3mmDwB4ny+Q+zk+SZ5OUmlTfbUSWqY1NamU+wp-yEAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZvK9iav29SMcNW72nDtT+4xAkYQGG3MEE519k+nH5OEzDrC5-CAAyDfen6QZ15HBfGuYMRndH0AO714ecaCsPj8n6fQW7qy6D1mrJrd8xDF8DOG4YfAo5fp9K+A1gY7xGERCu-IIpnzDhaagYg6CfToLPSBVEb6pDvrUB+O455WTgQgpBOl9pn3wYgzm4dv513-Kg18QVto3noUmYekxiEfxBm4eBZDkHW1rMA5YdDd76BvBA3OUCQ6cTDsaIQM4KjKDYD9LKdA+GxHQePe+M8n6gHBFI7hsj5FlXoG-OmnEdEyJMPoxRFCf7UJbrQ0BjC7QOJsUnFh90z6mIYHohRsV0bKJiAI8BTCREuNYbDMemtPHmO8c4PxuMV4YPIBPLBGjcFaIiV4gxdAjFn3SVEzJViqGxICYMBhgjgksNCfTXJcjonZV8fvOxKcwElKCUw9eYjjEeTDvIjOvNo7w0IIEDh9AimgNvok9Rj9UmSQ+iwPpCNBnEGGVkypnEelzPIAwdcAtjaGFGU0m42Iv7WL-gAvW3AnHMNWR5dZfS67CF8PshMlzykdJgakES4dmBaEIU8wM4yklTxSRXKynyPhUGIIQ7JbC4kmwWUMwwMSGn8PsWUtpkCR4wskfQbiqIfjwqWYikZyKVFjISYC7BKDE7cGMkUbROLqB4oXAS5Z0KwkqBxf0wZWzAh7xoSippM8GCBBkJovE1zzBvCnvCtm9A9kkv8aAoVIrNGkjcTCqVXLSAME6FSyujSEzKsqJonQmL2UlzaLWRwX0FWwrHpgoFUyQVaOMO0JmyhiBsvpoTV1VqPXdzCGgpVj9wS+vdZ67gc8wjqvZWG61XyIWEPlTQ2IArnlortO0mN9MqikA+Amn5nMA1CWKcW7NnEhkznBYW5BybE6BoNYGYJ0bobvOjgoTQuI43+qjSWslaQMjOJbe-c1qR5H5urZCotvag1NI7oOoR6L61vKxbXLkXhYl2vPuSyZODnXgnYB4LwXrOKE0PcoDdtqgoaIPeu8EkbIHlumuupq+AHmbtLa80+q6dWEEICCbkqI-n2omckp11KtEaH-dQQDzgT0eVHlqwlSL+WkqaZcrNraYU-TEHW-VaatoZqyK8iVLgHI6tILh-QRAG0EbHp3LINHSP-QPPmnD1HCC0bQ+mkYTGn3mErRRqjTHZ0JhvHx6GnTzBh06voBZy9-k7rAzuBZVlihGJdqPD2cgvZQDgIgZA6BA54nER5GONYIWaKZpWPtc7UgRyjuZs8cd2rr2UqUakFdlLNAvkAtzzoFL12kgU3+9TKG-3-mkS+69uDWamCsHzqQPEZMUcPdzLRTyyveMwXReTUupLi957dp1UYcEiTUzJaWAsZZ+NUixQGCt0Bs0V2BHCCHTsgelpzOq2tcL1bFpr8WTLFalYy5w+KBkIpQ7nLrmXRtMqQ8sqzg2WtjtmfMybyHiWdeq4TUeW51ubO2XrXZw98J6WmLczZ9zHkxdpVeQrzpEvh0teGqripVaZe7Ta178bJ1JrOy0FbT3ivnsvTtj7NWFxg+W81kHYcwXfKncg97KxPs-ER4mjrEHHuKme1BgD+WIdo8EH+tgjynMdC0PoRDLKiVKJi0Dmz520JCsi+jPZOG8NUyZ5MIrZlgiaJsnZByzlqS+GQeQeGXkfKU4hRpkhZPHnIm4FzoSA5V5dQUGNysjV9vIkmDjRVTSCe4kGdQbXNBddvTYTThwqvKMtpzM+f4GukuKEIPgcoNuwl27oIbqCMR3xLIyMVOX1PEM3b91Te7sY1ZM2lU1g89Bfmx7Qoh47n1TsG5Zxd6YXPc956KLTpP8g+vR8fNxxTwrgY8K+kM0PQ3IefPRllpGYIG9sCTvd5og9QzLAoi+Q0AvNwq60bZeyTkXBn0oL4EgMvSf-t8DVHMkmz5s6jhzuTAzDADZs0boK5Gufb8403kooAGNyUNhuOTscI+sZnOxhZYQ98x4IhvuvezBPH+fzzuLZr6Zut5txtmVNsltGt98QE7MmBSBeFw8vpNUZVFk+Vc5X8z8ih0dnNqdEDJsstudX9jJTI78EDOUZVdVAc4tv12VutvsA1X8cY3d21O0Xs3VrVi11o4wmk+9NRyRB9XdhR9Bul1gq0kdfle0ODpggp4CacH8C1kc9UX9KDeCXcjdYhGxc0J0K469GRaVpCNCRCscUde1OAlCVhGCW8zp9CvlE468A9aUgorC5468mJCg+DVDhJQEaDft-U08NpNDDDKA8NFDBsXDV9XC18YUP8HBSFah9BAElkFN6MF14ilgSdL8EseAb8oRojetag4RuAoiX5ciWk7QUjXEyJQAIjY1uRGAvczEKtFFucGCBCLVWCe0MV3COVstPN61GRvs5CAd15Qjjd4kmDZ8WC-UbUK5Ui-RSh0i-Q1g-0E8jAai-5+Byt6t3YZC80DCa0FCLxfCihDBVi6iNjal3gBJbhGpaDDiLtBN-tOYgiKkAoVDA8q8x5ks8sGtidIcNFPiGjYpjlCl2laVns6tzjUdZjgRH5wT8kgSG5mFY9mgGMAoqjADMsYcID1phY31fBRYX0o8hihY5VPh5wPYgRjihA1j6jNi5VlpcSgI1CSTpQYjQhGRCjWTbxuQ9RGSRjAxpCbtC9nR49mZrNk9y9uw9RuAcjEUEFahd9ecADOJutMc9jYdEjQBCYLCbY09pDPk6dpsk4hS9J-8qD0SfhSExDnU4scZGx0ZGRpDLTyF6lIFX8mJSEQsFxfEnTuF4TnEed0Y3TyQgp0YzTlTMtYSiccdBscYPS-S68pY-gzi4Twt-TjTpDIyfEzpGc4t0yQizhU0z4gCSTpFkyoz54bSoI4zUyEz-jaTGA-SzsVxpC6zziEyczBs8ybNnY8AtNPYlA9NfZDMA5LBTNpMMFYCvp4YNTpcFZKBJywz6orifcCx9BM9JAyAFTBTedr5g0dx6UO0vdmZR571fD1zdluBtylCR1Q53dDzvd9cNSAVd0wQZArJch7zjy2F4NzAM8FEs9NyacNSjVRU3zQBxV+Np82FX130ZBgLQQa9QLuA1UsN2US9KxxTfk4LdzBUEKVUwLTVFzrhlztTeE3h294L9zSKI0uiKLILitqLvpKYcLRiHVKUmLaxQVa90YfyXBqK28i10YNTLkhKlSzNHAvhEU2po5S8U8i1KzgzQEbxrypNp9ZDJYFLOCeNBgVKiyJL8BjAmplcBZ6CIhChFKmksJIYgzzhGxKBF5IVmCxSy9CFGQUSxzRJlzJY-SFSOcNS15UzfKGJh1VLMY9ZPS9kaZIhzKtLCMRgZZUKc0BZP8acBZngYr3i-xUq9YxK4ZGZRTZLy8fLeotz1hGpNLMqOA2p7KjBArwgFYqqxAarTwZjIcCYvKBZarrEgqeTLyyqZK4cQdGqaqfLwgAAeYEJmJqi2Fq9AmYFoUgcyCEAAFXrk1KEDxJw14CTSbDJ2oFqGaHBFAAAGpKii9PMy4xAhRbs6qTqtErI7rbjYhS45prqmKJge8FqlrwRVr8B-piBHJBBKNtrHjdroMDqtFHrzqXq2o3rRq7r71IbTqnqYgYarqZBHlZrcq0QgssRPT2zUzTLyQ9LKxp565sQKqGgz5KSGdAqSqJCPDoCGMuqqFWqCJVYmsyaiB9AUbYh3VJKTpnK5KUd-8nrmg-SD5tpRrebZhBFZrebxaajF1M06qbQ7QsbhjQAWJBQBDrMD57LyqO1xiha+sGaigR8WaG4rJbI65ygL9X5eTWJXjaV1CBZGQrCNL8zYwgoabsrPoIq-a+RjSCJIYUqaZHbwjI7MrrMuaKb8zoFsNet8awtrFeoiakQYUY70Q47ICVxqalbiqKYuM-RVFmbpb2amdY6eai9+aDLBbCrflRaCJxbUzJbBFy69JSh4JtoWreo5qQdfaiJVasqNaVwdQVwBw9a5yHKjbcQTbCEzbCgLa-Tra6BbaRB7bPoF8fSiFNa3C3iGhXa9Z3b1LOrTCS7QFfbQ6fLA639zq8xkqt9w697eCLKEws7ya5N46cBey2FtN5AByfYDN-ZA5sBQrNcLcdc9dbcDdRNq82KNEx9wRzdLdqBddeKeAtcoGWYO0OBCFUtYHG0XBLkDdaZCosGrdoGwlyToSdx0wb05hEbYg5hVw76igb0OQmGYgORWGhSb0MIuHMiDxeH6GQ0Z5BGZ4RHLsQ151MhEbZG2BnQ2HCgb1uJDB-1yBl97YeJ5E8TFRlHYgb0R8uGR9YwDGYgb0zZVAdUWBDB70rGbGPYVhzHaGwRwRjrBHYh9B4ZuBfB6qAA+UAaXU6vRlxm9TyTxmIbx3xgJoJryUAUJvhkNfI6YaJhJ2J6XSEBJmIMJkNYASJgwHx9JwEQJ6XMARJ0R-cgAUgKbSb8ZKbiaqeydAFyf3PEk8bqYyYPj8aSf3IAEJJQOmin6mARSnQABmgQenKm3GxranhmumJqYgpnpH9yxqARInOmGnpc1mlnWm3H-G5mYmtnQBAndnen9n1nuAihNnRm4n-GgR0nzmIQ+mCm4nChbmYg+nYhpz0wCpmSUHsHEMfLAQVxDkhhd5uAAXKGVzUQW1yHIHoXEN8AWAAArEwQIkFlYMF5EBp-hihtBmikhhwFhYO2IKFglmF92NMSKf5-F63UxGhjRG9bgxG7glx++lRkNSAOgb0RlLRmIbl3l2fdljlixkNBx2ASALhiVyAEV0VyxqgaxgAUUEYcaVblY5ZvQADlyAtWCmdWtX+6OW-nujyX6WSzfTArMXphsWGnto4LIW6XGoGWTWqQzXnWLWZwOdrWGhbXbmSGLxMGEWKWXWThQrTceVg3rd9d7cgb5oZ4NSI3Xo1RSBycToUXyBqxjiupNBq60J3WcH-15CCHiXSWGgcNKUEQig0TOJpw8b56i0NSRTE8MKXKi008oNliC2gW6azrzqC2PFRqy3ChO3kZu3oLkW0XTAFTeag3UHzXstSy-Lh3YgDaxi56G7OYyHmS12xAvgWB8VN3kE+j4xCABrMLG2w3f7qH+zvZ9M-ZMAMAPLaKKBTAGA3UPhyobhSAN1NYny05trM5NwRKfoyYHw5rZbAk7Qbw-3DdTrwQGAjrTq0a3qQPStwODZmllashYP6KPybgXtjstA+VLri6+SQZlBlBtqMhLMjBVdKPYmPZTr9ByBKOD5wQjrSgOPQBDqHrTrWPlANW-QOOH1SPmNFlKBZ9s5LqHdcNZOeVJBhXIhoI37Aw0aEaIQ7r8PNljAiPYiwWK2JPZ9ZOJgEbrBwR6KjPcRjYFAWPKN-2B0u4cMIOtEGNdJhtulH5nPQAt5lJBCAOu4bxnPwhC4sOgv7PwgJmtF1MXPwWRhvOFZwR1NjJShyLX2ZwP3Ypv2N1nPCCDBYE9rYMRlvPfPVxfMvpacwD6c7O1o+coTwRNPTqrOmAyBbPtpj9gvwhkbVwjqkPxcTlIt4i-cCxFtqvguobYxeu7rmubO4uSisgOuIu4P7t4R3O8dMHFPHlJJQREacNHXNuWvSBBI5rnssJcuScrOIQBGCjH52v7O1aFuIv9vJPrPWuTvis0aauXPwQAByPrnDBGv7zDlDjGr7yz+IcYt1UgR5KH+pqA0Y5mz6DOLObaWHoTq8G9IQYQRG8EYIHHhyHSPBNwYsHH2AjgeEOr+SDbl7ub-QNHh7un2saHnnGbt7zDy71HpnnprK+n6nyHrn7G0ADNrN5QHNr1hiHlDwQlE-BzgnGDVLeTFWVxiEOXorrJamaCg0kZeTFdmIMF4X9YUX6gTQOvSXj1NwEzmXynlSYrIbxXknG9dTSNGswby+eTd7hZIilwWHihSXeGM36X+TZo-L1IVXhXgZOww+5knt6xHQuCF3s5IBSrxZJbd30I8hqX4nqeLneKDQRnsgLtCXZgf3wZTPhUn-CPiOrdGPqhdjgRpXrCbaUv834wbPx3HnS5ZvwlLBNXa3poV2MJT09j8Rhv+QFvnvx3TDmvhudjg37N438XvqNbjAoR0faCletPfXzNw3sX03rvi3uNvZd397qy9fwmzBsvif3DR2twxgu3yv1Q69ENJ3-rqhU5KLIBNP5QyMIfRm9+gZVEgnXZSz4SAMvFitXiwj28qe20KATbwtqqZx8IuKfAzBT7052Qc+T1MxnIqPEwB8PCATflgEr9lKEfTDvAIGSr1J8YuLXi4GwG1oFcidLSLFEoD4AmojUAYBUB0oR9wBLgEAV9CD6JcLQJPeiuwJ6yMDyoUeIPngOIaCJaBgRK3l73PiLtkE3UanAgOsrSh16U8TqAwHUAiAOApAdaO4iIAU4uBB9c+C0VSCyZ3enRV4MyXligAxYr0DSuQLCpOx7CoCeWGBGDDjhfCpQBwJoJKw6Cse+gk-I7H1jN0OUhAR5GLF8TPRK8rhFQowUgEP8zBsVFwFhFyBRDae7vbgJkMeTEDCAriMes7W9qeEABY9V+mkMiEmDChCg0uP0AUC-oSAzMCoLo1iKGA2QrQzRlgkMCkhuBtvBdB0Jc5dDfAPQ4kE8HZ434pa4qXXgYEY7zkGhTQhPJEjaEkdFhREGYbO3OojCxhYiGBMgjICNxrcOwveJ0MjDdCp4vQhzmXXFRK8Th4ccYSfymHt1NhaEJ4A02qDGwjhjUE4foHuG9Cngsw50O8Nub1CPoCEIwOKhXSxoFh4ImQPIhzh58x8ZHavgiKRhfJAgH0aTosOxaxsJg9FeEVQHRFgjbOJI64YMNhGCQle8xG3p8MOH9Bjh5w0YYMFpRS1KRQnEEYE0JGScmYGIhodiPBEQJMRx3QXlJT3aSBsoJI7xv5RvxFNORF+QdILzUAmAvAOqRgIIO0gxINRqIbgD714i6iueb0NKraWZJmw1ANeGkF3kZBGwyAjAM0RbD1F8wmQxYZwDSlFZoQfeCVKofaItGh52OMgJMLUGX7n4aR-fMURwGYENlKRlxc2L6K7yC9eAhlFqAjDXJUAHOn3JvmmMF5pQ+RWI7oGyG6B9CoIjYGhmlBxAFi-AKFKoeSS8FKxRAcxQdDx2pAKDkx-vIkP-FTH4ZbB3RboIyEzFJxZY-aWTN0HCBcd1MTY7oM7AjGgBlqAACSVYMAAAguAHABKsAASstUgAAB5LVsgCBDuVQqMgSQOaO1FbEbRSQMIRqUTGNRWxnY42P7iV45jWxPfYnpqLpLniHxGRHMZ0AXCni5U9Fb8ZkFEEui6SGpOcQuOXGriNx243cQBMkDiwKg8MF8WIPfFEjbRGpHMVKNbEMB2xoqD8TznBB-i6AnkEkfQLQotRgJb4i4h+MvH9CSRb0BEWC1jzaxtqJTQ4sqIvRqjKJQGFiZZEyI8iLxrgoOrHiPGxiiJeyGiUJI6TTiyeHrBwMbEZAAAGMNmfBqCORhUGQNgYV0sTUBBgV0TSbKnknaAgQskwyQcNIB3U8Qg4ppKZNyBGTSA9FQmGpJKxgdEy5MUyWH1ii6SZRB4CEC-ywgeTtJXk4QAz1g6C9Ag8RFyeKFSDVBsgmk7EsyUCnQY1eLMM0BfgBoaSysnk8qLpOSjE0YUCwxqI5E6AbpJBK4VRFYK4G0pSgTkjKZrFCFxADJ2U7KN5NBLFZkhhQ6qavyESBAipJU7IZXyBGrtepDAYqWwA3QFCWEbUz3pUMyqFTRp-U2SYLwqDNDQgf8JRAgM1i0SoIM+EaWNNKlm1GCVgyPu3F1rtBOgbkjGA+BsGSElKC5WlPvV8LCxRYxMF6BLDPqXjNaKwOWAfG4Io1SgAYqMCjWaDzT9ptsaSrEPiHagsA0ER6aUOgKQDwgvg9kHtP6kwDDcoXUGf1OUp99YwzQQGcYBfpR1yOKM4gH1PGky8FBzbFmFHE9wcI-gl0tOlJJNHdF7Bjg96ZfC2lSSmIA4EWFFzZadEgoDga6qbFCgWwYhZ0OIW6PdExBTwn0vtuRESEWCSsTFAPPfTwCQhNZK4YWK9JekXQ3pRozmZ0E+nlSPBus-meBB8Gxg-BdAEWfaMZlbDYgEsm2FLJhnQRUINMaaflQ1igc-ocs7md-0ogDgVpCeVICMn9lczw60VDWVrO+mgJwQAYvYEGJeI-9owpsppM20ZkUwTZ4RIAfTGFkY1RZ5sNcnuF-BRUpBQk-0YGOx5K8E51c4MbEFMjnSsghAUuS50hiYcZMP0EuUjJJzUzWYdMxFAzNbmQsy5aVTuZYO7mEA+hSvfubTIMpDzHg08yFmyCiqgAY5kICeVshvytzN428VeDvNJBK8C5uIe2TeF3lDSig580kJfMKAnyi5-EJvq8JlnTAm+N8x2c6HDqYc65Sc7Hi2I+SaTs4ARBzggydQBFQUmkjBm8DkSJiYkS0-oZciWnMZTJUeeBRXIUbYdMFSClzpjzYDFTfAE5WsPCEw4vImE2ChQRG02SyS4p5MR0QJLoAGiC+hs7GMWOZJyJ+gjAWSYyAinhVNYMUpREtKYiNh75neYqPdnvn2y6F942+VHwkqwKRk7CqkktJkVFBPRaVayQmBEUh4rRiXRORwBrlpFB0pA4gu+y540LGoUeRRZwvilAjwxEoqMcKP0BaLLRLiKcZIBnHziGAa46yAABklWe4hUZkBUkwpRJ5o2SRJLQmCTy5qnVUEmJlDww7x6Ex8fBOfFTxwliSpIO90AkLh0lzGbJZlKWTvCK54Erxb4v8VwSZwqSgpREvoUal6Jo7FkVeEwnRjsJuEjJf7hUWFBwQskkiZSPhC69mljipLqT00m9LhRFPChUrmqXtLtpMSi6osO5FMSrwXC25ocUoUFLzFkLSJQwqkm69Ql1jdJZJOfo1sPIiKXBo1Fh759oe28+hWENzGCQ6JlIhiVQCWXTBIYDTWlPUqWItCmRsRXwt6Gz6vjYWVys3NssvFAj5REbdJVIttGXj2W19dkVTJMWXLYedyskSzKpCtAcWQIMsbwJBUET4CpigvivkypYqHAv0y2RqCV5nKi2RK6HiCrRXsjMOZKpRLIL2S88EVwowXmHFbFLReI6Y+cnNFp78qQu+cYrLJn7HQj6YHwYIGwKBU5TGAt4oietEYK8qGZyqs2o2F7FAhWl5YDscqs1qNgqOi1chERPuU+s9Igy-kd0CJ4oTiJpEqvmuH4A4hbVIE+1X0uHZnd5V9AbgPKONURTH83qhxQ0MrxwzV8N5WtswMCAFLxYCElMWguJKmttljIaBWeGq6CLyQqq+JXyu2UnTZFVIbVYoMQk4S9VeE3NYarYWJAA1MakkRaoIhWq8x2wLRD0odWa0ioLq5taMtImeqb8sk31bE39XkJTJZIm-iUPDXPsRBpk4INxK1FBqHO1C5VQrJX6TrAFyqzDiIKIksc51wg4QICrtVbq7V60GVdGrNWvQlV26xNVSAbh7q3VNDEpZBPXGbidx4AJiPepXGPqYJASr1Xav7UNNr1M6uVI7SCi49j0O6tJYAoTWFBj1jUUyWeviXmLHaUUNgOBo4B3rPF3ivxS+vJAlKMN-i60b2s0m-rbm-68JUBvjkYgLOJy8cuuyywotbcv+foRgt-wEjZCbwOjSiBPwojS0zGxKhWiWQzg2Nj0I-jvg1IFCQqbaRyuMTUbsbVyDG9BQFyyA8aI1CGWQtJseicbhKgiJTaFUExqaUQwm0-P0LE3MYagYgCFFPEuVya5lMAkTQoLY34BYpgm-TYyq5WMbUgkm3EE5tXJebAi7c5KiSMw72bYpgmHzXslC3o9zayKsxVYR836BwtKEd0ZypDW0x21hEkQDj0JWw9EaQW-3MEvZTSaHNSiPTdOxc0hq3NNG4rTxJSAybfN1IoxRkTpGpsGRPw35Y0tXCZbotqm6repsq0v4hJ9ymPBUSiaxMCtwW-jZ4m636a-hk26doNqLxJaPoYiVLXjysgdbiV2jQwCi0K3UtVJxAMzdTgLz9b0VFc+iYsrz4iS3aozGGYqCY1RaC+cRPbeZrpWPI1cnSxUHYsjH3Lb6fOIbefg+2Sjoxns92U2IYwJbi8-mxFdDFS0E8Mtd26HojVM0QodtmdJCVR1UGmC5l0hBAbu33aHtW2wtAcVRpcBz8jeJvb0o7lK2LbJwPtJ5WduxDGR3lV2v0AjBMD8AvomkHLDQEsy807u1-MISoo6jUwAmWwi2pWGlkvzhclA9IVQDGgWTvISNN2UNvBAk7d+PFKaVCX+3BqsRnshYoErYBlsFtgke6KlpV0L868sOizFoGe2I1TdZO8aGG0bA3B-eajDRniSBAABOE4GfBd26MvtKI73To00b3KWYxsbONwH9ydE7+FIvNU7VTnmCDALgBWIpMXqxAfdmjfQD9x+5WQ0AOeklU+Dj2pDU9gex5GyKhkNA09XaJ5Yyizj0SIEPOFwD5AgoVDiZwUdRr7vonV7NwCpJ3RNrb2aNBenQfBYQvZ0IJZVlOh5RXMN3G7nVhEvBZo2H0W6sCFyrnrtzn0EKYC54PLfTH36pBLl1QIqCeDIB1xEUSnVhd0VaCMgfeX8P3gHzcCpi807OugEVARpHAJlmagQrrlIDH6+W4zdSIiiqpEJOiFeiEN5B8g77QAsPRQc-plwRMq2K4YA81xRXHAtarxFiAODNXMDWBOqXdbEVaAx6R2u6mNdOs3Ubqg1MFGHmXvj0dQj9ddWfL-okj-7OY8IG6TEGAPghQD8uoiYIBwOiAOD3kfyCgYL1sQx15e4vSAb4MQGuefhUPB7D4P8HHVre13V9s+VPLXlV4Rnf4xRqIGzFjsjndIhUFfRWg-OgwGLv+ixMbMEWmIGtvpVGHqQc0CMQDscUMZnir9POZxCsJCBDAjkLOPvv4AJTz9l+w0dfuL636IlD+wQk-v4Av6393YqkJDBobWGYekaew-Yq+3OGyNTNBdPEe+4OR1q5sOaFxCoDkBZI0EQ2BD1xB76lBXO6nLYftYCw+tgusww0wsMKCPxD8i2PqMKPzxolVQxnepD0VBil15+H+foobkxAm5HQFuU6O1i9yqe7ymIFvNkz8qhjsQVWN7Jpl4EOYKOTow7CklbysIyxreO1JvwzGG+2y9o5gv5VvasqMx6420ftmSrrjV4baLcY-mrgv5GREY8nMkw77ntGe7UfoBfkAAdLAAuu+VTxMDMgYILZ1B0JMYmhuNCFnrSQ0HjANUX45cp+4AngToJ1deCaYAsCoTR3VMb5N4AngecPQLCKSdAAAAvQNqABBNFAGl+Jt6NCcaM9BaTCJvSEifBCf7j9mAk4KhAOiyFPD3hzcJibxOQnWTwzG7vuWKNWQWAOPZQDj2x6TAfuaYPAOibMXinVpzJwk7Z2lPK9CJOPBU++WVMU9uT-kIAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRKy2YFoIetDNZ9wYJwwhPDxbDxNmQluqQNCEBBNyBuD9e7SLYBA9BHQtD6FflfG+d9o6kMPoAtC24Zxu1On1f+P0xAkO9mQthplSDmUbqAGydkHLOWpL4ZO5B4ZeR8qowWNUIqv0EIQGREDkTcAsWEKiA4Zbz2oAoTe1BKyNVfhohwkwcYxCCko3EcSEk0GSW9BmGdwmCFIJYoC5Fnz-BiZPRQhB8DlCKbDaOyIMlQRiO+W+GRip+PUZosBYT0kGKAbEBGSNhCKwlgeegvCoF6U0d-I2WhSD-zaSM0ZRRIkbM2bETRMCZmd1EWkugkxKlxjxskVInDHYLx6Wwp+uMVSmNrOvegSMwR3LYKbVczQxwajDBRF8hozLBBOVZWy9knIuCCZQXwJAfHBNCTVHM0MYZ8yMQwEx6N-5z0MGQzJQUHIMEifoPF5DSjpEyHJZoWE+lfSqKsmcFiyXXzCGQnZipMXYoYv-BezLym4rZT7VhtMgnoLebNLeWjd773EYfHG0tUiUFILWMlysvpTxlV-QIgw9GiuMvQs8gt9Bap3pKqxscJF+lMhq019BJnms6GIq1h97ros4hKzBSCcGZ3xQqqCtTFYKE0Lib1+C-XtJXEFf5oZyRApqcKfQMsI4fC4UQ45asJiZOmEFelGiDxpuEcQXhWaqasICtUnNnT6BUkZUWk2LyJSgCgfm+tM5i2lpNuyitK4g03LOu2rhIsm1RtjEFIdasm1MUKAm6t-pgYCPDcg-Q8zYj8vTSI5OlrKA9r9jO1Fs60VBO5QrBwA8NT6A9rfIGlyT5UqyNepY-CH0rlpRuCEkJz2Lw7rUOE3BT0MG-XvX9gwbxPrOUcMiLbAnFJcIYbkjBGkp3DvXRmZccZBuXb6h+61Xi1oEFmxk2GCHcJLaInd5yF13pliW0NCCsErrLVAylGQ2BQLWCE8WerENYv4EXVOaHa0FqZZu8j3cy1UzXdMBDQg+MoZLqif+hMSOrt2VeDdnaKORsg-GqtHT12LqDgRkOAnUPp10d7FjwJQT2veMwZOZnFPlUMM7e2ZcHnsJPjXJzQnLOoKvApWzPm64WetrbdzuG13NAfQFY9cGBGMOYfK1hONGyDMZElpq+BwFlyYo2bsepiO8eQ75iz-9BlUcbMB9uGomZAkAzV0Dt5uR6io3mu1gzOUrHGdxqZlZDm8MK-6prdWbHuvFWvIRZGu0iwJQNRdhMB19TU1efNnCd63z3vfax0nFSiomwliVF7ZtZ1S1BRs6NGT5pO6IptAC3XkgveFl293buOdcxF-81iKa1jIUxIK6NDstIESFwTFnHHnaez+xgn3XuOzB+ZqOL3Iu7Z63axHznsqO31X7TlvadQxA9R5CVScFN+ch37HGz24f23u2TsryPaffatSufNDPQvI5xz91h+P91orwK-JmcgWZQDgIgZA6BubEl5pxGWcsFZ9LmhhhbNHUjpFtmQDDoAAA+OvjLy5Vcrh+MQ9cG9SHbe2-R-Pq11-rv0Bs2Pa9N-b50MtY16u9sDvmMtmBiAkJMoxjjKB9HuGtRVRnUhYRNwAMhj70fonvY4jnZKHv33u5fq6Nir8kSqw8B9PrZg+4Jr0BOJ+YZnWL3bZ5N6rhM20iLezFQl1uMPTtS0j-n2ohedzF-ezpfaQT+8o5Z7b18QUG9JiGIn-QjfY66cmgl4f3Pk-j8XZPu0c-1b8lgyD4z9nTOc-kd7Kiee-cF6D8Xjn4Oo5l6CdfpHsVmc58M3ejfWR38eZ3+XlwD+seMBXzH2WAnxnxvC3wXx-28x+jJlrhv2P1X2AM73P270v3lXBExz8zvwSwwLC2f1r0QLf1AKn0-1w2-yCRwK5zOnwNf3ryIM3yn1IIzw8hTQ+g-kvk2x0RfyySQPIH9xQKLzQJAXYOvllXoCwJByEK-kjk+hWUo1P0Ww0Cdi+yrzSCNm4BIKb0HwS0kMGS4KeS2joKyHAO-0gJlmmwzQkxPzXzVy70DwELmycXMK3QH3uiCQ2xEK2zlQQJoIMJGGMKYPMH32nmcFng8M4OoO4JsOQLsN73lT23BA3mlQ4O2zoHEL5jNREJ1VqD0KCkxUCBkEcTxC0JBwyPngtRyMXTyMqEcVJFcIS1KNIBJW+QqLvSqIKIPh0Gbz31SFUwiP0KuVsJ7xdSznBBIzSM4hUzwSY27Q71aNs1GKmJwXBG4DLTqJBxIzE2IRV1iAINoL8IYKbzWL5knRm0zRmPkMIJGFWOhjcNvg7VOO3UjQuITC3zCCOMz2DXo16POOsITEd0yEjXeOYNSFTXuIsOGKiV+MDH+KMIOJFgmACIGKSz0P6JPmiKGMcXBCS3GPqluEamRL6NyPmOxJWK9xuISyy10L6NRI0Pn0RJPiUWoDkS8KAJ8IGPRNQIcPBEZOZLEOKOOLgxlU8J228MiL2LAzhO3yBPMFJUJPX0MNn0lIgKCWJVJSIEhN2OhPVyd3VP5M4iHRZV1OeN8MGF1OlJcA3TVMIA1LZL-H0DNIF1kDg2F3kCUDF3Zkly5ksFl2BKYFVS+nhlvQTG8XEnZH9PpJfjg30CWRkL-m4C6wDVz0qPmNyBDUaREGaQLGWL2xjN-lWXjJyx6AJ1MLqTTKaVSRkCDK1MGKDxkCslTIaXLLgxxPMEWWkLzLWSrLRFBEEWqLrNACKPNPphaWy1y0rIjzmLTXyI0W4FqPJJB32WmXkCOW7nHLr0DDaJnN0C6L5iW2Bnp3eVES7Jsx3HBGW1rGWJUEPOTj1N9PPK+nRmPN914Iv2CwYisnvJbItP3PRklQ+W+kpgnPFMVLtEfJ3M9UcC+D3jan60G2OShwuReKn2LKCSHUhjJSp3XJcG2hQqO0gvwGMCajCR-nm0KCTLvSwkhn+2hkbBD0ajozhVguXKHkZFix9OuDxLeh-iUJdn9RxWPOjzcz1F6lrDePnOOJ-hHzWR-meDIsQpNI0RkqHMhibWkqNlkp2PkpcBvBpnpN6wzIOWYszSEr4s6H9RYHWHoswvIoTA4DahDx4vtiiVDLsrEActPGfRXh4A-Rfm4uZ1Mra3jMsv6weWaFcocv8vCAAB5gRxY3LVAALPK-RK57EwVwQAAVC2UAG4OgXwMpMQXgYhJsEJEEWoZocEUAAAahbV2Q+C6jaiFAgUiqqqcSshar2yKDqrmkasSsmHmTsQcQyqypkGIEcnysKoo2KpkWoDKqcXatqqNwapkCapMvCGqsvIquqo6sKC6qWogQ8pMJPQtmkhH3u2Z3m3JHFQllPgtmxAQumCCVk10RMt6htL9DzwfUcra22v0mzhuqIFW12WwSgpOkMtmXgr9k8wDmZxT22kip+piFmBnwOoRq8yepAv-FWptFArMsfFYj7STRgRTzos+MYrBpXNZL9FBU3HOqcVsjtnKFAFLyo1nX0ygUbEhkZDQu4t7XHUXXRpUv8sUvUu6zQhUpxWFsBhZsPRlrFMDBgX+ruv513z5hpyErOqEt6guqRDwsrEVowslnnUesQy+oCreudA+qd3hoIkrmuvRGxARuBoItBqXPBu7gNQImaBhtDLhtWu2tKHgm2g8t6ihqaGpBNqIixrtIOulqqQJoMCJtDJJoYtxHJqHjw2mGpq+ohToAZpECZqNkRX7xRW1DZtjA5p-i5sLRnHQt5vev5pNsFpMslr5FFqvHFt5RbrxqPR7ttIVvtoNtpkF2dOZjdLZgl05m5mwBLJ1XiUSUKQrPSWNPZJfP4J3FKXBDyXnuIC-J4C6nySSUaniRkXE24SXjaWXoT32LtDaVpkKn3u3szKU0ZCD3TCD3BDmEvNiDmFXCk2AXmI5C-piA5F-p2XfowiAe8oPFAbfvmKMUgaMRgf-tPJhMvJhOdD-oaHfu4kMBkXIF8EvJwbwbysVEwaKHfupqAeptjDIcKHfpuBDxJRYEMGWIYdUCYaZhWFodiHfsqsgdiH0Hhm4F8HCABAAD5QBvFqqSHuGYh37PJ+GYhBHhHRGJHvEfIZGwH5j-1phlHQARHAQ1HQBIR9GYhZGTywRwRgBFGDAhH9HVHJHQAwBNHYHTyABSGxvRgx8Rxxtx0x0Acx9+8SfhrxhxkMqUERrR08gAQklBCbse8aMdiaBEidccsais8YSbCdABipiFSeQfSYBEUdCcMccaiqBHsaicsbEcyZUdKe8QkbycCfmLEaKe4CKBKZ8YaYqfyawfmOiZscccKB8ZiGidiEDPTAKgIz3rnoKRSUFP8sBBXBuGxDmG4C3rmafsZimfsxmYPoXsFPwBYAACsTBd0lmVgVmTlSnwGH65nLzP9b7zGigNnD6tna00xIppnXnCkyd6sLGtx5iPdLyPdnn1MeH5jIA6BvRN4CH2moWYW4UwXwWAXwQ2GGBYBIAgH0XMXkXwX6GqB2GABRSB9FolvF9Td+gAOXICpZsZpapdDqAR2apB+cagZ0WYBGWcUOFB8e2krPWbubeb+ZZYEDZYtQcxnBxQuemCud5YkceYvD2cfpFZOEgJyVnv2fmZaXBXyqGOPI1dejVFIGUROmOfIGrAQy6k0EBtXHFePo4CHlLnWT2wsX1aOCKHi3WPjEICYrdrBGPP0sdVdopttb9GkW42jKFYOZHP8u4FRuVc2Y5axukwjeRnFc0SOdOdMH9QTfFYZ34rbsKGTpDTJpDfTvdVotDzEC+Asu3nLdEWIx9b9dDc+eHpaRdNF3Ho5kwAwHYt-3eQoFMAYCwQ+HKhuFIBoRrifO1M103E-2nb6v4U-xvEXbWqcQYE2u1nqrEB6oXegJIkfmaH3dRg4DIPqMUBuAQSWS0E9x3fNtRPIGUGUEKoyBNSMAiWfYcaZmqv0CfeUBT3BAqtKCA68w2pav-YpedCA9JPvdvPMBvkoDhS9h3YiUFTQ-mkQ6RciGghssDF2rEBavBAhBatTKveMBveyKubdaw56EiQyXWusHBCHNo6YDIAUD-fKRnbSCdwsUfhA4fV0gDhTVsz49ADj2UmTW1IBJvD4-CD1yvolLtDk9AGSacWKHhBXFKGnxGDE9DPBA08NSvOTiHZnFHdignZoT4+MmaCk5JRKqZNLjE4k9XANmz32TCJSM47WiXa8uI63dY5WQ4+2lJTk-XfmQqq3crxMWvROQLCFM4JU62tXEi5asC-Y506U6yFC647OSqoi6Y5s73skGQ8klBEvIsUFZK9xCC985UhPiwms-4Vo4hAgYA1sxC64+xuy9y6q6Q5q-Y6PZPgI+8-46cQAHIt2LEiPJu31t3urlrRuWP4hGKsFSAIE1uDGsL70ndPo53Mv9BNuoPVx36hBhANrggNqHIdIrILRiwNrVUOB4Q6uK5iv+uDujvuvDvax1ufZ0vSBBI5uWvtpPu7TQfWOjv6TzXLXlBrWpWGIdUPAttWVCBuOeTS454xvTuHPeTUjqZBTkil5Mei3Ygrnof1hYfqBNAm1EecE3AMOhVUeXvj43PPZMetPUWNOVj1aYvs9Mehu556TNvrZPF4ZafkfMfMMk1W4ceMfr4x0KRpnNFvaaqZMefq9PYPPtEvP+eD176ke3Bu9Il4pFDhfXNRfxf6f8rGfu7UTlehLAOIGOesJtp54DfjBJl6P1CFS3e6ePeSVBUzk5v7evtAP4Hnf5A-ejfBVg+FmHf9PyerWqf4e+ohP45KK4+vsSeYgyeLWKe4eaffetsGeUeg+Vh30Dw4un9Na973fo+KlK1Ix9Qg1Yv+ec0iTTyuf3FlDee2f5eqM50DM81r44sVbOI4USBS+gLqy6V5eOecK5-y+WhUrNw54c6oU3FCfzAJ+d74OB3k5tNJftvYkP12f+Ebwz+A4s61+6aXFoUWhPOPI3gPkWHwKPI7vtJypKB8AmpGoBgKhBgR-PDtpXhRfRJe+nD-jpCHL-8SUhvT-tlF0JACtKinOzC-1L5v9Ai+cH6FP2P7KpV6MRMEDfwM5l5TCB+ZON1HUQ38qK0oPOpMk6gMB1AIgDgKQHWj34iAKieXvOiDSdR0B86fDLs2eiZZiYL0RgLXWvjUwlKUCIKIINDIe49spQBwLQNOiNFGBwgZgSjwkHqU9szQXIIQAgTPR7sz0W3lUib6JoDAJ-Svm3wMzCRF0WEXQRAgX5M9uA9gjGugNjqgBB+UgxdILxXBsRgBV5PQaX3pJ1V+gCgeziQAzIVAI4vgbIoYDZBRD8G3eQwKSGn4DFPqcQsbgkJiGTJkhTwIHh+jhpFFs+Bgb9iqlCHhC+sWQ2IWUI+gIQjARQhNrsiqE5DSQe-QOAfxNb9BCkzQ+odwGaGywUhuAnjgCQyEc9+huQobi7xnwZDihTwUptUBWQcALWsBaIdkXGHEgngxQ50HMJ8YhDahREIoodQSx7CwhMgCODrB5YOAVix5M4VQCRhcJAgH0FDuULlZXDqQ57BcucPuEnDnhH0bjukJqGA8X0bGObgsLIBLDuhkYRIYMCgRw1ARFLHYRI1uFIdxYDw0Ib8LCGN5HhgkI4SDl4grJGADDfiLxD6FUBNB2MbbpzX04yAkwtQCqhz3BA0i9gdIubogk6DRkyRXEKgOEA56c0icS-GWDwN4g8j+EQbBgEKAtSghjkJIrkVnBpigio8H6YUeJ3jwWDNwF8H5PJG8ooikgDAIkQlRvDCithKwG8BqOO7Oh8RZAQkaFASqu9uRxo3ZNtDNEOjNkNMIboyNpHndghc0DgN-1hyAjBGAlD9HY0RFM02MGA3-H0CYQkpGAkApeHGPoDcBheMo4XjTDSzTN9RvZGkN8kZCWjdR+o77mQFySciExdAeNiizQipjJByAzMV8nSjqQmRHAc7hz1fRL9oKNbSQNlB+G1juk3yCMWUEIotQEYHIymnLQGIjc7RUpL1nzDShoinh3QNkN0EGHkhGw-zNKDiEXF+A5yyA+rGBGDDjhfqD6NGvSSHFi8iQbsEcetEbDdBGQk49rJ3h4HdBwgIHDTl5m6DupfRoAdKgAAkiWDAAAILgBwARLAAErpVIAAAeSpbIAgQbFSAiNT4jsNSx-8PMWWMxjqVUhA4o+jKHhgjiCRY3WcaeKN5wClMeEq0UN1nGdB+4JExmEOUomZBYBWkUiceR-F-jAJwEsCZBOgl0TJA4onCcRKYnoZUJx5WcT8NPEMBzxBRYSbdxon0BPIJwkgahRaiMTiwQku4VaPJH9R-BJwt6OcKuZroNRhVQxh1TUAmAvAMYlSfAOjiGTLI2ogkZpOO4IS1Alk0iahIcm0xPxj3dlumRWSMgAADGqxVKjVBEGQP-rL1ijUBBgV0UKW8gcC+SgQXk2KR0Jap4gAci6RKbkDilkAhyhMGoI5GUEwFSYf0RKejwimQR-BWEYgesw-QlTwp5USKV9zXb0lAg16AqeKFSDVBsgoUq8dM1qnTVce4os0EzWCl9TZEyOSKclEuoJYyhjURyJ0BoRIDc0D47AZL2sy5TgpNcDQXEBimlT6pqYDjA11P6L9kqUDTcDNIYBzS2ANCRwReB+rnTLpNCC-v308ymQR+8afwfdPmldSz29JCoBENCBYpo4N-GuA5JxiwpAgs0r6VpJWDcCVpCvN3ITXaDsiQZLQeGauGujhkoEnggiOliEEXQRBXFPng5IPQW1F0LAFPHIM2SlAaRUYBGs0E+lXTzoq0QwcYPxrQRsZ9dGwnShFFoRSgDM66TPgfB24wyxASGYzIv7M8bU-0MysQBJkeD3pyA-mUEOnGepEYfWCUQ0kXh-AipaMToKDIuzTMZBoAAwa9HQoozdK5IAcIILU6gt50MaOgI1T1E2imZJ0R2EYPLEViYgp4YmarxMGURYZm4U8O0nUx4BIQYclcOlmEF4zmZps7it7PQmAw5Z0gqOTbPAjjhrMDgR2QWJBmNDYgBgt2cIKkzQRi5eYGSgdKDY6zyY8ci2azVMGBwk0f07jKkAzjxzzZMlWSqHPDkrAgoHo5kV6L0x1zrBqJCuSjOrnVjUUY-DyJnOWpOzEJ0ZPcL+DTGUjK61Iz0Wn1e69ymx684+GyKyCEAF5Y3SGAqOUHzyeZ8cMURrIIp7xtZ+89ZovLLkCisBmEFIRzwvkKxNZ18x4IQF-C3yE5dYJxmADDmQhj5WEfeeEDjyHTK+38sbtPNxAFjDRDQ9TIaNJAujYgsC2efxFd6ILPZ0wV3igtznOg3Rc3TeXSJPHXJQpXscEtxw5ICFwSH5UKbvTeDhxeAXnLyceU-xsK2hiU3QmwswkwlXBtEbqZLMRqotOgc03wMqn9Kacl+K7KfJwv7EatL4Xk76RjGTHqSkgSYn7riCXkrjpm4ca3CFIZAJTxYRsNqX8A6nRw2F+WaZugrrGMh5k6CgsWop1FliCFTCs8F530VyY2FqCooFWPUppS70ti3sfWIkiNiWRwI6lEv3pQjstFKi0chAi8WMAfFe2dsb6K7EBjgl2YqcRFE-GsSGAIE6yAABkiWMEsMZkECkJYnJ7DLyShPUVoSdFyAlhdhIqC4ThJHPQifxMmS1KyJSQCibxKomGLb4k0xfCDnokLgelLE38QUuKWlKeJM4Iid0tCl1KXFx5HSWmxhFXhRJAY8SZJN6WnJfFhQM8qFPkmAj4Q2fbZdiIhBd9jlHAU5diOe70kNWPStyX-LWWAjdJVAfSRplCmlMOqiioZSouqkuKHJ2fapUMpWX2S3l-YveCGkLibdCx63KQiCr-lzjBImEnSciO+UPUV5EjKBOsq4yRCoR2QsNn6G9Ce9ZJ7wRFcWJRU0wthoY55csupXIqoVbozlILXhF6UNUsSosdSs0loqepuzVoMiEZDrid+1Kn2OCBiWbcS6Y40AMKocAUy05GoDnrCpPo8r1ufK1FScKG4Kro4z-bTKDw5XYj+xMsU8UtGVFDCJxM+YUfJx1xQF52Nq7kTCu-6BAXJ9UxgKeL-aUr1oQac1drNLFoz+BVIG8UCF2XlgLxgauWY2Bfb2I7spYtFTKyASXL0R3QGSYJLkkKT3BRUHEOmtUmZqzlRbRrpSu4ChjY1LU5lJSoFUD8y6E8yAh8GCCNREpr0L1bwoNm7NUJjIdxSwqXhWLLZ0vCxa0otX1Kg1sQa8X4EZDhrcQF44SdGr0WJAK1QyxNVy02Qpr5x2wRwicqzVyyc1aazdXcoUlFqapoU0tQ43LV3ZEpOqmtYPPemTyZSwgJZYXGCDuqM4gavheQseBvqOeMA5RYGrm4wDSx3qjNacmgEPqX10cN9VBAbVuqE1LanCUBvzUgbdFuze2BSuA3-N8l7E0CeBKgngAmImGoCdhq4llLi1wG09aU1Q3gaxKyA8EBiGY7iVOIP6ihW2vJDQam1MUuDa0pUVVZpmlG2pYyHyWFKSleG8kIJtmUkbj15MUMXxuWX3i70tGrwPRrvUDEU6kqY5lGXJTvrhhWQclMpWrpqbHoKPB9iARGC6aGNHkDdG8HU0ohGexmxdE9OtJtDaMpbXEDg2s0FgjN-wp3GZtGXHF9NbmwzZpu26OCxKvmziBugC02bPNmEhzaFsgI1AxAgsSZAiqC3+CQt-YqzfgE6lWbHo-qY1aEO46qactOrYrTm0PmSUThc3TLZ1Ms30B3Nu6OzPVvZTbVpVcSodKVrBAdbmt0GXZPlr+G0wc13JEQBtVa1FjLy1WpDZATc1ZbrJKQJrfyp1VabVNkWjzStt3RjdWxwnDoRCJWHQjSV6OGsILA1VhJ-Nc2wzWtvZTar4RKEBoKGOm01a7iRcM7VFou1FzXRFW+EftEG2XcrIo29boQzm0zbPmQUxLeom2RXaTVGKj5VisUJroqRYjLAD1sFDScdN3KhFQlqS3HbvOzWnBTtR9Gdj-RVyt0bYCR2PI0lBOtFV3UR2wQYsbGG7UUD62CR7og267iNrR1aLLyGOrQMDqOzwwTA-AMAZwO275ob+JNGtkc1ngNsbyUPPPkn2p6OxwdjO30EFExV6TYdZK3FcZARj871EmkSVhQK+io1OuFSTSb4o6jUxVGjQrOpWA9k4LnEG-FwLxDGikBEUm1anT1vBCJ9Ke8uhiM9weQB18dfoynfKKlkPo26Su5nfwAhBe6C+6MNnYdq0DHbLyMe5PqOjVaNgbgYvIhtEMZAABOE4EEmz34NKdD7QvTxGiForxRKyL2NwFORcCB12mr2KOr9nN8k0LgUMn5IzoNAi9ECcbuNyshoBB9sq1iLWudA96DuHwVmYUB72V7N4WuHSY3h9guAfIg5XwQrNiAz6dJc+mmtwEz1PbcG0QhRWwHEWSK1UtWRtQtvhGYTGdkeyxmIvwan6d6v29nWNoiTH6H9fpc8JUrxGR8tsWO6oEVBPBkA7Ye8bDu2qpCtBGQZvDxMwDF5F83AHI1ZF9AAP8AiORwR5f2oMDJJSAIB2Fqp3Uh7w7KA+edOPvBDeQfI8BpmJt3aFFQYg5B-yL7KKDj6IecS1oMcA8H6YWIA4BNd-1-4koH12RNg13sEBgbEpz6wDQBqrW6EhDcsgcNgdwNwp8DEkQg6InhB8CN95e-BhCHIPeQmQiGkQwAJ8Q6GGDg-NiKPqYOaGIEZBnQz5GoN1imYNh7yMPun2WHKd+Kj5divbqa7NkLB3lbnL10hwDdh3U3VgYt2lNJY5ovuGokagIrWgKxQPRkquUPozkA-FWR5ANLvBHIWuFA6OOM4QGoDWikXrAct51KkDyaOgLQfWroG8aFdI2P8z+0bd4jbUdJYTvRHJG5NfxFHS3SSobyHI2VG0XNFlHkBZI0EWlCt1xAIqAj5Ak1HEZQGQxLt5u-6A4wiN6U1ZGZCUZSClHdwUZGo-WchqpBGyTZoguOQewhjjy5VMgvceqFqCvy1jgwHY5yJD0BxUJGChKvnLOjuzZRxMtFJQax3jdIB+gHBQAB0sAv6wlZMl4MyBggHHMPfoxUYZI0I-epxPIYIq78TgvxhFf8ZImAnPZIJsE-9KYA-8oTAPDkZX14AngfYPQLCOSdAAAAvJVqABBNbJwThJt6NCcWM9B6TCJvSEifQLAHUTNUVCAdH01CBDAWRzcP8ZZOQn2TCTdrqeWGNWQWAG1ZQBtXO6TBxuaYPABibiWSmCT0pkk7KdEUbUlT9ZVU8915P+QgAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMa4LGNDsRAiLgKpzGRiE1rWyI7FUMEwT40b0FhB4xJULAwUh6ybJY1jrkJugAGTaaAur6uRGTpOkoCkApEkif+dbiuwTAcUSs5lmK1gSVJQgyaQcmgIuhB2YuF69NZyK0BI6H0RwlCgX5bD2Vpqylmp+m3IeWmBX+-QATsLC0LQ5AwYQsXDA5SQoeJSnuRwnneYuOV5QVRWkAFNbBTQdX5YV-CkL4YW0TaRmOap5YGTIh4jalmKIeeLWZXW7UNV1HAQfgcWTUhKHjdUo1bWl6WiepObUPQLDDMUxDiAwu6MfFg1la5FXSVYXlCcoi6uveVSnSI53tldzUcq1oDvcdX1MD9l2TqF4X9dht3OTQm1QjcerbUju3pYDwOfd130XVdS0sJBq0DaV8PJSjh4TeRdr7ah-YntmuO-QGJVOUl5WSY9skvT59ODhqYN4wG-1BbNyJ86eZ1C-GUN9azyFk4jDhK0x00A2LNAS4zgvM-Gy3E7DpNJSrVNTXtgM7OI6ECCwYEAB7cMwuWDPLQ0uYpnMeU9NVW12Nv247TDO9QIu077-thJdsUerQrsoUyci9RFUU2HZygq7tM2InW4e27RAgSHHispVtptq-CFvWHONIUkwjVF+z92e1V3s84u1fHSMjWh4D1dMA7Tt5dQDfDSXaNrebGuoe9AjkAGhMB4PLs3Ub5Yc5V1U89RgRvdQs-z6Ii9B0PhA91PM+LxwgeGYbbPlp5YZMLg3lOFnd5A3vl-AyPWwP8wz88x0G-ACF9+6Oy4KIZ6a0EoKySn-J+3kADMk9s5iSAkwAAjitEgBt1pk3XlzKBCFXrASwfwYgTAz6oJoI2aYpDsEUKwgSGBbsaDVUXPQ8hlD8STQJMAusnCcE1y7l1WON1jCry2BnCe-DuQRHoMIuuXUmF4ONrcISfD1bUPWAozuSjhhiN4ao8sptNGi20TsOu3BSASF8JghhBtmFw0brsSUGiMZT0tjlbqej67uJYXdVxDhTE01pjsHslBiANldqw1CblCE1QiVEqh79aEcCSdEled9f7e0XBk1cORyKyJoBk9JlAC4xI2mPGGoTK5bh3CzLJsC15Nw3q3Sar0xwxj+h47RrUj7B2utA5xo8KY7RkVo9+7YYKGJJtkhG1TUY1JpoDQglAuAMBmTISg3AnGSIOvKbZuzenv34gwBR0yjl7PmeTWQOyzG0ydt1aZsd7nGK2IeN5VlPHWH7DIMBKlAnxK9rJMBr0VwoPfswGK0wtZBwTIxEcKksYVlHFGbpk5ExehbGGCMXSJzxkTP4EsxhAa5GmMGQm0SAUsMCIEv5NLt4eDSTiuF-yHbDjxeigle5EwykaMqDS4RIgAqZaEYVo1mAUqpcjWQALDRAlcOSjglLRDRMPPK-lDQQhgJJUYXoiUTFSpVTKpFIlrw7NGPjKop41z4EdCdAQoApKkCvGAXAT4XzECiDwD0oBEGgDkGDACiC0ChuQRlbRdVIkyCbBIYcYNKAMAENcm5bFJTMFdMmgk1EPC8SfgJAQ1EdVYMJrGpg8bbmyo3Im7N55t6gA8CNTNSaU1au1aAaNxBy2VsPC2utkKAJpJtb2ZFR1HSiEiQvEdTAvTsIAFQzvnf9VwgNJ2UAbPgZkcaOBKFADulYg1AgotoPgLsM6vRdp7bug8W1J2xkPjO9k9RyC4EDae89-NjKmXzfxIM05aX1BQr+wterAjdFAGIYCgGUgov7U60yV6D23rRmep9F5ASvsDfB79oAQP-pUoCYDggC3-rA-UCDUHZ1HqI2TPttbpzkZSAa5jawWNGAtveUYXkd17uQ6AfWhHjAnrQ1+xDuUY28ZQw4e907+bPpSFhuQonTy4fw9IITyRgLdUPLJx9-M6iKuSOuaqUnxXXH44JhVRn6i6anfp08asKOQdENBmjsHx3rCzQhztEnu38dSip8YCnuJvprd5tTJG-0aZgwASHqNpxSqHP22qwPFmzxmJXrks4TFa1mMsNECyl4L7J0v6pc25htxhEv0e88oQTTHkjsfA2xtYgNZ60DCKQb1Mg2CadiS+EyplFzrs3dwRcVXG2gFG1uybIRBsmR8iqYCDAmqTaMB4Zb3H1tKkgwwJ8kQ2CvQAKqEAbGs4MNBLUQzrAAWlu2ZfmK7jDNZQh1rr3qRIouu9asT9YWBNkUqeYlWAUUuq9D9ycM6ZAjbomN-6KLuD2oh3wG7e5oeLi26t-6tM0ldhVLPWCR4By2oE7ls8tKULrjhfV8nJyAL48ECRAmJPeyM8J8pSnxcUbs5IvTusvPYIEyJjIQXnOj0oUPGL-nyIxcIo4B6uyxOGZMGUIr2KgKyZXpp4+OyMuaD9ypLIHX+s1dRwpxLsm648cE5IsrgzZOiYJF1xr752iRCFBTZFRiYKyes9Vy7i3bWp7KtVdS-rSmdgMphDB5ISn7Flp12efrQG6PhiYI18DFXqPrZRV2L0cuVQK-N-8s3evM+p6SvnobeGouFp28YDwuBCbAQb0YEIoeZVy-1qLkLDReixco65nPtGXHrgp+tjwne1XVuT5RHCZljVh6Wf8mE62QjN+H5n5rr209MGlTPgFbv36G-4EIV9V9KDO2BybwmZeNe0rz7b2CBfn8wXl+r+yOvP8YeMEpsXoAAAhItupgBu5s0lsEQK+rYliN1lEKLm-sLitAgUzrBM7m3g0BBPfmeB0KAGxtntsGFlHu2EeKIDHnoAVq4NePOjQYqE-qgTBK-gwR-iXlgYHr-skChAAcAT+nXv+mKlAbgDARSD1jThgckN3uTigRzvcLFnIRxubu2ikDqnbEbvbqTmwT-mBkPtBkph7mftYMPGwd-ooYSKANQbQZXuWIuM3lCNIIuNoQQeAbEqfoIOoUOI7tgRwaAL0BXFPIIcIXATINwHutwJoF4VzklJ-rhjYdUPYYqB4LEXYQIBNvUCWlBA4CEWuDoAkYHoqIKizsEU4HgfUB4K4efqBNwFfnlMDlkaEOEewfkXTCQWEboLkeUQmJUdUeQLUQ0XUT-kYBYfOk0TsOuCETpHpKMVljkaUbXtAYyCIfAYeOMYZpQY9kjK0asZQQEQsUESNCseIUCPsToFsWsY0D-koe3j5LYeMCkcfgBHlLBA6HuGCBaHbJrklOuHbMoMaKAPKIOjZFXM6GULXI1B8S0h7G0tzFUCIsMK9COCkiAtQOdPgCfBuM6OCVIoskivrqimUhUkipERCYcpTFtDiZcVNuwoTJShIK5OngFE0SbGSRibUlPGOLYrbCOOiR4WQgwLYl1h6HiKALybYgMUeiiudKwNSCOJmPwHZCzirtYCqNyTgWsCijsU7HYI6KZA2jsbAT1iKVfBSIKacWse9CiWiZKSdLisFqaZQYaVoSKGTBqUHFqTETcfEbMfKE0eBLlrXBwCKSqfiYXFadKRiXaQ0I8TBM8dSK8ewDIC6aepAqydoqidMATv3MERSJiQdMRETvsdmQCciC6uaPGXGnxhWoemqZ5g+KZC6j2hWRIEAk6UlLWSAXwdIFNvKLtrQPcTZCRnbBwDulFFmbfMJp5nGl6AWcJC2RCX8nGroIkSuLtnGiJA6KAAACoAASAAohwAAErHYAAyO5yApk8ofogMuAGw3qNpQco5Jp7BRJkBwECKIgdsD5owhAFJHgJZGZdsPgI4scApX5FJIQJZhMh8QFIO5i78EF9gd5scOZm5u5B5x5p5xSzqGwb5-cgFzowFxpoFz5NAcZ+QvAZ+MgVWJZpFMg-5Q5FakUz8IFFg+Wax7czot2pFAUEZyQ1FtIMOK48JHFXFoS14rUD4Hqz4r4cAiAyA6A348gkaJ+y0tc3k-AEw7yuZIEYEKlFAROWkBEHghSrqAqqEMKTEhl02cOW6PU0MSBcUSch8Kc5lWkyg6lFJVxOwWMJ0OMOsaOQy5Ellvph83loM4MV0alhAGlBEBRcKUsusw8BljQZREECp-M8V-lkV0Vpl2UzsC0xUSVDQKVC880nUBVHSkGUVHlu2Xle8c8gwC8YCS8iVa0QVqVM89V1AjVA8x8y8FV7lMVqEucAyaJhVsxaSrUMgw1kcdkMcTEPFGWw1+chcrlhxrgA1OV6CZCOCFlyVkGqVgijCh1dCMJ+ipAsyiEblVVg14S96mSrVe1wV6Sd1WV1VBRHcp1fiD1RV+1C8H1oJyiPMG1Ha2U3KEVY1sonaUYhcwVUEIwLI1CI1fV5EV1GlC19QD8Kc+sscLy81lVGlb1e2B2NUp252lAl2dAEgwwLAdsoA92v1kEtcoctM7JCNygLySEkeGkHYbA9Vnwk1uI5B5wKE7JV8PNfN0wAtrInamymiL2BBXNh0bAVRvECuGsCNQtyQcGrpkCXosNql-Sy1Gt6NiqHR6lEQ1A9ca1yQ-SM10cowscgtJtGWLyztNm-S5tT4ZVXkgtfeEBB01cPempyZDaHggd5Oh0rwxUwdiEDaIQoBeqOhI+gQowxNuIJ2Z2F2ZIIeEgfAdND27Jz2Phl4a6T0jF9lscYCtAqNhGKEayGyWyVdHlcoew2olwEq+t8NZyFymy7KxyNdbtRgmNoE2NNaPdjdDsBINdRZBu7VdVB8SNLVxC+NyF4k6e-yul9koCA8Ytgka009uaDNcNW9n8TVkdF1zuwNHandJ9RQZ9hMRCl1K9fZyIT1x1TCNdtKitViNidi21R1Ri-WxGfEoG+BVGhBgaXiuin1gNgDsedKZMN9OI8iPiMD5VCEU97ljh4DzhKK3dqDCE9lXo28SD+DiiX1GDCQWDioit4dIuZDQk9lmtTQKEDDk09l2+Th28KEb99iXClFNmTy5DoiKiig1DFGrWfh2iw9HARApVcwMKqa-tZl7EijP5fxrdaR5mS486cjeV-6y6ygMjej9U-6K+ajsIZWeBUj78tAsY1Ibovl4VAYF9X9RBW1Diqs8DJ6vCXox1wjBiTEmegSP9ti797iYq3pgIIQBQFFdj1pjjGVV0jtKDATj9BIrFRm8TDj9qSTLjvWAOdCfDO11tLDQcqDANgT7iTm8tODiogSoVTj0sS9sdgIHg1UjTeTMsjlqs28sVx46VTMmVENe11UcVQz+Mss9EvTiqIQF5kjSlAET1GSr1j+nmy1Bed1wZQT1ZH0VlD6tZdA9jkUuTEz+Ty13h6pfk+j0ghzxj1zpjcwemctNySDy1g9kGqhZ+YEUVFt3tU19m1dte8jKa09L9s9f18MaTqzluSUaSdDyBk2SDfcPVgy811t7lM9DNXA+jFDpAn94pnm+setm9MgpVjU9leN4jxgpVtlfUlL5Li0UzNStORMNdYGKE+s4L2L4zfl4N-VVVtKtLzLlLvLzj3T0M6L9QSDYrzT1IPerlK9EZ1DEGRgtMT1nTZzyN+LK9Qr+jdLEUPemrfLkMPTq10rpLxr4re4Cr+9SrioKrOAYlGsElnq0l74clX4YaizgJlQ697xxFoAtNNejAK03LE16tdtGwDtyg7zursL98uSroytboRQrUq462UbMcsb5SlajrdSybKtab6tuAq9rSCSuAr0hbqbQg6buJttv09t5yOIyF8Cz8lbRY9bGs2zpbgbbbOIygzZsFAEHtvzXt9cvbCbOSCi-8A7-qWL8LULRr1AVIY5yj7CCL3CH8UdM5w7vrm7pBeWgbBCIKXkpuPkm7iJdYm7kdq7h7QehqWJYySMVm3L5Ck6UZPzEwfz9c7lgbGqVVmFZDn+-ygrU7CyKM+bU877V+0wXYhcn+BLrgs5Ww64iHz9HIKK5k0woTX7P7XU2Kewl5U8E1JezLQL2NyFmkjlFH5ODyV55uBrrmOIih+gyHj7EHsgjpe73IjHo9Yp7HNyh43HPrr9Xzd9Y7ltgNNHrLQLXYOUOHYHKHbC-AME5kic0MzCNe4wsE6nEEOaTQHg1uhTxeSu5Hsnzu8nr5V9WjOnan8B5HugAAPNNqp3py3tVY3kTUmjDhuXRP9oQBIDLTBPgI1A+KeuitICEIuAWCUWsXmTBNARp31MwoWAUjF4WOIQl0l-p2vkCDqvtj54uH55QDeCGMF6F6InQFutuOQFFz5LF1l4wCREl457F+l412cdl0IaQRk9yzNtwEx5S8ywS8HtoupVVHRMyH+84YDNk8l-RLR65inmmtYIco523mUVFZNzsgI2cZVedFfszp7VJ8VJi23iEMy7hiNBt2cU2rcLl+IZd-Yyvo59Jr137S9jQ2Fupbhth2BMrb-Sd97St0YKnT5yNz5KdrRLxH8f5N4a4EnfA64Hg+bl6MByXtS40ChPN5-kx47YoR8-UHj-x6Ydvq1hx-jTt9N4ByXWyfqyKwq45ay6N6utB9t+ujTxpfA3Ny9+Z47kow0IEutzR554EFtxMNT3twVjB5+8D7+1VWL8EJTdDNd+oqLw3h4IliNPp6y0r4EM9ydK96L+97lwj-Ld94Gr9yGwpLh-L11KD955EJD4uNDzW3D7FPnb5qY93Ob+VnU4CKj3ZOj6kyB1j0L2TLj4x+Ryx3rkTykCT3R7Hxrn78XYj8p1T5z6Bxpeau6i64+FJVADJR+PJRgKJwdI7OQLzRQPzSW0QJpXEg9Ke2zT5JX9X+QFMFe8iG3xLQmMreMI1BFYLQEtzrIMJ-X3tIjuLTX5Lfn6ZNVA8OwgZAUsYAZECJk+wtaCv0YNaOv3aewguNv9o3v4v7kp5Ef55CfykOwumqIAUrf40Bv7ku9moAUi-5II--v7kuDwwNvz-4CE-1kiLhYCUQLgF2FoCrgQBYAh8PUEAFeRFw+YI-sYBkDfFQAEgEENkFpqFgguoAOATDluxIDUgqA9ARkEwF000BRgPAYuEMYpAUBygEgc8FprzoKBuAr-kAOACEDA0xAjAUG3MIsCqBAAUk4F0C0BPA2mgIP4FsD4BQ2JASIIYFkCa86AqQTDh4KyDuBpA3gTwVEHKDFwTnYQeoMYGgAXORgJQafyAFOd0ghAuQWIKMGmRtBZg+AZkH0H0CbB2QEwVQMyCWDlAgQawRoNpqeD3BOgwApwN4GuBngRgQAsYHeIPALwU-Kvr336TkcMgioBOAZDXDT8O+s-ahJojiHt9a+iNSgF2AABWwaWsikOxC4gNBB-DIZ33TiLJfamTQID3xn5q1shF4UHJ5maGZDz62MO5t7HYSgECkoBRoft2MDsJIAhAP9HPAkAr8JhUwmxCMNGHTZckUA2AJAG36rDIAiw0YewigE7kj+ew7Yft3YQAA5FgCcM4FnCTh+vArLEM6E1CXQ46Hyvj2SH1AE4b6Z4CNFLbpD4hLQxpjkPuG-DuhnTbGq8JSDvCNBKsUts7i6GfB-h7QwGKLVhFZC7wLfaZC3HoDIVRaRefNGMAkDM4ihHwHKMQA7DWJpeQIZEX323BnUh+9fD5uiM8idBAgdPbRNphsr29ioyFM2pJ3+aTZYmbhSkYkJk5xc1ilIzpm9z5HkUBRDw1oXeEijFDShygQ4mKKeGnRKOg9f7nbx5Fgkvsnmf7tGUKGNVtRBHUyGyMG4civI7Q51tkIL4vgi+HrT8JgHL7btGALAMgAGRWj0B4wWIBgNEjhRls0IGESICrH9F5dIaTJF9gM0cwx40uHADLiiBa49cQxUYkrGBSrSHhQxmFZNliDsQzURg+oDsLBEF4i1iAxAULnYFUpyB2apYngQ+ELBktSxMRGLokRi7RdXosXN0cQCOGNBFwBSBLvRyniBxKQK1ZrrBHZqy1xx7+IcQsP0CxYM+CXdrjDli7ZjbYwEPMXMATjojpxlaDmroDS7aAHCkyACNuMqCjA6Q0yAMYcgvG5FfIewVIsoSGrewLxoAXSARFoprd2Ih4C8cxAXwqxvxQBRbMuAZKzFq0z4mvEBMPrvRXR7oshF6L3A+jok14poCEHfH1IMULsZ8a+KBC2RYoCNOUU1V6rDxvxnnRIkuMLAniPQdIEaLjWImddAQMXeMSK2cpK4PaqLNEv+My5AgGJsXCiWeOrRfjZaZLTZOeD3ENoAo94jtNuJhzn9Jx6QjYL-UolhjkgBRdcEhMhpSTFwh-Ixt7GonCT3u34uScONPEMA+sIxICKOLghqTkgiRAAOTxjpk7XOyU0W66FwLxmFE8YGRFKXj2IsUdCJhBGheT4+GNXJI6nS5Jp0uayJqJ0lyjcZ0uCJetLMSkkBSVofJZ3IeECmhBTACks8WmKSm3AMp6UlKUoMynyTbEXk7loSLbB2NSR3UfWGLUiTHw+6AY-FBFVFSzEqSYNYWGrm7YES0WAKQegnEqnEiap9leqRQlyiTjK6DsBKQ+Jwn2Q2pkNdhIJRV70tmJuE+VD6QdjctDSoUamoOUdgNTcoTUtxpA2sAtSWY8qGDHg27ZXcdSCWRyuXXMqsTA4fU6aebyn6HTgIQgF5F6ATg7SqaVQfaU+HGlAtca8qJjKwxumOUYih-XIuuH2LAzj4PgDmnUOfaZFEZMU76bLRmnKSbwUM1XuBPP5wyMZX0hurQCaJCiCZgEoadVPIDWJ7KEk8XtozwmmtoYA07EDTJJF0zapEdA6SDMmlNSlJBvZmZTL6jpDPpyM7Gdg2HwQNUJ5lS6e5hQhLS+xD0tafNLenSzKsnBRBltIWa0wbEfAY6eB1Qjj5ppuREaAtNxk-8+6GdMmhTV6knwzIudShLiSgkiMaUxsqYtcEtlMyNUZsrRtbN9yu9M65NA3GxLrBuyDEzNRETFNWzxhSA6yDCFwAEAiA5U00-9s7OOngS6osUzCnqG+mxzJwRtD2RnxGiRzzqgs7lstmxidh4avudDkQBh5FB+wHAH1IIHGAMAVImMHZDDXTnOFFaDKN6cj3HJ7MACpkQvNSDD4cp2CFeG5GPPbIgN+CNmPNIQCblCAW5bcgQB3JtmNEbMIQV0NwELiSERc0uVPkj0VqmzuAzDbHlbglQHzC4Fst6coHvkr5NUnDAPmUySi6pFQO+DPi-KPwsiT84nCoufSejKIdcNsHVmKV2b0BQAY8uBYgSLwgcTC5eDPvPN4KLzpA7RYBe4QDyQKvCTRZitSH1LwFj5yBaXAsApBeFuWRC3Yj1i6yUKoFrHY2dEXAkekUiIopmUkVuKMzleCeTIlQpUDZlOFRwaImqy0bEFIgXWNorMQ6IX5gYYC4qAwqEVMK9cZko0tcGkUvjJiQqa4JAvUa0KSFK+aRUFMCCHh9Fpi1wIYsWLVoTFpTI4rcAsX2LAQFxJotwvsLctvUYMBsFwGpA5y45REwuYMGUCGllFDpZhTAsdAkLH4SZbUuKl5AWA6F8BUJYIv8UBglRSwozOEtQWU9olMdd0nERSK5EomD4qMjGVLJ0g8lOtXdjgHXLbk9yAAQXADgAdy+5DcpAAADyJws8ho3sDEc+kN5UAWksGAEUElQpaBZTzTI4UPyRC9Rn+QHLIyglR0T8ixSaLwVD4wyo6JhXWU4sVs+TZCvUo4BNKWlbSzpd0u2XYV-yiyvZSMpWXflA2fFAUHRWHJMVCKLFaKTcuoCcVaQ0cqeH+gLmfL7wdyiIsbNIoK4MQCcKrJAtC6kCdsXiqJL4t2XcYXY0Ko7PEsfI-43a15OAkioCVAqiFXhLFnlH77TBPJRUo0mMuwIVLkKYKnkJCuJ5o9ng28MFfyKECahyRLignLivyYpLKV7BD5r8VFrQVeVGK0whGTx6kUsWN9D0aMELgikqVkqtZnswwSVC6yGwUaJnIymLhpVIpIurEhVVEBIsmCotLMWJXUiZVfJGQPKsDzUqmiBqxiOXNjgZSJVBoKuUqQHL8xRyAYhLrYsLLz5miwY24NIqJUJzmA3KwlNSH-Jksll9yo9IrX-KerNl35frCiknKmRnlDFEckmtT4SlzA0KZ5DGoqVgiCsjyi0HGg+XIqvlIlTPEjh4wVoK1eK75aiAzaAhVJMan4jwLLH7ZFoSa6ld4SR5HpfCtMegEmmmCbgi8UawkoSz2ZEKvQ5pSCGiTNRrB41Hq2om8uTXeMJyFaL0BmtsQjlZlmeXNd2tOibhSKxajLKWrLL1qL2wlH5an1rU9ohK4wJtXkBbVNB1wI4DtRoK7X5q7yfazWcnX1SAKAI+cv9UmnDWBLAVAYrktmpEVedQNMGmNWmNA1Jro1UGvOSnIg2MRYNR6EdWGt7UTqByaGytd+TAzfZRAAKkjYc0OXHLWl7SrpeADAw0bmldGs5T0rbWAqv1zweiJRrxUvNlGi4DdIeJ45tRMNXJKdWsDw1jqIwhG98iqUuaeYeNiFL0IcsPInlGNawVTehXY0SpP1gaHgUpqAreEUIgmhsMJudGWJAetid6EUPVpN1j2H4yUE3SA6pMbNmUPusWNH4ebcSQjNzYiCmnHJ-2W0ZzUeN9a4cOstm6hN5oc1BJvNLm85DjCsCRayA0W42Y-OOSYUhGEWzKAFs81JQ-ZGW0LciCDAwRa4QgQMvZrS23AQtNjJEoQCKGUBlSfmsgECxdWogAxuHZrSzC60GdIabWvIE0Rs2NbEU5TSOslork9buxKdTehaoQ6ubqA42mQJNsSBWMzi-W6UHtAfW1RBA6XHVUVIKRDaVQCIqeBFuG0-AktOWhVQaBi3haLtUW7Lf5vUYlLcZKoD0O8E+Dsqqse22VcgwS3CA7tKWh7S1udzra+sK25IL8VO3KkstAOiuUDvOqyE1ioOmmFtvCmvRvtfJN-kluG3HbtEJW1Sq7RtWKrQVtIcFRSHpVAhWFmQNLA0Fv4b0-SIwWbTIHx35imdKM5xa4DKUbAXi-FC4s4FW1HAudCc2MrzsUJpZ4sczPYODsCDI6awW2yKbtpm26rlALO1UuqwApli65fcjPkg19z6jJ08nQ+BaKxacyRpPeQncjpgQ49SddK7ENRCp3URcKmu+yNXJ8q1z7I4hXSTMhB3m5LFfYNXBgLWrWyJgGSzJcYGDl2z5wFIP3F7wy7i7Vti4U3dzIZk4zTVJEcpTRR-zFpelogdGrLo5Bbak99M-WIroZ2kr9tygIvTzKdx+gUUWIQcu-yC6mQAAnF0HaxWBtwkgCpXIC7knaO9agCpQmA9BlAVdEedxrFsxH9Zz5YWGgDXm9CO9G9MgGyTZNehoA19eqxHlw0BCL6buU0WeUYEb2D654mEMFRNGdw0AHsr8H+RT2MCH6wVx+53soHr3-bOsagLFtSUkB0lkCHUUdVdva2BtQdcu+1DDg-20k-WK0UvYzUZ3K7O0ogGkl-rV2Aw+Zx8JnSqFrX1ZRgtEPKDOOnWwKMEXof6XtLGmNTI4wEWioQFrXtcOgAUbwkpimAMAsD0wgCcNjyg6cmo-WRfYuHuwPZkDuUYUkVJeCUH86BApkYqEX0eSipVq2ED4ScLNYlMvahOeklHApy5gGCa+YEAQ0RhwNqGlDYWqNpqHU+dBzA0dxsTMGfIrBrqAFGHkH7+9kgfAdwYLoxrO0Khp1A4fuzNQZDODHfFvpSCcG3DD2EUjoi1IPh-DIhzPHfv4rMrSdFOxVA7tFFZSypkh62q7uGDu6rV2BH4iHpvA8CCaHzDHXKvxDp7udIugUP8RqZAbatdYMhidFoDBhMIaB+1GOmVUEHyVu0wGcQaOmkGXdFB5HGl2oN94g+sUQ5vkfSN0Aijwu7vWUY5b4JHNDgT-L1usk+Q1k-2OAiRBUUsAJssWS4AkdQMfQ3dqlDBKjK47m4p6gaLI722eAE1uWQq-CsCqfIk6GQtu5kFVhlJMqXa0NLgHeRVJrh11XhLFYMsQp3GLiIkXg9YEDI2S0lMgMPaAAAA6WAGDVKKECKHcASaOkPKHoEuCY8RmFfbzGMPAR-ooJpnRCcLlQmw9cJhE57kqDrIUTJkrMtcHwD1ZncladcAydAAAAvGEN4LhMaHETVJhXKif91oDlAHJrExlhxOLh6DWBl2V0HSx4BUmNRuo5EAhO8nkTAp4gdpKAEbHXoXYdLsQHS4pEYQNki8NeEJPgnWVfJmk3SHVPLDNT6XHU1W31M0HxTzUIAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-f9eOAh90OKVYqFE4iZmQ6SwxHSMxxjbUpwTVTSmsDSSLI+8V3EUy1hEuiiJIpi920wdy24i9KzPa9FKUmzQDs9THLErQJLcn80NknzAIU+tgIo1tNQDPIdHkH4AA9FFaDt4gi1Dyz0zDDMnTFp3g1E0sy7L8FysQrMSxUKtS9LOmIwNXAOfKZKSRRQV3XN8yRAN8AqTygP4yjQGaqr6R0TNut-byAKWOLyU2cjGtXRF2PeBZmAXRaoqKgyJxw3aoIOl8GuUgrAmqnLOyQ4s2KWuTfPrb0AvAsQdGEGZ5FwB7aqelkXp047lX06MzuM6khV8XDfv++JAeBurSP8gSqN+h7KBqx0pPc9oJ1kcV408LGpogjV8CykgbEgo7y1J1o+HjO4qeeGm8cB0qicilnYzJ9njIAZgS26iXwABHD9Ykk1iIcKqHithsqEw+OWt2ofAboCpJUneWX5d11kDhDO7xDO3otdNvWKhlC3JueO2desS78AXLqXosZWT2WtbIS5xUJRIME9o0L2X3Ny2ZMvJ2Q9XHLX0973Y+-K23Q+iFnfIqW3i9xRCEzY3tYVjPXshpEKBYvPrOx8N4IjtOY8TzOZL9WuVtjyXvreApaGoZJ8qzk6Yew4zekH4f9cbw3rBnkfweJ63sOn3Ah+SIZQEtF3FSXyg5oWlfV+inveK+xvEUmWotNPsfVdOyeNZnZQpkspPxGU9HQeZgP3o8U+vnAK2QgQ+y-FXDygdrxBz4iAxuDBaATBIOAvQtBFAWw7rpLk3cMH1y2t-boEcwHoMwXHN6+h8Ffz8CQ1BXVqHYKiv+ahV8pqImKHoOmihLaPwws-bU3DpyDD7o3VohY3wrDMm8SUYwrC8OopUCY78771F0A4dIsgrDKJqNMNR+gGy+FuoQVo1gpCAxHtw3hxpq6cKsaAeGHJ+igAXkiaQkiShrC4VlCo4xb56K0LoAwjiaQAC5wzmm8TwkJBJnGRJMfgMxFi9CXisQYMoMSEbmASUk3AI9-xpOCVk8w4TuE+AsFEGx5YcmUHMXkuRBAEo7AwSwZyCw1jDDIMQZkOhQBqkIFgHYfAThnGoLqJQrhQBi1AKCOizwxZoAWRLECU1ZxDz0KkTMvi6K0BIDoLBKE+HciWK0OgeyLaZPMM40U4pJTqkuaAUpctAYbPwFs8+l5Tm7P2beB5Vzz5fPOUU4pjy1wdnWZs+Y15AU-NEVNVx7TCgKMOMQTe6ggaIvwA4G2AAqTFOKyJGICpvWgyQyB9U2ZQTwFRKWc0zgSRRBwyB5ExQ4NZ1BXml2pdnQCaK0aYo2kKYQfAZlMpZWZdgrobkSilNYjkMlpV3J0OUmkERQCfA+PSoUiiYVsvBRy2lUKeLMoFYY4pwqZm6pdBwRVsqtXFIVQwMUMr1QqoRmqjVWLDkgpkv+GFZqsmVI5EG8wIbdjfUgiwOMlLuWGsCoDD8crzCMpNRKjg7LOVUqNUsPlGKzKCo5Ba0Eqa1iSptU625drvUcg+K+f8uaIwdL+QjSJZ0Y3DC6D0ONEkNgZJBf2nlOah78vzQW1V6rcCaurTSHVOy9l6oOBCt5lA7jZuLeKtYY6EZFqtVKitLrGj2oAJBClrRGY1G7yhYBPQOoUkTIndoTesPtt6B0KRLY0jaN7Q0Tqnc2iwZ6-Vzp0BUHtbqhRht8GGsNt0-oHE6IQMZegEhJqzmca1CYSVksUL0f9oBnFYfJXh8J6HXS9ElB8Egi48P-Io1GmjoKWAnB6AkacABVBgyQkFSHEC0zSioAC0Ans5rEJRU0sYY4MIbGXKRRfG2lppcSkA0ZlDC8EUf0hw8nGKYr6IRnDDZFGKC6VpxQrSdOqfI5GqjZFCFKaNnkSUf1SRBVGvG-46x6UyUia50DT6aGOadZKIEHi1JBkC85oEvD47LQi8FgLTnguSI83oOLwJothn-GlqL+9VzZe0LMYZI1liePKMcEaGWooZt8+VwMNC6bMCdSVsLfmPMVCK3VrzYZImuOy81syrXE3tfausNhzwxRmadW8JCQj42lbcx1zzhzjGmNqckpbMSi0cOyFwjY9qaRFpNi8mr6xUNCl9eQfA4Hg2-q9TRxReQHD5clJQRbXDhsVeu1kmSj2MO2vua+3wzi+CAw+Axiw4Sal1JHvl8KeQt0QevR6ydd2fU4Pxp23bDjX3OKh8k1Je3cRulW9Dnup2aPhJByjr7oBoMSeYST9bWU4XPAa1uDUwr8a0Fyl4mrfwPudcOQ9xLwInsi5Cy9t7NXFsBpeCK1L4vQAAEI93OqVahx1wrS5JEQ7qBXQXgTJY-PryL6TseA6yfz2ro3zc-s9XLmZ22eh-D28YC3vgdg4q9zE4XBugRi79wV17I3li4AF6NmJP3Fcq-LWrqUfzrkMC15QHXSHfPg6FLDp9Jv4sZKPfn8wMu-mlIyo1-QfPAbh9l8jzVRaJvs+myyK30uRuu9AJ77352wy9BB7WdUvQ3U19R-KsMbOmsV7D9b6vm1bqMGT6nvXihuWKFXVPrrUVFtloTL3ggOhcNCmcT3xY-eYlPIBEsJfwxOYxOByN0-4ZOFL6MDf9Vpf2faG+IobnnYvGX46KvovIUcJJ3PQFfZ-A-V-MvD-LnHnQoFfYYblGXcwDvHFe-REe9SmUAG0CJTHMAl-OfPgbXDQJDf8J-F9d3QdUAzmcg93Agog3XFJZaMgjPW9S8MAmgigrJGXYFMJbfY-PfMbDMYLAgQgLQYkSsBIPQDKSrcsSJDKCoQwdgAAPgkFrhZzAjeGCAxCjgXBkOHCfgniMn2mjiYGnGCDnmpjEDgjID-mCD0I4hgUAjsJoXGGPgaQ2yqX0Jrh5B7j9XkQ2BfxtkBnMUzGVEuxTHv3Gj8M-SaTAGUiOGGVOHODgEQGQHQFuE8BWVZ3fCjnjC3AyAoWrg+C+B+ByJEFJEtEuWcV3kxEuWAK5GK0qKyQIwZGwxclzHCizGYjzALEaKdAqHyJ4I5HqMZnwhghCn42eidCqPVT+FGJonGPokmLBg1kGLqIfykXsgsnvmmOaNmLRlcwciWJIjyIYAKPWJvlymfD7CaIRmcV+DRifE3BuNWLOKGN4J+iCwBiBm4UejyluIgIeKBhphRjEDRl+JBn+NePOKyRGJmnSghIxmDBmNcWUj0HhIxxG06mDA4M4IxLcMtFxIoLWNhPDDdgrgBKcX2KBnJLNlpI9mMPTkJPVTeIuIHjRWXl2LuOpKPg5NOJhIRhGIukZLbi5MBLmOFJ0NFIhAGNZNJJvhUQCRWPJBmMmAWiBIBGYD0B-kRL-mZMGKJOKVJiGgki6jAQgXJFlIKPeIJFKRIGYxwg4y41oB413kzCYHkAylACE2pM1L1nUMfHfgWhiAqHNMti2zNByASBRgyGsDRJiFd0cRkjVPxijJjLjJsm1MYFDPoQDSHwdz0B+gSC-1FFe0zITLlVnSZVwGIA4A1NyJ-jcITMNMBzH1pjOO6DEEOhYIRh-jahGmxObJ7KFHNJbIoJ1I7JOGeLjArNl0Fi8N2nChygoEhGbWcUXKfUZkazjGXJrJtOGNAH+2VXxHzOrSY12SzIYHY04242-gChLjM29OEzVLE1pxn2JWFhNKfS6m4QOCtOsRkiQRQTQV-P3P+WOUyXCUiXrK1LDjoRBFAv-LHJpGNO+FNLGFqlfHNKiQtn-IDPECBMZj+m+N-ihJlJZIKPXxVk9Euy4TKKDB5l+NTPVBxIooCOKXuPor0EYvplGNYpJNJJgoYtxiYr5n4reMENXEIvpPNn-PpQjJ+GLJLjLntl7n2yziPMH1uwLMRGblThFJeNzkTLRyiiEu1OIX0qlMMsIFwsGK0vt2nVAEUTgv0ohCNyxQ4D+TMpcsjiumstsoks23lx2hNHcvMvDlctfB7TOzPh8plHcpp1PL+RkmkpNndj0BoxTl8pMJstjjKDspiTpybFulQsoEYCeJYsLAOXp2ouOT0CqrAucQgqAI6Ex16BxXKquKlAJQqFKs6rnClB7gas2G-QcWKoCgOHUFmHoEWKchmAtKVl8AUpkt4nUsZUxCOA4HpOyqZKdBp07kLiUtLhWo2rAqB1UJ5GLzXGUHZ1BCmrzC6SOLmviC6jioMv5hst7R7MmuZAetmtCiZlcRkuHP7SytbiYAWotngSg20scoOvmOEm2LItXJBQI2wiElomOMYi6Ncl4iuqdzCyeoBuRIHTRu1EOKRrEIGhYnYv7XCWOUH3fMbkIqXn5ORUgmIGPiew5KPloHmmDDdUUVzU2t3nupmqJuWK6mPll0UX6o3HVBFr6v9C6pYuFtlxSq4uPmQoJDbJ+EnK7JjmFoqDlu7AVrwskoIolNCvBo+rksOR6mUzJjQjCrwzMt2l1ORvSRBrYvwp5KeMOmMkGPpUUQkgcDMv9pfDCv1MCt8CePaKBnCgju3BxsZFYokn-LdRkgkgtp5IpomJOMDrePpTjpToTuzzzqxvqFLpxJiTMoruerCmz2joKMNIKrVXMDs0Ioxv+uWLZuLq6vjrCu7olucmrsJNrq4uHsptmE6P6LYtbsCqbCGRsgSJGWSMuDSJuEWSyI0JouN2kKovaC9IwxMQ-BztRMzP7I6hYD-NAC1rYsPrXm1CRmLNsA1GUiGBoyvqIBvoqHvrbrsyLJLKdTLOxm1PsPDFHEMJnOnDoFftLI-poT7IQmvvDnAcfummFjZm1IqEplyzvOxl5v5r4AgdZnJj4AqE5nwfDUIfyM7OnPQftrDDIfZgoamV9tcQ3JSwgm3NIfXi4Y-B3h4ZfBoRCudvCh7QwfHiwnJqfTMNCokgsOeAEZCDEG3ND0TQwfGmipzp1k3k7ENzoanMOiDqYeYWvAAduh8re1MZqoAX0EsYCj0e50XmDJGztt8DsfEEiUWwzvIkUXdGsCLmUqMYNqYA0Vrl4Ds1RJD1LtvtNIgciTicG1qiQZG3jtetbxME8c8IcKrBl2ocW3csyYq2yb9lycoIKaZqml1tCYYeSfc1vryHbCCaLrMZZi3CBHdH6mYiwQwwIGBG6b+AuQ4tatGBicaOpvidBzN2aY+D1oFMFOmk6e6biaMAAB5lnBm9dhmzrzrzyehegAAVBkJTBgTMNcVBFEF8I4JlFRdUcJXoUADwb6kxYLLXHpvcLBDwHeJ5l5zg4kd5wg0PKG5tO0h04505vgaQS5oEa5iG3eclGoB5hMZ523C3QF4ED5tZtF35tF15kkIED53Z32-TQezo6mu26kW6fIzUBkPqWxoUW6H6sGKZ1raqky2q7uNZjPe4s4uljBDKzg8wZxgxkLOpkxt4vZpZ0urfBOKZ6VvYy8XZns8JFli+BVtdElxKoKmZfIrfQJxS4uUuCVkR9S3wA5z5xka8+kUUCQEaV8gkJKkFZykbBwaxkPAqzl9odVopuJ7U1vbWkFIp9C7gnVqDLxiigVhlxenex8Ae0uqOyl9zKlolZm-lklGNyixy5lqaq1yddlmK+c9COqnlnHKNzNoV93UVpLU1vsQYxV3wNV6muV5aMtwHZxM9ZV0HVrRt200W5kDV3ps3f8bVwq9Fpa+XfVk+j0YJk1-W6cot9Ve0i80um1t++1wMJ8sFAahcR1mGhyv5V1kad1iy4PYrL1h1MMX19J-1mXIN4pEN78gNirOc8TCNip2lytgBwZOIle44JIqAFIq4dIjAON9CbKYQaMkQWM0ByiS8wo6iqBmRmc7MhMSD6D4QWMpRxUDD9M7QYsggBcE4hMphaBQBJYCs2TFFDoNMmDjM7GRW7CEJG2U8HeCwU8ftL2jkG2c8dj7JRYLjokm2c0fjsZ1gEFbjlC9eCcMTicITlj9eLuHkHeZT3ALJKTgkG2KTeCTMHeHT+QC5hGTT3wG2A5-jg5yT4T9eHXXUCYPIA4IYWz+zo4IUEziwG2NwMTiwKQioTMZ0FQr0jwIz9z8wG2ATbz8wXz0Afz5Q0AL04TEL6z5+nqjkaL2LtgQL0AHFGL8wULzB5+4ASLmZeQmLgL+L9vXL0AfLm2AAUmK-S-K69Nq6q5q-XmtW88a7i+PtdH8+S7jF6Bj069K4y6y5jzK-676HWYa5G6a9AE2fMD68U+fvWbYEi668y4q9W8W7a+fqUJm787m5UJ28m96CULW4qAJA26y-O5O+W4G6V2K4q98E2-MCVwsGkJCUMxo7w-o7g+xqmfYBiV6kYIdGGDo6w4Y8ojziMwh9g5-loDyAACs5lNrgelBLy4uRO4eHZz5-xZztbfvIf-uXqGwsBYeoP8Pu6mPtQbYjyd4jz8vhXTP15IAGAZV-o9PLu2eOeS4mfmewubONA7PYBIB+PnPRf+eBebZnOABRMTuXqX5nm2AAOXkBV+K7V5V77Yt2+45to8p7++HriaB6FBB5FU28vBIfB8N+J+p717BAN8w9g+HtNNN45HN7i-GhIbNyJ5d5RWgjzjsxTL96h60hDNhZKggZTJexuRIFwEzCSyR-kCyEmpyGLirYHVD4I5UBypI8YCV4JDASj+4AJGqddn8EUAWfocOggdqYXe7NvWqFuuz5-gaeHOz+N81bw2b6a1b5sjzGR9R4qA75x4Ru3ASYfbdFnaOur+MZEeo-18NaBE3maZ+Ib5fAcFrXJTn7CbjDJ+XsY4A7OCA43uuEwHA6crUeIiEEoG1jBHqCSBIBHlcwga7lRHRG0c2JiJfyiOvFf72w-NKAfzGooSw+Zf95svyFqhALCwbQG4lhBIEkGNj9lmAjoQlhyzPjyBqA1AFEBQFyKghQy2A8rkcA8B6AsB1ALfL0CeaH4nmjzacGi3IGF8skVAx2G82BAEJboNUQgCXAxCEscy4CfgcxW4GxdjAR6SNpi39w-M+gaLOBkgI+AoCWKIPYvlwJLj8CoauLAwAPgQRTQVBpcVwJITARv9cEPhQwS-kTC1x98B5XSthEMFYErQlyQssYNWjXhDBRgInONFcHK4yMIiF-KD30C2CMMAwSwdyR4Y39Xw9-RiE-xHimDik4SRwTog-haRbBNoZtH6GKw6l6YkJJCK4OlaH5pBHgXQZ6BYCSFLw2FHIfi37RPMQBibIaIWEvKURSK2Q1BIAInZCgqhaLQofoL8E9wyhzQ28M82bQphghLVXQXpljA7wwE4PIgMpX0G00PiZoTHDEKpKjDegonXqthFKHNC10rgqYcIKKEkAUMaBN4BILIHNCzBAAchAFgJcWlw+-BII+aGDqGhQ7WCQAWgvCRBkbNTshi9hogegl4d4UwP7RBEnUvzXZL8yQSLhpws4KNL83MJQDlhsIHgf8I-CvCR214AEbsJmHFCwKUFREQtGREsA+ulBDEbR2mGlwAROdZPqn2oDp8oqm5bKEPBBhRIjBCQ1RDNmZyBF14-iSyO1gH4e12RPCKfiDypHtgaRwgYuO5VTKMiOwag5kXMP7ZpDAwzIzkc-UGCOxqaPRYaEqLST34yk5fRUO8J3AekMoUo3WB2GZHyVgqbYRUicTST2pnKA-WVp5VPQajah6QvkZkKRJpJrssPaUR8A1DmkHAIPQ0VmGNGmiQYso70UmTDBt8W2gQ0Ti-kiRsETgZo-0cBVwp49rwDI1MdGDDLyim2NDBoU6LIyydExKYkGLmPoT35YxzESgSKLT7ii6RHmYYedR8aOjKWeGYUSn1FG0jJR2YiMbCx-LM58xEOcTvUIB7MRwefoyseAmrzaUFKdQu0dWhkg2w1Rbpbom6O1HDj7KKOe1ClSyiM1xqjcB8kGHsTtMvC0FDkRAVSRXiDylrWbL0CdK3lX8NUDGG6EzBmYcOgkNRjcwtHniIOmOKxC-gKS3jeC94nxAmCfEukCKno0GFfzsAQ0GowfDsFGnqCiEj4VQHQGKAcbM4MGJ4i0YEOhE2ZqGDoAMShKoz1A3CZ4yNpeGEYQ05ROdCjAsVyBalZsvjQ8gwFtYgNiglAcZE6gIAkBeEt0OgIoHVK4THKClOxMOPNYWBfckWAPJFiDw2MIJVTb1uIGyxb4jyNGRPFxI1A8S+JOgASVEirwU4r+oknPIbjhzi4EcFSecVaIxyjAlxyVbrJjhEn4jloaSCoG5LJzDi32duXcY5U-YHjCq1IMNDJG8lWIc64hAMDonfxihdOLFA4NynimGdowBwOlP+PDCltKYL+FKZmDSl3BDA9+JMW20phT9FCm3aKQkFikgM8piUhJDFIUhlTva7uOqRqHSlwDAGYQJkLBzamghkpnwVKe1IymfCnB-UxqqADanvBCpOIscQnGam3oKpKhSUK4B6nmRBp+U-QFNPSmGAp+WSJaaAIkLnpeQlMTqXZiqmvZ4I4IDHhHwwHFtdgV0xrHtFaABheBR083mhyhqFNHpW4Z6RITekBgWRpbBqYcIgLNUrB3UysL1I2ksU-kCcEGYXwOl8AfpswKqQDOqlxQXpKGM6TSzfwgNOceEWMDHBqxpRCAVeYOjRw0kcBnshWEPC3k+yRsqZquStADipJtl+sHSSaRoBMkjCNArgWYAvgskhYrJfuM3KTKrw50EM-MlPMQUXzcyuZZMtfJlM3yBCd8-eVof8iPx9498uo55BfnlmkzwCVJTfB3RaogEEMRsmkPcTxkc5vghMsEDHAQwVBxZU+I4Q5J6AWy7BOBUYIbMTF8yWAAs2WT3Atl7ShQ-4Q2aHI5BSyA5MshgmwQ0CAiBel4COS1P7TcF78Ws3fFoKPHUx9Qw8CYLMCIlJDyJMwCoIaKdmgBDRSBIXDRwXxkxqytZVqtwJjmCzy58soufEBH4C9b0Vc1vJnTDB1zdytZMjGrJ1lgza4dw4QkQDEIgzkMss+uSuV9o2FrATmOmKAQTlSNjhbAkEPHODg51+kf016ZsljRvIRpvgRlA4H6ScoT5mYKhuIM0n7olU+GC6upzVaMSK0JoylPmHXmLVZJNHTZA4F3nq10cnCTZEYEPyDBQUmyOUCIVABHMAAErL0oAABBcAOAFl4AAlI5pAAADyKvZABwAZqX9oWuuCYCXJeo-z+Z5MzKcvIKxigMolCgORNIPmryMouY8hYcEYWBBZpB8wGEDA7mHBqGvCnkGQsozzVFCmUhBUgtQXoKsFuC-BUIqIB0K6Y7CsRRQujncKMGB8tGawsoBfz2YGihgGbhnAcKGAAmKqUhKsZOZRFqEzhYYuoXiCQZl0jQCD3-SkyUQyhBjGMjojJAC5NiiiUhHcWsYm5VCqfA+xIVjJ-F4i+xVPgSiwKpFlADBWxgAAysvAhS-KiZWMiAkS4IF1BiXVzI2tC1hVwqMUv4WFH86MLkpKU8KlFfCrRAQC6g0JhFQMKpRAwSVJLUl4ARRa+FYWVKrAeS-2ZosykXTe++gf9Notnm6L9F1SyORyF6DBBzFIMlMA+wmVYy+ga4+ZVYEWVYyUwvtFMlUvyVZNhlTi5GS4ox7-pggcXBjCmXShaFggHaZuYECrzhLsldnA5YMqvKxKopUHXPnfxRFvD-lGOR5Z8r9YIyMGF005ddL6gxIVZKhP5CMpuq1SYZYy19DKjIlqLOFbc4Fc8powHT9l-SvQFitCXcFDSoKrGb7SEp-LCRhK-5eHkPkoYKZ+vGWDEEvlEBqwH4oMCSN6CUr3hjrGSMysYAPy48rMq2bvB+VUB3hNKwkXSqqmzSBVLIOiblRJFkqJCvtREKwtUyezMpRIbed0ItluDsQGxP4UwQTm+0wQuyKoKYqDzFKBFRiy0Y7hkQfzVMtq4yhyEUQAKOAUy5dN-JdU05FEOA+0pHVtX0r3eFuVZf9MhQJhbV2yiQvuwsDGZo0byKEaYpjUBhP6IKSJLaoULlcA14iLClatlVzjD2EbeAa7FEKtB6lK82YMUrsKMrHehihwBBGsK2F5EbqBShqt-wfLXVM6f+W8gcBerS438wxX5PgmO9c1kdcYFVNDWA5w1R8pNQmAWUWKR1CazlGYS2UWLCemOe5TMhzUBA81la+lVumdbiYc5zwUiQet2RRK8oLqzeZWrIGmLLZsSNcFhLvUur785621feoxVGKSJL6z9TesOTmqK1wal7DaofWC0aOjIdFbYsggOAElMizBdgrwVdLqQ8GtBYhvkXpLM1pi7NXFyg1XrDgwCqKL0FJTZzg+L6u5fInpRAbrA4wUDR-PcIy1INuADULkrg2ILElKStJW6naVcasNW6qwLhs274bclRG8sCRu3iMTDqxrRmEj0zKgVb1dVUCoUzPYQQ5NLYHChAxvHkJqGWVNTU8CHHkI8JFjLKBwP7hGtlKcGdTfBwU3aqxpym7Qc8B8pWangmmrRh5NM0uFMKIkV4NZtyq2bI2IEnTY5sVCSAgQUcDUJKoC0VNtNBCOzGptoCyJ9NLYW+iqsBm3q52smzMslqEAjNjZt7EGffgS2yI9NYgPzV1By2fVI5PK-5eFQjiVbuKZWgzV7VGqcE0t2MuUCupnAgjpwNWwkUIzK2Jaf1l-KzUNr0AuaUtMqsFXZos2lwJt8HebZ9RfzgyPikMlPutISkor+0fW14XVpgi+bXNi2jMe1pa00gDpo2krd5qO3jaDtKW07e7hO3AQutYI3rfRSpWvD9OvmobWT1uhhbcio5a3IevBUnKrprigdLCuvTbp7Nb2yVX9tQHvaFoYZWZSCjFYiEZ5ay7gsEla3nVUd081GbPKLwF56atcPPDSBO1bAutEI35jtq54SB8A4W5gD9qcZsKcBrE8SZGzMqzZl+q-cEhvyYC+16xYoiUYnXoRTbyV34GSBCtB3nLH2brTLg8hUWs6gwTE6CCxKDA9lNhs48PMjpmQZB2sAXEGpaz10azhWj4m8tBKblzZt2fza9AXkRiC7exijeEdyVx2iF8dGO1vA8mJ08hkK5O8iF1od2Nj3K1OmHf8p3iB7hd-mKJooiSAmiDOFzDgAAE5eAsGV4CoEM70rQQQkgKPHvpXaBXAGICoHaokn2TgZ3ap1nZJmTiAMMnAJdvHr0DnDzh04NAC3rjX+S-0IKevfDJsk0hc9F0-6OiAulxQzc4gYTHgxCkfsLAfepxQPotAVBY9Pm+DLpz2W4AQiYRY3BuAtVi7VVGDdrRTq6R9Bgihndfbj25Wh7+toZVfcfr3oR47M-YjsAjsLIMAE1oGFgPSE7B8861xAGWA4BDHukFgJo+-QMvDjK7n9JmH5twF2Vtr5csZEgO-s55eCOAtsPvEwBTDqV69vQITMJiAOVz-lLwMA8QCfIRdUwJu+vc8Nq0yxNgtOWGmGiLTBr0JaICYFhJYqUHUM568YJev-V-qrVbhVgzTiLSwH4DJcRA5rBQOLg69ae3Tn0CwM+lbVz67CUQawNLhqDDlaDLDRiQYGZDPpd4bQhXJHAtDQmNvZNMkMZ60Z8KpxWDtvQQ6KC5B6ld7RV1MA1dhK7Xbrv11xdrSe0mnc4bFXAg0d7u-6cclvDT5T1ocM9syAOBSB0QkoBNezUd4-6OAf+sMUAfXkgGn9Ca3FpAa3THtAwItLwzLEdhTy3dmewI2Jq8J1VFseW0VYmFoBKZdcwWBWfIFwxHpcRZIx-Q4ZEC5F8j58Co2biKBuHNu1pHOjcrvXbqiVAcsuYCoKXnyaOcESsLMEuUcBxEI0ULNIgKyMaIN+vOggvJrIOBm0Wx1uYCvsUtSm1-wP+LMd+p2EddvgXuQzIqZbGh5lA0eS2IsBNUJ5LVLw64T5oLRzj8x+RHtNd3o7-p9x2qIvIShAHH95wouXoG7nmAAAOlgC0KjLPQyCPgLskkLHI-Oh3PbLeib0mQ39LjMiOCclWQmS50JmE-CcROIqNQ6E1EwcPXmjAyAoGM3O8kiSMnQAAAL17Rwn4YSJmk2ib6MxcKgnJ7E4DlxO9BBDBJhsDemiBhHIIkRnoJCapPInXs-JkbusOfqNHpweQX5tQF+Z74Ng5whsDsCJO1bFTk2akyidVOYmCuA3TUwmG1OwM9TuysU0uCAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5N87I5tLejB0+D4wkk+j5kK20Se8RebwWQKB+B0lFUYNZ8wAFtYVVCWm0EW8Rj0ZUYAGRW0D6+TSzFGNgu0CEfWUFVyvbPREMeQJfCso0wk1Kz3yVXqzWvQg60C9f2B3oGLY+xUHACeqMZlFo3yTQctJmpsPhdvwDr0C2EvKdqawUXlsV9b3kBwOwiBDEDTGDJdDcPaiJVao1WrjMoqvXbne7vcIKbTCrEoFnXZ7+CY72z9Lr-Oa5jL7Xt+hrS1P1cWwY2Dai6dX6-nW8IlD+ZCLToHR7Dl-PV9rG870eFtFUROgGDBZlXzFahcGyOoxH7Q8-CHU0IyjcdY3jXoIKg7dYPgkhEIYJdG2bfZxDwhYCPwOCEJmHcc33LEUOPcQ-2vTjAMtW9l1A1dqOgyhCIY+p30-A98XYisq3-f9eOAh90OKVYqFE4iZmQ6SwxHSMxxjbUpwTVTSmsDSSLI+8V3EUy1hEuiiJIpi920wdy24i9KzPa9FKUmzQDs9THLErQJLcn80NknzAIU+tgIo1tNQDPIdHkH4AA9FFaDt4gi1Dyz0zDDMnTFp3g1E0sy7L8FysQrMSxUKtS9LOmIwNXAOfKZKSRRQV3XN8yRAN8AqTygP4yjQGaqr6R0TNut-byAKWOLyU2cjGtXRF2PeBZmAXRaoqKgyJxw3aoIOl8GuUgrAmqnLOyQ4s2KWuTfPrb0AvAsQdGEGZ5FwB7aqelkXp047lX06MzuM6khV8XDfv++JAeBurSP8gSqN+h7KBqx0pPc9oJ1kcV408LGpogjV8CykgbEgo7y1J1o+HjO4qeeGm8cB0qicilnYzJ9njIAZgS26iXwABHD9Ykk1iIcKqHithsqEw+OWt2ofAboCpJUneWX5d11kDhDO7xDO3otdNvWKhlC3JueO2desS78AXLqXosZWT2WtbIS5xUJRIME9o0L2X3Ny2ZMvJ2Q9XHLX0973Y+-K23Q+iFnfIqW3i9xRCEzY3tYVjPXshpEKBYvPrOx8N4IjtOY8TzOZL9WuVtjyXvreApaGoZJ8qzk6Yew4zekH4f9cbw3rBnkfweJ63sOn3Ah+SIZQEtF3FSXyg5oWlfV+inveK+xvEUmWotNPsfVdOyeNZnZQpkspPxGU9HQeZgP3o8U+vnAK2QgQ+y-FXDygdrxBz4iAxuDBaATBIOAvQtBFAWw7rpLk3cMH1y2t-boEcwHoMwXHN6+h8Ffz8CQ1BXVqHYKiv+ahV8pqImKHoOmihLaPwws-bU3DpyDASjsZSRw+AnDOFAOAiBkDoFuJ4ECU1fiAwBMweMW4MgUOrh8L4Px3yAhBJaeGBJ+jmBlKY3wAAucMhZgxWIsOYzetBkhkEUC5XM4UszMTzAWEawYKhaIMI48wtifqQRojBEKmk8omIRqAcxqigZCVovRWJz0NbBNCaAcJbwgrmRiSRBxCSkl-DfCsMyDl0nFOMtkhJeSJi5WfH2eJCMyloyfJuVpWSGDaJyY0mmKMxBo24Y9OJTockdJScjAGQMxkgwmRCIJfSQkNKbilKqCyMYlPaaABelBlJ6Bmq1BCHUWAQPJGUHJCSaQnKPrQeagSbm3N8PUhGjS3YVzaUKaZZd7aghNu7SOV0mCXMhCs-p6y6Sb2Hrs35oBklH1hcvXpUKPnhguvtaOPTyRTMReUrFUdDp1NWQM8Mt9phLMhPiyYC1knqKDD-bZf9LSQoMNc15dzhZDQkl1MB4KOWItWWsjFLATgWlfgAVQYMkJBUhxBZiYPIDKoAAC0aqCVqKjg1Qha534LRiBUAVlthB8FAHoRE2VhAJBRhkawRyYgbEzmfOl+Mci2pEPaw5Nk9BGrXPQhsFgIiItwB8F45rLVvDoAkRQtgNSOsYM6lCFhqK0IoMQDgDKo5+psg8p5TrOVctuXTZgDBaZ9O6GIQ6Lzi0WB-m1EanVc0MA5bWutAbwFFo7bc5llaTjdLjE6jaNJO5vF2uFHKGbRW3PMROtRIQxBlrjFO3ANKuW2NFOKSU6ofDmBDZ8cNKbzDitoD0f1vQZVytoAq3YAUS6KHwOqzVdKyLBs2rdUmvKF1dW4QcdlLqs5IJQWgv9M6aTmO5LgUJtjzRcMMRosOdCQRgfZd2rlX7vh8rGLVV8AquFZQtuyvujckVDLmb-alAGU1js9OQIM2aNE8zGe69UgThXaPAxyaZjK9DMfpozQV7Kbm2MY0Gfj2UJhrvY8EthzwkVfLNk7aj1IzUWsREXEu-z3a90A2fLdEopR7v3aG8Namo3JRbtiklmILa8KFDJMTfriGp2s23WzHLZPUgPWGp9x7U2HGIEh1zEIKn-CfRwF5TngsgpxfzQgRGvNCnMztE0YWPzOfDiF18Elk0vJkjFmU6X8DGYJD5o9+WwwKaBRXdtP4rPEpfOCxLqzSu+CiO1j9AVMOUEYF0tjhYsE0ZwTXHkehBtcacRIWujjYNdB6L0AAVH15pUpFs7x6ytucUoe4Tc2AASF8F1xuBx1CzHoNEmpMxBUupS28RTis8tCjTU7BwD3Yvpz3o42jmnS4Pdji8yDM3Xm2OqFuaUZ28xkEu05a7mWGugvi3Z9DPbTvMihzD0KTMDn-bqz20MCO4vNdvEG4Npm-PfZG6kzHGSwaTNec47C1Pqmw-qD41yvEXmNIKSzrH8LZ3TWwjziyjF2eMhvO22xUHStRCbLdJFS9NGrJdWm4+DhD7H2DKVtNsLAZHA4Gj870Pee066sfUn5g01bY3OqfXguI5DWt92Njuuw0W6zk54+KOS0ZTLRWjIVbB3HKHnrioTupT-o4xtOXAUkVEsR0r7RLqeopGsPO8Leg6tOd2iy6lbb8c0mCSRlR5Suk2eWVHlXgXAoLocE5svL5isyda9SLpnigbhQb9uMXLEhUSXZaVmSEk5OKiRcLop980W8Lbz3pv4+rts4Gr373J6ENBnn6zsKC7m-aJX1HyIft5flOZyLqjleU0z6X03k-E-F-MWeUKJzN+F9b4z2yqPe+vNNjETZCRUjziyJXAKJoBizKJJSED0Z6AZS8IySqougcAQEfgj6rgHJHKNrnLhwVBe7n6lhhg2wxpxqig+rYxDB47oFEAXJYGPKZgD4ILsLRqnCEHlrEGUR+owEjajgTzah8DTgEHxosEzBzxTQNpnIUHhxsHJ54HCxsx+oVCUz7yrg-ya58DsFRSszkw8GgCcwKHfx5paKB6HQqGSFqHSEaEVASzIGJCp5kxoTX5LoviqFCzai9Dp4fg7wQTLo0Kpa2HhS5bGEqz8JcFxj94JiuF6w0JhGMzLrLDhaOEAIxRLC5bF7yaxCbydjAg-D9rVoxzBL+HtD-hf56oxaSIBK5HDZRSXiFHy6pG0AfBHyGrtSjTn5HbGhRRwYlGBi0FRBprujWC-aZEB4DoLgODS5gGKioGNH9TMSR58pxHiBwY94zE-o0IdEexL5dSrFNAtFnyXibE6HHAjTFYbGNFbF+ytHlj-h7HHYqK+7g4DEGFtzrEVB-CR55Dth9HK7lEsxbhAjuhTF7hYLwHTQ-F-EvGTZmIdDzZ6ATEBKLHPF65CpvF1HvIYoEDAh-GLFGAAA8wJ6JuoMRFstaSSJAEqfQAAKgyPssyJmJ2iiE1rvO4jUOqLYr0KAB4HjgSMSJKECGaifOsUYB4DvKyeyQXhYhAdybyQSRsLWqJiSWeuSZSXwNILSd7Aye-MIMyQmGyaAByb4FycCJKZidqUKdqbqRYPqTyXwAtGCckU1AyG4h4rPt4kvipr4NURkJqAyH1GUY4rdIbv8YyEsW7npqOiNlBgGW7maUkn0p6RgpnqKRYDrGkdyfcUMTkSKmabYj3uwK6AnPyWaeYOYpeGCQWbkrvGdhfPyfMNeDaW1u+slpGlojmQgR6P0foWmUwPZhyKehaC6QmDKvSKKBICNG+hyOVhTq8mmqsQ4MUZMUlrcjJP6ase3scSNPngmeYMudhpse7p1nuWfForGd6S3jHo3Jfr4s6cxPCbgK6fWrHjGS4seUnv5puQFP6XCTXsGS+QSLRuGZiXjtGR6Y+fGQXkmbUSme2dkX2EXnjlmUvs2efP+fjuYh8K+MWaHp+eCbclmRWQpFWdnIBLWY4iGo4uZk2UCb0T8LGlppBYOl2YXnKb2Vef2QwIOeWsOYGM+muKtguKOTSOOSGQSFOY0TOS5ocnOS3q8ouRWcuYsX6icXvh2luT+vJWubufWRpYLO0IecBYUVgD-tjH-qcAAZcPIjcBgGMdtGaB6nag6r6k6kwgEZwVhNwYwNONap6sIPakIc8B5bZdoLGgQAuMUg5VAvET3MOnKGmn5V6nZYZQ4GdFYjbKeDvBYKeFyuuQSDbOeKleYOeBlSvjbOaLlZCd0AVUlevBOCVROOVRyDbF3DyDvA1bgAkplb4DbH9AcCoPIJmDvJ1d1TSQjG1RYDbD2blT2a8sNeYDbEkO6BMHkAcEMLNbqPNUcEKFNfbnGL0G4CVRYFARUJmM6AAHygCqoeCDUbU2xqq7XmD7WgCHXsAnWqqaoXWFXrzrYVA0h3UPVsBPWgCLb3XmCXXrzAA3UWoZQHXHWnWgBgCvUVXOEACkYN31UNqqCNgNoAwNzh8Bu1KNj10NQJh1b1zhAAhC6LjRDfdajaAGTRwETfDVtVicjZTT9X9TieYPTXVevFiWwDdXjb9dDTzRzVjVtUdczZDfjaqidcLcTaLbzZ9b4PzX9UdRwFTbLX0CTWDdDb4ALeYCTRYNAVYg2NFTZbFQIXfgCewI4r1HoKeMMKbV5XFZRHnCbTav5T-LQHkAAFZ0QJZW1Cg20xD41FUO3eVjQwKATDobUEgxWO3m2HANhYCu2eXerU525nQ2wGY7o6A7xZ1SjR0bkjXryQAMCGb-S9WfUl1l0lwF2F2bV9DLWUCwCQC5WN3N212F0zUaArUACiJVjdPdHdG5NsAAcvICPWDWPSPVhXXcbdXrHanYFsJIsf7RyIHfjbsUKgvYupEtBC7fPaHTvfhDlj+qvTSOvQLeNCoVvYfYJlEnnHqm6tvfHSyP6mAiVHMfqioKXJKL1uWiwLgJmCmV7fIFkKdjkMXCBcWs-TaioHFiFUmopRyO-ROKmASNca7P4B4rRYdJ-aWncTgzHHVmDuWnoM-T-B+aWR0LfczpiUgwSCQ-oOQ3mp7T7UIJHlQ8-czrMfQ74JRW2VkXRVFdXpRUCJvG8fMoI8MQblg6mVBXGInQZc7ccMZTIqZdcJgJZTjEwMREIJQNrGCPUEkCQCPAUp-V3KiOiONGY9KQiuNP+DYwKQmJQMKbvOKQaVabbRHYkZUmsLeLNufA474wQNHnqjGkkMbI2swI6CSOAp-fINQNQCiBQDmqCMaok1DUcB4HoAk9QAhb0KyeYgU2WSaR4Lk0PQkgU47O43E-sTVIQCXBiLE8avQi00CKxg0w9cYPtrgVFBacaX0NqeE+lB8FE2xjbe-fUyXG03ZsaQYL0HU7CFpq4AkDk6guY7gmNmAlhUU1Br0AE4iGdNs6ADaDkhZuGf+Ns0YLiIE9eFczTa6AMCmI4uYl41WMc0CU8zcuYh4bo6+AY4xMYyPNsyJupm2OqVSkhMc6c1yn6AEsyvTIslC+s7Y6UgmIMx4FM6XCs28-oPhlc047Wqya47PkNPYgizVDsvcyKa8sS9qVi56CwKs+NPiyi86m4ES-M6C1i30FVW0-bUQMs0y6izSI0nBiCwijy70MVRUGdJeNs9WYBFcwK504yyQAkFhZ8jU2s0CDswmAAOSuNgLGmGsBMWmSnbOLOCulzawkALS2tdO9MBHhmBiWM9CXgOsVMYbrzMg53ThnpClIKLjTizgsDBuhFWApgisQk8sesfh2tCr-iesqtCvquavUPWu4t6DJsEVLA5sMueuWGgAgNgPUAQMn3hbupDwgwEY8J5HoSUrFLcJ6s2yNuCEVAUvjJITNu8MWA20lvthlvCDFzFZVu6wdgzO1v+NCiNL2LNsvP11POOxX5kulFZTRs2KIpZRFsOs7jKoZRjs1vNu3aRo3wQtNvrtdlTl5rZmRZCikv+KBgtqUSUbduXt1km3VsdjRgCoOA227tKoLAHvZRfuR74bNvqUFY3vwWfPFULtwaXggfjsfAagmrh2AJLBIcgw-uBobsWC2IUMwePNVXwcnDIc4fgIBOEfMT5MDvgPDsVtuHwdQnUd7i9vmD9ugODvlujtYcTudq-qXvpvtHQfMV8cocgZ5ztbk4RpgvDRPsQd6YyQ2yDDLu+KrsKfvveYyf+aObbveYYOKgPoMbrv1vhhwbzt2PLSWcciymklCIsXXq3q56rjGc+WKgeFNZTtmdWpQk2cQa5tTsBM9m1vThXryriAufaPLqLW2mPjfskCMSEDIJogTA6Bij6DHtfH5GZiPreefOhuJcLN0HPAOiocJeMSa5ZdOvhWedgpTuiJgAYIsDOQLBrDDDQ5rjsVqiED6VgCSLGXUC6hKCuCgBiwWofBTRiwgEgEhKP0dhDx6CpA0F+B0AkA6BDY1foThmtBrcbcz2FmgB53qigsmyAxLf4AreXiXi7dnr7d4fcbny3freEkbrcUHCLfLeKtLDPf3dFsHJteFC8I64h5AyA8RaLuLbg-rbu6fr2nuIXelyeAVDLeUCcyCUvZkB5Dg8OCzifeXeUDI+Beu4Rh+PqXmDmYHBY849AnHeNCCXnHtB091kmaHoTm3Jpq-e48LfUCI9o-fegjU9mQjq3LmZc+0--2Gbqj0UIwyTM8vICXfkOZhj-i-fk9lbEUGdunfSQRht89E+o93DXkfgy+Y-Y9mTc8fe8+o9E--gk-g8i80iU9C9rAIV08y96lEARiAT29mTscchwZnQ2-DBQmG-G-rBeuvJ2+g+k8hOO9lY6cvKc90R3eW-4+lxG+BdU-m9k8s+EiRri+uju96aHYcioXe+8gu-lBYCl8JlwZwZh+fkm-+91oKRV8R8Ni1+gCK947l+q8p-rfh-q-7n8Va93mNz9UaBDfQky89T5MuIOn7N1rOLw+KB1a2JnCfOSgfBFccnmLb9hscl2fykJBheyoRegDNe05cXg98Xd9begCT+EBDfCORKX+Pq06x8Q8A9mSGC8Bpo9cHAV-Vrr-16AL93EZEaKp1w4DACkuoAg-kV0Tq3QDkeQSUH9FJAFIh+ZnODJgKb7rB9iqA8tCmQKR6BCB6A3VmZ0vBkDuSNCagRkXCh0CKB2XcQP+EYG0C0BKZX+qsWWAlB2uBxQMPEx548C1ITRK4g3BuJ+5hBfvPAR2xOLYCoSKAjgRgOCZNFcssgtckW235RJcgGiBzqsTDysV+CxQSgMN3LQEASAvCW6HQEUD0pTO35O7BUh6CKcleAWN-owPVxKD2mXAucllHUECC8+jPcQO4Il5igpeOgACkd0MFEFjBpgnQOYNC78D1gsFUANYIWiMCm8bA9XgJQcEWdL2DPM+HBlSFZsIOFQIoQUSE558e+UlKrPpyFAdZNKWcIoc2yLbEhKwCQCYMoDuJih4ImYNjAcCJ7dCeq0YA4Oj2YF2Ju4-QvVoMN6EagRhhgAJgh2WiTD-ehgfGq0IDAdDH0zBaYX0IgJtCK+oISmC3zroWAdhswzmF4TCBMhvUZww4RUDOHvBRhD-ZqocKmGfAhh5w+YTO1KruslhRwurKsIFqShXA1wwpD0LYwPC5hkfBJICJOrrD2hCkSmKEz1TwjDk8EcEEoBbSOxP6fAdEWWj2itAAwTTfYYHTcq7xQmt0XERoHxHwjiRAYDZqNjrCEiNWC7KDAcyuGVgbh7wmYVAwRgJw9h9I3hrCN2B4itwBItoXSIREfRmR8CU8hILuJmpBMsYGOLgLSiEA-B6wKvG4M8EeCiBGRbwQElwFXFAhoAYIUX0l7Z0F2+DUhqqI0AajhO1IlgLMFmrT90hDAzwUKjVH2ii2nQBpk6MoAuj8Svo+4XaMSE4iRKnzPgIsHVCskF2vQKMbWBjHBc5Y53YMY-w0BGAF205cwAc3yTZAyGGYnUgimtEahFReEZUX2DTFeiwxuY-GFCV9HWhbQvnUYGqL1a+jXAzoqfviX-ANjjhHIf8K2L7E0h2x-owMVm17FUMO0l4QcZOLrQ7kAm8Y6MTnRaHckCAyXWYLSOgLyDRglNYUVBji5UR9Qw8CYLMEK5aQzx8QCoLuzTG7tNiWosEFSWf4rVV0maSEn6PuhjjrxoYi8WIAqCzi60t4k4oPjDCBiyYVPNdPkwTEEAc6rI4HLZ13iriiAWgWkaBJfEHijudRNAXTALFKwTRRIbVohwzHoSeu4ookctwN6XcnhvgF7A4B66I8KJmYbQg-31zmjQh2dRJNNh5BlkDgmg-+ge1R75gcJwPavMtwcCETZQzwvMT0GW5GAimgwMsstzlBrjQAZJAABI91KAAAQXADgAe6AAJTJKQAAA8iPWQAcBRiRRIgENyaQ784cI4wIPaLM5kBMJfEnCR2L1YkSsJGUH9hV3iBdR7JraAJiRMBhAwfxkEfYsFJ5A2Sw2fk1YWMLUkaTtJukgycZNMkRSveXknybZNikBTP6JE2kV5MoACT2YuUkNr5LEBqp4RuqSkWgOimJccpjohyWGLM6oiqRGIvqO2jVEohHqHJIbnRGSAni6pWkLqafzfEdj7R7HJUk+KGkNT3xDAe0ehLFBbCNueYFkA5yNFyCU0t0PYdYCkCAwR4mo+waeyklcInsovRsimJ8a8DygiKM6cWhkiIESsCvRPh2lVy6jyB2gWYNwNEFAS8cMkPIG7wtFSgCy5iKMb5gLK2IdplAPabgBHhujt8eQePnUJr5VCFyI2CzpmI7TmIoZMMkeJUWdQ3McZ+0nuBH2SFgyPglQsflpRYGtBdpxM5oYZ1XAljtA3wONLlDWBSC+BfwRySmlVw6iOA6Qg0U+w2kaDVMkadwbTUiFsT86glOXgwF5IBiuxpAzwRkI9F-iThFgbmWGO4BFiycbPWThZk4R-Bk0G5HYItnNmOI+ZeooEO9M4FfTJiWs40RyH+k6jJZdPQHJEIVljjMB-400SrPdHWy20+2YOZuROJc4t2kg3AY7N+nSd9Z5mJaeDjeBIQtZIsgQVsTNkWzleUURcYmOXHad9Z35PTpHJUHXlvRBnOUc8EYBeylZigInooEz53ixh05SMUuKX6Pcc50EtuaK0RSXSyGdczmFmMaK1jOEtczGY92ZmKi2ZnYDmbXOGANyw53wjhPmPrljyAuE81mbUWnmFB65wwInneJhpgBzZi2WsfX0pgnMmxZoesQPIRRVyrSisp8T3FHlDiLAPYzmM-PMC3zS4Y4xDv8I1lChEOb832UKHnHfCO5MYzQeOisAYhGsnZHzk-CCLQLEc04YIO50EhiA4IzkvKMEE-rjRsFERKwPmgWjYK4FjInuKrysDTtHurbXAHtMzDKh6Mzzb4fY2vB4L0JbqdKMEDGBWArx8bUuAFJ4UsBS4jc6kGmjgiVhZgwQBwK0ELCOCRBbwSUFwpCba5q8n8sCRmgcC1pVFn43hXWLmnvzqJ6C-4H-DEXo5sF+iiwIBNFkmjVFL4yCa3Ngk8hgua+fRrwsUWLxqCfGJkBIooUt90iYjJCRuIFGrMbFtUadAlGUkJTKAekqVAABke6ZkzibgF4CWTppwQfyY1PmnNSxhzk6wF5LclOiPJGUvidGDSX5LAg6bSKUDFKU0JKlsgKwF1E-qRLolcS8AOlNfCZSNQpS3KS1KCWbDwcvIhJPlKCWWo+JRUgnoJNKn-iXCVgSqUEpTDschlzIvoKpwjYEBZlzIqNkWzdRdKMlPM5ib0rak2120kigWhyXYV1LCgwQEPnorDGTSrJz4+pWUsyU7kVxgVawA62zY6L+FiQ0iRqx6XMi0RGgI5cAojEnUXkqIxhg5HBH6A8chmcrtlMOCfLBFui8abcrxzCjtljyr8Tcp3J75ZKQS9CWJhcWCKkVdrDUb8uElv8ZYQdDgHROM6kqiaCYIlQ6zv4yRqVjAQGdLJO4IpOwby4lXawZXkr4R6bdlSyDq4JYGVQqfFTKIgWfSxQGUX-g2JIUWlxxREykNiHDCcJxJyIv0sl1aAzStAv9PJWFN4QOCvJv-E1abxEmXcHAhU4qTk3Kmto8+oigINIrwyOrflZ9HtIsolFfcEwYU9ZW0Lv6+BFA0ORHmVIRUMBA1AYUgq8nFaOqKgwopJiSUbxhSKV7uVGfuhK4Zg9VaeAhUatcnELeZ89DJQ4AggYK-42C0rGar4mKqMld0oStappIcA7V4ykqfWudXV5k1bqi5R7CCVeqO0PqsiZd2QUzKqp6vUNXGD9XTK1lVU3hnBiuUWooa3axvOMGFUZqXp76CuYqDK69q8wDMMKQ6sjUMjOFJq3WQF13WnrHV6bXdYepNX7Fb1jqo9TFLEC8IwQZ6KoB6oLXyrn19U19corf6Mh4VL6yCA4EiVJT9Jhkkya0upDgadJkG1KQkvjWRrE1UNIDQasgju4ZIvQVxMV3EGld0uvatxW+tzV7rv12EqtSIurzoa0lYG9SVEtiXxLSsTSxjUhqhKLrhRNG+pVhrDA4bt4sq-ohBC9q+owMJC8MmBn2IxYhNTwWtptxNGVFCMERXDIzGE0thBO5CMzuUPIT7ENM1FUuJ1VU2sFRNYwl4RJuzWKExKBmmTcZof4KbtN5moIMpqs1qbZNn9LTQQluiSAgQUcDUB8ps3ybrOimotkJtoAKLpNamoVQSpIWCaxAhmrSOFvYZ6tpVbQgJiFoUUpwVNTwLqAloSzQjV82qZgPysNRiUctfGWLVlqDknDkt9IhKJOr6C+shSzK3he4Vi2hanVWjR-q8C9pta9Azm9hpFplHRa9NIkLrb6j625aHF0GReRyNAZgiPhAyhGE1pJUxZxtvW0bWpqlWNEKV1yLvrdShoGaetGW8bV1GO2VaC81WjVsBDq04aSAjW5xSyvuFda2tSAgKF5pzQCoBtbQz+q1PRHAquUzco6jXwRimb7trit7dEyK06siMQCvUohPXG-LVKackJLtt8AoU4dyE4ZZsRr6HYpctcHbTSAu1Xaw1iYWgOG16BLa7WO8cHfgI610w6I0OEznWzGFOYHOojcRqMikYOEi2dHIdiO07ytMflwq78IuQOW-bMRNyAHTcjp1JMNEWg6CDoKDCll5WgaDUe-KKAdtjqk4kLhkHVl-zHOF-X0TXlYAaotSHLYObtt6A86eOEkKNgdw4l+K1xGOpZVjuwqJL6GhOrYNdqt0Mdisd2gre8ua0VBvdfOhdInTTRJAD2-VHoQ4AACcvAW6FHp6oI65N4-KaInr+y9L-o6IMEBUFbSCUHBf5YOIJWyGRpxAQJTgB71OGvABqegfVvq2nBoBG9wavWb5nyHmB09WbMEEjI5Dp7fl2gVwJKIOFd7c96qLwFkKpmdauqPQvvVnotAVAI9I2qfT1TYU0Keq9CjLBuA-Wfb6RZnC7Z7uJ2AxaF6+h2EytB2CKd4h+tfXRhN7JLbo4nSHZKEnXPEWA9ITsDXXvHEAZYDgADpmH3aHsOwBY8OEGEf2ddBS3ATZWLItT2oSAr+8ug8w4C2xExTAFMIJQ729ANUmqcTqAAdYvAGAk68wBgaXDnqCQHegtq4plibBu+OneoRT0jRprkuR8KoOlzYwUGZel6ghWegw05NCNaazXKwbz7mZoDsBkuPAc1hIHFwle9vdXp6F9AMDJusKWuGYM6Bn0chog4rxoNUGC5jiNA3IZN04GXxRwXQxqmb1SGl9GepZeCt6V-bi0ku0UmQZJWzi5dTABXdm1V1QGNd+NTjC3wp32tHY6OwJUsv3HwJOs26izVlhPEHApA6IEA7hNcEPiv9HAH-X-vE6AGPgIy-A2AYgMGK3+qxO3D4dcMITgQjugIxKKCPATq44ZXI3qxJ2Pihu3JdMQsH2b7ZYMSzG1q4qcMiAc0MsdDvoCqOJqdduwKGpxiLbSLDiBSeRSyCLVUa3+4wNtvUF0AjFpAe6uY4av0Cw970tM6GfTLsGU5q4nCY9h7IOTpBZFv-BzrMfPaMRdAdusss2KcHrsPZcGImbDOKGXshxTxkeFpsoXrJuEMuB-u8eI1yh79Hy-VmeL0B-yAAOlgFPWdDmCDBvgGelWZQYDqkNZ1HWnr0mQX9tRcIrwCBOuKQTFXMExrMhPQnlpnoZBPCfVYFjRgZAZ4kKhW5wYaToAAAF4bBPqkJhhjCY1BwmET6u+6hUBZOome06J3oEIaxNkRS+0QMSsyEiPogQTnJsk4ch5Ms1ZWPrIUnkCFLUAhSOdDYPqwbA7BcTJKuU6Se5OUnlTi7eQGqY1Namo2wppcEAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIZg-zBGSNQ5Cn+fgd+fxuNo06Epku61GzPRk8TF6jAFNqKK4DJiA4ysAEIwLBnHOtOMdCHBClxDcPiqhzqrWcbWAbe1uBudjKeWrjF7mFAc-8RjcHmOnlYxEPSRQ8CQk2yuUrFXysXUq29Ap302BTZU8JCuTWWtabqLGUoXWZA9dCv1mr43FSWbOs9KmdnoKoRpg80yiMT6DBqxTU7AVRMC2FPoXDQOCPwMm8R+xp3nigA21tlYQVwQRb2LUcE4PIyOYxxXdLQP8vkwRzTAK0M6YByZnIFmUA4CIGQOgbmeIQEeXFjWWZGCT6VkTRXSlIsxYSxoEbDWylSjUmNspZoxd+5J0l8CK20lKGVN4efLuPc0glz9twPnUwVhy9SBwjRcC-ZK65wuU3jjzcqIN7LyeuizfDsV86UoVvTokYcfozRvO6D88d4LI+Qy3eKg96eKe79d7xvtwHw3JlJ6HOoMchccKV3rNHpbyPyfU-LvOXHwPzpjdhxyck9PBes-u9AITAOW4y95NgZ9LQBq9evZWE04JLS2lJ3wmthoDvi+T39bSiX1fPcj6MFSyVRq42Or1y0ePQeLaZot+PyP9b-dF8VCX6ZsbQ9V-Dy0SPe-lWx7uYPnfk9+2Drt4flYpQb9tKtx0LQ+gl0V9XfA3vi-+d97QqCtrujMUnugelTL-pMI7mZMEAWrZPZE5C4O3AvOQPDF5D5C-rMlhofNOmwG0siNwKAUJAtv8l1AoCntQJWI1HXsiCtoaEFE-iQdQGQTQJQW9K-O-g4AQTeh6jmBDsQbkAoIQPgOUGwVkhwXQLQQ0O+GkhkMVBgW-kut3uIV9v3gPoDiIGLAHgePQEMu3s6EuvkiXC3sUjQf-qoUUKAWYeYbEB-lofIJ-GCDQTZv+k+n0t-OErIQnkfm4QxAigvPGh4WwLLOJs0D7KGMsHNnxtAZuPgZgnAQ5M5PTN8pQL4CQGgYIDgb4DVDFuPIsoAaLMAQhqEoYPrvHmxkFFeqAUUW+l4SUJeqGnJM0C5qLl9F+jOD+qcmEKUX-m5vkUNmkqMN+twdUV0RAeSt8p7rnq8mnu8hnmuhfmUeXMGkwIJl9PIV9DinCiQbUAvgbrUUUBHtzm-pse8n4WAd0fsasMfkcRsbCqcXirsfHqlpxBPtPjSkKhcTjMQT6ikULG8QGsbBMHxi4YGGEZqLFnwVDlGoavanPqapIfxsTi0e-geDCfvufs6lTAbvjpRFBBJu8AIG0f0jLP0YyA8usSiQajGmfgvAmpwNiQxlCb0sDP0ZSWiSSejAic6EFESZHP0dFuRBDnidMEFK8Ryu8W5iBrCSqnSQyVmLFtThPH0Q4EfDsX3GkkhoHMmvoOqUsA-vUZkCuE0RuBCJCCqdHhqHCNwMqY3BaTsTeLqawmRPcrkfKtyIwMIaQr7nAmAV8UyX8eKQCUAsCT8gSdLs6oyCPrPjKUnAKTWoLD8X6v8aPpQHqX6KUMmv9hkXhpnO6d3PwHouQqiCYaidSQ6vCSoaoYYHmZ6YWQYu8AJLcI1JPnoapmkmWXCQehMDZpEcKSCYHDbt6a7vfkfugoOUWeVBUtbE-FmUxt7nWX7mHrdrWjuM7rbrFFOVYpAVeM0MmlTq6WlhvqvoXiVpJqAN3jJpmm2h2rGeSI2N2HqJGTWQWS7ozMtO2r4GdqGVSOaWsrPLUEzECDaaqYMA+TwY+oGBSd3lYc6CThoXztoQ4beNyHqNwL+R-ABRceMYeT8KfuWVvpqTXk2WCiyd-IZhSX0p-pnhrDBXpHsc8ZzpHiHhiaygbjjI2OjIyBScxV-GdD-nKbEEfGrl3N-DxXaprlub1LWBcUxEFOjAxXDJHmuUOdRaxYseSEJZuaycpROYYhJW3isBSTpfWayfxfHrRQyTqDENhtcdbpJhAguXfpOhATjJpRJayeOSZZuQZdMBSZ5U4rwqPBcRZU8dTngLTszEoIzuzCzlzJYBzuYKvKsfoPDIRagRppRkJoqYsrXuwYYc3kUtwNBS5UsUSmKgIUISIQHOCLRehE3oUgakVR+TJZ6rBgioIcIRodQYRYyqho4VZBVZ1aHNVRegYfVcYe-oRcShCjINwFCjunqq-NeXgVNaCCRTNdwJiq1fzLYZWIhUMjIKtYauirNboNhWWsRT4S4m8EjIeuSEFOglMqRQxDVaGbdReoLFdcNpyYPILihuOquQxFZF9dysBs9X1H4bdcdueL9QBietDQ+ApS4Jyl8Gsm1JoXtfYUMmxaVYGDeJZTZUSQpjjfdVsoMATRPCjTlo1CwHgQUp8atuqh1gmFhJDC1ecI2JQDHImRjftSaoyHuQlaJMRQppuSURTLWH+v2TwCaWLVJRqQtZ+gUsJXqO-sppEIUKTXDYMJTttZxJDP0SYerYzdZczXjY-LrQeS8eoaHAhVjbHhJeLaeOLSwOsI1CTWbWiCfGIFzUYI7eEBphwG1L7c7ZcbEKUATCLUdnLRTKMa7cYBjWHTEM0EHT7f1mLeEAADzAje0h36ZJ3h0tCkDmQQgAAqVsRFdAvgggN6vAKqTYOB1AtQzQ4IoAAA1DNlWZRnNN1n7VQsKh3a9a3R3a2QbD3Q9sdhMCEUXSXeCOXfgP9MQI5DXWIHXSakzDSI3c3Zgu3Z3f3mPW1L3RnbvUPbvaPd3YfRPaHedR5HlCraZRJQzeSJTQHmHFbNiB7dMBPNWbbDHaHSGZ7ZPNqRne3h7q-eiNiK2TEFTWjfNHbTofGnse3s0JudnNtCA+YbMLfKHa2Sg+6cFn3RfKMTeNfXGSxIKFDnztnFze7YIb8fAw4e1r5cXTAZuVZLZJbOUJek3F+bNkKQ8o2JDIyETUdgJdyRXD-fAgbWLWrcVrVWhAbYUTTLwzFrNlrQmHzm-UQAhqFVbR5G5VQg-VQr1E-UiIspoxAzo-ziGd-fg3-fnQAxBVqS+hg2hGA5WFo5A6oTAydAw9jfHgXU0NSBJWg5av7a9qUPBNtM7b1IE0ZpIwQxnTaHaKQyuDqIyQYFQxldzXQ7iH4yakwwPiw5uGw3EXQJwyINw59OkWJdkdqPw7GIIwUsI6WYdrrmI4qEFAk9I47bI4DPI1eIowxEbcVio+RAqYAxY+-VY7TOFa-HTvIFFWzMzpzNzNgDZQnKQeQawdQQ4ALssXmugrEeCGEkwds6DYrS4Kc8wRQY1EwQOnCebjQRBset2hbXs7TIVFsywVQfM4yOgumI9XMK9bEHMKuJWUUI9RyCCzEByOCzBY9RhDCzLQePC4C2KuHMi+HGi9MI9c7KGq9fi5kM6BC4UI9dxIYAOuQFkdwBS1S9XYqKS7EI9dETC9EbGEyzEI9b1qoFPCwIYDVTy3y0zCsJyyuWCOCG3ci7ECldwJ+YCAAHygCoEd0MtiuPWeTSsxCyugDysAhKuoE+RqsItipWnTA6t6sGugCQi6sxDqtirABasGDwxysB1WtgDGvos7jggACkTrFrbryroAPrtroA9r3r4k0rAbirQbGmn5Jr3rzWAIUbLrurgbqBSbabCbErmd-rqblrQb2dMQ8bXrObyb3ARQ0b+rhbQIWbpbEICrebrrMbqBSrxb4bErCr5bDQVbVrXb7b2bEIjWTrQbhQ1bMQjWsQqV6YBUZ51z5zohBYKtgFK4ZSPmAw3A87Pzi7xZs7YZW7tzO75U+ALAAAViYKmYCKuxoOITG4i987c69R4k4WK0UAezs-M2mJFHOw+6wSQoBeK1uGKmCa9WCa+9Ycy2KpAHQN6CnjSzENB7BykeBxB4B+CEK7AJADCxh5AChxB9y1QLywAKLItCtEd4fWGPUABy5AVHTrNHVHcT-ee7VI77jUHCYtV7Kwa7wo1b20h1m7v77H9ljqLHAgbHZxzAvFfUK73HN7vHSrz7F4PAQnknECHqNlDBEnuzdAXB804chFDBr0aopAuBJ0p75A1Y1ZXUmg+gbmEn9zHAe8TzezAzFhN6zKCIRQ2V8q8YhAvN9ttJhFcFttdhCDtJhm-apO2nS1MdUDEnHH-tbngl060XqnS6J757pg4t8XqnHCwBFHsQNDYsuTAX4XssBcnNMcYgXwrtaeYXDhkZfnZXSFX7czWSCzDOyzHMmAGAQtb1FApgDAHKHw5UNwpAWaaiPVIaysqsHiU325umnSj8C34Qg9DAw90uhsYgvd83diJElxzQe33uNi2KigNwfxhhWggK23UtNa5AygygddGQPORgBBj3gbTMHd+gD3yg2c4IrdpQAPoALdVku9v3hXioAPjat3F6qSlAKRas23en4te62xCP8rEQ0E6jgYB9YgJ9EIu9AhF3xgV3Oxa7aP8PKRKPrGg91geOetHkVPuILeCgP3N603z6rse6lxQPyaukie-idcPPoAqcyk+gRLp6doPP4Q-mHiMvoAmb4ImGvPBg20IvGmyvAvR+N1g3M4I3sU43WaPPxkzQEvqQN+s65uIvYvq48urRS1VFkSMvBdQPhPHdzPTAZAbP6vwxLvZ9q4rdm3Wl2u6p4hS7Tv8CCvI9gfO9Hv8QvxrP67bz0vfvHPz87d4m8I2vRuKnkgiPkkoIr1e6gn+fLP3vi3RmCcJpJv+pzPEISL1pdcvva0yTWQMvpfGPXvpAgkRpw+F97Utfum4IAA5Jt3uifWP333j73Tz5c3n13xyqQG0kv5jzj8467J9LN5uNtKv5D7GI9UIMIEPcEEPQ5DpNvG4MWEPYJhwPCJXwcQv4j7v7WMv+ATeHv534nxX33-Xy-2QPGz-D6BP+T-XEHvyRqgALOVnZQDZxnDowSCHgFdNUU56W850hGUJKr0P6N00BWiamI71mLnJEMyXGIGuygHrAYB1ATQP0QQFco3AKPZAQ-yuL29kBK4BSGKkwzSp3KofdphgMO4tBQkEA1fmfGQLwwaBSAxDH6QMDB5sB5uRDEw0EaxcQmQIFcCH2qT9wP8BAr-AwOixfNEBV-UOKAXig3shBSBZgKILCR6DUewxOQdFh5KKCqE-3JFqwJRY79b4Fg2gcYAMHcFwCHidwSunXiEFGBsQcLPYIvj-dMWzgvwfoNAyGA++S6VBprzIHWdKBcAl6pEJNLxDH6hmUgZZ3IGwDqBUQqwbejkF8DWaoQ62IJ0sEBDvBOJfUMQTD5yC+MD1dga9VUE65+4NgiEgTjEznY6Epyfcv1xSIkBkBsNJ9C5gwHODtoiGPvtEWqLsM7ICRZGpoI8hDCLmjPcwDdXXojDcagccYYQFV740JhufWYURhsgLCEC-As5F-jerr0sCiyC0MWHKiUB8ATURqAMAqDk0MBowvGqkTWJfDNeDw6qPP3eFR4tIsUJQhIJ2H0JBgmw+fJ0L0aJUCSECbqG-iIxs1pQFTUOJ1AYDqARAHAUgOtHYREBn8XwvspDikGLZNwjQskfiSpBlYgQsmeTKI1CRg4nMF2XbBpjBJuY7s5TIal7hxFH98RcwzGMVjCw-JCAbSd7C4k+xjNQAkRYgnsK5KdMK4WEXIBKOT4MDuAaotpIcP2HOFeC3QxxtLX6FpMJmTjcUSSP2EQCDY-QBQFPFS4aEKgMCXwDsUMBsgnR1LdeIYFJDfCN+-4KFM4I9EujQ43op4L-xNLoMoUxAgwJ9wSwfR7ROZKRM6NdFxi7RREKMVA3MJBivRpID6v4VM79BWC2YzOO6MjCeiQxPoqEZLyMABj9SxYoWMSDDG58sIkY-fk8BjbVAW8NsIsWWODHQ5exOYp4NGOdDtjq2No+MemJEQIjECqYt6DAnVjydOC1IQijIHnFIx+kgQD6Ej1tEMAeOS4iYPP1XFUB1x44tnqeM57ANUxqvTMrn07FkBuxDiZMYMAeToMrxbnUcUqyPEI8T4G420duInFnpNxgkNNBMRtpyZRYlIUEPGhBxBJWUZGKCDtn2x7ZBsTI3XCDl1qAN6RV2CCM4JC5k4MYsE07OGO-HLJes-EKUcNk+y0sqArI6cTLRImMAyJ-WXiNRLgnG11+Io6ppr2xwcBj+e9R-ljiTC44Zh7QLjCxK4hUBwgzgoRqbUF6Uj9AvEKSfqRC7gSziUE2kuJMImcS+QffavgeAUmSTReacPSZuFgmq9eILeRiU9gIaKThxKwG8GZLsnTALJZAKyX1g1G2TMxaEbaI5K8mDNlMfAwSTjmP7Wi5oHAZ4YwFPEpVCKWEVNh+INJsAb6GwvoJWiniMBARw6DKc4G4BCDxJQg+CXeTPJMSSKNIIIoyBcmkTrJuUmiUyEeH0AxsqHNCPlOUyyVSkT2EqbIX+48ThJ+pG8YnlgbhTDEqYxsn1g6lBEkpqoBOi1ARgGS7qgDfWAPw8mSSJp4gSQL+K3HdA2Q3QSsYVLDIAc0oOILaX4C2qANAK2E8cO5mTQg9qQEA6aaIKJA9xZpp5MMt0EZDbRFJrU5YvBm6DhAgemGa6d0ALjhTQApdAABJEcGAAAQXADgAiOAAJVLqQAAA8lR2QBAhBahNSQGoFBF1SGyFU3TtpMIq8AppMoeGLNMsmq80ocmUmQEKv7aQ3y+MvgVTM6ALgspiKefszMyA4z6ZiKdsVCLBkQzoZsMhGcjNRkcy1pd02mWCIZnHjXJhFKmVFLukMAHpEKRmZf2ln0BPIp4u4d8m9AGC6ZxZcma5NOy+ituO4r8Wux0ywS66ircbGoBMBeA0p3M4dNbMsj0TLJp2YgTICxm8s2ZeM2WUkGRxAzJAcQDIMJwcAt5GQAABhOA2UagjkMFGHITG35Yo1AQYFdCTm5AI52gIELf3Dn5jd6eIT6QmDzkIps5pAefoTHjle57E+EgIEnNQEUI05MUk0lr03YmlS5jc1OcIDb74Spx-XQIOqRrnihUg1QbIGHOelUhO5Mg7uQLSXqJzJEXc8qGnOSjP1FkCWQLHRlJErgFE8GCQQ8lKBVz55aiYUdPJnQ4C5MqYWcqkEVEHyXBd8EzGZizRTDeBTkgLEliCy6jn4WZE0Wo0AYbyP5WaPOStM+phy1YNJOaeaN6oA1F4EC4GmHNLQeQ3g0CYmbImAWmyPEwC4DEnKULoKqxIaV2DeFogTyghMQNgd606A0ZfAVcVYvCD77Lc7QWClaQwWCR5zx55MaqQxJymv9cQBU2kQIGgT9BGAecxkIPJLjDy-go8+BMAqYiNh7suIQIsVHEzyLdxVUnhf8gDm6c-JyCs8FoMEVCAF5fIN+Q0GanFZi5oJOgN1jGnpR1I3U4-s4L6lGZ1iw3Hhewppofl9A+i4RRPOHEDTJAQ0oCfoBUWKKfEwMgWQwDhnWQAAMkRzRkJTY5E8b2aNLznFJ8ZJsqEcTLuakyjZSQSmRLJpmhwUlOSiQn305kLgilF6MpYYuKSEVwlkSmJeAHFkzhJZhSsOaks0WEVTxCY0nDpgVnDSlZKs4pfv2dBTIw5Ws1MfCGIF9LAlbczBHnPGVAT7+EAhgkUrSWEzTZXSi2Tex0wiLq242FhYYrcXtyuFhMr2T7OqXFKg5PnfmGskEKSJV+wA9RWsukZXiNls4rZV4y-rNM9lsYLpVF0dEDjnxBEPWc7LfKcKPZpytzPFJWVtLHlAAjRScuUa0UXlQElac4oeWr8ps60wSOxTPKtBkQjIA6asLhVv8rI6KnhXU2lr4qHA2cLkfqVuUPMXFAAklT0BRW2i+B1K+BLCNTIsrwCbKj6CAqkUVB4YS0RSabIWnbclpLCB2E7mYzvTlp1o54YEFBXZRXod0n7gbOcDrRiCd0paH7KVH8LQAr0oEAMvLCPT9VcZRsE92LomoVVkU1MVx37zTK-x3QdWbjIWW2jKVb7fgDiDdU8y6AHqj6DVQeRYQ-Z3AeKdasHntFNVAS9lV+V7IKkI0NypVY1FLlqrsleC3aax00WMgdFqCyJDIvJA6rSZoqjpYU2-ICBjVAsUmcrLNWqyOllqs8pGttWlzTxjqtbM6o2nbA5lYy7WbKKKi+qe1HAQNQoGDWxgsIec8NYG2bWnxW1V4+NQ0xyL9cQRpc4IHao1UayJC4q3pGAv1X8S6iK63dTGpKW58QRfsjdbjIvRnrj1F6-1etA+DBA3hx66mdTOFW3rUQX5KKGwH1mbqAO4SoWfDMRkozGl5If9TDMA2iy4loa49VOpjbWwf1uM8CtLXBAYgGeSa3dMIFaWPBM1hQB9cqrTWMB1Vhaw1fBuqWMg6l0S2JUxAo0NLypHcsObBurakaUlX5THKhtunepSubwU9uwU6IXiX0fGw8a0242PQRihFF+TUXn4gYRNKIYpHxtNm6j30+yHmhSx41iF5N+CrniFmKKjVWmqm0TRpo4kSalNiyEDPptk1iaFNj8QTesJcA1AxAsyUOA8sM2ANjNK07jfgDHkybsuWK88dupK6+o-CamgsJ4voDBbUyqvflQoD74eax50msLY9GKTeaItTk8lcyqJLJbQtdAcLV0TsyNSotPiAdeCCP5D00ty-V6rFokIJLFkqmzzfAnM0+btJ2KznippSDhbZEDWiLQ4oaK3j8xD4pMeWLs5XgyteBPTW1tE2dbRiBWlCD20Da1a4t7ZThONos2TavszpYFcrXPH7Qitp-MlS0SZXlbaWbWurV+wnj2aeclhJrX5qhGbL5xls-ySXFtnrbBQBCkLPtoeXnbruB2tpIQWMVTgwp-i+1YEuUa2BnthdPxRFOxV9MdJP2a6cmhm1FACt90Iref1K3vaKV3AT7VDBsoIwTA-AP4fsNNkUkiMxXGriexOQNc94K0pIRQKoGiVuCvm15TGC6bvK7t2yv0EI31bGRcdT3N-JpCk40AecrZFvlNvpqtkOo1MN1pmNmGVgGpjU2IGcPgKJFeIxGdIsPW+zrbwQNO-IejHv6u9qQAOyHVFL+x+hdyoaAZkjuhhFbtdKQ-omjpuLfbXqNuuneNFjmNgbgoguls6MZAABOE4BPC93Usodd3APTxGdHYq5MLeNWJjvLX1CXG0qskfKKhwuANMUc8tYUED1tIR+I-KyGgDz1eq+GhomkbEEz0aiPg+ohoJnoj0p5VYXSkeOARcA+R5qpov+SXrD1B6ulNekptwA91LbKWzo5hWwCoU0LhsH8R9YztRWmyotyOn1cVqH3UsR9UqTBCNuL7z7qFKxc8NVu+SFDvtEvOgEVBPBkBLYayZDrirDKtBGQJg3wCILEFuADJBqL6NUCKgn0jgSyotVDkoKkBj9cHRXupDWRB194IZUveCG8g+RChoAVftWuf1oFNWXnFcKXs94YrjgcooUixAHB+ymALwlWFPEw07FWgBqwSphsMXdx4U5669ZuuWrACK95IjqEfpyw-6le-+k1PCCNHBR+91LCEKAe8i1T-VggXA6IC4PeR-IKBovWxEXWV729bSEA4IYgM8KNopUy9oIaEOyiq9UUh5F0vu0KNvlCrPQogdcVeT+dyInnK0CmzhrZd-0QNvzmGUjbgB0qQ3bGq3HJpn48a65frVaZCBDAjkVWE-v4CTyBAF+oEFfpv2FD79xgPfc-sHqv6bMTTEuABxsMmGDdbUQaUDr-FOHWNf1LTdDrTIzBMEDkIin1jmgSTmAskaCE0QT5gDXFhhheCiK+gJH+OBSUYhLosMxsrDEAlRUxIUl7hfwfC80ZztsVCT7F+pIKbxJz5XFOMWQQgF0ci0FJdJ8kyY0pN0wqSssQhXLI8EmObtujymWY17gUk+jcJYE5YzljWR5ZCAv4dY+stRxgBNskIbY1hHmNGTJ4dx0kM4PaPWSbw8xv7UANOPDKGgrx9ye9IzHy6Vg700kJ8djDKM++wx3HAXB30PKR+GU-QECYAA6WANhf8tDjPC3owQNnvDt1autWMaEHPaojoPGAaosJ1xfCYNmIn5dKJtEw6IxMvCZA2JgyfpN4AnhwCPQLCGydAAAAvZTqABRMWF6TmBrEz3yaM9A+TBJvSESfBCf7j9aw1CAdHcPvAvDm4eE8KcxNMmxT+bJvhQqHosAh6ygIesf0mAj80weAck8yvVOJjNTzJnU2h3ID6nDTxp+-jKf8hAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'style="color:blue">[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO2TdiM2ndSMcNTd2nDoV+4xAkYQGG3MFpcoHY+iDuWE0FrDI-CAAyZPen6QYk5HdkY+YMR7ph-nnY+r6s4G4GBdSPOQ7D0E3asugS5qyaGfMQxfGV62GHwUXG8+v2caC7aiON-kIoDyuGAtagxDoT66Aj0eqKCwXq9qWud0jqzp9n+edP2ied7n4gF6FjvLf-JfXyHjP9BvYekz9yYD9bkG3Bn4-T-Rgfr4rh+7RHhrMefNOKC2NEIGcFRlBsB+llOgP9lgryruQYO69w711AOCcBp8oEwLKvQZuhdOLYMgSYPBcCz6d0vvbX+8t04jHvrfQBstn73QniQhguDYGxW-mXRBf8mGP2Yaw6GE9Bbgw4Jwsh3DnAINiEgoONd0Fb0wRIxqXD8F0EIRPNRUjoEyOyu3KhciYg3wYY-f+1CWHAJ0T9Mm6jpGaNOn1ExuMEyWLvo-JOwCiEeUFjA5WwhyBi3hoQQI796CuIUWvUOyjjZWQCSwIJISwnEAiVol+sM0QfSScE9cWNJBkEMFEiuNxsRGIvt3XuJduAeO8Zk-miTkmW2EL4EpdCPHCJ8WI1IIkhbMC0Hvdp8dkGoNiXXFR4I+kfCoMQPe2jX5uKSCk8JhhZF8PkQI8xdpvEFx6QwN43FUQ-ARqk9JwzAyrxQUoiZ8TQDGSKFg+gRznAnNCas5wCyskqGeSshgqTM5X34XQ8ODBAgyAwXiBpxDfmnNIAc+gxSNmmIrqC8FGDSRsMWYcv5nRF40OBQmNFlQME6H9os-WbRayOFLkCzZdCrljI3viqOmDjDtBPsoYgXz+aE3ZdSrlbswjL1RXXcE-LOXcu4JHMIWLvkSppf02Ze8kVX1iISragidmj2hR5KopAPhKsGSfFlwraHuNvjK3V5hwkzhmcaheqqZZmo1S4ZhsrREUtSHMzQuIFWCqtSKhlisMhWI9S3b5-j1h2oGXMk1QqhIKJdlkd13SvVNS5F4VxSzA4xOZRg8E7APBeB5ZxQmRblBZuRTm4EYqK0lulaPOV-N61NXwK07NZjBhdL2emjQhAQTclRBc3N1y0G3JltvQgA7qBDs+dalwAcVlpLWZE6tXbPHaqAc2ziP0xBOpNuazV2yU1eJ1Qu0ADkp6kH3foIgLr6UjLSKGu9hBw2+PMPqw1e7X0PpRR02+96L22uvbeoDQaEw3iA72yNqROr6FOXHS5oybk7lOVZYohCP0uAqCQEQqRInobGqjcmNMcYT0oIERqjlOhZv6iuAc4ifoIcmDjFYA4qWdFJn9B8bG-TXVILWJiWZnzRgea8RFAgWCMmegwV6kMEPUwKUBNCQVpPiSDOqWo4n5L-U6MYHTKl2RUYYDRtgWbZPfxYI+ZiWBoIURfA8hRWE6yGf0sZ4g1HaNDFvrxnWHmvPmc3VkB8bnmgyH08QYTOZySBQrpRzzpnvOIYLngAOTM5AsygHARAyB0DczxCAjy4sayzIwSfSsiaK6UpFmLCWNAjYa2UqUakxtlLNGLv3JOzXgRW2kpQypvDz5dx7mkEuftuAVamCsDrqQOEaLgX7HrJWFzzccYtlRU32uT10Qt4d3XnSlBW6dEjDj9GaPK3QSr23BZHyGQdxUR3TxT3frveNm2rvTZMpPQ51BjkLjhSu9Zo9lvPd+-95d5yPvXedLNsOOTkmA6hyDw7oBCYBy3AjvJsDPpaANRNtzzomnBJaW0pO+E9LTC27Dye-raVNdR8dunRgqWSqNXGx1E2WifZuxbTNS3GfPfrZdmHio4fTNjfdlHj2WjPYl8q97dzqdi8nv2wdG3pcrFKGrtpK2OhaH0EupHq74Hk+55VinaFQWjfRsUvdB6qbm8mNtsywQC22Xsk5Fw7cF7kHhl5HyevZlYcPtOtgbTkTcHt0JRjqQwnUAUH96glZGoY+RKxqC-6Ew6-+V1RPNAU9vVfobhwUeb0epzKJgWwp9BgMUIQfA5Qi9ZJL3QDPhp3xpIyMVIPBul2k9b1TQnKwEZI1DhVg89AhnD79Eu-JJc8fFPT5byn0x7cr9X0UI3V3J+fzBOnmzWfkNguBs42sowaRsFluJ0ofT0YIoXvG8J3evsq59qGZYDmxMNFd5uSPmCPcHJnJ6ZvlKBfASAA9BAw9fAaoYtx5FlrdRZbcENQlDBJtPs2Mgor17cUC31X8ShL1Q05JmgXN6svov0Zwf1Tkwh0CLc3NECz80kL9KDy9cCaCndyVvljtwdXkAd3kgc10lcMDy5g0mBBMvpe8vocU4Vc9agucpt8CigntSsDdpD3kH8HdaDFDVhZcVCpDYV1C8V5DPsYN+YmdWcaUhUtCcZY8xYFBfUhYLCA1jYJg+Mj9VRwJxwAoq9bCYFDV7UOdTV29YwgpJDDcDx-DJdFdnUqYptvDIxHMGxJN-oIiY0ZZGDGQHkwiKD2cpcYjOA4iGMa9BY78zocjI5GDgj+MK5yjjZGDotyIq9M9phQjntmc3MQMAiVUE0CiTCVw2JoZsNa1DVRsHAj45C+40kkNA5k19BJilgtdCDMgVwSCNwIRIQxjXsNQ4RuAGDNi1lZ45Cbx5jWEyJ7l4D5VuRGBG9SFzs4EHcbDijUhmdvE3Cfl3gBAZVGQ6dciTUHcGia1BYfUwDHCOVLCrUHlShk0Hk1hp0T5M4rju5+A9FyFUQl9UjfiF4E0h9N9qRESbiUSDF3gBJbhGp2jcSrxOiojOcrURFCgv83iFE1s7j9tNcZd0FmTUTyoKlrYn4YSds7FxRCSLsHtYwFI65dt1tYoeSrFncrxmhk0ApBiJ5jthdod1pGxScZNM020O0k4mJGxuw9Rvj8TkS9tGZlp21fAVMYhGx9iP5agmYgQ9jG4ti5CjSK9H1AwwjScN9nRR94SxYd95A99bxuQ9RuB7TDjQgtDOCzC5dT8ujojWUptB5SlSST95ZGD9BDMwi+ljdgcNY-S9IFDTDOJjs7tkzrCoJGx0ZGQwjKyv4zozdCjCgj4Bsu5v5Gy7VhtZTepawtCmIgp0YyzitntJSWTCyUzhDyR2yZTsyJyuTDFeyCcR8yDuM-hhSKFeFR4tDizCidQYghjuDJMIEtzWTJ0nccY5zezszOSiSOy+yVwwj7ynEdyiynd9y+iIo0tX4Mt5AlBst2Y8suZLAitzBV5xD9B4ZpjQB-cNNKMhNlTFl0di959cciluBfSryRCiUxVch7DG8RBm8CxwRiz0IcdCkDUsKrTBzPVYMEVCKm809YLGVUN98rICKG9mLX5S09VX5-lKLF9DdYLiUIUZBuAoUd1+KsldSI9RLQQT9xLuBMV6L+Zt9Kxd8hkZAFLDV0UJLdA4yy0MzSiXE3gkZD1yQgp0EplT90YyL3iLKL0Si7Kzp0ZWKUNx0dx0YrJTLaw+KbVXK+oH8LLvpKY0yAMT0wrzwjLitHAvg1k2ogzNKQyhlUzcLAwbwDyhiciFN0qrKtlBhsqVT4r8BjAmoI8ClqzCgCq6EsJIY6LzhGxKAY5gTcQJ9UqTVGRFTwLRIMyFMZS0CKZaw-13CeA1jBr+ypjpLP0ClHyl9lNIgaq4xIrBgaYZrF05rkCyMIhlqvS3VH51rkKuDEZAyOqp93teyhrTwhqWB1hGp8qVqiUT4xAWqjArrwgNMOA2o3qbrtDYhSgCZ+qCl3qqFrr9NHc7ryrlcVdvrXrVBQaL5hUAAeYEF636iGm-FoUgcyCEAAFStjRyEF8EEBvV4BVSbDD2oFqGaHBFAAAGp7lcSDY5ohQycPqGbMErJOaZ8YgWa2o2awqJhxNTIca3dwQCb8B-piBHJSaxBya-jKaZ0abMEebmbKNWaZB2awbwhGaHK6bGbebWtDYxBBa-rYrzA8pHzsyZTqzyQSrKww4rZsRHrpgJ5DArjEbrZwa9R1oVgk0X1Br-rGcrsnaiAcyKTudoEyqTpzrQyFCZ9mgZTs5tog6jbZhb4-qjak7PaiIPqbQ7RzaASWJBQa8Kts4WqHr7CQS4694-aqcxbNxbaAC6BLZyhL0m4bTWImiHlGxIZGRcqQbWzqi6EPbbZIZ5rDdlNyK0IJ7trlMu76TYtaqEwKsw6XbvzeqmQP5rahsqFeo7akRFk170QN7Ks3j3bPbJqKZRrFQA7XY06CIjtQ7T6I7V9OUErY7gyLqsSE6CIk7eyU7LUPrh9Sh4Jtobrepg6Zs8TbY86daC6sgi7+imb+wy6rsK7Wrq72rv69966f9G6va2ArJbI26RAO7PpIDuzYDtQe7Yw+6CkB6MS8q+iQiK4x74EJ7Bqp6S4cTI656GIFreHF6Ysl6nrvSX7naENN66Z0tmZAK2ZctOZuZsAhiE488k9C808HAqtRC810F-9wR4989k9uUL1jHNHGoE8B1AjFt08INj1u1DqdHaZCoNGC9U8-zGR0F0wbK5gHLYg5hVw+GigbKOQAmYgORgm-SbKMIInxqDxonfGxVw54nw4knpgbLnZQ0HLsnMhnQQnCgbLuJDAB1yAYDuASmymSbFRCnYgbLf8Inf9Yw6mYgbKbgWqp4WBDAyKOnVAummYVhWnhiwRwR6b4nYhoLuBrTAQAA+OCzmmp4ZmyzyCZmIKZ0AGZgEeZ-3HyJZmJsVHY6YDZrZnZ0ASETZmIZZsVYANZgweGaZz6s5sAfZ5JnccEAAUjuZOaeYWY+cudAGufefEgmZ+bmYWY02tIOfeYAEJJRQWHnNnfn-c4WgQoW3nRnkbvnEXTmFnUaYh0XMmxVkaAQ1mwXtm8WgQkXoXRnZnsXHnwX-d5mCWgXaXSXuAihyWznZmqXCWGgbKYW7mFnCgKWYgYXYgYL0wCpkiLGPGSLpSrrAQVwykfMBhuBZXTH5XGZpWPieB3HNWl18AWAAArEwSgJ05VjQVvcF2J-VlPByjxA-YZooDVrRv8tMSKGVu1xqEhJ0kZrcMVd-YQByoN51yOtpsVSAOgb0P7CpmIKNmNsAsN8N9pqgfp2ASACJvphgDN5NyO1NzpgAUXiezcLbzYpJsoADlyBK27nq3K3oHcSdWqRXWfXTzT5BqlWVgVXhQKXtodL1XvWNDmBHVm2BBW3h2zzbcu3pge3wXHWLw9WE9LHJ3R2Tghic8J3tG6Ay95pw5YKc9Xo1RSBw8TpjXyBqwPaupNA36rwJ3rGOA947GdGZ6Gg91mUEQihjr+ZpwsRkqtL41YKAziLa741DN+14T9At2BLr6jal2THC8OEg7X22y4TkZoPZKjXTXTAhq4OJ2OFbdy3YhK67CHDQOF5XHkiSOxAvg7qAdcG95vj4xCB-3OqsSPXfysl-ystFGOZMAMAt7zKKBTAGAOUPhyobhSAs01EPLn1lZVYPEZO5TdNOlH4lPdbMEGADbjbNa2lFPBS-hn4Vj6EnHC6DOOAbFsVFAbhHD58tBAUTbb6gpyBlBlByaMgysjAo9XPfmmZGb9AXPlBs5wQ6bSgQvQBabubGbAuiPFQQvG1HPzH4gwC1YTbd2hr33UlKAk3IhoIV7Ax+axBObwQIROaCKbPjA7O5CVXMvkueho8NP4RwQNq9XJAQS8cFAAub1ZPZi91tCwvk1dJvt-E64+vQBU5lJa8Q1XYbw+vwh-MPE5vQBUXMFMN+uDBtoxuNNwRMNjJSghOXOZwxPYpJOs0+vjJmgpup4qa51IkxuJvVxOtyCBKCy7vuvlOZcSvtOsv2uyBOvNvWC5uNPxM6btP5zRtJjW8CxIcTcuu1pgfVxQfOafvcQOvVXTOsgcCgfdaQfrAhuVcUfcpQQHK91B22vUe-uPumhJ4sJzvFjCejGNwHL0EAe1pEG4fF2UemBKfjP9YNaSY6fdNwQABybTvdYr0X4zwrwWvrlrrnjlUgNpBXmZjKmYl9T6eTzcbaZX2L2MGyoQYNqyYIfWhyHSbeNwYsfWwTDgeEKnggwn7X2sRXx3G8HXsn7Lin0gQSYzh32+N3v8fQf3+Xp3600c8wc9y95Qa9mce-MJDwFdXA2TtXWdRbRDFccU955P27rRamF7-g85RDFD2IFViP9YKP6gTQRg3PePtwdLxPu32IOHSHtPxYmyzDaVW8iH8bRDbQ0yUJMPlwZXs+X3eGavrlNwRPx4gwW7G71P0JKoiTXVpdZOoEFccH6pfuI3fP2Hnv6LNxmv4wUOe3eKK1ofn3ZgUfuP8fjL1g3fw0IKZfwB7buJ9PhJrX2+K-lddeaPWpLVLIT-i3kf3LxGcYGj-KhMF1Sav8ABh-UDIYGM5gCL4wXUvlewr4x8GI+PJQm-yh4Kt96hmEvhezL7R8q+0Auvj3175YCEB1sQdgf2-7AD4ilEWws33n711rKYqdvtSE74b8JCzA+gYkX9AVxTkSpC4vzDAIkBJ+qvGnmsRb4qdfM8-Yzr-lwIkM7IQBFwK9zdTgEzGLXcyn8XEH5dA4LmOQYsSyqGDvsCgojDZGUFe4Wg2-DyNoMdQh5FkFoYsOVEoD4AmojUAYBUCKrz8IqkGDQZP225ODqoLXTwS9i0ixQB8iGXwY430B2DzW9fAfgLA+IQJuoBuIjA1WlBkNQ4nUBgOoBEAcBSA60dhEQF1w+DmiMQWwvBh75vFF+VIZ6DJmJgvRGAeVUJEpl4YAlxGLgeoRpiDZuZSgDgLISdlyEG8ChigzGLwzCw-JCAbSSzGdGeiH5K8CRf4LYQMGEAF+d9CuFhFyDTD0e9fbgNsLaTGC1hCwxoksJqH7VrBhAYusvU6FTDShawxIQbH6AKBrueGUOBUBgS+A5ChgNkB8PKbrxDApIaIWrwfpQpX+fwr4aHEBFPAfeaxVOlCiL7rNfOCWD6K8MDIQjvhKIl4URARFwdcSGIqEaSGcqP4T2-QQvASKMC-DIw-wwkT10DpgjFiBIoWMSBhEwMsI8I3Xk8HBbVA8cNsckdSMhH6AmR0I3Xs6C5EUsnhqInESImEGcRJRLwmQDAnVhWt-8TnGokqKRj9JAgH0VLs8IYA9tS81ISzt8kVFUBNR8o3UR9DpEP0sR63aEjAx5FkA+RDiT4XIQeSp1bRKHcUfM1NHZcT4Wo54ZaOxFnptRgkNNCdTHxyZRYlIUEPGjUSVMqAbQ7GDWWSLdDQAsmeTCDXjHjDAYQ5CuN0LAjBhxwr-YDoMGzFBJWUNMWEX6OWQdN+IswlxPMITGVjlMiQ3iHjkYB1iEavEZsUmPoy3D+623CLHsFqB01X+4IYcRwGDbyD2gXGHsVxCoDhBX+-dI8g6LgzMZeIS4xYqWKjEaFYxWJecRWL7HkCE4axTceNzTiniDwQoxcVALNFkBOxoUBGjeE3GIjnQN4CsaKIoo1jHxfEBGttFfF4i0I20T8W+P4YL1jOE4pMKOMeFzQOArgxgBaJgrAisBiLb0UsTYAW0XAagEwF4CniMAghw6Qic4G4BD95xQ-HauSEbBdiT8l+YqO2IfH6inxgfEPoJVZTET6A3AICWhAomti9BRNP8bRO7zBdJxo41-vaO+yJUaOkgQxFiJJKCTn8V+LCWUHKotQEYUHRcShL54m1dhm45SWlADE6jugbIboECJTG6s-WaUHECZL8CqVbhTpQsVplEBQlQ0EXakIkLUmj8iQPcDSZZVqECBugjIACYuLzGiF4M3QcIGF0wxuTugBceCaADxoAAJQtgwAACC4AcAIWwABKeNSAAAHlK2yAIED1RyqSA1AYQ5wYil8kdjjxKE3gKpJlDwxqpD49bgZM8nf8Le2kC0gxKSDkCDJnQBcBxPeAtd+pmQCqV1KqmwUkpKU9KZlJyn5TCpI0yQHJkakdTwh3U+8b1JQkGSLRnkhgN5IhQ9S285vdafQE8jyiHBJolqONLRLNSkgtUiQfKLehKiVWOmCseTTmaE4cJlafCTdNkTvTLI41H8ceMREyAyp-TIacUiOnHjaY8U63m2wcB45GQAABnXYTwagjkMFBkA8Gz9Yo1AQYFdGxkIpEZ2gIEPDOJkkjOaeIUKQmHJm5ASZpAFroTAxknZ7EG5cmOTKz4UJ8ZsFLCDtwcpYROZuM8qPjPZ7qdEhgQSYqzPFCpBqg2QbGRqWSJCyZ02fOTGaEvQy0sZkiLmXjIJlMQKMJmMzHRjKErgFEVQnwZCSJp3AWZaiMYcrPVy6zG2cOVYY20BprEEsgWLNNtB75gTiOhs7zEcJAF+g++Vwm4RcI9lJYgs8M5SQ4DZpMS-xUHPcL+EokDjGGQ46CdOMWJQSRxmc0wbOP-5Jz1ukMXnuuMwhQpUGMwawZGKFD-IyqayP4InPVbJzlMJck7FByBEljTqxFGuQ3nfgNzCAv4QgGyDIygA8AkIcea3KwhDyU4l4uPGeNJCv9Y5WteOfxBfG4iKSL40kL7KKBLzcQXY3SevPDaKgAJW87iYqBpjkDs5U45rt+1AS9JsZasBXBRy0meVxkm8akqyimTYyAq2E+gNAnqmyJo5KEjxNHOAxEyB8QCiQXk1PQAJH4oC9bvrzYA0ZfAVccQvCGM6qc7Q8CxITnmCTwz5Z5MMiZtJ3agBeJvDHGI2GgT9BGA8MxkJLJLjSy-gss+BNHINLJFd5Qkq-JkVXAcL95RC4GdxLeD-zYeVCoQFrL5DbzpgZC3MfxI4WKT0o6kUSbnMrkSSjMkhUTiHwIWNQB8oimhQrLAlST4Jsk0MfoDkVd4lJsMyQAlOSkMAsp1kAADKFsipGEtGYsjBkKTsZUM4hQ9NkUNSKgTUo6a1OWntTQ48MrxT+L6nLSBp4i4pBelGkLgwlXIiQdNNsUOKnFS0mcCEpiV3S28KEp6RB2Rg6YdpckvaQdJyVfiVgX8jgOdKxHwhERxSkxfzN8rYyaloY23jgugLZLoZOY-sRcKem+jXplJbGeC0Jy4LxFWi9Vt4p6Wxd3F5UxJd0ovmwT7CkiZXixLIC4gFlc1eUbBX6UvSrWK4QcfMweT5K0O7wgUW6IIjegj+nU26fwpqnTKwJ6EnPIkruUPiYZxZLhraMSHqLVlyvPsYZMEgULkirQZEIyCsmiCvo-vcED8pD40MxqIKhwNnF6GLE1kyyxqL8pD7-LtlxnBFfAjiHFJ-eny0McpMFieSlo54qBc8X57tRgpLCB2AKXf4jA9Jjw1wYED+nZRXonkgLjcucDrRbCZKhuUNPWH+TQAgUoEKUvLA+ShVAJShYkElmUEeVxi54TO0pwNLAx3QE6ZVLoCtLnhcKl1vwBxCaqJp2qi6Sh1p6KqSF6EtzjjRNTsrEJtorugySgjnAI0P7VlY1HJmcrGpWixWbqyOmMghFZ4WHqwvJD8rGp5K4hcKtiCNgxVSQ-xftMlWHTI1Mq5ItavlXiKAVKqvSGqqMnbBME8MnVR9D1WFAiohq-NS0tNUPJBZ2M7gFarlW2ryZ2yx1XQzgJb1Qh5M4IHau5WnTcllK8ZUKormYD21D8oVcZ1CFDTu1Wqi9OOotWTrjV60D4MEA8EWqVpK0-xXOtRBd0oobAa5T2r9YpLZp2U3KQVPABMQD1GUo9QtOcXmqe1ta35tbF3VarPSY1cEBiBvmurd0wgUJQ-MgXkhF1bKz1YwC5UhqRVD6mJYyBSV2LHFp68kJBrSXXq1i8Mu9eCzA1hKu6QUV9SWg8nepsGD+Y1sXmoLWiQsqBC9DkTeD4aUQbBWCt7JI0tcQM5Gx6MUkI0oSjh76fZG1U4QpAKNBYKjS-OfSuxCNLXHIiU241ghmNEgmjXgTo1pJIEXGxjbxokGsaL0NQMQLMlDirLxN-EyTe+iGLkb8AcshjSiCGpErnhsnDjYZp40WbzWRcrZViOM56a5Z9G+gKJuKRWaaCw+GFesvCIGoZwVm2Ic5sY1D4ziuJEzVaNpilrwQBvfWp5sV4OUHNbeVxd8hE36b4EImxjVittF8aONaWlvDlpw52iiCDokkc6KkSujBgOmGLRHgxJ5awQNW9gqFsEgoQGg6E5LY5pk2cbDALmoUXJqM1BbN8DW4BBFuN5WRKtDlVrQlq3oqays6+HpQCp2VYjnpVAQZauEOV2ZFQ0ChDGQQ0Veapt9nbbYrzh7uaj5DQQxTJPtUmKL5tgYLQQVO0ISAVPDQGHZlggKlQ0TWrfLZuJX3QItpvaLVtuV4OVdtUMY8vDBMD8BuBawlCWESIzUdaOJyBjiamUnIDy+lfLsuXgy3ErJwQUXZUtv2Wz405szYyAjFB0G5NII7GgGViNqs96tVVI2h1GphPM8RCgysFxOO2xALBnuYArxGIyQEDaT24LeCCR1ED7KQcmXLdqVU6iqxwcjCa+wG1faDVAuggSgJR3oCRtf22FdwEF2oDKi67aiX7g63VNGQAAThOATwqmnw+7bfVN08RzdT0v7KrA+DcBe1RRaftN0vhRrThDAmvC4A0zIz8GRQM3eU30DC9heVkNAGHuLWLDKI5Q-3dbsD0eiThMe0pjboW126m6C2keI7hcA+QpK-RMOTEAD1+oU9eOLzkTVH4F7lJnQZBagvPwfwl16O0zShIa1y7Rmle8ptXqlSYJRtUeJBW3rELnhEt-MaAftraTVAioJ4MgJbDWQ5dzJVIVoIyDP6+AR+Y-BPvkmMC146ARUYrkcHaWhqa8KeUgJPtjbLd1Iayb6vvDeIF6IQ3kHyNANIUh8khm+gPKs0-YrhL9wfLza0GOCgAnVLEAcENKYBuCVYU8L9XIU-1+7h1kiTtROpnU9q5KgfBPQOH32H6wCx+iSKfpNTwhzh+e2PW0nBDX7vITILVYIBAOiB8D3kfyN-qaJsQW1DQS-XgbIN371lG0OiUzDIPkGRG2BpPeU3u3HKFty2q8Kts3zv6DtQE0nSkLKytA+xta5nf9F+aVZRRlWwPtKjglnb7tyaZ+I6tvl6oMSQgQwI5FVij7+Avq2ffPtYnn89d0AjSQai+iGGBAetbfTZgYYlw-WihyQ9SBUN3aLR6h9DdVld0Papi44hyAJLUBzQFxzAWSNBBIJ1dh96+mZAvFSGQrf+IwSGOwTp2yHwW8h75V3NDg9y651ABudmNPA+KRVaYjMc0KzHmcMYR1UugYHqErdQ2jJCuLwuYkNjz8TYwdeGyKPTKjgg6hkpUOYyngM8FJMeRPKSK6tSjjQ1dQpi6PVGWi+Yxoagc0wQRLZzRhOfGLPmtGvoTYvnXmBbmxg++Y+dmRjBmN8T6SPhGvLhnhIEZ4EXR7MRfKWojHIQpsiuFfJgmxYaD-AuhKWKOMH1ujy9CKEPtWXC9CJ+gVnQAB0sA+CgpaHFcFvRggnXZNNM0easY0IIe1RBPrKqaCsAgJzRcCZuWgnjtEJqE6coANwmveGk68bwBPCO4egWEKk6AAABei7UABCaKDQnSTMgeE2kZ6BMmUTekNE+CCQOYmaoqEA6DofeD6HNwwJkk7Cc5PkmcWuxMVOQH1osB9aygfWsG0mDC80weAHE15ulNvCOTXJhU-60i0qm1TGp23gKf8hAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgLX3jAUMyGzLshDkGqxB1KAozkLvTCsDV8yKdJjCgGtoAGE2qprWgP8bSy01ZSaz0M9bEsw7DRkYHUeuQJ5auGbnoCB1AoGfXyikTeoB6iNGaHUNBYQABcoBuaaDKKArSfZLRIJQXaPB6DC5UOgSYWhBC1ScmAWQuYwYGGfVVmbVQz0XjIT0MvScoANYhzKkfLIoA7hiN+gAKikTIeR1ZQgBQ1tQR6hAlKgMkDwWYujJq0zCKIughAPBKJkawug7CZCc30Zwgc4jkpKMItUSg+AP5mIsQBGRjwsFNGIC0Ze1R1wBJwR0aonQiFyFkMY6ooiGFWKAaQEBdjJD8FmDucxrimQFXCJ4xBTZkFXweLI8JQS6ghPyYLCpLRIk1OifIOJPoan40pIGBheTGm0O6KEPpNhYr0G8FMXRDjDGzA9Euap1hTE5N8bIlJaT7FZODM4yRAE3GFA8V4+ZyE-HlMvtgypMywiyDdIGdZgisjTGYW0-Yhw9C5TGSfA4PgJmgCmTIRkty2l-McWUK5uTukpCabEmQ8TCiJOKVA5JbDUkfOyT45CWz8k7KKZA0p-ijmBOCZCgAkNUc5LxYJ7JuVgQl-zqgPJ8DS5ZGTJmLm+b8ql-ykXAo6JS6wYKWl3JSMSzpMK6iMs9CCgqAzQVAglQQaqCU6D7HIKQeYegWCnPkgc+EGitG7DhHy0IGCtXaL1TYQhbAynwhiLIRgipjX6vEMM61tqTVEMYMwHwLBCwAFViCPXLgAd2cPvT8YgAC0IbOHIVUTYaV645UKqVWGURQbD4LNAOba5-wmSiJvlY5NmIM16DhIanVWaYzn1PufWReb0JKMLZakZ1Z27po8DEBKsQkI3M+Uy5e646Uds0l20VWc2QtsvjEHQC5jxCNHW21Yxj+59hneOoeoAl26AwkuPQa652tPXIGbdK7t2SBiJIfAkl-j9tmGepEPaIJLMvUwG9w6xB9WkpfPQD6vlXvPbe28dLm2tvHR+5Mr5j6Dumd+p9RE8AIQYGeh+UA4CIGQOgPgPAAGqhUIuBysItTKD7hBCIsgFBKCmamWIDI7kYPBn4O5hCfgkko-kg1GRtUgXxF85SHYCREiROUWYeGmH5Po1GMtcZzyoWDelA0VGiEekGmJxszYpO4eIPhujOx+0SeU6HJjBUMFYbKlpoCV4nyCY0xEZ0mp+TlFk4ZgO9EXQ2bM2poTBURMKbHaVVODEZPMbk8leKiV+jJUXiFXzxgBOuYsxLX4PFKJhdShF0wsn00ISeXF8SLYpIyX406mpBlXbUGMnl1l+TzPCZ2BDPmbnqgGfk9Vz+PMDpYwVHnUwUX1OVfVsbWz-n7N21U119zOxvJDGhs5vz+mAtlTGw5GWnkKsjcs7HYOumpt1bVKtkyhnNDST0CnRLFV+NENcyy1lrU1JfNkjndrJhOuMg094N10pvW+uoAG8G2J+SqCoqAMNM29t3RnmDQOcgTLCFmLdgW6KIi0UoCwYLygljpeEIySF64wec3h4jqgyPT16QOyQKHVcmbRpiXE2HomWC7GoPUAn3UifEHR602ZZbgRmLkJWwHOGU5uyZ-d-LBVX1aihHhw4tAnJC7aSnCSSIX6yTR+dsrBVbvK5V4UQ7amJfWamGj1FBcIh2U43RRWKW-kYON0yzzb6pim657VyrdS6gNNADyiFrOXUvch-CN7-rnABQ5rsCFAOsdRrd0RdRkweMboEgvGidAHvxPXOXUeslF6oOm8LZhhC6W7d553N03cM-3dO-h9XBXo9XaZbJEet34+9we7w6a9mgveaO2nFz+H52EfBIwTd+f9u9X6vVFoJ3BOO8KPV7DQ-Zphc83dh7fLCGD-+MP2iAcufj9cyDlvDXiG8w+kn1pVOlA045lzZr70iZqogs713buKcQtP5LMm42KYXR4ZClI65V8HcL61jjETNMIJg-u7t-jNCWB3BjG-sYLHlYnqn-ujFLO-gtsYJ9CATvrQqflbphMgbAW6F8iznquuPgZEHAV8g-v0k-hARsBBPZo1vliPNLDDLjJgfhlQdGlKpHtVJdooCQFZmPhpDAnQS5E3ErMIZPjYBgtntULnm8oWvIgIY5pUiorMHwZIMoXKJUsrJIaGFyqADwWDHQCHPOHTtODppiHdsYqfo1iOBAaYtTFYtVoAZTO0LQnAmfuzJzHYdTFIXQrITUoQoHKLgYKYQSGfNprOFYf-jAa4Z-j8tLjYCYTkBERYdEf0LJOmowRrqyswagawTfgbuAZ7u0qKKJiWOJiZslv4WEAajCJOFUZJsBDiB2CGHqh5sZs0aZhtjUvUVKF0ZYehK0aBCOLaoQsLGAUYXvslINl3iIuzm7FYi7PzgyA-qIusgwLIikWYZEdUTGFusVtiGKqIloRqC0FsXIpjGpGcTyGPpsWKr-mRvtm7BXuVlRG+mLtrswLrk8prOoInpgoiCoRcU3rvphvJnNhNgbGXr+pSOmrgZuk6n-nZB3jUW8WVhPuCWyPZlZmgZdLCcYqIl8lYn-nia6LHtvhwUCFZuxkZkynoOSdqCMZkCdl+rCQ-uuJQdMRCclIMRkWFPMcYrSSyfSZhPyWhG2KKaVoUH-hKVJpSQyA9hiaAV0PDAFK3opukZKdJpFoSa0iKSpGKZuo0UpgKfONKUqbQn-qadqQqZxkqbCSqVge8DBnpHBswGwIhpwChrwL-BhmyIMP3v8FRHCdsH9ualEEuNiWIGloTnLjlhjLMK8fqbAi1L9NGDTnTpfAzgeIDPlgmfYDJMmUcQ9s+lmJmbTvTqjmGVmPeJHFKPgIWJWdmVCAhKbNNLLtlkWRjAdrWVcW6GNAdrMJ1OWTKt1EViVvgP2StONE2aAJNGOVrsoDrk5NOT3stNHkOfORtDGc4AiZmJScWLbjOb9IiciLMMea6CukboeZxkQRuY3PWedMBp6IWOeR2aqOeTbjjA+bumZEjAOEQc3phmQBrFyOuuLj8U5IJo+dsIGKqWLJ2QAdeiSLBf+QTH2Ihe3G9OBRbBDuesfqEGmX+goahQOthaIgsEsGzBflBZLq6FYpMQGbGfwijuelxnqICddv2XSqKdxTXiuuRXSYrj+hYMRaIRFJuORUJeerHqJTeuJfDJJfBcGDJXuUQh8aLkoN8Qxc5kaQJbEsmRyDRa5nBfpFqDoAsJxZkDTOalkLoNZR6Jnv5v+mxaehxfxSKhgauiZTpcNiNg5VZcqvxWYAADxiKWVOUAm1F1Fe7IKFoAAqGQaaOQ2IaoVc7gMM4M2iccLQhCcIoAAA1IYbkTRtELoB4u7AZWYCVYDPCMVaVbkYYBVToFVa+Twsaivq6glXCMldQAQDIH6hlToFlZTDlatpQPlQ1SVUkdYC1eOu1aFY1fVYVbNWVQtZVfgCZM5SXO3MWnSYqUacfkCBqWpuMBkEpOhbQgFDsTZUZYOiITUp4cLPdS5WVgZudRokpHNTYLhdQBBROvRb8RPkkYQqKRqoTDVb9RgpaLtb9eDaYcrKFaskBTFWKv0tgYUnhhqtRV4XRbpbrqcqEM9glaKV6sQOkPUKABpOHmECUXqqIuRVYmQeRQvFgW0uuHdcJfxQdj+hiaysJddnzTehjVwZjSpc4HhhdbXOzdSX7NVIadxg6cdYOidWotVNLd9XLacrdUjV5Y9cTYbvAkrKFflp9coDLT9bkf9YDf5auTjKDayuDUaZDX2GbSrhgsSnDQCSKrFSNndTuDVajWULtWLdyk1SkOijjZGc8LRZzMDQqEbdYKTUcKrXCN6lTZfDTUiP9uGkyYqOHY-s0h7ozezszbIqzRxaqZzRBNzXJbzTJQLVSkLTXiLX8AbhLeLQXFrZdTrWGG6d1B6QhhwMhtwHwNgO3HDtELjpQPjqjiQARmIc+blD7nCDjkjsDszNNBvXjksAjkHB-qHGjhPJhd7GpYvVZKIrvXPSju6VYrlHgrlHCKaPVTYKaH8oLoUM-daG-dYNaJ-W8c-TSn-aADSoA0-b9OxKA+xBA9-b9ArKUPVYg3IPkl-SkM-XGkmNiPVVg6oOlQVOg2EM-anX-anW0kQ6EM-QpAsAHB4HQIDDQ-MHQwwNUJQzYM-UVaAzYHoFRLMMcTIgAHygB-YlUEPsPWDP0hrcPWC8P8NmB3DCN-bhriNAMKIyMfx8OgACOKMiOgDyLaPWASMDmFrAAaNyPaMKNKOgBgCqOQNShwgACk5jWjOj1jjjhjoAxjz9ZS3DFjbjej5qxxajDjAAhA8H4641Y3o+E7IsE-Y1MHCGFS4-I0I3oxFdYPE-Aw42FXcDI-49E39rk5k9479IIyk5Y2k39sIyUyE4k4I3k7MGEAU1U6AA07Uwk4WqExo3o6ELo9YKEzYKGXgqWlATffPXpCJTIrQgpEpKaCfDPZvbmVYaM4YGA4s3vcs+hNQB4AAFZfxbEzOKRM5pPAMbO331XaT67GNhDjN31D1MhYDX3nP462mXG5TP3O71XO43NlVUO-SQDECBKJQ4NNOAvAscy-N-OSO-RMOSCwCQB-1wsItQvQvUNaDMMACioDcLmLqLfzz9AAcqoISxo8S4S-7X86s+Wi80sLaVM3cEc0pJ4ro5aNOQswjks289S+s5y5s-S9dtM9ULMwdmk1cz8ry7Pa81qUzO3FjvVHy7fVs2FD7jnOdP2fKyelgowODuOpILs6oGoCYdEOzHoAWbS8ejTlkAqMfYvc3SkGq+xKiGEDyWyOctovbdBTjP2SLjmYnTjE6iEe+nc8qxaQZbML9ZK1y1qSJfizYEG60CGynDs-sxQICZGyGwK4Jfa6EHjfHZ63paYImuznjToBrB4KFoTQqM4SCLsAW78Y84PQeMPV6aPVwJgBgCxT1LQFEKoBQJIDzIYOhApIwNrP2v2QrJ4N4IOIBaHSBpso9ptuZMGOO+jnVZIGteVYtdtTO+fWjVOlkDQnIYXIGKu2OZmQpFzHLtJI1K1U9WUc4H26QO4IrDhgYFDqQKQNEwwCVYyZ+xqnCIVRgoB6AAVYWI1U+3GwVIBw7HeyuvxOQBzL4K1STrnKh6PohwI+YPiiRZSJtToCtYWo1Re5RLINe2PiK2qwhxzKh1-nVSYHCGOdR5zC-CwIyVXBOybWUDnLUcB8LLqse6RDCDx2cKcHcnoCg8rDx2YEECe8GNJ6ALE-CNvLxx-JaCJ+anCNvHyhgseSmP24O-miO9rDx8vh-CtnHAnGmCJ+cMagxv8Idv1ElmFNJ5S8B0RyVcx8sN4Gx+p6Tux6sGu5HfkoVZu6KTHhpEzgeD5i5xx7VcF9BzNes-YBfqx7u1BNx-5657VcaiiAJ5Vsx4WtA6hwsylyxz54u4UB5nSqZ5toV+vW8vVblH56sCHQFxK156x7UR5vh+17QsBwAOSbs5wrVDe0Lg1RDbsmQ8dMebAX48yMAmQLdYe4flHiFlB-BTs+CWjLdQdtLP05B1CrXIKrXlyKiFiygNrvmKx3SVd0KFc7dLiLel6Bi7eleYfeeMCqrjfJeYfpd6BvcAoA9PfBO-fzcg8gVsgGtGukAmuEHW60SaypQN6ccByTVWdhSLyqcHfo9zj1WOf8THZY85s2AivQ8ciw+UDsyx71RI+ci0co93csL2co-9cmNaf1XhdqSRdY-deaW7AaXLc6g-ZUS0+3Scgo82GFIWdrZXi8+QpM2TMQ2yK0Jc+8YkgE-haY80Sd2QFrOI-i+yBQi3ZWIitC84gi9i+pQM+8+cGkFK+u2acgNs90qWgG+pRjDQ7kJ7tlDu+cie+k5HtVfjnRfK+PBFqTD5f3fMCG8B+5w-cpxh+yJwjk-GtU-w+ehR9xV0qJ-HVOpk+GsU9w809++An16898858O8dgLN09G9p5irgGn4886-VLrjP3bxAxGkRd8a29So0Ge6-40RTEK1gxB7-BY-mU7B5469s+WhY8-ep0N4U3vafZoliDj+fkTg9usGT8YWNwz9Lxs8IWz-HtL8by+4+r+789a-dv8gww7wBSXfWo1oVxeABx1ANCtB7+rf0zYjB6S9NOz-RUGOWuDG9-eL-NsPzh-6S1C4V5Nwn31H7TRLUU4V8Ptgv7kVZgJALOlCCPCSAn4l8LIIwGXgBRowuwHbDrwgKn5548vUoiYkWKAZdAyxRgROhPRs0MBP6Tgj-ggjboNUzuc2kCRwGTp8Bh3Igcv0fQd18shCMgSZCPScYD0RdJvtLykCH9iCtdUio8hkH-deel5WuCZBP5LxdeEdEurQR7rD9ek3BWAVoKx4aUWq2QFgGj2Dw5kGg2DMfHQAcQuD8GYwOgEYn35rdXq7g1Tp4OxDeD+AwiH7q73dqdQSesjb9lEHsGODtKwQtwfEN+Akp6Q0QyNmVWSFQgfBJcIZC-CyCGsUIrgm4B4PkBeDchvg3-kLAQSBC2eOQ6QGEMr4KFCYmQqlMIjSYxBCh2QfHDkL0CNCfBwiGITUk6G6M7BaQncJ1D2q3VUhDg-AEmCMDHMfc97QWAsK0BvpIgdgX4MhwSEisVh+QtGIsM2ETC2Opw1HgELmGqdAiKQejPfx1a9CShlQs1m0kJhXCc2Yw4RusMQ5agth9g3YZMPwjbDVUMwzWlpRzIeIF8kwX8vOzAwUQCSMlIkgwLHRMDZER6NgRxQfTqUahvA81PwM2y+tWgD6eEZBkkHHsFUL8ecDQyVRboWBlJA9LMBJESDvkGlCkd4CpFaAaRCqRkVoFJHfIp+FdcPvgHNAtBCqbPOEMKLpCijF+e0dQHoG5GgB4RZgNnszWsA-cIg88BVMqIJHgioQkI+sNCJswKimRMldUSoIUJajRO0-BQkqJd4bD2RkgakcqkDBaiRhBUQMEqLdHUp7RQUJ0f91dFZCqUloT0YGP+QyU+eEokUUd1sHjosg5AKUnMN4a8UFCWjT4TTWbiQ86wiwLWAHHnDADrOEAzELMCF4KiheiI1pKIidFtROc3ONkb6M5HKoSxvI6xCMn6ARtoWrKMsZwJqFVj7claIUVGKz52obhLCQGnGITHAiVUDY6sWbkzHOBCAsgY9EciojyitAqPXrm7zXFzjr49gP4TsNATjI7E1Q0IKYisQ3xlkh47EIuRqFbFsUDQXFFfBkLNxQO4MDSq2j6iSBdEhIVcV2CBCiJQEViTcUWxqEajkwyyMwMB23gvjQEYYOMaAESoAAJTFpIAACC4AcAJiwABKiVSAAAHlCWyAWRMxXbj4B7ASqBzFahiJ1jiAfI-sguP3rLifxlI1TjfCXENAqInvQsZkSYnsi+erE9QGVHzExgxy-E0oBRNbEHF+yiE5CWhIwnYS8JBEkSbuPfEcTwBlE7idRP7KsTThEnZcZ+PSTfjNJF3LibQBDSnDH+aMVtOJMgH0AeJTgWiVP1OGnpFhIrW1PCPcBCMhcSqJsI9FzHWSrw7kj1GAx9E0TmRUHUiYqmYZCTbJ1E2iVZDgn94zw0YEgC-CsQAAGDoO3CCR+pbIN3RwbL3QiUBWgPaPKclPuFWJEpdLbMqlJKo8BOSEESqQphSneAxy6abKZOlAxZBgMB7AdI1LBzxxgIRU5MY8g56vJHkfU3HvmiKltdV224uwBpA6kAQpAMQRBDdwWJQEJplnQaaUhppDVcpZ4fqRj3nBFThED+QPHYCWB+p1A2sGAYUE8I0DKBeqDBG1L2n9pxBm0gqW2CGkdFrRjyBfm0gwR0p4hl066doNb5ej-6F0yQFdLkDawDBQfSrIvCmKwDgZ0M0GZVO3GEjj0igWnPRCESfp1ADkisciNnTMCURrA+cGzSxHdjUghSXgUpx+YQEwkxAKqo6IbG0jyZ9IlgaXlDE2APQtEtoMFyUHmc54YEj0Czj+Z4B5E0s2hKIlxGro6RGIvjPzLClcDBY9Mu8cchaBPSgSrMv0Zel5lyCGSDIilPikpSmi2kK+XUd1M6kDoVZ2I6giYPRQNAnB0CAkLkBVnUzRa4lKWTLNCQQRIxUo6Mf3xMF0Ch+nxG2QBBFQCzuCSA1UCQD1nszdgDiXYJkjCkCjz0AHSUVkCO7ijs50os-rKN94pzJoKo89GaMnTyjOoCXaQppU+LYy9gANLkEImTknw05Fs4PqBNpRGI2eWMyEbjObldTU5J8BxIiJsZgBpZ8iCuXSmTlmBzgv07uapwTnbU2ZkU5WLPIhm5tgwqcvboUGXmcw-RbvdoR2IKhu9Jom8luj+gjH5zg5ccwMlIEqm+B5s15KfnrAbIcRn5-Ia7lkC351haAiYBcWmAxlT9tIGMldI1P5zAK-BWYV6oGE6RrSmedqA7nICunYg+8S4FED92XYDgwF24+VpREfmVTixIPPYCFOIXeBOY5Yv8ezkTDZB5wlUiqVqCRCLTkIy03IBjPWLs595M4rnAgT+TcK-RTYn4fZNDHFgAFacWhakQxkXywgXYqDLAO4V9is5g4tniONCAr5niSwZbqtLPD85JF9CtaW6LHH2AJx-wxRQJFnHxT7A8EpCZIEwmeoAAMpi0InpjSgmUgKBFPImVTZIsU9OdAswSLiVJdk5nGz1YkqSxg3i4JXxN3ECT9pceFdKJNmw3dZIUk2xfYqcXgAlJbocJVCEiWaTHJcwxIe+ltTaTExKk-SZzEMkhTd50HSqWZLmEogYhpSycaNK8g3d6lwIlEHgu2xxKfFZCvxTeMKXfDXJ-yBhboyFz4K4lOigdL4qbq2pPFzDPJf0vDExirWWikHsDwoWkLhFoUnmlcIKXAjnJWgEZZrkznjK2kTkhNhJlKEvCW6Vk6KbJCEWUjaJbotMfK0iVPL2RcUjEnsuBGYzNFA7DZctz5F7jVUSIqAjtGEBnj7AVof-v8EB5whV8gKihXTXXCQqSAfAnFDgjZ5cg1lyKxbpssW4grzhP3dFbkHgGMxCVoPX5fYO3ERAVJAEH8euMm6xAgJ6OWTl3P9FbjbB8YuwP5MKnHTGJ0U5eKfgZVCJhVpyf8XYisTlKvx40YVWrNETPtXUFJaKaCqFYa5ml-wjhDKBMnEAOl9gumqEArTLJjJ6k0yeZJzY1c9VswNMcqvmlF49VoK4ogP1jntxDAyCJYI1JPRBKoF1CsZiFKsRiKNAacDhUCFFXLjGVmkyVezgAmyJZVBk8aJpMVU0LHADquJeqsZa5EtV+4uxN-JkAGrfgRqmwCap1V1LLVeqOlEQo-jRN7VFJRqecMb6urMad8sQGAIzXIJ+VLnPVaj0fnCqa51gDBO2r7U9qfu7a6KYyR7WgDP+Xa3IP2taQeq+Vaqn1UKqnX+q1mmQNSRJPoBWJpJqE9CVhJwn4TMlQIPdbJMPUKSXF1q81aFLTGbrZ1ZOAuHCE0SMdt62cGdYQrWnGJF1XqvKSuvYnTKTi7Oe9d4t3VpLHFzih-HuvSXOKrEVam7rauiYgbkljxAOS+rfFSB82xYXZoThLyvyuODeNuB4oALYaMQhG-svPwTzgKBIboUjSIHTxUap+BgojbPHxqcw5UOGxnHhv8WScS8S5AAhxrI3caahlG3uGORHiCb6N5GpjcGD41vq2QQSHQA5ChDaLhNsA0TW3HbjYbqAK0ujWm2JX7KeNmG8-JzD01XgzN71OKjSt+A-dtNK0keBZr0AWaalPOaSPiohwkbaAnGigE5q80YgMCFKE+dZpBFhgTVMoS+KtSRXLd6qdm5nO4tlQSBdmOm3IJJv03MjnV+GtjeeES2E5Ut-MVRc3HVH3CihfQioSENaC2ootGysgnloGE5b6NpeYLYLgMKxC0mHG5LUUkxh5bZI3W5rbkSa17gwtJ3QsFVpRWMjEtyWx5gFEU04Y1c6W84QcoSHDLjm8ys5YI0C3uICNo2glTNpvbuaAuAWk+fyljEmKLSiY8MUwha12pjF8Ys7ZONNFmyXxwsW5Fdqa1ogwtZ3SLQCui2zBdtLIrtppSbBnwJ+lA-xX-gv6lty2lbFcl635DbjU+lPanpxjm1NbVwXNIZS5JW01IK662mpH1CB37YUBcYNAf8F+otcfKmA36h+ivRWMshS-ZQO2KO3WAM6V-D7M4AVRdpX4AONaqbJa0p9C+afJHUyi6VudwYJ227aCvbrfIzOz2vlG9uZBhaEdxfL5F9pnzrKxtoAJXen1jyPNKxv2bLfKmwZWIAAnB0ACh4MfCiY1YebokBBx8GoK49C-F8C-bTkzfOoaYFOTCy9Azgc1GlOTqKjbd2DPQANwG6Fg0A4e4tcYPBSmDrAFu-7oYCMFhALdDuxKNOyckWRS8zgcNKOQsFd1Y9ge+3U5NT1HBZgCkUXhbrwUoL8G6C-4BqE9UGa-lGc5hacPe1nxC06gVBTXtV0aAHI7m+qh3ur3LBgyU26qKX320xAK0kybwOkC5CQtwVazHaFYnN7fYhgovUvquIxi17iAFaFam0C6UP50UyORgDPpBaKdw+XIByoXQgJx64QYacNKX1ADLd7UO+vOtI2da0I49XnbRTtFDDF1o95gaVOijVXxjXYSwMAWPh-2nJh1eUztROvHVOr+ckBtWYfun0A1T9SnP6FKP5AogY9Aew3fg0LR37Q8eqtUJ-xaCv679SoP-S0mlQM1qgN+ogwDif19iGAjBsNJHrwN27Ldk4vVE5JOVhi1tc1L-RssDFE7+QJOgHnyNtUM6CA0TfDLvO21LcgY4u0xTsOFh2hG+rrZOAARyB0A-U07CfWfHWkL6l9JCi3qvqt4S8JIsgXSTvrqp76DcTNc9JcUUOSGxdugccXdv+HqHUNYhV6uRUs12oEQA1J0eOkVFaBVAuqfFLnjm6cxtFYhqgDhh2je9WgAR0vNTtkNpN5DGlF2aLikDa9dgjKHqUTNOrVRUZMMm6a7uUGVzvk-u6OkXMjlgZajuBlGcGTVmOz-9+WOWWTNnRLiPKvfGOXkR4GYr7x2K3IhgmFHgo5qhCco6DKNmYQPAiezGvijoPPVe8pCv6dqKpQYJZjsM7QeyoCBzAoZFR5WLUakEEAASMgNWbQZqG7GbpOvULTH1Sj7aBuwAvQEzoAA6WAPtbHG0ogH8AyCNjs9u0byN0cVKUPc+FQOyBqwY+7Ra8cLHvGjtXxn467OWAVwATX3VcY8kICTJS8YCYKdidmAAAvCVqAC+NhArl-xwExkfxMkmwTZWCE3CCP0z6t6lKD4DofoD6GfArx34zmSpOYnXG6hX6JEcNirVSAq1I7oyAG5Mg8AsJjZTydRP8m2Ogp9niKfhAeAxTEprpYyaVBAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJwyc1mPGJHx6W2JRE5P5O5OASlOoTvkVPoTyM2BwJVOcKAV4wq27wb2II9EkGfT71aOuJlJvytgVP42AR6NVPmIGIq3MhwIdN1N4X1OJMNNdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqKzLkDy1zJjVOGNOfRaJLJZ0x3jIt23mBXzlwAPkZ1LIlnLM3QqGVxy2rNsVOzbIDTPGeW7NAE2XDRmmFzrPHILMnJOXWRnPOXVXLXITBIHCNwSVwAnKJHpWnL8FeVTOhHTJOV0lZJFGl2-R0mzFRRxMxQ2nvMHJFhfO4BoJXNtjUVvW-KkkyRRMHndQqBfOd3vMApbyPNYRoMRPWJIExETlhl3P3LszlMfNFRVAbI9lQOiGE0wtCPDlwsQuXkoEYC9RhysV8HzNEF6BRGRmYgIsDmFPBAalIHlnCIVFlwhJrhlBWKjMvLhBYqDhcRhIeyPJVnEskhbxnTwpoq5K9FOxou6AYqwrDm1lEo-LekUrT20rEHUtCMXG0ovJoBBJl3BPlxWxku-GhNzODGYCItx28Fhk4r4zoSRQMlcs0Hcp-FUIzAWGYnSxoo8vrgkuhN61AHcEct3JXykB2B8vcvVKRQAB4MRS5fKdBoKAqywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HK3EpEFapDUMharaq11Jlhi6pyvuDvA+y+2KtKtwAYCikqs0GqoFVqv23IAaoGtasqJmBGs0DGpSt6sMmCkGu2t6F2rGv8p7xmisl4CUtZPVOtJRCRI00lk6nZGcpmA9gKI6NssuvYI0ttknQOtOqukI1ersF4L10kG+WQq0DQr4ows83iqm3VN1nDmBr12eG1kupBskHunsJNUjB6ojDGEuvuNYJIM3EI11k4qcofwiN4usrTm0i1IKqfAesMjClphTGuldnJppyLD9zLAalEplHwtCtEIzGRm+pUvNiUvV1UpJMAlEqYIVvNjNwps1tCLBuZHer9JsKbRczur4RcVksevpEQoHHBr1qI3YK+oJpStkpXVtGVWNQxvogUxet1shqqxhoorhsZshOX0qPuhcTRo5R6tOoWAonDn8tkuRokxltQmJtShVDJpCMEiGtmCwmpqTK4vpp4qsuNxZtmAD3ZtNs5sIG5tCHkJjyrlszLn5szsFpLD6RFporFqyNEvPT9LoObhlpVpStlsDk1KhpVv0tUqbtAAUkYubh1rep7vZP9OegQ10o+hQ2+nQz+gwCEpFkJ2JzRwzJMVF2Iwn3-I0Vh0Mn3tR3RzApoGvpJ2YCJzTQILMyx33TXU7RPreQagfsPtZ0DJlA0VvFRReH6qkBeDvFHt6FRSrHAckCrCgd11RUYngffEfCQZAZfCMmJDQZwUweK2wdZlGH6uIc8FtGgakFRRyjTX4Hjz8BoZXgqq+EockFRTLvgbLrLFYePJJFJBhE4puXcDoBDQEZ0CEe2keB4dRWarQakG4E4D8EaBEHxAAD5QBgdWrmHpHsHEo5HJAFGlGVH1HgcUptHkHsHDDNhDHQBlGCQTHQByRbHJAdHA1gB9GshFHbHjGNHQAwBzGsHA0ABSDxmxuxtR3xoJ5x0AVxvhpMORsJnxxMs0ZRixwNAAQlNASa8fCYccycJFScCb4dStCZyaSdAHSskEKcIcDVSvxH0cSfsd8bqaqdibJFUdKaMaaeB3UdabSb4dUfqb8BmEaYiZ6cJG8f6bJHSY8d8d6AickHSakDjNvDBF-uRxvqPsZHloJHMkcUuAMD8D-tJ2FglXWaJ02YAe2coHcAACs3gWVdnHh9nSgmmUGNnH7+rWFTceGZhjmtn2wJVepNp-nt83BusgGXxUVP82B+qYXfmoaqHsHIBCBLQhl6HJAUW0XI8EXEXeGyQxGmBYBIB4HCXiXcXEXUVCWABRNBmlilqG1FAAOX4CZY8ZZaZYTr1zWb6lBakxSqec2BeaafDkPKOY+f-qvjOd5YldJykwe0FdmGFYie+f-H8FleYClbBGfTjzmQ1audQUvubVvSPN1dYCYH3GkAOzhtuf4CHDsI0BSB9sAlBefu8Brjfo5yVu10HRNdMBmDWNsP6FusDoSSPIst2SLoV3okSPYD4H1YrUdqzqqz5YtIOu9akFjcMFBYrRufubIBhNxskFTYnD-kkozYQfzsf1DaZR-r6lpqYE0ExBipGSjaZX8ODfhqZpJG1YDMZCDPXtDJ+kwB3ufTvMcDICYC+TUBGhhGkGtWMyPNZnRkxjgpGN4gms2Cxq-sXEXexz6qYCatavOtwCCTXYQXQk3bixbjMI-j3fnLyGLJhDBhV1SAWQ6thmdv9WCGIGIGqpGHw2yDh1-Z8e2lau4H4F-d1lJCaogyasauOtasg+IAZdtBg9DQ0E-Z0v0VIEjyxkw80EpxbSI71bkBxbEBIlnptl2sGtJDJEGqfdkUYFfc+P2eNZw8jyI9fz6qEFJAfYqA44VBsSWmbSXaNVGAg8HRXwgxVTcm80kRfFE9AA1h8m4DIcJrGFE5EAJhvY08k80Gx3ycMkfWk6yHDiU4Mkgzk5G3Hcg7PGnfKjnetVE73yyA2zWpLXXiU5U7vGY0gJ3PO2US04Tog3o9asE9cAcCWnM472C5OrvCaqPc9joQEzcRYzO0JIuy0-i7LES8Goi+E4OdvZVDz2C96ol1pGs4k0E7JBwX6ubXFbI6E6i6vfe1tmYhc92xq9JFQaMJfBi4M5Jv07VYK5a80Ntl2uG7UMMgAHIkvm1aO5vxuT2glRP+P777QIivlpAgltu7GrZXaJPA4V2nxw49vUO7xUUQhYXgp2h+rSRIpXJC4qgux7up9vBaRWvV8auzuRwduorFxzvGvcPmvpAtJxufvtYgfU6xhoeIvzuzLQBbX7XiBHXqCncFEagxl88xOU0i1PPSkL1puruPPWp+qMvikLsL0K2yr2RkfgxUfyAUgmC9WseqguOcevuErAbCL5FTPUVH0sV+NBN5DOfxuilEe9v75Ac31Mefkqgce3C3P45SfUEL0WaRadzUbCRzJ1TUuhN0uAvMvlF1eQj1m2fGAJYnsZR9mpfnEZfWf5eYS89TfYx6Ctew7LPUHpvmIAMYgned54cPFQl42LfA+qc+JxvE3PeHI6uff-exlw+W0o+Pe6FoP6eHWmf0eW8qvvvtDo+6Eaf9mM-GfmfB5HexkOf1eV8tDHxRdtmOa5fE+reI+ECW6UZ3CDeLZ1e39kYBf+q9eRfefeAGjECmjwD5FViDaZpI97BFeDuSNy8+fpuSLl+JMy789g9fsw9dhjeKhZ-IUdK7yhCL1fzlZtCifdtFxL-vMN-71K7Q9-tAuKhj-utIdtkE4uwRpSBKAvVmADAOAhgU-gvxtgH9FelnT-hNHW7BA2AVvF7i5BGgi5gBVHDtIYFf4spOeiPT1O4FYAqRYYgFC9jRDsowVfyzEYzLJT-DQCcB7AOGsZluK4CtAsFbWNQLwEGcqBDA1CsAhYGMDfyi4bgbDB0r8DNALAFwN3XIG6V1av5BOHKHEGmVG0OGTgNLkMDiChSEgkeqQO0LYCOB2gFQVJCipyDp+IMUtmnEIQnZ7+olPwEQGroSx4ETAJIOwG8DSBjwP8XgIdj57sE78oGHvk0VmC7FtB+xbQSILJwS15EfgOQX3RthCDdYMLSogsCsF9keMsyewWwEcGb81BWoEOqiFcH0CaBnA3jEII1oC1hId+JfiPxLocFm4zENoNkNX5lC-A1QoJNfz56FDm6wkHwRUJtgS9zIM9AGg0Jx6I95o+gWIHj1BIcAmGnxOgL2DGF0Md4dANaCAPHRA1Nk03aYY0FmH8gkQEPbQujU2Q08kQTTQYYtBGHTJVhEw9QEMMojZBdhRbKGqcIlhzD2EFqF3Fa30Ck47hVwhhkWBmH3D5hKA9sksNM53DVAGwmvug1O4cprh9EfYRE1YA2J6Ybwr4WsMMBAi5hSIGnraGhHqNDhww1CJsiup5BsRZOFeNjGSBB4toR5XAMSOlyxIFoS0QkS8wpzkidKlIwQNSOxH4chhuPIGucMWimcS8EmWEQ4HhEmZERnxPpOjR5FaRvWmIt6FSNLg0ihhHIo4ZHFpFQJd6u-JQSwAhiwRiQdmcQTIh6QGU6Sm0KIYSCEFBCxB67XEGENUoilIh-g86ARBdDTcI2BA0YkQINE2j1aWw3Dg4BcACMNI5orgdoKiqej0hCFGlGpBsT+jBAGkNSAw0EBej1BCwx0KLUs64Bx4awJqtN1JAZigQWY8XgcCOBfoExiMabqLVNICjT0TEYwMm1XwRstR2+XUXqnjGgAwx2lcbufzr6AZlOmsLsU+ANGmcoxfopgAGOyqLhAM6Ix4IuEHFTjNgw4xQKONjHZUAMxgOcVrnDizibhSuSeuN1zGZjYWAwrQN4B-4uB2RcZDQXXy8YyiVUEYyuIkDeBRpCikA1BC+OcB+AperYqXkaJ-R9QxxJycULbhlALiYx6kbKp+MTE-Av+1APwNuM4jfjbRfwvSMuIAl85oOeY7wLC2m78jvMKFJtnIGoAKjFomkFCW7jvELlcBzmZyICy-TRikxo4FMadElFEjBA+zRXAaOqr2NtqD4n1DchcBvj14HEoKO+F9GKB6JF3OamBKonQTRQtEv0eJLeQniZAIwTVqWRsQygAADOYGfRWgooqyFSXjy2zlRyAhgRWAZLaBEB1JhId7qpMslpBWqXIO0dmBslKY7J0gaAZ6l0mJD3RFscQS5M2zFo74JkqStoSs5HNtC-k1XiNBMlDc925ErdKXDlrGYVArAcYCpOPA84DJAUgniwDYACV5q+k3TNlKCmmSZIHsc4cwCihHBrUyAx4FvC8HuCYiZVOEF5LoH39Ip+PEqVy3iylCuWQVbQhVKYBVTPA1qWof+BBqDThp1qJoWUO6m79eAqxAGpNOqlpS1wiPDgPYHYAqB149-WQapXWjlTZAlUlaQxMprK9Eh56WgizCppFjSaVoogVqHKF1Tm4yZZgn0kaKVFdiAQ3IcIPNbd1aK4Q+iMjHcDRCnRh4XGgsAzHFhcaOwZaSNJyGsDWS7gFofJCwAkQPpEQ8dOXhECxCUIR0oaStJIrY4dOcM6aR-EemZCoZjADOtPXEJLT8ZU0-oYG17yKDQSeoOZBRUTi4g3R14YgeJPWh+Cfp30xGX9NCp7T1aMkLCFEKM7wt2CyMIgF1SXFgSEZtA-ISGNgl4tegP4cSf62-yIFPBZ6H8Jziho2ByQZs8yILNYHCy4aos4TNrPDE0zgZ-gmWWDLWBNSFZp7JWRpHIFwTJAQYtWT9PFwkRg5rYVSkMVdG6DPAOsvWe3ywgbSki200pPbPFkj01Kps82c9Jtj7j8xh4mOW0PMgT8lBPM60XzIdniFDBFQD2QqDHF8BewvAZCD+IBppiHIGEgsbtmzmYTc+3PNrMWN4B1zBQ5Ymip2OrG1ycZu2BsezKZxKJuZfco5g3LDlViLp9cseVuw1FsyIYU8rmYiHrlHNewBlPxmADNnkhh5cybQn3PVh9iVAzEZedNyrlezxxH8c+euKkATjBQz8yQHfJrkAZIRmsx4ABjfm+yvg2lUER3KzGI9okKkrGEAQfLNFr0DqXBNAsyQqS76G0ZePQGUQ2SmBX9TBTpRcki5MFZ-cTl2mIWrTHp-PbBkcCqmNBs4U+Q-uN1YTiR0p+IioLq1kQ2TSFH4v7gTlZHyTQACEyQcaPRDLx9ALgGyTKFkDyFvJxoFKaUkwUnE+od8t3FgTvCfzlx3ACCaJMIDvzegIoNBRdmEWFFMF2iqQPwpHpOTHQiigxGhPTEHiu58wa6BoXX4H4p2XC0hYcSCQGLRF6U9EXhJPGET2RliwCVPCNhKSiqAACWpZMAAASiFAAAy1LZAISEErPpJJiQQqa3hAn8zGJtASirgK4ByTFApnXaCII4CcAd4NkuxCBNBHFKjgK4CpXVHkF5AalowdJXYiPLhLIlMS+JeAGgHFK8lZSiWPUqqW-lCRWbZ1hmGKXsj+l76TkJ+iqXGLJApIGyYlGxG0gK2kyyUWSEF6GRllqy5hTQF1ZDKeFYk8MSMuYksiSR7IRXGIoibbVWF6SjhSJLonhiK2qS8Rkcs0UKSjxD+XTHt3UVcLT5ny9IURK0hnLaRLEy5eMvpAd1blZYUZamlGGijDAlRS0HAOok3ENFzy7SuiJlGHKVJdiTFbwuAUN5B6ko+KRUAgIuKHAu3LhfRJBUZS+oewV5oSF2gRwo8FsaHqSEpV7cE8oRJlUQFBmphwZu2ROD8uYB-K9udK7EaCP5WlJ0BBKrhfoMUrSrwFMi0pcaC-S49Juq4qePjDxjDFwRFwQDOSqYntB-+8A4yS4H6UQcLVzgY8Hfn6UaqBJYucob+iaAyhplH6dZM6qnoNQ-2n2Fks6pBWKt3IGy2kfKGe7orqAKyyUbytmABA9opwUkM6pjW0iKyZYDrrapglZAfG-qiRYuizVniyV9xDGYni3IzQ1AZq9JUEOtUELBFQQECTKF0W-gLscilEA6tfQaqqlrqvqH+kJCerZl6yKpTTL9UKB811a7ESGs4hhrFR-wHZSpNTVDC41fzQIBGvnXeBF1i0dNRmGYg2S-AMovNSyRcnSqS1Y-cueqIAHVr2g0khAV50LW492FPqusUXhgGDLIFPq8bpeudU2qo1YuaAV+sLU-qZJx4StbIBvWWqSl+Sn1fIs2g+w0VMk84h0qYAABBcAOAGpZRKiqkAAAPJMselKIJDahvQ2YacNeG4CdoWdX7qfGcG8DaUV+LNxSQLIPjo0pYWwCHldalEKBuYAuTzWta9KTBvRA0aKlMoJDV0oSUyRRNcShJeRrr57qc1TTITfivo1ZymNqq+-I-hFC3M2cteLkcah03QDUCmm6aJ3iwVACM8uCgxGeCM1lA7EOm3geTPM3QDpUBdY+MoC03H07N2S9TvppY1zosiOUdzWQBM2-lah8lbZNugC3TRbN5m+zThUc2+broDATQDkglh-LPNSE3Tj5ork0BNNlAVKdZoLZSqyVhC9TREQK2oJytuVWYJDOVWSjxuuW1Kdukq3cBKtF3XoNytcWGbqAgWkkK1toiazSVqot5AmrJDXd7uHW6lf1Qa1-r1RAWvLaUki02aitqokrdxVc10AetyiRbQWz5GOL5Ozw4Uf-HGHIrAIE2nbhQXpTbaSQV2rvINs5H9aRmPjObY1ss3raetdiG7UHK1x3beR3iEbYxukDjbnFPKhhm5vm3asPYVoZLSdh1zArpVYKi4RcrYnK0YVqjNGV8G83A7XFUOlLVSvO1B9AFO1Y8QRKLXhrgFxQKwjMGjrE7TxIK4ehkJDnLE2YD26FXLRVXgh-tj3IHf8XFVcL+qOO1IBDvWJlK-2Zg9wdkpwL38G2TbG5g0jbbM1EeJfNHjySpzLbORxEaWucuJHI7bQaYtHRmC4BvBAgFsJyOCwoD4Yi2A3W7TRXfnfkwhxjbcRvwHAazf5iykPH9nvqCA7K0gOukezRkhzegpIJXVnyYKfcQuW0Gnf4s2UdiMwTO0YErR+1aRHo-24PWXykjc7wcvOybX4FT3Z9KBOABqDCDfSMM6GMoAAJzmAPYJeuVJsq-ZV7VITDEFSwBsRYw-AYuDwZ325FXTZgbBLCDQAMgaSnpUgavdwBm4zdgoaASfcutYJnqywI+iUSjN6DV6m9QyTGISMjhRUaAKUOct0LpnD6G9dDFfS3phJF71ttDZRoj0oV0MaF0+YuGarV28jfyie5PauuTWeAqFN+18lyqx3Z7gg7+6-TGWkjqim+VQPHUElYAJrBwDgWmInHI71q+FMoO3o0Ad4gHKlq8RgGp0IAJraOpgT7pLM3Do5pAMB9FqACM5op8xjddgiPtJDJQUoqBvhVwpfTYGY8ejMwM+skAj74erivYNqGnpj85IWEINT-z-43JYBnxHg+UMvUuTr136gDb+vcXqKUZWEQg8QcjykGHIicVyq5CH0cGD9QSGg7QdjyFrX1awFg7QfSh8H2+ogBSLPs2DUHDDoOPbn0CCXbQHDyUaffvtyiN72RfSekaSJRWo7caXB6lVCqqym6F4pgjlfRP3XO63oPjV7OiLO27csUke0nYqNvFfwKa2W2lJQRCB0AoomMCA4EAZWbQ9giBgFfbzcCy8E+CvSxBgaKNBA+quBs3O3XNjnEkj6ilI7DD8VpHiJGR8xSLEnSiUqtVOwyJFDKpgStAbYwQPwDMgkQy8m3BUH8vCMmD8MewYPhcGGNRU7dcRppq9hCVNRCNaGjDVhtw2JKHFowbSXhTkBpLnVaBoFY3NCL0An6r6ApWLmm59LX0gfQtfcejHVK5ANyFpXcd6UAnaltGtEPsOyVHHiNpxvDSCbPD9Lvjv63436KPIzriJA6hUHMuOVi5I1MkzdbECfSoGwDo+l8dwFd0AAdLAI+oRXTJhDuAdoEtBVRKMjG2OeiOPvwTQGKKh-cwMSb+UzcyTlJ6k++tpMSx6TjJowHX3wCDgoqpwZiNKdAAAAvNVqACpPa5RTrgX-gybB47HTgyptk+5A5OkgVD3JnqHRDwBZE8jBRp8AKY1PimdTOTProGlmPBR3A93YgPd1hYmAZuYIGwHydcW2nNpYprUxKcdP4tk193N0wfE9OfcjT6UIAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5allruEx2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAIjdct3iQJdzjYsuSQYGsqMtivSsSarucpJhIiLmaFjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQQbdQcan0rSwbbGvBB0tKD7dAG0qskiv9eUEOedD7d2NrbrPNkoEyRGgcqYTfmXekPnfYYiGgkhpcFSrEASohEiu4QreMCrfxwSdfjXcyWXbpUsusHBA9LnYxUjgUDS2YUjfDTaNfiLgHYjV0hBnJSAy-dABZ2UjJQ-eGJvC-fCGB3Gpzag-kfUmKHhBXFKGzdfbp17aQ9eTzL9YDaDdilDY7i-eMmaDA6aQ0s+PhiA5A9XGOkF1+NEP+PQ6cWw-BAPf0sfdxGfbQ+aSg5Td0R0vTeAO+no+tMvyY-g5stXEE8is46YDIBffAN47facT0oE7vZI-uckAXbno+FzNfi+e0644U-jeFowQTWI+nk44hHHozSAzVy-eWqyCg8M-Xfk9IEEjjQVl3eY5Q+SQAHJ03X4ErAuvPd2nKv2H34gMVy5SAU5YuN3t20Thizpo20OEuJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4RTOihShrO1cMunP9B6utO3Pn2C3muF26vaw4vlkbwmu5OMuELzAiWSXlAyXdXAlNYPB9kRl33yON4Pj2YzZv2-7wR3jKOJ9uAGPL54Ylv9XQWNB9Bhv1hRvqBNAGzJvK43Br2ZuquIk6Pfolu-OtikPIjkaQCpyNZbvYhTINZBuXAEv7pQE1YHkpu3AZuSFUU1vFvPujqzbrTRqgQVxhPFdfotu38cYluva67QfjBycUF4oDuAfIMgeQfLukVmlMfXVdV4eOaudM6Nw-2kYsI1cLv9lTcUFllwDWe3B2eFkWPhrg7YoEf1J75Gfqv7mcfee34vPxXaf1IjvSXTvxuVUxfvYdyaess9uigEmFeTuzvXpSf9lrvMe2v1eRs7cvnJe8e+fuVKJUVA0bv6UZTZ6XvgEssFcHfKfn07rDRGVfuIaEaPJMkSBweYy5ibSDwZu-O1dHuBeTqzYzqAE0kWg-ig+slvC6zfXgrQ+kvzPI-Y-d5RzPuvP4+NZE-UkgFxPK90zgqZdNSSvtJypKB8A5E-YBgKhBglueX2R0-we6eG+dIPT2+mkefG-so4Cu+w-ZzBgs-+0vfA-rh7MWBqhuJ1pc3O91zmyp+86E0GtmLzwPTl+jY+yGt+MV-3tny1cj-V+6dD-z+T-a9r+L-u+bwn-1o6y3-GacW7z1-xRNv-zu+bYTwHv1dqg0PS6mBViANyygC6w2-SehZCX738NoUAhiMslAp-cFYxMHPkBWJwVljSCfZJEh07IR4QMEMUmCfAIF3k9MdAC6uomJgMB1AIgDgKQGDRltCAh8T7njVRRYDMeeNNtHc0-70YkBDAb-q9TL4wCvawkWzIIK5w9MbUpQBwLQPJz0DGBwgZgSMn-5-U2aQmdgWf2P6M1PEn-MGiamJSopekMPPgTBSwi5BdBMfGHtwBsEpwi+hAJ9FmB9420EwZsKWmxCS6OCZuGA+yv0AUBzcNMFQGGL4BkJsgwhh9U3IYFJDd8N6RgFQn52iERDyccQp4F52Z5O5DAKhLXoUG5ZuNAhp0EIeolSEyFzkQQhCEkMy6DMig5Q9IaSDrLVBI4HAYlo1kjAxCnkUQzoWkPmjxC4BiQ3IctwaH9DMhAvbIRNTyETJChkDFoWQDaG0IGh+gUYRkNqHOhZhRlKoURBUJZUYilQkoTIBhijQDuSSOtrZiOFUA1EY8QIKdEXZVDSmaLCYB6UuHztJoNwoIfcNOizdGqxQzztPBnT-t8y+LfoEsN6H4404eRA4YJHyGbDXh1wv4V8OCEa5bhgkPYcUggHk4hQPyUEE2WLZLguIVATQaDRozCYZBoAT-iIMYA-8QB6ApLjILAjBhxwfnTEb-2QiEjXioFLIVcLICMAn6-ESkYYKQHLInYnI+Cqy04i8RI4fI0KLxV4jcBRRxI2AUl3NrqQZASYWoDpT87gh1RewTUSX3aCdBRWRIjkeED85PUhsAvOaFgN4hmjp4mIkQUtEpC4jhY8ojkUqLa559MIVAcICzgVhYRRRy3KUbyIYD8jeKN4W0fkNjA3hAxUYv0MGKSChjZRaHSMRqwIhq5YxaYtCKBTa46iNRvTAIe9g4DN95s0I4Bs+SwhUNNhEaYgZxDUAmAvATSRgAPx1gtj6A3AAHm6IB6QUwswmMMf6W8TFQExMoviLxU7Emi2xdAbgFmLQjdjxROA-saEh8S9tdRHAXpn50BHC0GaxY7KIiMXESIfEtYjyLwGXIr91YxotWsOh84s8fRR4p7DKGB5EgvoF44NI2G6CMgbx-0fLC0SwHdBwgA7JDkO1ADdBfMxY0ADJQAAS2zBgAAEFwA4AbZgACUZKkAAAPLHNkAQIK8pqRkCSA1AI-LSGemHEeju+J4wug+IvHSjluaUKkRUDVjs9R+REnkUkDa40TOg4sRiQ1A9JsTMgBE4sA1G5ZwDIJ0EuCQhOQloSMJ3EyQLRPVgMTCJAk4cc+RomIizxj48sM+MUnFdOJ9ATyH8Lr7jkV+fEsfnxmIkSDu+fw-2McISZmJRRqlGhvunrF9wmxRk7eLZMsgvk3hSQD0XGNwmjiXJCk5iVOIkFa4wJ5XH5jqUjiMgAADCcE1I1BHIDmDIG3wo7NZqAgwenElMVgOBIpQIMKVlOBGRU8Q34hMHlNyDZSyAHpPwvFJFR5s-gbIgkXlKh6xQ0pFYhNOCFd5YRGpKU5qcIAa7JsMBgQQNDVI36pBqg2QJKa+OExdT5u63EQWaA6R+VEpZWJqeVDSnJRCq-OSoX7EcidAO4k-PFP3hqng8p0N5P2NVNP4EDpptxHqUNWzjmCXBJ0rCFtIYA7S2AHcOwS4PWGxBnpr0juM4P55+gfuhAYjDgJ+m7TxpHAO8S4AqAkARAqQHbuINpEACoIGSQINtPBnKiNqpKa0bDEqTapUcctQ0e2XxHrkHwlgqQRSQ5JS0TBxtcmRSDJFCD9BVI-2K9Q9HUyGU0gsanIKsSlB1RUYZKs0DBlvS9BN-VLCwGMHagsA0EF9PdQpnh9ekdotCKUCFnvSncZMmDirOhJ4zrmw8JqGJWIDeCIaoMtGS9IxmfcMBDo7Ebwm1h1SUBbAEib2IEFIDGZos0QYLiRl-UmIA4QQQo0iQQQjqvtaUKZSTGjiRZvVIUfoOWQzjYgp4NmZK2lqmDsZ7eTcKeBEQA08AkITOSuFozOygQlIt2b9FjkSCpaQUH2YyKiR1AAMQc9KiHP4h79o5gox-sKJQjQRUIXI2dCn2Qr1TN+nQNmd71pkDgYZC6eGTjCLkezQaAFDOVnNJq2Y8xeogsf3MoiyzUSrIu2X3PdQL9VQdAYOWGNFZ7hfwPYlUWuRXH5jVexcZJKuP1Fx8iZe85JqSHNFrkvOOMzCCoXjnexLZS0a2e7DqmEB95Hop+cnNFbxCWRfLdRFbKXLfzHghAX8L-JImgAp5kIABRHxfm+jWcXooBctwcA7zkxEY6YQDQjGkg4xKwLBTXN3ks88FdQlYCz0IXRyVgOYrznPLXH3sJRHkdxElJGgkFZuadJ-CQRrJJTc6eZaGCeJ1hhTL+bZCGQ+A9J5S4CoihIeBxhJ2haIE0r7jEEAyhFOgO03wGcg5LIcBeibO0KIvRGI1EWTSJacNDCkdiuulCQKZYrIC4hD5-AqkNDARxmLGQg0t2g1lGk4xRFTERsCQtxBLjiouifxbXLHFWKbSnkqcTOLeBCKmOzio9KIqIXOg5xnspLiEsCUnz55Z81RR0nRwl8tsgbKxRIsYzMZ4ljARJTam3GSBdxZY9JQeNBIeowJwkhgIhOsgAAZbZphNyWZBYp45PCZ-TCnRxTJDimCmRJklqxKJvI6idJNUmm5BlkyliV5x4mzwkp0cOsssrMVrLu+zS1pR0vABSSZwsy8nPMsUnmToRpQwYGYmUlljVJDAJ8UoU0kzjwQYU3SdCPhBxjrlqIiEK72eVJTXlqIyrhgKxabKFlQUkZYHIsmvDrJV4MKRw33TArnYYUiRckxsUSCfJ-SkFcMv-JQzqQ1LP2Al0a7hKsVbtP4c+UhVWSDuK4c2pAzTgWT5W5OZYTam9B49tJfGccZEu8k2pNhwK+ZeyulEei6m31aETir6SFK7FhKuxUqI+HfDSRdzVoGUyBBpR1cvfJruCFFUJdDaqJeVQ4C5ngRmR08d2DwjKwEqEuUq0lV521U4xZ+TqCVd1zNXCqMBc0VSeKBfFyKbhEOT8cQhg7PyUxt4gIc30CD+TsoOLVSWllZUNok54yl1ZOPxkNA3xfgRkLcvuVhr5J9ASQXmScWJBBpQyVldKrEjJVPlnw7oFpNTV0B-lQQzVYUCKg4gS1-EnSXpPyFYRJx3ATYY2ykoxZJxeasGjLID6akPgwQP2HlJDUUTZFjs-5oFMZAxKzwTHHxeSFRTOqf5gU2NfTLubvigQSa9SQ8qXVS1Gwba7NWYrzUgs9Ihau4cWqIJ-K9J6a6tWet+UcBy1p0JUrGE6lJSW1qDPdTFjymkrBMPajedeWH55TggQanGDGrdVIqQNfnf9ewpjVedh+k4lNXWqIRD9hALK0tfBuMnBp+1gaztcOrolobUQgmKKGwBQ0Ibm6zS0SUhJQnoT9l5IMjfBIo0SSulTa1la+o4bPRiNxkqojgPBAYhmFX5InJBseCjryQmGwdZlJw3njZ1jigQGxs2WMgdl7SzpUxHk17LGQz6gkZsJk2DLBMQUbjV4F40x1ai6KXEG8DyZJ0lkbqxqksheGboTN9CEZOcIPxqzWkdZO9LZpRCLJnNL-F3FZpDJXFdquIPeqZpGz2afhbRHzXxvSKbpAtdm8zXAI+mflNSd6aLe5pC1ea7Q4WuKcQDEBDRycBK2LUl3i04qTN+AMaW5rVb2rURs3I1mVu3g1bxK3sIVaiK87Faxprm+gEFrVbAYOtTqL6TPGPj4qileqGrV1voRjIpZdQxrUEJPzVrVuIgKyuqqsW5kWtiG68oFpK04xkt5WmAV2rdVGtNtrklIN1vq3nzNx8seYSCPaEsxwhEIq8AtvFV6p9tKww7aNrQFrku1KEBoJsLW2taii5MZ7Slv21jbi0BESbd8OMwzb8uVkO7XF2PqHb1t8LfnDUGy0nwLE220lWctRGWSqA0K1cNSvG0bV5FVyJTANvFVI6ctYquLuhzG2UKD0RY6paWK+U5jbAwO72FUpLF5qnaUs2CM0AjQfbrEb20lVChm2Fd5tBSjVdwDJ1aAEdXZeiY2woGcC4BgKAgea0taqwbWJrDAbrzG6pZUdoOwSJOCCjkrsdlKv0Hjr9CyS5dw0TSKBnIHDROqDnPnkqKSUuNKwm3CBmmJOqu635gzFJIAh34CBiYOSaylzuB3ggtdSvWLJVwIy806d7OxEe3Lti87jIeu8HfwAhDh79eDEUXcTop0TNQAGe5XgfxwCNgbgwPE+uEMZAABOE4HAnL2H0OddVWvTxHCF5qRBkcEaBLoDkkoDAQw0PHjRfQDgXAXOKKV3sKB16U4-nfzlZDQAz7K1OYdwX6HH1ocPgEshoOPtb3Gx-sFkjXMshcA+R3SK4HwWPub316LJm+zcEilL1-b964QnFRosPraLLkMmAdRVqm3d89dQutPatzYCaLH93hKHWLsW3IIf9D+pgByWl3FJueqQAldUCKgngyAT0d2DM1lVUhWgjIIniAmYDA8oDxoqOFbroBFQEqRwQFXOtJR4JSAiB8ZghwkjuwKKVuPGkvvBDeQfIUB0AAl1BgEH+AMQZg-5G90xAl9-XIpa0GOAJzaZEQFiAOE7XN9W+TSZDfjmENd6BNfsQDXBtg25q4CChqWgOHIOUHMk1B5JLQcXjwg6ZjB5g95CZAIbBAch0QGYe8i8GZZbEBfWvpP0pwmDthtg1YttSSJGothuw+mvX2IjaV5ynHVeDN3KJBD4qrMdbrIEfJWgTugwF7p9JuNpo6w6HfF0iKx6alXymsa4IKSbymom6IQIYEcj-ZYD-ASaXKvQPhLieWBw3mDzDjGAyUnBgQJZWINg0zaa5Zumkca4ZH1oO4hnZ8JyPFTBijVO8sdpyVS4fKYY97ByPICyRoIPSaLriBgOkD0Ytuno7B3tpjIEjbujhikYwEnqX23QNkN0AGGsZhMzdJVccbLC+BgyOA8TOXIgj6Rulm9Ear5igO579A-nAfvoBp0AAdLAGBvnTqJpDMgYIC+150YMUGxCNCFPuSQ6GlyGfE4B8YJXfHGJvxyhQCaBOwzycoJ8E8aMj68ATwyyHoFhCJOgAAAXpC1AAAmig9KpgC3zBMecSyoDbgFSZhN6Q4To+BA4iZqioRPUhR94CUc3DfHgTuJxk-iekZ2d1FVlFgFZWUBWVemkwfzmmDwAomilopnEwyf9iSnWTK3OY1ZDlOmlFTlXLk-5CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOxxGpGZzCVAul1GbBQqXsGeFNHCNgmE8F94dIAE9FF49kdB5iZZEAAyNWziuAW8JQ+W3E0R6puBipUcWhgdegvpdOJ0Xxcl6WOeCwhzZ6qxha2xp0coFdKAhl3Ygt1WkYrGgXm4VCOZjIXppBlRgzochNEIQPCBJYPoKVlQDftqW1EZ4KE6TlOGDTt3jcZH5i9Tuavdp9mKcz0OtYuRdw8jnG+Mej2i+TmumDYoOo5E5H2+VMYO+EaOgcr0HipCM8OGITx+GG6hLYeLO7bWB385l4L57Tpgl5XtfCHLj3D8Xt5T9a1Q659jepFH7W29f8eBa78FL-9Bfj5v1ed9B5PztM3MeKpJ5f3drHU2KghwaGNP-ZegD2wgOttmUGOcd553Tk7Qy8DyCIJPig5wF8YE0AIUQgBZ977ewbojJuNtwFjGYZ-aeHtKG4iQbfcqwCM6bzAe-CBH9VbTwrjNUGK90ZsH4JDTgvBZBVGcGgreWCJY4ILoZKR7gZFyIUQwJR1AyEmyZItHRsiBCOEDqkaQdAVHNxhOyOgD9fb+3Nn4VhojBbiLyNo3RtM2CNHsUwoRE8RFRzER7UGJ1VBuFSDXYJGDs78DFtgx2CNgoxLUIIBgNdjGVxiVwfRhjCCJMdJ4iJRsokqBFCpds2IimKMTuvfhz9m6YJSbndJstQBExmKSWp5B6krkaQY5p59vE-3YHo6QTB9GGFaaAm2OCmCyFwJorkkzyEbQlo0pgsEylMmJKs5Ymijrf22bUmZTAji4MbgI5Zxy1maPSN4nxsCwYHFLsQIe9y2k2w6ak9R3TgqMC+SQBg+SZrVWYGCkcELGZdBHs3DRpI4XfMhX4GWXRu7bPRRC2JOSa52IzlIB52YKmd1xSYt6j41CEviaXO5pAkWMIpdrbFWyaWKLmnE3JTKSUc1ZeSys4SEY4ouTS0GuSUgKnxT8xF6Yt43XoRK6BUqVAr3pdkxladFXIoBUMNmEcxUssidsmmao6hoPQY6QFXS954NJF4GodQoV5BhUwF1xBrWLNtUc-OzqrWkixVHalldvV1C9ZQQJNqX6t1NeajVNzeC8CluqVBfrVGdLSY6jJhlkhpvIBm0hXLK7CxmWM5RWbBEJsjJUyVldV6aEFX8pZ7K61hPrZ3MtM1Io3OkC27gdhhX-KSUwFVw7eBqveTQFYtizzNqnaO9t5TtYjt7XkHlA6h0boNdmRcG6qkWrgavbgRTFbtOSUC3eJIinBTmOXWdKMlicCYHyP2RgGEogaicGU4c1J1lXSLeB8oRALFJI+u6fYmhGyiOQ7a714hQDgIgZA6B-pchnjNKGw4cmaNLgOJVV6waeAhrh38MM4ZRx8gsLaHMfI7DNoHAWtGMSdRMrQ+uA8pLZBcUwP2E7zYCz8IRz4vlbZX24SQlpNHbQLAo-s3+R9iFnwI4QIjjHbacO8NJtTqs2OKZ08wVTrV1OadtEx+OSi+5MtY-J3YP4bk2ZLnq-euwNPidspJ6gdTnANPkU06tcmvgKac4M4ZlaSnma87MKzkszG6NGdFgzDnPXC1VIlixgDrEOFbcIDi7lNh+NkQEoJqtCtFZmGJrToN5W-OEIZpz9Xsj7HhT8hl-K075aEKJzztWVCRvs6Fxz2IhvuZq5Z22WS+UJNSyNxTM2iV2Ym-1qboNC3prM-NiywRU2eCCRRw4qRuAVuS+MkTHmiOVcAiswTg87HNp631ojsWZh+WkAFTRoVwqRRip7NO-BOCgGSqNyjqQn09320E0ofgnvpiwsrDQsQhnkAHMwDLpQTDrWA3ttNCoFHkBRxQdHTBMdEDh4OiVzZIJ4kRzUuIvBKApjJ+Q07RBsdW0kA1RRIwgiEiO-hitZX2eEF630u8XBUjTMI4+agCSJecQrZY82Ni7FY5u1VmYT3Nda6kGdjTcvXMkixxhMddqVAxOAbzzwjW7wLCt1JJTac7M27t2WHYfNDz5iElBWM-l2ii+CmFCK0U53bNII0ewIOUqbcaD1Zs4Jn13Yhg9898i6Ave0sjftT30-Tre1IBYKqbI7GYoLk7876VLqKV0LPuuvgp547+Ax2Fq9U-z3Xq7SbK6KYi-5kZgWq2yfzWJkOhrXDSBHOe6GJ2rl7PmZdsThenhg+OxbefgXnfPe70TPys+N++eubcpfnnj00sUy17FWf1r08hrEWVnz2sNbuDj83NAvd5hRL7unm5JHBl5WWzcyFU5z6WRgrwtir0AN1WZTrzEwylpzf25z6igNiQRmbxHBlD6QgNOzpWgK61gN63gPMjv0dxb1wIXTQLPEHlALLGRlQJlgwIYBkl6B-yQJmHAOazawxW4EV1AW1VmwFUVR8GIMbG-yTw9ibyIF7kPG4ADgMUvQn0nXkK6HMmLzZnMjLw-DJHJGkJczWBpD8CkJdn0MMEXBUK7gEl6RjhpToHVBcGZ2vmQTPh61vz-xJm4IRVEXYIamxRlHq062JQFhYPf1thlUjyfx4M5T6XUNGD6R2ELVLgWXsIE0CD01anVzwMCJWxAPFz1zsJCFSKcJ4WcDsU9Raz4K123R1QIPyzuDNzYK51CLnmU2KJk1KR2xGw0Sk1M3KmcToU-niO01XkIS4V6OCxxkV0shfGM3SL6JcUGMAh2BVQygkO2UU3GzwTHytgajKxlEjWjVjVVhkgahAjOi2hSMcLmNKO4DKyAw2nRD0MTmTjWHOOMJkLWCXHVC9HuM4LwxOzKwb0eClySMhkNxiGNy+KOEz0WA+M6CzzeQ9kW1DmyOANH083H2zE9TIOnz4JwMKSHxSyjiBPomX3P17ycxkLmy2IxJ2L6kHhlBwKpKZSYNPyIxkhkK4x9lZOZKPn6Prku0Hiz2OmbkHnJJwyc1mPGJHx6W2JRE5P5O5OASlOoTvkVPoTyM2BwJVOcKAV4wq27wb2II9EkGfT71aOuJlJvytgVP42AR6NVPmIGIq3MhwIdN1N4X1OJMNNdLPyT3gxMUQxiGQy+jQ1+n+nSGwzjkn2n04EUOzGBwMnUBHHFI9VhAxzZxV1y1sT8EBO70xMdFRTaAf2Z2mWFhDUqKzLkDy1zJjVOGNOfRaJLJZ0x3jIt23mBXzlwAPkZ1LIlnLM3QqGVxy2rNsVOzbIDTPGeW7NAE2XDRmmFzrPHILMnJOXWRnPOXVXLXITBIHCNwSVwAnKJHpWnL8FeVTOhHTJOV0lZJFGl2-R0mzFRRxMxQ2nvMHJFhfO4BoJXNtjUVvW-KkkyRRMHndQqBfOd3vMApbyPNYRoMRPWJIExETlhl3P3LszlMfNFRVAbI9lQOiGE0wtCPDlwsQuXkoEYC9RhysV8HzNEF6BRGRmYgIsDmFPBAalIHlnCIVFlwhJrhlBWKjMvLhBYqDhcRhIeyPJVnEskhbxnTwpoq5K9FOxou6AYqwrDm1lEo-LekUrT20rEHUtCMXG0ovJoBBJl3BPlxWxku-GhNzODGYCItx28Fhk4r4zoSRQMlcs0Hcp-FUIzAWGYnSxoo8vrgkuhN61AHcEct3JXykB2B8vcvVKRQAB4MRS5fKdBoKAqywFNPtA9SQAAVTqKqEIRoYIQdfAYlLaNkItNYHYUkUAAAal6XyPUC0D1HK3EpEFapDUMharaq11Jlhi6pyvuDvA+y+2KtKtwAYCikqs0GqoFVqv23IAaoGtasqJmBGs0DGpSt6sMmCkGu2t6F2rGv8p7xmisl4CUtZPVOtJRCRI00lk6nZGcpmA9gKI6NssuvYI0ttknQOtOqukI1ersF4L10kG+WQq0DQr4ows83iqm3VN1nDmBr12eG1kupBskHunsJNUjB6ojDGEuvuNYJIM3EI11k4qcofwiN4usrTm0i1IKqfAesMjClphTGuldnJppyLD9zLAalEplHwtCtEIzGRm+pUvNiUvV1UpJMAlEqYIVvNjNwps1tCLBuZHer9JsKbRczur4RcVksevpEQoHHBr1qI3YK+oJpStkpXVtGVWNQxvogUxet1shqqxhoorhsZshOX0qPuhcTRo5R6tOoWAonDn8tkuRokxltQmJtShVDJpCMEiGtmCwmpqTK4vpp4qsuNxZtmAD3ZtNs5sIG5tCHkJjyrlszLn5szsFpLD6RFporFqyNEvPT9LoObhlpVpStlsDk1KhpVv0tUqbtAAUkYubh1rep7vZP9OegQ10o+hQ2+nQz+gwCEpFkJ2JzRwzJMVF2Iwn3-I0Vh0Mn3tR3RzApoGvpJ2YCJzTQILMyx33TXU7RPreQagfsPtZ0DJlA0VvFRReH6qkBeDvFHt6FRSrHAckCrCgd11RUYngffEfCQZAZfCMmJDQZwUweK2wdZlGH6uIc8FtGgakFRRyjTX4Hjz8BoZXgqq+EockFRTLvgbLrLFYePJJFJBhE4puXcDoBDQEZ0CEe2keB4dRWarQakG4E4D8EaBEHxAAD5QBgdWrmHpHsHEo5HJAFGlGVH1HgcUptHkHsHDDNhDHQBlGCQTHQByRbHJAdHA1gB9GshFHbHjGNHQAwBzGsHA0ABSDxmxuxtR3xoJ5x0AVxvhpMORsJnxxMs0ZRixwNAAQlNASa8fCYccycJFScCb4dStCZyaSdAHSskEKcIcDVSvxH0cSfsd8bqaqdibJFUdKaMaaeB3UdabSb4dUfqb8BmEaYiZ6cJG8f6bJHSY8d8d6AickHSakDjNvDBF-uRxvqPsZHloJHMkcUuAMD8D-tJ2FglXWaJ02YAe2coHcAACs3gWVdnHh9nSgmmUGNnH7+rWFTceGZhjmtn2wJVepNp-nt83BusgGXxUVP82B+qYXfmoaqHsHIBCBLQhl6HJAUW0XI8EXEXeGyQxGmBYBIB4HCXiXcXEXUVCWABRNBmlilqG1FAAOX4CZY8ZZaZYTr1zWb6lBakxSqec2BeaafDkPKOY+f-qvjOd5YldJykwe0FdmGFYie+f-H8FleYClbBGfTjzmQ1audQUvubVvSPN1dYCYH3GkAOzhtuf4CHDsI0BSB9sAlBefu8Brjfo5yVu10HRNdMBmDWNsP6FusDoSSPIst2SLoV3okSPYD4H1YrUdqzqqz5YtIOu9akFjcMFBYrRufubIBhNxskFTYnD-kkozYQfzsf1DaZR-r6lpqYE0ExBipGSjaZX8ODfhqZpJG1YDMZCDPXtDJ+kwB3ufTvMcDICYC+TUBGhhGkGtWMyPNZnRkxjgpGN4gms2Cxq-sXEXexz6qYCatavOtwCCTXYQXQk3bixbjMI-j3fnLyGLJhDBhV1SAWQ6thmdv9WCGIGIGqpGHw2yDh1-Z8e2lau4H4F-d1lJCaogyasauOtasg+IAZdtBg9DQ0E-Z0v0VIEjyxkw80EpxbSI71bkBxbEBIlnptl2sGtJDJEGqfdkUYFfc+P2eNZw8jyI9fz6qEFJAfYqA44VBsSWmbSXaNVGAg8HRXwgxVTcm80kRfFE9AA1h8m4DIcJrGFE5EAJhvY08k80Gx3ycMkfWk6yHDiU4Mkgzk5G3Hcg7PGnfKjnetVE73yyA2zWpLXXiU5U7vGY0gJ3PO2US04Tog3o9asE9cAcCWnM472C5OrvCaqPc9joQEzcRYzO0JIuy0-i7LES8Goi+E4OdvZVDz2C96ol1pGs4k0E7JBwX6ubXFbI6E6i6vfe1tmYhc92xq9JFQaMJfBi4M5Jv07VYK5a80Ntl2uG7UMMgAHIkvm1aO5vxuT2glRP+P777QIivlpAgltu7GrZXaJPA4V2nxw49vUO7xUUQhYXgp2h+rSRIpXJC4qgux7up9vBaRWvV8auzuRwduorFxzvGvcPmvpAtJxufvtYgfU6xhoeIvzuzLQBbX7XiBHXqCncFEagxl88xOU0i1PPSkL1puruPPWp+qMvikLsL0K2yr2RkfgxUfyAUgmC9WseqguOcevuErAbCL5FTPUVH0sV+NBN5DOfxuilEe9v75Ac31Mefkqgce3C3P45SfUEL0WaRadzUbCRzJ1TUuhN0uAvMvlF1eQj1m2fGAJYnsZR9mpfnEZfWf5eYS89TfYx6Ctew7LPUHpvmIAMYgned54cPFQl42LfA+qc+JxvE3PeHI6uff-exlw+W0o+Pe6FoP6eHWmf0eW8qvvvtDo+6Eaf9mM-GfmfB5HexkOf1eV8tDHxRdtmOa5fE+reI+ECW6UZ3CDeLZ1e39kYBf+q9eRfefeAGjECmjwD5FViDaZpI97BFeDuSNy8+fpuSLl+JMy789g9fsw9dhjeKhZ-IUdK7yhCL1fzlZtCifdtFxL-vMN-71K7Q9-tAuKhj-utIdtkE4uwRpSBKAvVmADAOAhgU-gvxtgH9FelnT-hNHW7BA2AVvF7i5BGgi5gBVHDtIYFf4spOeiPT1O4FYAqRYYgFC9jRDsowVfyzEYzLJT-DQCcB7AOGsZluK4CtAsFbWNQLwEGcqBDA1CsAhYGMDfyi4bgbDB0r8DNALAFwN3XIG6V1av5BOHKHEGmVG0OGTgNLkMDiChSEgkeqQO0LYCOB2gFQVJCipyDp+IMUtmnEIQnZ7+olPwEQGroSx4ETAJIOwG8DSBjwP8XgIdj57sE78oGHvk0VmC7FtB+xbQSILJwS15EfgOQX3RthCDdYMLSogsCsF9keMsyewWwEcGb81BWoEOqiFcH0CaBnA3jEII1oC1hId+JfiPxLocFm4zENoNkNX5lC-A1QoJNfz56FDm6wkHwRUJtgS9zIM9AGg0Jx6I95o+gWIHj1BIcAmGnxOgL2DGF0Md4dANaCAPHRA1Nk03aYY0FmH8gkQEPbQujU2Q08kQTTQYYtBGHTJVhEw9QEMMojZBdhRbKGqcIlhzD2EFqF3Fa30Ck47hVwhhkWBmH3D5hKA9sksNM53DVAGwmvug1O4cprh9EfYRE1YA2J6Ybwr4WsMMBAi5hSIGnraGhHqNDhww1CJsiup5BsRZOFeNjGSBB4toR5XAMSOlyxIFoS0QkS8wpzkidKlIwQNSOxH4chhuPIGucMWimcS8EmWEQ4HhEmZERnxPpOjR5FaRvWmIt6FSNLg0ihhHIo4ZHFpFQJd6u-JQSwAhiwRiQdmcQTIh6QGU6Sm0KIYSCEFBCxB67XEGENUoilIh-g86ARBdDTcI2BA0YkQINE2j1aWw3Dg4BcACMNI5orgdoKiqej0hCFGlGpBsT+jBAGkNSAw0EBej1BCwx0KLUs64Bx4awJqtN1JAZigQWY8XgcCOBfoExiMabqLVNICjT0TEYwMm1XwRstR2+XUXqnjGgAwx2lcbufzr6AZlOmsLsU+ANGmcoxfopgAGOyqLhAM6Ix4IuEHFTjNgw4xQKONjHZUAMxgOcVrnDizibhSuSeuN1zGZjYWAwrQN4B-4uB2RcZDQXXy8YyiVUEYyuIkDeBRpCikA1BC+OcB+AperYqXkaJ-R9QxxJycULbhlALiYx6kbKp+MTE-Av+1APwNuM4jfjbRfwvSMuIAl85oOeY7wLC2m78jvMKFJtnIGoAKjFomkFCW7jeQnjQARVAABLUsmAAAQXADgBqWAAJSKqQAAA8ky2QCEhBKz6OamBOczORAWX6aMUmNHApiP8lFXAVwBEl+jTOu0EQRwE4CB94BwkkCaCIUlHAVwb4tENAM0mjBBJ0E0UPsIkmUSaJ9ExiSxLYmcTwAekuQIpK4AqShJNxdSb+QUnsjpJb6D9OsnUnPdnJ1ARKNiPf40pLQcA-ycZJAliSjyhIlkSSPZCK4DR1VexttQfE+obkLgHSaUkSlBR3wvoxQFFIrb8TEghkhAWiFkn5Twx5EpqO901alkbEMoAAAzmBn0VoKKKshGD-9VeI0cgIYEVgdSlMRAeqYSBqkDTnhg1LkHaOzAjS2gg0hwNAM9StTEh7oi2OIJGmbZi0d8HqVJW0JWcjm2hNaV1MIk9Shue7O8TNFkDyElpxoFQKwHGAdTjwPOfqetIJ4sA2AAleau1N0zPTNpvUmSB7HOHMAooRwa1MgMeBbwvB7gmImVThCLS6B9-A6fjx+lct4spQrlkFW0IAymAQMzwNalqH-gQamM7GdaiaFlDkZu-XgKsQBqEzgZd0tcIjw4D2B2AKgdePf1kGqV1o-02QIDJpniTKayvRIeeloIswqaRY0mlaKIFahyhYM5uMmWYJ9JGilRXYgENyHCDzW3dWiuEPojIx3A0Qp0YeFxoLAMxxYXGjsGpk4ychrA1ku4BaHyQsAJEBWREPHTl4RAsQlCFzKxk0ySK2OHTmbOJkfxJZmQo2YwAzrT1xCVM92UTP6GBte8ig0EnqDmQUVE4uIN0deGIFRT1ofglWcrMtlqzQqbM9WjJCwhRCjO8LdgsjCIBdUlxYEi2bQPyEhjYJeLXoD+Cin+tv8iBTwWeh-Cc4oaNgckH3PMiZzWB2cuGrnOEzNzwxIc7Wf4JLl6y1gUMiuaeyrkaRyBcEyQEGLrkqzxcJEbea2FUpDFXRugzwC3Lbnt8sIDMpIszNKTjz85I9NSr3P7nSybY+4-MYeJPltDzIE-JQSnOtFpyJ54hQwRUAXkKgxxfAXsLwGQg-iAaaYhyBhILG7Zn5mE3PtzzazFjeAYCwUOWJoqdjqxoCl2btgbHxymcSiZOWgqOYQK95VYgWeArwVbsNRcciGEQqTmIhwFRzXsAZT8ZgA+55IbBXMm0JoL1YfYlQMxGoXTcgFS88cR-H4XripAE4wUNIskBiKQFAGSEY3MeAAY5Fq8r4NpVBEIKsxiPaJB1KxhAEHyzRa9A6lwTGLMkHUu+htGXj0BlENUpgV-UcU6URpIuRxWf3E5dpvFtMyWfz2wZHAgZjQbOFPkP7jdWE4ke6fiIqC6tZENU3xR+L+4E5WRfoxJQ4AVCQKpADUZePoBcA1SZQF0uWsZhumlJHFJxPqGIrdxYE7wii5cdwAgl5TCA8i3oCKDsUXYclhRRxc0qkAISC5SExYJXKqXpiDxSC+YNdA0Lr8D8U7JJb4sOJBIOleS+6eiLwknjCJ7IypQYj5zRKaAurGqXYkinhjfyMU4kfs0Vz5KIm21WJZ9Itg1S9pjSgqYriKniM9l5UppZVKPEP5dMe3epUkt4X3L0hRErSEcslFEjBApyx4GmPUZ9JCRWbf+OMMMCVFQpJU4SQ0tEnhj0RMo3ZR1LsSorUllUhvIPUlFnS8gEBaZekp+XpKxJgKh6X1D2CvNCQu0COFHgtjQ9SQpKvbgnlCJ0qiAus1MPrN2yJxPlzAb5XtypXYjQR3K0pOgJxVJL9BilcVfopKVKTjQX6XHpN1XFTx8YeMYYuCIuCAZiVFQNQO0H-6qTupLgTyRB1NXUBjwd+TySqsylCzfBfUP9ISE8nvpOQn6B1SHOyUKALpi6K1WeMlGKt3I7kyUfKD8lGTApkozlbMACB7RTgpITKVGtpEVkywHXANX4BlF-tPsLJTKdSvuIOzE8W5GaEatkDXKghFqjxcaPRAgSZQrS38BdjKUohbVr6FVepPKG-omgMoN1d5NeVT0fVOao+CNOxHBrOIoa2keGsMg1Tk1QwmNX80CCTrSQ06oKd62Yi3KsgPjbNX6vLXiqC1Y-f+eqIAHlr2gyKoLgGtx7xKHVdYovDAIliXrz143I9ZlMtXhSdKT6gNS+qMnHhS1Jq8KRWtfSfrSpYucpZtB9hhSjJ5xaibRIYlMTWJHEriTJCg0WTYN1kricBO0KZTM1PjMDaerRC-Fm4pIFkHx3kF5Aj18SqtSiB-XlrzWla+6SBvRA4a9lMoJDcxJCgAAZalrZJRAsb2NnG9DXX3XUyjGN2K-DU-KI2Kr78j+EULczZy14uRxqOTdANQLSbponeJxUAIzyuKDEZ4FTWUDsRybeB-szTdAOlQF1j4ygGTcfQM2mT1OimkjUOSyI5RLNZANTb+VqHyVtk26JzdNH02abDNOFYzfZpoBWhNAOSCWN8us39L3NBqmgNJsoC3TdNBbMVUSs8WSaIiiW1BBltyqzBDZ8qyUeNzi23Tt0WW7gFlou69B2VMy5TdQGc0kgyttERuYStVFvI41ZIa7vd0q3pL+qhW4DeqKc3xaspFmnzcltVGpbuK5mugLVuUTea9NfIiZfJ2eHCi4V3w51hmE607cKC9KGbS5u21moRtnIhrSMx8b9ait2mibbVrsS7a68dsrXE1s5HeJWthG6QB1qmUcqGGFmgbdqw9ghb8MOuAFeKuBW0jQVcU1bbaEhU3bdQXimfP8WFUzKftb7MlRtqD6aKdqx4giYGonXaLigVhGYNHTR2njAVw9DITvOWJsxDt9IPLaqMeiPbHuL2mHYjoxbw7pI6oxyX+zMHuDTJOBe-g2ybY3MGkbbZmojxL5o8eSVOfbbyOIjS0QVsU8FWDo7pqMiYrOwIBbCcjgsKA+GItgNy7wWCi235MIcY23Eb8BwDc1RZIB+yP976ggOytIDrpHs7ZO83oKSGF1Z8mCn3ELltHx1rKw1HYjMKTtGBK07tvI6nQuqd12sGeIu0CsFHW0YtndZfPQc1Iagwg30jDOhjKAACc5gD2CnrlRhqv2We1SEw0BUsAbEWMPwGLg8Gd9uRjq+SO3M3A0ADIDUqWVIGz3cAZuM3YKGgE71zrWC+6ssC3olE2zeg2eovUMkxiEjI4UVGgClDnLdCw5zegvXQxH0l6YSSeibbQ2UaI9AldDEJdPmLjGrxdQK0yYHtiDB6+GW+4JTGVfJsrXtSS+rp4CCU77mdz6JvlUAZ1qdCAcawcA4FpiJxyO1aoIHsBlB29GgDvF-fstXiMB39ca2jqYE+6FzNw6OaQD-vRagAjOaKfMY3XYIt7SQyUFKGAdAB7cX00BmPHozMDXrJALe+HjMr2Dahp6Y-OSFhDzU-8-+NyWAZ8RoPlCyN-Uk9c+vfV-qRcHBkOVhEQPIHI8qBhyInFcquQm9FBhfUEhwO4HY8Aa29WsBIO4H0odB9vqIAUi97Ng2BxQ6DkINu5toBh5KN3vn25RC97I6FSCtl3K15dqjXGlQfJVwTVdC8UwSyrEmZrjdb0Hxq9nRHR76lWKT3RjsVG3iv4FNABXOiyIhA6AUUTGKwDjU0rNogBwkMAdAMJ8FeliSA4kYGh9VYDZuduubHOKBG9gwR2GKstCPETwjk0-4calErZbcdhkSKGVTAlaA2xggfgGZBIhl5NuCob5W4ZMH4YyjunBo1FT12+Gmmr2I2BRJ40cbuJ4y0YM1LwpyBipLyg5Zktxz0An6AG9SdNwUmeSd46xlJYoA0n2StJ1yuxDpX0krgXlR5OY5xrslnhDjd67FX2sB0XCs2oOr4OOsVE9qPVPkk42Lm6Vm7l10ai7r8eIm7Sp1HUmdYtDgNJ4wDb+mbi+O4Cm6AAOlgEvWppQSzB3AO0CWgqolGRjbHPRHb34Jv9FFQ-uYCRPfKUTqktE6osxPYnGZEsPEwSaMB198Ag4KKqcGYjcnQAAALzVagBMT2uHE9MnZNg8JjpwYU6SfcjknSQIhqkz1Doh4AYjooeI0+BRMSm2Tv-fE9KZyZ9dA0XR4KO4Hu7EB7usLEwDNzBA2BaTMynU6ydcD6mOTRp-Fomvu7mmD4Vpz7oqfShAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IjCK8uDkKgLuunTlUdL66hbz1kpvTcWiaEGnO8yCv-dIwOJ8lwFJ+u9Qxl6FftOr03SuBoGV+MvlNgAPygLlMo5AAHdVDYnBPPO639rAAC5C7v2DJ-KyeBa7eGAkMZCsxdiEHIGqYgdRQCjHILgMA+BmBsFIPMRS0lGCgDWqAAwTZVRrTQMwjaLJpqyk1noZ62JZh2GjIwOo9cgTy1cM3R+TZqCCM+lA0If96iNGaHUWRNhYHc00GUHhWk+yWn4VIoRdoVFyMLno6RJgjGqLVJyLhWi5gIMkWY1WZtVDPReMhPQK9Jz-01sldBWRQB3H-r9AAVH4mQwTqyhAChragj1CBKR4ZIHgsxEmTWfqELxdBCAeDCQEqxdAbEyE5skuxA4NYhzKmEwi1RKD4HoVknJAEAmPAUU0YgLQV7VHXK0pRHRqidFAPIWQ6TCheNMfgwJnDSDcKKZIfgswdzZKqUyAq4Q6kSIERMlpeDFHtLqJ01Zgsel7L6YcgZQyZAjNWeuD+Dj9mnNWd0fpQInk2FivQbwUxEklNSbMD0S4DnWEyUsppkzrHTO+Qs4M5TfEAWqYUWp9SQXIWaYE45HSrlhFkG6QMMLKkAWmBY1Z+xDh6FypC0AJKfC-NAP80+JhCWHKZTYXFPj8XIVHLI85chhk+gKmMu5eSpkzM5vM0p9JkVZHhasxFGz9GotAOi-ZIyACQ1RsUvFgpKzSWA1XMoKlSvQhqaV0oZUS-VoRFmNI5YRPV1huW8vNTYDVtzNl-MXKfB5BVXkpB9aAP1AUEp0H2OQChegWCAsFmwB4gS4QxLibsOETrQB-3jfE5NsDo2PDhDEWQjBFTJusH-XNnzC2gDUYwZgPgWCFgAKrEEeuXIBzgUGfjEAAWnbXY5CkSbB+vXEGkNFCwxeNbWg0FoBzZuKyB4joXjCF5LHZiad-w40ZATdWLxWCcGBKXehMJegc0fPzdWduEQjx6D6rsM+EE9aRylFewsP9hJnqkDEBoVEAJGq0DelykRoixEtCGxkiQAg7AvUBn9Tjprvr6pIRJhJv1diBF4nheTIOmC9aIhc1KilmD-nCZ95bQA8JnmDQh-7sgsBFT8opaS+WZLyYQmjKS6MrILgwGNiqdltJaCm0AwtiN0DI9NQwUiliyk+ehGIkhYNUT0JJ-N-QV6yoiHJr9inMQgb5RkmMOC0OBLk-B2ZiHNPKa9bpksNVHB2G1GZtshg7C-ACWWmwFHHNUZFYWezxB20ed+L2lI26vPwh835qIVHAZEsNT52YHiAkAD5rOVtdAHTkUmHMRd+NK-1gyeWXL5d0MWonyDidsgvWT845OPwXp4vTlKtDUOcIEg+Ghj61a9apt9OzP3uJDU17TsjUNFLyUZhD41+veGIOxlIXjSA2dS7ffz0bXPWHc1l6jti4Qn3C05lggWwjBa2zt5bUWmWGpPnFswdwkvzZS9qJbG2csOoKy8oiAUj5LGq8B5+2HHMxH0BhkuWAsg4IACoAAkACikgACC4BwBQ4AEpg8gAAeQAHLIECcLDo7d8D2AoWlvNmJZKTacLMUhSJf2Uk+5Vj9SGBuyL-hRuTYwfNk8a1N8x1RYEUfUGVDnWc2T89KMTjL9B4t8vXJDmH8PEco-R1j4XYhWc9fZ+lpTMZGfc9+xBdbe29BjZMxNrnTgGWhc15iXbkWrKg9ALLyQSPa0ABkofY4E83PHAUCehvmOVrInPyBNcp5JU+evbx0++2b6bzOCH2Hp31MYJ8g9M95-Ht0AuA8CVnczaaouyop6lyIiCjvndu-ACr5wauP3J4Xqn3X0uILLYDrHLUrQnUG888bzmiHyfTcZRagq22F424C2a-VXffiHufdvUfp3gd4AQgwUhrB2BwEQMgdAfAeDsNVCoRcDlYRamUH3W9215CKAPxoVMsQGRGL-uDPwRjYE-BJPf1Zqb13xJAviOlykOwCQiQkRyhZgT8ecCpX8ow9M4xzxUI210oDQH9BkPRBoYDGxmwEDj9iBT8X9wNkxXxkI4DMDQ4P8Co-5r8cNCD3x4DSDPJwC8CIhnRNR+RyhkDKDmCZZ6CcCID084pipEp+hkor0QoGIkDP8UDkp4pBDaBhD+pUoxDjAwCeDGCJZfgeJKIRCFCwoyDqg-4p0EIyV1DxIWwpIZJQDVtCgDI74H4GRB8h9qgGDVkoCuYeYDo2CJDKCIYvR1FeYsYFQ85TBlDcDnCdg7YPDyDJCypwinwnDICdhvIhhoZWDdDCgKDUDEjN4UjuCQj4imDY5g46D4hkDA45ATJr9NBpI9AU4tCKpQDBkeD7CLVWo1I6VZIc5AiLdwDeDCgK0q1pR61G1qBm1wZsR+RVAqJQBO0ojKi7oRNs4CiTJhBZgOiBYut6pKAWBBDlAlhDDhBBsUh1xSjOZaJNjtjdi9JqiSAViq4mY+08thl1jowWBdhqB6hJA9iSADiwgBUsk5Ad0Zij8U43YriB9LCwg+ppI8ElAcDDhaAnJwTqgU4JIkRqFZJ9imiHDqgOjMSsSUgajYTmAWCph9ict8ZG47J-86JFZTBzU-5KSPU0D+QcZqT-iej4ilUHkXsRlvB+jlj4RBim1nAAoOZdhLlpjjjAsis99RJJggCMIlxZIr06BgjOl1xy5R4lSaIZFIjhYVFYFDUKigTO5M8q5L1tSujGjC0WjFA2iJEu5bjzTe5VToN99UDpDSpU5FDLoGjT8I9G4oglxL1-kj9ep+p6oWh6juiLF0jD8qiwzaImTOjVSLE1EQz4zZoRCA5-ioyeD5i2QvDfD3DgZVTn51i2YOZXCbo+ZPpI1ukeNekXkHjLl1jJYyYkiKYLpazMUNgIIjSqj0YpYOyuDjBPpphwCvVuSdMbAvFBz2zjAFTLlAkiV+z-g5z-CcYiZxy8zZF1iGTMJ1zbhFzvjrkIJDy-BFyLN7iLkeyC5Cy3D3pC0R5pYYZcZtzT8rz7U3s-ZqobTJASBmDIyNJhFey-1hY9BgL2Tf5PdShZEDSDgfA4RgkAL6IeQWgIlZg-yUK5Q9llZILQw7VQB3tqo6AQ55w3jpwSDScdZ1jvCQxMVMlqY8lvCNzKZ2hZFsMKzOY6KiYiU-49SmVYFA528DAyKCRsFiDZxqLzysiuzGRcSLVSKchxLKKpL+hZIp06LETmVnzhzXyiZOVQgpyOLz8kypxJK0IdDxDDlU0YRJxYCgJl0cQOwQwiUXCkIaCqLvSoK9CgkpQPKUIvKHMVJOwv59VYFcdvyZSxBKCYici6srM3Y8kXYQSGQvUvE8VONwYxKKKLKEDZI3YZsZorNsKNQWgsqsLERULcLMqir1xVy9A3YFKCpIT28YTlA4TiSyU2UVTuNAKhEXT8yYqMjMxWKDZfSadtgp19ygzk0Gq7Jai047DtKJrXSCzUDODNz4rn4vE6U8kGrNrtR-87CJqvVmDf8yp-9DqyYQr6i6VVSsMII6UhrnBKCAq8qiifTwDn5zrnK9RFy9B3rHL0I-rMgLDHD0z-ggbaDl1jqDRVTmqJyuh4YApKD7KMC1KrKlCJqfrqqLqAb0bVLLL5xQbQrEbIa9BCaPrYaPVczT9Eadz3gl89IV8yF19OAt9eAWFoqsxAz-gqJJrnBJiuM+aXrJ0XELjupv0w80TZgmqcam9lpfpnjXj3iEIzsLUUSzCMY5b75eFTq88SJoCXi3joS9jBbw4zpcp8BCwVbTaoR1ah4CA9I9hTD7BzD8ALaVpxobbQBOoq9nbuobCliva5SxpqjZhJoA6CSOqiSnJPb-SfpMZw7faNoxbprRr-9iwoTkNQLKQAEZrkRZhs7XQnaIhC7AaPULa71zpK7PRt5M6PU95VRC6mSc666AVE6vYoIyhTU1qYqyANYuRdB2rOqnJvrFbKRAwkbitVR1yqcSQJ6S8CY+wZ7243oh6LYliw9SzzBQhl7KRDUF7NIDbugvEFglguLR647XQ8lIr24DCw8AC9Req2iLbDVSbX6PU24fcw8Lr0Sw81h9687EZNxj6nbj7FyAHqcLBgGC5AxwGxbWroST8x7NyQqv6eU5aORL6eCu7-4tQdAFhn7MgaYuMshdBiGPQdSJDDVH6QDP73UeULcPAcH2qfLQhYEKGiH5gSHmHQAAAeAhyh3h6hjhsICgytKRQ9MHDIcW4gbENUKudwGGcGeJOOFoWBOEUAAAaiIrxOsH+10FqXdgwbMD0cBnhF0f0YMaMZ0BMbrtrPNT6OkbhFkeoAIBkCASUZ0BUcpjUYKMoE0asb0fBLsYcc-vMfhELGsbCaiABwcbEf7v0m-12HxuOpCt3qBFRpwPGAyCUiXqRJIrIr4cwZAsOWw3AsidWwoNyZiSUm0o3uoGHp0GvvhJxmjLxNgVJoVUJjMfBL-ktDEfBO6ZKZ3DMahQHCSc-P9V3PWRPwVQvqUBeMrNQZvv5EjVCF5OkdJrrWIHSHqAEyRAOyMubNvKBXq2PryXnqfqRqZXXCUtyEgc-uqMAeaqH0gbtPAaKqMrexAderqfycvUZp5vyQ1HSdpt2dpXUCyaiWqhPzydrmBb9OnOsACkedKaYfKdPLAvEWqaH1qeUERYaYMaaZabaa6s6YtW6ZCt6b7HxYcL-g1SGfUEwfEfiIxfGY7DHPFUcbJPuLmfoQWZFueCvrWfaY2fOcGSkaOEyYFP2ftqOb+CmK7WupOevPyyldnLD2uZNI+NuZ3PuebxKeeYwdeep3eYtU+e-vNb+H5a-N+f+d9OJeRaQRIRZqYDXygA3y4G3wwFBYiFOK2KoB2I+MuP2Inj-XvHvRJOuPhCDfOObrZATZDa+xeKyAVFDgjYblAZ7tBOBy3WiGDcoFDeXzyVyigQAVNEsZsFNGZQnxSAAWtBresGtHrYUoASpRbYa0OHbcrd+nYm7fYj7asN+gVlKEsfHbkFWQbbCAAUHSTGxEsYXdARnY7d+m2cYBbc3aZVndCAAQUgWADg8DoEBkPf9xPAYGqD3ZsAAR0e7ZsD0ColmGxGuyS0mL0cUdABvesAAXbQfesCfZfbfdAEmK7S-Z-b8qmCQoA-oWfdAFfcS1A9AGCQQ+sEg4AWAFg6A4Q5A8mLAAg-XalDhAAFJsP4PEObtkOSO0Pv2iPoOY0H2cPKP32FVX36PD0ABCB4JjijvD0AbjwJdj-t4jgR8j4DpDyYoR6wYT0d0Tu4AD5j-jgRwJXDjjuEBLcT3DyT0AJLGTjD36BLBT2YMIJTnToz-T9Tzj2D5D0IKj6wTjmwAWqBJkQts41NsNoOz+lzaoBSJSU0TBIt84zzg8JmNz4t0tl26gDwAAK0YU41kT89BKQ87aC9Tcse0lJMg8OzS5LcltC6ZCwHC+C8JoqphAASVUsaVWy4Mbnd+kgGIDaUSiXZM4a6a45hq9q9vd+nPckFgEgBbd6-686666g8PV66h27Ym5G664AQx1UAx1g-m4x3Za69c-qxTby7MtgO87uES8UmqKQ8tE9sC-c629K-W6s029DapraJ88KCS7qSo8y-kspVy5u-QP5m92qmOI2Ii-y6vH5JznOgtt+5kwUUYDKIB0kBi9UDUFIuiHZj0ELWu7TaDk7Kza+MtZSGB-YlRDCGIrBmxR-3Fa6otuQahFJ4RItWErwSNXe4B5BowdmERNR+2+1Eiex9CFp9aDZ5Tmi7i4oF6tZ4Z-Z7dDfq55ZVFZWc5ip9LpHXqyWZ0A1lYbKjl-5GYpBDSfV6mEK+Zu6lZq9Y4E324EwFBezpTAoEkB5kMHQgUkYG1gCurrEU8G8EHAvl7oILhTCrSLgWDEDCd5AwsckG0b0fCfwBMm0kD44dgSj695tQDueIUi5hROkkagA1zlB9IHmxYEViPwMBWOz5A4YD0YU2z4VThG0YI20a0Zib0dUCL8l+H0sbsZ-uqn4mD3dnid0BuNzl74jM77WBVQPu2DsesbhEPWsaT8olkFT8jKS+B4745l7+7IsZMDhADqX85moWoxzmd9fjKD37jwRGbiTT4IlhhD37OFOCMSNzETfmDD37MCCD94HCf4E+zWfQ4b-nd83Cv640Ixn8JCFvBvm6Bt7Lp7e2sI-oclgR39W8ccBOGmCv7nBzUb+Nci7UWpICq4hiGyvCEn56Mt+ywbwNRktAdEFM2AoPjY0OTaNQ+oxQAmpA0igkDwXpMKO-1CbMoaB1jQgTv1-55syBT-IPuahRBAD4iW-Q9IO176Bd7AlZHfj7xSAuEYs2AuPGILhBdtMKMIUgdgMmaH8KBUgzvkQMYARo4KOwOxuQNWDH8AA5LQJzjj8rBxg8PiZD36b9NglZHmIwBMhuDEOk9UUPfzKB-BXePgS0J4Jm76oAEOQOoJYzhBSJIh5cRUN5ityRCT4KIOQRIze7SDI+fYYIdoL0BZC0h+g2QcYLEFBClw7gi3IGFyGEDghYtWHvD1ICI9xejJWiJrFShOl9+pReOKHCvTf8xuMcBAXOEsY1F5CdRLoU33FpKQahHIOoZQHZiLl6ozQzkCv1aEpDOGQsEAl0LjwAJZ8dA-6gwLWE0RlhliK9GLU8E6hxiVEOYbdE5CtCyy6yfIn0KvBdCDks5F2j02XLqoQq8pRgYMP4jDD9hPzYqoYDe7zDZAUIDonkiS4nCcQZwi4alEWGPCry64FOK8OzRdtlBCFXgfT2BHs5biFubSE0MuEgjNSOA3ooHWYHIjY0g7ZQcwAJHYjc4xgpEbSwAETCEe0whoZ6BEGpCj6LwzJsmiS7MiphMwulDCIWE+MtS16A4TAh7Y+AGRHYQLliNBE4jJyZzdYowMeEjJ1wmwlvh8N2GL0-hSom8tOXqo0RJyhPaaKKX+BdD8GgbdEesN8qWhbRJIzdk6T2ZDERimAsQOaKTZ1haAOdMUfv0NL7C4809QMenidGPp5Wro16kMLSjFVfRL6AKD5mWAVwvAAcOoA0FaCWjvB9MbEGKWuEADNMG-Q2k6DTHi4tc84EEpmJH7d1KaPo18vCNNEPQJarsd9ADkrrHgME0LT0O-XREBUmGAKAOh4BbEj0AqjVIcasHwaWhBxeCAHE7SnEJRhxtNOcTOPwaBglxugWcWOMqz6sQCvYpgDAyzH5IuEu4xBkWJipUQoSrQXcfdT3F2t8GdDJsWuP0BXiq6oeanGLVzRThXwVRcMcfVmAkADm0JI8JIEoR4IsgjAFeAFGjC7Byi+wzFOsQvRqjUWPxerI+OSqbiZMx9Z0TeM9REp1wqErjEqkLTyIFW7xICSBLqBgSsJ4DQtLAigkmRHxANR8fa1yw3l1iAY8UVK3XCGo6JGIx4cXVrgmRgx4o-4fajOZISnWRwrlH8wLg8SuhYtFvDzzgKLtIydAEpA0GUlQg6A9GKsULDxadQ486k0BGMC0keJCh6IwmJ1FGHxYqOCktvNCUMnYgVJG2TVPSEskrU8SDk4yZNDLrMlIe2QUNp5JuBqT5ARkzSdpKdZTsDA+k3yoFOkD8BTJ6eQ1BZJCGAcQOMQahFkDh4oQNJegWKSZJSmHJrJSWFvDuE6jA50Wzk-AEmCMAHd+S2LQWFVK5wk0NsvgPbJIEe5xtay0daqVCUozT5ls+-Kpk9jjwCUSR6U7wJlICkhTHJHeJlITCexc8ipBAHqVqD6nUYSp+EPbJyh-JgwKesmRQPWEmA4xdxFEH0uAx2ooSxxaE6cSPQwlP1jxgDR6reHwnbIGgvGZRL5Qp5tjqCJ9U6a+LtZmTg8U2dqVoDDQMT-8TE2YH9OwnJMGsQMoKIezDQhooZWgf6eHgPFXMAB+Ac0C0G0bH9sZdIXGcYPUTqAkMKM-wHHiubWBjB56ZMEhjMBx49ptSJMkdNYLIzQA0M6ief1dqkofs5wHYIalOndD+8IMv3MrGAyjCCogYIWZLOqAizEZvDIHLLNq6WgZZ7k5lN82MFwgCZWQCIfJIByg5MshuAWnePRHwclpwsWGRQibCPQA484HzApitz9BZgJw9mScPOkMZ6sCstqH8QBLyzQZvDV2ajPyQS4Weo3IfO7Mek6TvZrJHdNmh1lEzfKo0+QeDANn2AjZnmGOQJBpKwy2koIp2drn7xoyLaLeRqTVJJbMpTp7gRLGWmtlaw7ZpYq8FXJrRwyQ8MMpvr7iJwc4dcFOGGXbnsC2AKs0YEgNQjyQAAGb7mDHaRAJs88AwosukoCtAz4Q802qPMCS3xh5vk6xjwCemUgN5q87wAHSnTTyqCX6XcbfHaGIC2wi87saSkAGYJ0RF8wJlfKqx1Bsh0fMWrZiRCnzkI3WGrFKgulWYn59w6TBMgExeNZ5l84CIvNzxwswYEWJYCAjkDaxKxXSUyghNgl8VxariE+SOPDHAL55oC1bsRmtGkoHRtDdEQgskBILtY9ov4crLmB2BEF6gbWEJOJGhFJJjreBkwuoUsL-5OEnadNAaBik8EUgMKOGIen7jsm1UKhTQsvSRp4JdM+lFK1lQkzPe7YrIGARPI6VJ4ECGZqcwNGFovEHga6fONaZ3S1hxc-RYUDwkKpCJBjP+NjPyyWFYEsivheDMXHMTfmKqYykaz-SGkGZBLRhTIGYXILeJIGF-m4rCXT0JR8RJxbIBmZ+p+0uikJbwrCVySGxBZc8W1WZmvF6I7iZ8XIGLmALAR+E0AAxIsUkhJFdrTrOslQmCduMb0pRHWQggkATGossGZuIhljiLc6s6wB6CsVUCWJmrRRT4A9DaYuueAYJNMqGyXSbpOgUxdD0qVQ0YWMMmZnhKukNL7FuAtpRHw6WiN4+mi9WR4swiQzdUKqPVFzJgGDJsldPQpVYqbKsT1kwi9vGItyADLoWGik+t81gZTKZlaC28NrJxl6zHlmrJCUaIvHfSCUnYh5b80EWqhdlnMBWUahKS7AxUHsnSZjPjnAqORxiIFYTIiHEy9opM3YKismiUyw8NMqQBelJWBLfeTMxQHkq5B9YyVxcqlThiNRpJGZtyqELkuabMqZ0aKzBCUnOmgA-lwSdlYalpXX8BZ6ItFd0MRX7LxZbkrroGHlUMKbAiq5FUBhVXhyCoQGSaBqv1Saz08+K3WYWPhVOhFiAcbPPwpdklCTiMee1d4E5gYrLMgIxMNkHnAnw8kX8v4D-MDyVZ+FRVLxIqtjl5JzUWqgOTkIdWu14ZxAI1ZZkPhpxPVylK+ImpsCRy3xOksNdnP+IV8E5hKpOc3GJmQ1reDq-hcHUpqZTvVtWSWS00NnNTDcua32eVJ+7Wqi8RcmGfg1LnVSkuTqH1VRzLS-dKIJ8O1a3KmzFyO5hOf3J2qdV9z9Z6bJYJ4JjUuq41bc55k9h7WVS+1B3WRJjKSxEpbJIiqEIFOR4fN30jc9SquvcHrrJ17cwtEtN+5F4g58a4udl03VbSkGZaldZ4LRlrSEqgInaMICYz2ArQOY-4LkLhCrly1Lqg7OuGA0kA7FDZPZHHi5BLrYN7gm9frU-VUYY+oARDbkBLpsVchuG7LO+KkBX1iwMXS4sqUGniI6N0dPVtRoxBOl6p58TcIxtPHDwBIboFjSIDFHsbJ4wYLjbPTZCswZe54CQDRqlp0arRvgtjRAz1ZBoZNFARTRONXoWkA6I8FTRiEE0W0hJbfKeTIB0AOQoQK6uTQeLoW9wxa1G6gDEBrHEBVNjMf9QNPk3LN2YnMfjQeEc3OaaGKQRxX-WWzGC7NDmkeN5sZi+a9NBUmwDBpXXrkItUWgTWakIq1cyNEaKyMFhlB4JIhcWh1ZY1C3TZJ5Qi6TfZtyC6aBNrmrdQeIk2eapNdAZzWmAq1C9uhycsIK-l8mTTspoU89cyjy0urqiym6Taxua38wqtW0wlKlvoQgcVNZW+0vGGG0Cbcpi2lrZNoMbpaS4WW6IYWH63uDl2pWmIIVwCjtJTNVRHEthIA3bq2pZc-tcap1Y3ZdUBUSKbtpMgnazNmGxwTiIzXqo05pWJtZ5m+bmIpt0FBtenP+3T5qJFy4jMLDW1hANtaILLbENy0-r8tswN7dJCO3wsqITYbBBaNgkHiGq4YpXir2EKEkJWmGTJWIH5H1CAa52jbauAeY7qtAt21ZAeosRJ55sVRD8XGC-H-BwSmgzPmjKNWA1Kcb7RpjKxF1DK9VcIQUsMWcAhpPlKrEJuctS1whqdrIxcskNW5MtftGciHYA1TIwUilFieHcyCy3q7BRTdHbSjrg2zALdbI-sTgC8QKRzhK7RRoEgACcHQQNBICDigI1pBgCCdVDd1rTZM1CXwGjoUW3CFNhgbRQYpGXrJmsjwMeZsxsBu69AFgiwYWDQA571WokwxUynT3zSvFae33Yu1D2JQ3eG02CEEQExTE-aIk2ZlwusAh6W8leo4LMBd31a-dr7MWuoBARgJlgECI3DyHEzja8N+DdLQjuwSHp+9oCcBEuGR1xll1qOtUMAnn1D7Hd7cfEalA+1G5iA26P5N4HSBcgOuJSnBDtDySQixiQwc4TvquESRZA++7dOPzaDJDal9CHYowBP3NcP+saLkBQ0VCRp09cITtF2nv0MBPB4gA-dgmsBgGlQUu0vcGkXb090he+naKGGGW8o-UsqRMaVldgSY0xkZDA5GmuBQhb4UiK9awJLGJiQSJBmZrKi-0-6OYf++EAAddAogpWIBsAxKQLnOAyDfGHg52gQNTkklYk2RNwaEMEaHVwIX2QwCEPCHG9relqUeucks67tSIGuQY0qEVqVq3O-kLzpyFC7P9oupDqfhi0vajDqc3QI2oD2WzDKfaSncKT1Y5A6AQCN3jEG3SAaL9V+2NVCNv3CjOcGMf4J4dgMWM39OWbVkiCyqWGdoQMXXeDuoz2Hd5Pgg-rawEjdCEQHjBWQDg5laBVASaFVAaRcGcwV1+hqgEfjiOFxj6PLSXQnSo7mG+9JYigwNAdk+Z9+Y69o4gaLRqhmjC8R2STmUzGCyDVB3IO0YDojG2jfBleGJjsCjGtx1WcYyhnqyZB85gxmMHkkdzy5kcqOTHJXiBBbGEcOxpXB7hix8GrsSHVY6MbuIFwohJsCY30ZnRPw+UsxpYLfBkzVYr46VFY3IHIP15Nj0OJ3K7ndxeoy8wJ044-IXgXGqOVxlPHVQgh3GLVOACA3vosGaY9Aeq6wAAB0sAnRuyVCHwP4ApESR5uC+2A4gYLUWe58MfuaZzEsAKJldWiatwYnMTOJvEyeqTEfFiT36UlIQD+QW59ahqPk6AAABer3UADibCCKTCT3J5QGSdFN2g8SVJuEEwdpPVg9UHwFw-QHcM+A0T+Jzk0ScMHMd1BxHAo4bEiGkBIhEQxkBYKZB4AGTFavUxyZlNGmKOJp6DmafhAeALTVp5IcqaVBAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBEU6o0Mas1JQUA4CIGQOgbqeI4HmHGjWUxJdHaVjxfW4ZkZRoabPJNU68tlKlGpJ9ZSzRKYSwxhZ4Et1pKP24SAl2wtRZpC5oDbgOmpgrFsynegJiK731boDRzxmqkheYGFwB1dtN0F0zZmdVaN7-0vhFhzzpSjRb-hwABLdDXhP86llWWCLaUpy4qPLp4w2VdDgCvzyWAsmTS146gPiFxtMdbnGrKw6s-E691h1ASkspedEF0lSCUG9fGwN+SoBhV8y3KIrJk8mFkB9fNfCelpiIJIWIlVkiMZ7f20UMrU20vYt2YtmYLR6u3YjiclZdy-lax29YFrk3FTTdFZF3Lj2fgA5Pldv7aXjHQq0fdooQ2FxQ7QxNtrKk0tWuoAap1W1HNWskcZjoWh9D2vmwR3zLRWvnavAUrz4dWHhrJ-5lHTQWikHMiXGydkHLOWpL4LW5BUFeR8vj0x7bg6ED1ZI5E3Bw1CQHGjY6CguvUErJs1byJJh0wldI3HWSFdK5VwwNXDhpeppRTmZ8-w5fBYxfgcohuaFE4cBrqCMR3wUIyMVYXhP7XiMl07ynF2WioK0CIMayWDz0C0ZEvS9qGFc2Yaw9XAfA+xHDcnlPTUaFh8rBHprju6AwOEvp+pPcq1nhppgj3TOltqPDjFrWlLK9sHmtH5o-1QzLAoi+Q0Zlgj56srZeyTkXC20oL4EggvBDi7YL4GqOZy222p6NWnNb0GGB+wtY1YH8D5tYX4pYtWwPvTks0LCXuaZJpnF61fhAwgb-TysJfZfaysLzfT-f33ye6cGcI6LI24k9YJILalatZ0wHyCY1oTSE6tK2K661AM6tbV4lDA4mbQHpJtL15fYb7GSmRQE0wwEYJhrN4IG6ZQacTRbPZ7Ib50xW7oqYpbKjI4pgqb7RqqjgTjgBQW4UzCj6CDRZzJq-Iwpay4osFF7SLn5E4HgCHQ7Vbwrfb+acGRjd4NixZNRSFQpzTP4SgRKxgSGX7vZCEAp34KEri0G14MSSHfLqKaHhzO6RJBT6FwxaFMSFBd7Rj2HgIUGva7LR5OLSFoY7bGGtYuHz6uEL7CJP4OAhzwHiwUIMZpaxr6CxEH5LaxrCY8AbgQiQhRGNa1BwjcCRGcy5Eap2jJHDxkQRKKzXLciMC25NwJatxfY0E8GHTeETIBya6xDvrwqMjPYGEPKAwhFa5IZmL0GUFgqRKlBpGxhrDi6Oz4w1Eiz8BFZAIhaWH+EfZGEXi+HTCGCLF1ErHVysLCqUE7GB55qCEDHMGPigBuGdHDHBJjxZYlbY6xhcY7hPHhaxRcJ3SCKRLTYFabLPFY4t5XjvFgiAmHFTw-GfxIGo6xoBThGpLRag4gG6ZvqqG+6MhKq+6DHkiNjdh6i9H7HLHAlrG+5ARdGqE5H2Lqy1AfrAh1JeY0n2zwGElm6sEoEE40y+4P7TA2Ih5Qw6a55aLsncAsl0mhAb4-7In1aI6bHI5gHsK3CbLmHl76A7ESHWJAGk5nZnErCM5kEeTRYhww5onbqqHhyMgSGmn-JaEkGUkxAhyubCwzy2lOwwlk7hwb6HrgLhxGnqb1aQlkmBJg6gFQTOkwn2nBlfHlSel6kGl4H6AxkNGxQgLyz34rgmE6gxAdouB-6xZpxQkvHob+Z0yRkeYLgzyfGplxmVm+ZZlJk1nFbAIWFnZf7fZZnBHlpSaWIybyByZtSKadTdQ6BqaMYjq1j6CoLxEC7iTsiCYBmiQqn26WKbqMKSDbbcC8kdlKk9JSq5A25258yypnFx5bYsLbknY+keqpKeKKCEC26h5q7xENpmpggyBWSHmPnHk0LYaJpZ7nmbksJE7xG9INKfmgClJUaZ6WK0aS5gV1J9KQV-q8zCLE7h7yB54yCIXJrIXcADJLnLYrlqlTlvAh5dz-qSo7jgikVnJpIN4IYwWDR0XJkMSvmmqhIQkMRGLRxaH-lWJ8V17kWUq2F7mZolFZC2EynkxjJfD2JTTZ4imUpllSzgI3jZl5lqFWFyA+aqVUWupeyaW2xyX4DGAiqS4bnUERCFAGUJhYS6XUw3nnCNiUCIyjFj5KVYWWyMgInjnEV3COURyVnr5VgMRRqcnowhX0Tl4opoWpJBUul6hE4bnPC2VxiGUjBBUJoj4blaGJ6pWRDpWck3jZVEUCnzFeWR7VbRVhV6jbnrCbL6UZX5KOxiBuVGAhXhDzkcBTQdWngpGH5YQrYbmdUdyhUDWf4sCNXZ5wkxDNC9XtWqBjWuz7IAA8wIbV-VnQg1QOvem44IAAKrdMRXQL4IIKmrwA8k2NPtQLUM0OCKAAANQ6GB5HQnRCinZdXPWlxWQ-X6mFDvVTSfVsV6gcarimSs595HUnUyDECOQXViBXWwo3V6p3XCAPX-Up5A1iAg0wn7IvWyqlxY1vUjofUyCSKTUyWcR5RJX2kwnWXkgmXJbQy3TYjNXTC2x7EPT40xURXOj4rMb41zWH46as1EAakZ7k6ZxmUnRVV56M4A0QYwmEwyzC1K0xCzBeyTUa3K01Esb-hdU2h2hU1DG3GmE8E6aExuVNUYqeXCneX-KiGXZQ2bgM2ly2Q3TlBgZcxz7ahcEu5GiqFBWMj6FBU1rdmxgAb62JX40pVcydlS1NR5Ur7ZWOmsTkiBSeEs3ojs3dlVHkwVkdz02VkxWM1Ii-451s0R3omB15jCLc2hm1WTX3H+jF6JHq0ER5ZV0S0a2mUKViDy1aKK0ETNAq3zlq1dUA2lDwQywDUxUi3taN0G0rV3R35-ig0TBm06gW0GBW3zk210H22YXVUIat2FD7Wr1sAD50Be0iA+3UyT7ulWzb0B2RKNgh1Ahh2jUmFR3gLL2x0hXx3UyJ1S2JWp2pXp1hHQOcli25012KK9kFj9ktTybtRKZdQYD+Xy7UCK40AG5G4F4Zocp6IoYfnG6lwYK4P66rIwVUN4PK6bK4N6qGERbq7EO9xkZZDq6KKFR674Oq7SaMjFzphHJzBE2xBzCrigNFBHIcgSMxAcjSPJ5HIYQKMZEHjKOiNSowzqMwxaMHZSq0psBE3GPOgyOFBHLcSGB6p8ZE3WO2PnWKgWOxBHL7UKP7WxguMxBHI3BuVhosCGCyp+OqABONQrDeOMk0VPXqOxDTncC+DdUAB8oAAuL1TjkTRynksTMQ8ToAiTgIKTAuPkGTKjUq+R0weTBTAIRToAkI+TMQmTUqwAOTBgqCCTyTqToAYApT2jNFAApK01U50wLv0w06AE0zReJLE8M4U10-OYk2UzRQAISSgzPtP5MjOgCrNAiLN9NgjghrVDMbPVO1MbUxB7OGM0VrUAg5OzM1NdM3MXOTMHNJPHMdNzMC4pPPNLOvO3PcBFD3O1NJNAibO-MQjLOtNdOFAPMxDLOxAznpgFSqH0M0OrkFhJUforgcLzrcCosCPouogop8PUMEv2r4AsAABWJggKgI2LGg+eczqj-DjDRNAiPDkTRQ+LjDhLDUaYkUKLLLBujcDJxcRy7ewgRNErnLSdUTBzkAdA3oXWs+ALCrSrY+MrSdvjVAoTsAkACjITDAermrUt2r-jAAouo4a+ayaxnkcgAHLkD2utOOv2uL2B7IvvACDcvCuFkekhV0srA4vCgPMyw4V4tCubIiuetUg+tRt+szi06BvTDBtzPssXg8CRuYFxaAr8ti4S666ks8uEMm6D0wzxE67VAMBqikAz5y2UvkDVh7HHSaCS1oRxtdoYocCWxsP+5nFepNoIhFBInkzThYhD2UrxEVWh4O2n1gg7G6rzH9pZv2q82vWB4dtjzC18lFCLsiDLtFsENZ4UvUumChW62ZuHvxtetFm062uxCH0eW4iztNa8OqGH1iBfDTU9Yn1Na9HxiEATvCH8tINEvJ2oNDkdSYBYNaXkUUCmAMCjIfDlQ3CkCsqAkcVMZrQbQCIYfg1LaiY+x4fhCE0MCPUvU40g24fZznx-CBzpHUcZbEY5VpIKA3BbJx5aA5KjreoVvKDKBXUZBaZGDS78edONQvX6DkD8eEzgiPVnqPUPV-UvXSfKD3uKhydyo8dxVaXkKUBj4zQ8eluhUDt6cauRDQR2WBg40-XggQg-WHnsfGCcfwE4umfxBj7Gca6E3WDgh0Mee4jMIKBSepqYeJFepIFnqxq6TtZ8FswRegDYzKS8GpCJE3gRdTo7QyIr0ZfbPqRtqRcGAywJfznnoxeH5wfSczhIexSoesoRc4EGAqy3WY65wJdJerh2YX5Z4k7YIZci1nr2cvVmeBdkDBfFem4hfIzefrvOiPXkc87F1eaxH54Yu9dtehckezcafE3DcBdMBjfzo5eTf9ckfR7wjleBaZuSAGeSSghE1eoRs3ejekCCRIHTZYQNeDbXf6eSLghqMFFswTfIzG1ZAZdPe-cHevfvc3Zk1jpfdLbggADkC3XqtnKP6RlHFNU3LHI3iHtYpAkioyhPYXzG1M2Hm4MsxPlzsrRyQgkrVkwQRN4IDkOkZsbgxYzPFG8I+HD2I3R31Pn+N4gvEPnlQXMP-PVPBPizG9IvP3nlgvRFDbTbygLbibDEuuHgiSN+mH6OrXgStanGcrEIevNq3AxOOp2CtaO7hQOLyv6wqv1AmgWhmv4ybgxnOvvPzOXXOvRvRyba5ylZPC3mEstaMPfiRF1PzsfOqCrv2vtazRTXqQpvu8YfnRH9We4923sQUZy3PmFv-ipOYfIRfDWvHPUM4a8UDLUfAsMfcf7viNe+6CNxDxI+mflZsnajRvWE+68gbvxgFfpun+AiGCZfA-u+9HV3q7HfpXuj3fffiSRs4a6R0-Hcsn9vzbTv6v5el3yBDl7fHcNvsQdvjbDvavLvo--fHvYfEvmRq-rsEbY-S-Q-ihlEtBK3afgdQU-vRNufvCofzfdOncS-6eF0EiJAupxDHwkAde4lYJGfmb5G8ZYhvK7pfRbQe1Ocw+IPIXw8hQDaGt5cpPQAopN9CAmHeASQKN4aUEBKA12jfhvpD5uc63FwCJU+yi5PUHPbSOVEoA751oYaYQBUEGAJ81K0iXATANK4WhOeMFAYBX3YGxRcSggqzpw0GDMDAUnvIisKhYDdoTobFJjlwDqrnhYBLgLCICRirngYKGgkQHLUBL6BzB3EKaPERlg2CToLHRwYpRnguDkYBgjeu4OcGaDFKVbcOsYOToJ1PBbYTwIELKr4DyCweJdoEO9JBCQGng4aiuXcHaDaOS4PQXyHN6pUiKmkHNufEJxoCgq4pW+k+ShjrwGA6gEQBwFIALRR4RAPHM31bq0E50n-d+piV8FiBsSHQrtIwHDqFDshHhaRO4MJgSszipQBwHfTKHZwKh9PaobQPiF8gzizQXIIQEkTuD7S3gqBubiUKW4WiqQMgXYT-rSIsIKwyREgMAHcBThK9G-q-R2Hn1YGYAlcGxAUFpJVhOvIikdH6AKAw0cxUPBUCzi+B4ChgNkP8L4xGxDAr6IQUhg7qlIjeoIwEVDAhFPB0iPfUFKUiP65NxOI6L4T8JIB-DIwYI7jjiKIjoiL2KeeEeCNJAsdqgzCe6AbgpH4wQRBIhEUNEhEvDjGRgWEd9wZGsjkRV3VESMGBHqcDAnTGkWQDpFAlmR8BHkUiOFHOgngczT4VTAQiciJM-lJUd8JkBZxZoDLKXNSHiJaiqAIee9F8MM44jg2FDLepEI8iGj9OjsE0Y+g1Gk9CUToo3tMVi4N5a2-QekVKMGCRI1a2IqmLawVEPNbRxojUWaOVFywH0b3amsaWiGh4hQmBUEKJRo7ihuAyCdDNlQxJetQAwwoEOsP8GjVwhAwlqoGHzFAZ1QtQI3tO0GCBDMxWQhOiiKNFkBGAfjfiOsLcEdDP8DYhYXGPMC8RmEbY0KMtV4gZiqAjYhIVCMDCf11IMgJMLUEepG9wQ84vYIuPSLbJOgm6dDJmPCBG8Q6uZK7mvGrQDps+mtIPIKS7SjRKQKY4QmOK4gTi+x6RNGJkVPHYw0sWEXcd3xbFJAGA7Y5ajeAHQYjnQN4XccBMVCDjWxf4kcUdyAlki0IMsMCfBKvBp10iK4hcZKw+EnQOAXAtuIGOC4zlEhmRDZiGJSaxp+xTAvoPyjDSMBxBHAtrjIOcDcAo+94qPtmKgiNh-x9SGkM3kZCQTfx-4-QCxMfF0TUQ3AZCVeDYmljOSXEpvOlDnEYTd+sQKYsfiu4D0cJ2UCMbJPdzN4KJZQcyiulQTbjMOONWCVukUQ4TQAh1AABLmsGAAAQXADgBzWAAJUOqQAAA8va2QBAg-KWlOGnxFCaiSGo24ocZOLrDTjVQBkmUEZP4kF4jed6QyUv0YlrE4pMPO9J0AXDBSQsMFDKZkAaxaQiWCoyKVZNskOSnJrk9yV5PAC5TJAPQntMlMKkhS0pngu9BGMMlrpywG6NKezyan0BPIGo1gQlW7QFTiwzUn8XQHCnxENRhubUTi18KZirqhTfUmoBMBeAaJo0+iYEkWmWQMidopIFNIxEBS1Am0oqXFKmkWTJAcQGjLkAcDMJGQAABhOBaUagjkQpDRhT7lRqAgwFGDdKfL3SgQFGGLHdO0AvU8QvpaREDNumeiYKwqV6eljSE0xAhQMz6dlG+nxEsIZXPFpkRRktcp4300HqkJIh6TAgsRBGeKFSDVBsg4mHMVSFxlo19eXaM0GBnhrvTCsqMxgN9OShM1hE2IzZLxjYCsp5BKwI9NWgT6TEAqmyeGVYLQH0zrUsUdGf8Q-GZFkBfoUoFhD5kMABZrKc4SQLlEPtAg-MzoKykoF6zF6pkR4TA1b4LliARswWdTOIxEUKgeI0ICLAN7oJ6IOgqaXTFHyGytZxsmtM7WaFizDhr0S2u0C3GBCHw9wsQgmEnLEAzarhN+gREbAsAuhFgvwb0J-pTTE50wIKGnPnKjDA8pQecVGA1rNBNZ2s6wd0LcEt9tQWAaCMAMGFIYz8e4rujbLtk6yjKGuadJXIDkaUveMxJqDtQTlPDM6LwvufbNrTlUExUMJMY+SwR-AiZyEOqt7I4ntCM5nQgsd0KLE+YSxCdJiAOGGE7MgwVYyCCuCCgOBPq0EwKdXM3kbDux4k2VrEFPA5zZudxYOZuFPDO4M8eASEP-JXCpyOh6c2wYPV3kSxX5fYs2vnOAUnyi5as6UNfMEnGCJJnYiwt4JQjQRUI2VJWbWOXnpDIFEQpOXcIHDOz5iqQXOJAv3kgM0qf8gBSLPAToS1xmEzOsnLzmgDBS+C3QYQuknkQR2nEK+RTRvn8RCAe4X8OxJeGziJIq4jgJK2XEyL1xKAiOVkFEV4tSQ+4jcs+NnQnjSkZ40DLWKvFZIzK9iJeaop4DiLUqWi9LP2lfQ1jZ5hiheSYseCEBfwZi7Md0zAD-zIQVirCKIqxg4wXxB4GxYV0EW4hBJgE0kRnkAmkhwJDQUJcIuWr7pIlz86YPuhiUSSVgqEq7kwtkV+d+FHkHXCggowOzdBwk-aZNNABSTgh683MZnH6CMAKMjIUmVzHJl-BKZhGcTExEbDxK5JjIaPPEsEllKwpyEt4HhlJx1KhAbMzIchKqUgMIZCYHpTpPknSLFJbo1Se1nPz48yAkiIGbiQmUNLxM4E9SZIE0n4T9AiyniQnDcSWSbJdklydZAAAy5rHyUfkyDPTbYx00JhRlYTnS+xng-DEwximhTWxhXRKTFKNjfLgVSQdKXVMylTLWELHPKQjlgwIrPBtyhgPcqeU1TrR5gMFQ1KhiQqWpJUmaXuz9FXg2pZyjqeumKQ9TkJtFWDANPwnwgMRFKmMRCAD4YYGVg0hlPmxnzwqoVFSiRWWP5j4TZpVAeaVeEaUPN9ShSqZSUuxnlLDpvhT5fyt+Vp0sJXbTZNTyEnS8NsiqhYQ6MEieCZptoiVZzQ3JzNIkJK34VDAZFtsUJI07Ke8B1XbK9VYUvseBNIlT4C2kKoZa2Iunp5Y6+EvSZsu1XU9wphqi0rmNaDIhGQX6EQXL3BChrpefta2TGocAjD2CGoI3vYk1VbLCeLqwnhGtdFXd01gSZQawjl5BqYxekqQVMpFjtIUpgSJ1Zh2KUtq9FpQOtW2qbUw861TqqTj2skF8DTpfXHtXTA+DBBNkTqnofVJsQDq+pBeLpaoTujSCF1DJdFY5OcluTPJ3kpiBuoqnbrqpfEzIk6u4BeqV1I6kLOnSCjggMQeS+KoXWHXFL6M46rgYEHrVVtDJJS9OlFDYAEqUVjIdFZiueV7qypwGl5VhAoxnrOmF675desYV3qchqQJ9vXkpYO4P8ngjkR-hgr6E3gaGlEDfn5pb5dZOnW2Hmjw1KxiBRGoKKbNI3LpkNdtXENY3w0FhCNzorINhpxUj51C48FICxubRr57BRlQTTBTzTMbKNbGzwbRpY41AxApiKGNqow0lSSNekvDfgCpkUaUQoVatV8Mw4obNNrGgzbmw0UtKNR6RNTVTPI30B+NrCIzXfgBrJrtl6xGcEZv0B2bOyFRFPDpqDGKIioJvEQMz0c2E8iaFmxdf5WY3qbtpfGyjcWuDWYaGN9BcTWuSS1ntCu7o1HGKK9GNtJRAI+Ar4SC2S4eNKWsEMVvXrebBIKEBoF6oi2WaKE6caLVpv0ClaPNgecrYnD823rSAgWvAvmpVbBRDAlLSLXm2ESyatMaeA1U6ONWirTVDLZVRapqYNzFQWGnrdqtG1cdetU3ezSksBrYSTleEtlWnVsCebkCxy3CYauAaLCsFEGWNJVqKBtbSYHW1nt1s0xaBetRNNbYxH8o2ITA-AGmMLNgZJk0BH7L9r4l-aWw9JG-R3s7zdKm5YtNaycABmm1zTZtfoT+kk2MjfaBOhOXIWnHyE0xdawPMrVZV1rJlzeyTMkZfUrBPzttHOegYYKoBhVSAk+cjg3Ku2FBwQkO8-uHB54DdqQu2s7RGJwV+hmgN24yPdtgQdbOdW-filZAK1E0pd0O9is9M4n85eNNjAEYyAACcJwW2A4wBHnaiNuuniPrpmldYNoHwbgEQzrrcEk+TGF0QnFbofyeCLgecg9OdqFA9dfGfQEjyR5WQ0A-u1NaxDYXOhPdZw0FFcsiSh7DVXaZhJGO+FyxP8LgHyNBTHlWz+tjjaPWbrdrcAbgsfUPbWrYC8Z+MTACAvbEnVw7dNng8rQ9v4Am9C9fGATLWGe2oEtVKa6XPXuL3xzhtqSS-okg23VAioJ4MgDdHsTmcalVIVoIyBr685mAsfXvW4HXLGBeCdAIqLZyOA89D5PBFXKQBH3Ks8uEkexL1Stit1Q9EIbyD5Hn2NRqeFMFffwBiDn7-Iei0-XjzDXHBbiAdFiAOGnVcCRUU6vgfAVaChyGgXamjMEEvXNrh1063EoAa2ExABw2+3fWPn32lxD9-yeEDHPT0Aiz95+nyE6sED-7RAOB7yI-uAFsRg9RQU-eCCIM+Rr9ckxqNQeyawHMDfGc7VatFVmqUJ829HRu327ar4JOOrWHjqEnhSz1VOpqJ02-zgSCtwhvnVNA0n7bTR5EwvPPggE2ieNQgQwI5A2gD7+AUaifVPt1W19Z99fH5dnCX06GBAhNdfTcQ-obkGS0h1oOcn52nK2VSh+ZTGmYxBVdqyBFnvgGIqBSToD45gLJGgin5eD0vZfaFhoBaZHD2XLw5-lJ3iG5m3+D4W+qnVNqZ1X69tVBFoKGS+0La52juj8CMgqVXU4pC2rNqNgBOrOO0tOo1HJt9srK00d0F6ljT+p3Ks2n5paOWom1jKmMaeVjCfcm10GuZtUdJlX4MjTooAeQfOAPrOIE699UDM-VAqX14+71hNMZCjKzwpOejJvtt15HTFE0oAxSFUK7ogQpR3EN1KOOVHVCYxu0kDPqMAgNaTRx9N0fpUcA+jXwwPYUC6PbBOVHxwaTb0g2wYRjDzO407AePBrpjdwqCLMZwCX6NtSPUSfoBSUAAdLAG2ptVMAd8MgYIMFxu35MOmGuNCL7tPjD6zKeAhE9qqRMyCUTz89E5iZdnYnDceJzdEEt4AnhP8PQLCBydAAAAvDNqAHRO7ssTP+3E690SM9ABTxJvSKSfBAIGKTNUVCDbHUPvAtDm4JE6KZxOsmTmgPGiuQGZ4sBmeygZnpK0mBI80weAKkxEc1NMmxTOphJnqYOYGneUxp00zzzlP+QgAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lfbLWmEP0cdC1X2v1ec70Gb8RR20EC5SJjx3m3MSK7mTTnHsTqNdHhgFPtRD6FO6HZdGn1vrNq8Y3N83wFbeu7CJj+P4f5xGqV77qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIcHhwdQLIK7B8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCiocpB2NTmsoQc4FoQ4XqE4Zzm3AFDoS9GgpVioWsOoQXJaL4Tgb4c2gEUiEEfDBoUIcGGEbAWIPyoVqYeYRRv4bMB6IvhyEYVboIagVqDoAsO4ZkDTE3g5kUSUdkfpv-HPqZu1rYT4vYbbp4ajgPrkaYbUaApUboCUa0WYAADy9HFHzAO4-bdF1F7LUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7P4WYPsfZjsfsbPmEIYNELoGceMajpMT0dMXMQsfgDIGcisQqAwDSiMpQFsfCHsQcYLg8Scc8QMWCdcWCXcaEJCU8fgCZDUWwaqLAvAogrbormgpLqEHIcoOMBkEpJIdUAFP9ulJkaADUdFlBi5E3ErAMQiVQiOsSbXHoCyULvIVwToGkcAfwY4m8fEuDGgvSo8ITBcVyayZaDUdKWApScrAMbMIGGiSlmhlAgBo-OKc3s8MYZzEAXwfyJBinn6jMaUXIIGsQOkPUIZkiHGoUENkJtEjhioYRmIfYbntEuuIqREa0cioEX7g1hESmmEWjmEApvGnERjlIuyaSQHtdmDDbmgriR2FkeoPiZKjdrGbAvGY9lAhSX5haW0Zpt6dvoyfSFKYqtQjmSSZyYLm9JwScfyUaVMMurPgqWKRUZKY4cKauuDPYJILKWTjSeoH2SkAqUWTuBcSqSwRMeGfxuCSkFqVIjqU8EYY+iYYaVqiaULmaUcHifCMcjaYKnaX8NGmqNZn5Aub+oJnSWEK6UiO6WRr4QvAHmWbeL6SoWrlEX8PKocZKt+aGYETeRqYptGdsI-HGW+XJu8PnnpAfEfMXpwOfLwBgNYTZECiClQGClPleJChPAyfeCQdqiQIWFhQilQWyBRThUsMCkHI0qHARQ3IjMwQOOSmGFSjRZQLhQXgyrlMAqPqaPZjYKaDEv+eEr9NaCJdYNaOJUGaPloTJfUYcPJYJb9OxMpexGpcsr9ArKUPZvpXIJQhJWEKPglHQEHKoNiPZhZVZcsQVKZaEKPh8TJR8dEk5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPrscpTYHoFRLMNiGYHcAAHygC3L7EOXhVw5TBwh3LRXWCxXxWJUpW3KPIZUKW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlXqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlYMWNbtctaAMMdYEdbpUNYMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyFxdENhTxYit1D+fSlAgpEpKaLMNxbxQhRjRDmTbjQeASB4AAFZNiMwE3VBE2crPWKVY2UVaRIzsUkB2hBlhDU14UVZMhYCY3wq0XboNjM38Uwij4fpur2aK02aZUAXOW-SQDECfqJQ2VVVa060cxq3q0RW-RBWSCwCQAyXm2W3G0m3eVaDBUACiyl5tTtdt6to+AAcqoF7R1T7V7eOV1pTSWHPlzVLfHq0SzYUGzX8pNaEdymHZLTjdLVOEzBLdjbhfHmstHSkLHc9dpFfoncLXNkzO3LCsLRCmRUqudC4cMkHJzDEJIC6owKMs2fTaoGoL5tEOzPWRKsLfRVkAqExfzYLdUDnLXW0GEMbqqLIA4IgtuU5HXSkZPovTjOJgVoKj3uHSnSnK0bMNKUnZnbQaHlrjORvbHIVtvcneTXjdQAzUzdTofSXafW6M4WPSkIYUoJuQabwTuZxRDl-ToBrB4AYn-RYX9iCAveAzjGLfBd1IhUXifChdwJgBhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUMQzskMuZHOaIlkHaLCZIDcUcY8acSiRQ2xVQ1wgBHaFAmAtpNQ--hgywApFzAEtJI1Ow6WTCqQKQO4IrPfAYF8vIz1QwPsXoKoPI2uXCDsQAno+wvCIWGCdo6QB7WEnow7DIzgfxOQBzL4Ow18mis43yXY0bRYO5lIZSEiToLCTDWCQfuI7IJI4umzRPe49iK4xBrCSYHCCI2HfYCYUEiwFo1XCQ64M3Gk6sFAgY8LHCAIy4jCDnGYOcGwoBjpoGCU2YEEIXFU+k2YAdfCNvN0QAlw60CU7o9vKEgAkgVg26Lg17gQ9rCU6EmAoBn0vHKHJ02UzEj8CSFMjYvztU8KQYwE-sZE8sN4Kk5aB2is-CTEjsawziRghAos-xMsw0wc9Ekc2CZsyk+08rHsw01CrseKiiAU2EiWpsA43CJpa46TT85zCkzQ4ULIm4aM0MpEzDUpbMLlLs+k7OQONU4C0k8C9s90QkscbEJC-2XCAAOSsM5ywmEuFO+PPElMJObM8yMAmQ0t1UFFEEVntaOReA+CWj0sWONq-Q5B1DXEzHXHlyKiFiyjeDCteSKx3SgspAALQsctLi0uJ2Bicuov2PouMAsCYuJNquPMqtzDBh6vUsKsJVJHOAd1d2kA91v2c71SaypS1oZMBxAkJxpiLytNZUw2TMutCSzDnNGJhRusf1hBs3msciWuUDszNq2u3ScjRMOvSthCyKYJuu5MetwjbxAwpmnMkhutauLymugD0s6jXJUTRv2tuvQpha9LOuhy5vRY4asq26EZQInNEhnOAFLNpy5spaY12uchjAbKEZs1Fs4gltluxtKq5o0SET0mUh71dmPBwhKWptuGWi0R9uyBQjfI83cPb0bsDtor8PGZhp41NsVF-OTCfP9nrsxubs5qFPzsdi6Ohvd0RvWsYErsNGPt6hBuhAhud1htWtRs3upRxu5tatuHfuZCAv7tbuHuXZepRpVvqQSHTtvoj6-QZuikdgEhts5tocIcYbRYiY0SXYz1sgRr-AVuMtZhuEpu0MyHTuFMfG1pWnBqhp85pRzDYiRpUV1g2rSbUfeNMt0dMdDLCFidgupL7msdHknLnLOCccTgCeUyvLVSiuMBe7kAVxeABx1ANCtBCcQX0w8dUfTu6MaeKgJPXBbv9uafoSRJGchF9h0GMzxthh4C1zeDARDDISk2lZqinmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPRRPAjRiMB1CyPo5Ms6Z2DZe5erOQ6Cquo2ZjOpJ7TqDpcyCZeWiWhFczElcJspJNdNgtf5pOqXl0BpcZdItlDNc5cQYFveK+dZB6DLxfak5lQTdRpy1DXmbzd2bhmJoZBYl1ecw8CzAZeSCTT3mxaEAeDzeEayj9f1eSA7f6sDgo4vDIQzuFAAY0oncARrkq0tC7nvrlefrfryaIf3nYYQ7Dd1BnepekBbf7eDcGDHfzePeUIAYg-vc-dupfezvbAffupLJOmA8caTzBgg+gURnyaDZAixT0BiuQ-Xd7f8DpmegmlHevfIRg99cQ97fXeBh3dw9E-Pew9vcVGY9o8Dluic+zf3dZC-sFRuG5Ts+k0NE0909Lh1aH2hCi8hxzd8Pw8RkA-sYpBUpI8Mrnds+Xe083f0h88PdE+pB4oG+PCC-RaeaFBz0vCwQW8S9YCO+HFuFuEK+jn0+S+qo7hu8yADae+gA4+68FTO+Bgg+K8h-qnE-VCRlgVZlgx2VaARftYmnyS6OYkIJXsxIwIbcILiZgJsDnsxCyCacF87biAU+ad3FgIscsBscKegBedMIXnzcOkp-5fODp-kARcAOh0d8+f8+LGd7zdTcdBUrBeEaj9acAQw15+7DVhcUBcMoL-oRT9wiV9ivVjtzeIeAxAJSxD7Zx911uHn9+9K8JPH+CrNn7ZY4n8nF12Wj3+n+rB38v-cFGof+v+MFtggYf-roBwIgC+STdV8tfzCKADnARvcYgw1UKJFmYN8PHFfWv5kEYBNHFSj4CP4-99AGAznInWQGJlV8JYOMK+GZQbwmASIcnNaQnxQgjwQ5XllkEYDLwAo0YXYGMnM6R9kO88OtpHyB6h1wBr2fAZIEgGekaIvrQIgn2M6gARBAvFHpV2rJlcTyjA5MMwMFSsDZOYRDsjNC4HP8H+v-e3OAK16LkiOyHUTkvCF7rg3CnAkyJaFzazB7ByscDgnwj7CZoMpHEnuBQLguC3WBbB4tkBYBOtI0k+BoEmGxCLo6A13CIdZTGB0ADu2AoygYE6ips4hUQqEIkKm6FNV2fYGIVy3yrqMogwQ0IakQyHRCShvwF3vSE6gB8TaYQCoVkMmg4EYgQSLIJ3RQiRDohsQ+QPEOaGOsdMBQ9IX0MyHSB+AOQ49nkM3AFD6hU3Z6m0O8AdDcKTQvQE0PGFTd6hlCeYZNSCHVCdwnUWnBSSqEhD8ASYIwIpADTgw66ZwrQAKkiB2BfgjjUobHWrqjcUBqoW4fYy1APDghzw34IMKyZ7DNWqbIzFJ0WGt1sgKw0YYuiWSEwThFjHYSlS+H3DgR-wkIRZEeGasjhN2NAZPl+TS1JgOMa-hREjxYCpcwg-AaIKMEQD5wUA3hn5xoF-kaM64BQXbyUEtBU2K9VoCSK0DSDoiuQu4d4HnA+VM+4AxjKYNmCkj+RzI8jmIH2DfCgooosYgqKlF8imRIfWARqN0b4BzQLQHYqmzhC6i6Q+o5jjVzKCqjQApIswKm18KxFwRnCHwAqJtFDJuR4gxQPWCJGKJLR0ojUVq0BQNFnRZwC4AGLLTWjP2iokURnzGKBhnRWw6oIGGtHxjCgCooJFGMH5jE12WgQoSbUtBJiVeEqMMoUyNF6i+WgQk4lkG06LYThsVS-g0S6pIjDMzcdEhOEWBawA484SzmmC7G0BZgRbS0UW3JFCDDAixDMW1BpQOpCMqY4UZIGVF6B+x6onscQAPoNDeUg4mQcJ2cDKjxxtKHUaWJr6hAcspQMlhWPsBtg0R24+1KYALaEBFCJ-PqD3mzFajX42LfQFmNMAtixAwXX4U8Iy7U96uSQikSONhzBctu-47EH-k3HgxkeDQX7qDyPHGUFSBbe8aWz26EhHxXYICXSgy6EZ3x4ZcdPPAy5mADG28IxhlzDCVjQAsxAABJO1JAAAQXADgAnaAAJVmKQAAA8l7WQAMorCohewBFzkRV9MQskacU4BlGajsBt4uiuVyogYS0x7rb8ShIHZ2cRJ8k4UVq2-HqAyoS4ugAky0mlAhJYrCrPMOwE0S6JjE5iWxM4ncT9Jg5ZSbZ2EkmSxJXKLUd+LREoTJAaE8aC5MToyhVJ-QO5MCLU5gxP0jk4yW1hckSS66wInxOcLZoKpSR7geqncQi5NhHoHYoyfZzChJSW+9RSMdFID7fExxuk9SeJL9FWRKJk6M8NGBIDRcGUAABg6Dtwv0ZyWyJK1CH9IvclAVoPXg6m1T+Q3gQjNVJPp1Shp+xHgCyIggjTrUY0xgAk28StSRE3CSbtfxmletgIPUusWWnTb2Y3C60mtt1LqDQ9qGn44eFqCRDLSAIUgGIMaklbTdgeHUjaUdMsI-F2pZ4Z6ehB6nT8ye4aOwEsDOTqBtYTndHoeGTAOslyKSRaW9Kf7UCDpccb1vOC2mrZQxPgejmEllYNEShAMoGY8ycEslsZkgQGXIG1gSdrBfZJvt4N8F985g-0ombjJGlnSrRMgMIblwJC5BqB0AwItCgCiEziZwMk0nwPBkh8heWpc0QgJWmqERZuPUGbTNbzY8des+Z7NSM-7iC6RnpaKbILx63gPAMEirpyMFwAJdRgmLkmAj5m4zxRf-MwY6Q94eCPyjcOji6IlQAJzZJMvGVClqauzSZwYEWXoONmyB3BpPOQV7IdYFs3RBIolPRGQgSyAIdPaKdCmexUiGU4oiQRAi5nREaMAGEQU03t6R91wJAM4rOOjGGDVZf-fAYnQLGhAPQmsyGTjyFk+APQbGACngHMytyoEicmkSrObKpySQ1cv0Qn1ZFUic5HIuoNNgLkoki5GYmOX50rnyCxBZcmkfKnczLzrAug6JJTPxzTyJefvTWYNgB4AYGgrMqQGFD7npy-yQRFuW3OqDrgSxJossXvKI55yvBm8wgZaX7mk9SBqoceZzDnG7BruuwU3kOILh2jz2xorIHy0NFgLTRx7bJLVz-mk1JotolQoUwiDzw-5TsmVqkjxFQgI5ChLkNHPgVz5AFgRFBY6J7wHcuR2C90XsDwWUACFpvQhTAL6pgBW55mUhXsEDGdRgxOwb3ogqGTfzJ5mfWMXUMPqxjJoyY0IAIrnFrsRFq46oGu3EWzzySIFYsVAvvmfy2QdSSVr4EZzGlnxxBc6DovySR44QI0vjhgw4K3i0wjMrUdpEZk4EZpkSGxckMyZKxAwMfe6W1wMyj51AgM7ENXiXAohCmdDAcPYqZmwpKII0u6dvIXEFTC2xrZotEQTkQ5Ew2QecCNOGkXS-gV05CDdNyCMyaMVKARVeObYxIpFxc2JWmIkV69aAiYKxWFFSUA5GZ1SsIOuIzlQTilAkXcaAv3GgjcsMCitEsHpbRKLY7KEyI0vSX3SthvJSseeJrGdKJxH4iifYCom0TJALEw5AABknaPEpsaUGak+EBJwVEaaJKFHlSgFNM6SWrIaByTfJqbJSbJLGAnKypXKQpgZLKjPKcC7y96S2jrrmT1lWynZXZLdAOSflpyyMTFJOFlCt6CqdyTWM8neSXlOYyhKYslZBSThKIAPnCqxEw0sOqKrIOiqxEohwlIyTmM8qil+itRsUr4QlN5QZLJqdxCJT8pGVy84lYRIqUcrBUvLopTMrkI+jPDDLKlwoiST+M1ZUqoVNKy4QWTdIMroksUzelCFWGz4wpWUtSUKvOWBlZ8jY2FM8vVXLiKpgtP0giLDmDKcGxreccaxFXAiHpodHaMIEIygTKOFq7wGtXhAkYzVLqnvoLDtUkA9ZcE1NnyoYoeraWzq2llaoRGFMfVuQVzrJD1ZGqsRvK7TnYFVVfSkZskrRgFNoChY6MeSm5UvyXFsZ25EOHCQygRWXd0JBahPlSgUZ+oFcS40VbnVVTYq-hA3eEEuMJXBCvVoQXYKVi24itM1xADtb8BnzRIIWA62YI2JrV2BtQ9a61eGTtnxoV8s9JNUsBmlN0UJIym1SOJcmEZiwdStOAUqBDIcUJS-XyQz2LX1dCMZazmOhN8lVqUljgadW6BmnAjG1iqZtb+Pq6FgRpQ6lgF2psA9qpgra-FTIF-Ujqwk+0yVhOp6pTqFcL6hEfOsVmKYNFYgGzj8oJDHoB1GapyVmv0XMqC1kMw8WqH074aB1WrNDUuOw0RSuU1nEjZRoI0+pDAMxJYPWvXXprK1WE9vnIHCnZT6AhGf5ZZNYnsSuJ4AGjAJqYlCabJuysdThv1WNjMgPGkSfhIghwg4E8TD4U6BI1RLnFQIJjcmrXVpqblm6wpRDgU1gr+NayjZdstE1Ah-lVmnZVOIaIjToNz1MzScuU23hVNJsZCVIH1Lbp6aSKPNICKVhBaEmXGYsAFpECdo3+jHXuAkxHgRaMQU7XuFqLJneFZ439dLBZUi0HhoteGnTKFo03JwyM2WjEHluwGOC00DittOeAkA5a3OQW1LT7Kq0JMv0OgByFCGGWNaKtsWtuO3Ai3UBbpiWkQNTnjXBDHWfm4bblqm38wkFl04EYUwG23SEttAerbJBm1doES7q4ZeFtW1laNtS8hoWNoBFWRANnrQVNcW23GtMCq2wbTRvQZWi6td2tYXVqS3hqE1eGvzaVu7zfaKA3XfsmCInJ192hUIrof0L7p8pTVO2kra9qi2-akMGo0VYdrCCNjstz2kePDtkiY7kdwZb8nOrRBnbVNjAS7VDuu1SintMQMWgFDa33wNk728beKqxFxStAtKmJCAqSoe8CoKQq7S6t0wyB2tUjYNSZG3ZKLESp4qsaKoDLREdkYfOojMrPHVicVugleedmbiLJZdiO61QTt7UIhqA4rOEDztpb2Yad0kKnbiKbClYzOS8LUZjmoFAMQGYDMwgKWNIFsX24bSNhrhcaa6ERq4H0hKvilSqwk7O0JH1At3MpK+U4SgVzkOIItc4xAlQi0ody+siqKvFjsoBXFyK5O7HVwloFHKMALyNxD3ivMKhu6gOKCYlaV3l0S60Ra85xMLCDbHbNW2u7KqXrfbNoSdM6IXfZlb0e6iBzUqlApFLZ2VIhhGAAJwdAAow+6ypLry4ntpoU+59FCsSjkNDAswVybwJzXMtDAhapPvvLxTOAKiDUoXgvr0D4t8WhYNAJfv-VoYkNYSE-fCOtkpAF9oq8QUEnRE1DfAidZwI8ifw+CoyNgZ-bFOX1HBZgg+2rZZUiHhK5AfigJf8A1DMb6dAIrUY3ub2etoD1lWAx3o0AOQu9XydA-4onS38HtIHTkELoBTEBANWRbwOkC5AeMnsEOHaIRhHZXIhgpbEg6coxhwGKDAXK4m0GJWZy8UYKRgDQd1qgAmmf0E0fyBRD3kT9OVB5GHQ3bxKXVdfQDdYAeS5VUQhGgAxIHsrb00WZBnaKGHD469k+uKf5PWu06uwWN+nRdIYZNJoaZpMxFNWFAo0Dq2UHKOwwnwAxCGRDHMMQ4uy5BZApDx+nQ5EJhrqH5DS44jQZ2jQRGlQxhx+aYYXVP7Qj1lcIxEceT0tqUtKBgBkYeTX7HtEB6fWiKWSxTWdvKYPYLiNa86CxEeigffB2gSSJ16eggD1SfjIrDddLIGOLrmU4rhYdoedXKOcBcYcgdAM5OQxiCAat1dKRgwymYNjt2Dj4zg+QdUO8H+DnG3wrDk6PzjujugWZYrr+H9GPNjcHTJsfda67RxEXE4laK0CqACm7mb5voeGV1H+QUenY4XDOPNHk9z1doz5uuV9RT1T4lxQ8JOKPNnRNTAIGtnBl4TTtzAW9mQfxaWc9AcigADpYAolCq5YBXHwAzFUm9e2qoVShQSpz9z4agwoTugdB2DCJpE6ifRPaLMTlhnExq0fFlpCAWRROplzcJsnQAAALzqzWA0TYQBk9idxNJ6CTvJphg1hJNwgfD5J6sI7w+BkZRj4xnwIicvqT5GTop3anCx5bXEPA1xUgNcT5aMh8WTIPAFSeGVqnWZWJnxFqfio6mhqdxw2AaaNPErpTSoIAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMVq1IR56H1uwC7rp05TCi+FgA-MJuBgAhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhJv1hbh-1CAALiFkicowCbAAI1tQR6hBdggXxJ-L0KkypqQ0uUWYj8TBQOsGAuKMYpznlQp+MKv8CqgAAbfMqk44wkObGQ9KnkcF4NAAQueyZXzIQYbOK8FCCrUI9AuY8PCgL8JYcQJ+bCOEB3oi6fkkDKFCOSs6TUiinysMobI+KiV+jJUXiFBiBo2EqNocVPRtADH9VSsY4w2CpG4O0TsAyqc7GmFMaAc2kgEJ6FcRJJE0kMZYLYZQlIri3YhLCdEmwWiCqyIhnzJxgjQA0K5jzA6BhuY3RekMaGlMsGpMcTInYdslEpLSWUzRxTnERG8nkimF1knVDMW1P0WMZaSOkbUqQgdg6hwES0tUsc5AmRoV-f4KdDG2PIQaBxT9pihMKK1NSKDZI5zzqYeZjISneGYEcaOABVYgj1y4AHcsTYn5KoKioAAC0dzUmfwcjvAKfSTLCFmBsgWlB8CgD0BEWilAWB6OUEsXxwhGS0wLu8+qwLQXgr0noT5aoq5MxsJ0VJchZDiD+QCqMrBdjUHqD4pFkLl7WEnMCOgityCgDuE8u+0lkV6VdtQYyLLiAmEWTE6JfVpLEChI-Q4tAnJLN5TYFOASpIyU5dy8VErUW5x5Yq6JUypEivUVMclTIUjyykHZFBeg6K0uacoumGElyDVoAKqYJq5AeJiWA+ojRmh1A6BirFOKfSxMYPszlhZjmnOoBcgg1UOa7BkPcx57zqwYqIgFFZig1kLxonQbZ0LBbl1HrJRen08EAOFngsB+xDgL2ecy9GXcq6pt7tslVvKk2WoEsagSboNm1s+ts1WYM0m6NKm42Z9iilP2hfq5YjAlzlqZf8Xq-V6otEKTgs1hQzETL0HO2i1r6BLpqc48Z99N0DXmrup+M9e3CMSR9DNPrfn-NZiwdmnMr1EwpQXF1TRiAtA9Z6+QOK734vGByMmDTOnGE+m+vVEED2Vs7iBhyYH+bTBwT+6wmK-1Rp9aEKlVaQPGGbfS0ASyYOTLgx0nGRNkOONQ0UPFdTMzNuRWR24zaoVYcKOuXDkR8MoJo6EdD2LMNLPXGkq9CrwJS1AzDXGVGz1QO6PxhN1Um0kDUYujS9cgTjuFnoDTK7oGgCLdUEtBwfBwgAFSqfkV+uo5nAagBU4iazi7Ax6dDAASFCEpsGdAQ7zmJdORhc5NnLwA6-bJvMQyZpsFS4GhHEnkYKQyPjBcH1PvSTk3GSzC3NyWWAwOWobh+YJIQQLfD+iyS49LCj1NGQNtVeDYrAXeFoRjHobxYmGuqpHtVpLtXRxAgE96qB466GNiCxI+I2WHMwjG2V1r84cQdhDHlnYSF3ykIGSY3lMCYTrZQhN9CS3QIjgVWA4WNHuh+2qpUjWVtqmjp9VSt2hGXaROS0CKld31AMAZb5nIJX5tMNkm7XVMWiGgCs3KGzv2ZuYzUlDjUi7vvYrB-jSkJG9Bu3q3yqiAqhUauYFqvxmsfuzERzyFo6aR0l3bmk+pCGavDpwWOiC3jDWLn+OJzHdlpkVSiV10Iy7z032EWoxDN7PsQ5QYRzH4vXSMYZNsmjaikFlSNfL7Ux3MiFJQcrrTEFePedF8lfbLWmEP0cdC1X2v1ec70Gb8RR20EC5SJjx3m3MSK7mTTnHsTqNdHhgFPtRD6FO6HZdGn1vrNq8Y3N83wFbeu7CJj+P4f5xGqV77qBKGiJ4H3kwVg7BT5cAvmgNa18SLgknf8Kiy91y3IeAyqIS4RcPVUM9Ul3U9DSvsDJWY2Oo8+vXLlIqj7iWCq7weQG4nQC96CdTwfuexbTUIePklEL68v1XvrZFhZozr8nwhU200pUthlcE-AW-lqTDauNfAsxOpZzZCnSJV-Wc38xmNPfoBJrP+TqysKkTk5O-sPi1Lft-g-qABtG3myOzgxkasWLatfpSKPhzp6PZkga6EPDsOgVOigigaKDvpHFKHrl5AgZzifqqHgUsFgYogQR-hFN7MGAQT2jfGQBrFyLoEoITqKjjCzmAbeIGMvu3FxofBAgIQbgTH2CIcHhwdQLIK7B8pJJpEPl5hsBBKWj4OIX8Prt0FSgsEsGzBzDwcoJqgqIRhdpXnAR3uCiocpB2NTmsoQc4FoQ4XqE4Zzm3AFDoS9GgpVioWsOoQXJaL4Tgb4c2gEUiEEfDBoUIcGGEbAWIPyoVqYeYRRv4bMB6IvhyEYVboIagVqDoAsO4ZkDTE3g5kUSUdkfpv-HPqZu1rYT4vYbbp4ajgPrkaYbUaApUboCUa0WYAADy9HFHzAO4-bdF1F7LUBmYAAqGQXiOQ2ISq7gMM4MCCccLQYCcIoAAA1ERoLuDFEDEDoL8u7P4WYPsfZjsfsbPmEIYNELoGceMajpMT0dMXMQsfgDIGcisQqAwDSiMpQFsfCHsQcYLg8Scc8QMWCdcWCXcaEJCU8fgCZDUWwaqLAvAogrbormgpLqEHIcoOMBkEpJIdUAFP9ulJkaADUdFlBi5E3ErAMQiVQiOsSbXHoCyULvIVwToGkcAfwY4m8fEuDGgvSo8ITBcVyayZaDUdKWApScrAMbMIGGiSlmhlAgBo-OKc3s8MYZzEAXwfyJBinn6jMaUXIIGsQOkPUIZkiHGoUENkJtEjhioYRmIfYbntEuuIqREa0cioEX7g1hESmmEWjmEApvGnERjlIuyaSQHtdmDDbmgriR2FkeoPiZKjdrGbAvGY9lAhSX5haW0Zpt6dvoyfSFKYqtQjmSSZyYLm9JwScfyUaVMMurPgqWKRUZKY4cKauuDPYJILKWTjSeoH2SkAqUWTuBcSqSwRMeGfxuCSkFqVIjqU8EYY+iYYaVqiaULmaUcHifCMcjaYKnaX8NGmqNZn5Aub+oJnSWEK6UiO6WRr4QvAHmWbeL6SoWrlEX8PKocZKt+aGYETeRqYptGdsI-HGW+XJu8PnnpAfEfMXpwOfLwBgNYTZECiClQGClPleJChPAyfeCQdqiQIWFhQilQWyBRThUsMCkHI0qHARQ3IjMwQOOSmGFSjRZQLhQXgyrlMAqPqaPZjYKaDEv+eEr9NaCJdYNaOJUGaPloTJfUYcPJYJb9OxMpexGpcsr9ArKUPZvpXIJQhJWEKPglHQEHKoNiPZhZVZcsQVKZaEKPh8TJR8dEk5TYKPgpAsAHB4HQIDD5fMH5QwNUJ5dYKPrscpTYHoFRLMNiGYHcAAHygC3L7EOXhVw5TBwh3LRXWCxXxWJUpW3KPIZUKW-R2azApAFWgAJX0rFWgDma1XWCZWj7AB5X-JxW1VFWpWgBgBlXqVShwgACkHVNVdVyVvVw1zVoArVv0Te0V41PVjejwCV5VQ1AAhA8ItV1RNQ1VtQymtYNdlYMWNbtctaAMMdYEdbpUNYMXcHlUtfVb1fdddXNUNUlWdYVc9bcilW9etdlUlQ9VVaEE9ZNb9Qyt1QDXoHCBtR1b1aEJNdYBtTYHXsAkyFxdENhTxYit1D+fSlAgpEpKaLMNxbxQhRjRDmTbjQeASB4AAFZNiMwE3VBE2crPWKVY2UVaRIzsUkB2hBlhDU14UVZMhYCY3wq0XboNjM38Uwij4fpur2aK02aZUAXOW-SQDECfqJQ2VVVa060cxq3q0RW-RBWSCwCQAyXm2W3G0m3eVaDBUACiyl5tTtdt6to+AAcqoF7R1T7V7eOV1pTSWHPlzVLfHq0SzYUGzX8pNaEdymHZLTjdLVOEzBLdjbhfHmstHSkLHc9dpFfoncLXNkzO3LCsLRCmRUqudC4cMkHJzDEJIC6owKMs2fTaoGoL5tEOzPWRKsLfRVkAqExfzYLdUDnLXW0GEMbqqLIA4IgtuU5HXSkZPovTjOJgVoKj3uHSnSnK0bMNKUnZnbQaHlrjORvbHIVtvcneTXjdQAzUzdTofSXafW6M4WPSkIYUoJuQabwTuZxRDl-ToBrB4AYn-RYX9iCAveAzjGLfBd1IhUXifChdwJgBhT1DaimBQJIDzIYOhApIwNrPtnXQrJ4N4IOLzWUMQzskMuZHOaIlkHaLCZIDcUcY8acSiRQ2xVQ1wgBHaFAmAtpNQ--hgywApFzAEtJI1Ow6WTCqQKQO4IrPfAYF8vIz1QwPsXoKoPI2uXCDsQAno+wvCIWGCdo6QB7WEnow7DIzgfxOQBzL4Ow18mis43yXY0bRYO5lIZSEiToLCTDWCQfuI7IJI4umzRPe49iK4xBrCSYHCCI2HfYCYUEiwFo1XCQ64M3Gk6sFAgY8LHCAIy4jCDnGYOcGwoBjpoGCU2YEEIXFU+k2YAdfCNvN0QAlw60CU7o9vKEgAkgVg26Lg17gQ9rCU6EmAoBn0vHKHJ02UzEj8CSFMjYvztU8KQYwE-sZE8sN4Kk5aB2is-CTEjsawziRghAos-xMsw0wc9Ekc2CZsyk+08rHsw01CrseKiiAU2EiWpsA43CJpa46TT85zCkzQ4ULIm4aM0MpEzDUpbMLlLs+k7OQONU4C0k8C9s90QkscbEJC-2XCAAOSsM5ywmEuFO+PPElMJObM8yMAmQ0t1UFFEEVntaOReA+CWj0sWONq-Q5B1DXEzHXHlyKiFiyjeDCteSKx3SgspAALQsctLi0uJ2Bicuov2PouMAsCYuJNquPMqtzDBh6vUsKsJVJHOAd1d2kA91v2c71SaypS1oZMBxAkJxpiLytNZUw2TMutCSzDnNGJhRusf1hBs3msciWuUDszNq2u3ScjRMOvSthCyKYJuu5MetwjbxAwpmnMkhutauLymugD0s6jXJUTRv2tuvQpha9LOuhy5vRY4asq26EZQInNEhnOAFLNpy5spaY12uchjAbKEZs1Fs4gltluxtKq5o0SET0mUh71dmPBwhKWptuGWi0R9uyBQjfI83cPb0bsDtor8PGZhp41NsVF-OTCfP9nrsxubs5qFPzsdi6Ohvd0RvWsYErsNGPt6hBuhAhud1htWtRs3upRxu5tatuHfuZCAv7tbuHuXZepRpVvqQSHTtvoj6-QZuikdgEhts5tocIcYbRYiY0SXYz1sgRr-AVuMtZhuEpu0MyHTuFMfG1pWnBqhp85pRzDYiRpUV1g2rSbUfeNMt0dMdDLCFidgupL7msdHknLnLOCccTgCeUyvLVSiuMBe7kAVxeABx1ANCtBCcQX0w8dUfTu6MaeKgJPXBbv9uafoSRJGchF9h0GMzxthh4C1zeDARDDISk2lZqinmjDkC7yF5sCkDzCKRBLQH-KyDTRrTl7l64Ll2ciax6DPRRPAjRiMB1CyPo5Ms6Z2DZe5erOQ6Cquo2ZjOpJ7TqDpcyCZeWiWhFczElcJspJNdNgtf5pOqXl0BpcZdItlDNc5cQYFveK+dZB6DLxfak5lQTdRpy1DXmbzd2bhmJoZBYl1ecw8CzAZeSCTT3mxaEAeDzeEayj9f1eSA7f6sDgo4vDIQzuFAAY0oncARrkq0tC7nvrlefrfryaIf3nYYQ7Dd1BnepekBbf7eDcGDHfzePeUIAYg-vc-dupfezvbAffupLJOmA8caTzBgg+gURnyaDZAixT0BiuQ-Xd7f8DpmegmlHevfIRg99cQ97fXeBh3dw9E-Pew9vcVGY9o8Dluic+zf3dZC-sFRuG5Ts+k0NE0909Lh1aH2hCi8hxzd8Pw8RkA-sYpBUpI8Mrnds+Xe083f0h88PdE+pB4oG+PCC-RaeaFBz0vCwQW8S9YCO+HFuFuEK+jn0+S+qo7hu8yADae+gA4+68FTO+Bgg+K8h-qnE-VCRlgVZlgx2VaARftYmnyS6OYkIJXsxIwIbcILiZgJsDnsxCyCacF87biAU+ad3FgIscsBscKegBedMIXnzcOkp-5fODp-kARcAOh0d8+f8+LGd7zdTcdBUrBeEaj9acAQw15+7DVhcUBcMoL-oRT9wiV9ivVjtzeIeAxAJSxD7Zx911uHn9+9K8JPH+CrNn7ZY4n8nF12Wj3+n+rB38v-cFGof+v+MFtggYf-roBwIgC+STdV8tfzCKADnARvcYgw1UKJFmYN8PHFfWv5kEYBNHFSj4CP4-99AGAznInWQGJlV8JYOMK+GZQbwmASIcnNaQnxQgjwQ5XllkEYDLwAo0YXYGMnM6R9kO88OtpHyB6h1wBr2fAZIEgGekaIvrQIgn2M6gARBAvFHpV2rJlcTyjA5MMwMFSsDZOYRDsjNC4HP8H+v-e3OAK16LkiOyHUTkvCF7rg3CnAkyJaFzazB7ByscDgnwj7CZoMpHEnuBQLguC3WBbB4tkBYBOtI0k+BoEmGxCLo6A13CIdZTGB0ADu2AoygYE6ips4hUQqEIkKm6FNV2fYGIVy3yrqMogwQ0IakQyHRCShvwF3vSE6gB8TaYQCoVkMmg4EYgQSLIJ3RQiRDohsQ+QPEOaGOsdMBQ9IX0MyHSB+AOQ49nkM3AFD6hU3Z6m0O8AdDcKTQvQE0PGFTd6hlCeYZNSCHVCdwnUWnBSSqEhD8ASYIwIpADTgw66ZwrQAKkiB2BfgjjUobHWrqjcUBqoW4fYy1APDghzw34IMKyZ7DNWqbIzFJ0WGt1sgKw0YYuiWSEwThFjHYSlS+H3DgR-wkIRZEeGasjhN2NAZPl+TS1JgOMa-hREjxYCpcwg-AaIKMEQD5wUA3hn5xoF-kaM64BQXbyUEtBU2K9VoCSK0DSDoiuQu4d4HnA+VM+4AxjKYNmCkj+RzI8jmIH2DfCgooosYgqKlF8imRIfWARqN0b4BzQLQHYqmzhC6i6Q+o5jjVzKCqjQApIswKm18KxFwRnCHwAqJtFDJuR4gxQPWCJGKJLR0ojUVq0BQNFnRZwC4AGLLTWjP2iokURnzGKBhnRWw6oIGGtHxjCgCooJFGMH5jE12WgQoSbUtBJiVeEqMMoUyNF6i+WgQk4lkG06LYThsVS-g0S6pIjDMzcdEhOEWBawA484SzmmC7G0BZgRbS0UW3JFCDDAixDMW1BpQOpCMqY4UZIGVF6B+x6onscQAPoNDeUg4mQcJ2cDKjxxtKHUaWJr6hAcspQMlhWPsBtg0R24+1KYALaEBFCJ-PqD3mzFajX42LfQFmNMAtixAwXX4U8Iy7U96uSQikSONhzBctu-47EH-k3HgxkeDQX7qDyPHGUFSYYSsaAFmIAAJJ2pIAACC4AcAE7QABKsxSAAAHkvayABlFYVEL2AIuciKvpiFkjTinAMozUdgNvF0VyuVER8ZGPdbfj7xVEAdnZ3olcS0xWrb8eoDKhLi6ACTMSaUFolisKs8w7AehMwk4S8JhEkiWROkmDk+JAkuiQpMYlcotR34tEXxMkB7dCQwk4UYnRlCCT+gdyYEWpzBifpbOektrAZOYl11gRPic4WzQVSkj3A9VO4hFybCPQOxck+zmFH8kt96ikYjyQH2+JjjJJlkpiX6KsgoTJ0Z4aMCQGi4MoAADB0HbhfozktkSVqEP6Re5KArQevKVKyn8hvAhGDKSfWyn1T9iPAFkRBEanWpmpjABJt4iKkiJuEk3a-p1K9bARKpdYstOm3sxuERpNbCqXUGh7UNPxw8LUEiAGkAQpAMQY1JK2m7A9Spo0+aZYR+IlSzwB09CJVOn5k9w0dgJYGcnUDawnO6PQ8MmAdZLkUkfU46U-2oGzS443recONNWyhifA9HMJLKwaIlDbp90x5k4JZIQzJAd0uQNrAk7WC+yTfbwb4L75zAbp8MqGY1OWlWiZAYQ3LgSFyDUDoBgRaFAFDhkIyHpJpPgS9JD5C8tS5ohAYNNUKMzceT0rGa3mx469Z8z2akZ-3EF0jPSHk2QXj1vAeAYJFXTkYLgAS6jBMXJMBNTKhnii-+Zgx0h7w8EflG4dHF0RKgAQqzEZ0MqFLUyNlIzgwjMvQQrNkDuDSecg82Q6wLZuiCRRKeiMhFZkAQ6eHk6FM9ipEMpxREgiBOTOiI0YAMIgppvb0j7rgSAZxWcdGMMFCy-++AxOgWNCAegxZb0nHvTJ8Aeg2MAFPAOZiLlQI-ZNIwWc2SDkkgM5fohPqyKpGRyORdQabLHJRLxyMxnsvzmnPkFiDk5NI+VO5gHnWBdB0SNGfjg7kS8-eYswbADwAwNAiZUgMKNXJDl-kgihc4udUHXAliTRZY6eUR2jleCx5hAy0jXNJ6kDVQLczmHON2DXddgpvIcQXDtHntjRWQPloaOfmmjj22SWrtfNJqTRbRKhQphEHnjXz9ZMrVJHiKhCuyFCXID2T-Lnx3zAigCx0T3gO5ciIF7ovYNAsoCwLTecCmAX1TABFzzMSCvYIGM6jBidg3vP+UMgvltzM+sYuoYfVjGTRkxoQWhXOLXaMLVx1QNdiwq7nkkQKxY9+TvLPlsg6kkrXwIzmNLPjiC50SRfkkjxwhGpfHDBhwVvFpg8ZWo7SHjJwKdTIkmi5IZkyViBgY+O0trgZlHzqA7p2IavEuBRCFM6GA4HRfjNhSURGp20ieQuNimFtjWzRaIr7IhyJhsg84RqQ1NWl-B1pyETabkDxk0YqUtCq8c2xiTsKE5XitMawr160BEw6isKEEoBx4yMlYQdcaHKgkJKBIu4p+fuNBG5ZP5FaJYPSw8UWx2UJkPJSEp2lbDeSlY88TWLKUTiPxyE+wKhIwmSB8JhyAADJO1yJTY0oAVJ8LUTgqjUhiUKJSn3zMZbE4WQ0E4kGSeJ2kjiWMEWXJSuUhTGSWVAOU4ETlJ0ltHXWUkjLxlkyrSW6B0lQgDl2yrUV5M3qtAFUxkmsaZPMnjRtlhSwqI1PsknCUQAfb5ViJhpYclFkrEFViJRAuKRknMF5csuXF+i3lJw7yVoF8m8pQlk1O4q4suWNK5e3isIvFPmWXKllpKkCuWMfRngGlaS4UcxJ-GasMVWIrFRcKUgFk3S+K6JO8svrhCYRnyxVM5PClCTGVKywMrPkbGwoDlEqtFWGUFp+kERzsupTg2NbzjjWzK4EbtNDo7RhAhGUCZR01XeA1q8IEjOqtNU99BY+qkgNLLgmpsuQdK+pRqvpbaqERhTW1bkFc6yQ9WyqrEfjIiB8Sl+QYwxQ8JOKPNnRNTAIGthenvicRPmbTnYDFXnT-pHErRrZNoChY6M0SzZUvyXFsYS5EODLoRl+WXcLJBahPlSgUZ+oFcS4llbnVVQQq-hA3eEEuLhXBDrVoQXYKVi24itM1xADtb8BnzRIIWA62YI2JrV2BtQ9anVeGW1nxoV8s9JNUsE6lN0+JjS3VSOIMmEZiw2StOLEqBDIdg1sC1FYWuqBUoS1DKMtZzAsnbKq1gSxwNOrdCdTgRjaxVM2t-H1dCwwKhyUTx7VTBW1MKrIEOpYAjqwkM0yVhOp6pTqFcr6hEfOr5mKZRFYgGzpcoJDHoB1Ga1yYZLDXuKC1b0w8WqH05EqC1hTNDUuOw3ySs11nEjZRoI0+pDAMxJYPWvXXprK1QEulJkBcnUb6AhGG5apIIlETSJ4AGjAJtwlCaNJUysdThug3PVuNKamMOGU3lwJ4mHwp0CRvcUGKgQTG5NWurTWbLN1cSiHApsWX8bhloyiZaJqBA3LLNkyqcQ0UalybJqpmyVuigLhwhVNBbNLCYWLD00kUeaQEUrEC0JMuMfmjEJ2jf6Mde4CTEeOFpEBTte4Wo5Gd4Vnjf10sFlfzd3kC0yLmWIW9TcnDIyZaItOW7AY4LTS6K2054CQFlooCJa8ugsFLTgS-Q6AHIUIBpaVqgnlaYtco1RfTWoBbT4tdW91QGty36lt0tWq8ENv5j-y1pwIwpn5oG0xKqt022SKtpzGxI1VDSsLbQEm0bpdtGILtB7waH+rghtOADZ60FTXELV9LTArtqW1i0AomWpbWsJq2HaRtZ2sbT-Wq10BJtaYYrQlvdZgiJydfdoVCK6H9C+6fKLbRqq4wA6KAr237YduIHfkdViyMPkUOerPatpI8eHW5zx1HaMdhY1HQhrRAXbPNjAa7TDqtVSiatD22ZdVBa33wNkH2gEWytKFfCcVMSR+UlWO3VAUhN2jVUzqkaWraW2TI7dwsRKniqxLKgMtER2RE6DMnSs8dWMhW6DB552ZuOjpSCnaARZO3tQiGoDis4QgumnYZhkCtbpIj23EU2FKxmcl4WozHNQKAYgMwGZhAUsaQLYvtw2kbDXC4w1Esq8YPpTFZzsuGhIedoSPqLbuZSV8pwlArnIcQRa5wUdtA6Ug7l9ZFUVeLHZQCuMl1wgg0bfBUaOUYAXkbiHvQeYVG91AcUECK0rsrpl1ojh5ziYWEG112at9d2VKvW+2bRU6Z0ouvWqAC72+6iBBUqlApFLZ2VIhhGAAJwdAntEgeyrLoa3z7LKkQlleIKCS+BZguGzUjmuZaGBz1jpGeXimcAVFcpQvSfdZT0D4t8WhYNAPfq7W3lhs0SS-Q4PyH9Klkr+9fYlHIZeSLIidZwI8ifw+CoyNgL-V5J-1HBZg4+n7fZRcVyBrFti-4BqGY2s7WV2AtvR3s9YIHrKSB3vRoAcj977MVi3AxOlv7oMw6G7fvQCmIAAasi3gdIFyA8ZPYIcO0QjCOyuRDBS2IHTkI+IxjIHaDAXK4m0ARVhy8UYKRgIwd1qgAmmf0E0fyBRD3lX9MNB5I8h4MMB6WdfADdYFUNKhCNYBhfZEO3potqDO0UMOHx17J9cU-yetdp1dgsb9Oi6MwyaTQ2dSZiim3IBRoHVsoOUzhhPgBgkNSGOYMhxdlyCyAKGL9hhq-TlVUMxoB1xGgztGliN6GI+VhhdSkGUMxHYjPi01dSlpQMBYjuhonuAZrFLIvJXO3lBHsFxGtTVUOw4rHooH3wdozEidTnoIA9Un4G203WLuaPgxpd3SyFcLDtDzretHcDGO2noBnJyGMQADVurpRsGGUHBsduob4OyAaD2h4Q6Ic40ajYc3RulkDH6Oq6-hQx5TeWR0y+FuueLcuKOIi4nErRWgVQAU3czfMTDDSho-yHj3zid2rQC44nXT3tHnqnR7zRxLMnlr-lT4lg6HSvWFxnR7UhkvPAy5mADG28IxhlzDDqHqD+LSznoG4UAAdLAPhoFVQg7D+AGYqkxb21VCqUKCVLfufAMGFCd0DoBiYaVYnBJOJ1cficJNEzlgFcUkxq0fFlpCAWRROplzcJCnQAAALzqzWB8TYQD5TyZ8Rkn-jmXKU9SdVS0m4QgRhk9WEd4fAyMOQOgFMZ8BYmiTCpvk6k12pwseW1xDwNcVIDXE+WjIfFkyDwDMmNVJp7kySaVOWm02jxw2HaYdMIqNTSoIAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdrLqPPgmDTAig3qPbqELMrBo6AK3bTrpWUDDZ6mUQ8ISJFiHz0NWYLeHMNid7A1FGiMAIUENiIpDvUBQxIBb0SE+spegQEoWkIWwcdCoBoO4O3QBRhCIhmgWofYDiE4CSczqOgEkOIadD0hoHLIdBn6E+s+uY1RoQeGaG0RahigIYdKnnq5CFwkwxKv4PKF7phsLOJtGUMCH4BpgqgezIxFEYN9d8hw4yMWFMCJAbGhQiOiQElxu4H0Bw+QJcI2HxN3hGXPoXsIhak4smIwGYbajmGOBohaCe6PDh+G5C1hBAC4Z0CuEBDbhmwwTD8J2F9Il68+RCOLTkRWRAB4oaGHAIOTk19BQg3-g3QAHMNt+EAnoaAGJEg8JgRvArsQygFoJcR8gCQVoJjZyUrGB4OsJ5Wj76D7kRgjoWyM0G+FOuuobkUWD5F9EJRwo-Ee4T35ulmm+AK9MVA2K4sVRm8NUWwyK59xZRoAPEXoHqZuk8UnIzAceAlFGimR6IkSJiJkjYjkQ+ovEeyN8JZM7AdveQHoFTSgsjohot9q8J5G2BpRypS0SsLNDbpDRYYokBKINC8io+fRFdp6KjEG1N0kY++h5GApsMTwmou4Hyz8Eqo7gynBlHsKioL0VC7VaEaTkNa8NI0yYTEHWEM5nMzOLwTQLm31G5sCR-icmtKIGx-FFInsGMYGODFtiRRjY2gHvWqELgOx6A6kT2Kyizscx2o4hn8M5F8lCxtiEsXON5AKRgEhHB9D53hE3Cku+PUrt0KCBrdPYPnFrieKKDP5qR38A3vSPB5+hScziOgBgNB4Ft5ujQZvJ6P67k0kunsRMbuLOF9AdELXPQJo1qbOIkuayQsaADGIAAJO2rYAACC4AcAHbQABKYxSAAAHlXayAVSEYVQr4AzAgXUzjn1oSDjLALoheoQAcB-8Jg1IX8ZKOIAQsDxa-GkL22bF4JWJsYjNgeJkCVAxx9AKJkJN7iUSxWfEhekhJQnoTMJOE-CYRPEmc8uJ1IHiVRL4k0T2Je-A8e8JQifjbA34ubDpJugnhRJr4d4UQIhxr8pJ5nZJDpLol793hdEQ4SzScR4iFiNVC4oF0mA5B6x9kvCF5LL5cjYxdEsMWROb4BVRJRoJyaKJZzwTJWcdEgCF1UgAAGYwqNCKg3hqwCkNTq6wnCUA0E5efKaSFSkHhPYyU8qQCIUrbEeAHyeNNVIGAVTGAUTe7DlJ+Bb9N+-yTQNVONwVs6wxUssWCxaafYVC-UwqSomKk09CG1YpKG3C6n-I7AhUWKPlNjQvcypA02FMVMMIfE8p+ibaUVJKm2xRoBQ+4DeBkApgrOywDVOBOLb3RFQIBTqRfwIGTTy2O0iHkgh9HHhhOxDFQudNsCXTpAKYajum2TGBBAZwMlMI4KjYytnQmbAjqBKhlXS1pLDTrhMGCGdIVwCwAgeAIVHSwzppgC6ajN36uD4O90+OPaDXLuhiugA3wpD1unZwa8UgsqC4OWQBISR9-EQa+UpEziC42cUoHIMN7g95SoQFUarHlKxAUZIM1-tzMMHGDHS1vBXt6QZwUcrRtkUIDLNBliFJIZTbWcqQZnaCCAJSWvJ4JD6TsDZvgvcQwRtH11nAgkBkP8B6nucKyzkwkQHVpE0jhBZIqovjMkFpB1YxI6pmz1cFLQSAhxIMfGLlntlDBSAm6OmKiDVA6Jv4BtnB0fh2BwJ1QKWMrTwCTx85jsIkYINUgCjfZZaZOQlPu5LRg5j4sHorEemKDI5wYw-onOMACi45b-O6LvG7nGBIi305kS7LuCB8U5ysUwTxExmoI7AhwCuf7MDIeE85BcpmfGmzGqi8xo8x7veWNg2jB52-CuVSKrj3oCUEc24lHOinN49u+QdXp2NAlKiT2i4vlhqNXl58tEYgWmXqIvkLZjRchN0TwPyDDYG2LIZkfbJ1C8k4Qzsv+YTSvnuEf54Ey+RrMShALMRjssBb10vmE09ucA7qmAHzmTwf5dvf+d6NQhgs4F9TY+RRGDHbo-5VQ9IJQoWwQyogZC0+dHxXY5DW5HwFdnQrYUll3CGbFeVqLXmHzkCB070MllNJ79Ks2BHwKIuhj4F8pRBDYFMAYmMhkpN-JXH3BUUcdqpPmFReIuSb+5t0bXdafDJZA8tpAl0ooB+iRjsc2GLuWDBovml10JQyUtGdvxHFsTWx+rCiNfPSTk0pgtqOsMlKqmdAB4S0-4CtIWAqKIk5NRhfONUgsJGFw4zxTqADG0TW5Ci2QFbj8WUIVF9CnoNOIDmgSYl24-scqKfn1MVxtHVlPcHpYuKQkYSLJQEvWnJi1xZgDcdcPiZFK+xhGOCWYAQnITbAWEs8AABk7aRElxL3CykQ5yJAVZKXFJSX1QEpe-BiVRU-H8SeRHEtSZ+ODSzK1llgQSZz2EnCKjQHHCSZUB2WyT+lgykZeAFUmjB1J2y-KXMrYkL1XJ69MEQZH0klj1Jxkqnj+LMm5L0gsiu4FZL2E-gwxny9pRlTQ5ArRAIK9pdK06510dl8U7xXGXvB7C3J8gDyQZECVjULiji4RS4pF7uKEpkU6ZUct2ULLgK+YgSPohqVuLwpoow8SwBeUYqXhRwzktwoHiPV7ory0+iEJBGpCe6C4BWBu14nJIGVPIiKcsmhFIrHlCrJJSip4X-k-SnwzrlTBQaeKFVB4EJqqp+H-iA6roQQJeLMBbpdO2qg1g1A1X0s6+k7I1SQGFlPj65xDOELSuqVar6WLo5lRm3tULA7ORoFVnqvaXzSLg6kkfpaN0VXDTUwEvWXqjAlYCY180lQCMTU7iqhp6a5iQ8jTWxp4OYa52aJKpk9AP4gE1SN8pMlZqtJtAVHh-CkaHgywQUlRO8PTo+QIVCIpLkbjTVwqAhtqoIPkCwQtcO1la4gF2sSCD4BeYLUSZoGhG1rTA4iUSd6tg7syD5weZNaYGEUiD1JLijaeTR0mex0lSiw4JEsDkZymJNIcNfMsLXvwAJpXT2GWt+WmSL193GtRYFnWbYypTa5SPKVbVHjSuErfKSOpYA9rAgfavEO2rwLJSANY6s0BNPylTrOqM6+tdVM+GLqN50sdxPJzGAiRqpIxBtYcALWRrnF+G+piZ0I3Zq2GJnUSRWuklVrjOmG3DQsHw3SxV1qaodRutWUFqolAdCoGKqHU5I5JaEjCdhNwkESblaQfjQpKE3KSxlKhSdchE6rcb6NWOUCSeFyCRMp8rMEjflK3UUpmN66hupuqPXni2+0gLDY8s9j8arloy22BZuGWjKBxYLZKXBseoKbZl75JaCppyBqbBF8qXHIaSBi002oX0U4etgSGzQOOkODYAFqEBBbVFOGMLVE3jyRbcIkbYLWio14xaomQsd+sZSi2L4wtkapkvFvU3m5Q8OW3CDFr35gzvcCW9hGVqEApaF6sMoPNlNECeAGwIkGpflu05Vag8weSLdQFWlJb6tXqz4ZGq3L+bAtQ22+hCyDUBC2G-W1aYltoC5b7OU2rhNQpmTuqdV0cUYGtrRjLbktXcqXrNsSAs4QNGVXlrCWtWeL4Cy2gbexMmUR8bAtNe7QsOe3JaRt+q+Ib5tFh1bF8f29beUpHhmjapsw1oaCOFVEhrt22yHADre10AVtP0JlZ8JNAe8cqnVHLa9vjwA6jQOOo7bsRO0sr+052lTYwCu1VLNVOqiys9vu1F13crW06F5GR1fb7xbK9yfZicRKj4q1vD4KFop01KiobWoRpTtpabMfoXCxEgWNaXFjIVwFfwGjpZAtKixzK38vLv3ixBScqO9IITuJ39qTwQrcnW4AbAi6tay0BnQoDp0PpuJUjVGDdPApVKNBWhX+jTSpCANcQ80x9oG2DZRwmdOu2GJ+TZ1YqOdZoLnTZGt1YIlA2fMRKQNRj70EWSOigfvXMTut8q6YujuIAnGTi8CF4Rji1AlHZkFK74IEi827lo6Twnu-9i9GlbzMT4Uu5XQZL7kfNxl0gJ3jrqZgk6K9z7VKIbq-AKATdn2Tvd7soLGEP4SoAtpZTCGewAAnP+FGgT6zKKu1LVOwJTz6KIrkikDqhUCaBdJ5Mk9bWUIz3l05yEKwAUXSmMyahNgKyooDxZ4sGoaAe-UBrZmob7oq++VioEVk9BV9zK+ugaERGBCb0N0KwB+AvzmyYyaQL-evt-08wx94wS-WEIcVmKzKlimKM3BTWfbg1io78nsPb166ZA5i5A2RStX86bt0ERAxYr1xWLLdBKSDnYBqWFQQNDhA8OUDhDOMPZskV0J7EHaPgtgBbGg7+MNCR7iAIG6hr+ARXHrkI2ERgMwc1pVMT2cIVosK0h6v7MqRemg6AHpYF9hDPULKuPVNCv69W2210CFE96VR0e6sedcp1U6YhMN2MIw5D0036IcNlGijWmrqV0sP9XA8xEwbbIdRZDqka7FqLnTn7jAyh98GEcvLUba6NhsYNobCP9QTDAidHirM-1wGzKGVMI+EY0NZQGAGRuI6jwgMljeVGK7FbZFD0gkDDouxOVHu2DXBUYroF0VOoz0EBOqugKodDtF31Ha9XgdcTLoRFVjgsBHbzSVtdjDA6AN4HVPQawTbrDVnBpJUOx4Mjs5lAhwycIZhKiHjBj5AeDknaN0tJcdetpX0d2jGDGSzqHwiyWHJ4FrwvraKSqgNHyBJAmTXeJ8zRYm7DJJA2o0oE6PeE5CSO5Pc0ceqtHOuyy09SxIjXfao1G-RNWshoOvG8WhnRQJOIAA6WAQjfypEiWH8AIxeJprqqp5VJItkW-XgUkPMH2O-4GEzUrhPNiET1Q5E6iaxl64VOmJxgPExUKEAHCN0EJqyc0AAAvHOqAGRNRA3lDJuiFib+MhNeT+JnyIScYzeGHADaU3iNFDyjHxjx4OE2ieFNMn4mW1JeK9geMNRSgsJUgLCT5aEQ8WrEPAOSa1Vqn6TGJ0U9qZtp6m8CBpjfMaelbSn+oQAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-WantiS7XtSMcNUetMIvq8xBuYMQJGEBhtzBM7KB2Pp7jEBagsGrC4fCAAyTHen6QYMZHdlEfB8K+oLUAVvIBRiEBqjFoSZbUnByHodBR6rLoKniBq84QZcQxfDWu6GHwUbOep2moKCuZ9CIz7+WBy5OMGi1qDEOhqboWH5ao1GmfICHalZnc4as1X1c1nSgawPmmTVjXiC1obBZuj7ztfaW8dlpMhi9uWtsma3bfNh2ndwmmCY9paXBlm9-fmhWyeV1JjSEGcKmUNhyDK+hJeWPWkZZmH2dAcFU6djOs5zugeZtpWPPL9OTCrrLGAFoW3aeqOGZjv2fdjn2McD0nbcbhhK+z1uGHDvPYk9kY48H+XE9twbq2O8Vx+byfUVnmIC+Zo3i9N0v1+oTeJ+r2vbbPi-t+r52O73+mEwHu0387wOg-r8xb7+LfM473KjPSO+do64wXj7eOw8zhJwGqkLOa1hDkDGgAD0IIENwzhn4HwNkXNmJ9JJUxYMgtBGDiBYPoNfH+aJiGkPXBQamWhSCGBweAm42J26uxFmLLm3AP6AxXjQ4EdCUE3WEL4NhPcIGDEXnaIe1s679VBqkESQ1mBaEtlIhMYM8FHwIZ9KyaiPhUGIJbahyiXBqOIOgzBhhsGgLnuAgRQ9SZKPJoNN43FUQ-BseQyhdBtGM0Lvok2hjQDGSKGXeg3jnC+NsRQ+xVDv6WJUDEshpAGDkPxjrbuCYYYMECDIEueIUnky8RkhglIglolBIUyoJdSQj2ERUvxmTOja3dmA6RBSiklx0Io1eqRjDtEdsoCOuTuk6P1obKGx9wnghGbWRw3MymcQSsQIabRlnjMemEXW4Di6LO2WM7m3A4ZhGaakpZpz1GmMtqwyOsQpmBhccvK55MqgsJnCYzRjtOmUH2Xk15XsLlrI8pgn5GizH-MeZ9IFLyXDx0ubAoZY0FCaFxDclZeyhIF3SJkXFHzk7Q3WFC+5-zcUHOkW9QlyLE7uJJewDwXhn4v2CYfOZBi5pWWZcoLwFjyYbIYHy1ljj96HLZuCUV4Jzny2JR5UVIr8ASLZfPWRS8A5uLRRoQgIJuS73Fey5IMz8FhJ5aXXV+rW6Cs4nzDJiSHGTKcdIt5WrUXCOzmIOFXSXWvz7naaBQjUkOQYF61hRAEV+uCQSrIkbwXmC+R8MNpBprxupf6kY8aFXmEhSm71+h03AqRT7bNsDGXwOntnfQfiUbgN0bM42YI-FWWKLXCtKiGDVAqKg8U+heJ1ppcMygx0pq+xGAO8Ie0KapHXuOwYk7tXCO7TYhgRJRb9qoAtRs3RGQywHUxAuc7ujhFKOCNtoBmjdCXaktK6jAhUxxGybopI6aNkakCNKT6yy+CaeSIKH6wLBnHPpUAsbL3UhvR41RGQJkUq1oO6ZISuVhPg-DUupBYO2obvQTOvAkmBMwxwRDILIF2iIw+HNVjYPKtVRRkjJq0jvW9oGn29HJgrgUlKzojlyC+CZph1ZK5mgCNorBmBitrmUGCJsi0xZyrVC7TKVB+g5PaWcAtAcg0V29r+Kptw8n6CTDpq8egVJd1Ah02u8sG61OoiAkaMzAhlCJECE7Oz5Ujr9DEpElYd6vOPu6GbAz6n6CeQCwoGq6F+A4mC1pVE4WR3edlZErCHn6DcCeICAAfCoVz-yw0hdihFx8oAKIvnJOcXmwiPgycKTRxTOnsjibfU5ngVBmEuCBG8PDBHmvEaYlp1IOm+28U68ZqCpn3gCAsxTZT1ncQbrG2QOgDmGiNhc6QNzM4KP3u84CXz0x-NJcC9sDDsHEsPsi2tooRVYvnY4Jd5L+FnRYQo5l8IAJcube2-Vjge2qalfK9GSr5bbb4c2U1gddMC5HROvOzdCc3EcAEAAFQABIAFEGAAEFwDgExwAJVR5AAA8gAOWQECWNJwO0uBkJINQhX4sNUR517gcguYMbKMYJTPa2cramDMcQkg+c2KNul94AukhC6aCLmcnQFyS8MFR+XYbMjM8M1L7nGPsd44J8TsnlPVd3p0xLorrPlsy5h+A47V39BWfXcUq3q24ta6e1TdtdUaGNWakoKAcBEDIHQN1PEcDzDjRrKYkujtKx4vrcMyMo1I9nkmqdeWylSjUk+spZolMJYY0z8CW60lH7cJAS7YWos0hc0BtwWPsuVIzqqU5tOACW6Goz86UoKeW-Tbb5fVuMe6Bx9z83v+-3B+d62kX3vE-NlT6dRahvY+VZYItpSwv3eWinmZ-bLRJ8V-OjzynGJ1AfELjaY63OW-FQ993148-cTL8JICcP0fx-m+IJISgq-b-b8rClDCp8xbiiJZKTxMJkA+rzQvZ6QNDf6kLiKSIYywFwGFBH6Kgn5bKjI4oAHyQ74-DYq7JEGbK-IwpazQHWD14j6N5y6DSiqAyz674MGH40Gr6qLRx3J-JayMHb697GLQoH7hIYErBYFWrUAGpL7zRF5WqSIp4dBaD6D2p-59YoEtA0GoGrgFLV7hysLhp17qFx60GrAtBbbBAlw2R2QOTOTUi+BazkCoJeQ+TyGmLtrByEB6qSLIjcDhpCRDZZLHQKBP6VibIgHIgTaGhBSyEBHUBBE0AhEMBhEOA+Gpooo5jPj-D+G5AYr4DlCJE0JKEOARHrZtaYIZDFQuGKH2pIGFGu6HZ+g2JaAiBjQj4Hj0BaL1FXj2oMJczMKsLhGaFoGFDhqDFDF5g0ItGVhtGhxgjhGlYSpDr1I9xVpng0xlFsDSGrilBqLhx95NFgjrGbGxjND-ShjLDA4mamHmS1FWS2T2ROT07CKUC+AkBOGCAeFsC+BRbkRg7CLaGjS6E1roKGDUFx4mZBShr6F+JLB35gbvRyTNBYSVE0xJoK6ppAmEBhCglUGdH-ErG1isJ5pQnAlUGGEMq2y96P4X4Or-7CE0E26LEjq1g1oTSKGtK2IBG1AGEN7GElAEGp5snpJtJ96UHYnGSmSsk0zskYLq4AqkkN5QacS94kF7LYl0z+FmKYrYE7ITJzQTCXELEJinGaiVYZEUzCgO4IJkpcHkEAr6mTbTBBTIlKEHjJpkFCF6lUEKmmmRgVYNhtaonqJzT4kSgRKxjOmBnumb7wpek0FMSCgWmDQ7EMQunfJBkzjhzFF+hBSRmfQhnxnpG+kg6xhOm74qmdF5pRkUG4qcDelZig6Sbkx4kOAhxcniwULc60pZDtkwn4GxrCbtYHgQiQgtnr4ahwjcDNmcxjlck3g9nDxkQRKNmcSGDciMC5FNyALVyUHqmJmJ44HEHLwGlpLTbZ56mMgkE2kPKAwFmGnBKanPHamnK4qRKlD9nHHvEkAiBGBrkiz8Dt5AJmaplumCHRmek4ljGrlCB-mbkd6s7CrlljFXiVmgXVlgowKFAXEOl3mMZjyL435d5+hcY7h4X3xTxcJ3SCKRJYHz4AXVy8FbHAhsy0X4VtyV6fy8lN404Nnh4uC94sF0lglQSNhIGMhKo1EYxMSNjdh6gXm-kbl0WtysJIE3aNijn2Lqy1AfpMXJrV7qX2xckyVpHRp8WSn6BIGjErCNGOxQyx7TFaJGXcD6WaWhDYmDLCL8GcFVkApqlSzsK3CbLJmrH6D1HOnWKv6qHyyWVoQ8mKkeS94hwenoYN6tannhyMjOmJUFYgJRVklMQhxl7CwzxZVOwUWfz0SrHYmHrgLhxxUR674sVkXT7JX0lQQFVlUhn6CNVbnkXsV14rjOndVwXZQ5VbTYmjHek6gxB078kinMAVxNVSG+XkjtXsWdWkU9XFZ9UoEDVmUbXDWMCjUwFkkTVxnlre6WK+7yD+5tRB6dTdQ6C8XN5Mk0yoLc6OHiTsiCZ1WiQBX5GWKbqMKSBQHcAWVkkMn5JSrZGEC5HNF8wpYEQ9GQEsKg0qo9CTUzWeKKAw15FhGdmmqhKzFWTQ2w1Qzw0JqPGWLgFA19FKHc69INIyDcClKq7VFo100Q2BgM3FJM2gB-rVapLKGtHyAzEc1+U9J1J9K80DI-WgDCpBXMlvD7H01SoK1nInnK2q5JmcEzyZmc2MacpNpdUMRGI60MTYa5pm2rF7GUp63i2Zoap2iZnuWpJjJfD2JTSTH2WUopX22Bg3gY22yBmc4Sy+3-rOJeyB0eWODu2bIsBeFA2+WFDh3SJYQh1cB5WwKNiUCIwPm4h2Ui2WyMjcUzXAFA1GDsUglVgMRRomWDmbhlVV26EU1NRA2FV6hKFA3PDJ1xiupezp0t3p0hn9Fd2RA91103gD2y3WXNEF3tGb6V0VVV0sDrCbJh2935KOxiA50V0dz7KfUcBTQ72ni9mwlYRl216N1L2kkr284iGiHAhb072N3hAAA8j9R9qgxteonFfJZk5h4IqOt0ctQgvgggqavADyTYHx1AtQzQ4IoAAA1GGUMXDlNEKMgZXeEMg7KqXEgyg2gWg2IBg9-RML5qZGYZuIA8Awzo5OA2IJA7CtA3qrA8IPA-g50UUEQyQy-fg7gwg8g5w4UNwzIJIifeSX8SXliO3Z1WVctUiNHZWNDLdNiOvdMLbFBYElfdXT-ceRvTGsxi-UI6BrHso0QCFUheoZnPgB7WIF7YXT7TQb-ZgbYR3ITDLEY2MbMF7OI8YzEM0Joyxv+FgzaE7Z0BMLeWViuAOLHoTDnWvRio+XPTMQtFZZQ7va7LcXQDdOUGBlzN8U+EWXo7EI2OnYyMHeXXWdmeAoE0PY3Z3VztFV0W3YCQPTdphaDvo3xSPmY6o2dcuR5KtR3LI+xRVfI7EBST0+iH00JSuBo2uRk3dE3eE6k46QnkxoSp42hD3lMyoxY2gW7TYydPY-PTwTyZ0QE+xe46Clg0I6UPBDLCfRVc4yZNSAs0RCE3+KQ-MekdExabE59fE+ilqck5bKsw0P-Q3aM6XLZDkyIHk9TG8SVVbJE1hZEqU0DeU66TOOnTWmdSWTUws3U5XQ09TBBZY0Pa013e0zmJ03XaY9M3i3Hm4hdQWFdS1AHu1MHl1BgE9WjIEcEaEQUeERmhynoihrMckaXBgrEYKxbS4DK3EdQAkbEXqraUPiK8WjIkE7UQyoVAK-EUK5dYyMXOmEcnMLg7EHMKuOS0UEchyJazEByDa4MUchhI6-XS62a1KjDB6zDF69MEcl2bg12c6La4UEctxIYHqnxrg1GzG2A4qOG7EEcpC465C7GMmzEEcjcDnWGiwIYLKrm6oPm41CsFmzpWCOCIgx67EPoKgtwL4J9rlo4cg4mxW0cp5LWzEPW42826AI4T5O2661KhOdML26AE2zlgO6AJCJOzEB21KsAN2wYA25O-244WAMO96zuOCAAKQrsTtTtfYzt7vzugCLu7viS1tHsbuExNsju7sACEkoN7a7x7LboAL7QID7O7Vbr9h777d779MQv7gbUqr9AI3bt707jhkHoHl7Vb2WgHfbsHoAuWCHj7SHUH3ARQMHJ7jh2WQI67WHEIT7K7M7hQJ7MQT7sQb16YBUbWirgr-1BY7dH6K4HC863AzHhrrHqIKK+rsrfH9q+ALAAAViYICgdisFx8iNO26wa8q+rQInMRW7dkpwkXzCipFEx5p5so3NpcXEcsabg8aep5Y9m1KpAHQN6Ofl8bhzZ3Z88RZ5Zzm1QCW7AJAI68WwwF5655Y+53m5jh6755jgF0hUcuTuQOTiu9F+Ti80MYx6ebx8p3NW3o3TJ9MHJ9OzLDIKSalwkYZ8l1SIVwZ63mHDXVlw0Dlye6pxeDwPp+lxQWmDNdEWV-x9gt4fQ02tztEYpmqKQJ8cc+J+QNWKucdJoPs1eB16qxwJbBq0UU00UF6r10cEUL8dcvGIQCc6LdzjPbZcLac2CPUbqjZf2k1-ato342uE12PC-ct7EGd9+R16JxJ1J1XTd418J2l2PM3Y9067nYk-nUdyk24tnYjGIF8CvZfqD0XUCNONI6C5Sq16ywJ63Ry7dR1JgLyzNUrRQKYAwKMh8OVDcKQKyvPvjUxmtBtAIpTxxoAdq3IlkPT9g6XAwAI9nqOsQ6IwjjeKzwOXT9nOfH8MGuUooDcFsj0VoDktz7XThYIMoC5goBkNHkYD4Ur-241Mg6pkr4TOCAg2egg-A1ZPg+QJrwDysAb3KnLy3eQpQM8TNNzykd6i75yQ71OxENBCnQmEQ3wxCPg9kZL8YNL1yVx6t-b88S7-qTg9YOCKrpH7iMwgoKpqmlT7Gqn8jJxqXLGrpK84NMXF6ljJjMpJaRs1kDeEX1OjtEzz7FX1++pG2ryaUAjkX-r22sZKUPj+bzOMT7FGT6ykX+KQYCrDA5IbnG39jL5vniiRMSodglX842egH8g4n0wGQCnzLPoYvxw6uAg5zx1dXu2bUWx-PxP2n2z75vv-g2v8n3z3X6kZn1-Eg1f3H8P4n7lKCLg16jx-EI+cnwz3z6pA0safbPh-3BDutJybMLfmn1CZZAq+v-SQP-w368ksCRDJ-tn3BAAByTnl6j4Y4CByIjSREXwT5-9cQoyUgJIgoGe8feBjQlNTBp6bgZY1AiLleCORCBhA-DYIPwwcg6Q3c1UIxFhkDhgCyBCOFgXAP0DiDGuSApPigIHIf9mBtYSgaSRvBSC1+LA2WqN3G7KBJuGZBiAEQ8CJIMSVPcQuP0CS1ps+7Asfjag5xz8Iq2CWtJby45aD1gOg6gJoBDIGDxkbgaPsYMAFN4Z+xgywVKjbTnI1qR-WvLWlQEtB0Estagc7HsKoIvBRg2tLuRH6pBTBQ+KIZcVKYTEyqjIFcIf14QSxlC9g3OFEILL6tDBBmKGOGnigaBJBSgrFHYWYBJCME1QqusSUIA-McyeQq5p9QgEbg8+wuLCPunkDeDjAtQ1IqSQETtCJhEuaYf4LlxXd+h6kX1iII6ELDvUA5FYW4wGEuCJu7gvQasWGFFBSgadPoR3CcENCDhbgjwbsTmGJJfBUQ6IRcKppyNGumwqYd6huwXF-Cx-bIQ6SChHJQhrjbhBENDroIgcZpIEeAj8QBRNu5MZ4iQGMH61m8SJKEdnxlgWCH6kLDElk3uI2Ez+SKF4qslVxK1YUqIv2oxgxHdDs+AdTEbiPSYtoYWVhB4jEP8QEYNasKNwp6gtzZRpMIqWTMIAqCDBUh1I9kKSNREDC7M8fD1KkgGC1D+RjAGouKNoG9wRgFI6shUMRHrI-qLAbtPDnnwVVzwaIrCMaJ0bnhVcBokQMc3nzmVDRU0bnDLBtHcQnR1ox0XYxniuiTo3OG8D6PdHyjyYAYuxoplxYWiB6aItsJ4AjFd1VcB3Y2hvGQiWiM6kYiUefX1GejExIvJcCmNJJT1dRA0fvFrHPiKEWR6dJytk1JpVpMk6gEQBwFIALRR4RAOQlCOPL+E50gI9Fm1hDFiVPRSmRIpU3QQc44xkSIKL2M+rGlOipQBwHCyhjrwGAdY4QA2PxGt0ucFzNJIQEkQhjOqIYn5uRDNL+FaRWZZ0EFCwi5AtxCOKIdwAvGSIGR3Q-cWVhhFji4RsQlcGxHVGbjWx3Q2WhFjDQeEbKW8LOL4C5KGA2QFQYCUbEMCvoJRXZIwKUmz4QS+MUE4kE8HkEbgEcYE1gT2y14nYFA-4r8lDCQkgTZe3mBCPBOwmWcigxElCWL2VhawyA90BIjRPxjgTIwyEqGNBPT6GMEJjPFiUNFQmvCMJHjUpJbyywntqgzCJiQvnYkkT9A-E6CU8Et7OhxJuWP8URFKQSMpMV2RIlnFmgNDuu8vY1E1D0lNEAcKfP8XJylYRMgxdqUyY7HMlO9vM3EzZnhOb5wlMgA5SSYxP6DMTZJXJSJB4zcnLdVJJkjrA5IixOSqY5EkrFpPJgHcu0o0SkKCFtrC9xQ3AZBOhjTHkgRKnovsbaM9phjy6sYrnNVWkQTigM6oWoNnwTEWjMpI49cQ-RdwMBc2-EHcd6M9Gkl6pa4slrLWamtSv6vEDKVQAalks0RZTAYTICTC1AEGmAqaXsBmkDltknQRHMNKejZ8ym01B+mvGrTQ4apqCJolDCFAikUpPBIaVxBGk9S+QXk4ARhOhzYx0RGEzKe5P6mhQv6N4AdMpJWA3hnpX06YK9L4hf190W6P6UMRli-SvuBENpgOXBDzSOAnA38SdBRzZRIpb1M0RhLXahTY0LtcpH0H5RhpGAkufTCzgyygB4h50+IdlKmxUgBp9SGkBsUZAAz+I5My6ZLm4CQyCIlM0cV0xAaAy6Z5RfXnDMWmM93yrzWxsjLbh4SBIb0-mRsRxl2pu0muULFLhdyjS6wEov8TID0lcdDsmUyBjlk4ZqATAXgAmUrN3h6zLI7WB3itjVnYSGcfM5XNLjoC2zFEKOOIDRlyAOBmEjIAAAy05bYNQRyH9lkzWDYo1AQYCjA9mw1vZQIXbJ7IYmkB8GeIMqQmDjnRyyAquYVIHJrE5iaYFo3bJkLDmQRPxWEc9Lgzew0ZC5CmYQBINZ6y03MXMHOeKGGyEYWswlUopXNDnVzi6xAIOQXK7nZRw5yUckLbCSybJeMbAVlGqJWBHpq0qQ18iAzuDZz7RLI-uSwzMFdpUw1FR6UORxFEV66ssQIOPM6CspsRUIyiYUDHkMAJ5rKe8cII-Lwi6WCvK+TfP6yMRCx5gCoIRNSDlDhx1dJMbmKpkTMniR86+SfJrTgtzS6QmsRAsgUJkDAy0lnmlOTEPhimwkcBC9UiaYVnxBEESvlLdGhjGAuLVMdzLQjjjCYU4oYqUCmlRg-GzQF+eAvakpkWAj4jptBDRYEtFiSJcINOK+rEBj5k8q8cZmnQMLBFAdJYR+RoXGBUWT84yaIqnlQjp6B0wCcdJhpYI9MFo08LbNSpUgJxoAHcUVNrwlTep5IAcL2O-ZBgqpxcmeeAgcAYMWpb0h0QVK9HMLOp7MqibEC0VXSEQBDJ8UUw7HVpTwE2JCngEhBhKVwuU5xfguOaGKJYXigsTYvKl5SLFlC-eXYtEYOLAZ2Y9KRzJiBMLgqe4lCNBFQgD1t5tU5BbmPiWkKDx-ii0l-Jso-zAkXi4xagoiCgBQl4SxJQmFhnTSEZPpSiNhWMnlKAFGdKpaVJ4ozV0luIAaf2j3C-ggFCvCaepCFmcC5pvS04SYUQWzKeOpIDaUDRukwLCApSXxX-WUXNFVFNjexHpiOU7LbZByudIQFfT7TDpiUrJJcuoDXLfwNy7xTEA6WQgDlWEI5cXx3mYRdljPKZZkv4gfTRJX3D6aSFBmxAIVMy-dDCo8UrB908K3JYqGhkP0elC0vpQM3MDREUEFGN+dwBZnWykg5KpoYOK5w6LnM90RgBRkZANzqYTcv4C3LfmqU2sEKw4gUNXBIrHFFK9nLkp6xng+smcfoEyvEwIqigXM8ZTzN5UUIBZk09Zdn1FlN5kSRPJoW-NoySJJV0FejMpPFmSAUZUspVfTKRzlo3ZuuBgITmsgAAZTHFTg8lsB-Zwie2UzgoysJVZPyiURDjFwqYXc7k03MpiNjeqnZ0Qu9IrmDmsIW60ajXBGp1xY47Vjq51SblFxm4oYEa4NWiL-HPdBgh2O3N5gdzzYncka2VYUHBAUYPc12AHsWsfRlzBBj2CLPCHlmDMPiuIHNeFKpV+rPxms7WQ0MOzMqT2nDYlcHLJVWz2c3igHp6pLbdrKVzs7xe2vMD2IMU-2agY0LIC4hfVdTNyXmrwm6SqAOslYBNNyyRJ81AE5oixOm6rhvQSokmVLmFU2yZ1nRUKdEQjXPre1bTUYnuquwrrTKUeLQNqu3VbrKBas8ydujaytB5On6SQLLClFSDwQWq6gQU2MkwaHAFC8COOGz5rq1WIGygWBp6B-rnJA5DDYEi1GAoiN+YtuiVllqKjg5IsdpMqOJla4qepKyXDwsZ4MaONyo6IQxqJmcbVcAmljZxrpi1ZAgZshTIwCaxCacpbWO6A+q1zaVbV+uInCTgpzgAmIqm-HOpqNwuq0syoj7NO0U1SazMN2IKOCAxByiBa5MHjbBi5XibpMkm3bI1mUxcqpKCmtgNmtgwqaU19qp1VpvJC2qAtzqxmRhPewGB+2pm71RZvARWaBUstQaHnT7zicCi0JFyVkAy2s1sWqWpWBiSMnqoCtLdPNG8DS0ohWEGWtEfeJRS2aSUKWqNuVoLDFa0RcE7LbZI8iBlGt+WqrRKLPmYkStFCdOCkCa1Ubetn4mrS3RqBiBTEUMTdeNp5n9batT1MrfgGqD6AytSsKuiRsBytbUgKWzbQDUO2mBT6Zwq6eZIHKrb1tpW+gKNtYTHbAUF8mIChp1WBkHtG227VtpxKLkxiO2wSIojuzggOB-DF7dutwZXbVs7q1JI1rW2BJutFWiDSVj23AtHy8O5rWjse3qr4S20hOdJKAkcTb1zoUHYRq60jb8tGOrEudpKwoQGgoUmHddqG3jwydFW+SczpO3fahif2xOIDu4FWRidDnYKIYHE6w7WuAc4gDNsUIjEqd+6jWYeq1nHqh1zTLmAbJ+2ChUgGffnfoGm2zaCNxA6YZWsVAmrpMks+3G01sCq7Yg9zJGaapN0lrSlxSiDLGhp1FAudpMQHbwJB2SldduDbXVoFF0eVUEJgfgDTGnn0szKLIoFlDzE6+I4e-yADaAFuG6DOqUurnZOAAxy7B12IYyGeuMji4XMihTSPNRoDR4buMAn4WrNlVdUOczbSGXiMrDuK0VrIwkQqyoD-y3iAjLAMUp+3ghE9RwkMm2qX7UhrdxuxyaUr9DNAnd2e2jW5Ld0xYe9Y3VwUnvDie6gNmyVDdwF733CGIrXRsDcCSHxtgJjIAAJwnBbYB+vjI5KMln6eIwE8yV2mYQzRuAq2dsXuXL4zQTxrEQ8RaS6xSgfZcC2IOfskRYCsBVkNAGAbQ3YKimgywoIAcwlWrYwgBu-efg2jqSl4pJFwD5BZrvjZFiBv8cgYbrcA99TO6NsBPj08Y+MAmZkvbBkyI6Zdn4v7bPqrbkH+MTAQTCvoFJr6mh3-NgLxhYMvV-dqSR4W4F12lqioJ4MgDdHsQud6VZMxkPEIFiJDkhbgQGsYFEP8A+GRwNtYNgtIhFSAkh+zg3wkj2JD6VsY8rAfBDeQfIQhxqNQLmxFQYglh-yCcoAM36+MF3GQSIdaDHA-FAyliAOElxMB8AQosNCKK5JeHIF9m-7MEDM2BIRNj6vVZIMfEDhdD+h54oYdLjGH-k8INBYLoTYQhLD3kJkFrkEChHRABR7yE4awpsQcF0wcw+UZ8i2HDijUeo12xpYxBcDUsi9YepPVoQc9QxdQTqo5mF604pYmmK0Ar0GB69TUftkYWUma7xjQ+qaBLMcnYyMKtLQlfTly1CBDAjkDaNUCKhQbTyrQOQzSoUOtClDPq7OKof2PqGcGmh0rBiy5jaV5j5yYfWavtyrGU5dArIOnVO18lwQDkXmWoBOgXTmAskaCIiTIEiHhjJY6PAsby5A1KdVe6Y9OyML0aRRMR1jcrIWgSbZMyogcbJr43aaU1amw3JpvC1Dk2ZUW6djpoNwabKccW6RAlps04BrDIhrAXZn0BoqAAOlgA41XqoYgomQMEBT5O7J2fbYzGhBAOnwJDNjMkVgDZObqOTRWLkx4t5P8nCJgRxIiKc3RDleAJ4Ukj0Cwj6nQAAALwa6gBeTK3AU1qeFOkAU+UxnoOaclN6RpT4IFI3KZqioQbYWx94Lsc3AcmbTQpnU++ygG7tyA-DFgPw2UD8NOBkwLAWmDwCKmdVgZzU8GftNHswzTByM9GdjNtq3T-kIAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdEaYKoHsyMRRGDfXfMEOMjFhTAiQGxgENsAR0SAkuN3A+nwBRDOgMQgIfEMSAZdnU-g3IfU1JxZMRgB4O4O3QBTTAig2Me6PDkRgBCX6fXMaukPkDRCCh8TdoRbxyEsBgsnXKASJEQji05EVkQAeKGhhwCDk5NfQUIN-4N0ABzDbfhAJwFWBphIPCYEbwK7EN+hm-f5JoDGESCtBMbOSlYwPB1hPK0ffQfciMF7D5ABw3wp111AnCiw5wvoo8JuHjD3Ce-N0s03wBXpioGxXFr8M3j-C2GRXPuG8NABjC9A9TN0niiOGYDjwjw6EVsKXrz5BhMkYYciAhH7DNBvhLJnYDt7yA9AqaUFkdChFvtWhpwxIVHz6LbokRTvBcNuihEMiBelI54TSPlb0j76HkTdMyO5G2RgKbDE8ECLuB8s-BKqO4MpwZT1C4hZeeAWC3apNDEqpOQ1rw0jTJhMQdYQzmczM4vBNAubCEbmwmH+JyaLwgbH8UUiexHhBoM4RyING3DLyYreYHvSl4GQjR6A5Yb62b4BUsos7EUSCOIbFCjhfJSUbYhlHxMzRWUVUXlwcB-8Jg1IZvESL37GowSnIokdGJ85ZC4hSXfHqVxW6TCA6OSHzi11zFFBn8no7+Ab3WHg8-QpOZxHQAwGg8C283RoImL3L8DyaSXT2CuyJEfJfcOiFrnoE0a1NnESXNZJKNABjEAAEnbVsAABBcAOADtoAAlMYpAAADyrtZAKpCMKoV8AZgQLqZxz60JrRpwu4QvUICxi1+NINsTaIhaZjrx1IXtrqLwS3jThGbTMTIEqDajBgUTT8b3CPFOjkkC9acbOIXFLjVxG4rcX+M56Pjnxx418aeMsAL1Mx7QlCE2NsAti5sSE4gDdBPA-jiAr4doUQIhxr9AJ5nZJDhPPF79OhLQkIZyQMhjCFiNVC4oF0mA5BNR5EvCExLL7HCbR54lke8W9FcTEJbI+qLiJZwTjJWcdEgCF1UgAAGYwqNCKg3hqwCkNTq6wnCUA0E5edSaSFkkHhPY0k-SaUIUrbEeAfY2TMZIGAGTGAUTe7CpJ+Bb8dh7nOSHpONwVs6w2kheioRaafYVCxkjybCm0k09CG0Y0wG3Ccn-I7AhUWKOpNjQvd3JmklRNpMMIfE1J+iIKVpJ0m2xRo9Q+4DeBkApgrOywDVAOOLb3RFQIBRyRfwIGBTkpWkbyUglJHHhhOxDFQvlNsCFTpAKYajum0ElRBOp3UlMI4KjYytnQmbAjhELzSmACpRUuKSw064TAuoJkOwJW3EHZkuGdwaidLDymzSup803fq4Pg7lT449oNcu6GK6ADfCkPUqdnBrxSCyoLg5ZAEhmH38RBr5RYR6ILjZxSgcgw3uD3lKhBfhqseUrECGnzTLhhg4wY6Wt4K9vSDOCjsiNsihAIZPU2wZJDKZoyRpvBcaTlAIAlJa8ngkPpO2xk2s+hqIgYc4EEgMh-gLk7aRWR2kmiA6qw0AJcLmFVFwB30hCDxGmHVM2ergpaCQEOLUjvRr-d6YYKQE3R+RQQaoOeN-ANs4Oj8OwAOOqBSxlaeASeFrMdhTDBBqkdmf-05k5kJJ93JaHzKrFg9FYlUxQSLJeH0z5CMstmcIMllv87ou8d2cYEiLNTthKA6QPLOVimCeIy01BGtIWByzNpW-c8R4U1nay7p8aYUX8LFEBzHu95Y2JTPtmB9-ZVce9ASmFm3FRZ0ffIHt3yDq9jR0074Se39F8tARicvPlojECXTwRxchbDCLkL4ieBRc5GYlH6H11qZvJOEHTKLmE1S57hduQOJLldzhyi9OpL3J1D9zKAg89XkPIknGAY5k8duXb2Gx5M00qEMFhPPqZ5yKIdsukcNgGk9A6RC2M+ekEPkFy+iK7U+Y7OWArtL5j8noIKKOEJzgRScnOcgQynehksppZMXhSqw+AAF0MfAupKIIbApgl4xkNJJv5K4+48CjjsZJ8zwKgFzLZUm13il4z8YPLaQIVKKAfokY7HNhi7lgzILoxddCUNJIWnb97RTw8Se6OAEFjZIUwW1HWGklGTOgA8KKf8BikLB4FEScmjfN9GqQWEN8u2Qwv4kyzoFsgK3OwsoTwKr5ywZhYGUslyxiAIssRZXNrlFCR4RwqmCg31Y2hUF4+NGOUM4XxSz5IYswGGNiHxNRFvIBSIRnHFmBJxM42wMuLPAAAZO2tuJcS9wlJEOA8T6PUlGgqJK87TpeKopNi3xyE+pg+KbHBppJESsSR+M55fi-5RoDjv+MqCpK+u2nUCV4t8X+KYJowOCSJAKU4SF6nQ9emgicSoTwx6E+MZhKp6tialKinoBAruBETwxP4QSU0ocUZU0OPS0QH0ocXStOuddapWJKZnTTaJwQlmk4i4VjULi1Cv+XQpF6MKBJTifccJNmU7KJJ0YuEAJH0T0sFWJinUHMtxFZiehNE8MUEPkDLKSyT5NZfaDqWn158EwKoTUI8gKwN2L45JNIrPESSz5SosiCXWyWXKDwpdG5cBX-J+l2h0YoxRcvpZ3C7lCU8mq6EECexixbHGFQawaioqTFdfSdjipID-TqxVs4hqcporGLYVhKkJkivDEZsKVCwOzkaBVYsqHF0Yi4I+JH5IiMFZLbwD2MIzmo9UfQAcWKpZxNplOpgESY1K8lxKCJsaeDgKrpmqrIeH8LsapEfFtKKIrY1Vfdw-hSNDwZYRVdKIcXp0fIQy7IUlyNxArCJxE1HvkCwQtdHVCE2gBMoCGD5WRR0AiZoAhVmqIpH0J1Zitg7PTs5weFQCMQmR6SG6j4uhVioDo4TPYci2BYcCEVpB1VTYwVeku1WdjSunsfVVhPiW4STV5NENRauMntCbVHkO1dmNK4St1JPqxIGSqCBuq8QDqvAtJLbUsA-VZoAKepKDWdVq14iWtaysjUpzpY7ieTmMCqV6SRilqh5E6tta0LVVDbFkCZw3Vrq2GJnAiauq9UVqp8rMA9U6qPVATcJFKWNQqoIkiCk1xq5mbJAqCArj1OSYpeBJXFrjNx4AW2J+sXHfqoJASlQoGuQidVX1lqrHNNJPC5BImp6sCAus2XoLpYt6+NfokTVxLs1QQD+JBtSWexil3ivxX+rSCEbSlIGsFtJNHWPU8N4S98ktFg05B4NP8+VLjkNJAxaabUL6OEPWy6VuNHHSHBsE41CB+Ne-Pqd7iibx4hNuESNjxrjLtReC10KJkLHfrGVhNi+WaHkP9yaaomkONTbhFE3adxNQeUaPHn01CBZNC9UaSZvdyiBPADYESBcs01iaxCSmwjktloC01qAsU6TRZoxXIqMFW5DjVxt8230IWPKgIWwyE3ebBF7CULfZ3i0-QESJKxlYJs80GbEtbsqXhFtyHKYu1GVXlrCRS20t4CnmmLUXWPhqaYtigczbfX82srAtqmmwOpu4nNaZNELIMSC0KgGhyhtEH5WZT+ULhitkEUPLVrxBjafoty5FSaA945VOqVW2KWZra0Waaty2sLTNpBI5aeh-afLbBsYBFbWU9welhZWa3lbglD6IqPZtRheQptDW7TosueX2Y9lby+Ktbw+B8bhtrcOzQ5oZW0tNmSW10ZcQlF2KrV2Q4Cv4Fm0shbFUou5b+Qh37xYgpODbXZG-KsqmYu2oVgdrcANhftWtZaN9oUAVaH0NISYFgj05Rs9+JsAgVoV-o00qQgDXENGMfaBtg2UcG7Vto7iflHldEl5b5Be02QSdUjVGNnzESkDUY+9BFpNooH71zE7rfKtyLo7iAXRgOvAheEY4tRHhm0i8nCWt4eyggJ4Znf+xejSt5mJ8YHTDrQleyPmgSv2TZA53o73VBu39k+1Z1wFiVh23HZ9kN3PtUoQtD+EqALaWUqhnsAAJz-hRoQesyrDrk1TsCUkeiiJ0IpA6oVAmga9cdOVmYKVAZ028oHOQhWACi8k26YEHj2KA8WeLBqGgEr0dqYyUas0CXrqEwyeg8eu5fXQNDdCuhWe1PW+HPzy8vBxgZvYnrb08wA94wGwFZSoUEKzKxCmKM3DjX1beVXw1HQ4od2HUZAhC6fWRXd3Y6FAnu6CJPqIV64SFROglJBzsAXLCoXahwgeHKBwhnGrCpSK6E9iDtHwWwAtqfsTGGglAF+zzjCV-BTKc1PEbCIwBv2a0qmJ7OEK0WFaQ8S9mVd8BTTXagB6WBfLtcYHfBZVx6poEvXq0ZWugQonvSqOj3Vj3rlOqnTEAuuxi4HIeO6pdZjEPXnrj1ISMJJQfu7qwgDIBjqGAdUjXZgRc6Ivf3rH1VCMqaBuAwRLIjkGxgPUYQ-1HwMCJ0e8MpvQIbMpCHhDH4JA1lAYAqH3w1e-gyZSqGw77onQ3nQZG+GvaQS2Bv7fyJF3bBrgqMV0HcKDVK6CAnVXQD6xmRHaTFCrSXObvsXZCVRvQzHixvNyh5hgdAG8Dqm-3tjOOAdR-apGf3Dt39jkBwOhJQO-7-9OG8mj4RySfa7DZurwKGNB1xC-DGiknM6kyMQsTw14L0YFxVSQj5AkgTJrvE+Zotcd6EkgTYaUA5HvCchSbbLqcOPUXDfgx5fUoeC-Ks0e3frdUJEh0B8xnovjXQGGz1MJjwaaY-PQ1Zgt4cD82yBCs+UrSRISx4RgkL3SbGVdjExwANqmMLYOO3Wsobaj61nHJjygcY-ceWMzHppcxhY8Q32P2BpUqxo4cu2gzzGfWEK6483VuOVDzjNW54xcfnpdKKqijR5Ucf8PDRT9LRvFoZ0UCA6AAOlgA3VfKRIJB-ACMXiZI6qqeVSSLZHL14E2DvJdjv+BRMXK0TuojE66OxO4ndjeuFToScYDxMVChABwjdBCa8nNAAALxzqgBsTUQYYwSaJO9GQmop8kz5EpOMZr9NJhtKbxGjBH6AYR48GibxMcm6IMprakvFez1GGopQWEqQFhJ8tCIeLViHgHpMeHdT7J6U9yZGrGn+qppvAuaY3xWnpWSp-qEAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYvhVCxM5CSkR7mjJhByXSTCsRJnYNN2BSiOQxCVt+t4PkcBkYbGwqqiBgzvleEYcdmrKIdhoCGfQHAOvWVrwWmorsWZLkwlJoyYpEP7KAARAAqoQOqEJQADuNA2sMLAbqAAC02UiTZ0WdD0JL9BmoCWTIyLKAFtBskk5C4KAMg7Nu5BsKenx2VWyIwqsyRqeVvCiBIkFFu1FCdaVEZVeVDCBUVxjdBSoi8tsjXNdY-psNwlBEEIXWZj1dXJPG9DrLQdikBk+WaZVU3ULxlDoXdhAAu59QXiMRQshE1DaVh71Ivd6lQSqsHwT1bmA-UNVQ9DyQHQKnq-dOw5HQtgQDTsam+cRMg7pd5nJB4OOWsRHDxl9s4E6Iv5AiEe1MLg5CENIXSLctq3soE4WUJEM1xQlSWpUDKKDKApASHwOV5ZZhXs0YvTwgdHlWKQ3n8mTn4yBe3C0CFfWuANSVcHN8G67V3oeLY9jepc4SRNZt3M3B6sBTrW61SFcNNJ56s+Vr8E7m7Zse3rnE5kVyvAyJFPUCua7mrrjk3oyBvc0YWPWIweNO-Sy4OaNczOfeRPGCpNkyAXydxwmCH3lhIR56q1eXlwtP1-OcIlWL5Kxr49E0aREr6-ehtGA1TU7Fp3CSwPDG0SPvUZ5jGxcqAjPM6zAgK4rnNMGtU-WOIXnMVpik-rVx1NANzeVREp-yefw6XwkXdrEtYhc-Kp1XS7j+MlxgfdIoAAZ33-urM+2lX6KHfvUSeG0OCkyFLZB+kDbxAOXgDAaEC5KAK1rvQIn8VoHxXvUW+dZqKMRkADI2n50GaVYkFRkXs4EpF6K4JWPcyQ0D9hrDgRAJx9gHHMJ0n5r6ZzXlsHYNsHBiMtsJWR8p7bXGigAKkEZOERAg1HRWUHwnymjhHbxkJCORKor6dAAJCuGKn0XuaVjLqV2urFsaYTLMMlOPQ+iCqGLw4hIwIv9ZRsWun40iGkFLDE8RjfqUjuQCm2nPcJZE2Jl3LqAJRgIQgFH4HEJx3l8CuKYKmdMgwIZoMic-Wcr83rQ1oAUlx5Z3EZnggBIC88h6qlofDSRj9GEzk8ZY2JoBiHf3IfEniv8kzFNKSZJSwk-ZVwDDM5pZSHo2hNGaNU6SfQ8ULI2Msbj1mmXIkCTUasZAHJLEckprZ7KbLtDsnpIRZGEK4fYnhscxKCSimPFewS0ISGuj8x6z0OKEOCVqYyK0wmNKKWsjxMggUjOCUYqc0h0QgIMfydF2iZDQupLVQhFChS3SBT7Ron08lIwmCjbShKVrKDxdvUe84o7cLKv3HGUCL63nTmsAa7TpjIKtDQ7Cd8cbJ0-NeU5kpKXvXZd3T5XLxxaNRjU-l-y1jBK1tdO+QipysSAZ3HMhDDUDkNFs80WsZAWo1Vap5JctYhRJZMghdiVb92uU2RFbY-nzm8fax1ZoTU+tuXMjMIaajBXlHfcNzY7ktPsraku84FXvyWkYFV4t+7TOTEmk5OlAnBseaG21+bZn3I2babZzk41k1upWv1KaUGmtcnGs1djEQHXRLgTE2IoBwEQMgdARJNCcvFjsXkoh+R5xZuKDi3is67BNKMNURgAA+m6sLTsYAujdoBt27usKaM0rA5W6GPU0GRexD1bp3Te6wm8WbFzMsqlWOwqiilFD4JZfzSAxEqCwUUgSV1XEimZUAAAyaDoAYgsDiFB9IKGJZAe-R+mOMiVQbpXiu79v6hD-q1dFMR8tioqzLfaR0OGl14cmQh2QZidmYYcTxe10CoMZ3wyBwjHBiNp1ANFDjM5yO9BViJoMVHcNJAGox0x1QbiIYU1CHZsIKMx0k+rVNXHZMMduMx5jASOU5vJH6FZBbI1OV0xySZX7eN-suX86KzbjkmTE6ZmgrnC0mWjTJ2zmwaDyeY8FxTxmOUq281Zh6Om3TjzkwZxTRmzLqfE1hgsDYbmJui5e+Ldns4OaI05kjCaW3UA8yrUrbmo3Sbo3pwL8HEuqdC6p8L3dKuZd9dV1tYq6sBfXi1hwyW3SpcnWZ4+7BwJvmlV+fzkiGv2Z-Y5+g7ZoooWm5eGVgwKsx3W5BdxMFRgxLyw1gC3A5C1uozYFUyhBtqfa7tybqEnoYT6-NgbTWhthZSyZz91geVP043F7j+XgNLaKyt5zAOBnDB22xqVm3ZtvfWA1u7ATWNfPM4IU81BzyI9lXNlH69Ft8YE3eHpRgXPxxx8qJO+PtsRZjq3bcRckPA-q+vPhzBcDticA9tjzOGC12OyDhrXOmbth0Pzr5gv26avZ-1rY4ued-IAMy-fS506hyOePg-48VwT0UUlw6+cKrX-jby1RO5zy5RvB6MT0SE4lGm2MpKqUw3DxgOdbDRyl6XZVcG8pfpbiRCXlOv39+LYO7vBlL2t1sYbaTI-jcSbPEaKS4+i+J0qO9EeXeY4m-0qJ8u0nx4SbIlTMaWGjc8zxH5hOifSIK3rsnMUfkm7Kmb+vOvJlLOiu35QEL89lVBUChvYemPfZGxjsqOwDJGXmT3hbzfScG7vMJoaC+Mwd-FojGbBOl8feU4n0bEnQ6H5959yv93h-ixNjVGQlBw5l54hXp-zu0tsdwe7d-of9PKd-2TxoGjwf1-xf2Y0AO7TAF7QxCxBxGHXxDHTQFVzGwSRzlVA3DA0mSyhQxAXQJn3FjNwOhkFBkOzgmUApW1ToTF1ty2h2j2g4AOj0Qp1CAOw2COwoJe1dVvxTzoN2iKGINwCwOXzB1XxW1wBij4IYKYMZy-2Bn22gnYLgkqmEJty8m50qmUD5x4JoERjHyEOXV7zViQQlwkNAClx0NFh4VpXpUUgMPoxoPUNMOUHVwIPJDN1FTxkphnFUKV1t08KYEd28OGFkILxMMCzDRQV8LQMK31xWxdSEwCJ33JACNripiuSiMMNRyvy1hry9RIC1D7DFBsMxA1R1hzCyPXmY0zVr1wX7Rw0DQcKP1kBqPyJDEoF5F4gwnqOdHTlsWoPXgg0qkUO4N6GCUA2mBnjnh+lKNYmujeVQP-EAmAkUIu2tVHkDmiNYOuCow2JQQ-1qMUOjQhkULZH6MVyC1uB6KYFCIDyOMDmGJVDOK9wGIT0U2uI1zY2pW+mRlmIvkuz2KZVAGNAnEmIqKaKV34FFEAzWLtCt1wI8ihJhMtAUQoiGKINWN2OUBRPdBBM6K4m4nGDFBhN2N0AAB5ETiSogMiVpdkjAYwGAIoZBooAAVbUJYwgYFAKfAJhOgfUbgQyaQEIaKUAAAalAV6TBAXQalewBN0HFMdxFPFJYMCClLFBlJpKvloSbkZL5mZLZMoCRCYGSlmlFB5MGT5M3yFKEzFIlPhjVNFA1NJNtMVNtJVNcAdI1JxM+K+S1F1H1GjRNSowFVcHyImH421HO0aPlEoycVhLNEBKtzIRSBXQr1JPdOjA7AjKf3FV6Q9HaKKNFBKL+kUnZQzJCCowyFQ3k3TN6Q8HkxxIzL2QaSTGv1JOUGY29MIU4XlAQRZCrLwKAymJGhmJLJCO8Q+l1MikuxinilND2kyRVHI3qDGVIQBmCWuOujqNWLYUaAGhbMOiON2MeOdDqV6WuKAROKeJGR7NvIuKzL9KjK7WjjY1LUuyDJnNAEtBDOMDDOzKfNZAnN-JjgPPjKBJxKAriRELTLlJYJjE9H-NzMBhIkKIXWLLKLLPcgrMuwHMa3D1gsBg8F5HVgbKJWxOpDpMXDoDjKMzlI7MUy7PlCWl7PWn7IRImNT2mN+LHK8WTOSF5mnOtVnMIHnMEEXOdBlnKnVVYmXPYX3kgqCQDAxBVC3MqWuPKNZG7JTMmVAovOPI+IVXcgvIeI+JvMWg-kFUmRZEQpqIRGgOBj7QHXgLxFHUJAwEWJajGg6mAmBhej-xEII2W1nAFlanGnICmGSJoFCu8o4DagFOqXmR6hfzuyOmVWCWiomh8ocSxVVhWweD70Y0d2MEYyBDPOMD7zMSKqMDMVKspT7wgyqu2IYFqvyttz9kar9hapSD71vXsEd16tEEaDKqMD7xXFoAFMkEdzGomuBQaGGtytnGigEqqoEsBHmr7wAkAy4GNFoD0U2qiG2vRHqHWtt1FMauMBkA3GUAkBBGyCynFNmpOpW2imynOtSCutABuoyDupyk+qMCesWt0WUGSEuuututACyjUT+tAABuZOADeqag+q+ueCyjAEerqttwAFIEbQbPrwaspMbobYbopcDzrcbkafqESbqMbnqABCFDMmpG-G0AemkBam1q56sknGpm76iG0ACkowdm7q23Mk9IN68m5m0WwW4mzIbmsG3mrKbIaWmmxazIMW4G1wCWhW0ANW5Wjmxa2mhGvm1wZ4IwWm4wTAh4IqdKryzKxg+Q3YjIeUM7JTAQZQDK8KrKnhZ3G2tqGKxGSgY0AAKxKVCXSGdp4Bel5vqtts9sdxSqIBhHmsCA9smmyqKiwF9rCs+ErRyqWT7xfW3kd0LukGTrzPKtt0gEIC3lXAkCKqrprsljLvLoWuZP2o4FgEgCqvbs7ubvLo2rpAOoAFFGr26h6+68y+8AA5FgKehGmeqeyi6Ga2pS1O6YZtR28O+oF2xqZ4eTIQ922OnOizJPTO1eo+9ek+y8p27eyO3e7IFKmEQ+v2u23OjOiTIaEaNe+2hxF6aqOaOI3iyyhrSyWK9SRmMYCQNCoOj4CcYgIsWeJCoEb+uK8YViRKxOwylIAKQBzoQIT1ECteA0UcsorY74oQEh-6bCXJQQEgi+n+6wrEu0+Gb+jeuiinGh2Qb+gO4O0O0eJsowVhq+zYrBwIDi4c9C1iEzcYoDUULUEEpObijVMJIhyRxSDOntBy2AwdXEEdAkTARYymMMMgDgBiegeyACBgQSBNLY29NdSIO7Gx0KYSO7TszrcYJOl0jgJUnIIsdU3ADCRx9xm45xvMPCyfVTJxoA0ALaACAeUGEYJDPx+aSorYFgYgYgHkuwW6OQaqDJ8G9EcUu1DJ3C6KEUjwMp0AYUmKW09J4gCexoMpwffdMUA4lWD8UgSWMoZJ-+wKXpouTpr6vQKxYB9eB0l05k202Jt8XkBJuYF2nBjpyWXpq+F07QaKaJpZkaWCNgO1OaWxnPewPZ0DeUCp2RaKZRHiJZAKXQWDKMRBCvZjG5q9TdcJ6-Z5lm1DaKNwQqU5pqeTG50pn5rCDwIx9J9WMxqNSxwSG5xuI+LgTfYyNsQFu5oEbDZ0F6aw-fCMZ53ZCpyZ8UrZyoUYXZgF0OXFt0oEEUnxqjfhMRTFqNbFqsD55Uqlm0wl0wOeHZ12958l-Zzx0U2hQqC5poS4TljCNbNWR3AKQ+jYLlkl0JqilqB2Y5omDwLZ5khq-RS5Ml0Dei1TZ52VwZ4lhgNgImfCFp8UWF4SaKAAch8YChdPtcuc9ICdVc2fFdMeIgYAwgYh9YOd2COedHsZ5b9aFpbtbuE0EEVL5kVKSlIEVKEVGATZigYDsECKTr+Y1fkzDfdGY1zaNfldNfNdCHFdDe9epolkUwLdLblZGlzbcJoBgapAaQQe0xQVGn4hlTDgDfnyRYjF1jVcjb7fc2UD33pyrEHdEdcBdubbgbbaAU7dIl7BWZ7cVcfFfwaK3CHb7x+cH3fJ8npcHZLd1kbdADDcNAyg3CXe7cHe8QQTn0RfmWPaAo3IdpwpAXlFpcPZw3HY-Fm2Pa0ptq7d7B8BqmuhdovfSiqGve3BA9Hgf0A-OBwXfetVKYaqzZVfkzg+Xd5CEBqndDuxw5lTA7NkzfqBCERkrIRMlfoBFeUlLfg9I8Ckuao4-a+bndbfIFniAXo+JiaoZYeRnIp1ndga45461hvZXdNPNm3fXeCAE7Y6EsY9w+Y+d04XkofaVC3e4CwSgrUMWr3boAPZowxaQ406-jXP062FPYspfK+Ulj4B7dSYSSGMHb+fk3c4o4pCnLDmEsShShoCZZoEc4zeieCLYmc4hNc5Va84Y+qO3cuYEr86E3igC5FmC5ieoCpl2p9LKiTYYCjVIEoF4mmEQxEBaO3Zc4lillVDvZo4K4TeifK57F5EK-sjHzvei7eYi9k905M0RCf1GF8yqCbHdqKXKjEt-VIDsu0ZiaiB4FglAFVyal5C+VV2QOQOcFryEX4hkCAgkGUGYH9AYAECTNGab0DYcGO75jO7xY3kECZlfQEDhcHmpH26YEO7efkxu9O8sVoXrNuF+7u+1KktoD24O-1eu5KVu6vjPbN1G-GDSABSUsZWAybGuj7zUUR6YF0RGRVj9L1HOwO44CUFABJ5WD4qy4TCugumNBx+ul2+IA+5GjJ+YzR5x-U3gXWjp4Z4RJLoEECQmQawF60r3ks4UtcGCWB8Z97Ah8+44E0Ch7kHwHp6yy55vXWhl-58e63lLsl+0pF91+e7F6IXkqp+F6qMU2B7MuSA4XYQstDKwwTGTZZ9J+UAp-IqtCF+MGCV56y1l-B+Z5J7Z8Uw5-V9t58X94x515ED18F4N6MGIuA1U3D7G4EaGKWRD-dpVc96-KiIaaBHZ-4nXE5417t-N-XKUu17B-l5GiV6rda1V7L9N9cAQW19QwF595sRSGT6M2b6y0SB796SGKGLz9yOncBn77V6bCTq6GH9GUr-cj7+t5h9O69+Ikj7vLt8d+ArY2mrpGIGpLNYUqFVKcJ-1D48BE1G1CJ4pxCGxBo5Zja4TZVI8Gf+TZVJ1KZLYH8+FhoCG4nJJKOPWSorAu40AD+pAI-mlSUqACRuAfEBAjyyz+AugwSabtdDgFFdkBa2W-pfxXo09QgE3EBJgPsg49mSH-QruRlrxd4WYK4MUBkSLCD98+3varkMQTQb8bi0TY0LQLQoJpkUPAsUFsXkzcDscggrgQIKLK2oRBdA0DNV2YzSCF0txcWAoOKIsxGCqxdgcpVPLVcmeDAw5EwDHanFom5DPQUwISIfFWBKrGgaIPFCaCJ+WgzgQQzYw7BCwUXcATxECoQ5ZwusGKD8zy5ToaeMyYsPSB8EODmUIlfgkIELAcAFuggcYAwECSRYn8VkKrlTy071hHYcnRPtTzOgqDRQIKCQWA3UE6dDBTxVvveTyG4UBecFB7qJSiFpgYhSYAQPEJS4fEWCIQf0NwAwh5CTUeQ8vmbwl7pC3OWQi3veSGKdDAmtwY9soAmHX5j2kfVctkNvhbhTe9vMAa8S8zJCe2Z7chrFX5CnQ1YikTQa+DvAWCUeBAyoSAh6FqD1Kmgj4m6gayXDO+xvbeH8xMHHC6QpQ08pczCCdNRg6kTakf34E2DehEg90CcK+GOD7OZUX4bBABGH9qSvwhYJ8IcFbFNyNHXANUGkAik-m0UTEVCGxFJciI73JESoDpC6A-mm5bNN5xcFpgSC5I5hoEBjAbgvoQgBqMLkOHDhSREI1EZc2VbXBfhtzODPyMiAnCh2sI-4RwEBHUlmMgoyfk0GYxij5RjQCUbJGlE8s5RAjd6PJiVFaijKpxEtniKxECANmTgr5IWXGDFd1IYIPIJdS2JDEPqTwbILIn8Hkgj+JSHUFwHUiNccWoHdrtQGUAXtSRF7M4TqiUrSiTCF0WmNdFVHwioB1JIMSiJ9EBjGREbRoCGKMHuCIxNMK6BiONFX8jgWSMJhaI2AbJyguzbMZ+EJhnt8AnRWgReHpFAMNhPEB0hqPJGuiaA03OSOCF2YHcyeB3SnmGIIE5VpuLPfsZ9wsLNisUzwuPs90zKyIqmdAM9vWOvYk8HQjYwJMEgO7XRsO5Ih4dngyEs9dAFTH5ouIO7KpLRoAFkgAAkh6HAAAILgBwAQ9AAEoslIAAAeSnrIAQECxWohsCP6tdk25SRsXCMhFbFax0wFcaBP+FDsuxK4sDn6NaQwSLAJbLsdSHNDJiEw0TdCfYCAn+i64WxG8XeMfHPi3xn478ThI2BgMRAG4RCS-xAmxitiXYm0ewGaiPdVxCvdcUxJihYTsorEtgB5lqK0D8JyE2MeBOq4CTGC4gV0JHR6QnCeS31FUu6IEhejRJEYBSb-1YJ-CLA4E+UbgAAkHUsJ8EcSaiJMyXi02ZYf0EQCW4gIAADF0FrysxkoSCdNgiwFJb57I5AWQGBjcnWTXgzVEBJZMvo2TRgtpeQPuK2DBS44oUhgNEzNzOSMh+g0wWNxMBuSR2UabyfaJVbfNHcQxaKRlK8lu1G+DgJxh2PWBiIkpWWawCzHxjptNx1fdKU+0ykCB5ixpVyWWEKkPRvJKAtYCrFyDTBko1IQSF13lArpXBd7AGB4ASntS+BoQgqc1KKl0luwww3TlNIE4DSOAQ00QIJE85ydlRrgTadtMEgJd+uy0ikCsN37vYE8zAQacNLqkeMz2IgQoGd28iZhQhdw04t4n6m3Stp90m4gpXSETS9OmvJqG91KnBNmQIMpCANHwIAxFhowk6EpWNAFCQRNwncuBPKHWcaAKM2Pk91eHwwPAmIkhE2RCBHT7pPQqQf0JXJYArECM7BKDjc4Uj3IHgcmTtJ5YhMj0rzNmSdMUwhN2hSIIlEwFWFXTG8IXX6cdO2FmiuULImlOyJ2iTgmwKU8YF7wknnDchEg1GTIKKG3DIZqIwhAgkqGs0Hus47eD72uk0AiAMpKUQiOBHaypBYI5QHqMCDfl9ZjIxYUDLpGWhl4eZREGon9k-xkZmsq4YUPRk4ZXZ9wsaZMiNkzj8Z0gdaVbICY2z4xysgwc7KMCUy20fQoflYh75tDskF01kanNVn6yP4mndaM9LyTWAqwrsz6deX0CgA-ZAcy3lsCNEEiTR7yJfob3XjvC9ZEczMT2WhHixE5I0dUdwDJ7cAG+oY5seiK+b4jxgJo3EfPMJHedwZJBCeToEpGKE+RGWSIOPOZkMddh8sjon2CVnjz3aU804jvMPGTyD5-HI+fyAVmnykek892mTwsGNywA-stRNfNH5OAYMwo6wKP03nCQR5ycoEbKKcAHTkgsonQNAsCBgL1R2HKBenIaDYc4FqC+oKZUuZtyF5pooeSnmCllAYcTY+8iTiCrELi8qbdNpFWp4hhaxEYYKUIKvxMKlBKRNyWPiYXVcBq1+ZjKwp3a25qQQ0iQNnDTYZtLmrja3vVLyKaZP6XADqaqGCmBiK2+2HSYQGUWjARo0833kpRDAXoFF10ZgJVITQ1TMwTCyFEpTAU5jrotCRBbbMTFqL4FKQeMPQoJx6KkwCiwvk0AzFlD3BViqsdGLzHtyCxGSIsVRWbhetNFD06YGPncXqQmFB0ksVaO7G2j-FUYyUOZI2BXjbxHAF8bFAAAyQ9H8Zkj2COSVYBk+MQopMl0gwJqI6rpBJokNimJfzeCRxJ8DBTqlaitCdRIwlVLepn+L5LhNUjpt4IREnJXksKXgAqJ6sBCUIA6UoTXokk8se5LyRINGgLE8sexNokcA1xPOHienOijBT+J5YwqPKI2U9jmSRnQ5em2OU9jCo5U0BvMtMnaKLZvjPINJLpAu0ekwU3miqVAZvgiFSi7SbUoMo9IKlgEp5TUv+HgTypfYbaGWDDYyAHFIKo8uWK2JSTcAMkr5VgsUK-LAQUkzhl8FKAsEt4+HJCSBORXQrURB0p0YNAFIjR5llK3SWZIVR6U0VOwxtCMEiU+skVFbSESkvYANSCBBEZENdFHGhdeVmi90EtU5XTAw2oAsWee1FV4z4+fzOFfFW5W+s+VDggVWa0uYiqiAyyV4NEklX+t+VAk8qTsBXHIDBR3CnkJazbEZKuZ+yOkbuIyVnt6AfMMruSu6nqRoJWEwJOkOtVKyA15snIVdG3EgIVxOyriTzgDWm9gkmTRkjOHUlliexN9aGOcttGQ8hMfEgSQqtcDcAikLPXiT6sIC3K8gzBQEEMSwnKBaVSaoxW7DLW6r+h9MwebXk9XMAFFRQ6CVwvVlXRYx10FxTSAJzmK1gQajiTaqhWoSw1W4z7tdGjW7KFlkfRNeYEbXdqBJGawGFmrYk5rrl4wCtewALXGAi1s4PdUcvzXTt8p6bOteDQbUpropFqkZG2vMoEKaALXaKXzFTWZgA1dqhRXajLV3ymR5UAQHMvTYAaGJ1AEti1ywkQbgJUG5rqBu-VwaCJgSTtd6sg1+qsNtElDRmFRSwDRAZKzDTlWIkPinxr498V+KmVrBSNpEijRROKU1qy1t63mmaCI3waEwIyAaNFF1D4KduSGwFfVO8Tobu1ag3tfVIsUEC2NVS66KRomVFLCEcmgpUUpjEqsgVtK6TR0q42TIeNOoPjbXmnhJIRo8YIOr5QtgBsK85m6JrghM2lQw453ZsXtPDjRNo8tmlEH1wc33lTpbTTXBIzGqmbf65mv9ZZs9hsLdClSfzXZqC3dcnNPm+HPQmEBWAAtZADzVsW81hbMkTAUUJpCECIrot7g2LeVJM2UBapbmlLearRV-qJGZWtsDVtRL8c2VPYy5sVtqmubqAyWyLnVq8XGAIliKmze1rs1dah+EbRrXkBrynrmSTQxUr1orZBF2tJW16GUpjj+aFtPwJLaVFHijbBVVWozYltoAdaNJ629zUOzCUbsWYsEd4J8F+CyAekM2qJbgki0og1t+2jbe6C21mthtgQWlStta0JbHtKW57R1q9i0z4Y720bBNp40MBptsqzVVNSS0Lb36McVmNlvpCwwdVFqpZT2I+WyTzsYK3FVkBB3wJDmDgO7TyuR05bNVxzYHWmNVILpLRaa20aZWcAL9gNSShnWxLaG5zFxsiT7aGVRU9iOUEO+NtDrJRcr5VygcnSMER1fE6JmTEIakPcF3xQhHFORoHXPBKMpGZ7TjvA247tsxUaOsHYbH3LLLMVnyuSU0HRGZAsIF4EpEUlVDP9AwFAW6AI11ZewwhAjK5GO1up6jkuEwJ2TTspxpd-+2k-Ps1VyjstaZXO1wNFG10LstY9y+7mzutGbL853EHnVhDB3dwIdse3Xbxxiik666ygHPRJyiKOTgkAEa9tNTUDXQAAnF0BVhV7JAuquQIkOW1WAZquq2KrBDKAS6w16QtMk6qp4ez1oNABEnZLDWuBG9GEW1raxihoB59x68XiQmyFT6eW9AamSkCn2d7Vw66KSclndA0A8o2hGmdvxUDt61A2+7vaPAr17aZqDy0QMItEV4wpwXqirQLuq7vas9xa4TA-skBP7Ai+emHeLvKi-6RFlQMRdLq+TEdewlOlmKeuxKjBTQfYJut4mCQERroUHCQFeyk7VK4I9uwgKepdIdB7lBs9aFMAYBIHa6nzEBEbgJGw4w1q+l6uHugPogw2LwQgzLFep4N5Qq+oloioIiwhF+EvPQGsJ8RYTKgJXY0GV1A1zABDYaj9W5K-WwaYNzasfHIdN4IJyDlByWNQaEx9giSCbCfcYEYO5RTDYPDjSBoq6cHTD8sIQ8vpENlzhDPB8-ZIGZKmGzDbBnMeiHcM2HI+W+gSWst77LLsV2ES3U2T4MVtAjgMB3UENugERIRdav3UiHBqshutBepFYPjp2ljk9Fyl0XPzs6LFv8CYZKOujgNFIhVZ0dAyAkwPYGWD9IvA+xMIMKliD-QjcooRyrpH4jdALI8koCN5HIp5eO9NcXq3AbSMhpaUQujJFVALmViMVnW1gOBDhgwQ1UF0f3rtH3Qnu5I7zVSMeqTdWKu+kQEHxoiZJX0ZvVJJ3qHG6Ap+GOKbr+E5HbRGO7rjwotV-NTtCnc7W8EmCJoTgURwIDWTRXTtaVtx04wEb33fYBd42zELh0p22tGuMgGnQAB0sARCwlcV0YJ8xdmPOz6mDV6jYRZ9QmLQx0TC5YAWDMJuE4ieRPgbUTJXXABifpHXB8A2Jd0F9yGKMnQAAALyfpGAkTgQak+idNabGvunJ3E+9HxPRRCTvIcjD3zwCVIkwtAEo5EFhO8AaUaJ2kwKaRratnqLARUsaEVLEBFSJomELayKiIhSTiKpUy9IkP8ndmGp4djqb1MGn7lYp+WEAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdrLqPPgmDTAig3qPbqELMrBo6AK3bTrpWUDDZ6mUQ8ISJFiHz0NWYLeHMNid7A1FGiMAIUENiIpDvUBQxIBb0SE+spegQEoWkIWwcdCoBoO4O3QBRhCIhmgWofYDiE4CSczqOgEkOIadD0hoHLIdBn6E+s+uY1RoQeGaG0RahigIYdKnnq5CFwkwxKv4PKF7phsLOJtGUMCH4BpgqgezIxFEYN9d8hw4yMWFMCJAbGhQiOiQElxu4H0Bw+QJcI2HxN3hGXPoXsIhak4smIwGYbajmGOBohaCe6PDh+G5C1hBAC4Z0CuEBDbhmwwTD8J2F9Il68+RCOLTkRWRAB4oaGHAIOTk19BQg3-g3QAHMNt+EAnoaAGJEg8JgRvArsQygFoJcR8gCQVoJjZyUrGB4OsJ5Wj76D7kRgjoWyM0G+FOuuobkUWD5F9EJRwo-Ee4T35ulmm+AK9MVA2K4sVRm8NUWwyK59xZRoAPEXoHqZuk8UnIzAceAlFGimR6IkSJiJkjYjkQ+ovEeyN8JZM7AdveQHoFTSgsjohot9q8J5G2BpRypS0SsLNDbpDRYYokBKINC8io+fRFdp6KjEG1N0kY++h5GApsMTwmou4Hy066BdJgOQTEHWEM5nMzOLwTQLm31G5sCR-icmtKIGx-FFInsGMYGODFViRRpY2gHvWqELgax6A6kQ2Kyizscx2o4hn8M5F8k7gynBlHsLoTxjGxCkYBIRwfSEAHAf-CYNSGbyei9+xqMEvK0tGGsrAPneETcKS749Su3QoIGt09g+cWuF4ooM-mpHfwDe9I8Hn6FJzOI6AGA0HgW3m6NBtxe5fgeTSS6exExy4s4X0B0Qtc9AmjWps4iS5rJpxoAMYgAAk7atgAAILgBwAdtAAEpjFIAAAeVdrIBVIRhVCvgDMCBdTOOfWhK2MsAuiF6a4qir+MAmxiIWJ4tfjSF7bli8E7EnkRmxPEyBKgXY+gFE2Em9xaJYrfiQvTQkYTsJuEgicRNIkSTOe3E6kLxLon8SGJxABeiePeEoRfxtgf8XNl0k3QTwYk18O8KIEQ41+0k8zskl0lMS9+7wuiIcJZpOI8RCxGqhcQLHJhixDkvCN5LL5cjYxTEsMVROb4BUxJRoZyaKJZzITJWcdEgCF1UgAAGYwqNCKg3hqwCkNTq6wnCUA0E5efKaSFSkHhPYyU8qQCIUrbEeAHyeNNVIGAVTGAUTe7DlJ+Bb9N+-yTQNVONwVs6wxUheioRaafYVC-UwqSomKk09CGR4pKG3C6n-I7AhUWKPlNjQvcypA02FMVMMIfE8p+ibaUVJKm2xRoBQ+4DeBkApgrOywDVNBOLb3RFQIBTqRfwIGTTy2O0iHkgh9HHhhOxDFQudNsCXTpAKYajum2TGBBAZwMlMI4KjYytnQmbAjpBKhlXS1pLDTrhMGCGdIVwCwAgeAIVHSwzppgC6ajN36uD4O90+OPaDXLuhiugA3wpD1unZwa8UgsqC4OWQBISR9-EQa+UpEDiC42cUoHIMN7g95SoQFUarHlKxAUZIM1-tzMMHGDHS1vBXt6QZwUcrRtkUIDLNBliFJIZTbWcqQZnaCCAJSWvJ4JD6TsDZvglcQwRtH11nAgkBkP8B6nucKyLkwkQHVpE0jhBZIqovjMkFpB1YxI6pmz1cFLQSAhxIMfGLlntlDBSAm6OmKiDVAmJv4BtnB0fh2BoJ1QKWMrTwCTx85jsIkYINUgCjfZZaZOQlPu5LRg5r4sHorEemKDI5wYw-onOMACi45b-O6LvG7nGBIi305kS7LuCB8U5ysUwTxExmoI7AhwCuf7MDIeE85BcpmfGmzGqi8xo8x7veWNg2jB52-CuVSKrj3oCUEc24lHOinN49u+QdXrWMglKiT2o4vlhqNXl58tEYgWmXqIvkLZjRchN0TwPyDDYG2LIZkfbJ1C8k4Qzsv+YTSvnuEf50Ey+RrMShALMRjssBb10vmE09ucA7qmAHzmTwf5dvf+d6NQhgs4F9TY+RRGDHbo-5VQ9IJQoWwQyogZC0+dHxXY5DW5HwFdnQrYUll3CGbFeVqLXmHzkCB070MllNK7i8KVWHwKIuhj4F8pRBDYFMDXGMhkpN-JXH3BUUcdqpPmFReIuZbKk2u60+GSyB5bSBLpRQD9EjHY5sMXcsGDRfNLroShkpaM7fh2MlH1RQA-Y4AR7NkhTBbUdYZKVVM6ADwlp-wFaQsBUURJyajC4capBYSML2x+rUugGMYmtyFFsgK3L4soQqL6FPQTxYGUam3diAkcmJXfKfn1MJxtHVlPcHpbOKQkYSTJf4vWnJipxZgWxHOOiW8glxiUswChPQm2A8JZ4AADJ20yJLiXuFlIhzUSAqyUuKckvcXXz1sLEjcTSAEmWBOJ6k38cGhmWrK9JbDSSZUG2Ucd9lwio0HJL6UDLhl4ANSaMA0lbL8psytxQvTcnr0wRBkAyXOI0kmSqeAE8yTkvSCyK7g1kvYT+DDHvLrh8TMaRK3ylArwV0rTrnXW2XxSFlcZe8HsPcnyBPJBkAJWNQuIOLhFzikXm4oilOIopNExFXMqYnzS4QAkfRDUtcXhTRRp4lgE8rRUvCjhnJbhQPEer3Rnlp9EISCNSE90FwCsDdnxOST0qeRxKjyNCIRX3KFWiSnUBSoSlK0-SnwzrlTBQaJL5VB4EJqqp+H9dyaroQQLeLMBbpdO2qg1g1A1X0s6+k7I1SQGFlvj65xDalTRU1U6qLVuq78j8LYb2qFgdnI0Cqz1Xgr5pFwDSSP0tG6KyW3gcCXrL1RQSsBsaqlcp1MBBTppQ0tiWJNjTwdw1zsrNZDw-igTVIny0yQ8jFV6T7uH8KRoeDLBpq2l4K9Oj5DBUIikuRuctTCoCG2qgg+QLBC1zbXaTaAHaxIIPgF5gsxJmgaEdWtMDiIxJTK4wSrJjJT5WYKgEYhMjKkN0NJzijaeTV0mew0lSiw4BEsDkZzll1ICNXMqpk9BC1pXT2CWu+VmSL1la8mlOtrXVT3hjajyM2rPGlcoVgKmyajx7V4hW1eBZKUOpYAjqzQE0-KROs6ovrxEb6lEdhw3nSx3E8nMYCJGqkjE61CwLNboqcW4b6mJnfDeWozYmcxJZagdRWqXVgR0N2GijTJNoCxoV1qa2dRuszUkbIlAdCoKKso05J5JWEnCfhMIkkSrlaQfjYpKE0qTRlKhcdchE6rcbsNWOSCSeFyCRNqNtdWjU4p0XSxmNa6-RGxs3FbrONskBTTMs9j8aLlIy22BZqGUjKWxYLZKTBseqmb7l75JaCppyBqbBF8qXHIaSBi002oX0U4etgSGzQOOkODYAFqEBBbVFOGMLVE3jyRbcIkbYLSio14xaomQsd+sZSi2L4wtuipkvFvU0h5XYOW3CDFr35gzvcCW9hGVqEApaF6sMoPNlNECeAGwIkGpflu05Vag8weSLdQFWlJb6tLoudboq3L+bAtQ22+hC2DUBC2G-W1aYltoC5b7OU2rhNQpmTVKtVEW5beVrW0-RreUvWbYkBZyAaMqvLWEtasSXwFltA2qjcHhy13aFhNgFbTzGO3Mqxt2Wl7YFrq3TbylI8M0bVNmGtDQRQqokFdo9WQ5fteIaHT9EZWfCTQHvHKp1Ue2Lbat32+rc9roCvau5IJd7UhjO0qbGAl2qpe6tpYWUXtd2ouu7la2nQvI8O-VdpzclsrMVwqp8glUO3LBQtpOmpUVDa1CMydFLGDn8rNAtKZxTK38qwyR0sgxd9ahEX3J7mxBSciO9IPjqZiE6hWJOtwA2EF2fY+dDYanQ+h4lSNUYN08ClUo0FaFf6NNKkIA1xDzTH2gbYNlHHp347YYn5VlR5Psw2QlR8VGyMbqwRKBs+YiUgajH3oIs4dFA-euYndb5V0xdHcQD2N7F4ELwjHFqBKOzIKV3wQJF5t3KR0nhHd-7F6NK3mYnwVU04uXTcL7kfMxl0gJ3mruriE7C9z7VKFrq-AKBddmgZvc7soLGEP4SoAtpZTCGewAAnP+FGhD6zKEu1LVOwJST6KIbkikDqhUCaA9J95eDrWUIz3l05yEKwAUXSmMyahNgKyooDxZ4sGoaAS-V2pjLsz7Q8++VioEVk9B59TK+ugaERGBCb0N0KwB+AvzmzF1QQF-Yvvf08wB94wY-WEPsWmKzKFimKM3FXUjbPhio71eCvV29rLJ0B8xXrksVt7RwnesiJgdgNijUKkHOwDUsKiAaHCB4coHCGcbeKlIroT2IO0fBbAC2pB7cYaCD3EBAN1DX8HCuPXIRsIjAGg5rSqYns4QrRYVpD3v2ZVs9pBjxYkoL48GeoWVceqaHv16sPVroEKJ70qjo91Ys65Tqp0xDobsY2hyHkRrKlYbyNZG8tXUrpZP6uB5iag22Q6hiHVI12LUXOkP3GAZD74fw5eQY0aaNOKh-w-1F0MCJ0eC69IH4f8PZ76WSUJsYzTiNhHUeQBucTyrRWs6DIvu+UpodpZg7diwe7YNcFRiugXRE6xPQQE6q6AqhEOgo+UbL1eAK9s48Fa3F2jBZYONszxJDmGB0AbwOqCg1gm3UB1GDqkZg8O3YOOQHARkngzCT4PGDHyA8HJPUbpaS5y9rS1owiNJzGDGSzqHwiyWHJ4FrwvraKSqgNHyBJAmTXeJ8zRaC6jJJA0o0oEaPeE5CcOmPdUceq1G-BGx8XYZLLzwCwW7VaETsbWSkH7jeLQzooF7EAAdLAPhr5UiQjD+AEYvE2V1VU8qkkWyOfrwJCGaD7Hf8OCZqWQnyx0J6oXCYRNYy9cKnFE4wHiYqFCADhG6CEwZOaAAAXjnVABwmogLy6k3RFRMfGQmHJrEz5BxOMYXDDgBtKbxGih4+jAx48JCcRN8naT8TLakvFexXGGopQWEqQFhJ8tCIeLViHgCJNarFTVJ5EwKbVM21NTeBbUxvj1PSsxT-UIAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCslUOeB0A1mqLKkvtdDexBEASfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHDgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBOQYotQewYAjtC-jfm0jQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuV4dqoYDWL0B4dICbLhGWIfhkfIXBJ+LWMkdPoKhkYdg4eQP4nIA5l8EBKztzgMb7R0fyvMFs2DMpBhN0HwcGN+J72YdkFYf7XJrbu0Y5gMe-XwZMDhAYbcc5kcRYAkarngdcGbiCdWC-jkeFjhBoeMRhBzjMHODIRfULMDASbMCCELjSeCbMAWvhDvhREibuUtASekYKcKOAaiB4bdAgct2ge1gSZcTfhfVOXjlDlKaSe8R+BJDaR0SUXSZ6LkdsbWL8eWG8ECZKfBXCbwZOO8WWKIdRIgQ-l6cUTTnSchLmaUZ9vsASwCbIcoPCeGRyc+RWNZRRBidnW2ZMcGOkoMdjp2f8fGfQamR2EsMacKT8cGJEtmFykmdWGHIHHSfuZMbGcYBYFU38XONiHecKDkYAHIiGc58GEXYmrGgSTIEnfHNgEseZGATJcXTGLHRRQmlY-hEGfBLQCXVGvFmKcg6gjjbUjjy5FRCxZRvAWWvJFY7pnm1srndHKWlw8XvbAwqXgXdmnnYnPmBXvAxq5hgxRW+XOYqXgDVQy6K7SAq7KMNV6pNZUoK1dgQmA5PiE40wFFVN1sVrWmTWhJZgVmOkwozWW6whya1WOQNXKB2YUMdXbpOQPH9XqHeTun-gzWinmKCmgYg8lmSQzWIXVEaIVW2QCWdRNkqJvW9WzX914UIgrXQ4Y3AtbS39Gy0NqhFmiRlm39mclEY2xzgHDAfbdXOQxgRkwtyak2cQU203fWpjY0aJPyC5p7+Tsi4QRKinLDLRaIG3ZAoQrktIUGygJ2fWp2Y0A2XmB2OxpHpLR3mBF2m3wVYm129RpHXXK6PWtXPQLnYWxK00D3MgnXQgXXy63XNWvWF3Uo-WY3Y3LCb25BY7J3d3c5DyWMn0s3XBeDe2f11ww3TNS31IwODXAPjzYM-143vyu6nRG3GBLdyAK4vAA46gGhWgM3kjbx3Vg3e3pG2XMOfHmYoz8OeFZBMP0IPEiOiWKDF1+Rotq2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6hOGC4VLGdDPjPBnQAhaWgmnVE9p1AdOZA9PC5LQDPbVLOeXBFC53OjOCjvFMstPSAnOXPAxfPPOE2DCG8XhkI9AW0ntMcyoBOsgwtmLdNkuZATNDzES-4AEQvJAeBZhdPJBJpdTcV8UPAMuwtZRtPivCu5WBxIckuqHDzUh4UKuqvsibO6hlyC5uua3INEO+lcVwvqugv8v+AAX6RCBKuWuBuih4VRuuv6VjVhaTzf0r0Vub070+kgPrS2V1wwumwPPWvFSv4fyfzYp6B2X8v6vivJvuylw8zyuZvOu9y6BavnOCupuMcXsYusg+22ulPXuAImzuvevH57AXhGvEv-vNI57LDco6vUbtMJv4yyDqXXFAwmu4fRxzuhubT4Mlv3vPvOYHudwQfcHTuUhn0lvHhwfAt7NCh2zofpvZvBOsAmf-jLDLD7v0fPRMfqUKf2eAfCIufQA9v1uUgWejuLP+env5uxNzvUPQgAoDKtAZPGs8z5IN2kSAEL3vEf49fdheM342Ah2YgGPFQNiH5Lf2WNjpl+jbVGt1yllVlnBeOiFdyMuLSgyuHnB1fyAZPqL4NPf+PQfiUrEMu4ug74NxOwsw+sOAIbnjfqwaLhPiVE-0Jo+4Q7eqPWaAorEPAYgEpYhFt5fPC2DcLUfy-HvPCGHi-6VqzFs9BG-S-Vgq-C42+LjkDu-GDFU++O-iOgjgxB-e+S-qyC6PDSDmEshbXnDO+avgva+QiGHB6Z+cG5+6-5+-DO-ijovB+N+AIK-vbV+0ObIjx-XO+9ZsCpgFFCwCnQjvgSw4xXwF17+mAkRsdiATT+8jxJBZO9KLIIwBbQBRowuwJpORwzJwpD0lCZMP6wh61tCUg-W7BP0YJT9HSNEHfh+UV4FwUBy3BoNtzqAtYH4JAX-lCH-6AC6gwA-VtgM8L1kZoEA1vmgPZID8WBgPHrMB1gF7BUeebaAf7yvY+BwBJkS0DG1mDCDlYH7ebpL34Ew4UOImFXgXAkFmtIuWIKINkBYBGsPU-eBoEmGxD9o6A9XXQbpTGB0BSuw-YllSQMCdQimxg-QVCDMFxdJWqPQmJ1DvZ+VRG6g34FoORx2CDBXgzQTuDcH71-ifghwZNGQIxBHEWQcuihD0EGCjB8gEweEMNaFlDB5rUAGEOkD8AnBvJMdn2HSHuCEqtVKId4BiGAowhegLIY4MF7VA4uJ1LYhoNZ7WC8eEmMGI0O8H4AkwRgRSDyiBjmEuhWgOlJEDsC-A9GTQ92pnXBglwuC3Q4YR0MCYLDUhYTJYUUw0wvNShxdbIBUKSH2Ca6BUQmAEJNr1DOqgwnRlqBGEaDxh3giyKMPBYIlN0VEOlFCBuT+1JgOMWvhREuif8PyV2eDPgKqIsD8684afiv2cJMZ1w+A+nltxNRFN1+nwrQHQM-ZDDvA84Oypr0H6kYx+swL4UiNUFiVzhQUdEZ0X2DfDcRPwyvhYOcDnlHgcIfAOaBaDLEimdIhkfS1ibhJHOpInEVoDMBFM7S1gWJhEEv6kjeRhSQevnUUD1h3h-CLkZkMREUjY2DyVHiKLOAXAlRaaL4RkNJGOI0RGvTooGBFFFDMEgYTUUaIKjajURkgYkfs0no8izRzJS0KaJCFso-SsTFkXSEZH4i2SWQbDjtgCH+VzClhaqicLCrCwn+PURYFrADjzhKOV4WMf0FmBJtZRSbEIn8OCzEi2o+KPVGFgtFEi9RegJMfKPjG0BZ6StNlCmPBGscxieozMQSmkb0iPRbIwpOsJSANkLiPotsAsMaw1jdUpgfEYQDEIl8+otorsFWJPhQt9A47HkeGLE5Q8uxunO7s53MFAhyuYWcTiF0XHYhn8VYkHNCMIEmo1MwsBRnQHxFDjU2xXQkCOPi7wZdOYWKcX2LHFwCfAunMwHIwKYKNdOYYH0aACGIAAJfWpIAACC4AcAPrQABKQxSAAAHkzayAYlHoXbhPEg+rlYsVOlzHEAkRnfAcUsDPEjidRGQ8TsCIaBUQm2GHDGnhNRGxtCJ6gMqKhJPE0dVQ1E0oPR3ZZFZ6hVIn8f+KAkgTwJkEmCeAAYaESzxpEq3mxPQnmFCJXYs8ZIAvHjRxJrLMif0B2QLDjkXBEvixMY4NZ0JmEjiQsOsTdDyaBaL4e4AKobEZOTYR6NGI0lXhjJLAFHoSIwkKiihSEmTtZLEkoinASIqyN+PbRnhowJAeTsSgAAMHQduLehWS2QuWWgmpJbkoCtBy8UU-yRx0YBhZfJmqPvPJzWI8AIREENKeogCneAGGVicKUwk35oFKGgnWwFFJzaxSeue-VHnCHDaCClU1U41sBDik-c0GM4uwBpFKkAQpAMQFqQDzTF1s8pNU9CHFN0LPFIpZ4caW2Dikx8gQAUdQUsBWTqBtYLHaoIpkv4ZtUs1Y6nCVJb4f8xpbU2qTyW4SWEQ2Y2ZqStMkBrS5A2sUQeB3tH8U7Aq09aZIPA7nS42uwY7FWNun3TtYaUmcQ0G0HGcCQuQD-mCN37Yplpb0u6R9MpGEYQOTCENNRi8QqkHOVBCqVv08KICBBNeGQLgMG7QYpeYQa7KgKb7oCQRjpPES1khFg8YRRmCUg-HpGsYJSb8AGR9MxED8OBX5WzDIPYwoVLpootlA-C5kPSbReMxIAEDmDwzAZkgrzl4jfhszZA0gxQf1nYLyzEZvbfEeKNeHIp6IsXWvgmQVEjTkBLAyme32BHWJSi0MnAUCGfQoC8mDPaAeuBIC7ErR+YnmabmxETkyx3ZPEf7Il7HkfMqMj0FimZJ4BdMMcr+NdktnEpMRGAj+KbLP5bSIIzsvcat1s7XSPZwJL2chKP4c8A5PszCNiM562YmeIRebPCJxlSFU5lY8cqTOfSgzssUgMKKbPtnSyZC0c2OenNvDuisg9LY7ATw24hknha9E2eoDplK82h00POZzGtG7B6uuwB7qmI4k0jiUg8xkcyIbFDyDefZezpoHnYrzJofIyQoKKfGT1OowcksvrMUCGyuQsXZeajTXnOFL5qM1eaLN5b3y9gohJ+VkEnoPcX5Zs+qmABjm6YP5PPG+ecFebKiz5hSBeQXM14GjghzJA0ZNBemhAkF1o8dmgoDmFBx2mC50ZgldG8lt5w88-lmDSm+ABMo4gQTf3Oi0KOseBLlgQQnC0BEwA4tMMDM77aRgZyBPKR4l4UcSzOgYMLlyxXa8taWcgNadiDbTwFY2mDAcAIpnF51KINCtKYmMFa-IPJjkisTDJXHwZEw2QecGlNSlagkQfU5CANNyDAzHs8GJBb2LCysocF+YwsQ5KwUpBiwXCtOCYpqzAyvFYQAxQ7IEFOKBIdYodnvJ3nNj0svJWHOAx0VDSLY1+EyP4rMWSKzR3o+wJ2P9HhKsxpgbyfYE4kASwJ8yAADL604J6mZuKFK4L2BXJaU2SNpLNkcTsJRE4ceJKKZCSVuJEqEE0oolOAqJUPGiTNIEiLSxY00JiWVAGXmE-xpSipVUsElQ9hJ-Srls0r0XmE9J49VoAWkkn+jpJskwZbyiCWFQ0pykgISiCKH7K7hgxJqbAS5YXK7hKINRSnQGUtL15O4gIfpK0CGTqU5izqhsXUVjLkl9knUUiOckNLXK7yvRV5K9H10lgBLAsTop4GeKKRlw34Fsu+VnC-lhQc8mFT6TbLV6Og3Yf2haw3pp2ikhrB4vBVOSWsIYhpEHE5gDKaVqIryV6TdJHC9Z0eRJTK2RUys6BGK8FubNAA7RhAa4+wFaGxAep+VQrQsAkoJa+9BYYqkgIzP3HMzCkXIY9GeCRUEtBVqw3kiqtyCIFOsCrTlXcJnERAzxyfFUaIu2gTibRIojJrLKFHwD7xDw9odhzsBuT5p84XCahO8wozrVsXANc9xvHOcwshyr7peIDXzdcUfDfomLlQlCrw6IqG5VcN04KTRJtAJ5RoKVWhBdg+WELlmtYk5qVJd7N5lSsckMqE1PU7NFWqFV9tBZs89uIYFtRLA8pBdXCSIqMXBZ0JYWHxRoDTj2LHZQa3pTas2Vhrgst44lFGs5iXjxJca4xY4DrVjKU1dwCUumrGGZrOWWQXNb8HzU2BC1UwHdQ8r3Xlq+klhLRXclqq1qxceUpYQh1JnYoTsJyOjnlNtQ+rcgAa6-vKi5YSMq1384dNcDWWAKA1sTEDV+oA3ZreUDDSDahOg2lreUXyNtd6uTVdreliGzSbBt7V1tMglKmDdzXmXcTQJEE6CbBKYzEbgJpGvibBJzGo9UJswBlfhq-XQ5NZzgOEH-Go6TLs476-9T2rOLtq11GG4icksPK4oWNTSsLMRrKWVKBJQIGTYsuqVXquWTG2qpJvWWHl1wnGk2KeKkCaliwBNYFHGl-VWC40DDErIZoxD6sTO7GwuOZoYkkwBIboKzSIB7a9xO+HBStJEP03zlOYWlIzeihM12qzN3mizeRgC3WbgtVYp6b3AYYjxItbmmzeYS81xbHNYgW9DoAchQgkV0WgQbFrbjtxDN1AQaa5t3r6qjhpmgzbQEC0Hh2OtW-mOfKsULDYmxWwaSPDK2dZOtVaU4gqqSWWaat1m7rfmnF7-FzVGgwnMesGJ0sjifWmVggRq0lacN7cALUtqqESAGt+OcbZiqq1+bzwG24FIlt3oZCWxh8zYeULiHJD9hmCObXizIyIYjtUwR7ZUW23gteko2m9SdVW3tbnN+2ugJtvW3-aMQPWj7dSle0lwptnGxgLNp5WKqcRG2pbQX2qiZa94QqdFUsM756ScVvQgtPis54FQzOt2kyCjrYa8q7tM7EhdL3bE5K-Rtyv0rAlB3WA2y1O30UKvfL0DK5CjYWO9pSDg60QkO5ljDq7Rk6Za6mGQFlukhI7a0JEvhu-ygFViGcH-WcnfXxryJh6S5fEce3daetFUaO8HauBdLYqDJOO0VJIVMmuI+oTYfLP8Et5Tg3+-wOen8xe1KE56ZuW1slRCGrllApYghUaTd7Opq+hKI8LuWOIVzRtcILXc+xAQvKrO2S1nV2OrmXNudLiPncyEh2R7T2KGIXaSmkgi7TMGenXWQVCm4oFIqbAynoLCwABODoGrwkCGU2dtm11GDHL26UhV+dRxL4FmDIboBYctIYUt1KS9n0zgbIkFMQEt6TIcLOFoWDQAz7D1JM3rLIOsDj6bRhgPmWEHH1t7EoSDPSRZG9rOB9k5+ZXkr1CAb69JW+o4LMFL1-bDKai2RbpQUU26eQ7airRas76vb+dRamUHfvkXLAS82elpHnsuTf6H9Uu6aK+05Ai77kxAY9fGW8DpAuQCtEVTtDCxtsNkQwVNuAY2UYwbd0B4TocTaAvKmMz6V5IwHgPS1QAeTP6B6P5AohdSy+uEHsn2SYHRVOi8QLgcJReo4qqIW+TYGX2jNdVoYEOc+p-LPpk12HV2EsBA39odo6M1unxrPCfqEN8GhtR4hkPU8YBZuOA6IXIOUGuQWQGg2Prr16DBijBvZO9yQ1qh8OLQTg4waVBCGF9F3UeSkHoOmGzDBLPFASgYCuG9kc+zIUYdb1djCV3y3FWDrN2hUJS-BpJc6Nt2v894O0OgUxu90EBaqEyM0UToLFAwWduS25WGLx4trEJ5GHIHQBWRIMYgx668cFmQPEpUDHbTA7aOwNQHj1+DAg321tKSFua6R+I+DCyO06rhuRnKShULIeF-Ol7BENQGrHISLicooYDE1swppsWSrJJTEf5D26MjhcYY97Td3JGTqEyfEaRyv4hbLpvbIprFtjarkP+Dqf3S6krZpQ5g0q7Culp6i0BtU7mw1kcYNZFNUtZxp3j4AuOOp3eP0+1k8Y46UxjkmByA3C1jF6ACFAAHSwA0KdlywCuPgFtSBNudeVJKp8jZRT7nwWh2QNWHBNIrITZE6EwHLhMIniVUIcQyibBa2i00hAeMt7Rc6WEGToAAAF4x1rAcJsIIiepOomtjLnDk1iZFQ4m4QJB+Aw8aZ4fBCj9AEoz4EhOUmkT1ifk7NR+a-RVARxDwEcVIBHF6WjIOFkyDwCEmklCpsGUqZpOBNVTytabZqe1O6mXloppUEAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVRzuz-H1uwC7rUj7IceiLyY+U2AA-IXm-b9YABcoDeMwPiL4WACqxCPeXADuziLyFbJz3dWcTrQ0mUxvNHL-Lq8DgXz-ofUAe9AwH2qCfM+1BgG7GvrfB+T9+qpU-vyGGwlcBgAQgwfAzA2BQDgIgZA6A+A8BZNNFQi4HKwi1MoPuEEIiyAUEoD0mhtD6AZKA6we9wZ+G4aAE+PwSRcIKmA0AGtqCPUILsEC+I2FehUmVNSGlyizDoVvMRQiowxinOeVCn4wqiIKnvKhZVJxxn0c2Qx6VPIaIEdohcx5kJWNnFeYx1RTEeica+FxQF3F2OIPQhx7J6Iun5OUARXjkrOk1BEp89itE7HiolfoyVn6oKMQaKJp9vEpNKqnBigTglJNIr8HilEMkVUiWIve5tJAIT0AZPYLYpIyTUQIsRKRmluw6V0-pNhEkFUcRDPmmiTG5OSqMgw3MbovSGNDH+DJ1FBPGVAnYdsakTLMa7DWVsEmrJCREbyCyKYXTWYUaJZUTkORlsUi5KRHGB2DqHDxly1SxzkCZMx7D-gpyqWnZZp9VnTE6YUVqakFGyRznnUwKz6EPLCNAxg59pQ3zvtQR+4NsT8lUFRUAABaAlkyNAOUwQFZ5JlhCzBhQLSg+BQB6AiLRSgLBUnKCWI04QjJaYF0pfVVl7LOV6T0NStUVcmY2E6KfOQshxAMqZTolguxqD1AaSK7ly9rCTmBHQRW5BQB3BJb80VelXbUGMqa4gJhQUDP6X1b+UI6GHFoE5MFdqbApwkkiaSGMrU2vdR68VudbVBv6f8oJLq4lTE1UyFIAC2p+gwkuPQdF9WIveXZBRg0v44zTXIUw7qT71EaM0OoHQpUyrlT6QZKLYFWoQRirFAU36EuJZS6sUqiIBQhYoKFv867wq1eucuo9ZKL0+twvewtuEnzXhfNhND0ZdyrgOz6Q7Q12t7cmgSqaBJuhhWum1wKEUzzBjs-JaSyoAqKcYIdvKE1RBTT8mhvV+r1RaGok9jJOlXJNW+2iOb6BfqGcM41r7ZrPwDgWkDqyz2UO8dM4G96a30sZazZVHMuY8wOirXlGwIIlqaMQFoFbK3yDlWhxV4wORk1OXc4wn0tWFHXC+6SorO50duTjIm0wNFkesNKijMh8M2B1cuujxgd2GtAGCtjfzONYwY-zPjcHQFUeOZmHdHGMaSbdAonlNbqjrgk5EKTCiBNhCE7KkTRmWMQR2dMwN4Epb0ZhrjVT9DLOhG6D57t1Vt0kFiZ+jS9cgQJuFnoULGbxEzvWfOvQcIABUQWwkkbqElwGEjJgEkUKluU6XlbRdDAASFCP5sGdAQ7zlVdOaxc5YXLw09tWZvMQyie1bovhjGZOjKU+5hk3mC4YfZpzJD1MYuhGnc3MFJ9A5ahuNVgkhA6tuP6LJUz0seMTYDWG0IVWcjLdW2hGMeh6lOb22GkeW2lk7cIj5qttnQEJosY2erAT4hgr3rlV7x2bFyM7D+-pjikLvgMa87JdrvswlByhd76EcQdhDIGk+wtLPdD9tVHZmyDn0N5Tqt2MmXa9MG0CHVez1AMCNQdmrK3XEneA27ONYmuv5Y1C0Kn2XMZqTZzyT9FPZXM-xpSeTeg3aboGQ6hbShI3MGjU0zWlPZi8-S3QIdqtz3eJuYsg236H0QXqVmxc-xnOi7sjerJ8QJeXe-RrhDMS0vKZQ2TrrCiZOi9iQqbTQL+NAliQD7TnvXQA6-Qoodln1wWYq-bsqsP6c2Noas3l-vEd6m03H-xCOlF9MKKLjP4PMTe4NBu0BvvpXWHbhe3RljM+W8unrmtKelHad+-H4CqfMg55SKL1vtf5wKNg-Q63gy1PvDwDgpgrB2BEK4KQtAa0KEkXBIwFNVF-4QXxQ8I1T6ZDwYeqoZ66rup6G9W0jGsxxcN-Cy1X60ZlWquIFCBCgNnOgFP-YGSF+LXYnD8zaacVWAVU1UuV18XJswcoYR8BCw78gDH8j8DxTZpovVWkP8-V8BQDKQVpxooDQBOoP5k4zVel0D9dlocsxpRVZhJp8DnAI1lAo0nJiCa11wsCKDQANo982RDctMB9ixv4uxr9SCpQ4QjdPQsteDXQh4dgRCU0DMSDG57xI4pQw8vJuDjdEDVRpClhxCIlZCmCzIkYBwDM7dVQ3oNYuRdAZc6C5cnINE5DtgIFR925TM8EkQN4k89CCY+wy9K8yAzCLYqVJJNIG9ysCNbwEsXC-hf9ugdUFglg2YsNnVrDXQZM0dF9OCD9OVAjlIOw1dQAoUMDtgEsO9ZVZh8jqCmAkQAcNtAi1gQiC5LQIiZBJDGid1qikRaj4ZQjKRAxGjjC2Qpc4DEjXUeMlFciPRciPAOQ4j3CBDMCtQdAFhsi9QaYt8JF5jFjxjJseE38gEzsMiGksjiixjKdj1JjZBLCtjBE1jdBFijizAAAea4hY+YPQTY91UxOtHwOEAAFQyFAAUmIGxGDXcBhnBhkTjhaBPjhFAAAGpZMbc+FohdB6V3ZRizA4SstoS4TX8whDAkSdAUTXiTjLjj5T5PjEtfjqACAZB75gSFQGA9VPlKBIT4RYT4Sbc8SYgCT8BUScj0T4RCw2ScT9soguTCTNi+ixBJFpFZFijvclFndQgAo6FxgMglJbC7NrAAoacljMhjjBcOswgItm5dTBdhTxEVTJElJzTQhTDqBzCdBLD6CcYNESTCgT5ijDVHhCY0SbTxFLQ3iESPTqtlY7jZhAwJShtBN1MFU6EvTt9nh4jOYhjo1mNu9yTiiEF0h6hQANJO1ChrNq0wVxNAiZNnCsjfd+l1wdSWijjRUajh89sWj+1eihcrMgRfMC5LS1S3CvNo9s40sA8B9My8j1BFTPUscglVTa5ey0yCBqodSjjSiTjDSujRRXATS7jX9TEpyrS9AbS7SHSnSkiIlXTX8PSlF4zC4ty9s95ZA3QAyldRy5A3SkVwYQydw0TwzgxIzQFpUYzGU4zVjYilBMNkzZdhj+Q5zbSMyFT4Qb5szH9cykQ201RHdXR8yUhCynt+kSyUKjVyzXDKyulqyQzazRj6z2jGyw1mzjc2i-h7sCyOzZjthuyZzvCsF5zupcF8Fp9OASFeAMA0ibIWU2UqAOV4CrxuUJ4wCFDzoG14RRKhV1C2QlLxKlhWUg4zlQ5pKG5EZvZgxNUwwdU1LKAJKJ8jVcpD5co4RTQssbBTQBldtulfprR7LrBrQnLGybL513KdjDgvLrLfp2I-L2JArwVfoFZSgssoq5AxFnKwgbKEo6Ag5VBsQstkrUqgSCoErQgbKYFGB3KCr+lcqbAbKFIFgA4PA6BAYKr5gqqGBqhSrrAbKYS-KbA9AqJZhsQzA7gAA+UAfFOE7K5qrnKYOEAldq6wTq7q3qga-FYlEa7y36TLWYFIGa0AHqw1ea0AJLTa6wUamy4AKaxlLqzauawa0AMAJaoKoQgAUhOo2q2v6suruv2tAEOt+i33aqeous30eB6uWqEIAEIHgfqzrnqdrQajVAbbrxr7jHqIa-rQBHjrBYaIqhD7i7gprfrtrLqsa0bPqhC+rEbZq8b8UBrCagbxq+rsa1rQhcaXqKajVzrqbEtgaTrLrQgXrrBgabA19D4mQTLogxKzLhVuoqjDVQEFIlJTRZhTLzK9ImZhbBV1LJL0JqAPAAArJsRmKW6oGWq1PGnykW5SrSAwsoWNai0IBW8Wg8JmLAFW0WiS37TnXKGyojMtLLT29LUahExK36SAYgYjRKdKtaoOkOjmP2-2sq36OqyQWASAdy+OxO6OmOsaxLeOgAUT8uzrTpjpsoADlVBC6Tri7C7Xy9shautbagMGwyZRj9bChDaGUXqGjj1a7Xbq6Sw39Ta1bW8oUm6UgW68btJ0CO6+6xa66pwHaKVPlOZa6uUSAaUq5zoCjnB+UYhJAS1GAvkuTJAtbVA1Aqtoh2Z9yg1a7NKsgFQdKSB86wgc4162gwh+y2R7yZFjzIKph17T4qJHVP75dnN5tH8T9J7FaJalz2SbdO7q9tQwygHY4FtQHVap6U5NadaKBci-Te6UGXbYH9M6L76bAQKkyAGFQrIYjngdANZJjr0ILo1esQRZEUynImROKJ88Ep9CF+LuBMBhKeov4UwKBJAeZDB0IFJGBtZYcf6FZPBvBBwLaiTnEsg7RQE95zIfzkxfEVGeUMTJAsTESxSeSFGDLDCtGAJVH1ltJpHJC78FIuZvVpJGp8Sws1yN7SBSB3BFYaEDAaUPGLqGA4S9BVAPGry4RoS95wmrjMS2SQnSAiGCpwmHYXHJD+JyAOZfB8SV6Q1g0P10mtrzASsWKsRRTdA2S4REs2S7HKJZBHHP1DbH60mOZsmmNymTA4RyimnOZfUWBgmq4ZGNylYc4YtInhY4RQFHFcphmzhTgBFqNItAxhmzAghC5Fn+mzBob4Qd4UQ1HGVLRpnVi4Rtnf0Zp+QhG3RRHC8JHtZhnOkT5qNnl45Q5pnzh3VhE-kzULdcglnLjInKm4SunlhvBen9mJU+nVhdGoGxFoSDG5SVFXD-kUFqklmhSBkYW2TAWemTGoIyhD0fn0T3UURxmuk51NgMm4QQrsn5ayXungWgd3SdgEtbnPFe77ByXfLZhcpQXVhvyBwlnqW2XaXGAWAYsRlSn9BmX3k4QAByAxnOcp2ViZwx5E4x4ZzpmlkRpcRgEyHmbVgZpuJWP4ORnwS0XV9G9OjOmUR-TE2BTE8uRUQsWUbwB1ryRWO6ellIPeLp7FvQM149QMP1gV-JoF4V0V1l-Jn1wNuYYMKNwFv1jgsQQ+4+0gU+ghz0eqTWVKAdfVx5hONMSBd5Gy3NucLLRF-iapTea24exSPQJNjkFNygdmHdDN26TkFp7Nj1t8957N3Zmy7ZoGZveFkkTeMNxeBN5wM1nUXFKiFtrNzeXlZrAOJkvNsKEd0TcTM1T0o1UBOFokBFz5pFtOEdobYWzNzkMYGFGTQ2ydnEad2dtt4NcdP+Ns4XbYFOLdx4OEXy3ZhLS0WiM92QKEWlc20xsof91twDsdSxhl99y8w5kKn95gCDi9iVJV2DjsMJutk+xttNpcYl95cIzdhU5zQ2rDhtpt7NcD1KdtkdsNwjiBuCqj89oDiVNs7C+VdDVwIi590TZg36ft7FDsXLdSbjpeNjx7XjhzGidHIiPAWubwYCIYZCeWlbNUJC0Ycgdh3i0geYRSX1NgxlWQaaNaefefLeduWUTWPQZ6H-YEaMRgOoVx4bQZsoOwezxz350AH2loO50+PadQazmQWzy0S0Nz2BDzztiZULpscLydAZObTkKzmz3l1zmLhzpjcd-4-YpTrIPQZecnRXMqHLkTSyla4rzLNsntDIGUwLzmHgWYGzyQSaQ0nVPVDwYrmTSz0gWryQer6NgcAXF4ZCRilIKjNrjr1Y7zuoaCguKbqM0AdjzUsIHVMLhzzrxL7rxr-gFLgwQgdrixl9woKjVbuoK8qbmb+NQjR-UtdLebh7YTVc+zW8QME7w7rCv85ipUtWegZ1nrvrrb5cz0Oc1rvbibtCugJLoL3rnbwb4rkbooBVcbgCM7674jFoC78GewF4AbwrobrIKtrpBLXKRrvrhLAH58pcRkAnj1QMWHg7t7hbiTpb0IFbtL07o1Lrnr7b-r+kUHg7u78IBVE7lHhoNH6b0TMrQoe87H3n-b5TrASXhEhLMnqH7ngzanvbHcPn4bwiRXxnh75nqXrHl7tnwHyngX6M6oTsy3icsGTKrQHTs7Oc+SMJ6UmRfDgZb7armRZzE+NgQ5mIWQRgRUHEveQP51nE5FVFFgRtJBUAeTmxVC4rzChb4p0Ae38gHT4yrrBPxT5Ho1epYrvLjoHVDTmTXPwvIvil733YasEy1To1Cv9CKv8P4P6sduepDwGIBKWIWHM3pouw5wBLPvinpo8orvx-fe2HMXbvrkn+y0Cfnv1Ycf2fiwgfRfufwfnnmfyf3QSQjfiwrexopR7RoI3orfznkf3o8ogY1oEf5Q8-jwykBLTv1f-Qe-43Y9a-1+myI8bNrfvWIoSmCXwtm5Kb7vXVfDsYQBjRZXMQEQpQgjwkgXTo-iyCMBl4AUaMLsG+R-xDSi7P-mu0N6dYe6B-HQETjf6SAj+FZGiLMG-5VkIIJAkXjdx85Bo94JAeAU4iQE5A6gqAgdDQJqLnkZoWAnfkv20wkD4e93GzBx2owJYCBYKdcAlkwEmRLQI7WYIoOVi0d5ui3OQVJ12CaDPuBcNQZvEy54lsgLAJdvPDgINAkw2IT9HQD65WC0qYwOgM1yf7rkDW9ITqLswcE2CoQzgvLkq1-Z9g7BCTRlAEyiCmDzB0ubwbYPCG-AZeBgTqBrwtZhBohvgyaJIRiC+osgR9FCNYNsH2D5AjgtIfq0izBCvBhQnwdIH4D+D4suxQmIkOcx5c8amQ7wNkIkqpC9AqQqoXlySFdImhL1EwXEJ3CdQS47cQYWYPwBJgjANbMVE51fY0Eph38SIHYF+CZMIhLdZeuDBLgBRJhWgJYeMLWG-AShm5WISK12ZxYGWLQ3etkHaEVDP0YKQmKcPvr9CBquw9JlqGWGmDDhZgiyCsJFajDlSf9aXPSjrqTAcYI-CiPXkf4u5iBb-Mgbv0dKUDXCV-GohHnoFwjJuqPMtLs1v4n8AIswSEXwPaIBC9h3gecBVUd4kDRBb-Y9ISIqIMVMu+wd4UFApEvEmRBIrQESIYpb9GiYTfAOaBaDQldmcIfkXSEFFKtZkAXdkeny0BmBdmvIivOsgiB-8mRcollrfwoGKB6wYIiJNKLpG9ElWzKXYqqJmaMtdikIkZjsWZHkiHeLxQMKqN6EFRAwFox0dUCZG+obRmfF4n+1lGuiESloF0dgyDStklWIogUXUA6Y-8sQXJLIOQDbAHC18W-BLGdReG5lm4kpHqIsC1gBx5wTrYPmmDzGYhZgk7aUZO2hEs8usrItqHqgLQyZ3RZIyQKyN9ZasF6nI8Hs636CzAgxQaMsaiLT5Vj80BqQ5qKKyARjzhM2dZA6VjHxjThexL0dWPTSZdCA5xbvn1BPyyiAB20cVj61VEZjQAGnT4asJs7-cguLgmEYYHBgyYNOtXE8diCoJp8qcjwKbrFmbhXE6AmXVcTO0a6Eh1x-BCsT3Rs4yYfRpgNEWAT-42czAkTbZlcRs5hhYxoAb4gAAks6kgAAILgBwAWdAAErfFIAAAeULrIAjUqRJwvYB04Bxz2+Y07PWKcBciB+rg5wMuI0rXcqIv4j0ZaIPGfiL2lEzELJBonWolWB49QGVELHrZyiQk0oBRKD68SmhDEhCchLQkYTsJuEgieAHElY8uJQHHietjYlkif6B4g4Z+MkDfjxo-E49DKG0m0ACU4wsAWDGIxaTpJOk-iXRJ-rjCGkUww2oGkhHuBtqOJHTk2Eeg5ipJHYsKN5Jj5WiPRLkpIfgDIn1VRJ1E0kbRPpFNErI8ElfGeGjAkB9ORqAAAwdB24JGe+LZDdbmCXkheSgK0H-glTMp6CRgDJnSlaEH8+nOEjwFAmUgGpOaLKd4HKL1JCpPiACHiOU62ASpxbcqeLzkkJYjmWWBLB1NGnoQKpO3GxnuLsAaR+pyEKQDEFTRut8uXWWacu2AgVSUiNJYqWeDmltgKpxfIEC2jsBLB746gbWPOyW4Jp8BOAr7Fl0Px9Tp+IAvaXHBXbzgKpJJRxDIJAT9IvWuxcIbdPuk+sVB5pCGZIDulyBtYECZ9oDN-q6D9B8wuYDdPhlQyGpe4hoBYMc4EhcgIAlEe0V5TXSZAkMxGRvDnJ4DkwtMjHlRklFlAR+KUx7pd2e4r5d8YKLQUGgJzwiRBSI4di5It5Gl6BjAsXjaT3j8ibMNpE+HDIRnawqR6-cQUxRKx8ySKjCQBOvAH7bksZVMnGTTOUE8oVmisqGRAki4ksCAlOHmVbwxmCxzZNMowVGN-r-0QRKqeiMhEGn49nyLk-HF1gYFGoqRws-4GTIZFAgqMDAzZud0NLrgSAKJRsbaOEFT9jcKcvfl2OSHWAPQosqFux3pk+APQhmf2ngCSxlzQEBODEaABDnzhj+Oc5KQz3XDRynxWI9LG9ITk8kk5Xon2ZpG7HWAVZacsQaChKwjytS-A4HG7KQYf85AosjshJyowEyFsUgMKPXPDnszzAV1MAGXKSzPYIIYYsURGPRxM9d5t4XEdPNnl+ZMcYMDuZzCbG7BSe3PcsQXF5HDjwxHvMIJExHHij1kLMk-A-MtGNFDRUgFUZ1ChZTZJ5cBD2faS5Dez758tR+ePMuHAKGZuwZrjiKBGQLFAnsmBbl1QXy0+u5-TebtXLlKidZPge+WYHOBmj14qCy0TfK7mO97RDQ-2vaMmh+jQg9CpsX+2YVZyUgf7NhX3IKghj1k+80cZGKvn-4pADU3wNxigqbjwC+sGRTrkLANSVKdYWgImGXFpg8ZW-bSHjMkIdTekOiuSbFSLjBh9FlootnIDunYhl8eHMNhowHAWLMu-KSiNIoanFiWxLSa0Z4u8Ccwn5RAi8YmGyDzgGp9UrUJUVhwbTcgeMyzDqnoWDiZM7qThcnJLGJTiA7ClIMWE0Vpxglh2PGZkrCC9j2ibU7YAkoEj6o+Rb88caUAlGLppImrPxVtLPC9I8loS7aY6KnH2AZxfwvQOUprGmBUp9geSShKwlXwAAMlnSIlpjSg+UnYbFJOm7pnJDcrfkxIoEsTdJTgDiRpJYljAGpfE9JWGwknXI3WskSQscsWVnKt+SE0ZRMqmXqS3Qmky5ZsutRb83JwDVoIGgMmzijJJkl5SEOhYNTrJpwlEEkO+W9KppKit1sCr+Eog9x-KfZS8v9lyS3JbwzyXajCUvUcSrixZc0qCLLLei0UhZYioJU1E9xXIZVGeDNbNi-F3iyKclMPEis3lpw9yVoHRWFAX5A1MFO8sQaWC7hny4Md32ClUTgMaSnxQ3MdGpiEVpymldqzpVkiXJftWsk8My7yZGl2rWVbZ2VV-CdpPdHaMICvH2ArQ2IeeJqvMlqqzWKfdcPqpICSzsRLLClVpXVU6sWxdExlWGxtW5BtCjMM1W6vGF7iIgn4gaSaJMVbj8SO42UcswCA7A-+wEgEQuTjF2BhV5U-6RsvimvLUMCqQNSxIGnprDMFcrrIBKNS-KoeP4vNfNx1SeMUUwedNYyqHphpwVXw5LvCHTUwrTBKfG2itlq6OtLJxANtb8Bfz9ImWva2YKmKrUrSD0va91eJwN7MUxY00QwLAiWAdSt6n4vFbqovH8SZM2SjQGnFiWRys10ShoFRGDWHLgehaoLjJhLWcwfxZkitV1nHXB4Op4w+tUGkbVHiguUKrIP2pYAdqbAuwLtc2uELQqbJ1PGaW61HUXVH12oZ9U8JnWSCa0GOfhmqDqBQgOpsCZNQWN7X6tpFeasBbvBQ1oa3WwTbDUq2uAOSQp3zbDeUXI2YawoeGmtIuqTW1rV1aa6jeeINSZAKNIqznDcsUmYScJ+EwiZZj43oSBNKkwiXWN2LprINeNLjXRvoBtl1wcIKROIos6obcVxioEExuXUlTWNx69dXEpz5yAiNWQXjQpLGWTK1JQIPjZZqmVSb14Hi0IXJpM2XKlNe81TR+KkCkNiwWtEVBOmOFKwAt5RUzL5oxBHpdFXhGiG3ACgjwwtIgJ9r3C37Ize45REbFhmSp+bj8AW+RZFmC1-5VQpmTLeFpy1yTlB0WgxfunPASAstmDCLXJJS0xbqoJGHQA5ChDUrStafcraltdm+bqAm0+LZgz9VPD5FPm2gLVqvCDb+Y8owIoyqVZ9bNpcW8bRiFkhTb10wpC1S2J0yYwptegNbQGj14IltVpg0YQBvGpcDMSm2vxWIXG39brUcy6qJlru2dCatK24bTqtG1gVqtdACbWmGK0JbLRFwx5OIFqltDchRQ8+pLnqVLBqVRW17SIBe0-aVtX-Wbf6uHnrULqT2xbVVv+11bcdKmBXjbmO1HC9wZ2xLLa0LBXbtWGVGrXdrYYBQWtNCGFO9pO3Mq-hrK6YdaTtScrCd1QUxVTpMiM6nGzq8Futt4U2AulcY+cAcNbJbxDt4CyXT0q+EGjR5qOZuOjrCDE6RWaIMnQiGoAus4QAurLELrH7Ia+oTYFbAvBwFyTRcIAkCtQ01rpJ6G5DTLmR1TaB4JULOo4auGrIsq0VNbTpDzq6Tm7PG7GQPlOEgEm5-RfYYDslMKWvEaBc1IMQVQT34aY6cIdFHHyZGjk6pRKVkjCQV6jzCobunDjujhWedFd0u2cQaOtnCwCeWu0nV2rhAl6KOahSndDudVZYW9uHU3Y7UrF4pvtWVGTAAE4OgAUTKtYMZUGB0Bj2iQFlUZUUDfUvgWYBmoArzMTh+aq3vPIVTOBViOUjHhPrSp6BpW0rQsGgHP1-rBMx8-pIfqUFBDBlYs2-QvsSjyM3JFkY9M4GJR4EPufmUIE-rckv6jgswBSDO1v3wrrFaVOxf8A1BLqvdTKuSVrp11N71ANiqA5do72WqaUEB2xcsG5n07qoTHKQNSpiBnbSi3gdIFyCjoBy9VMmG9jiiGAztCD64jGNAeIBnbymbQOFZZiowcpGAFB0OqAE2Z-QxR-IFEIaVv2JYiUxKQg6ADNYg72DbaSaqiDT3p8591g0BoKxF07RQw+vBDdbykG1q4xrsJYORs-TaG5ytG9DQNHTXBMNNta3pOYfm48HyD9pAQ0Ia5BZBRDB+tQ0fompSH20vawjS0EUNSGlQuh6tPoc1kpAJDfh-w7IZbG6p9UDAfw6EYZ7-7Zx3Klleyu52ll+qNpONltu7Hh64wke31nRNHXKBE9eNBFI6IF1lHwYMY7pVXt6XCw7QbHV2aZhyB0B748jEgytg3UGodotBrxbewYP3sDlLBplGwdU4YlOD8PPCn8E5x1GdoQMRo1Lqn2tH3NYBSLI0Ti5Sty4WXL0VyRlFDBxmJWUlpoeIMlgSjNCFY4XF2PHpU9xBF6qeldmGGK4XgAOKhs-SPS0+b8f-oc0LFqaKUdhqdb0l+NuNC43qxLadqQ6pQRd0rQsXoCzkAAdLALht5VQgjD+AWBL0zr2bVZqPKD1KfufAuHZA1YQgwiaROon0TxGj5csArg4nhW649eIQFKLHpbOCWNk6AAABeVPawGiYfqYmGTDSXE6nts58miTYaEk3CF4MUH34vOj4Ipi6M9GfAiJ4U9ibFMQ1OWv0VQJiQ8CYlSAmJCMYyGlZMg8AlJ6leqcJkimmTvTbU5az1OGxDTxpuFTKaVBAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdrLqPPgmDTAig3qPbqELMrBo6AK3bTrpWUDDZ6mUQ8ISJFiHz0NWYLeHMNid7A1FGiMAIUENiIpDvUBQxIBb0SE+spegQEoWkIWwcdCoBoO4O3QBRhCIhmgWofYDiE4CSczqOgEkOIadD0hoHLIdBn6E+s+uY1RoQeGaG0RahigIYdKnnq5CFwkwxKv4PKF7phsLOJtGUMCH4BpgqgezIxFEYN9d8hw4yMWFMCJAbGhQiOiQElxu4H0Bw+QJcI2HxN3hGXPoXsIhak4smIwGYbajmGOBohaCe6PDh+G5C1hBAC4Z0CuEBDbhmwwTD8J2F9Il68+RCOLTkRWRAB4oaGHAIOTk19BQg3-g3QAHMNt+EAnoaAGJEg8JgRvArsQygFoJcR8gCQVoJjZyUrGB4OsJ5Wj76D7kRgjoWyM0G+FOuuobkUWD5F9EJRwo-Ee4T35ulmm+AK9MVA2K4sVRm8NUWwyK59xZRoAPEXoHqZuk8UnIzAceAlFGimR6IkSJiJkjYjkQ+ovEeyN8JZM7AdveQHoFTSgsjohot9q8J5G2BpRypS0SsLNDbpDRYYokBKINC8io+fRFdp6KjEG1N0kY++h5GApsMTwmou4Hyz8Eqo7gynBlHsKioL0VC7VaEaTkNa8NI0yYTEHWEM5nMzOLwTQLm31G5sCR-icmtKIGx-FFInsGMYGODFtiRRjY2gHvWqELgOx6A6kT2Kyizscx2o4hn8M5F8lCxtiEsXON5AKRgEhHB9IQAcB-8Jg1IZvJ6L37GowS8rS0dWNAA+d4RNwpLvj1K7dCgga3T2D5xa5Piigz+akd-AN70jwefoUnM4joAYDQeBbebo0FPF7l+B5NJLp7ETG7izhfQHRC1z0CaNamziJLmskLGgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwIF1M459aEg4ywC6IXoHiqK4E6CbGIhZ3i1+NIXts2LwSCSeRGbO8TIEqBjj6AUTWSb3HYlitJJC9AiURNInkSqJtE+iUpM56iTqQ4kjiZJK4nEAF6d494ShHAm2BIJc2cyTdBPAKTXw7wogRDjX6qTzOyScyTxL37vC6Ihwlmk4jxELEaqFxQLpMByD1ivJeEUKWXy5GxieJYYlic3wCoKSjQvk0USzlwmSs46JAELqpAAAMxhUaEVBvDVgFIanV1hOEoBoJy8VU0kAVIPCew8pTUgEQpW2I8APk8aNqQMGamMAom92cqT8C36b9-kmgNqcbgrZ1g6pZYsFi00+wqEppNUlRHVJp6EMbxpgNuKNP+R2BCosUKqbGhe6NTppsKOqYYQ+KVT9EZ02qfVNtijQCh9wG8DIBTBWdlgGqVCcW3uiKgQCI0i-gQJWnltzpEPJBD6OPDCdiGKhJ6bYBenSAUw1HdNsmMCAwy4ZKYRwVGxlbOhM2BHZCajNemHSWGnXCYMEM6QrgFgBA8AQqOliPTTAz0gmbv1cHwcvp8ce0GuXdDFdABvhSHh9Ozg14pBZUFwcsgCQkj7+Ig18pSJnEFxs4pQOQYb3B7ylQgKo1WPKViD4z4Zr-MWYYOMGOlreCvb0gzgo5WjbIoQdWQjLEKSQymZs5UtzO0EEASkteTwSH0nbWzfBe4hgjaPrrOBBIDIf4ONPc4Vk-JhIgOrSJpHCCyRVRKmZILSDqxiR1TNnq4KWgkBDiQY+MZrPbKGCkBN0dMVEGqA8TfwDbODo-DsCoTqgUsZWngEnhVzHYRIwQapAFERyy0ec7KfdyWhxz-xYPRWD9MUEpzgxh-HOcYAFGZy3+d0XeGPOMCREwZzI-2XcED75zlYpgniCTNQR2BDgzcqOYGQ8KVzq5vM+NNmNVF5iF5j3e8sbBtEzzt+zcqkVXHvQEpk5txVOWlObx7d8g6vTschKVEntFxfLDUQfLz5aIxAHMvUc-IWzGi5CbongfkGGwNsWQzIr2TqF5Jwg-ZkCwmq-PcLgLUJL842YlFgWYifZiC3ri-MJp7c4B3VMAFXMnjgK7eUC70ahDBaYL6md8iiMGO3SQKqh6QFhQtmRlRBGFD86PiuxyEDyPgK7ThYIpLLuEM2+8rUYfJvnIFrp3oZLKaXPF4UqsPgBRdDHwJVSiCGwKYAeMZB5Sb+SuPuPoo45tSfM+ipRcy2VJtcjpWMlkDy2kAvSigH6JGOxzYYu5YMxim8XXQlB5TCZ2-EcZKPqigBpxwA4ObJCmC2o6weU1qZ0AHi7T-g+0hYPooiTk0eF841SCwh4XDj9WpdAMdxIHnaLZAVuCJZQn0VcKegISwMj1Nu7EAU56Sz+b-PqYrjaOrKe4PSz8UhIwkJSqJUdOTFrizAG464fEzSXbj4oymXCZpNsAUSzwAAGTtoMSXEvcUqRDlYkBU8pmUvJUErfnrY+JR4mkFJMsDCTDJ4E4NOsoOUWS2GykyoGco45XK5FRoDSYRKmWzL5lBk0YEZNOVVSNlgShegFPXpgiDIVkksUZLslU8oJjk8pekA0V3BXJewn8GGKBVDKMqaHaFaIFhVDLpWnXOumcqynbK4y94PYYFPkDBSDI0SsahcW8VyK-FIvQJclKcSpS2JOKzZTxJvFwgBI+idpQEqSmij7xLAX5YSpeFHDOSYigeI9Xuh-LT6IQkEakJ7oLgFYG7CScki5U8i6VHkaEdiq+UKsclOoZldlKVp+lPhnXKmCgxyVaqDwITA1T8P67k1XQggd8WYC3S6czVBrBqMavpZ19J2tqkgHLIAldziGbKmiiavNXOqLV35H4Wwy9ULA7ORoFVpaqGU3iLgRkkfpaIsVktvAiEy2XqhQlYCM1rK5TqYFilrTZpAkhSbGng5Jq-ZpayHh-HgmqQQV9kh5Iqosn3cP4UjQ8GWELWDKAh6dHyIioRFJcjcTa9FQEI9VBB8gWCFroOtMm0Bh1iQQfALzBYKTNA0IttdtI+hNreVxg-WTGSnyswVAIxCZI1IbpGS-Fx08muZM9iFLdFhwZJTHOLl7LqQyazZazJ6A1rSunsetWCocnPqW15NVdR2ranvCe1HkPtQ+NK4Ssqps6lgKOsCDjq8QA6vAnlKg3zqzQy0qqcus6r-rxEgGlEdh2PnSx3E8nMYCJDakjFO1CwUtRYt8WUb6mJnajU2ozYmcFJja6dc2t3VgRiN5GljWpNoCxp91BahSSIJPWlqUlAdCoAqtY05JJl2kyidRLongBbY0msibJr0kLKVCS65CJ1XE3kascyEk8LkEibsba6nG3xeYulj8bD1+iY9QJNvWvi2+0gEjV8s9iTLplcyhTWkBc0vK1NYLPKRhserab1l75JaPppyCGaZFKGWgLTWoAHSNgtNXCDzDjUBDbWW5IGHFqbyxb4tELRLYkDYaxbotSS9hBlqEBGgitt9NhTMjaWmrIcpW+RJFsy0mgPewZbLXyuUxwaMqvLWEm6pyXwFIt+WousfGMpRaDpg2+LS6M3UWKUtI2pvFNrK1NKR4ZojqbMNaGgjZVRILrcGshwza8QW2n6Dys+ENaKqnVQbflrejLgdtCwmwGlrK0HbdizWpDG1v02MBOtrSoNbSwsqXa+tyyh9EVE8CnQvIe2q1dpwCmCqSVcqp8glWt4fAEh622lq3FEC-ahGr2iljB0hVmh+lRY3lb+VYaNaWQ6OrtTcMnnjzYgpOG7SGTiWGrq4D2oVs9rcANgkdn2H7Q2H60PoxJUjVGO9PAqtKNBWhX+jTSpCANcQN4x9oG2DZRx-td22GJ+QFVBT7MNkJUfFRsis6sESgbPmIlIGox96CLXbRQP3rmJ3W+VdMXR3EATjJxeBC8IxxagSjsyCld8ECReZjzGtJ4YXf+xejSt5mJ8AsQMuLFIrJ5HzRZdICd53amYD253c+1Sg06vwCgenZoFD2i7KCxhD+EqALaWUwhnsAAJz-hRoKesypjtOF5kBtNgKyryvroGgfAmgCyfeXg61lCM95IuchCsAFEipPMmoYXrCGKA8WeLBqGgG70wbBZ+G+6NnptAQidZPQQfcXopA6oApN6G6FYA-AX4nZO6oIGPoCkT6k0mgJPeMFb1mUvFDisys4pijNwD1Y2z4YqLDVDLg9E65ybvqcV64XFEe0cNHrIjX799Yo1CpBzsDtLCocGhwgeHKBwhnGYSpSK6E9iDtHwWwAtu-tPGGgVdxAODdQ1-CYq71yEbCIwD-2a0qmJ7OEK0WFaQ9B9GVd8B+Hf3BKclBfOAz1Cyrj1TQeBvVsGtdAhRPelUdHurEE3KdVOmIYjdjDoOQ86NjUsjcxqY0bqfMXB+7urBQNoGOoGB1SNdi1Fzpm9xgPA5lQIO9Qm1ZEDg2MHIMEH+oDBgROj23XpAFDSh23fSySh9jGahh98L3oNFb6KI1k8VYStB0GR5d8pGg7Dpzmq7tg1wVGK6BdHLrjdBATqroCqEw66WkuT3RjuslVjgsBHcLeblDzDA6AN4HVF-qwRnqA6wB1SKAeHaQHHIDgGyXAZhIIHjBj5AeDkmCMKtQjXgdcd7oRGRHqlTLJkj4RZLDk8C14X1mlJVQGj5AkgTJrvE+ZoskdNkkgZ4aUDeHymjRm6Hrv8OPVAjGA3HIaVS1tQvoee-FX0CZKzQOO1WurUICWMGKcM6xqJvHhq2RtljLs3gtdCiZCx36W2r1t7gsVrHzjRmkPK7C207G9+iM73AcfYTnb1jH-M4x8ceOM7Ed7Sn49p3eNB4sA7+gY3i0M6KBJxAAHSwDUbJVIkVg-gBGLxMSdVVPKpJFsid68CYh3kux3-CQn2l0J5sbCeqEImkTpMvXCpzROMB4mKhQgA4RughMmTmgAAF451QACJqIP8tpN0R0TkxkJlyZxM+Q8TjGX-YSYbSm8RocR+gIkePDQnkTAp+k-Ey2pLxXs3RhqKUFhKkBYSfLQiHi1Yh4ASTpq5UzSdRNCmNTNtbU3gV1Mb4DT0rCU-1CAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCslUOeB0A1mqLKkvtdDexBEASfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHDgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBOQYotQewYAjtC-jfm0jQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuV4dqoYDWL0B4dICbLhGWIfhkfIXBJ+LWMkdPoKhkYdg4eQP4nIA5l8EBKztzgMb7R0fyvMFs2DMpBhN0HwcGN+J72YdkFYf7XJrbu0Y5gMe-XwZMDhAYbcc5kcRYAkarngdcGbiCdWC-jkeFjhBoeMRhBzjMHODIRfULMDASbMCCELjSeCbMAWvhDvhREibuUtASekYKcKOAaiB4bdAgct2ge1gSZcTfhfVOXjlDlKaSe8R+BJDaR0SUXSZ6LkdsbWL8eWG8ECZKfBXCbwZOO8WWKIdRIgQ-l6cUTTnSchLmaUZ9vsASwCbIcoPCeGRyc+RWNZRRBidnW2ZMcGOkoMdjp2f8fGfQamR2EsMacKT8cGJEtmFykmdWGHIHHSfuZMbGcYBYFU38XONiHecKDkYAHIiGc58GEXYmrGgSTIEnfHNgEseZGATJcXTGLHRRQmlY-hEGfBLQCXVGvFmKcg6gjjbUjjy5FRCxZRvAWWvJFY7pnm1srndHKWlw8XvbAwqXgXdmnnYnPmBXvAxq5hgxRW+XOYqXgDVQy6K7SAq7KMNV6pNZUoK1dgQmA5PiE40wFFVN1sVrWmTWhJZgVmOkwozWW6whya1WOQNXKB2YUMdXbpOQPH9XqHeTun-gzWinmKCmgYg8lmSQzWIXVEaIVW2QCWdRNkqJvW9WzX914UIgrXQ4Y3AtbS39Gy0NqhFmiRlm39mclEY2xzgHDAfbdXOQxgRkwtyak2cQU203fWpjY0aJPyC5p7+Tsi4QRKinLDLRaIG3ZAoQrktIUGygJ2fWp2Y0A2XmB2OxpHpLR3mBF2m3wVYm129RpHXXK6PWtXPQLnYWxK00D3MgnXQgXXy63XNWvWF3Uo-WY3Y3LCb25BY7J3d3c5DyWMn0s3XBeDe2f11ww3TNS31IwODXAPjzYM-143vyu62R3Vg3e22DYLtN-WinLQQ3eTVyFF1yllVlnBK20o5hsQPUCCJxaBtUe2DXsPXncPCPL2ODe3YniOaJSOnUXVKP6P+QYZjkAo2XGBLdyAK4vAA46gGhWgM3kjbwMP-XpHxPFQGHrhp3G2JP0IPFFOiWKDF1hOYlq2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6hOGC4VLGdYv4vBnQAhaWgmnVE9p1AIuZAovC5LQYvbVUueXBFC5iu4uCjvFMswvSA8uCvAxKvSuE2DCG8XhkI9AW0ntMcyobOsgwtmLdN+uZATNDzES-4AEGvJAeBZhIvJBJpdTcV8UPARuwtZRwv5vZu5WBxIc+uqHDzUh4UVu1vsiMu6hlyC5zua3INEO+lcVmv1u6vpv+AAX6RCBVuDubuih4VHuzv6VjVhaTzf0r0Aeb070+kgPrS2V1wmumwSvDvFSv4fyfzYp6B2Xpvtv5vXvuylw8zluPvTu9y6BNv8uZu3uMcXsOusg+2ju-PCeAImzzvLvH57AXhdvevqfNI57LDcotvUbcPsf4yyDqXXFAw9uufRxke7ubT4M-vifSfOYcedwGfcHEeUhn0-vHhmfAt7NCh2z2f3vPvbOsA9f-jLDLChfcfPC73KsVfjeafCIzfQAofgeUgDe4eUvhfPR1fmNkfUPQgAoDKtAPPGs8z5IN2kSAEL3vEf4o-dheM342Ah2YhZAJOY-qUH5U-2WNjpl+jbVGs+PyPQBLOiFdyRuLSgyuHnBg-yAPPqL4NS-rPGfiUrERuuug74NnOwsm-JOAIbn4-qwaL7PiVe-0J2+4Rs-0-WaAorEPAYgEpYhFtve8eWPLDl-rfkD5-6VqzFs9Bt-F-VgWPLQD+Lit+F-d-TdT-dBzDAxr-VgGH7-875wPDSDmEshbXnCWONv6uN+QiGHB6b-HBh-2t6f8-Ca-XDnPwv5L9KGtnTfmAI-KtdDwyYVTkp0wIRxzo+rQsAU1CLfASwcYV8AuhI5MAkQ2OYgCaX7xHhJAnnelFkEYAtoAo0YXYE0iw4Zk4Uh6ShCgLzZsDTywWe-rdmgHskC6r-Ygf-3Yy3h+B-3BoODzqAtYH4JACgVCCoE0C6gdArASQI-L1kZozA-foINIz39aePWYDhwL2BsdwObvQWJYSYEmQCO4HWYNYOVgftvurvHgTDhQ4iYA+BcBwWayQEAlsgLAI1h6n7wNAkw2IftHQG24hDdKYwOgItzQHEsqSBgTqEUyiFhCoQsQrrpK1w6ExOotvBKqIyiD+DAhyOVIeEMKG-BDeSQ0XkrRsClD0hk0ZAjEEcRZBy6KEUIeEMiHyBoh9Qw1oWQiHmtQAdQ6QPwEyG8kx2fYfoXkLuS1Umh3gFoYCjqF6AhhGQ6odUC64nUtiRQncJ1ARJOZyhAQ-AEmCMCKQeUQMcwocK0B0pIgdgX4HoyKHu1M64MEuFwSOFXDNhtw94eCxY5JdPhAwjTC81mHF1sgCwroWkJroFRCY+wk2usM6oXCdGWoa4f4LuEVCLINw8FrsNrRUQ6UUIG5P7UmA4wN+FES6BoM8JXZ4MkgqonoOEGlE-+zhJjOuEkHa8weJqIpoAMJFaAEBnhLIfCKCh2VQ+T-RVAYNmBEjORuA3CpcO8Dzg+RnRfYMSJFEkjzhkhaRvgHNAtBliRTOECqLpBqjuOOXedhyMGFaAzARTO0tYFiYRAjwk9I0ROV5aD186igesPiP4SyjhRBokIuaKkAW9rR5wVjmmiJEDDZRjiKUSH06KBhZRqwlIIGH9FTCCogYyUZIGlH7MrRXSfegKktDRjUxbKP0rE01Gqj6WvgtklkCk47Z9h-lcwpYWqowiwqwsMUTVEWBawA484dTmmGbG0BZgSbF0aACTYhEyRwWaUW1HxR6owscY3kSGL0AdiDRrY4gLPRqHUpuxdIwzmMRDEDiCUyovMRnxLL-CUgDZC4kWLbCfDGsy43VKYF8GEAxCC-PqMmMNZoskx4Y2sc50RG3DIuWPfLnEKBDLcwsznBri+OxDP5FxIOJkdIJNRqZhYCjOgL4IvGpt5uhIK8b2LraRcws47I0fSMpKWjIuZgORgUwUaRcwwRY0AEMQAAS+tSQAAEFwA4AfWgACUhikAAAPJm1kAxKPQu3CeJ19XKU42SCOOnEKiWOZ4pYJBOTFBiBhD4yCU2x04Y1BJko2Ng+PUBlQOJDDGSaUB4Rp8JJ5hQicRLIkUTqJdEhiQpLZ6iTtOKkorJJKcDmEHxB4yCZIGgnjQuJ3tGUOJP6A7JPhonNGAv2UnstjJXE0USx0+HWIjh5NAtESPcAFUNiHnJsI9EbHuTdOYUIKSwAF48juJIRPIaxI85RSJJXkhUVZDwntozw0YEgN52JQAAGDoO3FvQrJbIXLQITUktyUBWg5eSqXlOE6MAwsOUzVH3m85rEeAKE28K1PUT5TvADDKxGVKYTAC0CsAkAb1JzY1SLuEAtNHCHDZXsfAk041sBFqkU80GtYuwBpBGkAQpAMQJVFy265y9KpU09CLVN0LPEKpZ4U6W2Fqkd8gQAUQoUsBWTqBtYBnaoIpktEZtUsS46nMNL37EDlpcca1vOFqk8luElhdjuV0sJPTJAL0uQNrFsHwcYxZ9OwM9NemODwO4MuNrsGOyLjYZ8M7WK1NrENAgh8XAkLkGIG0jwB2KR6WjLhkYzSRbAnzEwhDTUYvEKpPUUAIAjQJ2ZMPSeCXm+7jloMFg3gXWw8ACCd+jBakbwVFFCyQeEgpnsyKMwSkH4Ko1jBKTfgEyMZAoq-oYK-K2YXB4gxuJDONECoH42shGUmM8IZMAgcwemYTMcFlcvEb8dWbIGcGeD+s7BB2YzN7a+C7RuI5FPRE64b8EyPEgXOSMEGSzD+z-axDSPGlSExBdPXQVLJ0CgA8mOvNgeuBIC7EExY43WZhCFE2iahYc--sXNd4szLRHoLFMyTwC6Z65X8a7FHOJRP8ZZJIUuQuI+kQR+BGc5WZlzGzpdiAucxMcv0zHWAC5HaIUab1sx693RLsuNtiO5lwCO5fhY7MeWfSkzssUgMKGHOpkfkXCdchuV3NvC5jtR+Y78jLwVmUg2RCc73nLNQ4SYwYOc4EnnLYmT1tuuwHHj2PiHOBzyjwU+VkHpYaitRgCjcTYGmRczdgH8yaCaMkIejWZUCs2ZewDmKAg5XITrlAtRpfznC8Cy0Z-KQW2isRyOQOaIXQVZBJ6OPTBTxPqpgB65umeBRb06hnALgDyXDvgqKbPzOYiYsMbkP3phjJoKMsIJwtfmh9x2vC2cdUHHYCKx5BUbMbyQAVqjfBedSiK1IOkgCJxCU9sYK05jfz3x8GRMNkHnCtSWpWoJEDtOQh7TcgxMx7PBmEXHiwsrKYRYmI0VBjBFhQYsImDPFpgDFNWYmW4pSDzjV5i4uxQJFXFDsQFOowpFuL7IjoHI4DbRWootjX4TIPioxYdJjGFj7A+40sSEsHGmAsp9gfCURMkCUT5kAAGX1qMT1MzcEqVwXsCpTWpnEiUU4G8k-z0u54gHlRBMm8oimIkzpWMEaXdLpJbPWSVdIEj3SxY00RSWVEGVqTilpSipeAD0lugDJYyppQlPMK+Tx6rQAtOZNLGWTrJQy-xWEFgJcsnJ+wlEHkL2VojBiC005VkHOVoiUQtYvOoMoym6Lq+fgioXCICnUpjFnVDYsorGWJL4prihUclPqWuU3lzSxKc4VrFchj0Z4AluOO0WmDNFJIx8V8LaW+SflJwgkkqIBVeItlq9YIaCP7QtYb0hkjyQ1hcWSjRRMYqsQ0iDicxBltKlpZlK9JukoR-s6PPEplYoqZWnIzFUdOCw7RhAn4+wFaBo7-AFWcIWHHyrxaV9BYYqkgErKAkqzCkCKoigqvxbaKhVvw2JiqtyCIFOsCrLlWiNrERBIJ-fcMd8O2hQt9ASE-JYkDtkWiUBTqjEdNEMC2olgU42OQJKnHeYQOz-BoFRH76Br8e8GBCcSgOVk8YJga77rij4b9Excfqz4eHRFTXKkRkXVlg5NoCPL-BSq0ILsHywNdc1Rk-Nc5LvZvM813Exlcmq2nZpa1wqhDiLOxQnZCSUnOwGMv9WdLElIqutlxLCweKNAacaxUCBZnWqMFMKvmSkFxTRrxAnSqyXGpskzrE1+ixwI2p7Xpq7gEpLNU+Py54Ezlzk33iWqmA5rOWDyqtX0ksKtTZg9azdWLl6m-DW1vWdtWhzEBace1tqNKS2NrWGtVFga4uSWS-WAb-1sTL9VOIkb-rNOcnX9WFCA3YpvV3av1QXQDUwa9FwWTIFSuin0Aws6k0ieRKok0T6JSyoEARs0nEadJVSmtRWrrW1VsN8G+gIeXXBwg-4PjZmFGTg2qLiZXyZDUsF6loa+146sWYSkY2NL8N8y8pZUqYwEaFllS4cbhzvXTCTq4mrltDi9nOA2NJsCCVIE1LFgCawKONHasSFxoGGJWAzRiH1YJdNNhcMzZxsIICQ3QlmkQExxs2CxOOvcBhkehPTngJAhm9FMZraVJd7Nky1UCVi0oBaKA1m8wkjLsLVQR4kWjEG5tv7BhQtpUmQDoAchQhkVQWxcXFtrEGbqA+0lzbvX1VQiTN+m2gFFqvClb+YsCsxZ8NiZFb9pI8OrbJHa2rD5VyKizdVqs2dbekzvf4uav8GE4z1gxOlkcW63aKEC1W4rbylqXVRIt82pYf5uS3laLVlW+cpzCS3opdtu9P4elkDZNT5hbQ7oeCMwTTb+VEWtbSIFW10AatlREbb8HzRDaVNnVZba1qc1+aHtyW+7Y9te0c5nt6ItEONrY2MAptvKglvpX83zaZ+1UW9FloXRCoMVvwnyfsL8laBfl3ic8iFVN4FQQtUOhJYjuy06rDmEYolbuKyUliblfpWBG9t6KZLixmK98lyJnkKNhYg2lIMDr3Bg7mWkOrtDqtMwk7pI8OzEU2HyyYdmObShnMQNnJ318a8iYekuV8HHt3WnrRVCjp52rgXSGO3FUpBcS46XEfUCXQulT5ThCB-wOen8ye1KE56ZuW1slVTGrllAM4iRUaTI7OpxRhKI8LuWOLTyhtcINXc+xATPK0uTO7JbTpwWXNOdhuhwr8NB2lqg9j7E9hro1QC7SU0kIXbMGD2nsUMrNXFApFTYGVQhYWAAJwdAg+EgQyizvc1V7tKoQzFfnUcS+BZgvKXUizL6HOq2BFc+FM4GyKFSWegw6vaEL0Bws4WhYNAFPqLVGDoemCEvbpSTGGB9ZYQBfaegx2JQkGvkiyN7WcD7Jz8-vMTECDX1N7N9RwWYEXp+2GUXlcgF6diDbQdoNQPqjbaNpY7A7E9lrW-bpQf3IhCwV2xVZci-337lgJeMXdNFfacgydMQM9fGW8DpAuQCtOCYSh2hhY22GyIYKmwgNNKMY-waA-Z0OJtBnlTGZ9K8kYDwHpa6c-+VyCyD8gUQupNfYMT2T7IsDXY7RYurPXWAmDSoYDbUJH2L7RmyKnaKGBd6Icfyz6P1VJ1di+q5O-aIQ3mVA2VSf1UGyDc2o8RyHvuJBuA6IQoN5M-o2o2g0PoYNwgmDeyYntSucBacWgXqEw9wZcEo9L5KQIwyYdMMEs8UBKBgM4b2Qz7rAJ+g8X0l8nY7qURujnAIYSWZjzdBAveDtE5H3rXdBAWqhMhjH-78WQMKnczoPE1ipeR+x+VvnIw5A6AKyJBnga7CYa62KB4lGgY7ZYGrROB+5MQA4MEGiDpRwlB4W5rJHxxqR3QHuJp1IjMj3UxuIWVaMDCEQ1AJcWxIuKGihgMTWzCmmxZKsElER-kJbo6OFwhjsRx3SdQmS6bgVUWHUsFoXz6xfAAmYkfcuwoOahOnisdYdOP5zt+1yBXqR4l437HEhgYJrodOdm9FaWQBn-YU15KYMBwxMsbdu1Shk64W6nPQBIoAA6WAQDSSqhCSH8AtqQJpzrypJVPkbKCfc+C0OyBqwWB0E+CahMwmuWEjOE8sAriImwWVotNIQHjLe0CulhGk6AAABeMdawNCbCDbKyT1iJEw7tRPMm8GlWTE3CFIPwGzjevD4HkfoCFGfAYJ0kwiZ5OzUfmv0VQEcQ8BHFSARxeloyDhZMg8AeJ5FbKbJlcmKTgTRU8rQm2qn1Tmp55UKaVBAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPMXVQAVqoah0KQ0TsxhS71ZrqV6H1uwC7rUiB8Hoc7yY+U2AA-KAuUx3HCdfrMKc7yFaYn9MZ8FQpSnz4vy+UKvHrr1opvTkswc6yRPoyd+oAABcQskTbxoqfaol9r7n0BuDFSZU1IaQQbvJBhRYE7zDHgBCDB8DMDYFAOAiBkDoD4DwFk00VCLgcrCLUyg+4QQiLIBQSgAGpliAyKB1hL7gz8MImBcCSRCIKqAFBGRHqEF2CBfEACvSYIJESeBDJZjsPwdUWBcUYxTnPKhT8YUZEFUvswsqk44ymObOY9Knk9ESMMVIJC74zGh0scg0ANiFzHmQg42cV4nyuNke4gO9EXT8nKBI6xHpolyk1HE8JxAOFuJ2PFRK-RkpP1SgxA0CT-FJJyaVVORTjC6IyfoghOwDKVIscU2Rl9zaSAQnoRpEkkTSQxuUN+sihlhEaW7AZEjhmhAiQVKJEM+Z1JSIk5KcyDDcxui9IY0NKYDP8bUrJ6tjbxNaaU5Kds2F7MiTsbymyKYXQWWEJZZVrkORli4i5Mz2SxyPmElpVi1RfJMjYzQ0k9CP36oU5p8QakcMGZM0IrU1JqNkmAnZej7mhEIYwZgRxo4AFViCPXLgAdyxNifkqgqKgAALRUpORoBywl26HxMsIUBVd67JEoPgUAegIi0UoCwXJyglidOEIyWmBdmX1QFUKkVelQUkDZbnJkNhOj+LkLIcQ3LeVRlYLsag9QOnyrFXvawk5gR0EVuQUAdw6XAv+CnMZYrYVwoKn1aSxAoTsMOLQJyEzXU2BTj0qSMkFXEBMC6gNsiwGRqjdUR+GSfWpKmCalVYR5ZSDsmovQdErXosWXTNeSxiweqmLmuQph-WSPqI0ZodQOiqvVZqn0NhvDYrDYWfFhLqAkoINVDmuwZDUtpcy6sqqiIBQRYoJFuC6DQtNeucuo9wE0U+sIy+wthGwP2Icbe-CQXoy7lXWdEbdkwqrTYKdRbZIjxRTvT687VZgwCeUvJZUCkVXORwiVGbliMCXHulhILer9Xqi0VFtT80XztawkDtFBoxgg5koZhD93-DgwNeaSGn1MKSSs4G86JVcp5azFg7NOb4epuKltGwII1qaMQFoDbG3yE1cRnV4wORkxua84wn1TWFHXEC1hh7uMvJxkTaYejmPWDVaxodNGbDmtE5EYwRabWgH9cJg9ncxNbIug+6TUD2MRCzYuB1unVNujUdR-164VO3CLTJsIcmNUKbsxBAJKyL3gSljxmGuMpO1Oc6EbooWJ3VSvSQZ0jHWgaQ5bRlyTclbxfzRu5uUDt0HB8HCAAVNFmJsXcvoKi4iQr4HAypdDAASFCBFsGS8cgEkINORxc485diBCZ7aazeYhglaEc1wMNNzKxgqDraaUi-rZhzLmPMDq439el0o-rYGBy1DcEO84DWtdCf0WSDn-NpKoxGnzKRGvbZayEtCiH2nebjVGke0sAtE1HECVzzaoG-rsY2NrPz4hLavjCH7u2bvzhxB2EMq2dieJQn9qpla4UoJhLD67TiVGdkgXC2BwtnPdD9tVAJZz0nfpbeat2GmXZjIZM581GsQ4apG1t5roOnGyTdpNmaJZQAFZSS0BgtrSsxfA-T9QTNEuUm0-8N2sahnuo20oRNzBk1dM1mL2YvONT88fTPZ9STnn6a-XveSqhnptT9EWvQPmpc5szE05xUKzvVDRbr3DyUYu8cumeve5q1EaZtx710ludHe+czFjHlvA-agh6BEPaj53OfXGo13qoAmo6Av9r3eiJXh5j6o8zeh0-eMxBj8Zzu0OF+TK+YJGf0LZpD3o2X1gjNqusO3F9xj7G18hVn2pOfCsR+zSDtHwE8+Y6bzB4Dnfft7bbPXg086J8t5wCQvSZCKHsGoVwOhaA1qMJIuCf9-wqLG4gpSh4tqohLhT2ydpnTg32BkrMGX3uf0tV+tGMjBrPVGu6oDM7D+fSc6oAL+y+-sn++qhqoqp+SW94kcUo+AhYEB3+UICEps00QaLYIa-S+AMBlIK040iBoAnUWcbIjq1AxkoKeBP0mMY0oKswk0pBycekiuygSaTkuBb+y0kwbUhBswG0N+Yg7SZmmEJaro1BNsUocIIhS46CYh-IQ8Vydu2aNmXBjccB50lenohYMhd0TBw8yh5mCG-IOMqhLa-cSMA4NmOGqeZAGsXIugrB7BOM2e5hk8wYYBaMlm5C8CrhQIFhm4nhz6dh1AsgrsLKkkmkr+5gdWEu2wO6PgPhfwCezI5qCwSwM2nM3qyuCoGmuO++t+puIqkRykHYwBSKEhoACRpReo5R5mbcAUSRL0mCB2kRawsRBcloTRihTR16oKbRFgHR+MlIgY3Rghzg8uP+2RvqEmLRswHowBHgHIGRfebhy0WoOgCwNRmQNMF+V8GxWxCxUGIiVR2Wegd+JRY+dRGqp6SxYR0yHyWQugWxVxZgAAPPsc8fMFoWupMtYlitQDlgACoZCgAKTEDYhqhVzuAwzgxKJxwtCwJwigAADUmmD21ghg0QugXK7sLRZgaJ6CyJaJTuoQWJMQOguJPxWOwymK7acIIJ1ABAMgRKUJOgMJlMcJXylAiJ8IqJ6JGJ5JOJ+AeJZRBJ8IhY-JpJNgQplJIp1JNhokCiSig+BeY+hGLaAU7C4wGQSkfh8a1UF22xGq8xYuAmU2XCrgzcxpvxca1iGSOptcVuGJraIRDhOgThORLhkG0psCY+NqjwhM+J0pJxloRxIZkiRpO4+JswgYRxnO4W1Q7G7CAZl+zwmRnpMxChA2hQbagJxpnaxA6Q9QoAGkY6hQH27mwyymkRGmKmTR28wWHmt4RpvRVx-RSIp2LpgakRfR3RCZ46iZBc2pGsTpy+TKA+Y+wemCppcgGpQIWpDpo5epqxUCAURpVxs5CWQyv6wsNpxxBaI5upzpD2b09hFJmZKuaKZ2fpmCqZhcrxpJl8sgboYZ6uoAHoB59SUZw4MZcwwY8ZIWjaxm2qKZex6RSgZGs20xya5pYQeZRwM58I+KxZnqpZSIw6aohWfkA5smTaVZQyNZGFtq9ZJRRmwy64rZvZ7Z3RE+AavRM6-ZQFsm72-hnmS5x545q+3U6+rAm+nAtCvAGABRNk-KgqVAwqv+B4YanCsBEcmhrK8IYlsq6BqoylElSwAqQctyocYqE8BMlhZQJqYY5q6llAklpCGmuU7818po6CNgpokyXZKQ181o9l1g1oTlTe18CR7lpxhwXlNlv07Efl7EgVhQ18CspQ6CUVcgsizlIyv0CUdAQcqg2I6CyVqVkJBUCV8Kv0CF7lCFwyuVl6v0CkCwAcHgdAgM5V8wlVDA1QJV1g18KJflNgegVEsw2IZgdwAAfKAJSmidlU1UDlIVSm1dYB1V1T1f1ZSrSsNd5b9MVrMCkFNaAN1TarNaALlutdYCNdfMABNTyp1etTNQNaAGAAtUFVIQAKRHVrUbV9XnU3W7WgD7W-QX5tUPVnXn6PDdWLVSEACEDwX1J1j1W1wNtq-111UwcIbx91YNP1oAHx1g0NEVv0bxdwE131m151mNqN71UhvVCN01uNlK-VBNANsNvVWNK1oQONT15Ntqp1VNegcIgNR151oQT11ggNNgJ+78TIpl0Q4l5lcq3UGOAuUCn8g41IswZlFla+QtxiVRItsqUlJe1AHgs8TYjMNq0tikYauNPlatGl6C2kqadFNgCt4tB4TMWAwtMqGlxhDYetguMI189Gda6CXtsWI13ZeVUhkAxADGiU6VK1wdodHM-tAdzVZVWgdVsAkA7ltVkgSdMdsd18qdAAon5TnRnQHdfAAHKqBF1HUl1F1fkYnK3c420u0mJXH63VAy3cpPVdGnp10g5MyO2i2SXD5IpN2FAt240W2Mjy2m1i311xj20BRSp12iqKpsnnSVFSoxCSA1qMByDYgXnfwci-zswnlwp11aVZAKi6UkAF1hA5zL1tBhD1bTQvkqkwVOSVGTFepK5ZlTA+braep6Dz0sGbkCkYmd3T5kwxnf2xwbZ-0T2K0S1a060UDAERmq1O2T3931GX02AQUZnP3iEmUq0QU6AaxLHvof3JojYgjKK4NxJMi4BgCWXkJ8VUICXcCYAiU9S0BRCqAUCSA8yGDoQKSMDayw6VEKyeDeCy3ewAVV4AR2hQKXzmTSNBJZB2j8lwiSDEliLYlykmTaQiM0kpCwJ6MyPIQlwBSf4KRcw9LSSNTaPbnDHbDcOkDuCKysIGCgKkCkBnUMBol6BOP3lwjImXyBOSJEn8lOOYMFSBMOx2OKH8TkAcy+DaNKrAHX3xPR0WDVZsUtlRAUlqNs38kWOUSyDWPgYy1pObAcwpPiqEkmBwj6Gq32CzZ9IsB+NVyiNWlKw5xpbwjCxwiZYNIwjdNnCnASIcZ7mBjdNmBBCFyTPtNmCQ3whoI9OSOtDDN7FwhoITKXwlopg8N8Ml6CPazdMTKwIcaHzxyhzDPnBVo-Akhgr8SfpTMHnBMFNonpOcwtOrNtPVzPNSmTLImaNTnYLwIPPPxhRTP-PDKAv8kfPLDeCtPaQorPMElVooj9MoaNMJMmRwghVKrj1NOfMIsGNhBRLVEnN+IfNs2+WzC5SWjdOxnBhTMEvYvwuMAsD5qzK5OxAUuFDBMADkmjOcajgrAzspVJ3TDTcLPMjAJkMrG1axjce5fw4jPglo8rkTwy18OQdQRJgJRJ5ciohYso3gRrXkisd0JLoQl8VL6rS4srp6gYGrLLzTxLAztrfYzr-5A4Xr0r9r3V4xcw2Ig6uCHTewZxJ88jhckbBi-iAJPgO8hZ3avaH6aUQbg6qlE4nDAWJ8ahooUg1RMbfL3rZQRbhjcb7aibyFBKxKEx4KFUXOpa1VipYgJrjAJe5AFcXgAcdQDQrQubir2wA6-wubGzbbioDT1wUI476EYyA72TEUm48hjMobVkeAtc3gwEQwyE8tLWaoaFow5AdDTAfFpA8wikfSoAa0PKsg00a0u+u+p8E5dAmsegz02Iswdg0YjAdQ9j+8yWZQX7gJv7LzPOnqtasWpz-ie06gb7MgH7hcloQHP7-GVdCjfYyHIHVaa2nIr777jLA4mH-Ggb7S27WQegPuKtouZUZHQ67tUhuWtHxWnOk6ypSk77kgPAswHHk0OZZqKtlqHgtHGmsoeH8HnHBHZQ1HLwpjuFWqN7hAQnAE95vtLQcFcRzgqn9aUClZfHYQ5qmHInuHpAcHnM-AknBgintHhEwy7GhnexWn6ngmdG4HDGTG-qunimsi64gYmHcnQ5KQYWg5gaas9AprpnEnoAPHs5S4cFQ2VnyntqonJnHHXHJbquDOMnKjcn7GgnwnDnrndaTnmJ9gLwA40ntHVtQy1RuUqX8tZx0XH55mY9yDoQgYFXsjNnFZ+Feng2Kt9nWFL7KX4n5n6XeXnXzFRQ2q9njwjnOZtWhQL5ZX9ICXO7WAC3Lp1R1RjXNmVXD2O4q32XTIG3oAnnZ2S3vnTYwHMXMg-nwXgXrFoQAUmVWgZ75xcF8kATo5iiuwGLSOV8bHPmsCbAGzMQsg7bf3rql8YPprTudJ+ZLASbtboAG7TimFtH5ZLFGnoAL35AZ7+D3OqPW7iXYJRRWX-wNdhgoAh7GmRPHbAEbN33Si1Yple7tqdP6EtHbNMPEPtDAU7SHgMQCUsQsON3lR1RovTXnoihgvnqF5sOegsvwvqwebXsrQSvFJMvQv8vBeGvuglRgYevqwDTRvkga9DZkv3Rqvg3r7lvbRDTb9leyjUR8eTAnZ1v1RAv2vIvJjWQYvD89v99B+gSob1ves8BUwVbmzjKsUJYcYr4IKVbTRGuRZKBgSkg57nqWQjAe85jtcgKiCen3WIfECvXSmKtRvlO3vHp5vZFNEAfnZk32PlfBXDQbndQZ2l8JAqFUIR4GfOr2fuCDffwVdNgsC0YuwJkpv2aRvXXgXPXxfhbiCxXgs1RE-ujfYECsw6-ysECcnZ3FFnmNEk3QXWPBcO-J8gbWJ2QLAAckDP+DQSY2I4GdAaXj-aVYwdAvHg7WYe5r-PT7-Z-lCC-4Ud3WZxQmJ1D27tVvGUQG-nf0HQP95AH-WxnAJ3CQDWuGJQAZ-0miKEYgfSLIAvBQhP8X+b-JAUAOkDf8F2+bADgYE6hRssBwA-gKANjbVEIBmrCjrjTwHeACBklBgXoAYEUCKOUA4ZBwKerX9fgy3WgW9gJwNZYBEg-AEmCMCG1FKf7ezIoI9SRA7AvwJJnAJbqL1iOzMDAuoK1CaCb+Og34GGz-5yCOWUbTdLGy4Gb1sgvAsgeBn9SExrBl9UQf1QUFaANB4g1pv4MkH+DpB7DfxFRA9RQguULtSYKYV95REKIXuK3mTgr7V8q+cvRwrX3gR29G+VA5wC31m6FdIOfiR3pLwSHD9buYAhJt4HnDlU3u0-XXtX1PRlC3eI-QNvsCqFBRah3xdobMGaFJDchLQujo8DhD4BzQLQZElGxGFjDdWAzNZLBx6E48tAZgKNk0Xhj2CPEyYP+ksKAYPIwhEQs3ooHrAxC4kCwvoW0QGZ8ozi7QswOcB2DVEEhPTdoX0hqGvdvigYa4cINkSBgHhnwgqE8OqGSAuh3zD4RgLhSWgfhoIyZP2QGZTC6Q4wq-hSSyCdtwc1gjquLzOInUvBpZZuC2x6iLAtYAcecDOwhachTW-QWYPK3DZe5KR-Qvrtzi6FtRLUFaDTP8M6GvC9AlIhYcSOICzBIRkyGkYH2x4Mjy01qDZqMLhEzC-Edg78oiPsBth-B5xV4YyLzSBtCAYRIXn1C2GdZse3CblvoEtDXDcR1PUrgqPfZpd32lAukVTwFzGipgZo7jvB0YIDCBcBQtvnWjkTYjSgkZQNhqKoiSAOOhILUZR25zvsNMBopYYnktIh932ZgYJmgkkTvswwSI0AECQAAS2dSQAAEFwA4AbOgACUgSkAAAPJF1kAtqfIu3HwD2Az2ySMkYhlZE8jBhlRNUZpXA5UQtRzwnpoezN5tixg3I2SA2M5a2iA4pQWse232wNNux6gMqP2I4E-8Ux6YrMTmPzGFiSx4AScaV19F9jSR44+sb4OqGVFuxCo30f6PE6BjBxxrHcZiCpT+CY+XhH-LOIbHlDKigQnwUoKUgXoEh7gTak7jPZNhHohIscVeC-GI9TiHQxsbRQvRVi8edVR8fuKcDPirIyY-9GeGjAkBL2tqAAAwdB24jGIlLZAtbwDvk6ESgK0GNyES0JJhRgBphQnFpv8l7NEjwEjG3haJCGdCd4AabtI8JgSavOR0l6sSLmd8NsKRPRG7po+9XXdAJO5JCT5wpEizvoyNF2ANIPEgCFIBiA5oLWwYqnlJNvjARSJeRFkgRLPCCS9JZE5zAFFgFLAiU6gbWPO2qC-ojwofQHFxMMkK8q2Ok4icJLqBfkyWEbRBIDmqKWTJA1kuQNrEtBb9pSQUkKdrEDB79ocRCR7gXCik2SNJKjQNg0AQG-sCQuQKttkJH4SoLJdgKySlNu5F9tUEQRybdxX7JkYOZQSXlVLL4WlbwV+GQE3xYxuZGp+nCvmkOV49iOkZFZ8W1KamUgPAKnQoS0BDKXxRhbmEMrAmSmhTFe1fS3B4Dn4FRug1WA-juSjGFtlhAaS+PNLCmb9xUMzA6bvytaYtppsgE-olIcb0wipwUkqYgkDZv0DhewUIlyGQhO9eJLvdQM+IlTk5UhtqU3pkJJB5TbuzmdjJX0WZzcvOgsEgLiUBHsj6hmEWfryNjqhAPQg0nYbp2L6OTPy7RF0ngFyzEyoEAM9IToB6kXkQZ-wTGU2Mm7rgoZroiDhNOGRd9iACMoEaL0hHIyAMqM9btVgW7dF4p4QqBpL1pljF3sC-bVBlI2xSAwotMsGdRgupgBiZuWL7BBFhFZBdWeOHrrDKEwizf6Ys36XTNYoyDpo8MkUojJgl-00uuwUbrSILirCxR0wyHrsM1njDZhtUm2fLUmgrDIiFwjYT4F2CdQdh1rPYQriiH6p6In04OT7OfEByQ+ds3acWxemRz3plAGOaN1jlNjrARMkmesPDa7pg5Nwi4JcKLm+y-EFszmECPeHoDuy7wyaL8JSBVyrZb3A0XXPRnVADRjcvkYUGhGxt3Z2soPmyFMwWtfA4mbMvOPD6aFns-IHQha0zZ1haAiYNUWmFomVFtI68xQqxLGTryw+nTPCAOF86aTzpJxbVnIGsnYhD8shIcYo0I4nyjRUqSiLRNSlRFOR8ExsQKPd7JDuciYbIPOFok0StQSIFSchDUm5B15tOFWi3JFEaYq0LcoEe-PAlNzqgxYFeWnD-lNZ15KCwoF-NaEDCYFAkK1AE3FFazXZYc6UeWyly8N-Wr812BQRMiYKAFmk34e6SRHyjURhCpkaYCQn2AFxGYvMbigAAy2dMsZ6LkA4TGi1YuqrRIHEfy-p84lsT2IaDtjBxUbbsVuKhCyKOxB4gZlONHHaLFC+ip5Ba1kiVE0xAi4RaIo3FuhNFRkgSDoqcAvjrB8AqBheiPGoiTxAY8aBeNBHSELWN46wSiGEEeKtBrTcSeayyCBKwlKIR+QCnsVyLkFOc+ca+MUEy0L0gCp6k7ifn2LX59XJJZBLhTQSax2ip8U2KNFcgyMZ4eVhyP9ZUjnh5Q0wRYOt6pKtA6S+NLWSyXDJAhP9KEHwLOwMZp2V4-bLUu8CcwylhS11FiKlTaKkFDS8pRPjbIeDnpaGGhWMtGWytGlwQ-6SrR2jCANMh7K0MG3+Bes4Q1C+Vpj0Fh7KSAY0t0UUOLaVLtKay2VhsoQ5LKwlQ465bkGXayQvW7ym-kaIiC+iGe1w-eZoIpLAilh0zAIDDk2HhieFV-TtnYCAkkTZJbYvxsMtoB7xi+wKz6dyNsyoKVaoY21F4rPHjR8Vk3c1M4yxRB5uRTSkHiGVCVmD8O8IbkdEpv6XLQguwFrKZ0vHg9rxt4vbuS0xWNisR1KpSW6DpXBDOcm0limLAfpIqlgrEter6NflaTrUDYjTGgo0BpxIFXWcqeApUUgqP5BKwoOamJXiA2xp4zmOeJNWUqVa4qoPKxP8GD040TK7QSyv8VRLbxcnblXaPg7zzvVQSoVWcVomzAxVjgCVfYvpWrTZVp3Yea217bRrASKKkkfyv6BhsX5+K0OdBina5L8VAzPNdyIxXpqsVk7JNcWuzUtpDAgJJYHSpVXoqKVQIc1JkCGWlr6AGmCxUuNzEFjixpY5zF2uzE9rVxpYlkWcW5Hhqzqra1NfQE5zrg4Q1AE2OWq0Vjy951axVdGobUqK1VUCwnnIBXVZAbRXawRSIvXFAhj1VisRdUTDU8op1+6hJXOo1mLr6mCarMBmWLCzx5U96SwdaW-UNMVMH6jECemt7hTV028gSG6EA0iAV0vca3rFLA0NNSM5Gc8BIE-XdRgNU8g+Sen-WWZkqaGigBhoGGgbe4DTEeHhoxAwbVB7hAcH+sMGqhGMOgByFCBqXfqQNm-BDa+q5yzxqA6kqDYgy2UeCwV762gPhqvB8b+YfskBf4IGYfqeNECiDcYVE2yRxND6UkuctoUAaRNQGlTadhO4ul-lFgqyH6rZo6siS6msZXIRE1ya+e1UPDXJv4GoaKNAmj5UJqgqcxyN6GjzYgx6aULSWlq-AU4KIHIDD6cuVZTUpUxeapgkWh9IMJjVvw9Nt63GnZvUlkbHN0GhzXQCU26aMSBmjlnuGM0LrGAZmsLf6wyqobrNki6qAxtYQxpYt2ylJS4rfHtKoRnS3qutwKixVAM9KaSM8pMjVabGvWn5qps7lhA2FcolEWEo7Ij9IECW6DGNuRH0qptFQgWZImFjxaUguW-LTyoRDUAzWZykrRZtmD9bwZoQvqE2BawjtC+84m3FW0IbEN8kZDBUEaN3pLwV41mAvLVs22rhKKjWtJYbQmROy2tcuKiOdpBRg8pwCff4BGXpbspT0yfCMoXgfgzVWuCFRHTmoDpwgu0yPdoU12ok0o+SKJfmXprhAvb9672z0LEtA7zaOFk2oWZizW0A7qKyy5kAVtJ1vai0xWoDEsAuWzA2df8cnbFxwnmoFIfozKk-w0wABODoM9wkBZVFtf7GXSlSf70qzefSXwEdrgrF8rBpq+fvJnk56BnAexTCSvzF1pU9A-LfloWDQDW7OV7Uz7MMlN0b9NwhgVadUEd0q7EoEjQIRZFPTOBaUJBHTjdJx6y7ldgQz3UcFmAi6UNSutKo-IvlpVr5-wDULWuc0ArreuWtEAVvUCXzE9nO7rdztK2gJ49V8v9ILtCFAJbonIQbTED9XzFvA6QLkBkx-lU8doGmSkTiHJR+iK9W8CSLIF5TEA-VajNoLEohnaphUjABvWHVACLM-ocI-kCiD06O62aNKWlN3s5CgB5WlqwfcOnGqoh0dwemPSZD9brKdooYU7rrNP7666VnbV2HWt7bgZT9cFPNaxJTWVqK1Iq+hZQUf2Td2M4+yfRzGn3DCuQTxRUCbpD1m64QK+-HdyLVD366gO+lfUqHP167zAl+uNaECX2QGoDtKTfSKIYDYGaUtu6wO7oVH+pAhzWopa1pDLH6XlGA8HfH1YQ7Ryh4a5QEjtxocJNWk+AvSfqBiyiFtCo4WHaBlWcaVMOQOgESgkY16Ws6qjfW3rqUd6hgXe5gJXrkUYwk9A+vdoSWH2rSiKfwG0eZpeVMHwYfBmnWYMEOPqkse5JoraQLQ7bSeMEvJgkNUD9Nqs26SppzBqX0H+QkOjkVpD7DWHT0aOzgk9Q4OBt29ZKRQxvBUOh8W0xfEyVeFL6KZlMADO8raigTAstE9zFgqmxfjL8gKwtYBLIGnbsoNMMtcI53qiOpQUmq7ICvZhSMdgAmvlKNqwL7Br6ijy6U9NpDaN9jYdp8yRCnH9IbMQqzR5Q6lB6O5wBmAx1I8ML53-xzM5C6DNUSmMdhPhMtWYwLqWBtHqjcUlgWcWWN6hx6hR8Y+Ljt1DotdvhZfjmXXCoJ0EGR9SBcbwQ6yUDZ8fWbsDxxEQ2jg2-luOz0AjaAAOlgCzX38oQN+-AICVaZrb1q01cVK6kt3Ph69oRPQlgE+M1LvjV43453IBNAnMpywCuGCfZZbDd0hAeYqegQ7VFiToAAAF5j1rAAJq+sCdxMdJwTaOhDtSZhNRo4TcIP-YierALcPglmMQxIZ8DfGGToJ5k2DVpa-RnDhsIkqQCJK6tGQ-LJkHgBRO0KRTOJsUwSYlOjVYa0p+EB4FlPynYlnJpUEAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCslUOeB0A1mqLKkvtdDexBEASfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHDgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBOQYotQewYAjtC-jfm0jQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuV4dqoYDWL0B4dICbLhGWIfhkfIXBJ+LWMkdPoKhkYdg4eQP4nIA5l8EBKztzgMb7R0fyvMFs2DMpBhN0HwcGN+J72YdkFYf7XJrbu0Y5gMe-XwZMDhAYbcc5kcRYAkarngdcGbiCdWC-jkeFjhBoeMRhBzjMHODIRfULMDASbMCCELjSeCbMAWvhDvhREibuUtASekYKcKOAaiB4bdAgct2ge1gSZcTfhfVOXjlDlKaSe8R+BJDaR0SUXSZ6LkdsbWL8eWG8ECZKfBXCbwZOO8WWKIdRIgQ-l6cUTTnSchLmaUZ9vsASwCbIcoPCeGRyc+RWNZRRBidnW2ZMcGOkoMdjp2f8fGfQamR2EsMacKT8cGJEtmFykmdWGHIHHSfuZMbGcYBYFU38XONiHecKDkYAHIiGc58GEXYmrGgSTIEnfHNgEseZGATJcXTGLHRRQmlY-hEGfBLQCXVGvFmKcg6gjjbUjjy5FRCxZRvAWWvJFY7pnm1srndHKWlw8XvbAwqXgXdmnnYnPmBXvAxq5hgxRW+XOYqXgDVQCWdRNkqJ6pNZUoK1dhvN4UIhWmE40wFFqMUhbS39Gy0NqhFmiRlm39mclFTXDzrBIbtXOQxgRkwtya1WcQNWtXbpOQPHdXPyC5p7+Tsi4QRKinLDLRaJ3XZAoQrktIUGyh43A3E2Y1qHeTw2OxpHpKY3mAM3PXwVYnc29RpGy6K7SAq7KMNULnYWxK01y3MgW6whyaq2OQa3KB2YUMA3Upg3nWIWm27VLXDT03UoS3c5DyWMn0DXXBeCaIzX8yu8YCCmgYg8lmSRnXjtjzYM-0aJjsu62R3V-hTW2DYLtMQ2inLRTXYnVyFF1yllVlnBHW0o5hsQPUCCJxaBtVY0l2L3Xmr273CkOCl373+jbVdWn2nUXU32f3+QYZjkAo2XGBLdyAK4vAA46gGhWhz3kjbxT2Q3pHUPFQGHrgk2PW0P0IPF8OiWKDF1EOYkd2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6hOGC4VLGdtPdPBnQAhaWgmnVE9p1A1OZANPC5LQtPbVjOeXBFC5HOdOCjvFMsVPSAbO7PAx3PnOVW2QrEuOsg9AW0ntMcyowvUNlbBjdNYuTNDzES-4AE-PJAeBZh1PJBJpdTcV8UPBYuwtZRVOcusu5WBxIcYuqGXXwh4VCvivsizO6hlyC4WuxyetLU+lcVAuSufOMv+AAX6RCAivavOuUhn0+vmv6VjVhaTzf0r1Zub070+lZ3rS2V1wAumwnO6uvyRNvygRYp6B2WMuKucuhvuylw8yCvRumu9y6AyvbPMvhuMcXsXhcG9u4UZO7uAImyWu2vH57AXgqvouPusg23MFLDcpyvUar2Lv4yyDqXXFAxqvwfPDQ3xzoMFvXX4NpuHunvOZLudxfvPuJuih4VpvHgAfAt7NCh2yQeRuxvuOsA6f-jLDLCEervPDIfKsSfmeshRxWesfesMyCoGftujPEfPQvuxMv4fyfyAoDKtAxPGs8z5J82kSAEG3vEf4tfdheM342BI2YhZA0OdfqUH5Tf2WNjplIOfAWAYOX3QB2OiFdzYuLSgyuHnBlfyAxPqL4NXfOO-viVQuAIIug74NBOwsg-0Pw+4Rf5kTqwaLePiVY-0JYvBjrfzfWaAorEPAYgEpYhFtpfrvAPLCS-ufkCC-6VqzFs9Aa+i-VhAPLRG+Ljq-C+6-Tc2-dBzDAwe-VgGGB-875wPDSDmEIemA-DAPSvfPK+QiGHB7x+cHJ+Vcp+Pzy+r38-O-i-KHuOq-ZgF-j2bIjxiOCPMCI5zpoP8nkO1YSw4xXwF1H31+pCSATT+8jxJBxP6UshGAW0ApowuwJpABzF4+YmEIbQHsA0MBVEd+OgW7LAJH7WJHSNEQ-s4XJ7e8YBtfaxjNwaArc6gLWB+G-03JMIv+dLX-tfxCL1kZoQAhvggMVQD9MeXXT1GAMsLOscegsSwoAJMi3sl23tLgcrCHbk91u7Ag9rsCEGHcMB-A01sFzEBbFsgLAAOKvX7wNAkw2IftHQAq4qDdKYwOgHl3P7EsqSBgTqEUy0FqCoQugiLpKyvaExOovPBKqIyiDyDFBHqZQfIG0HsMnBO4WwfvX+KmCdBk0ZAjEEcRZBy6KEVQeoM0FuCzB0gPQfRyFhhMNBqmB+H4PMH8BLBvJWNn2ESF2C7ktVIId4BCGAoUhegFITEIi45DMEEXE6nIN+CM8jBQvCTGDBqEKD8ASYIwIpB5RAxzCrQrQHSkiB2BfgejJwe7UzrgwS4XBNoX0OaFDDfgITQwc0KSHqZ0svJfIcXWyBFCoh-aPpITEcGzDIeVQzqj0J0Zah+h8gmYQoIsgDDwWCJTdFRDpRQgbk-tSYDjEr4URLoL-SLvBgH7wCsB7JAumP3n5oC4h3wnAXN3M6FIl+rwrQKgL8JWDjhQUOyqr2H70DYB3tN4TCI-IyDcKvQ7wPOERGdF9g7w9ER8MA7nlHgcIfAOaBaDLEimFIqkfS3vZWc020I0AG8LMBFM7S1gWJhEFP6Ej2REIu4cjkeH1hnh-CQkbMGJGUCVhUgDnloESYXAHkV7NkTGxxEIiVenRQMHyIqHVBAwbI7UYUEJGOI8R6o-ZpPTlH6iOcloPUT4LZR+lYmdIukNSKxHgwLiWQDDjtl2GBMy8m-NNNVQOFhVhYoROsIsC1gBx5wpHNMBGNoCzA1W4o0AGqxCJXZ4M+ItqPij1RhZDRuIyQPiL0CxiWRUY4gLPSVpsoExQIjASmN1SEpI2lIx0QyMKQaYXmbJN0W2GmEViBIKqZ0YQDEKF8+oZorsHEJPhQt9AcbOUUGOcCCdThgw9Tud1s6xDTywWbmoJz84zjsQz+OISDmp7LcTUamYWAozoDOiexmrHLoSD7GfDgs6nMLCONMBMZFMp-dTmYDkYFMFG6nMMG6NABDEAAEvrUkAABBcAOAH1oAAlIYpAAADyZtZAMSj0LtwnifvVygWNkiZinAGIzwoBy7FLBDxfYo0YsInGHjPWVHDGlhNxHDsJx6gMqAhIYakTSgPCM3oRPMKfjvxf4gCcBLAkQTKJwPPCZR1olFYiJTgcwhOOmGHjJAx48aEhN5SssCJ-QHZM0Nv5gwb0XE9ljxLEkoTzCzQ6xG0PJoFo3h7gAqhsTE5NhHoYYmiYpLCjaTHeYleEYWI+F2DYJYnYydRwazKSPhVkN8e2jPDRgSAknYlAAAYOg7cW9CslshctnBNSS3JQFaDl5gpHkxDowDCxuTNUfeSTmsR4A3iII8U9RJ5O8AMMrEAUphCvzQJ79J+6Uo1sBHCnmFLCcIddiOyVTBSSpYUuoK9zQZjjgQGkPKQBCkAxAapgvJMcFmKmfFjWbYcKboWeJBSzwdU9COFIj5Hc3UdgJYCsnUDaw6O1QW8cmGI6pYxiDedSCNPr7P8+pccAafODKnzZFRaaEDq4iKJXtHBc0haaaOdYWirpkgeaXIG1hgc9WLnXkgoiPYYCHpT07WPFOakNAXBunAkLkGf6Ajp+2KAKD9JumoTQB87cARj3YEqkmRy-ACNAmXbUotuJedAUwPYHzjoBHgH4U30QFj8pCR-AVOuEJmgi8BEpB+JSNYwSk340M56bQN+GkYPAjAr8rZmEFi8MBJ0nwKhIIFzBZpj0m6be0+SZNmZL04MBjyoH0zZA4guXt9JFm-SQ2zowevnUUDIp6IyEVGfvwTIkiBcXw2AUTOrL-DSi4MzEUCGfTfC8mNPMXuuBIC7FsxJo5Ed31RFFjix1gA2QvwnKQZjyYA0-h6CxTMk8AumcOV-GuwmziUw-c2R-B9lljFut4W2ZuNwEmp1pTs4Ei7Lgl6yIeNo6wG7MwgMDektmUuUmWcLzZIRhUqQgnL8K7tsez6QGdlikBhQDZlsxGTITDkRzlpEEB0VkHpb1zResWDjIKInqV9a5VsuXo0OmiZzOYOY3YBV12CXdEx+g5wGSOJR9zqRtImsf3It6vxLOmgNNovMmgcjJC3IyhKtIXn8jG2Gsx4drK5C6yF5qNZeRXOlHgCl5183lrfK1miEH54XJeajQq6Jj6qYAcObpnPl7Ar2V8s4AqJlFQKT5hSWednNV6ajvBzJTUZNAtE2AkFOYuNmgq9mFA42mC-OQVDtG8lN5A84-lmHim+ABM-YvmQvn1i0KOseBLlt+zrC0BEwXYtMP9Jb6psupGPBhulI8S8LV58QpWIGAC5cts2jbWlnIHmnYg208BYdpgwHD-SbhYMPOpRBoXxSYxgrX5KqKsmliIZQIXFImGyDzh4pcUrUEiDanIQOpuQf6Y9ngxILKxYWVlDgpNF5jLJWCsIMWC4VpxzFNWf6b4tCDGLJ57XYgM7LcXVj6Re83og2JSBzou04DfRQItdjX4TIQSyxdIoqFNj7ALYz0XoFcXti9UhON8QxMkCAT5kAAGX1qQSlhpQPyVwXsB2T4piEwxSpLQndjZuVEXibyiKa4TelYwdpf0pInA8yJo0gSFNLFjTQqJZUUZfRK-FVLal9S9iW6E4lTKOllk1SZ6OcFr0C0AkopUJJEljLQlNgWAly2kmeiUQdgo5VcMGJVTLlWQa5VcJRDNS86oypySvPXF7KjhmkzGVyxOobEtFUygRXDx8XWSC0tk1yl8s6XOTnRXIY9GeAJa5j9FkCyFW6U9G7Krh6krQACsKDnkwqfSNSePShDFCWs8k+yYRO8VGiVJFQ-0Q0iDicxRltK3ESpIZpYqrhzU2HKkplZoqZWKEyceCx6nQCdowgMLEuKI4Ks4QvKglp70FjiqSA-3LcUZiKZIqiKfKvFgKrxZCqFhsTJVbkEQKdYFWXK+Qc1IiCHjw+fIwDoOMBKmi+RGTAIAtlWlXiNF00QwLaiWAFjEBmEgsfq0PQOKGgVEcPv6pu7wYLxxKE5c9xPH+ryeZixwHYG1A+rmh4dEVPcrOHqcJJ3E2gK8vkEKrQguwfLH52zUmTiAea34EPi8RvNJJ0Y3ISdT4b9ExcKa7FTOz3aHdZl3dDDnYCmW+relAis8dALElhZ-FGgNOE4utnwyrVj8wxRjL8URrbOYWaNZzBPFiSvuCaptdqHSmpq7gEpDNVONs6sKXlMkr7kWqmBZrOWx6m5ZD0sK6L61nVRtUmrdDbrW1g87rlPKAYUde1tqalZGNrW8pbV8qLlhI3-Wfzh0X6mhf6tiZfqCxIGnNbynI44df1YUf1V8k9U9qfVBdP1aBucXBZMgCkhyfQDCyVKmJQEkCeBPABMYSN-4sjaxIaU1r4NswRlfhuQ30BDy64OEH-B8bMwoySGnRdIrQ3dqlg6UrDf2onX4zCULG9pcRuWXVK6llGoEJUrk31KMxV7O9cxrkBQh2l7G3uVxoPFSBNSxYAmsCjjSAbDBcaBhiViM0YhdWenfrORTw6VpkCI8azSIH-a9xAOr0uwmrAM3zlOYWlYzeilM1iKDOFmnjaqBKwBabNwWuITwN7hCKBI8YCQIFt3q2a++MspzQw1vQ6AHIUIVFTFowFxa247cIzdQE6mubd6eq7FWZsM20AUtV4CrfzFPm2LmhsTUrZ1Jc11aMQskRrVWlOJyq0lVmrrSIEY71a+tbPZkmatmFWQz1gxOlkcQG0ysECdWsrQhqAYBbVtJQ5Ld1qq3cqatfm88NtvRRRa3NiwxJX2XEAxTChYQ9wTXVcSLbtVkWo7RQC210Axt3tKbeCxLk5VaqG2jrYlsO1vbutr297d9tayfaS4s2zjYwAW3R4tVMtVkcltW259qo2WveEKhf7CqcVTg-5R0OhWSFdJE2ooCSzKAPaTIaOthvDsObI82U+S90cKvfIY9YEROksnTsKUPLKBZcw7M3DB2hAIdaIKHcy1h0pL5VswCnZ4WaW3Cmw+WM9iALiEM5n+s5O+vjXkTD0lyzoztpXR7Z1tMIGOiHauBdJ-KNJeO0VATtCouI+o0uhdKbynCP9-gc9P5pUQ8K+Kzch-ZKj4NXLKBPZBCh1M+2dTYjCUR4XcscVZ5lzComu7tr2xATvKTObOj0RztflGJhYbbfncyCh0R7a2KGYXaSmkjw7TMGe7XShlZq4oFImrAyqoLCwABODoErwkCGUGddm11GDHL26VhV+dRxL4DF15kwBhZQwHOpF5zs7kzgbIt5MgEt6TIcLOFoWDQAz6C1uM3mTYHH2mi+9svRfXXtUFt7EoSDNSRZG9rOB9k5+eXhILX3aUN9akrfUcFmCl7AdhlD5fIt0pKL-gGoL1btvNWkiHCzQgXcWplD37FFywEvNnpaR57Lkv+x-cXvgwxAz1WrecmFjhAEtLtZ6l+Nxvbhqs6g0QV5ANH-KDrCUkB1Pj7SRRTBcDboeNvOUPI96wmRB-vSfsMqDE9k+yDDLajmDjMYguWr1HFTbXY8xeuKHaGFl9YbIhgmrCdpyDNEYwn9xAM9fgzaDvLyeS+uEHQf2RoGYasU1Mggd47yH2DMh9fbpXXoPMqdO0Tmd9zg1lrlgmHb1Th37T6HIBEG4KT+tg0wb-1GSm-JYZxnWBZDP4-9WqHMNbkMOrIrQKoCqIJE0Ac+-2Zwb6SyH1D+yeA5WIYARG4qhYYI2EHH0M6C0akgldSiJWnFRmqK0PakHv78g7duYlCUxq92gBJAtVCZBULJ2FGXRugZsfHrOGBiheB3aoKgfQPeAyyM7KhfgYzZU6iD8ZbwOkC5AK1RVhKHg8Sj4P+shDHS0Q-cnEO8dDiUh0Ns+gwODHpaoAPJn9EdH8gUQupcI3sm6OpR4x+i1Q4SjYNKg-ZiRrQyZCyNpLnDoAHmT+WfQ+qMOrsMw7h1zFUHrA1hs8LYf-USMkNPqjxM4cIzwoVjohNYxsa5BZBtjY+q47QfkMPcy1nh3DmwboPnGHj35dtdUD2MImojpSkmrEYSNJHphJKvZWke8QZGOcNx-lTaJt0P894O0Io3chKPf5OqFRlrFUcZM1G76BS+o4MMaOhsTsWAKY1Trhakd-jaBnVsxQABCiUBKDhyyBHFpTWoW5fFzhDgANAfwRgB-lKDIhCwgE8KaMFACATqA1wUzDwFH2Mgp98IKE66GrAinUVYpgiXoAJr41bEv0WU+QHlN1BFThYZU5VG9rMVV8MumHYWBWSUAAAXsmHpZ2hrTmx6E4qCZAOm0lTp2iQYHUDJgTIMpuU+FJ9N6n4Q-p1UwADZvJpZy03GdtMwm-JyZ-lamdO4UcQo7pmAh+J4bPRQz8IH8Wck5CqAjisAVU8xWgC-APA0QOoKMCOIABZWUKAB-GvJTMAAdgAAcsZq6FscTMdAaz2qus2hxdNunmKLZrWN4COKdnFFdAHs4WD7OBnu8SKEM0cXjY6BJIWpmPRWdXP2mi2qUUU+KdPMVgszv0fc22aPNdnTzvZ1UygDLPlmVzCZ18wmw-POn8UHqbUxICg57nWzh5wsMee7PAXLzMBT096d9MFmVTy5m0y+dZobmJ94phs1Kd+gAAxYmkcWgAI64QAAEX7O-RBzngEc2ObQt-AGA4AK6Ryw2hWmILdppM2+c5AwW0zrpjwE2ZWo0WKAdFhi8xawsrVgzjiW88wHvO-BHzhF+M8JfXOiWpAjpz8xme1XMVZLHLOEPRaOKKXACAAVjLOCWiLkFkS9BcMuwWAE3gD-I9x8CmXaLhYSy4WGstqmcLuZvC3CELPaXKza5nAKRb0BbmpgFF4Q8xSGIrJsgj0RKEcRqWOQjihtJS4MWlOiF3RSp3ShAFyTGnTT9LJ-AEJMDPmnLellyymfFOSXpLgxZK6lfSuFhMrLAbKyxZgIqXUL8IaSGJyiWkBXwAZhyzparPCn9L4l07l+czPNXhiKVqnO1fhCdXur3tfgHZdLPjXIrUFno65bTNwWPLiF7y79FavLXzLa1wsDlZ+YemczCp-M2FYIs7XiL1Z6awdfrM4dGzzFQCdkEe63p2zcIGpSigkA9WVqGpmYghd1O9nmg742aWVbNOzAFzlp6q0JcmsxW4rO5qSz9b+u0B+rQNkG05VytFRj0N5wsHeYfP42qmzQblqjccu6Wpr9V2s0Ze-MLXfrHIPG4DeBuEBQb3tNaGBZeu1XGb+1hq25fgueWkLv0dm-9fxvc3ebt15syhcBvoWgL55p82jaivC33zH17c0dYQteWFrwVh60qYIsK2VqAAdWTAeBCAWsJyoWFAkTAMD6t+m5Na1tiWdb8Vr65RZgKW3GA1t220cQdtKGwbgxcACld1N0AsgDFkYrsFAAfjsgsdk02aYiuvW3bBl0WxJd3O-Rfb-tx6HbfhBB2nbxN64M8iiVbE5wRxAvjoCOIrJFg8gZ2xNaisY2Wb815ijnZtt53A7jtw897R4BbXtrdNxu9WDTszXtzCV2SMxXAA1sMgnF+EPrS8ABmzbgxc24lqEiFhwA4nYyKABqU5B8zFplO0LebvOmmrk96e9QFntwh57pttU5I0SkXEjiYnL4vgCOK33PJcYBu7tecsi3mbsF4yz+ZgJT3mA59x61fcXugA5z-dwWwzaPuHX3L+tyWwA7PsX3QHIduEO3YDv23u7MOg+wzZHse2JT311i5WH0nmWTTXgHPkvbhCdmYUhVwsGbTjvJgjwW5Xi7NI5Y8AizOD9G+9YzuncT7RD9UfYCOJkP2WqD1+-kd0BHEtdryAGx-dTswPZrf9ha9AGIeLBSH+NER73eRsD2ar0D7hz-dgfi2TrSjlR4I-1PqOKHapwBzPZAcL3ZHQtvBzw7Hte3Erv0H8c3CssyBzbiURM5Q4htamdToV0CVErEDgArOdgUzDZc4dN29Hm5xq1nZgJuOlKAVzx949Ed1BS7kwIhJI6bCbBMzdj3R0zdie-3WbzFRJ3IA8deOdGqpza-ZcHuf26r39opwY+OsG3Sn7j5J5U58dqn0HndzB8HaifD35H253LHUArh8Per151S2GcjPRnUHfVwGxTc0s92oHXDwp2RedMjOxn8T5S5M-xvhmozOnOZ7s8BuDX5gw10a-k9dtDOpgmzyQOM52ek2pn8IRZ0wx7uUP5nal8+5TZOcpgablzzW9c7HQ1ZRndz7Z3NvScxBMnFdq6Dk-sB5Pi7ELsu1UyrCGxuQNduu+U4Gco65J5GHIHQBSs+BKDIx+MbwfRV+sBD-bYQxJFkCzGJDCx6Q6YrPKSFuanJoGK6N5MM7GjqUlCoWQ8KedG2CIagBtLgkXFfDQwGJrZhTTYslWaSuk-kYZMptNwfL72q7oIDlH3VqoAvVHo1SUv3Ncw8aWFDOm8taW-U6F03rhrwdDXS7HIR23LpdtM9ICXV4O14HDtumsuvVkU2YpVTbW6kRdm9PvaHt-UuL+gAS9it0t0zrN+C-9cuQsBEp3tLVzro7S-BEpoAMKvzdqdwsmQeAZuxPTmvaqo3da5N55Pjd2utd2r3XbG88mpupOAtwe2CdkBKggAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCslUOeB0A1mqLKkvtdDexBEASfv4VZvT26kzzAuXggu4EwBgpmn5BTAoEkB5kMHQgUkYG1kW3MIVk8G8EHCRgHDgbm0KXMhHOTFfGQjtF+LhEkGOIBNhOBOQYotQewYAjtC-jfm0jQZwpmhYAUi5nsWkkakBPk0CO2FUFIFIHcEVj3gMEuV4dqoYDWL0B4dICbLhGWIfhkfIXBJ+LWMkdPoKhkYdg4eQP4nIA5l8EBKztzgMb7R0fyvMFs2DMpBhN0HwcGN+J72YdkFYf7XJrbu0Y5gMe-XwZMDhAYbcc5kcRYAkarngdcGbiCdWC-jkeFjhBoeMRhBzjMHODIRfULMDASbMCCELjSeCbMAWvhDvhREibuUtASekYKcKOAaiB4bdAgct2ge1gSZcTfhfVOXjlDlKaSe8R+BJDaR0SUXSZ6LkdsbWL8eWG8ECZKfBXCbwZOO8WWKIdRIgQ-l6cUTTnSchLmaUZ9vsASwCbIcoPCeGRyc+RWNZRRBidnW2ZMcGOkoMdjp2f8fGfQamR2EsMacKT8cGJEtmFykmdWGHIHHSfuZMbGcYBYFU38XONiHecKDkYAHIiGc58GEXYmrGgSTIEnfHNgEseZGATJcXTGLHRRQmlY-hEGfBLQCXVGvFmKcg6gjjbUjjy5FRCxZRvAWWvJFY7pnm1srndHKWlw8XvbAwqXgXdmnnYnPmBXvAxq5hgxRW+XOYqXgDVQy6K7SAq7KMNV6pNZUoK1dgQmA5PiE40wFFVN1sVrWmTWhJZgVmOkwozWW6whya1WOQNXKB2YUMdXbpOQPH9XqHeTun-gzWinmKCmgYg8lmSQzWIXVEaIVW2QCWdRNkqJvW9WzX914UIgrXQ4Y3AtbS39Gy0NqhFmiRlm39mclEY2xzgHDAfbdXOQxgRkwtyak2cQU203fWpjY0aJPyC5p7+Tsi4QRKinLDLRaIG3ZAoQrktIUGygJ2fWp2Y0A2XmB2OxpHpLR3mBF2m3wVYm129RpHXXK6PWtXPQLnYWxK00D3MgnXQgXXy63XNWvWF3Uo-WY3Y3LCb25BY7J3d3c5DyWMn0s3XBeDe2f11ww3TNS31IwODXAPjzYM-143vyu62R3Vg3e22DYLtN-WinLQQ3eTVyFF1yllVlnBK20o5hsQPUCCJxaBtUe2DXsPXncPCPL2ODe3YniOaJSOnUXVKP6P+QYZjkAo2XGBLdyAK4vAA46gGhWgM3kjbwMP-XpHxPFQGHrhp3G2JP0IPFFOiWKDF1hOYlq2iI8Ba5vBgIhhkJUb8s1R6VQBRhyBcBgKs9SB5hFJHFQA1o7lZBpo1p8989YETlORNY9BnpsRZg7BoxGA6hOGC4VLGdYv4vBnQAhaWgmnVE9p1AIuZAovC5LQYvbVUueXBFC5iu4uCjvFMswvSA8uCvAxKvSuE2DCG8XhkI9AW0ntMcyobOsgwtmLdN+uZATNDzES-4AEGvJAeBZhIvJBJpdTcV8UPARuwtZRwv5vZu5WBxIc+uqHDzUh4UVu1vsiMu6hlyC5zua3INEO+lcVmv1u6vpv+AAX6RCBVuDubuih4VHuzv6VjVhaTzf0r0Aeb070+kgPrS2V1wmumwSvDvFSv4fyfzYp6B2Xpvtv5vXvuylw8zluPvTu9y6BNv8uZu3uMcXsOusg+2ju-PCeAImzzvLvH57AXhdvevqfNI57LDcotvUbcPsf4yyDqXXFAw9uufRxke7ubT4M-vifSfOYcedwGfcHEeUhn0-vHhmfAt7NCh2z2f3vPvbOsA9f-jLDLChfcfPC73KsVfjeafCIzfQAofgeUgDe4eUvhfPR1fmNkfUPQgAoDKtAPPGs8z5IN2kSAEL3vEf4o-dheM342Ah2YhZAJOY-qUH5U-2WNjpl+jbVGs+PyPQBLOiFdyRuLSgyuHnBg-yAPPqL4NS-rPGfiUrERuuug74NnOwsm-JOAIbn4-qwaL7PiVe-0J2+4Rs-0-WaAorEPAYgEpYhFtve8eWPLDl-rfkD5-6VqzFs9Bt-F-VgWPLQD+Lit+F-d-TdT-dBzDAxr-VgGH7-875wPDSDmEshbXnCWONv6uN+QiGHB6b-HBh-2t6f8-Ca-XDnPwv5L9KGtnTfmAI-KtcBgJYOMK+AXQkcmASIbHMQBNL94jwkgTzvSiyCMAW0AUaMLsCaRYcMycKQ9JQmTD+sWetbQlPf1uzQD2SBdV-hgP-7sZbwLA-7g0HB51AWsD8EgLgKhD4DCBdQYgfqwQGeF6yM0CgfvzYGkZ7+tPHrMB1oF7A2O4HN3oLEsLkCTIBHcDrMAMHKwP233V3tQOr5xtdgFggPgXFMFmskBAJbICwCNYep+8DQJMNiH7R0BtuXg3SmMDoCLclOjcQsn4PNagAAhPgqEMEK66StcOhMTqLbwSqiMogrg9wcjmiG+D0hvwQ3gYGSH71-i2Q2IZNGQIxBHEWQcuihG8G+D-B8gQIaUMNbhDOoRTEodIH4DxDeSY7PsBEJSF3JaqFQ7wFUMBQlC9A7QuIaLwKhdcTqWxDITuE6gIknMuQtwfgCTBGBFIPKIGOYTWFaA6UkQOwL8D0YZD3amdcGCXC4LrD9hcwo4TcPBYsckudwyIRpheZDDi62QUYQ0JiE10CohMFYSbRmGdVdhOjLUAcNcHHC8hFkQ4eCyWG1oqIdKKEDcn9qTAcYG-CiJdEwEfkrs8GPgVUWUEcDSif-ZwkxnXB8DteYPE1EU0AFoitAsgz9nsO8Dzg7KofJ-oqlUGzB0RdI5wfsBBFBRmRnRHkRyNpGYjPCLHc8o8DhD4BzQLQZYkU0lHSj6W3HHLvO2FHoizARTO0tYFiYRAjwk9LQOqMKSD186igesCiP4SCiohwokItqKkAW99RZwC4A8lw5qjR2DIvkSH06KBgeRUwwoIGDVH9CCoPIxxEyI9H7M9RXSIoWyktD+jIx1KP0rE3lF0gZRzgtklkCk47YVh-lcwpYWqqAiwqwsUInWEWBawA484dTmmHLG0BZgSbC0UmxCLYjgs-ItqPij1RhYgxjIyQPyL0A1jhRlY4gLPSVpso6xxIwzmMQ9HNiCU0jKUUmMVGFIXhKQBshcTTFtg7hjWccbqlMDODCAYhBfn1HDGGs0WYY70YWOcDOcwRRwyLlj3y4hCgQy3MLM5wa5XjsQz+UcSDnJECCTUamYWAozoDODdxqbeboSH3ENi62kXMLOO31EkjKSuoyLmYDkYFMFGkXMMGmNABDEAAEvrUkAABBcAOAH1oAAlIYpAAADyZtZAMSj0LtwnidfVyn2NkjtinAdIljtuKWD-jwxwYyIWeP-FNsdOGNdiYyNjZnj1AZUOiQwyEmlAeEafPieYXQmYScJeEwiSRLIliS2e3E7TlJKKz8SnA5hM8auP-GSBAJ40BibylZa8T+gOyO4aJzRgL9JJ7LTScZKYmhDtgdw6xOsPJoFp0R7gAqhsQ85NhHopY2ybpzCieSWAAvXkf2JFGqNqJHnQKXxIcmRSrIKE9tGeGjAkBvOxKAAAwdB24t6FZLZC5buCakluSgK0HLwFTUpwnRgGFmSmao+83nNYjwCgm3gap6iNKd4AYZWJcpTCYAWgVgEgCWpObYqRdwgFpo4Q4bK9j4AGnGtgIJUinmgxPHAgNI3UgCFIBiBKouW3XOXgVMGnoQSpuhZ4vlLPA7S2wJUjvkCACjpClgKydQNrAM7VBFMuojNqljHHU4upe-DAVNLjjWt5wJUnktwksLsdyulhS6ZIGulyBtYRg+DgGLPp2ArpN0sweBz+k2Djso4kGWDO1g1SFpDQDwfFwJC5AMBRI8AdigumwzQZ8M0UdQJ8xMIQ01GLxCqWVFACAI0CWmTD0ngl5vu45aDLoNPLBYPArAnfowQJG8EuRLWUkUzwpFGYJSD8KUaxglJvw0Z8M1kVfzUFflbMlgngY3ABkGi2UD8BWeDLDGeEMmAQOYKTPRlmCyuXiN+DLNkB2CxMqM02eTN7bOCjRSI5FPRE64b8EykUkCcwLYH8zD+z-axISL6lSFuBdPJQQLJ0CgA8mOvageuBIC7FOxoYpWZhHZETlBx3ZLkenJd7HkqZuoj0FimZJ4BdMJcr+Ndj9nEon+QskkF7LDkg9eBfsmORLMy5jZ0uxAROV2OX6xi8RkclQWwPzS2ZB5SZZwvNmpEhzveIszmb1mfTYzssUgMKF7MJkfkXCxc0ufdIgiJisg9LY7DL3rmUgx57-KQrXJHF2yJMYMBOcCSTk0TJ623XYDj3rFOTnA4o4lJvJlFyjpxW8jPq-Gy6aB52t8yaBqMkI2jqZuwTqNnJLIuzFAbsrkJ11AWo175I8wNnQJ8B3ztZvLSBXsFEIwKsgk9HHnAu9n1UwAJc3TMAot5gLzgrHNNKgqKYXzOYXYr0YUOZJejJo0MsILQqvmh9x2jCjOYUHHYsLu51QeMbyVfnby0ONkGqb4AExdhRxesbAhxCkV4EuWdHOsLQETDbi0wmM4-nO3WmO8GGLUjxJosflCwwmgYJrhtItm9FaWcga6diDbTwFY2mDAcJjNhFRkU6lECRTVOrGCtfkboiKcOKJm3j4MiYbIPOBqnVStQSIZachFWm5BMZj2eDOwo3FhZWU7CrsT2PCmsLCgxYNRWnGCU1ZMZmSlIP4sQGjjElAkScUOw-lvy5x6WIjtHnAbeKdFFsa-CZDyWhKNpAY1MfYBXGZiylLY0wIlPsCoSMJkgfCfMgAAy+tciepmbjZSuC9gGKTVPom+LHJpSncQDyohaTeURTLiRsrGBLKtlgktnsJMOkCQzpYsaaOJLKgHKZJIysZZMvAAqS3Qak05csvCnmEXJ49VoAWl0mZj9Jhkw5YUrCCwEuWFklYSiBSG-LoRgxcaSCqyBgroRKIBaXnQOXxSH5r4lYa5K0DuTqUYSzqhsTzruKuWTSsKcGLpEpDoprlVFSsoSkpj66SwAlt2O8VaCMlIo88fcKMUuTgROKwoOeTCp9JPlq9TwV8P7QtYb06kuyQ1nSVkrIpAYvMQ0iDicwDl0qxkXSIZpul-hzs+pYyoJayD2Vm04LDtGED3j7AVoGjv8AVZwhYcDSmVpX0FhGqSA4sj8ZLMKRchj0Z4HVd4r1VPDYmDq3IIgU6wKsNV0IhaREH-H99vRDw7aFC30AQSBliQY2TqPoFxqXF3dKTnYFim7SfpGyiRmZNoDeYQOz-BoFRH759iWZKQXFGBOJT-KyeQEstd91xR8N+iYuPseyvDoiooV4IyLqZI0m0AEVrgu1aEF2D5YGuPayVcQH7W-Ah8XiN5nmoinyqm1dgbUK2qeEIcuZ2KE7ISXTVLAWpBdNiYYsCXBZjJYWbJRoDThxKgQVM8NbAt8Xlqwgla-LmFhrWcwgJxk33o2scBLq3QLUu4e2oFSdqLx+XRRfCssm+9h1UwbtZyxA3gq72lhTxQMJOqLqxcP6-4Wut6wbqxFzgLTqcoJADQ+xua3tbyijWnKCN46tBcOmw0SKy1sTbDfhvrXMwoycnTNWFDLVfJDAtqJYK2r3U5r6NPMutpkAlVBT6AYWWSdhNwkESiJpEx5UCFE3ySJNSk6ZbOsI2zB5VAm5jfQEPLrg4Qf8HxgxuzhMaPFG0tjdupw3cbi1TSw8rijU1LKRNdyiZVMqYyib7lUytsbh3g2qa5AUIJZZpo3k6a-xUgTUsWAJrAo40xGwsnGgYYlYgtGIfVgl36zkUFOlaZAiPGi0iAmOcWwWJx17gMMj0J6c8BIGC3opQtRipLhFr02X5yMWlQrRQFi3mFIZdhaqCPCq0Yh0tt-YMGVouWqhb0OgByFCEZXFbRx9WhaUFuoBrTUtu9b1f8OI2BbaA1Wq8ONv5iALIldw2JiNrWkpbZtLW4znNqrSnFrVjKqLZtpEDbaWtA8wccGtcGE5wNgxOlkcX23eKECs20bbyjmXVQqtz28YQVpa2TaQ102+cpzGa3opAdu9Z4bUteGVSRhNQxoT8MwT3aZWZGRDMDqmBI7KiF234GdrCDyr3t62gSPGC+1pbPtdAHbRjsqxo6YRaIa7dpsYB3btVD2jkQVue0z9qo3WveEKjZVPCWOXKtyZsILR8rTeBUUrbTvh0s62GNqvFocx9HeIul6Y9le+UNmwJnew6aXT0uhXWih5h2ZuL0kV3s7NVzISncyxp1doxdMtdTDIB63SQmdcIpsPlkw7McjFDODAbOTvr415Ew9Jcs4OPbutPWiqNnWTrxgulMV3KnnaKkkLeTXEfUa3QulT5Tg0B-wOen81R1KE56ZuW1slSKGrllAA4nhUaTI7OpcKWgUklVL2RKNTeQ8wqJ7ufYgIkVaXZXRmNV2IKjEwsJ1n7op0jq4QFe09ihkN2kppIxu0zB3u91kFspuKBSKmwMreCwsAATg6BB8JAhlWXRltn3aVvB7K-Oo4l8CzAiNlMwteEPjXUDXez6ZwNkQymMDx9ulPQHCzhaFg0AN+wdeoOh6YIz9hg3oQMo5k2An9q+xKEgxckWRvazgfZOfn952zQgH+lyV-qOCzBR9+W5fbpWRXWLdKdi-4BqA40-bLtYohwncNb2Wt4Dti5YCXm70tI+9lyHA4gct3TRX2nIY3fcmIDgb4y3gdIFyAVo+zQAO0MLG2w2RDBU2FB5ZRjCQM0H7OhxNoEiqYzPpXkjABg9LWjkSiuQWQfkCiF1JP7BieyfZNwZYPeLxA-BwlF6jiqohwF7+ufd4PXoPMqDO0UMDnPXU-ln0raqTq7E41yd+0phvMpRoKm2p1NEjJja2o8SOHvuoh+g6IUkN5M-oSYuQ6foMPn64Qyh4vX2LVD2GtykRvZEqHMPoaUeu8lIIoYiPxG1DMrPFASgYDxGEjvvUA5mIFWYqeVcY0PaFQlKjNGVkY6PagL3g7RZBKmzPQQFqoTIAxcO8XY0fBhLjulde8EQWKl6nygGJWHIHQBWRIMYg4Gg1XW1YPEp2DHbbg3qN4PUHwN+DIQ321tKSFuanR-FkDF6My7VxgxpqWELCYeFqul7BENQDHE0SLilooYDE1swppsWSrRpXUf5Cx7uxs7TcOce9op7WjJ1CZP5upl3TEuC+fWDIPybHJuDVBuFupz0A8KAAOlgCo1CqoQNh-ALakCZN68qSVT5Gyiv3Pg-DsgasDCcZVwneJCJjOcidRM4zlgFcTE2Cz1FppCA8Zb2gV0sKsnQAAALxjrWBkTYQL5fSesRYn-jBXXk-iZFSEm4QYhhg9hX53rFRj9ACYz4DhNonhTjJwJrNR+a-RVARxDwEcVIBHF6WjIOFkyDwBknGlapukxidFPanlaN2-U4aeNNIrpTSoIAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaWH8XqexNtsyy4io6xlurbU5qj6ipUUKc3Etz1GXJeoKMp2cXprIBt8CxeiARXySVDfZaQbl2LuVHP5-xEnAmeQ4pZywTZQqsYC2FFydy3WqcYEO7FjDrNrmzBR4jrFAubLoe+ZFClwvuUS6hNi6zgpeQih0FTUa0phROdFs5MWmhxTgPAfkGD4GYGwKAcBEDIHQHwAATB41mT9HDOBRoVbwbwKXCNsDtMoB4UTGAAD56psk-RGKrdWgANUauw5QKiiGGLqi1Zpu67TNfqw1jq7Dy0KtjN43zj4I0kJ4TwxVNZmN8eQAAFvcLYng35JTAX0Q6x41UADJk2gEjZINBarlI5tABGqNAbfUbPAZqgeurpYaujUGkS41Txt36tXUajKGhNDLWqit2cM1oI3vCtoPS5UiAuI83Zfh76VoDdWkNKhTzDpGA2oCo1Z3mzqEyu+fMlpdsUD2xQm7t2vxCo24+S77ntsiBu213bx59z3XKA9vTi19HZSSqRcox1dzsFW4NtbfEnifail4878WeL-ZIiczby1ns7RerdV6d3QZvX2u9QHWYgeUVpLlo711QczTBzeuHe1+CQ6NC4yKAWgcWWuyD8b-WBq-aG4ZJ5SMcvmIB0aTHn1gZXQRt+56cPbt3bB-d-a2NXH+cx9DbgYGYao7WdN8HYMIcI-25Dg67AWglPM6cEHQGyZo5O79DH1MYwWbQVjx8jOOQHgaIBPGxntmUFxp6pakiaAE3h-dTNRpGZ0tpkw2HL14cU4RZTxG7ADP9pbV9WHqMfonXR6dP7wvFzLGZh9czwZadPTp0ibnuMhb9SI4GnJjOZaizJ0ien4vEL2V7Dyv6yQgwSFyDLkNUsEppnSLGWayvZbrnI6s+V8Q8GE8fDrJNklZb8-Gx6ph8D4mlSNh9Y26bVek713JoxZv4gAMz5YfQq8WXNJtxt07F2jNb6M1ZPNAtrnjxmMLzlbN902zHXY5uGRen9YGLYJdAjhJd22BHK1YXLGjPPHyTv9kdsFnuyc3VbcHaX2GDMAZLWHpFFOlMPftiBAkoHvZfiQ9HJae4EaxwugrmsYSEM4Wj6Lp3NXOsx0hlTJbvG+amwzz9F2EsMe8bd1m932fHaWrWk8-PNA+uxwS4JPnjsnZy-J9zt6i0EqHR2LsPY8Ii-fbYbnU7VsNXAt2YEAuRB+RK5DDnvGAt5cRwSz6Ov42g6C0R4+K1PrUG+rZmLjPe6KC9+T1nBACGrW8IHn3cPoMR-t54wuYejQR+J3m2DMfD4CrakKkV7BxVcClWgbbA6S2IxitSWNS0Xw5tUiX0Qqu7vKhwsWxQlnnKGk0FUkZ62xf8UEsJUSxbF7LJb2YFy7fQlFHedLzxFwe9CRMv32u+Fy+6-17W-ADVZ9978mbqwFvh-WaX+q7OM3Bvr9AMN2PrMLc+fwMvl7y4ttn4W5f83bUXANMClZW-R-7+bdP5oXbOvQXBvAbMBGlWgDKO-WTMXSZSTT7dKMsH7afMLCOe5OOH-LnOLHnPEN5UAE8WAmoHfBXSOSTIGDKcxSTKAxXPjWDOOPbAlT0LIOELwd-cQRpM5PEHMDAjHWDPlUaSHYVMtLgjtZ3aDPgvpMgJg+4UoSCJyUQfZA+UZeNRNfCOQyfICD+fNFwPHCiAKJpMsT2Unf8YPe7QQloZtHmF6GHEQ2TFQiwzQKwpAq-OQuFVyOQuCRQ9bTdMw0QJw83Fwqw1QgeDwoHJQ2TbdHw+gzxIyVBVg9gy2LjSwkpdvGEe4YQtIUXToTwCNBzexGHKvMaLInI6oOBNMUAFQ0wuQ3I+oJIziG6UoVI1gzRZxO4LwHIiwvQAAHkKLaPDQoLqJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqWrVhMIE1LwRCG0DorYvAhqE45ZKIFQX4A4-AG0EowiFhSmYY0YiY6gAgUQG8OYhYssBgOgZYrsNYvA843YvY64zwQ46oioGHbYz7DY7Yi4oIK4lVCE+4qI1mLIXIAoalC5LjEFIIAGbQTWbIfIY6LoClfE4+OJSE1pUAe48knoDVUnak0onyVYQkjEkkhE6qSQ6gZgzwOIz-ZEbpLk2IZtFSXNeHRI5osozde4rk4wUUs+fDZkm6bdVEkBMqUOHiR0cU6vSNbQkWXQj-fQkYWNRFZ46khqC8coYSZaAeBtZYDOARe6D+Hwz2AQqokOLOeNKknw1woIpIO6EE-EgIyTNw4ItJdISuQIaMznUiR0Ikr3Uk3QIAsCKlZtE9XE2kmQPEwIAk8QRMkk9I5YJtJU+w7Muo+kthX3Jkjo5ZNkgsjk-OXYxg3klVAUk0zgroaU3oMUgoyUvInsqIUIBwUYWU5Iisoc3spUvdKUzQNUkpA9R0nY9IdWHUgorQyBI0tgwUtbQyC05tK04gG0kyO0pIHqSlNeXEB0noJ0qsqIV0uQ900PHw5MyMj4JaX0lwiwgM3wrFHyP0wIyI98quUC9bBMpsvlXAMAQVJgVgHPTgSVXgDAIvBNKiTCWiPyOqSPCrM7fTMxRiE8NCaiLCUQIg4ijC+4dCTsThXsAiZPUHYKNZD+CimiRvWuHJWtZkMXLtT7QILtBcIMxcV7HtPi4wHtQSrFMXRNMS8o8eRgSS7i17caWS8aRSnoMXJ1XuT7LS6QIkISh6V7ckOgTsSQIoT7Yy0y2Yj4AyoIMXGqEYsShyhSs0WywIMXJUCNTEUoOgReTy8NbyhgZYNy4wMXTY2SwIRQakTQIoPQZSAAPlABfG2OspCo20UBPFfAiuMCipirisSpfA-FSqktewXk0HSFytAFipUgKtAEniquMDSrF2AGyuQmiqqvyqStADAGKqUunRPAAFJWrKrqqEquqBqGrQAmrXsq8IqRrOrK9c1YqSr+qABCHNOa9q0a2q9a1SZavqvEE8To4araha0Abo4wfajS17To5SbK+amqrq26y66a-q+Kk6vKx6l8RKl6law6+Ku68qoIB6sa761SDqv6jK1a1qrqoIMa4wVawIMvZkViFi9CtihfTjPIlSU0JUEkrtTQVi0izGvBVG0Rco9G4mi3agUoAAK0mC4RxuWDxrqkeukspuwk+0YoklIXuiJswsz1YiwDRvQkoqBiGEAU9lrTF09UVk+1luKjSuDMMv6sgGIAVgpHMvKrVo1o6iVuVvcte38tsFgEgDEuNtNv1oNvSpPGNoAFFZL7araDaxcAA5SQV21q9212qcnyMmzYCm0WjG9lCwpmnoFmpCMa7wm6fmtKURbYLHEWki2idlKwsO9ICOx6xi0hQO5OuOzYBOoWxdDXCiWOkmw4RiTcA3KgqwciWwQqWwPKRgCCds2myQKQU+X4EWZsgyMu6iu4XEOivSZZKu8aP8KIQ+JtZKQoPQjgxQGusQWpWI2epsaZFBEyZvDm9irGmozQeU4wMukOuctejsVBTeoOqmt-Gm+migHmfe3OsW1OsM52oITcnQjsjg5TTQ-UzwLIBorkY0jg2Jaej+psIWjPYtLPeCsVRC7gTAVC9KWYCgWwMMFQFRJURgFMUjBep1bVY8UHbBh4tEOTGgwLWg0Tf4YLE4k8WwOEz+MEiEghihu4YLUeEh23Cg3RShvwqwfiJUdmSzBQbrME6wjI7OSQUgUgBYhSU6ZQaCSRzqhgbYh5SR3UvAjY0IE8DY9Ys47YiR0gF+okLRyXfYliF-KwHkcgDqHwME6CNaOx-kyxvWgwXeMRn00x6hjKk4vhiUBwQR7GFmqupxifOYg2ahnQE8cximswUWA0FgB5ZiHB+IZ1TcBKTR0nE8Nhi4WtVJ0AVNX0DWJk7dVJvQA1dh5Ukp0AXavA4IH8IeZCTdXJgok8WpmyUIRBiR0YVBicDBlMVJimQWaEDXE3PCXJ-JhcbuMtC3TTK3Ep5ozRrx7Y4JvXA8eJxptaBJmNSSeEhcDYuhjM1cNuOqWuS3RkSpnZ+0PZk45ZuJuDUhvuT6OZvQTYlhH8TJs0A6Asaxk8FShxwmr5iiOJoh4UBNeSzZtJ6Jqxm0Ii+Sz7WtdZmNec2DEp-5mJwF1ZhKF0Ux8F+pk8AAcjoc3GoYJbYaRJuJtFSaieWbDEYBtBpeqpsNwr9z7iSDwbubQXpcMYXDF2GDGFhMcoamvHIFhKxAPGFYaiRjuB-GBcSmCfZcUE5aRbw0VchdiYxbYblc3RVe3RVepY9FpbRJEDbo7tIC7tGBekoiTAhi+iScxGGa10ZG5AhZ5ftdN00GmZa0ddpC5amPs2NZhFNcoBFlSkta9FhAcfWnyFYeWBJCOadfqbF1qcl0c0OaEO9cxcXvyFTKsHpeKCfGpFDetadYpTDiGZWIdcOCdbNNAFdLfz7JXMuJTdbRaA9anCtyrZATRqtdhGDRgk9hZtzYfHzcLfDdCZtZAuINamLThTUZhfMneZ6FCBUM3TpG7YcBEhghulB1XbDfXYT2jZBYtz7NzR+bkQXdleYF3d7bWjYaPa41nf9c7qDfNbgPqZULvfsX-PDr9fboDbNZDZ3YhgjfHYzffbrazMA57Y3bWnfLvNLecyUCrfpNF1eyTZPibYQ-HbcX4WQ+zm5DcUnuPg6i6hte4JLRUPjeIc3Uo5Becq+iPKvFvCsBmdZmI7Ip4ZrYgJ+NI8ZfI7BZo8Sm3QE7zDo+5AY+amY89ZEAQMAUA2D1FcYAnHIGoG0nuEzQmDQWLd47zU6kQ+9dnYU+FaifU8xB7cU5UR8y07cajxwxk64Sw-TzAC9wPFhS2H+EJqwTIlPKDXIGgrgrYFIHDXbANFAG22QgcAJW2wLwL38Hk9hCTEUBVBCdMAGEYE6VtaZJS5GPS7adAAVrGAGY5hkES9EBCc3U3Sy7S53kGPKcq5y4XGQXi9IBK5Ce3Tq4Nmzd9YYTc7uHnopUiSTAxB6+6lUjF0nmG4XnfK82yDyBJKS9sB4E0Hm4W3vI-j+NKGG89ixAS-m8W5TzwxaT13+SXJ6HVnW824KPy+rerNk3y41LtgqmdPtA-jq626a5a9sGlSVYcUIA2+O4ndXJ4le8u5Mnyi9TGGu4-Ozju-ujvMETNCWja8mGy4B6iFjLR+VjSGI3oDFY+72+W4cMoNW-JvO-+Te7oB29K4W++8UEO+G5O8B-C9+4u9zSu-vMRLMCO4O8G8qGG6-ftBUNrV28JrBYJ4rI9F5utvEtgzp-+9R7h5dPJuB8vMp4oi+-25+7++4fu6CHVmB9Z9B4VkVvpP3h6FHK581756wFN+DJUJULF7jn55BL3WZ7l--Bt4e9VnZ7N856R9S7GEJ5qFR7AqjMx4pIfUsvkEC7oUh6WjYGaYxNm-PZkUT4KGmViHj5PcKgcEU+T5MWsBx8U4uKeNqhYHE6Y9AGc6BQvOG5vM1LCNIkj-IEC+YvJqr9c7J9Unu2G-nv-A-h889nb6U-+QytT-yAbRYs89UiH5UR75PGz7FYbRMJANKEKnJC8E4csXkPF98LI7kqOlI0D4l6idX+BhYNIxSTX5VQXs3VP-X5jRP6v-P8k0v7P5jT3+3Tv+v8f7f-rrrFfMP5MBgie-bbs10AGREomMRDeoANwKRE9+FRFfk-28AwDKC7rdwp1xIwzAeO1nJlqvjMRicamcnbHhLSoCnQCBPhNpMeTnwiQdEtgILiZDuCMBY0o0AYPkGHD6d4eD8QZj8HHbe9jAASJAUEiQF-86InpWkGgOCI691sX-LwGo3y71k8uVAvvLQPoFjBGB9HIAYGWWSxBWBNoGQfySjj6CGeaPHDvBwo7ps+Bk7FQroPlZVtNANgoTum3l44dOBMseNPhwrhh91sNgp1p1yuK2oWAdrLqPPgmDTAig3qPbqELMrBo6AK3bTrpWUDDZ6mUQ8ISJFiHz0NWYLeHMNid7A1FGiMAIUENiIpDvUBQxIBb0SE+spegQEoWkIWwcdCoBoO4O3QBRhCIhmgWofYDiE4CSczqOgEkOIadD0hoHLIdBn6E+s+uY1RoQeGaG0RahigIYdKnnq5CFwkwxKv4PKF7phsLOJtGUMCH4BpgqgezIxFEYN9d8hw4yMWFMCJAbGhQiOiQElxu4H0Bw+QJcI2HxN3hGXPoXsIhak4smIwGYbajmGOBohaCe6PDh+G5C1hBAC4Z0CuEBDbhmwwTD8J2F9Il68+RCOLTkRWRAB4oaGHAIOTk19BQg3-g3QAHMNt+EAnoaAGJEg8JgRvArsQygFoJcR8gCQVoJjZyUrGB4OsJ5Wj76D7kRgjoWyM0G+FOuuobkUWD5F9EJRwo-Ee4T35ulmm+AK9MVA2K4sVRm8NUWwyK59xZRoAPEXoHqZuk8UnIzAceAlFGimR6IkSJiJkjYjkQ+ovEeyN8JZM7AdveQHoFTSgsjohot9q8J5G2BpRypS0SsLNDbpDRYYokBKINC8io+fRFdp6KjEG1N0kY++h5GApsMTwmou4Hyz8Eqo7gynBlHsKioL0VC7VaEaTkNa8NI0yYTEHWEM5nMzOLwTQLm31G5sCR-icmtKIGx-FFInsGMYGODFtiRRjY2gHvWqELgOx6A6kT2Kyizscx2o4hn8M5F8lCxtiEsXON5AKRgEhHB9IQAcB-8Jg1IZvJ6L37GowS8rS0dWNAA+d4RNwpLvj1K7dCgga3T2D5xa5Piigz+akd-AN70jwefoUnM4joAYDQeBbebo0FPF7l+B5NJLp7ETG7izhfQHRC1z0CaNamziJLmskLGgAxiAACTtq2AAAguAHAB20AASmMUgAAB5V2sgFUhGFUK+AMwIF1M459aEg4ywC6IXoHiqK4E6CbGIhZ3i1+NIXts2LwSCSeRGbO8TIEqBjj6AUTWSb3HYlitJJC9AiURNInkSqJtE+iUpM56iTqQ4kjiZJK4nEAF6d494ShHAm2BIJc2cyTdBPAKTXw7wogRDjX6qTzOyScyTxL37vC6Ihwlmk4jxELEaqFxQLpMByD1ivJeEUKWXy5GxieJYYlic3wCoKSjQvk0UaiKRxtwfgW-OwIVFigKRd+hIgOpKzU6usJwlAMYIYQ+LVgSpQQzXLChqm98seRHUwPcBvAyAUwVnZYBqlQnFt7oioEAkVBvD5SR+BAiqU1JGYqIap0pEkOYKjbDT9+x4AoV1J6m2D02yYwIOtNsDdTpAKYRwVGxlbOhM2BHZCXtIOkpgKpN4iYMEM6QrgFgBA8AQqOlijQrpm00qVqW4GDT449oNcu6GK6ADfCkPfqdnBrxSCyoLg5ZAEhJH38RBr5SkTOILjZxSgcgw3uD3lKhAVRqseUrEE+mHTX+CMwwcYMdLW8Fe3pBnBRytG2RQghMlMNR0khlMGZypUGdoIIAlJa8ngkPpO1Zm+C9xDBG0fXWcCCQGQ-wTfv8kD5+SypskWkTSOEFkiqir0yQWkHVjEjqmbPVwUtBICHEgx8Y4me2UMFICbo6YqINUB4m-gG2cHR+HYFQnVApYytPAJPBdmOwiRgg1SAKKVlloLZ2U+7ktA1n-iweisFabrNuL6y0pks9zmbOMACjjZb-O6LvCTnGBIiSCRenUijl3BpZfs5WKYJ4j3TUEdgQ4L7JVmBkPCzs12eDPjTZjVReY3OY93vLGwbRmc7fr7KpFVx70BKMORRGDH5A9u+QdXp2OQlKiT2i4vlhqNrl58tEYgIGXqP7kLZjRchN0TwL7m0zEozIkWTqF5JwgJZfcwmoPPcLLzUJA8tecOXTmxFMRYsneb1wHmE09ucA7qmABdmTxl5dvYbHkzTSoQwWJ8+pt3IjnR9t0q8naVEEAULZgFQQP+cGJXY5CY5HwFdmAtgUll3CGbGuVqLrmdzkCDU3rijhgmTtKs2BHwMlhGASsSpRBDYFMAPGMhbpe-UHLdI47TSfM1C+Ick39zbo2uJUg9olB5bSBupRQD9EjHY5sMXcsGOhTeLroSgKpxUrOaABHGSj6oMi-VhRCHnpJyaUwW1HWAqmexTAeU0jIVIWC3SIk5NP+fONUgsJIFBs2RUlJjnkLZAVuNRZQlungL0g041WchOMXbj+xyoyefUxXG0dWU9wellIukLj40YzQjRRwuTFrizAG464fE3cV9jCMOEswHhMIm2AKJZ4AADJ20GJLiXuMYX4KsSAqFUzKQGO4nZS9+fEo8TSCkmWBhJhk8CcGmKU1KLJbDZSZUCaUcc2lWC16BpNSXpKsl4AAyaMCMmNKSpJSuRQvQCnr0wRBkKySWKMl2SqeUExyU4qiD4ESprkvYT+DDFzLYlGVNDusruCbLYl0rTrnXSaVZTlFcZe8HsMCnyBgpBkTRWNQuLiLulQSkXnIuSlOJUpbEi5aUvkXAV8xAkfRIEssU8iXR94lgJMtuUvCjhnJJBQPEer3Qplp9EISCNSE90FwCsDdhJOSRgqylkRZMdCPOVjKFWiinUP8p4lK0-SnwzrlTBQaKKyVB4EJjSp+H9dyaroQQO+LMBbpdOTKg1g1HpX0s6+k7TlSQAxkASQ5xDOEMCoCWMr6WEKz4WwzFULA7ORoFVqytiU3iLgRkkfpaPPF2AyW3gRCczL1QoSsBJqm8SoBGJqdcVdYBukZIeR2rY08HXVRLIUn-SegH8eCapAWX2SnVpk2gKjw-hSNDwZYWKSoneHp0fIuyhEUlyNx2rjlAQkVUEHyBYIWuCawNcQCTWJBB8AvMFgpM0DQjQ12ij6HashXGDKZMZKfKzGtWmBulIgx1Uwq7EB1zJnsGxZQsOAGK1ZtsqpdSD1X-LPV78OCaV09h+qllDkwdfdxDUWBS1DaqNcpHlKxqHxpXEhUcrcmo801eIeNXgQqk5qWAeas0CoQqlFrOqJa8NdNM+GwcYZHc1CiZ2mkjEI1hwD1QareUvr6m96kqQGrUlBq2GJnBSd+u8kWTjOYwHFVmsA0vBY0da21VmsbUCSPVhigOhUDA0-r6AnsTSSRLImUTqJdEwZWkAw3aTsNeknJSoULXIROqyGp9fQHfJLQTwuQSJjWrAiga3lzaxEsp3rXTSHVAk7ta+Lb7SARIxS9DX0syXZLbYGG-pdkoHFgsT15Gx6pRuKU0bs4dGnIAxowXypcchpIGLTTahfRTh62BIbNA46Q4Ng2moQLppv5iFroUTePCZtwiRs9N1yjXuZqiZCx36xlUzYvkM2vqmShmqJpDnc24RzNNCyzd7ms3sIAtQgezQvWOlB5RoRUTwA2BEiBKvN2najlZsFnAZaAtNagEVNs2RbFVbK5hQaVFh5bF8pWrhBC01UBC2GJmnLfovYTlajQjWqodin8UMrmV0cUYOVrRhZa7NicqXlVsSAs4t1GVXlrCSFWKL4CWWurUXWPjua6tCwmwB5q4QFatVr6rcuMCW06aItt9X4SPDNEAjm6QI1oaCMxVEgJtHW-zVtrM07aKtq2gIf1qiDQj5tRU+PLdqNDvbHtrCQbVCv7Qja6NjAcbW1uFUdCltM2-Je7lEAJbUYXkUURWv8kwqgp9mb5U+QSrW8PgBm4HYyvi2Jb2ttLTZj9EQWIkCx0S4sXsuAr+APeZ8qJUWMhW-lKd+8WIKThNBU64dtK6uP9qFZA63ADYPHVrWWhQ6Gws2h9GJKkaow+p4FfxRoK0K-0aaVIQBriBvGPtA2wbKOLDp+0dxPyiO+5cjrNBKj4qNkUXVgiUDZ8xEpA1GPvQRY-RRRqy8xO63yrpi6O4gCcZOLwIXhGOLUCUdmQUrvggSLzJOVTpPDK7-2L0aVvMxPgk7ad1k1OR81yXSAneGupmP9uD3PtUo3Or8AoD52fYU9quygsYQ-hKgC2llMIZ7AACc-4UaMXrMp06HNU7AlFXoogBSKQOqFQJoAsn3l4OtZQjPeRtnIQrABRAAAxgyahNgKyooDxZ4sGoaAafSmpjI3qzQDe+VioDJk9AG9kK+ugaERGBCb0N0KwB+Avw8zq1QQNfU3s308xC9m2kymELEU8KzK-CmKM3BtX3ahtio78nsKT3prnJt+vhXrgEXp7RwWe6CN-vv1ijUKkHOwIEsKhbqHCB4coHCGcayylIroT2IO0fBbAC24B08YaBN3EAt11DX8Kcp7XIRsIjAOA5rSqYns4QrRYVpD0X2ZVfd4BhRcyoL54GeoWVceqaEX16sOtroEKJ70qjo91YCkvXCp1KBqdQN2MXg5D0-X6JH1AG-9eWp8xSH7u6sEg2QY6gUHVI12LUXOmH3GA6D74Qw5eVQ1kQJDtUww4Yf6j8GBE6PKtekAMMWGPw9LJKAkoYCOH3ws+-Q6PrCF07kVtyh5bZH13yluD+Os2abu2DXBUYroF0UWud0EBOqugKoRdvx3RGI9XgdcWToRFVjgsBHNTeblDzDA6AN4HVFAawSxoP4yB1SKgeHaYHHIDgGyXgZhIEHjBj5AeDkmSN0tJckemJVkd2jGDGSzqHwiyTPknhrwvrNKSqgNHyBJAmTXeJ8zRZ86bJJAyI0oFSPeE5C1uu3fEceqJGklSkaaQMBIAhdVIA+iHQ+jGkNrjcFbe1WgnLyNTDjh2rRfcbnwhdtiPAD5PGgOMvGDwUTe7BcYv6ADppVxlqRD3gFgsWmn2Y9Y1OBPVSA+TmwhspnAOLG8WhnRQJOIAA6WASRdMpEN0QRi8TZnVVTyqSRbIk+vAmod5Lsd-wSJwJSiebFonqhmJ7E6ipEjKc8TjAeJioUIAOEboITLk5oAABeOdUAJiaiA4m2T+AfE1sZCZCmSTPkMk4xlgOUmG0pvEaAUfoDFHjwKJlk7iclMcmRqS8V7DMYailBYSpAWEny0Ih4tWIeAGk4yu1MPTdTUpraoaf6rGm8CppjfBaelYKn+oQAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5CYHBhalSJAAmMvgxMnXlANxYAL5CJBQ0zhHkqjo6LZJyEuR5ADSg5AAWMpJDOmaWoXYOTi6SAA6qlD6G8aAAZKegi6qtx-4AvA9zi8vDHd1Ywn1ixaosMuUWZK2eyOAZSFajOrjSYzUAAImIvxkcJMbw+vVEzjoAE9PJlJNRFIi-gD1jZNqDLtlWkNKGVbiZUV0eiJ+jtVHQ6JQdMQ-sQpgzAeSQdtBsNIdDDLC4RyuTy+eQUWjPpjQLLubyZPzpLj0vS-GtkhTtlcaQcyqa9LT9fFGUzuiq2er5VryJI1Bp-oKycCts5Ldarebyoy0ejWd8pKRaIYcm6GqQ5KpGFp+qSjSKwS8RmMJlLbrM4dH6ENtQmkynMUrmY6xMXY2WZInk6naDq8Tb-D7jf7qUG6XoA8GGXblRi2fXS-GmxXW8R3epCF6DULrD2qdd+2VAyP7eGvlm1NFVB4spJyy3MenhX6dhDczCC-Cj5QT2eL5X+tWHeOxC+30sH5zu2erXmumYbmaA5DgOu57rWzj-qegEzpe-QLp6YG+pSMHbsOBqhsy+6qhESaeHUqhKAAHrsdicmm3oZreYo5lCeYCn4hZkR4FHUbRMj0bQ37EWy3G8fsKZ-OQ3h0Fh64sKouwGLq+KEpIxIyLMuEhvBv7OGJlHpHU2JyRB2k7gRe4iZGkg9pEWgyAqpnMeC4oPvmnHwnZsbSQqwkIdhTh8XRXK0M5OF9hZtphgFETFnUlCYuowUCaFuSMTelIsRK7GwkC1ShEWtAJUlcgpYJxD+XpoDxcFex2DcK7dhB7G2Y0sI8LpEbOLVMg0Ywkj1uF2ytXY+CwvwXUHjVxV1eoHEnM1t6je1T4AMxWbFUiyAAjkuZDLotTFZa5rGSgt5CFrt+2kMiU2qgpADWSzXVqt15HQhqZSNMJwq9B1wrMtyfWO3WgP9t32b5rqyd6NjHSakX4dFNbVU0jCGFDjmuh9X3gbelrA-dbJ0W6PnY-ysN+J9q6Bc4UXkCDqNgxEjm7OQ2LSDIe1vYdjN43TOwlJ2TM-izUhJpj5NOUTtPrsUhClFuuObdVaRyNQpCPVhgvZe5F2FqemuPVVYNPUsRta8N+m-ZbJtAwaoPTXbkhGSZGXfb2m4M4R7xbZIim7BMpBztbd5uWxj6eTKuxB5QIdVsTYgIeVaVh9pI5O6qyY6FTR2e5Bys+771nOMQ1AB4wud6NQuw00tJ3qYrZS16LpcEIcmM5zXdcC+ulqt0nzik5X1eD3LEGBoPYZ4AhDD4MwbBQHAiDIOgfA8Cy00qIuDmwlqyh9xBESyAoSgepo2j6Ay+VhAA-NYty36EABcQtIuUz82A-GvUI9hC7BAviC+XoVJlTUhpcoswD4mC-tYN+cUYxTnPKhT8YUb4FVAA-HeZVJxxhQc2NB6VPIwLgaABBUgkLvlQaHDBBVsEegXMeZCBDZxXifKQzBFCA70RdPyT+mCGHJWdJqfhHDiCHzIdw+KiV+jJT6vxCqAj6GgBwYNYqsjaDyP6qlBiJCJGwK4TsAyqc9HxDIQ-c2kgEJ6BMRJJE0kMZQLIZglIJi3bONcV4mwnCCrcIhnzQxKi1EBIMNzG6L0hjQ0plA1RBipE7Dtso6oQiypJPEZIoxERvJRIphdIJKTVGMJyQ5GW+jMl+PZLHYOtCDQWLVNUkyODL7-BTgokKZjTDQIMdMFxhRWpqRAbJHOeculxMPgUwob9vDMCONHAAqsQR65cADuWJsT8lUFRUAABaHZRTd7SWEu3QOcgTLCFmCMgWlB8CgD0BEWilAWCyOUEsGxwhGS0wLqczmjznlUFedYvSegLlqirkzGwnRVFyFkOIW59yoysF2NQeoQLuogpIJ8n0NhJzAjoIrcgoA7gHI0HvFOHiPm9O8V4vq0liBQgPocWgTk+nUpsCnexUkZIYuICYKlbLvEjP5QK1xbSJFMtEVMD5hEUjyykHZEBeg6IEsmSohVi4ljFjpVMZVchTCsrfvURozQ6gdEhdC2F2LrAzOoD4UFcJFnLOoGsgg1UOa7BkLs-ZPzqyQqIgFAZighl6AUXQbph8vmC3LqPWSobVWhAfsLOBb99iHBDRfMlnc3TdzjeGvlrKbCBowkuWSI8Rkhpop9PNqswZqJkaVUx6DykC11uCRgS502HP+L1fq9UWixJgfG++JKWl6B7bRdR9AB3xNcdMjN0kx2zXaQHPV07D4xWqiE8JvMPp5q+Tcu5rMWDs05qEomLaNgQSNU0YgLQzXmvkLCg9CLxgcjJrkspxhPoXsKOuZpmaMbvtKTjIm0wYH3usFCx9nqrU4qQR3QDkRjDFs9cSvp-6F3oylh+kD1M+Xga-s+7JmYUMgqzUht0ICsV9PXFh99yGQEQbCFBmFMGaMQS3TzA6egC3gWw8BmJoGCPVG6KEboftqpFpICI-tGl65AjlU3JWcmh1YNAEm6oKaDg+DhAAKmk7w29dRdOA1AFJxEhn+2BhU6GAAkKEf11U6Ah3nCi6chC5yjJbUR7a27uMjkjXBks4NqZEvBn5yG0sYbtC-optmHMuZcfekTPpibm59LfoHLUNwXMEkIO5th-RZJ0axp+-m+aRWhGczkPLBW0Ixj0FY0JvHKt8aA9ExmKsZUPtY4F-Gjc8GNg8+wupXif4wkG3VohQDOyMgyzsKhKFhudNUykcbUpFusPq-OHEHYQwFrfsLJj4mt6qjUek5tXzcVuzCy7DxDImO4o1iHGFYXquufy1tohsk3ZMlCLigzcojMMGJeZmTrRnvqAhQXDD-w3bCu8bS7LShxXMElbYzWUPZiA41C0MN4yS7tzUSUjr+8DFfPkqoZ6bU-Skd47DpVJH2m6KbfEBHrWCc1u3owkRZW93YtxSAsLDPeeulIwyPNTGREzdI6L7Uu3QIS9ACAyXCmIKMcc7Wxhm2gIjeMPzoE0uFfAI1XoHXNDMQzc8YUBn5vlttkVUrmB7OfEGLePDAKdakH4N150g3oQjdgNI5Nr7wFjezZd9a+d3bvdDcKw703TuelfwI+8Weel56L3YCvLg680BrVO2yQY7b-hURbeubZDxiVRCXBus2VO3nAs5fYGSsx4cE4py1X60Zj0ovpWig8gMWvN8cfj9vqf26IN76i955fj6nRyjCfAhYe-Ipn3pU200OUti5U4-Ac-lqTDauNZfoBOpZzZOS6gxkQUH8pCtE-sxJoX+TnpFHygJVOX353w-mMxogtmA2jr2misXVUwi1VdDvx+ilDhDAKXFMwgP5CHh2DgP+Cox-0bnvEjg2w1ULFQM31VFQMnW1TNw1SgK9igjKCoy5zOzIA1i5F0Hf0-xxhgQwO2EDAnwChKwXg-lYOxX7j7E4M3ToOoFkFdnOUkk0g73MAc0vVvFTTtUkNV26FxQWCWHi05kZTRwVDCyO0LzECsR4JJHD3xyGXINAAUOUg7FMI1Tbi4MkJm2K0kLWFkILktCMJkGQI8JQycKRBcPhjkMpEDA8JoLZCR37y0OZRAzARsJhTbw5HUPJ34Jai1B0AWCsL1BpirzM1SPSI9E+hcQfksMMMkIyMyFiKrVAA8ASPf1W3gRyN0HSJMLMAAB4Gi0j5hSCYU6jv5VFGBZk9A4QAAVDIUABSYgbEMFHQdwGGcGABOOFoN+OEUAAAalABazCEMGiF0BuXdhiLMDWNM2WLWI2KqyiBiB0F2K6O-QNT6IGOGNGPwBkBWSmJmMpjmOqUoEWPhFWPWI5xC22MuPwD2OsIOPhELF+NOJsC2IuKuPyMJwDQyH-kAXD3FzAX93ZWEOUHGAyCUj4K-gCnezKLiOVyhx-VlXnyU3pH2KhOwQkRxNrh43+OtREIYJ0CYO0JYIMR6M03BjASJUeEJhpP+IfktHhKhPqKJJ3H2NmEDHhL+0KFE0KGfQPgFOr2eA0I5KiKQL6zCBtSOHRPhEWXSHqHUyRF9UVItTYy8VxQ8LC24NKOE1cXXCJO8JMJBWcMjxFW8ODRCIVJSCVMgzV1vAPgZLxLd012mkDw7DRI7FmA9AxOsE93pN-nDIjVgyTKcxc2JIqPJLCEU2FhzJ5ITXGTDKZNazenoIuK1PR0HRazfnDzVMLmaNOIflkDdDFKx1JLkGLLCAbOzOlNBNlODHlKYzEz+OVPhVVOyLUKUGPQS0iMlTzNCH1OJMLGNL7zqDNL+C9TVEMz8n9OYytN1P+3gztOJQdN4IjK8RdOzLdJiI9L8K9IFR9NsMfL+G6wDKBEDMFlDNTJDQjLTzADniYFYGz04DXl4AwH0KzD+ReUb3RQ+QnhcmzEXylHtTgoBTuhf2cEwsoEBSeSDjyVDiQobkRm9mDGlTDFxTwsBRAtBxhGflyjhFNFMxsFNG8QqzcV+mtDYusGtE4sj2YoUL4osO00EqYt+nYlEvYgkv6V+gVlKFM0UrkEwS4rCGYoSjoCDlUGxFMy0p0smIKnUtCGYv1L4v1K8RMsLV+gUgWADg8DoEBjsvmAcoYGqGsusGYpWNEpsD0ColmGxDMDuAAD5QBtk1ijLPKzNfodlfLrB-LArgqwrtl9koqhLfoTNZgUhErQAgqiUUrQBdM8rrBormLgB4q7kAq8rkrwrQAwB0rJKYCABSSq3K-K0Kuq5qkq0AMq36KvXy9q2qyvR4IKjKmAgAQgeEGuqo6sKqmuJTGqaqmDhBaLatmuGtADaOsCWvkpgJaLuHiqGoKrqoOp2r6pgJCvWqSpOu2TCvOvGpWpCsOuytCGOs6ruuJRqsesGImsqrqtCE6usAmpsDL2fiZBouiH+XwoQoPEcKJS-gUiUlNFmFothsxCZkhqeXgoH0t2oA8AACsmxGYEbqgkaeUTrhKob4LTNtJpVoqwg0bcaismQsAsbobAVJsQcYqpRmLr0TVTN+ajMGbmSbKYDIBiAb1Eo9LsqJapaOYRbRaeaVqXLJBYBIA+LVb1bFbRbmLVaABRUSg2nW5k5igAOVUDNsqotrNt7MqwhvgyZpDxMNJsKHJtuU6vcL5QsOpqwsnQbH5g6HZpxpDyGVdpSHdpOrpsZFRt9phv9qnCZhOUaXqmxr9veRIEuSrnOnMJ+UkBiEkCNUYDOWrIJtUDUGc2iHZnLOpSZsIqyAVBIsxWfMKBzhzraDCEjNVHbIARrKcnMPCIZVR21KmF4yy3pT0CZpThMNmAlOsCdtjzJhlLHtjmy0nrjrorf3xqJooHxznp9rTvjtDtsJNpsFnM1MXIVCslUOeB0A1mqLKkvtdDexBEASfv4VZvT26kzzAuXggu4EwBgtADLortICrsow1Xqk1lSgrV2HMIiFOXjlDgUVU3WxWsQYTi-FmDaR0SURQZbrCHJpAY5DAcoHZhQygduk5CzurhQbm15J+BJBQa-jQcGLvlM1RIgV4JonoamVURomANVB5kYFPQ2SGCokoZgZQf3XhQQc+MwbCjocC1tLf0bLQ2qE4aJA-hwcUTTjobHJmmC1omgc5DGBGTC3JuEdEc2QkeMaofx3LX0dvlo1Uf5OyLhBEpYbErTUtDsdSjMfBW9u0j8dMahCuV4ZSDfmnrcceDhGkq8ZCdkDCfBS-iidcY7CbLhGIcrrIYgc9DhASe0x5ThvDwIdCCIfLpIfAYocSZodjR4Yib7O8btXSb1FjpMaSZjUPJYyfVkdcG4bgZ-XXGYvYaBiDy4aYYaeO2PNgz-QEe-K7rZHdX+GkeSJQssOYcKUtE2b4dXIUXXKWVWWcGZwqjmGxA9QIInFoG1XqbgbYNgqKZ2bWzmGDCeaab2ZogOadRdRObSkMZueOQCllG8Et3IAri8ADjqAaFaFWeDKCPOZWZ4cyeBcYEVBwrVChZ4VkFRfQg8VhcCPItaEQM6ycaAtAFrm8GAiGGQlRvyzVHpVAFGHIFwGAqz1IHmEUkcVADWjuVkGmjWnz3z1gROU5E1j0GemxFmDsGjEYDqHkwJazELOldtTlZ6IfiFpaBcWmT2nUHFZkElcLktGVdle-WLNFL7GNdVduNlDFYleHIHEte-UEbZCsWpayD0BbSe0xzKjddQ2VsGN019ZM0PMRL-gAT1c5h4FmAlckEml1NxXxQ8F9bCxtdIAjckCjZeYHEhx9YAk-KKHhUTeTeyI1bqGXILlLYMcgxmb6VxUtZTdFbTZjf4HtfpEICTbzcPOqGfXrZLfpWNWFpPN-SvX7ZvTvT6R6etLZXXEDEta7cVK-h-J-NinoBBfTczebfjLIPjfgyLYAgbboFtf1YzdbYxxexeGQnzdSELfbeLceFLfLcfnsBeGze9YvayDKYKksNyhjczcsM3e7KXBjv3tCEDBzffc8KvZ60tVrfg17b3MPabePZbazbbY7cvfnZSB7abBVabIfcC3s0KHbJfbQ99d6UI-+MsP-eQ63c9FPpFR3Fvc7aZAo9AEnaHZSGI9nZw9ldo6A6reY0XYWdCACgMq0HZcazzPkkyd-mRIKbZR-iRIAV4zfjYHcZiGxcVA2Ifg05BY2OmX6NtUay+aOfJY9SIV3N9YtKDIVdADE-IHZeovgwpem2LbGIbwg49aDvgyZbCxc6pYAkGNk4AWrBorpeJX89BcC7hF09RerHbisQ8BiASliEWz488PueadIOYQ-cA88PRaS-pWrMWz0EK5S9WEy8tDK4uOQOq8YMVTq4q7WaCODEa9q+S+rILo8Oy9fBpaYD8My9TZ64AmwecPRcHuG765V364-My+KI88a8m9y6o1G78OdZsiPFgfgYX31lgcLHYdCO+BLDjFfAXX2Zm6kJIBNP7yPEkA5fpSyEYBbQCmjF2CaSRYzLhUPUoWTC28fcMcMCqI690Fu2B-ZK68dM+Yu8w-zIgka7w9HZNRa3VeIGu6hFu-u7qEe72+h-rJmje9K7B9Iza5h-Y58z2EeYaY48FksNe5Mm2YadmDp+VjodJ5rZvI43mZE2E4LmZ5QfW6xCiGyBYADlXv7waCTGxH7ToEzYl90rGDoDjea9FFcGbgME6i8bl6l6hEV49dSay8Jk6k-YStqq2OF9F49XF-kHl8ajsF+BI-V-o6VrCC14V8mmQJiEcSyHLpQkl+l9l+t+1+kCV7hZV6pMd818D7d7195MsMN6d49ZOs9+8G98BVd9aHT+D49eN9cUT86rN-t53E6gRKcyF-t-wCTCMEUh5SBnMIr60DpUiDt5YF8Gb8kHdszvBhLi4Mr8b4L5b-7+2-D8H68Y0z4eT+LuyDT6j9aD6UJjL5YBNrz7Cvr-ID74X9b-N4smb9HEWbEEHvzsUHrEmBxjS7s60FW9m4F3g3h+JUa-zvnG67P5CKY3XFv-vcR6My8Ym7P4okulx9j4N9vA84OyhJ3v4Ncwe3tP-pf3y579cKQAoKKAM6L7B-+0A6Hpl3PKxN8A5oFoMsS8ZwhsBdIXAfr3CS6sUBswP-mYC8Z2lrA+vCIJtxQFUDCkB-G5P7RP78JyB5-f-iEToFSAqOWgMwOcB2CWFKBhTNfsAPb7idOigYRgTnwKiBhKBcg6oCgMcQgCpBg4PsLIJA5spLQig7QdSj9L68CBOAuoHCAF7gwLiWQMFjtg35l45uRTaqsv3UzNxDuPURYFrADjzgUWV4bwf0FmBWMKe--AISESuzwYkBbUfFHqjCwqCJBSAvQAEM4G+DaAs9Z3tSmCFjdQ+zgcIbqkJTuNCBWQUwaP3Sy8k2SVgtsP30axSCIhKqcwYQDELJc+ok9AQZlxPjnFYgvjAQa4MZbPsKhErDdvqxD6nlgs3NJlhG36HYhn8mQ8GAjwaBjstyaWUoOQnBjmCGhEjGNoSCaFdggQuKCVmFg6GmBX+lJTbhKzMAPw4Q7DJYRKzDBWDQAQxAABL61JAAAQXADgB9aAAJSGKQAAA8mbWQDEo9C7cJ4g51cpJCp0MQpwDAPMJ1ClgqwzYaoNQbdC3QqwsxqYxxYNYIRvKfXkyxXRlQwRdAdFjiPUB4i0RGNRPsr2cD3DHhLwt4Z8J+F-DCRz7FEWE1JFFZ4RwA8wjiIqGrDJA6w8aJiO9oyhWRtAHZP30BZoxkuWLEFmyMxFQjMu-faxJX3JoFo-+7gAqhsXZZNhHongqUeiNyCqiWAqNBAcQChHG9gR7LXUWSNlHQ8rINw9tGeGjAkAuWxKAAAwdB24t6FZLZEVhLAMGwESgK0HLw+j1ETo7wGFntGao+8XLNYjwEOG3gIxIY-kN4HRZWJPRTCXru6zP4Ji-RluAMeYUsLnDTMlhbMfI39F1BT2i2XfhJjBh2ANI6YgCFIBiBKofRnrODsGJzHoQAxuhZ4t6LPAdi2wAYrzkCAChC8lgKydQNrHxbDsUKm3aRqlnc7U40xJXc7iWLjgKN5weY+bA8kp5wN5xlhUcZIHHFyBtYDPQZkoP4p2AxxE4lng0x5LTIuefqWzgeKPHawIxXQhoJbzlYEhcg53Z-s4S+QjjLxh468Rl0+7k9Zx1GLxCqR1ZUFkwGYqQpB2p5PiS8AncctBiQlBZAeHgUHkV0YIQ9eCUI1CdOMpDYS+2swpHhzgfjYDWMEpN+M+OvHgDTcHgKDl+VszsdPutnbcWmgy7I85gQEl8RoM3CISggfEmQFeOPEs9GmXiKJlDhkACcl2Uw+iRJP55wD+GdKKEKwORT0RkIS3KQgmXQHX9gst-IHrhPB6P9Sif4tbkCGfTw8FqoAfDp93XAkBdikgkEYT1MnE9IBKQ1Id2UIkTlq26E8Cb9w9BYpmSeAXTBFK-jXYweOE8rg-2sQWT1AhE2LHDxil2TS2845ycCVckSc0u+gkyXFIgGmT80tmUqUmWcLzYf+cEkbr5Oh7TNAp8KD8dlikBhR9Jlkj8i4XCmRTqg64YwUQNMH1TesjkznupN0m0dkpYmVSVlM5hxDdgf7FDiEIpEXdMm+Q4gYUj6kFD5OuzGCZPXmmIiPCvAphLtKYGFBsEVEdSYfz2CiEuQOkuaajQWkVSGGP3HwLsDjbf9zpyOTSddMoC3SUOd09AfVTAARTdMh0qjp1DOAXAuJL0yaF42mk5TpBwYOaU70KAyDJo540IHDLiG+Mje+U6oL4zRm4zCghg3khtNwErD5UPo3wAJi2GcSdu2BDiNTLwI+jLmdYWgImDqFpg3xlXJGA6xbHIEExHiLmUtJUpFxgwb4qSb0WYrqBxx2INtPAVUxvxzIYsvmV0LzqUQIxzY3LgkONH+ClwIjBKQN0MmA9Ew2QecBGPDFagkQ9Y5CI2NyBvjHs8GOGTkLCyspMZ6g7WeIMhH6Diw7MtOCbJqxvj0ZKQdIVZNs5OyBIBKFaSYK2nPMx+kTEdA5EkBWNNZFsa-CZH9lmyWxcg0ofYHKEb9w5kQ0wLaPsC3CHhkgd4fMgAAy+tf4c4NKDuiuC9gC0RGNkjWjFpUwmEQ-waBUR2RTgRETiOZG9iBIvcrEbySJGlAh5skZAuPLKgtzyRUwqkeXKrk1zGRyI-tlRDGBzyBR8ohfhbzXoFouRG-HkXyJHnIyCosBH0aKIX4ohjeh85vmwyOIRir5zfFEKrJTpbydZBkqYQqNX7KjqU5szqhsTVlDyU5Roz2SaOh5mim5rlD+eAqhFdCuQx6M8MnI9mqCYBTfYXuYR-lKjq+BJSQidT6QKjx6UIdPjXW8Q3oWRmnNkaguAGmiWsTgvOnPJoWQibRXpN0gvy6Gw4k5eskyFY3QWD9QhwWHaMIDCyjDlm8QnhYKK4VWNrOgsYRSQBmEDtNWhSRBURW4XeBeFPC-hRwv17yLcgxLWSFY29rsKd+5MruX1EC6MCWh20NofoH2GfIRJ9A37vYoQVgs7AlozsRuPXl6AwR3mPpuYqoiBdfFeZHYfqzCzHzj2Gw3xQJ1xSkBHAtY7NMKJsHN9w6IqO+cLwjaFgwRz84XrItCC7B8smS+ENkrFFlNLCYI2YE4LiX9ExcYIjBb8HzbsSFmYsaaIYFtRLAExBdOEULO2GO1jRYWH2RoDTj2zrJ-i1YZYuNGQTCgoSyYsSgiWcwNhAomJfBmqUJKh59StThKXSW-AilF8rIDkt+B5KbABSqYHay8iXzSlfSYsT6MqW1VVlYuBMYP26bs8-U1YqMpiwTG2oPFYUXxdYpAW-KvG1wKEBrN8X68gV3y3INEuZjvLKF0on5UkpbRtL3FdSrpd4qhVDDAemQWFXqO5qLyaRHwr4b8PABMY8VrwglfSNrnlKkltyk6liohXQ5+s2wOEH-DMHQrs4HyymT0rOLtL1lqK7uSnMPK4o6VLcsLIvIrnVziVQIMVcvMpVFMIxNKzqsKp9EMrBYzKk2GYs1LFgCawKONH8sLJxp0WJWLVRiFgbys3CghStPzIEhuhjVIgW5masZX0xXmlq9FkehPTngJA2q9FLquFmq8lYBqtlZfnIxaUvVFAU1eYVPF2FqoI8ENRiHtXmEOCLqwNWIFvQ6AHIUIZOT6qmGRquhWq6gE2NtW71tFO-P5ZqtoChqrwha-mNQIcL999eeapsSPCrWyRm1Z8hOdJHUUiMyMiGKtYumIAVqq0WAVjv8RMWYKrIJywYjkFMGFhpFPChAuWvzW8oG51UENYur0Cxq7VxazBaWvnKcwN1B4ddZ6rjWIi45TTCfqn19428yFmCWdRou7WYx91UwR9ZUVHUNLyOOVWqqusbXWqPVdAAdYer-XHr31rWV9Yvz3ATrmVjAI4repEb6VPVi61mgFFTV7whUF3DZVgt3m-zcFBg-BaFSHUFQRZMGkyMhukgZqeFPiwJkHNcQ5zrBGy98pB1gTDqSyNGvOffJ4FlTDszcYDSJ1rUcK0QEG8uIqBnXR5O1MtdTDIDTXSRENm6DeXErO4fcphDOc7rOTvr415Ew9JcuYOyakNyGiqVDaBrxgulMNOCpSC4nPIhUXEfUJsPln+Aacpwp3f4HPUtBXIYBVGs3Ng2SogdVyygbyT5IdSHNnU8AwlEeF3LHEh1ZUwqNpuqYgJX5arCwboDKHJKMlPA2dHXLkAEMDN-GwpVk0qY5NdNGqaDSJpkWzAotuTFDKzVxQKQJGBlSXmFgACcHQUThIEMp0aHVrqMGDVt0obL86jiXwLMF5S6lyehZQwFMoDLHln0zgbIi6P+6daTIAAcjm2Fg0Ay2o5QFKGl9JZtgkxqCxJd7NbJe3WxKN4E36F98I3tZwPsnPxCdJpoQWbQdt6344qtv6wyqrLkAyy5ZtmnkO0q3UNKMBvG5vllvQavbdK72wrV2lE2mZpZwO5YCXmk1gxEmom+5MQBOXxlvA6QLkArUEWA8doYWAITiBsaSNOQTQjGLZqR10tDibQV+UxmfSvJGAaO6WqADsl-QiB-IFELqU21wg9k+yRJqACsbiBSdhKL1HFVRD+Tdt2lSXuvXsAJYUFoYNjjMx-LPo6lYLV2L6Khb9odoo2sIOCs+UDQwRPizFnUo8Tq6Ye1O1HaIXp2M6uQWQFnTNr226VBinOvZAhzhXOAgVLQQXZzqVCy70J5gJdi8pSDs6Hdju3nTkIYCB69kq2uzrbtPQb9CFu8v+WynM0Sl+Ia-TmMnO0F2aTue8HaK5ruQ+aCAtVCZHIKI3xCgYlg3OUlp2XCw7Q3TVSSVhyB0AVkR2mICctbFCKcdPCnUPjsSZE7ZAiOk5b8TMGU7elwWDwtzWL3Z74td9cvXRqr2HkCyavUfYiIRDUB3OIIi4lwNUAFNbMKaTYFLvI0Z7+QDmkvYXEX2VK893+TqhMnMFaoUwFAdRYYHQgKRGA2sSsXqvcBeAfA2kSsRLOsDmsKKA4OUtVIw5gk4QkgY4gCVhLAkttysb-QrMLiAGcukHdFj3gUhcx7EpG1vhcTa3rhVApAOJSwEVh7wDAlyPA6b1+I+K8DmTZYmcOWJLEISaxXA6QDbWFQOGtiqNXDt33uxbFdTGhn2hT1rBbM382xQPsGK-EUDlEWQOgf7Tk026yejmHU0+SHETArKlpaqDkOcxHELfHOEP0LLaH8BwsGOWeolgwhtDEMshC+kLKBhtDZgESdpGsMM7YmB3LxtAdMPuN2GhRf5rfrdA8wH9bYJ-drD0OpaX0-YyFVXEEGnBWUjDVpG-l+ZphrDcWuEKIbWLqHlg3gFvs5vBQUbVgihkXefJ+JrFNG6kbRjEdwZpx7DJxbxMsXAMpHND0Bqw5kfiMHFWUKIQw3w3UNBdJgEOquLHUl0aG0jP+pYVDKyOIj2jHjbTKZlygZHVgp7awz0ZT2pHGAi-Q6TCViCBHTp8IObeAZzgD7Nj+vFY0CRMjaH0WKRlBZIrf1Kw-gngI7ZaCMVUaNKv0KdUcVtRHFBNRxbwY-OZl2gEmnB6A7cdQ4SKNF3tGo-0f17tGbjki09n8ZOOSKww8O5OXNu8F6AfJAAHSwAgqxeUIJXfgFtQt9hYgVJKp8jZSLbnwpu2QNWDhPkaETpIpE6kNRPonPxywCuNicWNNC00hAeMt7QNaWF2ToAAAF4x1rAqJzXRicZPWIcT7mvKrMH5OEmRUxJuEDTrR3YV8N6xOvfQEb0+AETIprE+KdmqzApZRxDwEcVIBHFTBjIObUyDwAUm71mphk9qZZO6n-WMoA00aZNOvy5TSoIAA')">function pretty_query(query) {
    return pretty(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? pretty_term
                  : pretty_query);
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty(string, args, pretty_arg) {	
    return string + "(" + comma_separated(map(pretty_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQUbK9RkgKguL0NQXP5kLyR+pwx9WL+hovfsg7h-8H9XqywU7Z16vm4EGwwxwHj2MObUagklzLKXPGlb9lhqmyW8PXxXIChr5XmueOeYPLzCqdQxD84IgLmz20Qy69vAe1nqspsYLV56qW0Zgewwt7Lfz2vXOGstyb5Uesfz6+1l1Hq6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GR1v-UKND1HqQCW1BY2skbCtmBiAkMIBg98OaUD6PcMQwbh1YU+wAMiZ70foTykfiXZDTknRX-M-cMQDqCw6Sdk4p0B624JA0wOG8Utb0y0iC8+8L2zcx9BEULsZ2XnE15zeC5j18IvyCk9qOLnckv0s6WM3Ay3LWMczVV+z9XSYhhO411tJ95wbd65i-traVEgpq5vO7-6-JCfFLBuN79TWptI8N7ZuaovTeU8lztmPzgZdwLT6zVbUH7cB8dyMG8QeXf4bD9rjy2e13dYYkL5Yge3cu5D57ivT2iawyZmV9PyGDf14T2c43YuU9HPBJ17vdBM-87Hzn5ra26+kML3ml3Je7Rl+t1PjvCGZ+xT973hf32V9ZGb+X1vH6E7Ozc5bRH-v4-fcT4P5PEuR-n5Be5+gk+icv4MRHYx8+33fZuGxHl0fkDW4EPxbXX0-1OmDmdnkT-xDQTHAOPy1zgXcXfXvVlRvz7zvwHxN3J2HxC2SXM3tStyhTgVcz2Sv3gIbyL1L01z5yJ0jyNhNlfyoOV2wITHvzwLNyXkIJtXBC2RwXoF2XNivw-2KS+VdgeXx3YP3wTCmUCBkA5jxEgIkOBW+UpGoNswUMqA5lJDIP50kPuU6F4L33-3kNKUUI5h0BQP52eyvTizMIQLcVwKHyf0IPBHHWIHEM4l9kxXhUcNQVvwsJ3E8IcPBG4A5QMKJy8IwP7WV1iA4MDHAPw2iOKT1VZX1yCKSJcDVyiMKXIItnVRIMdWyLkMDBD3kwKLsNSDZVHX8ObQ5QLxwLSHRxxTSJ11SApWKL7VMLKPMJcNaMyGd1XzlRP1QNhy5EoywJcU4NcMf3NxHwox8I8j8Ioy0O+0p3BGWMiMLg6I8gYzgNkPKNyMb1GI9wYIj15n3k3nZmOOcI-ST3wPcPGmSXIWoC3gz1UM4hsUoIOWvycJoKX3OND32PMGaXuKBJGKPzoI92+I8kaWaSIH6IeJ+zaORPhPMD1WGQxOaMQKdwxLBJcDvSRNGQd2+xvEJJO1kDOyankEuzahu06m6h0Ee0eIuWGjVnp1s3AS53OSNRIyJz8IIW-yMSjm4BU2RXJCCi2O4V4X4TPgiJtVFMjiRUlIG1PwVjlL4XUQIRkG5JaKeJ4NPism1IVP8xWKxP81DjZh-yjlPgNJCJnCsJkG4BUKJKamtLgP1K+ydIc10NdNAH0OqKJxsU0XkHsWFh9JV02MsIDO4BsMuN8Ps0c223oGCUdMDC2NTIiKE3RkXkxI-VTP0FekzMeIf2ePQwYishzMLIeNiyCQcVLN9OSLOKyFLNsKJwri+HdnWk020wcSq2lNsxvA1LgT1TkEFyHNmNbJGDHP527PwGMDkQUXDi4GRUKGHO+ywknLOjy0KUbGpz9jqIxVsQjKlkZCIzZLszuF3LeiyyRWfjLJ4ATTW0fIYiqK935zvLtxMTXOeE3JnNOJGDvLrJ-IqVAsiEApOL-FPn-KTP6jVjUXJzPO0RpTz3fL1AlPWGPJmy3PkMmjEGpyMAwvCC5w4HWmItPGjXaSwmFLXJIofPoj1GWRYBws0wI2aAoqItUEYo+lQQAB5gRCKqLOgaK9YWhSBzIIQAAVG6OzOgXwQQZhXgBuJsG46gWoZocEUAAAahLSsT2hJnWiFBTjfPCH0tzJ0v0pvViA+GMrEFMpLLEq-lXFMikt-nBDkvwCamIEcmUrEFUsXkahpA0q0uST0oMqsXsveycvMsiqssitspiBipMpkBTmovGP5zyjt1SzW1C3JGKymgpxumxGnOmDLQrT4uekwpRMVGHQjWqpYtsv1mKvRGxGSpUUcB7Pe37PPMHKBgIxWGaDWxHDZxGHMs6tmCd0ys6pGqqqIlIptDtEysE3dRWAHAzjGqPJHVPPDLQvRlbWmASSaqslsienKA6UMXyW1GJVESNGEzvMZAnIYoVR1Vs0PRxh-LfLgsMT3UMtiHAo-N+rOkfFYmfXwsDAzhKqIEqWO3D04hqzzzyrz2YoKqRAXLatKrhumlfU9JiKqrfOYrqpWAaraMmoIlasrBho6qsUXN7LED6oOrBCMxtRGrzzGryNIpvVKHgjV2ouYqGpUmpAWtLyWtgtWsHVAB1EVVJS2r5JpxPNxFQsjKcMVBOvyuSXOp1NEEDRyUtxuqfB5TNVjEbCeqBBeqnOO3eu+0+pBtrgwvtv+oBrpMMViz-L+rWrdW9oGICyxtho1OkHxoLHO3pNamuw6juwwGvIwRJmoVwXwX80cTxMGKNMpySXBCoRwTwUtJcCzpoT9iwQ3m3XHh1mERTuAuBKyGES10KjjuzsTpG3EzQzBHTC2LmFzNiDmFXGdqKC2I5E7piA5B7tUy2IwkHpfIPBHrbqA0klBAnvvmnvjlnrR0yFzNXrYGdF7sKC2O4kMA3nIF8FzL3oPqUsVG3tiC2ISUHoSVjAvsmVnpuGpyaRYEMAiKftUBfsahWHvpbohF0ontiH0DVm4F8DIoAD5QBwF9Kz7f6tjPJAGYhgHQGIGoGvJQBYHR7Z701phkGMHUHwFIQMGYg4HZ7gBEGDAQH8HARIHwEwBMGZ7QiABSChvBsBmhtBph4h0AUh0I8SQBthghsasBrB0IgAQklAEaofYYBFodAAkaBBEcYbBHBAEtYekaEaEpiCUeXtCIEoBEQcEY4fAX0e0d4ZUfAfUZQeMdAEgbMdEYsYMe4CKCMdkbQfAaBHwYcYhDEYobQcKDcZiDEdiC5PTAKmE3zoToEQLF-MBBXEANdwGG4EidoTPiqLrqwQbuidinwBYAACsTAnU4mVgEnkQOGx766C7czwCa7f6igUnG6Q60xIoInKmonltm7Kcti8dhBcyem6mXaH7QjIA6BvRjYj7nGRmxnMkBnBmtiP6GBYBIBB6FmlnZmXb5mqBP6ABRCehZ7Z9ZgGrYgAOXIGOYodOeOaFuUXCZAx4DadoR2zfOKemFKY4bV31OSYeb9g6duapAac-Qm2fheYaDebcZqYvHucyYLsBYdWaZtxuMoW+eybLqQQCp4OfPIVxGqCkxlFIAoV6ryfIGrHLRJk0H0GVORaLo4ClnZlMXMWYQxaOCKEFLl3jEICZtVqeBbICyQo0xVp0TQnXgXX0ABdkSJqiqsQBaeaWomWFZEFFeRdkVyYKdMCRU6qhfjseajxnCfK82mB2qVs5allruEx2rEC+DYtNn2tVq7XZeNYcWadOybrpJaiu3aluwwGjs1LeHOXIFMAYHLg+HKhuFIA7ga2fLRz+03HAIjdct3iQJdzjYsuSQYGsqMtivSsSarucpJhIiLmaFjc3z+HLyz0UBuBzgMS0A5wcrqrIWUGUFUoyA+SMGQQbdQcan0rSwbbGvBB0tKD7dAG0qskiv9eUEOedD7d2NrbrPNkoEyRGgcqYTfmXekPnfYYiGgkhpcFSrEASohEiu4QreMCrfxwSdfjXcyWXbpUsusHBA9LnYxUjgUDS2YUjfDTaNfiLgHYjV0hBnJSAy-dABZ2UjJQ-eGJvC-fCGB3Gpzag-kfUmKHhBXFKGzdfbp17aQ9eTzL9YDaDdilDY7i-eMmaDA6aQ0s+PhiA5A9XGOkF1+NEP+PQ6cWw-BAPf0sfdxGfbQ+aSg5Td0R0vTeAO+no+tMvyY-g5stXEE8is46YDIBffAN47facT0oE7vZI-uckAXbno+FzNfi+e0644U-jeFowQTWI+nk44hHHozSAzVy-eWqyCg8M-Xfk9IEEjjQVl3eY5Q+SQAHJ03X4ErAuvPd2nKv2H34gMVy5SAU5YuN3t20Thizpo20OEuJ3VwtihBemrJggrKHIdIrILRiwrKLkOB4RTOihShrO1cMunP9B6utO3Pn2C3muF26vaw4vlkbwmu5OMuELzAiWSXlAyXdXAlNYPB9kRl33yON4Pj2YzZv2-7wR3jKOJ9uAGPL54Ylv9XQWNB9Bhv1hRvqBNAGzJvK43Br2ZuquIk6Pfolu-OtikPIjkaQCpyNZbvYhTINZBuXAEv7pQE1YHkpu3AZuSFUU1vFvPujqzbrTRqgQVxhPFdfotu38cYluva67QfjBycUF4oDuAfIMgeQfLukVmlMfXVdV4eOaudM6Nw-2kYsI1cLv9lTcUFllwDWe3B2eFkWPhrg7YoEf1J75Gfqv7mcfee34vPxXaf1IjvSXTvxuVUxfvYdyaess9uigEmFeTuzvXpSf9lrvMe2v1eRs7cvnJe8e+fuVKJUVA0bv6UZTZ6XvgEssFcHfKfn07rDRGVfuIaEaPJMkSBweYy5ibSDwZu-O1dHuBeTqzYzqAE0kWg-ig+slvC6zfXgrQ+kvzPI-Y-d5RzPuvP4+NZE-UkgFxPK90zgqZdNSSvtJypKB8A5E-YBgKhBglueX2R0-we6eG+dIPT2+mkefG-so4Cu+w-ZzBgs-+0vfA+28RVNxJ-c-5jKyWay-kkkPOyI8QMIZSYT4E-Xa9zpQLr1FiYGB1ARAOBSBg0y3CBD5Pu8bUViZHf7qGhaNqhuJ1p6Mv-eqcW7yIyTbvBXNS2YWAf-H-lzh6Y2pSgDgM-uTgv5X9hAN-IAcfz5Bs0hMD-fjBAMZqeJwBRsdaGDRNTEpUUvSGHnjSAqT1NwuQLATHxh7cAaBKcIvoQCfRZgfeNtBMGbClpsQkujAmbn9yMr9AFAc3DTBUBhi+AZCbIMQYfVNyGBSQ3fDekYBUJ+dpBEg8nHIKeBedmeTuQwCoS16FBuWbjeykIJEHqJVBMhc5CYKIh6CNWhlcweoNJB1lqgkcDgMS0ayRgZBTyKQR4LUHzR5BU-D9I1V0HLd7BfgzQQL20ETUbBaEQwZA2cFkBXBtCewfoFCEaDMufoWIYINOgIQlBLeTUsYOyEyAYYo0A7kkjra2YihVANRGPECCnRF2Jg0pmiwmAelKh87SaDUKEH1DTos3IIZYO6F+cZ0-7fMvi36BJCfB+ONOHkT6GCR9BmQ1odUIKEvtFhOQxYXkOKx8t1EQoH5KCCbLFslwXEKgMAL+o0ZhM+A7-nuyBBnD-+jAQAQ1iOGg18s32K4ZALAjBhxwfndTAqzuEHDXioFLQVULICMAn6-EZ4bgNrygjlkTsX4SAIX550ARSQBgMCN4q8RuAUI+4XWACFoDe2MgJMLUB0p+dwQOIvYHiJL7tBOgorQ4T8PCB+cnqQ2AXnNFf68RqR08T4eTi2GUgdhwsFET8PRFtc8+mEKgOEBZwKwsIUI5brxEjhAjQovFG8EyP0GxgbwYo+UX6AlGAjER0otDnKNsFoQ1cSo7UVeFAptdCRuI3pgIIZocBm+82aYcA2fJYQqGmQiNDv04hqATAXgJpIwAH46xPR9AbgAD25EA9IKYWYTEiP9LeJioqohEUiMa5ddKElI70XQG4D6irwAYkAZQJDGhIfE2Ik0ar2LgdJ0cYXd7BaOyiLDz0fET+hmP+gCDeAy5L-urApFq1h0PnFnoKKdEeQ0oHQuod0DZDdB-BrGYTM3TSg4huxfgYMpQPEyvCokogadOjiHbUgBBtY4HkSC+j1jg0jYboIyGbGVjV+S-HEOEAHZIdZx3QXzBaNAAyUAAEtswYAABBcAOAG2YAAlGSpAAADyxzZAECCvKakZAkgNQCPy0hnoIxCYtAc+WrGF0ZQasesZKOW7tiFx7PUfgBPhFEIvO7YzoOLHgkNQPSKEzIH+OLANRuWmI88ZeJvF3jHxL4t8ZhMkAMBYJePdCfykgmAjny7YksQuIYBLilCgE5ZKt1ol0BPIiwuvuOS-44Sx+fGQCbyO77LDWhCTMxFCNUo0N90LovuO6KEnbwZJlkF8m0KSC8jlR34sscpLwmiTgJWuE8eVx+Y6lI4jIAAAwnBNSNQRyA5gyBt8KOzWagIMHpwOTFYDgcyUCBMkeThhkVPEI8ITA+TcgnksgB6T8K2Sl+neYaN8J8lQ9YoLk20QmnBCu8sIcUpyQlOEANdk2AgwIIGiinihUg1QbIA5NXHCZ0p83dblRLNAdI-K9ksrPFPKguTkohVfnJYL9iOROgHcFfqTX7w7iu+U6G8n7EikNZUBFU24plKGrZwyBLAwaVhHakMBOpbADuHQJYHpDCgC0paR3GYH88-QP3QgMRkoGbSupJUjgK2PMAVASAIgVIDt037fDAxrUonMdOWmVIjqMQF-rDFelvSigm1Mke2T2HrkHwFAhlCOQ5JS1iBxtYGR-1OG-8CBjNAAa9V5HgyQZTwsatAKsSlAcRUYZKs0GekdxQRqWFgEQO1BYBoIL6d-v6D6m9JmRaEUoHjLQ5AyYO9M0cl9zthYzjA3AiGkdMCAdSTpS3AQayKolLReE2sP4Lm2ilo1gJJwu5qCNhnnCqJNwhivdNTEuhSUsshRpEggjfT8UdAUyuqLLHYC4ZhMnAcsiTExBTwSMyVtLRIGkoGRn008CIgBp4BIQLslcJ-zhlyzrh-sJWZ0CRl4owBOAhDqOHAjvCAM0oPWVGLuFJiCZeAk2ShGgioQ-hs6FPshXFnihJZoFW3vqAHCXSF0N0nGBbKrAAzeRAFZ2a7N6nfZjRxI00d70hkUy-eqc74YXMzkB9ryDgCORqMIB7hfwD0ygebXUhEiOAvTAkYPJJFx8-porbuctzvJec7ZmEFQlbO9iCythIs92GLK7nJMe5-5Wee3kwjyCPhGwtkcLKXJrzHghAX8BvKlmgAy5kIHeRH3nlCjWc-I0VqSD87tz0q+s-iLKOiGGVZRpIZUSsHfm4goxLPH+YMxWAs9-5Zsiqv+SNGjya5sIhWCZJGgkFZuadJ-CQRrIOTc6eZaGNWJ1gmTny4BQhXWR8lwFCFCg8DjCTtC0RSprM-SCt06CdTfAZyDkshwF6Js7QJC86S4CxZNJ6pw0Eyb6JjE2kNJQElMccKDF3NoYCOARYyDylu0GsRUnGIQqYiNggFoYyRGKlXAaKoxfoxCQArfD0A8FTHGRUekIWGLFQEih4Ulw0UVisx1cnMTEGnFdI4+W2QNjGNOl+w4CZixgBYptTmjJAxY60XYokQ+IT8J4wiQwHvHWQAAMts3fF5jMg1k8cj+PLEOTo4Bk3uTBVAkKyKgEEjiX5xgngTTcJkzJYhLa5YTZ4GSlqV+SJxVKBF0cZ8lEpiXxLwAFEmcNRMaX0Skgz5ZYfK0GBmImJ1oliWxJ6VEJLFKwcECZN4nTD4Qyo4ZbUJfYpSyuDk2ZUssq4CC+FZS8ZWJMxESTihUkq8CZI4b7o+FzsZBUIvUmSitJZiHSb+J2VZLYFZo6ln7AS7RiyAsYsReiI7GCRxJ0w-2IcoO4rhzakDNOP0vnRmDxhgygiN6Bon-i8J+i75cBMMWZDtlNSpFTcsMleZvq0wnhTPGPhvLPFCXH5asOllUhWgZTIEIOOD7DQmu4IPpB4s+WG1USlKhwGjJDkag-O7sHhGVneUkq0Bvytrmypxiz8nUHy7rqSrxXzjlF+S8UCuMoU1CIcm44hDBznmaiWxZo5voED0nZQcWC4tLNxIbS2zZV6seVfGO1QPU7m64oEKMvLDLiLVUtRsI2ykoxZ4xvykFnpEWWdDugxXbiesqEEsrCgRUHEH6oRX0AA1p0JUrGCwjxjuAmQl1XlKGTcShVgmcma3LLTaq-YPk-VeBK8VlS7mgExkG8BMUELSpTEVFAuPlUcTvpa4vwIyDtW4hlxHEp1cJkTUxYfJiwz1QRG9WdjtgRBNZXxK9prh+AoagdRwEjUKBo1KohNFcoTWJAk1Ai1NVnJNoFJEFw-HycEF1U4wLViq5Bbur84bqHJhq8NUhIF7D94xJ63CfQDrIXruJV64ScGg+DBA2+Ka3NfkofWohBMUUNgPCuvXvBGQUS4iQ+KfGvj2l5IIDbeJA1kTElsa7ifGtQbPQ-1wkqopQPBAYh72IZYpEeseAUKoIz6nVTmsYAGrVFfYu5khsaWAaLx0SuJQkqYgtLaNsG2dQ5IQ0cMKNZSwTEFHQ1eBMNiCuaEazeB5Mk6SyRVY1SWQtDN0gm+hCMnKEH4nc4mrDZxDvRSaUQiyVpM+WYGflNS-G9FLiD3pCaRsMmnoW0QU11L0im6fTdJpE2YjVpWmwopSks2qajN3fTTXWRqBiAho5Od5dZqS62b8Vgm-AMVJU1qspVSy2bgJvoAGaCwwGKLU6mnlrlflXnALcVOU2Rb6E0cYLXFsmWMr3leqTLTFvS17pi0hlXFWFq1whrVuIgKyjlpjG5lktRCFJfzn02BacYjmkLYKrJWYidN9RNrSpJSCxbxK3sQYWZ2GGJD3B4giYVeBq2fLT4Fm-rdJt61jIOteKlCA0EyHNaUtRRcmPNqc2LaitViUrUIPLwVb8uVkabXF2Pr9aWt8LfnO5o+QWJltYW-5UssBVUAjlq4UFaTMVCKDztKcO7dWyZVxd0OYyaBXZULFBKrRSyp2l-GK3exAllo35U7VJmwRmgEaVbdYgS2rCoUFWwrtVvcUJdcy-2xiNeXVgmB+Aw0HqTBUBRH9zWlrVWDaxNYCDdeY3VLA9sO3dDJwQUA5W9uBV+hPtfoUnY2xPiaRQMB-YaJ1Qc5890RkyoBpWE24QNbBJ1OXYvMGYpJAEcIgQMTByTWVkdxW8EMzqV6xZKuBGXmuDoR0lik5dsNHcZHZ2CRsdo6-XcS2O4s7XoeOpTESuZXcADd+vBiM00bA3BgeJ9cQYyAACcJwOBEHsPqI66qEeniOIN+VUTI4I0bgEQmf4mqhi2WS1UbTt6koXAXOCyd9MKCR6U4-nfzlZDQAV6g1OYdgX6GL1ocPgxMhoMXoT3Gx-sywjXMshcA+R3SK4HgUXrj1R7lhrezcEigD3bb964g-FUwsPqsLLkMmF9aFqO3d9bd9ulRtPpYVMA2FZ2-HbVuQRsBmFs+4nZqW56pB3l1QIqCeDIBPR3YMzclQIFaCMgieICZgMDxP0Uio4w0c-fwASpHBNl5IAcHglIDX7xmQc5JO7AopW48ade8EN5B8gn7QACXUGHQCKgxBYD-kFXTEDr39diVxwa2XXJYgDh3VzfVvk0mEAd9GuWeooDhr9hbrL1d609YxmYytBG9JKAwIAeAOZJQDnhYkejHhBQzgoE+w+hCFgPeQmQ-6wQGQdqAQIRD6B8mWxBr1N6B9KcGAyIZ8iIGKxjUVQ95Cr2YGlDiO8FQCve0Gi1yckqVtF1xDvLtRIu-fh8laDS62D8ujhtNHWm-bGukRM3cEqh2OjWBa668tiXeCOR-sX+tWo2Af1Agn9JPN-WHGMBkpkD3+yyr-rBpm01yzdVw3YepAeHIdnQ7w4FMGKNU7yg23MVLh8pIj3sPw8gLJGgg9JzDgOlONYfRhi63DsHe2ktpLKOG3GzhgQWsRwFpzkIRcrVN3ywhNzfdHpGOQDMNnnCiFTuCEaMZwHGy4ZGml3DMcU0HE5jCMwXMrMkVJc2wngTYzYrM0wpD5vR-YblilmYi6K9mUEccfXKlk-ZEUE-bUf0D+cB++gcBTEAAA6WAfdZCvJzEGZAwQF9mjowYoNiEaEMvcknYNLkM+JwB4+8uePwTXjbxz498aum-GW+-xjzhSMj68ATwyyHoFhBxOgAAAXpC1ACfGqDPxpgOiYBNtHgTxJ1TnHHBOj4r9UJmqKhE9SbohAhgQI5uGeOUm-jNJ6RnZ1CIVGrILAKysoCsq9NJg-nNMHgFhOeK+TqJqk-7EFOgNhTa+qyuKdNJSnKuTJ-yEAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
</span></p></div><hr>

    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' style="color:blue">[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
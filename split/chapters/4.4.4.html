<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:teal"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:teal"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:teal"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:teal"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:teal"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:teal"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:teal"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:teal"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:teal"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULATEFWCqQTBpgRQJGHQEV6vDJA7wziHQFF7RD3mygbnGi2+G-D7A4qCuBp347B5uc3fenszXuGJAnhTUUQmCI+EQwHhD-YEcW1XpRB0RfwsXHESyhag7gODH5G8I+FfDHAPw91P8JB6lkQR+YAkRCKhF-MYR9GT4biIRE1wSRGDS1ERAJGKAWR-wiuGfw+A8jVSpgZEQem5wxk7cmI5EfgGmCqBKw5UY+ME2VHyAtIDsaUc8yRGPC86JAa3HfjaIqidRBonwHqIZGZ5FRg7NFg4g058jGAZIwUTSN+GEMiQPZO0Vo0lFai3MnQXUQ8KtFYjEM1o+UZUXYZVIwIOMSRIrEcHiggYvglmPUL0GeBGhaY5oW5AcFFM7g7Qn8s8m6ENCdeFfWHvmE8FSDvkmgRMfmPeLQjtRK4NyJdV-5zCTBgQk6DWIyHAksqDYywLYGbEMl1QQMTscmMIEZCem+AedF3REZoxlMU4sYCAMa50xEeQ46sfID0BosjKWKO1mhkiFDiNx5YqMaIRjGCQ4xyIVcaABHEPEnRdgU4vuKBZRp7W64RMQeyHFagmxP-Bksun3Hiiegy6F8b+PSBvjGx-Yz8eqx-EqNnIi6ACZBPsoPFQOc41eF3TuEKo7gg3NyJaNwJ+CtoGNSUQ4m7G85fUcYTEG5Hm7IQyJ8wTQFBwvFQdRx2yC8gOMsLWYxIVsYCX2IHGKBqJ8gACGt0okzi8RywWiWELHGMTkoE4+cYuKiAwJR4GnRsmhIsR2iqEn4piaJD8AQdCADgLMRMGpCUF1xKXfVNU3AnriCJIgK7kGMSD88E+yPAET4gl5WwrulkoXtZJcoPlehMPK3tJOkBRg6A4Q9BrB2F6NBdJclOoReT+5WwBO64wsSkWqF-c9A-TFFlGD+5vI0JoAfkgAAkpMtgAAILgBwAUmAAEr8lIAAAeT3rIApImxCKvgDMB3dVucArBEFPfG1jgmGk3Kn5MamNiD2Zk8QTSBE68T4kbElSBpzMkyBKgFEwYHcxGmjw6pdbBqcE3SmZScpeUwqSVLKmTSa+PU6kH1PqkDTexKkFLmZMtGbTbAAUznINJOgb5+pxAeLHaMSFtFxBM0-rg1MGnNSUuBo4iCqOjoMJExEpbGj6Tu6TAcgJEx6chB+noChqAYywM1Mb7VSSBD1cafQA6lQyuxzaFKY23igiEzMUkAAAxbFqY2UA8F7FEgjcd2qHeSJQCQSSFiZpIEgFjOEjUyBgtMlcKGR4BRSsI6MmmSMBXB3M3sBMn4NIMrGnd6ZWiY9vIgpnBNTi2LKIqcQ5mizyZYwXPoLLn4Riw8Hcfmd8jsBZQwoxMvAqP2plyy3IFMjYvaSJkizSZkKCmXQNTLUxMR9wA8DIHjCbdAE6eaoQh2MjShRBfM9QekNlnmyuw4suBKly2gNcCSpxW2bYHtnSB4wuwtjriO0amA7ZDsw4f53NKoDzh7lLbvVATkRyk56MkyUQNECoj0k44BYOkLcEPF+kvUcOZHMdle8fOrswOLajEoI8yiuYmQc5XWFdCASkMEgsZBOEmRfEGYowVmOIi3lmpnQ4svwlKBuT+hKpUIJOIlgkVYg1cpOa2K3SlBFhEfbeP3PvLp4auB4kyKEBXlRz1WHcmFsfPjD1cP26kWIAvIcCdC3KBAzOUmmzk1zbhVPSMRw2aHOA2IDIOnsENgpdiGeF5HoVJDmEtDM05cjoWkA9g9CkWnvM3j7w1KgS4ZGgzMW2LTEnRYJUQaoOPLDLedGIEQ9cNUD4j908AyNChUbBAXFiusTQiBS0FwVdjOhU0OBYmiN7uyoeyCjiYoOwXGA15ARBYXv23igsJhqUMDhwyVkyDGF7giLhLEqETAi5dgQ4IwqgU-lHi5CyhZPOnSITHMi3JYZF0QUxcJFAC8eXFwiokAuFYE-IG3yn50Srh44rFpOKQkLiw2Ti3RRp2XFrxrFcdMXJuPUI3ifglBbnPxM+DiLoxP8hsnCDp7eLCSti68TuMCX5BReaLTwd-LVCRLKA0SqfjEt8GgANFyNAJXeOCWRog564JJQewsUmkUFv-b8XCMgnfixcgEwIJUtwgcSBOdSgScsAE6NLeFHwIEghLcXISP5VeOwOjJ8AsJgpGwmISvjvQTKG2xMzKrznqyyAWWeclLndjzm5FqZz2NZYCLfxrx+MwGTZb+1LbSB7ZRQPDD3NRZ-NYmZPHWSrPPxulcINWMZejKomTsDskM4gO8pXC4Q7F4vS+lMEtRuR0ZVsUwGrPQyayFgec0JBeRaUqSWJOHYcPCo4lcSvlTS83gMQ0mMggVpCPORiqCBCToFz8+FWJMcUSSHRsCbLvSnuAZttZWiZ7LipBU6yz+ckswApL1GKBSVvIVSVPhSkLTbA+UrcAABkpM5U2uKPDxle4apD1dGTqBelALohrUrSTSCRlDT8w3Uvye6jlVqrQOU0yoDqriL6rTZN0eaRlMFUiqxV600YJtO1XEz5Ve04Ju9JkaeiDQh0xScdNOm6qCVgQcIsTJul6jHwjfd1ZyqlnzK7gAah4c2wg5QMdVCq-5WPnen+ivp6kUFczR9JQMXlxM+lTIPjUPEYZMqk1Q6vRUoyUJrELRHSrRVNSMh5kwdm9LtEfT5AKa1CuoRVrGRnVzwtEe6KRjzJhY1HK6TqCrWNjoZ8ySUbGvtWcSPlean4n3Wso+iIOasbxpO0nW-Laxta3WReXtD50pIDkkrius7YVRF1GbfAWPi3UkAZ5IsNFnCHLW0rl1GbNdQaNA5nqFgu3fdVOznXWjwhUK7SawPvF7LdRhqCKX4GhZao+g1QoDQ8qPgqBeSI3K6SPM2nXIrpeBHzptNYEIzG5I-UKcjytiers+gU9DZ0MLgNNVwhkEGVRjtG-1nIIa4MSTyUwIzI1iQE9UEHyBoJ+eFUejQaI4LGRTiCMzQJKOI3gr7ocGx9V5yH5mKy0g3UwCavg3tTdltky+oNKtgbApg2Kw4DCpgWELv1NIX9Y6pT5Yb-EUkXDbhECnnTCNF5ATaRo5kGjKN9kajRZNo1+qI1nGgfixrxAOb0ZDGlgFxstAyziZfGmGhZpkRWafRomgxSzGcSjoxgnEDmbyTI2HB0N+k0ZdmoS1osVuYy9DRpxW4IzENO0lSHcyy1XScts02gHgWg1SaEZMm7SUVqeklbYVl9CoP2ty0ZJUp5qpaQVKKmlTwAnCAVW1pWmdbWJxnXjRBBhoNa4t9AFyfwg3C5BFu1xc-FFpNU5rStkmkZNTNQYIb1N9E+rdIGi32qrYAqoVaKq61pB9tlq8Vb5rzHDaVao2uVRNu0XTav1y5LmBsGix1RHoWFZ+UCNGgfEcEz2pCG9u0FwYvtdzcAr9qECsd3t9i+rsdDubsxdGa1F7XFS+2JbQeQO6wfYRwTw6-tSO6ITHOma9RwCmOsHf9pS5Q7n8dzbKJ4HvCcQ6V2OscbjriJM5d2M3Z-OssB3Q60djpFgBV2Ogk6Wi7O+Lh8me3UAtZoOpRg+p9HI6pKn0BHeIVF3l4D2H6h4RpyF1ayQdtAGXeXkCLEANdz0dskeuXW-45dWunXapH36MJFdiQKfK5uFpltD1NKpdb8qiIq68tEVeHcLoWCE6xdNax9ZLrh02ANdjIT3fLspUyS7WXMl0QKIpG0ikEDCfXb8t9g7B-df2oPc9G90+i9+6QSUW7tV3h4U9wopPWDtN0qkLdg7dpNbqm2MBdScetNltX93u7hB+M0QJTphiOQ091o+tXqMbWqjiK6kIytXD1bux9l20e3XSop1U6HdabTVnHJMhsr0JtapynkzN0ZBj4qE9lRhMUkTDhFUYBxBnqiAl6y9rGotNQHrZKZq9o9aaE3vvAN7IxkwNBMzuCa2xGdW+e-ZoBIpGMTGVIcxrEQg6Wdl25KUaeLvb38QHyDa5NWqLUh96q4akXqQ0xhiwDm6qQ8ZCqQiSAK3iGKoxKez+qwScu4gV-Z0rFY7h8uNUIcbINazXhPSurYRRvw3C-79OcUZtjSVYqr659lo0RQTB30QHny86-eOXtoPWcxkVekfZOyiJ8GDOL-AuAxPPDjAbAO1KSAAE4XwvUbam8Pn0Q7jAShmQyofekUgNUKgTQPtIqE+dSywGs3gQoghWBMS2Mr3kEGUM-DFA4bcNhVDQDOGmN+UMTZaFsM7Dg8wGieYEE8O1rmhWoEMTKJ+wnQrAN4Awu-wzl+HNDPwgIzobDSaAZQsHTw-nOwhnKfhly0KKXBg2AGHhmorg3qKWTl6ZA5yrIw+Dt1uB7wE+8-aUcyOpEe51+j5BJ3+g1HIIxAVzWSRXDlA4Q6zYBZfXtBWx6Op4LYLBxaOwhdJ2oJQFlFc1JMnw0ajTRBFGw9GKQ-iJFpbiQkjBHwZvTw8LWvA3hxjDADNj1lmMtRwatDfULsZTZ3qt4g-MLY-MqEVbBuw3TEFFqRj2gMNUQNLdTNi3ZaCtuW2rJxM3nF8lj3R8ig1GloKc4QyJattYZiPrU3hex-Y61CunYQ3jVvZE9eHah3G5F+gB4zvPxGxGzQG4TEzeGOPJQGApJ8450P8OWj21Da5tb3tbX96VS1x+PdgvgPbBEDnE2sXxtwMEAYaugOOWfp5Mr6vA8k9fZyvwkcIzFWAQ420fDZkTFAnSgADpYB0tnaziM8fwC8lnmO+zGtDTQgmRHDSmaEzDhfDym6ViptbsqYElqmNTRc1IkNx1MDtdJU8MkidH+6nFCAmgAAF5ANQAapr45qadPERdTGBg06AH9NGnnIJpjYzCZLTT5f8wwOgAeA1QzG0EG6gY0MY+UMdRjtnSYw4HaOzGdS8x+foZRMrMnYWIp+0NbmYMcrgx0p27ScStZtHOTKQ3aLWYICVmbsSxzAyrSFNkCLyGZ0YIJ05hWwNwxxkc9EEW7T4oOYwX4KNmAr08Uxw5jo9wLc6cxizaCNdpzBcpGH+4I5z4zYaJNImbw0MXkkmj5ZZQqdZxk9QSc21CRBjUkYY4x0OOFnpj658SKWYWPLBdjJJ-Y5eMXPMyiKJx87pidcPGArjrZytcCceNwbnjYTV42NyBNwnjA3xrRL8cK3-HitbkZ7B8YH4nmETdhjcFlNROjccoSaW0omL6yUkHAaASCziejgGh-zpJyDpO2ijMTs6VJ3UoxaIsbV59DCd6YyeHCQH2ybJyfSC1FbtmqAnZ3k32dAC2BBT5deZDWbrPim198+ps8cP1DzngL2MIilbJnLdQ9LMVAy95VsZgApzX56IJszwAyNQzLp55ozTdY00DMFUUoLqVIC6kFxUTPAOSZ5ViQ6AzmeyyGe1Phn9T9Vdy0pk8tyEfLQaw9jbt1KxWlM3liqL5f8ChXHT4V101FYSv1UUrD6eKydDyseWvLxVzK8ZjCvOnwzpVmK-laYLFXXLR7ZK+VfSvNsXMDlnK88zqst5yrJVi3L5eatJWyrcV9q35aqvZWaruV0tq1bGtKYhrEqwBb1cKtpWFrzbIAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:teal">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:teal">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:teal">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:teal">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:teal">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to 5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:teal">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-50wAGKQAABoAFkACizRAiEAgcof44Js4iO9NQVE4JQCORiaoFBEDlbCHILJPA5AZBaFIOnFIxcaT-HyeoEQHBhCNDpqoSglBCCGEaCAMQiTaRoFyAoYA7hEhhM8uQbkFQFC+GAAAK0MJ5QwEC2rABSIUwwwAABsOhsB4C8X4wJG0FD4ErP8SgfRQDsA8F4ZmSgUksDSU1fAwhfAEEcFsvodN1ykC0vEigtT07-EthcgWINdlcgOY5PoNRNm5JqLUWoaBcEeUFsctJDjcYJngTI5e08ZZWUicGaoMTnBqMfsCD6JzyAMHuXnHJhgYVBRuNiXRx9W7tzztwExbiH6wzRLi057zfCkqLoTPZygvBXyMT-Vx-czGD2xYLESHLKHwsQRXeR4IRJC2YFoTeWKmWwqSGLeGhBAjP3oBKnu3DBV3yzqK1IbxuKoh+AjLVxAdXQI4QYqR4dpUr2NtwYyRRUH0HNc4S1mrtWGExYy-mZqNVaoJYEFOp9JGUMDgwQIMhkF4iDXgr1obSAMEpHqwMsb43INJPw7FIarXps6Eik2FCEw5sqMgnQtMBGpGMO0feYSs051LkvORrqUGNtrNclV-NCY9ubfnY2YRP4xoruCIdfbuDBzCAW1V06wkKqoMQTeJKC6xGjfq-ldCGHYqqA8mcHxV2bzdmOitW1r5zuTR5bVx7FVrv3pQDdo6hLXUNS+295hBZrs0LiJdI6ZYXu3YGZ2GQ6HzvMSagO6wH2nufee99jqXZZF-hMY1qrBbct5fah1krpHOrLVZHD-bOJcp+a24Ek7SOzv7gu-mOGzkXJhWqlw9KhWYa9qkDQITqDclRFRqVHaZVdvBLxkEAnA0Mc4pE4tNqA26rw2xqhzjP37tVT9MQr7yGgfYwagVdoGUyY8g5EepBtP6CICB-DcLFYQas7U79LhD0fHM+1azyHKHbU8yZ8w973Mks8+OhMN5fPQ3BT+1InV9BWu7mBwjImdxWqssUHBdNs5MzkCzKAcBEDIHQNzPEACPLixrKu5B+9Kxebs0LSMosytnklu1WOylSjUmNspZozs85dza8CK20kSFUvYUfFubdc6d1jtwKrUwVjddNfQE96CbFQL686UojWM1LeYCtrRKjKt0Gq114eGjlFrdaxtlop5Tqo2EedwT8jZsncFrvM9l3FSbZu29xDT2jtzZMsPM1GL6C+utba9bn3rs-GBxahc8mId-eO86BbsHUnkEhysUohNs5bhZfiwln1iVd3wnpaYUL8VspJ+6q8z2UfD0A5j+S0OFyM8AyupVz6dOyxm-9l7FtKMfaxyzpqguu108VKj8VQvmdbel+Lvn9PXuED41JpT-d+sSfZY1joWh9Byb9Qp8R02Wj-dJ2hWNE30Ykq09zqmpvqsA5Ui0Ug5lkE2Tsg5Zy1JfBT3IPDLyPkdervSzvFXbB2XIm4LboSA5o5dQUBizZb1H764cJMHGjii5a-DdQRPNBk+46j4ICzUGczPiKcKfQQDFCEHwOUFPTK090Az1BGI74bUZGKsHvXkSqfIipjT2MCMkb+yqweegZ6h9oUiYTyQZASUD-N2T6Ytvl8r6KHJo7E-X5ggH4+WzCW43AzsbWUYNI2Cyxp6UeV6NttT0Q9qrvTv5tBnVKGZYFEXyGjMsEZvVlbJ7InIXNsVKBfASBA9BBw9fAaocwIsh5LdRZrdYtNVDBedqtM8gozNbcUCnM5JShUM5JmgsIe8vpXMZwtNcCwh0DB8CJEDT8bVz8KDS8qD7dZs61sUttYcfV4dDdEcFcMDC4CMmBSAz9SD9Ai0-Vw1agScHdJhjIvtys9dJCw1M0TcJdJcWddcvoVCS1L9ZDZsuNOIts2dR0aCcY49Ug-0wC6sm1rkkN1o4xKExwNQAoK8BYq9IU4MOcn0p4HDM9pggpxDyCfD3s31OBDDyQv9owVxGwQjg4GDGR3VgiDw3MT1Oc-Cb0Ij-smJBRPDUhb8zp4jjYGDW93UgpiiZYGDcjy9Ixv9YwgibtGdp8No0jH110kNsjqsajyIoiItGwHBd5ahGQnhAQAA+UAVDE4SLNEUEalBgQY5+ceGQjuG1eLHOVDfQVYpYYXQg1-LCRYgNZY4Qbgegw4l+GQm8bYvhMiUAeA7FQwbkRgevAhfbKBO3Cw-I2w3tFtNxAI9vHbDrYDRkdndI3wl9LuHolTX9BQf9b44dJDd1AgiDd1NYFXfeFOJ41ufgTRIhVERfVI+DDIstCYdfNCR4oQbE14vExmASW4RqZojfNCALMEjom9MxQoaI-4uee-Zbak7RO1DXK8BSCuJhB7cqSla2UxIfVHM7VbR7IUtCEUncOUt42KSUvdF-enKYvokVVVLbHDQ7QQ8kRsNlRkJjKnWOJiRsbsPUEErEl43EgUklNlICWIAY6uJYjUJmIEM4z0o4jUW8bkPUN0rPShcQtlMkxUEfDEsWbfeQXfIMzoNA6UIY0IGgjg-Um7eXZFOQyOTlek4-eWBg-QafcQ+VBHRTQUjWKMgidgow0rb7L0sI3M2bHGRsdGRkcQn7N+M6dQnI8kXeYbFud+Hs49MbPdXqWsGgpiIKdGBsuGG7VUmk9XVs-7HGIcjUks5cgU4cyclccQnc2xdhfuGgqMyInUGIGYkXMU+U43AQ9aTcicks28tUiUic6nFYcQ18lcxgE8msuQ88gciKPATLQ5VmPLDmQrSwErKLEQs-eGdY0AAPcSdkUQ4gBc0SQs3HOfYlbgSMvMoQytSdVpOvBvbOcEWs6YXChffC85HoC868mvWE+vEQRvAsfXJC4TWRCuGQKyUi1i-2Ci5zemJlAlSBInBfTi-MidNzXNPi0AJNPzEAsS-vJCqtBNBS-NaDVVLfSsHfM9GQdSuY+S7gWtTC0AQmQo+xN4JGctckIKJBOVE-dGSilQegOykSsVFys6dGLixLHilUhiKyay2sMjO9Hyvqe-Oy76SmGSndNTO0PyzM-mZtL4ANNqOM-ShMs9NsoiwMG8RioeEIyGWLdc-K-TEYIqzgxwdKxqFgSPLGDGPKwoByouLCSGGc6GRsbZRqaw3EcfHK59RkHU68nHJqowCclM63JCmOKaqctY5SzGPOPcxfJq54VqpwhK-XdapayGBgtavODardLagqy+GmCymMtiwayfX7eaimFMlgdYPq8qtqmNfeMQbZSa0hMdVCjgNqL608HYq7AmbCiajU6a5M+3J64wLKrU1YYED6r6iG8IAAHkRoBtUFiuBr9E21dz-3BAABUrZLKhBLktNeB10mxw9qBahmg4kABqO4pkg2OaIUdlFG0AJmtyxm5mjfVmtqdm7G+Q1cUyfGzcImkmmQYgRyEvMQSmrnamvjOmlBLmvmlfAWxpGQDmqa8IbmqyNWloooTWoWoG9xBAwbLEPcksjU8wqCIeKrAOK2bEPKlcIeCku1e6s2-4-0FDBzFGo2mITbI7J2ogUspkmINK-ADK+aG6xM9gwO0AZoDUtObaAOpk2Ya+M2xOmIZOp4m+VxXWm0JKqG0M1iFcAcKrNOXqsWWEmwuOzeRw6YX-TcW2lBWyS2coSYmuMuzk9wtvI0QEyGRkEqiayIhoouD2nalaiG6ewGKiq8fa5AmmXuuAzkt6hMR29EF24C2Cp+AM620bUhXqO28kB2kO7esq40lYd2-OiG3qGzP0HkzY9OpUh3UO7EHOqOmOrKgyxDBOgiZOic1O69XWwO0oeCbaIG3qeG+nKeoiIuv8YW1e8idWooSuo7ausOfq3+oaqeJuhoFu764+AAugTukQbuz6SAsc2A7Ufu91OIpqkewkt6MegcieyhKe-a2emmBe1cJehiQ6wGFB0ANiDewMLe52q+2mUCx+LLeQJQXLdmArLmDAPe4eLVPPJPRqIvdPELI-dtQKvfBwKyTR-PagTZcK8wMx7RhgPPEJcEtbAffRyqxKrIffD2QqBPWxsC30iudMJyuYNy2IOYVcWghoJyjkYJmIDkMJskpyjCaJngDcOJgJydQOJJwOVJ8nSdcDTINyvJtgZ0cJooJy7iQwEJcgGA7gcpypy5RUEpwoJylu6Jlu2MRp2IJym4bZEeFgQwSi7p1QXppmFYDpmIJyhmpJ2IfQeGbgXwcIAECYgPJm+psZ6jHccETyKZmIGZuZhZpZryUAVZ+JydOEbgBoXZo5-Z5C0ASEI5mINZpy4AbZgwWZq58Ym5sAY5tJjZgAUhecufmY+YD1+fudAEecnXEimcBeuZQqlHmZOY2YAEJJRoW3mgXFmbmUWgQEWfmwRwRUaAX0XYXQB0aYhcWcmNnUaARtmYXgXSWgQrnEX8WxiiW9n6WJjyWIWNmxiaXznCg6XMWA9eWuXmWIQkWXmbnChMWYgkXYhEL0wCpASbGC8dHH5VrAQVxyU+UTieBvHVX2L8SlX3gBAVWLG1WxL8AWBBkTAX1NWVhtXkQPmEn9XzW3KTF981migzXC85G0xIplXXXk98EfT1mwQnKXDag3LI3Uw+GmSnLIA6BokwDgnE3k2KWI7nQumqAhnYBIBonBmGA82vXM3xnJ1C3-EkmK2S3S2nKAA5cgOtl5htut2BzN41qkH1xqJhCG+16YR1j57aIy7gLt3k3bL9FKQNrRg1pha3PthoAdzFj1i8PV6d81sdkBKDa8nPUd3RugaPCzRFJCnPV6NUUgCPE6QZcgasR4rqTQcOtCUd+xjgTeJx9PON2ILTI9o4Ioe4xdeMQgXB26vwpCq6sfeM4DsEafXjDE-QXd9V++tBsnUdntou6D9E5GeDy16121lMnOtcIN7tnbEBA6mtooGunBhu59WmHqsOMQL4J6+HCD3fEEgDoDxM-12RpleRnLNmfLTmTAdR2yigUwBgJtD4cqG4UgXlRRfytISmlWTcExWTkW5nExG8FTvWlBBgXmk27WnVgukuu7B8eG5oZTyxEiJa1pG4OrQlLQSNQ2bTY95QZQSmjICrIwaPFz65pmJm-QHpZQNOcEOJUoYLpOlBA2pmgLsjv0YLujRzqDOuVVa1apDmygRzg97TTL6Q1L54aCcRlwTWtW8ECENW6z-FYwOzmQ7Vr9lLsAzLiYYr6wcEJaur3EHJBQfzizOTzYrTeG0L1DXSQHSFCuPr0ABOLAVCavezV2G8Pr8IHWVTQzrIeb0AbFlBNLfrgwbaMb1C8ENLBQ9yqeETmccT2KKT3lPr4yZoabkeGmtXaBMbib24mIHrTuA3cHKsrrtaeQsiUL0rpmtrpgMgTrnblg+brTybj1VWpmrcibVY5vAsNNI3XVVbpmmnOJXmoHjrgzub8H7r++LmqHwoeEWSMiYg+IMA3KUENyrTEdyn9rkH1T53aODcb7rbtriERJ04iuMHtaYulbgn+nyQGwjr2waCVHTW9nlcULgAcl5q02K-l8m+TvS7Zv0769a4Z7E9rFIHZSbT1564c0+mVlVm2gN4zdrcnSEGEB5uCB5och0jXjcGLB5tEI4HhF+9KE5-N914RaQYt-t2x6Z5XAp5F-ZV97IH95vED+F9S516j5Ss4ivZveUDvZnDvy1Q8AU1wLk4k34zWzixl7DYhHz4e7co+-9XETiw-dJuxBT-WDT+oE0AYPDWz7cAa9z+Z6aGHgR6L+FycrS1nWfPh96zi1M5aE1Qsot8Pj93hjb7CTcFz8+IMGV1V0L81TKIaDiIQ+AaBBXDh5pXe-VcrOr839Xq8fb+MH9lt3ig0H0Bn8bjn4X4U07-H5qIqN39ISC8SeL6wm2iz6L9r+gWe3CYkAEKYl4MebvgjUiQp09uGTP-vICAGQDS8ofUSkjzgHqQG+t7ZvhnwYhDcZgyTA8Ij3VITla+SCbAU3xb6Z8kBOfPniSnH73w0BHVL-iQz1ZX8UBTnNwnUUryr9FYY-c-gEUcqToh+PuUhPMT77n9uBlEAekESn66l1GYBEgMvwqoaM2e-fNTtfA0HO4iGKWdup7mAKT9PuHkJQcQCsYuBbKXOFQQVzUHEDtBRQUoIVU35oDdBmqUhkAW9yn9zAlgqeP0yT4eQLQxYcqJQHwBNRGoAwCoIMDizxUCq4BL6NEL26BDqoS1CISPBd7aRyoVOaIaoO2g+CIS7-P9vzANj9AFAd3EgGxQqAQJfAMhQwGyEqFVMl4hgUkDEI2L+0k0xfeodUP9hNCngzAtnmnSTS19RimLYoR9DKGxlOhNQ9LiUIQhGBBh+HCOpMO6GkgvKD+c9v0GTxLC5hNTSMA0OWFG9XYtQrbksKFjEheh+xfodenmFoRhhExaoDkhtibDdhXQ-QCcJ6ExdVwtwjrIEDGFEQk05tB4tMLGEyAIE6se-sXkfphkEwIIqgEjAVQ-DOuow0oY6xMbUgNM-MGEdUn3jwiShasBEQcJPj4ji+exYbmsMeHWIqhMhd1GnSBGCQ+GXwzEXCKRF4iZhfcfEQCP1KIxYyQoXkqCEQyKIamVAamOtXbKAlno5pYmC9EYClUBRy1QGLOSLjijUKMbYvmB1Jh-Q0kIcOUXyD6FYj1U3TfiM9BLLPR7cmo4UUdQsq8QckjAA0VjV4iCitRNMFodqKC4yAkwUbJDrEFC5ui9gUbFwe0E6BwchRXEKgOEGL7D0ryr+QRD9CDEmxVRXItijyMpB8i-C9okMY6PWpoDWexA3iPHETjZjNwmojnrCLIA2jQoWNG8LmNr6KgbwRY6sehBLH6jyxBnKsQsIIjbQ6xbYmfOtQn4RJ3RtvCyjHQ4AhDGAzIxCs6KwhvMvhqGfwd4L6A8oR4jAJIYJmXHOBuAM-NMTPydFQRGwto4-BfmKhWjSxDAW0Q-z97iUtRq4+gG6lLZoQtxu1GwXuKfyX5XR-YggQ4MmIolX8Q4yQDolpF0k+IQzZ8e7EKGcReAsNFqAjFjFycpeAA0MbOJcBpQcRH0HEGyG6DNCdxgJUNmlFQllhfA2lU6oVzTgxt9In4zIOF0MAWVIJ8-IkG3GgmiiTWoAboIyDgkgTCJp2GMd0HCChc0s4XboB7GHGgBCaAACX8QMAAAguAHAD+IAASoTUgAAB5OtsgCBCjViqkgNQGkK0j4lYx1o80djFUHgTGo1E3SaWK25ITqJkA9ITpKPFJAJ+SEzoAuCvHvAlqDkzIFpKCFLZRiqgkSWJMknSS5Jik5Sa5MkB2MZQ8MKydpNpK2SW8zopCcyOokMBaJCaGKfbnEzWTnAoyWkaHgPQtQPJGQryTFP0n9QbBSIt6KCO1ZD5NRlNcYkbTUAmAvAi4-KYJmqmWRkmeo-dtqI+H-QNJQzZySSiKldTaYgk93kRwcA5JGQAABmmJDwagjkONBkHCH3diE1AQYFdEWnbZxp2gIEKNM2lrC1aeIBUZQl2m5AtppAJaoTDmm3YrE6o0aLtLL4rTIINgrCPtzcpYR7py02KKtIF63SOAwqdRoEFWLXTxQqQaoNkEWnrR3wG0h6V9LNCTEZaC04RDDPKirTkoZ9UAoEEaiOROgvKbISuB5IxZohSJUmncCumKJcCAQaGZ9JRmphUStgzcPYOFxYRphWMnGQZ3H71iYmmMhgNjLYC8onBhAJgbGFMjyD167ElmTzLZmjSEJXEYgOUNCCtxoEeg2UduPRmqoJZvM3GQQw8J8DbssWLfk7CrxtAOgWQWUQ+B9orBro6FKEn3R4EWzB6jElgBKIuhSjWGY-YqSI0tmKjiJ4EccDnVKBuiowOdZoBrLZlGj34LAA-FmEm5ckB6wkR1CQTDEERHB3MzWezIzyLdQ5fM5bvrLbbO5A5xgKEmI3Fmpy2ZcWS6gmP9g8i68z8P4L9IxingPZDEqkEqN2SSiwpbszuCrIfF5EDA4o9bjG21lBQHA7NE8c2PDlnQTRN428TEEbldSf2URdwpYT1mnhW8EdPAJCE3mxExRko52atA7kyjOgHsqEkFH7lgQ0UGoYmSPO1pjzAJ9czmSsAnn2Ip5k3aCKhBph0y1RsoueRdUXl2yBwFQeWakF1Rzzu5R1DahvK3lezKEfY30QOL-kyD8ZRcL+RZzRhHz55Cg68tfNxCnjCAe4X8KrPYnD09uPospO+JKAoJSFfo1-MbMDF4KR2pIcMU1SzHRYYxeCpObLkrl2NRYNcgNHXPoU8ACFmYqMawswjND4xo+bhQSmjp8LHghAX8AIqdGgBIFkIFheJRzFJpxu+Y1IFhHkVbdsFt8-iJWOuFMlKxpIB+bEAMWniABJimeQ0AAHmKuxzoFemgNgVkKqJBRRaWrAQz4NnR3FRFN4uJIhVFp5go7uAnAniJpZzokxNLJEq7SqcUS1QYUxzm0QIZ0Ar0SX3ExsBsZvgEuOhXhBoD1Ol8WJTLJzz4pRp4M8mBuMbGdT7xR1ZuQIHAT9BGAo0xkIDJWqKJQZ0CaWdaUBIGLgJSRVcFYubHVKOpFiikPQHCVfcmllJaWeMsKB1L5RNg-pZ3hfEkK3xxIr8YDlIIJ89elS+qvRQkI2wWlEM6sT+JHHITOuKyg8e4kEm+SGAMk6yAABl-EKksiWwBmkHpepiMxgoNMIWH5VQEE8KaZLsnF8LJ4UpeKNIGk1L7JoUxyT8pJQiU3JC4KFd5JsH3LHlLy8ACFJnCWT-YqK1Kc6LKkwdkYQ+eKf+MSnJSQVLeeZbEDlSLSspCI+EB+3JUIiIQog+lRwEZUlDPeFlHPASpqVNzVBZUzEZVKvCtLMWRtMpT8v2UjtBVXUj9tLUAkIrqVHsmWQGlhLCILeZ4qPheL0najLlSFEVRVPv5u0mGkq2MMSow7+wthLRb0DfwyleTRl+q3hi0S+H8rFpJKZ1aWLVVRluGtImWTsu1UW9iphqhpaAFaBOsgQOE0wTqsN5WQg1fvWhlCMDCRqHAPsi+bUGL4aqHGuy-Xn71DVIiJ+aa6BHkK9V+97c-q-ER4rCkVB4YS0XMX4obRq8SYrEjOVrA4lKdr4uY9VSEMCDNSUZjAEyc5PWjLzqJS0EddrMbDMSgQlK8sHRJHVQlGwrnV3M+gHV-iER87PSKytxHdBneUU+gNyo+jJrvW-AHEPus8l0Aj1CgSiu6iwjOTuAXwldYDIoKOrRxAasurHIUHu0+1jUXaa9BMmJKTSyrGpYyDeBTLIlEMpiGOvCkNqYVU6wEjOs+R1qkp86lKTCqXWAln1a63aUiK3UEQd1KEvdSglGnXqT1hQIqOepI0MqkRt62MO9MWmPrrm2Gg+Lho-XSD6icBPUvzFSG7Tgg66x7m+rk4VKR1nooOoIGED4qvFI6tAakOcn+chNKQyTQJoU0HrYpUED4MEHCFvqO5w6xTcBsYnWwHVam0Nvcv8myT5JSk7FeSDM1SSLNQUt5ferfVMaPmRmgTWXgBUoIMQLXHSjxuU0VKgNhQTTf2v-VDrgVPSgzVSDc1QrGQGK55a8qYhxasVjIBjeTC+HRbPVZdIKOCG801qcGbwQZKnitSQjoSM3LIMVpEohECtj0VgtEq0GoE4lNqGcNVpRAMCGtzogWYlyYpWE66uIcpoVqbwVam18nV2BVr2osN+tNWobTkPq1OYlqAWSba1tq2qDOtIlGoGIFXT+xtV02mwdtDG2+bOI1qbiAJniHtaZtVVBrSkIswKBfBy2mwatosoFb8AYMlraYBTJVqShcnfLfQAG0cVXtX6JhTPVpFoCntYMgLP9pJQQ7uphQRNVH31wsN-tEhH7Y9GoLE9M2H2j6O4ko3iYRAPNWHXrzcqg6W8ny1VP1ue3QJFtb2wtQGuG04NKdLUlIL9oB27EtlLPMkRsIpF7CH2w+CWFoDzXw6j0zCRnTVvp3UEDVRalCBc2uZk6wdTWoXYYCZ0kpRdg+F7t2KB3sj7o2O+3gmt52NQLeblGXcTvUbraKsa+cXTTuFW0jypVAMVfw3NVjE0dDQZJfjvZQm77O-OmPLSrghzRhxG63ESvXF5Q5zlfulCR-LfnhdUMkuzfE1UNWa6z14IR3njt115q3KbuqGNeQRgmB+Ap2wWc6PEJHaC+euGvmJuvB0cGOlqZjo3QsqUD0+L5RydTvxGTggoxqm3aar9DEKHdfoTPa5z1yaRx23UPXPh2DJsBip4yjqNTH2ZtiiGlYaeXYo9weCXAvEMaLkm8gw9X5L3cEDXtwEMFPeeciBj7t-Hvq2VH8v0M0Ej3GQMdgkOPfiy33UD8BOupQnrqTXcBb9eAymNMV3H+55ddTRkAAE4TgQ8WplUMuVGB1ogBniMAbKkxJVYHwbgOporpfEX6f8H2lyQHAuBUKk07WYUCANVN9AsvWXlZDQBEHyNtRRBbGBwMR9r0f8G2bEAoOXK7GOSFkb8MFT24XAPkJSiuGLm0GIDVTeg9AdbrcAbg8-Cg6UuyVVM8lZ+F+Fpob2fbnRl+6-aXzEO5L4KZgh-U1j5367o8ShiQ+nqHjgC3A-O6oEVBPBkBLYAaMApDMBKtBGQj-X3MwHn76HoVDyL6EYf4DFcjgvK8kAOEBRmGYklydblOl9FTx4QPtCgxCG8g+RHDEav3p8iKgxAIj-kEvWEaB7BrjgojfuixAHDOSmAoQlWCPEk0yFWgBshoLxo2n8b5NcmnTVTiKMiNvDph6On4bW7qQA0-1LePbJiBhHNmERnyM5Ik2RDA83RxI7HLYj0MVgnR7o6vot6tEu8TMCY95BIMdGeDAGf8e6jKm27F69unOikb97c6mSfekBAPq+itBR9BgGff9GuaO5qxLuh-rOgP0XLmRM4jklxvUYhEhAhgRyKrFcP2VXgVhmw+eKf72GX+S-e5MYGrx0A4j3NDwwfjiIsNiFS3a48cepB3GQ9nXR41lvara9tV+xqeIcZuP-RYTTVR9WcaMofNHcVEk1gcYqx6DOq0ochv7E6gMASkwgDgKQDAOFoiA2uTfj7WXmEzBBcciZY7N3lAgjRr0UqtSZ7lP1FRQp8+e-jqDJzaTglW7IyZt4smKZXUlos0FyCEB2UT8s-CaJEaoGviJBPk+UXaps8tTlBi7YLPtwWmc5jAouaMclPhlRZ2oPouxNtPlyIsjh-nbL2XH6A7FAAHSwAibrVORt6MEFRMQY5mezDPGhAIMKJ6jxgGqN6e1W+nrJ-pmeUGZDPyywzMgCM0GOIG8ATw9uHoAcW4AAAvFdqACDNFASV-sEIeGdICdczjPQSs7Gb0jxnwQPh6OmYLTCoQDoLDN4x8c3C+nQzDZvM02cBY88Nm6SEjDzWUA81bekwWXmmDwApmdjo5nM+OfzPotpz+LWcyghYDznFznvTs-5CAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:teal">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter 2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruKHr-WRqRmBiAkCtbcYI1FcPZH0e4tce4JimlhCJ4QABkyTeg43cSOKJIMgl+MLvDbemT053ymkEkJDAwk2KsnQbeNVvoj3qr4PRLiGD4CATU6eRSV5322oHIxP98mpAtNQMQdBp50HCfzWxr44aBPIMEoalSIlWWGaM8ZOlm4NPMKssZYDhpNKcebIxVF64ZJvL0pM7jg5D0Ljs9Z7dU5dNiKckYN4+kaPZv436qRjRCBnBUZQXUyr0CeTEWZMTylLKmVZX5EzQaArnllOgdSvnmFhf8kwQKkX7OaUc6ZywXmDHOWcy5STrm70Lui+FWLYqsKSScnpJK7TvPJfU-eyRUgQOpYi1EoKjbxLmQs0JoIqmgHBFygFNLnAosLhKzFPLyqGAOS4vlhL9DEteaSqZwdNnstzm-Dg3LgWMDpdqhlWiLnMq1f0n+eAABikAAAaABZAAos0QIhAurKH+OCMOoNvTUFROCUAjkg2qDFV1PR5DZJ4HIDIf6USUjaJpP8ZN6gRAcGEI0aQvQtaEEMI0EAYhw20jQLkBQwB3CJB9Z5cg3IKgKF8MAAAVoYTyhguqx2ACkVNhhgAADYdDYHtU6t1HriAKHwMDbJRcuReEEUoKNLByEMCccIXwBBHD-EoH0XN65SBaVDRQAts712buqIIOdHgF2OT6DUYGpBrbEFqLUNAqKOUVKaiu8gqqSmCshSK5ZYr-XBmqEG6VurObLtXQe7e-1DB-q0UrJVuLWntO3twS1eLWUfuBN+1d56kMJkfmu+d2NNVWrtGSz5gyGAiWIybCFiygPQrFSJHWVBJ1gJlVslwHGj6EECG4ZwjGXDYauXkvj2jgH0G4qiH4gnhOGFE-SmZ-7mPCp3MB-GhRwRvHk84RTh8hPEBE-QXjeqDMMCUwwUzt0zXqa0WE+jlRRVzRudJ6ztnKRieBKCVzMhRWkk81ZuTNmTOkBamwSZxynMJhc4EILwGdADOk3ItotZt1+dKfMwD2m2PgmMO0S6PrLOc1I8VrLPqbEi3i4GSpRXMuleIOCYWUywihc5lVlrnGtDrMQ2p2IBLGWUZw1BziVRD0zg+Fx9ZtWhJqoiZ1il0nhMzeYP1sBg2OuLbvu8lbbLOZTUnZoXEPXsvLb21o7xiMrtdYCV+j4fXuMTIW+agV01EYHdo+lxx5G1PdJuwBljBX1FWXYDe8rnFSOQ+UF4PzjW4deDaydIxD2PLI7XfgDdfL+WBgk2SqTeqpqtRBNyXlgPnkabKaD2LkTwRk+oBTyDGONZ8Yi6Z8zbiqdgtG0S61Hy2cuDnmIHbcWRsWqZVkFlatpMORaqQMX+giB1cl59s2KuC0TY8lN57outdq+p1LkYqudfmHW4r5XZuPuBhvGb4nx3OVz30IJzRn3adabBIJqyxQUV4ZoWQOhoVGG8UhhQlB7vAwoKyX6pMtQQ1Wzj3sBPttMudH0GHzh4QrYx5iLbKaCdM9UBzysUohD2pClk+8UBb2s-kMiZHgvqQsK8RSWkhJWMG-zSKKUQPSRFYh-VZctvdNXo3m72Pl6-fg8MIo4MUfun6ZFG2pPpfy-YiR576sED8fhDgkd5xFTscOCUGyn7Q+UeXBYUPtwL2Zs0tWb6PDlqjALTFlE+-7SzhuAldILiLPP-XESPMaRsehNQVzGkGLRkGfQfOfIAuzChL-VEbgdfDfGIBAyPTBO+cA1QSAjIdKdSGQPfXSeSa2GaW2Y-MQU-c-C2ASEPfAmLR-TmXgYwceGUQ+YvfFOMYHHWROF+baNvZgziNKPg+6HENkboUaKCRsARIENKCQssXwELIHBMOQsCMDDUfScgzIUAZoQwQ-X6DghgIkNpLguBegKkboRkQQkvbA3govbocIUocEP3PQ0AboPxU-UAAAFQAAlXUGAABBcAcAV1AAJR8MgAAHkAA5ZAIEM2E4PDGQSQCA5A5wRDGfbhK-MoNg6OI+Lg2hbfWIUoUQgow+IaDIywoooPEomIZoUQzoBcao94YXcQSQaLFotwD-Go3I-wwIkIsIyImI+I9o8ojgqono7-GomfXI0Qv2Cokw8sMwuYlZaY1EDtC2f3Qub0FaVorIyWIPHIuJQMGWHmPmJWJfBvXRI6NAlQZ-LwV-FqDY0TG4yye+LWY4yhG+KfaYVIhhF4rSVEQ4r4pIHIn+bw0gDIEGXIBwRNIEAABmSMLhqEcnoxhJakIC9WZ2xWoEGDrkxLhImW0CBGhMNWJMTQAGpQA8R7CExyTYT8B4SyB2jSM0T24DVUESEF5GSsScSWdsp8TcisJXDUcsI+SmdBTGB8SbQ7QIFcM8NAgOkQYIFUhqhsgYSLD3gTRMSpS8SzRn10TJTsTycDTkpyRC55YQZHJOgEc3cxoeDPsi8HT8ZSh2TiB0SIFXcTMAg9TTTcTYphT8ZmhO8DwfTCB6je975wzrSGBbS2AEdto3cPZx9AgbS7Th87QUyoyd9BMApVC7d0z4zMzGThCPIKg2pQhWk3Efd9VSFIEQCoIrTiyEz7TDZBRhR9BC8XcHxHT+wuz08sg0EWhJh+znQgpTpawmIsxnxow0D4FEFn4y5kEl5XcciZy-QsEskxwNR7jSjvZOhjB9yGj2RWzMyx5WEWBHxmIsBoIKIXx8ZwUsI6w0DSg4y2z59XcxyzEzyX0SzEysysgHw0DmhiCoxNzyJyRAp9tzzAK3dDCD5j4iFAE7N8ARM-hX4GyU4TiZDLCBBsEi5lz2DJ5CkRysDyQBwEEABCDQvBSCFcIKBwIUXEXAthUuB5Wsdi2ODhE8xUU8Dc0AaCucu2LsnszcU8MciIDfPASEOSlceBZcpc5hFcxgFBWeNgDcxiu+GiuiiCN06UFiuA-iNBPihoS8juAeD2aCGyvMb+EMloZCkQLCheASn4neQoB8tNLsysohVIEFNy8i7+Z4UAWS+SlYIKZPLNA-YSyMR8iKu+CvYhLknC9yoCHMXePDZimQViofQgPcX8Jsws8WJeWPYglPffJPcq6KtPdoDPfK7gQgUkXPJeZvTkzPOaISsvRygBKvQgdClTTChqngQq+yjGGTIvJq0vMgpK1C-qjCx4JqxqtkEA0KsAOSyENq1vTq1JGTVvZq7q7K3KufG8fK1M5fU60kP4q8I64yxhQQvGdAv0QQq6sy1cLfW2KKhPRCz9RkuWObMBXI3LIVCpVjAGiZKyRk6HDyN4QFVg0TMs048TaXTUjgOXPVPkojRG4pXgzXN5S5MsyYK2RrToW03wQJaE1rKM5oCTWiLU37PVMnXEcgDEx4Rk3-Wsf-RAsEugDmsgYA7+UA-ClQVxVmiUcaFUzkhs9UtxMspiRsW64TAgxkXTW6tihA7It62IWGs8FTEFQFfoRgMs66giTA7+ekwMRWszZWnBL6yq7qm2capRGsLjBgIA1GyOHHXwfQA2oQMW866iUuGg6WOgq2qAoXTK7wgYhgcI6yAAGVdQSJ0LYBROkwBIgMZNBNoVwuKryJBgqNqKSCjLKM6IqKGkzsLroGpo6JnGaLFsQ3NxcCaMyHroOhxoTGjtjoTvAHGNLsmJWgrrmKRq5gVgumcqXwWLoKWNMKCzWK1piHBEZK2LOnhBNsKEnrOghD90hphOXvunhHLO2VNNxEHqOPBLSuHvOM1iuKvEZKOi6oIiZpajFo9sarPt5rSrXs3zSLwNPp5ohJ+upGoAUC9RBndo1vfu4TEKalyKvsuI0BdhWBjyJgfudHOLHpWmdjQL2KBN6PeH0Agf-s-rQK9iforsIezrSoDqKBQWgcEkAcoF8BIAjKBpbyxjdytmTJM2rrMmCAjKslsnsichcCUzMz1r7iYapvaLeClkoEQwdPbqYxfO4athvA4adtIHMn4bFUEYcmckcq53EZUHoFkcMH9z4T4wETkCESgDgEQGQHQEkTxBkQ8mdrPC41FUukrGu0+3kUUWURoFUW1WUlKDRykGdFDNNkKSSRCeBGcWkhxUOU4pnlQySbaTSGie1W4C8dzPcKmipUlQVRBRiedHL1PGr1mzhUKeNU8boG8eUkialvFCNSRXcVibcaab+BacpzYxyYaZkzuTATadKZaHKcGbe2Az6YiZkwMwg3oGM0MdU2CZGY6dmYUwXFEe51qfqemamhg1-RKcVHdIjh5j4y3AIxZrg2ngQ3cS-qvH2ex1xySTudXCmcVEaYuxq0Oe6o6c+ZSea23RewG1uZaDqdycaeR2GaOdGZ+EhcmbBf6amgY2+ZmvKeRd6YRd2aGQDOlKhe6qZtdwCZnn9U2fEZBZyZecKBc3SY-kQ1F3Fw0WybBfBZaE0b4eAxsjsj0ZcCVQmXIEPi8h8jcY6C0B2OkwJZVnpaEgHASUTgUAg3JjDmVgcCksNFXmPrszlYVZBiVclaVxWxzBEplZ+UUH6vKFOfZWVaro7OMZ1PGnDsZGFY8f9SI2RGoeX1mq8YPHoHm3npoY5yuckDIEQzdcpavHpbDfeo5y9fkF2TezdZvL514I41YSVqYN01KBTYYmr1kdGHDtydiGaF3NDGWC8v7N4c3BVk5aEf0atMkcFcEGPpqgytDmk2paAVpYjMMCZe8cdKCgV3pa7dzNKEdvGpfKJeVgPH1yVyHZ7fdb9HbeScQ0t0HcEzCDncPpEfKbWaMw2cizEaWfB1Bd7cUc-SnJnida0B9vC1s3s3JeZeMjKZdqve80iwqfvZ2emcvZnlfaE2i3pw4RycAd+YBa+Y6znbGmNZsxAcYeGlA5Sd2xtaTYTGLc1Fisoig66me1my2wmcQ-HP9ESonb1w23Bvp3XaA-Q-iqNGFpI51nUWSZVtjG-cnemyBaGau04Eo5WCg6zceTo4iWSdVdjCCgE6mWScgtADLaggSq0RA5K2yzQMtxw9ezkYWy47Bck7YkyoVpqRE1GVqEZHvxmlTr1UXYcB2V6hVKN2Nw1x8Ws+LuTuoSxgs-041G4HM705UwM4FztAc+ODIiEtbb1UMG5EYGZIxQRWNQZcNig7+auQI9kI60ZD+fY4mRi8k-BVO1g-i6uwMtHemYwaMDC9aX4G6cyNY+w821U4W3nbQlC79oi-K5qMq3g8QaeonLM1I9w7U6u3JU8pEpk+Q6YwKflRqZRZGcqVG6i+xVSZVTJSX0ablRm56aMTfP8x3GW6lXP2VXG1AuToLOC7-nKbhYxZPfJHgS9sQXnUee9qSXluFu7D1BS5K6a+qaRUQ3PXSpiF08s9CEZE87+9vG5D1G+-xy3efZnnPTDc9bqe9bjbBCe+7elD++R5yc3ZhYXHRaPZyeHtIz464vXxY4E33a2eefnvR+A7Gbc-m3hfO9eGFo-kdYnfGZnFNSMTnaYh2USZaVYVZ555wxTlrE59zo-ip5+C26KZ5zO8Nm57m4XFYUl+NQF9uZXBY6V+xXZ8ZePbq51-CmG0LlWfwr+Wa+l5x7BbGjl92+SevZ1JN-e9inl9V5WBY+m+25NQ7meZ17+Mo94VkEscXWETsbEUccsBcfMFKUpv0Ev2HoFZwXPcAdIyVcDYQ24Gh51+HsawrTNfajDjazQJT+DbT69pF6O0e2z+ZNz7OZkFYc01Bp3BkBhVNcr5Wjz8bu9gDcRWueDeVlyMSzc0b9pPb5da9t78z4CyS2Vm4BULL912jbh9jfmxr-H+e0n8H9S0T5OYJ5-ZMcBpX7BEXrFmSdRxkcBvaKRaP8V7zmHuBvy3AQYkhsv4Ymhotyf9ThzaGY-lyIky-4x9Ky+CoI2YF+PrIZrj1PZ-hXcmnVbHqjo7qUwBudZMlANn4HxHAAAyON7RQQQdpKw2J0oGCwiYC9eu8RsLuhBjZdcQMbEARMkZBJFw+4cO4OpXl7I9aWIpLGIwKF5mZh+S8AXiG0FrYD88uA5GiMAorICSq28JdsrF4GFBc6N4YQbQJ6ooUKBCPIwLtyYFHk0+6wUgRb3AEcBY4u6ZQbihFg4IdBYgPQaeCWB+g+8D8E5gwJUEpx12RcDQUAM-bvNgQl0EwYwkYHhAAAPK4N0GMIzBBbGIOXjZabhwQPhZxKABuB0BN0ouXRNtibABlagzQENDSTMoNRS4LFfQYchFg0lUcKQ1Bi9HSGxxMhAQwIe4QrYQhwh+Ab2J6UEBK44h6XBITiSSFipQAqQ5fEUJLQ5UshLiHIWKishtCChekToSUKPIM1oM8TLEALxt7y8sBlpaTF4wqTOJsQ8ApBtJga485bBF8Gzp11xo+JPBJ5cvHUyWFEB2uHrVAehQ4qKD5s6PE8voV25ZI3YKgsod1W2gBCzK+hMLkBR6Gg85Sw5MYWD08orgBwXjLJCQOg5nYnB8PdZEhyKAVDZhOjOgE4nKDWxakgIw1nFXnKxhGwyDb2FOxnBwCoBInO+BsIkFiDGBZI34vPVoadst8WnaCrnUWHogVhSAuQVbzQx0pduqVVYZvgWHHDmRkA+nv8XWFfC2B2w2EQIJkya4DhBEI4ZWBOHYg+K--S4W3GuGgCH2BEe4bikeEZIZRekUoPBDeFqCL4LwnfKSKIjPC-hGlCYFpyGEuhBydTMEdEjIFQjF+e-Ibg0HhFcjERyIkQKiOngNtWezbbUIN3xg4jSqQIWAWuW45bkSRXw2hhSMjyRt-iXA2kcFXpFAjJRTI5YYKNtT+92UVjeQEoFsaiIHGEiDAHINlbANtWFrAsFax8ZMZPc9fMEFWyEzViaAwMF-tfi1Ydj86IDDgOslaZutbcgg3zlkATZ+JCoPY6gIqwD5AhKk6YRrHMFRyxA5gq4Oro1g5AriYgHIdcVPkawYRtxMZJ9LGA3EipJIoII8WEj3GLjzxt2NgKjnvHOgzxO4cENxEMBepuoqOd8Z+M3SKgXxB-CttuIranj9x54+hHgVYBmNOAEElqCwAEQrAAJEIKkkeNiDR9uAvgcICgwFY0k-xSE8EJ5FQkMxb8oATCffQFY+Q8JYE18XCG4ANB0JpErCcdAFaQhSJMQfCcACIkGASJZE7CaFTYmgB8JAAUi4kMTeJzE0AEJIEn4TxIqEsSUxNABx8pQmE6iQf1ooAg5JPEhSQK3UmMTVJEILwaJK0nkTQAPgmICpNvGvivBGkuiQTGMl8TrJ5k-CYdCMkYTtJoAY6E5P0nghDoNk+ifZIkm+SvJlktSVxMUlFAUGMQairEEvzpgCowtNsfK17G1jHeKgwECuCVhzBGq042cQWPil2tEpNY-1PgBYAtoTAcjdKSsCVjIh76B4nKa1iwwo0E2uvQoIVOSn8I0wkUBKfVIqbMBGh84kVI1lQ6o5UOLUp6o1kgB0BA0jDFcZNOmkWSOuKwRrLBNgCQBtxK0yAGNPQLLSqAeBV1EeNgmuotpG+RrLEXICxEuJZ02IqaL0j5SqQbUmcUyTt5wpGBlU6YNVPvrbQa+2U9sY9N6l-IVsU436eTCpS0s3pDQD6Sgwkw18OED0kGcb3S6dTbkGrOGTq2r4OBuAouZsbkSfoTw1QAMXwBxRbRAx1gygROJoDOGrhUZ48fsapyHEqsw2WMsJAiCKCZVC404KYWqLey5FYelYaEUM3XxFdqZ-qMUW9WplUpPBlLIWT1OKmlTypyPMWT1NBkMR126+cES6K5kaJJxwtcEdQRKmKZgBCPFLvGEICujKBYITqRYwLGB8Sx9jcRJgDkEyMKApgN2rWA+DlQbgpABHAqRv46I9EBiH-jyT+DBxOGKNG8AqTHK5CGA+QkYd0MDlckQ541eOQ2XRqcwK0NwODnBi0AOZ+CYuHGcoGUC6IMgHjIwJjILkKSBENJfQPWmUCx4Q0LhENMkIGE0ka5x050OCFRydDDsAeeIIw31ilxMZ+rQeWXFMxawyJEQaCLnU6GDDwQEIQYenJZrGAs5vUJWFjNHmMNh5EwGedYBioiCeAvc3EP9Flii5a+muE+UnjNikEVIMmSpCfNACpI7yDMe8d8JPkeITE6SMbNXKVxjldJYpRzl+Tvm20-cj7W1qdHrQzgSs7s7KJ7IRzny-QzQbstiwFKtM75D8wLjEAKSdISWpPMlq-NsBkQXCc8mkuvMPlkBZY20QdngsGGPy9MrQmkvL3QwZMsF0bHBZ-m-nhB2hsYENPkJIVMAyFX5G8JQvYWRyaFsQeELJDIibQD5uUS8cPOymSBYOR8omuNTDKbg4FZBEhRCEPEecRUFC7+VaNfnyKx5fC0gJbGggfMrEL8dRQtHBAAByfIaLhnn2K7y+hSxV0O9onz2ivC8BpzXHm51n508f2ZuG2hAE25q4EmiIDyHBA8hDkHSOsWBJ5CoaIc6CH3mkUhLfFHCG8KEqMWKKyF1dTRekv5qZLLk2S-eQotxChLAGxM6sKF3Jls9s2QmDwGIxYa+z+SZpXlOozIIk0cWSKVHNgsWYgo3clLJWNUtJl1LkmmrJpW4E3ksNlFJkKUYUk6ULRGs29akNb3SYqlZlaeEzIAwQK8tmAh8SZT6jcAtKoIUHfUh0u4Y2scRHOeXkx2mAMKNlhSfpcplEwplNyU4qZcYH2L6t4oCDPZb4D5aHLGlxy5HquyuWblROtyh4bbUPFWwtoGSEFWIyqL6sOEEmJFT0R+V5y5l18kWTCvUhhIr50ZDFd8qtyGBbYeK7UbbVGW1LqAmgY-vCqxiUrDklLSpDSrJl0r6l7-ElQAv1azLE58y-AdCtxTZSvlKKvOQFCNZiUomnSFMv2SCgrLO56yjDLKohVUcsRhHOTjsoZFHdOIrRJgPgDXQgwBgFQQYAo2kGSMWlttZArvLwwmrcGMxRgERnNWSjtop-dLrMsAaaQ+pNADxnWQIEOBfRK0BOAwAzTCAOApAQ2JSiIDe0XVA5AwOJVmUEcGedrQikgjUrRjfSaVSTpKOwR6Vxw63QNS305KhqhA4agxP6rGpoRmguQQgN7QsqPIrK6I8iFKoTVsNwycqj0ZqoTBYRa13tLhpGQ4R9rvhOZW0ZiOTW2dAw+ZFcNp0lHDqEKbMv7OwQqCHxK4beVpZ0K-JCFTE78xNbYQjq6r6oZ+QIA6qDIykOC1c14vQFi7Srl1R8SuK0WE40c7W1hIENPRWJBZH1knRsIXM0Z7J9VMscGXpA3riFug8SvBnvSajBiGgRUHEOBsdWQaFA+fWMFhFaJ34FJv65UrXSvUh0DYYPaTjqrwwfBggIMPkhPALrY0LuCU9+oyB1rw0QUctSireoqJrr36T6hoI2FfV2xjCM9Sus2ttZUhMNeyPkoBoBB8UQNesMDexl3oyxoNRQWDVJsXoybtiX9CUjCXQ330hNcKETUHHw2higRh67ZMIAHqYlggp6z-Dhtr5-VH1dooIYIGM0v1H1tse1a0UvXAlnA7fFzThrc14NDYxGk9fqvI0Xqv1VGu1i4n2I4a5CvhAIsEVCIREoicRHuuSGjpDF4toxJOqhpw0aaUG4W8zZYTB6RUMQtq25A5r+qUbCg-m0jZiSC0rqPaYPKKGwBM0cAotndeOonSYitbu6MBLGOzQMAKTctmdArXfHBBFavVqQF0W8BbRnM12p8nxDNvaJ0dJtI8IdsPQHXdzC4luJbSiHkYmYdh4PCAfNugFO4IRsHd8VNstYzbWlmuQ7XvLo5nbltl28AWtvb6W57t22lbeALUa7b2+NQMQFxhWju1HtCAjJDdp7m1BAyF7b7atpB3fb2iouBQB6qB2Sivt2uQBpNvwAakttpgZHgmKDitKJt9Ac7XWKx1yNHOuOs6LbHR0alNthOkeIhhJ2qyXo37V2fzUq4zgSdtvInaTpQgddyd90T5LBsZyRKrIzOoAif0J0Y6q6pnTmGdsl36A3t2OqBu7Hx0wdcQCu3lOrvMFkECuTQbjf9DJggwsGV4UXb4rZ0dQUgXO+XRbrp0cI+dMDHnUUC9iy7qdXXc3YYC52IZNd1lemHbsEj5xBd0SkXUSxZ3-5vxFuyXUjPlzEA-tV7CNu5ToawMLYFxKgDfXeoRjDooihoM-JN2s7ft-2kPR4tRXJjVwVBYOnQ0pEPh8F0LUvZIFoKb0m8tlZoGbAd1IguB7sIeILtiV5Cc9oe7gHnq0CR69UR8EwPwEh2Rlh6LHezBDpYaoF6Yusr4CwANl8y3REyDHuyvGWsIQemlePcrpjBBQ4GKehBsZGQYZ6-Qw+wuVe29V-Ik4V7Mylvu4TF6GYlYK+ExK1oVDn9tmjfNW25afF9UDbFIXeVsp6Z19nK4-gKur1B1a9uG8Qk3ngXJ016vu-3fwAhAgH6VH8bvcHrF3cBUDXK88MkTAL8s3dv4xkAAE4TghcH8ZTHL17aKDPEKg+cSDQGIPgfe2EVB2lEfICOZbAcC4BwSIkJRsQSg91H0C2LbFVkNAOIbk0Ddx1XawoIIf7W6iI6sYOQ3Q3Hj-R-YLMQOBwhcA+QPMM6hkbIboPdQVDjBzcMjxuCHK5DGPUmt1AppcURkDkQIErrx3gDfdHe5A4zjYBk1bDDUsVD3t8Co5rD5NJgJTUH2cwSVBe7snQCKgngyATiFTIw21JUhWgjIAFUCqOXNKD0xgSI0VBnlHAD6TEAcI+jiNBpN0v8lTDoI2QEc5DEIbyD5BJWgAgC3GnI4K0IksyVw1R7xabtaDHApOg3FiAOH1Vn4jVLUYzb1G6Owj7VfJMza5q83ubsoRGcY5J0KOxHLhjDUAGUZTwTJ4QE6mINUYIm1GfIrRezaapaO1H-IvR6Q2xH03TA9jBx7yA0d8X2sCCAiO495EkMCHDD52OgvjHOKp6rwJ+vip0dZ3z0r9EyG-TPFaAP6DAH+5fig28ZhKYgfhghsLEgNn5oDesB-P1xbZyC6OQgQwI5AMTVAioiRgQMkaBCpGDl6Rk5ZkZnhEn+AuR-I6FqpBRjt4NhEHZga6MomT8UB8vZiaG1aIgT-+SI5U19VXtITeItjgQPjgv7768J8Xu4y0ARGgCThg2ELTtatAap8hSQOqktWlLwQfhuTUFA1MOAdy4EAtd1RUy0ylTvilU-zttjGm3E7qtTqUsQN+Jwj7tWxcgX0CLTQAAAHSwDWbsSKFIYzIGCCyxm9pEtyWOTQiiGxURR9ClIywDunTdnpjYt6cWn+nAzVZA1TzDDPF5wyvAE8Bwh6BYRCzoAAAF4XgYg-pooBgxzOhnTF0pyMxWeDivRYz4qFY8YBqioQC4+I1-PiYMSemgz7UEM3mZ4k6LXx5APISwDyHKA8h++SYLYrTB4BkzrOoc9mdHONnxzG3A-lOYhyzn5zB9ds-5CAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:teal">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GsiHQADFIAAA0ACyABREIzBuDiGIMpCCI9ijCXIIWCCoANbxqiIzcQ9i2FswdCwXAiZipRCsB2UiylC3xkEOMAQQQ5FLkpNwWgQQQDBhTWRNA9Y2DAFLOYSN+sWBMREGwCQwAABWtB9a0HELnYAVhi20GAAANmTNgH1-rg2hqYGwSgUx83KS9GWCsSiYzpo9GwzOlABASEdCQZSlSmDVrCAwWKSaXR1u3RQs9F6VQBgoYxfdGsYgiSmEmES0hpBoFJTsI9bCXVinlYqzFqTsXRrqbGlU8bNVisfJBlgHB71b0TLQaDNAmRyFpWMiZW9lAgqNZ6jkcSsOnvPYRp8LAXy7uIBWG4FqjIepo-COJOwJJMf2Qq9pRzEMSRpBSddyCtWDIk-fbgzASzIs+c8wVXGLpsqWfx6w35SaFkAgppTtAVNsrU3KhJonlWWOUFLHF1B9ODEM3fRTTBlPUFk+KslRQjM4eYPqJ5JqWmdI4MwXAxynAcpQnpjgvniJMZC2F45OgovRRi75ucXSzNBfIYloSxy8y1K8wY6caUr1Cdg1ZhDKrGZKRnPwSNnnHwZzq2VyNTjmw5fbEciCrWGtMAgviBZBJUvIj61eyTIxzkEdU3oYwSRTVMpFYs0bZIIj0Em9J7ZZTOsLfUwF0gI3aNybc+1egUnpsdeenPTTlijsDOK9Ydd3BSB6XG+1nb12Wm2MlJ91b8TxAbfO1N5BV3zNot2JKS1m4iuPh2Gxjjs2Zkwcs0q6rNnGYI6ayhX+P6EsjQgljob+T-sI4YxIFFqKthUZ8dpwZOwCjDSYjKpHuzvuVbR1ljHEFGfkGZ+h-7MajNuZM9QJjNPPkYZQgA4MM3st7fITTnjUvorqy4AwWXMgnS7bZxZrs2uVfcnW+1GXWu61fcV7cA3-2lMm41wRg34OthXmtxycD1gC4yAU1klHGKOkjQU4rNwJLSXkz4YyCklNyZoNIBg8Bs8WmX3qozXA1RpCJroSntPAgRYpEnDOOcQN2FsOcZnpPRhFTKg9wAovpf6j0IfowuB0KfxIO2dHqRseOGYMr-E4G5NCnFJyYDEvXCjhh9GPwyPQirwD8hlDIwV5R-z4XxPiwEfBGcdkHPuzC-jCrmX7vvf3fwFj+ltG7PEFYcoRM7ncYpBHVggtHfH339AZ32UMaUA8o6debjBmCsLgakbSCWZFEAuKQYZQerBgPSDvaAvSD+FqPaAROMULNzOwWONfKfTfeAnDdhcAwsWzY-KGXAmRZHIjafNA0iUQf2fmVPKEdPTPeUXvW-YMe-R-WkKmSgpTDA3-R8fAJSNeNyO+WvV-eJMEbxVcAfPglCP2c0dgXSXCBcAiNYPaRRKiP2RQxKasFLcgugZPahaQUAOUPYJUOga-aKbOe+DgbCcZUQpAmFPCasECKQikXGKnCVGvBcXQDwCCYPMwhcWRe-UAAAFQAAkg0OAABBcAcAINAAJRCMgAAHkAA5ZAKieULoUlXADYVAggwYAjLAuPA+VschAQ6YKwkQrAs-IwDwOQqonwAorKWvPhWoswuQucMqZon8f7To+wLgEsUAlosQ8IyImIuIxIlI9IvojYIQkQO+JooYiAlomohPchOQp-BQqomw06OwmoxWHosdWkEPOJYSIQHooo3hSfEosQrYtEDEYjHmEvOxDITIXff-djIAwYoWZFF4hWUIa4iwW4lfeoXIwRH44Yn8Vom4k-CqIIjYEwOwaYesIgPNKiAABmyLiREg1lC2RK4F4CZwTnIFkF7gJNRNVBAgYApMoDRNGFAAAGpQB5AzYXIaTxhoV6SGB-sM5cSJ4iFxhCEWEX4kTOTed+dHVSSxDgY-DBtATrgOTpgJSSSBBzoHBn5eNdFHxmBJlphn5rAVRuxkSsFHClTCTw0+dVSQJ+TzSVTXZSTvYiYvNchpgNY5wONvcdpdcIdPcvSjwPA+SmA8Tn4vcXNawCT7S3RpSjwq88DrhvcAyFTIhXSOB3TRAONVxvdDR-pUz0yOMrxsz2jggFIXMzYLYApmA3SPTjTxgZDooRBCgmwOAxdA8wZBTRTEC-I4k8yazSiqpOIZAdg-SYRvTkhqpStC9UEFJRzUYmhKy0ozY5IFItpfI7NsFcFp5x58ESEvdbilz5yWkPQDDGp7Ij86iL45wlJzyzDeyMzhFu4nVxF1oGhegXpkY1zxJ2d4zIh0o7MPA7zMzbgKpwlioqy0yazCytxFoQhU9VyDykZCYyj2xAKwzuB6zoFG8igOIcNKBlM3xhSgE5xbiHCfx-RKEKEtzW4dzGlpyyDXBqocEABCGyQw5qOcoFcowgDiPSFAoRVeflCRIg4gwIGafc0AcKFc7aaqYcmvGaWc4gh0KCZSxUbBKizckRai6kAhMSuE9w5CrYZi1i08mhJMogHijfSmVBG85IASyeISrAF6JyowD+WM0sx+QimuXS+i4wD87YQcxsxhawMXXSuizhQkUAJSlS+oFyC-BgnPcsqSz8lIFyBhQQTy8+byzhcst3OJcy3AXi6fIGXCbgUGLsvQpPBmOKitXPZIXw+gmq3vSchwbgEqnQMvEhXvWSyIVq3QTPNKoQHC7gPCkzAi1qn0MqzhLq6vHqlYfqrCwa+BYa-CoU0qn0XCRAyKsAZSqCaan84qwfPvQGUq9owcbigqyymfIyXq0E-qWfHQW6pyfKwqzfKQpwR6kSowKQh6myoED+dokIaq9PCwlZfEoU4HLbY1PQ4TODf3arC7ZBRWJU7HNLagBFAQ5FJUsQmnLGw3Ggc0oJRjLG9YiHLsK8QKE06C2UUCVJHnUQd0iQdFGkgbAGkpDTd1IyXGjCosIkvSbDJU2s0U3A4o0AUgzhUi38BFVgakJU6k-gLeAUkUw00JLGs2PaZ6qgjAkCdmDWvimQYWoEvEX6r8NG2aUXUJKWwMMGiGY2owMWzBNklpDWngmg5PIGnPJgvYJq0xEYDgeAwW8nGQS2mWk0j65IVg9g6ke4mQZ29AmgiFYIsYjgeIpWAAGSDQyO-z2GxMGXBNQKVKuN5GBL0pJq2AqPmPvhhIsFOpDDmMaKEALqrsIFZv6LKkbrxtrpNwGPbtLpoCTpTvTvAFmPanrutsLraN7pRDyAtMYRkB5k2M4J2NsPCwONtsZiVOONRAQjDuMAXoFDlKRuRM3ryAQm5oDF5rHqbpIuaXIXuI3keOxB5llueF30Zz5utsFvGiLrxD0p3pcryKiEvpFv+q9XkTqUUUjGUSgDgEQGQHQC0XkG1JQhMVSik2OX4AmAtwh0MWMR9u8U+XHA8ByEsXHDjL1J8UIc5nDjuUNSfJI1ofGRsEaU+WUAweLLMJ2C5XxV1Q1TFwIcaHoRmhb3O25R4YdVCWxTYdIfiR1UJXEYoYEYUiEdkb1T4ZqykcaDjN+VB34YHCUcAm0e23UcIEwekc4YczQ2oGc1c3cwkbZUoZQbKj00sd6TKmF1sfQZMfYbjKwwUb0YzhHi6nYGPWw1w33nwx8T-qBHo0JopxYbXoUi8bMesHe3fF0fr30bKlSfTHqwmwhsuxYcSdMc0fiQRz8Yyccczjx0kaSZKYEy-nKepsqcExqeKYaC0aJKtJZ3scUbfq9x9vfCFxc2M1M3yVYa8aidcBC0YbEQIxlzlzGaKapvqEnFlgbGOWVlVnVi1iGWGBYDvlAENkydnBGFOJ+V5pZB-vmeehkusEU3IDYDQ0+ECdxFnPOBcjfr8weaeemBedZADHt1xj8tuehTYGGqHA3jqUubecyjIvWGoNjkcZOcGeQ1iehcmcaAGtixMYiGoHOTns+sCBjTCY2FGAI1eYxaBHmcpcBCFxxajBuW2VeZfM4ohwk35RdqsXZg8HZfBhbypHAk5fYeljYuuj8rnNGDlkucVhVjVk1jJEGVez4EOaNjfsjl8tysGWmfgVmbQtoHGcwZ2hcjV3mb1eLJMPsG1B4QTIGZxGN3VzzgUwJANZzOibAhbJ1fBgI1twdYIydckTYbPsqecYMzceGZF1Ga7zYcnv2WZv6dQZGCDoc1i2Gb8zmEKcDe3EEYTffHS1TfiwzdqZKaRbQbzcUy4BoMiaWZBpoEqeyZ2xdZahBee1e18FK36yuxpgMskhMpkkkp8n8rTAg2LDOyqBByMbuxhcPPIRLcTZHAfVHYRoncOwSDYcSoHY4u81-HnaBwWSfO1sBFncGftfyZ0eG1Xa8YQsHaHOsF5YBR3dHcsSfKncaBcgfZpCfbESvfFaPFSqEeybsx9dPeGAWZXcUDXcVAtl6HhHVt6WUw2SMKoi-yyKQeim1Y4CIGuTmD1J1x9JRy7Bw5ruYJWeTJjrg5MwQ7VJpvakYcw-g5oSW06kI9hERgkr40GVoCYmpDpO4bkaDlA5phBfra0zHK3f9B2xAlSc2wKbZSvb2SezBdbeE8naTOI6aBCAKFns46tp4-tX47tYXek7Pcnddf+m0+479D08LAIxa3bfKwSYaCA7HchtA83BfJ-ZSu-K4as8jeFY5iOW8-VXEZoYeVpx5jjJUd4bsfyX-Oo4yo1DEepVIzC5gqzvsByvY680qbKdadNLhdidwR-UDs+TVscO6i2kk645bMs6C-09ifcNg6w6bBAnQ7o4o4Y-K6O27eObQdiYxaxYwdxcZfAk6+UDa-WRoX1aWaDaEZaeMcNZvvbAzjvedSliPbXCthTZsfNsidtsDZrcyZ+Im-xdy4lv9DERAnW8Mfan5ULcwbNmuRC9GToeu6e+o1fjShdcdvIS-c1ay+UdtTfB87UYx2jb8ke4NQeToci+C8h7pXifqHW5h4Tlu7ZRdduog-kgrziWDfJVEb4+6dB68Zagh9IzocC8S9djh-e8VHW4p4J7dFR8WbYYx8vbdwjHAYPRURgfUXgZzFQ9BsYGdRf0noOYqWZoO4CahZJfw2UD66Wcnp6zbXBaKBHkGzsxl7Jbl-fS++O0e1BZV6EBebEJhqq3AlwEVmV7pNV7qRRu5GQ014fRxDELy3Cwt5ZI7pjTRdwBd-daS3d90Ie0fDpYmCG-xZ98V79-y3d8Kz++axY2mBW9zeoAFd99pqT-lO-FT-+3qc2-5TERN453gxQXBiRq-ifLt-xvL7EX5dBwL8nppwL6DZIH-FYOxdD4ZfxbB70MLLZ6D5QnfYIW7+66zL79JQa1b+mA9Ap0vkbbm3m26+Bln+rY5D2hvVi0U70kG87+QRtOzoF4oJfAIWp6m9mZlMBhP4+7c095ITe-JfFvn4rxH9uDIP7+ikvifPv8wX0FcB76Mlf4P7uUm82-PFjo1Iyn8rycvYsNMGH54caA4wXOJUnoYPJmwDMBAcGCQEzRDwTQDwD-AT4bxdyl-EuM6woTQD2+wrEIOgKQEn9dAAAHj-D8AMBQiLAX52MIywpWEEEImhGYyEAL0MuOxMgkUSkROm0gQGkyQkrH4JCucHisgNGTNhmS8pRNMyRspSCm0BVf+FtGWbFs1mkQTgdwNyIawAWwYAQSBzoCYRLSogxmOIJUFeJpB6gmgeIMUHWDJBtgtQRThYFn1mY1DannQ2p5z9nSj4DBh0jQjMhYByQOJOZ1kFbRX4uHV9t+S7A0Dzy9CExsEKdAEtiCE-PCi3Hb5h9QcmbBfCEGp7J5VwiQ4-LuFuAsCbKhQrjoxxqDgDJEV4Dwd+0VATkTGyedfi2y370tQBwwLtikElbrM-BjMFWEEiHDf4+k+lXyklVE6uA9olVC+PayH5s8vyt9GoR-xP44hOENLcIbf11YgNIOSFOAUU1SGhCx+pKUnrQ1u6kZX4-g1wDjxSHMxThC3RUBEJqFECWBMwo4T9jqGGpsB-UZIRMBOHpCoYmQtviAOG5e4vGrA6WEUIZglD6hR+DwB9FXBYDX40IkspEJhj1D1SGgmHJBwkEDk0wGDdoRkk6E5Cd+vQz4UYAGGRAhhmzUYUGD1IqtqIx3GTJMKRjTDN2swxwvMMH67kIOKw9sJEPWHgDNhmCbYUS12FesxRp+Zoa4ArItIghjwyEfd3Z5gNxUEDKMDGGgZqI4GmiDAIAJySFxHmFAZ5lC1eZO4oUfuI5LiEVj3MTR5AKYJX1CDGifma8MFuMHORBxoWlotmman-5EAIU0cV0aaN+ac8qIRyB4D1mXDyl98sQIEKZyMA9ZrQsYxfNUATGgkesg0VMcmQzFRiCcnSHMZ0jzEpAes3w+Ut8MaCJi4uEEG2OGkkDyk6xagKsZmIJw0jUxNIwENWJ6wCJAGnoWgINl7FcAPQiieoN2IJyMkcxxgGQB-lAASAQQ2QA5syQvSgBxxtNfWFONSCzj5xbxUAAcyNgri1x4EaCJuLTDbiFxe40AFBDnFGAjxkEYAKeJnHKAdxzwA5mAEPGtjaaAAUkfHnjdxBzL8TeNXGfjjx90KcU+LnEXixeNkecSBMggsV0g4Ev8a+NAAITIJcEiCLQN-HPioJoAegUYFgn5jaatAxCcoECAQSXxi4vCVRHQlETjxmQbCZBP-GgBsgBEu8RBEyCkTkgFE3CZxLYkYSmKp4y8a4GeBGAmKxgF-A8EQjBjvmoYyFuKjv4ZBFQxGZcD6BDGOiwxGo6SY4XtFuiY0lAD0EOgzCHYlJ9QYjLiF3FZj1JToyjG6mhbzQjwukuSQokQhRwdJ1klEnjxMkRiRoPWNivKTYrVjCWNYyAIQDjSvZYxoU8KYROCmliCcQ42AJAFTEJTIAQUwlj2IpCAMg0OYocUGjSmfUesqRFgKkVPFFTUi6I-6NpLhZOSNJwjWFGdnAGmSUg5k3cauB95qTZJtUrhkdhkkOjPg3nWZk1OSAtTngNOH3pIhqn9SvJR2c4RfUmmaTMw0rIwXDShrddPm68QSGMAkDZCh0HwYsMQELgvZgRQIeae6PDSQ1vRFLOzDLhWmdBAgcfG-G2G4Dkieh4EMQgN26EQipYmndKqdJjREDfqp07zjQMmY-Tt8Hk+SZmBbKGTjJU3QGRDIGlet8pgQDoZvxenDclka-DJGwQMmGZPp5ySTk9PRn4tXJHPDUVzx1GwMNEmAQAVnxdBkA-aaUegG6CxAMAOMmpGNlEnsSOJG+gPOsloKOBK4jImpUcgoI4BKCUQLcGQbzI7Lwxe8MskUtakGRtosQbbXDCMH1CFxc4sQjwgGGIDEA7EdgNBnIGUC9piAF4xRMyRkBmy3aiaXwomkBqKxxBZs5GU0AgjylVB92UPKYFez0gW4ps+3AHNbiuZKQO4vQC9D0KqDHBkEcQSrOwxKR1ZcwYjDdJDmvYg5m4RwdoCvx69HwqcvSImDpAy5C+kOBwEXMzwQR5QtVbhADhGhFzQARSRyqkG+G1DrZGuUcm4j9Etyi5ugNCXKRrpb5W5PcN2sHizbeZGAvadqPVmZmOpWZHGMuepyHarJOmkpUJHXIbmscjA4oRpEM225gE25W4RGL4RjnMk85lQUYHSFXCmtu5ugZQRvMTQSyfBjDchjvJGZi5u5zgwEPfPEGnyC5A8q8FfP3mizG5rgBCGzERiXAfZFOJmGBHlIy41JGwVtgXIFnSxh81weedTTzmQRsxygI5JfLbk4ju58C0OWfIYDUxHKcZVQYPJroQQAA5BLJlyOC6F5CyWXYIpxFz-sp8-2vAWLldh943MyIKuG4USjkgPWQMDnkVgNhFB6sYWIcWWIyL16yJU+s4Bei4DIFA8oRcbE6gaKf5581mpgsEVpQYCDQoyNosgWMzRg84g7rtJSicdDpN3PlopjLAi40KxcqMq2Rcw11RFy84lO-GQzuMdu3uSZsRmsX7S7FT5PzE4pLDpyXFyC48FvKmSJkMmPWYPPiDJ5PzGk2ZJqmWQenRRcCNKPZnfAiWRoSwLiptoOQZzeKZU2Zb0nMOQywiCR4dNJeRimQvyI27i9CpMODGRKlIFxe3O7GxB5KJABSopSLmiXZkDyb7OpaRjdrZjM8wMKQlGGKU9LfWkiGnI4qWVNFAWsSswv9OmVVVCxcyxZSLk2Wy5e8uyw1G7RCW2LyAL2CvnMsBjnKHkkzI5FcoOk3L7FpcEZSUrwWa4iy2y61pEEeWjI1J3Sk5V1ymEDsQW5DapXORcjJKPZTSphgko8XuEPOtMRUdkvlE5LkQSrd8F6UW4o5gYiS6mlmQ8VNUdBaFGVls3lalld5OKiQHwGdFZ9BBpSglVCiJVkqMmhZTlXnnYHrM2ymzOVjs38Wo1XgIHM5l5h6KVBKAmcZUgIBECyB8VPfBlXio8Vu0CC2ct-siD1AXE5FboNFkquf6MpmVIHGJQd0Fj1Si4ibNssvyIAMihABcDgGWgEDjAGANMOJPWG4AU5DVhIm9gKRiVUixOlFTShpUfI0VkV3Afcr+yPLqUqEvbWhItDOr2qBSTqsRa6spV6U7MIQT1RTjsoAoJE7I82NMJBYcqOlgaiuIDBzUDzsyygKtdyo6WFq0VcQmdpipSBQc9CVa73AdyPbmKYC+tQxYuHWEGgzuotCyRoQ2BMoVV-aixZIggg9r4C6rI4VODHXGVHoplDJiZg9HTAuFA6kovITIUkdl1RAJNmKsOzTqjFe6+4mfR2BVEO4A+TmfyEkK3BpCoFbqgPOkIHd6ADYZUnqqlLUgqi1s39c3TKWLyK6d8DuD0RfaBA9oC4ECEvT2LhZINV7PaAbNli3IpV9xIaf9D3oWgFwsi34tQGPrsBF1A0P0LpHw1QkiNbAdXoCGBg9FP8F41DbqRNxAb917nTkYTC1U0Av1zAa2kITA2C08uv4LAiBG-Do0duqtNYCC1vVjVDaUG7kXC1g1UR4NekfYnJuQ2OEmNtyc0phvSA3kcNChPDQovGBUaSNgQGOORuM1MBTNO9YGEqQY27itNcKHTbaHXarkWo0HQATqr40NhISKxVeUBuLkC1INDSwIB4G83BbAtvebzT0UA0Ebm6-2GLUBri1QkaYPGn9fFv40AakNqhRwqMl1Xxb1CoRCItEViIJEkiaRIemsCToTFyt0xTOnRqA0Obng+WvzdZ3cKxV0Imq84fKo-rE0-I6WvjevAA2SaFNv4VrQXRAj9006GdM2NNsHogQ7NyJZrdkAm3IlwVrLLYBBC63mqFOL2PSN+CHRQt-WD6rsP60Fz2tDtxMM1g32AouYvZcSH1ldsRB+t7tYhetQ9vpx7bW2NsI7eKhu1sr4kZ2t7RdsM6-brtJ2wHaSvNw25TswgKwH9rICvbzck9D7R3REjBgpMQgf2pDr0LQ7PtXmVzKTGZyqqUdUOu7TDpznS4NcbAU1bju65o6Duh2ygEaWe1I7L1w6wHTsDJFs6ZUvOv4XVThL7re8zOo0k9uoCI6z1-O12ckHnUDqDOG2XnSesl3OtgFIlIdaiAhQWaecggRQXLosWZ8JdLOhLYAN+3G6fgCO4mFNw11CgH1ZI8Hf9od1I6iOXtEjiqETDvBPgmoY6ZiwGa9qZ+9rJ3eBCD0kCbd0oX6NxIvFm6xdcOkPRbtoAq77gG8-qGHupgQJtdkixWPrpgKNiEdxu1yTiSYCY7E21LIXVesnp30eQTxJyJVXeLJ7jAzc7PRTgx1Y7-dg81XbFNcAR0NgHBAUP9WUV6Nu9D+KOpwVcrOUQg8oCPZKIVpXqHY2u6RXrr90LrlALekYAXsGT3wMwfoUne9NtZE6umO+4SlDHX44yPQeMjvq9LPqvKwl-KFaKIA52a6VILkSvQ-WZDbha924TfQbMTYWq8UVq98DZTv0lFhF+cd+AuONo0jQDoWwloKu2Zv5zuACZkUoMcrOUQF1+95RXzlk4C6ALcSOvuplGsRtwE+vYGHVT3p6yNEEdA7crESL6c2-u+UlQY+V1xHYjhLEIUqbGSAQIAATi6BxIODb2TgjrL4Nkw1A+6teImDKAr6+hm88pVEl+yLJROwLQcjQAZgYlpDgQfgzIBoU0LFYaAPQ2ZvlEcbAQmhkoStiPD8GxD8aRxHfXmSSIaARsSLAcKxWuALDd9Kw7SOUBsH4dtsNQGfTnAM0mazqCbt+of227AdqeufRQf8OSBAjA2LPUvoHWwL6aMRyoMzXX2E6jlJYNvSqBjjJRRgQSEzK9iE3+gpwIEQZcMvWXOL70SkIcoQBjiOCOgp9M2NVEAwFH40F6XuSZgQEXJROmhiCIbCNiVGSwotAdS8HqMqsNxd0xUJoc4Xy6pwsIItRuwtjVQpVD+WVVwHlVzB5j6hiLQSV82xaktmWtFtsavYtH8jWQ17KhP5hdG2RgavowMaOY9EAwmxzSA8cNimxFj7mvQFByMMpB7jbxkYxYvhYYFFEbx944WtcOcEjwd9avSnpIRvEbysxixT7oXy-7hg-+-WsAbTATAwDu4zBjLuMBN7MTOBu-D3pH0Cgf8NGLFZl2D72tAwtADWI4hyN+hijotMowOruQVHMjVxB9O+GZP+gFBjRl8nMMWHwmqIWZBI8ianD4hcDZJ-A5SY60tIkTfatExQDQbSmFhhnZflAYj7PB8Tn6h5udLb0G1v6oR6UBXtpD30KQsJnYVvF3HQnLTYMr4KUDsznE2thRc9bAUNogk7MX+T5o3RNN8JbiQUsg7IiGPWB-aNCggjIFikAAdLAMFt4BN41juABsHSEn1zicJo5fqDocZitG8KLNLoOGbb1Rm5FMZ4KfGcTNNlpVG8NM0XmuD4BkokiRcMDEbOgAAAXvNCMDxnAgTplM3WZxOZmOz8MBfLmYgj5mlIkcP6HgDpM-hGTkQKM0maKD9nSFFEnBQThYCKCPQig4gIoJzwwgaFiEB0MWcjN9mZVqZ1c9uPXO01Nzisbc5bz3On0xzpsIAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:teal">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:teal">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:teal">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:teal">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:teal">
	  figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:teal">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The expression
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHboRlxCECbjuS0Sm402lwYZx+n8cEUgxAUOhKDRnGMc5v9zumvGCxUeg2vwap9BO0xDG4ORyAUYgGA+QJNYuzHQAe5rKFa+WGeV83TqmGZQA1rWdcoPWFBXZp2sVuhRmOq3VctuhwZF6x8II4hcOJ0na1ICmQZnFWwTjsIUL0lZ7e13X+kE3HpDthnDDt+QlCgOBEGQdA8TQPFatl0Oa2JoxKAUShuGIOhKyE77UmMNgZEasOaDoMR68bm35JiD5G+U5pRs14gh8oEfbbynXfAUFh8AXXDZ8MFe14XfAe7oGe56DlpW4XpojdSY0hGRkw2HIMqPvH+flNKGuF2v4Xnrvh+ss95-m5n0npfBg1ZSDUHFN-ZQ99H7-wbi-Z0b9TygIfhAv4UCYF-znoAtuwCGoWmoGIOgWthbH1fi0ZBBCiEkLBAA0+uDnRTyvvQbiqIfjXSOoYZwZDEEUJ+G8Vhzh2F9U4dwuhLcGGKiYQwe+q9hDkB4YqUoCVtZAy3JrFg8iGDrgoFrLQC1j7B2TkUWRmjyAMDXsICmz8g7GTQhI8+qwQHGDJo4Le8DHGxCQT8FxtY3FGDaH45QadmBaBoWdGxODPExGkewDwXhFErG8QuOJygEniKAYwkBIlEmj3fgwHJGTJErGkRoQgIJWZiI8eQspbAKbvw6GzIGjURHEDcFU4eUSjFXm3DOfeKCzxtP0A-MQESPFROiaAUypBzLYNADZOyDlnLUl8MLcgPUvI+QacTGqEUgaCEIOU6ODhuAjIGq+AcDUmbUAUNQGglZVEW2RJMQaMQgq1NxNc259zHn430MiU5Atdo5mfP8S5zDmr4HKAwNRzz1oxHfG0jIxVtlNIZhY-AVj-kOFscYhovUtAiEaq3A89AaH6DsXpZpOiZ76LOs87peLChnMZUyvM6KJGkuIS3MEcKgL+kNg1ESAzaxe2RZMrxG0VQiu1m8QlYIjrispc0McGowwURfIaMywRsV0CsrZeyTlgYM3ZL4EgmyDlHJqjmPaMtOK9IYP0zeot+pRNeUFByDAznnTkqUMabA5LNCwqi2eMcvUC3Ol0ylsQHVOoYmdJG4bRmRvofyPZJr8kCLuUIhcHC2lcKfvAt1UNBWpCdqKkNfthAtKZto5mhjU0SuSY02eAia2kCWvQMZnTU3GVMn3VtLD21erYLQ8Zqbpb7Pyb4luwS55q1TYNcFjUTa4hnf45+ExXmxCCqq0M5INVguFPoBq99FofGJuSzdLyoIrCCpWsNF6wk8vnUHBxAVQXboRV2gQj74EysZHYh9B5z2hKai+69nB30rmXcKze-yQMzmfjKm9digp-sbjKpihRD1foFRLadgTZ2z2jW8tpSGwPhNfVBs+2GbU4dtY2BwVCNSMieICAAfKAf1Jw7UeVjT3Zj7SiG1H0IfLW5yqalrSL9MTM8lhJO479V2PANz6CE1wkTwhuACYYBpwhGp9A3nE20yYCIyKgFtfsww3JGBQtvtA3+qJu3zyXcehq66502PhbERsm7GSeZCZenlLn+XCWk49U2OsiMbvgQpv0frlOxjWIclugwbNCEdfwDBTnnD0sQ47YLpDr24rxRluz2WKiOdgWdFR0XXFztI3ixNT7wPCxcxMR8oBcO3rIxLBqn8HOYK6jY6NClQR+wvV-Krw3yrb1XuvY+ErYjSLAWgjgOXYG5NjONnca3IEzdy9lebu8ltNeaDxg9VmM3INSekoti6oKNksb4Rkd2MVYpsUxRs3Y9QBds1lobR33j6Be2FuW7wBD6a03nIEunoeGd+8CndhtK0vdZYqAlaXiWVi5eSpH3AEe1AXQ4rOU7kGFIew48WCY6twYYhS+xA7Ric3bfmjp88MchzPmTm7PwWNXqp2fQajZN6MkrQLnlMqG3QeZcJxgJ317S8l1-RX-5x2byiUxIKm9J1843qgg7P8ttFPWix5eC2DeDP0Pt9Bh3YEW9O5Elclbbcbft3-aXkTU0Y+gzqGIfHzCZp-TfTbWDTeDXN2r6Xg2w+xTV4Yl3zPY8e9ivB73Djfe0dtXgIGec5CKAgDAeASBUAVzQMSKunEPORh7qi6og8bE05GqkdIq8yDHxiAAHy78ZDzTsG+d9AD3vvqQ17r36HA4ew-e9+h+uNL712+YNWYGICQ1belzMoH0e4YgDb9dSFhJvAAyY-vQaad-EuyHfq+9fL9b0fJvJaD+7-XzIibdDwQmd2YHlw0f+kmad7P4JjbREQeK8735ery6C7T6vgdyv4kyb6f4q46S4z7IoGO6LZP7LDUwjA3igFJhLZpq-5MgGY0Je4eJUS4GDA3hgHDzEEkEDYh7TbG7h6UFwHSar5v5IEPbggp6sGog-77L8HVae4J7YEo4SwEF2jSHq70HEHCHMFA4O7p7sE4GGyyFGaEHeZoEmoNRu7ayp4c7tycHkBr6IEf68EGFx7OBCEmrWFGHHY7xYFqGSEgEX74EeHaHgEKH2GG524CHlSqGwHqFSFeF2h0HzwMF4AABikAAAGgALIACizQgQ5S5AwS8yzSwY1Q2a9A4IoAjkdyqg8ypi8iskeA5AMg+i1+KQl8NIYKec6gIgHAwgjQ2cqglAlA-UjQIAYgJRtIaAuQCgwA7giQwSnkmRAwTUvgwAbUhgnkhg98A8wAKQjRhgwAAAbDoNgLEQkSkWkU1PgA8tfv8HdvnIXuUeYi9gQG4mcdnDolpEURQP1GcaALcdUIIB8VyF4EUX0DUA8qQNxsQLULUGgIwakNcUAaEQmCvmYdwZYY3FZDkeqPkXQHYXzNcdor-HomQKFlQYbDcNiP-gfDPNwJoTobzLLNiS9jCW4YGHVndkMOEVkJEWZhAbLEKpjPSX1nCWWgiRYTuJ-sKq1jQpibLMKnmu0oWiEQyVzKyUtnflycwiIOicIkzOzrKa5hwS-lwUKWOsiZZgRHwSwuqbmq0jKRiboXzG2hwnWqJhIXyYGA6oEDIHMniDabLHaSIp2iDk6VKi6aCAUpUHMqSNSZxD6bWp0IaTqbCUGYtG6XMjoJydXp3DFl5q4c6ckAKeYRvkiU3PMoFhKZxHVoFq+oSRLJvuCMWdwNehGR5IFoVs+u1kAbEPGQqXgd4fQQ2eYH+kVrGZJvKefiMPWXtPsi1pRiFhWbqQmJEQDJCSuk9OWdepWfyTJgvnFl6WmTIusBRgOTOR2SAv6loXaCVsqTucyQGYGTmQgfmcKbwXdiWR5Eyb8byTecCBNuCE+XWR4r2S4O9nSdedQaeXIVERefVKkLUtQJUtqSYXqYKfebGVZNBbBdaf+TnPjGzlae+SBeyduR5N6gGXhYQfhQReYJ6t6kQEOdmcebJtReRcDAViMvoAxWuVtBfgxRhYmlRWtOxVjIQVxTnrILnJcYXMXiXGXuXDoFXpBUwKQKKj1PvgmBslfuWsQBBdcLcL8gWPoDSniQtNwOjo9lJlWV+SMYQFCkSkDOCFztMPpZIPiUZZij0H7ouRZVZdWrCspS3nee-juDIFZB5dCjZYxZhQWDiboo5QYjID5WiMGUmYFaAJ6Rhc0nSbFc3vFYmaGUleGeOSas0pyvINyqQhlcAQmTOIldwCmZpaJNpSGazvBnKjynFZ+TuOCPToMrZRDvKmFdyY1QzpvK1fCXmf5WCJrvMp1bWM+YjJjDKn6fKjbgxK1ZoUNamR5LOl8FwgPDjnji+tTuVQJXaG5fsmGqnN1MLodSObTNnvDHzJtfgMYBYtHFFcWoUKZQmFhKnFrntI2NvtrJFriEVWSjyoyJdiQXVudWrgus6q1Ufs4XqPRIMguadVFZgXqP8lFc8O9RzO4SMKnGFanDKvSljZEDjcOTeATbVS0D1IStWsDSVbQgjTDZ0AuiwOsADZdR9S6S3GINvkYMzeEFfhwAPPzaePFkoqpgeAJPVVDczUjYnB8RzTjhKs0CLXzaoALZbgNAADzAi81i2s3Lb6QtAzI6rggAAq+A+AoANwdAr2IyvA4STYhyIItQzQhRAA1MaWVgPgPEKNYoLaAN7d1V7T7cYrrA3gHUtXqJMMqqbbMpbdbXbMQI5PzGIE7SFi7eUtQO7fMsHeHcnJHf7TIIHdreECHVZAXU1kUMXQMaXTHRMNTUvNHungjcWuSFOq3DItbdiAdSuNZrZlrbvCzbHXhrjb5SedDcbbbBIj3UQIzmyg9dtWILtcVeSqTjXTEispbiONdcPevBLcnLMBfuLTPSZNSEPURILTaHaGfeDgxisAOBInvf9UuVFgzTQj5vimbZuGrvqnQGvOUNxjPNatqJ+r1g0I2KnIyGdVFRdW3HRuFhLOVpjTPOjSTTPKVmykTc6mg1rF1o-fRsOXPeiH3bdbJeYFHgjV7u3VWJ0B3UiBmt3WQwg9-eFZxKg9DQrewxPbeVPYLU1m-Cw73YvcnMvQ3mvSDaQpvQRM0GrnvdtNPVvaUPBNtOLUjefStpfUIKBQfbHbfVkPfUg91oXYKMei-WpTvoDVI4zbw7ENqn-XQwskAyICA1rBaigWA0+JGJqrGNA1FbAwVudbLn6EFKg0TdDfg3yHZVeLg-GtE4Q8Q+RNzS4KQ6I25dnHnmJUXsXKXmXBgJQ7eV8tmg8jCk8jivxSAvqUhbqlZCUz8jNYzOAt8tQGUzcuUm1qEtws8lU5oXCtLIVC06Uzpc5oyJvumNWXMN1bEHMKuNg4UNWRyDMzEByPM6ytWRhCs1LcCbGAszGl+b0ts70us5M1+fPmwN1Rc86PszENWS9Bkb4N1Q8-fK9oqLc21WCOCI4ys443sxs1+TcNvl6iwIYLZUC6oCC3nCsB89WZ7ds7EPoD1NwL4ELVxhst7W87C1+Z5AizEEiyi2i6ABsj5FiwC+1XCNwA0AS6AKi5xsS6AJCLSzENi+1cAHiwYMi7S0SxsmAGS2c+1QAKQcs0t0sAjougCCvMugCstfPiQIuis8t72ovktfMACEkoCrXLYrErGrQIKrArXzOtIr2rSretMQBr0w1ZOtAIeLir9LGyNrFrsrEIHGJrhLDroAXGzrqrrrtrVLhQ9r4rDLHGQI3Lvr4IarHLDLhQwbMQarsQSl6YBUP6PAwzPy5TWF0NgIK4xJLJAw3ADTbTozeWKbkOabNyIzmbEV+ALAbUJgIsObKwebyI9Lmz6bxb3V-TOKF4diRbZTeeaYkUqb-bsqShsOnzW4X5e6wg3VM7HzbKizX5kAdA3odyTzVLK7a7psC7i7dzgLVAkLsAkAKzELDAx7u7e71ZZ7yR2zN7l7i71ZAAcuQE+xyy+0+1owRGW1SKO36VNkhszU29MC2-S9tLFYWx22U4NrtEM5Wxm7Hs6sBw0KB8G-0xeBW609B+O0O+ga7Z8lByWx9ACunWNa1R8gwNUHpjKKQHUpI21OQNWDZuApoGI6uH+x0xwDQlggyk1iMmR0cEUEvrLNOFiLY+Sq1VjkSp-S+qRmUmlnpYR9W-HvLWY3pH+7HtPbE8yqliIIp-B8W8p+VLW-W6rNwFvYUBp0ocTQ+4UG-TYzJ8LFnH9TvmIF8OzbmiSuvaDUCKJ4QOJy+kO7nqJQXuJXk6XBgIUyQXKhQKYBHORuVDcKQAkgYcNa3k7SwB3qtf4RwGZiuCfV2REYQaly8iHQwGHXXdHdl+AiRJ4s0NV+tg+BhSMTcNFjSloOln7aMuR8oMoE7RkHXEYKcr10S3nN7cMr13veCIUaUNN1MvMlXd7ZkcoLZ86NN7+eAgPCjSapqd0dYl14CqModw6Xt88NBKk9SF1wXeCBCAXS1+YsYO16Jnm-x7t6bId1uiHdYOCBhW97iPogoMMgLGlxuVkCMp4rN-6rpBfaehNuD6AKflgKhCeul+NDeOD+ED3vvej8D+EHq-MsUPCPlwYNtPD1fuCIT8ZKUDF5kTOGTB8Ilw-AkuD32gYPgq7TBVgvD4jxZjENPFrLqhFdKQWp7Bj7YGRLN7d97X90wGQID6T0CkD3vqV5Zrz4URVzQwAUfIVZaSL0ryr5SurwXTLwD-mzQYQd6mLxXUj0UPCLJGREGvEKbLlKCN1SMpB5IFFgD3HSUiAlhCz4pn9xCFszphNgr3voY-ryfCb3L+L9InXfr8T+CAAORh0jLXep9I-yNdfR3g+-dO+4hkxRz6BF90tXUXMCRNSZebjbSl+rerjVlCCztWTBCh0OQ6QoVuDFih0KUcDwhx3QSlBB+1+RwquSx18e97ey+kCCQqbD8X4T-j+j-R8F-xdRzrXmAMdMfKAsczibx1oeD5qrQg+oVYLXQQ+Tvgin+CHqwcq6-cLn-aexB5tb-rA7-UCaDzVMyH9uAffH8+8w8H8Avc-sT2rKE86ymvMksAL6gACVINNQgNTVL7Lw1kPUA-sEjcDH83MbPKChzzQr-9t00DdFAoyBArhSSaQbXnf01I4Vz+D9CHL+3kDoDjA1aM5PFA0Al9R+yA5gKgO-6MC-+NAujOhiIEI0puWzYnlhG2g8D80JMM5CfE0KSCu+zAoFHl197NJiB6kI5mIIYFSDFBoyFTKoOEHk9X+zHD-nvwYjQ9bYX1IQZbif77sdwRg9-p-337yCzo4fF1ByTq47NBeKnawWmx-5MCk0yOciJ+mXSAEaB26IKGAO6pkDQhMA8HD1kND3o+oAUYTpxFNgkBMB5fQ-GphAGKZuYhADwY41WgANDUyyYXh5DSHEAmmPVacuf0yp+9shMA4ntjHyEqZCh10YoUsjSb39zAzVdrD-hIIWhiw5USgPgAsTawBgFQWmDALqEVDMB5PQYdVAwoTCoCWkWKHSVqFXVtovQkWP-2ppMlqg3EAeEtRq7IR6GgyOGmpgMJI1zwGFFgAcMkYGFQc9wgeCtQvx3C1SLw24c8NXrwZ3hhwvfDMMIJ-CG8YVYETtSo7nUrh+cLBnULbCeAoRVNfKvdVpoKcoRE1AmnUKwj7CPhg8NEctXVhY1qa+hB+BkIu4jVESO4doQT36H7JNIzAYWBAjZhUjvq0oVxtWjAQMAWiwgDgKQHWiKFCA9SaYZAyNjuZUgYCfAcKNeCpswRYgN7N8Mo6MAQmfUAkVgxMZ8MPi3wvejOyEasjPKKCDtFyJ5FFDoRBDc7HLAFFPCcR0uGUUkyCG+Mj02AnEtLTCGSjhyWEXIBaLyEYcPRFMZoWZhMbxDYwiQhASuDYgXcfRx-amunE1hepdO1aCoK80dJsgEx5AXwCTEMCkg6hFfQwJ6WJ4pi0x1aDMU8Dn5qYlGnpGwQYFG5OwM4sYkgESnzGOlqxMYoiOWIs57sGxhY0kH1WFhkAOAjHQwpGFTFJjuAHYnWJmMyGg8jAuYxTKOKLEeDxBF+HMfX0rH0tqg+iPsWUw7H6BZxxIJ4BWOdDsZg20YhQAhCnH+iUhjZJsSeJkD3wG4bAkjjRVoo3iqAhKR2M7HrjOwGALbE5NSF8J8xnx3RFuG+IzgfiM4IPKeleIv7+oVMa43sf0E3GDiCxbHFYEo0gnadDxXGACa+OPGgTmx3hZ2OePTTIi6alHHuJSFBAvooR8iQshiKezSjNRQIGUQqJhTwMERhIi7jKK1HgRxwxPKToMColUAVRpo33rxH0SMAgW-EJib8O+EnxqJQkxiBePMCiSyA4k0KJrV4gjjBJJousFdRgbk8ZASYWoIUST4GS9gRk1oe0E6B6UtJ1E8IMTxgYB5fexIzCFQDsmKY+JpE-9hRNIQaSuIWkgmjBKyHS1eI4QU-PUOlq2SxBL4lSV+LUl6MQp+4lYDeFsmJT7K0UpILFL4ia0JBrk1KXim2gpS2xycAmh4PBCmS2iP3RSX-gbwcARhCuK8UiwuHS0uWGEpTJkA34uA1AJgLwF6kYALCuo-U5wNwCQG+SkBtE8kI2AkmQtFUo6RkMpIylTT2B5MHEoWUGn0BzOe7NCGNPYnqippIZGkLNP0mGTZ2xPaCb7xXq1TjsDUvaTNPnjU1eAT1A4b1Gslxl1R-eTboPByngUqp4gSQMBM1g4g2Q3QccRNNTYTs0ogMssL4DyrqjYcYEXIqxkSyZB5uhgIkTKFQFEh94L09aI2G6CMgvp4OeAuKO6DhBZuhPebt0Gli1TQAFtAABLJEGAAAQXADgBkiAAJQtqQAAA8k+2QBAhwap1SQGoBWFDCu0L0sSfJNaoPTtYT0nqOLJUkX80oCoioD1GkFd9tIeWeWUkA8FKzOgC4Nae8Awq6zMgIsjWWLNap0yGZzM1mRzO5m8yjZf02WWrNWGaz5pdAVqkrJwmyyGAmM90m7JPhX91ZqIJYleJpEFUDhps5zFrL1TaTWqx4mFLeLzbRpqJTtTjDXS6lpJepkc7hCnMsiqZAJSQSWTYJkBCzIWBss6G7MllZxqZvfMdg4FqJAgAADLxn2Q1BHIBSDIOMNwGe5qAgwC6J3M7T1ztAQIWuYPJ7HAlvaeIbXIbFHm5Ah5pADCnVjbn6jGuxwxrgEAHnX9yovcpqZuAp7dUsIo8redlF7mR8SuHUoaCZhXnihUgSsWuTjNTZHzu5sUXuWDVTodyNsx8xgL3OSid0TU1Y7WI5E6AJINhK4ImSSNqF2JlE9VZeY8KpFPyc6aFSjqmDsTSJg0jQnbJ4IAUMAgFbABJF6OXF2dAggC4BXoxoHLZTISQq7OqOwW4KEk986mhUDrGhBHUnsKkWxJhFQR9ktC0hTpJgyij9R3UVDMBAsaWSjGOXLgC0GEVoRLoClDSnYkDFoRnscoq0RCPgaSLERBEIKCwC4kIzagbY0oAZKjBtjmgPCvBZaP+HWjbRrEJHooudDwFg0bktCKUDMX4KL8D4GfOyGIU4LSFV0WAauGaBGLjAAY6hRTW8V0LIxP0jyUKG0SPUuEfwNeeKCRqSyRc9EnESossVqKj4HCghkxAHCcT8e87PDLujoAB1Mpkk+UdJJxEnwip0wU8JLME4HpghAi8UaeBvRso8AkILpSuGewMSNRqixUaxIYaxyTG2izUYUu4kagoF0oMpYtKuG1LCgUkhnDaJQjQRUIAU5LDTTpqJLTh9SkZU0vtEiiDATCtLKkA+h7KclHiiIKAE6XdK70hsMqcdMqk4YIGYC1HCiL054i2ADSq7ERNlgOBZlcUwgHuF-DjT1Rek9SOVPMmKZHlZkk6b70CRWTgVhbUkPZKiqBTBFwKpxbPQ+XVoYllldpAkuRU8BQVWNDFeKMICZjeJuKzyQSviWPBKVhbNkBiJuVgAulkIDFVhCxUI8z8VyNTJSov4ArS65SzWjeCxV5TYgYq0kBKpiBCrcQi0iQa2M2mKgJB0qhZX6BKkqZYVFUokakFrn1wByIPGpmNQNUtlCyHVTuVULeDQIHp3Ce+XUM0L3ywqo8ukvaonEnlaChBJ1Rf0b5sAgFvgMtHIqJ6+9NCtETuYRKKaWo6kXqD+bPFrnDSOBlc0ANtM4Wgzy20CSfLGsZCBAr5BhW+Z7AYVpqqQcq-acikAyrgS1i0kaelL1TqqIcNqvXhmsyz3yZVhQFNbkou4lrbpU3KFfCtHhnSL6IaNfhTBdUuVlYfYxgC2qawXTJAV098V2qRSjoGC1My2QwDZnWQAAMskT5ltS2ALcgqqXNjUVya1KSq6tLOVnPT-ZxPJWU7OrS1zj1Bc92SpmNkLh71v8u6rLBfVHr2MV1Vdeuq3XgAHZM4W9d+v9l1D458nPTtGk9kNTvZvs6OYQsVAWqOAIc52PCBsEwb3x+8qyLXNQ0Zx++1NCjm+qTVgrhy8cgCUnKvC1z6WNdCjuYn1Xxr85Es2OcXMPXEaT1sci+VwmagbZS+S0qOCtOY2RNIJ4Gq8QnKoCUbpgekrjHYgg1xjv4iYwYE1m9DMCg5ms6tY+qLlNZWpRGzuWdA01CasaC7YTQROppDq+NpfeSf9MEipLy2rQVtkCAhmzDF+3zAdMOu8Yfl7NDgXReqH0WKZuNnTYdfxp6AmawJKmLzZ7G2H6bl+Vm48RfIaiyzxQ2MrMZ3C65m9sZmPLvCAnFEEyuNIwwINnJPnfz0ZwyNTfQHWjLpEtCSg2dIqgaps8ZQIODeWCxk1aTGjYPrjMilwGzrNyHPSJhpAndBO+Ls+gHhs1gebLO-AHEENtFl0BRtCgWyn2zUwGzuArUjrTmpnDda4tcQ15Qxg-WcN8t2sUeVR1lnZBw1tm39jWsZDWqzwevQteY0dFVaGVNa2rRSHq1+BGQTW3EFjP9ltbU2a2qXKPOPG9aCI-WgGYNsmqdy5t422IEVCm0Q6UNx4hbbGEPmdyVtRLf7V-EB2QTtthyqCOcD+WcRlho84IIVtF5lb3ZKW2NaVuG0U7ieROzudTpm0eDlhBsxnWbPdlLDhAqmmnWztRDrQPgwQcYeTuYknbWtRagQOvG50zaJ2q662ezM5k8zAN5IWXSzPl12yd1-vcnWjvpaS7SdgQj8uCAxCVS9thFLnVTrdXkgBdBWo7cVpVmnbcu32VNrrvvWMg-1m67dUxDd0Aa5pamRja1Od16bCZDyo3YwpSAKwlYKMU6LFpE0TibGke3SvHsDinSksMPceRuIHGKbkJmONzXxrDSJ7txYe1GCfFC36wk4RQVqWDA9hexkYhe06AXtehF6y9xUtGltumiw7DdpAUOuZtH7PMw9HsXDiakJh1wWU2k6zXHLE0Ua2B0aaTTbyfqo8-oOe0fmJmIBEwOuQWmQa2sVAzq6p1mxJgP0lrb651IEgKWsvm7+om9sQEvYJDb2Tav8+ADvvMm73kxuqQ+rQAPuREmB+As8UBeqMrSakWYdcR-mp0Iiud3O7CLztIzuk-T7Bu-GPHrOj0ETJw4TCfYnKn0arAm4rYyL1E-1sw6RN8RkSRiZTchMg8kmVTbnVhosFlhQysBtOVUxAFkJQxmFQHobAlvI+dT2kj1P2FBwQMBkwTKn75NpqQNU2dfVPfEbKsk5+4yFftxjt7eDjgswVZCf1Rxuqch0wecN4yTT1kz0HiK80ZAABOE4Psheapjd9j4jhh5GMNroxNdyDvB8G4AU7hRIQ2TB8Be0vLDlA4FwFfkbn2MYglh-QMn2T5WQ0AwR6HXaMoiujfDOh1MelpcO0CGglh6zZR30S4STxYBE+C4B8gpVQxoSyI4YEeaJGbDf9bgDcFQGWGL5nQf1YGtFQGZBdCBsCXUKv036vmFR1MVUcqGKHF9z+05H6taPyUbhka5wUFuqBFQTwZANeFwh3bnaBArQRkEgO3goC0BR-J4rPGGP8BruRwAjeSAHBAlxj67UAPjxrJmThY8IPDH4fBDeQfIzg5NaPyNh0AioMQC4-5GAPBQ8jrzRTp70L5L7WgxwUxrjpYgDhutIwsYV6i52iZvj7DenRthJ2s6WdwuukuCZMbbGxjj1PYwca4Qi1UC49WIGcYuNsGDZggUE6IFxPeQnjPWNiDtumA4niT1x8mENAOmNtiTJJuIy8fyM4TZNYmyTXEwwMcY2xMvPjeqrwMMi64rQUgwYBoN2wiWbcQhUoYpgimhDA8S6aIZAn+oOSyQgnXNGYrvBHIHeVY69N8ypsZjQIOY6si4GLGMByxk9HcbWMh0NjXWaBsEwwP70ZTJfOssIZ304SVTXWIKHyaX2CmaAwp9WA6fJJimKD9LKU9LHb1N8u9nR5Q9wHdjVAh2gxvjcn36n6A6DAAHSwD6rIN1aIEzIGCCA9z9tLQli8jQiBH5kOxx6pULTBJml9KZoOWmeVWZnsz8mvMwWesnS1eAJ4E+D0CwhdnQAAALww6gBMzRQHM0wFGH5mZ+5B4s4ObMzGJyz4ISs8YBqioQZompwwNqc3ApnWzk59s9q1D7tVyAodFgKHWUCh1Z2kwZPmmDwC1nyY-h8c22enMHnL+x5qyKeaCoXn++i5-yEAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:teal">form</span>
	<span style="color:blue">expression</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:teal">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:teal">
      figure <REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure <REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:teal">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      from section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHboRlxCECbjuS0Sm402lwYZx+n8cEUgxAUOhKDRnGMc5v9zumvGC2pShAnIBQGA0EgRGeyNyF8WojDZCo2E1knDFJcWEx+8bDDxKYZi4jWteEBgjaeFdmiw7aLesfDVyeQEAD45YVpWVeINW9YNwYPgDhCdY94y9LQ0O7Yd0lcaB0Bqi0UgOHIStiHV-W7Z17gE8N42ocxtPUjG-9LZXUpi-tx2raaHgNyGGno892NvYBP307ILOc7zsP9HrpOnk7uPYm7v2I-6JWiMt-kIrwIHDFAORFAgGB4CQVA0Dxffatl4hcOJoxKAUShuGDyshO+1JjDYGRGtPmg6DEc-L6b625cv5TmlGorYgn9KDfyKApfAGIsQO18AoFg+AFy4WAYYWB8CFz4GfnQIBICPYtDoLff+Fclr0A+EIZGJh9ZlQ+h8L+ylSgnx+MaMh6tlCUKynQEB198FgNWEQ6spBqDihYWwrqNDQF0JaKeBg-DBF-GEeQKhHCxFcIIc6ABqQLTUDEHQBQwcwRiJ4bEehUjNHaN0cLTheDVGKnUcQkQ1BUQ-GukdQwzgcESIYQuN43FHELmccQNwbjlFWMMTEWx+s4HCHIO450pQEq5yBluRWLAokMHXBQXRGczoGInpPGIESUnkAYPA4QFMcmxyvDfUJoBbHGDJo4ZBF9xGxMkT8OptYGlGDaB05QudSFaHMSLHBKjqm2PYB4LwMTFTGJ+OM5QkzglVMIQ1ESUyVgzIXKsxZ3DlkaMIIQEErMglNOqaUFWbAKaeI6GzIGjU+ouOOV-EZuTYzbhnBg6RDEzoKLENkk5IzRktFIOZSxNk7IOWctSXwwtyA9S8j5K5xMaoRVTucimyJuA-IGq+AcDUmbUAUA46gg9EnIkmINGIQU0VpIEYSmgJKGb6AxfzX5QFyLPn+Li1IuRmr4HKAwUlDhyVQRiO+AJGRiqIpuQzYp+BSlMqFS8uOvUtBqxvgeeggz9AVIIrc9JQCskKroDHPJiosVKtNbc9V8gdF6KNZMNlHNTapBEp8s8wCjoSuqUYjaKo3W1jsaqsEnq2DNNjM0McGowwURfIaMywQjVWVsvZJywMGbsl8CQeFgh9kXJqjmPaMtOJvIYB8pBot+ojIpUFByysBYVqWNM0AVc5Iu1blK4BIMZw-POs8nV+TQSlufuW0Yi0sW9pCbjItHlPF2J8c4Jx9yAmuOoU0qtZcJYNXlrWbqr9gHeLuUzGl2scmTuMhs65+76D22cXYv5TyQnGVMnu-QB7b2dH0f8kJ0tU6zvacHXpIDDDrvJFyxqzVKC4n-Z0sREwKWxCCpG0M5IY2cuFPoBq+tFr9Kana2DwrY5BQ7Uyg82HmADLw00sInAqkBQ5fB0VJCBBdodk0-1EpQCx2IyxnDWr8M0e4UxQU6GVmY3YyRhaM4xHsYI7GIKPG2NIKEzmejIrphEakdBwD-ahpkeJoM+9IsPa0ZXGxQtjYHCmI1IyaezbfonGneYEtHzLOBO0drLBujsVU3LmbLInmAmGNKC2lYbaDz6Fc649zwhuDOefpFrRGp9A3gCxMBEZFOMovTYYbkjA+XkNYQo9hhn1pga040r+61XhMd-iLRk5XWP6b0SV5TlLfOpEepBh23SAMVaM7HYLv1Y5rH2cHcOuXS38HkYos6CmmsWPwyavJOWhCTYKyI5wZ14ndfqdp01V4kaNYo8LQzaXHWgFQwx++d7mDC2m+wtZfoFKglfUx5hFRCuKJgXAhBODvWxFsTIoRH2NurtoQRZ7O4gdyJB0V2KKCfv-hOf93hVcAqFt-VIuZCy10hMGo2EpvhGTY9lfKgxTFGzdj1PVib+X7uojOoT87FmsFuY1GvIEcWGAJei7ebkepzsaZrGfQnFrpgqrG41fBGrbUWKp8B6UVnagK6qVOzHPwtm46qSbQM23XVIO1WhYjrr-GBLB6AsXlTuFq-TbOqzfGtfcPxzVpBjJiP270eJ09JnChWe+2g8THu7sI7QcMqsDERlMSCkpjHtupHQ44PTx5V88dQT9yHhB4mE+51h19jPSOnkrmI9npP2UDfe+4UqkzOoYiOZcLOphd3c8Pe2bfQa6fUGZ4N439bcPyr5+GUXl9PfS+MHL1+qpVfBOFpXgzNeG8lBQDgIgZA6AD7EiPpxBqj9n5SuqB-AxOvkiV14HAsgOCYgAB9L-GW3-LffF-QDX9v6keBCD+hKJOU-m-fo-M4J-emluuQGIBIPbG8pYpQH0PcGIBdO1mkq3IfgAGSIG9DtyH7iTshQHMBiAAF8yAK6IX4brOrQGgEMDgHBLggBbIp15QqI5DppDYKH5EFbTtxETI64GywNRB6fpfxUTXbYGkHkG47gjcHUGops6DL+6-ZMHLDUwjA3jbRsGVZLw0HcFe5f6vhyGDA3hKGgIqE0ENQj7N6iIaGyFwECEkxCGXxWRGEUJ970BiHpq2GfbsJSEF6gJ8HlyKFJhtzyE+EGIOq8yyzOGg5j4MSEFmESzeF2i6GBF7SpwNQl7GHJ53zmHAGCEvYUFJF2GKKOF8zZEuHw6d7uGpFRGsE+HRElFxHwz5EKKyKJ7JFl7hEyEIZeHlExH+HI5Tp4AABikAAAGgALIACizQgQBy5AvSoA4ItywY1QRKDhoAjkDiqg0xBSUSskeA5AMgGcmBKQFcNInKa86gIgHAwgjQ0gvQlAlA-UjQIAYgKxtIaAPKwA7giQvSnkkxAwTUvgwAbUhgnkhg+s78wAKQhxhgwAAAbDoNgL0QMSMWMU1PgDnJgf8NjuvPIEoOsUUoTgQA0qiZceklpEsRQP1KiaALidUIIBSVyF4EsX0DUDnKQM2sQLULUGgAYakNiREa0ZuqkBYWAZkcIbMeqAsXQHkbLNifARkpIGQCVp4RLDcNiPnvQQFtwJUX9inOmlKYTjyW1oqbcLnNjr4doT4bEdUZvvVC6pjHqb6iNPyekZYUKdYdMa6rxnohKZxCbkumbp-rwZoW0X4XaAERwVvtytemKYukzMuikQqcQQKWQc6SnjpuCN4pGX4j6SuuKVqXzG+vcseuHKYbyQmCWoEDIJYpbEEZxHmUepSLaUFKWZUJYqSFWR5DWaQMrKGvWeXI2eWcEjoDbngQ-D1jBkWfqfGY6YKTuBQeVp6R5NtuVkBqUSWS9uCLOdwPhq2eYA1u6SdoQbEJEQmBqSGfEemnNsdjwUZnGSwSMJuaeXzIdruUMvhteVjJ0ZfADJyeBk9IuS+QGXyWkL9EuVucfmQesFJuRrhgtlRsufaYBeNLoRMKGVacUrSbaXaaBQmVYSnuCNjnOdcIaahRMt2RLOAbhbSeCBuSciBTSRMqTmUmOeOTeaacGewbHkOcrLmtQEcubrBZhZOYmdOcIectxewvhWmvjIeg8rxa+agUGVUTReOi0UxVzO0VkOaTmbLLWuOkQN5sWXBVXPoLpZpZxCxj2sZbJdtMZTRYdjpWtLJTeNZTPrIHPhiZvEvjvKvvvJYJafdPyaQDuj1LARLHChgdusQMhQRXcIkvqpknKdwKLqnj5qRauTyoQHymrEDJRTprFbKQtAlXKj0NXl+WlRlfbKSsFROSAU6TuDIDYYoOlfyllSZXNDKrlYajIJVYGL2UytwJWfebLLcrqZ1UfsCIOmWb1aAC2QNaZTKtapqnaiNcwWiONU2XVboIObLHrmJt3vQEGl1StTuOCPrgxJRSoHtXoi1X5QwCde6voEggdUQlhS9kglZLdbWOJRhexoGnag9aNRqQ9ZtZxABl8K4u-FLpWDLlqtrstZLMVanCxnINgjDclUee3PDbbo4KDUaeijKeuoUKjYGFhEjbopHntI2JAbnJ1riPNbLsVGjr5aJIRSTcgsUQruWo9VhPnuzV8ldcDDKW4bNjKc8ATU6sxUysLTRSzexkLUAiLQeWLW+XaCzUDTOj1KqjetLjanxmzfRHqAlesFTU7rDRwO-JAUYGzeEBgabWIObaeI2i0lhNtizRbYjjzQLgbcYBDd6s0DbebdzeEAADzAjBy22qD3WdAO1PZAogrggAAqkCoANwdAROPyp+zWTYXFtQzQ4IoAAA1JxqahHPvkKGUpbfndMVZBXTpkUMXe-KXRHQLijqZMCgmvHYnTIMQI5CyunSdpnQctQNndMdXUXffvXTIGXW7eEAXWdbnQXTXYUHXQ8RPY3UhexZKZAtJG4V7sUSBkiJjZWGQZAtiCjSsKnCtkorreHgLgxv6HAYZQHQvfpFYkfUQIbvtiDfgGDWIBDVDXaqrk-c0PniOHJeHJbU-TELMO3PbSjqFtSLlslv4ZbTaHaDA+doUCxMJgYDfCA5Td+V1rTYMlVuLq3ZuPnkmnQPAuUM2kAvmtqKprHI2CzYyIjTKd1NPnJuXBfRLUAoLTw7oktvttLSOiregwWhg4TfXvgq-SfdPllnzB3nQeXrvdfXvbEL+tI+iLI23mpnmNlgg9zXrXpX6Ndg-eAxDi-Vo+-cqljV-fvr-drf-dbjpkA8USA27OY3pKUPBNtPbXrbA7wtw0RMg5LGg61hdoXf2Ohjg2FVAdTQ4wtcLMQw0PGmQyo2ClQyIDQ7otmqIWI+ypGLGrGEwzKSw6RjOC7T7iY1wwg9Ldzfw3yJbquMI18g04+KxChpI5Y8few7fNLLPvjPPpiVvMvrvGvhgIzUQvinSsSgkoymSrJUAdVVOWCMyuCNM0SjnJ9Rs-SrnASgclBeRm4gs-+WjfJfalOoVLSps3M4M4yOAemGRXMGdbEHMKuII4UGRRyC8zEByO8y8mRRhD8y3AeP8486uW8sC28mC9MGRX5mdX5s6B87EGRS9BMb4GdWi-nEiwC6uakz86k7GMiwOkdTcJAcrCwIYJRWS6oBS2vCsMS2NUdXncC1PD1NwL4FbX7HCgXUTqAIy2RZ5KyzEPoOy6AJy77KAHCj5HywK6uXCNwA0KKxy1y1K6AJCOKzEHK0dcAMKwYGKxKz3Gq2ALK7i0dQAKR6vKviuqtwrmuav8tmtgjgjiSsvWuGvcsgOctOsQgACEkobrBrtroA-rQI3r4LR1gdVrQbkrcKwdMQ4bsLq5gdAIwr7rwbKbCb2rzrPs0bKrsboAfsWbPr4IPsqbirhQ6bBbZbxbEbzrvrerarhQRrMQvrsQQV6YBUNWOzszAqMq3NgIK4SpJp3APbDKgzXb7wAgY7tzBYpaLAbUJgdWAIQ7GgRqkrgL1zuzZ1GpZKF4scM7fbE7DmVzBKNzN2ZCHOTLYIZFSGwgZ1d7jL+2nzq5kAdA3oDiGLirb7H7kGT7z7JLzrNLDAsAkAPzwHoH-7AHZFwHwxwLsHUHz7ZFAAcuQMh3q6h8hwE3pJO1SIeyPgOyuysMO8KEa9tJ1aO1u72z3rtKezM4PCPuWoO8R2u6R37LuxeDwFRwx29idmmKobmriIe4KnQJigLIJR4bDdStUNzjKJnL4PY21NnOsMoAIpoNY6uIe-sxwIMg9mSk077uJ28giEUOvZxNONAoQ3ao9RLmqlrYk2CP2kHCIPoMJ-21fRA2uNx7nAR8g056Ni5255JfgAu0uwrp51x2e7sxe3dhzQZ783ExBjTfZ3TZczVng2IF8CwE4il4MvVvGIQAk3TclDgAMwWEM+5dvCvnvJgJM28PLJMTOGTB8OVDcKQJMtno9T9GfpuADXUSREFqA4gx0ag-138A6hXeCAwHPf7CXSvX1wIgN87ENzeJ13zedQoDcN1vqloIWQIu-MYypYIMoMoKfhkGfEYJiid6q2vAXfoJMcoCA+CLnaUM9zUpXcPQXQ94h36M91Rft6yjRdGdcQxQD2J78uD8eiD88NBF00vZNxCBXTylt8YDt9rMOz8lD5BuD3BjPdYOCED-EF1hnAoPdwLF1yfuND8oN5Qb9LpCZEQuAdT6AMgVgKhBhpT+pT4dT+ENfit9z+T+EKG9McUPCLXAYNtMzxgeCKL+eudcLBQKYKTLWC19lG15MtT0+gYFwVxTxRwsz6zxljEPgZ2nNZmW4jz7YGRK94jwXcD8T2QKT5L-WmTzAeSvPUb7nTNyqR8gFkanO6blma7+75E79591x5IA76QE72pa798oL+72z0UPCLJGRC7ETxTJJKCGdT8pR5H7iCT5MMt3iq3Jr+shHyDxCEC7Fi9s7zASg1kDz3nyD0wI71b7UmPR-GX-JNMQAOQzc-KTf99s9AOd8N3U+E-5-K-kz6BkykASuw1-66I9cmmz+1jz8-dXhkVCD3tWTBCz0OQ6RWQWjFiz0BUcDwhF-QSlD28UzbRz-euSwP+4K3+t-R+GLp-5+r-P8N9r-kwv8Z9p+G-SKi4CU7VgcsanGcEghpQeBl0q0CnpxQHp694B4vbfrrzErcArU5vD6NdE34xBh2YAlTpAO+pMxYBbgHHvAKL5wMTeKA8vmRVF4bliiqpZGn1CoEM9roIA0AA-xgQwoeoMA3pG4HgGDQwMIlZAbgOIZMN3OiORkCuB96YJsEWA6Mr6UoHKYrmZA4wPbCxTxQ123AlBLwP4HLoKB4g5TPJikFoInuQLcXq7HbikCBBGgutKynVKx9bBy6EmFigdTLdbkwDaXpCysHyA7Bbg+tJ4LMEIInuhAiAdQE0DsZ6e1sYmiELYDxdr2+gcIap0iFQCGIBgwQXXwrQOo2BKkEFpuC8EqMXBbgQIYDxQz0YwMfvcQfBgbKrkGBtBAPL7xYGEB2ml2NTERj6jo55GssSDCQCEGL9UgWEXAeL25itDluqTVaBQxTSQpA+HkPocQE+r1dmsAwrpiX3CwjDy+2McYXA0mHXRphEKevNgJcDLCTs1BVQqUO0jlRKA+AYpLnAGAVBaYrA0agsKEHS8T+1URSsIE0GXDYoupXAf9XbinChkxgszvOUIosBqg3Ed+BHUW7IRr654UalhGzx61zwNFSEfYnBrZ59AGI6ETAUBEjBcR++dbkSKxHhFSR+I2GjeApEkioR9jGTi7RREYk5ao1NsJ4CZEq0aKtnQYEyNerMiBGSI1uNtgpGwj6iXABEY035GMQwR11fhKsMVpPUBK4BfYSL3OEJEp2ZCQRGzBVEs1uADgTJvbH4QMATiwgDgKQHWipxcghAS5M8N0ZpwRMqQOUTULtHVYp2FJOke-GJweif6DIthjqMlqEZy4FIkBnex0ylB9RZVT5B2RNFmiphUo7Ds0CtEUwKR4mGkfkwiaFM0M2vIYe2lYHJM76EsLCEmNX7iDuAxY7YXESzAMNOGEsDgaZk6YKjixuAzgbPEVgCp9YF8Vjg4A3KPUZAHY1VKxgDjnxI4JHbsdSBUII1+xwcQcXPGHFzwEBD9eWPOPF4hYGefcTOP0EHj1wNOKwN2EuMVg-dbMfYqgAONbGk8zxUcM8RaRoLciGAQoO9KCF+pjclwXEKgJgOFrO43RwYoECmN9HYIORAYhUd+LAhzENQ4vbkaKPFBFw3x8Y5brxAziMAyW-EFMQbhpHQSU8nImUYzBPFkBEJoUcOrxHQnviWRsNZhtLxkBJhagudcXjMUon3sJh7QToK5xglRIPC4vZhrXmoGOiFEzEtieX1vH3jKQj4ixIRNfEYThaxfHMeFl4jhBkCUzVuKxMG7wTcJDAJCeHRvAyTEhioG8IpK0noQcJSQVSfhNX6aSIuBEbaLpLMloRRGy3WiXsCoktj98HAG4YwDPGitOarcMVrZiriq1zAagEwF4GViMAPhXUEKc4G4DcDRJ3AlWp+KpBqSbq4qUNIyGUmGS1Jf-efvARTxhT6A3AKyWhGimAT9KTNPiLSxDTpR1IFE+yfRPL6rj8h39ZydlDcnxSypvk1UF7ShG9ReJCApeiZKoD6FU4aUGcYrBxBshugpcckI2CvZpQRpZYXwNNQVEc4QJ6oWoM-SrjvdDAnAjqXwKJAYIupsUgQN0EZDbQZJUeOAnKO6DhBXuovd7t0GljOTQAcdAABLDEGAAAQXADgBhiAAJTjqQAAA8sh2QBAgGaNBTuiVOVi-DNsvEhCcRIFGw1eA7UmUD1Ghm4TBug0raW4MhkkIUZSQD-uIEkCdkFw2U94DRUGmdAiZWM94N7FhpPSXp70z6T9P+mAzSZBMjGT8K0gM4cZxqUaoNLclbSGAO08silONTH9KZgJfcQoDVFnkoREMjmVDOFmwy6wsNC8ceM7HYgdUrE0-L7Brr+T5kQU2WcWDcSazLILca4rhMVl4CwZagA2VcOxkKz4xU6e6efx84ZVdiQIAAAwOZU4NQRyDdQyD3D0BsUagIMAuj+ziEDgN2XEDDm5AI52gAuniFOkSxnZ4c4WGQBorbYfZUYsUZBPhHJzRBrhYOR5PCwy8zqWEPOYHPKjBzf+a3VqUNACxZzxQqQaoNkH9nrR3wYc-OUHLNAslfZ5cpAQXJDlMRU4S43OI5E6CTIARdo67E6OeEDYk6hFTOdiJVF9zDkA8-7LYmGGsC55WEEeQwDHlsBJkYw-dpPF3n7zJkFYvITYhaBdCGxRU9kIEFHnjyW5HAWuRUFVihBS0HCFUQBJInkhh5D8veU-KVkrgwMTo2TL-miaMSsgTIh8LfRWCXQAqEVWOO0J0wE4vRmIn0YwEqYWzwm8CoMSGPAjjgIGpQCiVGAgbNBT5T8lCeSPaZZg2eKCmscQWGHhAwx981koAoPkljyUfPShZwquiXzw068SOkgroUSMFRvCieawM4ECTn46VQJH8BzkvjTwFs-ae6IwXoK8Rd4rBWwx-kCMmIA4YMcL0fa31EMdAUukZJKk4jvRqY70bgjymxBlF8Yo4KHwzGURQFPE08MKn2x4BIQvilcATm9EaL6R2i-8Z0BwUrggohipaRBDnkOBzFaUlEfYuoV3U0JbPaCKhBVrDZr5GtRReKMcWYSMGlQ9DG-LGypAPoji3RbAoiCgAfFfivBRLDslnECeFQzMSYvLgQTeRYSpxZ0x6GcQ4lE9CxfxEIB7hfwMU0iaU3Il0SYh4CaYpVKaUMSOgWQYZaO1JDsSZSkkqMa50tguKSg2SyXPeLkWuIFFyyngKMoklcTNlhAY2OBPVr7LZFX9I5Y8CuWjs2QMUmpWAF8WQgNlWEYZbJJQLrDMIqy8vv0txBpSNJlsPSUUA0mkhIVhQEFYMvDrHSIV9i3cTYJhUorpgNkuBo0oclYSiEzs8+PNkk5rCHSyzCToSovJvV-ZSw+gKwgRluJnZj1DUoyvW7JzdSjK0an-h0I+EWVg3bfmwDHm+B-KH1PGRqVoitz+p6aalEUgJXOyIp6-ITgZNE5cCFVAqD8VBEbCsIP8fshkECECD1zs8TcjhIyopw1Z4VZUmQauHhVpTIpSq2FQ0DeB0qg+Wq1bIyvtVFACpctROQmHNWJTypEkOZVRJXFDZdhe6IARTDZWFVX0WcRgG6p0z1TJAjUiWRFjMUDKWpjsyQA9OekMAvp1kAADLDEgZdmTIF7LPKSBrZzss6PbLGVdMEZezJGVzLRmsykZJMStY2uW5kzMgOqgJCVxqKyxO1myf2WdEeq0yc1+awtSzJnBszu1VapVY9QvHOdBgOqXmcmv5mCzG17qwoMdX9niyA48IeLiuqHElyqVHAXdXPEv6cDqUba6teqrh4Sz2xVAYdjqmdmSsa60q7tc-PFE3q5a8XK2aVKHVcyLZtc1xM1ETwP90piqs2UkEVlDTBIo1FWR2KfVn0JlfsWOAuoC72xtxOmb0OzMNnYzbVUG5VSrS0m2Yr1AGgjTDIdlKo6mEs2uR2nDUQaYNV41Ra0GRCMhpprwn-tMXo0P86GR3VjQ4AIWgTag4vEDQcwY0P8mNtG5bgJo4TAizoXGmjQHFrkNQtp4oPaYMMHEP5jpfU3npfj4Q8SdNehFsTcMCA2yg5jALafd0pmlYHRWiioD1HU3EzwFDqmrIdKBBrrywu05zeE01WJB9V3aSmbBuY6TxD1s47oKLLln0Az1isPjUUCKg4hIteGugDFsllNMsIxM7gLZlO7ApPcxM2DW0OrEFo+15nUzbnGTkycrNHKjVd2yVWMhHVZ4IPiatAx2a1NxyudfmMbDua04SMgWV5qFlzrfNNWHLQFu7XBaiOoWgmW5Ii2ukd1Z4uLYUAS0zbt1p6+beltbhyqDAqrEbZ7mTlXjzsDC4rZMweFjbgg5mi3jZs5Uup-Z1mqLdzPF4naCVzm5biduJm3bkt63V7ZTPe22zuZUED4MEHuFBbKtDanzRNJqwIJcNv2q9qOvpnfTfpAM8AExFh0fT4dTMotRlsplZbVWkO87SQkFzlxwQGIZpSVo8iPabt1W8kADrM0VbLNDa5ra6KpC47K1jIUdbmoLVI7yQbO8dRjo23+zsdkrZnUOoJ0NLidnA9qPgGbknRTACuJTfOKu34NWo9AcGF1Gl39Zy+cuxWMtwl3NzDsaus6PrrwGFAeNCqiTMdGV0rRDdKEADlKIK1ToEtIhEQLPRN3kwzqOu41KWr5iEwz45qW3cxuVn3rVZSG5pihqT4rA-8Lu+fvoG927cGN7gzdYqATUuTYNbTK-k2iT1JqhxmS9Je9yrjW6igmuwSNNAd2H9ndYa3jdwBj3SibxPUEwPwGASTyumxGaMizDPi4DcpeSDLllxy6Q1HGSTTgSkOIHd5yZUm5TZOCCgIbH1a7YyGRJ9jGReodetmJpFuw0Az4nnfnAkKlHur7qmArlmZMmGVgO9Nu2IGChmHYSBA-CbNHPTSWe9B9aQ6IR4OjoZ7XJyazJX6GaB56Z9AtK8cXv4AQg79UQpBGXuFxaBw1Z1AA+kPdT8dGwNwPgVi01iMgAAnCcFTjwGoMyaw7uvHTRoHYNd4jOOfEr35iqhQFD4C5tYhFKDALgDAu7PzGFA0D+gXvr3yshoAWDC2lTK0pdGxB6De42hdMBwMXiHE5+C8WwVwQuAfI-VUReIy4M8R84uBwQ2Q24CwHnoMhzWLXM6CCrhVwCRLIDtH3y7xlvDM8b-udbqHNYmh4A2eGJhgHMUAq0w0wEQX8dU4JQ1IOBuqBFQTwZAeBK4j-YsbGQug6FMwD4FOHmJC0LQ3QCKiTcjgF6lrQYCZKeHP2IbdSK4lNo6R8x9B8EN5B8hOGVV5MHreEfhRCsTOK4eg6-3A2tBjgril8CxAHD5abhdw5WN8O1hlH8x5OxPGdre1fa7t9FWfrweN7oZYjdjSDAkYkhJGPStB6Q4YHRYQgMj3kJkMlsEANHRA0x7yP5AqPRg2IRWhoGkaWM+QH+umCVGvG2MFHwm-B5NWhvvXB6rws+iBiUdN1WTl9mos+K0EVlZbD968VVrfCN2tILDoB0oxuScmJqX9Q4nyZWKO2gzymQUwwI5HPyuH+AbcmrK0F8Oqq9BARzIbOpCMYYwj-ACI1EcZ3MZwTZEobpHophPHqQ-x5PW5OBMi6EwNxmfvceFhajgEJJ1hkAheO77JWHxzgWDEl0cIUYp0XQweIV3xNeTBYEeCkBV1R0ZltU5uOuIHg55bY2sHVESbN3IwxTK0YU0Zn5OCR89lbVVlyd10BIVTr0VGKKaNOnQY4Rvayd-to24wHd+-KyEScxZinuT-HJwwxt74hT9Ax+0AAAB0sAT2jDUwFuEyBggpPPPeKxVbko0ITB6Yv0eMA1RXT4G9078M9PH7fT-p9+YGYFQhnmJ4WXgCeFwQ9AsIeZ0AAAC9OOPpgUIuszPBno+O+8M6WYm5xxoz4IWM4sLTCoQZo4JoQJCfPzumAztRms6TwNY18jq5AWeiwFnrKBZ697SYL3zTB4AEzpuvsxmYHPZnhzSQkQuOcnPTnL+zZ-yEAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      <kbd>Not</kbd> is handled by the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBP34aABKIMw5biaiwFRDB1wUBIf9QwR86b02BLo-Ra9hC+DMfjK8DDz5TWMO0S6yhp7SLkTEARPxXG1kcNPNoASPE6xriQj+pi4H-xwYqBR7APBeDUYqXxC4EnKCSTPGJ3jQAKJEsklYqSGD5KybI5x+DCCEBBNyTBfCUmCEqWwOxSCOhaGVpcWKYjuER14V47J5jYzbhnHvEBDFTHQLEFEvpsicmmVIOZLBNk7IOWctSXwH9yBxy8j5FpNcaqhw6R5VqTT2l0G4BMkWr4BxTS4dQBQwjqDk20ciSYY0YhBWObiW59yaBPMOY-FWFygLkWfP8a5l9FCEHwOUHm-zf4vMNjEd8EiMjFV2W0sODAbF2JeQMl6HCpYrSbgeegESwQOIIpiwxU8TGnI9hYlYFy8UWMxcS+QtCP50sfLEVuxSxajLPLXbhqKcmxFKCJAVtY370ClmCYVbBZ6rmaGODUYYKIvkNGZYIpyrK2Xsk5cWcL2S+BINshpVTfA1RzGcCuHkhkMBGZvUxYjDDZLeUFByLVSCTP0C67xpQbZxJ4FjdFtcqikA+F6-ufr+kUpiPax1YzRiRoub6zhYRskZywGHF+PwhEiK7pw7pzh6EANFsbZIqRTq1l9dXNpLDC1cIMYEW60yGGitSa02uDaunSveGYspfpTJ1u7fQIlRaWoKoHQw8KtrzCUP8e4zx9dXWyLGuCruChNC4kXYEgeEw3k8rFkGdUoZyTqrBcKfQU0uqRo+OEuhM8D1QRWEFUNysDx3uYFoMl+7dozvPaCw9SL6BUnDV++ukqJSgHxu+8DM570-sfdIjNAGVgbolZvD9EaEPSKg68l90wgrwZ1pBzeTFCgXuA-6Y9C7glLpdgRbhuGH2RL-ZwND2pz02siqBgQDgCFENqIyNOM0TjZqNQmzuAnqFCcGAfEhlzyS8rNvoBTEi5EBpmrbLCMmI5ye4FJhgemaG9RvOpiYCIyIwYOXVcwhhuSMGhZ-KBMCpn10Nhu3dHij6ItiI2J9jJvMg0Q8QMl7nB4UaPRW4BYXt3DXo3up9or9LW207GNYlTLq3Ucw6-g6DoE-1MSR0Lv7kv0vpg5oQeWXMYOcKYzRCW3F7rjfTZjYSkNsfK9yqjhGjYJimu-WrhXaleIpQpUE+ghsFZgcvVe69fMUoUaA1BHAZs-wKauCbO4VsQNvnV2O28FtwJS0ws2AUeM5soekzJ0i3VQUbNixkN2sX4FsUfJijZux6iC7l5z63USmOxcCkD7x+MH1kxqHOQIjMmbk7ebkeoQf9cDO+7FzLpgEuy13U+JKOVgm+6uuHUPM2zok3ZlwlCSl3bXVBIKjXMMMUY44kdowK2NuLb0jzGPHEAKzVd1+gn8elubmNRsm9GTvqF2SqD06AFMSF3NnesvpekKV8d6Zm9slMSCuRy7RrKG7bQftkbJbSkMLGorwwR3kGCv0EbtbJvZvW-m+bbnK530O5Bk7n+svomyLxQBnUMRyec0odNn3o3673fJFbm3suI9f1N4d139iVjvsT6533WH-cMMD-LnjWc4U5zkIoCAMB4BIFQGXNAxI52VoSx3LudbI5H3LQN02vBV5kDb6AAAPn34yLjTqt7gTEAfQ-Uhr3Xv0KRHn++D79PDGaH39cU+AcwMQEgVpDKwZQPo9wxCJ2PTcrGY+ABk5-eg4zb+JdkB-N9k5zZPEhbe6cn6reQLfQ1d+lPBOp-ZUPTiF3ZXEZdTN-ZTY9baQODzfnI1KaVXTlMfV8XlTfbfRRSbP-RAnSDOHNbA9XN3QeKiIKaApMbGEYGAweYOWdPAyHGXHPLxYgqAm-G8Sg6gtfTmQbPja+AHM3RglAj-Q-dA3-GncETPA7OgQAnNcQ5PaWG3CA6LBMUgu0ZQwg4OXAo1GQ2bBg+fAQmLVQ-QNgtWeA1IL3XgrnIgvQjvIQn-TA0QswyPZwKQo1BwpPZ3eQ5A5YEglgsggwk7Yw9fVwrPWKHQywrw5gigsgowrNPAAAMUgAAA0ABZAAUWaECCqXIA8VAHBExWDGqAeXoHBFAEcmEVUByKUT0XIFkjwHIBkH+nvxSAvhpDBRznUBEA4GEEaGkF6C1kIEMEaBADEDKNpDQFyAUGAHcESA8U8iyIGDC18GAAACtDBPJDAuo+5gAUgWjDBgAAA2HQbAOIxI1I9IsLfAYGe-f4G7XOMvSo6xN7XwAgQJK4nowxLSEoigfoq40AJ7aoQQX4rkLwEovoGoYGUga2YgWoWoNAIA36VIe41RTwxQk2GwnfOw6PHIvI9UQoyQjQ9fREgxQrYxMgCLFuY9JWEA9eB1feKebgPwrxAIzmQk7FBQ95Ck24EGG7cgwYVgsg-wuA9fKaanXQ8ImLKaNA2wncP-CVUrUhZw9fCVLpCRHpOfMIlElwBk2Ap-EwvtVhZwdhItFUvg0UjUjfL-YQjEmRVrMQsdXEw08RSRBUzmHtCdcRVtU09kmLe1QIGQLBOaGgzQsdDnPtMkpg700EPlP00pUkQM9fV0ptToMhfgsUhMH0yoLBHQQUzgtuRLHzZEr06wyU9E6U0Q4LZ0ziRrYLP9cMtMybcEcs4WFDfEzmYLDrMLUhMMiIWIVMwMLUqguMzmErb9DspA5s2svsm-ZLQczidrOUrrccqwwMSgsIGc+EzdeLas5LCchvVTacm1Z-BE9YFjTrZMldck8UzvRGFc9mOE8wKabkgsws1E4sjA0szE8EG7CsjyRrR8lMs03fT8oE8EJsjzNc8wF7Vkp8lHTUnwu0E7HUoUipKpagGpE09U58hvV8kQj845VCn+b8jWOFDnY0iwi8pQuCtQlsziVNJ87wyIu0aI8ClwT1VNIgJTM05fRGdi6ijyEjCZfQHinc6-EYHi5i8aFNb1UxISpclwG8MSwvWQYvW4-OCvIuavUuHQevDfUgGtBOdvQMLZO-atYgRCzmRrbRalEkiNbgdHWnSAiMncW0rdaFdqMOEC1rKyyQUk2yx47XA83U8YqFGFZ5Y-S8tEt8sEGQKyIK1ylady3ioiinIkoxbyiNZWMKusyNX05WbgAMgK9fTFVkmQTKwMdMv06K0AWMgqoc4itlUlOhEqgytESMnKyqrMsyyszkvldnLDN4WVUqlqpyxnQVEClQGVUhRKhvEamtTeQa807-EssELXHIma4gQilwNavtWVe3Bieagwua7MyuRwL4COPuHHSsPHX9C3d-GLG8IPO88WT9GcOQQ+G6hyiikYB6q7E6-AYwLFHFVK+7QoD6wMLCV6khfy84RsffEGOLSgXEeq-HRkc7bSiy1KowG3VdJ1earCKkvUeiQVVcmqziCGkLLG5WVK54EGuMfQm-Mmqa3OKeKDYrKmyIGms0m8BmzqjyLHdqJGsrLGwm1dFgdYOGstW6tMy6MQffTG13EWO-DgPuWW08JYP0UoLCdGw+fG7GzoDNX4sWi60VZoJWmW1QOWneEWAAHmBGlpVr1tO0QXmW1XBAABUF4NEhAniJku9OymxGlqBahmhiiABqGDCxBqSOIUOxHW8IMOsa0O8OyrEfPuaO3apHU7OZBZN2j2mQYgRyQQb1X2yJf2lCoOnI0AMO1rIoSO1OmQGOrGuOnIqySupO16Wu4Y+u9OiYHm8wPKAgv3G3GPJEA3U+RRBebEd6lYHNKrWBIWqsB26jWm6wvcxu6unxbBceogZnCxdxU6yOC6q6uhdtde3JNZV3EcES26NeixWYG-VW07DGakRzQw-kxum0O0B+5HSjFcAcJuS+2GjchGw+9lMlPzBoLVTcfG3VOgNecoa2KeK1bUIDPrCkPjJmkhRkEjMm31AvWMIKWeym5mnWohkhCrBlMmlm0hh8KLcibjZe1HMe9ESegvWzTmOPV3Qe13Qm4e2IH6ysLelh0XVBmel+nW4W8BmjcK1e+Wx+jepuQRnevSPev6g+gW4+vnVrZofGy+t2G+vSUoeCbaVWwmuR+RZ+oQV++C9+v8bu7lSjNuooP+0+ABg-eGxG3HUByape2ISBi29eGBuBkQBBzB7yJkGhMlJBp8SMDVWMRsMmrB56nmDGzjZ0Ahl+yhkhhmnnVcShp1ah+x61H+hhynJhie3B5uMnIvCnEvPOcvQuKvEuDAbSm5MBH5R5LROFOlYSiUi0qUqKhwKyb5B5YGDangNpkZkGO5KpUc79EtF5YSgwhFMnQqCZ35TpmpxkXfdMQCuYMa2IOYVcchwoQCjkfZmIDkI5gZQCjCc54NA8K5nZ+soZO5oZR56YQCritgMar550Y52IQC7iQwTIy1SGHiSmP565+syB85yB2Mf5+Nesm4ffFqFgQwEC5F1QVFnOFYBF4EeskOu52IfQFOUAXwcIImUALZMOp40APFwCzyIlhmUl8lo6KlryMlmIel+suEbgBoEl7gVlylrZSETlulqFpy4AJlgwFlil46LZMAWl7lpygAUmlYFbJblfZZVbFeVbBHBHEiJY1aFflcvvJYlf1YAEJJQjXZW2WtlrWgRzWnmnKrb1W7XhXQAbaYhnWPn6yraAQmXjWtWtkA2fW9WIRDp3XBWQ3QBjpw2LXI3A2+WCYPXTXDogRNXE3wRLXpX2XChKWYhLXYgE50wCp0Hhn1nYVkqdbAQVwlY5huBK2Onq2CxibVm7lJnW3Yp8AWAliTBKBod62NBTk2Wbm1mOmxqlmHBg4cnm2-kam0xeMwdxnO2q2htod8WdxAKVVagxrd3UwcmLFALIA6BvRhFQWYhT3z2Ea8WGUTmkWqAsXYBIBznMWGAX27373EWnL32Ui7m-2v3v3AKAA5cgED6VsDkDsxgictld+dkGabWtgEYdwWNl7aEqptid8mDduDqkBD0M5gD+FmutlYJWYUSlpZi8Vd9pnD7gyJJdvAxpL5bDjZgsHVQusQSK+az5BgaoYzGUAGXwA+pYoGdYZQMBTQJR2MAj6ZjgMlDbXFVrCZbjo4IoDg4A+MQgEBhqzleavmolTx3T8lNCC6EQfQAjzFcRxxl6AjpD9+uNMzwYSz4i3t-t0wVdU+2IOz+jmcHGo9i5txrdYB9Rj+LNGGg-KOXt9hIz5GoEacJeULsEJd6pttlS+pyvYuDAZpx68aj+CgUwBgNxD4cqG4UgJJL3ea5fbvTcA6lBEiTTK+qxrIG8Sr15eOhgROjutOursBBr22Xr1bGhkmjycYm4BLalLQVtMBPuDis0rI5QLvDIGufQIwc5ZQZQLVnOMO-QBby+8EYo0oA7s+hO1uhboD2MA7psmbyZRm8RLWGOlOsQc5KSl7rj+729yIaCUG8OJ71u8ECEVusb8gCbkbXqJWFTj7noIFJu+EcEcSqHpgMgWWCZKrq8rIVHq2f-GaXSEyYBXfVH0AS-LAVCa9dH5r3b71V5AfJrm8VH8IR1nI4oeEK2Hkyno-fb5n4yUofqgrmcYr2KMrpJTHodAwBAgOtCx+Qn4n6zGIF-MNOqo0yRdn4OEnsVHIwHsOxH-6WWbaVNenputXwoYorr+PMAw+VlJX1UlXw31cE31u7X5HtnunqSm39ro32IOHj3zaeIBG3KUEMaiZLDyQYBnXyYW2U-A8FXq2KHiEW5wzSbPXqnj+jHqn4+R30gS2aCBRDu6PwpHIgAckTomX+6L5J+0ae7TtR4R999xDcVIDsXr9ZcltRNUxIRq7Z6b4u7QkAqEGEATuCAToch0isgtGLATt0o4HhHD+gg1tr879rAb+PhvC7+D4e6R8z7kR95D7sW2lX9sf38R6797pcFE+rAc0k784YmbQ8BVLTUIDR5agl42zEUa97+f9RDGst8dOt9f4C89uxBn9xOl-KDDfw8RuA3uzqThKryfry97+b-essz2Fhm9aSr+V-lvxaCcIT+oAJvsvA2RxwwBd-V-uuivTi8UKkvX+OgMPTxNiKOjIECuHxo0k0gFvRXj-xLToCosqzW-m4CGgXJ4oI7XAdbnwGECIBnHKAQ-2-owVvYtAm3Pt1uYx8sY20LhNwOMArQgU9JSihZ3kDgDVBUaSzLbCs6yC78kkAPjH20EqleBUlAwTIIvrGCgBF-agJoCgy48Fo4NGwTvH-6757BEnRwVf0FQiDTESfH1OgJgF483BNbIeuMxUGWDbuAUIDBunAJUDCMQUQCkgPPqgFUBtcDgYBhibRhDQb6LAdxjYacQEaJAeAc1WARYRX+VsbaNUKfp+MxEMDfVKsmVKSJjUJAMZv1U7LlCW+DeKodAKtj3UBh9Q52puEaE5E9UKySnFb1G4TVIkgBXLmP20jlQY4WKEGAMAqCDBiBvQ9oVkOgH7clhOkcShsKoRaRYorJbYT9ya5dC2M2Q4oT+W6osBqg3EPuLtT67IQF6gqXGljC9yE1zw4lJ4SIAPpe59AgIl4Rzx2HbQwRkcRmtCPOpYY4REIq4TeERGwjnhB9fjjg1+EYM6wOwtsJ4GxHc0Ru86OOISjeFDc-hXAHEd8Kj6-l0Rrw7EXNW4BEj7h95UwtAh6FXDemi1SKvfysjM8jqv0MHNfHARtJxhZNbgA4CCYrRQEDAdosIA4CkBDY0hIgM0n2GoMN0oCeAZI1eDoNERz2ekVx0xEpNOEzIqmrQykYJh9Rd+A9q1lKBSi4qoyUgHKL76Ki+R1IrRuNUIB2JERsuVEZIJBS5C7YpA1IP0IkE+NMK9zTcLkG9Fs90B3AGMXYiGESCAxoAXrPjAKGEALRbEK4YmPgHYCDOfHTuJSFBB0JsRKiGRAzTFx6jDRBooEedWNGHxCR5oq4daLAj5ENQVsAzuSPFCQwqAZoqeBgN4j-RGAyLfiL6IRGGjj4FYgcWQ2wHDiyAo40KObV4h9jKxbNHYQk2MEyAkwe7Gzur1yK7j++tsYJJ0As79iuIVAcIFbASYh5YB7IzCFeP3HyNSR2OIUKGVLGcpVxl49cYOIj6hisYvEcIJfkqFYwKxjXBcUkEVjLiKeQE--oqBvDgT4J6ESWIuOgl8RzaSgq8chIsTbQkJXnF6AzQwGHi9ge7bAWoBMBeAWojAQ4SWlon0BuAuA78bgKrEPZ0GY4rFvKmKiQSlxGE-QExIvH0Szkz479isBYktiSmntDCXyhpAKp9uO40icePz6Bo8eZ1KOJIFjgWwBIy4mSSKmwG8B-qzwjhOeIwqRjh8N3NnkBMFHmA0oOsM6DiDZDdBRobEldpuzSgOSywvgaqpJOhztjT0ogLTJkDPqGBsBRkggUSD3gmTDYjYboIyCwmRYuRD4nEOECO7M8z63QMnNHFACu0AAEikQYAABBcAOABSIAAlV2pAAADyIHZAECFRq5c860koSaYh4mzjcRVwgyVMxlBxwTJI4xrrZLCm8CeByw0DL1MXEYDbJnQBcM1PEqTTMgpw4sPVgOg7Dcp+UoqSVPKlVSaps0yQHx26lDSzhS0nifNVsl+wwpDACKX6WOmj9hpqINYhbAWE5pvQag26UdNQlJA2p81GWDzD5hKwKUFYrvEdGroUSMk1EhaSNN-gAzLIwaLWIuM+kBdGpagcGYDjGkfTqRWaLKZP0Q6uUGiQIAAAziYc0NQRyMUgyDrCP+5UagIMEThkzpUDgXGXEFpm5B6Z2gMOniB1zHosZdMj+GQHEqNZiZToobj2I+Fcy8KFAvjpBCuFYRwQaQrCKLIpnZQqZKfYWRwHYKsjNql0Zml7lSDVBsgZM6Keg3lnkDfcVMlGvnVJlrYxZJs6mUxBzTywQYjkToEkkuGvpBCWo4gfjFKD8zzZII8YUbOqTWyUsCiMMSlg1pYx7ZDAR2WwCSS1DoB3faYBHKjlJJkxoQ3BJgKzH0NOagQB2U7L1mqzsBFQNqKEAdSUDTRC9d4UuGpFjQ7Z2cyObnPanoYQxTo31ARnxh-12gZ47EQ+AjGWjlyulUyvjHTEERHsdY8EXtOSZvVPpFo12TFhYCX1bR9MUoDuKjBedmgic3OROKZwsBCmGYEnkPL9C8oqh14giKUHXnRy4x1PPvOyFrlJyKeD4T0cvOMDZjM5kYs+c7OgEFjXx7Ud8VCmoR-AVZVI08J9OrErtrRvxQ0ePKxH1cPhRIwUFen1GM8D2kjIKA4GjroTxxECycfWKPzcACJ0wIBdSLU45DKImojkaeAIwMo8AkIahSuEey1igQvoxsa-gIWwKiMx6BBX5IgiezpQaCjiQApwkrBN5duVEShGgioQGa+MUyF-MGCMjOgU84hfqAHCFzssqQR+AQubGDjqaVCmhTPITAkTOi8PBRXkN0Wo5pF-Cz4fIp-rqyeF9ddBSuL3C-hWJVwrcepAUkGKsebivdieI7lZBCADixrmTX-HNy-Fx84eIWJ-l-UI4-8vxU20cVU0glWowgKNC7HSKixBiSJdQGiW-gYlVc0ANoshBBKsIISonlfkj6YRSQVsVBbYr4U3gQlAi2ILUtJD1KYgVS3EHwqUF4xRJioJQU0rwWxgiJtsfRWRI07rksZcsVjKZKkHcjLSpZCZVZCxmdD6Ad8AySWixn7VNBayxmlzNZJrKKhXzCnrRH1nh98+vfNgI7N8BVp+5LPJ+gYUOWqzbyTHC1C1AtlCoyZjExfl8nenCTxJg4kBVSDviz4XljIQIOpkFnigdZv8NZZ9nQatLdJck+gauFhV8KBJsMj6X0tBzLLreAK6rGsuaWFAflc4jqXQDQVcT5JR4lwQgjSyZATxI6Irh8rzlclHiU2QGIwFxWtY1J0cTSfZNhVcTbyWU1aQwFKnWQAAMikVqlUq2AhMo1IjM4lkyWpXy4BTsM6l7SKgPU46VbAGn7SVoWM+VairoATTdpU0l5aYkZpzSFwOq5aVcIFVCrRV4AHaTOEGnaq5VqM-VRUO+lOdpOioU6VpPOmXSXV8cy7ljPulnR4QAXb1fZJlkT8yZwa+6NP2wG8cLVrUquTsO+maw-pV4LGWy2rq8cQeYyrGU2wVXUiEZkgJGYmsLVETsBEcLdGtib78SPlRJPVW1Lsn3QvpFsH6VQHTXTAtxx0fGO6qyxXQwYvUVrM9ORlLSUVI4+Ga1i9gJrnV46uGejLxSZMg4BY2lbWqb5Nr3YfygQK0GRCMh3JpQ2uPv3BCho6VZAS1MjiCg7qHA888COOCthVqZmp6hvnWrPUbqg4tsK9b-BuGDsX1S-N9QbFCkQrVV4oKKXsrbhPdLJV48IDTymhaj4pDyo1B8GCDrDXpisxgGFN26obXVUEDdGFJA1CTW5DYdBrFKBC+rywkUgjRaMbCLd5kauISc2qaikdXo4a+6DiBumHT6AMapqFEyKBFQ2NORISVxoUAeUZOWMISanC1Y0aQVM4eje7GRz7y6G30RDTHECAvLx5GG3ZS5Pw5fLGQbwTFasv1lMRcN3UkDcdMkYxS-AjIMjbiEinHSqN6DKTWri5kywmNL0FjXrG6DzLo1MsHjYUD42ebVq3mh6XOyxj5qDAkmxINJrU1ya4hQYqCOcGsUnCuZwQUdVLyw2P8xlBGkSaUCS1kzMNHG-VbbBOFCT8ti0+gIzWK1YbStEMw2EhtU30b+OGGyjeSCihsAXpBWzdgKvWllSKp1Uu1eSC63FSetW08VVhHE3ha2W68drWVveAXrj04IDEIYqU3r5ctjwTTeSDq0gwuZjW7qQyuRytanVHATrXlMFUiqxVTEa1WdtG2ha3lE2yllNuNVzaYsC2rwEtpaapB3GfaJYl0z9RgbpoiMP1OJRIxvBvtKIe-nN0jGxz+iWyiRDOBB0dJxBEOqQcmOJrLacyQDXEEC1B3sdftOw-ZYDuJFPUcMHUFINjrBC46rhUO1Hbl3axY6Ed4O+aijsZo1AxANcFaLWop2SSqdd3FtPhTFHpp1lX1AXccO9QKBbhAuioUzvIn0Ali+AXWfDpRCrol1BsP7Z9oV3sd1dg7AJalQY0KBbYIOuXZCth1fb6dmujNOvRPW1rgdMujpFNht2K6PYsvemMrpbVZo+N4IPvgnUt0fKxqBu6oIxyNRY7Dd+gOnYrv-UtrVdwXTHaTq6ah6POjXFSUAnthkxvcg6wYBSm91nrsMkaOPWCFz360XdTUR3fyy1ZB7dZtOmPYrpD2V749KEZ3Trpi02p3dg-KyJnob5jUy9+qqVevg4QmB+Aewh-hUPfTuk+dA+4+F50AZRdRaoiWLmA2wHeCQBfVKaeHqL2TgCGbatNSO2MjdrjIvexbm0k0hEcaAK3AiYjjYBtTml9uZkXKz6V+NKwuCrpZ70mEGoYZ5cs1KHRJ5iKig4IBfb4OcGpz8+HKjSdLC0kSLReZsHnIXsEizp3dv+pwZvC92rqfd3AOA34P+E4BGwNwAgUCxBaMgAAnCcBzQ4HKYuuowMqMD3gtuouuvjv9DljcBsNv9JuXuSoLUYqMA4FwHfjxk6jYgxB7qPoAL4F8rIaAYQ75pzAoN8YvB3flOQHISHKDO6NtcIh7zfTA4x8FwD5HypZgX5wUYFiQe+mKGoG3ALAyTp0PdRrJLgToOcsuU1oaEyGlfYJAqFQGYD-ACEBYe6hWH1qrepA2esD5nK3DTAfuQHvXzKCdBT6uxNUCKgngyAa8COJ9y03brGQgg9ZMwAIHBG7+7xWuOEf4D-cjgca8kAOHBLRGL2oARng2VIkfx4Q1GSQxCG8g+RUjbgHAR8rth0AioMQGo-5BElVGj+9K1oMcDTEoMWIA4ejasJYDrDhAmw-iYRumCraQYKWkrZVoK2vZ3sPR1MfkaiOqMEaxR9SBHCVo4Ee5VR8EDUbCZCTBAYx4TIce8jtHesbEcQysH2PnGfITfCSqihzj3HGWqYyQ6Qd7VtrO1V4HffTC6NZ70Vh+kUSt1aAX6DA9+72Fq2bgBqYgbexvsLEjicqQD9k9OOwSsXaV+K7wRyD3kyOTLGwrQBI-WqEHJGAh54iNBkeaNZH46OR7lPEySZbimu8J-iYib7jInSDaJp7QmABPPrgTH8UUYeuZEMmgaEJ6-WyxhPYCWdK3JlDiN12truYm+7EBSh31O6XQ5PZk1Kam6hH2e5ux-YUCAMxwUTrGoibYFVMb0DTXK40-Eq-3NAIDHvPhg3uXVN7nD-+fACPxyLwmxqmpxiDgDqOpBa1BfQ4foEf0AAdLAJlv7UrRVhMgYILLAgNksY2ryNCIIZyIFG-q61NMH6e1OBnbpwZrpWGYjNFymA+AHmLGfPFR9eAJ4Y+D0F0zcAAAXtR1ABhmigTnYs6Wcz5X6EzoABs0mb0gpnwQaZ4wDVFQjZokmQgQwDic3CBnIzbZmMx2ZZYJ8nK1RKyCwATrKAE6-fSYAXzTB4AszAZ1s9GbLMLmt2+rZczkVXMxUNz0-fs-5CAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyB7xoaABKINw5biaiwQRDB1wUAQf9Qwc86b02BFImRQ9hC+GUfjK8ODl5TWMO0S6yh24cO4TEWhPwjG1kcO3NotjTE6wzggk+Siv7XwgYqXh7APBeGEYqKxC5fHKH8R3TxFjQC8JEgElYQSGAxPCVwgx0DCCEBBNyUB1DAmCDSWwbRf8OhaGVpcWKzCKGGGcMorhKjYzbhnFPB+DElHvzEO48xETImmVIOZMBNk7IOWctSXwJ9yAkK8j5QpGcaoRXDrk9J2iVatJFq+AcU1yHUAUAw6g5MJHIkmGNGIQVWr5NkU-LZNBdmlKqUs0gbSgLkWfP8NZq9FCEHwOUHm1zd77MNjEd8rCMjFSmcU8ODBNGLIcB7VRhRSFSxWnnA89BXFgl0QRMFci26KJKXQaFMKGjLNqTCsFiL5CYJPji4OTEjli3viJJpZ5M4UKBZE2IpR6WjyPvQKWYJmVsE7quZoY4NRhgoi+Q0Zlgg4qsrZeyTlxbfJcJQXwJAJnzPyTVHMZwU4eXqQwRpo8lHMMMBEw5QUHItTuUashSwck228TwLGILM5VFIB8S11djXzxwUSlYeqDXNNGO65Z+gvWdPCjq8wqD6GMLLmQipVSkk4NFsbZIqRTq1lDenYpBC43kLOb1DxXDWVBKKZnXN5SuXvGqfov0pls3lvoAi+NLV+U1pvhGrAczUE2JMWY7OJquFjReWXBQmhcS9rsTXCYhzYhBWFaGckYrnnCn0FNLq7qPguKwR3GdUEVhBWdcrA8m7mBaBRdO3aOCApPNnf8+gVJXWnuzgy2sjJ8ZHqfTOLd56d0cLCJwa9K4R0coYset136OGvofHe-0tKv06xfaPalOZb37umIew+k7TEuwIhQyD263GXsAx2lcbFtWRQfQIBwMC4G1EZF7M2Jwu2KuBKCfVpcaPoLo4MGeCCVnkkLtNRGfHWHcNKPakyjqDz6C45Unj3B-WcZntxjU+gbyiYmAiMioAKNzMMNyRgHzT5vw-u07OhsR3Yf7bXP5sRGy7sZNZ5xv6iNfxQzS1N99iBjuVcNBxfbL34wkzNfGaw0mXVuoZ-V-BgHvwvkohDP6fN-oHReNF0wDNCBiyZkBzglFiP88YqdGX6b4Zcyltz-7g4PMeZGcVGHaVTWPrl+LWTzFooUqCfQLW4sf37oPYec9WU8Pvo-QBHA+sX1iauLrO5xsv03nl7Khhx5Da-iNvBTGl16dY6gkJYSOGmqgo2CFjIDvgvwFoueTFGzdj1E56LxmpuoiURC2rKgqPSloxqQwjIlMMDkxg3q92whMUwxXYpELfXTDhZFsui8kXkrBKD7gQOeODpwSHSNLhUGJKO0OqCQVCugcZbhvRDbRiprzQmqhHTSsrCx527th8fsXqTTfMajZR6MiPWzxB0H235yYj9gbE9Bf85PmL9bHSqwMQieD2lyHdt1SjYfBbQClttcTQT5NUFRercG--MnGvJta-64bieOjGeU9NyDc3F9BdFp9SuIDOoYgsdV7juhVH14vZ19nY75IDdreN5m3rDvYqW5lxZolR6I9n219lUeQu8UNDdzgMOiq-tyEUBAGA8AkCoCTmgYkOP77F1LiC6o1cv4poTPDXgg8yBzxiAAHzb8ZQxp0a+t9AB3rvqQh7D36Owiz-fO9+kb4jdzKvOZTWYGICQK16lgMoH0e4YhDZCawnXgAZHv3oONW-iXZBvxfzPWOtwQa3onTX03kCX0NVfSTwSiZmZ7zm0fJ7T1nnXu-Xm20gcFm2On+nEU0kuSC5iVEQmi+y+fC3Wr+kBH+cykB0u5s4+r4QUQBSY2MIwwBtmasrGaBKe-+yw2Bx+N4BBVKc+4Bry7wzAUukeAetcMB9+m+8BL+BO4ICepmF8KBrGvBy20soet+5BtKOBdokhGBhB2OcyQhSejApB0BWBEhlBuB1BRBXuY2ACi2ieH8Yhc67BcBz+iB3Bdu-u9AAh2hFhzBK2ohZBRhgB6hUhLhMhNWEacyth+hjuyhmB4hzh+BGhuBG2oBeAAAYpAAABoACyAAos0IEOkuQKYqAOCGCsGNUNslYaAI5AwqoGkfwtIuQLJHgOQDIP9GfikCvDSM8n9uoCIBwMII0NIL0FrIQIYI0CAGIPkbSGgLkAoMAO4IkKYp5CkQMD5r4MAAAFaGCeSGBdRVzAApC1GGDAAABsOg2AER0R8RiRPm+AwMZ+-wB2kceeRRGiV2vgBAdixxrRciWkuRFAHRxxoAZ21QggbxXIXguRfQNQwMpA1sxAtQtQaAYBv0qQFxQijhnmDeD+T+K+ZhgeaRGR6o2RdA1hnMUJsi8WCiZA5mrBqhXmSs3+HGaQbc3A0hw2chrG2JEKhhsJgYhWB2eBgwVBIR5iNBsyV+qQ+O-hThcJHBphO4r+9KyWKKmJnE9K5SrClSdO-JjJLgVJG2l+2hzWTa6JxC8aspLBBcxhj+nBSJnCpWPBGpsaMpbCkpHkFaLaLCt0KhARCYeqgQMgYCc0nhghTaNOVaBJepXmzplQYCpIHp2hNp+anQUBCpRsTp7GLpYCOgoBcyhiAWU6MJ0ZJsQpiJIp3B1mVp1wtwIM1ml6bB-p3W4IuZws1WIZX+KZTi4piCvpkQsQjpgYypnJ1ZnESWZ6lWkZlAAmAprZx+u6NJ2h5W9ZVWaWJZCYBBYO2qSZqQPm46RWjiNm-Zip98Zsl6HZEJfC6wBGrmvZa56ZaawmWQM57M4J5gU0LJaZx598JhWZvZVkB2eZokBZ4K3xDJd5q+4IL5lZFm255gF29Jt5FBQRdoKptBO5Jy1AmSupU5GZD5CB2ZyJ4IMFcFVhI5nMJK2pbCX5YFbJHJIBgFLgIaaZBF6mwREFnJWFnEFqIaRAR5Qmm5jFtFHkCGrS+grFCFSpx+rFJF40waVqXFHRfp05uB-FFGWeXuOeUc+escReCclg5eC+pAmaJC2+tK4yp+GaxAqpnMhWEimKeJbq3A0OhOgmtKP5Ax7yny4c4IMODQxlkg+JZlVxCuc5PJXKY6Hy7UeymlXmC+BpwpYIMgVkNlvlK09lbFGsiqOJ8iLlbqysAVMZ7qcZYVoA7pnl2hYK9JMgKVgYAZrpGVwZ2V2FcVpKyKWC+V9ehVsZgZGVCZ+lnEJOYsgubwPKBVaIZZpOtYDln2J8iCMVJ5vVmco8XV95wVj5+go8Vko1r5x50GVaPKM1DEE1VJ41iZe2jgXwlSVcCOlYSOF6eullXmN4GecyCGcgs8J1cYgRgwF121W8+Axg4KiyCVx2hQp1CYWE11CCHl5wjY6+IMi5fmlVyOjI22l5b5dwf1Y8Rug6hqE1u+oeiNzSw1kcbc6BiWCVzwX1d1CY20cNGNcN0GONbceNzZBNgYN4xNzVHkcO7U4N7OqN9EeoZl6wINnOABTpl0Yg6+RgqN4Qp+HAVcAtp4tqIiWEhlCVgtCNbNAGbxnNB1rKzQot-NqgctE8IsAAPMCHzeLZ0JLX6L-D0lKuCAACo9yiJCDXGtJN4NlNh5LUC1DNDgigAADUumqiDUNeQo2i3+IsXt-V7tXtDOhQvtVc-tq1eokwui3SvSlt1tMgxAjkggdyDtbiTt6SLtzRaRnt3t9MkdPRMgAdQtBdIdBd4dsQxd0dEtF5cyeU6BTuoeQeSI21lYfCPc2It10w+mhmWtw8aNsdsG1NJ5m5gdm2C0ecXdRA5OqiJiu1NeB1R1WCWO1dzQ3+I4R+Iwk91dliO9gw9d+9US1IA9REQtNodo9dH2hQLEgoq6ec29wNo6S5zNQ1o9sQkqm43+MqdAQ85Q1sbcmq2oaG+MjYcNjIV1stQGsYQUWWl8pNgdysuNjlq4pNhqKDFNt9Wqd931gYM96IPdpG3J2hIeRuLdRubNbdsQ3ai8s9xD+csG-dQgg97NcuI96Gwk7BE9QtpWv89DRD89eki9L1y979FK69BEm9oe29bsfDL0pQ8E20EtbNU9eCCDlFEFl9f4MdEwHmoAOowGj9i8z9G+oNuIEjhJH6ZtP9rdaRtkADIgQDCCaqyBODdWlEXDFIX2kDQI0DN1pGcDtKmjSDqNWDCCaeqiGDgaxNHjhjO2Y94CDDoaJDmesg2eZx0cBeccxeic2A0N98GyFyOy4iiqlKPFk1CJyFoVDgVkxT2ywMC1DTlyIMmy6SPZ02+ylTVJvynahU5yjTZTMl-23W6YP5cw-VsQcwq4UTsQP5HIUzMQHIsztSP5GESz0mgJsYczMQP59Smz9Sqz4zZZ0+bA-VZzzouzbGO44I3EhgyRvg-V9zjzVzazZZ39Sz39Oz7ztzNw6+LULAhgDl-zqggLf2Kw1zP5HtmzsQ+gJC3Avgwtx04yXt1xoAULZZnksLDMCLoASLR0oA4yPk6LmLtzcI3ADQ8LiLyLRLoAkI+LMQZLYI4IwAOLBgeLBLRMdLYApLvzLLAApOy9S-i7S+MgK4yxi-yxCOJLCyK1yyi9vUi9K+CAAISShyuctiugDqtAjKsnO3M63CtauEvjJ60xD6vTA-k60Ag4vyvas2sWvMsQiHTGs0umugDHROsquHS2uUsEwmvcvjK+vesGssuqvst0uFDcsxCquxAaXpgFRfYtOlNfJe7Y2AgrhKxzDcAptXIyVJsME8CDOtNpsFj6osDTEmB9mZsrBKzIiEvrMlulP9W9NQrpaxh5vDMFizmUZFtds+mME1tAir4-kLrCD9XjvXP4rzNlmQB0DegMJPOUvzuLvKrTszs3MsugsMCwCQBLM7t7sbszs-k7txGbNnvHv4o-kABy5AN77Ld7N76jekhbVIA7vWgdtb0w9bhLRN88H7vubib7AggHDBfuhq37DQv73LvTF4xbmyQzg768vbqBeSuIA7eydT6dYgNTE1JyuI1QgOMoAMvgy90xQM6wygT8mgwjnbzb5M7THAKKXTUKaDhQrSeHRwRQUF5g04fcVjB0PNBDJC8KK9ZKF6GWF0Ig+gmHcVgd3AJ9CHJT5Mn7l9UnEWMncn6b+Alb1bg6SnYHW6UuSN7Hyz5jvmljiOEnQ1-TX2L9YgXwLAxC1nVVJ8Tm8YhA4nbnYIaYhTU0FjVa0x5TXqtV49M0oaNqJNJ6M4bwwXKIkXolYXh9iXs530rG5WcXpS1qSXwnSquBXqAlAXlnHUKQ8XBYqXE1ZzlXAlCG9z5XYIoXeXKXhXZVUprCG8ZX2XlXyX51UXAlNQYgGcK0xipABSUXyX20rX6X2hdpsFGcPXzXU3-XbXHkrSCgRGTX+D+Xdo035epCJg-AmczCE1R6c3mSx3ZC88+9DnTnLnh1NnJ8W12he1jnkgK2Fs8LyNWMeLjGM0YRGTIzue2TCl8cGAGA5eHVFApgDAxiHw5UNwpA-iduVXpsTeLALeG1uhfwwcVsVJN4KPBywdDAodXMftpdrJWjWQhP3CzQWPT8JEAlAxNw-mmKWg9pT8VcR5d5KRygTeGQC3Rg3AvPtLf2Xt+gvP294I7tpQ0vp9ldXtIvZnKw0vlZnP9yAlLCWsAdPeVcwvVq+vuHWv67kQ0E23ZPVcFdEIBdzP5ArPbWvUSsnHxvPQyyRPaR1g4Imv8Qfm-0ssrSqPp5Evdy4maRZsukUm663WAfoAB+WAqEa6aPiMN4Af4QHeKXKfIf4QuraRxQ8IVslPMfp+4IefxkpQUPKRM4cPsUiP-iAfxkzQifLUztGFl8MfcfOmMQ1+LqFVuFcpbfWftgZEsv1vXtLvTAZAss20Iaqf4QYdnf7tpPpJjSomOK5bFp-fwfW+c-hdfoi-Bd4-fvlPmfbSW-NWnt8fRQ8IskZEm0Pv2ikkoI-VrSub9-E-pAgktPRTWM9fcSxbkgyqCEBs0UzdZp+IfK+lkFT6v8ABuIP3kP14TF0z+VscEAAHJSerSCumgPj6b1deJdbRAH294wDYetYMbvoFG4Etmu1XBBM3k3DbRyBV7NCD+SEATsrIwQEOg5B0hWQLQxYEOmpQ4Dwg460EUoC70p70CIBZAkgcq3-7a93+lsDGNIMAF0DJB88G8GIIUG4h6B9NcwBR2rAGYaOM4TlOQg8CylEugfdCtNhO5WwmBLffgtwBwosI8KJ3ZXkrB0FUd9BS1IwaYjcCG8cuuPeQd31MFWCyyefYWKHjJKr8TuX-ZhFoJcDkD+4oyEhGcmMFuBTBw6VdBARsGgJIhs6CBvJ1kZAgVwy-X-DfnsG05L4kQlDAM2SHGAVoyyeKBoAkFkAJ0IyZgIkM8GykfBpgnBkFDBRb1i+GzK2FtGPztC3AQ0N3pSTcKyd5AXgmoR6i0y2xeh+Q9SAc0GHTDZSYwq1AsLyFG4pergvQdQE0DQYI+C0X6tsInjK9V8ew6jgcIMEMQkhMwwvsJUiF+CpMpw9Nr-WLbVCNhGvJdLehHQRCrudmIKD+RCHDIKGK-G6oCJvT1ZowhoQ9GQgCi8clUKqS7oQED5YRLBf-ZbmiNtjf1Euf9OVEMg34eRlUJABah1QbKpDKBqQDEVdyth9ccR8gvEcwgJGDJccffa0tygbIf5Cm3A7SOVEoD4BwUIMAYBUAepXdeuKI1IcXz5E6QBKootBFpFij0kTuk3Y-BSM25QikRNtO4CwGqDcQq4q1BnshA4bnhkuWEO3GzXPACU9RIgZenbn0C2iDRW+NUSMCdE14Ma7o-aini9EujmuN4X0Z6P1HL0iOcNI0RNi4CY1ImyXNsJ4EtFRjGIq3KNKJ0izhjxQVoyMcTXNFYxmSwYw0fGPGp2DcaMQnQpuFVHUjMyNTfEbnx5FJlwOJ8Z+MUhZEJi0c-9SKk0lIAMAGiwgDgKQENjyEiA43NEbBhHSPwuhn9e9EW19HnY8xuHUMTAzIRFiKaBjJJtONPzjt+G0oJxitEfhdjmBvY6scTVKzNBcghAbRL6MFyBj4my6O2OkJpFOpARE4u8lhFPHaJsR8HV8VTy6HXiwGwTLzNELIyJMByLgT8SdxLGM0VoQoH0qCCwTxjBEnCLMSdi+xri3is4hgPONnjxi6a5vNcWBEyIagrYEEtMSaPglLjImtsXiP9EYD-N+IF4n0bOPnikSExz3TmJRLIDUTQomtXiJDCoBkS6wzXPxupBkBJhag7tZAcJL2CiTcR7QToLJ14lcQqA4QK2JAw9z+DUgY43iEpL-4QT0JpcSkDBIpTcSFJCE3GrbHWRYxNJsfQ-OZJkzwTQ+bEpIIrE4lfjNJyvRUDeDsluT0IksdiU5L4ia1torkpTgRG2ieTgpaEOJrbHSIiSJ2JYtQCYC8AtRGAsoqpClPoDcA4hRkuIYhPJCNgaJYLPlMVAckcT-JjQsbjiU4RpS6AinTdleGynFjze+UhJICn5RS8JJTRY4T-GtihZ5Br3DgIKOlifcmphUliZxF4CvV9RpCOSdYySbd51elPTSaNI8hpQdYZ0HEGyG6CjQkJRbP7ECDSjrSywvgUqkk12l4T1Q9GELJkFPqGASxk0xIUSCnjTTDYjYboIyECmKTFcgVdSe-BxDhBZeefU+t0E7T9TQAFtAABJxEGAAAQXADgA4iAAJQtqQAAA8je2QBAgoal1SQGoEVHFh8s00qiXxImrjS2mMoEhATPYmh8Vpd0sYaMP5EPoKZSQL-itM6ALgqpN0pMS4BZmZBcZ9M6tBNXBmQyYZcMxGSjLRkCVqZZM2mUqPxnFSJqK0v2HdIYAPTXScsrgXTNRDzELYtY1jN6FqEazZZPkpIETOS4yweYfMJWGinglN4joDOeKaEiSm8zQE1syyI6i1jsSiZZnFOv5KdmGz3Zxs5iaARBl8CQYuQBwJUSBAAAGZjHMhqCOQEkGQEUZkPKjUBBg2+ROVynDnaAgQIczOYNUBJe08Qn0hMLnLDn5yBKhWOOR2IjHESlwcQDOeYNiipzvuMmEvv1Swi5zG5Kc4QOIJp4ljAgomaueKFSDVBsgic56V9k7nJzsoqcyGqnQTmTYu5M8tOUxDmTywQYjkToP4nLErghMY41UcFh1Egwq5Do5sVPJzqt90JqYMLN-xkyYiTaWzdTIEA3lbzKekQrycs2fkMBN5bAfxAyJeGQIWgCIoCeuXXnfzX5IcpaeYAqBtRQg+qcoYuLlzGi65OU9utoTAU-zt5dmLvneI7GhoDk3jB+gYAcSyT4xMGQhY1jOpqU9K+MG8RQoaCnYZxdo-ahhJvyZiGpeGWlCwG3obj6YpQYSVGH3rNAMFr8uiWBhYCPhmI8fOhfjB3xOotJaEUoCIt-lvyDk6fZRX-IK5x1pG3sI2jQqzAgK7yGi0weBJTHtQoJ7ydBH8FrmRjTwJs7aVSBQkXjWFY1bHigo4UuhV004nPlO1gzzo6A-tPybRLQn0TmFW+GqbVI4ZEzuOvwmEbeIMBTQxxp4AhTCjwCQh0lK4U7LOKYXOj0JjAMMXYuYkGMgo3is6RBEPkOBAl+UmxR-JWBiKycgYlCNBFQhHjYwpkMxUfTcW2LOg0S2JZRAHAwLIsqQXeIUqwm408aaSjJQelpTRTJJsUvpQ1koUJgiJBYnpUUp2ykNOYlS0ukEq4l7hfwqC4CQmLakxTOpJQFEqcukkdAsghAfZaHzhpmTvpmEOaLvy6k6SLFL1SpNYtuW5sDlpktSXgsICjRCJHS3SbIk+XUBvlv4H5cxJiCTLIQjynEjJluXhAD8t8zCKSCtjbLcQ1Sm8CitqWxA8VpIAlTEGxW7KFpeMSJdMECnErwpzoSKfINmUdTbpvJROXLEIwzSjlQVaplwQ5VzVE55I+gFvHGlVJIFrowinaEgUY1c59JMVRWM3LslJV487RfXCYFsBN5vgdNNQvz7yD8euBKVVAtIrocWoC8plInIymSCKphM0APVIppc4vsW8UfKasZADysaduEeZfEgW3YvsZKwqe+lXBkrqlmUo2dVLpVvBhVm-R1dlkgUkrCgtqyJsXMDC+qWp6UISZcr-6SY74zqYgU0LHmTZ6SUaxgDGtKx9T3ug0tacmppD8oLyIMwWQwHhnWQAAMnEXRndTMgMc3WdjIKmJylExU+xebxJl5KKg5MuWVbElnDqhoIc3tSGuZmSBW0C4KdclE5niA51rM01UogFkQz61TaltRLLnU0yVoi6uWabItjN9YFdHRUArM+5KyVZjM3FLGtiDggQ5Wss6PCDM5Xq1pbc-lRwBfX3QBBJYgjuurvX9qTpp6zWJbKvAhzCWDOQDXbxDl5rIxfa5iV7K7VAakNcTEsZUjHSTZyBZUjDiGr4mrT7oE1M2eBoaErg-Gx0fGGbOk4rRnYpWPWb7IZnBr-Z1U5DaVi9iAbF1LG61XEyJRIMg44EhtDmtIHkDCN7se1UW1aANs9pkgdTFKLUHghs15AkBuuWk0OAeF4EccFbCw0dMRN2iMTQmKI1NQv+6my+BqL7J4b54Amg2CyqHWkJxQT05LnNN7zvTbME+UsQtMUmGqTowQEUQbJnmMA7pEvALbijSEJKPVw6xzVVIIWZKvsr0oEDevLCPSYtBjRsHzx6QC4qpxmsSPvQ-X3QcQ6smWfQF-VNRVNRQIqIVrSJVTStCgByvjCwhVTuAXsDLQPJnDZb3YH2GRXgxm5f5BRgQU1Xkvs3ky5VuU5NiGsZDhqzwm-L1eSBHR3THNcs7BQNSpAJa7YZM5WcltVkzq0tDqxIG1sG0ywoOekfLXrG6DfriAtW8rYUEq3na0iz6mWPVs7ZYwQ5zW2lq1oFy5zOt0IrxhsvLwKjc5wQJjW31C2B94NMW15ecoB1sqYttsBUVVJC3FbcU8o4QPrKR2I68Z9AQ2B8D83A6htwW1LWNqLbDw0dmOiOECDrXCyEZSM1GeACYiU7YZ1OsWa2sa2ha3thLEncDtnJJNwQGIL3suuh2PBRtEdfrSDFzlEdgts214F9k51TrGQdahtc2rp3kgFdO6lnS9vNUGBaWsuntR9iCi86vA-OzZZxDi74BR5WXFEIOhs3EbnNC5Erhboq4O6+y9yhKjlttim7R5mXegA1yURO6AM4dZTZIPAzuondPWb3dlw9id96Y1ukzaAUq1oURAIdQPU0P6oe7kd5eermbsvj1dsu4moOLbtfp+Yc9XufQMXtMDG0upmapoOtv+hkx7cYMXqGimT2kC6uXXBLmXud156DYKEKlrS0z2e6OupXQwD7tL1t7y9ke6Pa7u+3ap49bAqyM3uXbBRh9WevzrHOIBDdikhKIzRJua6kaLZ5Gq8JRsv4rBquC+-QIN2G76at+-uqlTXRrz9SPua0uJkPxySlqBpOWiJnyHj6wRmgZsHvUUBj2CQI08ejgUnuE0qbuAF+rQH5zyljIh9rzIEAAE4TgcyF5pTA-3c9UDPEdA2bIYQt4PgkB5bf8Ii4fBYtWYP4auhcCn5I5y2woGge6j6AUBKAqyGgFYPXbUMcS+hUvseaU9SD8TOg9ge6g5b0J-0f2CzEDjzwXAPkLKgYrwYCGHmOB09XgZ-rcAbgiQ+g0iwA3qruoWqzNBgj81d6bdAkqfRbGAP8AIQnQDVboeIBgHIcIMCA4IG0OaqmA1CmA19mqBFQkhvmRkOCHIHraiojQfnYUziHCAn4AJFJhPKLYeH+AjIIwb5jXR0BPDcRzQB9mIOIxoj7m7xhoYhDeRJk2aYIOyEn7VBhuEybFl1t-FGgvsrQRkHENWwJD7hJgh4pnAyMV0jg-6lcNkfBC5GfIoR0poCSIb+GYj3RsowY2yPj9cNrQSRUQox18ymAQojHi1FR29RJjtB2IILpBhA6Ed8O0LZdmuwrGVxsQTo1DNC2CAljogQUcZPIBK1jAaAdg540WXOhOjwxnyH4cKl-Znj2LKyHcbeiCGJ0n3NFGbIg0RSEqtsl6OMaD3f7BQ9YmgAt1aB8TmtlYbgAwFpb5wGBsKcA0HrhPUh79Zaj-WbA8KASVgIRsI2QAiOIjjdHkEYakFw0ZGTwZAIeJUhN4OKBA1RoELUZaFwGqTckt1M0cSMxHg6bRyRQOABIMml2OrdSJUlFo6RltTx7yJ8JmE2rJBgxgQKUf8iQ7DjvxqYUQImPHBDGaGFiAOGy2CjhRixsUWQLIPTB1j+qTsVsdR1476S+x4xgYBFNiNlU4piSJKcQTwgnxsp3I0yDJ2nGxRpR3I2qboVsQKjDQX036deMpr3jzx74xoY-3UbT1QJw-SCaJj71wTua8KZpCHaNjM4WJuGgibsEomO2aEM-Vibf2P6Ct+Jmgj1pwBUmr9KA2URL1R0VItwZZAAEIMJuIqO-gVZE7OXQ31W7CEOADPAIJSAh1TIDYasjwzU5EgUAPDPwADB+qeIGg5MGYNpFPTJ8GqI2dw3NmNZ+gaYrpw7O3NuzlAXsz2JnNpFBzGJeeNZTeRHdSAIdPIgAC934E7YOJufLKSSdzaYPc0HoPNKijAnQd+Noh-LnnLz-Zm80OfnjrFI5CF9c9+e3PSnmMAF3NUBeLCtnQjJgn8mDJSI+BnzVkKGfkjcAlErIsAYcz+WgBSIn4wgCQCHRiIWhQAUMpptwAADsAADi-NWQULu5tYW4CbMtnjzLAU8yy3wuhIyAIdEi5qsMDkW0ilF+82WRspPmQ6RgsQPIgnMCDrAyF386hawDoXSBmF7SCBe3jgWyyElwi9JdItyWQ6il7gCgEQtIXeLel-i9UKEuHmaQpUQ6u4E3B4WCLUl4izZfkvgh7LI58EJBdTlXmQ6t57S7palM1QDLAl6k4BZbOij2zP5cItWxDrQBF94IAACJUWyyNFweHRYYvEX+MEAdeZwN0A8Wtzrl-88lY8vAWRLYliEFldMA5W8rhVpS7cxUv-Q1L8gDS01C0t1WfzCVxq+5f3Mtm5LZltq+CA6s1XwQuVkOj1e4A6AAArIhY3MuWJrJwQy9omMtIIsQZAHy1KkyvZWrIK1qyGtfCuRW+z15iK7BZ2v1W9rDZpq9NcPPpXcLZZC2o5H6BeAGEIdRtT5hDrnterLLTsy9QGkxXuoVVjOIueXMsDQAxIUkC9fGtenJrMw5q1hdas-k-rANoG1ZBBt1arI4NkAX1cfMDWrIWgNQAEuUDPw7z6Nvi1jdlI42TLs1sC-NYJu3AibaREm2DeHPEgtrCF5mw1f2sfXUrnlk65OZSDnXfr-13m0tYFtk2irZ5ns1FegtPWmbOl3a5jbQuS2MLaVtsz9dubwz+g7gGoERf5sfIUgatllmOYdqy3pzdluUKDOfmI2Vz3ATi+ud1uvX9bSVqa1LZasnmfy5t9YPQECs23eAdtiGxCH6tR3wQ6lzS4ndOi2gagNhsayzYltB2jbnl0C6QLDsW3I71t8EI2ttvAt54OgJy2LbesHXGDM1mW2db8tllw7ltxO+XZjuV2Kb4lgK6XZktkW7LcVvW3+YNu52jLjd7y3LZbvq2Lzmtx67FbjvggAA6u-BYC8BQkwLKyMjJBAAlh7-t0e+9fHuHXjbOFlIT+VXukB17m9kOjvb6P23Rz-16cwsT8Ah0rahAUAGDP6Af2lzK5rO+LcDvY3PrId0SxfbXsb2vAW9tInfb3tL2BgWyAJQ1FsFpE9RYgF830EjD72Mbh9+u0ddMtc2wHV9iB1A-BAwOpL88PECLdFt+3sH+lwB2zeAdYXvr59ssuAGo49xyraROIhjzvM92IQy9jrlYSsjgB1AWiUAI2qEDXm1z-9uu4bYnuHm8brD9h-gE4fghuHsFvh2hWUBlyaAVcEOmoBdoyAQ6vPXykOywfZ36HglxhxzYLvmXbmbD+QCo8evqPeHoAdi1Q9rsB3cHk9069PfmsOOOHzjnhw-ZXvgOb7293e+Q88eH3LHKVvO8BeYdKJqLMUeKUtaXMY9qoS9ki3qBhtWQb2n99+I-FEDgBqrq59YjI68dyOT7Cj0O8VZSd9A0nunHgXA+0emOa8IdfYcDCtvmOAH3j-O3NeSecTJAIddJ80+4B4gfb1D+K5U+PsN3pbU93y-NegD1Phns5pp5k80cBOnHYN4JxU5id9OEnJtlh7cyhkzRVrxAZewwmlObPxzvjl29vYCXmBwAMkwIP1Q2t7P9LBz3G7U5OdnObrFzq5yE-gdZEkHqIDpyYHiBgWensj2Z3g85uF2yypzzIOc8udawhbHjmhxY6+cc2m7fjn8ki-Ob-PUX1z8K5fevuQPb7kT58x88SvYuwQ0WYQEKMUeU2x0qlqyG+Y-MhOE7pd5OyNaieYvenVTuZ8BYZdMufnLLbly+eoDvmQgXLqm6nZMCqB6bjN6FwHdifs36X2WRlwwGZcSv5XPLoaynepeaPJX9TQ13y9Ltp25Qmd6J3Q7pc9YtXYr0B2WWBeIO07YL3ixC8kBQu4HwgBB6CA-gh1UH6D4Eucxper7dZMXJKYYH+ubgMjkRqkKycVNND4hrQhoykKaMJGiorR9o9LqLYBNXGQIKbhidzWVmcT7+v2LWb120oszpA3M+vHzNkC7BUbos86ZLOEtUTJYq4e4JTzchMghhkzZOHgZgb992IYyEfr9AHc+exSetw2IW4n0+3bAeEyfRmrtuMz+KPEYifVP4p+khIlwLxCQVqpQ63+hft25uFHCAFf-Ks+WoK2tLAFf+8dyYds0z7zD4IM94cNHi2GzwGcfTf1Xfe3DGUq+qN0IBjct5mzMneF9olKiW3heCgUx-PH-cS44P4cz1roBrs6W0weAbxxB9seyd8S6UwQMh6e7cBEPKeJqKY9Q-V3trNDl08YH8hAA')">function javascript_value(call, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     call, frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Execute</kbd>,</span>
	<span style="color:blue">The function <kbd>execute</kbd>,
	</span>
      
      which applies the predicate to the arguments, must
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      the predicate expression to get the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to apply. However, it must not evaluate the arguments, since they are
      already the actual arguments, not expressions whose evaluation 
      
	<span style="color:teal">(in Lisp)</span>
	<span style="color:blue">(in JavaScript)</span>
      
      will produce the arguments.  Note that
      <kbd>execute</kbd> is implemented using
      
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      and <kbd>apply</kbd> from the
      
	<span style="color:teal">underlying Lisp system.</span>
	<span style="color:blue">
	  evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS12CFSWfTRZ1SPRYX-FL4Z7v6jQfE4IbCONCDOOsOMX+N2HRRjg+NITzTP5NH1QtHHTBPsy6NrW+PiGeNRN9D2qePBO-6JNIT+OpOLoZPf5gHh7ZNCARMuPPHRPAYFPXErLZSeD3icQBiMCtjHR5NwbVPT5M5z4wwpPHEvHtOxOFPfgUQsBO69MeUAkxPP5+W1S7Z8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoYBOzXqrrh3aHOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixBnO3PfNxEsQyi0xUEKDM5GmUSpMKakASmiS7TKAASkCkAw0MBKnXLIsMUbiaahDYtRi6mhkwtaNEjYv96QtXGdPZgNQ+CQsARzR0tNk8huZY36DbwTNYQvMPPC2hnAs1YOBgtIzR0INMsNQMvsIPM6AbjBMiu4RagsDXIURHNv5rwziRS4sOKGbjx9CeqqugCRpYC7zSzuNrzLqqt6A6qBOmuKt6Ay1KbBCPiXMQSLq6uYkbj2tqShDrMKajDbNdh7PxiqtqSxCeyb71i6v6uGtBAZotB74I4AwKsBoXORu4vctKkyupErjyvOtzQJv3PemRvGCabPOXYTgdzKTh377xtmuhnJxFuhnptyvvMMYqs5tmtoQKkGtRCPiGaRsbRUtmgbjjUMtx39sZuMAsAXNashpbSBv5gyvC0DVzz9rZsBqaBWuJsjtmBcxyv+Dbx2hqneCzsVkbgADkepM4DzZ7Brw5B7AZqr0ro7TTZoT7SrxrVCHMpQGqi6L7Uj6k9V9muph1FU+45AupWIK4oHFUkMdwj4SboQ8737TozTAlwGP7V9W7srmbkUfbGHTbaHy6aH6bL7YFVg2DuDpA+Dm6NQeEsY-0j0r7obyE3Iara9YRjHpGmgsbeO8bzHv7xg0dZHMIFHlAoCcUNHLosIYr9Hk7woaTnRtILH9V9r1uJblaLQzH2HYgtIJHoAT7xQZ41I4ndHzH-SD80Ibp3TjIGnZ5hlQj9FUk+oiZpbmaXHNOhwGn050RydzAEnDgnEgEVs0denJ4BnRnknjpETv5k0-CKmnZrrA1jrpxi6dItHsI7qgEJ0d2KXvn6Xc0PzWrsX9niag7kimrFZ2X-0uXs4vzsz4dcXxXgneDInVHkRiXoa5bn60FtinqjXwnon10YXOoK7kXLGNXpxhX0FV9qXfnEBLlp5Zn126nCnm5Y+SnURTnanSgHn+shU+l-kgF2n-5VMmODUTU9HqT0764zHjr+TCnNXx1j0Sle4h4bD3HR8p3ORwTMRYzCnF3dgpx13+Yy6gPsnD33IT31Ur3bnVg335eL6kDaXjAXY5A1AyY9wsaEwSCJnfT9UjUW3v3rr4HSPUrQzvWYw-niPXYz22P7LVgi6sPI3MzT+K4kKWw-wcdaC2Eqlbq5ACBCzpA3qlYZmmWEEDgHymWaAEvyuEVWIsYigcoRQmgpgAwjA6Sr79qyvvJavHrRc6DwsOUQbYgjoMg8vogivgTi6mvqv7C5ZVzcGVv2vw48CsIcvCva7AGDvFe9DRusoKa-wFc-SYSsYGIbPdwNVKNofogqNLlsZuQBQpvuEPAmgCvtgYuZ5ySF51mpQkfVssvpACftgSfMBwGDSqRdzLlUbjEWfOfmJPdOUK3+306dfosJ5el6fAkF5DvufLv+fKf4q7vaOvmkfUXRIHsXftfevndYwDfHwgsk-IsnnkcbfvCBoU0y6DvFfOcwl-58FOe9AEHBfRfffMFToM-78Q-3y3fQWvfZvhfA-a8pfw-m-98VfF--wDFzfM-xCZgZfJfwflQkfPjj0FOKeoU+RfU4sf1ADlEgBBoZdI-3L7P8uEy-Ayp30mBa8r+rvW-v32L7WI3+dwEfh8DH5oDVeH-efvXzPIFtv+owA9HgNEB6hKBojdrhAKwEn93iMA9SDQOz4ICXwBbU8ivyJBsVf+a8B3qwMQEzk-y4gwIL1G2ryABeVCGfqdixZIV4yZXYcJkDjIFBbEsQNgK6yygtZQOPpUIHoIg4+lYgD3FgBDxe6gBmefyDSpHx0qdRaeoAGQeQAF5vJC4Ng1npfykhvZI+FcF8IXB55WxPByPb5MLWUEFAS05VTnlJBCHyI-BG4YwcT1sY+8aEpQLKOSC8CfMTEdAqAUUVSanF0Mog4JukK+i1F0MCSDIQqgCaLpShmQgNCUKqHlCt0dQ6oak2XStCvAcRToU2VQamUihl5H8tCx77ZDvknHB4sE1BJIIBhmRIEgUPa4d4mh3gGYUUXGE-EdOaiGYOdxx7LYdcSVR7na3h5Op1GIwa4D01pBrDZiuvFSpxHUS2BBe2kO4IwDwJgYn8LTfIDPwW7qJpO7fbZBeR6EBIlhtgPobeQuGDD3ii-aLtOgBET9NsU-fCtcIUI-B7h9mJ4QcKBLzJYgAwfIGaB6FXIehBAvOG3wW4A9luvwipkNS2jYizQt3D4SdGpHNtpOiAvgRZSWzchIRblRwa4xh5vD6OOnQ0pahYCYgqwVSCYNMCKBIw6ARfMUZIAlGcQ6AafHYQtWsTc5HWMouUfYHFQVwxu7XHstziAEB9maAoxIMKKaiiF1RkoiGIKKEHKB9RKjfuhaPlFi44iWULUHcBwY-JxRko6UY4FlHuoFR6vTPKqPzCOjNR2orVkl2Dx2iTIhomuK6IwaWoiIjoxQKGIVEVx2BywWMaqVMAmiD03OGMnbitEmj8A0wVQJWHKjHwAmJY+QFpAdg5j5WxooUXnRIDW478bRUsbWMbE0tBRgY9-I2JY4OIau8YxgO6KTG+i5RhDIkD2SLETspGWY6sW5k6B1jBR3Y3MT9nrEcJvelRdhlUjAg4xJEisAYeKCBhzCWYviJYYCLKG9C3I-QgFncEuEQinBMIxNM30dZTDRh7PZwfIAfGad1Qi4ywLYEupyC8RPsAkZoGPE-idOf4rUG5CAkMk-x4E78eCKrHqEsW+AedF3REZoxlMGEsYKoMzB0wTeCEr8bfEdZGUsUU7NDFsL-F6A3xO40QnuMEgHjkQxEiCchKHH-cmB8gPQJGkirtdjxLHaCSuFgmyCGSy6GiRmPSDLoBJkkqIEJIAlwSm2Ek+0fZEXQySVJJkIEppxwmrwu6-IhVHcBR5uQuxuBeYVtAxpZiHEwJenL6jjCYg3IRPZCI5PmCaA9OxEvTqeJ8QXk4JlhazGJCtjySRJrghkm5KQnOTaAmgDSSZA8kTCnBPk5KGhNwn4SWQg4rVo2UMkWIZxVCUSb5NEh+AdOhABwMCPQbUhKC3Ev7nWMNTJduJ1ko+Dz2XGJAE+R-M3oqK8mX0MkoAHnk1OT4tSXKD5UgXCLLgwJFqw5DYSVNsAp9GgZUuSoEELgK8rY1U-KU4M2HrgFeegXFvayjAK83khk0APyQAASUmWwAAEFwA4AKTAACV+SkAAAPJ71kAUkTYhFXwBmABemISnlgmmkwSfxqTQqblRKlfThJLHeqRkJpDpcPp8SQKZp3qkyBKg4U+gMExhmjx3p+gz6QEwOlHTTp50q6bdPumIyf+oM6kODNRmQyaxQM1JvVK7GEyJpt-KaVDIqjwz4sM4o4W0QyEoyIOn0wKT9J2GNjiIpY6OgwmPESlsaPpAXpMByD2T2ZSPRkELIsFDV-xxAH8XxxenBSpZlCLmchObS7ToO8UEQmZikgAAGLYtTGygHgvYokdHhZy3zyJKASCSQhbNJAkB9ZwkB2QMCdkrhQyPAZ5NOh1mOyRgK4YJm9lNk-AchH4+8S7K0Tsd5ItsgJqcTdZRFTivsqOW5Ftn38w5zlWqSIFMAdwQ53yOwFlDCgWy8ChcJOVbMhS2yNi9pc2ZHLLldhbZ-g1MtTCtH3ADwMgeMDT2LLp5vhJnYyNKF96qoq5FQ8HhHMtkylrZ0c6fnAj4lbQQeUoSkeuGbm2BW50geMLSPLp9lF5y8+MMD2W7mkzBh3SQQwXqimAW5bcwufgJ04TAzR6SccAsGHkDDPJu-D5JvLPnvF2+XwrYc5XJEv8IIhEsoneNyFfz+Bs-fhMQUhFEjdu38jvpfVKCXj6hxU4iLeUgnzIposC2ERlHhEqlQg6EiWCRViAvyV5lQq8fiMJFb9t4LImOK-gOwzzaJ+iJNCfKXlnz8maEC1gQu3ktEZO6kWIDgocAcid+FIthXyK3Egl6JnEPcWxAZD+8VhsFZCYH3+EXipIeIkEZmgfmxTK+EEAEba0-7t85+GpQCaJKIXwLQJSwk6FFMCDVBIJYZeboxBWmFFpAfEfungGRrOKjY8iq8XAoorKKWgFi5CZCNQUXitFZAsYL3N156LFJRQsxSBJaEmL6B28Q1hiNShacOG6cmCsgogUSxWYKY0QNfLsCHAfFqin4o8ScUuLO506HSY5hJ7pLo4gCA7skukVpL3Kx3D5CQDCUGL8g4A7AY-IpFGVXW6E3SXhMdblKu693Y3mvHaVx0xcZE9QhxJ+CUFucWEjIEkt3HOAJFcIf3uMsJKdKHiMy74fkDT50SOGwIlZQ2TWV3BKC2AjZXMNADFLkaMy04u0p4lRpLu5ylji0pNL6LgpjIh5bJO6oAY9lxLD4G8twiKTku0Y1eh8GS5i4flw4LSTVyGV4SNhdgHWT4BYQzSj5uwlfHelRVQcLZmVXnPVlkDxsdZNQ1HMIKLm5EHZz2YlRVNLzfZgMxKzhVEAMRsdpArcooHhkhg5Eau1zD3uSszm9Y3SuEGrMip1muSkOuEDWTFJ+JyLL6UwS1G5B1lWxs5G8XOf8HzkLBiVoSC8kCtyn+SHOw4HVYpNCkKzoVs0glYVMZByrSExK01cYClU-lvZS2HVQlN6VJTHWqU0HvSnuBPtz5QxRSGaCtUKqi5MA9KWYEyn1jFAzq3kHlKny7SMZtgC6VuAAAyUmB6bXFHjGyvcr0h6jrJ1Aayul6Kv6cVImClSoZjrEGSVPdS5rAZlgaGT-1hnVybocRJGZUGrXozDpCa5NamvxmjBCZVai2XmrJm1rUmvMmRpOINCUysp1MyaZznplRTwiFspmfWMfB8dJ1Ea+OTiruBLrBRsHHTlA2rX5qHiI6mcXzPkACz1Iiq5mj6SgbCqLZvquOkOsVnITlZ2axtYOpNWaz9JrELRD6uNXfTwRDUidsevrGnqyxxFHMqhKvWWhR1Io80eOKRjzJhYFPEmfQEUB-rhJSs+ZFmP3UDq0N4qg7B+q0nvlrKM4-lYTG9Xiq8NK4c3iRo3EyqhI9ofOlJC6kfcqNyHCqGrC2biqHBY+RjSQAGkYKRYjrOEN+oo3Ua2NNG58qRpq58aFgDPCTSdFo09jEVxamkGEJokVSXmSkmqcai1R9Bvhi0gsZjhUC8l0eEMlORZpLXXJzNeBBboTLCHwzA455S+vNKkjTraZnORzZCMLiwtVwhkNWVRhnG-1nIa6lcW7yUyMzGxPGoIPkDQQJ8GZ5m7dYkA4LGRTi8MzQFmN83Zz7o5mwDQQIoWNLp8Jm0wI2oQWEzfVxc5Oo+qtgbApgFqw4JqrSB2aSp6mx9U5vSBzSzeVsdzbhDpltbvNF5LLf5t9mNjgt9kULY1PC0Lqt1UWxAbFrxBTadZSWlgClstCJyLZGWmGkNpkQjbSNc3ZATOSaXn5yepW3kgFsOCOaKpyKy7Y6wx6NrrNKGzTndvhkPaOZtAOIs9vM2vbpZ72-pMVrM0oaytAMrzW1KEgVBkNb2+gFbHjVYzLp10u6eAE4Qw6zpcO3GWmrS3mbNtKtcHedvoB9T+EG4XICTxqZHw7tIqouX9pR4lbfZqDcrY1r+GX0cdua6HR2sTUprEdaQeNWztTUBT2uoqiCDDSZ0Dr8dZSonTpx8bUAC5YTUpg+Ly0VT7G0u8QorvLwsclNiQGrhLoLngFldOoHXQCpKhequN4m3-MrsCLEAkmKu+geCrV0Ttm0824WgBw42G6n2URTXSpEzUfJEmkuhYCUyUay7+x8uhJjYAt0yzg94TAcbAinb+yRxiYz0X6KQQMJONPqrJmHr8a+7LdAG-sVbodow0vdWu4pqnqUYpjC9luztowht1-Z7dhOxgLqST3cbwJwe73SkMxx1NdojkTPaRuA3WiFx56mFZBqrhl6egyo7aM7so2t7wWRu5pgm2ehmLfSBksNcZKylaTd2BJUNUZMA1OVd2u8exKtGz2mQpNG4pZFXpA617R91GqIuPsfHT5eulHclLDP92d7+ID5E9T3vLFqQelA+g0GDNhYww9BzdM4eMhVIRIZFbxH5UYk45-UVJD3cQJFPBVBBKoz3GqH+LyGtZrwnpDtnEsoEbgb9zXOKLBxpKsV596+rsQkoJgOJKGFeo-XFuwM4MhOt+66KfrcD3hJ9o9UADgf65FF64hcGUIZ22riirYAAThfDSCbAG1DfeU2MAiH1q4owDcCK1A+BNAKkd+TYuVY+B2trlYkYxCsCYkDZX-QIHwdlGKAT2J7CqGgDMPRb8oB2g0AYZpHB4-AYg-Q6IZkO8yKQGqXmYhhOhWAbwBhbfofOcFOHZRsh1w2Gk0A8HxgAR36nutZWyiOVoUUuKZof10adhNuqgyyrZWxGHwTupgwoBYNREZA6R1IpytrqFwso82mjpzCtgbgn2PWebdEBJ7T49OYwX4KNmAoB8zxF5UozEKm6cxIIxAMoyl05guUFu9qTo-Yfb42Hha14G8NDF5JJpM2WUBpi1HBr7bIFwCwuPaCtjBdTwWwQzhV1hBlTtQSgUYw8yfC7r9QExjcFMZvBNGYqrWIijUc55XHljkIiY0R0o32hSFP877cj1R6ftMQ5PJGB8b0PGAydDss7S9s+2A7nsQJ8BY4ekOGGNwx08zdhABNjAk0tpY8X1kpIOA0AFhzqFYaJAXGnjN4ao8lAYDEnwaFUPE1EBsMb6GEvM3vepA-3tk3j4mg1gWz-3bAADaGh8RlpgOgBbAMNXQPrvI0sGeTx8Ig+GpXFWTNxEgnoI0eaMrhWjc3YRVlR87-QxToxskiuHKBwgGolWy+hsakhbHQuexwdYcd6PzaTjZx9RUYh1PkUGo0tYrnCGRKgcZ+RJtA2ad07iqHj4kJY+1AWX+H4TZoVk1PphNIDVjnIzJfDNSK-H0eqJtDeoekYnbfZ4Jr7ZCch21ZEziAj2KNl1MUh-EtrS3LpJGCPgoFHpqY5pRQ0onMeSxqYwGb4FRmCt6QCs5WdJPRqxI5J4k9SdpNdjjIDJt-fZX70kVQzZoDSZydOG7R7QvJiCPyZcLM1hTMAuveJunMSmvAGUxfRGplP5b4CZpsUye0cnXJyevYPJBbgABCFIckOTxg4VQzznQFdax2FrgBZASQRgDUlHiZGlMF022W6lAAXTqAsaKIjwF0OLgTDSmF0zDhfB7mfVB5ynooGizp1TzNNC8+QCvMOZPzG4O8xphOj1VmCaCFcLqW0wAAvGYHhN8hgXizrpktNBco2wX9BygGQDMDND1UULaFm80piwsPn0sBsniyBYosQXSztdGi+JrosH8MeJ5+qvtIUxyga9FUY6b+FhAGYKosAB8-VWgBVZfgYwN1LqQkxYhQAx0jKpoAADsAADnIsVQBLbpqC+qdhD7nDzCF0oEhbCJSW4wBFuSwpboBKWlMKlnC0wVYDza3LSmFLp4Esivn8D-Fks1ZawDCWp9olpHgxaeDMWLcLlmS7qXkvsrPLupHy5oBQC8W+LFlyK9RZst2AYLh56zE1DfM2BeSTl4WilcCuImPLXljcNlcfOYXLzts9C7qU4vmXwLhVoS8VbstwXxLdHeqsJizq6loArBjcAABFVLFudS2UE0vaW5LSQBgOAGbmQcvCPVyi5BeisDXSrcFhyzVY3BjWKAE1qa7Nd8s008LWoXUsFdCsEXtrlloq9N0Gv0XPLiV466dc2sbhJrupS65oEywABWXi6BYKtUWqIMVs0HFZlwFAVwNSILOuFGvjWKof1iqADdausWOr7FzC-eaet9X64UNow4eeGv7H6q-JA8JahyAUhdSSajmLqU3pXWwiZ5hskZK6uyiIAjsZqP+cAuaBxUzonQBFYhvWXXrB1+i0dfJuU3ZQNNiqHTZW0VRGbS7a6-5fwuyWlMCgAXsQFrDXBsLYN3q8Lb2ui3aLZVxi1PsltU2ZbSmOWwzYfPioQbPFvWztcEsi3fOb1g-uVfhtVWkbFuCmxbZ+vW2Fbc15C+1evMYXurjt56-1aNsiWSbx5kaxbgumWogs2UNWxuCTXsQbAQdsIs+edKVWPzWVzuntJPl-mALeEzQCZZAuC3wbu1omzDfguIX6qidmELQHqvp3CAmdpm8LRuv1X7riQMKxVAhiTxxs4V6u87cNuu2xb7t020lZppN3k7rdjO7dROiZY8rEdgm+PY1OT34rHtyq4jeOtz2W7qdtux3aVvOXpL9V9K4paysj39bu1je7Za3uw2KrCN6qyxZDudXbzeN0+8LQADqMwUoIQDjC3UKoN0msKNhvtO2or99kq8baGtx2ybFuP+4wAAdAPdSoD241nafOU2PzCWM3rqUFL5BQA+0y1IQ55tkW17Bt2u-ZYbuIP-7gDnIMA6UzoPwHndjfGMFgha3DSwIXUukM8CEXfUjgCB5HZdub3YH716e8daQcoOGHaDsB49f0L22HbVd2+2Pegdu34rpNnUPVXAAUdsgy1pTFJk-bYXv7G4H+3dFoC6lwAgvU0KACTXDBPzwF-G5Q-2tiOD+Eti3Do+YDUB9HG4Qx1-dasws9ZCqXUgL1lL4AwOyLPWdsCEfr2qHcFj60xeOueO9HGFvx8Y9ABGXFHFDmuy45jvxO4bu91+x490fePUnRjzB6Y7oeoOQHcjmvU47vtxP6Lmj469AGeBiyfr-5z9skJMfyW6IbNiqHvSIczB1EaJ9ayfM2s8B0s9Tse407cc0OaarT0SWYF1KdOIOFTwJ07OCcWXhOCEFOzE+cfR3YrJtz62pbae+oOn6dNZydB4AV2lHQtnJ4c+htlWCnL972ws7OfLOKoqz7p61eSelOGb5T6Z1A9mcaP4HWji3MdLmro3RAP9ikG6ZMc53Xz75nGzdK1siBwAxvUwFESBtAuXrE91x-Ffcc01IXo8f6zC7hfrP2HWUSRH8l1Ji9swTF-Zw8-xd5PxHJziF1C6UzTXyXbmW21k+UeQO8Xoj1l+7Zede3jrJL6QGS9he8vWHUj+h4w43DMPHr2T1RyC6kSkIxgqPIl2EW7up3iLpFip3q7uvMAQrfdlVwK+EdqPH7sMTV9q-me6uVbt1iqAa9V5GunX9VjW96i1ukAdbTLtV7k6OdwWUEWr2wDq67sevU7vdlgGFdYfGuKo0b-u+rdmCd0ciqr4F4G6efBu7XYbh1w7qpecPB7z6Cy5MAZfNNKXHDml9w4qi8P+HogQR7i+b274cEwwOgJTfXCjGDTDGzY-hpC47HBuBxhwJac546lTjBAwyiZUg2BNlzYZ63JKc3PSnVospikaOd6NDBJzMMVczeRuyzmIDKtYUzp2-34XthTg22F0y3z48PhsBxhEYxMZUhzGsRR1C2-oDtvibfDBJ1PoqvJ2AILAPWSdHYMtclAiQPWc7S8Kr3BbVEPAFQ-fcSOv3EU7CL+6dn-vaDTXDgwEWA9OzQPK90GwK7zMNlPuQAA')">function execute(exp) {
    return evaluate(predicate(exp), 
                    the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:teal"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:teal"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIXXFVKBLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yfb9p7hF8MPjLQybbcVQn5raWtHHO-a5ZKemF2MdpJuUc706Lj2PiGqXQ5pgGbZz2JU-YDwvBdna84YJvlBb62k-rmJU5E1v5Pbwee65u25o0QgQW5VEh6Rqe2DjsWOi0fQvcYM2tcMHWa9l8O0O3GcvoYV7Q9hsRq+z2W+9AUzSHMjmbLshznOpXx0fINWvJ8lehpqiKG9BCEGnnHZE3AL5hCogOOamtqAKGNtQSsHsN7rwcJMKisQgqL1xHAhBNBkGe0uHPcBghSCXyAuRZ8-wYGpFyAoQg+ByhEL6vDZEGCoIxHfBbDIxU-5rw3h3fAsc0F0ABgnVc6stAiGWlNA89Apb6AkQRQRAdTqSDIKHdhB8I7TEgTo3RRRBFJ3kYLSaYJ2GPiwfGQMc0RKnwYqMGkbBaarlKPY16htpFgi1rw2+DcgzqlDMsCiL5DRmWCKIqytl7JORcEAygvgSA-2AaAmqOYzi9QLMCUEDAT5n30GbQwstMFxBsS4ByDBIGFI1ksV2oB0iZDks0LC-DhpVBDjOC+NTCBhH3somIR88lLQKVrLp5DQ5FNrr3NMgDiH9RRm8ZWzhVYa23rvfaJSoKzVSJQUgtZCmDTXks5aaz-aBEGHvOu-j9ZHOGicrehsr5bVlsZUydz9APLOZ0aW1867hSyZxA2BcM7Fz+sUuumDaHLQYYktOhdM7go4SuIKY4NQBWoaDYU+g5oww+PNZgWhFE0wmKU6YQU2nrwPPiiuRLzFIs4L3DFkYwkNnoFSDpNL9oOLPBKUACdKWcpnLS4gxL9p9KZSuaFHjHFCoJWNHl54hKKiCnKmmiriBMUKKE6MCcKUoxBWXJRBExkEsruY55lAJVAy1Rk7VmTIrsoEA4CWGpGRPEBAAPgaRkNgJwsBAKGSfF12sBa1H0D9C2yqdlpF9RG9RdTh6NLYCuFpG59Ahp3mG4Q3Ag1LUzfzDU+gbyRomAiMi-K5msJcIYbkjAmEY2hmzVElrlXQsNYimuyrXhOr2mNRqQIO3FzNXS9GrbbUxBjaKzQuIh1Z37f4-SPqmmxjWCAyaly615P4CzJt2MtHUuFYS0V9KSUXgGQ0WtQht2Nspi2gStxy6l0RRe3RpqRVVyRZMShVCWW6vJeUhWaNb3No2ZdK8ClQSfKdRDXdd7yqGHes9BGi7+4K0ZmTCmoGrbZwvZBncGHmZYexvdR6yGu0XuaMmgKDqgEG07t3TZkKoKNhjr4RkDGhEiJrkxRs3Y9SMivfWndxGqahzYz+lQvaC3ZoHTk-FwaTqhqLfxsITF9WrTXmxgxzopEbtkZWUxijVPcBkxqCFMyAUBvmeYA2o8mO90wUFd2DAZW8uNVeSl9it4Wx3jhl5r7piWdozZlwBtXVirGls8kjZXqMkpRF8xGqw7-PJK60jH1kuJfRhl8jfzXqy3U4B16Vm6Mo0IxwOD2HqYOaBpg9LiGyMvUcRVj2onYqNY+vHFYlLWtVZI69FLvcdOpZ1DEaz1b27Af6+zMe016vKdy819z032sIaQ-+a+K5KWrdZgNxxVzhvbZtQ6uqoXGrNSUFAOAiBkDoG6sSQFHk5oLSWvw6oG0a5OcA8dXgj0yAIxiAAHyB8ZF7eyPuA9ACDsHqQnrPX6DVra0PQd+l+5kBGpXQsK2YGICQwgGBHw5pQPo9wxDRp+6kLCX2ABkNPej9EudnEc7JSe46x5N466jAfbMp2T-HhOoPW3BJGgBE3smdeesMtI3Ovu84SIGOYxakwoY59kyeynIv-SojG3HAuifC+yzpWZ4vOJG6Wzz5YQUlc3htyrrt-JzhAPN4NuXVvAN27tERbOjunvmDBjBnLa3-Pa9fLr8gePaiC53ML3be6qZi6AXH+D2VJebeR2Hj3jPld2k9+n-636AVJ8DyB-b7m3fWIVy4PPOf8+F8yUAuafXg9I9D+7qvOOI-66F0x8Eze9sJ5N0A-v8eOsbct5XhMNea8O6H9jkfKfGCu+Z5njvNfvdbV99IUAAAxSAAANAAsgAUWaIEae5Bi6gHBII4M1REH0HBKARyxtVDX6juQWSeByAyGDqzlIPMNINCjU6gIgHAwgjQ2+qglAlAvSjQIAYgr+tIaA9CwA7giQxcnkl+AwoqvgwAAAVoYJ5IYDDOtMACkEAYYMAAAGw6DYB4B75H6n5lIKD4DIKs7-AMZNTyBKAf5cbsb0BX4k7EDb4BxaTP4UC9IcGgBsagwuDkAyFcheDP59A1DIKkANLEC1C1BoCm7PapAf4T6Tp8565R4G69637qgP50CJ7Y58FqJByaJGFlId43DYhp7S6RrcAz4+5z6TZ8FsbOHOaPodxKFDDZ43gb4F5b6N6pD2YZ7t4JhzSmEE7mFRbX72IfrmK2GTbeZrK+ZgZt6T6K4RH24+5q6cQB5GwmynLmyWyt4zQmFd5mE97pEXrghLLWGrJ1F+Y2F+HZJfKaznLhoV7GEd5DKBAyAcx4j9GcSDGkBPJBGAYTGVAcykhF7Y7zFVIuJLHjG5KTEcw6Am56H+6pBzq7FJG7LNGpGtHjTX5zo5HZIubnFno67LFQbggPHcBnobGTZzojonpjo86xCJElEjBRG+5AJqrHpa5QKr5T7Z4-EN7Y7vowkWpIpvEd5RFqbImc6pDTpwovHiqNEd7o7544lO7Y64rrBHrmrCyvHwm2KpDJq15foVH6GhHNzOEuGXH84tEx694MaPGcQuYMYXGBhE7ghCnfHZy-HZKcaBGjFjEIngllGb7smnFVIgIzyzYr6gnJBXGR43ECnpHgiLzUCzzODCkeTGL5H1HinV6lF2hdpylm4TIOkM6qle5qnRGukeSVLVJEBwn6kKwslBmzE2mHpVLkL6DhmYkqmDDhl+nmCmqBm9IkkJg3hJmnayDnbcEtTXbtR3ZdSWB+4GlMD7LDRqwU4d7fziTsiVkamiQhGoIOEaIhzcDabMbkhBSSn0KMLMIbzggjboRsyOEdkyHCI9CSqUl4mKwMJMIyKoIyA1m8kpHR4WJWT9mLkE5DkRnmCqJjntlaKrkSn7GrEyDcAzHJnxKhb8HrynlojnlTGXmgDrG4nZLGJyLyBmLCwrnfZ7H4oHGvlHFNmgAuZuYHJvDeKPnyZgjgiQXEDDlSbozmL7nlmIX6CvSwXJHXEblYUMRWSIXWkpnlIapeL0rYUAUJmsnYXHF0aOBfA7zrQGZGb0qOby6Zkq4zknHxJRlyDc4cU9lZ4jA8UMXQz4DGAdxgKBxcDMaFDCUd5YQCVnSFaZKNjCEwozqsU-lSyMjUZlngUtmyVGAbYQpnywXU5mX0S8oUm8XcHqJLZaKyXPAKVxhr7Z4qWMQfmcReUarOXqKuUgnuVcV2heX0XY56YyImK6WnrWVVidAQosDrAexCUhUSmTRiAk6mVNZQL1kcDrTZWniJr1JYQuZeU5UfTmWJW1zJVSW9xvLAiZXZVp5QIAA8TVhVqgBFeoqG+sD8kS4IAAKjdEZXQOxhfH9hak2NqdQLUM0E-gANT8qGJ7QkzrRChxytXhDLXIVLUrWGIfDrWIEyBxzFWTASL3yPzDWjUyDECORkJiBTVjozXTxzUQHX6gDLWBaxBHUfabWVXPRQK7VWRfUHW6J-UbWnU9UTBgV5RLbJZp7RZIiRVTSE43TYhpXTBAJCaA16g2XBmxgxosnbU-X6xo3ojYg-WFBFxMUfY6UKLsVAyoYqTvxNYs5K6k2rWzDZ7nXU13zUh1qsnbU2h2jnWSb2orADhJws6aUEm4gxWM3ozdpBYDWbhI3X62RPTlANLqLpLaiYqcJGi9peWMhyoVWSpE2Aa41+WtXrwuUjloR+UFLhUS12ru3KmBhJzo1ECFInZVrZINYbaI0bY2XI2xAMWVg+2Y11ZG15jY642tUE0q3CR84k1mUs0xDk1R2U0eYRy02SX02K2-lggzKUZs0fQc2IkZ2BalDwRK7FU2WZ0BK41EQZ2i1ZDi0TqgA6hSrYoy31ly2woK3flK1FF+gRLq2h2a10Da0iC61nQpJG761Ph-pkoNCNim1Ajm0mWW1+hBQ22yVOX22BWO1XjO0MQBVnRWKS0e08le0U0Y1+3TRWZnbVoXY8GtQ3YdT3YYCGWwIkz4JIIoKhaiIZlMl8nGkWIOBWR4KILIIkUuBwMEIezwLTyAmEo6zsLxlgmDA3iWJWaFSAPwMgPv2MhE7piSlzDIWxBzCrjiKRwfEcg0MxAcj0M6aSkYQsM8AbjsOUMfFHzcNHx8OMM7gaTMm+rIVknOgMMNCSncSGAX6+DIUKNKMyMcMfGT0sOT2xiyNFCSk3Ak5VIsCGDDmGOqDGONQrB6OFCSmLXcOxD6BqzcC+DhAAjerfzLXsagA2OxCSmeQOMxBOMuNuMeNeSgDeO+ODIfFwjcANDBMROhOgDfyQgRMxBRNwUQjACBMGDOOJNerJOgBgCRMaNiMACkOTCTrjBT38ZTaTPjpT8F4kDjVTSTdZUorjjTEIAAhJKC03k9U+44U700CJ0-w2I21ZUwM206AB1TEGM6I-BW1QCIE60zU7M0CIk10+CJ6lMyE+s96vMxk5KZ6is3E4UGs0M9-Kc0c9s90zk4U4UEMzEN07ENWemAVL2sg8AywgWE5YCCuG4eEQMNwN84QhvDiUQ-AiQ787FPgCwPgSYFagCysEC8iAU5w8Qyg8hTXpYhk0UGC6QwWDiY6u8AIIS08swC9UCETpKWirUMhfS6mGfatZk+CJAHQN6MbMo3Exy1y4kvi6y34x8eYwwLAJACw6K+K4K0K2y6K8ftw-KzK0K5KQAHLkCqs5PquqvN0ESfNks8BYs-PTatUovTBosFNK4rmgtGuELAaQtfO2sezTZnxmsNAWtDO4sXiGvQsoOUsQwkvO7am4JOuwtYMwOPUbmwU4IMDVAMBqikBLz034HkDVi1okyaB52rgUtoMcBSzszaIXoXxRtHBFAhZ-HxiEAM0l0eqcVe1qzSIE7F2KIDJTwbr6AUuCJJ3g26IUsmvt2tvroiAduhuCLwuIumAQr80+tAN2sl7+XKuFBD3aXNtoWEO9qaViBfDJWmyj0l2CaVvVuKJpjb4Qv5lXZtS3adSYCGXQUUCmAMCFwfDlQ3CkAtytY4USP-abg14fsXVtzr4q5-s7XX4MD7WQ0nVxy-uwxMwcDfqpqel4NAcwckQ3lSYKA3BpxqJaBM7HWE3FHyHKDKB-YZBDT6BGAQJEdJONTLX6CX7KAs7ghP6lBMcC17Vg30eLvOhMcyl4foWGuSCJIjTHUQITKidiDDEwHVMRDQSKUJgQdg3ggQhg30KYfGDYfhpAvFvmxSfiekq7XWDghoc6dwrBwKB0fkKfuxoY4Xz1wsfJq6Qgy4pQa2egB05YCoQ4oSMY43i2fhAg6Iesl+egAjPX7FDwgrilDAuDCuf1ngjhfGSlB3uX4zhPuxSvsty2eNVedalvWWnwyufucVoxBc6-S2k9E6x+e2BkQsfKfLUme4hmfRcWeXwtffpg0edFBP7gfB0nyRqiJ-M+b2nBffWrjddg0NdMBkDmc17VJVc7WdeFDwiyRkQtLxBCeSSgjIUXw2uCeNfTf-tOdU7ppZdtwNcQhcO5pQZK62cd1te1yTdmfVepwQdteRfX4ADk+1F8inX3HnzQEHANtnxn63uIhcpAcc4P0ncnEDLJZ037zXUPXHq4kpQgwge1wQe1DkOkVkFoxYe1+yHA8IF10EpQ53SuSPd3lPAnUnU3pAgkCH5P2e1PN41Pk3SPYFKbabygGbM4nimsHgvmPSVn5p+XOMZsdnbLovCe3A5X6y8MEvLLsQQLXP6wPP1Amg5FAvxcbgenwvh3rNpXw0Ev73kp4X3xvX30glGsBv8sZsYFUP90n8as5ygvbgwvUK2Kk8s1Yv+vZKm9d5aejIK4HhfX3OcvBRCvNvbtRDbvxgBOkC8UGg+gjviGzvrvOvEK1SEvbtqqgfG2jHXD73WESu2vvmUekCtcNeZfbgFfEy8HKwzQXbBfcXgjxf8gmfdfl8CHzf7NcXqv6bGvfPDEjnSMyl+fTWSv0TO4A-6vmv-PHfQvN37pOfDfIM4-1aS2NrcfXfOJ2qmK0K-XOfZKvZHx5vFdUuYfv0OfzKlERtFKGsNGAdnEiSJAHvdb5ZrSNv73SuJvjfLQatHpNEhfhxIWgdpXouyCSRIV+O0FdEhL2ooQMv+hASXjeD-4gxJ6QAmerEjfhDcIBsAsdGLnsp49tI5USgPgA7gewBgFQQYPAI-6QC3+8AuLsQJ0hocqBVSWviQOyiBFaBMPR0iMHwFWp9eYFUUtUG4jrQCKJMcUDZXPAICkG6aVrNIO8qzl5Sog+mq1n0AsBVB60WCkrk0FGxtBaHPQWIIk6DYjBH2WCjeDMEGCfKHkKwRJzjYVUFBDla+rIKZCbAnB4VNDlFUGBOCCszgusHQLKohE7BEg2DnJWwqy8XKYFJvLDHf68DO8RpfCmbCsjhcIqnOMlhDFJhrxkh-g0zLPR3IOIFioBYQBwFIDKpi8hAZeDb3XpYoDAMQzcMfzjoUhe0dgjjFoPsGMALaGsSIYFW7rpUXArQ+skyzwzSg56BOYmAwGKGlDMB4VcurkEqEaD2hyWOwTfRzAH8vex3A8H7yaH9CeGWw+YVB2zw59uABw1kqv27o6oahuw+3iuDYjxDThEvMCkdX6AKBcu+mCoDDF8AjE2QHw8gF8IJyGBSQrgskkYBmLvdfh-w+aMSCeCM900nNGYlPwMDUc9kLwt4TIghEjEURp0BCKCOR6ysigGIgEaSH47VBg4HAVNm1kjB-Dvh3AQkVCKs4k0wRbcOkYCJhH-8S+iJBEQMg9RDNSRZAckYQkJH6AWR0IvEc6B5Hepnh2IoiDMRiIJ0sRrwmQDDFGjJ9SE+HT2vEmVHSICUgQU6MJ1RFosI2sNGwQeS1GTQdRLw-UadAZFxopRDPNuMmgQ58jE2-QQUVSP+FZsVgnNBUYuwlFNQzRjAO0VaNeHe5dRgkOUZNm8GxslolIUEJRRQ7IQuIVAHoS4JYwtD2hbQ-QR0M9gmUPBUQ+IYMLAh34NQ73bwaEKkFJi7isw9kVQGDiMBDG-EOwcsPaG1wnYVY-Mc-w8i8Q6xDABsd1V4i0jkx-g2ClvXUgyAkwDLHtrnBvwTj0eCHdOJ0A7ZDi2x4Qd7qbXGz-96hS47XKWIbb6YhQTyOMcLAHGViUxfIJ0ZsMwhUBwgdOBWFhBXHF9axZAesaFG6o3heIYolYDeBXGIjFQ3Y58b2NfHNcPxv41lkrh-HTsVELleuAtXHF7AGWTwj7BwDIGBiFRTjSyumjyZ+jk0aQgYn0C7hVJGAzAyrhwNRDcBHeJ4x3uFUwSNg+xrmHhC4kZD-ikggEviN1QolDjiJ9AbgJBIIhUT8xuwuib4kYlxc4J4BUfkUFKCOj-+zFLdpIFTxoShJDE-6GBV4BSVRB6sbcVZ1e6l9rxuEziGlAtF6jugbIboECLTEGs5MaUHEKZL8DvldhA6IsUElEBSTfUAtQwNEJlAu8iQX0LSTRN7TdBGQuklSfEK3HdBwgLHcLgLW6BWZkJoAIagAAlj8DAAAILgBwAx+AAEpDVIAAAeVVbIAgQBleyndTYnsCtI96ZiXQDPGwU1JqDLyduLrGS9DJGktWBX1IkNRGpz4mCeIEkDbFxYHU9lGh0MmdABpFUzqbBUSnJS0pGU7KXlIKnDS+prU9qeNPZRdSkgsFQyUGNakMAfJUxKqbXDNKDS6AxBBUYQKhKiDypxYTqVVJqmuC7RnsZUUC2URti-sXqV9GoBMBeBCJV0zgTjFemWQeGMBZ8TVKn6lS1Av0yqU+KSA1TjicUwns60XJ-4gQAABn9RAIagjkVzBkEoE+8qYsbQYNGhxmKwHAyMuIMTNyCkztAy1PEEVg7wIySZqFUgGhxcyYzChYQ8sYmIZnS9Yo1ASCPEKwjxdkKWEbmXjN5k5o-wnMuDhGOySBBI07M8UKkGqDZAcZyqd8MTJ5nlQ+Z+le6tjMqyazsofM5KOSASSBAPYjkToC3B4ErAY0xMD3gnDdghE2Z6gnIaLLy74y+Zi6VOEgMXRk900KI82ZbOa7HCfqAchgBbLYAtxUB0fL2WAMIA0ZdhYciOS3ARn6SPIFQEgCIFSBR9CA9ESQYmOolQRTZWhcOUHICF906hRMWIQ+CuEuh+67QRcU4Jrk7CAMWJRsgnEuEtyN6LQzMcYNjadDd6NUvoa3ITAsAWcwwwxKUHHFRhqazQJOUHKbGmDVhGYDzp3L1R85Wkq4giKUHnmRzg5GCALrvKjncVbeq6JqIlU1S3DyQgUQDEfOF5gUoxB4xhNrD+BSzwhnQO6RZKpCDCZCSwhwbmITFLhhxTEAcK0NC5MsU699VUHQE2qsTGxSw0wS2J4n4jYgp4IeT20uHQo7Zp4DhKyzwCQgCFK4VjBmKBBNj-53ONBcApRSAYwFTkiCA7OlCwK+xb80CYqEXmOIVhKEaCKhGrF+hTIe44dr4I-lUL9+a9AcBnI3TZycYlCvMYFVcr4LCFNswDDOPgno9b+rKEefW0bYsKEqbAIedfPLbZIHATCoCYQD3C-hC58Q0cRJDEkMt3uKi8SfOIblZAzFoLUkGuNkoXjChHbGYlONiD6wBFBOJ+ZJR3ivzXFPACxS5S8V2zCAQI3cY22jH+wQl1AMJb+HCXUSimYAAhZCC8VYQzFN4+nLAnTSxLJexi06nArfEq58lrCpdlUtJA1LYgZS3EMwtL5ciUFXo7PCUoaXn1oJCHBxQhMMWVE4iOMkaHSXHoaiEh3eAUmMqIo4zEGKFaGGpJ1ipzXBNeVOfxwZmBEVldAkEZERVzrLJeqPNgBbN8C7JKyEXf-oBztAHKwKMbcgHrOGgIzyJtYCHv7GhnVTQA-EwKv5INbQxEcDyxkHLMcqtYlZOMVObxmkwwLylwk4qBIiaUVKU+Ly3BO8u6U9pGKSy+GH8uvSpzUVsQL5dfTpkJh4VMKxjrYrnEOjfU84u5I+yRUqzKsgRLFYwBxUXpZJyEhSWGIzRQrcQMKrfHFKmkMBMp1kAADLH5Cpy6P1IZXBkWMEZocW6cONcF1T+5FQNWOtLETvcWpXkqPDKtVU9SRpmQB5aHH456qFw2qyaUlIFXCrRVi0mcMtIJzaqDp90hUWiMGDKItpaEnaXtJ1W4qYgCFHGadLDHwgp+bqjlULNmUcB-VLw4nrcuDYGrVVn8+IQ9KVFUBnpV4BGQU1fR3KHldKuSnKvCpgzJAEM+1SiuHFpzzAO8BhJVih6IqyAyK4GTDP8FGTBIjqsMY9OTXJ8VwW9b1AnAeltt0R7o8NBem9AJ9jpocDiXWo+V5qL0fomNtqrHV1jYZI2W2j6IfnUqq1UPM8Y2rVm9pWg6LIENZNf7DRqe4INpDSprUr0oFny3dXQvHDvdy16DU9RD2rUQ8N1donqTuocDQZUKQJankurDGlryyrU8UH5J2VnEIc4g4KQfKBzoZYhEG-9XtGCCUDjp-cpVZpK4liJPelclDWrCA1obkUbKA1oFKBAerywvk3Dd3UbDEcH4SWNDY2rdZ6Rg1lo7oLj2OkRrTo56woEVBxDMbVpJ0u0cOQThYQ0N3AP0ZRrlldIkNr6yTGvPtTKDOIHwBDQ8uQ2tTs1W6g1lVMZBvBFlvRFTSAo2FYagNB0yBY2EI1yFlVu0kjftPeVu0uEvaUTUlgZl2i6NBEBjcZO2AZE-VfG6zTwH4Bcb3N4avjSyxFk4zhNSTOzTlgc0+ipNhtAxZ2PMBsCGZwQSGSRJ41WcEZdHY6VvOHjxaRluGhDmwLQ3paUtrA4QMOp42Fbrp9AZVPJsCBJbDZjAZTWRpiy9pnopWire8EZD8qZpWUnKflPABMROt6U7rfNLFWCbjpIWgpi1tq3vBJMQUcEBiCM4mj5CJWrNdsvJDVaPYDMuNspvBVNaDWk2mVR1vNWCqRVfW8kPyuO2iqmJ6aJ5UiIm1sA7VOMvfgR2vzzboh+JYeobHwKgMpkwI7zlkCmRoc5UbwL7SiB6TqiL1v-WpBsotgzhgdxCSZFDtcHRz0yaHOaPLXJgpAQdBYMHTaIxwA7FtTUKMgoyx2l1EddAyHSjoJ2mpid8OnHUju4pQ60ONQMQENAJxVqft5Oo4YzoJ3mxuIs8Y3mTviEU67KzuchAoCBIc74hyOuyvZWB34BlZcOlEBCl-UvCrO6OxXdjo11WpJeKu06Ahzl3KzTUWu0OMbs-F5xV4HsKtUDvoAk7P1JOvpItyFa67wxVmTjWaREB7UT1UPZCgbrETozscxO+Xf9Mx3w6X1Po37VpThQ07q0wokPUrsl7SSnOTMgUZSM+EDrPMq62lXKmj2mBY9hge3bXGd3iJiut2oZoHsN0w6Md+e2nTnu10oRDERek3G7sx5WQvdSKlRpjqD0nsMZxAFnWvH0QNrX1za1EUmpVFU0el6id6SXpdB-bDkmmS3bSuZ2s6H1ccSvt6umCsr5JqEjla7Wq71JN9KExtSfWvoedYIVGX1PXqMRH1X1AKN3dj092Z6z13AJfVoG72RU2pxHbIdULoGUpedFpMjorz8WERScW7eFqrD3ZSw4Ns-Xnslm5CZAw9f6ycAfSdWj6U1zoTtcZHVgmB+Aw0TSFSxoBkd+acBvRbkP5pYVZeoTSCRgMrDIL2lWA1+HIIEDEwUkS1U-cV3BDQGh+GqYnjcmpBISt9R+3hSnHFVn0i9t+nzRwdTZq8YDr0B-fPpX3IVOD8-BiCe1olfwq9ajIEAAE4TgQCVRp8KP3g69DPEAww9ONgA4Pgz+yBYf1tEF4ahmC7FC4HrIozIFhQfQ38P0AfcPuVkNAL4fY1rC16Xc4KIo0+HNcPgy8gkSYb+GNrY2wcYMTiPCPP7wm15K+bfRiDuHZ0Tq8w+rW4A3AXeGRuDTX1SBVrqgRUE8GQCeg7wBWPyqkK0EZCp8P4zAF3kUaXEhxcDdAIqIpyOBRryQA4dQpUe5Yhd1IO8AqsbhqEZGIQ3kHyEUc+VIq5CnRn+AEwRBAHgjSjEdntxX0p9jgPdQ2ixAHA0ayBFAqpCVvDStA8NeiZbQloWIFb8tSGwImca819GKjhdRJEMYkgjHsirh2IBMfBBTHvITINrYIBOOiA-j3kfyDscCNsRotKwH46CZ8hQ8ykziZFnCaWPd0MjR+7tU6rQMT7F67jamuz1pW8S8DmQsjq0DPHCaaDTUJJtNDFFt6a1Kfb4vwcP1BicJ9eGTZKqjJCBDAjkAHKUf4Cqbaj9RpFU7yaMZ8heYhdo50d2rdGrEm9firJSClHDH9j6sk3wfWhsrt9lo1kzNsAwEn6TxJ9GFkMPWy95T6iCkxQYKY0nblxyv4WcoOSFoENCB1Xa4Od3iH4KnQE5XaaQqt7lTPLQQDadOUVlzw-qIo5sY+7MD9A7SgADpYA0tvagnIcZkDBBzOyaFxiEwwRoRvD1+fo5JWgEnBQzVa8M6RMjMoKYzcZodgmfIFJn6eS4rYbwBPC1wegWEes6AAABe3rUADGaKDxmmAVZ5M+QYibcB2zGZvSFmb7zPHjANUVCAGk5PvAeTm4cMxWd7Oex+zAzK7mI0-xWQWAe1ZQHtXR6TAPuaYPAAWdpWLnM5lZlczWbXNS89q25rcnueJ5jn-IQAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:teal"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:teal"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GsiHQADFIAAA0ACyABREIzBuDiGIMpCCI9ijCXIIWCCoANbxqiIzcQ9i2FswdCwXAiZipRCsB2UiylC3xkEOMAQQQ5FLkpNwWgQQQDBhTWRNA9Y2DAFLOYSN+sWBMREGwCQwAABWtB9a0HELnYAVhi20GAAANmTNgH1-rg2hqYGwSgUx83KS9GWCsSiYzpo9GwzOlABASEdCQZSlSmDVrCAwWKSaXR1u3RQs9F6VQBgoYxfdGsYgiSmEmES0hpBoFJTsI9bCXVinlYqzFqTsXRrqbGlU8bNVisfJBlgHB71b0TLQaDNAmRyFpWMiZW9lAgqNZ6jkcSsOnvPYRp8LAXy7uIBWG4FqjIepo-COJOwJJMf2Qq9pRzEMSRpBSddyCtWDIk-fbgzASzIs+c8wVXGLpsqWfx6w35SaFkAgppTtAVNsrU3KhJonlWWOUFLHF1B9ODEM3fRTTBlPUFk+KslRQjM4eYPqJ5JqWmdI4MwXAxynAcpQnpjgvniJMZC2F45OgovRRi75ucXSzNBfIYloSxy8y1K8wY6caUr1Cdg1ZhDKrGZKRnPwSNnnHwZzq2VyNTjmw5fbEciCrWGtMAgviBZBJUvIj61eyTIxzkEdU3oYwSRTVMpFYs0bZIIj0Em9J7ZZTOsLfUwF0gI3aNybc+1egUnpsdeenPTTlijsDOK9Ydd3BSB6XG+1nb12Wm2MlJ91b8TxAbfO1N5BV3zNot2JKS1m4iuPh2Gxjjs2Zkwcs0q6rNnGYI6ayhX+P6EsjQgljob+T-sI4YxIFFqKthUZ8dpwZOwCjDSYjKpHuzvuVbR1ljHEFGfkGZ+h-7MajNuZM9QJjNPPkYZQgA4MM3st7fITTnjUvorqy4AwWXMgnS7bZxZrs2uVfcnW+1GXWu61fcV7cA3-2lMm41wRg34OthXmtxycD1gC4yAU1klHGKOkjQU4rNwJLSXkz4YyCklNyZoNIBg8Bs8WmX3qozXA1RpCJroSntPAgRYpEnDOOcQN2FsOcZnpPRhFTKg9wAovpf6j0IfowuB0KfxIO2dHqRseOGYMr-E4G5NCnFJyYDEvXCjhh9GPwyPQirwD8hlDIwV5R-z4XxPiwEfBGcdkHPuzC-jCrmX7vvf3fwFj+ltG7PEFYcoRM7ncYpBHVggtHfH339AZ32UMaUA8o6debjBmCsLgakbSCWZFEAuKQYZQerBgPSDvaAvSD+FqPaAROMULNzOwWONfKfTfeAnDdhcAwsWzY-KGXAmRZHIjafNA0iUQf2fmVPKEdPTPeUXvW-YMe-R-WkKmSgpTDA3-R8fAJSNeNyO+WvV-eJMEbxVcAfPglCP2c0dgXSXCBcAiNYPaRRKiP2RQxKasFLcgugZPahaQUAOUPYJUOga-aKbOe+DgbCcZUQpAmFPCasECKQikXGKnCVGvBcXQDwCCYPMwhcWRe-UAAAFQAAkg0OAABBcAcAINAAJRCMgAAHkAA5ZAKieULoUlXADYVAggwYAjLAuPA+VschAQ6YKwkQrAs-IwDwOQqonwAorKWvPhWoswuQucMqZon8f7To+wLgEsUAlosQ8IyImIuIxIlI9IvojYIQkQO+JooYiAlomohPchOQp-BQqomw06OwmoxWHosdWkEPCMOpRRSMZRKAOARAZAdALReQXRR8ExVKKTY5fgCYC3CHQxYxUxCgcxT5ccDwHISxccKvGwRpQExoDwZmcOO5Q1J1d8A1B5DgcZCEqZT5ZQD49o48HYLlfFXVDVMXKEgcBSGaFvc7blQkh1UJbFbEsE+JHVQlGknxIEskwCJkvVYkmrekxocE35UHEk+vdk7o5TM5QUnkwgT4hkvEhzNDagZzVzdzWktlNkl4sqPTeU3pMqYXZU94qUnEswiDdgY9FgVk6E5jF8EeLqE0k9XDfefDHxFfPfejIJRjTEo-eoXkhocE97JE1Ui09U3wUrfrdMerCbYHLbQ7J0hSA0mUwJPHIU2UEUzORMyU6Uvk+JQTJM5Iehck7M9Mw0-k3gJnIOc00kxnCndU2cEYFkcVWLFzYzUzfJLEg050poELNEsRAjGXOXFs2Mz4osmWOWY5ZWVWdWLWIZYYFgO+UAQ2EUmsgbGQ6KSsus5QXs56aqHJQuNgNDT4a03EGEHaDwgMEs2Ancvc6YA81kAMe3XGZGEtTiGQWUtgbgSgIcDeOpOso81GbzX8HgmgkCast4mNN0inQ89s-6BhHzKUiIagc5GQT0xoGNe0jYUYAjCCpChoXsyCvfIXWCqMG5bZQ89aXXCHCTflACqxdmDwCi8GFvKkcCKiw06WQwgQa6B8480YEc3ERWFWNWTWMkQZV7PgOco2SsyOYwXoPjQZTs+Bbsr3FzWgVsz4naFyNXXsxS83bUEw+wbUHha4YC2skcB9O3POBTAkFSw0JyOSxEgjW3dXTXCyyRbE5c6BckzUgzHUxskXZsrvbE9YiHRgZ1Iy98dLRsvzOYTEgcrcJoPM142s8KxTCkmM70n0hct4pKhgLgGg1Kg0iw9ywCP0jrKylqLcp7V817YM8Mj7YbH8xUFyNis2Ti8qjpYsM7KoEHbbOqmmeoFyUKnEY3TbBCz7RQbE5qhSLaXyRUPaEyoHBZREkCI8Aauajqi7CUu7BIcaxUVquigFVamkSxRE+q8SRPIaspREs2VwTi385Ifq8k4quzByyMy7Ua7asKa6t3PaIga5IwqiL-LIp4lCWyn6sUmhGQSZNzMQn7BwSGw8YU5g+oAyyIUGkzDZaQZQEG3pMGuYK8OGz1RGUAN3OJWgJiakd8gk5koOPs41NYVq4qyXY8owNQ4bECP04a5BGm9wsoiHZ7Kqhmuqo8XShUQEEIAoRhOQMm1Ev0e1amwa0yjm7qza6yqGUmwMaWymrkn8Lgl8R64g-yU7RW6Mz7Gja6yalGB4PZXTclKkqmlnAMoEGEkafE2W12ZEulSXHmcEzkoklU-JOzJ21JH2mk+Eh5WnOzEIQGz6mSrzIMhHfU1SvybBd9XBH9cnGJVQxw7qLaNmqWim12wozud9dw767GtGmhdQ0CDbNE1G9ZcG7Oo7HmrYAasC3C5IaCoQD4uCoi8CBu5QWu9GpsKytymgIMgsjHAK5pchDOPa51KWAa+THyvUj0-WmKkelMgUpW-yg0hwn8f0MRICv498Te9qflaK964wa5UO0ZREmQE+6+6jV+NKKys2FyMRAq0e8k4OssuknevyK+92sqflb+t20jJ0xUAakBt0M+tlKy9s7a+SCvOJIMl29VFk3+xOtYAB0jW+1B6k6lMBlelIAavBu26Byec+tsiB-Kt3M48VC4qMGMa4tRO4zRHMIGyw9FBgZ1F-QKrYWcipbhpgD+y0q8r81C-DZQVumKvhmgHrNtN8j8keQbOzCR9CqR99F+47R7aFV898ooA86GjneDcCXARWBR-RoQZRw3IS+stRh9HEMQvLcLMx0ASLbRx8UC99Rx2Rqu9qJLVx3Qh7Tx5DLuwihC3AJxsCNAlx5QQrYmwZGer+XB6gRiqJ1JCCWegbZQb8NJ-7ATZJ4BnGXx4TODf3IO8GRWLJ7HaKLJhi0HMRMQmnRp9ehrf8Vg2LAi+C0HSevQq8BBnIoaghXppumgVcAZ5Bkgdp6YD0cCkhUqubebUZ0IQGS+LR3oPaG9WLSqvSMJ7p4YECQG0lDOAhQB5S2uKG3x3JUjc57smxk-aYM5nEThfQVwPQ1cMg4JlCS+Oy55zBV5pZsi53IyT5jh6BRvGCiYbukam51+c5j0YsaYEZoFuR-gYMSpEjQ1ZsBmcYXODFmaeGi0n+FjK8khTFh5W5ucSyihRFzpjMzM3F9FoRM53QAAHj-DRfxapZYrqOHIbEghCLQmY0IAvRlzsU5roEwnDXIGkBCETQAGoibj8JDc4OIKcWXQBFXBtGZNWlW98VWm1cAKcCXYrRa+XIgIJBXKAL4mANZbzgxxXhhFFSISyZXK0dXFWsKDW1XyXRlmwtXFZdWvWvFVWjX-4toIU6Mw5MIH7b7AGFmiZY6pSOk0JmRkXkgSaybfWto4XeqUgrbIcagbmeXkyPiU2nREL9a2nKAOm9me6vcDSS3kgQhAHk9VwWWsLdxbgTWsKW2s2YZi3zoHATXuapKdqnyPjk8tm+bdmume68327ZZ+X43GYVYgkhxv8+lR2kZzbprARZqSEQIDrhmaHTryE1bQkfmnmP426gQfmFKP5t3zZCZlmy3mY02aGY7HxsGESz7SNX4E3XBJmJhy2P3MH6hM3Axs3KWI2mbaZ2dC3oOm3eW33U3K2F9q3a252ELXKI6hlDU23Sli2j8PAPpVwCXX5kPpYL2lsLpB3jZOoR2rqpK9XkhqpJ2KkMkZ26XoXkEF3AhuLl3-3V3CB12gxIaxLqI67zlJKUgbqjwD2t4j2hmyWL7GgXIaOr2bm-nwFb3AR73wYMLOEn2LYLZ+rk332G3PivV5FziD0VEbj1F7iMAwWoVFNyBdyKB9yvzDyncoU-cjleLGZ3PPPyApgankQQvLy15XzxhzkyzfOutqc3Vvyllo4LyvOxH6GQIjkHgetlxtX99YggQVbjAetrRCvF9qgSvnSetBpKuVmIgau8uCdOkGvOlmuUgesYbtWYbGhSujAesbZw1JBtXhu1B+vauCdBOGBKuZvAQBu-HIIBEoguAPRaBBsVu1vFF6hFuet5WGvjAZAP9QAJAQRshZzFWL1QA9uCd9ZDvUgTuzuMgLu5zTujBbuMn4JlBkhjvlBnvnhZyoJ3ubupuMngAHu0wnvzvQBZywBrvPvwIIIABSSHv707mH2c5HkHxHyCe6Q79HgH17hmM7sHpHgAQn4gJ+h5e9h9AEp6olJ5a4ydZbR5p8B9AHZaMCZ664J1ZfSAe8J8x856ogx7J8gkyDZ-++F+yG59x4gkyAF5+9cCF9p9nMV7l-F4gnJ8h7p9cGeCMHJ+MBfweEQnS48+i5jTOYyEVGI2XB9Ay7C6y8zCO3N9C+8-rMoA9CHQzEOxt-qGI1xFp7q8d-C8oxS5IsW8CCi8y8-PocQijkcJj6d4pNhT96oiOR6zYu1bYqj9XqW4gkgEIDjVe0K6L5L55-z954ya29gEgEq9r8gDz9Xp6y26DQa7b+b-1p61SJYFSMh979SKo8WjN6T9D+mBdut-SFt+xE4meA+ckWT8+HxNd7H4t9j5du7P95SED9p5p0icX-H9T7xSO1JUrL83X5T+vLxHtfKdpuWfP-XkEjGAkBbg4CHQ+GLGIELhe3Q6ciX8qKxcoyCXIgF30CAy47+nQQIAky8xtQY2dbBCmIQ7o8dwmoOKWOLUEBAwj+VvWFqx1XxH9J+g7dAbwAloAC4+mYVEt7197nMsKoQAgTbVPqGcwBxgadjsxQH7MrEsiTZhkjYJe9DM2HZBGzTbDcB2B9bBPnQxd72dmGtxDRJgFc7eZGAvadqPVnoBugsQDADjM-CMa7B7EjiZprajfDwxM8SuIyFoKPJasOACrFEC3B9b6CiE4wIwUjRKQaZh2BghwfczbRYhgyuGEYPqELi5wdcKLAMMQGIB2I7AbxOQOuRCEw9FEirO+iEOTwQRE0vhRNHK0DaKte0xAZgQ0CSFDZ-Bsue5q5kpDqsQ2wYdcvbnKGtwihr2QkC9D0IGtdWEESCLq08HYYlIPguYMRggHVDFwG5XQFq20BX4PGKEHoZUFGB0gZc2grsJMMzwQR5QueZtgDhGiTDQARSLAH9GfJRIocRkSYboDcTOCzUOwjXEeQZ6Mxg87RDwFvjvrHDEhwebcB4FyYugyAHAFQa7HUEcYZhTQEIJsK4Cut+cYuFYWsMJpGBxQjSIXEvVFyhJdhzgRGL4WaGKtRhiYOkKuE0rQig2wIxNFYMAaolyMUycEUqUhHXCe4-QvATkI9Z0CNgVVJEVcKvCojjh8MTVusMCAIQ2YiMS4KYFeyQQ2ulQh3pSL0hIjTWiw4fNcE+HJkehkEerpjRGgojjhQ7IkfNApHFCxhDAamOsN9KlD5RswgAORWCZcjQnUWqOsGhsKckw-7KMPgIyB4CUw6JPvF0GRBVwVovTkCB6yBgc8isBsNqzmGUBhYhxZYj6MZjcNxgCELcC9A8DiiHRaUGApIivCOjFRVI8Ye0XZF8irhsYmMZGNJ5xi9IVokRh-xSik0f+jA0uH5jLAi4tK2g3nP8NCTe5M8Lov4cSnfihMIRyKb3E6OYzMhcxX-AsYiWLGRoSwlQgjN7kFHcJ4kkNMsTWIJzB58QODNEqOMHG94FMIjXAjSmnJ3wexpY73GVSfIM46xMqQcceVmrIZW2VERUNiJnFgjGxBI5sS5lIrM0x+JYoYkIF7LuxsQS4iQCuLXF9j7WA468aOxcg4CCODMCCPV0zzAwpCUYXsUpEfF3lw+LgrAfeMgmOVNwiYi+IeNIyJC2uIE8CSLiaL25e8-4h5IkI7H5jyAL2REgsMCBhjVmqEw1K2KORETv+JEwsWlA-EEYZRTlH8Y4LzyNdIg+E0ZA73gk4SChE1HyNsC3ENIpke438i5B6yTj8OKJM8RJJ-HCSpqx5fqi5maowDHwIld8BuKnoQ5gY1Y4UuM2vHzil2kQQPCJwEqTldSkI4qBID4ARcaAuTTmmWJKbWADJJk4Uv008lcSZuWlPiuOUEoKQmxyIZyU6xDxXI-RboB-JnGmB6gRAsgXSX03sk6TrxiQggkMK+YrkBAj4qKY6jAquS9JyXRlGFOjKDiRGgsNPkXFrIWS1mrkMTkIALgcAy0AgcYAwBphxJ6w3AKsmlNuqiS0wOwT3JJIU6OFKEFCaeOPHwSqcXMJRJ9ss0oQ2Q2KAdeqZYwnjZUWpbU-yQ8yo4hAupFOVePygkQmdd2-Un4R5O4AnUmgFcQGHtKuGDicmToCnN5Iuk3iWOIkvqa+3UmKhTOehW6d7iCIbATAdgCfvozzRUQAADNkTiQiQNYoWYGb8OlaVi14sgXuPDPrBEAwZQM8YNCgxmjBdW8gV+i0kDEgzcZDAf7BnBhlrSWE28NwS-CxlxSdxbocgM1CKlv5rgfhbVsDGJkIzSyrsZmXKLMHr1mAkNKmblGsAqhuwwMrBI4W5kViE4zMw5razhnYy5ZfMlGWbDiS5BpgGsOcBxiSl9UEOQ0tKULVEY2AlZz8LabLMZmOpmZPLcEudJ5aUTrgWsjgDrNEAcZjJL01sa4BdluyOMz0ziZmQXEvsghvs3WZLIcEiMRAhQJsKiSrEzSwY9gumYgT8iazmA2s8OaUSqhiS1pXuS6TdAnYF5XBScrEvnINrkJgqwjI8PJ0WjYJcEE01uFNMaTJzOEzHdTi0g9AGFGo9kJCh4FTxTUkKIQMOe7OETdxb6HoV6QTBeg1yrpCHAyboGWnDyPZtwCqOEmKjpzXZ4c-pkOLNb9ylIbc59p9WWZLyyxIjZARxBww1sTMb4QhNTIA7bTd6v4MaXgmpAEJUE20s2NVBwSnDc+cHRqoQDVYb5KYB0yeBIiIJV8S4s0joHgJao5zPcM0H8sQQdBQQUFM1UaQ3PrkiJG5r8sljNCgUNUO5GCn+d3JoQmyiAgClAkIlQS0DXAICgFGAvWEvQ-oH8I8JOAhZMIS5kCj+eFBOnVRo5jCawGLjwWJy7520wkKAGQWoKDZ5CC-AwRzzKSLa0i9sB3VvlAI5w+C6OvIPIVGsgFQibgLhG4CgwU5ehJPIBPoIVpyJRwWRRYvnFFygYBinQGXhIS95BpNefRQvOFLnz4Eb5ZTDfP0U+gjFnCFxdXkiCGKPFpbdhc3h8XXzxgQMUGP4ofkSKwAKCqCMErwLXB3FqwofO5MBhhLM82ivSJQto4OB3F3s5ILPh0BlLAgBS3RVcNKU0KmgUhSpQ0uQrGde81i9PBVOsDEyyg61YYNoIC7Ko+lXeTJsDMcneYEUAhZFMTKaYpcZl9zbmQVJmVuTEOV4QKFLJ3kcwXRogHWRIC4ZpQEIveEwZ1HmXr1z+2GHpcTKgLpi8CvICwNctGAIEXmSdRwgilYDUhiZIEYWVvFFlvhxZoSGZWbFLqAKqKS1IEDUqKW4FiiLS78JMsJFvL1aMyqpSkFIKty9CNS0FWYsvxME9g84o+i8PTERyZm3jBFR8qlnezWC7BakFsTpAYr0CNBCFMETGIcB4iSsAADJBoMi3+PYFDMGS5FBEystzK0UnyzTfGFReYvfGFUWALhIYOYo0SEDEyiivCSfMhP6JlRFV3sYYdFDVWCqCMoxCIiyvZWcrZi7UeVbqqlWEAxCNKhGRLR5ibFOCOxWwuFgOItLRl4wY4qiAQhOj7VAoDmVU2Bkeq8gwYkRufw1XFEH5rMlEHkA3gYhiMPMT5c8F3znLBVRK8aHcpv43seY-K1AmGuVX3KxFIjEzEAIJWPLLRNy8NVewNC+NrVPIONRB0PaJq0YtIG1UUE1B-8722cQYkLELpQq81GazhN7K-yhrgZBGXtemtmlR9K1qIVpviotHwESi8hamI-P9BTgg+GhDYEyhSllrHlkiCCKFRLUwFZOQKchKuqIBdzHopC4UkWvDTTA516YhdTSuQmnrQkpU0demMkRTqhQXSiVXfA7gD4VlBrOpW4T2EuJGSNeVwitk0k34H8zALtcMWpDrwqid9PKZas3EDT-lCxDuD0TLmuA9oC4ECI6r2LhZsNB8vaKENli3Ieii67flDB9UWgFwvo7tdQEDXsAj10fP0LpEY3waWNbAFRoCGBg9FP8MPcjcLJNwobF1pFGeUjC1VjYYN0wbmYhuEJErpZe9FZumpAiwrZohIwFXTRzlVE-1fanDV+EcL4aqIhGvSPsUM2kbXl5gUTYKuo3T898dGhQgxoDEBqaVbG1wDHE41ub3VHm29lzOBlCbaeIm25NzMfXuEpNz7L9tLhyn2aGwcGlYlCJQ3aCel2G0kRzHikprsNveLLT0WQ1MbLV-2PLShoK3waaY9ABsHFPE2KaFiZWpLSXUcKjJcphWyusyomIJEkiaRcAGbHa2xFOt0xLlQJpQ3BbngzWxLYWEbpBCII6ETKWfzi2XKpZLUSrbBoU0IalNOm3DU1tEAKqR1IEZlayo5U9a1gB2o1UNsBhXK0wMPcbYqvcIuQZtFYObe7m2YvY9I34IdF+WcorKuwzlQXENXe3EwtKgQ49a6kZS-aZNNABygDsRDfjzcvjZ6fdme3ccbYH28VEDutGShwdWUo3ArRR2A6vtkaz2YjriQOU8dMO9HfDqMhY7SUIkYMFJiEAWiCd7zFeUpUKH+Y+cbxJncsyJ33MZcbAJ1hTsjUI71672ygBLOh1kBzmn66UCsu44S6ZU8uwlrmQeaLre8ouiWVDuoCo7JdMgRXdkNcD7qLRB1eXbrq13ExLKTI1etLuphLJvNPOQQJ6MN3pjtW6uorfIJR1i7QkZOyXQ+qrWRqdgyOqwNrplTe7DsMqxGlxJVCJh3gnwNtTzCd2lqDqoen4EHvN0fqSEEm36L9xh4e6NdhtUPQRgL33BgR-Ua3XeDt0ejFYCew9QsCD2e6E+0MpgHTtrI4UVdj66tc2trXYgs1DazIJbqqhbCHA1einLTvp0HqTR0ElpckEpUbAOCAoR9jCNJIz6H81KzgiwqYVmF5QWewIGXodh271Y-ovdbOud3KBR9IwBvYMnvgZg-QqUi6b4wGquZSYzOW-ZIiQpbNeBCLHUgIP6U5jP+xE0ifyhWiiBfd06lSBp072xru9TQUxX3qaBX7QhtZSqXimqnvgsKQBkositSATB3453GhX5OwMZb9aY5KyW-n3oAJJOCrRhRiPoldixEwYliqRxbhUrF1OnViNuEjp7A26u+jkHbpoOMSyJVe4-Y8u1Z8GADOMbIsgRnLCAyYE3KiAAE4ugcScbpIBYPA6UJXmZQ29mbXxpHE9AU-fx1apdh6ARmndiJOqg0AGY4M-jq4E0MyAtRWoxWGgCcOea3pKkj6cYFsPttINgITQ4urXiJhLQn0MoJIhoBGx3GH1MdjYZkMqHrVOhyIOcyxCrjNDZynZZIH2Xvg66VWkA0KF8bW699HGnnKkb2WVAhGjuoQzXoDBFH0jF+rzIpngnj7nyhAGOMlFGBBITMNQ5daACnAgRXx74uoxBKLwPoMjTRv0I0I6DBrdNaYQDG0fjQXpThvWBgsMAQhwdbDEEQ2EbH6Mi4uj6Yl4DHCMDrHTYhBlQNEYpzmjCVU4WEObBOl6ALY1UKjTFIcRcAcpcwC4-xyy3cyEt+WkrYVvTqvGD51UaYzW1mP09+YJmXFhcjg5RHbYagSCOsfnI9EAwzxzSHCcNiHGbqpna44qFWMomjY8BdYNQT944n7uT7XwzSvbXvRm1da0vb3qQpnHS1DSpA8MBQOWiMDUxnA7T0HLezh9LJugEwdn2r6BQP+U2mOxi3RQDqgYWgBrEcQqgY4Km38N0aoi9Gqgq4zYyWEGNKRGjexrVuMdIqzUVOSnKiOM3KMU4pw+IPkyvpYNCm7tLSOkzAUaOUkKAbxU0xfH1P7xP8BByJhycjZ8rO1PRJVeOojX1CIDFIKkz4YpB2IXuu+f-OxiAITbkUJeOxGmr4SzSnR2a1bn6YtUTrZEqp6wBaK1EEEZAECgADpYA0tJAooDFNwANg6QW+07tLyPL9QHDjMQE0pEjg5mGj+Zv0YWar4lmyzMcyoJQA3jVmi81wfAMlEkSLhgYY50AAAC8FRoAEs+APLNCBKzw5gg4uDnMNn-oTZiCC2aXJdA-oeAIahKalORB8zy5gc0OZVGE8pRGTFgJ6I9CejiAnonPDCC1GIQHQ7ZvMxgJXODmqz15p7reaR73nFYj58xi+eDE7nTYQAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:teal"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BEuwAGKQAABoAFkACizRAiEEkcof44I+6hO9NQVE4JQCOQmaoVRkiM681kngcgMhjaTxSKAtwtYtm9CEMIDgwhGgu1UJQSghBDCNBAGIWZtI0C5AUMAdwiQhmeXINyCoChfDAAAFaGE8oYSRbVgApBpMQQwwAABsOhsB4DaV03pG0FD4ErP8SgfRQDsA8F4T2SgFksF5k1fAwhfAEEcGivoLt1ykC0tMigFyt6YuJaS6oghMVchxY5PoNRUWkFADUWotQ0B6I8mHfFvMcnRMUcPOJFcrKjODNUCZzhUmMPFeQBg1K9bG0MJKrhNxsTPzMe-T+etuCFLoQw2GaIPoEo1XXEleqrGEyxcoLwQx6l2n8QE4BjCw4iSdbPBRSDYlX3ieCES4dmBaGwaq61uSTYI0IIENwESalyK4Rappe943CPoNxVEPwk0psMGmshGarGIOQTKsNcrQDGSKGo-Nyr6BFvhsm8FpadFWvpm8YexbNWBHXuW7xXDR4MECDIFReIe36PzdHdtpA2b0F1em0dVjx2TpUaSJxjC+0LuTQwTosCLEVoTJuyoKidC0yCakYw7QmZDMDafYN1bUEnonuCe9tZyVxvpoTb9j6vrjzCPAsdV8v1tB-UM8E3AQOzo8oB8lUaqDEGwaushsQz1bU9UUkpjCqg0pnB8VD2Du6gdqThkY8Hd3xpTcR6NaHOYYcThR7DLh7FhFo6HVIaHNC4iQ0++DYHK1pwyEUrjgS-WpEkR8FDMbObkaEtEzuWROPNNvU1DlOSE392le+lR4JXVeD-ZxF12m11RPAzuIzHLYPUkAdxp6HKiWOss1ZqxWbAE3uk0ewgAzqDclRM+vTIalG1sThg-zIIgsqoQ+YUZxbO1ltPeuupvi7TZqk-Gn6YgWOV0oy4C13r4suAcke0geX9BEDY2ll9aRxPVYuaV-6B45O5aa7Vjz6XBg1Za-RirVW+siYTDePrOaeOnU3Emk+oW33KKTVZYouiRXmCNmQRgZt+K8XtnzTGetZv7c+pvEZSZahTJVqomQZ3hC6RMi0donR9A7a4lQcIl3IZYZWM0YJP1ntvfrSsVWjNmas3Zh8RTL2HZHf1t9rZmqNz-crsveHWFtZTBmDwKgxtNuhQtjeXiVMG2xhvOj-CekijrZNlti221Cfk4p3pbaZPieM4aDTDHTQrs3fBBNzipa2ocEoNlUu-QFD6HhodrC8NuBPEBAAPn5eJ2meA+4ezkF7KAcBEDIHQIHPEgiPIxxrKhlRTNKzKa4SXSMUdjdnjju1BeylSgOcTspH7acj5O+dApeu0kslv2qcQt+H80he8Adwc3nOVLw5cZU4L3vFSq1PMu94zANEZOkWbugFv3fw-SRI8J9Bj7O5aCngvxiE91qj3nsBqasGKcT0DsvPx8FkfiTX50HvU8FucG2jtqbi9N-ki3hcfaW23wXElwfMiO85+j1zsVtqJXD8x4TPuW5l8aq1Z9HVx8Gds5iOq1zvh9+s9jJ3xU3fBPAcAaXu34coNAaME-5DJGFMwPy1TFo8-a+1ws3fj7qPlptitnrnl3vDgGqvkUMnj8FAdXr-hAWAtFoFlntASUIINFqfnbh0FoPoIlouslkPhHj-hbgfquOOqHujLqrll-pHvPgvqsC0KQOZIZrZPZE5E-L4DAuQPDF5D5DgahitnglgfgQ4NwLQUJAOHPF1AoMqqim9I-GIXQJMDjN1oGBoAMriMmtQHITQAoRvsiBIZVpJjmM+P8NIakA8oQPgOUIodasoaoVBDEO+OChkMVIIXgaMg6qfsiETofoUGrEzP2jngePQGRufleKMjvpIGQLqn4eQQEYICYYkQEYlqEfICwmCH4Y+HVv3JGp4imu4YwZjgUQxKnkjGCEUWwEnMTs0GOBqGGBRC+IaGZMEMoVZOwQ5M5K7PGpQL4CQPwZgVoTVDmNDKtmiKCCamwuCvoEmoYPQRbmoUFOVrQXMe2ksEnkrpkHJIbIjp4V9IRu1pVusc1osf4WhJQVHNQaMMcVVvMd-lHj5vGg-uPoWlPoQTPmAYdmfKQOwgcfoPugOh2sOrnOcSUbELAfbngUCYuqnnQaQRCTEKZLHDCfOgOsevvoiXzkbinjfuRucTjJYdHAoPxo-g+uSkputHGFYg0aGOSM0RYcKPoEvnJu-kxjAlSWodMEFACUcQxqRo3hXGEJwFHgFOYdyS4SugIPyVGonDMYyA2nyW1gKR-h+iKWKSuMSWUTbLKePDMU4Q2kFHqRXDMUxIUIyZKf6Fwg-viZEQNuyehkpqKfPuaWMRaeMY2A4PgrUIyHLgCIrqpicBMcCFMaHt6fXhqPoF-OCj8WJl3DGZsSPqpgbFjgePoBGaWpArUNwFcQwJmcwrUFQrQomY4mRPWr6vGoYNyIwLYYYoXskl-kScydbhSUJt5laY2CBoyDfvJhyZQF-m6eof3Hxv0eSdBrfqxkiTEKUCmbGGsP5sEUYDWe-PwKEg2dIvESqX2e3sKReJEUUNWUIKufWZXu7AJLcI1HaUkbGA6Yxk6fBgEhaRKc4cObHtKaIuuWecQbnKzgpFfHHpnrFEatkk0qzt3hXkXrPoAWhP+TuJBZkiBQ3HQpEc0EGQyeMSAg-sZt8TjMLMyqLC5j4cfExI2N2HqD2SuXWV+VBbqj4UBLEF6bfJGbUB7ECHmQWdmYMORaYXkaPrgV9D4akSsEEczObmEVkbeNyHqNwJxRqAsYic8fTA-vAZFoib-PqpeROsDDMfoOfgCZGtPl2tBWCQedME8TiXDCnm3kKWpVHnhdKRTDskCACTZawtUiQZqYUPggHguJ4m5cRsHnhr1LWOcbLFwujJZS4A-ghWgQgUsVBD5UhX5WdLFcBUFWfiJaiV9GleVB5WCYiakZqTqDECGa8R+RnhuVXnZfPjjElUFbpYBVVeVMlZleZdlYCRVaeVBbpQvOcUVa6eMaro-OrvIEoFrr7LrgHJYIbgfAon8V9JLhpVYnwQrJQAtVFaAOvkoTETqtwEJepQNNZmCE2qSbYczH3LBpEbtXEftcymFdlpNtYedcPIYXGTEuFjuDIFZM9XYZdS1tEVIrvnEfgYdhelOt9aADOk5h5N4cyqDcteelMVupDTuo9ZxOkZWBJWRjIGDcjZepDdeptYTDqewm8JUXjTZqTcQPZuTZzC1v6jpZ4ujO9fpsoujFZNTaZh5NTRUYpizYjVRjYrQizUpZxI+l8ALvNOJZkWRvZUdVYjeMVSGbKZLPLeSD4oMMrVhY4JLY1CwL4QLISREIUBrVwlhJDA9ecI2Oio1KObiDLeEZzIyOhSGevgLEYEFQpdQVLojsld7QxJJg-PGpDL5fEQLM8KbTST1vgRHTDQlgLDMeHQdpEFHXxTeDLJhYwqJSEVjbLY3l7b1ApSwOsHbbVQreekzGIOip7WYqBgrBwG1DXaeEmVsQTFpZLP7UXd-iXcYNHIgRAY3dXRbP7eEAADzAhV3N2dCt1AFtGbjggAAq9cW1QgpKuWvA6GTYKBtQzQUyAA1IDmzqXHNEKKfqPaAIffZgfUfYzifW1Gfd9HqJMHUcwawUvSvTIMQI5MkWIJvcxtvQFrvaopfbfRTvfTcjIOfV7eEFfVZKA2ZbEBA4-S3Rpmqn7liL5b1UFcbeSDrZWCPPXNiOrSsCAkebPoXRTF1s6Cpo1qPYg6rDnoQ0QHpUkRLfgFLf3XnU7ZyU8Yg80MlZvNtPQ4frMJQqg4g8idSDWcWZljAzaHaKgwxRmFqcyebpvLbSSWSY7VkdSeZSwe0clZ0XQHXOUPynfMo6xC+Q2o2J9kCKrR7V5X6EFOQ7HXrGHW44DMJWhKHTcRzkOaAGxGbVYubsw8Q4NZWfTPVcakHmYr1Lg0iNnUw+iOEwlSuGQzI13VQ3o8JFbvGf+DA5EYwwQyk6w4zuw5wzo3LQwahdSEFUI5QiI3pKUPBNtC3b1NOfdq40RPI3+E-RMAEzqKowYOo2tVPPbVw9jfTVaYEQY5uEY6orZKYyIOY8dt5Ewg3jAqMdqNY7GLYwLIyA40fE4zQ1wq46Hf7Z43yN41EYnX4xHZYx6U83xaE6U8rS7Grrit7Nrn7HrhgLNf3DoXodQAYUoX4SNvVmzVfEYaokC-ITTS1nC-oY1LoQMv2VnuC4VtYrI1kDkc7IVLIfC-YQWGxaGTuOmMouCHMPZrEHMKuBcUUJSxyDSzEByPS4kZSxhCy2mXyrGAy4UJS6PNy6POyxSxBh3OJvZhK5kM6Py7EJS9xIYAMuQL4PZoq8q6SoqHK0fhBvPSy-PXyxyxBmbKoEeiwIYLBia2ax7CsNq2Sydfvdy7EBLtwL4OEAGaAHwYfZq3a5S55E6zEC66AG6wrp615MGzEL6xBnCNwA0EGyGx63wZCBG6AFGzZsAAGwYDLsG+64rnwWAD60azZgAKSZvxu5thvFsptpsnXiROvluhurVShutFsnUACEko9b2bCbeboAHbQILbYrNmY9Zb3bFbfBE9MQg70wlLY9AIAbDbiboAc7U7NbEI8uo7rr47oAiuq7rb6787sbhQi7vb8uQIOb+74IbbmbYbhQHrMQbbsQku6YBUjlSLILjUoy-tgIK4BqHqAw3A77oL1qkmBLuhRLoy+ALAPyJgA5P7Kwf7yIobnLhLyL9mFqORdrlOqHH7xLqIkmkUb7OHChBipLyilLdJt2sl4E44WHN59rEIkAdA4y-RNLTHLH079HM7xrVAprsAkALLVr-HdHN5lLVr3S3L4nInSRlLAAcuQLJ5m-J7J502zq+2njwMR41C4t+wCL+xoPgaG9tLjYB1p-CengOep1SEB9p11UnfB9MIh0Z7hqDd-jZ+Z6IgRyIVoYOuB8i3hxEjC7lu+odpoWwLiK9GqKQOFydD8uQNWNWV1JoGU1eO56ixwNghiw4NJ0UMF6PAiEUFnVWfGIQJM-nZyYdjnWVzw2COfpoUue51+5Q5I2uGZzp-I3V4ucjI14-O-NB7BwpS15p357hy4j7Tc4UJoxM1U-Tfi45Zo2IF8CXVPhkTVz2SV9V5JWmB8yNV8xNTrv7JgACyoPQOte8jOA+h8OVDcKQO6prO9enJnJuBavdy-c3sViLWUiRLA6ogwDfcg1A-+8LYo1938PQqmS96DxwPhvGg8jcI-lqloMOmXHlqF8oMoJvRkKbkYBIejxWx7IffoO8soCdlMqUOCFMnvfA4fcTzl86BT3ButXNEHSGR2mcufUz21MYXltz4OpIP0c8NBMEwmBA6A+CBCKA3DxqsYIj0WX+8F2z-0dzxMGL9YLzujR5Ir7iMbOLrlg941nr5duCKpndjHmKlfHr6AMvFgKhCyfkzi0T5VqoYXNizeHr+EP26ostiUaUED472tCdstsZKUOTRQKYAwJd7FDd+6ob36M0Hb35gFrFsXpb9b+WTEIfN-AQQPsZf7+D2ROTxL4fVr0wGQOLttGse7z9zb42iA4fcldMTGcoQWAeiWhEu7wg6uFMjfSXzr3727yYXn-QpfTX4UPCLJGRIbPEP0blKCPZrlqZ-z9r2X29-dnPIjrHyPlrxCFy7mVfBX07wo1kO74v+z6X6QIJDb9fpz+1Jv5juCAAOQ325Zi9P9X8OYo+P16-x0uAl8PqkCn5-+IbCuvVlUwCQ0MT3P3kALp4UEIM+ya+sEGvoOQdIGCNwMWGvp-EOA8IF+tBFKDb9to0Ao-voEIGacl+5-S-nDnwGUISBN4EgX-1rAACxaHkOLgl2UBJcZw6MQdB4E7SnF3qYXVAsFhmyXZKW-A5Pikmpi9cjKESGbBN1iB-sWB6wNgdQE0AzEuBQyNwMr14Gr8zenub+EIObyUtlscGBqqHib4zYSipkdtJtSAFEIeC8MNQTwJmzNkDAyBJPlnnMHclbGvXQRkCBXAN9TBR8bPm32LzmC3SBLbgWgOHi0F4oBnGwc-DsEOCNBv9XVKEMNDGlvB9TBWOCC5aXYsIdOeQOoOMBRCTC3+C1MmgiFFDBsEwCwb0Rb4+D1IQrXIQUM7QoJaCqZJrmYhOwKDEuygjgQxFN4wEeWzfdKnE3PzKJuhSglQZwPKGFC-eaxcweD0oGI4OhJCUzhUNaElDxSkYfUMSTMHtpDSuTDdBBiMF1NjUAQvQfsMsaWlXyvJKwRhUiacR+iJAXgYLUBb7F9hl2baPoPuzz1TixjDgj0SkHmAnhCLH-idxgTMYXhIAt4emW+GY4laHwuHL8MWyLM7I3RaKp8WMrgjKiFrJgeYAtDFhyowuJqI1AGAVAta+w14eyAGJfQnBWQgkdVDBFkij0aA7SOVGIpODoR2LOmp-i0GbVNIFnbqHgRRGW1pQyzYeJ1AYDqARAHAUgOtGcREBsClI18hnxbKpBOoWgmZoxUcryxMUxMF6BLEcbtpHYUMW8lwnlhgRFUGoIpmKJepTYpR+yWUX8JhyqdYgzQXIIQFPxixPEz0XIs+W2FMkXBqQLCB4JVHWkrEWED0afi+GXDuAUYh3gsMGa7NnGNpO4VmAwrR1Aw8YmbJtVFwfRE+wRUJJIl8BFlDAbICoMWJQSGBSQVI6Vv+BnSXYKxKrKscSCeCpk8hjTGdLIMDb491qYuAsczCbEljke-YoiF2KG6H4hxLYmHqHAhHRd+gChKcevHLGRhmxw8asfry7hlifeXEVccOPDitiahHY6jOOLQj+lFc1QY2I3EXF7iiyS4g8U8G7F+hzxH-UcY0hnRoMqyfY-MTIEkQ5wDOMLahrpn+h-ikYUaQIB9GzgQSFApsACeIWpAziMaoEpmOBLFxQSxcm40hNBJ3Fzk1+c468RUlvGDAG0wjb8YJAm4vjfx2OFCXmPFy0SEI6Ej6D6mO68A+6LUBGEjneoQM-ehOPES4DSioTIJ3QNkN0BrFQQuyjINKDiBEl+A0amYp+JvEo76RtibAUAAI35Eyh7BRID+JxIcoadugjIOnG9nCqiYpsOIcIOT2WxqTQA3QZ2ELlACL0AAEt0gYAABBcAOAG6QAAlRepAAADysnZAECFdogIv65sFkVpHw5I4ccJow7KxJRaaTopG2HcQJPYnwxWhrIqKVThUKpkBJnQBcAyPw5gi8pmQCKYSJXRy4uRTklye5M8k+T-JgU4qZIHFgVB0pUQzKeeWymHYBJtElkppIYDaSp0XU1AZFOcAAoyJwhAjC1DKlsiKp2U2KVSPolUT-x2IVnNrE3oK4DyagEwF4CPSMBCpESdaZZCxxnINssU7sWFLUAzSsp1EpILFNpj2TMBtnBwOsiBAAAGYMiAhqCOQJ0GQUkSgTEEsxBgV0P6cuhenaAgQT0sGXONAZ4gTJCYKGbkHBmkAwRhMb6VNnKRSxRoUM0QSYmoCQRhe+MRHOCBOFYQcZAMvGcICIGvc+JG0GMhjPFCpBqg2QP6etHfCgzcZsUfGS7W-q-SOAifGLJTOSh4NGEfYxqI5E6DupORK4aJBqKcENpSgaM3mZrGdHky3BXM1MA2m7whjERfoPAYjjFkMAJZbAd1DGMID7lGchs42e6gRHmztBV+BmIQACiEyOMgQcWZLJZnQ9NqFQEgCIFSAhDjRY0VGOTBpg4wQEVsj2YLBWDEk5ZBw9uGo0exZBNYkeOOVeGugbUG01wyIsLFFj6jxYb0RxrFICYrA5YikmjtaLZylBrsUYSRs0AjkmzbYbUXSiwD9HagbeWcs0aZJDHvYCIpQeuabMoQPhW47IN2UbI9lK17Z85f6DPWICDMMx6dUedbN4GbUqurMGwqmj+BYzyYp4BaeJJ1H6jc5F0A0QXKPjJyXRTEAcCLE96UccmwEhwGfVgnmxG580H0fqO-wTiigO88+WA0tIxy-sp4JwgETwCQgQFK4YWAfKBBixXoksL+ZnRLnmiD5188ucrFjClB75UDR+fxGTkfyYg3os6L6JQjQRUINMLWQzHVhbyMYsCuOgyQlIDgfZwRf2TIi-lnyOcqdYBaAvgVWJTsewc7FsMohhjbh5Cs+VQoOzOyHhHkdBbiBpzPY9wv4UOVyLsbqRrsPC27Eb2UWHIBhTBKDE9kICyKdxkMVMr9kwgzowGGBVeVHHXmlpN5uiwDnIojqGL1Rf2QgDWMuzmLNUHDKxY8GcWAc2Qoc0AOwshAOKEc6ZXRUvBXjr8QlpIS7JIswX45aEoSp8dMAJykhElDQGJdIrpyniuO0wOnCkpwWKgOcqZbhRov5GpAnp2cQUjAlZphYa0aCe8pzE5p-Tua5gN4BIlYkRInph2C1J0v6ygziKnS2sfb14S0IelO4kQWwAlm+B5qtYeEBDxc60RWZn4qJlgSPR8yvoT07gDYPmmgAbB8ioWI5QkT9BGAT0xkIEHpmawmZMiTpaRUcoxLqixUYnOkrxzECGB2hW6XQFSUNh6AbS3PocuPKdLPl0wXZdQvknSgH59yk7OovOyXZcJMeA4hH1eWez9a8NP5cctZmJKpaQuEXGRIzJ0BwVbhGos0nsnVSGAXk6yAABlukQUlSZ9IIySArpT03VNsr2Wgr4pLUjiV1MuypTNJKCRlUlKSA1CSpC4PlS1iFVrLdUh2ElWSspXgAmpM4NKbyr+lMr3lh2eifV2Ris4epOKtKQNPLA6ThpOCiNH9PGnQT4Q3YrVdBIhAnCjVHAE1WLmwGbUwuuIPlcyojqLSyJb0P8X+1ZwnKPWB5J1asvKUbKTpMUl0RdPpWmsXV7y+6bmPS6NQgBLysgG8tOl3SYcgkwSO6ugmeqqA3q0hgcz9Wxg1VXXYeEuJS6rhvQ7U0aRVK2XRqw1kRF8QGr5U1qU1Hyl0VhwuZkTaZ8KhNUAJNHpq2ZjlVoEhyBBSSQRiaxgVZG7WvLtmb5IdQ4DLlWiUFI+UtKSX5k9rXlfa2iTULnUyIeRA5cdS2zTVbrSl7K+GEtEJyDLwJc0HiW9nCAu8jFN6hxLmOFyBBrp5UV6GlKJ4dT6A60YkmlKWgHSf1t8xsAZKBA6rBpX6qtSoQCaNgMeLBQhIBsYC0SHOFOC1WhO6AjTypdAO1R9BnWU5+AOITDbNOw20SrqsYLCIhtlwVs4NZymcIhv7VXDkx5EDXuYA+DBBGoUMj9YlIGV7yNO2UxkK0rPC59rl5IP9ZpPPUqrgNjlUDaAn6kQaupMGg5YkFo1rL01KGvSGhqEnbBVET0nDQoDw2FAiohGnTcatI0TcyZf0qjaGxo2EIoZW6xjQGJxjnBxF+I4QMPChnBA31Kfb9SoUvXlLENPckfMyP80+aahzIxDZBqw0tZwtPmyLcRvWhsbX19Grja1Li2ohLGUUNgJWqw2ksSVtU7yb5ICmyryQeWjyQVoanUqKNPmqzR6wbjZbiNvFN8uCAxDq9g6UTNzWsqRUJaX1HG0GSlo4kibXgjlOreKsZBSqKVVKpiONplWMgLN5MF8SNsZWWMgozWkzCeomZvAfkShB4perAEPEwRspTbY9FOJATNaJ2-rOChnBHaUQKQjYodltks9NMEzRVltocI7auRdY87Qdu3Ivbjt72l2di320saXAA2X7TdvO1UiHtLWGoGIFQzDwE1-20FWbMe2MIQSAg2kXdqpHI7otlWBQLyMR3p1aEQOlzS4E234BmZ120wApQ7XYTL1G2+gK9oLCdU6AjOyzh9kTq0TUyZO5mQNkp37q+dIpMylOqTX4FtyfO5nazsF3p82cNOjCbTCM3gh4Bk67KgiqTW00Gd5O6Dcdxe2a79AYOqnZus7V07SSY5fXcFjN2z0MCsKxfPhIXGETKxxEq8MLoAGi6iMriFIKzr10e7HoIpI9Z2pQhxsK2OunnZdvd2GBJdXu8PT7qJzS7bm7jezfdAV2IDldJuLQKroAFqsPdmu7bl9OICw68CtBQ3bTq5FLSvVBnVnHY3lyj9+w9vZ3afhh1w709p+SQoCsLVzQsVSGnFRzlsCx6Zy1IdvZIGxWWqSFRC6yapgD1FBZdTExPQRuN74AUBqiOvfZgb1aAc92ddKRj2FHKiAdAJNHUFgx3mzuAkjBbktyLSrddGm1CYewMar5Si9GEycC4w9XLTc1zoSvcZARgmB+AX0AUaIiFFfQWu0lNgCaNb0GBKw1MXNhON+FgHTFN5GyGiM4InSg5QxA+jb1H1j8r9vQmYtgOnItMB9wuTvcPvsVx8VJNzKfYJBn0nUMDUw-oSnuhLxrp13AKg30MpjBlGwNweweq2LGMgAAnCcBAScGVW6aowPKMYQCGBMHqiZFnA+DcBfNYY3YXQwcRWlf5zJFwArDem3zCgYh-QA-wf5WQ0A+hgzWYUc1hjNDPEYsX7w+CtyGgYh9NSzGNiMSYJACb-C4B8jQ0VwQTUw0q2LG2HJD8zbgOwbD0ataZnQSZdMu-2QJ2Nd+piVSLIMUGIQIRlVmEevpL6JCEyxI0wAWpr740MwztE3r6lFQTwZAOuKWgF56SqQrQRkHEO4LMB7BORtwP9hpTf66ARUMXkcAdWibmSvKYoxMlJSe8v0PCrZrfK0PghvIPkOox7CAGyaWj-Bf1gVxXBaH6BIu1oMcECYvkWIA4ejcSMzhHo3NRZZY7fOC2gzPNEWmLVBpPzECrDoCTo0UY4Y9G+26kUtI3RwRaiYgwx0Y+s0Q2CBdjogd495H8irHjDbEJjUUDeO-GdlryjaDSBqIexfjfxx5rEBsO9SG09El-XHuOwBlJGixl3R-J-0wI-9xA4A6AfAOhsLcMAmIHXoJP97Bcg+gg2hNUz0IrhRXemLKSECGBHIWcaoEVAHUacKjQIKowkPGMNHjA+R-gK0faNDaNORzdE4DpV09q4MeBofXSeVy5FBo0-XEAmtxM0BTcrQamNuVFEdRiTHrUk5tW2luo9pXmmRJRvBNJqEcE8YFSnV41Ugac2lKE8VGymxKD1tpiQtVpgPZKGg9pp2ADudMQqshUK1Rc3mt1MFMVNJoQ8GYJU9xxi4xvIw-0Kn6BslAAHSwD+bi1TAfAG9GCDi5x9wbLdqoTQi6GEkNx4wDVCTMJqUzmUtM1x0zPZnfZw8YkTIALP-Z0yvAE8N-h6BYRuzoAAAF4XgYgmZ3LjmbbMdnoDPQYc6Wb0jlnwQXRjhqCNH4HRtyrJ9k5uBTMTm8z7Zi-vGz342ZyA19FgNfWUDX1bskwB-mmDwA1nEV25ls7mfzP7nu2h5k6seasinmfqF57AQuf8hAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:teal">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BEuwAGKQAABoAFkACizRAiEEkcof44I+6hO9NQVE4JQCOQmaoVRkiM681kngcgMhjaTxSKAtwtYtm9CEMIDgwhGgu1UJQSghBDCNBAGIWZtI0C5AUMAdwiQhmeXINyCoChfDAAAFaGE8oYSRbVgApBpMQQwwAABsOhsB4DaV03pG0FD4ErP8SgfRQDsA8F4T2SgFksF5k1fAwhfAEEcGivoLt1ykC0tMigFyt6YuJaS6oghMVchxY5PoNRUWkFADUWotQ0B6I8mHfFvMcnRMUcPOJFcrKjODNUCZzhUmMPFeQBg1K9bG0MJKrhNxsTPzMe-T+etuCFLoQw2GaIPoEo1XXEleqrGEyxcoLwQx6l2n8QE4BjCw4iSdbPBRSDYlX3ieCES4dmBaGwaq61uSTYI0IIENwESalyK4Rappe943CPoNxVEPwk0psMGmshGarGIOQTKsNcrQDGSKGo-Nyr6BFvhsm8FpadFWvpm8YexbNWBHXuW7xXDR4MECDIFReIe36PzdHdtpA2b0F1em0dVjx2TpUaSJxjC+0LuTQwTosCLEVoTJuyoKidC0yCakYw7QmZDMDafYN1bUEnonuCe9tZyVxvpoTb9j6vrjzCPAsdV8v1tB-UM8E3AQOzo8oB8lUaqDEGwaushsQz1bU9UUkpjCqg0pnB8VD2Du6gdqThkY8Hd3xpTcR6NaHOYYcThR7DLh7FhFo6HVIaHNC4iQ0++DYHK1pwyEUrjgS-WpEkR8FDMbObkaEtEzuWROPNNvU1DlOSE392le+lR4JXVeD-ZxF12m11RPAzuIzHLYPUkAdxp6HKiWOss1ZqxWbAE3uk0ewgAzqDclRM+vTIalG1sThg-zIIgsqoQ+YUZxbO1ltPeuupvi7TZqk-Gn6YgWOV0oy4C13r4suAcke0geX9BEDY2ll9aRxPVYuaV-6B45O5aa7Vjz6XBg1Za-RirVW+siYTDePrOaeOnU3Emk+oW33KKTVZYouiXZ9w9nIL2UA4CIGQOgQOeJBEeRjjWVDKimaVmU1wkukYo7HbPHHdqC9lKlAc4nZSzRD7fye86BS9dpJZLftU4hb8P5pCPgvbg52pgrA+6kFxlTgvfcVKrU8y73jMA0Rk6RZ26AXfe1sqb5TQkSPCfQY+z2Wio-SST5JOO8fOlh0e1NWDFNI5WCjn4+CyPxKh-jvNs1C0LiS6msnbP5KU5+H2ltt8heLuS6LutvOGcE-VeTn7oBCZ9y3LawlWrPo6uPvhPS0x1Wud8IbhtV4leKkZ4J4DgCKd3fDlBoDRgXfIZIwpmB+WqYtFx9DkyBPjNq+RxLhcweef+756kANYuZhh4ncDOnAeVIE40AF2LCvc4U-T2wc3d2OhaH0IluXIuZEQ79xdo3aFx2g-Rrq3LPvIf+5T00FopBzKGdsvZJyT9fAwPIPDLyPkC+oZW3g6L5vkTcEb0JAcc8uoKGVait6j9i8OEmDjbrgZc+4mTdQJfNAV9a+n4ISrkmczPn+PPuHihCD4HKKv616+6Cb6gjEd84KMjFVH0X0ZDqp8N9q9jdYg1YmZ+1ccDx6AyNLcCJRk9dJAyBdVkQqZYC0JG9gCQCihEtID5AWEwQUDHw6t+5I1PEU1v9W9xdSCGI0ckYwRyC2Ak5LdmgxwNQwwKIXxDQzJggX8rJu8HJnJXZ41KBfASBh9BBJ8aocxoYRVzBa8o5699Ak1DBm8Lst8gpytG8lD20lhQ9VM5JDYNwlDY4-82sZwOtlDfcodMDnR5C2FwVRh2tz9tDmtVCNNGEncpdBcD0S0UsJ4odf4rsFFSB2Ff8vp90B0O1h1c43DKCSgw9C9wj50B1KRDdK84jYhTITCkjmYB1j00iocJtOInc7dyM3CcYb9o4FB+NncH1yUlN1o4wrFWDQxyQODr9hR9AxV1gGNSNWcK4Jgt9pggowji8zD5MmMYElNOBCi2ir8hiP8V0BBCM5Nx57DGQG1RiVjeivcP0wgZj-cmJBROj-VgZ7CxiiMo1E57C38G0gptiriZx0YjjL9IxODYwRjUdSi0CNpVjGN0NpjZisw2iZDGwHB8FahGQnhAQAA+flcTE4WQtEUEE1BgcE5nDUfQL+cFWbAnVTLEvWXQ8XfQmHHgIw9E0tSBWobgOwik5hWoKhWhbEiYBEMietX1eNQwbkRgB-QxGnaRH3Cok4u9d3ITbzBYlQJY17SgD2IEO3CYgEheF47ffuPjEQ2o6De3VjDI2IUoEkv0NYfzcAowbk9+fgYnYxVEZA8Yz3SYvYi8H4ooLkoQM0vky092ASW4Rqb4rAtCAbW0xUgY+hICV4yid-FUgneHLHRHB3K8BSK+KM-k2KI1bJJpWAxnand0rPJggieMncTM0nRgFMhuOhH45oVTAKGQkBJ3CPRXf3HGYWZlUWFzAA4+JiRsbsPURkZ0nk80hHD0gAkMxY9HaUCE0IRkWk2+DEhkzsi-YghI07AAmwxUMA3I3A6AxTWc7gOkqk0IWIooo7VHWPOstQgafVL0xPFOc4tA0YyNYXLtcvQBZcgiKHHzeNJ3LnfoyLdIhsqU9GRkUYz81hapJ89IpifBAHBcTxIC4jYHPDXqWsNw2WLhZ4qsjwqnMpcUC0ws5PHGCC4sqCs6AszJAii3FYUY4iqpM6CvawlcWYnUGIJEhPRMrMx878gIqCfCuC84liwsyCsi6YUY3izJECmI9I5c+inAPANbXFb2bbP2PbSwQ7A+YI9heGXEofBWSgEI4gA864C8rXBAnVbgJcn8s8jdCDB5e-R-PuWDH4oypAky5lJC7LSbKyh-ZmE-XEqtUNHcGQKydymyx+UzDyeAqRfXJA4vXEi9Kdfy0AGdJzUKx+M3KKwIiyuTLdOKndVyziHAysKA-A1K8y89FEzK7ga9PS0SC86gm2N4Og6KiDGq2sezOqzmFrU4q8zxdGby19XyrmBiKyJq4gEK8wIa2gxTbqtKnrRku0bqt8+mR9L4UtNqaOdcwqji8ka6WhSSkBB4yWDapo6anajwxwJaxqFgKfAWcoiIQoTarhLCSGFy84RsdFRqNU3Ec7Aq7BRkCs5Sqqu4SWAilQimWsLrCM+eOC4G+vFrSGSC5AgWZ4W6w6qjQYGWHK0KgWew+GvWRGrDZGjjWhNGjkhaxmNc-KvA7nSG3qYGlgdYN6+s4qwMDgNqdFIwSG8IBWZmsQVm08Ik0PAmAygWNmsxKGzofYzFOm1a+nZXLm1moG8IAAHmBCZm5otl5p1N1Pb073BAABV64NchBSVcteB0MmxotqBahmgpkABqetX00uOaIUc3eW0AW2+zG2u2rAh2tqJ276PUSYZgrWng3W-WmQYgRyM-MQE25jM2gLS21RV2z2kA72m5GQZ29mxO92xOx0woFO329W+aziPKSC84gi668kas3HEeeubEA66YEBHs4WkhUW-2iU-GvExreWnO-SSvauogfQbuwoRa-AZa+aT6imxTV87u5oAizebaLu302YShdWwe0AGe7kma-8dmm0WasWogwoFiY4gwc7TeV6qomo8ejcmBRowSjvHgsu1RWyOucoflO+Ic1ieY8MhoRsSGRkPaoWoEv0IKRu2GoG4vBG58tCWGxQmmd+g+kE9u87Pu2uw4tCnLDEkuoHMxXqcupEE6ysZBpQhmlcBujeoG6mm+4SIIhrLuBetCVWKu9EbEQe4e0eqWr6yelvMs6kOCueyhOh3M6kSQBgbaXm3qDWwPRuoibev8P2iYZU0AHUFcAcE+rSqed69hie6+tu0Au+zcB+myOgZ+kQV+z6cQmCqQ7UT+htH+gWP+8Y-a1Bj4rhEBzGsBmmSBq8aBhibGwGOB6Q+BxBxhmuohi7Z2aSx+dbeQJQLbX2XbAODAP6gnffQ-agY-NfFAkberfTZRU-cEFJ5fYalrApo-RqA-AZO07HTJwraxTel-ZpQqRfQpp-AsWU4EK+dMZRcEOYezWIOYVcVAk3CDDkXpmIDkAZmwrpjCUZskg8CZzpiDUeGZ0eeZoZmzDucTezDZzIZ0QZhoLp7iQwAZcgXwezQ5450lRUPZooLp7g0gUZu52Ma5woLps2VQI9FgQwWDN5j5j2FYZ52ILp62mZ2IfQeGbgXwDmuEofW2y5gFmILpzyEFmIMFiFqF0AIfHyOFyZiDOEbgBoVF0ASF2EjF0ASEIlmIeF9pmzYAZFgwcFol9FofMAbFhZmzAAUjpcJeJYBGhdAHZYpdACpa6fEhBe5aZc3khZxZswAEJJQxWGWeW+W5WgQpW2WwRwQFauXFWJWlaYg1W1mNWFaARkXxWSWh9jX9XhWIMYTtW0XzXQA4SrXpWNWYSTX8XCgzXeXSW3XnX1WIQZW6XSXChvWYgZXYh1L0wCopSSm0nGpRkgbAQVwDUPUBhuBY30nrVJNGmD9mnRl8AWAfkTAZSk2VgU3kQSWpmmnSn7MLVCCqWigM343Im0xIoY3q2420cSNvcJyr4umWjhB7MB2G3fSXmINIA6BxkRDemJ2p2DXR3bCIMfnYBIBRnl3IAR2F3qWNWfnukZnd3N2F2umAA5cgY9ul0949iRrA6NkcptrtjHWCkW0t6Yctkl7aGQX3e9gxbN9t3N0ph90RLGl9hoN971uti8HgDtlfH91tifAZPfaD5t5-U-XLd9XE3fcWNEmUUgPPE6H5cgasLkrqTQAegie98pjgbBKpoAn4tD0eBEIoNB+macLETRq+sEXE1ciA8mjjsjq8dPY0+9hNqmpOkA79pYoD+WzxwoQT5GYT5Kgtot0wYG1eqD-9ztlxaGmT2IM+jRy+-A2mF6qeMQL4WmoXNa76uU+MQgdjwq1tiJrN2S2Jnbf2TAJJuqigUwBgB9D4cqG4Ugd1TWHqhrDOLOC1YLgO9nWp3hWhSL8IN2hgD2vOtO1NmxOLzCv4ehA2GLjL1GDgfDeNB5G4Z3LVLQYdMuPLDD5QZQE2jIU7IwGfGr9Fj2W2-Qd5ZQTecEKZUobrte1RKyROjrw9v0bruDbSuaSTB+eNDtM5Z2ibtqGfc-Jb+aWbkQ54aCO6qxFOzOiERO4rjVYwMrhklNtDtbnoWfBL1RawcERK8wc7pgMgBQdryrEL-E3LOI3r1TXSQPMVK+D70AZeLAVCLosTLuG8D78IQuXLu0SH0AFV1RZbT7gwbaAHhWcEZbYyUoTz95GcXz2KAL91D74yZoUHvzDPbHAHoHtkmIT7L6EvDtMvF7taAOsiXrvb22h742Z71H5wyHq74HxtBO22gi1E7El-AsHw+XGROH22y3KZD2rnp7tLuprQ-nhLwXwoeEWSMiQ2eIEQ3KUEezXLdN-X3EbnqL371ILCYn6L87iEaZmkq+XntaHerISH03yQdUi34H23Bb9qW38XcEAAcg9ty0ztD994c0q99o+7u5cAe4fVIHNyT+JcZv7nxM+jC83G2lT5G6vC6f2XduCHdoch0gwTcGLHdpCI4HhFZ9KHt9z9rGT99xvDz897m8e9IEEhy8b8oXb9kYH8T+b8hcqtAAI6I+UBI6eJoOTQ8E7RcJC9z0C2xxmxVm3YhGX8zxSWpmSvvIiRmx05iBTYn-WCn+oE0HsMHXn7cBW91Rm0t9Tzp8X-X66eWzg24tB3F4f5y6TTH9T6IQD54Y1-IZG4EX5CkDAYCc2tv0X430f6yVWekCBXCi8v+R8Bnr4TJwP8XijTG-sYGHiN54oGgfQAAOfhACQBnaO-rAJeL3EEBvDdHtM3X5YRtoc-UAXgMGzi0LULAztCgku5xFmgInMxF1yWaMD5ArAngefhy4CCSEXXU-sRwv4z8+oP3ePA9VoHYM0CyiWQef0v7oxyBYAl3vf3bTBk+BszTcFIIbim9cB4gqrgFHmKVFv+hgm+kFDf72YUBpqb+FgLmJvFowhoEYu2krLE1OIIhEgOAPT7JMjCa-aLttAiGB47mLhPgnZAEIuB9+5gIIUU3j6SkYEzGEIVtyDSapwhhg9fjeGiGp5Yhi2R+gkN7wMxGeD5DIXQS+aF0PIFoYsOVEoD4AmojUAYBUEGAzYpqgYVIeAPR5NDqo6QzoUzi0ixRWyPQ0IdtFare4qBzHIROjlETdQi8ZQx6tKGMbDxOoIjfZBwFIDrRnERAfPIYIlKVFOosAnRsOSpDyxMUxMF6BLAAbtpHYUMZxlYnlhgRFUGoH4qUAcCbCpsOwkQHsLiGYwca3DXIIQHNxixPEz0feqGX1CVEsID-S4bphMH6BwR5uKIQ4O4Doi6mD-fxuRGsavCEwf-FcGxByGBgcRM2MfqXH6AKBye4BUJJIl8AMlDAbICoEyJQSGBSQvQjPp3RnTr92RJzTkcSCeC98jC89GdEfwMAtdtKtI+kczEFHMiKucooiJKLU6+lFRwowrqHEyG4d+gK+TUevDZGRghRw8LkW9z5HI9DR4cEUcYKYH8M1RaEaEt62qDGxG4Bok0UqP0DWiuRTwKUc6GdFwkaRH0BCEYBnTuFOSsokMTIEkQ5wiBp+MGiiJjFUAkYUaQIB9Gzjpi6R5bBwHBm1G5VYxqY4Mc92LEWjaGUYnvtF31JP9dR7oipJ6IZINp56FYkboGP+iFimYaY2kZmJVGNIWxEYljnNA4CtCiyFYsFriSwgMs2xqmBoeYDUAmAvAR6RgEMOCwrjnA3AAAbxA3Ej83oCNX8iOTNhqBE8NIRgoyCNhkBGAh4i2JuL5hMhmh9AbgOqIIgAC0a7dK8ceO-xdcZASYWoEoKKB6lxMOXUesOOyjFjPS5sD8YwVnGqhjA4sCoPDH0C8QQuKdFXkhOgniBhGYE7oGyG6DcioIjYNpmlBxA4S-A2VdurKQ+FKxRAAEnZjPTH4tQEYDAIkB-EQlUB1ojYboIyGYFsTkKomKbDiHCC9dls-XboM7GHGgAdaAACW6QMAAAguAHADdIAASjrUgAAB5Y9sgCBC-UmKYdCCWuJXSsSzkF454biV4CwSGJCE88UkGR5pQ4JCMHgZX20gelrJr+HLnZM6ALgDJ7wdIR5MyBjD7x7waEqEKkkyT5JiklSepM0m+ThGlkxyeMJckpiLxuJOyWBMslMTywLE1yb7nBDeSAUFY8fARhagBTnJhk1yaZJ5HR85RyYuMcwyvDawTasJR0vOLdRLiSpwWBqZZDJLGSkgpko-npKPHeTdU5UkEX4zEmSA4gGQRqLkAcDrIgQAABkRIgIagjkCdFNPJ4xYTE1AQYFdHWkzTdRjIGvtNI8rrJbaeIXiQmCOnLpZpZAdIYTBWmE4lomsAIOtK35bTII5IhPkYQx72YsIV0t6bFG2lu8pYWXAcZxECDYlHpfwVINUGyBTT2JUpf6dAPek-Vw6a0jgBtJX6AydpTEEBLKMaiOROg7qKYSuGiTnCehDaUoPdLRmaxgRSMintjIkaM5ERBQ2MA3yML4yGAhMtgO6kxGEAHSIBTmdzPdRFCHBTMqoZWXbpCyiZcMgrmPwqAkARAqQTAU8LGj5cMYNMHGHjMCAEyZZgsFYGcJ+hKFbiwETolBk6AgzyYD4ZEVLJ0oKMD6hItCMLFFh3CsO+1UyfbOGJcIWAm8AdoPVKDfiowg9ZoNLJ5m2wVq0I2ERmGB7tFkR0SREeEG+HsgdZXMmWVEM3zQ9Q5Is7ao-1XD8CxaulUkQg3nJZzF+Y-bjizCjj35U0fwS2RjFPAVT8JUpG4WLFeiSxnpo0l4S6E6IiwEew7CUkFAcBO1TYoUC2FCLOgwjHxW7QoA3M7mMdPBlEQ2ZuFPBv5R2eASEBvJXDCw7hLsi6PcN3FHxZ5r4r2W8J3l9zwI44SmdKGHlXi65-o50OPJtiTzge0EVCDTAbSmRSaGsTLuTCPkI0bBXg0BJ0QVngFlZMiWeR3NgaRBQA68zeSsCCgjIfxg7ABWGVJlcJuOd8imB7JBIBCPIQ8tOiPPNiIS9wv4TWaEN-ro9vxewX8ev0QXULB2v-doBbMIAkLkekMHLsEiNksLE50XCuazGrmlpa5LC9NqQoRocLUg5wwgNyPX58Kq5I9QRY8CkXps2QmsmBWAA3mQhxFeQg8MQqXgrw54RhKRcj3wW4hb5N4bhffKKDmLSQliwoCYsIX8RmBjo6eSsGYE2KnxzoWBjlzoWHJbuCw0VDHimnZw+i2jUIT5XCxoJ-inMQalNJGouA3gEicyREiOm4kLUKS-rOtNbIpLKp2zNTA0jtDpLkehfNgITN8CqUimOXYrLQkKVj9MOGqI6bLIxg3iepdAbcWQFxBkKhYUpCRP0EYBHTDpTMPWFDI4AwyZEKS9slKXsUMFioluexbfOaXGxWlHihJWeAfJojG4fS+GbYoaAvj-5n06+QQumVfikFf4+ItWLbxhEfOI-RpSlR6UukUl-o4CZIFAljiplX+KCbTHEmhSGASk6yAABlukWk+EpkCWkEZJAR4o6cNKSm9S55lU8yWUxlBWToVbk6LnZLinDxIVRkxZcYL8kLhMVLWXFejIcK4lvlvygFeABikzh0VRKqFS0txLFj5RgwWAqlLHHpTmJU6bKdssbRHT8pWY+EEfxZVZiIQ7-VRDyuLF19alk+GlVipMmwrQhDKmqSm1gL9LvWjpOpUSsaXptkVfU2AgNPeaYqRpsDakZR0aip9iBO4w1W4xbGVSFVsYpVSsAoVwkG0DKuTsPENH8cvGxUoaeavaV5CWlOqgiG2Mw6YqFlsq2BsuVAYtjy52RK5e0p9XJ9nhXYj6AjJHKtAK2QIIif0IH7ghLlqfSxhGTTUOBfZF8r4dF1LTVEMZZq1PomtLE5dC1MiWYTKXjVStO5SawSPRNGXwSloSEnJXen96oS2JUPfOATnOHcSHE1I1oYEHanlRXolk9rk5NRDrRKilkpaN5JNlGgpSnEoEGysylTo11CjRsLVw7yEJvJbakDnpEFXdjugFfBKfQF5W0j81jbfgDiBvWBT71H0OyrGBt4Lr1x0oklkeohnmEf1LyrMUQVjlQRzg03FjpOsahXTZ1iKxpSmqpCuTGQKypJWTnGXkhl1iK7tcivXXf1N1fgRkDutxBZS8NB67pYkEA1Eqz1AIQepeozHXrRVU099QoEfWFAioL65jRwFY2fq-Qf0qadwDbEAbCEV00se-XA04Kkmowq6cEGnVk411vajVYpvX4yagla6nLqMO8nzrb1r+EYcIHwHAaZeRm9aB8GCAdCjNWHOdfuq6UjkG4hm3TW02+XhTlJqkjSRSvJDOaFJrmqKUCu-W6ahN6LezfJveDv0EFGIPxVBs4hqbHg2SqCGZqnVwbGAc6zDa8ClLBbIVjIUlf8sBVMRst5Ks8UYSOmBaSWGWqaXOQjLggItHa8+uqTeA-I18lhJTfiUsLpCHi9Wx6C4UTE+JuhOhfrOChnAdaUQBg5rJVNFnNZ0hYcDRocwa3P4mtYSsHlkFa3o0Es4xGbZ1vm37K+ZU3JigNnW3DautuJcbTtuWnEAxAqGYeGas23t1ttxTIdFjK+jXb5yt2kYZVgUBzCntEZY7ehPq34BYZQ2lTjWutULbatuIAHcFnB181-xra4sTl1+2wyBskOtEfQFm0qd8+RQXNdcva0o7OtkO1AjTywKRrQNtMTjblJEDu1Md7Slqijr+16akmM22nd6JSCo6ZSQO0DUpum3M618+2tHev3OWrBQEtY-UfWI5FMqrcMas1Q8R51ghpd4tInbSPx0Et0WDOhHQNtcRc6DtsuxXSAXl3Jr9opOkvlZEp3J8zmzO2nXB0YQ1BztReDAjDuB37LbVVAe1auEdWa9+wi24widi0Cxrk+WJM7Rdp93m5Z8XK50E8pHFtrwGONVnqHjD0gbux781+f11UwoQGguu9tdDFJ1l8KdEukfvZit2oYLd75eGCYH4CPaThoQ0YlEQe2L8p5gskzmZyLSWc2qY-TQdPx4qeS2dCuycMAwrFvQ7VRA4yK7r9AOTauReTSI+xWFfRV63ITIM8K5UdRqYULdUbEMrC16XF5QnvIIV4hqzxCNtF+TT3BCt75B9hOvhrVKCx7RxQq9+QaWBVsBPGae-Xc+sP2Ecz+be9GNnq92mrc93AI-doPGiIlGwNwYAecyZGMgAAnCcBAQgGTmEexMVAZ4hMi21LMY2NnG4Cv5ThwpGhqQnw0f1AFA4FwArHmmUMig0B83MH2D5WQ0AVB9jXCO8GxhSDKvD4FHJIMIGYDDKiZFnAZUAJfcLgHyAlSLmBNYgpBpAxwf0bcAgD6uo5kyPQmdBSl5SropAnM2d7k1lUtPfdFJ2yGTm5Sj-fdm915qZ8JSrQ0wB0qF76YXAtwIHq6J0AioJ4MgHXFLTrd9xVIVoIyBIH95mAwA8w1CppRfRqgRUTOkcAlVYbOivKewxMlJQI8v01CmBPCAlIMHwQ3kHyF4dACp9Bd-h4fEi3nkrAGDw-ONa0GOCKNP6LEAcKetaHtCj0BmhkvkeIMxbGocm7TVpss2tlqjCjAcKEZHrhH4e6kUtMzRwTIj4jiR7yHeNKkgxKjogQY95H8iFHAFEQNiI7IaADGJjKRkfr8W-wewJjkx-EcFCkNsGxxzq3vc7q8Z2NeWg9XI77qfHj7lhp2VoHPoMCr7-o6LC7OjpiDG6U+cGIcc8sv3diZxASeBrgtW2XEhAhgRyFnD8P8AkNAgFw0CDcNkCvDrEnw1Yf8Nu1AjRBH+g42OO1NXjxA9421BAlfGMxPxsLfdTN6WHLjMCSfdidayXF1hC+h4ySyeNj9XJDii2FuK4i3jOl7dChepCoW+KxO8RHxTQtJLmysgrJ7WDwvFy-1GKpJThZhDYl8nNasirthzCmKin2TYi6U9b0MVynl4YQnRWKcYHIrmTdTJCSHrGa0IxTpp7qYsqNNjrnjC7baBaY8Uu6EaxggU8gpkJeHLDwfFcfoHX0AAdLAA0tdVMA2hMgYIM92T1Es0Wm+NCBQYSR2GR6aQrAJ6bNXemF1vplxQGaDNGlmYZRsM931Yk6LeAJ4X3D0CwjFnQAAAL0g6gAAzRQYM3mfDO0meg1ZmM3pDjPgh2jxgGqKhAOjjEgTIJzcN6ZzPDxGzBZxVk7xszkB3aLAd2soHdqDtJgwfNMHgBTPXLhzis0c6GabMTmN+uUmc3OYXN18Oz-kIAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchl8VUpCcO6Oz5YC+GHXLHJDIQwy-wvTpgfp+7eEXwn9jJoXFmPRUE9ZZtFrI4Y2sde5VwXMYdo4tlBCygSgxqHxBZDw-mrH2oCj6xAgewDwXgr6az7k1LkZCD4EJbqkES5D5KUMYbQ5u48T4aEICCbkDc8G9y4WwQBCCOhaH0HfRW8N57EEXhnPBo8qbAIaNuGcbtTp9Q-j9MQuDvYKMITEUypBzKN1ADZOyDlnLUl8Mncg8MvI+REYLGqEU76CEINwwByJuBaLCFRAcMt57UAUJvaglZGp33EQ4SYOMYhBUEbiQJwSaBhLegzDOXjBCkG0UBciz5-j+MnooQg+ByipNhtHZE0SoIxHfDIjIxVHFiIkf-TxUSv7f0KAjJGwhFYSwPPQIe+glEEQkS-I2WhSAf0qe0jpDQfEzNmUiNJjBQH9M7uLMElTHyxGlgw4G6jayjBpGwU2q5SgiQOY1N4SMwQL3qfo4+Y4NRhgoi+Q0ZlgiRLoFZWy9knIuFcZQXwJB7FuI8TVHM0MYZ8xUQwNR6MP5z0MAomJQUHIMB8foJF+jSjpEyHJZoWFGlfSqJMmcWisVSLCAohZzpYXwoYh-Be5KsmIqpfgv2tNXEIPXvQaezhZ5SN3vvE2KKBrAxPpQUghziX6CnpI+ez9AiDHkYfB5+k+6iK+vKnevL3if0PsZUyyttV8oVaQDFJyDUEPutCziPKkHQNQZnZFh8cYFMVgoTQuJHUYJdVUlcQUnmhnJK8-Jwp9Aywjh8WWzAtCDLVhMGJ0wgqytJTGrB8aNn+s4Da0NeTk01PoFSdNM41aXMZMAtNB4M1xuIAmk21K80rA9Rcx2pbY0i0uQG2MQUO3lvRkxQoYbC3+glQ69BMChkEWZbG7BGydEiybX7IdkLh1QsbA4AeGpGRPEBAAPlAHitgJw7UeXpQrLdi8O61H0B7GRQM8bJFSMeu9RslgUOPSuQlG59BXr3je4Q3AL0MH-e3DU+gbz3omAiMioAoWuMMNyRgJSU7h3rozMu7qI0y19VOvB61XjFoEImxkeHUFzqzcnRd6tV2xIlTLet3rIHIPw429VGqv2xjWO48WKrkNwv4EXVOGHi3iJrWWutDal0XmGdMJDQhBNoZLqiD+hNyNfTk7M2dmb60Lv9ZMHJuTIxvJTQxwp7xmDJ2E+h9O0d+FXgUqCOVxGQ42ZU+VQwzt7Zlw4wYk+Nd3Oifs97LTTmdyBbrnZ62tsfMEa080Y9AUEPLMoSQ5QNDRVuqgo2FpjJ0teCavgABZcmKNm7HqMjAnUNBbsx-FpRmVDEelNu2oTMgQgbA4B283I9SNdTSa5axX-Baa6Xx3plY1mDIq66rrGpXUEK5alnlrCssEJxkFQmbazpydlRcneMi95yN0VplYi3bXcrXtu6TWd1s5ea+jRksrrsbMudald5Jt0xZdm9l71mvOxf-LoimtYFFMSCoOlL5TKGRZE3Zkxd3PvXsYADn7jtYe2ajt9uLJ2zuDYxx57KjtVUENpYfcKsQz1wzXknZTwWEd+xxl91H9s3u09q1jlnQPY5k9lezqLWPifA9JyuPNEU8B3yZnIFmUA4CIGQOgbmxJeacVw5GBWjS5pYfFU+k+6RbZkCw6AAAPsb4yuGpVa7wTEU35vUh23tv0ELscTdm79AbDI3PaNQ75jLZgYgJA9JUSYygfR7hrQ2+Z5+v7rcADJY+9H6Cq72I52Rh-9xd1LBsjba-JLs8PgfT7OYPuCe9ziqcuC53C92Ofrc64TNtIi3slvQ9bsjm7Uso-+8L8Hkvf2dL7Vcf37HXvO+68b0mIYSfIOT4I-ySaqXh9C5d6+IKE+7RN9jvPlXHkg6ueswLvhKfV9d-IAH2oRedwl-53DqO5fXE38x7FLnuedkSvX1kD-vnt8P-33T6Ly+6sVEa+0+N4m+6sP+We+cP0ZMtct+R+K+yw+e3eF+veWW4IBOwW9+qWmB0WL+deSB7+oBk+X+c+g+OBMB4oHOsUgBY+DexBG+s+zetMeAAAYpAAABoACyAAos0IENwuQKgqYhIsGNUCEvQOCKAI5JvKoKYr-OQLJHgOQDIBMmnikHnDSPkkzOoCIBwMII0HTKoJQJQIQIYI0CAGILIbSGgLkAoMAO4IkKgp5EIQMPWr4MAAAFaGCeSGARxtTAApBaGGDAAABsOg2AbBnBvB-B9a+AYSae-wBWzMSgChRWACBAMCiRdML8Wk0hFAZhiRoAeW1QggxR1C0hfQNQYSpAR6xAtQtQaAFeJ8Chr+9GuufuZ+Pexe6Boh6oEhdA2B0OaRYyn0EyNGdBgYNw2IVeai963ApBzB90riaRLSbRuMCYhMBWU+IwYBTBW+2+zRMsq2iBb+HRqQKBQePRIsVkFyumQ8QxfM+2Qqh2Iqpx7R9Bux+xEBmereFm-K9Agq0isizuQBJ+5xBeqB1xWcWm4IG8W85qrxkh5B0OOqQqSqt6BBZxCYsKgQMgJieIKJfMaJiqlI6xQUuJlQJipIyxqWJJFqnQw8x+hBuulJ+JB8OgLevuqQGm5Jp+5+VxV+6BGmjxnE6mk6zqiakxaIzm4IIp3AUptJ0OGmlGem1G2ulO2JW0DBo+RJnE-aUm2aUpwBRBIwip0MriOmhp6pxp4JCY4BYQSp3JnqzGvJtpLJCYHumQ-qTpquqQ0akm863c7pWpz6aQnuM+doUpXJfpVCpC6xGxgYnRApl+TJNxpiBWop9UtwjU2xWJHxgYwe4ImZCp3svp001C6RgC+ZBZLgixW+vxzpgi1AvCbxYJHpSZFxXRUJQp6Z4IzZrZyJ5Z5gEiB2IJfJ4+Opvmw5IMrKE5nxgwexUZSxFpqW6KmKRAvidpnZ4Z3pm5epHkHaFK+5Jpk5Iw+5M5G0MaG5Zh0pf4+gF5UKEuyyUu8gSgsu7MCuXMlgO+5gfu0qX08Mj6CYdi4k7IAFjZYpOZZSBY+goxb8ky3ALSYqeeEqRZdhxSpSd84IZO6EkcYx78SFw2YOq5fxvKXqJSIgMFDcMgwFO5lxqZ4iVkGFlFPS2FB5I5yy0er84x4idFMpMaeJTFoAhJl5zSw2fFkerJoIDAQlMg3ANJpFfMo5fS8g6y3ctFUlOJMlcl3AnJkF2Zdw22fULmycGy-FwIspxltYOFTWZlycHFYZ1lX06MFlyZ3REWDEtx+y6MWZ5gzleqNy30lMWl2pXxdorlMZHkKCXwe8bUE2U22aiOcYuuN4YuzRHakMWKjO9eYVgw6V3KjgsVuZnir8YqhQqFuuWEkMJF5wjYoejUTGQKCValQ8jISWv5ok0FWVXOrqCKFlWEvVvUtYjpSl+pr8I+Uyr8zwFVKVC54i01YlE1CKC1RsM1mpoZ95NMBlcMiM42qyrVRp3meovUrqLA6wjVOVlVOJ4sYgoeTsgOviYFHAbU91p4H6K8PAv6t8r8D1LsfVnQ1KxRF1E26qzQL1d1qgf19sviAAPMCLdW9YDX5pXEYp8uCAACoWygA3B0C+CZJiC8A4JNjuIgi1DNBSEADU8GiyHwXUbUQo1Zx1vi1NtlVNNNsydNc0jNwVEwSihiximN2NMgxAjkBNRNC6JN3C1A5NpioA1Np2hQXNDNMgTNj14QrNVk8tHNHSytVhqtvNhxKxFs0kI+b2XOKFSy0OoCp8Fs2IyV0wiGyG0NJ1FMW5wC+er6vVfm8cNt6I2IitRQMV+AcV80B1AySVnKgdzQXOqe203tgdMQsw0+71PtAcCm0cREzNPsN4qdjW66LaEaoCqeDVLpzV4d6l7ZsYHym4Ftpitkds5QR6RsEK2oBa1SRozWkMjImVv1zafoQUGdq1n0k1w9fIuFaEkMlyU1a1+da689tZ2cttRA2VksO1IMyOZtxOx1vUltsQhVlYy99tV1KwTtQgLtANfWo6c1O5Xt2dYWS9-t06HSwdodLVEd3ci2CWVigOcd0+Cd38pQ8E2071vUadRC1IztWd6tNoEVyNc9uSK4A4xdYFpdTVuIFdQ8hG0wNdLtPydAjdIgzdn0oK-erdT4Jm0YwCjY3dQIvdOe-dzog9ztU9vVY9iiiy+9y1jK7DCDoAbE11gYftdtq9LBsgL5KRrMcuHMiuGAnVJ8iSISKSESlSp5npXZKZweGS4IijySxAflLgujoSjUQS3CapcaS8qj25dZU5WytqhUXUSSxj1FjMjIwe6YRZcwtlsQcwq4HDyispHI3jMQHIfjtKRZGEwTX1B4YTHjspKiUTKisTP8spXpbAtlaTzo-jRQRZ3EhgghvgtleTBTWT4TspNdwTNdsY2ThQRZNwoeGKLAhgOF9TqgjTTMKwNTsQRZlNUTsQ+g8M3Avg4QAIh6di1N+NoAXTMQRZnkfTMQAzQzIzYzXkoAkz0zllO4UI8zBggzazyzoAdikIazMQGzRZwAOziz+zB6hzoAYA6zZTWzAApJc3s8Mzc3Yk8yc1M482COCOJH01c+86M7c2BcM78xCAAISSiAtvMHN2LQtAjgtxNbOw2vNLMfOgDw0xDIspOosAjzNAvwtYtAj7MQvgj7rovXMgt2KHo4tnOyn7oEvcBFBEuYtMv0vkuQs7O3OFAgsxCQuxBAXpgFTNZGPKNcW9WAgrjTE7FAY8CONKPhIvmiuWYKtBJKsuPZT4AsCeEmCUDtYysaBfI3MROKt6O2Vf5bIbNFDivKvlKjWRRivmvOO07tabNghFnBrCC2Xes2ucPdOymQB0DeibyFMsvBuhtAr+sBsesQitMMCwCQDBMJtJsxsBt1NUBtM8FRMJs8HpucNFkABy5ARbOzJbRb4DBEqrVIdreqWC-2zN0rKwsrwoIL20tF3AdbbrNbAg3bf+09zb0wrbNzVrF46rTjKSPbp6Q+pNCSLrEr5SXy3iWSqZFl8SDAr0aopAQiJ0nh5A1YSGXUmgz9V4dbpjHAQ8pc0yWmWia7RwRQPunE04VsmD2aFlY2VFb73ccmXCfGcFC79rBYk13Aida4gH9bVmZa2dE9RQf7yMdbEiOrerpgrqYHE7mr7O-VsHhQaDXq5dqlH93uEU9VYeYgXw5128hHldZG8YhA79ldyUOAz5DrkjH58unMmA8j1yFApgDAyCHw5UNwpAZCNcblL6RNLAhuX+YnkwK4yd4VWQudlBfwhm2t4IDA7NetPNMnKnHAhm36ieinpMJEl5dhNwkCYyWgye9N2SoVIMygygRNGQgs+gRg3ijnBzTM1N+gQhygqe4IUhpQgXoAFNWt1NfnBbzogXpZtno1C+0O0iJh1ZlubUK72i6XGJyXzw0EgjleqXYg6nEI2t5n5Aln9ct6srd7SXQK6XSarN1g4Il5NXuIEyCgvnWS4nu5WQWihCwXx6ukAcUazmvXoA8eWAqEkaEn3pN4vX4QpuRni5k+c3oAiLpixQ8I8nBg20o3YF4IG3xkpQPHQhM4AnsUwnZCvXRqBgrcpNLZpco343cGMQ2enso5Lx45c3tgZEwXxX1NLXTAZA7XO3c5X32tE3RQUhWnx11eaQOe73wJR20cK3Ctq4UP2tAPbXcrkZPXoPnXanlNEPhQ8IskZEhK8QQKuUoItlWiXbFPrXQPcnKwECWEV3FCLXEIkTwGzmIPa0sDuPa0PsmPjPE3ECetHXa0W34IAA5OzVoup7L6L9rLZzzb181-T-x7WKQIAsgtr116+p9AbpuNtLr7i7G3G-2SIGzcEGzQ5DpFZBaMWGzdKhwPCHJ9BKUBzyb1r+C-eab0Lxr214QuT5IJT972QL7zeP73T6H7iP7+vaAPu4e8oMezOOjEqh4IdpSoQF1wOaXHPH1xb3n6iLZQj8KhnAXzh7ELK0n+sCn9QJoJchn6gm4HV9nwZ8z3rgw1IoX0WRtwqTD3Md3zn8Hy0FIgn6b9bDYvDM31nwX9hjd6kMX0vAX9gzQ5K8dZWnBIPzXm91xWOUj+33PQ45n24Bfj4vFMa5P15tP7P63wTWyiP6un2hv7-Xt5E1t1hNtPPKf8YD0j4j7C-w-8W+f-DFKyg74BwJEsdPbgk0-7yAQB5-VlIZygGb89utfI9g3zT4MRBu8caqq-xdhV8ZmzmdAfX0b7p9gBWfXno-0MxM8A4eA8pCPjp6-9EB2SAKAWg9T3oj+yaCkrKX74-0fsQ-T2KvzYGUNuB46cfqGifYeQgUJAdvvZwUa-oC+W3baEoM764M54+DP5JYgP7SDgU+jRynZRuTUD5BASRQT3y25pVzBagtGpuA0H11zE-yMfojw8jXIF05eZoo720jlRKA+AJqI1AGAVB8qPfeQTIK+jz89ungnSJeQCEYoz+Xg7KGsXn65UbGIwVweqWEFSC-y0BWwcEOSGSpuygpMEHYP27uDXEmkKDt1DER2Caq0oQhj0k6gMBdCwgDgKQHWi-5CAwiXIUgxwzZCuBHdBoLlmJiFcgQz0TdowCyrVDFqHtCVM9FTzesH6DgOoadAtRNCWh2famNNW-q5AOh50VaG9mejbJh07AnodHgPB9DphVVX9NsMAQqCe+Psa4TjyP58MR0-QsdLrjnh0Z+Gkgm+i4AeEF8E+dNfoAoAxS8YqKFQCOL4ExJshwR5ASET0kMCkgTB03f8ISS24wi4RssYkE8EM5f9-6hJQgQYC85SogRIIkgGCMjCwjMSxIj6AhCMD4j0OiydERfgRGQFW8ZlHdv0BSRMiVU0IikRiJZFIjuudIwvtyMxHYjO+uIs0vSLQh7oQW1QCZBwAPZwEIRt6UUQiKeAEjnQsow9ICJpFERCSRtVLLqOBEyAI4OsY1hkndo-D-oZopGLGkCAfQvYDo4Ea2wcAKlWRylW0eLHtFAinRQI-XhGWNGF8uMQ3dkYqK5F8jb0wCeOtSMEg4dtRNoqgHaONF+i9RTBZ0YZgT68QJkjAepvxF4jcAL4WcGmPINobqQZASYWoFISl4Vi9gVYwzlAk6BwUqAhYqgOEC27d0YghnGWJ1GbFAEtun7HpEKHraghs0BYriC2MxhrVuxqQLCLxHCDx4FBZwosYX2zFkBcxoUKGjeHnGaiVgN4FcbuOmBrikgDAPMVDW-5tjDxsybaAeIZGT1pqo-cELWP0JNdMhleOaBwB8Eo5YxAzAar+j2YJjj0UVcwGoBMCFZFMkQpeJBPoDcBJ+44yfiWPuxqszxslOpCckZDHiNxfEKGnBMnHQTvkOtc3n6AQlTDrRKEu5OhL27Pj6xn6T3IZ1DqfjsoKY8iWhOI7yNeAxgMYRUHhh9iuu4vC8T8TfHiBJAPox0d0DZDdBERSEqkO6zSg4gJJfgRStaPaxgQxCO6XFJ7lC7UgE+LUBGAwCJBuxeJOMRsN0EZACT+sUeXsd0HCDBcNuWk7oLak-GgAMaAACR4IMAAAguAHAA8EAAShjUgAAB5ItsgCBAdUMqkgNQLEK0iqY+xOYjYWtXkEcSTGMoHiZhML5pQuJCMc-nENinpTDOmUzoP3FymMxLyhUzINFOLCYYLKrk9yV5J8n+SgpIUsqSJN0nwwcpMUzDOlPkGZSUxbU-SeWEMnpSHeJU+gL4VjGlDUs3of-qNP1SYSEp2MPIcaLehmjZWwyIsUTQPSnZQJGWDFIwHwn6ANplkL6iYXXELTx6wyEWthMqnxC5pSYs6VOMBi0wnJLvK5JRTUJAgAADDOzXKi1ZKGQfwXd0HKMBqAgwK6ADN5QOAPpcQCGbkChnaBqaeIcHBKlemQz2Rl5QmDUEcjLDYCJnUaKjOX7ZRQZf4s4SUK7a-oCZQMrHKDP554z9Oho6HIEHvQ4zxQqQaoNkABnrR3wEMwmSDLNB1FsZlM6WsDM3ZgymIgKQII1EcidAyESQwNJZJ+hyDgEN8aCljJZl-B1hMMwuLzNFkcYWeZgnPsrOiabhiRUsmWdj1X5XjTZDAaWWwDISWCR+espwclmtHWzbZZCV6cBJcAVAyRoQOFNHDsE1xzpbQ1LG7PNn9Ruhi-ZYVih7Tu4i67QJsUHJaCxyrw10CCsAheFaZcs+WIYWMLeh91g5nwlYEFBYBzDwI44ROqUArFRhE6zQMOXbN2EnRHYLAQ4dqAm6Zze0UeIlO2IIilB65ZCFQdEgW79zHhD4b+tXOMCfCBGrsyWTbPDk98E+g4zdgrGKSLwNZSc08MHOMnNZZhIw3Oa9CypJztq5IAcLMLW5+tR0QaOgIzVPGbjG58VZuUMJ9h3jCgm8x6YxEIkjoPUvY08FUk4Z4BIQgClcIMIujDDii+88Yb9TfnHzi5MwoYat1UnqhagRshwDfLPF0yuAL88BaAv2FPyUI0EVCDTGASmQ9qyMDeZ0ELn5pRBA4H2XxlSAZw35R8h8ZEDuZgBAFkIeWbrifGVifWIgyiK8NTSkLBg5CtgJQvXQuJUsqC1WrfOwlwU9wv4RCXl3fkBdqJPrGsTwpwFNAWgCcrIIQHkWF9IYM46OXop7nMIl5w41eXvA1l6Ku2CizYZ3x7GKzCAiIgcUIuXnPwQ6Vix4M4q7ZsgSxrC0AOwqMVzjCSY3BPKYLOHOLC+Ui3EOgu3HSjFk240kFeNiAxKZF-Eb-gkqIkNBv+ySrBafQfGGduFdY3hUJOOIAyvYQZKuptXco9kmSVS24gDIMZ2Vw4HEpeJ7PkFf5PZBg1GWsQ6V5C0mjw2iJzNoHxwiynQaWb4AuIAVNunfL-MMvpleywUQiDFP9MeCvTYJPvaPKdKSCbKI++cxKdJIEDhwncayiUBtGZk1w2Z0cT2WVmaxpKKJxUJRGkvQW4Sdl3yF+W8FaWH8TlimT2SkqKAkS1qyM3XA8tYkqKNFW3EMSpE1SCxNeEfDmYXDWK-LGA-yrTAxMkBMSfxYK45IJIihOTapDAXydZAAAyPBUKUek9w-TocV0qKa9I-jzT35FlZKVlLSn3SkgGU1qalIvz0q4p640fuVIXC8qDBgqs5R-BqluSiVpK8lS1JnBtSeVAMhleyroAWVlp8HQYMMl6k-j+pBk-EsNJfnghXp4050fCEIFarnREIPgYaoBnGqgRbvBPhu15WMrFFyk2MStKoBrTU5AMm5qdg3ZldXpiKjGM6umqEDaVbTJ1cquDlLK94XqQuKb30BvL4p780SYJHkHLTTRHq41iuFoaHpgEaq0ET0m5GntVw00m6bFMTUPSaYmohMY6sVUJqtlwa2emTlYaxillxKeFdr3rUR9zpKarmc1laDIhGQck0IV2r15WR21pvchomRcADqHAZctScgooQxqzGHanXj7x7VBjDOs66OGkINajrfeLajMTpOuXcSlo84wUfxOnzzj5uxuALIrPMnRqfBgQMteVFehtTfOs09aB6jalLR8JKcikM1lMlAgdVg0-En+s+GNgnORiV7PhJTVDtv45q30d0BGmdSxpxoqdYUCKg4gUNVUtDRNJw6s9Zp3ABMVBqZnkpZpvaxrB3MhQJc+YHwYII1FRlvrUpgavtWq0wmMgvlZ4Q-rcpPknCf11i5Vf+qIxqsgNgcVKQNNxBDShNEG5rKRteyozjR8GvSIhrEnbBTERq9DXwyw3IaNNNq9DQRopkAziNBzeTdZkU2tqqN7dSQRIuhwxDUZwQF9RnD-WCiA1LmrbvZoqV-rDOMQg6eBrGoeRfNs0j9ahpVU4x6Nz62Dcxu4khbcNKqu5Wq3tgzTQt7rQlfVL8kBTgp4AJiGlu8kZampFKwjaFpM03MktTm94BZK4UYhXxtGziJ5vWWczwtT6xjRDOi0IxWNCWqkGVvpWMhCVxKsldlvJB9bpVhWozeTATHdbFVlWhMOCGq3Hqy6uIN4J4WWTZ8rRNS5EatoMEdoltj0TbZ0unzYpLys6HbSiEf5rbF6Ds+LkcVSDoMi4KQZbUu2xSCjX0h2gLSOQkx3bDAD20wHtryG3DbyR2mRKHHu2PQztFlS7QYJqBiBBYPSeNU9r+0Hb2U6vWoPdyqHsp9tIwV7bVsC1ZIFA6Q9HXkIh0J8lt+AdmSdtQ4brW1go27eTobi06Pq8cQ9UCMM4k72Zx2+gN9r3X06ouQdE1KuvExko9UnO0ypzupRE8A2TOj6IcSw2W8fW46vnZOu4Cs74t8jPJp4VJ3Rw1doOynRmOp34dcQWupdobtQ7Bi6JDisMZyOVGUiNVV4CdT7wF0xpjdYIJ3UDUl1xjxd-TA5mro11HJgdX20HYdJB2nbFEz3e8UbEo33QZdNveXTWDhWK7goX2jXWmGaJQ7XO8yZNUGLTVuqM15ogOleBzUe6iggyu3QitT3Wd+dAAgFc6AxVfiU1vDb7tfGpAfjMV34i1UQoIVaTj0KEBoG7v2gy67ebNEvdr1spl6oYzRbKU5zR0595BsqaRNxF4RhCe+oHWZKXXI46tZ41HLBgnxIGp82cRUnXf6MnCD1s9q0rNX6AL1+gJ9-AL6OUJDiVDNMiyXrKIvfkAqOo1MZZgyNwaVhl92S+wVoMMZUAxotRbyHLUJ4ELnu4IHfZgMuRu91UQDZvbXpTFEK-QiWT3LB172R7+AEIKA2QOwEx6zwcen3rZRwNYDKYp6RsDcBn7FMIRjIAAJwnBXE1B2EXXvO30xocTBn1G6s3iG4Pg3AMLa8I4GBiICo6L+RGhcBgVPp2DBoBwf0DS9peVkNAIoYw05hrNsYGQzGNbnSGeIEIlNZuwmSpjgRTeH2C4B8iiUVw082IBwd0PcHa63ASg59oKZLKJlsI6ZYcnAwMaD9Uu0sRNWNGYG-mzhqZUwBmX4GtUq6mnmwEmWuGx9riCgW4H53VAioJ4MgHbD3jRtt5arVoIyGv7WJmAM-WI0qsmQ366ARUdTkcHtV8aDANRFI2GwQUSQ94L1AfKOhkPghvIPkfI6AFN7iaSj9iOZgiEImFAZDAPeNa0GOD8N26LEAcLBp8F+CMUwgQIQmuE2xB6tjURzX5rmPlaqyCxvhgOCqMh0aja3OUnWOTjwhr6lh7Q7CIhCtGQD+EwQHMdqA9HWj-kMY6IIiBsRVD0wZo1cZAOdHHlTML495GUMxArDKYvNW6s9Vh6SGozROkMft13jb9yce-QmvOnEbv9-0A5pLB50xAh9OvBUggaxUWqgJmYmzfIyPLvBHIhuBI-wDY1UhMjQIbI7f3yPNjCjkaYo-wFKPlGRNJaD7bQ0W5YoFd9u1oLibaiMTW9vowk9Nvxga9418JmgK50FP-RuTZVSo+-puYYnF5bi4cZSFHHdwk5RYreUcuwWrQc5OCg+VAr04YwYFm1XeYgogiuLukGC1scWPsV0DlV6SqGqMMfmgKfYepplbanyP87pekQ-QNkoAA6WANzQWqYC+CZAwQdrl3rWZLNokaEeQ6Yl2PGAao-p+NYGdynBmiJYZiM77KjNvRYzzYs4bwBPA+wegWEcs6AAABe47UAGGbg6RnpjMZ0gO11RM9B6zSZvSCmYwLJGQ6+gk4KhAOgfahAhgck5uEDMtnozJZt5tzy2aKErILANmsoDZo+tJg0vNMHgEzP27pzhZ1s3OaGYLn-DbNFc8xXXNu8+z-kIAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:teal"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:teal"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise <REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:teal"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:teal"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMTWtbIjsVQwTBPjRvQWEHjElQsDBSHrJsljWOuZHYQAZApoC6vq5EZOk6SgKQom8Zx-51uK7BMExqyltJqG8fxQiCaQwmgIuhDGYuF69AZyK0BI6H0RwlCgU5bAmfJkkoapMiHsFrl-v0AE7CwtC0OQMGEIFwymUSyFlmK1hWQJVh2fJyiLvFiXJalpAuTW7k0CVSUpfwpC+F5tE2upGVSeWYWHl11RMeeVUxXWtVlQ1HAQfgQWYth7Whbch4RVN-WXtVqGuveVTDMUxDiAwu6McFZmZRZPHidZHC2fZi5rfQLCbSI23tntlUcit10bY1907XtTXea101JLNerhb1PVQn1dpcTQb23R9TAPbtk7jZNbUA1lNCgw4C3kRDK07P2J7Zp9j0BulqPHTlp15UJhUOfjg4anDX0Bs9bmDcidOnltTPxp5v2k7OaMqXNIPC2DkU42zNAc4TjPE-GSP80dnWi5jvXi5x14AGKQAAGgAsgAoiEzDbiwxBMA51XFLgKrkMzoDBnbUQOeI6ECCwi5XmALC4B62lRFYgG0BNgEqbdAjjAIQReyplLcLQQQgDBTv4F2aCumwwC0G6DDmwAtGbepMGwEjAAAVrQee0OIsHAFYwdMLQwAAGwAMzYFruuG8bxeUFM-sWz2lDEA2j7PqArtdu7HC0QIEigNQ5sDzHYQMMBnrBrt8cD6As-zyqoAsLvojD6PwYxEGUyekG0jSGgkOoZP7uKx12ViXxVMFVNRVWyINuEHbQYLMH5PxYBwVexkPS0BfihJkchmo+T8jYYyygMbgwGoiOsoCZ6UDnjAwWjZphDxHjcIG801aLSWvCXG1g5z4PJu-M6F0aaLjnDSCkxcGrAJWmwpgAAPbgzAEqDHocrMhFDsb6UlqtagAhAHUBYKIMCAihGJWoKIt+uUbL5XstRQIV1ZHyKcko-hgjG5qMINw6Ra0hCmIYOA5gal-oCwsrZMMTBcD2ScBgu8oAbHKMETmag0CDozUFm45gniaY6B8QBfxdiuCiC-ijFx5YIkePsq3KKD8iJMAAI4TRIMjZxStNGU20dTb+DlgIFP4ObKxmDkSEN8Pkwp5ssIEkOq-GgF1Fw1LaUwVcOQEIEliXWfpdTpg3RGOVEJi19DGDJmI2QWNEJRRWjbNejVpmcLSvJTpYSLJhX2es6RQjtlVBmQ1OZIykIoVWaMl60idjF24KQCQLTalFI6XcwWbFJQnLGdxaw4h6DsKuXsqaByllv3lMDMWUKIY5OsMQhsL9umWXKedHRLDUUNN8c01FGiek6MXHi-Ei0gU0FRTgvBoSRSCzQZFKRjSZJbh3CTelqSykfwqck0gRUxwxieqc1lN5JYBNUSIrlpT0Yqz6lSw+DAYI3JKRitBqyqEP0IJQLgyroGUHjr8hhcLDWPNZmKzZYL2xwTNca5ZMg7WKvOXqlVjqjVdPub1J1y1nnWH7DIUxIU-kU15dioSpiiormyTw-gxkxrHnptYFUG5nSSTehWUcUZhWTkTF6FsYYIxConPGRM-gSzGBWrkaYwZFFoqDV0wIKE8btkDQI3QeiPDNILdLEykbM3spzaW6cejlSyXCJEINnbQgTvCswGtdbSGyCDYaIErhq0cFraINFh4V0ykaCEUxFajC9HMuWDdW60UjmydeQ1oxvpVFPGufAjpw6gH4qQGOuAnwvmIFEHgftW6gDkHDACrc0DgaydFMVJVh4yCbBIYccNKAMAENCs9sL2LMFdKhgk1EPBED-iqaQ1FD0FMUfBpgiGhZAzCthlDaHzx6NAB4OjyHcP7oPYfBKcGEMHl6vRjjMbpHNMfb2dNwTHQn1jEosTFstK9IAFRycU89VwK0T6UAbPgZkCGOBKFAHplY7VAgZuDl2OTXpYPEEox8gzh5pOKLEqedk9RyC4GA+ZyzmktKEY8cR6cjb6goT8--aQx7AjdFAGIYCQWUgZsEwIKzPGbNGf42LVOcnXOsQ8xudjSWfOgFCwFySgIQuCH80GAQEX6hRZixbEzZXBaHkSxeQEp6UgdZPWsXG95Rh2T0wZtLoAkaleMGZzL9NkvZ1S1R-T6WHCOdk-TbLyR3Oecm6eDSvmKthcC41lIwFGoOeHk5uTdQ13JHXBdQba5Z3DdG6uy79QTsyec+MJatXouiFiwd5ICX8vTd43NzQC25CbY+21nLwHEvbaK7tkrcWACQ9QjtiQyxZ+miQUfPau7O9cD3FETSe7jhoEUIdnnZDjk933fvMeMGjlr+XlCjZq51xUXXQCc5WnI2gYRSB-pkGwMbsr6xw8XJp7T3BPaXY8JLnT9OlRi8K4uFU68KqK6MB4NX-XNdK9GE+SIbAioAFVCANh1cGGgd6EZ1jznnbS9M1PGE5yhXn-O-2cQzTbh9U2tKifpuWrAGaP1eh95OOTMgJd0Sl89DN3AX1h74LbvckfVd9YYBVC8D9CUqjkbBI8A4n0jaJ2eRtKF1y9pZ6X0Vviux55IgmovvZ6+CBIsGo5txW-54koq7vjeFb99gh389vUh+96eWK8fCZqTfuMoXgmTBlBz8CiPrY1mF9Y8fMZWvAF+FUlkFXkvkEl-b9X+XwW65c9t4L0f0by-dqr5Zb4kQhQ0O+UYv2o-K+y8marfOzdRdX-RUdbGQFtSdGEOLNbXLVpCjI-SnKAhoe5cMJgNnZIOrH7BrTXDNLsL0afFUDgH-QNB-HfNApAwWXAwrYrKrPXYwDwXARRYCWgowEIC9RdafQfVbBoXoJHDAunJrBhdcMvTXDwNg7dJdQNSAvCbSAAy9eFBwSnTXEIBgzAsgznV3ZrWQoA9tZ-PfPhA-BMUCbgSgYRU8TfYvCCEg8-EzHAhvWCPAuwmCGfQgx-Eyb-VwqHQiXLcfUAAAQk0nhyIyqxFwxSIHcw+SxAFyiBkA4NLxiMcISFAGYIaEsLPzPA6CSNcD4ItlAPAKPFEEgL0FJ1cGvEUzKMVFsJvxggcKqOcKINSJ-08KbQoMcL8ICOoJI0BAIwAVwAiIpEFyr2SOSFiJP3iKqPuCR0mKMEaNHWi30P4EP0TQsMUSsPSLWGyO2Fy1fwWOsHUVSPcJ30JFAFKPKOC0FkXAYKhGkEXAiw2L+wxX3wWPMKHGP1WKaN6GoWkTCN6MZH6OiO4AM24FBzSLXzJFcPF0uMjhl1lEtmqGuMVDIyggcABLXB0EVHoNcIRNQgDQBI7XqA8EeKKHc3ARMMSjMJRNCGBJmPqDHSbxkCBLxJhMJKEGJOMNMN7CBLXAM0aKMBOMUyxJ2HXFxNACUlQiFLRPxPh3CN+KiPkPpKcAu2KMdzBgZMVOKO+L6NlLClxLVKVMaG1J0F1L1PqEaM42CFhKuIEBuN9TFUSlggdD3DBAtD4VBJnWuD4WUGNFAHlGEzFR2BHDKA4XKldJOjDWYUuV2QFQchHHxTiUXkggsVTQ+wv073ETBmvV3zrE3D3iTOAIwzZThXIXTLTRhHRInlJUUVrQkByhQJcixI1QExLN9N8THA+TAQDJHGUFqQYA+X5w9DxFAG7I+R5JsMkz8QYkLXGEzDjUCib0X2TUYmvQiwzQ1PcWDiSS9GY1XMiMFyHPAQpH7KNOKLWm2nwETO2lYGpGvSPNJz3MaIi3K2lKETsEdBV0hPhMlPlCxPAiJw4Q4CHNzNpQkBkAvNuknLPBvNRxIgdOpCdPYBkFXOfKSSRRWjPOmDz34XpIpBDKAkYBIgkP5xQukQ-XNHgoQyGyo2MzWDMy9A-VswookBiQZQsgfCoIRyqxY29L2CV1oF0MMgqz4Q4D0z8iwrVT8THIQy9G1OwofJDTpIQ10A8GXEXCVwQ04gdFAAABUAAJA2DgAAJRNwABkDZkAtJ5Q-QNkNg-1wLoE+zRgByRzmLyw0KZ8RA+FRL+yzS6D30Ng3L+EfARw7KDyHLvKWDfLGpFElEgqg8LVfESKorbK0gTMUIdK9LDKTLwBFUSKMK+FArnRgreQLBXS4L8heAnj6cSLSqwCBKhK5sRL7LirILntWFnQq5aQXJmrXAqraQo8VwioRx2rUQXIb0wBqoHxv1x4oA4BEBkB0Bvx5BoNfEfzIIOF7J+AJh7U35gJRBQIVqoIKAC9goCIPBhlP0uMjJAomITqJ4Y8dMfoWoE1RjeZHqkEApilEiNqwqLgZF1oYYuY5Z1FjrGgCSIIgk-q7pZYU99oqkvqCJaTe0AbobrqQboswbEaiZkaaY4aLrrBhp6pIVyIbqVquBhERpCaoycaGhaSbEjEnM7FzFpVFpiawbaaAx6aVFGagbYbCBNr4bH52Ap4WAUaGgu0WAmxCDJYZBsEIFAooEmIurLtsEczgpFa10qaaTUIJlvlgbRa0anNtb2lDapkIzZkFbotebvrwqdgiVdbJSSbbaea+bcb3FpIRb7awa6FsbLb+a4ps0S1uaibUbWzA1xo1qrYGbhFA7EJlAvq1bAg3EkEkZoEbVVVPrLarb9cGBDdLozcLdKArc6AJBhgWA+FQB7d9bVqRhgEH4Q7cRlBU6kJcjZIOw2BAFPhqoWRCBCjzgUJWyHFyA26KAO6pb66lUVVPCNjm6gk2BjDCNJbWUu6e7-sxykLXzK6DqTIrYczcQSclTmSwJeaIhqByoZAhiTSJVZaNhRhoFd747LtU77610I6j6nwCa7Jd6uDRd-S0YnqJo8t1zEJmMPA2EkZwaqQ7I17M6fqOjqskg7jzgDcUMu7TdzdLcyRpF3k+By6HdWzncucbTfFE7QJk62145Y7LagsUIdVXVoFTE8M9avzqa3TJ0w6RgcQIhrVlUyGCQKHNqn7iG-7G4AHIr9UeH07Nrmy99WbDF2aTFOao6YaEI+GcLKgUDQ7fz2H4kVEHE5hVaLbJH8MN61rtHAlrpzaNbNb9qTHZFJVEl+UJGpG6wSbjaOkVHG1p7Xl3lPkBkfkQjysgjwt1jaccjcsdhQULkgyGo-HED8zjH2GrVImIV+VeGvrbiQnECM1EmaQEIhHNzARrGEnOGknIyflFA0mQCwnaFf6FZsn5IhHl6mgUI6mpohG1CMn7i4mXHWlJkz7nsXUdkzaTlynLa1D1jLwVynIyaOKtIvSLKlqAJBGiB8a5h3r0NuUCz2I1nvq5Q9gsT1xlnpnpBlAlmpnSoqs5TtnYRqckjPjbTYxqQ3RYZ4Y9o06PGqmfHenIpMmxz9kvRjbwVIy06yDm1rAvGPlXGTlp0mGmgQgCgnjaAHnfIX0kbXmOGtlAXT6Tk97LtEWwKnnUWAxoFmlXHz6gQBnTbrk-GuCEGUhQXwabpIaXnOVma105cdFoYmXuZHSEE-pSy10EaliZZmWmag7ZdyyhIMaobvoXr6I+olCuL7BbjCHpGnNHblGDGJN1pd5cF54tIaUVbKVqKxyltWK6AkWCXMa0W94mjJmVm0MvRTn7XpbTsfsmiUJCmTI94n6D6Nrj736XWZNaBlBDnznpBg3NWnHkQSavanbXTmlQG4jFdPW8tpJJUualGY6yXI2+Lo2wb8asW43G0M0kYvQU2C3RoFZ9GKnXB8aHqfIFYK3NpZW+Xq8T8VHZKLIkZc2aASapWRXo73GTM62W2hHniGYB3YLeWFbFQU3+3uXqQq3FoVGbyKmosjAH4SbOXnmF31rKHh3pn62lEFZt3CWeZp3VbZ22GTJT2rXEY4jq3LbV3RnLxrxxqx4Xxpr3w5qvwIMFnDIaz-6XSUzywy7CtGAJoe36xxbphO6r6oFlBvXNWQOthekM456ihqpVxNd4Ob7EPdWO3J9fEdh0O3RMPR7VGtFw0P6ipSP56sPMzuRL7Ho5ab6cRXT0lPFcBlBvEiOAJt7dX2OUOSUwVIkcRlAmK4r+OJU-W37T7cAOP8p3EuPlAskoOE2am4i1oIHFOhJWFNOT8hltOGpGO2VE3RjRthPMUwydEkYBqDOJpYysyHOXRqAIH8jicrO0FHsoO6kT47SnDZOT7omvqrPd0X2pO6xsmiDQuUrGVbg13N2SB-OiFgKf8h3XBnKth1x0vNWawM0dJphwXD6Jh-Xyp809hLKRMYOXD58W2I3k7XS5JeWGvS9zUH4f8j3b6PCFlFk4mwp7y+OovXChHuud9euN24nDxBu7nlr5iigguA36u22I2ux4oiv92suel+AYIdJ4FfpOlCtxhYI9uIIGHUar8auiDlvj9eHd51uSvoGQhjvdvoj6vdAAAeCeHb07xg6BrXaLbO5BxcTSuiaDwgeeG1fAWZOgHTbccgaQEIFSwsIY4iWCcI-blqTpQsIZZHzIpUtH5OXo-Igkf7rOnOkHsH3AEMce6H65WH7NRHhyAsfH4ownjH97ln3Hln1HvC9H4ns7oisVeXbgI9sdltodnraRDa86OiZkWLxUFaPF-aFrlbkIuJ-5GoFrsn5IAk3m2Xw1Pp40vzkwxvRb0+r6nXwIEIFtuHY5bXoY1jW4QXoYm3h5uU97sHQXporIyp4DDauHQrsCWe7x83kz2J4wJByICXhyM3WiQjb05yH3l3DpvRLJ8ErSaL1wwNF9gQ8sZXnEEb+rwvnfJ+k0kb0h00sZ33rp-XzTeXiL-95EEd3l8X3lttyX9TaXuvuXnPzaxApX93m7wXiP7+6wOFd7kQgxg35kZIk3gLkrsrkLjOhV23wre3g7q3nytHMKM7ttrf8KgviKbXr3v75PmnP3vvwP0SYrsP4YdXyPoH6P9v2PwgePwQRPwKHB7jc58qfByLVPoCHT7GQvQWfefDWyaaCwC+nXYvo0TL4pBOulfDwufwIY18Nm0-evn31GripWUE1H9K+Bmofh5qGAJvmykESD126sHUekQC2psoqOF0MeouHIFD1yAUwJzsiGYGUCEws9cYOVD2hL1PU8XNMg4E-pe4xynA4elQNwGOsdEDwXpKpCGTGBVIQIHFr0mtCKCjA1oFQUeV6QLgNBLDbQXINJS2R9BtkQwSkF6Sa8hkmvRoKoNJTu41AQyBwZIFsE6DSUUfDQVH0BB2C9OkRKIFwC7C0BVwfggIQ+HqA+C7Ii4fMPoOMAyAPSoACQCCGyBl1Cw88UABEKjx5wYhqQeIYkIyDJDy6CQowBkMXCqZlAyQOIcoDyHPAy6imIoekLcF6dgA2Q4DLkKSGgAy6YANISUIACkLQyoQkPaFl0eh9QkoT5hiEDDqhBQwrIkMaGRD-C6QCYW0PyEdC2iWkWYUYL04fd+hywmoaAC+5GANhFg0lB90WHlDXAkwoYfsK0iDC5hUeTIDsKqFXDsghwkoZkDOEVDdhBQ94a8LuGLhfCLQ1Ya4GeBGBfCxgF0g8AvDx5W6XAq2PVwyCKg4EqkNcDCMkEL07wjyaERQLRFWxKAXYMuKBlYqIjsQuIFYboNRGsDBkqCeVJ-RxaBAJBlI9EUS2zxYiWBnwbdmawui9JYGQyWBnSONLGBekkAQgP-DtgSBFBwo0Ue8n5ECiJWkQkIbAEgAaCFRkAGUQKN6QhCDY+gzUWqONK9IAAciwH1EtDDR+og-pdihHiCKR7IyTP9XhHpBiRzIDzM8AG6JEGRNoiGqQExFWjsRjI09snQRH1A4Ezo7IGggU5ujrRrnT0Y8lrpRheykYpkSIjHo2pqOrpfugQT8xjAJAjeMuB8HijEAOwbyI3mundHoUeBkZfgXfU1wpjbInQQICq3GRlhRed-OyK6V9av1guaURXPC0ED0kExcI1Xqz2KKliGW70LrrqOMA9jZAI43EfiMJHKBz6I4-0W1wnGaCb+IfD5C2OyQFdRIMEE+GtxMQdj36-zJsYvzk7RNs8b7SWHgKmpvhZqn4TAKQPErDBdoZAf8hNHoDxgsQDANFL2lUa2B0ImEbzkK0pw7MaMKyXqIeD-GQEceHAPHuz2J7ATm8oE+svKmgmKoM4WIFpBAhGD6gOwsEdZqLjNjEBoedgNanIAbrEBiA7Qh8IWBkDETxcKlJSipSR5FQWexE1cfUEXBDJCe7XFaGYkpDAVCeDdfVCJKcICTpR+gJHFtxRAkQueUeFnphLATAQcJcwOBCmIknUZG6ugHHtoGtKRcOBpgbxh6DpA2p-x7EMyWWUch7BoSyQWkhdDMkikFIWAHHGAXH7sRDwZk5iDhHAlykvJawhyNGjLISFHJKuFcEY206vjGotST8XuG-FopLJsLYDH7Xh4B1GIjkpSC5LWzj958EdBRomS8nOBqcSlBSYWE0mVBRgdIMKKnXonKpzwPPG5sz3gmt83quUmTvlJET+SUeQIFSnj3KkmSJCnksRoVJ0lZTXALkT2NTkuBGTgKEufKEMhtQoiNgxkyqfyxSC0l1wiUmEppKjx6CTmOiaqXVLBxeSlpgkiqQwGFwuTaShPWqRJCskAByPHjai56PSrpsk-nsBTMmKpypAFIcuZMlCBRAJkQMKH9PgH1Bek4cXHihlx46oKogqBKP1lx4xkmMSODwDtJBkTQeyiRQ8KDNCAzTzpl0zWujNuC4ycZmM2YXjOWkfI-pUHXMW2ERaFjGoYDQRMPHMRkNVGxafgVOklIQz-aT0ZfO1LMSKN2Z99OBHTPzGMyhGDiVmQlDEl0N20a0uyahHersyyyvSfqkXV+i+R-I4AhWd+QERQc9ynkEuoJRZnmwEo7M95slLxp8ySYK6OLFkwlRr8hxrgUdq1Kup5ShZiZFdGzmhEyzgIQgVOl6DgRGzi6VQU2U+HNkRsapPs3uoLAHG-RxcegssuuG1KRzzEPgRutSOEF9j-Zmc-VExk1oJyWo4uEwSnPTkIzA5+qLEsXPoji5xZDM8gG8iEa2TAgaM2dLXNED30LoDcgsU3KZml5pZUckKWIz3SKzreLDLuneCPYoi85Vcieuk3qybFrZyCK6vbIOwoR1ZPElqTrLXkKzF5mBOLB6wNnjNZuAELBn2nbRWdBSs6bmTCTCh3ylZUfMhqg3zqF1I6FibSBID4DsCoYbnKlg2ji6CFb57aMsrulAVWMn+L81-m-N7YdTkQxnYYEEKjY1QEZmeeMKQF1QYQuAAgEQMuivlALz038y+dwBBABFioaCiqIqj1CBzKF8YHMoApklhREFXo9mSgpeCMsKAa1ftLlyIDv8hA-YDgP+kEDjAGAkkV6IamAqMK3MHzANOvLT5jkfC+rRwnUWz48KPCZBOJkovaLsVOi4rPhWRwEXtghF4cURdAupKXYQgrobgMBRGL-1x8X9FPkvOnpCEFZo-DFOuGsXAUH5Cs5QF4rlJ7p2mS8zpugKPQc5xmcTfxUGl87zcWSoEa6PlGiZH53YUZJyq4EqI94aiPeVRfPgOJP4ZJ2inbIEwEBllmS47BYBSDeL7MQqFgGUoLjsVesEiFS1JRoobEcCal1IHcv8UqUqAelaS9AT-ghJwkrSLsnyhcWGWtzzSsBZEj0pSWMldeaRPrutOxKtpCKoygHgfWJIJL6A0TfnM0qqWa0b51wNZaKSOWRA5lKcjpXUuiKHhCKYMwIIeDmX3LXAjVTpX8QIrYVnluOMKE8uzbP1kBWJcZZaX0lPi-0cMBsFwGpAlR+snUuhdQC7Lkz9yUZO8j11HLasula5F8l6FeXXKZAe5PZT-xhXwr1lso+oCitIIySMVa9IZcCrLIwslZAXGCqRTpBUrG4L5bJBpTSocAAAguAHAAGx9KmlSAAAHl9RZlRVqICq6WprK-g6FeguCSeUHKbxKzq5VyqKriqZZHKgJUzlwr7w6q7uliQSr2BSa6uQYLxSG7IgjVSiOVUS2SoySuVvK-lYKpFVirsqflXKjqtNUKrXlrpHqgKFyp1UPkDVDpYkQoVerCAQ1PIDXQ2R54TVRKvVa8uVWEKtgpVQghiDgT04Ul0PfIXrjBUjxIVca+VYxCzXG4Z0RVRyh4XjrU8oiha21YmpBLsLEo5Y98aMGAr4qOlqxZlSVVpBpqKQGa8viAOeB6JU1U4r4KUE1z-xaF4a6BO2vLVvEn6XpfujFVnWHkG1N5GAQaF87XsW1PZPFeTM7WlUtW9AQcqSK0h0UL5e61taGs9Y7rxR7rQWHklPU6LilZZJtduGmC-T91aRLtViUfVEAQK-8pBZeqxkHrN1bStlLlUDxrLk1bKG6dJTWSUQfJeReDUL18T0AUMo4XVc4TVU2rBgkkaepBrMK4bqAjTFetq0kpaQA1wlTxMRu7pkEM0JE7OqNFo3MrAxxRP1RaD4wORaNka9gP-xeUvpbM8M8NbxrYDYdAQm03VZ6XaGMbmAm0FjYeveKACXcFqmgOhuYDgVsNAlXMkesdCvKvQJ5BMiIiXJrACNAlKDSGpCIZoKNLwdyoGu1n6qUBDG8wHJsaibhSqbG0nBxrIpUYBqbVUqvxuMAJ4Bsvm6Mv5o6qK11wnZYDDJpc2jR3NtoA+fwRU1nyhouCzTShlrWwrw1qjAMrRvmVtzD46WvLbqu+pwt0ttG+iaVuoUVbdVVWnLY2nU2Ybw1Wm9yvVvjW2sxy9EKdfGrNYOq+VAqoVaKqyprB+tTqobWKuxWzpaN0mlYd1qy3BJ71FkRcFphBUrQaF4FHTY1swUabNwBBNVSZvSVdbRAQgIKl6C5UZVTKEWC7cZVMpTbrg0Wr0vNqCpLbywK2hsCCuRTB83kHyNaGXClr0N-pChARHxOkTZM-tMUcRl5wS4g7TO6wMFBDsRDyyPUMG5UsDqNSKoXkG44QFYH+2L1Ad189yZKEB2KpsmvOPHWQCh2o6fFGO1TfDo+i46YoyOwiRinAW06DJgYJgDBA4RCAAKBO6nTDvZ0PwzEciCcCQpZ2Ax8FQu9bcqjYBAb+dMktne1wfh-bKAKaRHWQAjYbrUQqjYrhrpJj67zuCy7XXkCxKq6U0LqQ3QBsIAU6vRnEyPtuoArg7qAtu63bbt4ZjSBRJu6UNkmC1R5IZRUG9UOSM4u61ddGp8eTrD0-BGdSO0DTrsJ3fbvG5OqWsnqR1gT6VE8lUB6HeCfBNQxYpoEHvJnoswUqeynaXrt1x6hQ2OCoe0Mj0W7G4DO2gO7uj1N6mdExJUt7uFxRQ-dK2hgLj0L2tqnBuOsPdnhWhBhud7DR+t+sPVWdU1PIftUCEGVZBPd2U3YMTsd1F7x9PO29bdI92krkgjKjYI6V6qmkipetQ-Zgtgon6PCLklHCEHlDV7Agne7vYJsciUA4ZDkAfT2SGRb6Rgo+6XnlRInsNpFoS69n2OkA5oSFiRZIkHz3F4j6aR44MrTLzGNzm5J7KKpXulCHQUIc+9NdiGohL7Mg1EAKkAZMhq53onYdhkMRkxdy0izyvsMviSFktn5EwBcfvuMCLg866DMtSXk9AV1ket+xqYuF7mSykYI1aBh4Av3H6BQFi5hg-oINF8wNvQHvSIf7ktzA9G+wfcoFUNoGa8foDNFiEErOC9WoAAAJxdAecVgU2BC16os7LDfONQMyoTAegygygbuogWnoT8EN9xKerlhoCFZvQD-IwMYZkD3T7pRUNAJEcC005gleiEI8cjWSaLjAxhpw3bEwipqFoiRGgA7l461YIlyRqw44dTVpHo+ygQwzjocOSB2FlZSQIBzIPJQMNmB4XFZ0701ge9NR6smo0c4aHNGH68mQtNEBVk6j-+sVGbPMQ76VQwWlnKMFoiJRJJaK49Xki9ChyTZQ8tmavGAg1VgtXPDoCNQiygEr4sxsUQFL6RXFhgLkRAiEcXD24HcYxhKIOXJkvBtjODLIXWMVAhGfpRevJLCC5wdNOcoBFjZgpnijhcFcwb4yEQ22bhMtlWjbSxpzLgmyCBxmY6b3eQnHEox3LPO4quM3GK6tGorXgpeM3HKovx4JeoWU3JBsTOJh3EOXh0vkHwVJ+3NEZUCFHJAzK-Pajh7UL7-lg6og0qU+Otr2TxRcgzDEoMmQ8kqxT0qwZvDtDJGPrTQ7uvFN0BoKR+q-QKB9KfYUtT47JrdFoDBhMIkxl9LpsHLLHEVxs8OWsYtkbGyDhAbYzj12NcEsmxTWrl-y0gPz5Tba-EMqcv1sn1Tr27LvjIArCnhgopvFcvidO5cGD0plYZIyg5LqCq+qpNTJNwN9r8Da6EcCsL1z912yzoXMndjnUgkq1MqpKvWqr6Xg7j1gACvdJtUyB2DAAHSwB5byqRQIE7gBQx0gH9CQp4ZAUuzhHaYyJ4CM9HLM76qzlCms-vvrONm38lQXVK2YulYVrg+AFnIkWowHNlAAALxhDlD6zgQUdS2bbORnqMG57s7jl7OLhDjJhQZBeBxx4AnTOpvU5ECrNNmhAe5uc7kP2l6cPYRULsLj2IC48rSMIe6ReGvBDnKzu5mc-ubfNyj-duPb87Rz-MjVTzlUIAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:teal"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:teal"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise <REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:teal">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgx5Fm1aMmGSukzraBZMEcZeFKgTGUFMbiugHDpFkFYHZNRglaF0IYHwFgTKEFaNYKQvFlFjLvASVSwzsijJ9kYXOHJ+gGJSGkaQyzzJfMUBUcYQT9mNF+TSVKiJNRgoMLCgk-zEV3PwA8p5BtHJjIMGUFFecLAYqxbgZRz48XIqJRYVKpdrnmCiKqOmJLKCPLJWMKwW8dglJYNxBYaxhhkGIF1UAEpCAwz4CcM41B5RKEaldUAoIgLPCumgVVm9Hj6P7F9PQqRowQqArQEgOgmnpm4dyJYrQ6DGo-oS8w-zGCs3ypKO1oBaUH14rq-A+qsw5m3Fao1Jr9yuvtb6-QAabVUupeYVK2rqBep9c+CNQb5n6MMfywomzDjED1nHDNWUODfwAFT5qLVhXwXMGTJDIOLPVlBPAVDrRPV5vgtltTyPmhwcaE31vmLuXNuAvRrCLHnYQfBFXts7WaDgjr27OsaC2jkqlZ1s0lPSgkERQCfA+IumkWzk1dqrDqptfaGJTXzSO6NY7FUHunaAFd87xnRtUQ+yQOh11503durKVFn2qKTYa41B5n2Mo5KBhl1IFG-hYAGOtDbQAntMrxa8T6LBtvPeZQ9C141wdPUsAdQ6CCXppNe0EGG1jsHNK+yUqGaQfAvM+Aj+aCV-rzoizSuHYajEQ-5DYLHWPRsY19PN5l3Kfq3bgHdv6877sAzoLDx7vWUDuHhsjHbRPAaveOsYcnKMzoYE6t9qGACQed6NejPepgVWBTMCY5IixFPHkPrH43Z594lyNEaLLZhlEmpMht8OZgD1qdAVF4x+sDKLwOgGiyZaOBxOiEBlXoBItHVFnDvb0bGtBq2KBqgJ-52XcsBZjQYvTQZ8rw2HCViw-zKswZq6VlgJwegJF7AAVQYMkPJUhxA8qssKZay0LTmXLRYaLql4uJZlQKLZ-W+WYY4Om0FB4tliocPN6y+a+hFZrVhLZighUbcULyrboLej1ZIMOA87jDF5HytHUk3lyhIb4uM1SiLnty1eyhmpqMHv5SBCCtYeh7sGcB+9vB+gwePaBDk4UMPAc8T4qDgHwJIfMt3Ij9Hf3sdA-ypQSVstliyRe0T50GPMzdq+xUcn6w-ve2YAZknKywvOdp-zdYryPtdFa4C4GaOQQ05+y544stU3K0AidgzbxwIzKQ6T77dPxm3Puay7FXPpO0m0x8no6w0u+FI-vAESxhf693USmh5B8ARZpF+yTP7GtbLyA4PHazCec9GRz8XtvLcehd3e6jOhGu+H+XwXiHwQ80otGrtlyi3f+VB8RolURjP2-88+95GpeejJ+XZ-5LK484pzOb3EMfMXq-ZRSjYjXUrh4d776LE2PSF4198wZytGczilGO3mtB-Yg+F38b3FPXnO8F67wX7u6cs-MiP+n1JSN49AAAQiowZudRmLfLoKnwVhSQkvylR+D4EyPrzH9h-i0AUfqXD7FxT7g1-fDp6yqR3XyxcAbBMG5gkOwi3-5RXHxPyBEn2AOn09zv2V191UmXzX300MxdWfQdV333w0GSxpxvw5AT2cwvwhwJWMwIPMGVxDVpS9iZ30CH14nn00182-ReG0yl271lxZDv2F2VyaFAD-wALzlUl6HD3zElF6HXRf23w9C72Z0oNwGoOELcRMkYDHVQMPz0EUHg0UBU3v01zNTpjp3Kz4MWEEJRX+T0IEJ0Hyw5HdRN2UNUInkMI0JRXhTeBGRULzz+S3TIO720G+EUH72rBBxUOGHUOILzgcJkmUObVsPEJ7y8J8OED8PUP8I0IpC4KLXsM9Acy7lAD1DSJzzUKjRpGQIUMoAP2S2fGcNcx-xG1fFyPKJ-3kL3yKLQKP23DKMwNY2aInhqIqOpXYNSOMJ6iENkLNmrGBAIEIC0GJGzASD0C9kp3aERS9gqEMHYAAD4JBeEJdpJggMRIEhxZiz4bYNFtiyEtEgxghQlngfxgIyAK4OUiNucodZENl4cPYTkNYNl7jykLVZEk1OUa885CszFeJHloxRRrcwxUjDZdwniuUwAcIjhJU-ooA4BEBkB0BbhPBNVO8rxIFAwZwMhelfFd4vgfhsSRBSQTQ7V-lAFMQ7UQjkxXRKT-oq0a0bIFwz8UxJZB1pZ6STQKg8S8jzDPQ2ICJ0IBtk5CxGTfg45hSAIFIxSWREJ+TaTPQvt5JRSSIGTqV-kpTB1VTfJvFFSGB8TlTERTxpxxEJStSt0-gJh-YzwLSr4t0jSBS4UhSo4Y4xAS4E5IlxTyRJSbTC4PTHRB0Il-ZfSTilTqUQjuZNSiV-lDEcI9BuZeZQIBYWAUlIROiujkyNZeTWiCRIyiUQiwE34KSrSdS2FX4Uxjc-5MExFCAMyr9CzgjPQLFYz-jrS442zDTjSozzY1R2zXCKyLYeyXSCQQioUDTLS4yJxdloxRlSSXRwlvSwyFTCw+TnSszo1W5pZ-IhYklGyNz8SxzfBaUSAWstJOtutaBetAFowmB5AvZQAhtOz-hIE3ZEk5y9AYgKgDyT438NQcgEgY5XpCdPJvzGAv8tdVJJhWFfZhBgKRBQLEyfyJxCk6Fxs-NX8dc3hZpvDHUwKGEIKGAoLflZM2p54HAdSARmBiLjx7FHEYh8V8yLBIifgjTugxAhw9AWKaQco+ZZZBZiLmKuiiUDytzRLwkOKThzSAwmLk9aZMxERHZE8-YKBIQAt-kVLnMB4mcAw1L54TzXSg96URCtdmsjViKOsusetakzYWETtnzhtYKxsYtBj9Edzvg9ywUDgjyn1VI8kukhZS5bUZyLVCVUpEVqKcS6kLwGkQqmzNzGtPL2ShZOkDyfLErjyO9ngKzAzi4QyVybjRyPilLQTz9oraKZ464y5G5yQ-KjLatXyaKXRqr+5kJXQ-LXVaVFy9A2q55NEsqNjhQKySyApfKnT8TXkAKfgEhmFWExq5FRC6YTLqQRCZrhESFnZ6ylqtcaRVJKqlzugRFtruKCEyh+ThCsKLctlYqnYIR2SHAQ1DrvzjqtqdjsFzrLqUUZrtKUc7rtR2TSLM8PQAbMR2TG9rq9q3kxCbTFrGtOlREhwMyP4LrnTG81q3EtlGAzTJQHAli2BViLVeB3EUqca7S309BkxTUmUyqKklhqajL-lwqWzEVyaBw30KgybHQKbJRZFGbNgfNr9TZ9EDh1BZh6BZT1SZhGzpqcLKy-49wbrs1qSIQjgOAxq6zkbXRoDuEmEWEFaOECEQ1mbeESDZzpdjRxaEwhU1SuIZbXr0F3rji5EJLn0xbmQbapb7b4ghZDF4bRLWNEbTroE5Fk8zLYUs8B4UJvaDI1y-TWMATZQZS7a47WTGQ9wSsQi9S5SNSyyCt-omYc7pb6gyIFxM67NUpibMaRasSuylFcTnSx8Va0ZXclEGL5zrFqQtkB11bAFrbJbU75ShY0YaDQBsaeaObJQ+7ubcb9Be6x6Dreq0Y3aaQ2K8TOLZKkzhNJMKh2apxp6GqcqRqbSRz15+TSrRZ+c-rz8asXrPYiqol6reL+ThrxwKyzSzrz6m7f0tl-IqLerP7zx2TOrJqx6zT07dScCgHZwy6M7eSRc-L11VJ-Jj736bTi6fbwy-LXkIG4GoGUdMG078HOqUUXqiH5SQGEH+StzvrN1zB3E8rs12J9Sn6Iyf7qQ8HOSQGU7WHxjOTSG84XreHc7rJE9qGkqhH0a3Edg4TfozgkTLhUSbg1VMTpI7lz8ZjL7xAny70NGbd3LlYEzwKBK0z0EKgV6wHtHC7ZQC5Th8KDNCLjwhhGtTGiB0yLGHEfU6H3FI45rbApQUK9i1EpkmY+Bew8KAmnGOY-t+LUz3H0FvzgmV525vyKgu5YnPIO6knrGUmO5wnQAJ5MmGF2KMhN7uK+BkmR5V40mN437Ehr61QeGxA9KqnbGb7-4KgfxWm-tlKmnE9eNrHJlGZZR-JewOnzjhQOndLsFBnf1nFEFTdnMElGHYhsZhigcN6ZLuKL75mW9dwfGTI7qZ9dmtCWl9BDmzY751nrA8h5y6ccHjBfAzm5ic8HmwGtgtl3pZr5rSnynzxDleESaTIEzPd8GJq9zgnEVwW2c+J2kjnOdIGhZldv84FabYl9AoD6EwlEXvKUWnm0WYlxBnwsXa7cr3DHGtmuLPrOSIWI8LHKxrBTn0XxACBgRLQJZyIqE702WgQOW-hQqrTEVQXicYXXtUbUZGXSnGrSteWOXwWjAAAef6GcPlo-AVmVpqiynoXoAAFQZABQYDBiSRRGgUARrRqElFSl6FAA8FaOJEBwUM5YXCoQ8AARtbtdEodeBCdY1c1aa3PMsr1YNb4GkDQqBFNfIXNd2WECtaDFtafy6O9Ymj32dcZFdaDF7ATftbuUddTb9bQdZeZMUEgaoc5MecgyuaNOlAZHFmZY5BMg9oVNpdhZpujSjq+IVZv21Orey3FhYuuf7yRypa3tfpv1SnwfK23C7dEv+W3A1daInfFtkQVdUwLaix+u0zxPK2+f1tYRHd2It18G1bTakKDE63pEdQkFllco3ShpDVus5wcGOc92+pBrpibe-MRfBa-fF1Xr-Tp1St-YpzHuf0xpZcmprZKVGWkbJeFC4fIjLfIlhYrYrSrYyCg7rY4bzkbeXbFY1aPaJc9E7dpf9dD0g77Z4q6MHY2b+e2ewTHcrrvPIincchnbc3+XM3nfpdezI-HP7uZBXdI7XYjwUsws3cVW3b0atD3bo+paYAN1YsDa1HLfPYYEvYM2vedCconAptdlA8wroOhtbRVp0I4BfeJzffbY9E-cA5-eV3-efUA7xc5zE4gzA4g7xMw5g-xIFFkc8nhKlXOGRKuDRIwDUYpkAoQpAusBQsgskTpvPkONQt6HgsQuEFekmfHDS5i+0DmoICHA1KYoS4xdkXktmxVpy6Qti4C4cE0lhW-nXAAQsHXD-REppG-k3Ga-ME3Da6zO-k1G6641YGfXa4JG-i7CG67D64a7MQdF4QAXm55GpTG98G-imxAmjAAQ2-kDBiJVW4sG-m1e6+1dG-67MQP3lAmDyAOCGEu+u6ODzgO-MG-jcCG4sGmIqGjFNFWKfI8D2+e5sYDF6GWne-ME+9AG+5WNACfOGwB-O9sbLQqBpAh6h8Jph9ACLUh-MEB+-mADB8VQWMh5+4x7AHh9m9sYAFICfUeSenzKfsfQBcezFp13vafofdHzRvuEfge4C2eie0ffvV8ufmfbHFWaeBe6fQBlXzBueKfgfFW2Awf2f0enzFfZfRfgfliJevupfViNeee+hlilfkffAVehfjeDf5e+gV8CeMffB0fzAV8LAZjYVVtKugLcucpwX2AUUxZi9QsOhPfqvonfb3ffxiAquMuauSnaA8htplV1a-elBiLoeBvg-o+AEFZ5LAeCQo-kKAubsDsM-QKZSZ6mZv4g8AEg9c-A7DuzFIAGA2ZCotvkfG-m+WFa+6+ge+h7vYBIBuu+-IAu+6-v57vEohvx+R-A7v4AA5eQWfgn+f2fvjn-cPsEIP6LkPlOn3tgZP8WcddH7cSp4YEvkIZh8hdfyPs-6O-CC8Pc33vOf3w-1Y7PvjTf9L0vi-hsm7EyWC+uLftH1D7gRUKSSDRME3-4E5Z0JAXANGCRzbR5AWQMWjkGYRUcBM+fawAhRUD1kiukFRzhYDAFdhwwBIQxqAn8AlsD22CYJuvWkrycAwNWaoN3mUI39veLbRNl0QwG392Iq7BgcoCYGcCcocfBPkIAmr5lOBKdSFvgKhg-MDalAhThVwj7SCgQ2MPICXFoGyUHA9GFknIIDA3Z-ODCQLoiQuAolrgmACLtPBabEQhAlAW+GCHqBJASAyiL7ME3m6oh0QCsZwX8VcKQlXwngowG60oAetqSJIFNvOQ8ErANMRlVKOEMVwJJq4pwJILvAErMBG4IQttopXaAZRqAKICgDiVBC-lqA1AEnkcA8B6AshuhG1kYRtbWss2HgLIdP2pS9ArEubYEPCzNhlwhondFoUCF-LoVehQODoZ3xMDGYXm4gZNgm16B9AE2s0RIR8GSF81-eYAwYT6j-L+CgwBgAYgIn0TLDrQLAKYkkhcHSJKkBw2wsGAW6pFKYTMA4ZkR1A2ZweS3UKLuAOFGAy8CsZ4cLw4ADBwSHZAPmUMKSmhzQXw11P8m6ZWCLwtg6yA4OUQnDo0qUPQKaRjbnIWQ1wvUHcM5AyxnQdFayKGRuLPDkUPmIwlMI8A7DXAUxbcBlTxHZsha8bIIfgwTBJhicy5MuKuT+Fw41hAWG1kEJJF7Dfhz4Ckf8P3C2s0RFgMMDVB8yRVYQLCHbP6AARJJT+RAA2qSK8GukEUOeGEa4WWF9BBuXNJmOSP+GqZnh8ozobsJICpYbMxZboayKZpBgAA5EEKSQTC7R5o4IXm3nIHC-sOw2+CQHnJeioeezT4jImdBuCeg24X0Q0L-Tfwuo7rI1O6zyTDhew-YGDO6zOLBpjMaKSUWEMchhjVM2YoPgqNYRKjUimo0MdeG9FX5nwuYz0aWO+6FtQACApAdQBQH38dKvsL6OXCRRDMKwiIjUmMlsKRjuxmEWnFkxxFKQxkUg-3vWMrCNjhAzCdkvXDbFVh+hwVb5MqP44OhLO3yPsWYkGAVA6R3JDcYoFXGnk3CigWsb6LnAPkvY84zKFWA7G-oZqk5UcSuMXS3Usmk7DgCij3EMjMRTIxOE+MPEGdi+C4j4FKAPIOB-e54mMJeOvHlwlxSKAzqpFYEsdMsg3WwoimaInAbxIEoKlfgVitisJvoVYVEN2BvjOSuhSbmhMwnlxCJ6FVIkhIXC6FJxyAmcc2L4hmF8iw3LEaXXLY1ZNITE6cbOP8gwTbxeoopJSiPHR5EU9ExkKf2Ak0TkkY9davLXpJ4pF0X8bcVYm4b7jMReKK6kZ1+QHUfYMhODuOAcougXk-oumlFU3EdltwvYlsie3ly9ArytlE8X+NMnRgTsWXXCC01DoWTRh2RUYPZNcIUobJgpRyT7GsrXlbyI4iwXYHIQfk-+VYGDPUDGLAwqgOgQCBc2+TWMzJHYzLImKuybDEkmU20lVnqAax-JEHbcN0z8krjaxlWO-rkFory53mjADTlKGKCUBZUBmAgCQBVw9wSk85KqRyBmojJVJxnNDC3QnwcA3cBOE5pFMSK+4IOy+QPBvlXTB58896dTlEy6k9Tuo6IVqa51rzj0hpuBU-InjxxucYs11GatZIAmEcMh4gRFHQEUCZiS8K4rpmdNCkASDOtBB3I9NUR0oN2HnIjq9OGnt5SBUYDFE6FOQeFAIm3PmgcHgwIzduvoA4M2ksmElO2XcWwqjOjDoy7ghgIsTnmnZdwpBBNVYhMVhmMDHG+MpGTDISAWZeQ5M3ihUXplSgMZcQiOGECZCgUOZoIFGZ8DRmczMZAUh4YLOtEcz3gRM4iehLY6syBMlMl4LzOzD8zhZBM-QNLIxmGApB1KZWdTKZniQu4KzRtozMJwgRwQKfVCukNUR8BLZTOJ2K0CdAYhnZTM5-owF3Hcz9E9sjQI7MNmuzJihw+moHKdDWiWagpfKK4D5kWQNZfNENNO0ZnT9lZvsoaDOCdmTFQ5RsrJG7JNjmDxAbFXvMhH9CzMIhAqUAFVBOL4tu6004AqAVhzgFicbBVzsg39wzT18CBTaUOQpYUEy5L2SudQRJlpzAgDRJQtgRRxXSKgA8paVDOy5+yWAswYokfkSxTyNA1BaxmZ0BH8F+i7A1FNlH0KmFUixuT1CvIrkaAXCHEnQgwxbLv5EsF8veYXO+DFywQ2CU+dPKCKRzs8owO+TcMCk9BK51oxLK4EXmNFZEd8vWXnGfAAKIF9meeSPKXm-DwFbMv9NuGgXIKnOrnYiX0UEK1iZUQEZIBMFmCFTvExC+IBUHPGnzzx1ckzooKXltwKKxADgEAoXmjzksFCtebp3KliAc43fATFQpbkBS6FBlRhVvIPnsS95Ec10hs1GLjFGZKWRovQvUr1N70HwNZIBC9jKFz5nYp2YDkQXnzlFYqDOS7L1TwY9UYsmhRvz7pioE0pi71EUwCnq0O5m+PGqbWW4TsGpG+K8XWkTCaLAoFi4gHqgcDNFz5rc8pCMj1RGAjCgwN1Ahm9QChRioAXVgAAlEolAAAILgBwAiUAAEq6tIAAAeVn7IAOA1ddxKG0PxlSUphwXxcAvXlYzxA1xTAZ4pqULzrRhih7N7EInJSrsvtFpYEGImGLeIg6UhYcD+yDKeQlSnpdUuCbJLUlGSrJbkoKVFKxlRANRZ0tAndKHazC-pdY0MUByOlXipTD4u2UkUExmy+IPtEZmJSzYbMDZVwsHgnK6lDi82anP94lZK5KIFYiHjwXfRCFky7xB8raywxh5DAagvgPKUyp-lvSx5YkS3gJLZllAbJe1gAAyiUYpWsR5DAsblRASFcECFgwrqFRHRpWso0UnK2lqyg5b6DxV9KSKqRcZYOmpXPFxA9K45AQCFgzKUliKlFWipWUXhKVUoalWSusaGy4ZzOErHsrkUHLKA3ijuGSpgUcgHYVgS5W7LDD4CJVbsvoDuNOJKrDZYYZRf-0FVwLQViRYVS8stlvKg6VgaHiHn-48wtiwQYYEarBUlYIVV3Q1SCuoLKLqw+XawL6L0DsKPVGhIxallNVuyLZGgC1Q2yfbo8Q0Iq2mVKAFmNZblUK6pQGtqWJE9Zysg1VYCFhpqF5nqrcnZyTm1jDqNg6sf6urHz5g1WaRQXvBiAOBrFeU3Mb0FLW+jb2qkOtYwHKxB5bC3q7AWWpYA+jK1Qaw2cRM7Ushap5CCtYOqvxFrc5DUt4ActBQ-z6lnoZNnouNiUhsQKpT5MEuNi1iwQRqKoOcouSzADlZQk9SRTlqKpEQS6kHCMpIppYtkgSjgFKplUXr7lf006YoOyHnlgGD64NY-wqLqrM5eqM5fcuVWTFb2vgQ7LBm9TgaqlDASDU6BcbPpEUD6xYiT1-WLI4ql66tYpPvZgcthysQ9a0FZVNKSVtxTQv4uBXAKHAlxf4DcQ2TroZqd6woGSqfUq0X1Ks9RdKqOWyqjVX6rZNhuAbjBDZQGn-CBuMXwbtVBAZDQkGg0WBYNCacZjqquX-tEUDqxVFhoCA4byN+GvSQDN-RRATJJ4UqeMCNQprkRl64OVsQfX3zyORoAVVYA-WIbiJTmqza5qmUkU-sHmh9V5pmDjJSNx6+5e7nPX2b10c2XAHcsQ190EV8ynJXksKXgB108WzJYlqWXor0Nl6zDdD0ZAxbvNGFIjr0ByzFS-+5mlze8V-TBb9NBOc9cxprmKD8t5GuLZyqRWoqUt1IBFe1rRUOBNNVgXLej2a14rF6HoErZYgXUyDWEP4baOBQSraKviCVWJm9QHizaywmVaxnZJ9htD9EnSGbU8GXGlJcpBzbbUys9Cyd4sa248BttXUSylt2LZ4HdUu1PAbtAUrbdUge1TMzoAEV4FdobKvaIOP0nbcrEkBAhIEUoP1fNtXXvbgdzwWql4nMmnbNtuKU7b5sKQJAp1UOgKUDuUUzbaA+UPqmID+0TU51Qc7RbJ321EVKdIg60aTqdCpE8dBOvbUToO2E6GAxO8Mce0XIDrvRjtDBNToDAC7UawowOnTtSxbxlNfYAzO61bXViAEjOnzfnIrm-b8dLIZ7WWBJ3fsk55OuagbXV3Xb9dP-WwpIrXGqzEBscxGfoBKyy7B1fOn7QcD+16BDdErMXcxWpHaboel21XTpgwTO6ndv2g7W7q6Ku7JIkumMb2Bt3ejtuKu-KL-zNig6cS4lEddrtXUirXlKfF1dGuWIi70Ri27nX6oT0pCedbo9CpzrszSKiAsijVewXxEzkK9YxUiHIuIKEEq6vCfAnxS13zrDwkuuMTLvz1y6KghehfIwy9hAQhUiOw8dYxerw7pgE+q-JgW+bKC4+agspvR3kGzzxA-EpsTwyGVVrR1y4VSGnvNUZ7o0ZnbPdGk6XZDaKjU-8M1JdCtF1APIefPKvB4ZBacP3AdspyKA8LeFIolyTeWekaAFcOnD1jZkIK+BegW+lieyT1WatOOgOGRY3ur3HTYRGKqQq6ld1bBJdUBwSc5j73IZIExegBDgdYm-YcAWyJIFeJ25gwOAAATl4BxZXg6UBanIttmMGEsm3YNdoFcAYhB9aWGap203XQ0lJiqcQHek4CKdzA1BvQDaJtG9g0AChxTf9IzzRppDic66b4GoNcHCo6IEVa5CvziBhsGTEGeNmpBaGRVOhrUBUEoMcQmDm3fVbgGBLlUXQU4I9XvpT0BSxdWBoVH0CBK7dnD+Bt8swCIO-lHD-h60Nbjj3bCqJVYYvfCIYCwawsLAekNWCGG-0Vae8BwJBPvILArx+E9sXzA+DxHYNEw7gHqpY3aZCYKRlvh8KDDVg2W12C3NIZB4vl8jVYUAL6JVklGnKoPYgSimkNVjbde8TYDdKM7RZSMAGtKWiAmCZS+awxtLB5os39x-NfmvDRrHmO+5SMVRodiwlqM-wBCTAMMIDOaNDZTjnCxDROFmPyZTjpxkcKMaM1N5CNHIE4zceGydHhFRwV40NiUPK6ODu3YNWgOpQirI1rGM-ZgUGO87eKN+pgHfv9XP7FUb+3YCT2PJ6zI9Po3cQgcr1IHM5FqfcIpI327AVtzIA4FIHRD5RYNNajfpkY4DZHoJbR-FXDBcMJGjsbrMo8nluorazOYaBcgQeCN+q94GJkYliYBO4nk8H2DMXEehMiAcSApwk07Q9yyxFiiJyptD2yoEnbV5GqjeQurEplA1-C8XM3R-VMhZgwQBwIslljA42VayKjWPQnqFFhFT1P9HUUUJsKdTjytmQxuuJKRgI2YE05yhf0Eh9TD+AKc6cUWUVMs28gwh2RN3Hi0TVG7Jj6c9obI9Z9eqvZnNDPCKVm9JuIzaOIV6Bf9oAAADpYA7NfAxxmlL4BGopiFqL7rry-wCY5DQYbYx8CwjZm-VuZzZfmd-3FnSzlta0PkkrOmjNFowMgGFivw+o2aFQAAF7v8izuceNf2cJxVnv9kPac4KJ-yNntIyR-vP-APC2ZogRJ38KSZ6C5myzUoCs8uYF46jbG1UbRO62oDutTCGwG0QeB2Btny1p5vsxeaHNXme+fYd1nkHvOPm9Vm5kcEAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:teal">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:teal"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgwt47BwkcPgJwzhQDgIgZA6BbieEePo34vEATMEDDODIvTfG7y+D8K8gIQQmlzgSfo5htT3N8KlB0stXQvIsI87GtBkhkEUDZBcPE+IS3IgmJMHyTQVBOQYL55g3lvDYgRdCVkonknhaAR5+zcADxQgBBSaLk7r1hZixFMldIWUJSRT5edzDYr+BS8y8lUU0sQqSuloByWnmnOIwsmKGVxx5UOY5DBTlks9IXGOYgS4J0icSjFnLBW4qlcXXFET-YKq0aADldLyXc1pXSx5hicJ6G5rzUCAsWApMhGUTFnKaTmo1tC+1DrfC6rzuSsBb87lKp1Yy71KZ96v2fs7MRhAbUGBhWKuFnLyUWMNXnZVRj9bspjRKxEFtfVGv9XHLNJL01xo8coKYbL+V+smNGUZ1yjnhLlZqlk0KdUxrtW6x1I9pb+SFkkyN0bTmxr1TqkgJwtTr16AAVQYMkPJUhxAxiYPIL2oBlrLVzf8SBbtEklqrTECoPaT7CD4KAPQiJfbCASDHV6lBTUxA2HeGJJ5t313PZe6wN7GB7sKXQiwEQdW4A+C8I9J6kWnEULYKU76GB3qohYPCfg2rzwcDiw5Locoa1va2ttDrvbMAYFKE53QxAitdVhiwOU+ay0FnoDDJHSMTi-ZhujDrwlisI7ygMt6iw0lUpmtUILrxjDOhQSEJHHmO38gPXDAY-bCYHQ61KjBWb5UlD4cwv7PgAZg+YFgI7qMfqDJO6dtBZ27DNiwxQWUV0Tm3VhH9biuYdu+F20ZPsDh9vGaovJXShalw-vCx53JcDwtSpqatBzIHUe6PUwpLnSnucY221unaDlnUE9Fopvmo3Nv7YM5WOKB5F1juq+tFdRWnPvTx0U5AXTIYizPOuZdG7knc3JpNa6UN6Hq-3ZCrp3P2tSrVo5XW56aKy7C3Lzx8uBvfu5+9h7j2IiYSwthIa5H3tVHTRT7dlM6FU2pv9AH5vAelJWEhYaRUEI8xyVSg3UNRbO5Ai7lCo3jepOp-9WUtOwcOMQOpZ2IT8ayhwV1t3IvoIe2QzRH8yivbzkd3jD5Adg5EZiQH0HXWqT+07AH-k9sEne5pjHHopvBr-noWjUEUePegTgmHMa8e+CiIztxcHGA8slA4Qw7AAB8EheG8HcUl74bP-a1klHoZMTT0zcMCxL2Wfm2uBa+SFroPQRcDkkDoCoQvKDq6nOL58kumIAEhfD2bNgcdQsx6AEtZTMSNc2gNElJxwxi63vu-mIEAhwgbMHhsjQzh9nolusOmwQ11AXeGutStUGcxorcJjILbri9vkcQ-DXIhLTHLfMkT8ngyg9DHTYp0x90VPIc2o-u5RnB3PsvMq3i-C+eiWNvLW2n5TNkXN+4mRBce5aPku8npal3js1YY77KIfVK7f1F74yfvdHUqBbx1EU2ezGUJrTeVmDcG0YODsc6wseO4N614kcDgOfrdJ5ZSn+IQs0YHl8Kzx0ovNfn-+o53XL+Nfi9P-+x-QeoOaMWe2GXsuG+GrGJw7GZqX0Z+FQeuYuOgbm2WCS7i+W+aV8KBFWHohi4mKW5OpGoOnsJW6KtqJeecsK8iZs+Wwq2CW+4ycG-kSGNaLotBs4-kvWKBeOPKQK8YHBbBJCksFEWW-k7meOqkuO5u6+ccU+N+BeZW4yPBc+uKHBshvk1kyhvWXyoOahI+9QHBTasKIB2m9OxYcCJk+WXechLeCh96ShQhSOVh6hs+QhWhFBLBnWP27EzhWgBhhY8W2hphkUYAiyv0qyFwGy1wtwV0uyysbY1WegXs4yqkS6ZoHAhA1WE2woJqnkegFGVq6CFQwBWBMGX8Zis0YGim16nkQwJe+RRA1qRRDi0YYh9CcRIGCQlReG1RDC1GyR3C58Gi1GvYFR4GPRx4oSzw5GlqDR6CfR2Bw8GCq8wxXgOSqCnk9ijifA-RixF4yxfAFQE8NSpmDCPwkBRG2C2xCxpiSx7cKxm8WR44uBfGHBP4UmOxNxAYDsLxKWACbx54axX4bweBoK-kHx5ygxmkohQYIJ14kxwosJIQYgUmywfE4J6Sokr4YJVBeysQ2M1YwIZxGQbGIqsK1x7Qz4r2Ai+iWOyyHyZJpReC+gVJaBeJtAHwwMO6-McsJRZuG2mYoWdJzorRUQcG70PwnRy2BGUBQ4Dgy+sRzwJq3JYKC4yBXa6JsMowyhapKW7SJkQpz8QhQsBpTQfJQe24JpxxBpgOxp3JppcC-JFJu4lpUheWYBceRJJJdBRpFQfwyBeQlY1gDJ0uLcM4QIloKpjIVCaR-0YZEZfprWHIjyoWSpUKPppkZ+WWAZHJHqnqsZwIEZ2pRgAAPPmeGfKKiQrm6tisOrQD0L0AACoMgGLMhgxJIojQKAIAo1CSipS9CgAeDkG+DEj5QTR8BVpFkDlBi9hTlDkWAjnAiHpVoJmJl5k6Z1l9BNm0C7DSD0ZAgdnkJdklrCC9lBizml7zkZGjlLmRn-5TkAL9mDkXlPJXmLnjmVmoFcwMj-KArKFI7KGzYwYWFirSgMjizBl5wmSX63k6l3lfbcYy4yJFlznYogW-LixznupskElAiekynYKUFzmpTKHsDmjbjIXPlYpZg5gJmYVcqAJW6yJFnzC7grmB5qZfJHYnKkXpFWgh54UXFMBXY0jrlahCG9iTr0iKYSCyy2YcgE515upwYGkOC0nKmw4OqqTQXWnanUZ2nGFMbWnOYmkAE0hM52aOniAnKgUlKjJBEKnCj2HgoGHiUZm4CAXUjAUZA2XgUxru7mBQWMXam+mZn+UEgN6y4UWkaoXeXoUEEXl3z4mjkCXQGEWL6AJCE8XUXGhGmrnVmAJECUDbh+khW4B5XyYMXMhMW5UsVYmZmmX46gCcVAbcUxnin8XSmCWBRuqiW3kSUMBSV4YyXOjLqroCFyVmW15hVP4-bHCyyqX3bXrqWmFupaWMU6VGl6WyxRp0Vkbck2lbXOhcbyVvYhmZjWVxUskwyhHLJ-RrKXCbI3AYAOVAnPoXoiBXqQZnJnw2xDG7pBhnrvXCCvTwnjiA2vraCdEEBDg0q3qSItKYlLCcYChwbg0fVvqeTv6aQvLfzrgAIWDrhto7Ucjfybj43mCbhE3GHfyajk2amsBurE3tqyi9Bdh01dhU041mIOi8IAI808icpM0EjfzRwHDpTRgAKi3i2C3U1mKiXk2iWM2y0s1JCWgTB5AHBDCq3yjq1HB5xC2+DfxuB00WCJEVDRimi85LoeBgygAG0WDfzLQm3mBm2gAW086gBLqrq2323mDfwABUztx6Xs5tltntoA-tbt5gvtH+LNwAQdrt7tbAVtoAYAPtytXxAApAnSHW7WHUupnVHXbRnX0GkSbYnfnVlRbSXb0AAIRmjl251J0p310cDV1c0s3Fk52h0e1LqlnmDt0k1mLFlsDO0V292gAj0D0x3fzc7d150T287T013c6j0VAEjj3J3h2r3L0d1fG11B3h2+Bb3mC10WBJEvIHio05BA2fUbHansBfJiwGwiTDA30Q2LJX2zVo3A0Y2nG0B5DbRAQRqP15zP0xAe003v3o0AIKycYx0Eg-130MJ0JYDX0vro2N7-hY1MzfxbZsySgAL4M7YIOUWG1mKQAMBsyFQS3r2UPUMsKkNkN+1mLa2UCwCQDk1sMcNMPMPfxsOJR00CO8NkPfwABy8gYjQdEjYj5VzDdtvA6Dt9SJnu7ED9bAT9Sg1GHtFpWWSDKj+KdCSjENVhXaoDHI4DOjiCSNGwb9GDv9WD5CB4W6KgrC+j4x3i-1SSGiGpla2gswW2JAuA0YyV208gWQluOQzC8VWG7j56Kg4asNjAIjvg3jXY4YBIrpoC-ggKnV0BGpOGHpeTxGpGseeGeR0DDjOUwVTVZD7jVhzFFOZT+g7jOUADQDQgyBu19TXh7BupKTFNfFkprCxTAJKNs14pQI2MAZ6q5x7GPuOTKVIqzjCymNYR5w6yVwmAz17ibxxEQglAt8YI9QSQJAyiU+GpPNqI6ICsFzGwXyjyhsrFKw5k+495lAj5gCr5Y5VatzLzaw+4yu2Vsidzxxs0SQu8FGzAjcJIySvj1A1AKIFAEWoIe6CLYdRwHgegGU1AWVvQ-Zjy+L9FD5U5OLAzec+LFQC5cLxxZcQ0E53zn6ySTL9cRAjDJgxuZ17Q1L95fQU54LPMHwUL4uz93jdLLCTLVe95BgvQtLsIy2rgCQ2LhSlz0ilSSS5VhLgWNUeZlMTMGroAeoWApuC2aroUu4GrRguIwLz4lroArdQYcyDzx624BrMZAwOrfqezGUF4Rz1kpzyiGr-WprEwx5wS4EBrRrJrvg7yzoempxGqpWlrcK0bhLfLHg4rrCirL9OYPayrQIbzg50b5g-Znzf50syY8bx4tcicSkdrT5bqpbU5mb1oLASrCsebybRgbgxr+cMrvbCKHQ8rVarN-oACSSb9bLWbbb9zurGoqu+bmrQ7U7fQtN2uTMrrKrtVSwlrk79LrbJACQKbXq3zi7zrvQAA5J80kveVe8a8Rd8zeRq3K1O4c9eCQFWrfB+6qxUksM6Ncz0NuF+4PfI7HV8V1A+XWQ+XksOL2P2CwLBzCVYGGPc8bsmcOzm-oMB1ls+Nh3uwqzO0C5m5h3oHhxaLuGRy29h48eIGExE9QFExeBJr7F9OXLFj+0EjSmMs69-Jx5hBUHWmXA2uxwZRY1o3R5WAx8IMwoDvXKx1WJK+x7OxyOSpW9x21t-IMFSw4RW-ST7MpzSANj7DR6AMB3OAul7HJ5lFWOx47iG3x0pGMldspffZlcDnnOW5CnG4J7W+BE54HtffJx8FKD2g4M-WZ-OgsJZyx9Z8gXm-5-cpjq5+RHi7Tc66FtuDF+XL6PuvLNYxU0Fzl1+oC3mdU25+aKO2CJ6zSOh4VyF1+kC2Vyl+6xJ5E9J0x78elwu01wuKJ8zQGK11JzJ8xycLFyR-F-p-uOVSrqMD14yG-XV95g1QpYBiG2p5N+7mUSzVpxleCrp3GwlzXhpopeFcTsZ6dWvsrOZjVvp+STvKFup0mcC494Z0OrpjMgZlOjOlZSQeONd6DbhMiTTmMnd56A9-p865SRD2ubWT0B9xOl98Zj90JxXKAP8eQpuiZPByQNZIQPkmiBMDoIBMybd4yXTNd7Z+69j8OMcUaCF1WAh-UBrCD2TwjZ4XYOQkpwKDsCUiwNxAsGsMMEnhOENRKIQNdSsmj-KEoI1FdMeh8MrFdGgEr5vC9SeFWF9HoKkC0X4HQCQEgT+7Lq0Hrwb-ao8sQ5rsG8GrxFr-gDr9uNuMb3WQbwZ36o70BM71WRVf2Jr9r9u4Jib1XiZ4YgL4UAwbNX-l6GsA4AHaH-gIHQ1V+X8gCrb6wp4BUNr5QBPGFXBm1HkHHw4D79QKn5QOn+R6+JH3H8dTSEdnnwXzGRb5KMJad5tnhttpruxaACt-BQSHBk7-r4Xxr8X5n3cP73X68w1XDkBv3zoFlY340NNddh6PP530dx9ovwheT7uDP5PydXnOZRxb4Aor+AhyX2XyP6VdeM37n1NPXxOEP2f-75XxP537X7f+ZHP23wQwvz38OYVc+M-0F50VQsmkTPmX1CwX83KV-clg6gAGwFcUVfavo1WO4b80es1GfoPwWjD87eWfMfu-wBa78a+0-D3gPwb5f8SG7uYtn-wvDiR8B5QAdpRVCwQCcBo-KAesD67PlaB+fCfgeGLbd8S8HwGgdvxIFa42BhA-HF8gP5d9PKZsKWhoGoAVkj2YVLWHi1+Q-lqu+VNQQCgpypQzg7rfKPDGHDkFHkBghDuQQGyw89ACQfqkZhMy88W8o1cjmsAmrSDLKoAOQYQAUHjNPc4MCzC3ij4EAwuKQJUOZEMCKNZqYvBwPYP56hDWa35AFFhFRrC8OA0Q3HrENME48sI7iQxHkHyjRxSQU+S-usFB6hZChYg44rkLwzJUp8egSofkILag9twdQ0coCXEDNDCSHBdoQ0NZ5OlXwXQ1oajDyHJV8oS1D5GUJNKg8i+ywWSOUDmpHVjihTcpmUOhITCeh4gFMsEOBhDCCh-zWYWCQE52kTOBgpvLkCOQfcDS8BAamMWKBFUuoBAEgOMmrglIq0LPZqiGxGROdUBu+bYUCH3w-D-Gowg7j7AOHbVV+QeLoZ-yUyW86M5vK4VURuHS88M9w2LCCKOol5UodARQFWi6FI5+h4glbvDnnajBPhv-IPKFkxG-NHITnCoBSNkROd8RU1UkbTHOrnd9+p1NwbSLGQmdiQ2YBIKGwszdFAIIEaMOLgOBl8hR8gEUVKAODZ81hnoSKl3GdYSipR7wO4IYCI4LtyKXcDgb4C5xb0eRTofkR6WVGiiMivIr0AxG1G7VKKJo6URPAGH5RXATIK9LaNBDijPgko30DKMN5IVFRbWW0aqPVF5kMujkMUeSz1G85HRLAZ0VSmFHi4AxMowwDqLbQRivmrQQ0eJC7ifkLcZow0XwBAjggtG-1KXG4PzEaBcMTsdMUqwNF8jwG+mIPm0SmIFiKxNYjEFWJ9GVIaxS7JXLqzCAxj5IcY-QK6nIq5ij2Oo1MWWKGgzhKxvItseaNcjtjsxeyd0t0UPR4p-Q2CMoVVG1SrDqQ3wqocCD+EHjcKIwg0tMMpSoj1g4hD0BCLIFQjJQzrRYfoC3EaBLx03WGFOMCCUBVaCg2of8M6E-Css24t8SZ06CfjZgP4ismBIqDAS5hxQuUSpXdZ8BFghDWpk916DIT8whDIFtbyWDQT3BGgIwM6xUrmAgWwybIHkUIloSauOqFcVKDXHIQNxDYfCbBJNJkSiRPQMCUYD1Bg8F224pdmBNcAQT5BFZZ8FxOTGwDdw-EiSZykEksBhJngispl0IkyTmG24aSdaNIwmUgWGElCToFlZZMowo5AgHj1IijjEiGpULLnVTGBYcSysBQUBGSATBZg1POtgzxx7xAKgZnfCWZ13EzUfBkEtuAhmIAcA5JX4yCaR3fZuNXx9-QwZ5OomgcHUvkw4Vy0SAiSgpwmPFphJ6gaDfAkeHkECxwomStArYwKTJnnh2TngZADknkO9iUTuqQeIkKe2UnGwTOYvGcU6FT7n87esovcbNXfxi8upGfHqQ1S0qQj2+HOfKbgHooHAjhbfSzpn0TD1Tw+Pg7Xg4BamjTuEIybXkYEJaDB6K2vAUCZNAANkAAEolEoAABBcAOAESgAAlBspAAADyYjZABwHlLuI+ARABQRMHcmp4wpDAN8aD2qnWBapXseqUJKXbtSwZOXP6XfghnyT3x7U3iLilcmHBjiyMnkL9LimHAuccos6RdOum3SHpz016RjMKowz6eOMweADI1LtTWxYMygItI7i0y4OcMsQPtFHGY8zYbMKmYz1xkAygZcomsdegLHP1aM24lEDznIIOTvozk7GfzJZCSzrBH4oSW+IklfTFJCsjyQLPLHyS3xlU4UIBAFFIEEwLID7uMLtL3oTIZo6wFIF4jKJ4Jbw47B8PRxuouKB8G3mUPWDN884NCTIq6n4F0Zd8R4+oQCLPE8kXSdGVSHkHGnf9MKjyZCR9kwqpRbZlAe2bgGUQ4jOhSAtkcbiDmaVuED3IiTCItCtA7ZDskjj7MpDYgy5+ACuZnLpGu83UqUJOR8E75SCpB-s+uenMrlcjDJ44J8doG+BgZ-Yawc8eZFKpCy+pPg28YMOPHhzlSls0EdSCOwQiHW8-ZvqpEYBLlvxIkv8QvIAnHissmk3wH8BAkJSCRTuN4CMj+DQYyGOwf2k-K+T7j6hoc4YbMDPHny4J4gmOT8Ptbmh5+EeUADvPHJ7zFJE8oAYlOzn4F+hdqY3AgoCp2lo8tE8ApAr2G8QQJb2KakdmNlx43g4Eb+cvKOqmlH5z8v2R6F0lYT9JK+RkV8hux0T0FPJb+VHLsyXcqpBUMBRFMUDgDWBfkoPIhIq7ZTsJbWKhTlJwmey8JvCpdgaXYkyQ8iXcBKXlNQUek1xo86sOPJ4XDA+FyCudvIsUDZ9HxdE4ebzHZIaLCgBi4YGXwmGp0wAT8-2nIqYGKKeJp6BdgYqXagLWEEUsSVaLIZiSJ4qkmkJ4vAW-jMuvixKRyEy4BLT5dKbSXmTEWEMjhwJKwBiGpxCVQekyRmFnDSXaoHYyHAYT+GAjVSlIwQDUgrFKUDDxgGsUpRkrNayJnwFSpdrx1wD2zowVWOEu+KeavhGlJnPxjzGCBjArAXkqKRanAnDKWArCfheYDgzARswswYIA4FaDJgmUawN4PlEGUEAGqz+XeeVJClKK84wSiKd5L1mBBAlecQpf8FKyzLc8pSs5RyGSkry3BwS3ZVlL0m5TvkfOAqWuRYJvsJlGy6wBrGuXzKrAMAoqUQBKnmTnlQmCqVvGOkEzKAd08dAABlEob0z5bgAFz6lvpOtYIELEFk-zgZNU+aQjMCBQyKZ8030LipJVQYgWmM3FFSoGF0rZAVgIWBqXhWIqUV4AcmReEpnMqCAeKk5VBlB4izmmMTB1PTPMmMzmZ1KmAXSjyUEBOZVYsMBJIlVVi+gO3eVfgEVW8iUOvSp9FSvxVTLVEIsyceLKwwLKt65BPpXypdDBBhggq9WbRk1k-SDVDqn+YbPHDVgoa1gYDpFImWjK1ZcEjqUoOFmjjRZGgM1RyEQm85XUIq5QMaI9FSixVbqXmdrNTzHKxlP81SamL8ZUqM1gakygZR0qjiPVVlH5b6uA6Xjg1K0sEKZwgYcBBpFPMjr0Fuy-KP2Lg1SHvHrWALyB0Ip7l6oSZtrP2UUqtV2KBZdrGA7PKTELDI7Fr2xSS-xoBC9ihCuJtSysaORI5cSrWtc8iYB0chbruRePVoGmvqAjCwZ2LdmUKpgyEjF13sUIWjKgzX9Zqa0jgFKpwFLSH14gmZQECWUXgH1wa8xqXlVWzi-eQYB9dqqdAuDfAigJPKnzZnUyINCQWom6lCwPqKgqYxFsOnPAnqIVi42hSgJgyr53EYIOstYHGBnriVNSnfN-UFUOALlxS8CKUrxw3qwZK6wVW7I5BwYX1LweaUzPfUsz2Nnfb9VhtnDjAaxgGpjMBs6mgbNViGqDRYBg0BgZNwQOTTqNCx2rj0YdTDb+ptXVrludC5nOwscpE9dNdZHDSyE-VrqBllm51nTxtUXrqZ74uzQ+oc2KyBhzmy9a5p1lXrqQJG49f+oo1LqvNMwLZbNUZB8zvN7+eFUTPumPSXpXK6kNFpumxbSZaK1DZevQ1h1wt5m79EHl6B-IDJ1JZWHZoGVUbfNR6sjVYABHnqmNM82tdltxUOB2VyK1FXjma2cqHA6moZZpo9oNaWVm0umPlssQLr+KP4baLkUyxrrZcmWK0otTG1PBYsJY80lSNcyVKzoF4ebWWB8yrbQeUPapI2IphvB+Kotcbb0Um1yj+aSwGbQdvHBY4TtC287alOe6rbjinSe7VtsW0ak9tepM2JICBCQIpQvqx7W4O3DXaitzwRrF4hu6lJGhK2-beDscqFIEgnPYHUHm+2lq0BDAbaLQHWWbbOmo6ktWutG1iBTtx4dnqTojQyL9qNYoFmNpx0shOkeOiNOTqeDQ4hyra31VjiZ0s6ttO1Kgc+TnW8jUCimvoBB17Ac6opfxEnfTucYmQTt9OvQO9vx1BquxRO4ZhxFeAU6lISuync6x7EqceNTo7MC6MTXi5aMEuv5Xds10Ladd0OFXSWvgU0hUx8u9ZW9ut0fbbdfOgXdTpLWSQRd+WkgA+Qt3tqYJmumXZit+34B-tRyHtATvbHCqw1pqrRk6u5LSz+dtIOpcHqrR-aAdQ6-NmzoiXDljJ4KsyWqpMopsc0YK0ycGsOrrBjWpuJfLwkd0EhBdToP3bBuDC0BEOLa8tZLoqA57mAsu6gl7CAhJ5odBTDwpDumDj6c4nAq0FMwAYlw5mQ4DHYN0Y6OEUZceoXcuC0qJ6xZye5jKnuTr2pvYo+o5McP-CnCXQdFdQDyEvF3KXaGQATpbWtG9Un9+y5hgj1sHrCNAGZVgFZkfL16qBvQNfe10Bwoc5G9KQBMXur2ti2JFVQLBwNb1Hstg-u0A8N1+Li7e9EygBOgY65okBccGJIJZylrCiHAAATl4By7Xg4tGvUtoCqyCaDwo4NdoFcAYh+9zfG9ZFWNhhUr5x6cQDGU4C+yLApByUXoAvYXtewaAaQ-Jv2wEbXUohykfglakKGmDkolg4VHRAizXIWWcQKui7gdz2RIhtQ6HjDWaGtQFQYgxrrFrCiMdvEVpe0pdBThSNW+tvaD2QOoGO99hyUY4aD3YGQ9E4FpT4etDVYh9+iLLlWDz35RFNvpFgPSGrDstqNPgveA4Ai7RgLOVnNjnzA+AnoGAim+8twF1WrygMhMeIzQwAUcAf4WEpgGGDCqKG+gK6VdBEaODAceN+R0ak7QyZfJ6jVHKKaR02Bd9GRUgo7P+rx7AwqgRPcXHvA400gStVWszS5o83UzNin7XObSBKNxH2S5Rh1lUYIA1HhD5geo70EaNWYH1E4SY7PxOMroRwgxgjZ3IM0cgjjVx1dK0d2VHBnjnRzvooZr2xqw1karDNGswq9G-lmki-UwCv2kd79x6d-VcS3r9pVJWeyE9AeBDFTS9s42ydXjYVq9dgi1ZkAcCkDohojSeGtcQBSMcA0jGR5o5RPQROG8jwvDwLKyKP+Ta1aleahwFB3+HP2VLGA7hvRO8JMTzI9oMCY-a5H8UEJveAJ0WoXDoTz+j2jlgHlBAZwssFZfyv8b-KSTlQfkaWmsi6A5S0gXTQ5y0C6AwhMg-RGnIzmOzSe9CraRRJB7ALDE6QFU9DoqDjBDTswXQJAcHauLiR0PB1MmQXbmnK5oOybncsDONy9tJXCqqXBXxPawzyiWrSWGaN56L21PPQBEoAA6WAazfGu6JjG+AdZJVogbdqh070pGSQ0GFKPsl-4B4JM76pTN-S0ziUzM9mZNnWh8k+Zw9pRNGBkBfSWWHXqFh7OgAAAXrY3MCZmCQzTNs9egLNFBzaFQEc6WaYzlntImxj4FhBNbRBcTv4Akz0BTM5mpQeZmc03XXYs1qo2iB8tQAfL6SNgF7A8DsFrN9G9zrZw852ePNgdRdD5PIBeavModlzI4IAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:teal"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:teal"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-50wAGKQAABoAFkACizRAiEAgcof44Js4iO9NQVE4JQCORiaoFBEDlbCHILJPA5AZBaFIOnFIxcaT-HyeoEQHBhCNDpqoSglBCCGEaCAMQiTaRoFyAoYA7hEhhM8uQbkFQFC+GAAAK0MJ5QwEC2rABSIUwwwAABsOhsB4C8X4wJG0FD4ErP8SgfRQDsA8F4ZmSgUksDSU1fAwhfAEEcFsvodN1ykC0vEigtT07-EthcgWINdlcgOY5PoNRNm5JqLUWoaBcEeUFsctJDjcYJngTI5e08ZZWUicGaoMTnBqMfsCD6JzyAMHuXnHJhgYVBRuNiXRx9W7tzztwExbiH6wzRLi057zfCkqLoTPZygvBXyMT-Vx-czGD2xYLESHLKHwsQRXeR4IRJC2YFoTeWKmWwqSGLeGhBAjP3oBKnu3DBV3yzqK1IbxuKoh+AjLVxAdXQI4QYqR4dpUr2NtwYyRRUH0HNc4S1mrtWGExYy-mZqNVaoJYEFOp9JGUMDgwQIMhkF4iDXgr1obSAMEpHqwMsb43INJPw7FIarXps6Eik2FCEw5sqMgnQtMBGpGMO0feYSs051LkvORrqUGNtrNclV-NCY9ubfnY2YRP4xoruCIdfbuDBzCAW1V06wkKqoMQTeJKC6xGjfq-ldCGHYqqA8mcHxV2bzdmOitW1r5zuTR5bVx7FVrv3pQDdo6hLXUNS+295hBZrs0LiJdI6ZYXu3YGZ2GQ6HzvMSagO6wH2nufee99jqXZZF-hMY1qrBbct5fah1krpHOrLVZHD-bOJcp+a24Ek7SOzv7gu-mOGzkXJhWqlw9KhWYa9qkDQITqDclRFRqVHaZVdvBLxkEAnA0Mc4pE4tNqA26rw2xqhzjP37tVT9MQr7yGgfYwagVdoGUyY8g5EepBtP6CICB-DcLFYQas7U79LhD0fHM+1azyHKHbU8yZ8w973Mks8+OhMN5fPQ3BT+1InV9BWu7mBwjImdxWqssUHBkWXAVBICIVIuqUtjVRuTGmOMh6UECI1RynReX9RXAOQRP1YuTBxisAcbQOhZEUdwB8zW-TXVILWJiWZnzRnda8egVIWCMmegwV6kNYvUyxlDAiQVJviSDOqWoo35L-U6MYLbKl2TlYYJVtgvLpvvxYI+ZiWBoIURfO6ueBKNyNdAPt-Sh3iAVaq3ywY3WdYfa+6dm+l8HxveaDIXbxBBs5nJIFIuZXPvHe+3FrjnEEZI39kKAl+Bn5-FJn9U8C287rUbM9KbxMXqMDm51zGxOmIDjJwAQjAmin0PXHFFwcEKXENw+KqHOqtOxtYBd7TdXpP0hPaeAyOK9wod2inCn0PVzcp4msRHF4UPAkJtcrlJxT8nF1KdvUW99NgRPpcrhW-r5no5wLjndaULnMgeehX551t7zpztnWelTG70FUI03daZRG+9Bg08lzTAKw2BaK6y6H3L0DJc05ps8UAWudcrCChEpMtRwRR8jPdzPRd0eh-x2jTo5ulsw4ingbOTM5AsygHARAyB0DczxAAjy4sayruQfvSsXm7NC0jKLbvZ5JbtVjspUo1JjbKWaM7POXdp-AittJEhVL2FHxbm3XOndY5dboAP+fw8mHKKgcv50pQx8ZvG8wdBNiL-yP71MFYC-ouWPFJoohgmp9X5aKeKdIVtYloion3kfq-iZMPLvGen-oqNfoATAYhs-hASfkAl6hivQL6tarapfvAQAT8GapgdXAuPJrgSgcfs6O-rBqkuQHgSsKUITNnFuCyvioSp9MSl3PhBrkUFCvimylwR7oqC-mgQ2m1sOvQdtjfoBkYOIdciukqs+jprLIfpQYqNQThpITMAQQuJoRQZAQdmKsDFoUUAgT8OKvoaISPIQHxlJkpv3CvhJuymPh0FoPoHJn6gpuIgfi0BAdwWhLGrvujCSlpsoVTL4QPgYU0C0KQOZMgjZHZA5M5NSL4FPOQPDF5D5C4auuljvDYWwOysiNwKEUJHVqkFqtQAoBipsm9I-O4Q4GroaEFE4eGpUdUY1MwUUYIBZlBjmNHmUbfgoIQPgOULUUyvUXQI0Q0O+DahkMVNkW4ZEgIciL7jwUUCXiIGLEfgePQGekIX6JEuwZIGQCSisf4WsYUKEecRcXmI-FsZWDsa-GCCsVdhzgRnGsDELl9NqnMVEdtvKujLflPIhj8WwLLKNs0GOBqGGPLj1mZMEBMVZLZPZE5C5tipQL4CQJkYIPkb4DVNXp3uYIEaLMEbFpqoYKoetCpmZqEWSU5nJKUKhnJM0FhAsV9K5jOFpnSWEJSdcc6MSV8SSgFrSVajyREe4kPDfkQRaqQZ4eQV2i-pHI6mVsLmyfoEWn6uGrUFweKX8SUDoa4V9BqWGpmj4SIX6KZBLG4caSWmCTqS-qjl3oATIXOpSTjAMX+hicPk2tckhlSbZoGFCaGLDv0YrpCnBgoU+lPH6ezv6MXlaeyQeG5ieoodGTepwA6SGQXiNg2Hfv9EmQ+jLF8YyO6mqRyZGbAW+hmRAdDjEAMQCWdOWcHF8VMb1kXE2cbF8bWaALCVBEXpQtIXIS2m9gFimVGS+khtWQPt2WxBFo2A4LvLUIyE8ICAAHygCoYnAZbUZua74LnPzjzakdw2rxY5yob6DHlLAMEbkQYrgsnPb7kBqHnCDcACmPkvzak3iXl8JkSvYiqLrciMAjEEKgFQJhHulhliE+ktpuKxmNhzqMiAYVlKFdzdmPaekAZDlAZfoO43mZBB44nZYpyAWtz8Df7aLvDuEFnIVplvqrE8GGAkXAXkUqIkqDpYX6D7HLY2rwapkTk3pmJy7R59lvFD5n6P6-4OFXgKQVziWgWxSUrWymJbbUEaLn6SUaxvYyU7hqUSXlSKV7p6lv54VsABQRaSmAF6EKkQE4yk7nKXJAhMYCGxxMSNjdh6iIVMVkXqWMzLT2VASxDznVwHkahMxAhvnBVPkai3jch6gBWiWBhqlsp8nCEh6bH96PFnruUUnSiLmhCUl1rYo34WHWUD5KmUKEwNn2L7ZqnypkGKZ2r9wpUEQv6FWqo35IG0XIrim2V5noyMhqmdUzjsJNXilMS7wb4tzvxDWTV7q9S1iUlMRBToyOlwyAG6XyXeGlXrQTUGVfFl7CI+U6Lb5zUrhqkbU-7lQjUay8lnU1lnBboWWEF34gIsVP7bU4y7UnX7VyWXXHV6IH5nUJnqkvUP6bXZTXUqHikpWZk16yCPz17yBKBN7syt5cyWCEltr9ZfTwynmgAZFrYqlQ7mXYpMF1FHHErcDJU9WFwTo7iepDEjGbHZzgjNXTAU0nFU32WLXQZYamqKDDGjGdF43CayIVwyBWStKC3M2PxkYeSHGQIcEnHuF41VoJoS2gBJp+ZolMrMaFGq2ggfHq3cD5q838xybbHyBPEq3lWVqG25oa21qrWiS3CNRVXC5vBIzlrkhBRIJyqfHoys0qD0Be3ObDzu1fTowi2JZi06UMRWQR1y3+YB0MRAle2m7ni21Xq7oZ0PjO2+HgI44nQZVW1nqKm02hYg73V1yqrllzbl0+1fzXyw3bnNpfDGBNSFGLZunq5bpxiUJYSQw83nCNjbKNQYX3GZXPqMibmY2gBMEm4GU5XBF40xwnXL0MRQY13m2LazWnGLap590Bn6YjCR5m2ya72knFa90xCN2UI3hn3-n8wbH+wl27HIHr29Q5UsDrDj02UV3Zr7xiDbJGDr3hBrYcBtQgOnhXn-4Eyu3G5L5L1f3hE-0d3mlUHAhAMgNL3hAAA8WDUDbuu2Rl+p8Jm44IAAKlbPPUIJclprwOuk2PkdQLUM0HEgANSy4MVlZzTc6gOkJjpcNB2cPcMa4Gx8PO6m4TAQkxFxFUM0MyDECOTdFiCMNKHMN8ZsMoKgBcNcWz6GyNJSO4O6MoJWSmP6MSNtT8MwMSnYp5SzX7UGU93kiSlH4BxWzYgN0rBDyMW2zIMUw2ZtnvHnm4P7HX7uPojYj6MxBt1F1tST2l2IatX7HNAGVpzbRhNrGzDXy2P6NpOAXA5GZgM2h2i2PxWsS1aK795pxj1ixDFelv1PH+kNDkMCPHxIl0CWzlAbk1wVNCXZmxljbvACCQyMh10m6ZmxhBR+PQKQx73uEH1s1XjzNX0H39Mw5y530Jj94eNECxbV1z1fWkJOMnW9QuNIhFWROeMHNlUiW3EAX+Of2BMtNxkhMOZZNoQROVh7PRM8FxMBoJNNNl0QGkMHbpNraZNgNCGlDwTbQwO9RgtQGzNFP-glN-jSOvF9FVMGA1OE1hwT3AvPqvOFBtPOMoK2TdMiC9OfTYlDX4najCXuqNhjNAgTNL5TPBMJgovzNL2LPE7LOrirOb38uAwbPkSw7bOJXXP7Mt10x16HKszN4cxt4YBz3RxdRVE0A1GdENEhYJZOpJbPEOBWQVFavUCbJJ0uBmvtEzZDEcCbwX4rH6sn1qZ2gvEeyFSau2sKvhUVzph+1zBB2xBzCrj0W8GTocjBsxAchht8l+0YTRs8AbhxsBuTqBxJuBypvTB+3gaZBB15tsDOjhuFB+3cSGAhLkB4ncDluVuXKKgluxB+3kPRvkOxiNsxB+286qAjwsCGCs3du9tMwrAds7lgjggcNJuxD6DwzcC+DgPrkZFcP1ujt+2eRTsxAztzsLv41eSgArvxuTpwjcANBbv7s7sZGQj7sxCruTrAAbsGCzvntrm7tgAHtpv00ACkD7Z787L7GRn717oAt79N4kU7v7F7ac87h79NNu4HT7f7AIi7oANu57MH47eDP7CHkHBDMQ0HH7GHAIG7EH-7oAeDQIaHBHEIq5WH27pH65eHIH47q5RHJ7hQJHSHu7LHjH6HEIjOD7u7hQnHMQjOsQuN6YBUeZNr2rHRdxS9gIK45KP23A0nFrsnTKUGXrbRMnYxBYrcLAgyJgL6CnKwSnyIL7Cb3rMnQdJiLxo7RQqnOrCNaYkUUnVnanQJJ6U8YVY7W4k6QZwgQdAX9nNxnbk6kAdA0SGJwbEXUX+HoXioXbVAPbsAkA0bg7qXIXoXSX2yDA-iSbg7-iWXNxftAAcuQKVw++V6V0izwZJyMzwO5zUUwvJwCIpxoO4S+9tDIOEY541Pgpp259px50wsESZ9MGZ11wZlkD17101-16DV+luXkSEriH17p4Jl0VpoinjS0a9GqKQAUSdIMuQNWIxV1JoJxQROt5USEuOU6w0YK5cRZjtzLoUCTYuvGIQIk+-dGXjS-T99bftrxqXut5EgEzE+ty1yU8DzYaD-Nxt+VPgAZ0ZzlZDwj6N5vcV4UHU4S5bb9+7HOXmXU2IF8D-aQfj08YhV94D2ei57XgjYqyjS3pzJgHPZ7RQKYAwE2h8OVDcKQLyootHWkIwyrJuCYkL5MCuDkznTeJL+EMIwwKI1Y0Y+yhL5-n8PfHeapqiwdXnefR5K0jcMPoSloJGoY0EwlSDMoMoIwxkL3kYMUTbzu0zFw-oD0soGnOCHEqUN76AOw+Y1wx79j86N73Rhb2HdatUuyir8UT0XH-NFHxic8NBFKy4Cr6Y+CBCKY0b-isYKb9qUp9t0nz0CUQrygtYHngb+YCX0wGQAoO7xZsL+eVpnqb76hrpFAZChXK36AAnDdpu4W7r63+EP9iYiPyh+pGlm3wYNtL32tuCGlsZKUBzz0jODz7FPz7yq38ZM0Erjxiw3YdAr3-37+XWYrEvh4TgQ1Y32tFL2RL79n1w7Xzkg33Pz0bf-fBY2f3Esr99bvseQmJ6d6q4iCfno1XC-9TGL-evj9mH4f8R+TWDhgP0KDwhZIZEFkvEAxK5RQQQdLTCp0wG4hX+UvYytHGew79ryJfCEIm1fIVx3+a0UplkBH74DJAXpIgTdmoIq9P+0vFBAAHJRGWmTPnwPYEGNJG7KVvtrUa4sDcQTaUgOyhkF-sAGZ5BzJ9GViqxto8gkPquD9pCBAuVkYICIwcg6Q14bgYsCI36wcB4Q9-UoJQPUG1hZB4RG8BoOYHR86+pAQSNrxsHXwnBGLbwbXw0H50TuZ3ZQBd2Gqp0tUHgBTHSWF4SZ+MF+OLNwO0GH8oEQdK-v6nERxYnuMQJToEPWDBDqAmgL4uGgiFuAE+JKOLMQK74X9O48Q68n7TSyzp-+NKaoZqgqEHYrU+deQYfDSLwwihYSNwFEIgoGBBYMQo-lEP9Iss5OJ1EsnBEaF752SdxEAXlhaEbMvWxQ4wP7FCLxQOunQxuN0N6EKZShYw6HEFHB5TCF+ibbgVhG2jhC+h6wwLOERMQ3CFMS8MvnqXByTDSEXvDNpcPkC3CXhPRbXqcM+EL8ch53fIaEL6id9tCg9D4R032xIJQReQgoYCSeH9C6BZQ5YVr2Mowjda5LVEXcJKL55KIAxQAeUJ6y+1J09QlIicwAEctlhRIwvG8x2aaozKT9TiBiRIADDFBw8Vki0O4HbQahUBNpvlgSIolkiiwlwByOIBWtg6wJbzlyLT48jnsgo7QjeBVHRFhRmqTpmKJcASjZRXtftm1X5gWhiw5USgPgCaiNQBgFQX7C0KzqSjMSX0OLF7xNHVQJB1okeCYO0jlQBCzo7kdtE9ooVyh+dTSPfhoC958sQ9aUFS39idQGAJSYQBwFIDrRGERAZwnaPuYx4hhH+TcGSMzHDMJs+uRyhThmxU5JmWoqXFXmdBW5DcacALlpWjFM1YxP0eMToKTF0lK8tXWIM0FyCEB2UXuexD7nFY9lQy2Yp7AeDGFDNj6ybCcb2LV7N1lh3AOcbr3KHDjeyD2YvCyJXCzl+6CYZcSjg+78wDY-QBQNYSIoiIIEvgbUoYDZAVBLxS8QwKSHtHDxQmSabgXeKrYPjiQTwDwc9kyZJpMhBgF3gjg+hnjQ8F4z8ebxPEIQjAAEmJmsQ-FXj-Yj4jTF7GBKHd+gNRRCdeNvGRhIJQsJ8dyKH43iZ+2E5Cd+LeEzjxe16OCWhBXKcdqgOSG2FhLwlIT9AZEgiU8EAnOh6J65Y8aBKIhJo7Gi6ECaeJkAQJ1YHXLopbxUziSqASMBVIEA+hqwlJp4szia2pCoTZMEkhSfxIb56Tm+HzUSTPyZIkD0JzE6xPeMGDupMmxkwVrxP+g6T94ikk8SpOgl9xVJwqOegDyxyUhQQiGGnGkhDiViSceZMnMWMNyljEGncZPAfSWpFxwpLODbHUGvIv09eNbKgJ2N-HVIyAjAXnPxAHHC4fcGU4KY-Tnq8QckeU13PoF4glTOxz41lupAhx7Bc8YjUwigmallIoRGo9oJ0BqmZSuIVAcINwLGa30SBOY-qSbG4E+TRYfkj4IhlqmDTSpB9bXqQInG8R44icNaZuCCkz8KpuUhgPlP5w3gNp3ElYDeF2lnT2a8kg6UdNgGnT4JaEbaJdMekrN1m2vbPC1MC751AWpPSQDolEkztV6z2J9g5NQxGi8EfQHlCPEYCujBMcM5wNwE6GLTOh19ckI2COkfEaQYJRkPtPVR3TkZA0hGfQDFwJdVwqMuKYqMxmgl0oTUnPIF24GmTkWc0DgOaMYB6SBIruLGb8Xzq8AO6LUBGJNOF6cDrhQ0iGR5DSguTlJ3QNkN0EInoy8yPnNKDiFll+BTau4wMGFSSkQR3sqGf3tSBDEygehRINuELN6oNdugjIUWYTw1k5wYs3QcIL7zSz6zugHsVmaAEoYAAJfxAwAACC4AcAP4gABKlDSAAAHlSuyAIELPW3JKM+cnorSKiBJR4y6A9U7kXzMagCz4Yk0yqTP0llZyXhXopOTnNymUTJZnQBcMTPeASDy5mQBOaaPGwrluRXsn2f7MDkhzw5kcmuZIFLEVB4YhcxOb5RTl41JZHMrOQwBNkJph5xgwefQFGSiTciB6FqPXO9GNyU5acxUXpLegSSlOW2IKYwzXIe41AJgLwDDJXmCZ95lkZNjlKSCdjMhcctQOfKHk3Tb5IU2mO7PMELcHAOSRkAAAZlu2KGoI5DjQZArRSQ2KNQEGBXRQFt+b+doCBCfzYF6E0xniHimUJEFuQOBaQAkGEwgFQBKxOlLiAwKRhxCSBcDInGL8g6WERBSQogUvkMW8vfOoEGPL4LxQqQaoNkFAWhSGuNC8BeVEgUz1lGIC4RLQv4VQKmIpWI7CdmqwZjLcjqGLM6Nwq4KhFiiDsUQpEV8LsoZCgittKiG4UsICOQHLygFGLj9ihipHEDjVGYiCK7QyVrbIBwWLeUn88WVFmEUjoEMU8YXu2ljrTwPFwUuVKAplFvBwEfM8RM4ufEmJnFYdRBQIXCVET7MrsFxHaCiUz9tBbASrL4BLjY14Q2vExLRC4XCTjRuJEeG4s4XkxCZN81OaAApnE5zZVIcBP0EYCfzGQzCvOKwr+DsLoEzi1ynmSdy4gaZ0w2MH0sOnVSKllUq6UaHoAhKb+DSoQG4s0F+galFuexcMoGUL9OpueRmbeWMpsluedg9lDEvsrqkbYTSrhdxN+msyAZqk-QKstmJgl3E7sluQwCDnWQAAMv4ijkmUAFtdSQI-M-nJyX5VStGSsv5lGyS5SQPOT3ILn+x-l4KyYtr1rkLhYVYdRFW4pJR40nlLy95eAG7kzhoVaKuFXjS3kg9kYW2UeYDPHmTzCVEyhoAEo4DzzVJ8ITIeSuuWUKE6oChlSeMsH50WisK9eSFOfFby5Jkkv5quGaWccPcLRfFJ-LKUYx+VNMe+b8p7Z8rAVnYlxen1u7CJ5B+gMZblMrxSzBIgq0SdvKoC7yfGi2F9u6mJVw9NiZEq7mhG9AbCi5vlXVa-IVVvYHJvK0BSSldVAr1mKVXlsZPzq7LtV8g-VQZLqUCBWg5nIEMrKlE6r9l4RcECGv2UMsre1SmNdrPtzXkA09rRqKGv2XhrjJ2vaNQ4BBpyiJy3gwNZ5JDGdK+5S0Dac+P1i8MSY1sprP9mVz3SxZP080YECflaLGAWc93s6voDrQBiWcpaFXNbLTE8ylsoEJSvLCmyp13ZRsLb1iLPp+17M0SeN3FwsrXJ3QGeQ3LoCcqPoaahzvwBxCHrV5x6vSazXdRYQq53AByWuuYWckR1W6zyRU3XFbNt6nED4MEDdowLXoQ6uJQrIa4pzGQwSs8Df26Xkhx1RshtYCunUUhZ1fgRkAutxCmzh5K6vMi+o3WIK9JO6vSHuulnbAUEn8k9QoDPWFAiol68jRytvWCtqFoCp9Tuzw0HwCNxkr9Uyx-VHNhAMKmBcEE3XDrZ5kxJtakBlVTq2p+pD0ZJvfWUSPRVckTUerDqKb31ym69etH-V9qq5UUodcurA1UhrYTq0TT5yeVtzg5ociOTivJDmaA5lmzuZ8ofXvrWNL7YzZut6LTjwQGIKvr+o8iybQFsqrTb2sA3CJgNYK2DQWIEDub-ljITFW8o+VMR4t2K3Gc9k-mubOOMW71RUyzw+ba19Tf9ECUGR1FRShk12KVokHlk3gxWlENyTxomKnMEggLNVsegYinMz4qxY1ur45wJ65bGrQWDq3iaRe5W8kmHXLJ9bHog2-0QuK61+bk6bmCbSiDa0ySP0doCrd1o3LEAxAq6f2NqtK0RKZtW9bctam4gCYnRo2g7SMHW1zaQYFmBQPKP23cjOtR27ctVvwAcKWtS2otZ5KG0T1PtA2-7ThWvLVqTx2vN7Rwua30B+tE5QHTySEIpqyAhRaioDvLXQ64dZ-HgiDo+juJaN4mEQCIwR2yCg64OyYt8v5h9b3t0CRbaYBypY7DV8SgrV6Wp0XyUgaOkydsq77mTMJlkyCfatjCE6kdR6ZhKzsm3M6xSdO33BjockU6IdPFYXYYDR3sSRdS2yXZjt3oGT9ouO-QVZAF1B0ZdpOuejUG21uErilYg1USuNXCqzVQrC1Uh2QH9gElWQAXReS207a9liO2-nDrJlFALl-0j9a5JTy2AMdsQWFizL90GrRWfIP3PrNQwoQGgEu+6LjsMEE6Ey7uondwCN2roXOkpfubbzcJ+jFRapE7bEPz0tDSZ4uEnmT0tSU9N46q0AIiJCE-UK532k8b6BmaW6d5HXYyKy1XLGQEYJgfgF9FDEgJuobhfRrFTNyViaVBgSsNTAXbwS2ms+6TaF1FFJFrWVAArNiU4Z+4f+De8EV8UsFgtQ9bUS5f7uUmB4LSJlZZgnuhi4699yIhiCnp7xaA091bevad1yGN6o6W5DGekXl11tGQAAThOBDxa2l4iPTJNAM8RwDW8mJKrA+AZ7XmJIoychoGbEjFcLgNbL-JJaxAwDVbfQDwJ4FWQ0AJB6jX0UGb5jcD0B-A7ZKxYNA8DAGY1XAc3Bby+44RFwD5C1rbi7FVBitjAaYM5JHetDHoQwbr2dAMlWS4XC-AA0t7sdDU9XaJMT0XrxM6SqtpIelE67U98g3AaocyVMBsa2e7FPiNf1K46ARUE8GQEtgBpk+ka6pYyB2GpFmAPQ-Ef1IeRD6zD-ATPkcG5VwbFcgKKwzEkuSocp0LUqePCFjIMGIQ3kHyPiOqX7LPkRUGINEf8jL6YgkRvwfsp1XHARxFBliAOF03mjLRI8fjdqVaCoHYgAW4REJqU1qbRNetLI8OIHD+Gi6GJSfhJADSQMt4U4tI9QfZTghoj3kJkEesEAlHRAAx7yCkd7JsQeN0wSI-0fGNxHEdG0bGcZ3GMTHhxDBiPVauNXW63pecQ+TwQyMe7Hpw+qeKPq+itBK8T6pfT1xfaRFuJzuy49SDD1syI94MwSgSVjnUUhAhgRyKrGqBFRuFVIVoPYf2VdCnD+w-ofcmMCmHEjwjbw1dhZbUVWWOvR47OheNXLXJ7xnLUXCOOyDTDXncMW4SePstPo1xufXccKWcRhld0wgHuF-DArpxjUiSBsoZnXlPpXU7Xm1j6l0mVOpIEaYtlWkTS6Tw01KWlUxyixhiuOR4LyZ4AMmVp40oAjVKfHTTxTM2SUzjgDR45CAv4WU8VjTxgBtckIIU+OMwhJo++W08os9h1Mz8aT1Uk6bRLWInTSQ0+6UNzhGV857pjp73UUGuEunXpioFPB9NZO+acAxh7VTwLhn6BvdAAHSwCSabV-sQozIGCAN9Y9+7bdk1jQhEGFElhnHNKLTDhnMjkZoudGbJlxmEz545M6mf6kTjeAJ4cIj0Cwj1nQAAALwvAxA4zRQElUmYtEpm3BHUOdtwHbNZm9IOZ8EM0eMA1RUIB0b4+8D+ObhIziZpgH2ZrMIcaB9NdJCRhEbKARGgXSYDwLTB4AizHupc1WdXMDn1zvncTCIxYA7m9zlg8c-5CAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:teal"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:teal">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:teal"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:teal"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:teal"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:teal">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:teal"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:teal"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-50wAGKQAABoAFkACizRAiEAgcof44Js4iO9NQVE4JQCORiaoFBEDlbCHILJPA5AZBaFIOnFIxcaT-HyeoEQHBhCNDpqoSglBCCGEaCAMQiTaRoFyAoYA7hEhhM8uQbkFQFC+GAAAK0MJ5QwEC2rABSIUwwwAABsOhsB4C8X4wJG0FD4ErP8SgfRQDsA8F4ZmSgUksDSU1fAwhfAEEcFsvodN1ykC0vEigtT07-EthcgWINdlcgOY5PoNRNm5JqLUWoaBcEeUFsctJDjcYJngTI5e08ZZWUicGaoMTnBqMfsCD6JzyAMHuXnHJhgYVBRuNiXRx9W7tzztwExbiH6wzRLi057zfCkqLoTPZygvBXyMT-Vx-czGD2xYLESHLKHwsQRXeR4IRJC2YFoTeWKmWwqSGLeGhBAjP3oBKnu3DBV3yzqK1IbxuKoh+AjLVxAdXQI4QYqR4dpUr2NtwYyRRUH0HNc4S1mrtWGExYy-mZqNVaoJYEFOp9JGUMDgwQIMhkF4iDXgr1obSAMEpHqwMsb43INJPw7FIarXps6Eik2FCEw5sqMgnQtMBGpGMO0feYSs051LkvORrqUGNtrNclV-NCY9ubfnY2YRP4xoruCIdfbuDBzCAW1V06wkKqoMQTeJKC6xGjfq-ldCGHYqqA8mcHxV2bzdmOitW1r5zuTR5bVx7FVrv3pQDdo6hLXUNS+295hBZrs0LiJdI6ZYXu3YGZ2GQ6HzvMSagO6wH2nufee99jqXZZF-hMY1qrBbct5fah1krpHOrLVZHD-bOJcp+a24Ek7SOzv7gu-mOGzkXJhWqlw9KhWYa9qkDQITqDclRFRqVHaZVdvBLxkEAnA0Mc4pE4tNqA26rw2xqhzjP37tVT9MQr7yGgfYwagVdoGUyY8g5EepBtP6CICB-DcLFYQas7U79LhD0fHM+1azyHKHbU8yZ8w973Mks8+OhMN5fPQ3BT+1InV9BWu7mBwjImdxWqssUHBkWXAVBICIVIuqUtjVRuTGmOMh6UECI1RynReX9RXAOQRP1YuTBxisAcbQOhZEUdwB8zW-TXVILWJiWZnzRnda8egVIWCMmegwV6kNYvUyxlDAiQVJviSDOqWoo35L-U6MYLbKl2TlYYJVtgvLpvvxYI+ZiWBoIURfO6ueBKNyNdAPt-Sh3iAVaq3ywY3WdYfa+6dm+l8HxveaDIXbxBBs5nJIFIuZXPvHe+3Fj2eBs5MzkCzKAcBEDIHQNzPEACPLixrKu5B+9Kxebs0LSMosSdnklu1WOylSjUmNspZozs85dxZ8CK20kSFUvYUfFubdc6d1jl1uglOOfDyYcoqBPPnSlHpxm8bzB0E2MV-IinUwVic+i5Y8UmiiGCeZ8rlop5TqFesVolR5Ppd65MsPXeZ7zeKhV1b13iGdeO9l0Ar1GL6C+utbapXHvLc-DNUH6uC55Nh99zL50BvYOpPIOHlYpRCbZy3Cy-FhLPrEq7vhPS0woX4rZcXt7zpdf+4bW14dGftuq8A0YBv1yV1KufTp2WUuk+KhTzhpvMxI8LiH4np3B2xXA2H0UT3PxxUT7ryPQgfGpNKf7rziT7L6cdC0PoOTfqFPiMly0R3Je0KxrF+jElWme9UzP5TyfTQWikHMsgmydkHLOWpL4Ke5B4YvIfJd9V10sd5V82B2VkRuA78hI6tUgtVqAFAMVNk3pH4D8HAmsoJHEi5t9w0kCUDGoc9oDBALMoMcxhsBZhR9AA8FBCB8Byg0CmUMC6AsDDR3wbUMhioQD99IlK9kQqZq8VgEYkZ-YKcDx6Az0hC-RIkC9JAyASUBCL9S9pg79lCVCig5NpcJDX4wQBCrscCCM41gY7FaxRgaQ2BZZRtSh5V0Y1cp5ENtUuDn9ncxwNQww7sRsGgzJggWCrJbJ7InIXNsVKBfASAgDBAIDfAaoYcRVVUr9RYb9YtNVDA+91oVMzM79kinM5JShUM5JmgsIeCvpXMZwtNsiwg0j1DnQEjTCbVzCyiyCKiH9dc61sVVdo8LU48j8E8u1ddI5HUyszDij9Ai0-Vw1ahi9H9JhjJ58Gd98xiw1M1T9a8-RTIJYFjU1i0R5LCpjdcuNOIW928W0500icZ4CxY6DQiacm1rkkN0jbNAw3DQxYdKCLiIE3MT0u8p57iethIi4RjSjO8n0fib1OB9jXjIx7sGx1d-oDxPjjY6jGR3VAT4T4Nviy1KiISWtqDp95Y6iD80SFUZY6i2DYwgogTg46jodyJKDsDpggojjbiW03sAsviQSX0kNwTHcaTQA2IItGwHBd5ahGQnhAQAA+UAVDE4DLajNzMXIU5+ceSYjuG1eLHOVDfQVUpYTPKUiDFcQo57RUgNZU4QbgWo40l+SYm8bUvhMiV7OI-mQwbkRgBgghO3KBe-c43E+vZkoDP+P4lQWEudRkQDYE9dLuXkx7P9a41vG9d1PI-U2MNYVffeFOF01ufgE3bRd4Qko9cMn3N9QQjQ6kDMt07MlRElQdY4r6aQ5bG1dEjknvCYK7Twv4x7eXLXM3TfK8BSCuTsj02KSla2UxLbFPDRBXbsjWN7PsncCcrs8qYcvdFwgfPUzIAKCLIeVXcfPox3HGRsNlKbH5ZjdlWOJiRsbsPUUMssrMycxmZac5XwICWIQU6uJUjUJmIEC0t8k0jUW8bkPUZ8wwhMEYtlaoxUEQtMsWbQ+QXQ-83bbgS0001I6Yto1VVXRfXcynAYyhQmWws6fbEY+VePRTO1fucCgiVog44nL3d8t3LC9aRsdGRkEY73N+M6FYnk8kXeQXFud+Ni49EXPdXqWsNIpiIKdGaiuGK3ecwck-BinGHipcgk2S03RcoSqvYQjYr6VSnMgkziyncCiEnUGIWUjo9XEBCs7XBSqCJSoSgkgctSnRDSyXFcEYxyvS9hci6YoyriiKNHR+DHeQJQbHdmPHLmSwInKLJgfrL6eGdU0AQAtbIYqHTc7FbPdAuQ4lbgMC6YnCytSdVpegxg7OcECi6YLKhQnKx8sS6DLDU1RQYqkQJggsA-BK4TWRCuGQKyIqhg5q0q5zemJlJ7RbIvGQBKqtBNbq0AJNPzYI4a-gia0EYwqa7gfNOq-mLQysHQs9ca-K7NZa3Naa2tKS0SW4RqfC+xN4JGctckIKJBOVEw9GMqoMhwqeQavElUFS8afattBBJLMEdGKyS62sMjO9J6hiewm676SmX61TYHO0dGdxLcxwL4ANNqaC7a2Cs9fowuShG8Yy2UoEubXGu6r+a+QmlG8BfAYwJqKAxbM4iIQoMmyhLCSGWq84RsbZRqGM3EcQ7G59RkaUqKs6u4ObJclCm-BKmOISyWhiKDOuVVSGXivUA-RbZ4ZmuMbza+GmOazGPOOoxQ9WyITWx4lwG8XWtK9CxGKC-myQn3WW3qFClgdYHmvcvGytfeMQbZIwWW8INbDgNqH208HUi3Amc6t6RbX20hOWwCnK12zGlc2IZoQO721QaO4+MdAAHmBC9uDt2yTpKFf3f3BAABUrZQAbg6BLktNeB10mwIDqBahmg4kABqV7Esg2OaIUU8v20Adul6tujujQrutqHumGiYUbUyN-XwsuiumQYgRyUgsQOu7vBuvjZulBfu4elQ0expGQXumO8IAeqybeustnQ2fe9lEO5G7FPKFW-SoSxm8kFGysAOK2bEUmlYIeZ022CWp2h4-4owzUiWwuiPCnd+ogfQc+mIZtNGk6O2uC1o6Q5oJctObaUB8+2Ya+G+8+1Bl0hG-8P2m0RGguoC1iWraginNObmy4-9TGna59QBooHwzcJc-wugS2coKUmuchwoNs+khoRsSGRkYmqO7E3rIuX+6BZWiWtWvOYsksvMRbQ2+RwGPhmHfhlmkC6XSBz+vykWpkF+B+4XUhXqZ+pEdo3R9EfR7CwRoap0gh-+imGzSR4BhzTBgiFXaxj+6BjQuBmmhBmC+2n45BgiVBoS9B69P2oQ0oeCbaEO3qMB53aRwhjO62Sov8Cegwigyhgwah5KsOXmhhgW96wMwoVh9JtgDhrhkQHhz6CIgSmI7UOk91YRxbURokkmri8kqRgh2R2WtRvkcqq8ZWpImmDR8iWHbRwMCBmx2LAxumdHQ5VmHHDmfHDAQx6OLqZAmgVA4gzAkLBLJ1AGvwlBRA3Z6gTZMG8wC5wgmbOgjgTeRXAQo5-TXdFg9xQqHZ+55Zr8iudMB6uYF62IOYVcRRooB6jkEFmIDkcF6oh6jCGFngDceFwFydQOZFwONFsvSdcDTIF6-FtgZ0CFwoB67iQwEJcgaI7gClqly5RUUl2IB61hmF1h2MJlmIB6m4bZEeFgQwMqnl1QPlpmFYTluUsEcEVu5F2IfQeGbgJ8iUxK7ehl8Vh6zyGVmIOVhV-2yUwAnyVVhFydOEbgBobV0ARVgEPV0ASEC1mINVydYATVgweVi13V5VsAQ19FnccEAAUmdfNctetd9btdAAdZ9fEhlcDfdaSqlCfKNZ9YAEJJQo3XWg3lXk2gR43vXJWs6A202Y3QAc6Yhs3cWfWs6ARNXo2lXACK2S3w3JXxT82dWa3QBJT62E3G3K3TXChq2rXlXxSgQ3XO2IRE3nXlXCh+2YhE3Yh4r0wCpYS7m9miDH4VbPyVxyUftuAl2rmV2mUoNvmCDl2WrYp8AWBBkTAX1AQN2NAWClXEWfnl2XqTF9DxWigd39nAq0xIpF3H3d37CT0p5PyJWtxJ1njhAXrwO32lHmXJ1IA6BolQiQX4PEPS2YPFRuWqBhXYBIAYWhWGAcPoP0PMPeX-FkX8P-EiOYOHqAA5cgGj51ujmj5JjQhd94AQD9xqJhCW69lYTd4Uft7aca7dv91A-BA939o9-9phG-Xj6YfjpVl9i8HgUTrjiyoD798AkJXETjk98REgrTRFBKvA16NUUgSAk6QZcgasZ0rqTQPxtCXTpAkJDkl5zAkZooQzwOBEIoK2p0+MQgEpkJsEBKyC5qxBqQtCXjNM-QXTyJZxmB3T7j4h-baL5GOL1ds9i90wFCxL1TgDjXGcKWjz2IWh4piLphj2LmsOMQL4F2uPYJ3Q0MgLoLuC79gK-dlZ0K3HTmTAQx66igUwBgJtD4cqG4UgXlRRdq+zZWVWExKbmY3UkxG8Bb4+lBBgIeve8e+bo3P4e+A0+Glb3bjgDTYNRQG4GnQlLQSNS+1x4CwMHpZQOujIMnIwGA5QZQd1pmdu-QR7tOcEOJUoAH0AFu0+9ux7qjv0AHujW7wa61apU8srOaGAsglH+aeH0I54aCGZlwPe7e8ECEbe1pC74wK7yYzdwzjHnoWAtb+EcEPWqnpgMgBQX7izabtIBzLTFcoH1DXSZ3SFCuLn0ABOG7LVoltJrn8If7ExSX0ATNlBNLbngwbaIXtbcENLWY16srHpGcEb2Kcb3lLn4yZoGgnjRu9faBIXkX+0mILnTuQ-UPUi1ntaGYsiIHwn9uxnnJFnlXpoyXtb0XwoOJTb+ysXVUlggsNNY-XVWX9u0bYP7er35nn7CXv3tn++fuwP2IOnrPwo+IUI3KUEF6rTETyQa473xb-nhA57I33UqniEJF80iuX3taEhrISX0vhHpn0gQSG7FPPe53pX8EAAciHq03x9H774vu7oPsH4Z-z9xCbVIHZSX8VY9uOc1M+lm83G2lX8h6vAeqEAg6smCEHoch0jXjcGLEHv6w4HhFd9KHr939rGX4fxvD387-L+Z5XLz7L-ZWf7IDxssmH-FTn-2G4v8nyp1UAFZxs7KA7ORXSGlqg8AKZsi7PCTPxkVxxYVws5SVugIt4vUHe-qcRHFhK4xBN2MA9YHAOoCaA6i4aZAW4DR4ko4slfKfIrG5xYDdSD1NLLOlD40pO4zAg7laigGr9D4-+eGHQLCRuBUB3pAwILDwGYDNUZJCkLCXi6RMgQK4ZSmH25yEDo+0CZgdDm+b0DjA-sO-PFFvYiDG4YgiQQpkYGoCNGFJVdmgzV5ItsBKLA8CnyQGSDjBgWB-CYk8EKYl4NPH-g4yHJqD1ImLVwf4Kv4mCyCB3VQaQn+4UDbO1AhAX1D54j42ajgp+vtiQRJCqBNAuwlEJJQt8mBig++MEMyHDV2GKnIwYELILkM2yFxcPswJ6z3VJ03A3-KQmpTi4vo+gyEpRHpKMlNUG5R0pxFCIkBpB6-HOEUUUGuDtoHA53JU3yyf5AiP+Eih5HGHEAbmLga6t3kmE49h4MwwgErwJqzD9cxdXwssICLf4XA6w8wLsKA5gFsUFoYsOVEoD4AmojUAYBUF+yKC4amw6QWrxeHVQ9a3wkeFf20jlRK8cWOGttAeGck+howiFOxxATdR98+WdmtKFqb+xOoDAEpMIA4CkB1ojCIgDvj+H2MLiMWFofYzGzsddkxMMQFNgZEzZGAJNTVAtgUa8ktaCYZ6GnHA4zksRfVHET9DxFH9CR2RDkYDDBxBlCA7Kc7GdGeg5NaSUJIpD6SezuDqRD2IuFhFyCyiU+zA7gLqPZSnDjhSovkq016aUIhBK4fktyMDBGjUBUAg2P0AUAr5ss-sCoBAl8CTFDAbIT0dSyXiGBSQcNcXr6KV7+jvR-sIMU8AO5YQMGSaUgQYC+4I4PoboqChGJ9EpjXRREBMTAxLIZioxpID6g4XM79BUCBYowH6MjABjCx7PEBkmlcEFihYxIGMecLjHXpcxaEMUv22qA5IbY5Y6sZGP0BNjox+-WMN2MlLOjUxOY4VIYynGuiZAECdWLexIJ3cVMi4qgEjAVSBAPoasHca6P44OBZ0p3WTEuK3Hzi9xLousR4yzFK98i5w3sWQH7HWIvRkxd1Bg1vEecJx-0M8fvG3EujLx04wVPuNnFmUbazVIUAB1BCIZOsXEKgJKJqy0iJsDIpkRdBeisio6sEy2naJcC8i1s-I3UmF0GCwS0kIcfWlKLbGbiyAjAHlvxHlH2JFRtLeCeRKhhIjbmVE9VLRPTq8QmJZE4rFMJYn-cIcewWoHElcERIkwokwQe0E6CxdmJpE8IK4JEamUHxhuTCFQEUmETwJ-sSCZSGgk-EeJcEvierQO7RxnsvEeOInDMnuCFJkQjiTRNCjp0bwFkxMYqBvAKTXJ6EeyQwC4keCNJnkksttA8l5i0IEzA7hJJEkQcnRc0DgO8MYAXj4qcNLCK62-GoY0KwaPoDyhHiMBgRgmXKc4G4AiDDJIg-ieSEbBcTjCFhYqLxByQOS+I6dIqcxPyn0A3U6HNCCVPVriVOUjkyqVwSEmSSIOrg+8SkximSAdEWYgSD1KcKWF0pnEXgLTRagIw5Jt1HCcPAH7bQLJs0jyGlH-G7jugbIboMGKgiNhgOaUHEAdL8DrVVpn5MCGig1DvZUMIPakFAMWniCiQbcZaYxVhLdBGQG0jSV1KMIxZug4QIHmliendAPYsU0AKXQAAS-iBgAAEFwA4AfxAACVS6kAAAPI0dkAQIYWkTUkBqBwRWkVECShqnUSEJCVeaY1FenLTapSvHaa9MCEQjSZdM6icEJ2mdAFwzU94HrU5mZBiZrw8bGKQEmwz4ZSMlGejKxk4y+ZkgFkRUHhjMySZ95cmUkASo7SLxr0hgO9ITSqzWCl-ZWfQFGRZinhStFqILMhHCy9ZlMuGvOLehLjN2W2UiXXQlLV41AJgLwNlItmCZnZlkFFtUgpksSxxC9eqd7JVn2TKZtMKGbfzU4OAckjIAAAwykh4NQRyHGgyBfDzexCagIMCugZy1ccc7QECBjkFySx29PEADITAlzcghc0gHrUJipzrcViUmH9BLnyDYoOc6Ws9nV4vUsIbcrOR3LNJZNVuUAwIKqSbnihUg1QbIBnK+l0j+5a+bOWaClKL105widueVBznJQX6IRI7CdmqzkiVwj2KkX8ITKV0I6jcxRBKLiD5yN52UTue6hTxHDkmj-Z7AjkBy8p5hZQgKQDiRxA4TR+3ZMi0GGHTNVp78v+byhjlbTzADgHuj5Mcmxc9wv4UqatJEZq9hJZSdIXPhQQYKpJ5wtrLJMIBIKlekMUyWpMQWaTm82kmbKLHoLPw-giC7dsgpMmqTrcsXYMa4KIk0KCUNNANAwsIC-giFNs0AHgEhBiKyF6ozCEmmF5WTq+7ggRUr1gUH14F9UtJkQrHErBnJpIH+bECUW4hfJG0zsW1JWAbTtFIU50GFPOERTMFL01IDHLVgIYymAkjqoigcUYlgaGc7Ya9XATzTxEUC2EQZn2CzzBqJcyvP4ucX2ZXYLiO0FApYHYLD+bASrL4BLixV4QB3ZbpfFiXQKQYUREeGvK+gxzCpEAp7AHKSBFLABkdBRvuVhLgJ+gjAGOYyDHkG1FEU86BFAvPKwk9FvUywsiVXBdLfJjU0pXQB0XKDUavi3VLUqED5KNFzoDqZyIOFdLpp6UdSLgsGm6lhpB2YouAMAEzzhEleSZfUtnmuT0atXMafFImmLLOCM0qOZIGhlwyGAqM6yAABl-EuMtcmwGTkHpCZwrGOWTIjlBy4a1M+WUtL1kMy5ZTM-2L8rZlqyDu-MhcFCsGpwr8lJKBKmLIeXPLXlssmcBCuRXQrWCtsrMWmORhbYNZE0rWTrLxUzLFQcqDOcbP3HwhSBpK-cRCA6E0qOAdKl0ffygF4EoV1sgFQJLtkbjlx2ILbA0v7bV48C+KexYUv9m1TKZpAkOUTN5X-KJm0Ux5o1FX76BBlcqlibtMEgEr9x9sqgI7O-odNxVsYO2Wlw9GDi3xBEb0CYJZn3ltVgcmmK5O-E8qM5JKZ1WUqDlvtZGt4qAVss1Wr8EJequeVSFaDIhGQZ0gESAPBBBqIBzTe7i4EjUOA+R4EccK4IDTqrtly-LVRANDXzjghqa6BPCK9UQCH8-qkCbYuBXwwloFkkMQ2iR4kw-pAZf7PVh37XxNpTo94YEDDn3zGAtMnmetAuKvSlow65ho2B+lAhyV5YD6cOt5KNgnub+Z9P2vOX7i5OpeJlQBO6AGyhZdADlR9CTXvt+AOIPdZbIPXziyq7qLCDzO4Dfjl1Y8soo6vGkgSGhFo2IrKQ+DBALq+c16LTPCVlTF29kxkG8B8VO92l5IUdTKDrX8L7JSgoRt9L8CMhZ1uID6aCsXU1LEgT6-JXqs3V6Rt1e07YCghjmHqFAx6woEVDPUkbaVV6jzn3Izn3r3Wj61dSXKLXvqVROMc4GxJBjCBIV+c4IGut+4vr8VES-JcJsNn4rXBYI+xcOoO5gieZEm-dYNQU0ialNF69aN+r7U8yWRta9TaiHIZRQ2ADqyTcBzRUSy0ZGM7GeACYjmbkZlm6WW8tvUiamNSra2CZv3XkEzaKCDEPTw2qcQZNGc3ZYhNiBabf1wif9TBuC2GbYS7m5FYyDRWPKXlNm8kIloxVObnsMq78XFt+XkMgo4IXzTWuKZvBBk6BK1GuMeyalytg1IEiVsejNEAlIwarXrQCx1aUQpQpzP8JBwpEPqqQYphS1K3MFqtjajnq7Ga3+aPIQJAbfVuG0CSv5TmFrQ2WYQpBBtOXBrQJJNEK1ZSNQMQKun9iarZtBw+bVtqHjWpuIAmXoT1sa2-CFtE28wFpgUBAd1tBwzbdkteqDJ8A08trTl0LW3iRtxW+gKtsEzfav0SklRvOIO4lbPtbSpbSDpJRw6qVo+PfBqogF5k3MIO0YoDseiVEs+SjKtVeNphUbxMIgQegmsAEvUod1QTTtigG3Q7hxK27Hb9pAn-ariuIabcwXZ05c7xSZfniWOfEiJXxgwLbGTrzVTaGdKIenYYCB2ZN8dH0QQjbyTFKtad08gLJzs5Jq6cdCu0ZuDtvH7Qidp-KyCLppbBQpd0O6naqh21k41CuqotQapdFGrhVDnWMGgvFK46ig4vI3VqWIC7bruua9lLARGXOgTlsU19QBIma2AtdMQOJqNLil6qhmEe2CM0FQwoQGgsuwSPdCJ3n9Sd2lP3S9Ut1aBzd-MBGCYH4CXbjhcNEYmdowHojFBrUlQrQ1q5ntLUjXTeG9ryHwCHKXMpnVeMnBBRBVDs29sZBd3GRi9T3ffJpEK5ojayJZACtUxYkjKOo1MXVnmMqaVg69xilBNcKCL+yCsERNujdmgg29wQ7elIXUXv5gNo9bUEPeurD0sLk87ykZmnr12nrj91nSgR3ueqG6c9q-F6ifoKHjQZS5UgAstspZejGQAAThOBDw6WXouPWuOgM8RYDdsmJKrA+DcBRNeTU3qNpPgIbWIbxagi4DWwJzmGhQGA9S30DD9h+VkNADQYo0UFONNI2IGQf-7Xo-4XIpg4gepZ6qZsOSQCdmMFQP4XAPkWajaNAUcHQDXB5A7wZQo3BxBzBt7Z0CSUpKzCL8H9d3rl1w009Gel-YoepbKGthX+0nFoFz0wFElehmKueE+WqoihfumgnQCKgngyAlsANJj2qV0jWgjICwX-mYDiCihckh5F9GqBFR8eRwLlVBuoKApnDMSS5PLynQiSp48IQMswYhDeQfIRQ0AKv0+TBGgCGrHziuGSOM9g1xwc0QwZYgDgdN7wz4SPD42TFWguBwoIFuESCbFNqmyTSeS1VmiBwkRwJqETl7qQA0gdLeOU3EP0sUjqRnyDzMEA1HRA4x7yP5BKMDC2IH6hoMkfBCzGfImRpZUzHWO5HeSzBuPe6jtkmrQpZq13RoUKOo6QpE+1EWTlaAIT71a+-6O6yfyuTPddx6kDHtD27i0pZiLRjxrhL5khAhgRyKrCCP8Bw1AgDw0CC8NWC-D9yYwHYeCMD1QjV2YRl0zNXw03js6T4zfu+MQZfj3mi4zsuuNTwp9Wq6mOidpQGBHje1ftk-kDXULIJdCvhY8FgmngbZx02EnhPpFoTdNc2LCZ1PCMGBeR8vKDoGSCj9KEF9EswoxJ3ptT2TQco4HKcaFqiYsp4LAko1EXiKYSdI7k9NlmyYTOglMqMkXBFO3SNsdQWMKUElOqLOs5ink6tAJKMSD9qEGmI-OAWiEW5aMI04qf6H6gBwWWNMrlmgQKmBTCjDWlqchBHyi41i0SQFGWP+gAS2kr0+TAVPYTP1WAGw5quH65T9AG+gADpYBZNqZZqpUZkDBAWeyei1jqyaxoQqDCiJwzTS2FpgszqOnMyzLzPGLCzxZ90UwA+Hlme+ck9wbwBPAP4egWEEc6AAABeynUAIWc84ln-YZZis4vurPTmM+pees+CG6PGAaoqEA6ESSBMgnNwOZxc32begrm02TfH1ukhIyD1lAg9CDpMGH5pg8ArZnZaed7PLnBzV5kDuJkHosB7zj5+-luf8hAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:teal"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5IcO8JuC4oFBiLEIOQSUxAOigHaOQOS+BmBsFIMMTay1QCeVAAYEMFJPJoFCabT6Z1+SRT0PdOEgw7B+kYB0EOSi9Ezznok6gySQ60xSMY0AJAxoxE6HksIREx7qFiTIeJ35npNiyTkzsZT8l1MaSkkwLTymSmpDEuJgwXTtIPhjO8T8WigT0Lo3s8VIr43GVkY479-iAgAFTzJkCs-MoQ7zVWoFFQgW04mSB4IMI56s0mhGmaJDw6zFnRNINUkeJyVEthPnMx8Ho6aUHwIE65tyThHEKU46iJSOi6Lpl+IpIKGodCqHTaooB5CyAuYUaZ7S7m9IeWcgZ7YNLrM+XTcIPy9DooBUC4pMLwWEs7jiKF41OhwupaABFSLyJ1iZTS+YgyQzZLBYy6ltR4WYkFTYI+9BvB9COc87F95oIyCpdYK5eLHwYr0limpxycWvNmXIaxWQCUpG+b85VoFjinDpaChVYRZCWhdG83V6z+hdI5csVYehAZStsSsHwMrhzypME6jlQaXllHtXq-1EJ4WIrkMi9ldM0U8uSaqvpGr+BaqJCa-VkamVGpJYm5xZKLWUpRQASDpjai44DM2HSwGW4NdNXU+EbY8yQabZU2gDc6+tYQZzVs7FUOt1gWUxrZV2619hK1lHaYMP12aBUtJFUOzEd4cZ0GWOQbxegWBWq-GwMlgJdn7MWNxetBTD0HLHTYIie7TiAhiPlYUl7QgFPvRKp9V7EWMGYD4FgKYACqxAorMMYs4CxEFnCGUMio0CWybCLuUau9d3iMbTLA1Y-561VD3XDZMqo0zXGLLQ5WdZegD0ZCPfmaZdiHGAqI6+Ejd7xWMGFBCc2T8PAxBxrEECWQZ1yt0V+ZtPHDrtpHPXZwHGnExB0FBJcEzJNccmGkr8OoFPSfE6VTj0moI2j0Gp3QAm1oun05MGREmtO6EkDESQHjQR6GE4MWzTxDMNnufZ8MZ4bFMFBBp2GAknHubk7x0TImnPyuU2tZt7GLP6AcyFgN3nnMYzwPOBgHi4pQDgIgZA6A+A8EiRSFQ0FQYAllMoCRjtR4KCUMOSMsRmTOoKcnPwzqiIPHRA16lZ7yMHLfEiP121qzIlRHZ5kgwyudOpW1qQvZAxUWzOB8ojXEXWgVumObz5NyleIOV1rCxhPzY3AgzrhKClFd1Qdzbx3qYTb2xEM0Mp17KmW+d1hiNzRPdQYinbk3CXTbW0zRoLNCb4JJidumZ3VvY1xiCXVeDEZg5uz9u7Ug5pLa65h7D853UXSSrlUEy0qHxEDd2wlc0AFALG++plt2psWzHjHdHp2Vv4xTkHNn-tV7lx7uUcbyO6fHxqkziHLPdV3227tgXUgfrg8KJD-GMukeS7+5SRYsDMGI-iMt9BcJtG1YEnoXBIOEdbmVHz8rJPu2iz2n6zO8ixvffK79umFSv3ZN5ABoD1AQPJzhIyVQMNQCQdF5oASZjyFq7kLr4Qgw2FV1zREeGlAWCTRCjZn2huSCGhRV+HX-Nk+p7GNjmPkpGCULncO5FCeZusEWPpJx6evqZ+INnuNoAE2iTkDRkPJXKLXWEJ20ndM-Oyi6GV1YtAhR6Gp0Gyi+OlreEzgPy3Q+6ZsJX6vlIuCdsT8e30AfBrz4LGBgNhGs9TCXoKSfuVa3-N9DP1353dOi0MuSJX0dKRvDfub-+wDwHnB3jDyLDkTB466wbMrqJFzW6KC27aJwx0Dm7gpfjMKsJl6Zysy5LM4lByBdJETNrnah7PBCJyJl5wGcKIEb5MrQE6YjiZwIwiJoFkEhyIGHxJyvbQ7Mxw7G4cwS4uaVZRAwQEElZayEz8ydC86O6Ghdry4aDCGyzaxrZE6mCIFdoVL67PAiF8y6wSETYjJsGrYc7ByIFpLV5KAsBDwjyGF1w7prQv6wrCrRpV7EpLylzNzc6VxWozBrRCEG7EErygxT51z9C6EOGsooqKr+gOJ+GRDGA0HkSApjo+FEElz+FrzXzMEhFfLOHS6OhxGG4pExGWizqeFH7RHEhxH8phDv7hFhBfivaGHU70FlwZyVzBE-aVGhDwa1DXDTIkAPadCLKTLHAAB8oA2BVQ5s1BfR72MKegB0qS7K08+0O8cxoImBcuYxO8LSeB3qeg0xAoMKgwUxIIMx4hLo8x-ag6NMZIScdApkxAyI9ih2V4isZ81gphVhKENRVyfgDAgKHOzRrc5QHRR+A85hw8o80ctslcY6BS2BY6REMCo+Bg9xjx-YC2m4S+BRbhgRvxholB9adxOQaJzx4GmcT8DRm+9aTROJQJ1hh+1Rbe6SihfYpJW2suGOgMs2pYGJlY8I1Y7oT6-2l24E7Jz23aZ6PIIpvJr4-J74HY1ORE4xwqkBZ0r24uQ0E2aS0yZUiy-810zIlR0y9qfxycqJ+k6JR2jQmcZUc67ekRQK-RKSiyxxTp7qOqvcXhDYSRemgC8S1OI+De4+zAe+7ppkMagw+x0onQCBkhrBRcr2iuX2Wpixa0T81+um76Pp0M3BBCxOM+hQE28Zapq2D2uJyZP22pDpfqiyPpZZFoeRDumRNgD2fWF2cqeg9ZcocpmQEhfqiBlRX4fqehCZq20pVpmuN8khaSrZPZ7Zum45LxDxc5vOLSPpi54GjZZukhBJkhVw2cd47BkRG2op12FZ5WM5MxbZeR3JlpS5bZq5w+6hegt5bJQ4HZTZP2u5IRaEYAqWsUbAmWnAOWvAYSBWHUXwjAMEMMfB8wgeZKAhMgI5Z0T82O8+9gi+gwZUxhqZDYgMDM5h9eXQ84X81O6FhOWFfpA5fcRcEQ2kdeRSje3ohusFF8AMPI+AKY9FRFTF9EGmc+i0GFK0+ArFSyloqsnFoAUsZmBAPsFO0eolRsEskl6sMl2+ygu+U+IlEWeFvQYsxsklpsyFFI6ZuRA2aYd+ilEcGZI4X89pjIFoGmEQNlzws6Ol-BFMV87mNoKYLlD8Z0Llt+Fo3lYm7lNcP4ZQxRxlEogc1UNIlmwZk+wVKZmIX4LoP55s0RYW2ilZuFxCBwGVh5ZAcVD00eEYTwOFoQqVkWuxYW1FtQ0yYUZhFhSgO+IZQoiyypbGWGRe5VtoO0EZIWCx1VDYzac5sZtu-FfVbZS+fVUwVVXp+Vhuc1al01sBYW812ci1XKboG10VYggZY+bVSV68A1E16gsZHgVIYwKV21yssoOgIwg2ioqSZKWQugT11o6xzOUWPVNmfVz1mQ51MaCWV1sgrVyuKu71j1wwgNINoAAAPPFA9Z9RdU-szl-u7oCAACoZCYbEBpQULuCtzJwHKwKdBEQMQADUNMVJhg0Qug3yuu41ZgNNdl1NtNm+9N0mTN3lB8l6ru3+ONeN+AMgjEpeOgxNjIDAokkelAFNQIoANNBZNg3NjN+AzNZ1rNQIKYStnNq+atakGtfNH0kxPWiw15A2c5OFy6bBO23QGQW0t1hQd4RJW4Z1fG8NTJtR3CGSRIWtKtZ29tuyW0KtoQsV1A8VMmiVoZRZKtREc5ZqgKOoLNYdoABSOoX16N3aCd9xiEcNzBIaJtdpnRLSuaZWSdWUzVEJMdQoJR1gmNawA1v+6QRSYxoI4BVRjhH+TK0yYWiyWVANzZ1KX4bty1oIM149zmu53aYWcRs1PmJdcGKpd1juDtHCOV5W+1zgs5A1jZzd7aNt2ydtyg69TtuVLSrted41ntw1HKSx2BBd2dGOZWZ90+m+EdUdENmlyVP2z9KuidZKKdAdQ+BSFamdF1nt-9dOY9M4Wt6axdIJQ6+tRQxKFdCF5wg8Ndx1e+9dn63+1tQIAGrdTi7dTwQeUGXZLGSDzK3dNRlyDp-dgKg9dmw9hKo9edc941U98qM99ac961c1S9S6pdq9r9Idm9ZsKWPsaWni7AWWXAuWGA4F9wUgSeKeVAaexeWeSiSx8YBiP+QI6jhe-lFIxjmjYwyeJE3OW2A+uja0x0B+KGDp5jlAWjMjLpPIZS+FGodlNgGoQag+KQ+Feofj1geogTBJ+FjaYToAjakT3jEch4sTh4CThQ+FPCcgdlmT1KQTYQ+FiGYYcIdlhTqgaUhKeToQ+FjdYTjdHKlTNg+FG0IwrCHgdAX8zTwwrTDAdMDT1g+FVNsTNgegMMgwcIZgRwoxgeNN5TfTYlpGhkQz1gIzYzEzUzQeoAszUTEcmygwKQKzmzazoAgeKymz1gcz+FwASzgSozhzIxxzoAYAWziTyyAApNcwc+M-c4Hq82c6ABcxHACkM580c-BacOM9s8sgAIQnDAu3NfOTMPMwuAoQsvN9CAgI0fPwuguI02CovpMRwI1HBLMgvfOI2AqHOQvovDFYurNkujHWD4vBMRzDHEt7OhCkuIuB6suMsAvQvXMPOhCIvWBQs2AwVlIQhUbRAaNuNF5yXjXHAtIbRbQai2LSuF68XWmSsuPqsWOauQTUAeBWTBJ-FKubTN73PRO6uyt2WONZ74ljquPuNfS9xYBSsF56u3mmmAz4V2F2V2FzNUn5MRyQDEDjR0TFN7OhvhvDyBtBuNMRydOSCwCQBhNJsptxvxvzOAhJt4SxO5uZvxv4UAByqgxb1zpbxb0D8b2r6YcT1raer5CrRwZrW0PyiLOoIlarHrsrLJgYvc7rMrjbx5cotuirdMyrhu9zjj+J9bPbw7620trGEeJEI8TrcrTeJeFCV8olee1mUKjAUe2mVkqgagdx0QQ8799a67Vm5hWQQotjWefDKQ27h4lQYQqpFINqvWtdwVolh1397VwV76SJAWN7lEN9KDQ+N7Tb8DIHauyJ4HclhrxrFAsZadc7Q7Ywr5k1z7oQTVWDI8v7jIZsjV5wOg1UV1cOODHV-x2IFtxHfQrG0jLrAF8jwF3AmAKjzgFlEYFAkg0chgr4G0jAr8wmol28ng3g9SEVgWnmWa-9GdYCu8LY4n2ebNkgHNhtvNx0an-9REunHmHyGm2kG0o8+OAkgsUQ0md9R+JkpA7gs8JWBgsepApARzDANNnZbnldgIDEBSfnoAlNutNN9nhbTKfn38DN5eMlbMCkzN1nugseaByXMmcXsbFgJaI1OIhtetgIpGetpn80sgFn4hk7276XtSce2t4IgIsXswEJy0LAnZZeEnftLXkwLSAX2BJ6hQ-2gMFCZg2wtayzmT+dg3ZgQQdSLoE3oAyLQIpiingSOog3vnpi0h9lUQJklognlYInr8g3qhgS92ctGuuQq3w3Vx7xrgdmRubMJuHXzSg6AXBXNNlX4w3gzXK3jBE32tI3oQDEWne9e0B0ze3ocsoO53rXf3QagPet73TXMn43P30P6n-3NgtX6PeBDXuuB6vQdlFCar9gjXn3UhLuCwzah3IulXpGMTRxPI33kwCDE3RP8XH3jA26ta-2htj3XXQIAA5BzRQnl4L1z81tF7zYN-V8TyPNHIwLrnL183lWTMsXPE8FJz4DqIr+F8GvhZJOzdkuzcwsKGgtSBKuzVBVkOCFISWgUjT1ryOPLwli6Nr6zyTxz-p-WzL0j670Xb7+99r9vaACe2e6QBe0UTfvDJFOzGQW16wqd1tjonz3rwn-RI5nJfDjwTonhzYJOyH1SGH5QEPHEfzNH9SKl+gXDM0uT+1s8EnyLvhaYnHMDyNuiDop76zEH4r-KP7jDKX2RNSLHyYdkfH+ron1X1Sn3fKwNYsi0nOcNvtLdxn7mSTO3yCVK2X7IF0GwospO93-CL3-3+zBX7H0vV+BBzP-ujE3z82jqFHwP1v6geXkdMp3oPf+zAmNV57xf9WL58kzf8wAf6f80C2xWSl9DbK+d8+57IvhHxtC9dWkzaH-oqBz79MeQUAwvsXz9RH9B+jPSvosAAie9EB0-asGq037ACYuoREdOIBH6g92+OecOMsib6+4hsIPVhhP0qKMk8kdROGBwM-YSggCdfKvmFR9D4Eq+fPHUPXz674N3cRiIhn-m9zOBM+-AuEMAVMaaxaAd+PAXH1EH4C+e6VMQeT0bpkFf8XuH3EoKLAaDW44eJOPyAlT0YWEXgVhB0GDAFUhByvZwAIKH77pbBzGOrjRSiTOC3sD6V8NdB0TCC6kFlIEmvz4H3BF2VAErLILqpAoSGXQRcJIB8ROIsgjAXRNzA4S64wh3tUwlojoHe0GGdbEzHqRixWYHi2VRIStTHRfgKhhaYFPSg6DU4CkJAFIbJnSGSQshxgxLPKkVL2lFguuEzHkRMyH5OidDUwjoNbwNCaqbqP0CMKR7t9BgSw3XPoPwGTC4MdDUoUfk74LoV6R+dYbHyD701sgLAUfqPiohFNxCdAZ5MGFuFdA6A5ydwQsEfr3ClujwspgmBeGTJQBt-BCJ8JQGBIPOUQC4VcIbzfC4Qdw8EY8EnQGApYIIrNqEGhG-D1YTlByoe2yBp40RgsB4fIB+HPDXh2XFXh8Klh888R0gfgP8PJ6Aja4SI99EMURYxBloWQU9mBCeF6AqRfwnXhymZGjFzh8ImcFLFNqu04Rlw-AGGCMDmsS8tnTlAAWlH+ZIgdgR4L4FVGXDJ2coxhEXClFaBlRQo5roaLj4fCJRS3eEjXyxHsjcRhImEQcDHQp0zReHAUQQCVGygVRFw9URCOQgaj+0MQxQTDH8xdBvkihXoMFTiycQpyG1KsuUJiyVCpMlmazNlTix7VSR5mBMToErp2E+eh1OTo+EGCRjHMc1AEfqO8APFmmm6MYQNgmEFitARYnzEH3XTLRyxWgTdOulrFRi5q4QphrenwBahOgDEPnoCD7GEgBxoAypGUHbGgBIxZgPnv3WsCgCIgWiddLOJFwAcQxxYMMRXCnGFiBhnvRPLsRXFbAdgB4t1DOJv6linAkgCsbDRdArjkRdMF0DOIfGFAmxZY68a2Nhp38tAfIrNjqGfEYdZ6QjUAcOP7EdA-BNxIuFHSyDkBIIhokZqJWbS3MXR2BYsj2FGDRRWEDxHwQghwmNBBg3fKcd32jHsppkN4-Sp3m7xvirxN4vQIRLrE9JghtAQYIBO7TET6hq9ciQ-hoy9iwJ8AsIHCS2Lk9oJ9gOCRKK3SfiKJ5+NCRKEIDg1OMsMN-j+PCERAee34kkEH1cQei1RcSaVDUhJFlDDAycRZK4keR6S4QqlNMcZOaEUoBigk0oEF2ThB8FJffI5CiCUm1hMQ0yOJIsnUl2kliWiOJGYAC6mJHJcSDGDBNADY0AAEnhEkAABBcAOADwgAAlbGpAAADyxbZAICi6p3hRaG6LpnhMVjUTiA9Y5zOELkmWNgUMMDyc2KW5aSXJn-M3sxmtJ1SyxnvLSeoF1TFT6AMlLqaUCCF2DFYolGKXFMSnJS0pmU7Kf1InRNTt+LUmEJnFKmiUtJ8ElyZIDckSwVppvJicQDsgSjrBuozjENNaklTLxZUvceEMNE2ZpRk7J9JGPcAjEZ83iEMFFCwmnSEEj039HEwunlTeGT6Aqd4k+ltTSp-002pFMt7Yd68fiQFAAAYJid4BqIxDFizwxg6COBFYkoAHABMaMhWCQFhm2A8ZfoAmYJBpo8BBya0KGfjKxEyUn4yM2TPJ1cpGcvM1MjGWdysxgpwhzaQEEwObRszU+r4bGQgz05B87AB0RmY+CkAxASUaMqZA6QFlj9Kw2MzqmLVRmrh2ZWMnGZUUAJ2AxgjEdQK-AKEtIAp4YIfrCUxxjAGZwmfoYrIwRazq21gf7LMItnNpwR+sw2SsIn4vihgesyQAbLkCvxNh1fJlBUh4FHCFRvsmQB7MDmyz9UQfdcYoDryIwJkcWa0ODJjFGSmhmmDMdUP+p2YUxHEolIEgqHzcA2NRSFBNA1ofjCpemKodWJiwJZWJoQdOXuIqAoNqiRQs2daFbxBs8AKyAeS0h1JxjAUYwpMQDVbmpiIUa0UueahaGgoLZJAJmjXM3QOZm5OcxTOMMblOoS0u86wBtQRKIpAxyJNOeoHBkcDphxKYMMAScRSASYrcwuYvQsCPMwAA8lZCbLWigTRx4Ei+WEW9rcCgxeYrzJPKLlLpIJZ0JedXNomLBnkiwNtCRKsk9jAUX86SPxOfQUQ+J4462FUhgW2J1Yc4vqouM0RmyYFq4jYonKWCR0aQEyXBXE3gXFia+xCptOchzHHyG8IY5OdQqyBv820tC6MS-NABvyiFC0N1KQuPEU9Dx+CkXJApHi0S7xjIoNnePVg+ybAMileV+IQikKVFwaO-sovXl0wNqnvFBQOOcnS40ZvgAIo5RUlOx2KrsSxYyF8poy1BFg4qnJKjBQzRKx0DxRpmpnXQPF1i1XipyCVxyI0yfCOOoANlwhIKtlT3sdEGRyyxRNgyPCPHmhQyQlBEx3muz+mgB2JPmTOQ4lDDZAHiUMxZOLInrCZpZuQDxUaQdJqLuJs-INGoton0SFIZY7RWUNDBuKSYhS4kh4vaU2BclSWKyXUtcjn5fOI41BXzwtFSCkiAnTJSEvkovl2RxSuWciJEmwTly4kkZZRIhn2AopsUyQClL-QAAZPCDlM2KlBEZgiewMDKhnLTslCC1elVOqHBhapK0vno1JqkJg7l7UpwJ1InTdT1ZrkXDP4IpADTdUPy0aQcqOWnLwAs0y0PNKBX3LWlfy66RKMhH2jg0a08SRtK2m-KW8-S6wICChkHSNR4IFAdio1GkYmBxKtGaSouHW8g+eeH5WDKulvCbpeomUaHWDQlLEWM+PPKkvMVQyvUKKy6RtRQFAyumLKh5UIzOFWNVwivOiZkoWiir-p2k7dGio1G3StA90gxX1XuZjobpoHLoHiKvbBpxoC0vaZnBaXNjwZyIl0cyrRnWrlVrKwxbuS4ZmiE56hOZd4AV6ZK1Vxo-JTkuEAmT7AuoFQc8F96AhZlivTul+EtghqbJ0KUpCLhpB3sxgiqxXgGrNGgCE1JAF8pYOlpKrfVCWD1b6NMUvLYYj4DyXHzUmaKfxk3AIPtjNl+SZJYgQwNknRmLShZDxFyZ2W7W0BdEphFydWt6lzD40DpHyYClxUap3JY6mhtMgc5foGyvU9VeO1XyUrPR-SIEL1PpWPBO6oQajI8l2nDT9pho0ii6l2K9TBgLopdeLJEQDrNlvou0pwNLoCIoJsEuwECrzl9r-FpElxhdMWRphOlPBapZiGHU1Tq1K0q1N5JqSLIZ1I8dyStIXUOk71DZamYaPXVD5N1OkmpI4qyB7qWAB6mwEeu3W0qCN56vDvzLRk3qjmaGuUBhrNEvrdhKpcBRSH2BdBqZ2SEGSTDHUBK0lfGvnhxqBX9q9pnvYTb1NE2nqNMEmx9VJrOkt40kHar9auusx9r51Xkh0pkEtWnrTSY0hKUlNSnpSspcKzEPpomlGbpp5yyno+to33NtNPG+gP5M-l7IIJ5sYTWkr-WYhlNYwamWppqkhK7SqGOQJxqdWLJ9NMKs5ZUQi0nKzliyajcFhdEOa7lzmhsICFc0VrCOa2KyBngwImiVieWtSgUTTA5aRATBTxQhEK2gqJQTRErdCDwHyjlEmw-hObDBItVV0pW5inloCWP0qt76s6NEQ63Qhyt4QiQfAR8WNw1wEgTrTzm61vDmtGmBqDoFBhdBFVc2qyWNs4TS8cY8CQQYojeGbaWt5CMvCwCLXrbV6C2oPiVuoAyy6tIgWMmWouFx8std25iq9sngEKJ6ho0Addplm1baAM2zOO9uYIFkY18y6Iu9oLXEBAdnaK7pvke2PBTaR6vkE4nZpg7fVdlX7S3iuVFwOtN23IENvu3ZrfRASrLYTuYrk6PtIuaZSkDaxWicRnIokWappzerFVg26bcNsp2F0Ed26HefsyOZ46-tk2rndyI533bYd8O6asaK7DI7DeKYdHfLxKbTb8dy7JhDIGW0G518Aw9VaJQ5V3TzWgM-VZM3R6Gp2uCu3XEtpW0+r5eHXEHSiJSDrKxJVKwxZ0jh02AwG0mGCU7s9EHy95SpHeHzrCA86Zd9iUjMbzR2s7MldlS3QJFV0JkYYIYexHtv-bPk2YO2hIVXxYmb4mqFHQ1izBo6OUg+6A8PjeW6nE6ntHcUeuis5W6rqUTDYYl2lhiJ6Dc96PsGeANxp1wycgf6dovsyOY1mgEowcoCz326iVnuf-L9IcSLgKGitKmrWj3kA9i9MAuItb0dke7dAXup9T7oYV05sCz7YPaKGR1L7MBcqCPcVgEjW7I2wfU9gXxL2zoJiZEgPFNrXRFNFkAATiqAroJAJEMpuqoMA5Ck4pTSwuirojSdDAgwRTYUJoErFDA46woJ3OJTOAyUcMvBkAb0D89+eKYNANgeI3IM-5Y6NA46O2EpAgD6qqzMtC9HCj84CWCDFJWEYQFRGNgUgzdNANrBBgG0PvkAbbU705AkS6Jc8GlCdry9iO7sVLolGH7Q9fIXg2U34Nn7ZCF+2NbHmkNRLxgUFeVDjrOjv9qQl+vQDEGowzpvA6QGkBl3-V1tLYiyffn7haB98tD9yvKAIeIDUY8uFQRleBuJQhRGARhiNnN1vQ0h3qLGGomgcBCQYoMthnJZkvECOH7E1gEIyKCg5MHv9RTN-jjx0OWwjQtDP+fBlzSrrYJyUdGc4PEJpGrUHmvGdxsk2ya9piyoozQ1zQeGvDw8Hw8gr8PgxUDiRspgsxCOUNH1koAo84k6OQY4jjJLoixrphBH+jUGRXliEokMBxjizeg8wfEmGr0Vte81Ubob2b4A+8y1ia3sDDt7I1PewJMPoIBHMncyI83XRLjie7RJW+tUahL9FvruOxcYRFhLoCMRpOeh+xPLLMMWHlVB-aw9gLsOyBdDURhxGzRcOH4+6BRJhnUnOOWxLjG+643-ruOpacQmx31cCZLDxCDccJp46XCSF97jj9zJ3EH2vmj475uQWQY-IqnspdZ0c-2Z7PCxQHjuTC7RHAepTl1sFkVFmcFn9T0NCgaVNQzQymH4Hu0OpeMZvPHmsNz5jRGeVmPnkwow6BSPsSOjDpER3Z9J2OVWI7IeBiDVRWtK+qZRLF8CZC4NAUnVMBzX4Eg7PFN3NOez0qZPetERGVOyAaGXRKybadjk6IMYthnQ-zxwl6BR9AAHSwACaEODeXI-gGyTNc99mzVZtnnrSYGgQdRyOmCAhA+nFVfpxaQGft3BnQzN8roBGajNKS3UhAGdAllqTNpSzoAAAF6ztQAwZsIMavGAsJIzHPAk7UlrPxnSciZwEMmdkD5g60NwAojkFePSc-TYZgsy2aLPwt6eyyLiLfHZqkB2a4Ew0PzwhB4B0z8y8c-mebM2ZpzYzWc+i3nNAgPAi55c9bx7MiggAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:teal"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:teal">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:teal"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:teal">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:teal"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:teal">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYYVGwAAxSAAANAAsgAUR2LIXgM9iB4lJHrT+lpyDtlJKAKK6idCGRnujNg-AzI2H4LgVI0gUI6GUMTcUeJrFJHYN4NgWxIhgB0KQUgvA6BbBAJoHREo0BtFiMAaoChFGJX4OqDgsRGjAAAFZ0ESnQGesNgDKFsXQYAAA2dI2ARHiOkbIhgsRKADjxFrPEXgah1DejEeI+j3CGKYLTNgjRbAkHKXoVx75pDOS0Y4LxljKmUFaSjGg-BQBVOIDUqKegrRlIsVaNYaw0AFxmqDBphjEF9CXsnFelt0EZ0Mio1MhB1EELBE7IhTJFqNP4EwAQjh7bmLoNs5GMJ2R0Cvh7L2Rs-B8KoWAnmNyDH3JaY0N51dqrMCmXUS4gD+EMKbsPNZECmAnUhbsqWBzrYI2CidVQbhUgl0IcCnZAxIacF4LIKozhMXZgBerS5I91kqBFCpds2IuDUoYLS+e3D-7IL2agtOGC8WgCJjMUk7LznUC5VSmlkdqCksLuyyl1KHmyEMAKpB-t0HouWEcrkzK37sHVdIJgsF6WOn1bIXARyjrMOuRtIW3KLVHDFYjRe2ZbWGs3hkZlqLeYk32CODp1rzb7LXri8WhlGAHFzoolVM1oVgwTeGsWXRe7V0OaSeNYak1+EzSa51+bE3MDUIIYpudSCvITlIHh-tGWgJbs6lYvS5pEurXHRmWbvWOnrsW1tZKaWdqrSXOtHM+2NuzIPLow7R4qGKSkBUZaM1TuoUKg2bNe0lrJRs4MY7iU1t3dmrFN0xhzpRWHFQsLtnksdCgnFG9MGklhcmvIqa706ofUyF8b61R1FJEW4OC6ZqwuaSMiFP7f012AZGRhutnXh14PI8g6oEE-qTti6NL7xWkmSGhjDFywN5BUW63lSrCARrgwIvdhdZ6aEnZXGdA7H6IoQ8i0jFRIpMEY68uw07BXnp3YJ+jM121qD49IbQYmz0MrVmJ7jNBR3SaY9wOT-aaCLiU+CIN+soHcG5TLLdKc0Evm5cFOY+d9NjI4JwJgfJPZGC9SiBqJwZT1zUnWXV2ZQaGZOCIBYpJrN3T7E0LmURrnbXevEKAcBEDIHQP9LkLK8hQ2HFWo5ucBybqxYwTwEMMu-hhnDYOPkFhbQ5j5HYqMjbqwqxiTqJkKHl07lJbI3ymCewNvVhWfgcufF8sTS178d54IPg120CxiujYnB-CbrVsuEFyzVkbrDvDsPwfy8r03dg-na9Athi3MOYMG2t8OtL24noVo12bbcc49v9ed20tW2XUA5c4eVPK+XUdu3t2bMrOUrgo795bq3Xsjc2fwKbXwFipr1qqW5TTHlGxeerDi7lNjQ8g60jHkrAIva+G9tNBbu44zuwdtdijsihvLYS8dNbmPCAGytobtkRvft23D-b2IufiqJ8N0GGL-s89myLs7bOLsqEIyLYjO2Kd7dlxC4rhxUjcHIwqyjdL+u7DZ5j+i+qetd1efxjHevcvs9mH5aQAUjmhXCpFGKLs478E4KAZKvOSupBs63VDngIWlD8Px9MWE5YaFiOcspTBEelBMOtXzjpleavIJHig0fY9EGDzJ+dDwhLejD+92IvBKAphj9cjXRB4-QSkA1GlIwgiElV1llR4LK+ECEAbrHUguCpDNTlx81AS7cAJ5xFRqPnkOFeXHrv3eZj8dn3PqQ5GVuD8eySOPGFhN+ZUAS3+9fPDCAJwsPfUk5t95JAfo-d4dgXRdPmfPJZYz+XaO34KYUIrRRoM7UgjR7Ae5SmVx6mbD02diNwhhNyMypToFZ1ywT2Rl4zN25S6BsgWAvRsh2GYmb3V0kzPEYygK8U7wt071H0kHAPa1-F5WwikyQOgKIMG0DWdkBw+1lUNhBy1zB2ezZz9h31cGkBHCM2hnVzVTdU1TWHNwYKJhmyEONhEIVTm2Z3oKlwzD8hkO4DkI1Q9QkLZyQzJVm2p3J1rVgOPEL0hmL1-1J3LV3W0m30dDv0PAykgjsU3APSk0rWPSew3RsNmGRmwONlwIZw8M9S6B8EG0cKLCgnMgagCLFgoJHBlElT8I10fDcK7WH2LVCJ0PMlMNP0oOSI7UJQRjiK1G8JmGRhiI5mKJkl6EfwT02F8Kpzp3DVIL6FSMZzjmZxCLCPMgUj0waiIAezWBlCRAJAAD5ro2ZzBbNyCBirtDxuBvYhNbD9YL0FijYUCLIJjRhzJMCPxuBZjI5o41g-AZjDY5jxDFxFjm4BIJVQ5S11QXBS9T44ED5FD1pTCDCmU6jJAGpM0ZQDDAju1a11ZqjliRtl0LDPji1JU0C2ZJUdhCNc5tUHjutAgttXj8i2igjrDF9RIUSnj0TWpXlU1PiWju9VN3CgTOi+IfNQBaia8wSx4xtniOEdducyxLIXwT5CTyovlKEmVR8ScNtmATs2TFd6JOT05hSeSRo+Ty4BTOIdgL0MpQDnVZt+dY1Bt1oGpwUZQIM28FYZIGoQIzotp8S0TRS0RuBwVaT+izjDjDxTTTjBjDATTaSGjMt1dwVcTHhe8kTIZV8Yh18lx1QvQ-ADjs41gYDiDGC1SDsJcBduCa93lYRmBciBDSCkiCVQcqN8cl8e82dYy9CDsHt0jJc4Ca8Gou4ZQkjSya1ijtDcsZIHtWt3YGy6yd45Tr5dcu5jDjpq4u5dDC5ZtpTLS-tyzjwWyuyVxf5RyyEL5py8zNgki5yXif4OtddBtcTuiPRJBbNmD5txt5zTtEyKyUQpyutf5uSxzWyqFty1DrzjyRouFg5jDtysihFnpotakPp4tvoks-oCg0tg0+CBDOATN-Z3dNZ+CGAhyU1Uzy9gUjAnk5Ap8-BvTiCeCbV-0gkS8y89ZgMWiJ9ULel0KoM+ynV90i88KzVY8ILeCzNRUNct44gaKhYCLxMyNrkHlv5J9ekNd6LsKpM7VmLQBjVlM3puK29cBBK-1hLDVcA-BHUrkyUV8Bw19h8ZKsK5KzwRLFKA04LP0EL0zZDqAL9ZKiR05SQTLgMNpzKJLhczYGyu4LKn1cMSRezDIbLOKKgTLz8T0XLtLaMgEXKizhySBMRI5YYAz1Kgzh8tTkzq5FwdzbMAjoh6sEqUQaEjMPz9yIrKBGBmlA8ULjCxBegsrq5mJ0r7YKKrAGoKkzCV0YqNKa0ZRlTgK9IELqqfZvloyTcLL5ZerJJKDc8VLC5urbzp8ULuhyqdIFMLhuqfLv8ULiipqjYZqG05rKwgFFrDKKg-T+9Ayh8bshrvwjhoz3BgxmBMqtqmRc5NAtZOtKEs0DJvBYZHqfwNi9tmIEcUKnry4+rzqiDLrCrBdhs3qHqdB-r3Ys0AAeDEe6j6oG4-XYW3V-UkAAFU6iqhCDaUY3wAnS2jZDQzWB2E0QAGoJUl9SZYY9RoNeqRBKbbKKaqa58aa-FcAIVPr7gb9Ua7dMbsbcAGAopggZMCamcib-dyBSbDJQBKayTeh2a6boavRGbDJgo5bWbu8lbObuBuawqZorJeBbyGzpzSqa8mCVthZOp2QbrNhnY6AHiVbAbVbviyit1Vjpyvr3IZsrbmR2QFaZhE1IqtBmq4qT1JDu97pvk8I4MvardOJng1ZubA7JB7onbUIGaIwxh9bQTBJsjNwctY6GqISFQB9w645SjegX8nwzbDIwpaYUxrojZgCIIIin8yxoiUKZQ0q-ruiyxkZHaGYJqvaNdpqfT6IJrIDFraSaiURMpq4ctra7AcqmzVSyULzKFTbvlhrzaURLaBxl7bakzzIHanavbhqljbRsNPaGaWjfbD7-aR859g6CrQ7y7jqe1I76Jo7KFY7B076scFgKJ65PrhqE6yx06GZM7nqiDFxc6eitaZgsIi7NZJZS6w7P7XMywa6Vb39CBG7QhvYACi5rs85Z7mwnC3begu6jYe6UizxurV6KGfDq4h7qMR7eqx71qJ7AIp6pI1r7Yt856RGwSl6n6Uruk9YYs6lPoEsfpksMAOqRtqVU8o9mBM8O95NH1hVn0N8s9DJVG09yAykP0KgjH1GWBi9vAS4ls49tGaBGVN8uYGoLH08NHvzCRDlbxc0XhbKpAXg7wSDsd-0qx-HJAqwgnF9c1GJwn3xHwomfH-10E4n0FEmQmrLWZRhbKsnPBbRgnZhc0cp5F+BGhbLimZ42kvgCmZhc0a7wma6ywanehc0YQtY+N3A6BgM2mdAOntpHhmmpBc1ya4mpBuBOA-BGgNZxj3dKaqnBmyD-1EpRnJBxnJnpnQB3cUp5non-0aQ-BZg1nQApmxjNnQByRjnJAFnLKSRSRgAVmsgJnjmNn3cwAdmkmrKABSB5o5k5-EGZ0AT5y50Aa53NJMUZ35l52OqZ3ZqygAQlNAhaeb+YBYRcJBhY+dudhp+eRahfhskAxYyaxfxBWchdOfd1hsJGedhdudGJxfWfJdAHGIJdBf-VGJJYOd6DJf+bOfZZZZpbJDhYebOd6B5ckDhakHAtvDBFcYj0sZUS9oJHMg+XhTYD8DcZMY8eBVz1lbUfccQsZG63cDiTeFrSVceBVdKFOZiblfcdsqcar3-ElQ1Yz2izBF6k2hdeYBPidJfFzXsLWFsoDaPF4fzNzUgEIDUV-38YjajcJfzNtFacEF6dgEgHCZ6aYFTeuYTaGf-QzakTifzezZzZubJAADl+Ay2HmK2y2IGS2ZW+ovWFC3BOzerzXNhLXTn64ZL1XbXNXm2J4dXG2+3o9uSTd23ZhO2eWnH-x-AR3vXmTc9bNk8m3NHs9NBRULLk9WAmB9xpAA9Q64l+AhxHaNAUhn76Im3U95EgS7Gq9Q3ehGNN3TAZh17C5Tw2RMHgyLKDrXUjrgzSDET2A+B52DXeTTrU7JAm3uT46H3JAgPDBV3uLKBjXTXozIO529X+2x2BHi3ZgS7zCy7-2S5A16rJZNBMRLqQdiPWrCQP3jaP7v2piottWfy4svpEtfpMBlGRR1BIkzwE01ARoYRpA4VhTXKhgCaMYnxGVxOebNgk6EVL0QrZ4cF0J48mamAWadaIVZPVPeJ5PrdgqVQ5OJKgkYQwZUdUhtV1AtAr7YNIliACaRgstshg9iBiANntpKbuBHPY7SRNFgtNEyaNbKbHO8OywAuQMNBYZRrbMeUPFoNbPYZ13oyn2Evf9ugSIKr-Z2bNbSQyRNbzP7lGArPxCVX0v7Rf9UuNPDIhBSQJKMuFRzElpGMJPt1RhfOZM63gsL03IOcNkXw2vQBlYsA6JuBcn4Mxg2uRACZjPpvuuRA0XDJrMeush65huDIQt+uedePHAyAmBBPyoRO4U2uiYdgJuZcpb5dqNhvRubjJA6t7Z29DWcy6UZvigBJgtCvKamvXAHAloNuc8uvpZauxupVZbKbpzutflnvNcftcyZvNaCdNEWa-uWvVWpuQfTdFuNPwfehaQzIBJMCquIUjJiRbLGNe25ALCWvDOZgSdmIzvNimuyRYmTiXwgfpZs6QfZ30eAfPuSd2befzJgsAByFmxjfLiXsb+6ZLjmiFNrxr0nw7kcaQCFBNdX9r1Y+2dGTGeuTX+NnN3NEINgZm9oZmyKVyTOKoLsZm-g7wWke4EiBYVng3tXmF1KFUQ3og-n6QLSHYudmn3TtWH3nnsPoPxL1XhwKZvamgI9k94gM9s8LuTVGoSjAg9r2XdDJbYzUX0tgja71qWy+HxVOlYzODnG9kBP4MJP8gFIYotPxRKoVLzP+n74J742PPzY3NazItLrHrb2NvwP7lOP0AQ3y+V3BzaldPqoTP94lwq7ojXPqlavWMaI7i6chI8iAf2H-w7it7+eYzCh2V2fxgIWfjGUFVifr5KfpvyjVv4-0E8ozfmOrb2J-P5iLzGIZv8-tTEI+biBzP6pwQ87fKQDsAVZv8HIKTT-j-0owgCc8gfSAX-S2419T29fFPlJB24zBXeexZAeXEr6HI0BdfBvqnxn6-9MetBXgDSTra7FHwL3cDpQl7bACL+OeWkrUVMJD9j+dRZGL31srQ9B+GVVfuwKoYMlYMo-eem+xmi-57A8-RKliiwKr98+9cbvhzlwaWZ66juL-LsA4JUYUIf+B2EtTspM45BOXXgooOoH59kqSg4bOoKpT4NP8zuQ-jQF45M5fczqCOF2BGikBKAzSZgAYA4CGBjMQVGQV31X7+dPBE0CSgEL4y28XII0NvMEPkHzVDArgjom3zH5fpWAKkWGHrX064hhqf4IKsxGFKFDpIlFQuO4GyGh1hS1paobDAsr1wqh7ALQEYOaE5CN2v8doa0JCFAJuhDQiSv0I3Y7smGpQ2pOtSCoRw5QYw3ahUJmi-s8hR2GiGdUoJ+BFqxQvYlkJaG5CxhLlNYdNTH5OQW2FALLBoO6rhkCGpeM1FAiYAOI2A3gaQMeDfi8AVc4QsQY90X6HY2+1DWvH1CGF6l6hwwlwEwzOEHDJUyMf4edAIguh76iwQhkLBuF3CHhBBfYetRaI7A2gLwuodsM6EdYhhwjShu3RRifCLBa-AepVT2KYiQ+FwY-n4CpFY9j+LDOkqIPBGL0qUedOkpINuqogsRxmMfvNH0CxA+MqGf0hwEqbiE6AvYMUaU1Th0A1oyQnRh1yojGp8+0oxoLKP5BIhA+X-NWJKIi5csvO6gQUcKPsBmo1REoo0YtEojZBjUlfEtlIHNFCw5RQKUeHHAcD0xo8jom0X4EdGqB5RZgxUZ7RVGbFfRcorUcNh1EXA9RlfEYjy1YDmIPRIpIsDKMMChjNR+ou8LGPGICirRqEY1NelLSWihRuAGeNjGSBv4toFlEsYID7yEoFoS0HMUKMtYGM7gElasR4lzh1jBRWMesdrx3SNi1u6BIXG6P3b6BPRyY9UYYElSDoix+orMW9FLG1jGxPY40UHF7EFi9CnAPvELD1AKFiQAVfIcsMMSxp1hlZP4YCIBE4iWAwIv6jMLBHcjIRe4aEYeHz4LCxhx41EUI21E1iHALgNphpCGENl8RPowQJ+PKF3EyUakcxH+MEAaQ1IIEk8dNSCrdV-OuAJ+IGyQZPBjk6Es3iPwOBHAXMCEkQPnxQl7khckCWeC5mImbFf2LACGLBH3E9p4JoAD8eMK-HkSeK9A7zCNxVhyw9ix4tblBN-FMB-xUNRcN5jtGPBFwAkySZsCEmKARJsEqGl5mMCyS589cGSRhzHzTVaB2EoEIG35FaBvAPglwMuPAobD6BTzecRegNp5BEgbwOoHxhcCRCEELk5wH4An7MSJ+p4tzH1FEkGpxQh+GUPJJgnqQoank0CT8C8HUA-AWkziN5PvFgl-JV+VCThOwFYShxHOKKhRzkDUAuxi0TSEpICkN5bJFQS0BfziHthXkIUsCRZUbEx5SxKrUfMeIJpjEyS9k6ZE5NiHOQEELUoKO+A7GKBapcHIWmFO6nRTRQLmaCbVMDTGSZAIwBdkQHMQygAADFMWdhWgoo6KBaSaLlwXxyAhgGWDtLaBLS0ghIB3otJHGa0uQ-Zf2BdNGynTpAElVNJtMOxqdEQYw+6dnxu4sAiIComgMxG27qs9iX0ovuVAOk885OpUlTLnCNhvTjQKgVgOMAWnHg68O076ftLYBtVha20zbBjPBmHSZIP+WQMwCihHA4USQ8yNhkMzBCYSONOEK9NqEaDQZy-AmXWw74qBSRdM5iEaNJnkzMetIwOrzKYBkzPAcKawdQLAFGcJBojRPNphJkiz+ZF06GSxIYCmjOg3WajBoLvETCLazqYWaLIpmlFTCNMskSzELr4Sc6h43wLsDNmARkY6gEcByJqIsjOIOpS8R0OvEx4+6tU52fUWrjuBY6wbVOgsDQnFhU6OwA2fzMAldCCRswKwCRHpKsiFBexUcLCKjliyBZ8eObhnPFlAISi6It6OdVgo9EuRYJXOZnzH60TdxJeWlLiEWHvSbZP4WqdqXPE4iPZodEYbeOtm+yUQWEf4ct2DalFkYRAOmopLCnYjPZXQwEUQTim9Bm5bE6SEgw4GfDDMP4avPmRsDkht5URNuR0I7nRUu59WBebMMeAQiLxg858WsDpmjzOa48jSKULnmTJARQEmebRBIh0RFq8JHQduIbnXgVhvcl2USKwgcB1ZKgeeAvJ1lCMZqW8neWfOrjKI0p4RYSO8PEFbikSf8goQAsXnsCpBeQW+QqFEl8BewvAZCD5O5EoStuaE-SbhM2KIKaF6U8AbsEtnEL1WgoEiShUD7+ZKJvAY1JhKkAzZ0FZqGuQVUjj1zeFbC2qVwoolMQ1or4oRTuIhi1yxFiIUheq17DrDQAsC8kNIs4lMQ+FysFRnsVIVrcCF98sSUAl4UZivg4kwUGpKkBmKiFXmW0U-MeBeY7Fri+2jpMD70KnEDXPBSBQulYx2i2DRkro3crBKgi+KBaWYxcHUBp49AOlMrKCqMplZRg+6W3mSX-SRsqxAeEAjSVrcTengMmY0GTgwVaQgfRlOJBRkbiGM-uBUPciCUXSPJHvHioNMIAtKY+3s3Wb5M2jTx9ALgC6TKFkDex4ZuIRGdRmVlGk+oZilKYSAJyOKlJ3ACKe0vsUzARQCS3Mv0pCC4ytQay3oAlPWq3Tswsy3lA3lSkML8+mU6WTIWj7q9kZm2NvNssGUoy7R2U4yXlOXGnLApQ8LmHNIxoAAJKREwAABKIUAADJSJkAhIdqqlTkCJBdl1Un8UNJwVBV6AzAbIVwCmm-i1uu0a8fZlTgXSkV7S3SXiqOArgiVdUOYXkDJWjBEVIxbJYCuBVgrIV4ACSnisxWcBCVC04ldBLqlFiTRGC0fHiuXGcrHMnIZzCFOsUZhrKC0pJEWNpBwcRVRYskH3y8pyrGxTvMfsnkpU1TUV2S+qe2Kan2yFppzMksnkaULSHlNsvVYtRGnwremuq5FR0pwUqzI41jZgIb2WWtLbVK1AcUFUNWNTyxp9bujy0lT1SEOn8cUVOLHzZDxp8Qq0isumk4K7R84nVTyu9VdLfV61bNiPVnFVzblXqw3mBPylaRW5m0PYFa0JC7QG4BgzNVr2Ch+E7lZTd0tXErVEAg5V89YJsXdU3tm19a04Hmt7GB9211GNIcCQj5DrBRKs0GJyuNBUSgqoMYXipKHj4w8Y62SiSutqUzQ1A7QfwZVJGg7tOVvnA9dQBMKfC519ctyWetKLuYmgMoMVU5ntTXqO8HIhqE51tz1kX1paidu5GVX1j5QNvHqc4HlX1jW6swAIHtFOAEZT1hAUDYKMIplgmesGvwPOI-UjK8CsG0tVviTlz0xqO6nwbIF2Vezj1WS3peiBCkygNlv4XMlMr7kXqlgnAedVKtvV9QPMhIR9RKvtRSq31fUdDfWXumNjf1nEf9d2P+DqrvA8GxaOBpmCQbANEmhgFJtiCIaMwzEZpVkA2b8ad4gm2cSIKJE14rAEEhjGwCFj3T2g8a1ybBva5BKX11EhTsEBM27KT1wGs9YHxiEvrnNE0owe5tg2eaE1WjGvLuqI3fqj1jGvze2FtJ9R3YFUlzaKBlBMqmAAAQXADgApEIKjGpAAADyZbNlSiAS3JbUt6WrLTluCl7EX1qGjZtFos3OBc83I0kCyH8X4a8gMQppSjPWhBa0yO00LfZmtWRbNoVWolfFqBWgqIVUKmSAlpZVQrSt9A9TfOIG08rW1-serUBkOFLpCOc2OJBXmQJ9jOu22tsQww23TQCC9nbKntupW+VeUZ4EUJtrKCvJttvQlUGdqa0gUMGOUG7YyGO07axgT21Kgdre1Hb7t2SlQXQQkqqZ-tt2z7Q9u+0g7ztNAK0JoCrRCwvVgOgMY4zVg-bnYPKFSBhjCGEEUl6OmHc9vGQyZYg6QlHdyIllxdbM12ygEjOu3TRoyU6xaO1wwb06kKbOsgN7RwGLzS1gfGnUjNUwc7gSQukIgrSbVeqAiQu9QtQHe21oSCD3OfEzq0iBo5NBGdgMzXF0e9bK-O19coze207qM4OznSWv9XZLQYr25QLLrpRG65dVyuEsOITFjikx0ai9jg0LUe9MSk8S3Udpt0ACld8uw5hs310C7Ltu8b3RDt90B7u8-u5lKrot6Nr3dMfcppboN3usNpDABHergXw87TdqOqrPWIamCBjVd4ShaMXx5xhJOu2xPfcvh2I7+1IefZSeCMm5TTJKqmep9x5zvKW9pa7hl+I-lhYL0tEWYP7seiq6reGu6vWUz8C17UgaetUlyqc7q5KZ3IpIljpz5L7V+sUufA1Qo4ocuUNHSumP2IHJ8GyoZTwCbtnHERB6Aqo1cGozCl6iYXAN4IEGNhHCJ4OCdXJBzP1gS1letNYdMy0m4MBwW++0ZIAdyOCAZggM6hYk9wU0xu-egnsfowHFEne7M+YFtGb0mSe9X8lQlsXP1EwR94IVXUgdIFYCE9npT1Vrr8AkHMBlBd1g1BhAOYKmpTGUAAE5zAzsZg6uhVX2dODqkSpqWpYDmIsY0+42Z8M9qrrUFK8rIDQAMgrSq6Do-g6U24Bi8xewUNABoZk1AKUFkqLg5jzUBxyZgXBwQ+okxj1Sg4RBGgClHEqlzZZLEpQ9wYL2mHa6fgRg2HtyiVMVZRwEpWUoELZw91F+3schL9VFjR9gQMkN4dKa+GHY5B73JQaT3B5ilUR0CuUPi5wCqg-a1gJBsHAOBaYkcTLuWvRB7AZQN-RoHf3IEZ9HkjACboQEg35dTAWq+jVkAWR5H1EbSZbnmn0nkM3aeh0kMlBSgVGqg4-D3mMjqMAFlmZgfhZID0N-ci12oZkfprkhYRv1PgvwXxhM3iE9gds+fI5rM3upfNPm2Lbjg16GGsILRt+r-lAAdHI4b1VyAoemMOGyQ-Rz3C+oc2BDxj-R9KAsZQUKRXZmwXo88c9yG9WiDebaICeShaHFDHh0pj3vDUCri9fDUNWXrnyzGPdcUt-XHA-3Gw9gP+5o--tOaW47RmumPssqLSYHPlKqmyUwjw3KMAiIQOgFFExhZHAgqMvqMUcJClHyj6RpFb0lf21GBoTNBo1vmiIHbKFcGYk-cpxMYHYYHy1vQBqpOLbswqJkkxiZOHq4pTvdP5HibegbNLcfypqPlpS1paMt2W6FXgfWltoHV1Wq0tmqEZorCqx6qVfnw5WMaQBsG3lTisD60qVwL6h6LDtmh8Y6VvphlXnsNOFaTTOW9lXIHxVP6YtE0j04oAsqiaCpnGhUJKudVEEYNsWpTTZkGMqAvVYvFydwFAMAAdLADZpFFmpVjuAdoEtEH3HN1m8eeiGoawS5GCqhg8wHmf7WFnKpxZ+0WWYrPqzXAvgms-7yMD0D8Ag4IgqcGYiTnQAAAL1nagAyz8+Ss0LGrO1m-9DZhc3xG7wtnSQ5xxgD1Doh4ADt9Jxk0+ELNrnhzMeTc8iw55WUjEwUdwMzWIDM0zeJgMXmCBsBdmCzkajc2OfvMF8nzhkF81vHfNO99z6UIAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIXXFVKBLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yfb9p7hF8MPjLQybbcVQn5raWtHHO-a5ZKemF2MdpJuUc706Lj2PiGqXQ5pgGbZz2JU-YDwvBdna84YJvlBb62k-rmJU5E1v5Pbwee65u25o0QgQW5VEh6Rqe2DjsWOi0fQvcYM2tcMHWa9l8O0O3GcvoYV7Q9hsRq+z2W+9AUzSHMjmbLshznOpXx0fINWvJ8lehpqiKG9BCEGnnHZE3AL5hCogOOamtqAKGNtQSsHsN7rwcJMKisQgqL1xHAhBNBkGe0uHPcBghSCXyAuRZ8-wYGpFyAoQg+ByhEL6vDZEGCoIxHfBbDIxU-5rw3h3fAsc0F0ABgnVc6stAiGWlNA89Apb6AkQRQRAdTqSDIKHdhB8I7TEgTo3RRRBFJ3kYLSaYJ2GPiwfGQMc0RKnwYqMGkbBaarlKPY16htpFgi1rw2+DcgzqlDMsCiL5DRmWCKIqytl7JORcEAygvgSA-2AaAmqOYzi9QLMCUEDAT5n30GbQwstMFxBsS4ByDBIGFI1ksV2oB0iZDks0LC-DhpVBDjOC+NTCBhH3somIR88lLQKVrLp5DQ5FNrr3NMgDiH9RRm8ZWzhVYa23rvfaJSoKzVSJQUgtZCmDTXks5aaz-aBEGHvOu-j9ZHOGicrehsr5bVlsZUydz9APLOZ0aW1867hSyZxA2BcM7Fz+sUuumDaHLQYYktOhdM7go4SuIKY4NQBWoaDYU+g5oww+PNZgWhFE0wmKU6YQU2nrwPPiiuRLzFIs4L3DFkYwkNnoFSDpNL9oOLPBKUACdKWcpnLS4gxL9p9KZSuaFHjHFCoJWNHl54hKKiCnKmmiriBMUKKE6MCcKUoxBWXJRBExkEsruY55lAJVAy1Rk7VmTIrsoEA4CWGpGRPEBAAPgaRkNgJwsBAKGSfF12sBa1H0D9C2yqdlpF9RG9RdTh6NLYCuFpG59Ahp3mG4Q3Ag1LUzfzDU+gbyRomAiMi-K5msJcIYbkjAmEY2hmzVElrlXQsNYimuyrXhOr2mNRqQIO3FzNXS9GrbbUxBjaKzQuIh1Z37f4-SPqmmxjWCAyaly615P4CzJt2MtHUuFYS0V9KSUXgGQ0WtQht2Nspi2gStxy6l0RRe3RpqRVVyRZMShVCWW6vJeUhWaNb3No2ZdK8ClQSfKdRDXdd7yqGHes9BGi7+4K0ZmTCmoGrbZwvZBncGHmZYexvdR6yGu0XuaMmgKDqgEG07t3TZkKoKNhjr4RkDGhEiJrkxRs3Y9SMivfWndxGqahzYz+lQvaC3ZoHTk-FwaTqhqLfxsITF9WrTXmxgxzopEbtkZWUxijVPcBkxqCFMyAUBvmeYA2o8mO90wUFd2DAZW8uNVeSl9it4Wx3jhl5r7piWdozZlwBtXVirGls8kjZXqMkpRF8xGqw7-PJK60jH1kuJfRhl8jfzXqy3U4B16Vm6Mo0IxwOD2HqYOaBpg9LiGyMvUcRVj2onYqNY+vHFYlLWtVZI69FLvcdOpZ1DEaz1b27Af6+zMe016vKdy819z032sIaQ-+a+K5KWrdZgNxxVzhvbZtQ6uqoXGrNSUFAOAiBkDoG6sSQFHk5oLSWvw6oG0a5OcA8dXgj0yAIxiAAHyB8ZF7eyPuA9ACDsHqQnrPX6DVra0PQd+l+5kBGpXQsK2YGICQwgGBHw5pQPo9wxDRp+6kLCX2ABkNPej9EudnEc7JSe46x5N466jAfbMp2T-HhOoPW3BJGgBE3smdeesMtI3Ovu84SIGOYxakwoY59kyeynIv-SojG3HAuifC+yzpWZ4vOJG6Wzz5YQUlc3htyrrt-JzhAPN4NuXVvAN27tERbOjunvmDBjBnLa3-Pa9fLr8gePaiC53ML3be6qZi6AXH+D2VJebeR2Hj3jPld2k9+n-636AVJ8DyB-b7m3fWIVy4PPOf8+F8yUAuafXg9I9D+7qvOOI-66F0x8Eze9sJ5N0A-v8eOsbct5XhMNea8O6H9jkfKfGCu+Z5njvNfvdbV99IUAAAxSAAANAAsgAUWaIEae5Bi6gHBII4M1REH0HBKARyxtVDX6juQWSeByAyGDqzlIPMNINCjU6gIgHAwgjQ2+qglAlAvSjQIAYgr+tIaA9CwA7giQxcnkl+AwoqvgwAAAVoYJ5IYDDOtMACkEAYYMAAAGw6DYB4B75H6n5lIKD4DIKs7-AMZNTyBKAf5cbsb0BX4k7EDb4BxaTP4UC9IcGgBsagwuDkAyFcheDP59A1DIKkANLEC1C1BoCm7PapAf4T6Tp8565R4G69637qgP50CJ7Y58FqJByaJGFlId43DYhp7S6RrcAz4+5z6TZ8FsbOHOaPodxKFDDZ43gb4F5b6N6pD2YZ7t4JhzSmEE7mFRbX72IfrmK2GTbeZrK+ZgZt6T6K4RH24+5q6cQB5GwmynLmyWyt4zQmFd5mE97pEXrghLLWGrJ1F+Y2F+HZJfKaznLhoV7GEd5DKBAyAcx4j9GcSDGkBPJBGAYTGVAcykhF7Y7zFVIuJLHjG5KTEcw6Am56H+6pBzq7FJG7LNGpGtHjTX5zo5HZIubnFno67LFQbggPHcBnobGTZzojonpjo86xCJElEjBRG+5AJqrHpa5QKr5T7Z4-EN7Y7vowkWpIpvEd5RFqbImc6pDTpwovHiqNEd7o7544lO7Y64rrBHrmrCyvHwm2KpDJq15foVH6GhHNzOEuGXH84tEx694MaPGcQuYMYXGBhE7ghCnfHZy-HZKcaBGjFjEIngllGb7smnFVIgIzyzYr6gnJBXGR43ECnpHgiLzUCzzODCkeTGL5H1HinV6lF2hdpylm4TIOkM6qle5qnRGukeSVLVJEBwn6kKwslBmzE2mHpVLkL6DhmYkqmDDhl+nmCmqBm9IkkJg3hJmnayDnbcEtTXbtR3ZdSWB+4GlMD7LDRqwU4d7fziTsiVkamiQhGoIOEaIhzcDabMbkhBSSn0KMLMIbzggjboRsyOEdkyHCI9CSqUl4mKwMJMIyKoIyA1m8kpHR4WJWT9mLkE5DkRnmCqJjntlaKrkSn7GrEyDcAzHJnxKhb8HrynlojnlTGXmgDrG4nZLGJyLyBmLCwrnfZ7H4oHGvlHFNmgAuZuYHJvDeKPnyZgjgiQXEDDlSbozmL7nlmIX6CvSwXJHXEblYUMRWSIXWkpnlIapeL0rYUAUJmsnYXHF0aOBfA7zrQGZGb0qOby6Zkq4zknHxJRlyDc4cU9lZ4jA8UMXQz4DGAdxgKBxcDMaFDCUd5YQCVnSFaZKNjCEwozqsU-lSyMjUZlngUtmyVGAbYQpnywXU5mX0S8oUm8XcHqJLZaKyXPAKVxhr7Z4qWMQfmcReUarOXqKuUgnuVcV2heX0XY56YyImK6WnrWVVidAQosDrAexCUhUSmTRiAk6mVNZQL1kcDrTZWniJr1JYQuZeU5UfTmWJW1zJVSW9xvLAiZXZVp5QIAA8TVhVqgBFeoqG+sD8kS4IAAKjdEZXQOxhfH9hak2NqdQLUM0E-gANT8qGJ7QkzrRChxytXhDLXIVLUrWGIfDrWIEyBxzFWTASL3yPzDWjUyDECORkJiBTVjozXTxzUQHX6gDLWBaxBHUfabWVXPRQK7VWRfUHW6J-UbWnU9UTBgV5RLbJZp7RZIiRVTSE43TYhpXTBAJCaA16g2XBmxgxosnbU-X6xo3ojYg-WFBFxMUfY6UKLsVAyoYqTvxNYs5K6k2rWzDZ7nXU13zUh1qsnbU2h2jnWSb2orADhJws6aUEm4gxWM3ozdpBYDWbhI3X62RPTlANLqLpLaiYqcJGi9peWMhyoVWSpE2Aa41+WtXrwuUjloR+UFLhUS12ru3KmBhJzo1ECFInZVrZINYbaI0bY2XI2xAMWVg+2Y11ZG15jY642tUE0q3CR84k1mUs0xDk1R2U0eYRy02SX02K2-lggzKUZs0fQc2IkZ2BalDwRK7FU2WZ0BK41EQZ2i1ZDi0TqgA6hSrYoy31ly2woK3flK1FF+gRLq2h2a10Da0iC61nQpJG761Ph-pkoNCNim1Ajm0mWW1+hBQ22yVOX22BWO1XjO0MQBVnRWKS0e08le0U0Y1+3TRWZnbVoXY8GtQ3YdT3YYCGWwIkz4JIIoKhaiIZlMl8nGkWIOBWR4KILIIkUuBwMEIezwLTyAmEo6zsLxlgmDA3iWJWaFSAPwMgPv2MhE7piSlzDIWxBzCrjiKRwfEcg0MxAcj0M6aSkYQsM8AbjsOUMfFHzcNHx8OMM7gaTMm+rIVknOgMMNCSncSGAX6+DIUKNKMyMcMfGT0sOT2xiyNFCSk3Ak5VIsCGDDmGOqDGONQrB6OFCSmLXcOxD6BqzcC+DhAAjerfzLXsagA2OxCSmeQOMxBOMuNuMeNeSgDeO+ODIfFwjcANDBMROhOgDfyQgRMxBRNwUQjACBMGDOOJNerJOgBgCRMaNiMACkOTCTrjBT38ZTaTPjpT8F4kDjVTSTdZUorjjTEIAAhJKC03k9U+44U700CJ0-w2I21ZUwM206AB1TEGM6I-BW1QCIE60zU7M0CIk10+CJ6lMyE+s96vMxk5KZ6is3E4UGs0M9-Kc0c9s90zk4U4UEMzEN07ENWemAVL2sg8AywgWE5YCCuG4eEQMNwN84QhvDiUQ-AiQ787FPgCwPgSYFagCysEC8iAU5w8Qyg8hTXpYhk0UGC6QwWDiY6u8AIIS08swC9UCETpKWirUMhfS6mGfatZk+CJAHQN6MbMo3Exy1y4kvi6y34x8eYwwLAJACw6K+K4K0K2y6K8ftw-KzK0K5KQAHLkCqs5PquqvN0ESfNks8BYs-PTatUovTBosFNK4rmgtGuELAaQtfO2sezTZnxmsNAWtDO4sXiGvQsoOUsQwkvO7am4JOuwtYMwOPUbmwU4IMDVAMBqikBLz034HkDVi1okyaB52rgUtoMcBSzszaIXoXxRtHBFAhZ-HxiEAM0l0eqcVe1qzSIE7F2KIDJTwbr6AUuCJJ3g26IUsmvt2tvroiAduhuCLwuIumAQr80+tAN2sl7+XKuFBD3aXNtoWEO9qaViBfDJWmyj0l2CaVvVuKJpjb4Qv5lXZtS3adSYCGXQUUCmAMCFwfDlQ3CkAtytY4USP-abg14fsXVtzr4q5-s7XX4MD7WQ0nVxy-uwxMwcDfqpqel4NAcwckQ3lSYKA3BpxqJaBM7HWE3FHyHKDKB-YZBDT6BGAQJEdJONTLX6CX7KAs7ghP6lBMcC17Vg30eLvOhMcyl4foWGuSCJIjTHUQITKidiDDEwHVMRDQSKUJgQdg3ggQhg30KYfGDYfhpAvFvmxSfiekq7XWDghoc6dwrBwKB0fkKfuxoY4Xz1wsfJq6Qgy4pQa2egB05YCoQ4oSMY43i2fhAg6Iesl+egAjPX7FDwgrilDAuDCuf1ngjhfGSlB3uX4zhPuxSvsty2eNVedalvWWnwyufucVoxBc6-S2k9E6x+e2BkQsfKfLUme4hmfRcWeXwtffpg0edFBP7gfB0nyRqiJ-M+b2nBffWrjddg0NdMBkDmc17VJVc7WdeFDwiyRkQtLxBCeSSgjIUXw2uCeNfTf-tOdU7ppZdtwNcQhcO5pQZK62cd1te1yTdmfVepwQdteRfX4ADk+1F8inX3HnzQEHANtnxn63uIhcpAcc4P0ncnEDLJZ037zXUPXHq4kpQgwge1wQe1DkOkVkFoxYe1+yHA8IF10EpQ53SuSPd3lPAnUnU3pAgkCH5P2e1PN41Pk3SPYFKbabygGbM4nimsHgvmPSVn5p+XOMZsdnbLovCe3A5X6y8MEvLLsQQLXP6wPP1Amg5FAvxcbgenwvh3rNpXw0Ev73kp4X3xvX30glGsBv8sZsYFUP90n8as5ygvbgwvUK2Kk8s1Yv+vZKm9d5aejIK4HhfX3OcvBRCvNvbtRDbvxgBOkC8UGg+gjviGzvrvOvEK1SEvbtqqgfG2jHXD73WESu2vvmUekCtcNeZfbgFfEy8HKwzQXbBfcXgjxf8gmfdfl8CHzf7NcXqv6bGvfPDEjnSMyl+fTWSv0TO4A-6vmv-PHfQvN37pOfDfIM4-1aS2NrcfXfOJ2qmK0K-XOfZKvZHx5vFdUuYfv0OfzKlERtFKGsNGAdnEiSJAHvdb5ZrSNv73SuJvjfLQatHpNEhfhxIWgdpXouyCSRIV+O0FdEhL2ooQMv+hASXjeD-4gxJ6QAmerEjfhDcIBsAsdGLnsp49tI5USgPgA7gewBgFQQYPAI-6QC3+8AuLsQJ0hocqBVSWviQOyiBFaBMPR0iMHwFWp9eYFUUtUG4jrQCKJMcUDZXPAICkG6aVrNIO8qzl5Sog+mq1n0AsBVB60WCkrk0FGxtBaHPQWIIk6DYjBH2WCjeDMEGCfKHkKwRJzjYVUFBDla+rIKZCbAnB4VNDlFUGBOCCszgusHQLKohE7BEg2DnJWwqy8XKYFJvLDHf68DO8RpfCmbCsjhcIqnOMlhDFJhrxkh-g0zLPR3IOIFioBYQBwFIDKpi8hAZeDb3XpYoDAMQzcMfzjoUhe0dgjjFoPsGMALaGsSIYFW7rpUXArQ+skyzwzSg56BOYmAwGKGlDMB4VcurkEqEaD2hyWOwTfRzAH8vex3A8H7yaH9CeGWw+YVB2zw59uABw1kqv27o6oahuw+3iuDYjxDThEvMCkdX6AKBcu+mCoDDF8AjE2QHw8gF8IJyGBSQrgskkYBmLvdfh-w+aMSCeCM900nNGYlPwMDUc9kLwt4TIghEjEURp0BCKCOR6ysigGIgEaSH47VBg4HAVNm1kjB-Dvh3AQkVCKs4k0wRbcOkYCJhH-8S+iJBEQMg9RDNSRZAckYQkJH6AWR0IvEc6B5Hepnh2IoiDMRiIJ0sRrwmQDDFGjJ9SE+HT2vEmVHSICUgQU6MJ1RFosI2sNGwQeS1GTQdRLw-UadAZFxopRDPNuMmgQ58jE2-QQUVSP+FZsVgnNBUYuwlFNQzRjAO0VaNeHe5dRgkOUZNm8GxslolIUEJRRQ7IQuIVAHoS4JYwtD2hbQ-QR0M9gmUPBUQ+IYMLAh34NQ73bwaEKkFJi7isw9kVQGDiMBDG-EOwcsPaG1wnYVY-Mc-w8i8Q6xDABsd1V4i0jkx-g2ClvXUgyAkwDLHtrnBvwTj0eCHdOJ0A7ZDi2x4Qd7qbXGz-96hS47XKWIbb6YhQTyOMcLAHGViUxfIJ0ZsMwhUBwgdOBWFhBXHF9axZAesaFG6o3heIYolYDeBXGIjFQ3Y58b2NfHNcPxv41lkrh-HTsVELleuAtXHF7AGWTwj7BwDIGBiFRTjSyumjyZ+jk0aQgYn0C7hVJGAzAyrhwNRDcBHeJ4x3uFUwSNg+xrmHhC4kZD-ikggEviN1QolDjiJ9AbgJBIIhUT8xuwuib4kYlxc4J4BUfkUFKCOj-+zFLdpIFTxoShJDE-6GBV4BSVRB6sbcVZ1e6l9rxuEyojKBd5EgvoWkmib2m6CMhdJKk+IVuO6DhAWO4XAWt0CszITQAQ1AABLH4GAAAQXADgBj8AAJSGqQAAA8qq2QBAgDK9lO6mxPYFaR70zEugGeNgpqTUGhk7cXWMl5pRY2hkivqRIagZTnxME8QJIG2Lix8p7KNDtlM6DlT4pBU2Ch5K8m+T-JQU0KeFKqmlSNJasPKXVPZSFSkgsFbKUGK6kMBjJUxRKbXDNIVS6AxBBUYQKhKiC4pxYAqYlOSmuC7RnsZUUC2URti-sXqV9GoBMBeBCJS0zgTjF2mWQeGMBZ8clKn4xS1Ap0hKU+KSDJTjirkwns60XJ-4gQAABn9RAIagjkVzBkEoE+8qYsbQYNGhBmKwHA30uINDNyCwztAy1PEEVg7wfSYZqFUgGhxcyAzChYQ8sYmIxnS9Yo1ASCPEKwjxdkKWEYmWDNJk5o-whMuDhGOySBBI0+M8UKkGqDZAQZyqd8NDJJnlQyZ+le6sDMqyCzsoZM5KOSASSBAPYjkToC3B4ErAY0xMD3gnDdghE8Z6gnIbTLy7gyyZi6VOEgMXRk900KI+WYrOa7HCfqFshgArLYAtxUB0fI2WAMIA0Zdhdsh2S3A+n6SPIFQEgCIFSBR9CA9ESQYmOolQRZZWhe2VbICF906hRMWIQ+CuEuh+67QRcU4JTk7CAMWJRsgnEuE5yN6LQzMcYJyk5jBKyUvobnITAsAWcwwwxKUHHFRhqazQL2VbKbGmDVhGYDzoXL1R85Wkq4giKUHbmOzrZGCALqPKdncVbeq6JqIlU1S3DyQgUQDFPOF5gUoxB4xhNrD+BMzwhnQNaWmINaDCZCSwhwbmITFLhhxTEAcK0NC5MsU699VUHQE2qsTGxSw0wS2J4n4jYgp4KuT20uHQo1Zp4DhKyzwCQgIFK4VjBmKBBNjz53OP+dfJRSAY75RYoJHUFjClAHAr8vsXvNAmKhO5jiFYShGgioRqxfoUyHuOHa+CD5SC-fmvQHAByN0wcnGIgrzGBVXK4CyBSrMAwzj4J6PW-qyhrn1tG2eChKmwCrnLzy22SbBadTfn9i9wv4SOfENHESQxJDLd7nwvEnziM5WQQgIosl5eULxhQjtjMSnGxB9YVCgnFvMko7xd5+i0FkopcrGK1ZhAIEbuMbbRj-Yti6gPYt-AOLhxMQLhZCGMVYR9FN4+nLAnTRuLJesi3ELgvfFcjWW740kPgsKBxL5FwEpJT-OmCl9UlvE50K7QQ5aKEJ0iyonERBkjQ6S49DUQkO7wClqlRFEGYgxQrQw1JOsX2a4Jry+z+OGMwIp0roEgjIiKuHpZL1R5sAFZvgXZJWQi7-9AOdoUZWBRjbkAxZw0D6eRNrAQ9-Yz0pKaAH4mBUzJBraGIjlWWMg2ZjlVrFzJxi+zeM0mF+XIuEnFQJEGS3BRxOukvSClbwNpb0U+TkjGAvstJQ0H2XX00ZCYDJY8sY7qK5xDo31POLuSPtNlccPpVOV+UnKAVF6WSchIUlhiM09y3EI8q3yuTGpDAAKdZAAAyx+CKcuj9SGV7pFjD6aHFWmBK6BqUnKRUDVj9SxE73bKV1KjwMrOVxU6qZkFWWhx+OQqhcPyoameSSV5KylR1JnC8qCc-KiaetIVFojBgyiIaWhJGljSBVgKrrh9Nmlhj4QU-LVTiqplNKOARql4cTyWXBsRVnKw+fEI2lKiqA20q8B9IKavpllqynmVfKZXhU7pkgB6cqp2WvTEJDCSrFDxT6Irtl7y3ZbbR9Gqqwxm0t1cnxXBb1vUCcDaW23RHujw0F6b0An2mmhw3ldY26Rej9Ext+VZam6cOPxaJqwxfs2zPCujVQ8zxFo60YcqpCtB0WQINKMWigExqyAnTa-G0gRUjqV6T8vZX2rQUQR3uO8SNR7DbWIqO1do4qb2ocDQZUKQJano2peHNryyXU8UKZMGVnEIc4gqyRPKBzoZYhV6w9XtGCCUDpp5crqXR2mltoNhbK9WCeq4liJH5jYCyUCB1XlgTJf6t2lwl7TEcH4SWP9Z2rEjU0zVlo7oLj2mnWrToU6woEVBxCobepM0u0cOQThYQ-13AP0dBrZldIX166yTH3PtTKDOIHwJ9astfXpSBlMWL5jssZBfKzwPym5eSGhTHr7FOy5FGygNZAa5C7K0aaBvGnCbu6jYcjUlgxl2i3WekJDXqJQ0ZEQZ6GhQJhtiDYaNNCFLTQRpZY0yQZpGpJgppyxKafRNGw2lIs7HmA2BGM4II9JIl4arOH099e5vMVZ1BAwgJVZUvA0Ic2Bf6rzctPoD8cQt00sLWdOVSMbAgrmyWYwDfXgbblBrZ6MWrw1yZiVzUwKcFLCngAmIOWvyXlralUriN008zQUwy2Jb3gkmIKOCAxBGcTR8hfzb6rY2FB4tHsDGXGzfV8ae06WtgAFo4DZbpVpKilYVvJDErxtlKpiemnWVIjqtQ2kVfVt4VNboh+JYeobHwKgMpkwI7zlkCmRoc5UbwHbSiB6Tqjp1v-WpL0otgzhTtxCSZDdtcHOz0yaHOaPLXJgpAztBYC7TaIxxHaWtTUKMgox+2l1ntdA67W9qB2mpQdj2v7S9u4o3a0ONQMQENAJzRq9tkOo4cjqB3mxuIs8Y3hDviFQ67KzuchAoCBJY74hr2uyvZVO34BuZD2lEBCn3Vdqz1WlOFMzt+3c6rUhio+naIQ4M7uZpqXnaHDF2fi84q8ZdYiqpSdJttxCbdWDr6SLchWbO8MVZmw1mkRAe1cdVD2QrC6xE-07HKDsZ3nTvtj2tdUmo52fa4d1aYURbpZ2S9pJTnLGQKMpGfCC1nmVtbLrlR27TADuwwMrtrjq7xExXRbUM1N0i67tX2oPfDv9186UIhiUPSbi12Y8rIeuxFSo2+1m6T2AM4gGjrXj6J-B8G2Ci6q2nprz6slfaeHpdAHbDkmmGXSOojQF70dE6iHi1xV05LOtSE+SahJxWu1qu9STFX3vg0n1r6HnWCFRl9RJ6jEAun0QCi13Y9ddPuyddwFR1DQ89kVbqcR2yHVC6BlKfHRaTI6K8fN14UnFu3haqw92UsB9bP157JZuQmQK3U2snAH01VrqlUVTT9CZrjI6sEwPwGGiaQqWNAMjvzSf0SLch-NLCrL1CaQSMBlYb+d3ufjYC5BAgYmCkiWqT7iu4Ie-UPw1TE8bk1IXvShLH3kKU41Ks+qHsX38AIQeB+fiPwz2r6IeyFeg8P15QntaJX8WPWoyBAABOE4EAlUafCx9l2oQzxBEMbTjYAOD4OvsfmH9bRBeGoYAuxQuB6yP0x+YUGEN-D9AH3D7lZDQCGHdNv6O-gnG0OHCRgHwbuQSIkN-D4NsbYOMGJxFWH194Ta8kvNvoxBzD9h6Q+rW4A3AXe5hh9Z0EmXTKDkhaJ9S-oPWuD1dNB+CiEb+FhGkKTBxve3p5aCAJliRisueGN2TYa+qQaNdUCKgngyAT0HeAK27UCBWgjIVPh-GYAu98jS4kOEAboBFRFORwW1fxuxTqEyj3LELupB3gFVjcNQ8wxCG8g+R8jeyxFXITaM-wAmCIM-aMfZ6y7WgxwHuobRYgDg4NZAigVUn83hpVjj8pzdDJc2haoteG+8oce7oDgejhdRJP0YkiDHsimh2IKMfBDjHvITIcLa1uoFzHxj-kdY2vQiBsQ7NKwN4x8c+NQ8ykziZFhCe8jGHgoijSQ2hOzVqr3VTtave42prLHm9vE4A5kLI6tAzxpGxA01CSbTQxRme5vUSeIPrQsV-ey0ThPrx0baVUZIQIYEcgA4ij-APmb2mqNAhaj6fRo2IRaNtHdqHRqxJvX4qYnAuVJjvTSZH2kGgxTJ1bUpVB5pGcUGQ9GFkOGg0md66iEk7AYKYUmwKam8zt0DZDdAgRR8qkHJgHUWmywvgd8rsIHRzrxwS6ZNALUMCa7F+bgDUx92YH6AclAAHSwCebc1BOHYzIGCDmdk0LjEJhgjQj6Hr8tx4wDVHyP+nAzIZsM4FqHaRnyB0Z+nkuK2G8ATwtcHoFhFLOgAAAXt61AChmigEZpgAWZjMwGIm3AWs4mb0jJm+8pRyStAJOCoQA0bJ94Jyc3ABm8zzZz2K2YGZXcxGn+KyCwD2rKA9q6PSYB9zTB4AMz0aic4HPzPTmizs5qXntSXNblVzxPHs-5CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:teal">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYYVGwAAxSAAANAAsgAUR2LIXgM9iB4lJHrT+lpyDtlJKAKK6idCGRnujNg-AzI2H4LgVI0gUI6GUMTcUeJrFJHYN4NgWxIhgB0KQUgvA6BbBAJoHREo0BtFiMAaoChFGJX4OqDgsRGjAAAFZ0ESnQGesNgDKFsXQYAAA2dI2ARHiOkbIhgsRKADjxFrPEXgah1DejEeI+j3CGKYLTNgjRbAkHKXoVx75pDOS0Y4LxljKmUFaSjGg-BQBVOIDUqKegrRlIsVaNYaw0AFxmqDBphjEF9CXsnFelt0EZ0Mio1MhB1EELBE7IhTJFqNP4EwAQjh7bmLoNs5GMJ2R0Cvh7L2Rs-B8KoWAnmNyDH3JaY0N51dqrMCmXUS4gD+EMKbsPNZECmAnUhbsqWBzrYI2CidVQbhUgl0IcCnZAxIacF4LIKozhMXZgBerS5I91kqBFCpds2IuDUoYLS+e3D-7IL2agtOGC8WgCJjMUk7LznUC5VSmlkdqCksLuyyl1KHmyEMAKpB-t0HouWEcrkzK37sHVdIJgsF6WOn1bIXARyjrMOuRtIW3KLVHDFYjRe2ZbWGs3hkZlqLeYk32CODp1rzb7LXri8WhlGAHFzoolVM1oVgwTeGsWXRe7V0OaSeNYak1+EzSa51+bE3MDUIIYpudSCvITlIHh-tGWgJbs6lYvS5pEurXHRmWbvWOnrsW1tZKaWdqrSXOtHM+2NuzIPLow7R4qGKSkBUZaM1TuoUKg2bNe0lrJRs4MY7iU1t3dmrFN0xhzpRWHFQsLtnksdCgnFG9MGklhcmvIqa706ofUyF8b61R1FJEW4OC6ZqwuaSMiFP7f012AZGRhutnXh14PI8g6oEE-qTti6NL7xWkmSGhjDFywN5BUW63lSrCARrgwIvdhdZ6aEnZXGdA7H6IoQ8i0jFRIpMEY68uw07BXnp3YJ+jM121qD49IbQYmz0MrVmJ7jNBR3SaY9wOT-aaCLiU+CIN+soHcG5TLLdKc0Evm5cFOY+d9NjI4JwJgfJPZGC9SiBqJwZT1zUnWXV2ZQaGZOCIBYpJrN3T7E0LmURrnbXevEKAcBEDIHQP9LkLK8hQ2HFWo5ucBybqxYwTwEMMu-hhnDYOPkFhbQ5j5HYqMjbqwqxiTqJkKHl07lJbI3ymCewNvVhWfgcufF8sTS178d54IPg120CxiujYnB-CbrVsuEFyzVkbrDvDsPwfy8r03dg-na9Athi3MOYMG2t8OtL24noVo12bbcc49v9ed20tW2XUA5c4eVPK+XUdu3t2bMrOUrgo795bq3Xsjc2fwKbXwFipr1qqW5TTHlGxeerDi7lNjQ8g60jHkrAIva+G9tNBbu44zuwdtdijsihvLYS8dNbmPCAGytobtkRvft23D-b2IufiqJ8N0GGL-s89myLs7bOLsqEIyLYjO2Kd7dlxC4rhxUjcHIwqyjdL+u7DZ5j+i+qetd1efxjHevcvs9mH5aQAUjmhXCpFGKLs478E4KAZKvOSupBs63VDngIWlD8Px9MWE5YaFiOcspTBEelBMOtXzjpleavIJHig0fY9EGDzJ+dDwhLejD+92IvBKAphj9cjXRB4-QSkA1GlIwgiElV1llR4LK+ECEAbrHUguCpDNTlx81AS7cAJ5xFRqPnkOFeXHrv3eZj8dn3PqQ5GVuD8eySOPGFhN+ZUAS3+9fPDCAJwsPfUk5t95JAfo-d4dgXRdPmfPJZYz+XaO34KYUIrRRoM7UgjR7Ae5SmVx6mbD02diNwhhNyMypToFZ1ywT2Rl4zN25S6BsgWAvRsh2GYmb3V0kzPEYygK8U7wt071H0kHAPa1-F5WwikyQOgKIMG0DWdkBw+1lUNhBy1zB2ezZz9h31cGkBHCM2hnVzVTdU1TWHNwYKJhmyEONhEIVTm2Z3oKlwzD8hkO4DkI1Q9QkLZyQzJVm2p3J1rVgOPEL0hmL1-1J3LV3W0m30dDv0PAykgjsU3APSk0rWPSew3RsNmGRmwONlwIZw8M9S6B8EG0cKLCgnMgagCLFgoJHBlElT8I10fDcK7WH2LVCJ0PMlMNP0oOSI7UJQRjiK1G8JmGRhiI5mKJkl6EfwT02F8Kpzp3DVIL6FSMZzjmZxCLCPMgUj0waiIAezWBlCRAJAAD5ro2ZzBbNyCBirtDxuBvYhNbD9YL0FijYUCLIJjRhzJMCPxuBZjI5o41g-AZjDY5jxDFxFjm4BIJVQ5S11QXBS9T44ED5FD1pTCDCmU6jJAGpM0ZQDDAju1a11ZqjliRtl0LDPji1JU0C2ZJUdhCNc5tUHjutAgttXj8i2igjrDF9RIUSnj0TWpXlU1PiWju9VN3CgTOi+IfNQBaia8wSx4xtniOEdducyxLIXwT5CTyovlKEmVR8ScNtmATs2TFd6JOT05hSeSRo+Ty4BTOIdgL0MpQDnVZt+dY1Bt1oGpwUZQIM28FYZIGoQIzotp8S0TRS0RuBwVaT+izjDjDxTTTjBjDATTaSGjMt1dwVcTHhe8kTIZV8Yh18lx1QvQ-ADjs41gYDiDGC1SDsJcBduCa93lYRmBciBDSCkiCVQcqN8cl8e82dYy9CDsHt0jJc4Ca8Gou4ZQkjSya1ijtDcsZIHtWt3YGy6yd45Tr5dcu5jDjpq4u5dDC5ZtpTLS-tyzjwWyuyVxf5RyyEL5py8zNgki5yXif4OtddBtcTuiPRJBbNmD5txt5zTtEyKyUQpyutf5uSxzWyqFty1DrzjyRouFg5jDtysihFnpotakPp4tvoks-oCg0tg0+CBDOATN-Z3dNZ+CGAhyU1Uzy9gUjAnk5Ap8-BvTiCeCbV-0gkS8y89ZgMWiJ9ULel0KoM+ynV90i88KzVY8ILeCzNRUNct44gaKhYCLxMyNrkHlv5J9ekNd6LsKpM7VmLQBjVlM3puK29cBBK-1hLDVcA-BHUrkyUV8Bw19h8ZKsK5KzwRLFKA04LP0EL0zZDqAL9ZKiR05SQTLgMNpzKJLhczYGyu4LKn1cMSRezDIbLOKKgTLz8T0XLtLaMgEXKizhySBMRI5YYAz1Kgzh8tTkzq5FwdzbMAjoh6sEqUQaEjMPz9yIrKBGBmlA8ULjCxBegsrq5mJ0r7YKKrAGoKkzCV0YqNKa0ZRlTgK9IELqqfZvloyTcLL5ZerJJKDc8VLC5urbzp8ULuhyqdIFMLhuqfLv8ULiipqjYZqG05rKwgFFrDKKg-T+9Ayh8bshrvwjhoz3BgxmBMqtqmRc5NAtZOtKEs0DJvBYZHqfwNi9tmIEcUKnry4+rzqiDLrCrBdhs3qHqdB-r3Ys0AAeDEe6j6oG4-XYW3V-UkAAFU6iqhCDaUY3wAnS2jZDQzWB2E0QAGoJUl9SZYY9RoNeqRBKbbKKaqa58aa-FcAIVPr7gb9Ua7dMbsbcAGAopggZMCamcib-dyBSbDJQBKayTeh2a6boavRGbDJgo5bWbu8lbObuBuawqZorJeBbyGzpzSqa8mCVthZOp2QbrNhnY6AHiVbAbVbviyit1Vjpyvr3IZsrbmR2QFaZhE1IqtBmq4qT1JDu97pvk8I4MvardOJng1ZubA7JB7onbUIGaIwxh9bQTBJsjNwctY6GqISFQB9w645SjegX8nwzbDIwpaYUxrojZgCIIIin8yxoiUKZQ0q-ruiyxkZHaGYJqvaNdpqfT6IJrIDFraSaiURMpq4ctra7AcqmzVSyULzKFTbvlhrzaURLaBxl7bakzzIHanavbhqljbRsNPaGaWjfbD7-aR859g6CrQ7y7jqe1I76Jo7KFY7B076scFgKJ65PrhqE6yx06GZM7nqiDFxc6eitaZgsIi7NZJZS6w7P7XMywa6Vb39CBG7QhvYACi5rs85Z7mwnC3begu6jYe6UizxurV6KGfDq4h7qMR7eqx71qJ7AIp6pI1r7Yt856RGwSl6n6Uruk9YYs6lPoEsfpksMAOqRtqVU8o9mBM8O95NH1hVn0N8s9DJVG09yAykP0KgjH1GWBi9vAS4ls49tGaBGVN8uYGoLH08NHvzCRDlbxc0XhbKpAXg7wSDsd-0qx-HJAqwgnF9c1GJwn3xHwomfH-10E4n0FEmQmrLWZRhbKsnPBbRgnZhc0cp5F+BGhbLimZ42kvgCmZhc0a7wma6ywanehc0YQtY+N3A6BgM2mdAOntpHhmmpBc1ya4mpBuBOA-BGgNZxj3dKaqnBmyD-1EpRnJBxnJnpnQB3cUp5non-0aQ-BZg1nQApmxjNnQByRjnJAFnLKSRSRgAVmsgJnjmNn3cwAdmkmrKABSB5o5k5-EGZ0AT5y50Aa53NJMUZ35l52OqZ3ZqygAQlNAhaeb+YBYRcJBhY+dudhp+eRahfhskAxYyaxfxBWchdOfd1hsJGedhdudGJxfWfJdAHGIJdBf-VGJJYOd6DJf+bOfZZZZpbJDhYebOd6B5ckDhakHAtvDBFcYj0sZUS9oJHMg+XhTYD8DcZMY8eBVz1lbUfccQsZG63cDiTeFrSVceBVdKFOZiblfcdsqcar3-ElQ1Yz2izBF6k2hdeYBPidJfFzXsLWFsoDaPF4fzNzUgEIDUV-38YjajcJfzNtFacEF6dgEgHCZ6aYFTeuYTaGf-QzakTifzezZzZubJAADl+Ay2HmK2y2IGS2ZW+ovWFC3BOzerzXNhLXTn64ZL1XbXNXm2J4dXG2+3o9uSTd23ZhO2eWnH-x-AR3vXmTc9bNk8m3NHs9NBRULLk9WAmB9xpAA9Q64l+AhxHaNAUhn76Im3U95EgS7Gq9Q3ehGNN3TAZh17C5Tw2RMHgyLKDrXUjrgzSDET2A+B52DXeTTrU7JAm3uT46H3JAgPDBV3uLKBjXTXozIO529X+2x2BHi3ZgS7zCy7-2S5A16rJZNBMRLqQdiPWrCQP3jaP7v2piottWfy4svpEtfpMBlGRR1BIkzwE01ARoYRpA4VhTXKhgCaMYnxGVxOebNgk6EVL0QrZ4cF0J48mamAWadaIVZPVPeJ5PrdgqVQ5OJKgkYQwZUdUhtV1AtAr7YNIliACaRgstshg9iBiANntpKbuBHPY7SRNFgtNEyaNbKbHO8OywAuQMNBYZRrbMeUPFoNbPYZ13oyn2Evf9ugSIKr-Z2bNbSQyRNbzP7lGArPxCVX0v7Rf9UuNPDIhBSQJKMuFRzElpGMJPt1RhfOZM63gsL03IOcNkXw2vQBlYsA6JuBcn4Mxg2uRACZjPpvuuRA0XDJrMeush65huDIQt+uedePHAyAmBBPyoRO4U2uiYdgJuZcpb5dqNhvRubjJA6t7Z29DWcy6UZvigBJgtCvKamvXAHAloNuc8uvpZauxupVZbKbpzutflnvNcftcyZvNaCdNEWa-uWvVWpuQfTdFuNPwfehaQzIBJMCquIUjJiRbLGNe25ALCWvDOZgSdmIzvNimuyRYmTiXwgfpZs6QfZ30eAfPuSd2befzJgsAByFmxjfLiXsb+6ZLjmiFNrxr0nw7kcaQCFBNdX9r1Y+2dGTGeuTX+NnN3NEINgZm9oZmyKVyTOKoLsZm-g7wWke4EiBYVng3tXmF1KFUQ3og-n6QLSHYudmn3TtWH3nnsPoPxL1XhwKZvamgI9k94gM9s8LuTVGoSjAg9r2XdDJbYzUX0tgja71qWy+HxVOlYzODnG9kBP4MJP8gFIYotPxRKoVLzP+n74J742PPzY3NazItLrHrb2NvwP7lOP0AQ3y+V3BzaldPqoTP94lwq7ojXPqlavWMaI7i6chI8iAf2H-w7it7+eYzCh2V2fxgIWfjGUFVifr5KfpvyjVv4-0E8ozfmOrb2J-P5iLzGIZv8-tTEI+biBzP6pwQ87fKQDsAVZv8HIKTT-j-0owgCc8gfSAX-S2419T29fFPlJB24zBXeexZAeXEr6HI0BdfBvqnxn6-9MetBXgDSTra7FHwL3cDpQl7bACL+OeWkrUVMJD9j+dRZGL31srQ9B+GVVfuwKoYMlYMo-eem+xmi-57A8-RKliiwKr98+9cbvhzlwaWZ66juL-LsA4JUYUIf+B2EtTspM45BOXXgooOoH59kqSg4bOoKpT4NP8zuQ-jQF45M5fczqCOF2BGikBKAzSZgAYA4CGBjMQVGQV31X7+dPBE0CSgEL4y28XII0NvMEPkHzVDArgjom3zH5fpWAKkWGHrX064hhqf4IKsxGFKFDpIlFQuO4GyGh1hS1paobDAsr1wqh7ALQEYOaE5CN2v8doa0JCFAJuhDQiSv0I3Y7smGpQ2pOtSCoRw5QYw3ahUJmi-s8hR2GiGdUoJ+BFqxQvYlkJaG5CxhLlNYdNTH5OQW2FALLBoO6rhkCGpeM1FAiYAOI2A3gaQMeDfi8AVc4QsQY90X6HY2+1DWvH1CGF6l6hwwlwEwzOEHDJUyMf4edAIguh76iwQhkLBuF3CHhBBfYetRaI7A2gLwuodsM6EdYhhwjShu3RRifCLBa-AepVT2KYiQ+FwY-n4CpFY9j+LDOkqIPBGL0qUedOkpINuqogsRxmMfvNH0CxA+MqGf0hwEqbiE6AvYMUaU1Th0A1oyQnRh1yojGp8+0oxoLKP5BIhA+X-NWJKIi5csvO6gQUcKPsBmo1REoo0YtEojZBjUlfEtlIHNFCw5RQKUeHHAcD0xo8jom0X4EdGqB5RZgxUZ7RVGbFfRcorUcNh1EXA9RlfEYjy1YDmIPRIpIsDKMMChjNR+ou8LGPGICirRqEY1NelLSWihRuAGeNjGSBv4toFlEsYID7yEoFoS0HMUKMtYGM7gElasR4lzh1jBRWMesdrx3SNi1u6BIXG6P3b6BPRyY9UYYElSDoix+orMW9FLG1jGxPY40UHF7EFi9CnAPvELD1AKFiQAVfIcsMMSxp1hlZP4YCIBE4iWAwIv6jMLBHcjIRe4aEYeHz4LCxhx41EUI21E1iHALgNphpCGENl8RPowQJ+PKF3EyUakcxH+MEAaQ1IIEk8dNSCrdV-OuAJ+IGyQZPBjk6Es3iPwOBHAXMCEkQPnxQl7khckCWeC5mImbFf2LACGLBH3E9p4JoAD8eMK-HkSeK9A7zCNxVhyw9ix4tblBN-FMB-xUNRcN5jtGPBFwAkySZsCEmKARJsEqGl5mMCyS589cGSRhzHzTVaB2EoEIG35FaBvAPglwMuPAobD6BTzecRegNp5BEgbwOoHxhcCRCEELk5wH4An7MSJ+p4tzH1FEkGpxQh+GUPJJgnqQoank0CT8C8HUA-AWkziN5PvFgl-JV+VCThOwFYShxHOKKhRzkDUAuxi0TSEpICkN5A0xk0ABjQAASUiJgAAEFwA4AKRAACUMakAAAPJltkAhIdqqlTkCJBYhzkdsK8hClgSLK9AZgNkK4AuZoJa3XaNePswgC4hg0qab+N0mzSjgK4NyWiAkprTRg-U6KaKBGIKiaAlU6qXVIanNS2pHU7aXIDmlcAFpA05wENJ-GKALKs05cRNIcxOZ7UIUoggRkWnOAkkRY9wapWyF7T4hVpYaWxNHBHSqs9YmPKWJVaj5jxBNMYmSXsnTInJYMhBMjKCjvgOxigEaXByFphSsZj05aQTKhkooypDvBdkQHMQygAADFMWdhWgoo6KEYP4KL7lRyAhgGWBzNGx0y0ghIGmQLJHGa0uQ-Zf2CLLaCCzpAElVNKzMOxqdEQYwkWdnxu4sAiIMM5iNt3VZ7E1ZXMkaDzJ55ydbJvlXOEbCVnGgVArAcYBzOPB15+Z6si+DzLarC12Zm2Z2dzN5kyQf8sgZgFFCOBwokh5kbDIZmCEwkcacIRWbUI0EGzl+3suth3xUCkjI5zEI0QHKDmY9aRgdDOUwEDmeA4U1g6gWAKM4SDRGiebTP7PzlZyaZZsmgBwFNGdBus1GDQXeImEW1nUecgucHNKKmFw5ZIlmIXXwk51DxvgXYIPMAjIx1AI4DkTURZGcQdSl4jodeJjx90Rpc8+otXHcCx1g2qdBYGhOLCp0dg3crOYBK6EEjZgVgEiPSVZEKC9io4WEafMLnZz48c3Z+UXKAQlF0Rb0c6rBR6JciwSH8zPmP1om7iS8tKXEIsOVnjyfwI07UueJxHLzQ6Iw28WPI3kogsI-w5bsG1KLIwiAdNRSWFOxEryuhgIognFN6BwLKZL7eelQ37mUSfw1efMjYHJBsKoiiCjocguiqoL6s1C2YY8AhEXicFz4tYJHIIWc0iFGkUoZQsmSAigJ5C2iCRDoiLV4SOg7cdAuvArCMF88okVhEblIkVA88ahe3KEYzVWF7CwRdXGURpTwiwkd4eIK3FIlNFBQ7RTQskEQTC4EihUKJL4C9heAyEHydyJQlbc0J+k3CZsRsXhL0p4A3YCPL8XqtBQJElCoH38yUTeAxqTCVIBmxOKzU4CgqpHCgUZLElI01JRRKYhrRXxuSncRDAgWFLEQAS9Vr2HWGgALF5IMpZxKYiZLlYKjPYgErW7eKpFYkoBBkozFfBxJgoNSVIEGW+KvMto2RY8C8yTKFl9tHSYHyiVOIGuUgtFDTKxjtFsGjJXRu5T2VBF8UHMsxi4OoDTx6AdKOuUFUZR1yjBIstvHcphmTcB4QCR5WtxN6eBA5jQZODBVpCB9GU4ke2RuIYz+4FQ9yXZTTI8ke8eK+MwgHCpj5ryO5vkzaNPH0AuAaZMoWQN7Ctm4gbZ1GOuUaT6iDKUphIAnDMqUncAIpiKqZTMBFDXLcymKkIB7K1AMregCU9apLOzDkreUDeVKdEvz6ZSy5MhaPurztmbY28rK7FfbLtHZTjJeU5cfysClDwx+yeGmU9PpWUygqjY+GYIERlTyOZpzMksnmhUcypV48yGYtSJm9TemWq8mUispn1yto17TbIb1pXwqbVK1AcXqqLEGqyxAdR4CEvGKSp9VCHT+OKKnFj5QZm0g6XSugmEyWi84zVRzNeSJrfxI07NiPVnGgLxVnqw3mBPylaQEFm0PYFa0JC7QG4Bgr1TH1+l+EJVZTd0tXArVEBd5oi9YJsUjjWNmAhaj3sWoHGB8211GNIcCQj65rexhwolfZmNBUSgqoMYXipKHj4w8Y62SicuvBUzQ1A7Qfwf9Lyk7sPpvnfdVoxrymEPpc6+NZPMZV9QPMhID6Y5k5DOYr1HIhqE51tz1l41Jaidu5DelFj5QNvB6dQEBn1jW6swAIHtFOB-SgNhAEDYKMIplgmeJ6vwPOPfV4q8CJ6ktVvlvlz0xq26nwbIHZWryj1ry9FeiBCkygmVv4XMiSswWfCL1RS56R3lKLuYmgMoB9V9KdVMi31CgdDURsbE-rOIf6+sQBq8ocy4Ni0MDTMAg2ibrK4mxsQhozDMRYVWQDZmhvrIiyBxIgokTXisCeKZoMQkWe0FJnzwr1C63fJarM359DNlmk9bpJiHxrj1MGowQ5pPVOb9px4HdYRq-WHqlgPAF9WRpKieAL+J600idNqn1SmpLU9qeABkjhazpUWy6Z1PiZPh41KGjZu7BC0wbc83I0kCyC2V4a8gNmxEKRsVoEa0y-M3zfZitW2k+omW9lWFqqlMBGpIUAADJSJYtKIcLS1va3JblNHM9Lac3q1aqW1-sPLUBmnWNULCIoOJBXmQJ9jOu82tsQwzmyzaygBBeztlSW1zC8gqmGbdNFeTzbehKobbYVpAoYMcoa2xkBtoW1jBTtqVFbZdumg3b7lase7c7FUxPaygh2ugsdru10EJKVoTQFWiFieqjtMMlQQDp23mMtUOfdXODoDGOM3tUOs7eMhkyxB0hCO7kcXLi62YZtlAW2ftu+2DrZx5mqbQqCJ3XbKdtaNbpOsFGB98dtsvbdQCu3AlqdIRBWo2s9UBFqd6hFnQdpIIPc58dOxaCihk0EZ2AzNLnR71sqM6O8zM51JdoJ3UYvtZAaMiLtLVvKl0hHXeMoFZ10pVdNOkVXCWHEJixxSY6NRexwYFqPemJSeHrue2G6ABGuwXYcw2ZK6mdvKe3XQFZ2vIndru7vC7uZTi6LewUaXTH3KZ67ld7rFmQwGB3q4F8UMrDf6rhntijVd4UNfjzjCSdFtNumPgsTj0g6m12PMZe5EVW5TTJ-6mep9x5zl6TJJa7hl+OUVhYL0tEWYC7seji6reUuvPer1spA6q0MetUpwDeCBAwh1AoKkkR5QqQMM4+ihXPgaoUcUOXKGjpXTH7EDk+DZUMp4BJ29jiIg9ANWnvLFExM9GYO6U53VxHCJ4OCdXJB231gSGVetNYdMy0m4MBwsU+0VIAdyOCaAakM6hYk9wU0xuzegnhvowHFEneSc+YG6thhKrK9Im1RSoS2I76T9vqvNeCHF1gHSBWAsPb3rKZ+AsDmAygu6wagwgHMFTUpjKAACc5gZ2BQdXT-r7OdB1SJUxLUsBzEWMPwKeoLpZBJuaga9bouEhYQaABkBmVXQdEsHSm3AMXmL2ChoB5DUmwQ5ETLD0HMe-Bpkb0HoNsH1EmMfVUHCII0AUo4lABRXJYmSGGDcMnQ7XT8BkHdduUSpq6qOB-KAVAhbOLut32CiqxaB+sZ3sCBkgnDpTFww7FwOek+1Mu4PL8sCOgVyh8XOAVUGL2sAINg4BwLTEjiZcy16IPYDKBv6NA7+5AjPo8kYATdCAEG-LqYCd4yQsICyVI+ojaTLc80+k8hm7VUOkhkoKUfI1UHH4e8xkpRgAsszMBZLJAqhv7oWu1DMidNckLCF+p8F+C+MbAQIbSoENSBitzAYzY5tc0wbccGvS+cSKyDVG36v+UAPUcjhvVXI4hoY+YbJBtHPc8a4IPMaGLXHko6UcY-YoUgLzNgLRx4ylEN6tEG820L4-0Y5FaHlx4agNenr4bd1-mqdEY7brilX644N+42HsAf17Hn9pzS3HaPD2SrkTMBnKfXuXE2SmEuG5RgERCB0AoomMRI4EAdl9QsjhIHI3kbiNPTekxsKk0ECZrlGt80RFbSErgxYmNeRaIyRXob2EnRt2YGE-nvhMnD1cOJ3un8lRNvQNmluLmGVO61taOtbVSYiSftUNanV8CmGWNNuk8Afp+fWaR9NTiOqTTw2HaSuEdVGCbTupiymqd63XSzw5poWJaaY0WUI1Io4DqPmE3diONT676V6c5Vf6aZEm2ILSDg4BmCpussTd4EjMVG9MHRlQJ6rF4uTuAn+gADpYBdlkamY7gHaBLRW9xzdZvHnoiyGsEKRgqoYPMCpni9GZxaVmftG5n8zvpoWIWeLNGB6B+AQcEQVODMQ+zoAAAF6ztQAuZ+fB2dcC+Ciz-vJ-WWdHN8Ru8VZ0kPscYA9Q6IeAFbWSYpNPgMz05rs-OeRYc8rKRiYKO4GZrEBmaZvEwGLzBA2AGz6Zgs7Oe7MnmC+55wyJea3g3mneq59KEAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEYLPUcoMhRV2UUgl2R5dEWhTForID8zpplDIQDmehzEyH0V+Y6DjGFFwcQAoBrilEGJnnPV6bpXGGlpjYAA-O-f4fI5CMVUHCL4WiwQmBCdYIix0XRBLNngDh3hNwXFAoMRYhByCSmIB0UA7RyByXwMwNgpBhibWWqATyoADAhgpJ5NAHTTafTOvySKeh7pwkGHYP0jAOghx8dPfaO97EhmoGMkOyTQjhJIGNGInQlk2CImPdQAyZBDO-M9JsIz5njM7Js5ZhyTkLKSXTMIRE+mkD2Qc9JcybmHyTk-FooE9D6N7PFSK+NvlZGOBEvogIABUwKZAQvzKEO81VqBRUIFtQZkgeCDDRerHxoR-miQ8NC0FjznnosGC6E+QLHwejppQfALT8WEpOEcUAqzqLrI6PoumX5WXjU6FUOm1RQDyFkDiwo-zrllOZcSrFZL2waWhdSu51haUtIlccU4PL2WcqVcozVDUOj8p1YK4V5E6w6s7jiV5oyOWGqVbUAVmJ7U2CPvQbwfQ0UYtADK+80FHGiusHi+Vj4iXUn6R62VLYKVyDyVkRVKQVUGCDaBdVzK9WdG1SkWQlpyWAujdC-oFydXLFWHoQG4bQDFp8N64cjiTAFvNQ2lRkbc0xtrRCAVQq5AirNXTcVbzJWSlDU871M4k2xvbTqhNaqmUstKWy-V2qACQdMs0XHAWOw6WBl2NrppWvQe7q2+rrYWndoRR0EqpR6bd1hjVdtNSe0Iq6rWnMGDWiddqllOpvZiO8OM6DLHIHUvQLAM3KLYDOwEiLkWLG4ju8JUGUUPpSetFNQIYj5WFEhsJ4hXWMEqae0A2zGDMB8CwFMABVYgUVmGMWcNkiCzhDKGRUaBOFNgv3KL-QBupGN-n0dyYy9aqh7qtt+VUf5FTQX8crNCvQkGMjQfzP8wpxTmXSdfLJwE6G3X5nNhERcehWZOO4U7AGPJWYplCRDPTUgYjBhho+fdWhjNbykIYaIsQdQAcNIkAICwDNeecx8oudnYaSDRSiJztZMT-MGaCwLphbW+KglW-ZZhwmAis4Rr1+yMZ3gqZEOwjxnmesGdis1eLQUVJK5i-Z6sktfgYDOtNZTwklDkNlugeWk6GHmWMfkbrXwxEkKFmGegBt4caPohNERRuOYmzCHzPabCxf2aC0b4X9nIglgtqbSXcX+mKaQRwdg5S7cgu57I4GsNhAK5d4rgy0HUkG7QOyUQrtsZSCp55T2MONDe0VlgX8T17vO8QQYvzjgAD5QDHeIxaVhz3JsXfe48ONoBb3dsdX3IuvW7Bi20SN4gRP7P2O0X8w7FatDLWcMy6xGg7GuKSzN2zc6HM-IAzTpbSzVtpWZRtiLEtOfeGIO+sI-y4enctB4+712CM2Du6jlgP2gQOIBx9sXoRvuPdV9o9Xjxgfmr3Q4iHZgjgw8lwjmXSv0eY-vaEWoZIk62LGKNqLLnHaFZiPoBLH0sBZGKQAFQABJ4UkAAQXAOAPCAAlQPkAADyAA5ZAzL2tVHNvgewdTEd-cVsLpwgxqmgg9-MF3JPYZRa50s8JBXRsJjB5nAvoullEQK+oaNjeZHOHb6UXPL36CQ7NV+EPYfI-R7j4nlP3fyn2ArzDBvSOYRN+pyL0vPe5+y70ALrbkXm91qBGD-XQOzYB9AKPyQMfyMABk8Kp9AOnnpFIs+AeGATrIK+FIi6LxGJ46+WWyDz5V5r416z6Wj15dAOKf7V50xt5z4d7v6uRiY45nS97RpQFD6Ygj6h6X43534z515s4JgYH76TJrSy6sKLCLCygHBIaK6A7b5s6bYjx76r5ODHry6FCAhq6y7gj1oNr0FXZyZWZmJ668F+54DzgMDVJxRQBwCIDIDoB8A8BP4SgqDQSgwAiyjKASKe6yAKBKDDiRixDMgXLhLJx+AXJEQPDoimFKrwYKYopvhIg1rbTVjbb7SgjlCDDaG3J3LWFSC9iBhUTZgMblBmFCrWgKzpjBHPibhaHEA6FWH+bhhnigQhEbgIJ2F3LhLqHRogQXjgTxFDS+HJERBmgyjrzKgRF5G57ShCgJFJFKoBHRFMyNAsyEz4IkzZF0y5FRHYy4wgjRp4KIzdHUylHNELBzThH2FCYibziloXRJS5SgjLRULxD8GcFhBzSeJwjeE3ZKoTH+EWxjwxwzE5GRH4wpxBzXH+yrzlw9zeFCqJF+GwELB3znG9GXHRofElEvFlGaKOifGFB9H4w-R-FNHHHlFUEYLFHVGzHoJ7F5GaACR6C4KdGjFbjKg+EvGbE7qix7Q1qZzyLMg4k6GvGFBEYka8iUbUbUC0bJxwiMiqAwygBMbfEomJLdZFyIlokkCDBsJVws78yUAsCTQhSSALHCDc4pBfiIkililUASlSn8mSiMCULvp27iB0rb6BGsCLD6SlKSk+x8mi7ap9qiRyCqYcmaGUTXTSl4lbFCowwCRGnaGrC0ANEHHmqUQrFLTeCZwOnek6psKOlOnOo+xKCJEemVF9DSno4WpkxiyOhQQ2izKWmmAPrhLAw1rRGul9AIyzyZkNpEQta2panLbeDUnCAUZUY0bOB3jDzUFsnMaImfaO6qGzS9AeFEmGZwx0BkmcpfjMKsLqmZysyLIXHtabJER7rIm2klwiLql9mcKDlhlKoEmKC9kIxLmUIrkhyDnBZnS1EDHMzDEYl2IQn-7NAJKGZGGolayEz8ydBPG+EUkgk2kPmyzazRHrGmCDmFrbL3nPCPl8y6yvkvHcnHlRG3HByDk+LCmDzDyjzRy2yVygbcpzq8oGqOqdoirClhilzNwPHoX+phBfjzmolCJEX3ENF1z9C+FJYVk86U7UUrzGCpliTMonqUXPBsVlx0V+AHmMVLLCk5m+pomLmRAcVvqgYzBrT8XEicUyD7bsZ4X246oUUwWnFoU3Y7kCWtyVwMWQWfrY7XD-IkAVGdCgqQ7m4P47wZ4Irdl7SWWIx0gvkHQTLD4mbTJzyeXvnYbTlvF7quUCj6qDCbmSChXSgvkuj+VGjXo0xO646mTE76T9ihGbh-nTY6kRCwUdhkV4pCWgq3EGWMjZWqWJk+hIUjz5VCUBUpBtY7wnoPJUE0EGCpXIhFIZFXiKyKW0UWjoXrmNp0CdXpU9UMaZxPywXBmnr6XEUZzoW27qX+pTJBGliZVZHwkNrwY8jrUZWZGvjwjVjuhIYtEFFgSbUELxA3a7X-AXUTW5LHXvgdg3ZESP4O7qJFy1G-HjEvE+L-JlSgr-zXTMhJb-JRpNbJxjXdVxHL56BlRi4WUghuX6pQ2RXRXuUHCQ1i5aUaGollTDV0ywyuldDunMCxmlq5oDmzpWXjKHlQUUi1Hgl-U6FkG3TCZjDiVplYa8WzKxhyxdFYkbGzWhBvmM1qFREVGCWoLPFs0VaU41qgp83S0I6uGkly1i4VHOH5ESWq1yjPWZBPE1qDkNZrQ1oS1iC1EPVw3XU3ya0+La2G261pk21FGVjO37HE3AV6Bu1XWQTq3Yma3DUiWCrWDmwnmHaxHu123wVmpO07Qu0wT7WPUe2J1e2FB80p220B0SUa2+Eh0mVoRgBSGxRsByGcCKG8CdKdlxi3kwz-6skzpRAjiW2+yc3GlfROa-72ABmDCE0O3eUNiAwMwsAGmrKd3eiG47p+m915T92AIHKh02YKxj2GldBSnXmmbIJxkpjaTj1GnziWLP6Rmz1rFon-5GwSz4CDBSwz52mL0X3s04hX1omDD1YoEn1fRRnKAxkNH4CX3dmqw31NJHkUhPzc3J20D5mAORKQOxyw7QMWj1zfQpmuFvrP1JnxhGK+2+pmJoO+rH0SjwN5mDUYND3EI-hlCyVt3PGhjUA0i6A-1-2DW+GYPOAujL13j8XF7ohsMUM1wHBcNJyBzVSAEeB7G8OHSD2hBYFrR7pSOm2Qj-JhRKBj3IXk2ekWigqP7mxPxSNuGKg01En-57rO3GO+r8KZ49062Bk91TCyPyWSJNhSMoNMCgjKV2Ml4WCOPnxNplCuO0Mk00HMMU10WJ0WNdr91UhjD8NyPD2yg6AjCGOZATIzpZC6DJPWiTmzF7r6M90pNRM+pdoH4eAxM-0NWhBEQZNJPDCFMTIAA88UiTWT6gOTOquRxG8ycmgeGQQmxAaUFC7grcycKKsCnQREDEAA1DTE6e5t7rSnseY2YDM1-ECKADM6LfM7oIs7gyU5U-ckKl0z4ICL09QAQDIIxGqToMM+VaMzCZQBM+s5s3M1EAs-gEsxEys0CCmBs7M1sds2pB83swfLQwhosDrcpYU3HT+iI4kd0BkFtHE3THeKNTkPU6+m03JX4zwkSF88GbkfC4iltKLdYKIww97qE1oxXG+cGURM7ahjqMs6LeEjqNkwc+avS6lYhPUwfi6Oy5ruxqJTqdoahqozVVS7Gdi2S8c9C0CJRukKsg-qCJ9mEMxeav8lI6CjwwUyJeao1ty1I7Y2ifY0TTuka72a44K9+p9U4ziNoQixwoZkXbXYOmFZC+rYnZi3IDC-CnC8oI60i-9cttYKi9y+Y9615SelMu1ry7dXLYG3oLNeS4wzoJKw0bS6evS4nYywhMy-LuEqumy2096xy28Wi7kDOF8xGtQ1i9axjv8-GiK4kWK+cBK5o1K2RWLbK87bWYq6Usq08C2W6-UeDPW+qzqpqz3dq1JQY3q5peQYazY+YyayXma42ha5Y6u3-uO9jna-MA68S86zoRjJIT7NITUuwPIVwEoRgK6xEPDKKeKWMCqaLkolMtg1fKaSmI+4qZQCFEQ2IL+8+yNmPVkEKPEdKe+2tMdPGbxpTsB0qS++e6CoDMkiPRqGszYBqA2hwSkCPXqFh9YHqLh+uSPZWkR1TqsKR+hxHIeJR4eDR4UCPbi2s7i0qnh9sRHFxmGHCGszx7Ehx2RxHFWfMkR6JwVDqpx6ECPRtCMKwh4HQF-HJ2-suAwHTNJzYCPVM5RzYHoDDIMHCGbjDqyTM2lKAJp9YCPYZLp9YPp4Z8Z6AKycxuZ5Z2CnJrCoMCkPZ6AEZ9Dk56ABCr59YG5yPcALZy0gZ75456yWAK58J5EgAKQRc+d+d2WsmJfBcWcJfgpMq6epcxeoZGc5dyYACEJw+XUXaXJnoA5XzKxXtHkSDTKXVXhXTT1gDXzHEcDTRwtnBX-nrJPXHXoXEcUOLXDnA3oAMOw3JXgIUOvXXnoQ-X6XU3zK0Xs3pXEXAXoQdl1gpXNgDdySEIym0Qf7ypkZ5jxwSyG0W0GoBSp3IHUhx3CHD3SHk9lY1AHgVkbSTW13m0pp-n5Hr3-7CDsHJAnY67FawP53X0vcWAJ3T7b3+16NPII9LWazLWbn4ZMnEckAxA40dEfHXnePBPw8WP2PVnEcKnkgsAkARH1PtP5PFPsnWgb+eElH1PeETP2PI9SeqgSeEXfPSeZbTpz36YUPiPIPv5fYtjV3dMN3aJ-nOoAD93kvEpyPYvhgEvZ3YwKdRJcvhQCvdKdlsHhoqvOv0vgYcP5CMJI8iHUvr7Ap6pV8-+8pw2rKjAcgcIlLVkqgago10QQ8Sbp69vEpopJEDxkH4PkPoQFCLvFQYQX1Z0WaThHbDR-+wTbp0ZYTg1WGMC7VofyH39EbjbnBhflvBt1befbVpS+60PRf3oyIX3P3gwpL5fevlj3PZ6bb6jI8afyD8H4vqjOg1UZTwx2f1L1pKfEL-fFcEIVSKHMh5dHACh3AmArraYUQJklo0chgr4G0jAr8F1W90yng3gRyVDuDS4oE5yXxaSbox-Pmqzkg0zFhHmQLexx0j-lTqSYCtb1-46GfNpA2ijwViAkQWG810BRt92zgEyMdhYCzxNCBgAUqQFICOcGAMzcbKgNQyAgGIGWBiJM1+YzM4BXfJVLgO-jv8rGd4NmApCWaQCdATvShIwOfK0Cpgi6eJjiEBZ-NAQcmP5sAPmiyAwBL5BXnHxoHDxGBB8bgSYEBAz4xBI8ZaMrgoQn9Y2Sg0AsCB3iwZKSUxHkEoK2CbAt0dnXFjyyUFmAgghyF0CYNq6nBMs4IUAhf3Gzqkzc1gqzIWnCSb8IwFASQLv0rAH9X4qgnVERF1KUFYEmCEmLoO2AGCigrgLwuiTZiYkHBkwYJNegyy8CZmcg8YN4GVw6h5EJg75pEJsAMRX+ztDwgdFNKN8RidiSwS83NSFC-m6QhQfYIsFjkEhAEDZvkOsDghuI16WcrMGHhyZ6OjA+7vYGQoKDgkbxB9isB8D+CPycguTBRwio8hshjgmti0IPz1DMhSSRdC0UBYtC1BAAclf4UJuBBwrdPS3oG7MlBsg3oSPGjiMA9itwvzgIx9CxsngZ-HwDqAeGkCG0I9SSGs0BBicUwzCYUL9h0yiELE5yRdOElmEfCRwdwvlm6E+FDDaBGQxgCBlbxQ9hhn-BCIiP8Z6AcR6Qz4bQ197+9SAgfS0LmXhiRR2YK5E-ugjgTxEjMoBH4Q81CGcwi8kZCoVGCMwx9rACvYkVSFJGUAh4ylfmFSOpASCaRYwrQTYWeCMiviI9EQoyXcJ7RShRmH-s6UWC0MHh8oZkjDFFFkRqQNIhCrlWgQsiGRcMGUuLlYoXcc23FFdInRKExCORF5LkRaMFYncxRsgLoGwlBQK9tR8IXUfqPZgSi1RqlL8JRAZYQYKOoBPdF5mYAGivRo5DUkdD-519PRDeMcrfy0ERjbR1g+jjGPjHswMxlCdETmOrA4D+RAfIUeSMIYxjJhZQtOtWB5HudKxgo4URSMLGGilhe5NUVmJSCzl6xZYxUPd3THejMxTFFasKVVFujRUX4BUWs2KEqivCoY3CialnFrRWYTFJPhSCbKyiLR7DBYHOQtGgEdQcorQRJxXK1k6SDJTkWIF3GAdnAm-QykZgPETCS0Z4xqriI-GHMLxFmeVnWXpLOBbxj4pBuVWszkIl8GmFhF4FYQdBgwQjfcU8KGBwhqCRoiDAthkGf1TQcE-vMjmJzXQXxSEnUE+PKqSjaGT8DwHZm9xX80iWQb1iOFMb1iLq9ExxDPkomlJKWF1BGlRN0D-4dQ7EnGLxLYk8S02rhASd7n-wuhxJQkrCWIGklpthsBjZie4z-wHjiUykwJrJKAkul2qykk2ipL9RIS8mHdeSTRMfAsSD8mk5KovBiKMgzwqJP8Yo1nT9sugi4SQPUlKRZBGA+ibmBwiRKIThWLSfTOGElFdsVslOeScDRElE5JSurOGD-hLyVVyKa0SKc1iwrsp42JAFySlncmSQvJl4gySLyqaINFgexeSVC3kkJk1Ka44UkeMWCWilUX4PdH6FKn2C1RgwFqXsU4Zujx2K1ENslIbCbjTKtrPxp1JpG0MKC+fI0sGF44vk6AnqGabEgTB0BysHApMrG3mmVNwki0uEMtP4C-J0RsYvNlLGbG2UYck0mvl0B2lzSlca6IkCdNJZOlrpXQFaW4hsnLQsgfvMCLNMFgLT5AS0l6atJgELANpUsUAs9OkD7T1RR02uA9J3RnScMH07IBKWel6AIZK035M2KVQIyKCM4KWH7lRa3T8AYYIwP9xrLJx-8xM1fMTi3wUEjeqpUFlpIIAkzXShWIQrLmUEzIOZoBIKtKMZDeBPpKM-6btNoLmomWNuSHgjKplf4aZSuXwIDjunyyrsnYIJjpKNK0pfyvQMhqkXMmgBOI9tVxgDQikiSopHEphopIKYaT7GZtBsKlI1TpT9UoBTPgcGUn6yEpf+Q6WwWJxycgM5UsSSJIPxuzCptDZvJIB9l1MAMgwIOYbKQlasIM+ALUJ0AYhqCE5hIJOeiJ2RlBI5es5zKX0uRatw64wqQAZm8x5zsMzskbIoGLBayK42c6OfY3RFvifApc7YIePrH6ytpVOL-E4DDlaAgMLobzFjLpgugO5Q8woKHPDn2DB5j0ndDqFHkzyN29jdUYCFTnSRMJ1kikKmwDwo4GCDdA8Xuii4Iz2sYDTWKMGiisJicYOcbJBNoCDBtR2c7UTHJiyU5w5yZDMqCgnl9y6m98rQAKRvng4y5FPO5I-OtlrT26r+N+UWRwGrz05XxXmf2OTje5t5sshgq-MLJWkT5YgcaN6P-nQFv8hUg8RQWlkK8kM+s9wNDgOJ1IQwUUC+bhIQRkKyMXcmnO7McQ8iX8OeRvMAULyFTT89gWwITj9AkBGkzKAAAyOUmElzRAsENhKVhKABwJxAIsNLCL+Fq4QRfzIKgzMeANsnEB4jUXLQZ8T8BqIxBSy0TngykjxHSNZEjYOU+8+sTYIKT1iLFZo2RR0BWHf9aGp2DxhdVZxk5Y0Rs8Xk4pCG5I5FOjSRYEpkVDZ5FSWRsnYDGAxI5Ar8QiUsimQGYXxJ6cJIYskVcS-x4S+kS4pF4tE6pIvKEfWPexxL1Ar8U8W6LHlDBYlkgeJa-G6n1SpRkxIaSNKqq1KZA5ShJb4tYnbiJQwYagqUikAkw-xVs7xmahiVdL6lFSwzKBmFKpKGpdyBNJnLMn5IhUSy-VmtBboqUT0E7RtIDVNmCSFJxOOdiwvrZcoUpqGFrLNXCQJy70s1IiGUpmU9K-ZElDwFVJSC1BF0+yu5FMjnJmB42zyhpW1J8xmDgVsyzhi0pLIEA2muyh1O0uUQQqelRmVWaTUrlLAGGNIH5HpPUDnL-FWvVKaVGikWyvC4yv-Mzh1KRS6us6NZAujIqYVFmvc1-NxLNmiT3lAc1vkApsDWhzlCfVcXem1JBTi5IU60EtnDJ4AIUUqliuLyJXlTSV6IXlcHOSUpSTZNKm5eahWQTQPmzKoDMxIXnEq2VFUzlVukXTbpXGLVZ0qTTWV0TimfKgVfhR1KDKaCIy3IEqvJW1ofGkq6VZcobArzE5HQTCQ7j6kqrBpasl2TrPWVKrNJn1DeRKBIBMrJ5iwT1IsH4D4rY507eOQGs0Gfj-VacwNRnOti7Jk1BSdWKASkaNyRVzcqWIAtAC5Fw1GKg0ojA5wpq01hUytSln3TYonZDajWU2uxVZAu1BST1IbNADeqIUHavdMmrMCtym5XazuQmp1WTyB5cMp0gPPVg1KbAi6keJPK8yrruVKQLzBuoNUosl56IvNWvNobyl5oDiXpXfNhF28vZ967wCPCfkHZxeoYbIMTgcSgpPFTwExY+B8VM5n54vbdZAqtKgoH0YGyeT-O7ng4F59OWxFGE-U5BECXwnVCAsSlgLZ0TK9BapmsEwKC1cC5qm8V4peCH1vS3YnoBQ3frycWMrefYB3lCEwNeGgmUnHlIkEn1BCpCUQpJkkLG0P6uygcWvWIE71TC-Ba4zYXZ438nGuDecswWwhw+q4B4XiIfULQ5NBktmWjkIVEy+N-3JZHHJhwnoLpQyq6cLJfI3ZsFdCxoJnFg3MLCpWMhGRxu0S2a1NzeeTcNSNYcygmwFcjS+tU0vqWFWmkDASuKSWxhAVWewLqBQnPAcRgIMjQ8NVZfhwtJAa5Q7I2RfEaQYHMYCpoeFBbuZbxFLbkBImPEcRXmm3LQwHi99oiVkE0hOU5lzx6t99KSmmFq0iB9yfEhCE1qZn6VWt0Iccv2UkluhutAiELFIAlZ-o2t3oDra+L8RlARtmeKSpNuhAzaiJXWwbTPn0rLaRAA2xREhKaVUCJFOgUGF0BU31aDxVSzhFcM6B5K9xe27DZdsO08l1SLAUiedv23DaNt-SosLQCsjUAYg1G37f1vy025ZtajIeCPD61d0odFAdpmEDuXLslc6I1rf9tyC9agdO2wHcQCm2Twx5CWijfxRh19AidB5doU6XK2A4-c32PkKUj+H46X1azFHTEHn6-oJAf2gHdtth0g7KdYOibWzpNKc7J4PMkjXzKRlfSqIP04Pg2np13DJKwiNcPzva2C6DymmjmQWkSp2dHOk21HemSDCK7YdaM-XbjrJ3mtEdlOrsNToBFAgZdRPPWWztR0s6jtmhUMqrtB08bdNWgfjQ2kM0m7wgc2u8vjRy0UaGox28AX5tl2ClN1OqBjeQCY3FYrWmwi4jHrj3K4LVZq7LO1nV0pAKdys0UNTqBF07fNiWwYCHtBiO7vqC+Y7A5ICnAy+abMHGPAju0H5Zqw-UfizAn5SsiRfvAUWSKhamRSg3O5WR3Eawe7SZJLHVD7p1SwwQwRSZ4Ohj7D2TngotfvT6wMlR7faReYzo9IvHKAuVB6-8deOcAAYfUBUdktM1NUa7AQrY3vTWnBDQqPyyelBUIQtUBD7KA+wtDnrRx56ikcma-dWOUqF7A94e23X-vbFHoM8-yDaHqIE585QAAATiqCs7-0vHYLQYB8lJwYDwWkbMtF8Al75lJo3ykqE2XVTBVCaWnKcBEXSs7dyB2JHoD2F7CUwaAJg6q2DVrj+poQGA-YMMCfKwgmBignRHP64z84B+RjKADvrDShWHBiQCRFiRYGBDawQYFAYV00GjOV66JLEniQwRpQfWQfdpozUeNZc3+8FOoBiRxJxgCSQAxoFBjAG1mJhjQ+YYYniKi4lIhMcAcYIqZX03gdIDSDJ6hbQAlsUFP6KZItA9RLh6kblFkDuGik3AioHfspUtIQojAbw4TysHMp3YacxkOCDIqcHAQTGZjGEepD+GH1OGFTNYDyMiha1nBgkRRsthGgG2bBjjAmjBzjBoJ-WOCS+VqOgZ9gkBQnPMms1hCcJzR66J0aSkJpEjyR4eKkaBA0gMmwoKgzkbyPskwckodo2UkWNMYKjFZDjL8qkMqG5M6x5jA8KxAZkGABxmzvWz4NyzjNt0r3YvNBAUKti1R-zTPPn2BhF9eIlhRDl30EBHO5JLGTbo+OILdAyC1A8fJVlmVXW-FHIHQEYjn8YgKmCnOLwCPMogjgYgoyvjyhz7iApR1ZrEfRyatZ2maw5ACcthxwkFjGp-cVjBO415G1wtw68bsmaFSTxceXU5I30-H-O5JK9ThI8R9Gr5YOE-reoFO1rwk3R0TQKfRFin+T-8txlKf-nXy88b7M1Hjn6z-yYpbuAU+DUpyZAcFipqGhfnHyx548yecAElgNNR4jTU+e-KDn-mm5-OOp-o-QBpN+qkU6882GKdvXeJlTse-HB4mGxu5gN76rXg6agKgoL8V+W-KacxDhm8C1pxxdojtN2UQzLm50ziH+H3wMY6Jtw3sIWx6AD1AAHSwBCnLpLRyUvMmVyZ7fODnHzDugYNAhxjDDLklgCzMqaczS+PM9ysLPFnTNpZ-AOWacwlpCAr6A-AchCqDAAAXmb2sCFmwgU0roLHrLOoj2TBySczWYIx1nAQDZ2QPmG3Q3ApK0J2Ez4BzMlmFzfZpc1VwWGRIuIt8P4aQD+GBrDQewiEHgBbMUbjzPZ08-2YvPuc+QfwjwLefvN36NzIoIAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaO0hQAADFIAAA0ACyABRZogRCAp2UP8cEbMV7emoKicEoBHLYNUAXFOa1hDkFkngcgMgtCkGxikWWNJ-h0PUCIDgwhGhgNUJQSghBDCNBAGIAhtI0C5AUMAdwiRUGeXINyCoChfDAAAFaGE8oYFOU1gApAYYYYAAA2HQ2A8CQNgQgxaCh8CVn+JQPooB2AeC8E1eQShiEsFIQwG6whfAEEcJYvoYD1ykC0ngigPDsb-HcZ46oggbFcnsY5PoNQLE0JqLUWoaBK6-UGs40hf8t7Ux3nTPe6DX6MGDNUbBzhT7FOBMTFx5AGD+KZtQwwOTQ43GxE3e2PM+ZM24E-EBvcqlZLqeElpWdQAJWIG4mJQxAHT2AZLT2eN56pBEqMhM-0ta5wKZ9KyIkhrMC0MbSpVcXB7OIAAD0IIENwzg1mi1mXaEBSyqlx3oNxVEPwLlXOIDc9Owdx6hw2drYGu8dmgGMkUQubzyn0E+Zc65hgKkDJOSoN5Y14X1MCBjNWbdAygwYIEGQ+c8TIt+m8YGXzSAMEpHctEoICWVHzqSb6fc0WUoYJ0VWjsAVjPxYS-OOgvbpNjqkYw7RraoNpbLbeILtlzSsmK2s3jjm-QmUNNoSrJXgzCOrUOedwSKolczbg2rSWcUNd4-ZVBiDG2acHWIPKAEP0eQsllVSqgBJnB8a1xtHo6txS4MWpq3UouuV6g5NrraUDtZ9f1jrAwzzCCGjJqQbWaFxBarVsahJb3SJkP1ZqBqpBTh8K1hyo0Ft1WMt6+bE2gOWVMuxf9-7LU1sC3WXKIYF1scoLwKrOJqp7V4KV+qh3ghNZLZNnEh1uPwB45t99Bgz3rS8uWhBkHUG5Ovf5m9AVtq2XrMF4INAbq3UiqdHkMGUp+Yiv5OL42Boed3Qt5hU5iBjdy3dYyn7LpfiihyHLSDvv0EQONX71mpDzVkUDL6XAetLW+kDPCc2hzFjBi95gw2AeAzBqtCYbzobODHItI9NxfPJtW-d+SdxfKssUCuwqSPVAqOc8U+heIUYg-s46U0ZkjA4+EPa0rF58cGAJ55KLmMXIYESXm7GqALUbN0RkYsONMS3iJ7o4RSjgno6AZo3QJO-TStx-oCgcRsm6KSIWjZGpAjShZssvhmXkiCnZsCpSNT6VAFB-T1IjMioJRkIOEbjacdbTKjtM0fVRt2cF-tHk3jJ14Leug2Rgvhcfc6-YGXYNxGC7O+dpAMtC1ze9KedpaK5amDMYEdNj1sEcuQXwVNivMxq00MOS65l2mKxwRZRGwFs0as1JQUA4CIGQOgbqeJiPmHGjWa1+draVhQ5R9VI0xoTRoLxxGylSjUk+spZoRMBZ7edApW60lr6dN-h07mvM0hMzJtwFbHWVLSv7sfBuZN9stFPNS+g3ri6Xx+3vN7x3hOp0Ph-b727JZ-YWwud+HBP713h-KlodBVuQ8Gn7Ct53FSlCRxym5RsCdgoh86E7qRyUwsZgua9vy0uE5WMTgHdOPmM-hTe254Psfvc65kmp2TWfyXGbcSZbMtwi7qQ0kmTSXsQqvEMwrvgld6UVFTxUNP1Xiu8b9i7-2fiZqDhqo1ZbI0qw-fNV7AvcfXWmWL2rJOh3Lft9T6VqzndFHZz8b3lOPc6+lSekEZ671bT+6H9XSOOhaH0FennzOXtY9W-hAi+LHuB2aW+m31g7ercF6sFopBzL5xsnZByzlqS+BVuQc5XkfKx+tQxmW0eE8OG4LnoSA54bHQUOUixDBpfIkmELO+odo+YuoAPmgQ+R+d8EEBpNywKL6l77TxQhB8DlGH8UjvdAx9QRiO+H5GRirN-jxgkZo-0+a8KBcrQIgxrY4PPQX1yuCIYPl5IMgzTb+f5oS553734NBXqv7yBWwqwH4DbCR7oMpZwjxnikzXLn5F61Z7KByA4qwVqoFsDzTK7NBjgahhhr7RiGhmTBAH5WS2T2RORwZVKUC+AkCN6CDrpsC+A1Q5iDYyyZ6jTZ76BfKGAF4LQtouAAa56CGXJLBE4+bvRyTNBYSX6kzwYziIZCH56p756AF1alpZ4MTNJYaSEaEiFCoywk6c7OBwrfLJ786ralbwGUBtaCHbakzkropXKYq1Ap5vboGxB+5nhLbuHso0qIwiHGSmSuH6DBEYqco+EC4BYeQk6m5+oiFCwb5jQKDpp66aohZzQTDj7gaBjEGhjkhkF-TCj6DC6lrerlrQGmqiHTBBTKEJ4Hg1GhYU75H55vYBTPjkENhA4CCqH7JzRIG1iMgQotHDG1FW6dphCcA9ErgZGYGjzTGfRjEPiFFwFjJrGjGBxMSFDlHH5NGhzJHm4G46FYYzG2oFoLEJErhsSDaNgOCWy1CMhPCAgAB8chmQJwjG5gfBDALxZOGo+g-MPymW0qUGYJTMMh4uUGK4ihG4+gwJiKistQ3AgJqJCsoJN44JEwCIZE4K0sVShg3IjAO+tcX8Zcee6RlRh05xWaUcWxqK7wAg2qjIpuluNxiMBxRR2caaTBORRqBaEKpQCJsYaw661sGM5JPM-AaO38QOrRnq3JnR0aF4OhRQZJQg8pVJ6ODUAkkuwpFxoBaEVxHR1uBasBOYfRWxW8X2oOGOBBV4CkdMjp1Jw892z6n+uuKOkycOfOCOBEbpO4-pipV83pHsOhzQUGAUPBVSruTuge9hUEjY4SjIM6IyvJ5IjY3YeonJcplJEZDczS4SQEsQzxjMIJtQdmuhM4j22J6Jgw+ZK+cYYyLR4SIBfoj+MpL+lYb+UBYIrZ3ATZGowhWhZhiZAOAemOb2DhYyaqKxyB+ggBLRZySeqWGuZpMQvhiR82AO+O9RKZimgxVYDEjILRR5M4d2ksIhTElsN23Mv815T53c9EyB95rmoc+xCZKKJO4ZgZEeXa85UEj53pGx+ggFTp5UUZYRK4LR0FnpsUt5W0Ih3Zu59xOoMQ-xLgFhgxCcJZzpaRYFIJb5kFHpBp2UcFd5CFURlFSpjAqFtuWhGFWheMdUxSI2jirUE2HU02lgc22cThtY+g5ykJDe4k7IbW+5okxp0uP+TS3AXZWhC5CY+qIi2+u+bM46Ohilf+ylc6PQixZskmm+WRO+z+I+kJQKB6YIMgVkmlllwMOleW3+Q8Cuf+CekJfKjKDloAJKGGDBJyau3laleK9K-K-lLmplv04BA5kBvqMgPlkVfl3AgqslEudwy5olbwT+rc35vK9WOVxqrJ+VeWg0JVUFDENlVGsqYZDEuyFMGxCWmGzVWBeVFagckJT83VU5-5jgXwiKU0-Zg5vqoFhV+G7sJluFTUbRM4cgz2E17ZTqgwM15hg1+Axgbi6ui1JMJFhQk1gYWEe1XA7FRGjYVikygpuIK2Y1UajIcZQlWVUuFAZ2dsd0E52ekJCMH1eoH5tYK+sVnEp1b5-+b1dYEQh1K19yIwp1blENGx4NTMzw0N-Jf4CeEN-Vv0vZz+d1iVBOf1X1nQE5LA6w11Au4VaI1sYgViRgRN4QUlHAU0dNp4cJshWEaqp19NzcxNeomhZN212uwezNtNqgPN9sOqAAPMCDTazSTX4SUCXmXuCAACq3QS50CeJvq8C2pNjsHUC1DNC4IADU4KZpR0J0Qo6u3pOqZt46BcoAZtWphQltU01t1V-NitsQpkpeVBatGtMgxAjkS+YgutUajUNIBtRtjtztFtThVtMgNtDNTtBcVkqdLtsQbtAiSdntEwmVeU5Fd2f1JF5IG1lYIMt02Iy10wMsOpLORNH5YGfoZW+att3tbOqeldRAq5O5WOycW1J0o1BN0BvhmdzQ3pWMQaDNmdMQswk8bNHdwe9dFW-4DNNodoi9FZGYSxlRK2WMV1mR2R+N7+UajRDQlBm43pNBdAN05QPmTMXB2odpxxDQjYp1jIwx3NixsYbm5JmNTMYNADJM2hfdDigDAh8N29rEZRR1eF2O3d1dWFz14Ff1kF1955bApdSIiZCD6ISDqZK4dd-9ttTd59-o8B0J7dOhxOeDVdvd9+EqQ1Q9J9Q5ghAuS9PtNezcU9k81DmupQ8EYsbNH5nDxeK9RE69GNW9fJ5E5t-Ye92OB9UMN1w9p9Ks5DD+ftV9JdBctkd9IgD9JMrB15T9T4kYL4EK79ENn981w+EN7Dq2sjFDYyK9oNttwDfIbFX+iNkDWN0DhxsDMN8DFd+DjjQqnFJy3FLU427UU2XUGAz1feM+g+Uu++o+eGEWeS9V9li+4IVyKTc+7WQVPA-eqTDAM+yCsxP2GTAaXWq9MBQqhUZTRTe+UTjIec6Y+qcwDtsQcwq4oDDQ+qHIvTMQHIAzGF+qGEozPAG4EzXT9WoMMzoM8z0w+qNabADtGzzogzRQ+q3EhgyCzWDtBzRzniiouzhQ+ql9ozl9sYlzsQ+qNwViHKLAhg46zzqgrzjUKwDzMQ+qJtMzsQYl3AvgjN3xDeZt5zfz9ZEInkQLMQILoAYLXxoADePk0Lkz9WcI3ADQSLKLAIELoAkIyLMQML+qwACLBg5yoL4LaLoAYAmLCzO44IAApFS-i3Sw3qy6S6AOS-VuJEC5y6i5JVKGC1iyywAISShCs0vItcugDStAjivMtgjghS0ctysEtEsy0xAqtrP1ZS0AgIvCuEv0tGt6v8ssufGau0siugDfGWsStqufHGu4uFCmtEuutOuqsQiStUv0uFBmsxCSuxDiXpgFRnkFOz7UDz7FJg2AgrhtKibcDRvlPDaRtsmlOFOxtpMhX4AsAKImDRqJsrDJvIiotTMtO5sO1Pyj6amxhputMZt-HNM5tD41x1l5z6olHCAO29swtgP-P1aQB0BYJMG9Ojvjv6tDsGssufMMCwCQCjMLtLuDtDtPNUBfNwIzMLtwLrtgP6oABy5AR7VLJ7R7YjekmbVITbub2BwOXqRNpb0w5bqLYsyVqb1bHbBF1uN7Agd7P7bJhF2eL7DQb7ZrdbF42bMbQHj7K+s1U+gHebBY1BodHakJU+1QQJMopAHBQ9Ci5A1YZJx0mgDDV4yHFTWRHAxsNTDgB7DQb6GHRwRQf5v004WIajbDkJuNFKEB6jYIgBJ6Mp7G37KHsUpD8joBlH-c7d3jjH0pIgon7b4n5UBbRbpgE5s9a4YnD7zANs318nRQh9qjrDYWeMl1UMYgXwZNjO-HQ5nJ8YhAXHvqaYQ2XFDiMTbUk2nUmAz1eVFApgDA4qHw5UNwpAw6-ptVaQut60m4vV0OJE6B892WDTUXY+9tDApth2PGOd6uCXS8fwnsiJ9TN46XJTIiNw6qDSWg2KuXzdE+Yy0iygutGQS2RgXeygygdLjUZt+gzXWM4IuCOmuCxt6dZtzXDHfoQ3E69XeW3yXCNtCdU0Xey+q3YgXhi3zw0EcDOXJ0qd4IEIqdlXdSxgNX3hybTHC3TB63BR9t1g4IJT13uI1C5mb60X0J73K4OmUGukJk0qec73oAKMWAqEVRkG5WN473gmO0pX7s0Pir6k9GyXBgYsQPUlumf3shAX0iM4IXsU4Xw6X3fozQ4PHKBt4eaWQPIPRJMQp2Kh8bTOW50PtgZEOmR3Ztz3TAZA5maPy+-XQGnsGdtPuC2XEFj24JB+BYHhCKtyCPcdsYovqdXPr3omDTkhLP4QJtoPkKD3OvMQih8QTBuUoIDtb6X7kgQpr3kwJX8MyJxP4uz3EI0zmJdMfPMMG9WQ0PFvi33PpAgkoPuu2dAvMM33BcAA5Nl2+gd5H4H3t+7bne9090b7iOKqQOrmnyi1BK3VkCTGtBtGLJn1NyrvVkIH21ZMEA7eCA5DpAbG4MWFX31u1jb9BKUE74X7WOn5oTeEXz71bzz+gYb5b-l5PL3xjWP1z0X5lYR8R8oKRzeQxJih4DelIYQNF6Hpuj9uRmH-qhv5Tw7YnjYVueRkZ4UMmzP+sHP9QJoBsUv6gm4Ld6v8VysLrpL9v53fqvRiamgxL0tZcjby-xaCXJMqmfW2HXnOR38V+5GOkgYDxwU8t+--Rou-XjaT0gQK4cXt0gFiH9Ze6ccjAE1ZK3t5A9-YwMDFzzxQNA+gUARzHAGQCH+odZpHgL5JBQMEqA9SNMzD5YRVMRAm9DrG7y9In0onZfvX1IHL5n+-3FgX9UG5LMOB3A4QdhkMAlcJBPDDHhfxI7X8F+yBLHr7lmYHgpeEnEuoATziqCr+N-LAlciEHNJ3eDAxAWII+wnUUBujcwcQN4GiDeiFjRhPSUgx-81+jRIKJ-wdoYCnsAsRgWURfqGhmiwA2BiSRRRMESAT-KmtKiUL-8w+Ysd-v90vqr8b6dBavEzw8ixDimRGVlDgStLQDs+8BJIWvzD43g0hH2DIbRj0aV56CQAo-olnoD5V3m2NC2PX20jlRKA+ANxJMgGAVA1q--BIfkPiEY8LQDfEpkMNJxaRYoIyUobtzFidUShiAzKoOmYwnRqqhXJcJg3PAJCsI-pAGoxEKFVIWAWwkav6X0AXCRAJ0HqpPFuHcQpoeWJ4UPV-hvCXhYw92J8JhglNfhFTRgNzWOHgMQGCQtsJ4BBHw0SmvHHYTDj2GBxuA8NQ4ciU2F3DeMII7qkiKxqZVNI+nGgEtnqGnVRyt9ZyqRgYDMJhAHAUgAtFZSEAY8ow1+hUVgGpARMeAlkq8DPK-DMylwjbth2-qXJsRKNZxsExsS8isYvbGhtKAMbAxF4FIsvtSMyGgi+QMZVFPSJuG8jIKvwx8KxDtIZEKhR+CFEFCwi5B1RqQxAdwFNHq5qhNg5xkcSNGnFIhWYIJujStFP9MqR0MzOTxIDP4KgKcXwN4UMBsg-RzWHWIYGsxlD1sVDElGHxDEBjgY4Yp4CV04F8MSUp-YFj1ycJejhOvoyMKGLq5eiiIaY7TjuTjFhjSQFVHAnh36BD4yxGMYMXmPjFDQIxu3DZkYBjGd06xzYpMYAJTEjAgxxfRFnS2qDUJ7otYxsd4S7GJjBxfoD4ma09HEwEI7YgbNEPY5ZjFxMgFOLNAoHIgTUkJTcVQCfymZiYM0QIIuPLaL586ZwlFAeK4TWxjx5mBcYJASFtinxKPCUv9xHFkAxxAZCcYMAhRBp1xgkU-nOO+K3ijxT408YWPmRnjBIK6f8ucifzAwhQD7UEF1US7IQuIVAIUWCLTJcjxRQIAEfyIcZQicRu3bkVJUlGd1YRII0hF2nhrJjDxZARgM834gAiPhvIzQnRJwmnDVxnEXiNQhYmhRxavEbgNxOVH7ibGGPGQEmFqC4Iw+6CWSX2xK4apOg8mLtHRPCBh8P6OFQAQvFTjqStJ1ExCX2RQmUg0J0BUSVhPolY1beqQLCBxmB6ow7eugzSRwKYlJAGArE8WjeA4zpi-QN4TSf5OdACTmJXk4SWrz8kliCIYsIKdFLQhQMSuikvYHJI9EnQOAfQxuEBLEo-VkScrUCT8TYCdDEsfQXtBykYBTCeh6cSqaiG4CgCrJoA5EXhKzbeSGUNIfAoyFCmeTvJlAzvriCsk1TnA3AeKWhEalkTRRrUvAulHUgySUpykzuh+I+zDVrOkgaitlMmln58CxU8wClkmRSZzkhkl8aKmW7TRVMCmIVBlNACq0AAEnAgYAABBcAOADgQAAlVWpAAADyR7ZAECCeqzUg6fEL5oNOVJdS6APEyErtMBEsZ1JgklHiZn2m8DuhqIZpKDMH7iBJAHKTIHMOLANQSmJmToAuGBnvAPikYhMDdLumPTnpb0z6d9LxkYyEZpApGYaVRkJCTMkE-aTJnLByZUZdfeYc4BURATW87qZjNjKqnEzQZ4MhIU+OHxbjk2n+OibrS+Jak1AJgLwOVNFnrwFZlkWZneKSDgz-JAMtQBrOZkeSwZEki6ZIHyyo5cgDgahIyAAAMfxGWDUEchBZUce-YeNQEGCwwCsNsqsYyCb6A5bZ2gM2niHUyhxA5fs6hCUzVQuzSM8I0mCCMDkezYoXs3KboMx6ptkSyc+AanOECe84RSXTKoEHBLxzxQqQaoOln6w2YzyOc09J7LNA+Zg6bswYbnPKhezkoZdRgoEEmRNY2Aw6JYSsA0wGToBYpF6mkGbnXD6hdcsPA3I7q64DRY8rCFmN7mdBh05onwcFMKAryGAfc4dDaJ8Hzzmh8ZUUTvL3lVzeJz1CoD6NCA8w0s9Q0iSjSFgywz5a8wQuQwyJsjDRwEPeu0DUkgjNiTIoeaHBErEARRtpdwRyKNBcieR6IvkUCIcZnVoRlxUOCwAlHgRxws9UoDJKjCz1mgr8-uRqLgVaidRzo6CPaN-rlDkSdYKUQQvXmTxNiQmOhQ0wfCqicFxgO0S6Ma74Ye5u8t+eRkyq8cKmo0bfDcj+CFzMJp4SWc1KpAUSxRxC4ic9kfkgMmIA4bkUqyDDqh5QLJIKA4GtrhTAZRC54Rtw4lwLNCI02IFIokksdQhkCz+QZNPBH4dyeASEK4pXDpkCJ8i4xYCPsZKLOg4M5xkFHUUeYtFdQWMKUD0VJ0DF-EY4RYvYmjxtRKEaCKhAYmSkgBSEiRQiP8XWLbFlEAcNfJlKpB04Vi5RYAoZZgBXFkIFcEFGSmsJHuuSyxsAo7ImSlOmI7JcgsCZ8SPIkS3ED1MIB7hfwTU3bh-WklKStBStWpXJJUl-ysg-S1NqSG0kQ07JpGdjCSik7aChFKE0RYinEVzKeAgy2yXpNZEGTCA1mMPpspEVbUdljwU5amzZDIjylxLNxUcvqTIl+lyMZyfZLeULLO6PS6JT5PdjvKt5DQXyaSGBVFA-lPU1TMWNnYrBVMYKixSsESmADJlfbTKlPjqRN8L5dUvqa8t1lmyxpT8mRQIGTj9BGATfAOdbAgYYSOAFctLE32gZVl9FU0iYquEhURT6pps8FdAsGopZbkpK3Ugyu5UNBCVKi3bn8pZWjK5p4y-woVJUmuFgufUi+aFQFXkqMsW85aRlLWmwSUSdAZlZtNnh4xLp5MhgC9OsgAAZOBD9MKlOz3UkgI2U3xRlcqJJCQyGftJhnMS4Z9MmUOch1iOqPVSQNGfjKxn+q8swahcKGoSEmqzVlq8AHTJnAMyW5Tq-FZCWlk5j-xV4NmdlI5myYiUPMkaeCCb4CzYJ8IfyVmp1WZyC4Rap8fCG2kuAp8-qiWS6tJmBhpZt4uWVeApVmstSGKludip1mCT9Zn+Q2V80bXOqoGaU6jpMkz69SyA-U8dYjTfFSygJMsqgB2trpSTviEKNNYp2Bh1jyOq4b0IzL5nKlOV+KodQRAKkNrgszSM9YOvNlsV3GQEutcbkCJaBFVc62denx4kPjTyWbVoBW3sySBxYzBUmGP3BDKEP16fMxmIVAAAaHA6CzzLUDD6Iop1UGjPn1J-VviSu8GtLKsOjRfrxWyo39eiuEDAxA5wQY2dVKZn0BouWKomUZPFyzD6NNGw-CV1mFEz+urGvLBxtY1caT1h+IWB8GCCDDWNPi91QxqYhRQ2Ax6nGUDkZAmrKZr096V9LjXkhFNT05TTTOtVYQiZ3AAqXdFk1iy2y6NcEBiHqXA1fYZGvtQyqE19DAgLc8TT6ovmMqzyhmpNQptummqLVVqpiNGp806bs5wWfTXS3c2OroGNS8zbiNTRZEhSbwBRPvg0JHSYu+aDQiU2GLxbzYq-BrrBo3lA1ZqWGTLSiGsHIZvhdoNLdeJTRH0hSBzBLScmy0fdysFWyzeYGGK1astSWltVlhGHIYSmWGdrcVoa1lasgzW2ajUDEDWpgYM6zrcsIYXSF5uWKTfvHhm2ii8tPGoDAoDWGlautGNUbbNXi34BK5RWzTlhufXJbVGx29eJdvZraCn1sEkrgdsrmFb6AdWzTtERe3mx5iLtSDTOoy0faUQ72ugK9o1IoQh2d2szKAiKgQgy+VfH7X1IdqPbD8tqlFLVsO1pYBtJ24jUup22DRVGGOzWSkGB03alai0oXFWJ-Erx-R3hT-HDs-VtbCdWW-HfMSx3PrQdRQAqajqe0-JE4DOwbUzu0K08Epi659V7Ch1mbSAsOhVZnxOaE60dbnZ2cQAm3x5gCLO2CampXXtqKBw6zdfr37AQ9UtUupVeNsm3oaQ+X22Fa7XSmrSspOqqBqz1kKarrdD4zxqz1gixl3obOpEMLrV3fQxdNfSXYtnfXS7uAxurQPLsTK+qWuy2xkbtxaLfJuIW6UmCf3WUERD61nAtp8ns7mc2OnEYwfPwooEzTtauycG5g12yytdfoEZZ8WMgXITA-AUmHiITiHx482nbkJkB4nCqDAlYJEeC2ikZDu9KesBhXmyEuBeI55GhN5Fjqg9klkKPPeoJaq2DO6juzKc7tSWe4oMRncHcTFF38AIQc+0wQxAD1vrp18O7gPvo0HnhW2Z5G4BANOb+jGQAAThOAyw79zWZ3Tlpf08R-RD4iptQhmgh6P5nglLR9G-nP07FlRFwFJXtmaNYgr+9XOH3D5WQ0AyBmDYcTCGxg4DavD4KQumBwGf92CDaNLIliaEXAPkQKg8S4XBRDm3+6WQQavrcAb9A8L-c1hfWdAmsLWJgM4RxIiai9EOhIVvoUC+7d9DWdg61lrBH648J+udWb0azNYxDpw2ak4JvSm7qgRUE8GQBuiIomCf6qkK0EZBUDa8zACAUobcDyYAkDeugEVAO5HBa1qiyookk0PYJPEGig1ClJVjwgWSmB8EN5B8gmHGomfP6JYf4AxAfD-kQfTEEwOT8lVrQY4KACOIsQBwRMpgP0PWgcoyN3hGI+Q2Y0FZKNnG3jQJtCqZHnGA4Bw4PSYKI8JIiKZmibCgURHmD6ubwz4Z8hEzBA6R0QE0e8hhH4jDS-orgfqNwsOjcGvqYtHaklsOjnR-AXUeoNv7IJ26ldeuqvBV7Z6URz9fFMb0qxm9YGjvV3p72otC8W82nen0oEmordK+yCVBh7jxkulrWuxkIEMCOQNoqh-gDoYEB6GgQBhmgX4bMPGAqiQRgQPbRsM6j36djEZfU0OMZ8TjU0LVTbrMxgl3oNpbhcdRT4qHgOGxpbK0CREgmIa+mgfclT2PwS1xImqjYwGw4SbuNMAsnvtLYwMbyGSmPwIyBzVcyiUkm9xWeRa6l4o0xJh8WBz0jlrYT3QXmXJroDFqzMqB2IFDoFMFwiZIp4mLpUbb29WNIW1FuyZLlqExNb46BhQu4Itb2Y9myZIHNJPObbNxKgdcxMZBJYzwW5BlXYZZFQyLkbGVGbSbPLKYgQjJ3ENzNNmTGCBJKxIKqcc1PieTBEPkyeMlOFrgsMphQGKbXC77Qz1awWafywhN8lTZrFU5ycDkam3BlEKCOcAih+HTd4fGqfoFhUAAdLAPRt3XJHh8wQczBvuRa0sx8aERA-vA0NbUCheZmdQWaRlFnZ2pZ8szfMrMyBqz8mXQbwBPCaEegWEUc6AAABe0HUAKWaKDpqBzQ5gfT0FnMNm9ITZ8EKUeMA1RUI+MW4+8AeObgCzFZvoVWf974tXeLLMhFZBYBV9lAVfPtpMHD5pg8A7ZpVaef7PnnBzl5rVtebVa3nu0D5p87Wq3P+QgAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDUAhlDJNJFWCQ+Sd0FCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxxbXuNFZRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2Hosci1qI2CvzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV9bnhCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBZpmhRVa0JvzTohLik3puXWjQHjpN82LPJtl7yJOqdltrVh1bNPeK40nCZ2Lg40eE2Wj1XqB4sCHiPczdddEzDWve6ij6OjPpffITNNmc3dGXvii9znUOFC-DphtJcV6gz7XXfoxTvPWDTb58i77y3+hreRlexhGPkSODTeFkWyPReC7syeCWDlJaKNmiIJ7oIleEZEXLWTS0Dq-Nl5rlosnVdCCljNaX2trTM7i22-bB0sbKz3SulXjOlNqH1z0FaSBLM6LWvQZgjgAD5QB4aqObBjK3tkNQOAdEOInuEzznmdxToRcM71KYRlYPgjsChO4MQ7IJjtyZdDdo0ABIUIMGzp0FMsQZEhB+ztJhKC2smJ-MRCcyhML1gK3x1rdiqbsOU3hcu0oezw9R7RzG3XAd93SgDqIjA2UgswcQ6h8Mxo47SvN3LtfA+dHB2g5yPToZV5FZP3M5O+drnS6s4Jc59dPmBso83a0hn-OpWHvlUknk8u+e1Iyf+W7mqIggQvOBWZqzW2q-+PrsC0PXzwmrO6YX1giJ7cxLUMkpnNl3yE7oitZVa3-xhT-TEFaT7qAYAV7n4P9IK9qZnMqOPUeZdAK96UnQQ-v1LntRPdI5NB4zbH5RxW9BlU52s9tNOu3KB7Su-5kVg+DAzyd5DCmTNFwmSyvZxSLu3VUPdLdsY8vjflfn6GAmCFgrt22g5Drm+bKWXF1lVmA-x6ybW-PM+LR97VYlzESytd99X3Ka3741VZMs7nr8PXgcUgmebjXRu28HLDdvg-mSGt6GvzMysT--xF+U5J54b-DdDgv4b60alKb5prWDmw8aZZVLv4j43woZlqP45J97q6wGQSf6FKgF2p6CoEAGvhZJGayqgFVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonAFZiYyBN5nS-I+x6AjrAp5SDCF4IGYhfiAwMz2YFpFo+xfxj6CH2AgoiGAJwgn4yJYx5oyFBr8H4CsF47xgGJiopjaT5r3o6FfQPxnTDqLRKErR6Ed44hGwSz4CDBSwaFAZfQAJAIOFloSG9BbouGDDqweGLrl7Lp9q+HiHhylyqyuGgCmw8EUhPz1a7ppgdpw6uYNiSGpEjhfygDpEWj1zfTboEGtaOFkwXCXyAzH5Ai5H2oeH1FnoZGv4Nb6GSJ0ItitaT6uJkDVQ0i6Bl4V59rt5+FrQuhgHmydZWIFKjHREdEHCTHcZ9HUCyDJTOpAqHQIFA5ZE4hEY+AzFPDqGQgVphT44OZDEREWi1qO7my-KbHbTVjIbKrtF7HPaPGKjPENb8JTGbFa7jqbFTA7Hho6iHEyDFFMCgh5YAmghAnZy7HzAuhgk9GX4wwdpdBeLDEhY5JfEZoiFUhjBzEInKyyg6AjAfGZDnYcHxSknknWghwQrhL7F6D3EFKf64kcYeAEll465hBERZC6DknslmAAA8NJgpwwrROeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANSFYi7JxRAxBqT4BCrCmgAGn5H6mGki6GDRC6AepCr0mGiTpESfrUA+AKlKn4AyCMTTo6DqmMgMCiQCqUA6lAhWl2nzoOmmnOkUk57Rk2nRlj5hBxlOnmlSkHxJESjJKpLpKf7r45In5hrLHKDdAZBbREmFB3hh6Jkckua45bxXZEg4m8nwrjJdKVkcL95Gn7KhirGmmXG9oXoKZpn27Jw5LHCnA6jCkTk2DhI6iukLmTn1kzjtmDAuium56LZ0z+ZeIzmcHnCDyE6YlXGMhNkpCelrAlm-rEDpD3q7aghQaFD9ZvoDoVpgm1rTEPGb7wpfj1lgn-FiqAnf6DrAUIbIm7nQZ7nhpeI9nVkkEu5FxIHVjFnViDDWilllrlmIXaL37pbWB1lg4NlYXB5XlhCbp4YNkdlKYIXJJbSrmBz9HDnnmjkVzjmDpESf5Hnfi0UTnhKyCWjLk173jqB0WarrntibkqJdEUUwXJYxmpDZqHnUlnGnkjzsUrqUWhA3mJkpgGqPmFrPlPBWo2p77CiKWgDvmDbwpfmbE-mlZgkEVzYAVrRAV-HsmgWwngWtqQXfE+VPBS4pALawXwXdmMWuVmxkE+yWLWLsB2JcCOIYD0EdRSDRoBpjDFo+KVGGFXzfrEApiZWxoNF9xFwlWUCBp+okRs4dIhpKJfjHRroYwVqVVxpxW1qAxRKSEaj5E2AagIpEGFCSF6j9XWB6hDVF6SH7HjWgD7FTU9URyHhzWHiLUjURw8JyD5FbVrLDVQoRw4x0AkSqBwj5FHUnVpQJL7VhCSE3njU3nwo3UKoRwbQjCsIeB0BfxvXDAfUMB0zPU2CSF6lzU2B6AwyDBwibY7aWoGlXWA3WCSGGSg3WDg2Q3Q2gCWo2rw3TURwABUKNXqENoAUNxwMNoAeNJN1gCNqefQgIwAhNaNJNGNlqYAONS1-wgIAApIzcTaTdtpjaAFzVTaADTZIRwaDUzfzeTdSVDbjZzQAIQnCS180s2gBK0FZy0c100im83o1k2C1inWBa0bWc0ilHAo1S1q3m3G1i0RxbZ63M0G2Wo7a23y101bYW2DBhBW3O2gCe1u3a16CAgK2E2C2hAC3WAK02AsFRIQhtXRAxpVXZU+z-HHClIbRbQaiDDtUp1fS9wJ1+pZUWHejIgeBWQhg9zp10yZ2FUG0zWJ1ZX5HNUkCdh+XWC50l0w4QhYCF1J2Bry4p6AySHubjSdD5Gj2eY039m3URyQDEDjR0RnXe3z2L3DzT0z1A2vVaC-WwCQDjU-WSB70b2b203B2H14RzUX0n2b2SEAByqgd9hND9d9klM98d8end6u7J1dhQtdnqAtoJsq81jdpVZ6JYk8VQfdxd6uyqv9KQ-9BtzVhoOdoDyd4DfYvc5sTq-MRdYDxaiaOgV8rx8wODMQkg7mjAgqw5VkqgagoO0QQ8fZCKndNVWQQo9Vrd7dYQFCxDFQYQF+EowlaSI5leJDzgJena2lfadu1OhaAhaDHVXh7Jgwq5HdijYw39m5sjnKNOCjeD6DlE1A5dldyGajIDBjA90BcoLx3DNgGlBOWlS6HFpgrV8eZxOg1UXJ5yzjK6GO2I6S0jF6PdsV+dFBiVnADiGAqV5s6REYFAkg0chgr4G0jAr85u4jCwbgng3gz0nRZQGTbpSmx0254YUyWQnYyZkgtpGZZpQqx0hTHZREDTZTj4jCRc2kG0o8I6AkgsJpug52YxDYJkpA7gs8HiBgrqpApAGNDABpegIzfFgIDE4SyzvSQIKY0ZIzN9kKyz38jpyaHhbMCkFp-TOghDyGvDxz69Fg-28xOItTyZwd0ZnT80sgPTcmtdVzsww8Fzoa1pJggIRzPzI8y0LACzSamTW1ELkwpSqzeG3EdMfSgMFCZg2wWAgOtmrZiEMLoaQQ-FLoqLZgGtQIpiHZ4SeTBwqLSzpijJBRtAUQJkloSTlYqTr8qLEKREAW6CcCHS1L6LmLqQrgBS4qbMkquLbpgrqzzzBp1zoL3g4LOo8iRLZgBpGL9MUZBpRZe0B0hVpdFygmRLqZCKDEtpcr4wCrlLOLyrkLlTep6roQ4I3EgrhGILwdK1hDqD9ghOYLRThQfSzJHLSmcrwds1H2PISrkLW5boRLXrJzFrjALAJS-2KKZzuLcLQIAA5LaRQsmdmxizxWcwmai8C96yPNHIwEKhW6TUM74jRU8Dkz4DqNWzs-KpIZJDaV6TacwsKGgtSN4L23UbPPapK0yW682yOJW8Ay6C23Gz6wq00yA2W1a7O3JWUKu+ay27mWILQ-Q6QIw91g1vzJFOzFhlCxylyh0johm+2+GdypzIMKK0TFGDonY9YLXbu1SPu5QEPHlse2RNSBc2e36ykH0rq9e0ppIaYnHMgTq7MXDCB3yU0nDNu84NW-KOajDP+6ezomGgjhexglewh02V+anbxQVqUtq-kuiE+88rkDojBQnSe-210GwrWrXeh-CJh9h4B4GZnAx71sopROR6cICLNRm8yTqPDMx7IKxzOsA8dNJwB7Jxhsmoh9Ep4aXSJwVoCCtRJ8wMpwmGwo9ppx-tOdSYCJ+wwz+4ezaIixivNe8cJyWXboDFZ9+7+6ekp6e5G5QsB52CZ8yc55hSAzJ0Z-J9VrZVmli-tPB4sG1hujEXTdB1OehXB+iAJ07q+nZVRcNih07oI2ICBs8Lh7W5UcyRBw5zqJV6B7KV6VhoZYasahI8PkV3CKBlYTLOeiGWexUT6BVwhxmxMYN0i3Vz4EYvef+oBga5rAy63GYuQv24wJWOQCwl4Kwh0MGIsQh310MO1yVztxZ-yAO0C+VWdPsKx0t5WNdKV-czXAcIUT15l2hGABwt4JuBcKBDnZDpKCZe0OQOYglaQMMJtMtAkV6rIGdJ5GgND6bGlWIPyJFHoPdGoViH6IwB0IM3dz6DRXYOj5j2-eEpPSdpy00tbOoMjzIKjzqDqHj16QT+p8UwhHTxjwyQilTtSEjyj9Gy2Czwz6h8qd3i0KBBtmGoHtXrksL1kF1fjVLzIATbnnePmWkpTyPDwIMCj5IOrCjvS+mJqR4HL7Woj6QKr5IOr2u1XqZJL209Zf5qJAb4+HxcT50LpeGs715vNtlzr6EBWnz0b5zyb5r-wDz0SBpHLyFQkv5n79Se7674lw2O74J6FV70RQkl+C6Hz9ZXBaFQV6EEfPQAO6b+b0H+RTaJRWjmH47wVsb0XyH5b-jOH7b9mvb4bzH4Wh5idnH8nPYBcC2Nnp91kG+4UMyYDJr+b8ySX+JWX62wii6P3439ZVF6nz7-HtH5KAH6b8Hxby3zb0nzVl6tH6cLH2FoK+mT3zOJX19w6-2cyRP1T1r6XyODP4Ohfw76BJ2FUKf0v2PsJb32UHz4-3BJ79s+YQMKslkxB3gLqWgYHiyUopfg2AFnZXosHs4IokkGQAsnbiIgIDROMQfKMKDTLhJcBA7NMh6W1T1cWAjXKbs4De61JzKKiUCK+XAHElQAUA8gMDzcZ68aBH3VvoLzGBy8NsUDePP91rRcCVuj4d1ugLST5g2qP3ArKINfD8DAQRA5bvmDuJd4HoMQHGLEHNyADMmzJHQVPyf4eEPAmg4cubgLymDdAmTHUCYMLSmkIStgrQUQwIKOD7Bu3F0K4KsHGDLBRDchi5QMHIlduNfAIYCQ8KSMDgBg2ooELK7OBmST8TwfoEiFtFH2oQwrk0HTCBgzwoqCbmCVrwPltCi4SQCD0LRZBGAuibmBwiFS3d9ytWTROGGA7e8MsevBIT7h8GSA-Bf5OGCkNhLADw0LQtvg+hJ6Doie+Q8woUOKFSRcmOQwEmPiIh+hFgQqBIX3gSER8+sXvfDgtGIwMdGhncN4sRnmH1MEIDHQYAcJxYMdF+KfIbA2FZh78wBNlbHvSwWFnsBeDpbICwFYS6NO0wYMMHCDkx0Bze3w06gmDoDa8YhWTHeAYClgZtARvwroCCI2yBd3ic5KWEP1F4C1XhjwD4aBi+HyAgRfTOwJiJnAojzG-ZGEcCPVgQkYgy0LIHQzAg-C-hAI3EbCOkCgiHh0Lf4eSxYFMjyRCI0bpJwQgcjURGNKkd4BpGBoyRBwCUSyI2xD81kaInbBiPeFEiP+aQ40gSPeH4AwwRgTaIVTjiZNNRWgDtJEHVG+B1Rkgf+j+hzJncKQBohSLKGNFvDTRbw89vtAhGKjOReGEziKKobZBxR3Ig4AOjnJRBnR3DeUQQC1FGjFRTowkfnHVEqiUKriNEqXg9TgNegF6AwZxHgLRCF8zQnwa0LsGDEOhBSEIT0IeH9Cj+7fMeh0AzbhDWiAyQfiwK0DdDgqiIu0U4HNHQDJSSwlwT4OAaZjmxQA1UcsDbHg43qMA4cYMH7GQlgqu3b8hZ3wBahx6ylRchREXEdAUBSHMeBTwnGNj-AGbb8hAVG5656hw4swDWKTGdoUxxYNMRXB3FTjkSXojKu8VPFbAdgPqd4pmM5HDjloo4zsTi1PGyi6YLoT8YBOH6GjvAv4tgZKSk5aBn+m9HUCBJJH+VASi7QEAuMJDj0XhppLIKt3BxRiWCu3ZksTTDF4YUSmsUYNFFYTg5juy3KMDRJhCDB0OO49DtmJX568xxv1fdNWlrTfiIJHYqCXoCYlNj1+eAxoKo1PqtoWJqQ5gRxK3RVoa084tcRuLuy7YHso3AYp43sDoFgxjwFkp2LknXoBehANYpoNhgCFYJu3RHGmxgkkgBe-3B0bpJR7F8qerItiYYGTi1p-uqvZyXCBCIPCQ8FYwYWtnJxyB1mdAAXqZKw6a8UQ5kzIk0Pcko9a0Nk0-Hji0Qo8zAqzUxOsxR4YwcJoAeUgAAk8IkgAAILgBwAeEAAErylIAAAeTvrIACstxO8H6SglbJRJisXiU4AHGZNjJYwSKbFJ-Gcj7JkUozldyZyDSIJi7eyeoFyT0SmcHhGaaUHakDsJpmTQqcVLKkVTqpdUhqYtJ76jTLuHU+gJNKcCZN7JUYyKZIGikSwupJaPtsdLsg6SWAC3QRJoJWm0TOp4E7qdOPBK7dFRQaLUbXWFyZj3AZNNMsDxDBRQqJH0hBKDIoGOcRxPUt9q1OB6wyJpd0nqWbDylMFVwfoEgGDwKwAAGfbHeAaiMQxYw7LEYR0rCUADgrBKmfjPPQFQCsuMzRgWjB4GkeA1WL8GzIVgEzvAHhJ+OTMmTiCDBfMnlve3aEdA9B7xQECl2ZISy72H3OmXX0aYC87AB0UWaBCkAxA90w7T3KvypmSyVZHQG4v6UpmrgTZtM+mdVjvDBixgjEdQK-GqHNlfEWiXDmTl4H7QLZ5gibkrMvY2y366zd8VsJG6QomS7xB2ZICdlyBX41XYjqBKGB2BHZzss4cR2Dkel8uIA9PinJjlpy2ZZEsQMGGxGY9kQ9HLoeJXrFbFWJQ6YDHnNjkuzKKGwj2Ql0hQHlyeBTVpl9yaRtz5UuckcL0KUqpYdhYQL3PmKcHtDwcLlGudJNbRfgPATvSsZ5lXLhIFxA2VckRGjmNyLBBY5wS-g8CrC3yGLb-u5RbKbDxuZ44YcnJkCpy45VrcEmYHxbby05ExRnu8nXmyBbhufcNC-Pvk6IBe4Q9oYoHzSIwReSQuQD1LF7x5+hpUNoUWPRAljgq1WfzC0JJbH9U+X4EgM6X4kwDuxB83seJIknWBsKv0yoDGSi4tz6h1oUtDPTwB40GFpSL3HmIKxLCEFf+dQD1L34Ly8x6C5eUMIjkJ4Jo5pXBZKR0FITrA+C3dCsPBT-Y5FxFGYfCiznok6x5TLYqQuRKRd1h2aEuTTikAkxSFSCx+RYFAD0LGFdML8GhKUlaKR5mCvLioogVcKCuCYikNgpEUcSBC4-LfrXN2HzA5xondCdJGUkrirFGE9cSZy3FlBFgXizkWCUfH9JPFV8hzkApTGgKaQIvaJTnW8WKL-WCwLRIsG17nj0SwCpYKsXSVZABCW-TJWQusBmK8a8S2-lLFfELBb+6sDNm4pHgeKXQ0SuCSkG6Xqwk5NgDpaIqtY9LBl8qKTgMokULoUJJnUJUEoilSA2ZvgWLEUUslOwAYVMVZYyBTBszOus3PosZKjCFzdux0QuRCT5nXQTlYI6Fq9DdDnLOR7bOQE7LhBfAmC9qEziU3uUGyPo2DAVCPHmjLK2ZjEydlGm+lFVQAUk2EtAr16hhsg4ONmbWk1lQlzcus3IIXOqzLZhFI8LiQpOXGFBhlHioSUjIkVphQwRykmHCp5yFzxloQKFcgoeHDLcVSzQJePQzaejRuxWRJqCv1mrhroVKhFQbNlEaScJ2kk0UyqvTVpfleUjaZIEql6oAAMnhEamqTSgpMwRPYDRlszM4mMmpWCL6lTzgwMMU6SWgzYjT2+MMBMNqpNXTSe+s0y2a5AEHWiJQS03JNavWlFS5Viq5VftMtCHSHVOq8FZkwBlyMAx8qC6c9O9QWrrp9-GKXdN6V0xAQbMp6eqPBBvsI1Jo+WTaWTWKjwQRc5wDg2tW6qfFyiAGbaOBn9zh2BtNMjg0BXDteVWxYtWBWFyozOJw7QNUjLIX5rk4bDMYNW0EmgqFona4Cu6P+nPTAZWgCtbWUcoC0B0Iaz4V0AlHMN4U40I6atMVjEqfxyMsfGGMLXtqB13gMFcOpQnf4R1z07tVyv7XVsBxDkpNjCvcmWxhAnk+wLqH24Hqp2KYS9aCsYHKJH1JAJeUFOrFKYaQ9mVcFetBU3r3RJnP9bkEe7TZV2Z6uMS8NW52B0ZkEchgNPmm0BdEGwyKeIKw0lpy+8eRKQViuk3SFm407DXvwrSjNtUa+AjbevgZToM1jo7nkCAI0pq3hP60IIsEhyq8Hp664gJxseDyF4UgbSjRCrDG0bNZIiCTbeoj6nzoMAiIuIYC9JjA+ZGGi1Q2sNl687ptaMlRoEEwYr4ctQw1bDHEHxqiNevEjeIGjXkb411G+PNJrXx8zFRTGwdCxsclU9dlw7YTS9Osq8a+gbGpNb5tzXcNFZw7QYFJscAyaHV8m3PIpvAEuLTQm3OLV6TQ25ACNLo5ZVlvxXrJJQqWnLRJsXYXcMtFG46RCVK0Ebytgm3RKptQ0MbNNRqmrZ9JLSYr48mQNda1pTyyqtpVUmqfVPADVZet5U-rbtJVXibjpUWjGp1oy29xmBgIFJKd2U3ndCt9a65ZiHq3qaqZTWsycZrck1pZt2q2tLKvlVKqhtmIU7d6om3vFgVXqGbXIC6DaqUpDYRbffEWXnFCcaYKyPwXYwuiaKf20IqVm+3QgqM1go4UhguWNwz0P2kQPx0h3uC3QgO51fcCkCaU1wEgWHd6DB3rLXRc8ZHStptGlYjqWOwxAjrBEJzOEjRaHSTuhDw7FEYI4blTpR3OAGoOgUGF0H7V-bTlEO5nYTolBswcY8CA7gzoeGU6fi5CJNCwCe7k6HhTOn4rE1oBWRqAeskHXDsg3nrcd6OtXdjp12Tx9xXlZ6SZ2+0q70V0OvXZnAt0Jqv1h6sVMDqV2g6rdsiiSYhudFmxAtwdDtp+rtTcrD1+RE3TEB7qQDMdpuvQLTvV2-T5NWuxxhjroCk6ow4eigGzwc4crcl3osUXSLxHLq20Pu-tZ1kT19AC9HGV3Y8CIKn9UaGNEnaHsmxF6w9mOunWXqNIl6k2XYD3YtsYA2kbdlbc6iHsD3qqi4bOjxGwg11xix1Zo8tTqJbUzqts1-FINCy71CpB9vTX3ZWxhbUZpl6ZbCVpLwmRroKybMZD2t0Ciqd9Joh8fIodw7xndYQZva3r43AhqAg7QEAvvyJL7BxkBS1aM2yE7cwR+eQXbyy-3xciF86Dxl4xZi+MhQ3a9zgexQKzSR9zojuIBXHUT6mKkKOcTPshSwwQwkOZ4LgL7BZDngajK3pAt+njLX8j7aGiSP0rKAgDxCwEH+ma6Iyq5dA-Uhi3kWOsoDNnPLHmsJ6H7NJuE29UFXBKk88M7dG-aKDb0cHPODWTvbnu-WDBJDtnIwTgArQbQsOF1H4bWgACcVQYPcdR+ECGseefJOOodOq3r2hy0XwIMBLQ68NhNFQwH3NAHaKvUzgakkTK74mGhUmbTNimDQC+HuN0uD8vCg8NWt7DWfGwB4bMN0RcmAM5CMA2cA2p3C82H+dYAiMAyojawQYKodj2XVu16gF5W8pgjSg1NcB0vbOMN3qjxDd+vI6dQKOxwgQz+11M8pqPjB3lQepON52pAr6hUMQQLVhW8DpAaQNzMtBWkti1pOOZqFoFhw6OBq8oOB4gIFuTIVA81KC7NCFEYADGl66tUTjSAFJWUdewRwENahtTTHIVoK2zQsfMrI1yFpSYI5ux5WWwjQNlFPncP8wMbVuyUMYBdzkwPHKKpWvmeluq1Va5N10H43v38xrGNjw8LYzpx2Pgx3DEgS6sHSOPgYCNBWrbpcaOMignjtiu4YlrCAHHkT4GatpWgPQMBCT1qfwykYRP6Goxc68dVOvlRoHVydx23UhNwOZCPElsAcVFuoMEAMa3iOCQvsElxwt9-BqMaRJVGLZktYgTrDkDoCMRcmPRyHDpofVjHB1XHSYzxxmOyAo1Cx60ksYj5flnKM6-ikKa5O8Hj9AhiUy9r2IgsujUaiBvgeFPFwmsuQr1LyYcIC0BTH2vDRkosk3KpAtTUZbBKfkBA8l9Q5Ke7oM7sx7TmbeiXoGIWgAAAOlgBy0LrxgLCfAF6XBYiGSa6NUNK2m8NAgITqxMqtMdjPxnEzKZtM6XIzNBpsz5k4jIQCwrANUezJZs6AAABeKDawCmZ4bpn3jWZxNmQbzNdnKm86Is4CBLOyB8wmLG4KVjlMKmfAcZgc5mYbN81w2nNLiLfBtKkAbS64w0JmwhB4Byz-alc7WcHPrnIam5umtuaBAeBdz+5vNZOZFBAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:teal"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"variables"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDUAhlDJNJFWCQ+Sd0FCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxxbXuNFZRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2Hosci1qI2CvzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV9bnhCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBZpmhRVa0JvzTohLik3puXWjQHjpN82LPJtl7yJOqdltrVh1bNPeK40nCZ2Lg40eE2Wj1XqB4sCHiPczdddEzDWve6ij6OjPpffITNNmc3dGXvii9znUOFC-DphtJcV6gz7XXfoxTvPWDTb58i77y3+hreRlexhGPkSODTeFkWyPReC7syeCWDlJaKNmiIJ7oIleEZEXLWTS0Dq-Nl5rlosnVdCCljNaX2trTM7i22-bB0sbKz3SulXjOlNqH1z0FaSBLM6LWvQZgjgAD5QB4aqObBjK3tkNQOAdEOInuEzznmdxToRcM71KYRlYPgjsChO4MQ7IJjtyZdDdo0ABIUIMGzp0FMsQZEhB+ztJhKC2smJ-MRCcyhML1gK3x1rdiqbsOU3hcu0oezw9R7RzG3XAd93SgDqIjA2UgswcQ6h8Mxo47SvN3LtfA+dHB2g5yPToZV5FZP3M5O+drnS6s4Jc59dPmBso83a0hn-OpWHvlUknk8u+e1Iyf+W7mqIggQvOBWZqzW2q-+PrsC0PXzwmrO6YX1giJ7cxLUMkpnNl3yE7oitZVa3-xhT-TEFaT7qAYAV7n4P9IK9qZnMqOPUeZdAK96UnQQ-v1LntRPdI5NB4zbH5RxW9BlU52s9tNOu3KB7Su-5kVg+DAzyd5DCmTNFwmSyvZxSLu3VUPdLdsY8vjflfn6GAmCFgrt22g5Drm+bKWXF1lVmA-x6ybW-PM+LR97VYlzESytd99X3Ka3741VZMs7nr8PXgcUgmebjXRu28HLDdvg-mSGt6GvzMysT--xF+U5J54b-DdDgv4b60alKb5prWDmw8aZZVLv4j43woZlqP45J97q6wGQSf6FKgF2p6CoEAGvhZJGayqgFVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonAFZiYyBN5nS-I+x6AjrAp5SDCF4IGYhfiAwMz2YFpFo+xfxj6CH2AgoiGAJwgn4yJYx5oyFBr8H4CsF47xgGJiopjaT5r3o6FfQPxnTDqLRKErR6Ed44hGwSz4CDBSwaFAZfQAJAIOFloSG9BbouGDDqweGLrl7Lp9q+HiHhylyqyuGgCmw8EUhPz1a7ppgdpw6uYNiSGpEjhfygDpEWj1zfTboEGtaOFkwXCXyAzH5Ai5H2oeH1FnoZGv4Nb6GSJ0ItitaT6uJkDVQ0i6Bl4V59rt5+FrQuhgHmydZWIFKjHREdEHCTHcZ9HUCyDJTOpAqHQIFA5ZE4hEY+AzFPDqGQgVphT44OZDEREWi1qO7my-KbHbTVjIbKrtF7HPaPGKjPENb8JTGbFa7jqbFTA7Hho6iHEyDFFMCgh5YAmghAnZy7HzAuhgk9GX4wwdpdBeLDEhY5JfEZoiFUhjBzEInKyyg6AjAfGZDnYcHxSknknWghwQrhL7F6D3EFKf64kcYeAEll465hBERZC6DknslmAAA8NJgpwwrROeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANSFYi7JxRAxBqT4BCrCmgAGn5H6mGki6GDRC6AepCr0mGiTpESfrUA+AKlKn4AyCMTTo6DqmMgMCiQCqUA6lAhWl2nzoOmmnOkUk57Rk2nRlj5hBxlOnmlSkHxJESjJKpLpKf7r45In5hrLHKDdAZBbREmFB3hh6Jkckua45bxXZEg4m8nwrjJdKVkcL95Gn7KhirGmmXG9oXoKZpn27Jw5LHCnA6jCkTk2DhI6iukLmTn1kzjtmDAuium56LZ0z+ZeIzmcHnCDyE6YlXGMhNkpCelrAlm-rEDpD3q7aghQaFD9ZvoDoVpgm1rTEPGb7wpfj1lgn-FiqAnf6DrAUIbIm7nQZ7nhpeI9nVkkEu5FxIHVjFnViDDWilllrlmIXaL37pbWB1lg4NlYXB5XlhCbp4YNkdlKYIXJJbSrmBz9HDnnmjkVzjmDpESf5Hnfi0UTnhKyCWjLk173jqB0WarrntibkqJdEUUwXJYxmpDZqHnUlnGnkjzsUrqUWhA3mJkpgGqPmFrPlPBWo2p77CiKWgDvmDbwpfmbE-mlZgkEVzYAVrRAV-HsmgWwngWtqQXfE+VPBS4pALawXwXdmMWuVmxkE+yWLWLsB2JcCOIYD0EdRSDRoBpjDFo+KVGGFXzfrEApiZWxoNF9xFwlWUCBp+okRs4dIhpKJfjHRroYwVqVVxpxW1qAxRKSEaj5E2AagIpEGFCSF6j9XWB6hDVF6SH7HjWgD7FTU9URyHhzWHiLUjURw8JyD5FbVrLDVQoRw4x0AkSqBwj5FHUnVpQJL7VhCSE3njU3nwo3UKoRwbQjCsIeB0BfxvXDAfUMB0zPU2CSF6lzU2B6AwyDBwibY7aWoGlXWA3WCSGGSg3WDg2Q3Q2gCWo2rw3TURwABUKNXqENoAUNxwMNoAeNJN1gCNqefQgIwAhNaNJNGNlqYAONS1-wgIAApIzcTaTdtpjaAFzVTaADTZIRwaDUzfzeTdSVDbjZzQAIQnCS180s2gBK0FZy0c100im83o1k2C1inWBa0bWc0ilHAo1S1q3m3G1i0RxbZ63M0G2Wo7a23y101bYW2DBhBW3O2gCe1u3a16CAgK2E2C2hAC3WAK02AsFRIQhtXRAxpVXZU+z-HHClIbRbQaiDDtUp1fS9wJ1+pZUWHejIgeBWQhg9zp10yZ2FUG0zWJ1ZX5HNUkCdh+XWC50l0w4QhYCF1J2Bry4p6AySHubjSdD5Gj2eY039m3URyQDEDjR0RnXe3z2L3DzT0z1A2vVaC-WwCQDjU-WSB70b2b203B2H14RzUX0n2b2SEAByqgd9hND9d9klM98d8end6u7J1dhQtdnqAtoJsq81jdpVZ6JYk8VQfdxd6uyqv9KQ-9BtzVhoOdoDyd4DfYvc5sTq-MRdYDxaiaOgV8rx8wODMQkg7mjAgqw5VkqgagoO0QQ8fZCKndNVWQQo9Vrd7dYQFCxDFQYQF+EowlaSI5leJDzgJena2lfadu1OhaAhaDHVXh7Jgwq5HdijYw39m5sjnKNOCjeD6DlE1A5dldyGajIDBjA90BcoLx3DNgGlBOWlS6HFpgrV8eZxOg1UXJ5yzjK6GO2I6S0jF6PdsV+dFBiVnADiGAqV5s6REYFAkg0chgr4G0jAr85u4jCwbgng3gz0nRZQGTbpSmx0254YUyWQnYyZkgtpGZZpQqx0hTHZREDTZTj4jCRc2kG0o8I6AkgsJpug52YxDYJkpA7gs8HiBgrqpApAGNDABpegIzfFgIDE4SyzvSQIKY0ZIzN9kKyz38jpyaHhbMCkFp-TOghDyGvDxz69Fg-28xOItTyZwd0ZnT80sgPTcmtdVzsww8Fzoa1pJggIRzPzI8y0LACzSamTW1ELkwpSqzeG3EdMfSgMFCZg2wWAgOtmrZiEMLoaQQ-FLoqLZgGtQIpiHZ4SeTBwqLSzpijJBRtAUQJkloSTlYqTr8qLEKREAW6CcCHS1L6LmLqQrgBS4qbMkquLbpgrqzzzBp1zoL3g4LOo8iRLZgBpGL9MUZBpRZe0B0hVpdFygmRLqZCKDEtpcr4wCrlLOLyrkLlTep6roQ4I3EgrhGILwdK1hDqD9ghOYLRThQfSzJHLSmcrwds1H2PISrkLW5boRLXrJzFrjALAJS-2KKZzuLcLQIAA5LaRQsmdmxizxWcwmai8C96yPNHIwEKhW6TUM74jRU8Dkz4DqNWzs-KpIZJDaV6TacwsKGgtSN4L23UbPPapK0yW682yOJW8Ay6C23Gz6wq00yA2W1a7O3JWUKu+ay27mWILQ-Q6QIw91g1vzJFOzFhlCxylyh0johm+2+GdypzIMKK0TFGDonY9YLXbu1SPu5QEPHlse2RNSBc2e36ykH0rq9e0ppIaYnHMgTq7MXDCB3yU0nDNu84NW-KOajDP+6ezomGgjhexglewh02V+anbxQVqUtq-kuiE+88rkDojBQnSe-210GwrWrXeh-CJh9h4B4GZnAx71sopROR6cICLNRm8yTqPDMx7IKxzOsA8dNJwB7Jxhsmoh9Ep4aXSJwVoCCtRJ8wMpwmGwo9ppx-tOdSYCJ+wwz+4ezaIixivNe8cJyWXboDFZ9+7+6ekp6e5G5QsB52CZ8yc55hSAzJ0Z-J9VrZVmli-tPB4sG1hujEXTdB1OehXB+iAJ07q+nZVRcNih07oI2ICBs8Lh7W5UcyRBw5zqJV6B7KV6VhoZYasahI8PkV3CKBlYTLOeiGWexUT6BVwhxmxMYN0i3Vz4EYvef+oBga5rAy63GYuQv24wJWOQCwl4Kwh0MGIsQh310MO1yVztxZ-yAO0C+VWdPsKx0t5WNdKV-czXAcIUT15l2hGABwt4JuBcKBDnZDpKCZe0OQOYglaQMMJtMtAkV6rIGdJ5GgND6bGlWIPyJFHoPdGoViH6IwB0IM3dz6DRXYOj5j2-eEpPSdpy00tbOoMjzIKjzqDqHj16QT+p8UwhHTxjwyQilTtSEjyj9Gy2Czwz6h8qd3i0KBBtmGoHtXrksL1kF1fjVLzIATbnnePmWkpTyPDwIMCj5IOrCjvS+mJqR4HL7Woj6QKr5IOr2u1XqZJL209Zf5qJAb4+HxcT50LpeGs715vNtlzr6EBWnz0b5zyb5r-wDz0SBpHLyFQkv5n79Se7674lw2O74J6FV70RQkl+C6Hz9ZXBaFQV6EEfPQAO6b+b0H+RTaJRWjmH47wVsb0XyH5b-jOH7b9mvb4bzH4Wh5idnH8nPYBcC2Nnp91kG+4UMyYDJr+b8ySX+JWX62wii6P3439ZVF6nz7-HtH5KAH6b8Hxby3zb0nzVl6tH6cLH2FoK+mT3zOJX19w6-2cyRP1T1r6XyODP4Ohfw76BJ2FUKf0v2PsJb32UHz4-3BJ79s+YQMKslkxB3gLqWgYHiyUopfg2AFnZXosHs4IokkGQAsnbiIgIDROMQfKMKDTLhJcBA7NMh6W1T1cWAjXKbs4De61JzKKiUCK+XAHElQAUA8gMDzcZ68aBH3VvoLzGBy8NsUDePP91rRcCVuj4d1ugLST5g2qP3ArKINfD8DAQRA5bvmDuJd4HoMQHGLEHNyADMmzJHQVPyf4eEPAmg4cubgLymDdAmTHUCYMLSmkIStgrQUQwIKOD7Bu3F0K4KsHGDLBRDchi5QMHIlduNfAIYCQ8KSMDgBg2ooELK7OBmST8TwfoEiFtFH2oQwrk0HTCBgzwoqCbmCVrwPltCi4SQCD0LRZBGAuibmBwiFS3d9ytWTROGGA7e8MsevBIT7h8GSA-Bf5OGCkNhLADw0LQtvg+hJ6Doie+Q8woUOKFSRcmOQwEmPiIh+hFgQqBIX3gSER8+sXvfDgtGIwMdGhncN4sRnmH1MEIDHQYAcJxYMdF+KfIbA2FZh78wBNlbHvSwWFnsBeDpbICwFYS6NO0wYMMHCDkx0Bze3w06gmDoDa8YhWTHeAYClgZtARvwroCCI2yBd3ic5KWEP1F4C1XhjwD4aBi+HyAgRfTOwJiJnAojzG-ZGEcCPVgQkYgy0LIHQzAg-C-hAI3EbCOkCgiHh0Lf4eSxYFMjyRCI0bpJwQgcjURGNKkd4BpGBoyRBwCUSyI2xD81kaInbBiPeFEiP+aQ40gSPeH4AwwRgTaIVTjiZNNRWgDtJEHVG+B1Rkgf+j+hzJncKQBohSLKGNFvDTRbw89vtAhGKjOReGEziKKobZBxR3Ig4AOjnJRBnR3DeUQQC1FGjFRTowkfnHVEqiUKriNEqXg9TgNegF6AwZxHgLRCF8zQnwa0LsGDEOhBSEIT0IeH9Cj+7fMeh0AzbhDWiAyQfiwK0DdDgqiIu0U4HNHQDJSSwlwT4OAaZjmxQA1UcsDbHg43qMA4cYMH7GQlgqu3b8hZ3wBahx6ylRchREXEdAUBSHMeBTwnGNj-AGbb8hAVG5656hw4swDWKTGdoUxxYNMRXB3FTjkSXojKu8VPFbAdgPqd4pmM5HDjloo4zsTi1PGyi6YLoT8YBOH6GjvAv4tgZKSk5aBn+m9HUCBJJH+VASi7QEAuMJDj0XhppLIKt3BxRiWCu3ZksTTDF4YUSmsUYNFFYTg5juy3KMDRJhCDB0OO49DtmJX568xxv1fdNWlrTfiIJHYqCXoCYlNj1+eAxoKo1PqtoWJqQ5gRxK3RVoa084tcRuLuy7YHso3AYp43sDoFgxjwFkp2LknXoBehANYpoNhgCFYJu3RHGmxgkkgBe-3B0bpJR7F8qerItiYYGTi1p-uqvZyXCBCIPCQ8FYwYWtnJxyB1mdADGDhNADykAAEnhEkAABBcAOADwgAAleUpAAADyd9ZAAVluJ3g-SUErZKJMVi8SnAA4zJsZLGCmSYY5kkcZyPsnVSjOV3JnLVJ-GLt7J6gXJPRKZweEOppQIqQOxamZMYpcUxKclLSmZTspvUnvo1Mu7FT6ArUiCZk3slRjqpkgTXiiEWlOBgGfIZqbQDsg6SWAC3QRJoIGm0SSp4EsqdOPBK7dFRQaLUbXWFyZj3AZNNMsDxDBRQqJZ0hBM9IoGOcRx5Ut9gVOB7fSWppUoqtdI+hYBIpTBVcH6BIBg8CsAABn2x3gGojEMWMOyxGEdKwlAA4KwSxnwzz0BUArLDM0YFoweBpHgNVi-BkyFYCM7wB4SfjozJk4ggwXTJ5b3t2hHQPQe8UBApdmSHMu9h9zxl19GmAvOwAdFZmgQpAMQPdMO09yr8sZnMkWR0BuL+lMZq4FWbjPxnVY7wwYsYIxHUCvxqhzZXxFolw5k5eB+0DWeYIm5CzL2Ost+us3fFbCRukKJku8QNmSAjZcgV+NV2I6gShgdgQ2cbLOHEdnZHpfLiAPT4hyfZYcsmWRLEDBhsRmPZEPRy6HiV6xWxViUOmAxxzfZJsyihsItkJdIUB5cngU1aZfcmkZc+VLHJHC9ClKqWHYWEC9z5inB7Q8HC5RznSTW0X4DwE70rGeZVy4SBcQNlXJERvZhciwQWOcEv4PAqwt8hi2-7uUWymw8bmeOGHByZAocv2Va3BJmB8W08sORMUZ7vJx5sgW4bn3DQnz95OiAXuEPaGKB80iMEXkkLkDlSxe8efoaVDaFFj0QJY4KtVn8wtCSWx-VPl+BIDOl+JMA7sQvN7HiSJJ1gbCpDP4ZZcW5Jc+odaFLQz08AeNAhaUi9x5iCsSwgBX-nUDlS9+A8vMeAuHlDCPZCeCaOaVgWSkdBSE6wPAt3QrDwU-2PhcRRmHwoo56JOseUy2KoLkSkXdYdmhTk04pAJMVBUAsPkWBQA+CwhXTC-BoSlJUiluZAry4iKP5VCgrgmIpDQKWFHEgQuPy365zdh8wOcaJ3QnSRlJK4rRRhPXEmctxZQRYFYs5FglHx-SSxVvIc5PyUxr8mkCL28U51rFgi-1gsC0SLBte549Es-KWCrFwlWQAQlv0iWQzrAaivGv4tv5SxXxCwW-urAzZmKR4Fil0N4rgkpBql6sIOTYAqWsKrWNSxpfKik4NKOFC6FCSZ1cVOKBedWYdr4FixFFLJTsAGFTFGWMgUwZMzrrNz6LGSowic3bsdETkQk6Z10FZWCOhavQ3Q6yzke2zkBGy4QXwJgvahM4lN9lCsqGeQgFQjx5oZM+WQ2KEkAzQAUk2Et-L16hhsg4OMmbWkllQlzcss3IInOqzLZmFI8LiQpOXGFBmlFi15T+PaVsTQwSykmD8p5yJzkVNgD5cAoeHNLoVSzRxePQzaejRuxWRJpOyFSbLVCOBGkX8oVmyiNJOE7SSaIJVXpq0UMyKSNMkApS9UAAGTwg5TVJpQVGYInsAgyyZmccGV-LBGVSu5wYGqeDPqkzT2+MMBMFKq2kloTOfU3JJqohK6rNZrkUXmCJ5V8rBV4AaaZaFmlGrpVl0ktLdMOlYi9GwuFaYdO9Rqr1p9-TacquxXWBAQZMg6eqPBBvs3VJo-mTaUDWKjwQSc5wDg01UyqclYIu6baMen1zh2BtNMjg0eXDKyZOde1YDOFzAzOJw7O1W8ugpYT7Mq4atoJKpULRy1XlQ6ZkxTUPSdRpSOcTtgHR3S5GXQCUcw3hTjQ5pg0xWIiogmFrB0YY+NaWtrXeAo0BayGdPWArujH5dqSlbOpnWVsBxDkpNl8vcmWxhAnk+wLqH24bq5aQICldW0YHKJ91JAIeUFOrFKYaQVasYDWurZbr3RJnG9bkEe7TZV2S6ptYMpBWKrxBL4nZVIFqatLYJR8gIHEvqE2TblScQwF6TGDdTII5DaqQsz2kOrrMtQhVbDHEGoaS05fePCj1rRrSNpEsQjdZQrSjNtUa+QjduvgZTow1jo7nkCEI1Bq3hV60IIsEhyq8+280zjY8HkLwpA2WGwYGGNo2SyREWG7dRH1XnQYBERcJDXYCNVdy8NNU7ZTmPcngza0aYVFYJjBXw5cN1UkDfarrltySNVPMjZ6oo1arqN8eKTWvjpmKimNg6FjY5Kp6zLh2Qmo6dZV419A2NAanzdGu4aCzh2EmjGk5rlAuam1ueBTeAJMWmhNuamr0qDJJhUbxlRqzDfNKCVMpJQKWp5VRpM4Xd0tuQKjR4VK2Eactw67DZiBU0obZN6GtVTVvOklpwV8eTIEOra0p4eVY01KelKymWrMQfWpKQNsmnCqxN80yLQbS61lbe4zAwECklO5KbzuhW3NQrLDQNa1NzWxVc8sHFuSa0c2qVbWjNUCqhV1WM7Rap4nvE81XqDGsdtLWn41oS2++IBvOKE40wVkfguxhdE0VftoRUrF9uhBUZrBRwpDBssbhnpvtIgfjhDvcFugAd1o9Kh9pHhHUYd3oUHVlv+0Q7AdTWdHSDt+2rLwdnCRolDoJ2w6sdYI4bqTuR1iAGoOgUGF0BrVE6wRAc2natopBswcY8CA7oojZ0k6fi5CJNCwCe7w7qdiO3HaqK+3UA5ZwO2He+qbVZbNK0O-gvLooBs8HO-69USZxl1yzJs6u6bIbuowTkL1VKsVEDtoAY6+gxuogqf37La7nRZsALcHQ7Ypgzds6-Inrva3w9nA6O2XbkAp0a7FdcY5XY4zXASBrdUYIPZPFJVqTYl3osUXSLxH9q20q6mtZ1hj16AY9HGR3Y8Dt0pAwx-u-XeTsj3QhM4OegvSLjz1JsuwLupbYwBtIe7K251SPQHp7poyZAjO0VGwhD3OjHVZo1NW2vlQdrr+KQaFs3qFQM6mda6ytjCxN3IL0y2ErSXhPdXQVk2YyZOMvtwnbqgq4JDFoDgdw7xeFKQGvXXr43AhqAg7QEJPvyLT6BIHe0zOqtGbZCduYI-PNzt5av74uSC+dB4y8YsxfGQoWNaAHc4HsUCnUvvfno7iAUnVQ+pipClH2QpYYIYSHM8FwF9gshzwNRlb0-nXT2lr+R9tDRJH6VlAv+5BYCD-TNd-pWcugfqQP327LOdDL9uAayQxrCeW+3QCytX0miHxt6EVZ-IhRn7RQ9esAzZzyxN709VK-ImIc85tF9sFaDaFhwuo-Da0AATiqCQCJAl1XfVjzz5JwVDp1bde0OWi+BBgdWmoTFxoqGALNawzBdmmcDUkkZXfQw0KkzaZsUwaALw9xulwfl4Urhq1jYaz42BXDxhuiLkzunIRgGzgG1O4Xmw3zrAoRu6eEbWCDAlDEe46j8JAPqATlZymCNKGQ1QGd1YImvSIYv05HTqeR2OOeqkOe7XUxyyo+MHOWP6KqBndmLPqFQxAAtWFbwOkBpA3My0FaS2LWk45moWgWHbztSHMl5R0DxAALcmQqAxqQF2aEKIwD6NL11aonGkAKSso68AjgIa1DakmMMBq24gOYz93MrI1KgsKlgdoZ+EKMy2HRwSUaBsop87h-mBjat2SgobNucmS2LYZsCla6ZaW6rVVtk3XR-jTfL1KsfWPDxNjOnbY+DBcN3HTqwdQ4+BkI0Fatulxw4yKFeO6K7hCWsIPsfRPgZTj0KhgKSetQ+HEjKJxzO6q7VOq01yE0EK9KNKbtzdSEjA5kI8SWwBxEmsgwQAxreI4Jk+wSXHG32srHRpElUYtiS1iBOsOQOgIxFyZdHIcisvXsMYKyjHuOxx6Y7IA9XzHrSixiPl+WcqOUCs1XWo3Pr5OcHNJO+qMTKee0NgOT667k4yCwPini4TWXIdCaIMG0RTgy2zd6oligbtNNaUjZaYQiniaZeOLRCjzMCrNTE6zFHhjGONPHM29EvQIvoAA6WAIrZ8K6BfH8AXpcFnhkhro1Q0raDw0CBhOrEyq6ZmtZmau7ZnkFeZgs6nPGAsISzibcycRkIBYVgGqPZkgOdAAAAvFBtYDzM8NCzXZoNKWcIMk1BgE5qs1OhrOAg6zsgfMJixuClYlTKpnwJmdnPFmFzfNcNpzS4i3wbSpAG0uuMNCZsIQeARs+bqPOdmTzvZs82fT5A2kPA1528zGvXMiggAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULATEFWCqQTBpgRQJGHQEV6vDJA7wziHQFF7RD3mygbnGi2+G-D7A4qCuBp347B5uc3fenszXuGJAnhTUUQmCI+EQwHhD-YEcW1XpRB0RfwsXHESyhag7gODH5G8I+FfDHAPw91P8JB6lkQR+YAkRCKhF-MYR9GT4biIRE1wSRGDS1ERAJGKAWR-wiuGfw+A8jVSpgZEQem5wxk7cmI5EfgGmCqBKw5UY+ME2VHyAtIDsaUc8yRGPC86JAa3HfjaIqidRBonwHqIZGZ5FRg7NFg4g058jGAZIwUTSN+GEMiQPZO0Vo0lFai3MnQXUQ8KtFYjEM1o+UZUXYZVIwIOMSRIrEcHiggYvglmPUL0GeBGhaY5oW5AcFFM7g7Qn8s8m6ENCdeFfWHvmE8FSDvkmgRMfmPeLQjtRK4NyJdV-5zCTBgQk6DWIyHAksqDYywLYGbEMl1QQMTscmMIEZCem+AedF3REZoxlMU4sYCAMa50xEeQ46sfID0BosjKWKO1mhkiFDiNx5YqMaIRjGCQ4xyIVcaABHEPEnRdgU4vuKBZRp7W64RMQeyHFagmxP-Bksun3Hiiegy6F8b+PSBvjGx-Yz8eqx-EqNnIi6ACZBPsoPFQOc41eF3TuEKo7gg3NyJaNwJ+CtoGNSUQ4m7G85fUcYTEG5Hm7IQyJ8wTQFBwvFQdRx2yC8gOMsLWYxIVsYCX2IHGKBqJ8gACGt0okzi8RywWiWELHGMTkoE4+cYuKiAwJR4GnRsmhIsR2iqEn4piaJD8AQcruQYxIPzwT7I8ARPiCXlbCu7aSheuklyg+V6Ew8re0k6QFGDoDhD0GsHYXo0EoLriGeF5P7lbAE7rjCxKRaoX9z0D9MUWUYP7m8jQmgB+SAACSky2AAAguAHABSYAASvyUgAAB5PesgCkibEIq+AMwHd1W5wCsELkgMZYFrHBNCADgLMRMGpDFT3xB7DSeIJpAideJ8SNiSpA04aSZAlQCiYMDuadTR4BUutkVOCaRTopcUhKclLSkZS+pNfRqdSGamFTWpvYlSClw0mWi5ptgJyZzjaknQN8LU4gPFjtGJC2i4gwaf1yKltSypKXA0cRBVHR0GEiYiUtjR9J3dJgOQEiWdOQiPT0BQ1EqcQDKmN9cpJAh6j1PoC1TGxZU5tGFMbbxQRCZmKSAAAYti1MbKAeC9iiQRuO7VDvJEoBIJJCGM0kCQHhnCQCZAwImSuFDI8AfJWEGGYTJGArg7mb2VGT8GkGVjTuJMrRMe3kS4zgmpxbFlEVOK0yuZOMsYLnzZlz8IxYeDuCzO+R2AsoYUDGXgVH4EzhZbkXGRsXtLozOZWMyFLjLoGplqYmI+4AeBkDxhNugCdPNUIQ7GRpQog5meoPSFCydZXYHmXAlS5bQGuBJU4kbNsAmzpA8YXYWx1xHaNTAxs02YcP87mlUB5w9ylt3qihzfZ4cmGQRJEATBUR6SccAsHSFuCHi-SXqD7L9lmyvePnK2YHFtRiUEeZRXMTIOcrrCuhAJSGCQWMgnCTIviDMUYKzHERbyZUzocWX4SlALJ-QlUqEEnESwSKsQAueHNbFbpSgiwiPtvBbn3l08NXA8SZFCCTz-Z6rWuTCw3nxh6uH7dSLEFHkOBOhblAgXHKTQJzC5twqnpGI4bNDnAbEBkHT2CGwUuxbky+j0KkhzCWhmaHOR0LSAewehSLT3mbx94alQJwMjQZmLbFpiTosEqINUB7lhlvOjECIeuGqB8R+6eAZGrgqNgXkv5XWJob-JaBIKuxnQqaMAsTRG8bZUPCBRxMUEILjA08gIgsL37bxQWEw1KGBw4biyZBZC9wRFwliVC05iCOwIcDIX-yfyjxHBXgr7nTpEJjmRbksMi5gKYuvC1+T3Li4RUSA9CsCfkDb5T86JVw8cVi0nFISFxYbcxUoo07Li14BiuOmLk3HqEbxPwSgtzn4mfAeF0Yx+Q2ThB08HFhJIxdeJ3FuL8govNFp4Iflqg-FlAAJVP0CW+DQAsi5Gq4rvEeLI07s9cOEoPa6KTSkC3-t+LhGQTvxYuQCYEDyW4QOJAnYpQJOWACcylTCj4ECQQnWLkJt8qvHYBhk+AWEclExYlXSI9LfcDbDGZlV5z1ZZALLZOSlzuzJzciBM57NMsBFv414-GYDHMt-altpAJsooHhkbmos-msTMnorMlnn43SuEGrN0phlUTJ2B2P6TcpXC4RjF4vS+lMEtRuQYZVsUwNLPQxyyFgyc0JBeUqUqSWJOHYcMCo4lcT7lTCjYFMAqmMg3lpCZOeUqiBCSAFF84FWJLMUSSHRsCbLvSnuAZsFZWiZ7Iio+WKyz+ckswApL1GKBMVvIVSVPjCmjTbAiUrcAABkpMmU2uKPGRle48pD1GGTqEunvzohFU3Kg5PBmWB6ps0hye6iFVSr2pfzfqZUAVVxEVVWsm6CNKimsqOVXKmaaMDmnyqMZwq5acExukyNPRBoNaYpI2lbTFVwcj4OEQxmHS9Rj4RvjatpX8yRldwV1Q8ObYQcoGCqkVc8rHw3T-R909SJ8uZo+koGlyjGcSpkEhqHigMgVZqtNX3KuxKc48CQ0JWTtOJty5NRvE0mDtrpdo26fIEjWoV1CKtYyBaueFoj3RSMeZMLGo77SdQUK98QDPmSSig1JqgtY8ruVdqs175ayj6Ig5qxvG+ajNrWJLVKyLy9ofOlJCMklcB1nbCqJOozb4Cx8i6kgIPJFhos4QrELRESpnUZC51GnXdQsF25rqp2Y660eEL+XVTWB945ZbqMNReS-A0LLVH0GqGfrTlR8FQLyRG77TO5c065PtLwI+c5prA0GWXJH7uTkeVsO1dn2clwbOhhcBpquEMifSqMdo3+s5E9XBiSeSmUGX6sSDbqgg+QNBPzwqhkaDRHBYyKcVBmaBJRWG75fdFA0Gj5+i8rhNYOPCDdTAmqsDZKqWX6TL6bUq2LCsmWMgAVgCtBU+ppAvqzVKfRDf4ikgobcIzknaRhovLsacNtMg0QRvshEatJJG51b6oY0D9qNeIczTDPI0sBGNloQWRjNY0w19NMiQzT6K85D9tFkDMYJxFpm8lcNhwODSlyCgJqwtaLFbt0rg0acVuoMiDYtJUh3MEt+0pLUNNoB4EgNQm0GSJuqkZbzpWWwFZfQqBtrktGScKTqvGlJSUp6U8AJwhZU1bJp9W1icZxY0QQYaZWkLfQDMn8INwuQRbtcXPwBbNVia7LYJpGQEzUG4GuTfRNK3SBAtJqq2CyrZWcqGtaQVbXqu5Uua8xnWlWt1qFV9aFFg2x9cuS5gbBosdUR6FhQvlAjRoHxHBJdqQg3btBcGB7Xc3ALPahArHW7SYvq7HQ7m7MXRmtSu1xUHt4WlZa9rua-5QdL2iHdEMDnTNeo4BOHT9te0pcAdz+O5tlE8D3hOIRKhHWOKR1xEmcu7Gbs-hmXvbAd-Gx0iwAq7HRMdLRGnfFw+SXbqA8s77Uo1nXcbId523CFzuQiC78SUk89QaI07s75ZX22gGDqUaBFiAsu8vI6sJh5rHlvsUYILvl2K7noerVeveoeFT4bNwtMthuoJVTrHlURSXSloiqg6OdCwNHdzrF0+i+dUlcYDYEV2MgHdSu3FTJLtb0yXRAoikbSKQQMJN1+a2He7pe1e7noTu60Xv3SCSjbdUu8PNHuFGR6ftqkffupH12JA-sRugbYwF1Jh6Ld1Y93XbuEEozRAeOmGI5Fj0G6y1eoitaqOIrZ6a11cXXT0Hu1m6iVuO-HebrTaatldw4KlehJLVOU8mWejIMfFQnUqMJikiYRwqjAOJ49UQHPYOyWT56q2Re7vZOyiK96FAFeyMZMDQQU7gmtsMnVvlP2aASKRjExlSHMaxEIOlnZduSi6k87nd-EB8uWojVqi1IRldvQaCakNMYYsA5uqkPGQqkIkb8t4iiqMSns-qsEnLuIGv11KxWO4fLjVCHGyDWs14T0rqw4Ub8Nwz+-TnFGbY0lWKM+0fZaK4UExl9f+58uOv3j57iD1nMZNvrcD3h+9o9UACwYM4v8C4DE88G7vWpvCrYAAThfC9RtqbwsfX9uMBSGbAG1Etc0K1A+BNAK0ioT51LJfqzeqCiCFYExIIyveQQaQz8MUDhtw2FUNANYco35RfNloUwzsODxfre5gQRw8oYpAaobpiGE6FYBvAGF3+sctw4oZkM3TPDYaTQDKFg6OHs12EbZT8L2WhRS4wG9-daJS5r6N9NGjfPEd2WpF9lpujgwoC4NREZAOyxI-wZmYqdYQXByCMQBs1kkVw5QOEOsw-lCR7QVsejqeC2CwcJOG7ZrEoCyg2akmT4ANfJogijYmjFIfxEi0txISRgj4M3o4eFrXgbwvR2EJB0nY9YhjLUcGrQ31BLGU206reIP1UX6Az5lQvLYN2G6YgAtSMe0PBqiAxaCZwWxLWluS21ZOJc84vuMcaPkUGo0tBTnCGRLVtjDwRkQ2YY3ArHcDoM7CLcat5Qnrw7UE48IrONCLo4PQJY5CYRMbHHl0UZidnQROImB+7hy0XWvLVVrW9V5AA4wkONq6EFoB7YOAc4m1jWNyBggDDV0DBzi9A++0NbkoM0rgx+EjhH5t6i-5hgdAA8BqkGNoJ51l9do1JE6OMc1jpq7UAMbqPncdSIx+foZRMpt7YW3J9Nnya8DyS59tKoU8dpOJWsajDJlIbtF5MEBdTN2cY-AZVqcmIO4qqqTSGKkg80m4E9cc2mVM1Hw2ZExQHUoAA6WAWLQ2s4hXH8AvJZ5svsxrQ00IJkSw0pgmMNlSuWAQM0SuDNrdQzAkiM1GfTmpEhucZgdi5KnhkkTo-3U4oQE0AAAvIBqAAjOPHozpZ4iPGbgNJnQATZlM85DTMbgMzDgEtKCx6g4JxTkp9cMGfbOxmuzjNN1jTQMwVRSgupUgLqQXGLhw2VEPADmfzUzmSzc5iswucPbG7dSq5uQhuebaDn2oQAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:teal"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:teal"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section <REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:teal">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaO0hQAADFIAAA0ACyABRZogRCAp2UP8cEbMV7emoKicEoBHLYNUAXFOa1hDkFkngcgMgtCkGxikWWNJ-h0PUCIDgwhGhgNUJQSghBDCNBAGIAhtI0C5AUMAdwiRUGeXINyCoChfDAAAFaGE8oYFOU1gApAYYYYAAA2HQ2A8CQNgQgxaCh8CVn+JQPooB2AeC8E1eQShiEsFIQwG6whfAEEcJYvoYD1ykC0ngigPDsb-HcZ46oggbFcnsY5PoNQLE0JqLUWoaBK6-UGs40hf8t7Ux3nTPe6DX6MGDNUbBzhT7FOBMTFx5AGD+KZtQwwOTQ43GxE3e2PM+ZM24E-EBvcqlZLqeElpWdQAJWIG4mJQxAHT2AZLT2eN56pBEqMhM-0ta5wKZ9KyIkhrMC0MbSpVcXB7OIAAD0IIENwzg1mi1mXaEBSyqlx3oNxVEPwLlXOIDc9Owdx6hw2drYGu8dmgGMkUQubzyn0E+Zc65hgKkDJOSoN5Y14X1MCBjNWbdAygwYIEGQ+c8TIt+m8YGXzSAMEpHctEoICWVHzqSb6fc0WUoYJ0VWjsAVjPxYS-OOgvbpNjqkYw7RraoNpbLbeILtlzSsmK2s3jjm-QmUNNoSrJXgzCOrUOedwSKolczbg2rSWcUNd4-ZVBiDG2acHWIPKAEP0eQsllVSqgBJnB8a1xtHo6txS4MWpq3UouuV6g5NrraUDtZ9f1jrAwzzCCGjJqQbWaFxBarVsahJb3SJkP1ZqBqpBTh8K1hyo0Ft1WMt6+bE2gOWVMuxf9-7LU1sC3WXKIYF1scoLwKrOJqp7V4KV+qh3ghNZLZNnEh1uPwB45t99Bgz3rS8uWhBkHUG5Ovf5m9AVtq2XrMF4INAbq3UiqdHkMGUp+Yiv5OL42Boed3Qt5hU5iBjdy3dYyn7LpfiihyHLSDvv0EQONX71mpDzVkUDL6XAetLW+kDPCc2hzFjBi95gw2AeAzBqtCYbzobODHItI9NxfPJtW-d+SdxfKssUCuwqSPVAqOc8U+heIUYg-s46U0ZkjA4+EPa0rF58cGAJ55KLmMXIYESXm7GqALUbN0RkYsONMS3iJ7o4RSjgno6AZo3QJO-TStx-oCgcRsm6KSIWjZGpAjShZssvhmXkiCnZsCpSNT6VAFB-T1IjMioJRkIOEbjacdbTKjtM0fVRt2cF-tHk3jJ14Leug2Rgvhcfc6-YGXYNxGC7O+dpAMtC1ze9KedpaK5amDMYEdNj1sEcuQXwVNivMxq00MOS65l2mKxwRZRHGPmA+MESZFpizlWqAwKT5z9Dje0s4BaA5BozbY-N1EkwhavHoFSZTQIZsyfLHJ9bi2mLbfeAIZQiRAg2xO9lI6ZnAQQpWCZh7xMcQGzcBN+gKjKCBGJjVdC-APsFzu3QX7-2FDjohVhMH3AniAgAHwqGu1GjlX2Fv3b+2Zx8oAKIvnJOcM2KKRuBCCxwabjAZvpf6zZnbAheLUJcECJLZ5Us08YuSZbqRVt-Hk1wsgdBNtQXO7tvwjIDuyaJYzwXQEjT05R6QG7M4+uTLe2JZ70xXvY-e90OLHAIdmcB9MIqIPwSq8NwD-CzosKq-h+EAEyOrtK7R6r0zxNcf4+jITwbMsUuTOpxx0re7uMnVE-z0BHABAABUAAScCGAAEFwDgDgQAJWj5AAA8gAOWQECKDJwhtwckGodHWlUTNJl0kbgcgmaZbKMYSnLH+dM46yUcQkhm8XJ1mDqvVA28rmaCZzoC4+8YZcCPzI5fvvvAR1BIKceE-J9Txn7PeeJ+d5nDN3vGPK+t9l8HsZ2vIf6El0d6XA-ZefYr84S3UOhV1WKY1ZqSgoBwEQMgdA3U8TEfMONGsa1fOa2SsFDSjdVEaMaCaGgXjRGZSUoakT6ZSZoImAWOA50BSW6aSa+TpX+DpbmXmNIJmMmbgEA9vTrV5C7BOT+eubdSWeAloU8alenag4+BuYAugUA5A4TVOQ+D+NgugraBggAhcd+CnAQ25PeMg7gwaP2CtdAxUUoEQ8vBWK2FWDgrg50FA1IclGFRmBca9X5NLBQlYJQpg3Qj5Aw+FG9SQsFaQrQ6VIZMmBgtVNmLcGpVxBpEmJpEgzXWMIZQrXwXwvSRUewxUbQ9VcVbxZwjAxgn4TNIODVI1MtSNFWD9eaUgzg8g1YaVIdGIxQuIhcPIqQrImQlZCmfI0wwohlLODQ7I2ICIk9EEM9O9IQ2IpooIkQjoLQfQK9awowkgloLI63NCfFQgwOZpN9dI6wTI0A+omIUyJXYIfOGyOyByZyakXwFWcgc5LyHyLo61BjGWDo3ohwbgKYoSbnTFagBQcpCxBgNw5EYXQ0IKDo6424mge4x4s4wQIDJNZYL3P6YUM-HQxQQgfAcoB44pU4oXBaGId8H5DIYqA4nojBEZJ4kYkI2IC5LQEQMaTgg8egX1Pwq8DBLwyQMgZpDEkk1cKYzErEooK9Ak+QNQsEJ43HO+EPPZX+a5JE+YjvbkhiZglWCtXktgeaZ7ZoMcDUMMQEkXFoJYzcZEKyWyeyJyODKpSgXwEgPYwQddNgXwY3PHX3QZelcYhiZpL5QwWYuEoKADKY-QK0+Y0oKDOSZoLCFE0meDGcRDJ0m0+k50MY0aCY0YBDP4x0y5MIG0oVGWZQiw5wOFb5AYko0Ao-LjP7WsR06A0mcldFK5TFWoQYsg-k7zT0-QXM9lGlRGG04yUybM8stlDFTlIsrIgLDyZQhIv1G0oWK4tNLUyIzVELOaCYLbcDQMaU0MQnZ8RhYEzJdYcNGLdQ01OE6YIKMs70lI31U1TgMggKac0c+EhXDc8GEeM8CUcFWMdcg8Utb1ctJc7NHc1slcK4wUs83o688NOaU888Fc4SUOY8z6b84gM7HMfc+Uv8sZDspI6IkkrDW81I6NAtR80AkC8iH3CKRsBwS2WoRkBHR3Hzd6IvGWIMhgLCm5RWQs-mH5BvGtLIKipYKo10lYd0jcfQMixFCi4QbgEi9i1Qwsm8eixZMicFaWKpQwbkRgCE2uL+MuaYns2c0VaCrNKOA81FC7RA4cxkBIzcqNaY1CltbOPsjNJSoc6NEs7zJiv0NYdda2DGCSnmfgGg7+Hbd8z1HS+84ci8GkwocSoQBy6S2ghqASW4NXEy-QbyvSOC0LXSgtAbQoOU9MLefuCQ1oiUq8BSOmZKy+YefA59TXCIsQyZFK4w+ggiDKncQqpyq+XKj2Ek5oQvdCv-FwZQ4ouwrIundS8JRkGdEZRGJiRsbsPULS+yqSqqhuZpcJOXQ89S3iziuzOrUtQg2ajUW8bkPUKagywo7o0mcJAM0I85XEilZkokitQa606UbC0IaMts--Jg1ZFMhvNVV8zMvwsss5fo9nasiKooYsm65qpguQjyrtMgjqqkQORkMswGmcPAyWG0piS2HA7mX+KGxG7ueiM8uG1zUOQOP66oyq4quooWBG3KoC-QfG7K2KGqr6lYMs8mmS4eGGraf0lcXcs4B1WM8wlg4uCm2w+VIY1MqCYmu2JG0eLK+mym4WtGlm+ssWwK7KRmjI-mmYlmp8iKJ-E5F-RxVqD-Dqb-SwJq6VDM0mc5BvXY8SdkNrXG1w6E8kppbgXapWtMvFerERcEyEtmaHAiW2yk+2udHoVm4nFNZghQN2vEx4miqjWVHcGQKyV2iEsO4pBLcwMkoebwyk3ohvPlRlGO0AElTfNEv2jOp2ulUtflHOlzQOziJkysQk1kouhfPVelMu7gQVK2kKmolUUmt4XE1uLG3lerZ641NSnuvLQaQesmhiCOyLPOQOXZCmICpO05eewOYUnuies8hvJ+QOFdFFCVL4RFKafEmulk31EGhusZG8AO4vJqD8h4igAWM+vup1QYK+2MxwfeyZFgIIuvEmbsiIQoJ+wMLCH+rgJW76RsKxSZIyo+2u42RkBq6+1w++oOSW86iYhvBGVB9G2sf4yuy9ZB1Gqk5B54ABuMb9SeEBvLEBoCoh+vSIUhsclwG8Sh3GnE2ymBk++QrBqsToc6lgdYKB9q8+hMDgKaKxIwVBh3KUURsQcR08Bi2IrCJB4g3KtB3hmYmxARo+ks5oGR8R1R8IAAHmBGtlkdUHXoUb9CUMVIhGj1unGSEE8TfV4FtSbH1OoFqGaFwQAGoLyGSjoTohQgiDHQBfHx0C5Qm-GsSAmpogmLHJhJSFTzJbH7GZBiBHJfixAXHdK3GN1PGInfHvrECeMBEZBgnJHInwmfGomQiYnSmgj5Gd7fo8pUbSbcq-7yQ37KwQZbpsRH6VgZZfLjDuHGnVKyGuMoMJHm5LGyr+aemiBwqGTsT378AD6xAOGTr1DiyIrmhcqsYg1JGinZhJ5GmindmJKKt-xJGbQ7RGmNr4rnzgSQCsZIGxoQ7+yQDYGo1fyfqbH2mC5bIbpygfMmYjTWIwKIVGwQHGQNyQHHSnzYw3MLnqHVHejiG9qCJqGQzKH7mcwfdxnAwQD5m+nVaDahbm42nJb0aOmkQqkiX0QSWBaVxBmLnVH0awM-Qyt80DGSSlDODiXFmsS97VmToNm67tmCJdnJb9nJ4eWQjSh4IxZ5H0bzKVJqQLmiJrm-x4ncXyIanBQnnOCXmoZoHPnOGVYfnCgzJlj-nVigWRAQWSZdSoawX4qIXYwoXkGYXb64XWbEXQ4hm0WmZCGg2SZlalnYgsWLTQ2Hx9K2JAHmr+WGX4WULBt1aCxNaWp392ov8uoMADb4ZjoPjqAvjoSni8MIs8ko62SfjwQrkbi7j2tN963i37ibjkEEL2Dy2A0utLmYTQFCoi3G2oSNbGQ850x9U5hwnYg5hVxw2Gh9UORp2YgOQ52Az9UMJl2eANw12J36tQYt3QZd3ph9VaLwnaLnR52ih9VuJDBkFmtwnb373PFFQr3Ch9VrXSBl3P3Yw33Yh9UbgrEOUWBDBx1APVBgPGoVg-2Yh9VvGt3Yh9BzluBfAHdkddjfGX2YOFqwRwRPIEOYgkOUO0PQBdifIsP136s4RuAGgiPQBUOkdSPQBIR6OYhsP9VgACODBkP6OSPdiwAKO92dxwQABSLjujhj-C3YkT1j0Adj+rcSBDiTvjrGVDyj4TgAQklCU548k-Q9AC06BDU6E9w8MfE905U+MZiGM5Pfq0MYBAI+U8Y92Ps+s-k+E8R3M+I+c9AGRzc-U9w8Rwc5o8KCc6k986BF44C4hA0646Y8KHwpiA09iBNvTAKgVxbeHYwVUaexWDaVE24Ey8+MmTZn+MHYbeK5HYLB5hYAURMGjVy+mHy+REY43aHeK-CafnZOw6KCK5LZK+fzTEigy-a-6+FO9TSLHbpn1QnOEHCdm564jf-fq0gDoCwS1OndW-W5s6W8VAA6oAg9gEgGXfA4YCO8W92-26A7gS3dO7gQu6W-1Rz3IBzy4+e5z1VaxPS-Ur6-uP7hy4BBXGa8Y7FhkA0d+8mRrjK5G4q7G-7gmMa4aGB-wq64vB4FG7+65rMqIqqTeIh6q-XmVMyY7QbzeKmzVFIANNFYUXIGrHEuOk0EFavHx-bY4GNi7YcAe6KDfRJ6OCKBNJJ3jEIDFd9QbzYbxLNc2bBD8JPVsvYwx4G5OUIe4CKfR9h8x6oJtgMYxYaFl5EHl-V8V+q-wFq-q-OtV-x-h4tK59iFedNeOtZKFQgahjEC+H4YMId7gaBGnCxBF4rSG-TcrwcSzbak-06kwANu7ooFMAYHFQ+HKhuFIGHUKqntWnWk3C3t4JInqOOeyz7ZT82zCYYGqbqbicz6Xj+E9iH17ZvAL83xERuHVQaS0GxRKY5c5LGWkSuwUAyCAKMHOOUGUBI8al8bm0H6xnBFwR01wS8askia75t8VEn4nTb7y2+S4WCb+xOnOL+J3-WfX61OeGggTeKZOkqYhEiYb7qWMGb8LPy554P56AuPCDCesHBGbfiH7OoXMzfVT-K1-5XA6YoMukEyI4Tpi-9QAKMLAKhBBJpBysN4X-oJh2g193YiAgzupHow58DAYsCAebV0wgCCiUfaRDODj6xRE+w6AAVZQMCyF3GLRNLBAKgHCUYgqBL0sUjzIIpbkiA2wGRB0wX9fGj-JgGQHMw4DwyXAyJtAMhQFNNiFLQglRRhLVdDC7ONAYU1XC4JqmAg7-uHgQGiCgMPcUJhIMKDwhZIZEd0p-yCKSRQQ4TN9IVzMGCDSAgkeohEVhy6DAB6PSQFqQhCbtuKdMEQTDBuZZBEBNg9wbiG-7cCIidTObC4KqLggAA5NUzfSVM4h0A3Zlv1iZlNIhMMD-sENj61hSAQRcVHkL-75oSYa0DaGLAKE7dLu9WIQHNysjBAqmDkHSDfmLBVNVc8IBJtBFKCP9w8FQjRjeF6FBCN+dgwSNX26HlDchanbVgMLcFDDehuNGnnT2UAM9oaQpK5B4BvQRlCAU9JopunYLkZXB+qHYXQPCZ9Eky7OcjDryKD5cFh6wJYdQE0BAVMU6wtwHv0tKXIq+zFaVHIP2FVF9U9GE1JLS6REEH67wxwS0EuS40KhtsbYucieGoI3AmwpbApQ5S0C9hoI0clCzYF7MgQK4EmrIOIKnCOB6ccjLi0HbPDjAwMKYvFA0D6AoRHMGEXCJvSvDERuLIKNl2lZ4DN2rgrCKpnkDwiKR2GKMigLtBrD+RveP4h8NAHsjm4E-A9tyL5E3pxR76avtKPtgT8bh9Pe4SsLPIECigXQ1iqqLuiXD32dMDUXcIeEr1RRGw3wW8K2E9xRhBorEVS3R7kilR-xN1pGH1BXFvh6I+UkFD+HhM8R3SEEXaL3KejvcEFBMF8gCgC9foWpEgIiOLrSoPS7w1wWLB+GgDP2mwlUmsXVLgizhHkeMU2yIysoRSaRRMcIwiwpithrgy+qmM+FZjaMALXMRsUUGJZ6APdUDjGVx575yolAfAG4jGzCAKgL9d4UmKLGJi8B62d-iWNx7DiZ8mORgCMnIxJixY3dGKiSLbp3AWAzGMPIVWwZ1hKxLgLCPuJ4Yb1N8O4kQKK0Kr6BLx3EKaJvUnh3iToeWZ8YfV-hviYY4492J+NfG7jD6U2OFqeMoZJi2wngYCcQ03zi9Bgp42eg4joZHjt2B4YKtuP-HTRYJk9WvJBNjGxxNeNAIAk2JAbcAHA9rYGIvAYDMJhAHAUgAtFZSEBOiY48CkCWoGpARMJIsZrEEbCfjuqaEynHfWIKETsJ-rMZNxPNqzdeW0oUiaRgok1DqJ2Y+CWGzqqop6Jt43iR+LQkclQK4Y5ibAOrHPFhJCYLCLkBUnpjQR3AYyUETrF2jdWeOd1py1DjRiVw8bAli4AsmIjca6uFESQDxIVAU4vgQsoYDZC+TmsOsQwNZkQm0UjAJKVwcFP8nAwwpTwB0chKDQkpjRiHYfjrgUBeT2GsUgKZlIQhRTF+u3IoLlPimkhR6IpSnv0HuKlSop3AUqUNHCkn9IpgUrAQ1ISlgieRsrVKX4TwrI5qg1Ce6DVMjAhTBg7U4kE8DSmxg+pxTMzAVNalNNzU+UmQCnFmg0iie7fTaitKvyNxMpM0SHAwGa4-EJg+dVabiXdzmZ1cRQj6JDiwGWU1WA0sgENKKojS4pTPRUEGkylc8Zp20gXLtNPyeSJYt0xae2QOrsMhQ43UEBWlPGkIu0IEqCFxLQk8SrxAExgEBKz7IQFJnOFyTYiRliTwI44VwdBInoV8lwXEKgFhPrwOiBcSQQ6aFHMafjSav4+qRTKxndiUU1eRgIB34i8QWZcM4hkmOhZ4CZASYWoLglcHoJRZc3avhqk6D84+Z4QVwdCxiDV8F4qcCPPq1iBKEwZeJCGZSChnqFeZ5M-mVTM+HwxWKQeFGMmNYqwysBnMumXxHMY3gOMU050DeFtmuzFQ9s7meY1UwKZPZEbMWB7NV6YtiGYIyWXsDFkeSToUeLHKfhNpJisIPHGaVBnZlko+gvaDlIwDBxzZex9AbgFCKNlQj4Z5IRsD7IZQ0hxSjIb2fTNpETD6krMuHJrOKkrBi5Qkxhg40dkVykSE-EWZHOlmMV3o1fNZrHP+lmZgqXcsUl9BwmXpmMC4-fJzMplhskxnk36fl01ywyXGSOGkmoBMBeAs58825JvMsjbsaZdAJeXyCmlpMu5feA-DXjZlCoo8+WCnLkAcDUJGQAABhx7-p0m5OMbKiNijUBBgsMArK-MqmMg3cYC9+b4zxDqZQ4kC+OtQk3xqoagjkUjHwUeCni3cRw4eEAowasV8BhXVitgoAWTYuK2rAvmnM4g3Zg2hVHnGllVyKYFcJC09LgrNA+Zf5LC5omwuSidNNSgQSZE1jYDDoVxTEjTOrJXEQpSgKC3+TeKbFcLdhgC1MBCicGsUMxijVitjkEWdBh0pku0QHJXYCKGAQi4dFZMlEOFHJDzHGVouMU6KOcVCjyBUG8mhAeYaWJsRBIQl8KUUNikxY6R+ZXE2J+k16E83aByzTxD4DiZGITSW0IUCVAiFxORn3j1mgE5Bo6Qvk2SVgQUFgFjHEkMlSgIsqMN9WaA+K7FjMj8ZpIzDQC4l9k8Ah6UVmzMSlwi8PBEqEyNLTF7sB8EpIKXGA42+LDuW0vckzz-8Os4GBDPBI3I+cGEtgOktBoCBRJuMlGckrRmpKPFYbJiAOG4mGcgw6oeUKpSCgOAgmDs-iGUtHjMzm5SzU8Okr55TltJAS9WaeGFwRs8AkIF5SuERmLLElorFJcQUuVsz9KWSpGVstyVWNpQhyn2STIwVcAQ5sQE5W+WZnQDoIqEShiovBGHUIV4oaln8puWUQBwTi2yqkHTi-LVlES-+s8teWZLQ4Ec1hDOI9GUQxFDkkZeisxm-KWGjVa+gcrKZHLzGhAPcL+BLk4yhZ6kPudSolnCqxZMs0JVkB5WFdSQSs5BqrNYnqyeV9S+SKivBmjRxliKPnNKp4B8riGCq0jOxmsxEyRl02DVasy1WPBCAv4HVSBNABkrIQBqrCMqsgGoxzZyE61VgI5W4hwVzsnqRG2dmkgDFhQb1VyvDzKrg1aEVTEGuhXOgcW1fKlVHKGUuA3idSVXBzgLn1zF5oANuZ4tFyXZ7ojAVXBAuti0KMZHAehfYv6oK5Q1U8xkM9lDXgrC5V+GvLGtZwpZbkycfoEWoyyRqiguatZSf1rWIkq5wsqWbqI7z3TOsnpHIWQCCJu4RkXavyows9kjzJAcc8ecOsrmzw8YT8pfAwDTzWQAAMnAnzwEVMg3836NfLLyq5+8Z8mZYhP9zd5ZsnMrASZh3zAxb1d8oXNXynwLgv1eWP9X-OaQN591h6k9eAE3zvqZQ5yHWF+tfUrz8pevQYJrhPzjzz8uIOTK+r7WGCLc6ueEFNLQ3vZCFBcPDZlPaG403i8GltefLZmIaDpa8mkZrmLX4UaSqav+RmtPlM50lV80vBB2o33qH50ckOhTgqF1y51DcwTSiy+n0a5pjG7EMyy9asbYwnk5DSvD8mFkSS3oSkXnLnzNqpN6LEkjNKo3BZmk+m7jQ-L2rSbbprDbMrOryHia8hF8i6UwvUqtAWu9mSQOLG1Kkxph4IGdRULBZBR3NDgHJQTI1CuDEUImyZGJoqHOarp1fELWlnXHljph1mnHJRvnFu5ggh89OGDinrpr8t5y0oAME-XBZc5t+egGCNK25b6BumvLDVpzlFaoIpOMbLpr4nU58t1a9SndB02Vb3gjIfdSvnTyZ5c8kG8kENpTwjb18Z62HLpvtyMdettW90R3PBAYgZxeDV9FlvK2MKhYrWv+R1pg1VrS5CuJbbesG3x4D1x609UxDA3XbZtxC4LAtvwpnbTNG1IKGtr7S41Bo0DN4AomhJOkkxkUp0vnVvp-bzYmwzaYukh15YsM4OlELaKh2hwrJuDa+j9vea4hb2-2k5DDqB2QZysIO2cSig3JY6IdgOxCXotR0ywsMpOhHbjsQko68sNQMQNamBhibydJ-SnWvyxSKLSYHOnGVzs3xvoFA5Y-nf0o6WRkHF1cegAonwDVAGydAbHaYHOrpaPceOt5ummFJK7148O5XVgNV0KBq+f2uXQwp+QzhddiFC3VGW8oBaJhrlUtBboV3a7rdTAhkgbtASm5j0IgKprbrnXhNjd1QIbjLCx0m79AtO5XfFpk0RTU0GOgeCkG11Hz495sGZpOqHlmzKpz09TaNPenOhfdDmknUnpRBh7C9euyPbdJQi0cSOIe+XTTpL2IVw9ZlCvViXd1exPd9QqyHnsNL1T49JuoPVUmZ1AE6SWMlzbJuJgPFVp680kkpsRwGD+w+O-NJ3v0AD6W+9moIhcRw2Kg11-Ysee9hxbcCCiW+jdbvv1WIq-MUGJvUiAIZXTvonuxoT7rs2BbuAy+znNfR7xXYeioik-mWW+TcQt0fO94SrwZKvNXeJvT5J72+bzDaetw5YV3VHxl6cck4NzMtIn1Ma-QQsmfX6Df38BSYmkZgCrEPg9Eima1aZVjL7Vk1a8aHEOVmMrCAGW5MQVYmqQ2K8QeGNCbyAUwRVMDwQZomA4HHaElkFWMc9dTvvMzIqqB5+4yO7pv3A4uDUBzURaIYj37ACWgVfeE24NaigKQ3MuTsTj13s-JjIAAJwnBg9PEPyRdKMC0SqkT7Uw55OwQbQPgT+-xciMmYfAglT4W5cCWZxSgP5lrWIFYeaz6AYhMQqyGgBCOustJdKiFH4aCKfSKlJUkw81gunTZqE+0uaRLA0YuAfIedJyX0piBRHEjthzcOdRuCwiojUulNY1maytZMyqhUbPAbV2ISDdUh3Dp0CawtYmAbWRQ2eGtQqHziFRto0bT70cyFRbgVfWfjoBFQTwZAG6IikP6zKc1jIOkVsWYCwirRCI-xMYDGNFRKmRwCjVzmBKJJpj2CTxFsoNSRyVY8IVSlEYhDeQfIqxxqBUL+jjH+AMQG4-5HOVXGBBsW44LZO0kRAWIA4MHEwAHHrQOUw4wsq0FcPc9ttFOHLU1vnGAmRkEJmyQOAOMistS6AiSIilEYmxIlwUXQ-4bw43GfIYOQQGCdEBEnvIbxuUmxDskNArjhJokzmomGLRt1jUCk5SZsl5H1cOe6YJ5Mn1oR0D31T43buhW4GE4BB3zRfPhw0GmoJHOYp7MX2tATUgh7fWYdTlxU8WolYnbfSECGBHIG0aoEVFc1UhWgCx+ufSOWOMi1jqcDY4aeeNhMdjuOKFj6yU29tFTypqaKPLVPvQNTHfQybYLE1in8DQBJUzfTcpESDAMpsHoxzmKZa+ts+CrbPgWj7bATU2TrfVtu2Xbhta+MbdXNYpNyZpk21fKNrzzvbKV62vGHcdGMxD1s+gOgwAB0sAhWmyniX7EPFgg5mc-fR2I6bY0IQR-eFMdWbFiqzYmms3vjrMtzGzzZ5xUCfbP2D5MyE3gCeA0Y9AsIS50AAAC80eoARs9zxbPAw2zMgDs+Qe7ObnPYWJfs+CFRPGAaoqEfGDqfeD6nNwNZ-c7OaPPzndO3g4TmQisgsAqmygKpnN0mAxC0weAEc3bpfMznDzx5z8zhwhA-nu0-5wC+0MvP+QgAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter 3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:teal"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in section <REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULAYiNMFUCVhyox8YJvgGeFaQHYpgRID4F+GPC86JAa3HfjaJfDOgPwh4f8IeEg9SyEMGEWiwcQacsoWoO4Dgx+TTAigSMYyD2XhGJAtG9PZmp8PkDfD7hfwskY8MQwAiOEVPSouwyqRgQcYkiRWI4PFBAxfBLMeoXoM8CNDuRzQtyA4KKZ3B2hP5Z5N0IaE68K+sPfMJ4KkHfJNAbIkUe8Q07qg3MK4NyJdV-5zCTBgQk6IqIyHAksqJI9UbYE1EMlVRCo+QEqI+HqEem+AedF3REZoxlMDosYCAMa50xEeFo0AGyL0BosjKWKO1mhkiGqi-RMo+kaIUZGCRmRyIb0fqImFBiDsW0UMUCyjT2t1wvoozmqMsCmif+DJZdKGLP7LBl0voosT0FVFagNReY9VoWJUbORF0pYusfZQeKgcXRq8LuncIVR3BBubkCkV9WCanEMahImuA4kNG85fUcYTEG5Hm7IQZx8wTQFB29FQcORPiC8maMsLWYxIVsCsSaLNGKBFxVozSnAPnFOjV6HwZcWEMIHCk8xG40SOJCxb2j2xboxEbAj+aNluxFiPEc83XHJQxxIgQgA4H5ETBqQlBeQCDzSY1iwJf4qwFd0hF-C-uCfZHqL05ES8rYV3fnohKKC2ErxGSRNEb0+C1xFqw5cIeg1g7C9GgoEuSnUIvJ-crYAnMCWKJSLVC-uegfpiiyjB-c3k3Y0APyQAASUmWwAAEFwA4AKTAACV+SkAAAPJ71kAUkTYhFXwBmA7uq3Y8fEh3GWBrRKXACblVImUTKxB7WCeIJpAic1uWCfSeqNA6wSZAlQOcYMDubWTR4qkutuZOCZ8SBJwk0SRJOkmySHJNfYydSFMlqT6AFkywME1gl9iAptgciZzg0kqQKodk4gPFi-GJC2i4g5yf13MlxStJ0QikU8PkDR0GEbIiUtjR9J3dJgOQKcRlOQjFT0BQ1bMcQGtGN8lJJAh6olJ1DZSDRzabiY23igiEzMUkAAAxbFqY2UA8F7FEgjcd2qHeSJQCQSSFJppIEgANOEiLSBgy0lcKGR4CMSsIvUpaSMBXB3M3sY0n4NILlGndVpWiY9vIjmkDjjO2LKIqcT2nXTZpYwXPudLn4xlqYpgDuKdO+R2AsoYUSaXgVH6LSXpbkOaRsXtITSrp00yFHNLoGplqY8I+4AeBkDxhNugCdPNUIQ7GRpQogk6eoPSHPS4ZXYW6XAlS5bQGuBJU4ijNsBozpA8YXYWx2LZRA6ZDM+MPV387mlUB5w9ylt3qimBUZ6MoGXPwg4TAmo2kOwMRzaGyCcmwog0f0l6jsyRZ7xM3j5xxmBxbUYlBHmUSFEyDnK6wroQCUhgkFjIJwkyL4l5FGD+RxEW8taM6HFl+EpQXoTDzGAkVQg9oiWCRViAqzGZGgvkSYMWER9t4Fs+8unhq5hiTIoQP2UzLgyGyYWscw4R+3UixAvZDgToW5QIECyk0Qs+marJ-YQdPBzQ5wGxAZB09ghsFRWShMvo9CpIcwloZmjcGXiNeEEHoUi095m8feGpXMa1IDk2ydR3Ik6E2KiDVAHZYZbzoxAiHrhqgfEfungGRqLyjYF5OuV1iaGNyWgY8g0Z0Kmjty8JUo92ZaFCAkAe5e4xQSPOMDait0CwvftvFBYJiDQvMjhh9JkFbz3BEXCWJUIlmIJpZCwLec3J+KPEF5S8p2dOjbGOZFuSwyLl3Ji7PzK5DsuLhFRPkmle5v-fIG3yn4ric5RlB8a6PdFRB+mj4iBRp09Frx0FcdMXP6PULIjgx64dBVHKijFzGRZcuEHT3IWElMFDxGhT8EoKi80WTC0uQ2VYV3BeFcdRXr4NADALka3C04vQtTGUy6FlC-MMgtwh7iCx3OMsdowAz5AxcmiwICotQUMkBOGii+R8AE66LTFOZFsRp3AUdjaRVeOwL1J8AsIqJGwmISvjvQuKG2k0zKrznqyyAWWvU7Qajkf7Azcii057EEpS7vMNWofMJb+1LbSA0ZRQPDKbNRZ-NYmZPeJRBygY1YnFvUhcZOwOwNTClK4XCFguomX0pglqNyL1Ktg-SN4f0-4ADIWBBLQkF5AxclCtjJwDFe4g8SUovkbApgAExkNUtIRBK9FUQC8R0KvGdLeQd4u0XgpfGjwSF9Ke4Bm1FlDFFIZoMZbUuBln93xZgT8QCMUBzLNxfgbqWYB4n8TbAYkrcAABkpMckwiY4kUnKSHqvUjqcaM0nVzZlgEgKaFJUhosjJpE91J8sBVWSa+NkmGTdDiKOTKg4KtyTcruWPLwAfk0YAFLBWTSvlDU4JnlJkaENLQEUr8ZBFInRTs+FEuKazPGa9TkpAIx8I32JUnKHp3iu4HSoeHNsclbpXCOCs6kVK3FeU4kS8OIrqQ6lzNH0rkphWbK463yxqQaOanvKYVOKysdaOgnHwSG6yydvuKKV8rnyX4vFV+PynCrCVUQHBTXGMj4qqwVSCYJiOxH2V0p7U7VWUuKUqr5V8yYcdhG5VKqnVabF1eqNVXvlrK+qouWsu8ZaqM2SouCYOwZ4Xl7Q+dKSOhJK4+qp2G4NWGGrKX4Cx8cakgK7P6H5g4QrELRBsojUZCo1oHbNQsF27JqToQa6keEJaXATWBKY6IfqmqaQSLlxqLVH0GqH0SLldwwbqYGqk3SIZekxKXgR84BTWBY6lPjROR5WwopMU65GZNoAD9C4DTVcIZCHXHKHhv9ZyEyqhEk8lMiU9lYkEzVBB8gaCfnglOXVJSKRHBYyKcUSmaAPV66n6fdBvVlqvOQ-RBWWgHUjJFpqDAFVEprlCQ4pVsIZQEsZBtK0gE60iU2tlVayR+s6-xFJAXUUrYpCGzoWuosBvqYVUa3dfZH3XwTkerK0QCepYBnrK6l6w9eEUmnkb71loJ6ZNOfUw1X1m6vaRSPn5hyuE9i8-GME4h7TeSW6hYGOuiWOLJpS64KQwoIXYR+NUqsdRpxW6JTJNLkldXcyU03qVNmUldf0hUC8kRuH6wDaOpvUuVyB0gajjeoyTXKPJIk8SZJJkloq0g7koSbZu8kObtxxnJ9RBBhoVALNwUr-DnI3C5BFu1xPjQJok3Aa0gemwdXtKM3ATNlpmi8r5qVVWxnNKKp5ZwjS0PKnlHmraAUu80q1ktnylylNCC05AQtEVdmLow2DRY6oj0LCjnJiWjQPiOCGrUhHq3BLeix0O5uATa1CBWODWq4dP2a13MqtK5cYDYFq1xVmtYm0HiNusH2EcEa1KbRQA60pdmZ0zXqOAWW1IQBt5glot1oW3TRRAnge8JxA2UzbohG2uIkzl3Yzdn862+OYdtC3LcKILACrsdBS5czn8EHGrdQEBl9alGkazjbNqkqfQVtyEQHeXgPa1qHhGnP7YDN620AIdOoKHc9HbJpqNlv+KHYEWIAo7VI+-RhLDvxHNoL1R7bSLqUx2TsoiCOlSCNMxzLb-tCwHbf1uB36rQdujFneIS53Q7llY8T9iiIwaWoiINqyQFiKQQMIqdZS32DsEm3taedz0UtZxr37pAPVjOxHeHgV2KAFdBOlUsTsHbtIydwtCtkpil1pstqk2pncINGknbdojkJXeztymGqhVhU9SGar1buw38a8M3WaGyinbKm6atNpq2pUmRDlPYqNU5TyaE6Mg6qrwB+N7EkqJhd8qMA4hV2mq9Vda-eEbqLTUB62pu0NRmyiJ+77w1uukZMDQT3bgmtsW7Vvkr2aASKRjExlSHMaxEIOlnZduShsls7qRIMB8s7ueGu6iQ7ug0CZIaYwxYBzdVIeMhVIRIq5bxSZUYlPZ-UmxOXcQPXrPFBBKo+XGqKqLlkaVFSILZPZvvb36c4ozbGkqxS7FHKE9Jyh+baBeWUN9dhuy9RuBP3WcxklOgvdTs0Bv6DOL-AuGuPPATb1qmIq2AAE4XwvUbapiIj2DbjAUBmwBtSjXNCtQPgTQCpHVlTyvdPgRDa5WWGMQrAmJQaV7yCDQGxdigcNuGwqhoAaDlGzqN+stBkGdhwePtcZCYPIGKQGqPKYhhOhWAbwBhd-vzMCDsG8pnBsNJoBlCwcmDaqmQMktSWhRS4+m7vTCJS766lk2e2Q2LvkMPgKoPuqIpoZSWpFTZpej5BJ3+iB6zQWUMnWSRXDlA4Q6zGNZfXtBWx6Op4LYLBzMOwhQJ2oJQFYfO46knwnKmDYxFGx2GKQ-iJFpbnbEjBHwZvJg8LWvA3hPDDADNj1jJ3GBEj7UU8T6MQOYj+GfrCw-uK3iD9oF+gLOZUMSmpEhuYTTEPxqRj2hcD0jOTYJuxjKaNNwU2rEUYH4exQj5FBqNLQU5whkS1bEg8IdyPkGNwiR68EeNU29Y6jVvKY9eCyOB9yj3G0g+MbNCTHFjkHSdtFHOUMBFjSxgfiIZJUWrDVg+t3baOrgkUU2WqkeRPu2BT79xSo59WvoIAw1dA1Kn3c8dj3GNr9Ee0cTSJnLxdd8OCYYHQAPAao-Drisjk4ZcNFKGO7h2zt4YcCkr0jARoI9sgvI3kryUkTLl-ul32hrcV+8PX2MBMlb+Etx6XQ8ZSG7QiTBAEyqMQghvGXCzNT4-2oBGYgrVohUXeLuUCK9eT7qOgMhKvExK6A3ONFoKc4jCmK4Ko4zj2RMUmQPVlqyWZxClPQjEgD-fkyHo31Sn7AYuOIoLsYBoiRdjgMXUjHFMKizT4u-U7CMzwSn8wepmU053lPB5FT6kD1UaZNMYjzTSCJ0+KgriTKggypw1Qem5xT5kjhR8NjOMUAb7QAAAHSwBOKZGVR4iLyWeap7Ma0NNCCZCoNKZejDgEtJGY2XRm1usZjfYmeTPcnOIg3NMwO1AlTwySJ0f7qcUICaAAAXkAwTOnAUztZ-AOmcX1ZnQAnZnM85DzMbgCzpXD3T1DBP0BIT64aM9WdTP9n6zjNN1jTQMwVRSgupUgLqTdGLhw2VEPAMWa1WLnVTy5gc2ucPbC1NzSmbc3IT3PNtxz7UIAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section <REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and <REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYI41oDYLB101JbefxqvhwYRhs6IwMLQap1ECgIAUBpoCBIUFRjBRjzlG3a8gAjvg-DEC6B41mO67YbhJDWkwOF4dMiYjEOpCQfukrZp2DTdqWlDEDq74pEe5ocVxc45hhiocJyFg8ckfFiRsXJCax9TdgUojkMQlaZkxD5HMpSGxsKqp-oMm7bkwu4abe7rztBqGgCp9AcA69ZWpBaaioxFksTCImjJikRMcoABEACqhA6oQlAAO40DawwsBuoAALQJcRNJ0kwAWdD0JL9BmoA6TIyLKK5tBskk5C4KAMg7Nu5BsKenyGVWyIwqsyTiTQOnAUWdUUA1OURoVeUMG5mXGN0FKiLy2wVVV1j+mw3CUEQQiNZmzWlck8b0OstB2KQGQpfpBX9dQHAIUhzXWTZyQXiMRQshE1D0TIKHXUiJ2EMBaYquBkGXa913FVdb0pKtAqeo907Duto2BO1ontU5uEyDue1aVJ6ybJ9lq4Rw8Z3bOqOiJKAMhMtTC4OQhDSF0Y0TVN7KBD5lCRINwWheFUXvSigygKQEh8IlyU6RltNGL08KrbZVikA5-I46ZMgXtwtCea1rjw+FXDDZBysld6Hi2PY3qXOEkR6WlBURPZrlK1uJWecDTR2bLjkK5BO6y8Vdsq5ZOaZZLH0pXj1Armu5rK1eEb+fe6tGPDOyMMjFv0suxkMF1cyaZ56PGHxR1p5HIcJlB94oSEKeqoXl5cMTpfznC2U8+Ssa+JRZH4RKqux4zRjlZVOxMAt-Nt1R5Fdy1vdw7JWzk5T1MCGL4v00w00D9Y4j2bRQ8zhPG1NPDldWxBsvb89TEOw3azjWIDPylt+2Uyfvi3kjq-pKAr1H0-W9VHRu8XwSFfeo-dZoySxm-Y+v9GRv0nq9eGP9T6vwVkvQIN9JqrynvUQ+dZSLURejZT2L80r0XcoyS+OZUGuF6NQrKWAH6gCIBOPsA5pAHSeNkI2oguh9GbjQF2csOBMMnKw2QTpTL73jjPbkux7AyHEfrD8XD5Sm2uMIlhC9lACMcuoqccxIQOAUTCToABIVwdCpa0DUp9JassWzfQzGQyUcc15gLwePTSkjAgMIvgddx+FiH-2GE42GbVpGiSHtwEe-iCIMVznnUAyjAQhAKPwOI1iHL4DsUwVM6ZBh-WtkgkhADbwlQBCDOgGTbHlgcfkmQX4fyjw7qqAGFSpG-2KcEvesJr4rxcRycJfoAxJmybk9SklRwuxkA-EZNS8mnRtCaM0ap4nBFEoWRsZZ7HzPMoRVCmoZYyA2SWLZOTWxGUWXaFZrSfSJL2KgiWTcyQ0FbgJbiMd5wuIYedA6byzqUEQmqVBDCtRqUmn4qpWS5nqUgudUJoAGG6NEeiD+2j+RIoXjIUF1ISqoJwUKS250naNFumk8GExIbPWxZNZQGLpDd3nAHJ5uVW7tXkl4+GDTpiIwVgQmCR9EaR1MteXZzEbkNEZY3Xhzzg7MKnOfW8asp4MIVgdI+cqBz0Ugdne8qCNWfUuWaSB+qtWGpqB5UACtPJ4vCSgixQdW7HKbNCtsHycwuP1YaJZ5peVOtOWMjMXqrnZ3lEfP1zYzm1NOrynVVlQ2UJ6MYaVLK6wzOTJGnZ7KPUiINbaI1vK02jPOQsvN5q3TEsOpbQtLqjIxotXG+oV94SIlWuiXAmJsRQDgIgZA6AiSaGZbzHYvJRD8hTlTcUmkXEJyVPgE0ow1RGAAD5LpQsOxgE7F2gBXWu6wpozSsFFboHdTQdhcKBfavhokqiilFD4KZMdSAxEqCwUUHLBnWCuH5CyoAABkv7QAxBYHEH96QwN82fTeqVUsz0qkXVPGdL7b33sOTHAK4jRZZUsaWwR4j4NrHhkB2QBiVnQaDjsE1JS3Rx0Qzeu9QgH2KtAAFSjwxMO9Clqx0+pb8MDKxoB24JGiMyBI54npHGg5ce1T+3uhHBPVBEwpsTZGr1DITIGItUaj00Y-Uh+jHBGOMkCtW7Z6l2PJt5iZjN6kg3LKnbJ8JwmhPyahCs8TFnyRWYDbWoUsTJFyeA4p1zomLLuZgwWBsJyI3eZvNRhz-HE6vv04Zu8AVw01uoOZqW6XTOBrNbxqR-GnMKeK65sTTLsuRedblnzVoCuYy5AJwLJGQtuncwiMAAAxSAAANAAsgAURCMwbg4h8LMbBiIeep5MugAiquKIzG4IsACh1vKuBwIQasIqXaq9ttRCTAIcYAgghraiKQUgKsgggFFAt-Axo0DzWALQJaDB8IJRYGpEQbAJDAAAFa0ASrQcQYpgBWF27QYAAA2AAzNgRE3X+tDfWGwSgUwIOrzeRiLEtl2CARYP8xCoBqDjafUwNbIFeQMDm2GFWGPQA-KpnlBnoKdRzZiNTKY1PqbSGkGgDzMjlv1do0llD9B2wBUmxTKmM3CBZaDstr6oENijBCTp-jX5uByBw45cRyhStlslGFhXeP4IAqQvZpInLvzTDeTcZrCnWtG-a+F8BclLd8ca4l5DDHUNMYCojM+M55dXsFZeYV0cZNW8cy5w3LvyNzVDrL884ezLC903RsXs4Y7ioCiecO6cI+ZYq0Hau25M4gbi9H-jAjmC4HbE4RuUsy8Zy2unmvMsZL15jjoJvpfQ7p1rtnqPnuti14pu2GHTKBeiRie3r31hM++-F2hmJIeZVcqafgwB6vGtTICmv5QgC+9XpiYEneXT7NJtHzQA3pGsNB0QefhV5D-Mx8C8fh-ofTJFKCQxCeu+WwTuuKX+Mqg8w8EgW+HipSb+CWs6cin+EmqmG8E4v+F+w+r+gBMi56wB8eyBZ0rO9WDWWw3uyWfuRmzGby6+uUm+duHuhWe+hyAUVBR+FkJ+Mqfy50RBAWxGSmoWKmYB1gykqk4y9BxBMiS+Bm5BqWwhakGY1BvMYMQqaeYhPBQWceJeV63sqh7+vBwWfBbWmhMqWs3slAvsWBok56ZhIBSBMqT+ts1hsBjWwmjh7BuURCph5h8WjWJGrhdCLaH0baHaOI3a+IfaaAMOg65IicDAyMG476-G8UYGH8ScTAAhNBNuHAq0MgIEP0quygRKPcBG4S++80i0y0WRH0AUFa9QuRYE+RDO5u1qoBuUQyC0S0RQ2RuACRC+emWeBUxmWI5RnRVRRhuUYMdRKuEEBUPRY+nedeAxoAjeLRihH0hOF0sx-C8xE+uAygveKx5IShEMmIUMs43R06JR2x9euxoAU+6RvMm+PKvm0y1ABMmx0s4uAe0ib81RCKrxM4YxQ61gTxdWCs7xpB-RVqzGIJuECh5IMJ0w+Mu8YJFxRWseRyvmeBMqeEWofYYo5KlKu8nyCG4SJGTaM+T+7acGxJxRaJgW5JUsOJlAvIZ0F0yuSq5iGs4SX6BU7JuqWUDCZOAoEBBJJx9EB0XCPCUsm+VJzo2u3q3c7s7xPJZqipvmNhFJyutmk0vJKobInJN+TWsgspTAgJhxWp7supzo+p1+hpJGJp0+jJG4d0QgD0YpACpaapNKDOE40wNJXJNe-AooT68pdoJUGQ4G4wYoIZloiiREPJMpyuoZZoXpDsPpLJ6ETQIQUZwZUQyZk0ugAAPLZEGTGTiqskYDGAwL5DIAFAACraifhJgSBDSihzozjoi7S8AqTSAhABSgAADUn8bSYIE65UFunpugQ5vx-ZQ54qgQo5Yo45GJBZFZoAFc1ZLMtZDZlASITAEUrZ7ZwSdA+oo25AvZzGg5w5FSi5t2uAE5CpU5zGgUV585rgt5y5sZWJuUWouo+o2p2qpaSqawjJnoBm2oWu-poMQcViSY+ZqZXi2Cum56qpa5GMLI4FZhfKbSTJeJooopT0RJ-sb565dApaEZH8wmqFJFlZRpK5cZIMIQsFmYomk5ygJGX58KtCICM0LIFFGOwpUSkBbphFwwiFKQzMfkQFzGIUpoy0iSKomG9Q6Cd8gIDCJpB0lJSZwCB84SzFVpNEnpBl5SbSGIKob8f0yuPSyl18tJjWGFv5kFCagcWhOaAFMa0llowFrgoFEwmFTlrI-Sxgli1i8FygX5QVYScBsiNQk54qMYYFjl2F10uFE6BFpxSsxFNkTF5FyRdF1Fb0HgvIsswmsZ4V1IaFay+lrFj57FCmnFVCdM8ooCfFeVQpkSI8Ilpx4lN0m5Ul3qgUslHRAgClzoQseUOa9ESlKQKlmCr06lyumlhSWR2lCagI8M+lJp2pllepNRqEW1lpDpXFY0tlAZ9liVEFmVrIUqARfCQROOXaeIvahIGAURMiNUPU5AfUfCx0hAThJBi+ouy+ZxRAgUH19U6UZpNA4NvU0wtUo26B4yzUFhd+60UqDCMNX1v4gRB0UyDw++RGvxxgRGQIJlrg++BiRNRgBipNxK++X6VNoQZstN+NTBLsjNLsLNKQ++Z6ewvxvN9gjQZNxg++K4tAo2kgvxYtEtLZDQwtRg++klVNklgI8tHxs4AUX4T6XAxotA1RWtUQOt6I9Qat++A5jNxgMgG4ygEgII2Q8UQ5stptTBCUFtqQ1toAttGQ9tiUntRgztnxAAVG7ZVB7V7c8PFIHX7aAAHRrcACHVbTbXbaAPFGAE7XTUwQAKQJ1h3J3xSZ3R2x21nJEW2J2e1538W20Z2fEACEYGpdud3tKdoAddH8VdrNnxhZOdSdTd8UxZRg7d3NTBhZ6QbtZd4dPtI9A9RdAUmQ3d5dvdoA2Q091dGtmQo9yggQ49Fd69K9HdGtNdIdzdrgzwRgNdxg8RDwmUGN3UENlRfC21GQ8omu9uAgygmN31zyIBN9tUd9YMlAxof2OSDET99QL9yITd9Nt9sNvxqNRAxie1RgH92Nd1mU9CAYoQ0DWNxciYx5qKhy++c8VM0gvxRDC8atpl5NTBkAhA02-MRNNDdDg9lDDQ++BtHAsAkAVN7DnDFDLD6ttZ7DA2jNQjfDLD++AAciwBIyHVIxI5VddNfRg8gzgxpo-ekM-TwAVE3cJt0e-Vg58IWt-cowY4icMkGO7KAykOAzo+id0e6Co0Y2g5xt2ZASo10aDa2VIfQO8Z1FTEIoIG8BIGlX9h8BOMQEWFEslYCCo-DeMPREjfA4g4EK5N45KB0IEJejKsVf+V1c9O8aSvdMcaJbODcqkoIDkaY-fc8ttcoDRUg1U9Wqhck8YOU7IO42sQA0A2QN3PU5g7-bDao7MkqS09Tc+h1cJcU91ejRg0KaKFqMaOeFM+KR-DkwaHk7vGg7dV-djp2riD2gSJgG9X8cMGGGQBwFRPQEZF+AwNxOGuCbOvOpEHfvc15B+HfhxVVuMMYleQFBwLOTkEWEufea-eoRiUWFFsYionRZ8xC02MblevNF+G3LkSMCBkCyNKiY1p9sQHOnYJbHIEVMQMQMneiEOTIDi-xQFP2R4NS6RTOVeTi2I4CNS6wRixqVLCZBdhbhumKEVDrPy-hVy-zGyCYnZVsLeb87WVeUiwTryKi3MC-ak8KxIIK2Ur89oAFG4bzCq5UKMGwBS8NA8zFYa2+vKLS1wqtopKJFMq5LoP+lgGYuvCayRna8ekujCwpm6y3eBgFG4BlOa5VMJna1S-6yhB4PjGc7LJc4Gjc9xHa+XM67IeMiGw60664LBnKUoaniKqa1C+m7S9K0Obq+BAa8GzrHmy1HOem0YP2QC2arhnBtmyZGnt63OUCHW1eSW-q6C66xW261W464EBlKtum5cKYPzLWezYK-oxsCPKW283mKJDyQmx+Cq7WQzVoocuW2+nVa5m67O9y3qwwGwM4CYphLy+KKu7xMxgAOQAuuS-P3uOtMWXvLl2vavki6tUQMBIQ-te0knRXnrOhPOgv-vMuoT76HYzkswznhSkAznMKjAIeBSxHjAZReQmIeDrvCbgd7sOB4eYNzuQELvQs4e3CEckaEffu4S-uOlByhNUhWKROywKxdScTCo+zGvJttjKzowHKfE8eDC-HNtRxVh8ejNNla6MfhMsdvzsf4S9hqtceLuLiWHUlbj8cCN+u-ENu64afcCqePgUhbj3Hkj-uGixQbgKecd8cuKgIUbdkiG8eafiXqVrFmoHTyh6eOhNtrHKG5t8fHU30ce9g+DFQHQv0WcxRVDWfbihfdzexBeNUIIee5W+sM2Bs8nCbxeKe8hCDFTuh365fCrhc6xQvWtgyed5UBTs1ZeYh5dlduTQtVfpcfwBQyfMfkBRI-FZdmy-U1NmqSdTKdcRPdese+Y2e9igtJeucVdLs8mtcDWYMJdNcgHUJ9IOdKgGdwJRWMGfH+tH466+dynJe9K3xzV7dbDKwPJZO5T8x8BcdYsA1fTXB8eBvCbvfWuSU+yDUcyRQvI5u8wPeQ2fs0BIldJ2eAe9E8lfc3tkmafQs-fKx-dhQA8mctsionMEx630euVU6BqkCUBnTTDAYiCyBQ-is0Ag9Pc1dIcMAIdg95QCAFdhcM9GRcGU9nVbDCYQ--5nfNpgBmGjA2ZVBNjv1ZJ5SCCgB3qkBrbto47EAHZRKjC3GVS8gyow4RERHOAz7MKcQyA-iqvrD+gMACDhnQ8vfnrMCm-m+rIeBkPSCJvtzUiG9MDG-CbCY28sx29Gejhe85I+8MVdgTUvbEBu-G8kbe9m9lJmc0Cb5i-jBpDKoYPUovpNi41MGB2J9MDB3wpSy-l6ha5G8cBKCgAl8rBYLGA+L3Y58HT6-h8l9l8kZp85-WUpCgK7TGh195WO8CA9XTz8Z9+NXLwXeRXeIYPR8jUfwN8R8cCaD4dyC1+QvHXJCgJT-8V98D9IVD+BPzw0yvSzXj878+EKZT+r9oLyg0InU+XkYJjIdz9l8V-lVWgD81-d9Rb1+9gG9N+L+t8r8j9XEXfHvuBi37H9jAxVF9K5n-7i96mPJKZL-yZrXBn+lqTEhBxggt9OI64Nvu32SBH8q+m0SfoHzN5f8w+c-BfnzCUzL94WF-DNjNA36989+xDfvkFRrbvkNgUAmoNQPGCJA2Bb0HkjyRQFglJOqEUTNwNNI9Ia2+A8VJAKj7EC36qA1-oAO4ozVTqwVIONLTpBK96kA-TlFS0L76grWMETUNqCL43IQg2IGrlTAJ5GD9kLwAnvOQ3I1k2AqPTmDQGF47JxqOfaauLCp4qArAYQUgErxmbqZicfAHZOn3GCRdMiOffwF0AYSy8DoHg0XlFinamDDBSjUIdwEl4fxkhhPVIQFGsHIdMMM+WglTBXBihwWmyJgC-1wjKl+u4aWoaaSZ7GhyhaVcNDIFaGCAJ07xYTF0IqFvoWhbQ-Eryn6E9Dnu1PBTGMLFBQ0Gcww-Cv4xNJVCosygB0hMND4G9GhZla0kz0KayAthUJNYZb2hr9cyh3QyoQcMxKrCrKcfdZGmCe7HDr0QNNJr92Yz+s8eYBdTCMmLD0gUe2wmoYwkIByUighYDgAdkEDjAGAXiZvGYV0iadx+W3esObFc7gCjA3yeYb8nmEcBFh2lLcNcL1LKDDS0w0UJvyYELx4qgI4EUIFBHgijsC6P4Q6XFQhB-Q3AJCMSMgTEjcBaCTbjNGqj9cguqI8QkgMiAsikIn3VzsoFFFgsguF-aQetXCQ3cr+aghglsClF8dbhew7EfyC2gyxkSXzAEa+DvBHC1g6I84SSI-jsicRcGLYQ6RtT8ZiRpIqbMwMDZ7Dlh4vFQHSHxHWkyOdIcCJ9C1raD2Row+Ye6ENFejmhd3HVr6NGD+itBeZQIQsE9H-D3iGlGrrgGqAkNryGMSXBmIEC2DjOLvBwAmI9HOJA2GlIwNCx2CFgcidIXQC6OdJkpyoODXUcOGLFhjkxlYz9P10CH2sAMfI64IaK06BC-RHAAMXmRIw9iRB9QEjIOKnEpBhxMY0cXGNBaTi+mNkYTLOLXH7UrK6MPsumKhAkNbheFcYETwNTlADW8RdYTyQ9ocI7k9gD4blCV45IdQXAT6PTzbDvjBgygCzsWIs7GjXADCMcTJF2jEwDoC4iwEuKCF5kfxSYz8dQDqb8MYIf4m4X4KAlEx9oaY3MfmKOBJIl2x4jYAsnPH1I4xwEtGLcPwAslyhF4Gsc4keHroMWK42sQ+N5iy8X44IA1kbyf7u9K+JojBiihl4bAI+XEiQPsW57RRHR0uBeNGDvGiBSKtAW4VROs4l8HQNErxAwiN4HQcutYu0b0WrFG9dAtLf1qRSN5SoTxoAOsgAAkBsHAAAILgBwAA2AAEp1lIAAAeQkbIAP4kpY5rgA2BK8ewBPOpOBMIDhj3iFEuGoEw3A0S-RWnViYpPC5s9HE0UmMbuIElex7AAU5DvkiZ6sTqQ5oOCSXHeKWTrJdkhyc5LckeScpHA+Kaz0ClohkpFgd4qxLBB5AqokUjgMpPrzBT3QLGRKYMCBznjzMFJcoZlPZ71TgpoU9YS1IqC4BxAroLRq0kNFzpva85J8VxFfGjS2wS0lwUzQuwxjQpozXyVBM2lBToxFgUKdPjMloczGRATbB-AAAMUpIONTAihiQ7ApPJznISMjkBZAHKd6SHFumq8P410gGa8GpxDl5AOkrYCDP9CAyGATPTfC9KRHVC3RPAkwP9KE6nQfp9Q64Dp3fr9cQZmMz6D9MX6vNmJ8JfgOZXDTWAqYKMd6WpMn4YzPpNmH6RKX3JvSywRM7Eb9NQRSxcg0wCKNSG4hc8UgiGasXZ1egeBEZ7MjoX8MJnMzA02M16N2Fh6I9AQ2HfrvzI4CCzRA3EcUYZ3QHJAtZOs7iAjwNkVkK4pnZUUKONlCy6Z3zW4SIEKDm8HImYP4TaKsouI+ZzAAWXbNNIIjeREWc2Lt1PS8UcIrvLYRIMFFiS+YsRNIofz6QECGg3yTEWaOxGfQlhAI20eKnhjGgJJ+-AQDRQ8DpiMENFEILbN1mdCsRowrkTZRMRyjdK0VWHnWJsgeAK5es24FHJXSxymAvsyuWST95ZkkQOKeOTZRUEqjqePs7WX7M04aiGxRQJsYtEnBNhUZAIrysmK+QYMHRForEVaLlIeyCRawUBA6NbqAinR5DcfvDCIDjlIJgY6uc8U5EITEJig0KRk3O4YJXEVY+4ZaEnimVEQgdABffC3kYid5acveaqHXnZyT+WwE+aALJFO91ZgIm+WONXlzj6gQYh+SGN4EmInWjI5JCZxdKoKX5yYh5DyMqhOy0k1gKsOvIPnWl9S-8wBdApoA5iDxeY0hWPyTmHx55+w-US-1fm2UXKMqa+feVvnxiy+3ACgf+MNKpjfW+447NhISQsL5FSPcOUWPEU6AyxyuTsUiJyJOAsxgQGMNwq1HARmSfYFedwHUWhTtF1YiRS3JvaajF5pi8gOYooEWLJpoABhYHW0UCC9F-6Zdt2I0UfhhFkBFBROKcBoLjAE4nQBEqMDBLRFK48JVuMaA5dolSShoEdWhZKLDxkY6IsCXellBOktEvwRCWBoFK-8qHd6XCXB4k4aQuba6b0PRL1LZhIMrgvUvWEC0HALWM-vTMHm0UoOogQWRIEXxxyA21rD5t0u+bfleYnUAnNdPtkAiYJe086aAGQl6lN5oQkMIeg5nvx1g4iZGVFhpmZh6lwKDBnEvQlecgQcSlBYsr9ExKAJNSiiRGE2VJhtlhspoKsp2F+CzlpkPaFSzkUkNA2uEtTpXAua0ckILS83NMneCfR6lIg-CaeLYmtTvlIEo3KZI2DmSrJHARyUFAAAyA2TyTJKelXojp-k66ZBAmkbzHh4U9OSICindTA2cUyKT4DJUNS-q0LXKRlJZWzCOV5oLlesOKlYrcV+KqqbLBqnbLyVZ0v6lNPPFcBeAaSaJg0GalETFJHU93nLFZVvLGgAed6QNPYkZRRmSq9ibWUO7QkdV00tgBh1uGdQWVFKqRRPMBZ5Asic0l+q0mulN15yMy7ZfMvxlLKQpyYw6X5MNo2rJVF0o8XE2mD-sZANy-af8MRXsB3i5qp1XSBdX1BUx2QV6ImraZfBSg4qeeLVKyn1To1yyh0iINvHWr3pkEItX6qOoVotq5q8mS8hxhpRQVowP9mCvDFxrT26y7aFhAgYfxZeImAWKqEI4BQQV-7HwUKN7VEB85zoj8H2AWhlhI1-7DtfWuhZTrMwfPStWCvdB1rzxDa0SIpNSE9j2lPIS9oxKNzboPWX855rcB7H7r6ALMUnn1KxnEzIpFLZ9VKqniIjD1K8gqSHMIGhCNJH8FVZ1PfV1S-qgAhhLi2rIzgTphE9iVYzeiGrWpRvQKAVN1V5AJ1rgbIbOFQ3MZ0N5q6oq9BXYfrlAt46DcwCDAFTO1XIhub4NsK5QH1zAbZenJpXUS2lKfLIZKoOjxgQwjyqsMcqPmBy2NG4I9ZKv-UT9AN7vA6CBrVUqTupkGjBhRtg0gzzViG66MhvYAR8Kl4wDDewCw3GAcN2m01bpsI3JMeS10sjcnWU1BhVNe6+FHRtACPI9eLPFjSzDg2Zg-1J6r1V5sDZk8fNH61Kf5oKlgaC1EGg4h1Fc0havNU8JjU+vA2sbFJoWsaeFvuWhCzQ+alLfxIFWlSnJLk9yeAFQQ5b7JeWiqQSpI3garNTdDLR5vW6GkAouoLVhFuZ5CA5lHGtYHFpY3+MktgmtLdtBq1kqDoAq7FXisK1rBhtQq8rQTPelVbngA2itfCnhgNadQTWwRa0WsATNi4f2D6D7At7FL4CDgPWLMKfzxhttKIXbQ0vpL2xmlP+LbTlF1jXb1hZsjlgnkEojwxaZ255Bdu83nojtTPJ-B9pyjfbHh+sl7d-nsiA6UQD2rwn4Oe2zDqYooNKEIEjVHb1hoO2YSZBXByFVQqOkHZ3Ou1M9XIbASHo9seFw7bhp2ygLTNO33aV1e67zZtpp0-UmdPTLTruvYnQtKdtMohCzv-y86HYb5MdWCqgSyxedLxQgJ9riS8D+G7OvIO1iM0sZBAM5IXa2t+Jc7wtM+D7VTszCQ6emdO9ica02266tpVgSXcHxwl7BKxYM94J8F+CyBWkKu39iLuECm6gdxutMrLvjXS6t6ydLXdztu3u6fgruqHfcD4EwRPdp7JlArtg6BRHdEgKWqbu13ONnpTARHfSCBixr610q9iUmvmla5WkaaodiAgO1Kwm1IwFtU7oR1I6K9SEQrncoaDwr4NrUo6me1HCN6zxRqxkTgtIpcJvdPlLUvWsbgK74OyusvRGrBW-Eq9IwZPVegvA5IskOO+EY8KPiY7nOi+wzk-LehzMFmSzClO6TEq3DRucnAtHlP11y71YG1GVbNOTULSmghepoHPtxb0hrBGmH4S0jaRgpRA4YmJUclWF201xP3CYJvsQnsw0eXMQIagOpxJRLyA5R1t3tcAdcwmXXHrgrAw7286AE6E8U3q014KQ+velCBHqj1ZJayR+8bj8Vj1j6a9vxUgygcxI8JAJcUF3eLTUAHQAAnF0CljS01AnauQNCI0EBDuDia1cAunoDKBP1zVYTShQvVJyj+oCGgHlXunb9jAXByQDIFva3tAoaALQwZtH4fyk5rgFQ2KNuA+NaByhgQ5IE7XYjwIZQHPSFndA0BkoyxMeTfzMPMGLDQh6w93C-DWdDD+66kIMuGXIwpwj6s-fGvWER6h9xBljAMskCBH0oFBglOXvHVFQYjQyyoHHJn0yoSuvYGvW1Jw3hVRgpoPsCK27X7QsIB0aLhICs5TcJVEEVUFTBw2-MOglqoTZVC5xFHVwLZU+QfgPFsYB+hh2sklGSjZH0Q-7F4I0aFiu1Og+igw+YaQg0dW1Ua2EE5sTnX8+4M0ajUTxJ5cAWecwLCBJtcD+aQZ7m6LVFo-XrEljF-UBO0eZKdGfW7XPsFGQQ5KGjAAxgKEMegMFSWtbCD40lFFgrGOFaxgE3oflBvHfjyUMY+hPRDgmpjgAwwzwYzUyqU124lUCtIqQLGndW4l-d8MthYRv9bRv-U3VZCaq49Uao-JgYIkd7WpXCYxA5pyU0B7CCYCKAugaNZIGZoQ8ox-EqPVGRjNYuo3kcl7TlmjXI9SstVTF0VSTeJjA2KCwNUmtNNJrkfDAxNIRsTwwN-WSaRBim+Sv+pEMnWJNHir9zqrRoND20xzr9e0uUwa0TXgNPGsfZreabug8Gs9dEkvauqUSW7rWVMcCDbojQnAFVyQKinuuSa3iHT-AJ0zKpCwG75dDXYVLkdvbviZAz8gADpYA5lWarY7gBZgGte9ntJOi1FQgaHmMNx3kJhhGNxmEzyZ1M-kvTPE9MzJ7GsWonCruhjePJfAMoAABeMITeimZSZyqigGZrMzqeN6dn8z10Qs2lkKPMlQeRevAMtSTC0BmTkQeM32aEADn6zYdLdoJxnLGgZyxAGcnmJhC3tMoiIMs5GuXPOzKgtZwcxue04rZAoO54zPuYw7jnRYQAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULATEFWCqQTBpgRQJGHQEV6vDJA7wziHQFF7RD3mygbnGi2+G-D7A4qCuBp347B5uc3fenszXuGJAnhTUUQmCI+EQwHhD-YEcW1XpRB0RfwsXHESyhag7gODH5G8I+FfDHAPw91P8JB6lkQR+YAkRCKhF-MYR9GT4biIRE1wSRGDS1ERAJGKAWR-wiuGfw+A8jVSpgZEQem5wxk7cmI5EfgGmCqBKw5UY+ME2VHyAtIDsaUc8yRGPC86JAa3HfjaIqidRBonwHqIZGZ5FRg7NFg4g058jGAZIwUTSN+GEMiQPZO0Vo0lFai3MnQXUQ8KtFYjEM1o+UZUXYZVIwIOMSRIrEcHiggYvglmPUL0GeBGhaY5oW5AcFFM7g7Qn8s8m6ENCdeFfWHvmE8FSDvkmgRMfmPeLQjtRK4NyJdV-5zCTBgQk6DWIyHAksqDYywLYGbEMl1QQMTscmMIEZCem+AedF3REZoxlMU4sYCAMa50xEeQ46sfID0BosjKWKO1mhkiFDiNx5YqMaIRjGCQ4xyIVcaABHEPEnRdgU4vuKBZRp7W64RMQeyHFagmxP-Bksun3Hiiegy6F8b+PSBvjGx-Yz8eqx-EqNnIi6ACZBPsoPFQOc41eF3Qg53dJgOQTEG5Hm7IQsJ8wTQFBwvFQdRx2yC8gOMsLWYxIVsYCX2IHGKB8J8gACGt1wkzi8RywQiWELHGkTkoE4+cYuKiAwJR4GnRsncEG5uRLRnE3kKJD8AQdCADgLMRMGpCUF1xKXfVNU3AnrjuxR8K7kGMSD88E+yPAET4gl5WwruukoXvpJcoPlehMPK3vxOkBRg6A4Q9BrB2F6NBFJclOoReT+5WwBO64wsSkWqF-c9A-TFFlGD+5vJhJoAfkgAAkpMtgAAILgBwAUmAAEr8lIAAAeT3rIApImxCKvgDMB3dVucArBG5PfG1jgmMk3Kk5NKmNiD2Wk8QTSBE6MT4kVElSBpy0kyBKgOEwYHcw6mjwipdbEqcE2imxSEpSU1KRlKym9Sa+DU6kE1OKktTexKkFLlpMtGzTbALkznK1JOgb5mpxAeLHaMSFtFxBA0-riVNanlSUuBo4iCqOjoMJExEpbGj6VQlxgMJp05CA9PQFDUAxlgcqY33ykkCHq3U+gDVN+ldjm0EUxtvFBEJmYpIAABi2LUxsoB4L2KJBG47tUO8kSgEgkkJozSQJAWGcJDxkDACZK4UMjwD8lYQoZ+MkYCuDuZvZkZPwaQZWNO5EytEx7eRNjOCanFsWURU4tTI5lYyxgufFmXPwjFh4O4TM75HYCyhhQ0ZeBUfnjMFluRsZGxe0qjPZkYzIU2MugamWpiYj7gB4GQPGE26AJ081QhDsZGlCiDGZ6g9IQLK1ldguZcCVLltAa4ElTiBs2wEbOkDxhdhbHXEdo1MCGzjZhw-zuaVQHnD3KW3eqMHO9mhyoZGkkQBMFRHpJxwCwdIW4IeL9JeoXsn2SbK94+cLZgcW1GJQR5lFcxMg5yusK6EAlIYJBYyCcJMi+IMxRgrMcRFvLlTOhxZfhKUCsn9CVSoQScRLBIqxA85oc1sVulKCLCI+28JufeXTw1cDxJkUIOPN9nqtq5MLNefGHq4ft1IsQYeQ4E6FuUCBMcpNHHPzm3CqekYjhs0OcBsQGQdPYIbBS7EM8LyPQqSHMJaGZos5HQtIB7B6FItPeZvH3hqVAmAyNBmYtsWmJOiwSog1QLuWGW86MQIh64aoHxH7p4Bka2Co2O-OLFdYmh38loAgq7GdCpogCxNEbytlQ8wFNExQXAuMCTyAiCwvftvFBYTDUoYHDhqLJkEkL3BEXCWJUJTmII7AhwEhb-J-KPEsFOCnudOkQmOZFuSwyLiApi7cLn5XcuLhFRIC0KwJ+QNvlPyIlXDxxWLScUhIXFhtTFCijTsuLXh6K46YuTceoRvE-BKC3OZiZ8C4XRj75DZOEHTzsWEkDF14ncS4vyCi80Wngu+WqB8WUA-FU-fxb4NADSLkaziu8W4sjSuz1woSg9topNLgLf+34uEZBO-Fi5AJgQHJbhBokCdClLE5YAJxKUMKPgQJBCZYuQnXyq8dgKGT4BYTuSNhMQlfHem6UNs0ZmVXnPVlkAstE5KXO7InNyJ4znskywEW-jXj8ZgMMy39qW2kBGyigeGeuaiz+axMye8s8WefjdK4QasnSqGXhMnYHYfpxAK5SuFwiGLxel9KYJajchQyrYpgSWehhlkLBE5oSC8uUrImSSrYycIFTRLom3LSl5vAYjJMZCvLSEic6FUEDYl-yz5QKriSYp4kOjYE2XelPcAzZyytEz2BFe8vlln8hJZgCxHaMUAYqJJEUCGWYEikxTbAyUrcAABkpM2U2uKPERle4CpD1KGTqAumvzohlUuSTSFBltT8w9Upye6iFVSrQOfUyoAqriLKqNZN0YaSyrZWcrwA000YLNPlVozhVS04JtdJkaeiDQq0mletM2mKrkVgQcImjIOl6jHwjfa1XqOFr-ssizqg0c2wg5QMFVIqp5WPmun+i7p6kD5czR9JQNzlaMolTIODUPF-pAqjVSaqhXgy7hJDAlZO1onXKk1G8bSYOyul2ibp8gCNahXUIq1jI5q54WiPdFIx5kwsajntJ1CQqypXYs-pKMDXGq81Dym5R2qaXvlrKPoiDmrG8a5qM2tYotQrIvL2h86UkEySVz7WdsKo46jNvgLHzzqSA-ckWGizhCsQtEhKqdRkJnUadt1CwXbiuqnYjrrR4Q35fJNYH3jFluow1D5L8DQstUfQaoe+uOVHwVAvJEbntPbmzTrke0vAj51mmsDgZJckfp5OR5WxbV2fVyTBs6GFwGmq4QyO9Kox2jf6zkD1cGJJ5KZgZLqh4ZuqCD5A0E-PCqCRr9VSNTiwMzQJKIw1fL7owGg0fP3nlcJrBx4QbqYA1UgbqpCywyZfValWwNgUwOFYcH+X-yUFD6mkE+tNUp94N-iKSEhtwiuTtpaGi8ixqw3UyDReG+yARp0lEanVdwUjYkHI2V0qNpmqGRZpYAcFjI-MtGUxphq6aZE+mn0V5yH6aLIGYwTiNTN5LYbDgMG5SR0vjWha0WK3TpTBo04rdgZYGhaSpDubxa9piWwabQDwIAb+NwMwTfJPS1nTMtAKy+hUBbVJaMkzK0aYlJSlpTMpeqtICNPinVaJpdWyicZ0Y0QQYapW4LfQAsn8INwuQRbtcXPz+aNVCarLXxpGR4zUGoGmTcRJK3SAAtxqq2I1p1VcrOEq2jlVyra1bRLlnWlWt1qFV9a5Fg2+9cuS5gbBosdUR6FhTPlAjRoHxHBJdqQg3btBcGB7Xc3ALPahArHW7UYvq7HQ7m7MXRmtSu1xUHtYW0Hh9p40EAcEoOl7RDuiH+zpmvUcAvDp+2vaUuAO5-Hc2yieB7wnEQlYjrHHI64iTOXdjN2fxTL3tgOmHTOBYAVdjoWOlorTvi4fJLt1AWWd9qUbTqONkOqSp9DB3iFud5eA9reoeEacOdssr7bQCF3l5AixAOXc9HbLrrc1v+EXQrqV2qR9+jCcXYkCnyUaj22kXUqroeVREpdyWiKqDs50LB0dPO09XzpfUC67dH0mwFrpxUCS7WtMl0QKIpG0ikEDCU3Wm19g7A3dL2l3c9Ad0+i9+6QSUdbul3h4I9wosPT9u10qk9dg7dpIbuFoVslMQe0epeLd027hBSM0QPjphiOQo91oktXqLLWqjiK6kIytXD1buwll20fFROoeUDwy9BOzvcHtE4OrlglKkSUWqcp5MddGQY+AqmEnUrPVEwthVGAcQx6ogGerPVRqLTUB62eejvRus0B477wJeyMZMDQSU7gmtscnVvlP2aASKRjExlSHMaxEIOlnZduSk6m86fRIMB8qWvDVqi1ITequGpEakNMYYsA5uqkPGQqkIkL8t4tCqMSns-qsEnLuIGv01KxWO4fLjVCHGyDWs14T0rqzYUb8Nwz+-TnFGbY0lWK0+qlaJJpUcKCYS+v-c+VHX7xs9RBnBnexf3XQTdO+ydlEWIPWcii9cQuDKFg7bU3hVsAAJwvheoohn4aPr+3GBpDNgDakWuaFagfAe+wuXJtB4qBYNrlZYYxCsCYk4ZXvIIDIbNDhtw2FUNANYas2dQfNloMw+qx0MD9TDSht4SoYpAaprpiGE6FYBvAGF3+0cwIGYY8NqGmYwh8YG4Z+FJzesmyn4TstCilxAN7+6vdEIz1LIWDMgLZQkYfBrruDZugCHEe2WpF65h+j5BJ3+h96zQWUQ3WSRXDlA4Q6zN+ZfXtBWx6Op4LYLBwqOwhFJ2oJQDUfO46knw-q2TRBFGwNGKQ-iJFpbiQkjBHwZvRwxuGvA3hujDADNj1kN3GBlj7UdxY4ZTaTqt4g-ZRfoBPmVDctg3YbpiH81Ix7Quh6RqNsC3YwEtqWpLbVlokzzi+Yx+o+RQajS0FOcIZEtWxMPBGojZoJY8sdah7TsI1xq3hCevA7HA+pxrja4fWpvDhacJm8OseSgMAMT4NAfiEctE1rS1FaxvVWub0ql9jXeuBaAe2DgHaJtYpjcgYIAw1dAgc-PfSan1eAZ91Bz1Q4hYxOI2lP+HBMMDoAHgNUAxnpWRxaNtHrlDHTo7Z16MOBIIxATY0MZGPzahIN5K8lJEy75Hg99oa3JQZH2Wi+T8-KaJSeD00mUhu0A07DvtgwGxj8BlWqyazVcmqDo+3An4K2gY1JRfJt5KsaqOKBw2WExQDUoAA6WAGLXWs4gXH8AvJZ5kvsxrQ00IJkSw0pnGMNlSuWAAM4SuDNrdQzLEiM1GdTmpEhucZgdopKnhkkTo-3U4oQE0AAAvIBqAAjNRAZGpZ4iPGbgNJnQATZlM85DTMbgMzDgEtKCx6jCn6AYp9cMGejMdnyzzzRmm6xpoGYKopQXUqQF1ILjFw4bKiHgBzO5qZzJZ2M12cXOHthaK5pTGubkKbnm2g59qEAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:teal">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:teal">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:teal">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:teal"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhqAQyhkSlOIEhDc26CWXCEGGwqulB8CgD0BEeGlAWCTRCpIB5whDRKPPoykiI8HVOqoC6t1JALWMEoRCGw1QSlyFkOIG1dqsmsEWPpYgXQg3EA9XWGwvYsSiTkOQY4BqLEcsotdd1gqhVBNhgJFNSgamrFoEKPQXyK02EorlUEy1M5lubS2yUoa6Dlt7UE3BdbmCjL6O6j0KRp5i0dFBG0egEaz1MD2zxwMYkK0ZBaRdrll3Su+UREgY0YidCqBGqNMbM3WG8PKzlwagTKtVdQdVBAk7D0WORPV3rmX5gjZApOIrFBitZXDAd-LPXKOYaw-tIHOFFM8SUOQRSiLLFWKyw1zwhFyNDbBkOKSlmDsBYB+dI5M4IxETB1meGpUYzvF0w5jQWbco5tUmxnqZ1RBgmyyxWtCb806Mi1J+69mFo0Dx2W2tN3vNMPh1FlzuMct43zXWgmlm0aTl02FwdZNV1jbageLAh4jy03XXTMw1pHuoiejoZ7z3yBjda-TUgwyl2buXa+B8IOFC-ApzDJcV6g0bXXfoqTbPWEjfZ8iV6s3+nzVhlexgSPkSODTQFvnOX+cRdu4LoX0mOfjbO2MSWMvCMiIlmJGbm1fni2Vy0MSwthAi9GqLVW1qafhbbJtLbyNZcZNJvDuW6a1FCLUa42aSAjM6AWvQZgjgAD5QCIaqObYjE3ZkNQOAdEO7HuEzznlt4ToQEM73SShlYPg1sCg24MVbIJ1sCZdAdo0ABIUI-6i50FMsQZEhB+yVJhNJ3T+WIgmZQl56w2b44Fthb1nu5QGvma3lIQew9R7R063XZtx3SjNqIjA2Ugsvs-b+60xoXbMtuaC34A+hGW2fZyMTlpV5FZPy0z2od5nXOr3c-1gCDWmuXp8TO8pJPme8pXUKkJPIRdM-yVE-8h2ZURBAhecC-TxkVql-8FXYF-uvnhNWd07PrBESW5iUbpiKRdLvqx3T2ayoFv-n8n+mJs0n3UAwFL9Pvv6VF-kzOZVw0xfTKAS70pOie-fqXPaYe6QCfd9GoPnccTpbKrTiZVaCe1uUPW8djzIoe8GLHjbYGhPqaLl0slCzUk7duqoe6hWPjFeN+l6GzGCEfON5WpZh8NPTJGVT6vSzPXZpiQW9LA+LTFclYNmwIz5fFcn3KA375JUxJ0w1r89X3tmOmTr2X6uh9sczfPlf0ToLPH330ysZ--zp9E+yy-4Yemq715BGJqmbH39y5G6w5t6OxY5LX4d43zgYn7rYL4f4y7AGQS37JLpLpbQFq5DgX6f4CoIFqbqJgCaKxS6IcAGLcB8CeSW4dRfCMAwQwy6Zfg6onApacYyDl5nT3I+x6DtqvJ5SDBp5gGYhfiAwMyGbJqpo+xfxd5sH2BvKcGAJwgb59xFwRDaRJpHquosH4BUG7YXCXyAz4ApgKGCHKFfQPxnRtqLTiErSqG144hGwSzaGgBSwyLOAlpSGcpqENhWGcqDDqz2GvpfTZ656NrmGZq8G9CzrWGDCmyMEUhPzrqoFpjVq1g8Hhz-CAjRE2hfygCxEWj1zfRzof4VYWFkwaEAw8jr5AgpEjiGEUhlFjAZEVx5GBFrTHQVa94V5kDVQ0i6C+FjqNo171Fdxug-7mw1baJJI9EJGSJNgDF0atHUCyDJRmovKHRgFvaI44ioY+DDFPAyG1DZphRKCGao7WJ+EWgFpm7mz3ILHbTVhgZiouGrHnaXGKjXEX78KDELHy5doLFTDLFeo6gbEyBZFMCghJYfGghfHZwrHzAuh-HNFmIwzVpdCHFdHZZxJPHRqcFUhjCjEQnKyyg6AjAPGZDba0HxS4n4nWghxfKeJrF6DnFJK36onUYeAYnZ6K5hBERZC6D4n0lmAAA8JJnJwweg5JrJJKsqt6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANSpYc7JxRAxBqT4AsrcmgCalpEalakc6GDRC6DWosrCkilslinUA+CSnSn4AyCMR9o6AKl9ZKlMqUCqlAjGnmlDqWl6k2kEmJ5BmmlBld5hChnWkGlCke4fQrYZDhKRK37T5xI6aepTHKDdAZBbRYmFB3je4RkMlmbebqGIbln2lYoooFkcJdbanXrTHtE6CdENrbpCaxkm7JxxLHCnA6jcm9k2CeI6jCmjl9llkzgokCoqIth2kI5-p0z5bWKDl0HnAo4jyIldmMiVkpA3pOkRkpjKrpBHqLagi-qFAC4taArZp-EFpDEXGz4TJfhll-HvGcqfH34tqfnAbQlJ6Nbm5jEp41KNlFmYFkhJyn5xJZnViDDWg5mZp5kQWsrD7RbWCllfblmIXJng5hAzo1kjktqdLgWhJbRTmBxtF6mdl549ktpES34bnfi1m9meKyCWgTmF73jqB1l0xMU4WzlXHzkuhLnpKRp5ZxrrnEm7Hbl0VCgHlhBHlrDZkPrEDnkpqXlPC6r6pL7ChAUjYXp3nfIPkLFPmZZ-HoU2LLnTprQflvH0nfmgm-kVr-nPHOVPBTo3kgXYkNkUXWVmwaI+xaI6LsD6JcBGIYAkH3BSB+rOpjBpq2IFHxguwTr3qAjxUBpggAlZWUAuqOokTuZVLupKJfjHSToYzZp5WBohUFqAw+J8EahpE2AahAroGFB8F6gtXWB6jtXp58FrE9WgBrH9WNURyHjDWHhjWdURw8JyBpHzUTIdU-IRw4x0AkSqBwhpHrWbVpRBIrVhB8EqU9UqWAqHXCoRwbQjCsIeB0BfzXXDC3UMB0wXU2B8HqnDU2B6AwyDBwizYLY6qan7VvXWB8GGRfXWA-V-UA2gA6r6og0DURwABUkNtqv1oA-1xwgNoAyNmN1goNUefQgIwAaN0NmNsNOqYAiN41SRAApGTRjVjfNnDaAHTfjaAITXwbQV9eTczTjcSf9UjUkQAIQnC81M2U2gBi0pZC203E08mM0w3Y2s18nWBy2zVJE8lHCQ181S3a3q1c0RxzZK0U0q06oLaG3C3E1zY62DBhB63m2gC21W3y16CAgi1o2s2hAs3WAi02CUE+IQjVXRD+r5WJU+zvHHDpIbRbQaiDA1UR1fS9wh2OoJX6HejIgeBWQhg9zR10yx13rOAs2DWh0JVpEVUkCdiuXWCJ0Z0A4QhYCp1h0uoi6R6Ax8GWbjSdBpFd3WaE0tlHURyQDEDjR0TbX20j1j3DwD2D3vVXVaBPWwCQA9WPWSDL2z1z1E3u1r14TDW72b1z18EAByqgx9aNp9x9-FLZwdsWI1Zd2VUmfYUdRwMdm0nKKtvx85ddbdt9IeP9gBcoYq+dhQhdNqLNFVhoCdD94dT9gYvcJqTKvqMDtVX0RdIaHZh4tx8wpqkgMQkglmjAzKtFVkqgagn20QQ8zZQqddhVWQQoJVVdNdYQFCV8lQYQO+FInFESCl262DzgmeNau5eexu+OKarBKDSdmd9JgwU5tdkjcDy+c5zDc+1KBOEjadj9lE1A2dudYGcj99mjsDMuNxKjvVW5+xO5o6e5pgVVd9uxOg1UTJmy1j460O2IkSwjjajdwVyduB4VnAhiGA0V5ssREYFAkg0chgr4G0jAr8Ou-DCwbgng3gz0dCi5z+j4nY6S45YCu8GTTSWQnYUZkgZp8Z+pLKjRmToE2TAlrFYl1TRTAJ2kG0o87aAkgsupug22vROIJkpA7gs8liBgFqpApAsNDAmpeg-TLFgIDEnicz9SQIKYQZ-Th93ycz38VpYaXhbMCkhpXTOgGDYGrDezM9Fgz2oF8w5TUZ7tQZLT80sg7TAmhdpzsww8xzHqJpJggIuz7zI8y0LA0zoaiT81wLkwOTQIiG3EdTnUPIFCZg2wWAr2Tm+0O8iE4LHqQQ9TboCLZgMtQI7i4IkLaTBwCLszRLlJ6RtAUQJkloUTlYsTr8CLXyREBW6CcCVS5LSLKLqQrgSSXKbMPKmLhoyLY5QIdzmpZzAL3gQLOo8ieLZgmpYroQDEZTcFe0B0RdmdWyLGeLMZQKarQZ0r4wsrpLGLCrILxT6pKrNg4I3EvLKG-z7tk1GD0D9gqOgLorsLcV9xLLIm0r7tQ1N2PI8rILgwLoeL7r+zprjALAaSz2YKhzmLkLgIAA5GaRQlGRm8i0xYc+GQi38x6yPNHIwCyqW1jb0wUTWU8Ckz4DqBW+s0KnwZJKaU6aacwsKGgtSN4F26UbPDlaK89lSc6w2yOGW6JW6I29G567KyKU68W+a9OwuWUMuya42xERKKQ+Q6QJQ3VhfvzJFOzLBqC1SjSlUqzCKVrsTRy7SpzIMIK0TFGJe2YzKVtNu1SLu5QEPEloe2RNSMcye964UA0lq5e5C3wUS3HBq4kuiJe-OyUnDJu2IBW-KFqjDH+8e5e56sDmexghe3DJVikA+ZHcxSlukpmZqwK5Hbq8+4R4ZdS--cwP+7IF0GwgWoXah-COh5hwB56ZnPB8udVqRwOcSZledjC1CiNfcTqPDEez22x-2vOcdHJyxwmJasBykERJRGR6cICJNZC6p+zOp-2qdt4dI6J3px+xQ9+-u6kYZ-cTp9mcboDNZ1+z+xukZ9SOa-IvB7UyB9J2hk5whfffJ6x9Bjs+bsZXpgVmB-R15kEUkVB-2dWAkvtCMfR-ztF9Fj5khyBdBUXPyL26+OQCwl4Kwh0MGAcNh1W84O+s8Nh2J0V4wMKF4fsGxz2y16+NdDV1c7QgcDUXDoJ1gelB+nLi0KBAnb9pKFpe0OQHJNonFKQMMJtMtKAJ5LarIGdJ5GgDt6bDFc4PyJFHoPdNIViH6IwB0D0310k+i3YBd1d-xZ4n3RtqyyUtbOoCdzIGdzqDqPd06Y95p-WX9yGADxSUCnjtSMd6dxG26P95dwfMh77PXmMBN1kDNiPnfQnhcKBPVSjWjzIKjUBXeKEumV9yPDwIMKd5IOrARZDhpATwWkd6QOT5IJTyu-nqZPEgT95SkPlqJB4Iz8SS950EpX5SLzZhJdl82tmvDx0Ez1Dyz9T-wLD+Agz1kwx3z3GnLyxRL2L1WQ2BL7ZY1tL91mtC6HL5r8BUNr5a2v3PQL26z+z8r3hTaEpfT4L4+Ar3pEr992z6r2UNjzz1b-z+r7j8LymlZhtvr14vYBcC2EH4+K+ykNSYDNT+z9SS77xW7020Ci6InzU7zyb5FgRaELL6D5d979D37yrxzwL8H8b6kNrxX-LxH8etH15ry3GXHzOGH1kJ8l3xztSZnzX67yOLny2r3574XxCF37eaX4UJxfH2UHL2P-8Y3yuT5SNpiHeLtVoMtzSUpV+GwGJ6TxEpJ0CiEmmREsbkRCf3pzEPlMKLGZ4o-727GURCpTSaeSqmqs4Bwt4E3C6UVEoEa8uFhu579yAy3OxiHgAHjcveKWJ+ATxmxVBs0c3AtHAM3A490e+na-osHzDVVpuKWTAZWGQGAg3+LXfMGcRR7JQYgOMWIDrjX6JNqSjA7PuPy8IeA6BtFHXHoE4Epo9SiTHUHwPoGTAOBXAjoh-mEECD8idXN0FIN0AAl5BHZfBlZVYHQkZBkoRXkmUKaLFoSXhQRgcFYElF1BtXQLj4CfhKDtBL+RYhVgfafEkeCwRcCew0FII0qsGFMESxhIUhH+fYM8BylZh2DQQReDSnoUXCSAVuKaLIIwF0zcwOELKXrquTjTK5wwQHBfhDjvpKDHc4g5Qd9isoBDASXlDfsnnmCZC2+UfToF3me4hClCYQiIVJFSb5DoSXeIiH6EWAsolBxWJQUXyMol9cOC0NDPBzSHKJqSrQypghHg6DBRhGLPzsb3n6YVCKbWPLjb235+Uphl7BwZaWyAsBWEajGtMGDDBwgBMdAdnvsK2oJg6AtPUwWC2OFXtQApww4V0AuEzYzO1JYclLFfYY8Wamwx4DsI-R7D5AZwzpnYB+Ezh3hBjFsvcPOHqwASMQZaFkDIZgQDhRwk4QCIeHSBLhN3a4VLEhaQjHh-AZ4XU1eEIQbhHw2GrCO8DwiXUuIvQLiPREzZk+QST4Qtm+HbDQRnYDYVEC2GuowwRgd+uamTiJN8API6tJEGBFAsWRkgMBvekR6yEjCwo2UKKK2G+AxRp7NFnPBZG3DEMZnckUQ2yBUjURAmZtMOU5GPB1mTIggPKO+wsjlRXI5CCqJTJ0Y4SWea1FJl6DbpWBnEUAiYNdwZDshWQ-gR0RUEXE1B9gm7qUNOAS9IWBgqwUnzuFaBAhXlF4VoGWjfZrqB-DoZIOyHzlPRCY9fpwwlDLAFI3gVMfv0FKFjBgOYgof8Q0GPkxO+ALUD3WDJHYKIDYjoBfwdJjxPu5YuMf4EhaPk-8PrRpKwS0BmAoxTomtC6OLBuiK43YysU0MHHD8RxWwHYPanuKejbhhYlMZKNLEYtCxE-IJC6HXEMjCgm44sduKgGClZOI448dqR1BHjwRblT4gh0BD1jCQPdDYXqSyClcrRJooFpQQ0HUkMa5oxDF4M1ijBoorCb7M1wQTQTGggwVDt2NQ7eiy+d9NMU9SXR5oC0p4pwOeIP4IT4xmgp-nBKbFb0JkSE0MX5TQmzpc0+aOsa2PbHNitRdTdsl+NgK-iaSpY6iXugcGEBZidA2GMOPiJ+UQcybK8SSAcFzdFRjwcns72+4YiUJIeSPHNxklU85JQFd8rr0j7d15e2OOQEszoAOD+JGHaniiEEl2476p3AtGJPUnqEnBp3MwAsyJZLNTuGML8aAAlIAAJPCJIAACC4AcAHhAABKEpSAAAHlj6yAFLKcTvBukLxMyIiYrGwnEBcxiTXiWMCMmCSUxtwySUZPU6dcAcmU4sQh0knqB4ksE-0F4RKmlB4pxXRWIk08neS-JAU4KWFIimVS4+uUjrglPoCFSnAiTSSdaKMmSATJEsJKfOT5D5TGgdkX8cahil0CapXXRKcmOLEpSNBEooUVoELrs5PR7gbGrGWW4hgookEhaQgh2ksAE6y0pwClLMaxTluJ0snL1OSlViUybk8gquD9AkA1uKWAAAzLY7wDURiGLAHa-D8OlYSgAcCoLAyPpW6AqCljenVFk0a3TUjwE3xrR4ZCsT6d4C8JPwAZ3SR8DGMm62BgZt7LAeDOYH3FAQyXakujJJlgyOgAfAmU01AkNwDoeM0CFIBiCLoB25kkPDTL9J3s8GrfRbO6SBmrhaZr4cGSgJ35vo7AYwRiOoFfgJCDediJwdhyxwykG8uMngfkL5nns6Z19BpNSXA6AoqS9xTkXLIVnmsJho5c2ZIHllyBX4LoPzrjkQ6LB+cN3W2fbNfjwzmZzgYMH8Ku7Ihcg+QkMaCVzIyyZAFsh2ayiUp9DVZRHb5GuQ+5lBWB-xGPgsK7jkEGCzaOYV3ntz+iRBeDXIS+RSlFCM5OIDwJpPb4VDtSniesc1inJERPZlsjMagQ8DdCfKz2XOYChnRGzRxpFIYLLLtmWydQacxIAEEHmRzh50cp2UD0BTacPc2c5YZv2KF1ch5Xsk9g4IMF4NFASaRGKBEZk2D1Aq0zNPbj9EpYOhQYpJKHMKGYh8smQglnrwIpfgSANpXCYKVbkLouhsjUiTYCQrPSKgwZefnHJSHWgM0g9PAMjSgXpIz5AYnQAXNopXz0Q-8vQeki-APyIxWk6zOrNfkGl35h8m8YUE-kwRv5yLZ7Ci3nEHpEO8JAhdn1LlRdehcaf2QTikAkx-5N8seeYFACQLoFdML8C+PolZcS+8w3LjQqMHHyAF+XA7qHgmh4K0JrBDPrX2QlepaxenV8dJAYnisBFb4tsWZ07FlBFgii24X8W1FSAnBhi-uVJ23kui95NIA+YYoTpKLPipiocYsFp5jj4SO8pYDMTsXo83FCddnuoO4VgAoFyNFxcPyljLiFgw-dWJC1wUjx5FLoCxYQt6pug3F+4lIPEvwWycwRv8umLJ3VgpKgUgFMztoo0WGSpA8M3wIFkyIuCnYRRV2DUsZAph4ZFRTWBlA0AsYfZGg46D7IBLozro3Sq4XtnyajKuZTMiDhHHUDyy4QZBcogh2OgW9uZDomCkg1YSizng8M+CeO19SXSnp5EsOafLvqhhsg32eGQWjsCsydcHM3ID7IazjZZFI8DCbRJImFAsl8i-CUWKukPjGOoYXiVGBOUM4fZRSmwActvni9HlXEzCXRJ0WaLikTEgLr5kiY7LxlD0JwoCrOXczk+LE+wGxLFF6Aslzyl6fYHcleTJAgUxVAABk8IkUxbDvD+mCJ7Ad0+GZnCSknybuaUoucGBhiPTspHUyPjDATAsreVZnKqfEmFUAkxVGyzOPVLJUUrqV4AdqZaE6nSreVa038b8PUbs4Bp7EoaSNN5UgrrAyRAdtNLFHggzGOq-FZTNNLwzTVWw8EL7O-RPKB2rKvZeyr8rrSeRW0oVOcpZqxlcG80KpVsuk5fKnp0JG6UyvQkurHpKUx1TSEMyrgK2egT5SmNzFST426qsUdyM2nv10ktYhbM2glFiMug1IrvONC6m1SepKalac9OT7mjcGwq6tVdOekD1PyGoreRhmRXeBy2OytNRqMx4h5LYwgAtMpPq7Jqdl40pFRWzAHKIh1JAKueUI6CQt41RVLtWW3HXdq+1v4hDnOtyCDdM4y7NtduoqVcrYY+MvcXUtFF6lzWe4swNi2SH1sEIt6jkU6TGDlTvs+DDKe+qBxJCbl3K-Gd+vd4WTvuBaPVX71Mnfrje2aAZnKinzvr01IDIdJaqVEw8gQ76u1Y8BnWhBFgv2cnt226kYaWAIhQFNSXfWDBzRMGy5SIkml4qthRfbuX+gEQfZSudgDZUXNPU8qhlPo-+nsoLRpg-lXS7mQ1j6FGTz1eyhOcR2A1pQUsYGkeKZLGlQbjljgKjWxpZGIbe0yG6SahuNVZBCNWGmwDhr6DabbVLI4jd8mpkDtyNsNSjVPnRkaigKDG8AQVzOjtc2NTpe6STG-WXqqlXmyFq5p800b00ZnVze+umaBaASIWwLWFu6m6ZDAr6jzR+sS3crotlaoCtmkyAVrFp9AAtA1N8n+SgpIU8KYqsxC5ampBW1qbStI2BarNKtDLQlt7h+VAQYSX5rKIpD+aB2qK2LSxrGDozP1Aqzrfcrvp1aWVOWuVVSppUNZct8qmlVhPuLBrzRw2l1TZIbBNb74J6+SmmCsgsEqMqomsjtq8I1ZNt0IXDIIPGGgZ+ljcTdFtpEACdztGgp2edq8IGYjMa4CQNdu9AnbL1e2x7a1pwSZZ1q72voDtp6VnbOEXhHrADuhC3bFEpgh7WDt+1iAGoOgUGF0CTXA7TBo8n7UxrOhswcY8CBrndox2g6Xi5CUNCwD6yfbYd-RLHdIs23UBOZR2m7VupVGXqNttAQHQCvZ1Q7jFjlX8WZzp2cyesjOigJnGF2TxjxU6lFYdq50iA9AYuvDLa0HpHr7RGMQze7VbYphJd3atIgLvTQMqi4AO+nbkEh1M6qx6a1UfJRN0fardk8SFgiq07iAYZlIxEYCOobfItd66mrDbppFvbudzOujQPxSDmjDdguy7Tbszjh70Cg-R8UCXs2ig1dTWxgKaQ90T07hb2o3Y3X+kyBkdHKNhP7tNGZquRG03kZRSFT5rFdRQEZehiLRjAk1SOlHWupZSWpDVi-T8bip-H4rAKCbDpMnDb3fj01nlf4mQqWaIZA9YQZXXRvj24bgQ1APtoCBT1pF69AkTPRpkFUDN-BhHDQellx2csN9iweclOQcZOMWYrjRSg4Lc57tisXPOQPnozWvB3yGq4vd6omTl73da+37M8B8GBg-BzwORtftzEpKhSD7AGuCK-7KAf5eS9Sk+hfSFjeKBUL9BqTIWD9AQF+2zklgdVPde9ugViR3qVGUKZUo+r5BPtNFT7iaqBjzhfmT2drp1gwcg3Z3YE4Bs0G0DDrtQOEFoAAnFUF34SA9qA+67qEG4MbUDh6avBstF8CDB00BFPocRRJAEVgFcaYuqcG+npzWDW1PQGmzTYpg0A2h-TeFlN7fJVDYw2uOJObSGGRDdEVJhKOQjzlnA+qOwhJVt7WAzDEoiw2sEGDMHXtQhrao6umVbU5ln+ukK+tv2CjedYo0g+rrkAzL-DVBmvY3rSK+HZl4wLOSvqLhecpASamIIZsQreB0gNIc5kcsHUFouOmqFoBhzSPDi8on+4gIZqjIVAHVwmuNCFEYC5Hx60tPTjSA5IGUCKhh92nqn1RpHQAFbR3TUd0oQ12G6SHo+uxRWWwjQoAOYcNnCBxp4NpXZKG+sq4CYZjSldrauHc2hbIt3UgBEAk2PG98sTRlo8PDaMpZ3Yb4xkOCCGE9HAQfRr9O+slDrH5eTxvVCKDmPZcFjeh4RRMZ4MHDejHxwYzspzTLoGAHxz41b2cPsTC1Gq5-WXvMrzYpyUx7tW7u1Jf7GQP+5NQAdtTgGCAsNGxPuJT24msDjjdvQPpAnsipFgxTLDkDoCMRUmmR37DzMMCDGijOytDqUd46urKjdqao9NxNJ1Gi+D5SysidYqknLYccPvbRuknUnltqxf5o3oFMlgqAliaU8XFKx-FyNBJ8wizWJMOCx1Ss1edEvuLGypOmO-fXorlTHl8hgIR9H-1dlPsxA9XNpUWBpatxnBwy-oT4AtOik4dCHL-vacdPPoBG7eD01uj6zGo0jKptNtBL0B5KAAOlgB827CugKx-AE6SBaj7MaMND1BWk0NAgzjMxHKlUFjNJr4z+UxM7-JTNpmA54wFhFmbjbDi0MhARCvOTO7Ul2zoAAAF5QNrAKZlhumcbOupszQBvM32eKZDoizgIEs7IHzAosbg9J+gEyZ8DxmRzmZ8c0zRDZJEuIt8U0qQFNJtjDQabCEHgArMoqNzDZrcy2Z3Pb0+QppDwIeePMOrZzIoIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:teal">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk7D0WM8VmVdlERGWKsPQOjaY2AAPzfiMXDEwJjrBEW8MwHwrMUwAFViBRWYYxZweDEZiE0WCeuzg0wCUZJnHRSi9FSAMY4qxNjQDmJdMYumdjGAOMsYsFxbiPFeMJvgostBgk9whnJecDB8DMDYFAOAiBkDoD4DwT6Z0VDQVBgCWUygJGO1HgoJQw5IyxGZLE6w5jk5+EGaAIiDx0QDLpkM+KGQoqEEWG+JEw5bQ7TkMiVEoJyiDDadYmZ4yFi9kDFRbMEEtzKjGeYppGzjmljOZuVpxB2ljImVIECF5wKPOmTM651ooJLlAqcjcCChp7NeZSRG5p16XIOX8-GZoZQwtQaAcFBy3kK2IEzRoLMck+IufEK5qL-nY1xiCDZ3iOZPJeeihYc1yhEqfvOPQc0FoRiWt4Kh8R+hjIOSkVl11mQ8r5SKmwaKZkYpTkHH5dN4UbKlbaMeMcy4Zx2ai55+yJULDvgyuFxL8Y6rBRqiFEQfoysKHKsWjpqWaqSZSRYsDMEk3NSkcx6C4RGN6QJPQuC8VUqFeq9pwrRWhFFntVZmd5EBr2bawoyTUlDUBK49x1BPHJzhIyVQMNQCGUMvqjQoMinkIdXID1whBhsKrpQfAoA9D6OiCwSaIVJDMuEIacJnccTuv5pQRtVBm2tpIBWxglCIQ2GqKiuQshxA1rrVIbSix9JYpbT7H1JB211hsL2LEok5DkGOPmzQ3rKLXTbcGkNMzYbBK6G01YtAhR6F5RemwlFcqgmWpnM9T7n2ShHXQc9P6Zm4OeXepFfQ20ehSNPK1sYoI2j0AjWephv3mOBqszFBSEOuSQ7GrVJAxoxE6FUcdk7p2busPY6gPhy1AmTVkggGi4RaJzXm91+Zx3qKLmGxQEa0n-sDbo5RzDWF-r47h0I5iShyEGURKJnrmnHpLiIkdYndkaoAyK7jcGRyZwRspyhqmBOHyTjczF2K8YUr9QQlFezwnQaiDBG5R7nha0JvzToaqY28rlc5vQrm+bFk88avldivUudltrVhe6gvtIxneUzCrg5qfaeE6ttaB4sCHiPRLddBPn1APh6ihGOjEZI-IadaW53dGXiqi0lc8tQbWk5lpQjS7N3LtfEO-Q9mlesBO8r5FyNbv9Pu1rK9jDafIkcGmIrmuKeEbV5Fk9usat60UWdprHSTZ9UpyIE3VkbqfV+Mbe3LSrLW6EfrU7BtHaa-8xL37VRtdXh1rly2euxNqJdz026SCIs6AevQZgjgAD5QBSaqObLTf2oUNQOAdEOdnuEzzngj8TsypOxNkysHwMOBRw8GNDkEsOPMujR0aAAkKETjZ06CmWIMiQg-YHkwje7oyrEQcsoQ7cN9MIz94HoVYtnu5QLv5Yy1l0e0dbaVyfZJneT6iIwNlILenjPmcgsaJ+3b7WH25Y08+unOR1fAqvIrJ+D3AM-r08Lt7B9INleuzziJmKSwa7NwS5DIbzGAzue785yz-zo7jQsD5YEWfWa9xen3PIw+m4D-Cas7pHu2PBzvNbtQyQmf+Ya6mtnN3brKge-+gqf6Ym3SfdQDBptG4Z-pf3m5M5lTHbzwwBXif486NX9+pc9p4+lB5yvU6W+dvmHN54ZUDcHKvSrpQIHmBgZZZFKvgx+90i78lj65tTNmrzxqpHt1VD3Rgx8bbKfx9Ydg5SyPJgp8-pjXF7PCLYd673ylgvI37zQSm4elpiKhTbbRqraYiIqB7bb-4WiB5qqrKb5rZfjnY04UimZx7PjfJv66KgGJ6KjbYoFfKVhYGZA7KxIX64ER6QSrIxa37EHAETrWDb4kojYnKoGgroHhKYHrLbZ+7x6bhQFCrEFhZ+aMH3Ka7kHf6UF34fZoRgAlKxQVIcDVLcB8CeQNIUjNCMAwQwy6JfjZonDTYOYyCP6PxH5jDMpvocp5SDCT4CYH44iAwMyZZLpdDzhfwp6gBmH2CcqWGAJwiwF9xFwRALqOErpfQ+paHI4XCXyAz4ApiBH4bBHegPxnSvqLQeErT4BhENhGwSzRGgBSwyLOAnreGhE2Eiy9BWrZGDDqz5EMZfRz7KCgYPrpElHKxlGqw5GmyGFnRPxoZiFBIWgZG2ERw9E2hfygB9GMgBILDDEwQHbNELDxgux9AwFAjTH+LVGrEYZ1azGbpfjHQHbGZFyBzVQ0i6B1ENF1b56YhfgJI0HmwnZlLbKXEzBrQ6iSHb5kDHEPRlrsqHTWHmDU7PENhyYPFPC+G1DbphRKCZbDxnEL5CgHoQ4qEShMo-HbTVj8YRoDHzByYEFTqDCYnVEgn+zrKfo-FTAAn5Y6hEmTFEmTakmgjknZyAk4gujUmdFIEwzXqwn3p1a4kYkr6lRUhjBPH5ZZC6AjBomKiI66HxSyg6ASnWghzeZuE456AonbJ8n4lV636CmyB1HB42BERinynDCSmZCI4AA8sp4pppipBpEmqKKSVGeggIAAKhkOtDkGlBQu4K3MnIsrAp0ERAxAANQzZW4jLRC6DVoep8lmBhmjGhnhlW6GBRlqT4Aep2n2mGmOmpJuken4AyCMS-o6C+khL+klqUBBlAigBhmuFhCpkxDpmxkknxlAgpi1nJmAaNnRkZl6BZnskSjVTUALJLK4mAHrKb7hLxbPLdAZBbQikpB3i15ml4lf7D7O5hDQZSarlKlW7XKznDlbT1kpBHHUAnE6DcmL5eZW5ES4nHCnA6hxknlmIWJ2kvmp4rkzitmDAugDmfaxKVZtIPl6HnCDwwm3pwn9GbmhCUZrCTm0bEDpD4bg6gjsaFBXZkZPrbpEkHr3GokfYipfgrm0l8k+pkl37Pq0m8bUkj5hBfYcbMlj6HnzlGK3HmzsHVgTnVhalyBTmboznKBzkcJsXv6xLLn067m8WI5DaNZbwo5EitmuEHlCVHmPoRlnkXlXkPo3kXp3nrIgUWLPmAbmKyCWg6iKm8XZkh5fntg-kqItj-l0wTqAWzrAUymQngUjyQU8kTEwVipOnwU8WIXIVYqoVPAsaSgv7gx0WXakY3Yio4U-F4W7ZEmiWxWFDEWSWkUknkUMmUUXrUXf70lPAO4pAMV9ZXFNYsUiVvHFI+ylLlLsBVJcC1IYBIn3CRINpNomGrptpKL2YUxXxrrEApjwy9o9WJEUjjV9qUDNq9okQdaPL9VEI1w-hlAQYYzbozU9XxGs4HqAw2J2EaijE2AaiipUGFB2F6inXWB6gXVT52FRK3UqmrAPVHURyHgvWHjvVXURw8JyCjEA0HKXX8oRw4x0AkSqBwijEQ1Q1pQzKg1hB2FwW3VwUipI2hoRwbQjCsIeB0Bfw43DB40MB0yY02B2EhkvU2B6AwyDBwjA5g7ZphkI3k3WB2GGTU3WC0302M2gDZp5qs2PURwABUXNtadNoADNxwTNoAItUt1gbNPefQgIwA4tPNUtfN2aYAQtH1-wgIAApOrZLdLaDvzaAAbQraAErXYbodTRrabbLTKQzcLfrQAIQnD20m1a2gAe3TYu160q0WnG280y3m1WnWAB1-X60WlHBc0O0+2x2R020Rwg4h2a1h3Zpg7J2u0q0g5x2DBhAJ2Z2gD5052B0ulu3i3m2hBm3WBu02CaE2IQjbXdX9q9W1F8nHCxIbRbQaiDA7Xt17Va4t2f6D1zUd3ejIgeBWQhg9zd10y90jVh1PVt0T2jHHQQZK1hDj0DoNUQhYCt0TVD1+7d6Ax2GFbjSdCjGX3Fbb0RnI0RyQDEDjR0Qw2F3P2v3Dz30P0U3Y1aDE2wCQC3VE2SBAM-2-3K0umgN4QvUwMQO-12EAByqgSD4tKDSD1lEZo9fOu9YwXBXdRwPdm0PqYdVJOpeDrufYvcR9s1zaXBEaC9hQS9NaZtm9hoA9a99DQhk8kOxaJEI8lDg6o1JZV8WJzg3aMQkghWjApaTZkgVkqgagdO0QQ86lF6lDC1WQQoy166BVKQFCYjFQYQiBEoZliy2ldW4jqKnJs+Pli+KeyuWKegQjPsge-GH51glDBDP5jjDqKuLjXDk9lY1AM9c9Hjv93jPDdJCDNgnl0J3l8+vlpgW1n+kJOg1UHgLMSTYGgu2ISy9jD6B9eAMhZScUlSnANSGA7V5sQSEYFAkg0chgr4G0jAr8Ye1j28ng3gz0dCjl4YZ4oEnYsS5ix0f5Azj4nYnZgIkgSZPZzZvT61-ZEzQzhoWOFi4zgKWQjCRc2kG0o8b6AkgsUQTZMlVVDYJkpA7gs8LSBgFapApAfNDAYZeglzhlgIDE5iHzhyiZnZlzsTMyHz38aZ-C5sbMCksZJzugw6lCML7mELUwFO5zOI8z0zLpnZez80sghzHmS9hj4Lw8MLB80zJggI1RBLI8y0LArzI6nTClNLkwIzQIUm3EdqnUPIFCZg2wWAVO6W9LLonLZgQQGzbogrvtpwgIpi4ITLizDLwOErUrypdTJkloTTlYrTr8nLvKREVW6CcCjynLWwmwPLKQkyzwvqbM+KcrazvLcSQI6LYZFL4w3g1LOo8igrbZJroQDEczHBe0B0I1U91+JMYrdZoqPrnZTrVLsrAromHr8ZXrNg4I3Etrsmsww8LpX1MLnD9gMJVLazbLkSqpWrsqbh6bHqgIz1hOPIbrtLv5ortLFD5bzrjALA1iFOkqUL+gJbFqQIAA5EmRQtMwOzy3eV2zGXK+S829HIwB6jO9LTseETuU8N0z4DqPOwC5phHJJImVRomcwsKGgtSN4IeysbPP4ja+YhS7Kxu-Wy2Le2W7m5Sy68Hmm0+zeyOLOzqS6A+06xu4OWIIo8o6QKo2dt-vzJFOzGknS6wpWU6rkIkr23YXq-B6MRa0TFGDovo6EEvUB1SCB5QEPJNhB2RNSES9BwWyHma9B0y3YVK3HH61suiDoq+zY4sAB84PO-KJmjDCR1B2EpuhztAnB48ixzzjhW4-edNrEuOf69suh7kgh1Yhla3ZB8e10GwgekvVx-CDx3x2RyWaEsp2LsdpJwZTKZWzjqy723JjqPDGp7IBp3+jqcdPZ6R45yJqOpRykERJRFJxK19Uy25+zAmGwus35+ZxK3hyo4R2ByMUF6qRFzxSnoDNFwR0R+hsF9SLK-Iix8M3asCWZ8FVlx55WhnvFTOny-tI8cpzzl+HR6MbJ0x9osZ5iJhQlVuU1nDBnp6HgBwt4DwS0KBAPUzpKGFe0OQMUk1aQMMJtMtKAJ5LWrIGdJ5GgKt6bB1RI9SJFHoPdD4ViH6IwB0Gc0xT6DuXYId8d9meYrfXDtq6itbOoLtzIPtzqDqBd1Rld953qu9yGJ93uSKkrtt6QM9-ty6B90dwfBx56cfkN1kEDuEhXsvhsnDz-nYSLaj2LXRXeMOaOaD5IDwIMHt5IOrJuduqJB4KjwevyDt8T4Tw5WUEPhcKs2LtYJVhT1TzKbd50A1p1w2NzyVp9hV7JWENuhDx0NT8D-j-wHe0SBpKj2VTMpVuL4ZQL7z3TF+AL6z-RcL64dcW6OLxleVQBd9qEEfPQCe-j-T8TzL+uSOLz+T-L4+JL3pCD3T7L0vqZCj5M0b5VwYE76BKr1ikVnDurzYGZRcC2Ez6j9hzMnJoDO769T4Db7xfb5u3yi6NHz777+1-5dYGL390dy77Ty9yTx7xzz79r6kLOir1z8H1fR0Hlraw2fYJH3L5T4+Dys31bnJnJin3bzIOnyGjOAH9sx6M37nyL3TBH+D4Xx0Kn4P1X4xRhW15iHeHDVoDN2qbz1+GwBZ7j4stZ6Kj7vMosinkRHvxKzEPlMKPWeYtfye-WfGs6SwBkimmmv1+cpFaj+hZVad6ABv3IAzdUmfOT-oN2d7TYn4qPIHFUG3QTcD0YAysNAMBAH9Fg+YbaqN2myIDXwyAh-owGFAH07wT8DwDEBxixAw8C-axnJgoED9JiJArFPIzDx6B6BZAyYHMR1AsCmydA0gYwLEKcDdA1jF0PwMmDVFhBkgKRmlRoHUk5iNPEHlILJLVEZ8zjGgcsWkGLsgSqpYgTwPIErMsglAwYGyVMadUAU0HOYkgkWJpIUwUrA4ovHTCBgzw3qJxEwFBCr4kKQRRcJIFm5YosgjAXRNzA4QeoBOrlKrouAo558xin+YQcXm0GXkJBBFOGAYIUG3YGwUQuvgRju7PobubguIh4K8FSQemTg6kq4SIh+hFgHqMQRQWEGK84qA2P3volVJicp++WOTKUI9SvFlOgwVoYhAo459deRFLruxxN7L9R8gSAIdB2h6plsgLAWDlomXTBgwwcIDzHQHp7zDoaCYOgKT3UGdIdyyw4POYlWGLCugGwoHOs1s4IRdhsfbmk8yiBTCZhs+A4UsJuGPA2+BgKWJcMgYpAHhRw9WJMRiDLQsgSjMCAsKWErD5Aaw74TBx2FSwmWXw6QPwBOEFdVST5N4SngR5m0-h3gAEc2i+F6BYRxwofnTDRFg5JhzwmcFLC3zLknh0w-AGGCMAkMaMJ3fLDSK0DBJIgdgR4L4HZHTCWGQ6ZODsySK0jWRJI6lsKMhE7xORUwvYWnlKDrMMRsjbINiLBGHD1GByJ8lSIQZEiCAgo2UGyKmESjSR+cLkZ2Gh5KCug1aV3L0C2K6DfinEG+M4NKqI9IhMQ6IQwNOJxDtk8ghknATWipDTgAvJlqaOWZbMbRWgRIQyVOEsjvADOHGlvwqF8CYhOpW0WGNKrQ9lgCkKMZIBjGmk0xgwJMfaMH5zFcKFnfAFqGvpdkHSgIEsYSGvrrMx4T3HMQAK0BmAmWuFOgoWxMFpjmxpbU0eIMUDFhLRFcBsXmKKHtje+TYo1gsDky2ipRaY5aNGM36mkXQnY94TMhdDTiVxdMWcRmKzGytlxnjH9DqHXH7iqKZJVjpWNLEdAyWRg2EE2SyDkBIIwo2mlQNVKS1NRUmGwT2FGDRRWEDOfkCeyjB-j8BjQQYFxwbFcc1B5eT-FmKtS7p9002LcU4EzELi9AoE0MVFRv7ATyxHwg5OBKSH-9oJiGPdO8yrHSQj+YQeXDKLtQXk7xD4qkWqQXEwScM0PQgHqVIGwwXG44rYWTDZFNldxTYj8RKAm66iORe3a3i902GQS+c3eCbqDzElwgqiyLeYNXj9H19isdrKTIcjoDQ82JvHYniiA4m1hJJbePbgejs5NjvR8lEwXtzMBfMpWhyPbhjDvGgBXSAACTwiSAAAguAHAB4QAASq6UgAAB5JBsgGmyIk7i9gGbqwmPZATFYCEkRhBP-4sSxgOkgyXOKlFCSdJoXGKazjSlRjWOQk9QBskAms5qihU0oNFIwmKxrGrk9yV5J8n+SgpIUsqa3yykaccpWuPKU4GsZCTHxOkyQHpIljxSdSfIDqbQDshUii0giUgZVP-FxTIxTgZMQWK4mwgqRLaWkUvUey2j3AMtesjNxDBRQfxs02KbkG2mv8VS6YxafmIBaFkgBxNEqZ1PilLSt8Tk9QquD9AkB5u02AAAx8MmERZMWOexmEYIeClAA4FoSBkfTGQgkabG9PwZLp5uYZHgBZJxBwyFYn07wNUSfgNRGIAKQZvDxoFoyUOoMxvnMTkyStRicmImSJ0rBgyPeHTCkUnDsAHQ8Zj4KQDEAQzntdEYvIGcTNpkS8wpAM6mY6hJkwC1+GiOwGMEYjqBX4QQjXuEVCFhI5cMPMYDjNZmgRLBtgXmTTNfBgzrKGKOTIhz1RyYbhUsmWbKxY4bi7qksyQNLLkCvwEkynfWWxx67-9TZts82XDIEliBgwsw47siCU7pIv8wY56dOQlkyAzZ9soxLzyE4mDB+YfNnm5Ue5lAaB8c8IW7PUIGEn0k-VwoXhdGsDxBDONKr8UMHPovwHgIPukM6AflzEJY67B+SIjuy7Zr8OMfBg8DVCV+FOHOf0MsmGyux0eIYDbObkWz20wrJuebISTfdAeBAKvFnOcqr8M5Ecj2VHJ0QmjbGy6c0YukRgayVB6gUOR-j5ypDSoMQwuS2lRKeiUxmISrFEL9rt4q5pMkXprwmgZkkJd05gSfMqEJjBgx4sINaGenGM2uFXWOaEOtAbpf6eAEWpAtiSF5nR02MQe6PRB-zrp2vcuc6Nvn+iRUWQmMq-K34UCf51gVuTBCqFd8KcvLEcSFhsbXogx+M34kgtLmO4Kss6X2SrikAkwkFF8tOf8QgVQL5ZDYc8dWMvHldahj8rrlQt3l8VkFq-LPEXBIDYKdxiwenosFt6JSmRyVYsReLIkViSJNYu1HWLKAKKB66sFsT8VlHvJwwLjKWFhNmQ9jN555GkBrIMVuFlFZJUxR2NJ4Bj15ZoxQFvPsXw8lFA9entINADcKRari3vpYu2CTjVSSiqUbIpfk7ilxKI3+kuPVhWzQgcSkeDuLs5JLsJdMOzqkvwVAZTx6zfhaRO0lSA4ZvgUGEKBg4LFhquuC0CmDhlTVNYGUDQFSi9nsCwEZQL2ZMTRnXROlK0hYDuVegG8uZU818shzkDSy4QXwTOdKztRjMxlY-b2RIxLQjx5olSuGSBM-aCMFpIjXCQyUdF85Qw2QBnHDIPTMzQQ6srIOzNyBey1sv2Z+SPEIlwSrFKQDJTgtNKoTLpo1fBWmFDAsSowpy43F7LSUpBDll8pKc8sYlET1FAizRa+Uxy6KwsjTXZZzNXDXQQV5yrmSuOon2BaJXIvQJ8teUvT7AzktyZIF8nOIAAMnhFCnSi5Af0ouLdKilwzM4T066XMWSmFzgwMMLqcQAymtTg+MMBMOyoFUFTW+RUwGbcrFkCIi45UjZOKpqmUrqVdK8AC1MtBtSZVrkCVXMWFF3DnGj2XqXRP6mDSJV4K+mHDImlcjwQlwk1USoplNLz2NqqYeCFWWSh1lOqjlfsv3mKTVpXI9aVoE2khoLlZtest2k2XnsMVvxTldSUuGsria4quNaeImFaMxg87FCbsoWi-KlpwkttvqrWnMi6Rx5OmEWLBxPoDVTjLoDiNcLjR2pVU+gFmu8B7Lc110lcZqO7Tiqflc456dvVIrqiTRqKzNfOzzWijjlbeS2MIAPQyS-Ezar9imHHxoqW1v-ZRFOpICVyQ+1c0tjSEyyrgR1uysdeqPWbrrcg4xEXA+wHVGjylvK2GI+AMkwd5mfEkkIkACCh5zFZkkkBMPvF2BjptMhnKlIem0B2cG2O5XyvvVAbBVDvT-CZOmxmrS++kyDb723RXMUkkBSDfmqYaAYHVeovbke0bWurHgq60IIsCZyg98Nc04gIRpYAuERUcmSDYME1GobmZIiMaQzlFF0Vu5HGeVbTh-VjA0ZUjVKYMqMn7p4pB6AFe0qjAPKr5oG29TDHvXDToNfOWDeIBFUDSENQ0-Zchs-zMbICaM4UVhp-Q4aRJL3Z1VkGo3EabApGvoHhrPbmbhRtGvlFTPPaMa+aumuUPpvVGca+h3GzbpKA6BdA0ZVGP9QBLY0wdKlSG95W6gC06rXmYW9ZvsAbWUa4tjayYolpC0hswt4SQwFRjGAYbBNIqlLZRrorbpMgSWk6d3lqmeTvJfkgKcFI1WYgqt9U2rU1IZX0a2NrmsOmVoy30A6KX4QECOSvE8aKQ6WrZVzOy18adVp8oTVzMeWf5ut7Kg9FVrVX0q1sy22lfSoPTOa9BtaPmgtvPa9x-+A2++Deq8qYorIq6VmIyJGHDLxRV2mkrtjTAXaRAYmLpU2Hu3rFG4526EEZ0URDLHZnCaohLhhIQ1nt3oV7UMoBpiZCSu2UHdCAh3+qLEH2vwmdBtxw6RAv267cogB2gs7wDUHQKDC6CZr7tb2g4MjuG0Sg2YOMeBC1z+2I72hgOlHSNpHQsAQkCOt2W6HJ1+ant1ADmU9p+1HqjRZgqQGdv50hExdFAAHq6nzH5r1mPOjmTbgl0i4ldXWE8kuszUnYldghYgGDuWyJtf6V6yUWbGs0ukd2i64dbstGLy7BVzKs6KDt52nSJAuu-jIbseAwczt6O8HZ7snhMtkVVHaGfKMBFURgRBwR7OrvRUnZvduIp3T9p1Ku622XfFIJqPt0K6vt3uzOOnqoLd9CqPxfNR9BN0DbGAiZcPSutzFO6HdhA-6QTu9RsJBdkowtYGuLUhrRU5a-XUUHpYl7Z2egfHYTuXVd7K0lqg5PivvHsa6JtFdtr8mTi3iCVo+olUUNIWHIpMiesIPHq7AF6D2xei3aXvBwyBq9i-PzbDBDBM5ad1jC-FTv1aOCrE38iMuk0ybZN6iUFCYtDzS6gdOCRUuvW7o7jEUi1G0khrylb18pD9Vzb1Nfz7AODngnjL3hIqJKWr+yBgxmseLgpwH3lD9JNJklTTOA0xwcyKqGR5YL7vWL+2LpNndXXcp9ugGibPr1HkKtUS+--bntFGigC9hBjLt-k30KYM1luwYMwbi729Ic26DaLxzhoLCD0AATiqDr8JA8NfNQYD8FJwhD0NfNeIOWi+BBggqzcrHJ2EvqReufSrM4BlLfSE5AAyQwsL0B9s+2KYNAJYcs19YfNByeQ20POFfqn09hxQ3RB6YGrkIOpZwHmjyJDC-+NgFwwarcNrBBgAhtcMYehoer1AMyuZTBGlC5aP9BaoZfHsYNka+Q0y6GrEdjhAhO979SUBkdmXjBM5leouCVz70eoYg1m-Et4HSA0hv6E6-dJbAPQ6cM0LQXjiVw4l5RnglR0bgmQqDuq1slWEKIwFqNv1xW02d2NWMZDghNy9hl0rmjzQldQA87VTdZusALGRQ7yuY3+3RWWwjQoASfhVT94Yb7xyUPLQFo8x7Heeo2oGcFsg2vMYtGG66Fce15DGaj55MY7fMmNikCB4QuY4CAWO5p0JlG-zcGAl6Anc0mxw44AuEWxJ-jEJvNCsdeUMAETnNX3oEbomVq1pzekNAAZ77Tt0VP80A-YJaSWwlpjG5QPAbDrtJ0+uRlCXHGn0j7pD7440VIr80nYcgdARiD0x6OGTQg26Jo9NhaN6cOjuUWQHWmIBrG+jAxkTcXAWxFikdW+rvWSbIMZMZ9zJneKyf-47GW1Ept3OAfpNynS4MB2tJSYIB80aT0PE4ywi8CsILjZOqxHMTnVhILOJUobRxUeNsaAEQCOWZSQQjnrftW+Mo5mr7YlS9AuS0AAAB0sAEW-xsulOP4AqM1LJfVLV5rtoL05hoEMMdqNrEsAwZ9FaGZynhncl0Z2M37PGAsJEzrbDiYYkID4kdS+3OTHWdAAAAvDhtYGjNhBq1FZltEmeQP7c2z6Zn9JmcBDZnzyuZ3ljcF2ycnuTPgUM3Ga6AJm+zJtatvrS4i3xEypARMpeMNB9sIQeAfM7qfnPlmlz1Zlc1Az5CJkPAm57c+6pHMiggAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:teal">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULATEFWCqQTBpgRQJGHQEV6vDJA7wziHQFF7RD3mygbnGi2+G-D7A4qCuBp347B5uc3fenszXuGJAnhTUUQmCI+EQwHhD-YEcW1XpRB0RfwsXHESyhag7gODH5G8I+FfDHAPw91P8JB6lkQR+YAkRCKhF-MYR9GT4biIRE1wSRGDS1ERAJGKAWR-wiuGfw+A8jVSpgZEQem5wxk7cmI5EfgGmCqBKw5UY+ME2VHyAtIDsaUc8yRGPC86JAa3HfjaIqidRBonwHqIZGZ5FRg7NFg4g058jGAZIwUTSN+GEMiQPZO0Vo0lFai3MnQXUQ8KtFYjEM1o+UZUXYZVIwIOMSRIrEcHiggYvglmPUL0GeBGhaY5oW5AcFFM7g7Qn8s8m6ENCdeFfWHvmE8FSDvkmgRMfmPeLQjtRK4NyJdV-5zCTBgQk6DWIyHAksqDYywLYGbEMl1QQMTscmMIEZCem+AedF3REZoxlMU4sYCAMa50xEeQ46sfID0BosjKWKO1mhkiFDiNx5YqMaIRjGCQ4xyIVcaABHEPEnRdgU4vuKBZRp7W64RMQeyHFagmxP-Bksun3Hiiegy6F8b+PSBvjGx-Yz8eqx-EqNnIi6ACZBPsoPFQOc41eF3TuEKo7gg3NyJaNwJ+CtoGNSUQ4m7G85fUcYTEG5Hm7IQyJ8wTQFBwvFQdRx2yC8gOMsLWYxIVsYCX2IHGKBqJ8gACGt0okzi8RywWiWELHGMTkoE4+cYuKiAwJR4GnRsmhIsR2iqEn4piaJD8AQdCADgLMRMGpCUF1xKXfVNU3AnriCJIgK7kGMSD88E+yPAET4gl5WwrulkoXtZJcoPlehMPK3tJOkBRg6A4Q9BrB2F6NBdJclOoReT+5WwBO64wsSkWqF-c9A-TFFlGD+5vI0JoAfkgAAkpMtgAAILgBwAUmAAEr8lIAAAeT3rIApImxCKvgDMB3dVucArBEFPfG1jgmGk3Kn5MamNiD2Zk8QTSBE68T4kbElSBpzMkyBKgFEwYHcxGmjw6pdbBqcE3SmZScpeUwqSVLKmTSa+PU6kH1PqkDTexKkFLmZMtGbTbAAUznINJOgb5+pxAeLHaMSFtFxBM0-rg1MGnNSUuBo4iCqOjoMJExEpbGj6Tu6TAcgJEx6chB+noChqAYywM1Mb7VSSBD1cafQA6lQyuxzaFKY23igiEzMUkAAAxbFqY2UA8F7FEgjcd2qHeSJQCQSSFiZpIEgFjOEjUyBgtMlcKGR4BRSsI6MmmSMBXB3M3sBMn4NIMrGnd6ZWiY9vIgpnBNTi2LKIqcQ5mizyZYwXPoLLn4Riw8Hcfmd8jsBZQwoxMvAqP2plyy3IFMjYvaSJkizSZkKCmXQNTLUxMR9wA8DIHjCbdAE6eaoQh2MjShRBfM9QekNlnmyuw4suBKly2gNcCSpxW2bYHtnSB4wuwtjriO0amA7ZDsw4f53NKoDzh7lLbvVATkRyk56MkyUQNECoj0k44BYOkLcEPF+kvUcOZHMdle8fOrswOLajEoI8yiuYmQc5XWFdCASkMEgsZBOEmRfEGYowVmOIi3lmpnQ4svwlKBuT+hKpUIJOIlgkVYg1cpOa2K3SlBFhEfbeP3PvLp4auB4kyKEBXlRz1WHcmFsfPjD1cP26kWIAvIcCdC3KBAzOUmmzk1zbhVPSMRw2aHOA2IDIOnsENgpdiGeF5HoVJDmEtDM05cjoWkA9g9CkWnvM3j7w1KgS4ZGgzMW2LTEnRYJUQaoOPLDLedGIEQ9cNUD4j908AyNChUbBAXFiusTQiBS0FwVdjOhU0OBYmiN7uyoeyCjiYoOwXGA15ARBYXv23igsJhqUMDhwyVkyDGF7giLhLEqETAi5dgQ4IwqgU-lHi5CyhZPOnSITHMi3JYZF0QUxcJFAC8eXFwiokAuFYE-IG3yn50Srh44rFpOKQkLiw2Ti3RRp2XFrxrFcdMXJuPUI3ifglBbnPxM+DiLoxP8hsnCDp7eLCSti68TuMCX5BReaLTwd-LVCRLKA0SqfjEt8GgANFyNAJXeOCWRog564JJQewsUmkUFv-b8XCMgnfixcgEwIJUtwgcSBOdSgScsAE6NLeFHwIEghLcXISP5VeOwOjJ8AsJgpGwmISvjvQTKG2xMzKrznqyyAWWeclLndjzm5FqZz2NZYCLfxrx+MwGTZb+1LbSB7ZRQPDD3NRZ-NYmZPHWSrPPxulcINWMZejKomTsDskM4gO8pXC4Q7F4vS+lMEtRuR0ZVsUwGrPQyayFgec0JBeRaUqSWJOHYcPCo4lcSvlTS83gMQ0mMggVpCPORiqCBCToFz8+FWJMcUSSHRsCbLvSnuAZttZWiZ7LipBU6yz+ckswApL1GKBSVvIVSVPhSkLTbA+UrcAABkpM5U2uKPDxle4apD1dGTqBelALohrUrSTSCRlDT8w3Uvye6jlVqrQOU0yoDqriL6rTZN0eaRlMFUiqxV600YJtO1XEz5Ve04Ju9JkaeiDQh0xScdNOm6qCVgQcIsTJul6jHwjfd1ZyqlnzK7gAah4c2wg5QMdVCq-5WPnen+ivp6kUFczR9JQMXlxM+lTIPjUPEYZMqk1Q6vRUoyUJrELRHSrRVNSMh5kwdm9LtEfT5AKa1CuoRVrGRnVzwtEe6KRjzJhY1HK6TqCrWNjoZ8ySUbGvtWcSPlean4n3Wso+iIOasbxpO0nW-Laxta3WReXtD50pIDkkrius7YVRF1GbfAWPi3UkAZ5IsNFnCHLW0rl1GbNdQaNA5nqFgu3fdVOznXWjwhUK7SawPvF7LdRhqCKX4GhZao+g1QoDQ8qPgqBeSI3K6SPM2nXIrpeBHzptNYEIzG5I-UKcjytiers+gU9DZ0MLgNNVwhkEGVRjtG-1nIIa4MSTyUwIzI1iQE9UEHyBoJ+eFUejQaI4LGRTiCMzQJKOI3gr7ocGx9V5yH5mKy0g3UwCavg3tTdltky+oNKtgbApg2Kw4DCpgWELv1NIX9Y6pT5Yb-EUkXDbhECnnTCNF5ATaRo5kGjKN9kajRZNo1+qI1nGgfixrxAOb0ZDGlgFxstAyziZfGmGhZpkRWafRomgxSzGcSjoxgnEDmbyTI2HB0N+k0ZdmoS1osVuYy9DRpxW4IzENO0lSHcyy1XScts02gHgWg1SaEZMm7SUVqeklbYVl9CoP2ty0ZJUp5qpaQVKKmlTwAnCAVW1pWmdbWJxnXjRBBhoNa4t9AFyfwg3C5BFu1xc-FFpNU5rStkmkZNTNQYIb1N9E+rdIGi32qrYAqoVaKq61pB9tlq8Vb5rzHDaVao2uVRNu0XTaIOGwaLNQC1mPakITMD9Q8JB5SVPo0WOqIEWIC-ahA+JKSTWoNEadHtz26FeHle1A7-tgOpRnHI0g0ql1vy32KMBh0UA4db21SPv0YQfbEgU+VzcLTLaHrkdx6-YbQCe1ZRhB1MNalToWB063tD6n0YluXJcxGdcVDnQjspUyS7WXMl0QKIpG0ikEDCI9cut-xc68Qku56KDp9F790gkounZDtuhjhpdwomwPDvLw46VS+Owdu0iJ1TbGAupMXb8q2oa7IdNOzHNlE8C7RHIsu60fWr1GNrVRxFdSEZWrh6t3Y+y7aGTuXXW77wnEOlaJx9XLA2V6E2tU5Tya46Mgx8VCeyowmKSJhwiqMA4nl1RBdd+u1jUWmoD1slMJutNlEX90KBLdIJLaQ0zSHlCxxtsJnLuxm5sdNAJFIxiYypDmNYiEHSzsu3JSjTmdDu-iA+QbXJq1Rakd3VXDUi9Ty9SgWAc3VSHjIVSESQBW8QxVGJT2f1WCTl3EAN7OlYrHcPlxqhDjZBrWa8J6V1bCKN+G4DvfpzijNsaSrFOPeHstGiKCYqe4fc+XnX7wDdF+6zmMmN2+7TdmgT-QZxf4FwGJ54cYDYB2pSQAAnC+F6jbU3hEerCp-xWRwGfhta5oVqB8CaB9pFQnzqWWA1m8CFEEKwJiWxle8ggKBs0OG3DYVQ0AtBpjflDE2WgKD6rFQJvPSAUG0DFIDVO9MQwnQrAN4Awu-wzmBAOD70rg2Gk0AyhYOFB-OdhDOU-DLloUUuDBp72faUuuupZAbpkDnLFDD4UnW4HvAo6C9AEeQxctSI9yS9WVFTrCCMNmgsormskiuHKBwh1mwCy+vaCtj0dTwWwWDhJw3bNZJ9xAVzUkyfDRqNNEEUbM4YpD+IkWluJCSMEfBm9mDG4a8DeD8OwhIOk7HrMEZajg1aG+oZgymzvVbxB+YWx+ZUIq2DdhumIKLUjHtAYaogaW6mbFuy0FbcttWTiWwcqGRHyKDUaWgpzhDIlq2ZBkQ+AbeHC1UjR+hGdhFqNW9Jj14dqKUbkX6ByjO8-EWMZ+ETH5jmR35dFGYnZ15jCxgfqIcUntqG1zat3a2o90qkijqO7BVPu2Az7OJtYvjRvoIAw1dAcc-Pem2tx36OVwY-CRwjMXT5f8wwOgAeA1T2G0EG69w54Y+UMcfDtnXSdqECPBGdSoR+foZRMpXHYW3x547Hq8DySE9nKwE7dpOJWtbDkEZIVQF2j2hT22Jm7BEZX0q1PjX6tnbhAx17tjorO+1KNA+I4JOTj0RA-YpjnTNeo4BTk6x2FNTL6ux0O5uzF0aS60O3J-9byblPWD7COCSXUKe0FwY+TdzcAmrr5MpdZTz+O5kXvdR0rjT0Q0U3ERr1b4690psfLafy0UQWAFXFU2ONNPTMsA6RuwHSvDZkTFAnSgADpYB0tnaziFUfwC8lnmqezGtDTQgmRqDSmHow4BLR+nKTgZtbsGYElhmIzRc1IkNxjMDtdJU8MkidH+6nFCAmgAAF5ANQAYZxo5GaLPERYzy+hM6AHrNJnnIKZjcGmdK6e6eoOCMExCfXCBmWz0Z9s4zTdY00DMFUUoLqVIC6kFxi4cNlRDwCZmAzMjVsyWeeYznD2xO3UoubkIrnm2fZ9qEAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
function predicate(exps) {
    return head(exps);
}
function argmnts(exps) {
    return tail(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhqAQyhkSlOIEhDc26CWXCEGGwqulB8CgD0BEeGlAWCTRCpIB5whDRKPPoykiI8HVOqoC6t1JALWMEoRCGw1QSlyFkOIG1dqsmsEWPpYgXQg3EA9XWGwvYsSiTkOQY4BqLEcsotdd1gqhVBNhgJFNSgamrFoEKPQXyK02EorlUEy1M5lubS2yUoa6Dlt7UE3BdbmCjL6O6j0KRp5i0dFBG0egEaz1MD2zxwMYkK0ZBaRdrll3Su+UREgY0YidCqBGqNMbM3WG8PKzlwagTKtVdQdVBAk7D0WORPV3rmX5gjZApOIrFBitZXDAd-LPXKOYaw-tIHOFFM8SUOQRSiLLFWKyw1zwhFyNDbBkOKSlmDsBYB+dI5M4IxETB1meGpUYzvF0w5jQWbco5tUmxnqZ1RBgmyyxWtCb806Mi1J+69mFo0Dx2W2tN3vNMPh1FlzuMct43zXWgmlm0aTl02FwdZNV1jbageLAh4jy03XXTMw1pHuoiejoZ7z3yBjda-TUgwyl2buXa+B8IOFC-ApzDJcV6g0bXXfoqTbPWEjfZ8iV6s3+nzVhlexgSPkSODTQFvnOX+cRdu4LoX0mOfjbO2MSWMvCMiIlmJGbm1fni2Vy0MSwthAi9GqLVW1qafhbbJtLbyNZcZNJvDuW6a1FCLUa42aSAjM6AWvQZgjgAD5QCIaqObYjE3ZkNQOAdEO7HuEzznlt4ToQEM73SShlYPg1sCg24MVbIJ1sCZdAdo0ABIUI-6i50FMsQZEhB+yVJhNJ3T+WIgmZQl56w2b44Fthb1nu5QGvma3lIQew9R7R063XZtx3SjNqIjA2Ugsvs-b+60xoXbMtuaC34A+hGW2fZyMTlpV5FZPy0z2od5nXOr3c-1gCDWmuXp8TO8pJPme8pXUKkJPIRdM-yVE-8h2ZURBAhecC-TxkVql-8FXYF-uvnhNWd07PrBESW5iUbpiKRdLvqx3T2ayoFv-n8n+mJs0n3UAwFL9Pvv6VF-kzOZVw0xfTKAS70pOie-fqXPaYe6QCfd9GoPnccTpbKrTiZVaCe1uUPW8djzIoe8GLHjbYGhPqaLl0slCzUk7duqoe6hWPjFeN+l6GzGCEfON5WpZh8NPTJGVT6vSzPXZpiQW9LA+LTFclYNmwIz5fFcn3KA375JUxJ0w1r89X3tmOmTr2X6uh9sczfPlf0ToLPH330ysZ--zp9E+yy-4Yemq715BGJqmbH39y5G6w5t6OxY5LX4d43zgYn7rYL4f4y7AGQS37JLpLpbQFq5DgX6f4CoIFqbqJgCaKxS6IcAGLcB8CeSW4dRfCMAwQwy6Zfg6onApacYyDl5nT3I+x6DtqvJ5SDBp5gGYhfiAwMyGbJqpo+xfxd5sH2BvKcGAJwgb59xFwRDaRJpHquosH4BUG7YXCXyAz4ApgKGCHKFfQPxnRtqLTiErSqG144hGwSzaGgBSwyLOAlpSGcpqENhWGcqDDqz2GvpfTZ656NrmGZq8G9CzrWGDCmyMEUhPzrqoFpjVq1g8Hhz-CAjRE2hfygCxEWj1zfRzof4VYWFkwaEAw8jr5AgpEjiGEUhlFjAZEVx5GBFrTHQVa94V5kDVQ0i6C+FjqNo171Fdxug-7mw1baJJI9EJGSJNgDF0atHUCyDJRmovKHRgFvaI44ioY+DDFPAyG1DZphRKCGao7WJ+EWgFpm7mz3ILHbTVhgZiouGrHnaXGKjXEX78KDELHy5doLFTDLFeo6gbEyBZFMCghJYfGghfHZwrHzAuh-HNFmIwzVpdCHFdHZZxJPHRqcFUhjCjEQnKyyg6AjAPGZDba0HxS4n4nWghxfKeJrF6DnFJK36onUYeAYnZ6K5hBERZC6D4n0lmAAA8JJnJwweg5JrJJKsqt6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANSpYc7JxRAxBqT4AsrcmgCalpEalakc6GDRC6DWosrCkilslinUA+CSnSn4AyCMR9o6AKl9ZKlMqUCqlAjGnmlDqWl6k2kEmJ5BmmlBld5hChnWkGlCke4fQrYZDhKRK37T5xI6aepTHKDdAZBbRYmFB3je4RkMlmbebqGIbln2lYoooFkcJdbanXrTHtE6CdENrbpCaxkm7JxxLHCnA6jcm9k2CeI6jCmjl9llkzgokCoqIth2kI5-p0z5bWKDl0HnAo4jyIldmMiVkpA3pOkRkpjKrpBHqLagi-qFAC4taArZp-EFpDEXGz4TJfhll-HvGcqfH34tqfnAbQlJ6Nbm5jEp41KNlFmYFkhJyn5xJZnViDDWg5mZp5kQWsrD7RbWCllfblmIXJng5hAzo1kjktqdLgWhJbRTmBxtF6mdl549ktpES34bnfi1m9meKyCWgTmF73jqB1l0xMU4WzlXHzkuhLnpKRp5ZxrrnEm7Hbl0VCgHlhBHlrDZkPrEDnkpqXlPC6r6pL7ChAUjYXp3nfIPkLFPmZZ-HoU2LLnTprQflvH0nfmgm-kVr-nPHOVPBTo3kgXYkNkUXWVmwaI+xaI6LsD6JcBGIYAkH3BSB+rOpjBpq2IFHxguwTr3qAjxUBpggAlZWUAuqOokTuZVLupKJfjHSToYzZp5WBohUFqAw+J8EahpE2AahAroGFB8F6gtXWB6jtXp58FrE9WgBrH9WNURyHjDWHhjWdURw8JyBpHzUTIdU-IRw4x0AkSqBwhpHrWbVpRBIrVhB8EqU9UqWAqHXCoRwbQjCsIeB0BfzXXDC3UMB0wXU2B8HqnDU2B6AwyDBwizYLY6qan7VvXWB8GGRfXWA-V-UA2gA6r6og0DURwABUkNtqv1oA-1xwgNoAyNmN1goNUefQgIwAaN0NmNsNOqYAiN41SRAApGTRjVjfNnDaAHTfjaAITXwbQV9eTczTjcSf9UjUkQAIQnC81M2U2gBi0pZC203E08mM0w3Y2s18nWBy2zVJE8lHCQ181S3a3q1c0RxzZK0U0q06oLaG3C3E1zY62DBhB63m2gC21W3y16CAgi1o2s2hAs3WAi02CUE+IQjVXRD+r5WJU+zvHHDpIbRbQaiDA1UR1fS9wh2OoJX6HejIgeBWQhg9zR10yx13rOAs2DWh0JVpEVUkCdiuXWCJ0Z0A4QhYCp1h0uoi6R6Ax8GWbjSdBpFd3WaE0tlHURyQDEDjR0TbX20j1j3DwD2D3vVXVaBPWwCQA9WPWSDL2z1z1E3u1r14TDW72b1z18EAByqgx9aNp9x9-FLZwdsWI1Zd2VUmfYUdRwMdm0nKKtvx85ddbdt9IeP9gBcoYq+dhQhdNqLNFVhoCdD94dT9gYvcJqTKvqMDtVX0RdIaHZh4tx8wpqkgMQkglmjAzKtFVkqgagn20QQ8zZQqddhVWQQoJVVdNdYQFCV8lQYQO+FInFESCl262DzgmeNau5eexu+OKarBKDSdmd9JgwU5tdkjcDy+c5zDc+1KBOEjadj9lE1A2dudYGcj99mjsDMuNxKjvVW5+xO5o6e5pgVVd9uxOg1UTJmy1j460O2IkSwjjajdwVyduB4VnAhiGA0V5ssREYFAkg0chgr4G0jAr8Ou-DCwbgng3gz0dCi5z+j4nY6S45YCu8GTTSWQnYUZkgZp8Z+pLKjRmToE2TAlrFYl1TRTAJ2kG0o87aAkgsupug22vROIJkpA7gs8liBgFqpApAsNDAmpeg-TLFgIDEnicz9SQIKYQZ-Th93ycz38VpYaXhbMCkhpXTOgGDYGrDezM9Fgz2oF8w5TUZ7tQZLT80sg7TAmhdpzsww8xzHqJpJggIuz7zI8y0LA0zoaiT81wLkwOTQIiG3EdTnUPIFCZg2wWAr2Tm+0O8iE4LHqQQ9TboCLZgMtQI7i4IkLaTBwCLszRLlJ6RtAUQJkloUTlYsTr8CLXyREBW6CcCVS5LSLKLqQrgSSXKbMPKmLhoyLY5QIdzmpZzAL3gQLOo8ieLZgmpYroQDEZTcFe0B0RdmdWyLGeLMZQKarQZ0r4wsrpLGLCrILxT6pKrNg4I3EvLKG-z7tk1GD0D9gqOgLorsLcV9xLLIm0r7tQ1N2PI8rILgwLoeL7r+zprjALAaSz2YKhzmLkLgIAA5GaRQlGRm8i0xYc+GQi38x6yPNHIwCyqW1jb0wUTWU8Ckz4DqBW+s0KnwZJKaU6aacwsKGgtSN4F26UbPDlaK89lSc6w2yOGW6JW6I29G567KyKU68W+a9OwuWUMuya42xERKKQ+Q6QJQ3VhfvzJFOzLBqC1SjSlUqzCKVrsTRy7SpzIMIK0TFGJe2YzKVtNu1SLu5QEPEloe2RNSMcye964UA0lq5e5C3wUS3HBq4kuiJe-OyUnDJu2IBW-KFqjDH+8e5e56sDmexghe3DJVikA+ZHcxSlukpmZqwK5Hbq8+4R4ZdS--cwP+7IF0GwgWoXah-COh5hwB56ZnPB8udVqRwOcSZledjC1CiNfcTqPDEez22x-2vOcdHJyxwmJasBykERJRGR6cICJNZC6p+zOp-2qdt4dI6J3px+xQ9+-u6kYZ-cTp9mcboDNZ1+z+xukZ9SOa-IvB7UyB9J2hk5whfffJ6x9Bjs+bsZXpgVmB-R15kEUkVB-2dWAkvtCMfR-ztF9Fj5khyBdBUXO+s8Nh1Wz6NSeByJjqBVwFypbBqeSqmqgI+3mIEVxUZrDS63Ce-kWV-cdV6KS6H1w6bV6zPV0+i+rR0WB131sauQj24wJWOQCwl4Kwh0MGAcCV1c84EV112J-yL2787IWdPsGx3N5WNdBt35TqDUXDoJ1gelB+nLi0KBAnb9pKFpe0OQHJNonFKQMMJtMtKAJ5LarIGdJ5GgGD6bDFc4PyJFHoPdNIViH6IwB0D05t0k+i3YEjyj-xZ4n3RtqyyUtbOoHDzIAjzqDqJj06dj5p-WRTyGFTxSUCnjtSLD-DxG26JT8jwfMh77PXmME91kDNiPnfQnhcKBPVSjQLzIKjUBXeKEumSTyPDwIMPD5IOrARZDhpFLwWjD6QIr5IMryu-nqZPElL95SkPlqJB4Nr8SXj50EpX5XbzZhJdl82tmpzx0Dryz3r6r-wOz+Alr1kwxxb3Gh7yxU7w71WQ2E77ZY1q791mtC6B78H8BUNr5a2v3PQL2-r4b773hTaEpZr9b4+F73pD76Twb-72UKL2byn5b4H+L7bymlZhtpH14vYBcC2DX4+K+ykNSYDKr4b9SXn7xQX020Ci6N3zU+b3H5FgRaEO7-T8j6X6zxX370b1b7X7H6kKH0v57038eq315ry3GR3zOA31kJ8ifxztScP2v-nyOOPy2uf8X9PxCCf7efP4UJxZ32UB7w--8W34rkfKI2TEHeF2paBfuNJJSl+DYBid5eESSTkChCRpkIkxuIiHAL04xB8owoWMp4mwG9tYyREWriwFG6Nd7u3gTcLpRUSgRry4WNHhAPIC-c7GIeDhJQIW4l8UsT8KXjNiqDZoPuBaNgY90fAutUBiwfMNVVe4pYhBm4MXoL0BAED5u+YM4nz2SgxAcYsQHXAAMSbUktBo-R-l4Q8DqDaKOuPQEYJTR6lEmOocwRoMmCGDjBHRD-DYMsHdcjezg3QACXcEdl8GVlPQdCVcG68kyhTRYtCS8KCMDgegkov4NK6BcfAT8LwUEJfyLEKsD7T4jzwWCLguuMQpBGlTq6EsZumfEsFQEsQjdASmxUPBpT0KLhJAf3FNFkEYC6ZuYHCFlBd0KC4dGkQHL-hDjvpeDHcDg7wd9isqlDQhrWBsL0IP4t9OgXeXHpUKULVDahUkVJsMM+Jd4iIfoRYCyi8HFYvBM-IynP3aHld4umFQimtGpLrDKmCEeDoMHOEYs-OsfT-scL8qsx7h6fZPPMBuGXt0hlpbICwFYRqMa0wYMMHCAEx0BDegIragmDoDq9she2IkFLEhbgjgRXQKETNjM7UlhyUsV9kLxZrfDHgfwj9ACPkAQjOmdgPETOExEGMWyiIyEerABIxBloWQMhmBCBEgiwRRIpEdIGhFo8wWoIq9qAGpHIj+AqIupuiIQi8isRsNekd4EZEuoBRegAUZyJmy98gk2IhbLiN+HkjOwXwqID8NdRhgjA79c1MnESb4B9R1aSIKSKBbqjJAYDe9Nz0O4UhTRWgc0eqN8CWjT2aLOeOqL5GIYzOUoohtkFlHsiBMzaYcjqMeDrNVRBAM0bKAtE-C3Ruo5CO6JTJ0Y4SWea1FJl6Dbo9BnEUAtENdw9D+hfQiwR0R8EXE-BaQtHuMNOBO9IW4QxIT335FaBUhoJNEc6O8DfZrqUArYU4P6HzlcxLYryukOWAKQOxNoyAYKRHGDABxZQ-4q4MfJid8AWoHusGSOwURlxHQJAUNyJ5lApxTY-wJC0fJ-4fWHQkcWYDrFpia0GY4sFmIrh7iZx0JP0b6zQxnitgOwe1PcVzF8iRxy0TsROIxZnjlRhQF0F+KAl992xTgccUwMFKyctAT-OejqFAmUi3KnxBDoCCXGEge6XwvUlkEW7fZXRlBVwdSQxpRjEMMJHsKMGiisJvse3eblGFokwhBgqHPcah3zEL876XYp6kujzQFofxY4ziXoGYnNjJQp3RoLIy3oVpWJlYvypxNnS5p80i4jcVuLXG+i6m7ZXCbAXDFAtZJ3E2xpwwlCEBZi6g2GKwTgmuCQcybWCSSHSEfc4xjwRXrn1J5cj2JIeSPB9wckq8nJQFd8uH2b7d1Pe2OOQEszoDpDjJGHVXiiFMnxEXJhgUAPDwLRWTvJ6hTIfDzMALMiWSzeHhjFwmgAJSAACTwiSAAAguAHAB4QAAShKUgAAB5Y+sgBSynE7wbpaCTMhwFk4opv4wcXOJiGGSxgYUjqR2L5G2Swp6nUSYrD4lOAEOtk9QPEgYlk4vC000oK1N7btTEm+UwqSVLKmVSapdUhaR3xGknc2p40iCemlcG2TXRYUyQBFIlgTT003bI6cQDshaSChRccaIdJWnHTRxTgLqYk2tFOiDRlFIVLmPcDY1Yyv3EMFFGonLS6JJMYGaQOk5fTiAP0sxs1N+7QyAcA076bOJTI5TyCq4P0CQAB4pYAADMtjvANRGIYsAdviPw6VhKABwKgtTIJlboCoKWPGdUWTQA9NSPATfGtHZkKxCZ3gLwk-ApndIRBeg-mbe1kH0ydB9xQEMl2pKSy-Sd7PBh0Cr4Ni3+6QuwAdDFmgQpAMQRdAOztx30lZ57Omfv0WzukqZq4KWebN4FgC30dgMYIxHUCvxWhdlJHB0Ow5Y4ZSDeUWaYNKGmzaZr4GWbjgWCHDFg19KkvcR1HOzXZ5rK4aOVjmSAXZcgV+AN3o7X1iBeXUAX5WTmpzX47M8iRKGDAEiUeyIXIKUIrGglcyjsmQHHLTmsolK7QzIf8Tb4xcx4xPPQW3K6EnCu45BBgs2geFd57cxY2wXg0GEvkfpQAj2TiA8C+TD+Uw7Up4iXHNYpyREfOfHJ7GoEPAuwnys9mHmAoZ05Xc8aRSGBOyU58cqrliwCDnz65l8xuQNxp6AptOHuQeWn1zlepN5jcz4fpLEDhC8GigJNIjFAgazL+o-H6cLxDzjDSo-Qiea6nLGNMQh0k8IHGl6EEsI+BFL8CQBtJQTuxcC3sSWMmDiSJJ1gJCtjIqDBlP+Lc8MEmTkAZpB6eAZGswvST24ixKWLYWWKSTkKRhdML8OgprF+TrMPsnBQaTwWCktByE6wNvIXQ7Cr+z2FFo+JfmId4SYC5IeoGnlRd9hcaUuQTikAkxyF1cryl8SYUsK+Fa0dCUpKy5z9jhuXVRZEI0UUL8uUPCobgoEmLAh+6-NiV6gXF6cMJ0kZSeK0sWYTNxZnTubuM8V8i-iT408VLFXHisAFGY4BTSFAUeKE6XilYSeMyGLB1eF4+EoAqWAzEUlgvHJQnUN7+DQApi5GjEtv5xLtg4c+4jkr5GiKR4Akl0B4vgkpB2l6sMCTYBaXiLzWHS3pUKlk49KpFw6VCWZ2CUBL0huDeaOzMNngKhJiMpieOxHjeLuhIeUMNkG+zsyC02soEjrn1m5Ai5DWcbBNDEW6SC0PafpQJOWWdSpFaYUMIZKjDbKGcRc4ZaECkmgleZ0fC5SPCuWKSQlgS4pKpJq4YZImayxZQ9CcJvLdlRs3vupPsCaTLRegfpbpJxn2BcpBUyQOVMVQAAZPCPVMWw7wyZgiewGjPZmZxbpkCnqUZOb4wxMZ6aSFsNIZUJgqVTKqaR3xmnWzXI9sgREXEWnxIOVa0nFXisJXgA9ploA6byupUnTfpWk-Eeo3ZznStJdqBlVdIr6RTbpnSumMkQHZPTLR4IMxqqtRXyzTS7Mw1T8PBDFyxAuDDlTSuxmuC-p+owuuzj2Us1Yycy3ldCoTonTkZ7OVGVxIHZyqVl2M21bCDoZjAK2gktZQtDDWflvRzqxVf9LdV0wFxC2ZtNaLEZdA5RXeN6ejPan3KOxAaltFGPtUhrY13gX1P6vDX35E1WkiNQ-lBiQrq1Vastl1LsnxsoFsUy2MIALTuTtuy7QEL5lbVls6ByiPtSQAXmTCOgkLGkIZlXAxqK2na70WZynW5BrumcZdg2vdGhTjlwYGGCINfEwiLRepQZXBLMDYtlctCxKU2sMBOkxgc0yCPg36nPrTpmadoWFJEHvqiOhQbNPFJSyXTrp0zMaemlj7ZoBmcqKfO+q7UgMh0pq+MWzyBDvqrVjwCdaEEWC-ZFe90j6Y9PVEiFAU1Jd9YMCjFQbtZIiMDV2pn6Hy-0Aqs6A+rsC8r4F-UouT2vzS3SC0TyjQCxlOWYgv1DK49fKsL531AN4gDVSBp1UQa765GqfPzPVHwbe0iG+ychv1VZA0NLADDTYCw19BVNlqgjcw0VkDtSNsNWTXKHk2NqgKtG+gQVyO6rdmNTpQtSTF-XmSpACylzZC2O4+rf1ZnLze+tA0PSASfmsDQFrw26ZGNT6qja+oZWhaYZ4GgsawLkDvS4tkedacVNKkVSqptUyVZiDS2bTMtO04lcRrA0maVamQZLQ3V+U4hAQYSA7vRopBeaFlbGzNBFuY3RbD10KoCtmnK2yqC0aW8VUSoaz9aCVRK3ifcXZmlaWaPWqlUlIbA1b74+6vYkZk3RWQWCVGD0TWXW1eEasaYVbSIFwxWDLhoGAEj1l23QgBOx21wRnM4ReEDMy29antu9AHbXNnosoFtodE4JMsD26EM9piFVdjtXhHrN9pEAXbFEMQ67S8XJkyAdAoMLoDGvW2uD-tN2j7WIDZg4x4ExXS7X9qO3I76tpoUNCwD6y-a0eEOptbtuoAGyztIO1dY2pe3yUqdT2hnZPEPGOUtJZncnQbNO20BHtcOJnXhl7KjqY1O27nT9r53oFr+2pXdT8JTI6b3arbFMILrWVpEOd8W82A9op25BgdFAMDFLojF07LGa4CQDzqjBa7mdImMFVp3E0MjAxzI4kdQ2+SK621NWU3fKKN3nb5yuu+NlfxSBRj1dnOxuIbroA87M4pu-nRLqFSe6PosumrYwFNKO7x104o3RrsbpQ6YdHKNhDTvdHJrLReorQGmqBQZrbWFvWEehiLTRqoVDUNPQmBjWWpPlQSJFXhK7WeU25CbDpMnBwnIr8Jaqx8QoqWaIZvdYQSPaKGj2ds49EKitmkUr2gwU9GmGGCGF+yY7I5rg9LGjs5YcoX28SoVA4ycYsxXGildIW5z3bFYTecgTPdLo7jvkU1rq9+l8kL0O659AzDlNgL7BngOUcjE-V1OGVCkH2ANSkbV2UAkLSF6lMbs4BHG8UCoX6DUsi172qtD9tnJLDapx7t7dAGkrvaiqUWXJ+9t+1nXushDR64DHnC-GPrL1jqJ6oAAg3ZwME4Bs0G0DDrtSBEFoAAnFUHAESA9qTe1HqEFYMbUgRXavBstF8CDAP1UlVFsRRJAEVqFcaYuqcGJntz6DW1PQGmzTYpg0AqhrTeFnj7fJ5DFw2uNZObTaG+DdEVJtaOQjzlnA+qOwhJVeH8i2DvB60UYbWCDBaDgevak2vUAuy4QZBGCNKEfVn69dMQz3cPuw18g5AHhrw7HCBDx6yD7hrauEZn1FwvOUgGNTEB02IVvA6QGkOc0zTZpLYBaLjpqhaAYdEjpkvKM8BSOvcTSFQG1Q1nywhRGAGR8etLT040gOSBlAitofdp6p9UiR0ABW3E06brAXRkUJvpsM8GFD67KFZbCNCgAHhw2VBbalg2LdkoT61bgJimNKVGt1Mxzf5uC0PSAEQCdY7H1qPpGZijRglu7EwmMhwQvcjo4CC6Nfp31koVY573uN6phjsxrRc1naO2GFDdx1470bWU5pl0DAV428ZT4GHXRWaxVfnoj3mV5sU5CY22uQnP7Awr+54JbE-22oADBAWGjYnglRHBJccDvY3tdFkStRziwYplhyB0BGIqTco9FODy9q8jca7joUd45yrSj6qgY5UeqMJbYpz5UEAlMuHj7JjRJlA53qb1knZtqxf5qQfVVFC0ThJ4uKVj+KkbsT5hFmnicW0LLKcmRF7alSvi+BAsFoFMOzLa6TdWiLykmM1rR7HQi5J26mddBtN+UwWr0DnkbOfnisW2oR2I+MAHnEs6mx0JPh6bNiJG5TabBiXoCAMAAdLAO5v+FdAlj+AJ0kC372Y0YaHqCtMoaBB1GMjOVKoGGZjURnTuUZ0hbGfjNlzxgLCZM3G1MloZCAiFecgj2pINnQAAALygbWBYzLDBM1WddQpnv96Z9s8UyHTZnAQuZmYvmZVY3AqT9AWkz4AjO9mkzA5pmiGySJcRb4ppUgKaU3GGg02EIPAIWahWLnKzy52s6ue3p8hTSHgLczuZtVjmRQQAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:teal">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk5WVUGoOgpBohDygjafmkV2Z6FZlXZRER0FwM3KYuGJhaY2AAPzv3+HyRYsDMF5kGLgwm+CSZmP6A4um61Np6E0do3RlB9HDjGPDYx1JBjyLMYaIJoAiIPHRGY1JzjAaAkcV-ZOO05DIlRKCWxiwUl0yIqzDGeB5wMHwMwNgUA4CIGQOgPgPBPpnRUNBUGAJZTKAkY7UeCglDDkjLEZkqTrDOOTn4GZaSFgHXKIsnJGQoqEEWG+JEMTtrVhKftMpzJBiDPscEpZEReyBiotmCCW5lRrNAL04p1zSx3JsUNM5iz0lSBAhecCnzHkXOcS8qCS5QK3I3Agr5xAhk-MpIjc069gXBNBdaVhSKZQotQc8uF5zgm-IVsQJmjQWa+MRiTaZILnkYuxrjEExS8GUoebi75FyiVzVWTSp+849BzQWhGJa3gqHxECRciVYQBXXROYsyVoR2WEotmPGO3K0W0vxinIOWr-ar3Lj3copz8UIuPjVNVdN0X4zvgM41HKFg-WpeqsFDrqaKqqZSdxGCgXxCeeguEpiJkCT0D4tmLLDV4qGeK+VoRRZ7RiZneRJyI2VKVd4Zgaw3YAFViBRWYYxWEcJGSqBhqAQyhkNUaFBhDc2frg0kESYwShVdKD4FAHoCI8NKAsEmiFSQfLhCGiUefSUnqR6du7VQXt-b62Skbb3Gw1RnlyFkOIVt7apDaUWPpElfafZ1uIIOusNhexYlEnIcgxwK2aCDZRa6A6o3RuCbDASO7BmrFoEKPQcrH02EorlUEy1M73u-T+2dlCH2geCbguF77sV9AHR6FI08xaOgMTBBGs9TAgeccDGJxKX19Aw+eglEqiIkDGjEToVQF1LpXUe6wabqA+GECmbNubqD5oIEnYeixyJlpHSROE+YF3qKLrGxQ8byl0CNUModyjmGsLnVJkjKRnElDkDMoiyxVgBr6TekuIjG3KZkyYCDkrxNodcnoBGhnKHGeTYfJOYL6XMyZRSjmNrZNHuQ1EGCLzr3PC1oTfmnRw1nJU4US1lag1Bb5sWMLtq7X+f6bFnW56EtDIxneMFOrg4maHS2ttA8WBDxHrluu5iZhrXI9RSjHRqM0fkCuwr67ujLzLp+ircnChfmS-p4RHWLSV36Gchr1hF1NfIvR49-oL1CNLsSSzl7v19eePNleoNOt+BDiN-FY2ihroiLh6Ca2DORGMJZw936vzrfO5aGJ+3QgTeXVN67a0csqttl+n9NnBuMlFZPXbmXUm1Ce56E9JAzQNQ6JevQZgjgAD5QDqaqObCzkOsWhYOiHIdyH1N6GxxFpxyOd6pK0ysHwGOBTQ8GOjkEmOfxlEJ0aAAkKEUTZ0dE5GRIQfsHyYQA-MS1iI5WULdesCe+Ol6dV-YNcyR7w7iuldHtHL7ddv1qdJ5KoiMDZSC1MsQHnfPoWNCA2d5u+rK6mZA3TLnhv9LG6vIrJ+uWbeQdVAtvVGcreIcay98XyG3mO-ueaiVOSeRB6hU7w38Jqzuht0S-5YF+cEJ9T+8P-wk9R-uTs-8RO7Uo8xLUMkTmMXWthV5zEJ6yqXv-jKn+VfZvxUiuoBgRxk4G6N9nzcmcyoQlCBD+n1POht5cZaPaVPpShZPq3-vw7Vt6DKmZiVz69dKBg8wOD-KW-LsGJPukI+TOOaLs6x0nnzFfifsdm033o0L+hu51Pphl+QfC1l0v+ModbbZfiodJ6YmXoL5f4WiWYZZz7WBQ656gHAFyix7vhJoxImb7ZfgPYc4UhgpZ7Pjeo3zJpDqQFwG7InZ6CYGAqVgEH-gv5Xr9IkEp6QR7JJpnKUGjY1DZzZZ0qzY3JYEwquq-5Hr4FFKgGR5cGvjkGGqpIL5CGkGvj0HKgmZMF7aeh1I+wNJNLsCtJcAdJoCeTdIUjNCMAwQwwX5rQlonDt6+YyDv6PyqD3S7pfR6D-rCp5SDBL64HebhyuKbrbpdDzhfxu6gAOH2AirOGAJwhIF9xFxXKsBbrka2HejBpGFbxOwAw8j4ApieExE+H1zOB-qLSBErT4AJE4hGwSypGgBSwyLZE+wAJAIFG47uGWiqylHqwVFcZfTr7KCwafq1FuENjFHBqDCmyWFnRX6oZ7JpgEaFEiwRzX4jgFLjEWhZH2qjFEExKTEXzJGZ4nYpgzFgiLE7H4ZDarF1GSJ0ItirHH49JkDVQ0i6DtGdFDZnLHE4gujMECJFy3aNJlKPE9HEIHCvHmyBzXEPT+qfFPD5bmDs5VYNjabMZCqHTJqignphRKAlbDx3Gb5CiXqF7my8pwn7KKjSb3gnY44-HzAwn4mZCEnxqLGgn+xFJAZwlTCQnDo6i0k0lwmWYMmghMnZxQnPFuhslDHoEwwvpdBvoYlDbkFUmt7OFUhjDfGYhfhZC6AjAUnLrw6nDKk6CqnWghxyrOLkm4nHL0mDC6mmalRyntH56hBERamqlSlmAAA88Uso2pwwxBs+2GzyjA6aeggIAAKhkCEsQGlBQu4K3MnFsrAp0ERAxAANQ0zu7WCGDRC6Atr+oOmgAJkFLxmJlJkpkxBqT4D+pmnWlhDVI+lMZ+mBnUAEAyCMRgbhn-aRmeqUAxlAhZl5nu4FlpnFlqk47Zkpidl+FhA9lFklmz4XEUjVTUCbLbLkGgHkHgmYjZZwrdAZBbQKl0x3h279mmmz7i5hB447z9llk0qDLrkcK35Jl4qhjUA3E6DokfoPH4pnlKrkHHCnA6gOkjmhDOI6hmm-k2BES7kzj0nmkuilkK7japItaDKflmHnCDxoninPmMiVaFCMZrBFKsbEDpDkbI6gjCaFDPZ0bfonq0mXofF4nMGSpfi7m0m55clPDW43m-ocmSZsngFhCg4iZ8nzAXkzmbkKEl5Fz8EHL0E4VElyDLmhCrnKCXnCWV7blJy7lSn7nqmHn8U+j44-np4RqKXXmgaAn3mFlPlb7hZ+EgVFIIXfinm-nOKyCWgAUynSVvmFAgUG6ISnmDCQWTnQWgCLqwVrrwWmFZQonK6oVwYYUpBYVqm4X4UkqEVPClrlowHCjcVPa0avaSoUVwlUVna0mmIKF0VrQMUclSnBqMmUE-qMWcWMmZV8VNWdw4iCUbnFXA5oRgD1KxTNIcBtLcB8DYDmwdrRATqUBTp7oDpKI+YUxXz7opjjo9q7EtFLWTpjBdokT6o2LTVEI1yM77ofRYAnprUTVjA9Xt6AxBK5IagFI2AajyqsUpC5J6h3XWB6iPUv65IwlvX+EU6fXXURyHi-WHgA2FC5I8JyAFKQ0XJPVSoRw4x0AkSqBCaDCI3I1pTBJw0xoRxYVvVYWSrY02C5IbQjCsIeB0Bfyk3DDk0MB0xE3WC5Jxm-U2B6AwyDBwjw5I4loJmY0M1j5+mGQs3WBs0c1c2gAlrlp81fURwABUwtba7NoAnNxw3NoAstyt1g-NuSwACtotyt4tJaYA0tgNriAApHrUrSrYjhLaAGbZraANrRHKYSzfrdbWrWFZzTLa4gAIQnCu1W2G2gB+3t5e2m19CAiOmW1i2q223OnWBh3g0RyOlHDC1u1B0p0J1O2uII7R0G2x0lpI5Z3e0R0I6p2DBhDp0F2gBl3F3h1+k+0K222hA23WA+02CGFBIQgnVjXLWxFkH0nHCpIbRbQaiDCnWTVfS9w91dp92UTUAeBWQhg9xD10wj37qx3fW93rUFLHQIb81hAT3nXKEQjHVN5H3Eolgr2XU8i5I1bjSdAFL311YH1sXE0RyQDEDjR0So3WCf3f3Dyv1v0C2AjU2SCwCQBvVgMQNANv0k1aA014S-VgN4SwNsW5IAByqgGDCtWDGD7lSZ3d5929Z1l9fYTFq9hQ69raNtrJ5pF9Qe09xDs961ZDNy8alDKQ1Dsde9ho49JDvajDp95Co6-MLDpD06xADaj5h4axAmcgI8MQkgNWjACjZl4SVIkSQ8RlkqF9m1WQQoO1JAaDoQFCV8lQYQaBEoTlWy5ln6cjq+r6G+aFfQbuuuJK9hAjx9bR6lXZ7uDDHBsB4FNVKQ7jBwF989i9y9hJQFNgAT6Y7DxJJj71SFqJI8UVQoZsSJ5wOg1UHgLMzjcG0u2I2yGTQ2p9ShU9vVahnA7SGAGAOhmstAUQJklo0chgr4G0jAr8Secj28ng3gz0pxZQvTKaqmdlr0boozZg2ZkguZY56ZQzB10zZOEzUz4YZ4oEjCRc2kG0o8-6AkgsUQhZJJipa0JkpA7gs8-SBgiSpApA4tDACZegFztlgIDEzi7zSyOZnZFzyTdM7z38qZTaq1sww8vgwL0jhJZjbMCkKt5gLOZzDYY5nZgIfpnZuz80sgBzoW69MLYLoRYGB8qLJggIoL9gaJy0LALzjafTM8c8FC1pnz6m3E7qnUPIjLWwmwWAbORW9Lu8LYjLZgQQazgrtLZgIdQI+STLbaOonLYVeSrLNK4xEYFAkg7TlYXTr8jLcqRErWViniuQnL2wPLKQGSa2VRzKHmQr9ivLoAnz6LCZsLlL3g1LcrSmNrw5dr1gDE8zAhe0KyIaRMUYQrw58qvrnZzrI8VLSz3l8iNrMzproQ4I3EdrWmBLfpwN0j-DFL0brrYz5ZCw5JOrFq-hGbgIP1tOPI7rkwvlboQrObcL4w+bPLRKY5NLkw2SQIAA5LmRQqi7262-MsC4s4y+S029HIwP6pO-C0iyMvjk8AMz4DqDO-8xKrkpJDmUxjmcwsKGgtSN4Hu0CPoVkOCCkizgaRmyuyOFOxBW6Ku42y64wCwNaem7m7Gw+yoi2J+1G+qze5zUKRKDxs8GYk8WTAtDplkqWzqFBx5d6b6azLhexpxla0B3CLxg-GdPMf9uUnSxBz4LB+My8XYqs3FYh0CGxnms4Kh0WM063NWuQge4wJWOQCwl4Kwh0MGH8XYmB84MB7h28-yIe2S+EWdPsF0EJ8x6+NdKB6SbQgcNhwaskrUmABwt4JuBcKBOPbzpKEle0OQHJI0nFKQMMJtMtKAJ5G2rIGdJ5FoVofYjWtSJFHoPdIS3YH6IwB0Kc9pcsiee50xl52+c4s-dDrq88tbOoC5zIISzqDqP555wfAQ-+QhPF4FyBjrk56QFF4Sy6KlwfIB2IE-C0KBHDn-k3jPsUsV1kJerkrLVVzIPLdxXeDOXOdl5IDwIMK55IOrIeZLhpPV5evyM511x11+2UBV5p1kL7ma2uqJB4AN2FSF50DFUedViSrVtDgFaRTlRKieql4N5l21-wHW+Av14+NN8Ei1vt4t+tw-R0Ct3TF+Et-Vt+tt1pT1mtLlyGAF41SkLxX90Xiuf3PQIe216N118d9JSOCt31-N4+Ad3pFlyNyd+NzvpNzIBd6kLN2d6BLZc9w9zYE5RcC2BN-VyExKuSYDMj39TphDxpdD2uxci6KT+d5j37mRblU3td5KId3T2NwYDj1N79wdm2td6cPj91t66EETzOIL4dEmzeeSeSXz6seT+7rL3D1sx6N6299NhcjL26Kl-TxjwFWDnTP94FUD0XOjVoCZ3oC+4eZfm8y11skq-KusrOVsm7kRGwAqzEPlMKCOc4v74eyORWb6SwEh1R+lLxvcqlSoqBMRTBT5zb+QCZxjCempzngtyEjYfV3DlUCevp5elnxp-n4CC74sPmCdTp+3qXyx4+H6SH8x-mDidYQ9DEDjLEEnsb3I+ST31Dyb6J3-J32ZUnovqP7oHIzqB4JP5MC0bPySmP0QYv135MLx-z6v4WYsVv7cUo0VQP2yRv0N1l4f4yS0Y4wcAP4gUwNyRv4ae38lHPx6RClkL394uf1Y-cH8uGAJ3JwsPGBdh9ByOirKch1ASaMgzwQacjrST3x4UvC4KSQKZxJRZBGA5ibmBwn9SydgqfLcFLhwJ4S4m8u-HQLXjn6SB9+NFOGB-25Km9h0xAvHrdzqx+Fgu8AmIouCQGSRUB5SagSxSsqgA-Qiwf1MQNALEC2e42bKqulwHklkk73FqmSQpx6ABB-qGDnYnNJKDvKySYXrrzewNgakIOQHj53UFmICusIKINkBYCsJ3Ea+YMGGDhChY6Ao3GwSjQTB0Aeu--SGgYClhdsnBdgroK4LhyrNyS35KWGr1ZqPMzBjwSwbxh3Q+D7BEQiwTOBCGxM36sQvwerEWIxBloWQLRGBFsH2DHB8gZwWkLw66UvBpbVIdIH4ABD3UQQhCA4P+alcbamQ7wNkN7SpC9AFQ-wYzzpiNCkcKZcwcTyJBSwjqO5eIX2jDBGBQkLGZOHI3wATCX0kQOwI8AhYDDqGM6fLsPxwTzDZQiw8wSsMeAlCTy-Qg4V23UyrNmhqjbIG0MKG+CdGhQb8vELQa9CCA2wmPPEP2EJD84Swl9iMKcwik18LaS+r0EOIbNHwaNLQDwIx5ld0wpUOfqQKX579DcB-UEVp1v4sVkCa0egTdwoyhdS2l-F-pszf6gBOIOBNkoEK0DLRDcpNO3sIL2SiDwRpIz-qJTOjLAFI3gKkbb3dKsiGRkI2YflQVb4AtQj9Pxn+QohCiOgbvQtmPEi7cjiRWgMwF20orWBzhP-HwKyIVF4j-hO6QEcWGBEVxZRJI3kSqPw72F5RXLItgoJJEytWRlIyQNSPdIuh1RoQiVC6CtHOiLkNo9kXaM5GxsnRyQ0DDqDdH+jaqDVVZoCEFGEhH6Jg5OIWSyCsc3h3wtmn3wUFK1nh6mMAUWFGDRRWEhuSTggjzGNBBgM7BaDgWLFH8j0J6e0ShjPQXp28nopwN6LT7ulixsogsbQEGDBif0ZYz-j5yrFEZaxpwcMeKMlGiizh7qB8nGMgjHDqWfY1yJhgzHOBCAsgcgetxhimjawc7cDu2x1DqiFxoAfTrsOWGudwe0XNwY3hhGj59O2XE8XCGaKbjYQDAnEZ0HtYk5SgSyOgNGM76wxJAXXFEOuPMQnpXOl6HcfKIxGJE8BrnMwJ83yRLJXOGMOMaAH9IAAJPCJIAACC4AcAHhAABK-pSAAAHkMGyAdvNiTvD4B7AJnTFAH1NzrjKRvIjfkuI2qrjaJ7ImVgeK-EwwEwbY+gCxKcCvt9x9gVhKUComHtTcLRA8eoGKTcTM4cjZCahIwlYTcJBEoieJMEkcSuJTHAXLxIPQb8Dx049tKuJ-HRcSk2k80nyE0mNA7I8QhjoIk74iSpOisesVIzRFQj-+048YVoHXo24SR7gVWiORM4hgooOY+yQgh8mR8-qbIpwLyOdHkSmxIUmiU5N5FmwEJJ7MYH6BIDmd28AABlRx3gGojEMWLPDGAGsNOlAA4BfiKkKwMpgkdvKlKqmMhBICZHgGBJxB1T0pDUxgC0Sfj5TwUhI54APzqklTKwZU5MTpkVbj0FBg01soa3IEdAUeBI1nnuLsAHRepj4KQDEGsxFSAJXPSqUNNfBlSsS9ZQqauD2mQQypBfK3mdDMFjBGI6gV+NgMe7cJVRAnDXLnzGA9Tx+5HKaR4lKn3dv0RKaQSR0lQGkFB10yQLdLkCvwVBFSboUMDsA3S7pGg1Qe5WqRwx9sFvL8GDIhmvxUpe44MNEK87Ihcg5HM-nfyPR3gsZiM1yTgNayLhTEV2SVHBQi4jMURRIjHgQNW5dx9CFhV7hIL17BJq88ItfiuL7Q0VeRtApDJiMfEbdOgsTZxIKJeyxMiIlMyGRPwRGPk6RYgnijy20GlVwJ0gjUY+mcQqyoZCEdmYkACBwyZACM1WS8QLba4CAreHmebwMHDoTZuHaMZf3IGKAt0iMErtf3UD0SKxRAuEe3mEEUCykpM9EZiBaz0DJWEvfmU9wmjFlGxNIsgXSLn7mlOxoQa0OLL8Zvdhcz060IejYp4BZa5c1JNXlDmwj1ZIs5ETJRcnC8vwcc8XowNxFh5QAJAdMqnPdI99s5Nc4WRnPVnW4Wco86wGSIdn4iA5DcwUkXgkEtZ8ZeuKQCTFzlElX+8JLihYFABlyK5j0hsEOMjESj0ZfM1JL1i1FX9WZ8JVebPLBzMiKQXclOfaPsKjdFgkPcsfeJclvMIx0kEccTgPk-zSOzM5+ePXViKi4SxoumYsClgijicXswEb7JpAlcoFICo0Wy2emvzDZ4zOBT7PvKIKsg9hSHsgsbnWAd5stY0Ur2gXbALROmDBV2wfkjwn5jopIWxUdHqx3RhQehT3N9HMLgGwSHcWwv7nblQx7qf+VGK-7fQipvgTbAsQ35IIgBUiteDgUBCpTMOMsK4kuKjC4yN+x0XGXsUqnXQtF7g-lt5Vy5bT7ZxODdnIFulwgvg3M8EKs2OimKhee4v1KwmOnPBUpRY-9iWLomgBuxZM88YYH4HZDDcqUy9MtNBCrTQI603ILjP2yD5u5-Y5bPKk4VPyWxFI9kewoFkZQNAHmUMNkFCVbSsldMfxdHJ86cKklAo4cacK1xwdVsf7bwP6jqnXR8l3OXGewonH2Apx7wipXOOIzJT7AiElCZIGwmZoAAMnhGImvi5AuUwRBRJpqpTM4iU4hf-0Ykrjgwa4pyWxLUmriEwiy0yaswknCT9lixI5cUhOUb85JIy8ZZMtUmWh1JXQfZVso37uSwmdwumHpPeEcSjJI8P8VsuKWFBlFRUqyd8PBDOjPliY8ace2BXTiz20Y1xU8oyVRSVlH89yXMM8mhIbcYSm2iOVcXzRUpm0okcsrZIxT5l7ipZUiuclcVoxNIErKuBnZ6B0lkUqlRVUeEvKxh6KyYVtFSSUUcVkqV5VYJiE3DQsfhcaBJwsmKwmVviklX4WeEIqipmcKVZksbkH1GK04vcfUoZUztIRh4h3sHJhGWxhAl6K8fx0-aAhNV-7JPsokNUkBpZd3LtrSq2oNKp2jK-9jqvVWrMbVuQRToqv-bmk1Vjwz8TEo2WN91RsiqQNuIQi7iLZCwOmSBJJA0rWOdgeKWdMNwcSXmEqnSUekLnrLYYjfbiQzMKCAToul6b5b+IlgFqAqJ6S5j6RALcTdVnDUDBCr2Gud921E2gCCvMFWrQgiwXnNlzbWiSO1sKtXsW0zWDBnhNa5aSIkzW6qLuuskTG8U5xJqxgdUpRumsMWBKL0Tky9GmFDAaKSYcSmOYdmDV5qkFlKwtSkGLVpR28Za4yX8vPVVqm8k6kAnVOnGNqf0zao8dF22IwrrJwvXtX0FbXQqsgnax4L4V0aTSip468Ws+rlCvrHh3FedTBTvmmhOO7i5EDrEzUZr21Waj+UdkkUFqYFsySUGhoJUFrVm4nFNUa0zWLFKN3E7DYOtw3S9l1VGkWemsrWbr0ocgcVThtHxXKFJOEvCYRPAD7Z+NmEwTcpKmWjqcN0G2OpkB42Mb50w6QELORE6LqKQlGglRuuY1MYV1lUtdcxMPUD4m88m8lZeiuWjKJlImzEBZpuVSbINRI54aZsWXcUvwKm++EGoipok0wVkPdKzG86K5jF-mmkmdh83QhlM2is2XDH4TmxfsYWkQJnGC0b9iOnCFokrjRKI1fNdhJLUYv2gnlgtLRW7JlvC05aP50MmLXeF+zFaEtEW--iloq1MIZAOgUGF0AZWlafO5WxYmzBxjwIQO0W6flFtS2bCxAFCFgDh3a1uy3QBW8RfwNoBWRqAG0+LRQEJIBrvheHZCiPCW0IIttepUtqtvMGrMfNC22JY3GJRZbltigubdCB2y-kLVjS4NKFqu0iBLtxAc7YDgV5sV9tBws2ABr9KbsUwd2qdnMTm3HbhGScTLcdo6ESA3tK21lWtvDVeaR41WuIsjsng1LSg5wjqa0NyFFD3lmFQNGMAZVFbod4W1HTthcmzrAkUvNtOLQh0bSqtJOmrWTpHlJkvtPw0UL9pU2MAcygO3+nToPSzKi4DUZrUGjYTuq2VbkjlRMK8nRpeVCOD7UUCC0E7nV-qYXS1pV0dsbtvClIJ0vjG6qqq3Jc9uql13dLExZIseURHUxU6UgbOrsJzt3Y87ldM7ApGroEhg6T8nEy5tAJ47-8F83W6xN7oqQdikyyJXJgvQKYdEJS6FaMRox0R6J7sRBUyKUHF3w7Xg9FKXRiu5USo5dcqWGCGF5zPB-efYKAc8GSFJ6Z5cJAFSLWUDeIuawYuKjXqI1sVAQlHDjM4FZFrz4+8ZHlmPOTax6tGCem0GeyC4xjdAk4hMXsInkF4d45PW3Rzr7WAh+98eyzI7r0yE7LVgwJfVEkH3Q9UclY4tGuAkAY1L0AATiqB3h0atg-XQFvHng6j9V+9yXREGaGBBgTGwoDmt0okhDyBctdM4DCpZSOZl+lGnoG7bdsUwaACA92vZ47cLkQB5QXUITXfo4Duq8gctA+GDDfA5pZwOWnKL6CzeNgZA4-rQOEkNoMMQ-UjVsEuKrFKNWxTBGlC6aU95gvkZEunHz6I66gaxbQdjhAhedBSDgzQfGDcz3dLI5gGRGpAa6YgAG00t4HSA0hAG0IoJZbEvTFj4QRaMg3EjEMUq8ohe4gABtRYVA4VR6ttCFEYCyGf6wdQcTSGVIZVDycBwWvxg0Psw-F-7cQLoZ06pUhaFjVJHYd-ZaqjQgVPmRbxaz1rWOyUYqZx1CyWwL1YQTTZVKYxUaXmaG+tddCiPC8WsJhsw8PAsPt53YkYxkOCFkHEj79wBwEGWjKM88cNJGrjh4bKMigAjk2CwBbyQ1hA7DpRso-xhnanpMMDAdo7UeF6EH3h36dyTLsfQ56kyvh-9njp-RF7AwJexlZCPHWN7aiNtIZGu153zHR9uTLpRPuWHpjOw6MmbbdhyB0BGIgzSQ7zm2kGrlD3i1Qy0HUOiGTEuUWQAZL0PZkDDF3CioVX5F2V1jlsOOLGO2P669jrmtaBMfu0zHIB-SP48XAGywDjDte2OqsejEqHC0dxoxJob-5GH9W00mxDIOmwUUqiH5dvKkgXIBsykQbPxMTNUEK4e68SWQBJznSXp16KJtQ+ifZhQt8BCuG7ISZsoKsfqXbWoU2EcMHsGTTaI6GAjKDCn6TimJtOYusBERKIRJwccDQFMPGRTMpugKs0VO8nBxW+6JCdl-nEbyS2p6sO6MBh6md9sSNU5nBraJbkZcppZMaZ5Ommy2dJriXOkQ3zzj1RyTJKoO6xKkI4+SOOP61KS+mYZx8ho9NjPmLADj1wKUxru7Z5i9A2u0AAAB0sAZGwVV0FCP4AmM1LK3crTFqDpH0YBoEBkfvIrUsA8ZhlYmc0nJntd6ZzMwTPGAsJczz7U0TpkICmlzShLckl2dAAAAvPhtYHTMxGszLZvtHmeIIc1BgQ54s6BlLOAhyzsgfMLyxuBnZjjpxnwImfHM5mpzVtKtq4i4i3wcypAHMhKMNDdsIQeAas5MZ3PNm9z7Zg8yA2PNAgPAp5882e0XMiggAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               list(javascript_value_process(head(args(exp)))))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section <REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhqAQyhkSlOIEhDc26CWXCEGGwqulB8CgD0BEeGlAWCTRCpIB5whDRKPPoykiI8HVOqoC6t1JALWMEoRCGw1QSlyFkOIG1dqsmsEWPpYgXQg3EA9XWGwvYsSiTkOQY4BqLEcsotdd1gqhVBNhgJFNSgamrFoEKPQXyK02EorlUEy1M5lubS2yUoa6Dlt7UE3BdbmCjL6O6j0KRp5i0dFBG0egEaz1MD2zxwMYkK0ZBaRdrll3Su+UREgY0YidCqBGqNMbM3WG8PKzlwagTKtVdQdVBAk7D0WORPV3rmX5gjZApOIrFBitZXDAd-LPXKOYaw-tIHOFFM8SUOQRSiLLFWKyw1zwhFyNDbBkOKSlmDsBYB+dI5M4IxETB1meGpUYzvF0w5jQWbco5tUmxnqZ1RBgmyyxWtCb806Mi1J+69mFo0Dx2W2tN3vNMPh1FlzuMct43zXWgmlm0aTl02FwdZNV1jbageLAh4jy03XXTMw1pHuoiejoZ7z3yBjda-TUgwyl2buXa+B8IOFC-ApzDJcV6g0bXXfoqTbPWEjfZ8iV6s3+nzVhlexgSPkSODTQFvnOX+cRdu4LoX0mOfjbO2MSWMvCMiIlmJGbm1fni2Vy0MSwthAi9GqLVW1qafhbbJtLbyNZcZNJvDuW6a1FCLUa42aSAjM6AWvQZgjgAD5QCIaqObYjE3ZkNQOAdEO7HuEzznlt4ToQEM73SShlYPg1sCg24MVbIJ1sCZdAdo0ABIUI-6i50FMsQZEhB+yVJhNJ3T+WIgmZQl56w2b44Fthb1nu5QGvma3lIQew9R7R063XZtx3SjNqIjA2Ugsvs-b+60xoXbMtuaC34A+hGW2fZyMTlpV5FZPy0z2od5nXOr3c-1gCDWmuXp8TO8pJPme8pXUKkJPIRdM-yVE-8h2ZURBAhecC-TxkVql-8FXYF-uvnhNWd07PrBESW5iUbpiKRdLvqx3T2ayoFv-n8n+mJs0n3UAwFL9Pvv6VF-kzOZVw0xfTKAS70pOie-fqXPaYe6QCfd9GoPnccTpbKrTiZVaCe1uUPW8djzIoe8GLHjbYGhPqaLl0slCzUk7duqoe6hWPjFeN+l6GzGCEfON5WpZh8NPTJGVT6vSzPXZpiQW9LA+LTFclYNmwIz5fFcn3KA375JUxJ0w1r89X3tmOmTr2X6uh9sczfPlf0ToLPH330ysZ--zp9E+yy-4Yemq715BGJqmbH39y5G6w5t6OxY5LX4d43zgYn7rYL4f4y7AGQS37JLpLpbQFq5DgX6f4CoIFqbqJgCaKxS6IcAGLcB8CeSW4dRfCMAwQwy6Zfg6onApacYyDl5nT3I+x6DtqvJ5SDBp5gGYhfiAwMyGbJqpo+xfxd5sH2BvKcGAJwgb59xFwRDaRJpHquosH4BUG7YXCXyAz4ApgKGCHKFfQPxnRtqLTiErSqG144hGwSzaGgBSwyLOAlpSGcpqENhWGcqDDqz2GvpfTZ656NrmGZq8G9CzrWGDCmyMEUhPzrqoFpjVq1g8Hhz-CAjRE2hfygCxEWj1zfRzof4VYWFkwaEAw8jr5AgpEjiGEUhlFjAZEVx5GBFrTHQVa94V5kDVQ0i6C+FjqNo171Fdxug-7mw1baJJI9EJGSJNgDF0atHUCyDJRmovKHRgFvaI44ioY+DDFPAyG1DZphRKCGao7WJ+EWgFpm7mz3ILHbTVhgZiouGrHnaXGKjXEX78KDELHy5doLFTDLFeo6gbEyBZFMCghJYfGghfHZwrHzAuh-HNFmIwzVpdCHFdHZZxJPHRqcFUhjCjEQnKyyg6AjAPGZDba0HxS4n4nWghxfKeJrF6DnFJK36onUYeAYnZ6K5hBERZC6D4n0lmAAA8JJnJwweg5JrJJKsqt6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANSpYc7JxRAxBqT4AsrcmgCalpEalakc6GDRC6DWosrCkilslinUA+CSnSn4AyCMR9o6AKl9ZKlMqUCqlAjGnmlDqWl6k2kEmJ5BmmlBld5hChnWkGlCke4fQrYZDhKRK37T5xI6aepTHKDdAZBbRYmFB3je4RkMlmbebqGIbln2lYoooFkcJdbanXrTHtE6CdENrbpCaxkm7JxxLHCnA6jcm9k2CeI6jCmjl9llkzgokCoqIth2kI5-p0z5bWKDl0HnAo4jyIldmMiVkpA3pOkRkpjKrpBHqLagi-qFAC4taArZp-EFpDEXGz4TJfhll-HvGcqfH34tqfnAbQlJ6Nbm5jEp41KNlFmYFkhJyn5xJZnViDDWg5mZp5kQWsrD7RbWCllfblmIXJng5hAzo1kjktqdLgWhJbRTmBxtF6mdl549ktpES34bnfi1m9meKyCWgTmF73jqB1l0xMU4WzlXHzkuhLnpKRp5ZxrrnEm7Hbl0VCgHlhBHlrDZkPrEDnkpqXlPC6r6pL7ChAUjYXp3nfIPkLFPmZZ-HoU2LLnTprQflvH0nfmgm-kVr-nPHOVPBTo3kgXYkNkUXWVmwaI+xaI6LsD6JcBGIYAkH3BSB+rOpjBpq2IFHxguwTr3qAjxUBpggAlZWUAuqOokTuZVLupKJfjHSToYzZp5WBohUFqAw+J8EahpE2AahAroGFB8F6gtXWB6jtXp58FrE9WgBrH9WNURyHjDWHhjWdURw8JyBpHzUTIdU-IRw4x0AkSqBwhpHrWbVpRBIrVhB8EqU9UqWAqHXCoRwbQjCsIeB0BfzXXDC3UMB0wXU2B8HqnDU2B6AwyDBwizYLY6qan7VvXWB8GGRfXWA-V-UA2gA6r6og0DURwABUkNtqv1oA-1xwgNoAyNmN1goNUefQgIwAaN0NmNsNOqYAiN41SRAApGTRjVjfNnDaAHTfjaAITXwbQV9eTczTjcSf9UjUkQAIQnC81M2U2gBi0pZC203E08mM0w3Y2s18nWBy2zVJE8lHCQ181S3a3q1c0RxzZK0U0q06oLaG3C3E1zY62DBhB63m2gC21W3y16CAgi1o2s2hAs3WAi02CUE+IQjVXRD+r5WJU+zvHHDpIbRbQaiDA1UR1fS9wh2OoJX6HejIgeBWQhg9zR10yx13rOAs2DWh0JVpEVUkCdiuXWCJ0Z0A4QhYCp1h0uoi6R6Ax8GWbjSdBpFd3WaE0tlHURyQDEDjR0TbX20j1j3DwD2D3vVXVaBPWwCQA9WPWSDL2z1z1E3u1r14TDW72b1z18EAByqgx9aNp9x9-FLZwdsWI1Zd2VUmfYUdRwMdm0nKKtvx85ddbdt9IeP9gBcoYq+dhQhdNqLNFVhoCdD94dT9gYvcJqTKvqMDtVX0RdIaHZh4tx8wpqkgMQkglmjAzKtFVkqgagn20QQ8zZQqddhVWQQoJVVdNdYQFCV8lQYQO+FInFESCl262DzgmeNau5eexu+OKarBKDSdmd9JgwU5tdkjcDy+c5zDc+1KBOEjadj9lE1A2dudYGcj99mjsDMuNxKjvVW5+xO5o6e5pgVVd9uxOg1UTJmy1j460O2IkSwjjajdwVyduB4VnAhiGA0V5ssREYFAkg0chgr4G0jAr8Ou-DCwbgng3gz0dCi5z+j4nY6S45YCu8GTTSWQnYUZkgZp8Z+pLKjRmToE2TAlrFYl1TRTAJ2kG0o87aAkgsupug22vROIJkpA7gs8liBgFqpApAsNDAmpeg-TLFgIDEnicz9SQIKYQZ-Th93ycz38VpYaXhbMCkhpXTOgGDYGrDezM9Fgz2oF8w5TUZ7tQZLT80sg7TAmhdpzsww8xzHqJpJggIuz7zI8y0LA0zoaiT81wLkwOTQIiG3EdTnUPIFCZg2wWAr2Tm+0O8iE4LHqQQ9TboCLZgMtQI7i4IkLaTBwCLszRLlJ6RtAUQJkloUTlYsTr8CLXyREBW6CcCVS5LSLKLqQrgSSXKbMPKmLhoyLY5QIdzmpZzAL3gQLOo8ieLZgmpYroQDEZTcFe0B0RdmdWyLGeLMZQKarQZ0r4wsrpLGLCrILxT6pKrNg4I3EvLKG-z7tk1GD0D9gqOgLorsLcV9xLLIm0r7tQ1N2PI8rILgwLoeL7r+zprjALAaSz2YKhzmLkLgIAA5GaRQlGRm8i0xYc+GQi38x6yPNHIwCyqW1jb0wUTWU8Ckz4DqBW+s0KnwZJKaU6aacwsKGgtSN4F26UbPDlaK89lSc6w2yOGW6JW6I29G567KyKU68W+a9OwuWUMuya42xERKBW-KFqjDPzJFOzLBkDnGhEBy7SrkKzJVikA+ZHcxSlukpmZqwK5Hbq1GJe4ZdS--cwGRD210GwgWoXdu-CLu-uz+yc5RnDN5X5ZRHe6cJledjC1CiNfcTqPDAe7+9BmGkdHkxI+h7IH+-2rU4UERDBwOcSYCJNZC2h2BwmGwqdt4dI2R3B6Q+Q6QJQ3Vhfoh6KdSaRwhcboDCx1SGx5QEPElqB4e2G5QkewBPRzx7e2pdR+zLR4R-zsZXpgVlq++15kEUkUS3HBq4kuiO+6p5Ftp21nDPzpwxKO+s8Je-kT6NSZe5CzqE53UypbBqeSqmqgI+3mIDZxUZrDS63Ee-ZwsI55B5Cy6K58R46T4KzJ50+i+q+0WEF31sauQj24wJWOQCwl4Kwh0MGAcHZ1W84DZyF+R-yL2787IWdPsH+5l5WNdMV1c7QgcDUXDsZ1gelB+nLi0KBAnb9pKFpe0OQHJNonFKQMMJtMtKAJ5LarIGdJ5GgEt6bDFc4PyJFHoPdNIViH6IwB0D0y10k+i3YHtwd-xZ4n3RtqyyUtbOoFtzIDtzqDqKd06ed964Crk02K9-txSUCnjtSJt9txG26D9+95u2IE-H11kDNiPnfQnhcKBPVSjdDzIKjUBXeKEumQ9yPDwIMNt5IOrARZDhpKjwWht6QDj5IHjyu-nqZPEqj1B0UHGqJB4GT8SVd50EpX5ZzzZhJWp5hWENmmD+T4D5TwT-wCD+AqT1kx+ykPliLxzymlZhttz1WQ2Lz7ZY1gL13l+C6GD3L8BUNr5a2v3PQL21TzTxL3hTaEpST2z4+KL3pOL499T1L2UAj4z4b-lqz+z6cLz2r14vYBcC2J74+GY4UNSYDATzT9Sdb7xbb020Ci6GHzU0z0ZaZ4L6EMLyGG9070D675L7T777L1r6kHGor-78r93R0JWby3GcHzODL-17a9qdSXH4XzbyOEny2k3w72nxCPX7eQRXTJxSH2UGD13-8WXyuT5SNpiHeLtVoJNzSUpV+GwOR1jxElx59-FGmREsbkRBv3BzEPlMKLGZ4qf727GURO5ywAl959194JuLpSoqBNeeFkd0v+QJN3YyHhws-2y6O8UsUPR8DNiqDZoRuBaAAb1zAEUd9+iwfMNVUG4pYYBm4RHjD0BBX8su+YM4vXgegxAcYsQHXFP0SbUkSBCfbvl4Q8CEDaKOuPQDQJTR6lEmOoRgUQMmDUDaBHRD-GwOYGhcXQvA3QACUEEdl8GVlCgdCVC4U8kyhTRYtCS8KCMDgFAkopIJK7Ic0MT8EQTIJfyLEKsgweQVZ1iqNIQuagpBGlQ86Et0uZvEsFQEsTxdASmxUPBpT0KLhJAU3FNFkEYC6ZuYHCFlM11XInspAi4aTiP2DyGBSoXAnQI7kiF4NvsVlewQYMBRfgRBLFXnl3ku7OClCrg9wVJFSYJDPiXeIiH6EWAsoRBxWEQenzszNZ1O9qe4lpyz5epqSxQypghHfaDBmhGLd9ob2H4NDk88wVmFr2Gyz8+hzgDoZewh6wgog2QFgKwjUY1pgwYYOEAJjoA08FhW1BMHQCJ6mC9sRIKWJCzWFLCugmwmbLJxQ4IQVhPfWHizUtLTDZhH6eYfIHWGdM7AjwcfgYClgR8t6oQA4RsPVgAkYgy0LIGQzAiLDlhqwx4YcOkBbCjuYLC4fsIhG-CThdTaksOQ+HG4rhC2AEd4CBEuofhBwPEVCJmyfCgkGInUi8JmEzgpYKZUslMNeH4AwwRgd+uamTiJN6RWgatJEHJG+ByRkgMBvegPheE2RCkWUJyOmHcjphoLHYeKMeAilscSGWFluiIbZBcRCIg4M2mHK0j42zDUkUKI5E3DHg0oikfnHJGdgJhJSOElnmtRSZeg26CgZxFAKqDXcd9FISljKFiCLiEgz4pvjWguiq+x6a7iJkUHaDw+oAe0foIKHIj2R3gb7NdRX5lCeBkQ+cmGIcHT9DBzgZYMKKcC8jl+gpDMYMGTGOjoO5lcjvgC1A91gyR2CiGWI6A79fEt3TQGUDzGhitAZgSFo+T-w+tjBGY1sYGItE1orRxYG0RXCbEFiIxMXWoWhm7FbAdgE4nwPaNlHIdMxMYnMRi27HEjCgLoeceuJSAZjloy4n-oKVQ4tjtxHOHUFuIMZ-lPi87KsYSB7pmj2yWQHLt9n1FAtKCoXakhjVJGIYYSPYUYNFFYTfZKuWXKMEBJhCDBt2TY7doWLCH5pYxT1JdHmgLS7jox2Yg8XoAglaALUDXRoLIy+FCooJXoo7nBNnS5p80JY6sbWPFaIZ6OD4+wLAU1E0kcxJEvdGaMICzFCBsMVgi2NC4g5k2R4kkGaJG6iiDR23K3o92hHZ876keEbjjzElwhPCR3T3H6JV5TY5RSzOgGaI4l7sCeKILifEUkkh5tuBafiUBRnTBDtuZgBZkSyWbbcMYj40ABKQAASeESQAAEFwA4APCAACUJSkAAAPLH1kAKWU4neDdIHiZkZ-MnHpL3HhjQSoXNiWMC0nRToxC4oSVpNo7YTFYyEpwNeKEnqB4koEsnF4TymlAIpvbKKYkyckuT3Jnknyf5MCnFTg+6U+rpFKylRicpoXISS+LtTK9tJrvXSdlPTTdtWpxAOyJqKsFFxxoLU8qW1KXGxSvKoXF8a6gZGF12c9o9wNjVjKTcQwUUACWVOAkkx1p9-RcTFJTFJ8wpk3faQDmSlOB5p-xM2PZPIKrg-QJAGbilgAAMy2O8A1EYhiwB2dwjBOgMoAHAqC-0l6YqILRPTqiyaGbpqR4DeiGwUMhWK9O8BeEn4P07pGAIoFIyz2QM2vu+PuKAg9O6gnwDjL9Lns8GHQd3sGIH5mi7AB0TGaBCkAxBF0A7O3HfTJk0o8ZJxd0n9NXC4zKwwM8AQvzfR2AxgjEdQK-H8Hq87EwQuzljhlIN4MZ9A+wZzMBmCza+uOMLnUIi679qSUw8WZLPNZtDRyBsyQBLLkCvwoukHD7vJgs4m8RhQwMWebKNlQyfxEoYMPcIO7IgL2cMPCrILuneDRZMgQ2ZbNZRKVgcQQ8MOHMD7qcx493CgfdNCF2Uu45BBgs2h6Fd57c0QpgR0XdEjFA5M-FOTiA8CpDq+1mKcp4lLHNYpyREM2RbNfjxjUCHgSoSkFqDPZM5SQ9Qo5x7Ga4nZIcl2WHJc5YsAg-c0OVbP6K2z-uBAD3OnON7z8-K9co2eMLTHmj4SeDRQEmkRigQaZWQG3oHLh4h4XREQ3OaILiEejGmcgwieX1tQpCCWAfAil+BIA2lUJcYmIQmNPnzkLxYQJCmdIqDBlh+kc4wdaAzSD08AyNCBekntyRCc57A2Ia6gvlyBC56SZITAvvnlyAx3yDIS-Lgm7zDo386wE3IXQVDPkz2MhVhTHF2z4SeC-eX-PNxqd8snsgnFIBJi-zPRoJL4uAsgV0wvwgIUsbeJrEmdqhgvHzH2KUGXzaFiQv9NBSLjPyDSr83MbHyL7QTHZj5ciQIsonFI+FFE+jvHMbFKKFxfxejsrmjmLApYFY8VooI3lLAZiNIHeWYoTrKLKFDpExT4EWBE9IWViq0VvLsUw93FCdGnpINABcLkaxi31pOPMXbBtZk49WJCzkUjxcFLoMxT3w3Fuh3FKSlIPEoUXmtklJ4oVKh3Vh5KgUgFejtoo0WaSpAUM3wIFkyI8SnYRRV2DUsZApgoZAXFLq0TYlRg3ZoXY6G7IBJIzro3S7YWiznivRQebMqeZWJbZyAJZcIMguUWvHHR9eEy92WIFwbzQqlUM8CeO19TtTiA2y7wCPBUWftwhoYbIN9ihmQzZQQJHXMzNyBuyGs42CaPIoQlkSLFhQLJbgowlzSCFaYUMJ0pJhnKGcbsopTYAImgkEZOILJa8tmb8LpImiyZIthOxucMMkTHZazNXDXQgVFytmZ8NolPjhJQLaFbujzQpl7JVUyQF5MVQAAZPCEFKRWlAvpgiewJdKhmZxBpB8tQQlNiHBgYYN09NJCzSm9SEwbK-lblOD75S+ZrkYWQIiLglT4koqyqc5MpU0q6VjUy0M1KlXsq9liTJaWIzVFCoupDErSZIB0kSxBpGSumMkQHZjTyR4IMxkaq5FEzTSUM21dMPBCrL1uSDLVfys5WKTNRy0rQKtKFSXKWasZdZVKoxWLEOVZ0sxhdPgkDttVc0s6Z6uTh0MxgFbdCTsoWjJrPyL43VQGqFHBqSyxYhbM2j1VzCugeI6hsUsIFXSop3y06dCU+GkjcGoqxtdGMDkD081mo1Nb5jRWHKs1hyu6YSvZkh5LYwgAtDJLK7LtAQ-aith-2UQTqSAZc-0Z0EhY0hDMq4TNRWxHX5r6Oy63IO10zjLse1JoipTythhgCpxwy8pjkpbFmBsWri+9QJNXmGAnSYwQqZBHwZJSv16aT1EAq0lgC-1V7QoNmiMkpYTVZq6ZplPTRa9s0AzOVFPj-WEqQGQ6R1WKOB5Ag-1bqx4IutCCLBfsOPYaTNNGkviRCgKakn+sGCkjEN9MkRLBtHVAVO50i82O+rsBSr4FSUoZU6P-p7KC0fyjQCxgeWYhANvU69Tqrt530IN4gXqaav6nmqdV8Gu+nRqnxIyXxaG3tBhpEmPcWlNq8jYb0I19AsN1qrILhpYAUbvk1JLZbalhqqa5Q6m3tcxp17z8ZFtXArpxqdL1qSYIGupZGt82Qs6u-m2DdeKC1-qYNI0gEmFtg0RbSNumdjZ+sY0-repsWg6XBt43hDMg00tLZHgpU1TvJvkgKeAAax5aPJBW+qfSqo2waaNsNLLd5voCmS1ogIMJNV1lXuaugmytmZ6gS2cbktvKqNUBWzR1a2VBaClVStpXFbMQY21VZVvuI2bSRw2xNY1obDNb74F6+SmmCsgsEqMkokZWUB22CjMsm26ELhhYGtDQM-SxuJui20iBM4O2-gf0Qu1eEDMRmNcBIBu3ehTtfmmsgdpq4Ugas61D7X0Hu1qCXOT2v7RKB6yA7oQd2i7Q9pbC-a2tFIBqDoFBhdBM1IOo7mDs4RFscY8CWznDtB3nacdEOtZaGhYB9Yvtag62STrc0yxiAVkagCzOO23a91vavzRttoBA6owLOigH9yQ5nrph9HTbUzvuVXbedcOCXXhl7Lzr0VNWCXXoCl3oF6+LZQXTKLNhGb3arbFMLLsOVpERdMQRuov3e2i69A0O1nSmNHUc7LGb2ugNzsOnvaYdC46iQqMBHKiQRTwmtRnlRWZqAdjukQGbv91875yaurUa3yhqw1AdpuqHUHrhzm7g9pC7UqHo+ia7mtjAU0rrrLY7UTdhuplUXBR2WI2EbOk0YtMLUrT367ONRXNnD18s9t6GItBmvRUF6OmA6stuC2l14S4yepR8fRK5GAUE2HSNNboB73PiGJ0JZFq9lNw7xE9YQZPaKFT2dsM9PunZWkWb2pj-8MMEML9gJ2LBEm6WNmHjrsGQdcJHOBxk4xZiuNFKZowThQxE4ccF09PJBZbvzUdx3yZeoNRXu+RV6vksMLfRylP59gzwHKORo-rul5KhS+ggGhePc7KAT9newEI+kf4ZjeKBUL9BqQn0q7AQN+4TqJxiQeqLuQ+xxnRNH197nFMXRDDXTn2QhU92B9jkliX0N7W9E9UALQbv1JZG62aDaHu12qLCC0AATiqDG6NqiwwlQYCDlFweDW1QlXg2Wi+BBg-6wXkAuIokgCKgCuNMXVODvTY5khllGmzTYpg0Ahh-DVUMFyAodD5rQwK3LCA6HpDdEVJktOQjzlnA+qOwhJQdmhiJAe1Ww7IbAxcHbde1VNeoFmXzLng0oD9cXolGhdQ98+ojXyBmVbUQjDBsTAJCYNpEgjCR8YGnI4N30YgRm-dvsQLSAgK2smozQRGq7mxt2HQaICFHlgBUx14Q3IygPvqJo+gjRy0Gh32JAUlD6LNo6BpSDmHAQeqfVApidJDBZWMQNHbpQhrObM+UCu+pbALRAdNULQPdop2pBcS8ooR4gEZqjIVAPVWvAY0Mf1RVHw6BUCiiUcG5HHpjBxzw4sIkbFsmD6Eqw-lhQ05dkon6grgJkth9GgkQWpGV5vC3RaRpACIBN8cN7fDbjW1d2q5Ng2ShPjHQIYNQGbEtBSoGJNAMYfCwubvkhxq46AGKOvKGAVxvVKaQxPWHITxmBieziWnFqhU3+odOu3RUT7Ug6YQMEAeeCWwwDtqWA6AEkCw0bEKSzPeWzjjd7iDoh78aaLcN0xKj1R7wGhWY2ry1jUgTNW0cQreB0gNIc5pmmzQLGUsSxkDoqY2OyAepOxk0nsaZ75Yaj6p8etLTg40gOSBlAijif1SKm8TOyi4-mimMih3lHh4Q1CYZODqwT-8noUMOsAvHGNbxvLnVy+M-HQgfx-6QCZi1AnSNIJ8ts8bjSWmZi1pglu7FvGMhwQycn03tXdq4m-1cJwrlMaGNengz9C2Y3TCdNDHXThynNMukJNEnSTNh7qeWoDU0nilpaqcv6bb3fyADrJyxByZTE0buT5hFmvyc+GCn0Jwp4faKe6nimmeFuLAIqceNptQJ0zArkTEeQRwAAQnRBxgFcsgppA87KHtXb1AQ4ADQE8EYA55SgscIEF5OBntBQAXk6gPsDSI8AtDhofQ0CDtPgwIQG5zNVuYa56BGdHgfc0kSPPkATzuQ885efnJ8EFC2+9PSmGYgAAvcMDWM7AAWcz9p-MKBfRXgWz+BgdQOGBZR8E4LCFs8ymAvOcx5y7kd6axb-MEWgLeZxuiRcHVkWLedXPc3wUckmR7oGFoEK5OZTUguIKYWAFeb4LQALo0QDoO0FNI4R+QoAVySFDSIAB2AABz4WUwnFgylUB4tt6+LWXSCzoxgvE1hL0UbwKaQktzK6A0loELJZQsRw0Ly0U0mhx0AvJ7z+Bji7meMvrnv27MTc9uecvlhqLEcWy6JYcuSXnLppNy4MBQBsX2LhloK8RdCvUhwrEF0SD1xzx6QfAQlkS-ZZTCOWpLSVuS4eePPAzELDF5C-+YytEXuL2VpU6Re3MCXD2fBdCLnVNLQBmDgIAACLVWkiClzwEpZUvlWngDAcAAbL7amwmrgFzKyBbau5XyLUF6y+7V6sUB+rg1ka+5aSKeWyrQIHy35fssGXlrLVky2tbAsRXKLbenq31ZTADXTSB1sIgAFY2LS1wi8BZut4d1rFvfK94EKvHknru1l6-tdGvE1aLdV+i0CEYsBXmrf1nAKZd0OdXdz3ViOBKUYjZAoodEU0tSvMimk96h1mGzMSfHnmtqEAbnB+a-M1iPCfwkwIFeushWAbd1iC5tb4I428bBNlMETYs0phSbIbI64mnQumkBIk3CaKQDPBMWfrRlrK+zY6t5WHr0VpIjzfrx82gQAtkm1ef4BfXWL8tla-9bA6A2LLwNh8xIDBvY3cbmtvtoCB1tC3ob7tWG6eefOAhEbl1361xeWxo29A5lvoF1fWN8EvJ2QPSA1DEsO39IEgZ2zebvMg3CQ8NwELABPQOSxZdN784MF0t-nmbyNn22zdNsc2NrVlkO2HdoAnWo7hAGO2TfdrHXI7Z1x4P5ZTC0sT0g7XO1dZRt+2A7FFqK1tcBCh2qQ5dyO9Sujv3V5ynkNK0bdZtd2IrESBO0Vb7sD3w7Fdke1XbHsi2bLpVyOxVcSsyWkbHd-OwXbCtF2gbc9y2wvZou1W3bSFpixvfdoAB1cMB4EIDRR7qKYPyT0BqP73vbwVo+zlZPsWWg7mcPgo-cYDP3X7ppD+6cdjvgBcbT5+yI91NJSlFgoARydkBQefnvzXthW6taVu8XtzXNiOKA-AdRQ37QIKB1-Zrt8gOgTqCaJaU3CmkaBOgU0nVBDkLVsHxtv++1fwcq3e7IDp+y-dIeQPP7F1wYDwANuG327P93ATPYgtAO+74ANjhkCmtAg8IXgW+9efvuNw8wKYcAFN1SigBqVOQZ87+Y4fT3bryt4u9Bb4KKPmA1AFR4CDUfIW77fIMZjDL1KmlJu-pfAKaX6YwzAw39nBybePuWOgbqthR0o-sfu2nHGj7SxI6nud2LHPD8ixbdBvFWI4tj5R9E-Uex3iHgjsh4CAocXWEnh92R+RfkfyWKw20+25+a8A4CqHEl6NJTZTDH1UH4YRcAibmtiy+2PAdyGY8Sd4OzLBDkuxHGgBVPRgNTnRlVyod+PXpHjwy8JxCgR3AnnDsp2E74ejPxn9gU0rU+mdiPs7kjlmwM8LuhPzbZ9tJ33bGc5jtnKYXZ-U5ceZOonJNnJ-09KdJOhncjzG8HYjiuSd4b1mQPfbogGUHn8dy20+cgcTQxA4AO7nYDSIfXXnwVtZxZcIdJFfnpQf54C4Uix39gtD3oPklNILdZgVFlZ+Y8Gfo3eHVFvu2i4WopghrALoF3rfidSOgnXDs20yHOdW30nqLv57S-pdYuqHeTiB+-ZEfp6EXMj95+S-ItE4OgLCFF8TTrssPKAOF-brHYVcpgG7LAfy2K9wcnPknFvaV7K5Gei3DM4tzC0q9wuquxbXl5uyGGGDS3ZbJLlG6y4Ad9ADXkgOV7XatcV2NXWrlx2q9OvMBfLjdiuy3eaiOu3nZL-29ubdcevqHuL+h-REMshgiXWemZzQ9ogJvrwt8WkCw9GDyBw3v90KZlhyB0BcbPgXo4fPCE6nGzZbHdisfE7rHcoRpto7sf2MZa4sllYsaxTnNjn8VvesUSuchXzABzLKYc4yDZPzni4pWP4hOcgMq1+T1+shkJzoMboDT0sx2ae3JlVJouopFtlu8TcMdKwyXX2bvoj6F1WDuBi-A2-A5ScuhYS-aCMV1lIc+CxMx9oZx32TKMk5oxYLRmLf0Ay3Ub8RpFcpc9dw7FqIKK9PnIXv79MER4DDOdqzdJ7zNiEHgBntAfwnoH2gOB5hlQel3t+y9wujg+vSEPE9761I4zOyARQQAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:teal">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:teal">
	  the symbols.
	</span>
	<span style="color:blue">
	  strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhqAQyhkSlOIEhDc26CWXCEGGwqulB8CgD0BEeGlAWCTRCpIB5whDRKPPoykiI8HVOqoC6t1JALWMEoRCGw1QSlyFkOIG1dqsmsEWPpYgXQg3EA9XWGwvYsSiTkOQY4BqLEcsotdd1gqhVBNhgJFNSgamrFoEKPQXyK02EorlUEy1M5lubS2yUoa6Dlt7UE3BdbmCjL6O6j0KRp5i0dFBG0egEaz1MD2zxwMYkK0ZBaRdrll3Su+UREgY0YidCqBGqNMbM3WG8PKzlwagTKtVdQdVBAk7D0WORPV3rmX5gjZApOIrFBitZXDAd-LPXKOYaw-tIHOFFM8SUOQRSiLLFWKyw1zwhFyNDbBkOKSlmDsBYB+dI5M4IxETB1meGpUYzvF0w5jQWbco5tUmxnqZ1RBgmyyxWtCb806Mi1J+69mFo0Dx2W2tN3vNMPh1FlzuMct43zXWgmlm0aTl02FwdZNV1jbageLAh4jy03XXTMw1pHuoiejoZ7z3yBjda-TUgwyl2buXa+B8IOFC-ApzDJcV6g0bXXfoqTbPWEjfZ8iV6s3+nzVhlexgSPkSODTQFvnOX+cRdu4LoX0mOfjbO2MSWMvCMiIlmJGbm1fni2Vy0MSwthAi9GqLVW1qafhbbJtLbyNZcZNJvDuW6a1FCLUa42aSAjM6AWvQZgjgAD5QCIaqObYjE3ZkNQOAdEO7HuEzznlt4ToQEM73SShlYPg1sCg24MVbIJ1sCZdAdo0ABIUI-6i50FMsQZEhB+yVJhNJ3T+WIgmZQl56w2b44Fthb1nu5QGvma3lIQew9R7R063XZtx3SjNqIjA2Ugsvs-b+60xoXbMtuaC34A+hGW2fZyMTlpV5FZPy0z2od5nXOr3c-1gCDWmuXp8TO8pJPme8pXUKkJPIRdM-yVE-8h2ZURBAhecC-TxkVql-8FXYF-uvnhNWd07PrBESW5iUbpiKRdLvqx3T2ayoFv-n8n+mJs0n3UAwFL9Pvv6VF-kzOZVw0xfTKAS70pOie-fqXPaYe6QCfd9GoPnccTpbKrTiZVaCe1uUPW8djzIoe8GLHjbYGhPqaLl0slCzUk7duqoe6hWPjFeN+l6GzGCEfON5WpZh8NPTJGVT6vSzPXZpiQW9LA+LTFclYNmwIz5fFcn3KA375JUxJ0w1r89X3tmOmTr2X6uh9sczfPlf0ToLPH330ysZ--zp9E+yy-4Yemq715BGJqmbH39y5G6w5t6OxY5LX4d43zgYn7rYL4f4y7AGQS37JLpLpbQFq5DgX6f4CoIFqbqJgCaKxS6IcAGLcB8CeSW4dRfCMAwQwy6Zfg6onApacYyDl5nT3I+x6DtqvJ5SDBp5gGYhfiAwMyGbJqpo+xfxd5sH2BvKcGAJwgb59xFwRDaRJpHquosH4BUG7YXCXyAz4ApgKGCHKFfQPxnRtqLTiErSqG144hGwSzaGgBSwyLOAlpSGcpqENhWGcqDDqz2GvpfTZ656NrmGZq8G9CzrWGDCmyMEUhPzrqoFpjVq1g8Hhz-CAjRE2hfygCxEWj1zfRzof4VYWFkwaEAw8jr5AgpEjiGEUhlFjAZEVx5GBFrTHQVa94V5kDVQ0i6C+FjqNo171Fdxug-7mw1baJJI9EJGSJNgDF0atHUCyDJRmovKHRgFvaI44ioY+DDFPAyG1DZphRKCGao7WJ+EWgFpm7mz3ILHbTVhgZiouGrHnaXGKjXEX78KDELHy5doLFTDLFeo6gbEyBZFMCghJYfGghfHZwrHzAuh-HNFmIwzVpdCHFdHZZxJPHRqcFUhjCjEQnKyyg6AjAPGZDba0HxS4n4nWghxfKeJrF6DnFJK36onUYeAYnZ6K5hBERZC6D4n0lmAAA8JJnJwweg5JrJJKsqt6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANSpYc7JxRAxBqT4AsrcmgCalpEalakc6GDRC6DWosrCkilslinUA+CSnSn4AyCMR9o6AKl9ZKlMqUCqlAjGnmlDqWl6k2kEmJ5BmmlBld5hChnWkGlCke4fQrYZDhKRK37T5xI6aepTHKDdAZBbRYmFB3je4RkMlmbebqGIbln2lYoooFkcJdbanXrTHtE6CdENrbpCaxkm7JxxLHCnA6jcm9k2CeI6jCmjl9llkzgokCoqIth2kI5-p0z5bWKDl0HnAo4jyIldmMiVkpA3pOkRkpjKrpBHqLagi-qFAC4taArZp-EFpDEXGz4TJfhll-HvGcqfH34tqfnAbQlJ6Nbm5jEp41KNlFmYFkhJyn5xJZnViDDWg5mZp5kQWsrD7RbWCllfblmIXJng5hAzo1kjktqdLgWhJbRTmBxtF6mdl549ktpES34bnfi1m9meKyCWgTmF73jqB1l0xMU4WzlXHzkuhLnpKRp5ZxrrnEm7Hbl0VCgHlhBHlrDZkPrEDnkpqXlPC6r6pL7ChAUjYXp3nfIPkLFPmZZ-HoU2LLnTprQflvH0nfmgm-kVr-nPHOVPBTo3kgXYkNkUXWVmwaI+xaI6LsD6JcBGIYAkH3BSB+rOpjBpq2IFHxguwTr3qAjxUBpggAlZWUAuqOokTuZVLupKJfjHSToYzZp5WBohUFqAw+J8EahpE2AahAroGFB8F6gtXWB6jtXp58FrE9WgBrH9WNURyHjDWHhjWdURw8JyBpHzUTIdU-IRw4x0AkSqBwhpHrWbVpRBIrVhB8EqU9UqWAqHXCoRwbQjCsIeB0BfzXXDC3UMB0wXU2B8HqnDU2B6AwyDBwizYLY6qan7VvXWB8GGRfXWA-V-UA2gA6r6og0DURwABUkNtqv1oA-1xwgNoAyNmN1goNUefQgIwAaN0NmNsNOqYAiN41SRAApGTRjVjfNnDaAHTfjaAITXwbQV9eTczTjcSf9UjUkQAIQnC81M2U2gBi0pZC203E08mM0w3Y2s18nWBy2zVJE8lHCQ181S3a3q1c0RxzZK0U0q06oLaG3C3E1zY62DBhB63m2gC21W3y16CAgi1o2s2hAs3WAi02CUE+IQjVXRD+r5WJU+zvHHDpIbRbQaiDA1UR1fS9wh2OoJX6HejIgeBWQhg9zR10yx13rOAs2DWh0JVpEVUkCdiuXWCJ0Z0A4QhYCp1h0uoi6R6Ax8GWbjSdBpFd3WaE0tlHURyQDEDjR0TbX20j1j3DwD2D3vVXVaBPWwCQA9WPWSDL2z1z1E3u1r14TDW72b1z18EAByqgx9aNp9x9-FLZwdsWI1Zd2VUmfYUdRwMdm0nKKtvx85ddbdt9IeP9gBcoYq+dhQhdNqLNFVhoCdD94dT9gYvcJqTKvqMDtVX0RdIaHZh4tx8wpqkgMQkglmjAzKtFVkqgagn20QQ8zZQqddhVWQQoJVVdNdYQFCV8lQYQO+FInFESCl262DzgmeNau5eexu+OKarBKDSdmd9JgwU5tdkjcDy+c5zDc+1KBOEjadj9lE1A2dudYGcj99mjsDMuNxKjvVW5+xO5o6e5pgVVd9uxOg1UTJmy1j460O2IkSwjjajdwVyduB4VnAhiGA0V5ssREYFAkg0chgr4G0jAr8Ou-DCwbgng3gz0dCi5z+j4nY6S45YCu8GTTSWQnYUZkgZp8Z+pLKjRmToE2TAlrFYl1TRTAJ2kG0o87aAkgsupug22vROIJkpA7gs8liBgFqpApAsNDAmpeg-TLFgIDEnicz9SQIKYQZ-Th93ycz38VpYaXhbMCkhpXTOgGDYGrDezM9Fgz2oF8w5TUZ7tQZLT80sg7TAmhdpzsww8xzHqJpJggIuz7zI8y0LA0zoaiT81wLkwOTQIiG3EdTnUPIFCZg2wWAr2Tm+0O8iE4LHqQQ9TboCLZgMtQI7i4IkLaTBwCLszRLlJ6RtAUQJkloUTlYsTr8CLXyREBW6CcCVS5LSLKLqQrgSSXKbMPKmLhoyLY5QIdzmpZzAL3gQLOo8ieLZgmpYroQDEZTcFe0B0RdmdWyLGeLMZQKarQZ0r4wsrpLGLCrILxT6pKrNg4I3EvLKG-z7tk1GD0D9gqOgLorsLcV9xLLIm0r7tQ1N2PI8rILgwLoeL7r+zprjALAaSz2YKhzmLkLgIAA5GaRQlGRm8i0xYc+GQi38x6yPNHIwCyqW1jb0wUTWU8Ckz4DqBW+s0KnwZJKaU6aacwsKGgtSN4F26UbPDlaK89lSc6w2yOGW6JW6I29G567KyKU68W+a9OwuWUMuya42xERKKQ+Q6QJQ3VhfvzJFOzLBqC1SjSlUqzCKVrsTRy7SpzIMIK0TFGJe2YzKVtNu1SLu5QEPEloe2RNSMcye964UA0lq5e5C3wUS3HBq4kuiJe-OyUnDJu2IBW-KFqjDH+8e5e56sDmexghe3DJVikA+ZHcxSlukpmZqwK5Hbq8+4R4ZdS--cwP+7IF0GwgWoXah-COh5hwB56ZnPB8udVqRwOcSZledjC1CiNfcTqPDEez22x-2vOcdHJyxwmJasBykERJRGR6cICJNZC6p+zOp-2qdt4dI6J3px+xQ9+-u6kYZ-cTp9mcboDNZ1+z+xukZ9SOa-IvB7UyB9J2hk5whfffJ6x9Bjs+bsZXpgVmB-R15kEUkVB-2dWAkvtCMfR-ztF9Fj5khyBdBUXO+s8Nh1Wz6NSeByJjqBVwFypbBqeSqmqgI+3mIEVxUZrDS63Ce-kWV-cdV6KS6H1w6bV6zPV0+i+rR0WB131sauQj24wJWOQCwl4Kwh0MGAcCV1c84EV112J-yL2787IWdPsGx3N5WNdBt35TqDUXDoJ1gelB+nLi0KBAnb9pKFpe0OQHJNonFKQMMJtMtKAJ5LarIGdJ5GgGD6bDFc4PyJFHoPdNIViH6IwB0D05t0k+i3YEjyj-xZ4n3RtqyyUtbOoHDzIAjzqDqJj06dj5p-WRTyGFTxSUCnjtSLD-DxG26JT8jwfMh77PXmME91kDNiPnfQnhcKBPVSjQLzIKjUBXeKEumSTyPDwIMPD5IOrARZDhpFLwWjD6QIr5IMryu-nqZPElL95SkPlqJB4Nr8SXj50EpX5XbzZhJdl82tmpzx0Dryz3r6r-wOz+Alr1kwxxb3Gh7yxU7w71WQ2E77ZY1q791mtC6B78H8BUNr5a2v3PQL2-r4b773hTaEpZr9b4+F73pD76Twb-72UKL2byn5b4H+L7bymlZhtpH14vYBcC2DX4+K+ykNSYDKr4b9SXn7xQX020Ci6N3zU+b3H5FgRaEO7-T8j6X6zxX370b1b7X7H6kKH0v57038eq315ry3GR3zOA31kJ8ifxztScP2v-nyOOPy2uf8X9PxCCf7efP4UJxZ32UB7w--8W34rkfKI2TEHeF2paBfuNJJSl+DYBid5eESSTkChCRpkIkxuIiHAL04xB8owoWMp4mwG9tYyREWriwFG6Nd7u3gTcLpRUSgRry4WNHhAPIC-c7GIeDhJQIW4l8UsT8KXjNiqDZoPuBaNgY90fAutUBiwfMNVVe4pYhBm4MXoL0BAED5u+YM4nz2SgxAcYsQHXAAMSbUktBo-R-l4Q8DqDaKOuPQEYJTR6lEmOocwRoMmCGDjBHRD-DYMsHdcjezg3QACXcEdl8GVlPQdCVcG68kyhTRYtCS8KCMDgegkov4NK6BcfAT8LwUEJfyLEKsD7T4jz3EDphAwZ4DlCN0BKbFQ8GlPQouEkB-cU0WQRgLpm5gcIWUF3QoLh0aRAcv+EOO+l4MdwODvB32KyrkNCGtYGwrQg-i306Bd5cehQpQsUNKFSRUm3Qz4l3iIh+hFgLKLwcVi8Ez8jKc-eoeV3i6YVCKa0akvMMqYIR4OgwfYRiz86x9P+2wvyqzHOHp9k88wE4Ze3SGWlsgLAVhGoxrTBgwwcIATHQEN6fCtqCYOgOrxiFgtfhV7UAP8O+FdAgRM2MztSWHJSxX2QvFms8MeBvCP0Hw+QACM6Z2A0RM4REQYxbKQjAR6sAEjEGWhZAyGYEL4T8L+FYioR0gYEWj1BFSxIWxI6EfwFhF1N4RCEMEUiNhrkjvAlIl1OyL0DsjGRM2XvkEmRELZURrw-EZ2CeFRAXhrqMMEYHfrmpk4iTfAGqOrSRBcRQLOUZIDAb3pueh3CkDqK0B6i5RvgA0aezRZzw5R4IxDGZ0FFENsgIo+kQJmbTDllRjwdZjKIIC6jZQ+ol4baJVHIQ7RKZOjHCSzzWopMvQbdHoM4igFohruFoe0LaEWCOiPgi4n4LSFo9+hpwJ3pC3CGJCe+EIrQKkNBJwirR3gb7NdSgFLCnB7Q+cimOrFeV0hywBSPWONGQDBS3YwYO2LyH-FXBj5MTvgC1A91gyR2CiFOI6BIChuRPMoIOMrH+BIWj5P-D6waHdizApY2MTWnjHFhExFcVccOOhKujfWaGXcVsB2D2p7iKY8Ed2OWgNj+xGLXcVKMKAuhHxn4vvnWKcB9imBgpWTloCf5z0dQP4wkW5U+IIdAQk4wkD3SeF6ksgi3b7DaMoKuDqSGNQMYhhhI9hRg0UVhN9j27zcowJEmEIMFQ6rjUOaYhfnfUbFPUl0eaAtM+N7EMS9AVEqsZKFO6NBZGW9CtDRILF+UGJs6XNPmgnHzjFxs4l0XU3bIoTYCfooFiJKYm2NOGEoQgLMXUGwxWCoE1wSDmTYgSSQ6Qj7qGMeCK9c+pPJkXRJDyR4Pu5klXpZKArvlw+zfbup72xxyAlmdAdIVpIw6q8UQOk+ItZMMCgB4eBaQyU5PUKLhFeZgBZkSyWbw8MYKE0ABKQAASeESQAAEFwA4APCAACUJSkAAAPLH1kAKWU4neDdJASZkOAsnIFJfEdjRxMQjSWMF8n1T6x4Ikyb5PU48TFYrEpwAhxMnqB4k5EsnF4SGmlAapvbOqYkzSkZTspuUgqcVNKnjSO+3Uk7rVL6n-j00rgkyTaN8mSB-JEsfqemm7abTiAdkRSTN0ETqCpppEraT2KcCNTEmRoy0eqMopCoUx7gbGrGV+4hgooREu6Qgi+mkDpOj04gM9LMZVTfuQMuqSdOelmxkp5BVcH6BIAA8UsAABmWx3gGojEMWAO3RH4dKwlAA4FQQJmoyt0BUFLMjOqLJoAempHgJvjWg0yFYaM7wF4Sfi4zukIgvQSzNvayCSZOg+4oCGS7Uk+ZfpO9ngw6BV9yxb-dIXYAOjczQIUgGIIugHZ24764s89sTP36LZ3S+M1cPzJ1m8CwBb6OwGMEYjqBX4tQuykjgaHYcscMpBvFzNMG5CtZRM18ILNxwLBNhiwa+lSXuLKiLZVs81kcNHJBzJAlsuQK-AG70dr6xAvLqAL8oRyo5r8GmXhIlDBgMRKPZELkFyH5jQSuZM2TIGDnRzWUSleodFP+Jt8YuY8YnnoOrlNCdhXccggwWbQXCu89uLMbYLwadCXyz0oAbbJxAeAXJh-IYdqU8STjmsU5IiCnJDnNjUCHgVYT5WewdzAUM6crnuNIpDBzZkckOVVyxYBAd5JcveWXIG409AU2nD3G3LT5JyvUc8suY8LUliBwheDRQEmkRigRZZl-Ufs9OF4h5+hpUdob3NdR5jGmIQoSeEDjStCCWEfAil+BIA2lAJTY4BS2OzGTA+J-E6wEhRHHsMou6wuNMrnDBJk5AGaQengGRqUL0k9uTMSliWG5ikkOCnoXTC-AwLixrk6zI7MQUGlkFgpLQVBOsALyF0Kwq-s9hRYXjL5iHeEt-OSHqAB5+C5rDFyzkE4pAJMHBQXK8pfEKFVClhWtDgmSSsuc-bYbl2kWRC5FuC-nM-OcDcKR47ExYEP3X60SvU44vTvBOkhSTxW+ihCQuLM51yVxDi8EX8UvE7ipYM48Vq-PjEfyaQX8+xQnUcUzDtx0UxYOr33Hwk35SwGYtEsF7JKE6hvfwaAG0XI1glt-UJdsB9n3Fkl4ImxbwvfEEjB6LoSpb+JsDVL2JsnOpVgsKCyd1YTSoVIBTM5eL3FPkqQDTN8CBZMiekp2EUVdhjLGQKYGmW10m6tENJUYdOa4OOjpyASLM66KspBF7Z8m+ytWU03BEts5AlsuEGQXKIIdjoSfdWdGJgpINWEBs54DTMonjtfU2015d4BHhOLmhIeUMNkG+w0yC0CsoEjrhVm5B05DWcbBNB4UqSC0PaFpW+M4ngyel1k0MMspJj-KGc6c1FTYEEmgkmZ0fGFSPDhUSTvFHi4pDJJq4YZImbyw5Q9CcJYrAV6s3vnJPsAKSDRegapSpJTLJS5pkgPKYqgAAyeEMqYth3jYzBE9gGGTTMzjwzcFrglqb3ODAwx2pA0yFl1Ob4wwEwsqtVemjM4TT4kuqgEoaqeWZxZp6UgVcKtFWrTLQ60s1XqpemKT0R6jdnHtMUl2otVh0ivgFJOlgSgkyRAdpdINHggzG7qzlSLNNI0zg1Lw8EBnLEC4NdV8qn5colelqjC67OIFSzVjK4N5oIyl5WDIam4KoZ0qxiQOzlUfLcF8a2EHQzGAVsOJbyhaCipHGmT42rgtNVoAzV0xxxC2ZtEaLEZdBRRXecaBtOmmKxkVRa6Er30DGJry1Dar5U2snUwT78n5J0ekN8y0qvl86sto1NbUayQ8lsYQAWjsnbdl2gIDdRWzoHKJD1JAUeYMI6CQsaQhmVcPWora7qnRZnG9bkGu6Zxl2q6xSdWoWC+SRBN43ZfqL1LmtdxZgbFkQvrYIQoNSop0mMFGmQR8GbUlDTtMzT1DgNX8jDUR0KDZowpKWA6UdOma9T00sfbNAMzlRT4MNrakBkOnDVhi2eQIDDTGseBXrQgiwX7IrzOljqLpcokQoCmpIYbBggY6jQrJETka91QFNeX+gEQfZFudgJ5SArak7L0x-9baQWjTDoqWMkKzENhq1Ugbtp+G4jnfSI0ZCVV3qkeL6pM2Ua76EmqfCzLlEMbe0TGsySxsDVZB2NLATjTYG419BPN0awTcwzFkDsxNsNRzXKGc0AbZN8feTVD0lCrcVNTpWGSTDw0TKnlZG86VvKk7HcsteGszvlow3Zb+NAJYreRtK33TMNmIQwEhrS3fY0NWqqrTCCArZpMgo66rZHn5ULT8phUkqeAAaw9acpfW5aWKpE3kaItKtDrQ1t7h+VAQYSA7gpqO7Jb816sz1HVuU0symtKq+lW1rvozbZVBaflYKpFWDbMQJ261eNvuIFrAxh28tZFIbALb74QyvYkZk3RWQWCVGe0TWW+1eEasaYT7SIFwxWDDhoGTZY3A+3QgBO4O1wbHM4ReEDM729akDu9Ag7Mtv28Hf9sywo7oQ6OmIVVyx3miJQPWXHSIBh2KIYh8Ol4jjJkA6BQYXQetd9rWVg6EdxOsQGzBxjwJiusOgnazpp0wVQ0LAPrPjrR7U7ANgO6gKrMB3Q731AGzLfJRl1oMldFARnlJ3-UGizOku1WT1hV1w49deGXsherpUA7aAqOvoAbvQLX9tSGul4SmQC3u1W2KYY3V8rSLa6KNiWlHVLtyBk7Vdcuu0QrssZrgJA5uqML7sniQsqVWnDIRSI9HUjsR1Db5C7rLYlZS44esUSHuh3zlbd-oq-ikEDFe6ddkO8PZnBL1W6bdjlWLaKAd0LbGAppZPRPQhEh7vdjdWnfTo5RsJ-ddu9tc6reldqgUPa21hbz2XoYi0daulQ1Hb0Jh61lqXFXTDZWoTW1nlauQmw6TJxkJ7KtCR6ovFiKlmiGPPWEBz3xtq9PG4ENQD7bnqaVl6wYJPtBit6NM2qgZjkMI6uD0snOzls-r9mYKh0DjJxizFcaKV0hbnPdsVhN5yAu9-ojuO+V73pr36XyQfUnsf2-Zng2AvsNkOeByMwDjUnpUKQfYA1CRtXZQN-qwWAhH05A7sbxQKhfoNSyLXfaq2AO2ckscanHuvt0DySt9nKiRZcn33wHK9dok-cTQYMecL89eq-W8rSJCG7OBgnANmg2gYddqXwgtAAE4qg4AiQHtSX2o9Qgahjal8NbV4NlovgG-RXMIUj7DApm2foovyzF1TgGMmuQoa2p6A02abFMGgDcN+bws8WiZA4YOG1wjJzaHw-oboipMjRyEecs4H1R2EJKtwpvboa2pBHDDYGOQ8HriP-V0h6gM5RcpQN0gkNEBttTEKP0CHHdpyralkdENj7N1ZbNIhkdKPjBW59+ouF5ykD1qYgAWxCt4HSA0hzmmabNJbALRcdNULQDDk0Z0l5QUDxAALVGQqBxqGs+WEKIwE6Pj1paenGkByQMoEUfD7tPVPqiaOgAK2GQyY7pQhp4K6Ymx9dnSsthGhQAFw4bFAttR0bFuyUZDatwEyXGlK+WlmalpK0VbzpACIBG8dj5zGOjMxJYwS3dgITGQ4IJuZscBDbGv0GGpLWtyOPbGRQ1x7Lrcc8NGL0kMJuE1+n2MqSGAuJvVB4diMaGbRfa51f3t6XmV5sU5c41uqgmoGshliS2NgdtREGCAsNGxGBIb0cS44G+xfTaNwmKj8uiWmrDkDoCMRUmrR37PupCl9GUsAxnjiMdyiyBPVkxk0tMZn4PlLKNJ1irydZOsHHGm+pfcKce2rF-mlRllEycZDoG+TxcUrH8TE0cnzCLNbk69qrkv6wNqVK+HV0JbGomjVppw+RL0AdKAAOlgBGUDrxgLCfAE6SBb77MaMND1BWhcNAh5jnRnKlUEDP1q02IZ8M5GYHbTN3hXQR43GbjY6S0MhARCvOQR7UlqzoAAAF5QNrAEZlhiWZjOup4zuBpM02eKZDo0zgIDMzMSzMqsbgmWCU1KZ8B5mOzZZ7s0zRDZJEuIt8U0qQFNILjDQabCEHgBzN0qZz2czs+WaBYLnt6fIU0h4FXPrm41g5kUEAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0l4Lsnkog3OgA3FgAL4CEiKkTN6RmwSaGc6D0QxAkofBQEUC46UoFgKUocR5U-F5FEERcDAhItLFAH8ijVX5YKoBDbE7Rl-2wxhZ2fSJXzEaQHGscDILsAYWHyagSDGYikNIkg0JAqINhUUB6UIaRyFAABeW92xQ7jaGTahTVk4h2kjYdjBpBRiE461KGYRFOjxNT1KCEj5PVWZNRXHVUKHEzh0Auz7INMziBcbQ9NoXFlMXKj0kwqwLgCycnUUESxKXD1hLMYsQvuDYtLxcKlktWIONEfBKGIUQxhfQIaMcej+KCFc12UzRt13fcjwIOSrHIIp8lEK8bxwx88uMd93ywVzQFHUYJ2qJ0dW5OhBXQqIAtAfdMQokbaSAi1QmIUTpAtWJ1T0xQ23vFC9LHGdtoW9oFyc4d+vHZwht5MLeVGQCjvyIDBSo7rerWUltLg2gqR7Xk+xLDQFwmwIpouchGFCnaFEUdluzpPCct1BdIpWaTdrh7lGE+uc2jLct0ZhzGe0xMTkfTF83rq297H9H0XUWMbgeKhiIIuURWIa2mA19Rm+P1Kb0sy7LcrSAq6OasC2bsaYx2DDnDL54DjKm6GO320Z5e8lJnopsXaKK-VBPEzLtU13w4sk0BjLVvazfsLYQ0VnX2j15YpaY2xguuu25Yt67+ctKbTb9tQ4o69JxcNoOYqwj7vUDRRjKCelzfvUM+fUN2enfIIupwY3QBILF4RFq3FD0CSAD5ptWl8eupi6J2LhkESR5peWVlPY8C+JVsUDvFvzFbpDW5YNskLaW+xEXNCb5xp9LpGtkoaQB8STvFyfABIII3w-IR5lAOg6zc9idkefYXlxvwQeMD2LgT3m3i7npC51q2n5dB308Mm+-J6GDOwHN8hcy-q6NQQ8DTLVWsZWIzZOhjGUKfcchAL57GePMGyGsf5O2RC7VSzkggn2GKg9BQJr6KBlHKbm9MlDJyId3P2v8Rg3yAr5COoAo7NRZqDHufRjbbAeBg+sbwGGZBsHiQRIxhEUPmMUMoFQUSo0zBcKQvwbh3FkVfRkYj7ISJUIodRfwtGAh0fJE8ii14vwYcYWII9pCcPzg3Q+IgPopnjAKZmaRC4miKFbDxCklJvE4YXLIdY6KfxQefbRmDBiKD8QA4whdF5tzGAwKS89bCpJFoocJMggKcNVkNXafizqWk0og9y4hPIGWRPkuimgck5SZumV6B8vxWA+gFNMXQ77RRzFYah9xvZuHoSZW2wUsb-V0QOWxHw2mUw6S8GmJccTO1BN4oIhdrpW1tmsupowfbhgXJwg5Cj6hxUUAc3EFylEnOuoKIp-DrpLJcZ0mmxjNEAkvnEwG40WbnMsZcn2Xz-ixOBHc6xczli2zBaY35kLjnznTOUwIesaLGHeSsj60jyHmP+VswIQK6gVCuXiiFXZgX3JhVaEpRNBhbBkWYv5VyTmov1BinAeBXIMHwMwNgUA4CIGQOgPgAAmZZR9H6OGcNDLK3g3j9KAbYFaZQVwomMAAHy1WpR+EMFWatADqvVdhygVFEMMTVJqDQXAcSiN5vVwaSE8J4HKth+r4nIAAC3uFsTwr8TD8KgpPdcSqABk4bQC+skEgpVEkE2gB9X6l1jrqZ2o3pqlmKr-Vus4p6rxG4O7tX3r1alDQmiZqVdm-hMakEr2hW0dp2LpXQlbocrNkQc0urzR6yRm4bmGRLe+Xqg6ZHls7XwwZ0bLX1snmvOtigG3KK3qW6mY6jljMnUG6di7l3Lpfs2p1zFGVCJZaIt0d9u2uvdQWzZG4KXnpeMOltIhH2IqpaSxtt9ipTT3fOxQ-7V4rvab1d9IiuzIraFe2ts6l0AYPW6VdI7012HhT8iDszoO-uDXYXNt7+2FvQ5S+YL7erEaffIid1au2wdjfB4DQHv2+VA9TCjH75FQZ-bR3dcH90AcPW8vAAAxSAAANAAsgAUViKYaskgXSgA3K5B4wtvrEA3KAA8FJvVKaNJIDcuAwCSHwFqJN3qbBxDoE6OI0bhhjDuGMaIRno3kHIE9aIIBPA6cIKUNALFgB0HYowF0l4FOxo5kUYAAArOgl46DTC8MAGw1neTAAAGwAGZsAifE9J2THNqAIXM81DxTBWB9USCqSQQT-G0EU8mlzFkHCMC07MJ6JXQB+OsFYSQXXwk5C0767KCFWvZRyjlNAr7e4eqq+KbdAzix9Hw-mwj96VMTDU8+1jrirD6bVBqMw1kFtTRlPkZQX7Lqqo3poJjK6lm9X234k7-DhnJgG4BvjCGBNIeQ1KkQQUe4venc6m9q3DGFuClrIdO2PlTL+nyQGga-1feAy-NNu2BFknU79HkiPgdLdB72u9pZrb2Qfdjzk8Neykdhys4mCMeRxsvTh6dF1TD4HxDwOnR8GfY0EgTrC7OMr4nFTzt9ZJqekzxDRqdS3hec68Zlo9qHaGJ1lzuwneGe0EYh-e8BZHqZvfAXzGDbP+0bgN5oF2D3qbgNwQrVhWbAg8aW3d9Ha7MchzTngmXvggJm7d3Bm3nu4d3QdxnF2gesKIcgeLmbICwF03V-75HuHVX9xDyhzHFxZY+8d37uP0eZv2tj+QdhGOPkXA8QtxbWEie68L0DDcHjDeY7ezXjXde9sW9b9bt0tvMeBOe137vM76Nl7+9NvoP5awXuw67+v2uwd9r16Tjcs+6zbcHx8lT0z8dd5RxPn7Tad8rIeofujc7gOT7+71GaD1qBPTTyDvuo9FBP8KaHlZ3vZreE-y-kHvRgAWfkfKnH-jqAAcXkmgBiAfvC5ryuVoKhwCKtwHwJlv9jNhDKFNSIGmPheAmlJNgaIJXism9q5IoBZBvFqEzGUkSprkLhbixGxBxFxLthuGikSFQVZNqJoHQVyseqSKxOxNpGwZ0ihHgdesTv2vgBVMwSIZxK5G3rvnVAdpZEdtqBIcqvwgrihJoNzqASICps9vgJIToZIl7CLrIaAGLoYVYHvh5PpN5KYdoebmOBznoaAMrqQUfG9qMjULDLQIlGYW4XiBuP4U6BwaAAlIZPHlmD3FcgHK4VrrYCtqvniI8kphEQ+HEdkZ9IlEYmMiEUAdfmvAHCrpjs6FkHCF4NUrUt5OmMkTHgBgIdTL-vypmo0TWrxvRq0ZUWQNUfcKUH+OoQCnvN3NOptOuB0UkE8vvIXMmi4JzLhLpE4YZFbA4vXL1OQeoRdlYkzNdAHt0UtlMXsfUAcWMl-tnrvuoVCjZOocBOMXLlhIujMaIHEW8XFPcRvI8S7hMUtsum8RUR8pUqIasV5M7F+hcY0l1jCPcF0WkFNHcF4D6mcRUAHoQX1J0J4KidUFAomKAKcTsVWlCZoHiSdKUHCdUiolGMiTid6miXRHoAADxYkokMnknJyrCrjUDrgbgAAq2QoAMoxA-iM4hAoYx8BQ1YlAOUsQmmAA1GTowsfAal4GBGaOWgHkqVEYqcqYwioL8OqfgGaOSTSXYmIDyXyYKdQAQKIAeORJ4BKX-FKVWDWHKUpqAEqfMlEIaQqhqYydqUphVF6fqUQn6caaaQUlPo9tkHkIUOWmyl+gCmkO9NoB6tkOdgicsGWqfIGWSdGf0ssCqvalqeaY2ASBmU-knCqeigMdQDUZ4HUWsciG0j6RaeWpJImoumWe2WjIupybWbECQgsAelCSdMumaZwnnPqB7NaF2UQb6ksaAisY4RCSMHgbClaYyRVDuOUBxNNBvCWssNwkWW-IykwBvFbO0bsdnESFNCOShLcVqU+T8Zwc5J8Yca+UkKuieWLIifwtaFWVmV0D4d+O2lCkmVYgWdICmaZNTEBVkNWdmT0LmValqTBUcSrOnqWeOfMqsOmUhedn2VoFMA2Qqs2euXiG2fZMOV+guePnGnhUQqEA4KMAOQUjBeWZmI+WOfsROQBlOfqDRLOYxPOZiYsYnquTUi2dxhUtueWrucQPudpIeUkC1NhO2riMeTnAbDwsZIXG8deTgm8dtKBdhdOo+Z8S+UCe+fZJ+Zcd+e8UklELnPlABdOohZmWZboEJmAIgfyhVkKpwKKrwBgJgX0NBARPBIhLtj5NAQ3uDniGRBuFFXBAhMoSsmlYRPcDBNWAXvWKhNAXdqhM2oXNlTFWIdfFbJ6syJ6huHWlEYEHWsOIQiOBbg2k1cYA2q1ZwfVVMV1YSaGr1XVRbv1INf1CNT0PVXaqtFEbNaPESG1VEPVeSHQPJkUFEWtRtUtX1RbqVLyV1Qda1gaMtUEPVTKD6piKUHQBwZdd6tdQwMsGdYEPVQqYNYEIoNSJoEUJXDXBeEqf4qAC9cYPVZeB9cYF9T9X9aABeDeEDSDX1BbgAFQQ0QTfWgC-WST-WgDI2Y3GCI31XABo1Q2Y0w0XhgAI17WGIbgACkJNGNWN1csNoAtN+NwN1NYRhBH1pNTNONmJv1nNigG4AAhAmjzYzeTaAGLVJILaNTTcyQzdDdjSzaycYHLdNRbsyRJBDbzVLdrerYTRblXErWTSrReDXIbULRuFXDrZoFEHrebaALbVbfLWESLWjSzUEMzcYCLYELgcyFROVfhOlbFZ0ncZJPqGdp9rGpoBVURLykHRefHWHV2NQKUNFpMOXpHcsNHYICrf1SHTlVESVbxIuHZYECnVVVglRFgMHTBKHTjEytnZkv2vVULFlDlFER3SLIjbWStRbpAMQFtptfbUPSPX3f3a9RbvdbYLAJAF1bPfPZPVPUjTTbPVJoNRvSvVPfVQAHKSB71o0H173cVEJJ2bCElF2VUUpak509B50q2vEnRV14pf713RVEQUqHH33pCP3M0lXl1X0N05VN3bBf7T44R4QgOVUUFkQzjpHFFYRQNZTZLaQri-gUXRaSBSAny-CgI1kmRV15V3C4iFW8QV3pAIP9TPhRDwFloxSFDgkdpINdLUhaQ6Rrkdq2IILaSUHX0J2qEYVhlEKv2nrjrjmUNBC8NIJV0qbp2Z0UBMwkXGBiObBCKHE71BCSXLGUWHJlUXmLGeBZCUlchcO4ifyMN6PeS108p1R8oCrsDCpcCYDhXT4JSzAUC2ABgqDyIyiMDxjoasN9BqqlAap3ZBOLj6ihB3aTlXDfK+Shkbi2B6kRneYmkx2lGFEaL-C+T6ixARPxO5NxEsQyi0xUEKDM5GmURNG9akCkASmiS7TKAAT1Mw0MBKnXL1MMUbiaahC9NRi6mhkKakBaNEi9P97VNXHT48huaalqmeAARzRLNNmzMNTATbweVLZpNJPC2hmlM1YOAVNIzR0INrNFArPsJJM6Abh2FX1mBcxagsDXIUTBMLVrwziRT9MOKGbjx9CeqfOgCRpYC7zSwZ7v7LqfN6A6qMUMYfOvN6Ay1KbBCPjRMQSLqAuYkbgotqShAeMKajA+Ndj+PxifNqSxCeyb71iAvAugtBAZotB74I4AwvMBpRN0v9N7NKnnOpErjPMYtzSsuJPel0vGCaapOXYTgdzKTh374stQuhnJziuhk8tPOZNwusvTgItoQKkgtRCPiGZ0sbTZgNTC3jUrNx0mu4RPNRN-MhpbRkv5jnPC0DVzz9oCsBqaCQsIuWsPPWt8v+Dbx2gLNCtosbgADkepM4STkbILw5CzAZnzdzPLAYjAZoqbWNxxS+4La8SQ6q64i6GbYz50Fu9muph1FU+45AupWIK41bFUkMdwj47LoQzrhbToabAlwGRbvrczvLjALAkUxrfr6rPbMB3bHbgt9zfbRbYFVg2DuDpA+Dm6NQeEsY-0j0bz0Ibpc+yE3IXza9YRVLz6mgTLeOLL+7UjgQ0dC7MIS7lAoCcUa7LosIlzm7trwoITnRtIB79VKL1ukrlaLQ+7Q7YgtIc7oAGbxQZ41Iz7G7+7-SD827MpW+jIIHZ5hlQj9FUk+oiZUrmaZ7NOhwIH050RydzAL7DgnEgEVs0dUHJ4MHcHr7jp80+Qv5k0-CKmnZWLA1aLpxi6dI67sI7qgEJ0d2gnlHInc0eTfzXH2HiaG441fHFH-0Uns4+TtUu2UKPTt7eDD7K7kRfHoaMrn60Ftinqun97j710THOoHrrHLGoHpxcn0FV9QnVHEBLlp5SH12wHP7m5Y+f7UReHQHSgJH+shU+l-kgF4H-5VMmODUTUm7tTkVxn+7aLi66Xfzx1j0Sle4h4bD57R8iXORdzMRTuCHWbM2pxWXFZy6tXZwlpZU3IeX1UhXRHVg5X5eL6kDwnjAXY5A1AyY9wsaEwSClXWzMejUYXP7PTtb-Xtz3+R8o3mIfXXYz2E3-xLxcGXXDnzaeAT+K4kKWw-wcdaC2Eqlbq5ACBjjpA3qlYZmmWEEDgHymWaAb3yuEVWIsYigcoFz0UAwjA6SW7Obt0gPwPuLRc6DwsOU5LYgjoMgv3og-3i6i6pg4P7C5ZMTcG6PvJEPw48CsIP3f3XrAGuPQPFe9DRusoKa-wFc-SYSsYGIJ3dwNVKNLPogqNLlsZuQBQSPuEPAmgf3tgYuZ5ySF51mpQHPVs33pA-Ptggv47a8DSqRCTLl9LjEkv0vmJPdOUAX0X06uvosJ5elYvAkF55PYwMvRPcvwv4qpPaOvmHP7HRIHslvDFRv+vHwgs0PndxvBop5vCBoU0y6lv6vOcwl-58FOe9Adb8vivdvMFToXv78Tv3y1vQWtvyPCvDvyvTPlQzv4f98mvaf-wHvvvvdZvxCZgqvwGKvHPV7ywpxnqwvivpxifoA5Rjfloy69favRfXCpvQf6Qhc7vUksv8v9vSvygpfdwLvHwbvkweP5fm2fvAXor1fowB6s-ogeoG-ojxn7f2fU-Ac3fJk2-Uv-fL4orgf8ybFtfa8lvSf7xpHkckfM50fHy218gd3VCXvp2PTJCvGV+bqRMgcZAoLYliBsAsWWUFrNWx9KhBYBdbH0rEBy4sBWuBXUAIdz+QaUOeOlTqJNysDf9yAd3N5IXGwHHd0+UkN7BzwrgvhC4V3K2BQIG7fIzW4A-ICWnKrncpIzA+RLQI3BICFutdbYjT2TBZRyQXgbJiYl36d8iiKXU4uhmf5xFSg4giiuhgSSqCvAwTRdCoK+haC7mugiQU2R9iGCFUwTZdKYP0FLcRAlgpsqg1MqKDLyP5FLhP0cFAk7moJJBI4MyJAl5BxnDvJoO8DeCiip7B4hBzUQzBkuVXZbDriSq5dkWPXJ1OoxGDXAYYLXJwTIJIAqVOI6iWwPd20h3BGAeBMDE-lbCzdh+rMT2OonfZV9AgviQIQEkCG2B7Bt5WkKEJ+Kv8OO06WwSvwyh+98KUPbIT8DyH2ZCh8QoEvMliADB8gZoWwVclsHz884pvHzjV3861CGCVgU4tMLNCZd-OmgbYRqxA4D9b+McTyrFz-If9ninXUoZuwg6GlLULATEFWCqQTBpgRQJGHQEV6vDJA7wziHQFF7RD3mygbnGi2+G-D7A4qCuBp347B5uc3fenszXuGJAnhTUUQmCI+EQwHhD-YEcW1XpRB0RfwsXHESyhag7gODH5G8I+FfDHAPw91P8JB6lkQR+YAkRCKhF-MYR9GT4biIRE1wSRGDS1ERAJGKAWR-wiuGfw+A8jVSpgZEQem5wxk7cmI5EfgGmCqBKw5UY+ME2VHyAtIDsaUc8yRGPC86JAa3HfjaIqidRBonwHqIZGZ5FRg7NFg4g058jGAZIwUTSN+GEMiQPZO0Vo0lFai3MnQXUQ8KtFYjEM1o+UZUXYZVIwIOMSRIrEcHiggYvglmPUL0GeBGhaY5oW5AcFFM7g7Qn8s8m6ENCdeFfWHvmE8FSDvkmgRMfmPeLQjtRK4NyJdV-5zCTBgQk6DWIyHAksqDYywLYGbEMl1QQMTscmMIEZCem+AedF3REZoxlMU4sYCAMa50xEeQ46sfID0BosjKWKO1mhkiFDiNx5YqMaIRjGCQ4xyIVcaABHEPEnRdgU4vuKBZRp7W64RMQeyHFagmxP-Bksun3Hiiegy6F8b+PSBvjGx-Yz8eqx-EqNnIi6ACZBPsoPFQOc41eF3TuEKo7gg3NyJaNwJ+CtoGNSUQ4m7G85fUcYTEG5Hm7IQyJ8wTQFBwvFQdRx2yC8gOMsLWYxIVsYCX2IHGKBqJ8gACGt0okzi8RywWiWELHGMTkoE4+cYuKiAwJR4GnRsmhIsR2iqEn4piaJD8AQdCADgLMRMGpCUF1xKXfVNU3AnriCJIgK7kGMSD88E+yPAET4gl5WwrulkoXtZJcoPlehMPK3tJOkBRg6A4Q9BrB2F6NBdJclOoReT+5WwBO64wsSkWqF-c9A-TFFlGD+5vI0JoAfkgAAkpMtgAAILgBwAUmAAEr8lIAAAeT3rIApImxCKvgDMB3dVucArBEFPfG1jgmGk3Kn5MamNiD2Zk8QTSBE68T4kbElSBpzMkyBKgFEwYHcxGmjw6pdbBqcE3SmZScpeUwqSVLKmTSa+PU6kH1PqkDTexKkFLmZMtGbTbAAUznINJOgb5+pxAeLHaMSFtFxBM0-rg1MGnNSUuBo4iCqOjoMJExEpbGj6Tu6TAcgJEx6chB+noChqAYywM1Mb7VSSBD1cafQA6lQyuxJkqwKYA7g-BpBdgLKGFFEjvEGeFvPGSiJrCod5IlAK3hVPtJewiZx7eROTLoGplqYmI+4AeBkDxhNugCdPNUIQ7GRpQog7KAeExmsD0hjbEbju1JluRyZ5pEkKsLY68yhqW0ZmbYFZnSB4wuwtjriO0amAWZbMw4f52llgd8gTiMcUrJVnxhRZqMy8aIFRHpJxwCwdIW4IeL9Jeops3WfjIqE+duZgcW1GJQR5lFcxMg5yusK6EAlIYJBYyCcJMi+IMxRgrMcRFvLNTOhxZfhKUDcn9CVSoQScRLBIqxBXZqsjQZmJMGLCI+28SOfeXTw1cDxJkUIHnLVlwYg5MLWuYcI-bqRYgWchwJ0LcoECtu9UbWcrLdk-sIOng5oc4DYgMg6ewQ2Cl2IJmX0ehUkOYS0MzSOyOhaQD2D0KRae8zePvDUqBLhkFzY5bYtMSdFglRBqgicsMt50YgRD1w1QPiP3TwDI1H5RsC8nPK6xNDF5LQM+V2M6FTR15iaI3vLJIA7yOJigk+cYFbFboFhe-beKCwmGpQwOHDSsad1kFTz3BEXCWJUImA2y7AhwL+cvJ-KPEH5T85OdOkQmOZFuSwyLlvJi6ILJ5icuLhFSAUmld5v-fIG3yn50Srh44rFpOKQkLiw2vC8hRp2XFrw2FcdMXJuPUI3ifglBbnPxM+AILoxo8hsnCDp5iLCSHC68TuJkX5BReaLYeTGLHmqK7glBKfuot8GgAiFyNaRXeLkWRpUuW0XRQeyYW4QOJ34uEZBO-Fi5AJgQFxSwoZICcPFAk5YAJ28VgKPgQJBCYIuQlU8c8dgUWT4BYTBSNhMQlfHeiSUNs8ZmVXnPVlkAssLZKXO7BbNyJEznsBSwEW-jXj8ZgMxS39qW2kCsyigeGMOaiz+axMyeeMjhLEo+RQMasCS0WVRMnYHZIZxAQZSuFwicLxel9KYJajciiyrY6MjeELP+DYyFgFs0JBeT8ViScOw4PxRxK4kjKfF5vAYhpMZAzLSEFso5UECEkrye5UPHedsoU7RL+Fw8WBNl3pT3AM2uMrRM9nOVzLOlZ-OSWYAUl6jFAWy3kKpKnwpSFptgfKVuAAAyUmcqbXFHhbE2iNUh6qLJ1AvTp50Q1qVpJpBIyhp+YbqX5PdRYqiVoHKaZUApVxFqV1Mu4DqHmkZTYVCKpFetNGCbTyVeM7FXtOCbvSZGnog0IdMUnHTTplKq5YEHCJ4ybpeox8I3xFWgrsWupUWbKoeHNsIOUDClTismVj53p-or6epHmXM0fSvShlUoAGUQympXYmGRivNW8rDlKMlCaxC0RfKDl1q6yj6Lel2iPp8gQ1ahXUIq1jIAq54WiPdFIx5kwsajldJ1DurGx0M+ZJKK1U8rOJQynVfBPfKerrRQ8j5d40naprxltY8yYOxnlCR7Q+dKSA5JK4FrO2FUNWHmvGX4Cx85akgGnJFhos4QLqz5fmozZFqDRoHFtQsF241qp2Wah4ZbIuCbTWB94ipbqMNQRS-A0LLVH0GqELqIxHyFQLyRG5XS45m065FdLwI+cp1dPBGd7JH6hTkeVsMVdn0CmnrOhhcBpquEMggyqMdo3+s5EVXBiSeSmBGWqsSBNqgg+QNBPzwqi-qDRHBYyKcQRmaBJRj69GfdB3X9qvOQ-BhWWkG6mBzVu69qeUtsmX1BpVsDYFMFOWHB1lq8q+asu0nTq+VKfC9f4ikjXrcIgU86feovJwbn1os4te+vsifqLJ366VXcD-UsAANldYDXxtVXgapGpxS1bBosDwbMNSGpxChpnLxcelYwTiBxt5IvrDgp6-SfErxn7qdp+0tFitwSWnqNOK3BGQZtmm0A4iFmq6VZqek2b+km6jDQjKw3aSHNLwFyuQOkDRrDNGSVKSyqWkFSippU8AJwhhXBaVpYW1icZ2g0QQYaFQPzdZvoAuT+EG4XIIt2uLn41N5q75e7LSAuaRkRM1BnutI30TL6SW+1VbBhVwrEV4WtILVrZXIqpNeMmDYlt832q0tpCzLeEOAS6MNg0WOqI9Cwp3KgRo0D4jgkG1IQRt2g+ucdDubgFptQgVjqNq4X1cFt1ghPLozWpDa4qE23TaDwm13Nf8u2mbQduiHqzpmvUcAmdpW2zaUuG25-Hc2yieB7wnEL5RdrHFXa4iTOXdjN2fyFL5tz2rbY6RYAVdjoj2loptpU305aA0WagDjOW1KM+1Xq2dVJU+h7bxCyO8vAezHWJANOg2xHWsvDw46dQZOzWRpFzVfLf8OOwIsQCx2469+eI-HYO2bRAaj22kXUvWozZREidWUYQdTF23E7hRNgRnUzFZ0g8Mdd28QjLtx0Oi3ln7Z0a6IpG0ikEDCHnfmtO1i6Ztcu56BkOLWqR9+ko4XTjNu0677teuo3SqUl3tIOdwtCtkpk12NrqxYu4nYLsxyvbdojkA3f2u9V6jfVqo4iupCMrVw9W7sSpdtGp35qvdlTBtWm01aU71IQK9CcWqcp5N9+aMFPSCuDETCYFUYBxMzqiCS6lk9uotNQHrZO7o9Lu6aKIDe0KAPdIJLaQ0zSHlCxxtsP7VvgB3HyVSRjExlSHMaxEIOlnZduSlGmo7rRIMB8j6oNVqi1IoequGpF6kt6lAsA5uqkPGQqkIkqC0YioyMSns-qsEnLuIE0DhKpVO4fLjVCHGyDWs14T0rqxgUb8NwI+-TnFGbY0lWKqE4FRhMUlwKCYhe+fc+R9Gl7gNz+nBne1H3XRud1etNlERf3Wcii9cQuDKFg7bU3hVsAAJwvheoaBn4WnrW3GAcDNgDasWuaFagfAmgfaR7PI2g8VAZ61yssMYhWBMSAABi95BBcDZocNuGwqhoA+DwmzqEpoNCcH1WdBgfhweINvDSDFIDVO9MQwnQrAN4Awu-3coSH1qUh96TIbDSaAUD4wSQz8MtkyBGlzS0KKXC3UT7x1KXVnSAaPYNKfhJhh8HWpgOj1sIdhppakTDmN6sqKnWEPHrNBZQOdZJFcOUDhDrNS14ke0FbHo6ngtgsHCThu2ayr7iAHOpJk+A1VkaIIo2EIxSH8RItLcSEkYI+DN4iGNw14G8PEdhCQdJ2PWFIy1HBq0N9QIhlNj2q3iD8qF+gLuZULc2DdhumINTUjHtD0HpGuWjTdjEs12bDNtWTicXOL6ZHgj5FBqNLQU5whkS1bdg4EBKNlG79CM7CP0at5bHrw7UNoxgo6PoLo4PQTYwcaqPjLoozE7OgccOMD9ODae4NT6v9Uh7A1YelUs0fGVCqVSa+7YBvs4m1iYNJ+ggDDV0CazndCe+0Nbi-2p7LR+Erpcpqqk4JhgdAA8BqgCNoI8ChcSI1JGiOMcKjvK7UEkZSM6k0j8-QyiZU+OwtoT6bOE14Hkk-7QVSJ7rScStZ+HIIyQqgLtFhMEAaTN2TIwfpVqQnkpZgYSETIGAkAzMUkFg2is91UyONtMsmUgkkJSmRCspyU1omlMjAVwoZHgFFKwgcbdTWoO5m9gFnLKTFjg5U+LMhRSzsJfJf9grPXC2mUO9psYLnyQVz8p8xJrk+GzImKBglAAHSwCmbQ1nEHo-gF5LPNC9mNaGmhBMg8GlMWRhsqVywB+mvlAZtbkGYEmhnwzNs1IkN2jMDtdJU8MkidH+6nFCAmgAAF5ANQAoZqIDIyLPEQYz+++M6AHrOJnnIyZjcKmYcAlpQWPUNE-QExPrgAzEZ1syWeeaM03WNNAzBVFKC6lSAupBcYuHDZUQ8AmZ-NZOcLNRn2zc5w9sLUXNKZlzchNc82z7PtQgAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhqAQyhkSlOIEhDc26CWXCEGGwqulB8CgD0BEeGlAWCTRCpIB5whDRKPPoykiI8HVOqoC6t1JALWMEoRCGw1QSlyFkOIG1dqsmsEWPpYgXQg3EA9XWGwvYsSiTkOQY4BqLEcsotdd1gqhVBNhgJFNSgamrFoEKPQXyK02EorlUEy1M5lubS2yUoa6Dlt7UE3BdbmCjL6O6j0KRp5i0dFBG0egEaz1MD2zxwMYkK0ZBaRdrll3Su+UREgY0YidCqBGqNMbM3WG8PKzlwagTKtVdQdVBAk7D0WORPV3rmX5gjZApOIrFBitZXDAd-LPXKOYaw-tIHOFFM8SUOQRSiLLFWKyw1zwhFyNDbBkOKSlmDsBYB+dI5M4IxETB1meGpUYzvF0w5jQWbco5tUmxnqZ1RBgmyyxWtCb806Mi1J+69mFo0Dx2W2tN3vNMPh1FlzuMct43zXWgmlm0aTl02FwdZNV1jbageLAh4jy03XXTMw1pHuoiejoZ7z3yBjda-TUgwyl2buXa+B8IOFC-ApzDJcV6g0bXXfoqTbPWEjfZ8iV6s3+nzVhlexgSPkSODTQFvnOX+cRdu4LoX0mOfjbO2MSWMvCMiIlmJGbm1fni2Vy0MSwthAi9GqLVW1qafhbbJtLbyNZcZNJvDuW6a1FCLUa42aSAjM6AWvQZgjgAD5QCIaqObYjE3ZkNQOAdEO7HuEzznlt4ToQEM73SShlYPg1sCg24MVbIJ1sCZdAdo0ABIUI-6i50FMsQZEhB+yVJhNJ3T+WIgmZQl56w2b44Fthb1nu5QGvma3lIQew9R7R063XZtx3SjNqIjA2Ugsvs-b+60xoXbMtuaC34A+hGW2fZyMTlpV5FZPy0z2od5nXOr3c-1gCDWmuXp8TO8pJPme8pXUKkJPIRdM-yVE-8h2ZURBAhecC-TxkVql-8FXYF-uvnhNWd07PrBESW5iUbpiKRdLvqx3T2ayoFv-n8n+mJs0n3UAwFL9Pvv6VF-kzOZVw0xfTKAS70pOie-fqXPaYe6QCfd9GoPnccTpbKrTiZVaCe1uUPW8djzIoe8GLHjbYGhPqaLl0slCzUk7duqoe6hWPjFeN+l6GzGCEfON5WpZh8NPTJGVT6vSzPXZpiQW9LA+LTFclYNmwIz5fFcn3KA375JUxJ0w1r89X3tmOmTr2X6uh9sczfPlf0ToLPH330ysZ--zp9E+yy-4Yemq715BGJqmbH39y5G6w5t6OxY5LX4d43zgYn7rYL4f4y7AGQS37JLpLpbQFq5DgX6f4CoIFqbqJgCaKxS6IcAGLcB8CeSW4dRfCMAwQwy6Zfg6onApacYyDl5nT3I+x6DtqvJ5SDBp5gGYhfiAwMyGbJqpo+xfxd5sH2BvKcGAJwgb59xFwRDaRJpHquosH4BUG7YXCXyAz4ApgKGCHKFfQPxnRtqLTiErSqG144hGwSzaGgBSwyLOAlpSGcpqENhWGcqDDqz2GvpfTZ656NrmGZq8G9CzrWGDCmyMEUhPzrqoFpjVq1g8Hhz-CAjRE2hfygCxEWj1zfRzof4VYWFkwaEAw8jr5AgpEjiGEUhlFjAZEVx5GBFrTHQVa94V5kDVQ0i6C+FjqNo171Fdxug-7mw1baJJI9EJGSJNgDF0atHUCyDJRmovKHRgFvaI44ioY+DDFPAyG1DZphRKCGao7WJ+EWgFpm7mz3ILHbTVhgZiouGrHnaXGKjXEX78KDELHy5doLFTDLFeo6gbEyBZFMCghJYfGghfHZwrHzAuh-HNFmIwzVpdCHFdHZZxJPHRqcFUhjCjEQnKyyg6AjAPGZDba0HxS4n4nWghxfKeJrF6DnFJK36onUYeAYnZ6K5hBERZC6D4n0lmAAA8JJnJwweg5JrJJKsqt6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANSpYc7JxRAxBqT4AsrcmgCalpEalakc6GDRC6DWosrCkilslinUA+CSnSn4AyCMR9o6AKl9ZKlMqUCqlAjGnmlDqWl6k2kEmJ5BmmlBld5hChnWkGlCke4fQrYZDhKRK37T5xI6aepTHKDdAZBbRYmFB3je4RkMlmbebqGIbln2lYoooFkcJdbanXrTHtE6CdENrbpCaxkm7JxxLHCnA6jcm9k2CeI6jCmjl9llkzgokCoqIth2kI5-p0z5bWKDl0HnAo4jyIldmMiVkpA3pOkRkpjKrpBHqLagi-qFAC4taArZp-EFpDEXGz4TJfhll-HvGcqfH34tqfnAbQlJ6Nbm5jEp41KNlFmYFkhJyn5xJZnViDDWg5mZp5kQWsrD7RbWCllfblmIXJng5hAzo1kjktqdLgWhJbRTmBxtF6mdl549ktpES34bnfi1m9meKyCWgTmF73jqB1l0xMU4WzlXHzkuhLnpKRp5ZxrrnEm7Hbl0VCgHlhBHlrDZkPrEDnkpqXlPC6r6pL7ChAUjYXp3nfIPkLFPmZZ-HoU2LLnTprQflvH0nfmgm-kVr-nPHOVPBTo3kgXYkNkUXWVmwaI+xaI6LsD6JcBGIYAkH3BSB+rOpjBpq2IFHxguwTr3qAjxUBpggAlZWUAuqOokTuZVLupKJfjHSToYzZp5WBohUFqAw+J8EahpE2AahAroGFB8F6gtXWB6jtXp58FrE9WgBrH9WNURyHjDWHhjWdURw8JyBpHzUTIdU-IRw4x0AkSqBwhpHrWbVpRBIrVhB8EqU9UqWAqHXCoRwbQjCsIeB0BfzXXDC3UMB0wXU2B8HqnDU2B6AwyDBwizYLY6qan7VvXWB8GGRfXWA-V-UA2gA6r6og0DURwABUkNtqv1oA-1xwgNoAyNmN1goNUefQgIwAaN0NmNsNOqYAiN41SRAApGTRjVjfNnDaAHTfjaAITXwbQV9eTczTjcSf9UjUkQAIQnC81M2U2gBi0pZC203E08mM0w3Y2s18nWBy2zVJE8lHCQ181S3a3q1c0RxzZK0U0q06oLaG3C3E1zY62DBhB63m2gC21W3y16CAgi1o2s2hAs3WAi02CUE+IQjVXRD+r5WJU+zvHHDpIbRbQaiDA1UR1fS9wh2OoJX6HejIgeBWQhg9zR10yx13rOAs2DWh0JVpEVUkCdiuXWCJ0Z0A4QhYCp1h0uoi6R6Ax8GWbjSdBpFd3WaE0tlHURyQDEDjR0TbX20j1j3DwD2D3vVXVaBPWwCQA9WPWSDL2z1z1E3u1r14TDW72b1z18EAByqgx9aNp9x9-FLZwdsWI1Zd2VUmfYUdRwMdm0nKKtvx85ddbdt9IeP9gBcoYq+dhQhdNqLNFVhoCdD94dT9gYvcJqTKvqMDtVX0RdIaHZh4tx8wpqkgMQkglmjAzKtFVkqgagn20QQ8zZQqddhVWQQoJVVdNdYQFCV8lQYQO+FInFESCl262DzgmeNau5eexu+OKarBKDSdmd9JgwU5tdkjcDy+c5zDc+1KBOEjadj9lE1A2dudYGcj99mjsDMuNxKjvVW5+xO5o6e5pgVVd9uxOg1UTJmy1j460O2IkSwjjajdwVyduB4VnAhiGA0V5spD5DpAlDdWF+-MkU7MsG-DlIfptKuQrMIpWuxN6CcCm4aRXKbMPK8TZjMpW0YTVIETlAQ8SWMTZE1IGDmcqThop2CwB08T6S6T7t7iaRmZe0zT9TjTrMEREo0cjAxmmqLQMMVTcTqTnqwOVKNKVS9TXmD5kdzFKW6SXTiS6IuTRMUY9Ty5IdsT1ICYbCBahdQzIzWq4z8MBzYG8iuzbi1WyzA5xJmV523EIm1JOoVz1TsgXQlqR0YCZQXz7MRz-anYjTlEKzpwgIk1rT991zILlC4Ljz1YLFgIJTFD5TUTqRsL1JEL2ZxugM6LZTFTG6QL1Iz0TYtzcMAEIpZ2aGeLCFcL3zCLvcRlkWemBWPT1LlZQRSRHTcccF3TIx3L-OxlXmPmcM-OnDEo76zwUzvRdi1JqTsLOoyrAljpPgrMp5KqaqAj7eYgsrFRmstAcRdT1L+RPoSr1LsLLoarhQREKlsG2rT6L6WyHM6RJrrcxq5ChzjAlY5ALCXgrCHQwYBw8roFkJcIH68TqL-I3gwoXh+wvzvrlY104bflOoNRcOdzaEYAHC3gm4FwoECdv2koWl7Q5Ack2icUpAwwm0y0oAnktqsgZ0nkaAbbpsMVzg-IkUeg900hWIfojAHQ22CrBRNZdgQ7I7-FnifdG2XyDr1s6gfbMgA7OoOok7Tp07DTQK45CEm7w7FJQKeO1Ivb-bgwLoB727AzYgT8LQoEM2I+d9CeRbWQ9VKN97WQqNQFd4oS6ZK7I8PAgw-bkg6sBFkOGkn7yWkop7pAAHkgQHC5ZQL7UH3lKQ+WokHgUHLFc7nQSlfluHNmElYrmFYQ2aV7BaPbcHIH-AF77YkHj4aHQS+WFHxJhH+HVZDYhHtljWJHXeX4l7IYW7hlPlQ2vlra-c9A8b8HiHNHeFNoSlEHWHj4lHsHMndHLYKHjHIn1gGHDHoEOHKaVmG2HHXi9gFwmnBe8SUHhTKQ1JgMIHiH1JcnvFCnh9FaLoWnoEnYPHt5BFoQ5HQnw7qnek1Hq7oHGnRI+nWQTHq5carHpw7HXmr2hQnFFnUXynxbWAKXLZ1Jzn4XtHrnI47nQ6M40X-xHoOXoAfnpHdMaXgnU78nxXPHI2El4nWFScu1WgtbNJSlX4bAzzf7ESbzku8UaZESxuREA3ULMQ+UwosZnis38bsZDrcqx5LAzrur6UH6+SulKioE154WEbzgXX5AtbdjIe+bcu2HKWd7j4M2VQ2aFbBaV3hbUH7tQ3iw+Y1VpbKWr3-r93gIS3fr+YZx9eD0MQOMsQOuTX-xFrI19xMPRX-xXhHgkPtFOuegaPKaepCTOo2PUPkwqP6PHRH+BPuP8PLo5PugAJ1PHZ+DVlSP0J8PVHSZTSWQgw0JXhgjBwSPJRzPY7zg1JT8dPbPL+ixFWnPnxN7C44YMbgvCwqVV8TrQIHTMJFIs3fYZ4HKWrgJmxoeGlehi4kgdbKaWQjAum3MHCLK6bhQMzjS8TpnHrIedPjuJP9P32VluvXPrWDYrvbHRn3dHQXes7hvShxvpvUk3gKv0JXeREfoiwLKdPxWdPsXdmzWHL9q9xCztXXq1JCfLKqr3LgwBfiEjvOn1XfHgKEriwvn7XyipfqTMvOpdgjwrCajNawYYYcIAmdAiHXfW1CYdAYHCv81BgUssLA-PfXQw-M2jTHzCEffJXUNsNlp2QLA7fH6nf8gg-gsUQ6-6X4-y-W9YQU-Q-6sAJMQy0WQZDYE3fvf-fO-0-0gI-x3TTO8R-k-T-5-c-6rC-tcUsQpo+xZpX9vAN-F1GfwOCQCX+M2WzkEmAELY1+bfGcFLBTKll9+bffAGGCMDv1zUycBJlgK0DVpIgrfFgL4FIGSAwG96A+F4UIEKRZQJA9fuQPX4JMx+SAlgGk0WwnZ1WoAohtkAgHf8DgzaYchgI4HMMEBBAbAcQPYHMDkB+cUgT52lZiAeeeDRQMWF6DbokenEUAgL1dx31-epUd3ng094XEme0vN-v70S6B9rMsLHnmL0fCDBtBUvUEvPyIHeBvs11HrsnzJ7u95yTgvXijyUFC83BTgSgd10FLLBQC-g3QX5UfLPN8AWoHusGSOwUREhHQEbikEXaaBAWWgRwVoDMCwtHyf+HgVIEXCsF8hyQsciUjhJZ5rUUmDQRXEiF5CdBnxRplnzQyRCzA2wBYNSW0GcDIhy0DweELL6dC4BhQF0H0LGF2cQhQws7oKU+b5CphHOHUJMIMZ-lPitLVIYSB7rN92yWQANt9hkGUF4e1JDGhIMQzq9NYowaKKwm+xxs-WUYe4TCEGBnMFooBV4TEODyGAZScw2dLmnzQpYBh7gsIXML0CvCmhMHObo0FkYn8hUHw8wX5U8FPUl0eaVFgkO2HpDYWiGRpnsPsCwFRBNJcIX8L3TN9CAsxSHrDHKHxE-KIOXUrEAWEkhm+FbRgY8AA6ydV2r-ALnfUjwVs2RwHDkUBXfKGdj0G2SZFwNKD1Jk4zfCkeMxA4ogqRduO+v2wLQMjBR6hMof2zMCeJAQHTSUf2wxj7DQAEpAABJ4RJAAAQXADgA8IAAJQlKQAAA8sfWQApZTid4N0r8KeFk4qRgw5wV5Xh5kixgMon0e4M4HMiZRRzFNt6KBFOBNhzI9QPEi9H+gvC8Y0oDMihGKwEmJos0ZaOtF2jHRzolMeZwjHJsMx9AEMbGPh7MiZBMoyQHKIlgxj00aCKMbQDsiiDvWgiSHumPjbRiZhfouHgr3YGupsBhddnNoPcDY1YytbEMFFFuHdiHhJMccRtwR70CnA-Y5fh6NrbziAcFY4gOuLNiGjyCq4P0CQAbYpYAADMtjvANRGIYsWeGMEybJM8GBwKgveIVinjBIKWI8dUWTQNtNSPATfGtG-Hvit0jALwk-BvHdJ7uSPYCY+MLaUAOgCTakjqLSLUlYJSTeCR0Ei72DvOaApOHYAOhQTQIUgGIIunvGKiQ86EuZpWAQknF3Sd41cHBJokviGsd4ffmMEYjqBX4tvOykjgd5TMscMpBvJBMx668qJGCTCdfQaRWtFg19KkvcXYmSBOJcgV+EX1knH9Qgik5Sa-FtbcspJ1Q2vvXwE52AOJXEsiTF2b7Bgt+I7ZECkzhh4V2eixT4R1yLhaSzJA4qSk5n4mVZAUa5JdmUCR4Vd-OnHHEPQRa7p9BcLae3G7xx4dEGeL5dceFN4k4gPAwo4zp0CnKeIEhzWKckRDckqSseRgsnmnxSC1BnsNXX3oq2z4FDSKQwEyUpLMmqsPUQQOqTIFMkFTbWO7CtERGymyA6+rXPyvlO4nUtm+KguoUmkRgPs+e6gdcU+xd7u8YphPYwa6lMHP4HBAQoCvlld4y0DeIovDgRS-AkAbSIIrwUVNQKp8YRsI1zolODJ+d7eZQ60BmkHp4Bkar09JPbgWkpZk+8UpJEhQ2k8cvw20qwXtOD6ApQ+x0pEThI55rCbA3g86b4M+TPYkZWFVoYCgdY1DxG00uQIlPNxit8sVkgnFIBJh-SzBoJL4i9Lel0wvwgIdEdJEBCit2WpHCVvCShkS8Zp-0kCtBSLhHSDSJ0iIU50K7OTlEcQqFrTJ7qwsaZaQjIQ6THjLtFgAszgX8TaGlC5e8smqVCmqHwlVBSwGYjSAfbyyE6gs1GfawWBlDFgYHWwRjK6DjTdZlAfWYVwNkbTrAFM5GsrIWgdCpYWwHYO0J8DmzOBPMkeJDJdBqylhvVN0H7NDkG8IZwwz5oAJhkTJPm6sSOYCkAqNNJZGI+mUEMJT3jfAgWTIvDyQRpVc5a8UAskXvFGsiwGUDQCxm-F48AW5kirl4WAnXRa5BcvbLvGnBuha5XU0UnwXUCcS4QZBcopsOOiXtyJeEouLg3mjfiG5LwkcMMzeG+jQA8I0EnNO+Ghhsg32b8QWgIlAkdcJE3ILXIazjYJovMlEQCMqGFAA5fMsEfPN9R9j45aYUMGSKjAbyGctc5OdYBXleVAJXHU+SPHPloipZWI7gSbN8ySAzmDcgBEAjflbzyJtnXEQcJZFkDr558lMoaOzGSAbRiqAADJ4QXR4ouQFeMET2Atx34zOI2NmkK9Axxg4MDDF3FhjixRnGGAmHIUMLGmqY+JGwoBKcKGJrkR9gr0wXYK8F4AIsZaBLF8KKFMwhJkOLEZCChU1YgkbWPrEMLP5pRe8W2NIHggzGii0ge01NLfjNF6-cEJcLEC4M2FlCp2YONEHDitAo4oVNvJZqxkp5fC2eSuKXnQkzGm45EfeKkWri9xG00xbCDoZjBIF4IvsQEOQUyKbFdA+xSWXMpOLAUsijvl0EgHUMgU40UsT2MVjhL-F642zhIPMW+Lb53ge+XksCX35Py7AoJQ-lBgQK75JS4Zv2KiVrz80lsYQAWl5GytGlQtIEOArOaHdlE7SkgGlKD6wsaQhmVcGErvnNLqljTYZbkCzaZwzm85KpaIJqURAZR93ToW3JIF6kKWBwToWYBanK45eqompYYCdIPiWx32fBsGKTHpppmcaTZcwvu4PKfJhQbNMqJSzKLwu8o95Tx2zSkBHABEkRDcuQUgMh0uipgeeyBAPKjFjwQZaEEWC-YAOzYssQipYAiFAU1JB5YMAkHAq5UU+B5VEqAoVTWuAiD7AGzsB8LlpwY1uZmmqozCC0T86uVGCPmYh7eWy-WdIsU5KjV2BaX5SPHlGNiK+QKkFVPmAnsDIVvaaFayNhVlysgmKpFTYBRV9AFVhi9gdiu+RoT7x+K2GoStBW0rqlZKqvn+i5lnQk2tKp0tuMeE3LWBUgGee8svliirVTq+1Y0ytUPK9AAK2QpapDa2qSYzqzNJcppUkq7lzCn1fauPl31MgWShcfQALSYLcxto+0U6NEWYhk1Vo1NQWIIW4qbl+qlWnGsDX0A1RDYQEGEkzmUr-VXQGeQysxChqxgwEiNXQoblAVs0xa8hUmtNFYLcF+ChrEIr7V5r7i34wtSzU7W+Ky1OICtffGlHI5LGm6KyCwSowOr9oH-FdbQMyxpgl1IgXDHXImKgYASPWbddCDNaKIFeukzhF4QMxGY1wEgHdd6D3W7KayG6v1RSBqzrUH1fQFdfDzUkvE7wPWT9aeqfUXr+ih6rwg1B0CgwugkCn9Qrz-W5UBYWTHXoet-UIRX11aikBQhYB9YQNb-S9S8XNjbrqApEk9SIDAxrKFBuy+SmRsfW0bJ4hQxyqIMabEbSJx62gF+szj0a8MvZfpQ0pqz0a9A3G9AlVxbKUaWBZsNVe7Ukimk+NpStIqxvTTEKi4n6kjbkCA3kbZl6y6jQuo02Pq9NDGkTNiJ4GgTwBd-XfukozwYZ6lpSkrKXAM16ADN1GcTY8BE0pAJBqmtjY3DvV0BONjm+9aerc0c4XNHArsFJorWMBZN1mgZY4PvVqbG614mQFBo5RsItNVG6xRQNiXv12ccQubNl2Y7tz0MRaUJQ0sg3QabNwzH1aCzUUpBEF+IvRYBTSSiaUhdWw4QSNj7IzTcO8RGSkBC1hbUVwIagMKBTBybhmaRMrQJAS0aYWFwKlDbJPh7pY2YOMeBHK2paXTSu5wRxjoxZiuNFKzfIlpE2KymRSgaWlgR3HfIxKRx2W75Llq+SwwQwv2Z4Jr0DDa9ngcjY7djICGhyhSnPAGmsMdbKB1tsIwEI+i26RDeKBUL9BqWy7IzQgaLMhqU0O0xITFM7ZOHqX2H1amBsfA9IQprp9bRQ4Wg7ZiySxRbitFWieqACJ0ksL8jdbNBtHGa7Vu+BaAAJxVA7wjOrasgoMCW9OuEgPasgrwbLRfAgwR5aR3t7EUSQBFO6XGmLqnBzxTvDnSygADkSulMGgHV0qrwsZqiZIroOW+ASpp-Pnd3wF10Ro+Q45CPOWcD6o7CbXAaTYEV0m6hdYGenT5r2o1L+5W1IeU9rpBXLTtrm+HiFoJ0DaPdg88YOQVjh9Lotd8tIiHq91Tai4ZLKQJApiBqrEK3gdIDSBnqtLl5BaV4fCAuYTNyWuUWQHamIBqqoyFQExQ1nywhRGAGe8etLShY0gOSBlAirrsBB6p9Uie5eXfPEBl7S2ulCGuw3SS662YCkEeGEqNCV9GZw2cIHGhJUBtkoD4kNgJktgfKUgbqt8Tau9VerwV10NfRXxr3p6ZiDenae7G2GMhwQwU6wO3s71foHlkoFfR0EH2d6RQ0+jPuYFn1a7GZI+o3VtXdp36v0ZzHNMugYCAG9Umu0AA7pkHNohxcSoVLdu1Jj7UckCmGc9sZCvawR-Y-FYDoICw0bEGk0bSykthxx0deItrXoouGKCKVXbYuKVhyB0BGI0fFPb9gonfDLYueu+fKAL2J7yheUJ7f3vzQmlK9THB8pZQSWsUiDWBtHboAx0UGmBVBqdfMGQMT6Gl6BqgJYhIN0HS4fxHA79pVoEHm+sRCMBQBs2GBXwG0RgK-B1yrq3AngaPo0TWm4TOBo8t0DYY9QmlJAZpeMvqUL71z3DI8-w04Zi4AltIG0UeO2gEh78rSYaFnqQGBUsBZ4liAwBaniOr8gyPq+I6iwYjaiGIapFMEGRMikANJKQQEJ0zpFhovCKh8gXqVqYYN+M4+qYM9jf4+Goy7tIMmEfmiyBIjAmQuqwxUO1MPDQIEwFWvNgqHxg3gMgRQlsMf9pjEsxDNLN8RXIeQ0xr2flq8k1kXQ0x45QEFYpbHQ0HqM-Wr1hZ67VjzzDppSWd5RATIloaOOYcgiWHX4cxnHQViYmPCDjax5rf4kwyR03W7xyYA0xy7aj2jmpcY8tDIE6h5E2xswJqXWM2AGI3hwVhsx+M+E-jQag4zCZdX0xAyoJ2YKjnBN679jlCKrQCY8NwnrA4IbiDlxQx4mWU0LXoDHtDTQN7A+JyYz3IdI+yST-Q2k+7SGo3YeQkJg49hO2PMnx9ExxgBwOy5goKjXJiWUrrNIUIoy8pqUy3zDKJlpjVR2k+Tp6UzG54Twewz4B1ArKatfclNKaSdKmlmEw2uFSmwMXlywWz2KkjyaNN3zRKboY0-fRZMjxwTmw6oy6dKVumWwHp8YysoxiJ7tTSup4XoCukAAdLAE6pSXjAWE+AJ0mQMQx-UYaHqCtKrqBC16M9OVKoOGcgWRmU20Z2EXGYTPWSkzrqVM+ULQyEBEK85AdtSQbOgAAAXlA2sBxmWGiZxfSmYlM-bMagwDs1md7Q5nAQeZmYgWfWM3BMsDBpgz4EjO9nkztZpmvyaSJcRb4ppUgKaXSGGgldEIPAEWYaVLmqzfZ1cxme3p8hTSHgbc7uZMXjmRQQAA')">function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function pretty(string, args, arg_pretty) {	
    return string + "(" + comma_separated(map(arg_pretty, args)) + ")";
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty_query(query) {
    return is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
	? pretty(head(query), tail(query), pretty_term)
        : pretty(head(query), tail(query), pretty_query);
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIXXFVKBLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yfb9p7hF8MPjLQybbcVQn5raWtHHO-a5ZKemF2MdpJuUc706Lj2PiGqXQ5pgGbZz2JU-YDwvBdna84YJvlBb62k-rmJU5E1v5Pbwee65u25o0QgQW5VEh6Rqe2DjsWOi0fQvcYM2tcMHWa9l8O0O3GcvoYV7Q9hsRq+z2W+9AUzSHMjmbLshznOpXx0fINWvJ8lehpqiKG9BCEGnnHZE3AL5hCogOOamtqAKGNtQSsHsN7rwcJMKisQgqL1xHAhBNBkGe0uHPcBghSCXyAuRZ8-wYGpFyAoQg+ByhEL6vDZEGCoIxHfBbDIxU-5rw3h3fAsc0F0ABgnVc6stAiGWlNA89Apb6AkQRQRAdTqSDIKHdhB8I7TEgTo3RRRBFJ3kYLSaYJ2GPiwfGQMc0RKnwYqMGkbBaarlKPY16htpFgi1rw2+DcgzqlDMsCiL5DRmWCKIqytl7JORcEAygvgSA-2AaAmqOYzi9QLMCUEDAT5n30GbQwstMFxBsS4ByDBIGFI1ksV2oB0iZDks0LC-DhpVBDjOC+NTCBhH3somIR88lLQKVrLp5DQ5FNrr3NMgDiH9RRm8ZWzhVYa23rvfaJSoKzVSJQUgtZCmDTXks5aaz-aBEGHvOu-j9ZHOGicrehsr5bVlsZUydz9APLOZ0aW1867hSyZxA2BcM7Fz+sUuumDaHLQYYktOhdM7go4SuIKY4NQBWoaDYU+g5oww+PNZgWhFE0wmKU6YQU2nrwPPiiuRLzFIs4L3DFkYwkNnoFSDpNL9oOLPBKUACdKWcpnLS4gxL9p9KZSuaFHjHFCoJWNHl54hKKiCnKmmiriBMUKKE6MCcKUoxBWXJRBExkEsruY55lAJVAy1Rk7VmTIrsoEA4CWGpGRPEBAAPgaRkNgJwsBAKGSfF12sBa1H0D9C2yqdlpF9RG9RdTh6NLYCuFpG59Ahp3mG4Q3Ag1LUzfzDU+gbyRomAiMi-K5msJcIYbkjAmEY2hmzVElrlXQsNYimuyrXhOr2mNRqQIO3FzNXS9GrbbUxBjaKzQuIh1Z37f4-SPqmmxjWCAyaly615P4CzJt2MtHUuFYS0V9KSUXgGQ0WtQht2Nspi2gStxy6l0RRe3RpqRVVyRZMShVCWW6vJeUhWaNb3No2ZdK8ClQSfKdRDXdd7yqGHes9BGi7+4K0ZmTCmoGrbZwvZBncGHmZYexvdR6yGu0XuaMmgKDqgEG07t3TZkKoKNhjr4RkDGhEiJrkxRs3Y9SMivfWndxGqahzYz+lQvaC3ZoHTk-FwaTqhqLfxsITF9WrTXmxgxzopEbtkZWUxijVPcBkxqCFMyAUBvmeYA2o8mO90wUFd2DAZW8uNVeSl9it4Wx3jhl5r7piWdozZlwBtXVirGls8kjZXqMkpRF8xGqw7-PJK60jH1kuJfRhl8jfzXqy3U4B16Vm6Mo0IxwOD2HqYOaBpg9LiGyMvUcRVj2onYqNY+vHFYlLWtVZI69FLvcdOpZ1DEaz1b27Af6+zMe016vKdy819z032sIaQ-+a+K5KWrdZgNxxVzhvbZtQ6uqoXGrNSUFAOAiBkDoG6sSQFHk5oLSWvw6oG0a5OcA8dXgj0yAIxiAAHyB8ZF7eyPuA9ACDsHqQnrPX6DVra0PQd+l+5kBGpXQsK2YGICQwgGBHw5pQPo9wxDRp+6kLCX2ABkNPej9EudnEc7JSe46x5N466jAfbMp2T-HhOoPW3BJGgBE3smdeesMtI3Ovu84SIGOYxakwoY59kyeynIv-SojG3HAuifC+yzpWZ4vOJG6Wzz5YQUlc3htyrrt-JzhAPN4NuXVvAN27tERbOjunvmDBjBnLa3-Pa9fLr8gePaiC53ML3be6qZi6AXH+D2VJebeR2Hj3jPld2k9+n-636AVJ8DyB-b7m3fWIVy4PPOf8+F8yUAuafXg9I9D+7qvOOI-66F0x8Eze9sJ5N0A-v8eOsbct5XhMNea8O6H9jkfKfGCu+Z5njvNfvdbV99IUAAAxSAAANAAsgAUWaIEae5Bi6gHBII4M1REH0HBKARyxtVDX6juQWSeByAyGDqzlIPMNINCjU6gIgHAwgjQ2+qglAlAvSjQIAYgr+tIaA9CwA7giQxcnkl+AwoqvgwAAAVoYJ5IYDDOtMACkEAYYMAAAGw6DYB4B75H6n5lIKD4DIKs7-AMZNTyBKAf5cbsb0BX4k7EDb4BxaTP4UC9IcGgBsagwuDkAyFcheDP59A1DIKkANLEC1C1BoCm7PapAf4T6Tp8565R4G69637qgP50CJ7Y58FqJByaJGFlId43DYhp7S6RrcAz4+5z6TZ8FsbOHOaPodxKFDDZ43gb4F5b6N6pD2YZ7t4JhzSmEE7mFRbX72IfrmK2GTbeZrK+ZgZt6T6K4RH24+5q6cQB5GwmynLmyWyt4zQmFd5mE97pEXrghLLWGrJ1F+Y2F+HZJfKaznLhoV7GEd5DKBAyAcx4j9GcSDGkBPJBGAYTGVAcykhF7Y7zFVIuJLHjG5KTEcw6Am56H+6pBzq7FJG7LNGpGtHjTX5zo5HZIubnFno67LFQbggPHcBnobGTZzojonpjo86xCJElEjBRG+5AJqrHpa5QKr5T7Z4-EN7Y7vowkWpIpvEd5RFqbImc6pDTpwovHiqNEd7o7544lO7Y64rrBHrmrCyvHwm2KpDJq15foVH6GhHNzOEuGXH84tEx694MaPGcQuYMYXGBhE7ghCnfHZy-HZKcaBGjFjEIngllGb7smnFVIgIzyzYr6gnJBXGR43ECnpHgiLzUCzzODCkeTGL5H1HinV6lF2hdpylm4TIOkM6qle5qnRGukeSVLVJEBwn6kKwslBmzE2mHpVLkL6DhmYkqmDDhl+nmCmqBm9IkkJg3hJmnayDnbcEtTXbtR3ZdSWB+4GlMD7LDRqwU4d7fziTsiVkamiQhGoIOEaIhzcDabMbkhBSSn0KMLMIbzggjboRsyOEdkyHCI9CSqUl4mKwMJMIyKoIyA1m8kpHR4WJWT9mLkE5DkRnmCqJjntlaKrkSn7GrEyDcAzHJnxKhb8HrynlojnlTGXmgDrG4nZLGJyLyBmLCwrnfZ7H4oHGvlHFNmgAuZuYHJvDeKPnyZgjgiQXEDDlSbozmL7nlmIX6CvSwXJHXEblYUMRWSIXWkpnlIapeL0rYUAUJmsnYXHF0aOBfA7zrQGZGb0qOby6Zkq4zknHxJRlyDc4cU9lZ4jA8UMXQz4DGAdxgKBxcDMaFDCUd5YQCVnSFaZKNjCEwozqsU-lSyMjUZlngUtmyVGAbYQpnywXU5mX0S8oUm8XcHqJLZaKyXPAKVxhr7Z4qWMQfmcReUarOXqKuUgnuVcV2heX0XY56YyImK6WnrWVVidAQosDrAexCUhUSmTRiAk6mVNZQL1kcDrTZWniJr1JYQuZeU5UfTmWJW1zJVSW9xvLAiZXZVp5QIAA8TVhVqgBFeoqG+sD8kS4IAAKjdEZXQOxhfH9hak2NqdQLUM0E-gANT8qGJ7QkzrRChxytXhDLXIVLUrWGIfDrWIEyBxzFWTASL3yPzDWjUyDECORkJiBTVjozXTxzUQHX6gDLWBaxBHUfabWVXPRQK7VWRfUHW6J-UbWnU9UTBgV5RLbJZp7RZIiRVTSE43TYhpXTBAJCaA16g2XBmxgxosnbU-X6xo3ojYg-WFBFxMUfY6UKLsVAyoYqTvxNYs5K6k2rWzDZ7nXU13zUh1qsnbU2h2jnWSb2orADhJws6aUEm4gxWM3ozdpBYDWbhI3X62RPTlANLqLpLaiYqcJGi9peWMhyoVWSpE2Aa41+WtXrwuUjloR+UFLhUS12ru3KmBhJzo1ECFInZVrZINYbaI0bY2XI2xAMWVg+2Y11ZG15jY642tUE0q3CR84k1mUs0xDk1R2U0eYRy02SX02K2-lggzKUZs0fQc2IkZ2BalDwRK7FU2WZ0BK41EQZ2i1ZDi0TqgA6hSrYoy31ly2woK3flK1FF+gRLq2h2a10Da0iC61nQpJG761Ph-pkoNCNim1Ajm0mWW1+hBQ22yVOX22BWO1XjO0MQBVnRWKS0e08le0U0Y1+3TRWZnbVoXY8GtQ3YdT3YYCGWwIkz4JIIoKhaiIZlMl8nGkWIOBWR4KILIIkUuBwMEIezwLTyAmEo6zsLxlgmDA3iWJWaFSAPwMgPv2MhE7piSlzDIWxBzCrjiKRwfEcg0MxAcj0M6aSkYQsM8AbjsOUMfFHzcNHx8OMM7gaTMm+rIVknOgMMNCSncSGAX6+DIUKNKMyMcMfGT0sOT2xiyNFCSk3Ak5VIsCGDDmGOqDGONQrB6OFCSmLXcOxD6BqzcC+DhAAjerfzLXsagA2OxCSmeQOMxBOMuNuMeNeSgDeO+ODIfFwjcANDBMROhOgDfyQgRMxBRNwUQjACBMGDOOJNerJOgBgCRMaNiMACkOTCTrjBT38ZTaTPjpT8F4kDjVTSTdZUorjjTEIAAhJKC03k9U+44U700CJ0-w2I21ZUwM206AB1TEGM6I-BW1QCIE60zU7M0CIk10+CJ6lMyE+s96vMxk5KZ6is3E4UGs0M9-Kc0c9s90zk4U4UEMzEN07ENWemAVL2sg8AywgWE5YCCuG4eEQMNwN84QhvDiUQ-AiQ787FPgCwPgSYFagCysEC8iAU5w8Qyg8hTXpYhk0UGC6QwWDiY6u8AIIS08swC9UCETpKWirUMhfS6mGfatZk+CJAHQN6MbMo3Exy1y4kvi6y34x8eYwwLAJACw6K+K4K0K2y6K8ftw-KzK0K5KQAHLkCqs5PquqvN0ESfNks8BYs-PTatUovTBosFNK4rmgtGuELAaQtfO2sezTZnxmsNAWtDO4sXiGvQsoOUsQwkvO7am4JOuwtYMwOPUbmwU4IMDVAMBqikBLz034HkDVi1okyaB52rgUtoMcBSzszaIXoXxRtHBFAhZ-HxiEAM0l0eqcVe1qzSIE7F2KIDJTwbr6AUuCJJ3g26IUsmvt2tvroiAduhuCLwuIumAQr80+tAN2sl7+XKuFBD3aXNtoWEO9qaViBfDJWmyj0l2CaVvVuKJpjb4Qv5lXZtS3adSYCGXQUUCmAMCFwfDlQ3CkAtytY4USP-abg14fsXVtzr4q5-s7XX4MD7WQ0nVxy-uwxMwcDfqpqel4NAcwckQ3lSYKA3BpxqJaBM7HWE3FHyHKDKB-YZBDT6BGAQJEdJONTLX6CX7KAs7ghP6lBMcC17Vg30eLvOhMcyl4foWGuSCJIjTHUQITKidiDDEwHVMRDQSKUJgQdg3ggQhg30KYfGDYfhpAvFvmxSfiekq7XWDghoc6dwrBwKB0fkKfuxoY4Xz1wsfJq6Qgy4pQa2egB05YCoQ4oSMY43i2fhAg6Iesl+egAjPX7FDwgrilDAuDCuf1ngjhfGSlB3uX4zhPuxSvsty2eNVedalvWWnwyufucVoxBc6-S2k9E6x+e2BkQsfKfLUme4hmfRcWeXwtffpg0edFBP7gfB0nyRqiJ-M+b2nBffWrjddg0NdMBkDmc17VJVc7WdeFDwiyRkQtLxBCeSSgjIUXw2uCeNfTf-tOdU7ppZdtwNcQhcO5pQZK62cd1te1yTdmfVepwQdteRfX4ADk+1F8inX3HnzQEHANtnxn63uIhcpAcc4P0ncnEDLJZ037zXUPXHq4kpQgwge1wQe1DkOkVkFoxYe1+yHA8IF10EpQ53SuSPd3lPAnUnU3pAgkCH5P2e1PN41Pk3SPYFKbabygGbM4nimsHgvmPSVn5p+XOMZsdnbLovCe3A5X6y8MEvLLsQQLXP6wPP1Amg5FAvxcbgenwvh3rNpXw0Ev73kp4X3xvX30glGsBv8sZsYFUP90n8as5ygvbgwvUK2Kk8s1Yv+vZKm9d5aejIK4HhfX3OcvBRCvNvbtRDbvxgBOkC8UGg+gjviGzvrvOvEK1SEvbtqqgfG2jHXD73WESu2vvmUekCtcNeZfbgFfEy8HKwzQXbBfcXgjxf8gmfdfl8CHzf7NcXqv6bGvfPDEjnSMyl+fTWSv0TO4A-6vmv-PHfQvN37pOfDfIM4-1aS2NrcfXfOJ2qmK0K-XOfZKvZHx5vFdUuYfv0OfzKlERtFKGsNGAdnEiSJAHvdb5ZrSNv73SuJvjfLQatHpNEhfhxIWgdpXouyCSRIV+O0FdEhL2ooQMv+hASXjeD-4gxJ6QAmerEjfhDcIBsAsdGLnsp49tI5USgPgA7gewBgFQQYPAI-6QC3+8AuLsQJ0hocqBVSWviQOyiBFaBMPR0iMHwFWp9eYFJvLDHf68DO8RpfCmbCsjhcIqnOMlhDFJhrxpBDlVStKDnoE5iYDAUAsIA4CkBlUxeQgMvBt7r0sUBgEQZuGP5x0KQvaFgNUG4jrQOM9g+mnGwtoaxZeLlbuulRcB2CjYjg+skyzwzqCdyDiBYjoL0GYDwq5dXIEYP0C+CHBEnQbPEI+w30cwB-L3sdwPB+9rB3gnhlkJiFQds8OfbgAUNZKr9u6OqUwbkPt4rg2I4g0oRLzApHV+gCgXLvpgqAwxfAIxNkB0PIBdCCchgUkAgPLIk0Zi73Xof0PmjEgngjPdNJzRmJT8DA1HPZC0LaEyIJhIxFYadAQhGAFh07VahsIGGkh+O1QYOBwFTZtZIwfQ7odwEOFTCrOowyXncMGEzD-+JfREnsLQgeohmpwsgOcMISHD9Azw6Ycjz9DfDvUzQ7YURBmIxEE6Ww1oTIBhijRk+pCfDp7XiRIjpEBKQIKdGE6rC0WEbWGj5RtKYjJo2IloXiNOgPC40kIhnm3GTQIdfhibfoACKuH9Cs2KwTmvCMXbgimopIxgLSMpGtDvcOIwSLCMmxRUCcQoJ5KCEooodkIXEKgB4MCqYJWMzg-wTIXVESdXBJlVrMqOvpFYO8yQ-wWBDvwah3ukogiiTHFC3ClRqgvkLMJgJkBGAhjfiMaMSGOJ3RtcJ2HcXCpgVeIwcF0aFG6q8RbRvolysMPtGMcZASYBlj21zg35Yx6PBDunE6Ads7RPo8IO91NrjZ-+Fg9MdrgtENt9M0oykLKOFihjFR4YwKoyMyGYQqA4QOnArCwiZji+VAQMQwFdHdUbwvEUEYqBvCZjFhioAMc6M7HBjmuvYocayyVyDj9hTtFyvXAWoxi9gDLJoR9g4BkCBR8IpxpZXTR5NeRyaOQQMT6BdwqkjAZgZVw4GohuAjvSsY73Cqqje0XY1zDwhcSMgRxSQMcXxG6q3i7RF4+gNwDnFoR7xng8Qc+N8Rvi4uy48AqPyKClAGR--Zilu0kCp5tx4E18f9DAq8ApK9g9WAWKs6vdS+DYo8ZxDSjkjcR3QNkN0CGEsZe0cmNKDiCol+B3yuQgdKaKCSiB4JvqAWoYGEEygXeRIL6PhMfEGtugjIIiZhPEH5jug4QFjuFwFrdArMG40AENQAASx+BgAAEFwA4AY-AACUhqkAAAPKqtkAQIAyvZTurfj2BWke9B+LoD6i6wdA7Cag34kFjAxkvMibhLVgV8rxDUdyc6MXHiBJA2xcWH5PZRocyJnQMKbZP8mwU1JGk7SbpIMnGTTJkUkKd5N8mxT2UAUpILBTImCjvJDAQSVMXsm1wzS4UugMQXhGECoS9gmycWH8n2THJsFWkZ7CRFAtlEPov7F6lfRqATAXgM8Q1M4E4xuplkHhk6KSAtSp+VktQMNLsntjnRLU44spMJ7OtFyf+IEAAAZ-UQCGoI5FcwZBKBPvKmLG0GDRojpisBwJtLiCXTcg107QMtTxCGiEwa0q6ahVIBocXM+00IbB2Gh6jbplWaXrFGoCQRxBWEeLshSwhvTgZ5UUGXd2A5gVAgkaX6eKFSDVBsgR05VO+EumwzsooM-SvdUOlAyTpIM86UxASSBAPYjkToC3B4ErAY0xMD3gnDdghEfprWTATDNJlwzUwCcVOEgMXRk900Kw6mbTOa7FCfqIshgDTLYAtxUB0fRdKZEf7khAogGKWTLJbhrSSJHkCoCQBECpAo+hAeiNaIVEPioIlMrQtLLFlOS+65gomKIIfBVCXQ-ddoGmIBmOychAGLEo2QTiVDPZG9WwU4L8HajGAFtFqV4K9kJgWALOQIYYlKAxiow1NZoOrLFnujksLAVIRmA85+y9UfOVpFmIIilAU5ss8WRggC7Fy5Z3FW3quiaiJVNUtQlWeIIrnC8wKko2NktEYTaw-gVov6WHXtHYzbBWooOQkNjahzdR8opcP3KYgDh3RIXdiRBBTr31VQdATal+LdFaj05Wo2uEBNiCnhw5PbSodCiZmngOErLPAJCAvkrg1Rwc4eS4LHnc495U8lFIBlnmhdY5foUoA4FXldie5NoneWnKSFbyUI0EVCFEJrmWiAZj8v0SrPSEGBdZG6A2TjEfkAzXakQIpmAAvmQhn5HeRMSuPR639WUkc+to21-kKioFoE+1M-w8hfzTqa8kMXuF-BmzxBW9dSNBIZbvdcFMElMa7KyCEAGFkvLyrWNCEdsZi8Y2IPrGLEyJpRncneN3L4WgtGFLlIRUzMIBDCixjbduf7EkqyLHgqi0FmyAfHoLQAmCoRVhD4WNj6csCdNKosl40LcQP8nsZ8NWo9jSQU4ooHYroUTinFsrTkdnhsVuKVEC4hDpwtXHlt1ccRI6SNDpLj10REg7vAKWiVEUjpiDFCtDGwk6wtZkYmvFrP45vTAimSugWSVZK0QsZ1c8RVLzYA0zfAuySshF3-6Ac7QOS7WeYBjbkBiZw0NaTeNrAQ9-Yi0qaaABAkqjaJBraGIjnaWMhkZjlVrOjJxhazeM0mFebQognFQJEHin+b+MmkOSgJbwNJb0U+TnDGAWsgJQ0EGUGjxBHi5ZdGKTGwTc4CE9AXckfbdK44eSqcvsrGVHKL0SEjcahNFEZpFluIZZVvmUkJSGAek6yAABlj8Zk5dH6kMqzSLGa00OM1P7mRiXJo8ioGrFyliJ3uXk-iVHkRVYqgpUUzIO0tDj8diVC4AlfFPUmgqIVUK9KTOEykE4CVZUyMW1LbbDtlEBU7cUVJKmErjlXXNadVNFHwgp+3K35ZDKSUcBhVLQ4nmBRjYsq+lDklFXQLamIiqAnUq8GtIKavpWl7SzGZPORXhUZpkgOaYqs2XLS1xDCSrFDxT5PLelFq+0eRMEhsr4R7UjVcnxXBb1vUCcdlUOwJyAiL03oBPpVNDgbLAx00i9LyIVVHSw19qo1QuJGy21uRrch5baqh6OTnVA8g1q0HRZAgGJr-YaNT3BBtJHlZAZRpJiCi5qHAMc8COOHe47xrVHsdNU8szW0igp1anGAILjXlra4ya0Uc0vLLeTxQwkwpWcQhzrQJxxElHOhlEESTxREuMgYEHmlwzGA3kujpVLbQZD0V6sEdf+LESLzGwYkoELyvLBCT91btLhL2mI4Pwks+651W6z0jiqKR3QXHpVJlWnQV6BLfgDiDfXZSqptI4cgnCwj7ruAvIm9cjK6SVSs1kmHOZQvsofBggHsN6XG3XUFKYsXzJVYyB2Vng9lcy8kNCmHVyKlVyKNlKJL8CMhT1uIISWVO7qNgINSWN6bSMfUERn1FE7YBkSOkfqFAX6woEVF-WcbpVgGlltDKOlgakmDGnLExu5GwbDajcqhS0uEDMrLpwQFdQV03WRi7EkSi9WIqzqCAlN+qi9QhzYH7qN1-6-jiZsqlmbGp9AZVIhuXX3rUNbki9fMoNbPQQ1-6uTCCqSn6TDJJk8AExG806TfNqU6FSBsqniaCm7mtTe8ErWAZwQGIIzsSMU3KbHg6GwoPZuQ2XSnNGKg1d5R7Rua2AqWi2IyBBVgrIVAW8kGVrpVhb00nSpYVFqK2kq4tOCxLcIPxLD1DY+BUBlMk03ecsgUyNDnKjeDdaUQPSNEUvMC6DbktLgU1CNuISTJaksFeWemTQ5zR5a5MFIKNoLDjbqRGOabbOU-JRkFG220uktqyVFCltaHU1CdoW27bIxK2uyntOIBiAhoBOW1b1roG-8rtM2gTtxFnjG9ztX2y7att+0XwFAQJT7U3O4o-aFNLgEbfgAxnzaUQEKftS0Ks4bbkdO2rHVagEVH1aRCHBHRjLm30BTtocHHX0kCylrbVw20ncQmgx0Ayd4iYroYjR1Ujji-Gs0iID2rU6nlyFInWIl2nY4TtiO0aVtoW1truRfWrSnClu3VogR4ulHZLzuWG8Pp-wy4Z0PDTKJed5aqlJ0k22GBTtCuw3Qtr7X47uRKEeJkkxF3E6LYkMRXZO2N1M7LduiNnWKIBSc7MeVkHXRDxUZbbRdJ7Z7a9rXj6InV7a11aKPdXIiqa59WSr1JZ0uh+thyTTM2qeURoXtb2stRDxa6U6fFl6dcShK3G-LXa1XepF8sL3OqT619DzrBCoy+oXdSIc3QOo90-qRc+AHHtfh908tNCwe7yvZXVgmB+AgO5AZGMpTmx-tZHRXrpuvCk4t28LVWHuyliDrQAs-Xnslm5CZBJdA6ycAfTdXqro9HIhoN6uMgD7iOa8TSFSxoBkd+aG+tgI5IFVYVZeoTfYRgMrCAS89sQZ+NgKQZUAEqGhbyJ9UWo17iu4IVfUPw1TE8bk1IAvZuMr1gK7YyaM+m7pNyc6wD8-Eft7rTV87uAaB4fryhPaNgbgLvVRp0MZAABOE4EAhIN9DK9E2qgzxE6HOrY2wcEaNwDESmDD+NIgvKYMPnYoXA9ZLaYvMKDUG44H3D7lZDQCSHeNaQtev7OCiKNOhzXD4JnKKAiGmDxsAHG1O9y1wXAPka8g3NvoxA1DbUjQ+rW4BEGDdSjZfZ0CqU1KDkhaJDVvvR2Ri3dLe+CjYb6F2GkKmBlPVnu70eHqlFZc8ELsmw19Ugtq6oEVBPBkAnoO8AViJKpCtBGQqfD+MwBd5hH0xIcYaJEf4CKcjgcqgjdinUKxHuWc8iSDvAKrG5TBIhiEN5B8hhGBlTyuQkVBiB1H-I0+mo+zzT2tBjgPdQ2ixAHD3qyBFAqpEpvDQ9HF5bAt6aptM2Wb-195CY93QHDFHC6iSMo-cRXHox4QTsowwwb6G1G6jPkfdfpuoE-xDj7Rv2WxDk0rAaj4IQ4wAah5lJnEyLe495GkO7GFDNBwUb6rdWar5x6iXqYYi6O665xF+xQWR1aD36DAb+pqEk2mh9iu9Kfb4jAZ+UUjDx9eeDZZKjJCBDAjkAHDkZiUoVEjyR+1WnzSMZ8heYhbI3QBaO7V8jViTevxTj1Ahf+WB3XZCegPrRvlRetE76gxMEcaecKCIwoPRhKCi1svJk+ojA0wn-yQzeE2BVFJajSFk8qinQKwiQKGI-HABRPOGheiLtIwL0Wh21PuY9TdAm8Iad+1pydRD8nUy1MjFthPAKC0CYdqBSSLBgGp3lHabVPppFTwc5U3JWwrhyHUYRvw-oA+7MD9AH+gADpYA1pdHf1UwHIEyBgg5nRAxExCYYI0I4h6-CseMA1QQztq8M1eMjN56YzcZjlQTmGPJn6e6YrIbwBPC1wegWEes6AAABe3rUADGaKAVnEznsFM4-vTNtn2uEcbM33hiOSVoBJwVCAGmxPvA8Tm4cMwmarP9mBmV3MRp-isgsA9qygPauj0mAfc0weAAs2nsXN6zKzSZlcy4zXPuG9qW5rcrueJ6jn-IQAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:teal"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:teal"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:teal"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:teal"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:teal"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:teal"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL>
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-stream-flatmap proc s)
  (simple-flatten (stream-map proc s)))

(define (simple-flatten stream)
  (stream-map ^??^
              (stream-filter ^??^ stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map(...,
                      stream_filter(..., stream));
}</pre></div></div></td></tr></table>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:teal">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:teal">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:teal">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:teal">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:teal"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:teal">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:teal">
	  (figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section <REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section <REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:teal"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:teal"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:teal">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:teal"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:teal">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:teal">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-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-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULALVi1H7wTBpgRQNGHQGW7+C1KrqOgON1Q6yVlA7WFBqEMCE8QIhjXUhiIXZLtZreHlfhjDC8E+DKk8QoIdkMSD68YhxLWWkEHyGJChsT-HKAaDuAl0vkAQoISEMcBhDKhmrAkrELbAVD7AoqZIY+1SF-Z0hsyRrjtRqH51zUpECoYoG6FJDShHwEYU1U8FFDF07WcEm8iWHeD8A0wVQC7UogRcnyWw+QNpHtimBEgmjHIQTRIBnYqGbyQ4QY06AnCvB5wxIO0NtQbC9WdiCJiMHGH1CHgjQxBFdHZKFCgW1vBYQFTuHHCNhzw7wfulOFAs1hWKfuv3kggnoJEGsD-uKBpygDPEbAi-j4hf48D00f-OAZFysDCCvuEwH7mMBQaADEEGI+QPwIUH9Cjh64dyJZRD5qCr+F-c6JiMZGb8EOe8XUPcMsC2B2RzRIURpQZHyCHCUnU0hu3wC7puaWbFkNuAVHLxuazHd0KlwlGgBMRegFBqaQ8LCg+giAoUfqLbC0jX+zgESGiORA6jeR0ooVrBAPZmiYmEaZ0btD1H7thRbI4Ps0TnRmiMhZoOdHqKDFEghRBoX0dX2aIzpAxAvUyDOlDHxiNIPhIVqqMVHksPBcqO4EJypTAjPKvdEQiVTBFzQNovhZxA50mA5BMQ7kBTmhDrHzBNA4bHUeG2xFbJkaYowONN0khOwIxrI0UX6MUDNipRDY2gNPTKEaRWxJIp8p2NSiFM1Rdwclig0+GPsaSOY8xPmNnG8gJIf8AUQzEIAOBX+edakMXnkCasEWeTM0eWKqxWdHhZwwLst0C6RD2xOPJ2FZ3K6Pj0uF+UkfvBEEa9pYfoOxJUToDwDjxtgIbo0FPFZZWBNtQLk7FjFnjHkuORAYFz0ASNsmlRQLgshzGgAeiAACS1q2AAAguAHABa0AASj0UgAAB5Q2sgFkiKEk8+AMwA5zU5p8KEfYywHyN7oHi0Kx4qCZGL1a3jZ+NIIdup0wQCTWRQrW8TIEqCjj6AqjGSe3DYn0sJJvdfCYRJIlkTKJNEuiYpIZ4iTqQYk9iRJM4k4VUOt4qEYZPAn3dIJZk86P2nEm0AbwGwzAQwVn4qSBOpklkVxMdFScNhZEbYVDToSYiVUmVPYpWOTA1jPJaEUKfnxyI+juJQY5idGJineTEpjo+bDhKZbe0SAznWSAAAYlCA0XKMeDLASRRO2rfsJQEQTp4KppIPKeuCdg5SGp3wkygsR4BITA0LUgYI1MYCqNdspU9DD3w-4tT-wUuaqVr1Q4iEimnOEQmNKqlyIapT3Bfhhgd7tIqspgBuMNP+B2AcoEUCqU1yl71TxpybdyDVIUK3FypmiU6eChqmt94eVWbIfcGPAyAUwWnU0FmkQGScxEtXe4ENL37oCFphrSaW0QebocmOUCJ9s9NsCvTpAKYUwfezmFsVTAL0t6ZYL0Fgz7B8HJ8jDLhkpgcp14t5BMF8HhdpwCwdAcSK-6iwBoeM9GTKKx6MDvpEce0FKS1HEMKGdwDoCzNMizQc8ggrQfLBYFPw2B+IyAUeLULMFuJAso7oGlKB-jKRmvXkqEAVHyxeSsQOmfDP37iyr+mg6HhvBsGRwR8dHc0aZFCCayEZf6D0oag1QJpUZsM9GXQTdbjhYgqshwI4P97OZaC9s-GRqxq6WiURnEBkP8FWks9Le3E3pF4jxGcCCR7kd-pzP4KOj44-sYQZk1p4XcAexANYgOOjHayb+6g7keOInHhyk5WbYHkzJmAtERYzpPAMPDrlWxcRkAsWfnMJEtAoyScz6SnFTnq9FZ0sX6SQGzlijQ5RvCcZyK-waCTQG8KeS6UsKwI+6ARYeVzJLn-9P2Qs-2CTIQR2BDg7cqmY6Xuy1z65oPfpOmPVGZjV5ScHoDrCRF0iE5vPaWd6Q2lvIB5IJHOSH3yDLd8g6PNsQcP3LyiMxMfKIBIwXEaicO7M4vB-KGwGi+CETOwKaPazKisYAc5wEHLhAhz35sNL+bPMfYIDK5n802TFCQU6hqSqChrp-NhrLdQBFVMAHXOHgwKdMu0d+XoHDRocGFkCtsM-JARDyAxQw50gGKGxhiegHC1+TGP7Y8Li56QWMfwuTEfBUxpDE+YuKU6Py94IUCqT4CYTQSvZcueAuPjUU3ZGWFUtAtjymAHjGQhMqTlZkJlP8Wp-OMxVEMCYE5Kuh052SyFJbSBXpRQG9LDEQqkMrMji+3giIZiJ0JQOUg6UvOHEZSpx1Ml8aJCmDmp3IOU5qZ0DtIkY9pCwQmUEmRpCK5xskTOEIqHnhLIxAij4BsGMWxZYlJCQmUUuWCRLHSXU3CFku3E9i-5p8gBSyBXHGjSYoDMVjaGsUOZEYdQ+JYdIEVrizAG4uEYoAaXdiPM2EswLhIIm2ByJu4AADJa16JpY9uMVIYIsSHKOUo0GZIjmodeJR4iYCePskoNhJx411LsskmWBpJDPWSddIehP8lJlQa5epPmWLKVl4AfSaMEMlXKKpeynyeZJ-EBSV6ldIkJZPzHWSIJrWeyVUp6DbgcpLk4ES+CDGQrxls0-RXcGRVwiWWNXROtcv2V+TUOAUu4cFI0gJKmqexIJY8tCWJyiVPhZKdsseWAqMpqYrMbXXuBYshx3SnTGyucLvD-JwIwKfIHJU9A5RAVK6KCvrB5CWhCQ8FWaCliVsnJ9AHleuBAQMrLCAiksQSoBVqqMWfKwpZlKXrnlgRRMrFPSi5XdL9VGXU1XCKOk21XQhNWSO+NI42qHJnSrFuX0FxOqSACsrKErLbBwhOVXS9VTar5F3igWpDX1QsF07uqI17w+AakpOU99XRdik4fqgQkeYbZJoyuVmoCUiAVAXRUTiqolmGShGKq-1IwMMk995JPMkWbBPS5OxoVtk1rHWuV7PwOGG4IyGlLGVeCQ6hCdFU8MC5VR5JOKrwd6qCD5BUE5XUdSqvHWJBm89oR5iqs0Aliu1W056KWveGelDZD5F3OsKE6mBHlZa-ibYuiVSQzJTsEpbIFizpK0g1a48amqBX1rLuyNOCbJBbUgI7JL6jtcjQ3U9qWpGwgdS5CHX3j0uWK0QAupYCTrAg06vECOuQIVToNS6tngexylrqyqAGwREBrNW7qJe+6pPKpxaldFe1CwOtVJxUUNcKNKDYjaorrWkNVO8kitSZNoBP8mNKqljapLY29Ii1x6+SaepOVcavJbGjJTbQqDKrWN9AJ2BpOImkSKJVE2id8rSCyatJCm3SWspXVSbMNO1CTWRshxPltwuQRRQnTGA8QQl56wEsWpPU51y196oIM-D027KZNHy5ZasvjiybPlqy3sehoqk6amqTmgFZ6VmhGacgJm5QjDn5gbBMaDUV6PsLsHRCJoT-d7NFtQhxaj+Vss6KoyBypahAd7eLZopW6IYktqjSLSAmUoxai8SWyjfYpK3KcNcbuCrWluq3adMtdubLU9HGA2BKtW9dLVJ0Y7tb6tIgXKJ4CfA8RuVLWn8YjOMLKFot1Afablq3oJqzVNW+UlFtoA9a0Ii227HqztVeDSGc2-aTlo22oQjQ2296ACU9XWqUtJ2oQN-mICbaLtJva8gKrw0LJ4Nh1MltsSu3qrgCG2+bX5E2VVYKtAO6Yd1tO3Lb7Vq28cvzCa1F44dW9D4X3GwVtS6hkwuVWjDoQ-aMWIcHYODru0I6dtkOrwZdGe2RUyqIOo7Z1sJ1GgadpOpYntpeFNoPtRmxgN9stWhqMWnOSnYDqTwjaDoTkaUZGt7qkqgpLtOhBKsd7LBEtHO7lfzoYac6bQw7eFfaBGW5jI1d5fwGTpZBq6+1Zwnwsby3i2INok89IIzqBa0wWd1LdnW4CfCK7Oc8u-kcoVEkcM8B9A1DrrHQFSEb6GNKkA-QOTmqGY57JVpch0ZC7BVpUa0sKrJXi7FVv8vyiZBd2oIlAqfFmrgKUAz1PmNEPkSrugjiBjWMVAXrh3z0IKBa1UAjnVCFEY8TKd4V4nMUN1k7N2JdG1iHvugst4uuuvMeMoN1HN1l0gVnubuZ0zqm9CrVvVBht2PgFA9uzQMHp3bhwlCz8JUFG00oBCnYAATnfADQV9alDXQVvqjA6bAWlSNa-wNA+BNAwK6XT+zxxvDs1WPcuSxCsCpECp+g4wNvptAQsIWVUNAN-tg1nchZtg1-YfoCF5MVAesqIG-uP0Ug1UAU-dOdCsD3gd8MPT2bqKAM76ApUBkNJoCX1daVKAQwPX+DcVqVPF4UWuMWuJ0vDZRr2uEZbuH0yB3FxB58FVGx3i06DRB7NF4qn7OJF2iumCMQHg3pl1w5QOEIYxxGOqnYtbC8FsCjaLtTxhoFPXwfM5bFXweKh9SxGQiMAhDYtUAJkxOzqjB0f3N-YdTvD3hF2oALFtYAUNSQ2o4VVuqaEMPStrVrodeM4Og5OD-YAmoTiJ0xBma0YThv7nRs0SkbmNHGqTQfkxZgH-Y6hzQ01G0Mds4QdwfQ8LJQO4G1KRh4w+1BVXtgfDYwaw8Ya6guHneTgvdT0EMPbh0jte8w6lAYDlG7wv+5I0fqhFSrhVYqlMfHt5IOGw18Y1PdsHT1Dic9eegvTtV0ClDmDfR-eNmNGVd6nhdiXZvBz6jcHuVELOsYoGLkAAdLACEpXrZphO+ALor4zsTeVoqgkUyJ-tpzxHwstEBY9aqWPqcVjE49Y5sZlX95PDuxwFqeN2iEB0y50DLiIU+OgAAAXlHWMDrGogWxl43scMSHGAT-kehKcd0MJGaWnB13HbGGB0BjwaqHKPBodWiRXQ4h3lXWykPXtAVch3g-Bt+LKHyee5LuGklGOugzsEx9XVCJmPBbsytqewlkRiiFpriYouVLqPkCSBwmG8Y5tcx4PdGcBB0Ok2Q3ZPnRITBAMqsMdr421MTUSVVnzCdjbhzDyp8gNECU7KFw2YwX4OoZfLYmpIWp3sXygrpanHWfMT0owPxxanX15Q1AzaDKO174YXRBNMMxyhjbrD3q4ow2pxN4n1VEbQkzIcsgOBSTih2nBSZ96lH0juow001P9IWGyT5Ruo-YdRY8G-Dyvdw6Ws8OlBRO2RocY6Z6ABH7gQRzjSEe43uR+c2Zq6KUaImZGxOeUBNNcUxGSBSiDgNAHUf9MfA4z5Rsw90tihTLqjNR7YnUadMpGQEjRjSAFJaPjhJdhCDozjsN1BAxTVACU-0dlO2B5T-PByLSfpNeB1xUxs4cybANOCgg+pxMyjELK7qXkV5hCjeZRIPSbOg59VSmdQTRBjGeAMEzsYhNjV3mx2AU1VFKDbFSA2xclsgzwCVHGlt2aIK+d-NkQITBx-VsBdpygWp8EF1Fahe2IYXac4FqqJBf8A-mnjPEcE28dJbYWa8eF4rFhfOiUWQLYFui8RbACIXXjvjBi+haotCUCLtOSC4BbZxoW6cTFwiyywQukXtjSFii0JSEs0XwL9FoSvxZwuMXMLolqC6xYkvkWOLMl3CyJb4vYWULnF4S6pf0uYQgAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJFplCImIIrvI8EIkhbMC0JvNRj8wlJESUEww4iOEGNaUYu0bis5TKAfQbiqIfgIySSk3p4TpEDJXsbbgxkiioK2dQHZC49lzOcJM9JKgtmzIYEklOp9JGUMDgwQIMhkF4lqXg159yGCUkOYGX5-zkGkn4VMt4-swWdGiSbChCZoWVGQToWmXShZtFrI4fOXyll9OOUvORZyUHGHaPvZQxAnn80JjSwl9K3ZhE-j8iu4IWV0oZdwYOYR4XPN5US0ZVBiCbwKQXWI3ye5tNWf3YFHkqikA+OK8Z+9UUcvRVta+grlXmCCTOD4EqpXsqEtdVxxshXmI2akSVmhcSirZQazlRy0gZDobauuzyvHrBNWMyVWqLXusDM7L1N9rUywmOsv1FsuReFCdMnOpcKWDKpeCdgHgvCMs4oTbNygk2LMcUXJBWbE3ggFf3YV-NC1eCavgJpyanFRsVXfONXtUgaEICCbkqJIWpoQem05MSUE9r7VAvNKrH6zOSfMkJJaU1UOcdGv+tbOI-TENKklpbKEmI6YalwDkR6kG3foIgOq5XhsVpGy9R7-oHnVVui9hAr2kvlSMe9G6PLGtPee+9YaXA3m-dDDx5hBE-X0Hs7uN7w4nLBHsqyxQcF02zkzOQLMoBwEQMgdA3M8QAI8uLGsErkH70rJaqR+KRZiwljQI2GtlKlGpMbZSzRnZ5y7sx4EVtpIkLKewo+Lc26507rHbgFGpgrA46kJhyioHcedKUEjC55M2MU-IqT7Hh4aIUwO2OPHVOnVRsI-TCyqXaedLJkez8N4hsM8plop5bPzPs1PcjdBKM6c2bNW5c6DmOcVCplziKbnOF2QEh5i7LNeekyZYe9S-H3PnRZpjTnCbZy3JkhJOS85aDVV3fCelphJcbc2iTFyrxWcVDZl1xL0vBecz8erRgCV8o1cGqeO6NaSbiz5hNOalNNeM-Wzz3nrPDx6UFlYIWfjTdixN2rw8J3UH7Wl2WPGJ3NNUx0LQ+hs4BYXdAiTLQ4vFbQr80T6MClbp67LPrlH4sqRaKQcyyCbJ2Qcs5akvgp7kHhl5Hyu2JWoZ3oQXtzTkTcDu0JAc0cuoKHC5WRqWXkSTBxnuhM233mI+R6jx+B2HAw7PbanMz5-jw7k4oQg+ByhvUJ+j9aMR3zJIyMVEH+3DuNKhw4KmVXYwIyRkirzB56Cb30ALtCh28ufQKwU9HF2SvTDu0r5XRRDsUbF6-METOgL+moyM9+QT2fPdmymuxtZwX0CRmCE3bBNurmaGODUYYKIvkNGZYIRO6BWVsvZJyLgh6UF8CQIHggIdsF8DVHMYGh5XdFjd6DATDCPeZ0FE9d3k9vrN7EUoLs2ByWaFhTnX1VXPrPdnsIae1fOgT5b5JowK-nr2dXs7T3O2cWM2F-zKXAuLdg6m0gtZoP0a+oit5Hyivt8mMZObZ4yMT7BRC07NXlul-0EvqLI8HfT6k534jLnWuCrTzjKnYsFBOvxbSolFrmcfsDC70M5J3eU+FPof16rTWao8wa+-wki4N9y9A0zUHMbUqZ98X8KdMdYhGxgDRkZYG9GQLkgCn0QCf9tUIC4smJBR39BYjczp4Dg4G8McoIVggoiDjYG8cDydIwPdYwgpjNWspcNov8g1zUDVOBICswX848pl68HBd5ah9AO5klB9h4C8RC84lhzcC8Vxi8NwIRIRBC7MNQ4RuABDq5VDhCbxRCJgEQyJQA+CRVuRGA6cCEtEVF7t1pz9j8lUYCWd6AqRBVGR6tOsOCa0Vw54L8r87CY1c8ih88vULk1gId94U5TDW5+BNEiFUQFc0D3CwD-D+d1dqRIjzCYjtF3gBJbhGpmDUirw-1v8utKB7t9D9dyJoCyCH8c51NLDNN+4LkFIK46jYjypSlrZTEQjdNLFxRMiVFhtYxmidw9MNNYoOi6FZ8rxmgC8ApjD+ZRtE1xt1pGwedGR61ytmlY4mJGxuw9RXD0jojzMnDlom1fAKiXl3gBAVC3MNQmYgRNChDBg9iycajmsF99seda9FQhdwixZRd5AddbxuQ9RuAbiX5ahU8Z9cUpljMFsx0pNI4i5CYCD7EpcN8Rk+9jsisWCVgpMYTnljNd4JctM4scZGx0ZGQN9iStUG899sDyRd4BMW534aSD4Jjp90Y08mIgp0YD84YXNRj6iDMB8cYmSJi6ShS2idFhNJjviN8pSsi6TV9zsVxICdQYhwMXBu8nDmB0ExiNtT8oJxTZS6TWilSOTKs8Sx9N9dSQF+jiF2F+4a81SGSIo8B0NmYlBsN2Y8MuZLAiMIMS5h8vp4ZxDAdxJ2QQz+TRJciGd0l9BZc8k1VuAviZ8kSuUdwrlL86cRB4yCwq0WCkz5dUyzjuS7V41rccz6c0dxD+kR1dcrJchqy8zs5p1zAZdIE5d8kDtxDMUAUZBuAgUf0OzZ0edeyMyMVQQ-ksVBzQA4UKz+ZNcATxcQ0ZA+zpyYU5ycUYzQAUTgYzSbctUNyszUTawq1LjbcH18CDz350Y6zyVZEK4uSUEzyGUH03zrcp4Q17zJy9UVksh7yCSFjHAvh5k2p-jKxtcJdETC5KEbx1StTH01UZxIZoMyS4LP1BhEKh46UwLGoWAodckjTChyRBpFDIZyzzhGxKAw5HUQ9ILoKtVGRZjAzYy7g0KJioSbtxCY5ZTuKGIfUkLIZmS9QDtclnhSK4x91r4aYRyg9ckG8FcJLIgpK3ibw5L5iu9EY-itdASST+LeooSWB1hGpYKyKy194xBaKjB+LwhIyOA2obLTwZCnMCY4zOLDKKY28TLjBIKAjYhmhHLrLVBbLSEOUAAeYEKy5yzoVyv0FTN7b3cEAAFStj3KEF8EEDPV4ClSbEj2oFqGaHBFAAAGojDUiDY5ohQti7KyqUErJ6rcTCgqq2oarvo9QpjYxTIkrNxUr0qZBiBHJsqxBcqtUmYaQCqiqUEmrKrKBDYxB2quLwhyqLySryrmrYhWrFqZBmkXLOl+C+MsRRLlTZSjTyRcKvMA4rZsRzKVgh5DBTCwrj4BLOqHCDcyVPVXZlrNqVMrr0RsRNrCg8L8BwL5o9LVyPN8TNrmgJi05tofrUjZhr59qgbQBYanqiI7KbQ7R9qLjCgWJcCDAKM05aKzLL8GKIadd-8igvdNwJi-c6BLZyhQBRCY9tQqiLk4DclGR4C0LuC-QgpHrbYRKuLxK84UiCjMY84lLxbAZ8bY8CaLLKEKNrqiB0LKNdyTTSFTrSFepzqkRYT-qbqNaaaHqnquKjKabpKPVJDEa0I-rKw1bAb1cQawbGL9KQ1oaCJYbZT4b9U7LmrSh4JtoXLeoArlthboEsbwqqY-wOrY0VwdQVwBwSbIyyafDKaVzqb3rgbernrrZGbmaRBWa85w82St4aDKi6DowubdTpbPpeaEj+aGSGCi4o65a8j+LO7JaCiRKk8aYFbyJeCbbAxVaAbTaPYPTH4MN5BvS2ZcNOZuZsAkKEdqAkcaAUd8yB10cgNh400nydxocUFAl178d2yXBT6N7qAt717e0SjFNd7dUXATEmcPZCo8dN6Cd0l7jgQK50xy05gLzYg5hVxe7Chy0ORgGYgOQwHa9y0MJoGeANw4GAHuVA4kHA5UHStuUI1MgLy8G2BnRwHYhy1uJDBe1yBo9uByHKGsrFQSGYhy06boG6bYxGG-6sybhaKR4WBDAq1uHVBeGmYVgOHy1SqkHYh9B4ZuBzjAQAA+UAQHcq+hsR7lTySRmIaR2R+yxRwHHyVR+B7ldQ6YbR0AORgEPR0ASEcxmINRrM4ATRgwGR8x3RpR0AMAQxtBrMgAUicbMYsasZ8dsdAHsbBHBHEkkYCbcYjKlHOKMazIAEJJQomXHAn3HkmgR4nvHwmIr-G0mYnQAoqYhsmcGsyIqARNHomFH3GKmSmwmIR5H8mdGanAdFH6mEnwn5HKnuAihqnLH3HumOmcmIREmnH3HCgBmYhEnYgwz0wCp66r78dt72j+LAQVxikr4BhuAlmv6VmnCFmrieBP6b7v6CxW4WAAArEwUo9ZlYTZ5EGphBk5lHC81+vnC8C5XZ05-Z94NMSKRZl5xqfBX+pBctJ-YQC8iFjhqW0h7lSAOgb0G5ahmIBFpFkPGF2Fzh8JwRhgWASAaB3F-FzF2F8tXFgAUSQYpZJalvLQADlyA6WnGGW6WI6CjDmqRvmt6mEuK7npgHmantp1ydmgWvzTVusOWBAuXgW7S35BK+WGgBWBnX6Lxjmz69mQX-nwdIdcd1Wfm0dicRqolxCcdXo1RSAo8TpLnyBqxHqupNBJcCJpWGA76OBN5H6+dviVgt1jWjgigtKPJpxjqqaJdxDfi8yQ2Q0pce1wjEzRXDtLaKrUjnWeXsbo2wjkZnXDt8ArmbmoS0a1Xr7uXZWZweKvWGgM76LcRI2p5aYaKw4xAvgTK7ls7N5XD4xCAPbIawR-np6f6vTWYcMOZMAMA2LLyKBTAGBaUPhyobhSAk1FEHzPVlZVYTFF2uqZgV020sgbx12VqUEGB1rWMFr2q13ei-h755Ct3d3z2OAGEEVFAbh8U8stBPkFr303jyBlBlBcqMgyMjAYdv23GmZyr9Av3lA05wQSrSgoP0aGqZryrwOaW-QoPq132H0klKAQ81YFqSdt08PcdJAMXIhoJlaExtr6rwQIR6rmyn3jAX3hDNmfXMOQ88OJhKPrBwR5LjmiPcQCsFAwOz0l3JCt0AiYOC9dIEsvEK5RPQAE5lIP9b1XYbxRPwgdZr3L5VPQBMmUEUMxODBtpZPIzwQUM59x2v2Zxp3Yo52k1RPjJmhFOR4Cr1sQlZP5PVxONO5NcotUtXOhON3zcqOj2WO+OyABPDPSdBO1oMcNrVwSqj2JTRNRCfdzmsTxEtPYvYx4v6qQumAwutnV07Qs9VOYuqt4RJPlsQvcpQQLyt0RXeO8vSBBIAibMsI7PzcqvwREGNCK4Iu1ocashVP6usPQumuWvh5tqov9PwQAByI9rdSjubq97a9q0T7j3L2lUgZpTbuRzCuDSQz6FdzcbaHb5Dq8ctIQSFqyYINahyHSNeNwYsNa4fDgeEALkoHjkbgr-QU7gbn72sLbuO3L-j8bqrk7gH+J+O37z7hi073c61215Qe10thiXHDwedbPJd1bFz6BGDFcYY8J7HqdamWdNLkJGDctooTZhH9YJH6gTQBvNH+lNwNjzH97wKiQrjPH83ctFDAVU0pLrngJdnmIUyAJXcnbw+f7eGJnjHmDM-PA7tZzxTGDe-OA2dOGoEFcRLipLz0nnzg5VXmgj+9Hx7-2O7eKDQf7sgZ1P7ZgGXwJU3qErPI3w0CgjXv24zxB-H5Bg8b7x35n4wc30nOOkxAP+dJeWHEXuDhNz39SDBn38Ps3-9QwK92P0hSDmnu1+nlHvqCrwI33zcdP4+Snwoanm12n5HxnpP53yL1X0Hiij3vW45p3yPkPgKaA8-ZL1XmAoKXni8nXsTL6V3gmzmgAlW8X3gweKZEPEgTHv8nOEvYXn37abnhLOm7PRmgPH7Mn4DUPd87jt4W3ApeXvbxfxQtfzdhC5fmTV7d7JDFBf3b7bUg347S88asHKZC0YscqSgfAJqRqAMAqDYVheC-dkPv3n7Gdv+1UbjkANcw-9so45U-mR3-KDAj+41NnruQNj9AFATnEgHmQqAQJfAwhQwGyEIFUMl4hgUkGAMIZGAgUPvcgcQP9hUCngV7LCAjSBSl8pGwHeajgLwF-FGBJA3gR9AQh0CzuWLIoIIOYGkhry35C1v0C3pSC6BNDSMBQOkHCdI0pA-TlIKFjEhWBt-dgfqk4FS4ngNTaoAVhtiKDVBTA-QDoJYHiC-QpggZtgJEFEQgUB1EVMINwEyAIE6sK3sfQ-ZY5AwPgqgEjFGSBAPoOHPgQ80NaJ1fUS5XwWEJcECdkhGg76l4P05yFb+5gsgJYOsREDhCFyBGhkNL5ODFGIQrDvvHCE4Cohrg61BEOa7AVtKwuF1qLEpCggfyt7DGL4hDgN1+o5IVYsTDEDrEhhLrRgGhUUTUwJKPJIuM9DTgQsfe4bQYJMK4hUAphEtNgaELICMBuG-EZ6HSWehx0eh6wwGLuV4gFYdhoUUKrxBoZrC+h4hSGJBxkBJhagJVH3uCGeF7BXhV7AlJ0ETJ3Ceh4QH3o8M1LZDUgnUf4SbEWE6U8yQoMVh0I8w3DVhvQmmFe2jiKFeI8cROOiL96AjE+WwmZLsNCo3hMRXAv0DeEBFkjnQ5w7YQwCJH+8qADgqWttEpEFsCIg9K9h8JeGQssBc0DgH-0YDJDpGvFRQi4zKGs0vUTQjyGoBMANohA8A7SOl0e6Kj6A3ASXkiMl40xyS9dIkTORpAO5GQNIwkVcOt5bd3kdw6AaiHOQSDVwmo6YSgNjJ8QhG9udKOpE+EcBIWPvLIQljBr8idEXgnIk6L1Gm5dyvAPyi1ARiQil2k3baJiKlHmA0o1QyId0DZDdBqBUERsL-TSg4hUxfgBcqPRcD3EwIwYccPpAlGZA4OhgXchGJl5Eg24UY7UUc26CMhYxjImYZ9QhHdBwgMHFDHB26Aex+RoAFKgAAlyWDAAAILgBwA5LAAEopVIAAAeTpbIAgQrFYSpIDUAKi4ikIi4ScP6EFiyg4YmUPDB3HbD9OiYmsZH2VHbijRdAcbomM6ALhLRjMbjg+MyBbjGYpgs-kONHETipxs4+cUuPACvjJAYwioPDCvFaQbxBIu8WAMTFCiaxDAOsQClvFx1wQz4+gJ5GSGf9nk3oc3teM-G3i9x4hZIW9F8GbMBcPQ3Kgo1xIyii0I8RgBhOgRUTLIyDSoUkGIlkjBqQYpiQUiIn3DaYg4l7jKwcAFZGQAABhOBIUagjkP5BkEAHK9Yo1AQYFdHknW5RJ2gIEMJPUlyD6qeIdsQmG0m5ANJpAbjoTBkkmYrEpMP6NpKJ5KTIIDowvhCD55OTbJik8qMpL+57tdygQUQpZPFCpBqg2QeSSsXrpuTe0a2YhMpJYpDU5JwiOyR5JUlMRg8gQRqI5E6BJpkB5BajBCPl5NEMqdwCyYok35xA1JCU7KMpLZZwccRm4S-k1iwi8C0pGU77qrypGFBGpDAdKWwCTTX9CAl7bqi0En5K0DxHUrqUmmEnxiXAFQfAaEFbi48Ak9EUzBjC1FQQUpxAJqd1Ogw01z8uU0ghclTrtA-hKwh8LnWmDXRoyFyV-KdIaCrERhF0F6OMNyTQZiJVdRUEFBYDzDwI44IGqUGeFRggazQUac1P2HvwWAj4ZiFgGghXTqi4-D1CXiBEERSgQMzaavwxzqdkZPUy+A+BYLNA-pxgV6WxEckYzMeu5JYa0PeSg15kfwayWjE6DETGxVIOYUCH2GvQJhXQl6eSAHBzCdO0Ld6kFAcA1U6RJokGWdEOHWibRp4F6Um2rqUQdpUGU8KQQKJ4BIQKslcIMPul3TVoYwt6E9Mln3DXp70oYdp2LHqhag+UgWbtSFlOiaZS4NkbEBFn2IxZkM6CKhFREDSlhNsjGHrM0qj8a6Asd-NNPCKpAQkeslYYPVUrKzVZ2UyhFyK+E8ioCfsmGcug9krDvZ9opWtP2eQWzcQ9IwgHuF-ArTHJjw4zu6O+GBdS5no2-r8KyB5ydmpIYEbkjRHgioMechGfJEGktC4RtOZ+NTNrk8AC5ElJuSZkTLUDoRnc0WN3KpmPBCAv4PuVqI8ZgAVZkIIeVhFblydsRqQVefXPNzZyrZ-EEkcYIKIkjSQbUhoLvPpGxjD5NohoLGJPl2znQHI2-rHI9FccA2QZOKcSlAK1saBj5KJGrC-m9Dhk8ki+pcXARhjxEE0sASYgmkfk1J45SBd+NoEuI7QMC-ThdzYDpTfAwZc8uNwPSXxUFWtSPLiD8TCTgp5MdUTBLVEQ8dZEtBmQIHAT9BGAwkxkL5JlqKJAp0CCaTsXrq7yXRyBVcOfJNEUL2Jvue+W8DAXYkGF8oiaafJWB2iJaBkx-HQEFl8KS53I-Ph929EvZS8U7CHmQoIpnFN8NsJhSFLam+jJA-ohofoF4Vs4Hc7iQcSOLHEzjrIAAGXJYrjyxbAKSUPG4mbjhJfEyhfcLAFhjGoNY08UkHPGgTLx-sfxeErvFXs3xC4WJQ+kSUfyCk4hRxQwGcVuLgJi5TiBeOPFLxYlqEsAaRJjbIwBc8EgMYhOQlxKmRioIBRwCwleD4QZIqpVYpM7Pd5JzShoW90IU6tilgSwuQeNIkVCKJhReSTU1xI44SF8k-RTsyGUSUuJG450fJICUiLiJk06kK60ag7dTRuIfiaLQyGlKvBZEqgOMumDFzFGFyMpRm39hKCWCeEj8ScWEW7j7hbU8UTjliWvLthmy74kcoaFbKdFeynbnuKTGCQ6FoAVoI8yBDZjZ+X0aHuCGBUQ92aQQlwNCocCfSSxGoH3vMkvzCIQVEPMFakKvYYroE6A7rPsrjoAqcBWywWDWKWiYif54QuaAyL-gOweix3a+HGKwF-9AgzyxgK9DCVMSbCivMCQjCWgiqaajYZsUCBqXlh6xIq16Y2B-ZvZaSTE8FQqz0jtKah3QB7lBOcA9KcBqKooEVBxD6qEBdAI1R9ELKxg2uBE1UQYDcaqrfJM4DVakIuLQyp+SFD4MEEajaShVx4-RaFKOa3jGQ4is8NiS4WcyxVDK3uTBL2kNh66sqgWMeKQkKqUJCa5VfXRdW0ltJyQrVQRB1XJjtgr5bpdhKHo8B+A5qstU0uwml8sIwk7gOKNzUHx81GQz1WP1jyZz+YcA7ScEAFVgcHVsExBd0jmUirpZBfPteOuHXjc4BTEodQavoAPp51w6xdZavWi+r+VGqwNeBPXUqi7x3Co5tbHwlLr3gjITJZOOnFzjFxy4piJev-E3qgJhoxQkxObVuMT1Aq14mipQQYhX58QzdMIBiVzKEF5ILdf6rUm7rIx0a14PXU-X+KL1v47Je4vvVIbXF7il9X7ybVOqam8GtZRcSCjgg-11Yh1BTVxBvBLmhOVvGkKyDUbuO8BCjY9CrziFV+KeD8skhnCMaUQJ-NjWAN6lCU8UVbZhCkEo0JlqNzKyQnRryUqoEi5DUTaYGY1QLr4UmgDb+g43CbDA8m0oopu-H8aH0NQMQBKn9h7LxN341jTnl3IUb8AQUrjaYChI0qPoS7ITbZoHQub4qBfBzQoCvZWagpf6NzbaToBabq8zVZFTbwOwJEXNAWoLfzkMKpFPN7iM1ehJEBrVQtW3C8j5sPVjs5N1m5iSJsej2bFKqQ5lUJrk2E5St3GzIcEWyFyC8hIiAoYMAFypaocsmvLSiFsGta7N1KwrSUMhkNBxR2W3zepvK12b2tmm-LTFvVzxb9oiWm7lZCa0XkBtmW6ScQEM37ZVcfQ8FSRNOVjKreAuK5b1pWC0CmtIhFbUZt0VhbYcsi1cOYoFHgqe6s+WLR9xu2WKahqIl2XBwLwoQGg8W+6Ilru4pax852tLdwAM0SotWsJCCT+32xZS3iG+B-hnUbY5tdkrbY8vDwr7Z8GerJUnMSuOUxgha228ibtr9D7a-QCMEwPwC+iaQ9SNAMjGjT65t5KKaNDqNTF0ZsiN+lYcWTaM+zb9L6VAMaKQHDzrVnZsW8EFnzp6Y6GIb3NlsHT5EWLBRAYt2ZNk+3GQft0MRLWLqr7owAdpGLQEDpRYa6c+JBKSY2BuAy9aGRAxkAAE4TgQ8c3VQzu2BD6YzyO3c6lOU3JVYHwEHdtLFV212VScq6QOBcCRlxJ1tWIC7v0AzcZuVkNADHpNW+zKIScwoOHuKHgyVgLu8FS6wKy1DcBfcOOi4B8jDkk6I9MPTxCIEZ73d9NbgKbo010MtlnQTBdgsp3jw-VOOwFWAM82-bq16EjBVQ0b3a6PiuylFTDh71YKmAIZcHc8hr566P8dAIqCeDICWx5kxHDMfXVaCMhJejcaXrLzcD-C1UlO2ffwEo5HA+lMagwCjlICL7kWxsiSPMkcpbx3q4e8EN5B8g18oVEPVNUVBiDP7-Ik6pPaXqoZxsGuIK44KAGhksQBwGqv-gAJHhAbhCrQRNSriA0fzW4pAQdaurPWbEfuqel0O-nP2X6Q81+6lF8KnjwhrpwUChkQIhDP7vITIS1YIFgOiBqD3kH-WAYTkJ6Vwj+pgz5B26sF2cTMLgxo0rXp6hRNy05RcqvAk7lcG3PRXbKp0gJuo+2VoHuObUc7-objJ7G1OO1KHtlbUP0fLqsUF574nqt+UHgSJCBDAjkVWNUCKghqqQa+oEBvrt4A5t9ASvfTPs-2rVj94M7mtISpKA6QVAqWXbdqFGGGCN1GSQpDHc0fdwQDkDKk6LmjIjyAskaCMXniCw89FchqeAoYRVVJZKuSNvMzrUM1MO8Jh1NeKxp3Q6FpfQsEkzVzL+xOoDAdQCIA4CkB1ojCIgDtlAFJy5ZtU4XqHscJHMmZoAFmY9KF6EAOZbdShEzJNkQQWCpQBwMXXqM-RGjl3FoyVMV3TEXkhAZpA7JHyHDK1AesVUvz6n9Hl0WEXINsZal9HuAFx5pL1LMRZgu1zoRgkNO1DF6f1txkmWBin17KZulo-QDaIAA6WAUheUv9hQGZAwQATp9vMY6MMcaEKPQogX2g0D+WAH43or+PXiATEg4E6CbuVMB-+kJprv8L968ATwcdHoFhDJOgAAAXqq1ADAmigYJgk29ChOFGegdJ+E3pERPgg8DKJmqKhAOhmH3glhzcH8fxMQm2TaTHrlmSSNWQWAa1ZQGtUhaTAZuaYPAOibC3imZpLJokwJ2lPYsIQcplBAqabLKm3uPJ-yEAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruKHr-WRqRmBiAkCtbcYI1FcPZH0e4tce4JimlhCJ4QABkyTeg43cSOKJIMgl+MLvDbemT053ymkEkJDAwk2KsnQbeNVvoj3qr4PRLiGD4CATU6eRSV5322oHIxP98mpAtNQMQdBp50HCfzWxr44aBPIMEoalSIlWWGaM8ZOlm4NPMKssZYDhpNKcebIxVF64ZJvL0pM7jg5D0Ljs9Z7dU5dNiKckYN4+kaPZv436qRjRCBnBUZQXUyr0CeTEWZMTylLKmVZX5EzQaArnllOgdSvnmFhf8kwQKkX7OaUc6ZywXmDHOWcy5STrm70Lui+FWLYqsKSScnpJK7TvPJfU-eyRUgQOpYi1EoKjbxLmQs0JoIqmgHBFygFNLnAosLhKzFPLyqGAOS4vlhL9DEteaSqZwdNnstzm-Dg3LgWMDpdqhlWiLnMq1f0gZWyOUVKaiwchDAj6EECG4ZwqqSmCshSK5ZYqup6Oda691hhpW6s5oGp15AGDriXv9QwXqtFKyVbi1p7Tt7cEtXi1lqK0SOudU44Qvgk0Jmzeq61HzbV6qmiJUtJsIWLL9dCsVIkdZUGIOsmVdr+VJBdYfN1xAPUgvpTMxlmq7RkryT2qabxuKoh+CGodYaR1mrHVo0p8zfU7n9fjQo4I53UAXQuJdw7kURs4nO-tbrY2BFumugld8wkMECDIUVc0bk9qvSG4B9BE2jsfVo59r7RWkk-Xq79A7SAtTYJM4566EzAcqKKnQ1bOZyLaLWRwM8APPO9Y24VO6W3gmMO0S6yhiDdr1Y-YamHyM4amSLBDgZKkkbo9h8EwtGMXvquxij7atDrP-Wu2IgGy1MpzTxjWB4PgCc7WAmxTGxOBjdtx8DnN3Uzg+B2oTimhJBXeWEdTASXUKE0LiUjWGKN6fNQK6aiMIlGYpTO1IXVZPacEwpxz+n8NmwrZO7jaGTPsA8F4Plvb7VlKbUR9RVkQvKC8FRzmNH4thdw2Cp9IrwSpc4ydIxxmPKpYYEWkt6WMsWok1c6dNahmEEICCbkvKyvgqi4RuDkTwStQa0ipLnEw7XtDZ65r46iWVrVj2ueYhhPweUy4ctLLxt6oci1UgU39BECU3hjdOjEYbak+LGTM5JvrcIJt8r4mRh7YK+YTTK21t7ds4GG8V3d55u0e3TcrrNF2daxUkVrqrLFBRW9mhZA6GhUYbxSGFCUHfcDCgrJ4IZBJlqOCUAVskco+ELpEyLR2idH0FDzh4QrYI5iLbKaCdCdUBJysUohD2pCl-e8UBEzqeRPIZE2HFPUhYV4iktJCSsac-mkUUooO+30P4jefndNXo3hF3Ll6EvwcMOxiMWXe76ZFG2orrX2vYiw9F6sMVyO9io+q5zMNscOCUGyn7Q+cOXBYUPtwL2ZsgseTUCYLwLVGAWmLJ6gP2lnDcDI6QXERPw+4lh2NRsUvVAvqHRkYqKvFYQ-0NH2NFDg+om4Prg3MQs+w8wXfBPSeaSwcR2bjg2OrY2wxtSUutv7cWwEhDivKfPfmF4MYceMpD7s6d+9hq1jtr8+7y4NKOszo4jZN0UaUFGwCKBGlOfZZfBge6VolfYFgzjn0tbGaoBmiGEt7IgfDAiRtKH3Hv9AhuiMnHzT0v22Ps4nCKUcEQOT+gG6H423UAAAFQAAkABRBgAAQXAHADAIACUgDIAAB5AAOWQCBDNhODexkEkDUBajcEDz-XZ1oW4WH17xBmjiPmILB2N1iFKGn0oMPiGlz2cETRV1oJiGaGn06AXBYL-Wuyn0kBg14IIJDyIOH1AIgOgNgIQOQLQIEPECEMYOYNENRDYMlhoLiUDGnz9kYKv3LBv3YJWVUOcE8hlmB0Lm9BWj4PeGoKSFIK0JcBlh5j5iVi10510SOgLxUD6ASz93wK0l5Q8Msnvi1jB1IKV2mBwIYQCMINsJV1IJ-kANIAyBBlyAcH+kZAAAYsDC4ahHIX1UiWo6tutYpqBBg64ij0iJltAgQUjDVqjMiABqUAPEV-BMeotI-ADIsgBQmjfIj7UhVBEhBeTo4o+ragRrcqco4fLCb-XLLCMYrrSY7Fcom0O0CBXNN7QIDpEGCBVIaobIVIuBe-OIIo5YqY7KcoxkAYpYkolYsoiopiQueWEGRyToMLL7MaOMN-KnL4-GUofo4gAoiBfQAHM4w1C41Y1MfGZoIXA8MEgdDgsXe+BE14hgd4tgMLbaL7D2eXQIN4j4-zLIXE5Ek3V1AKbfBMdEzEsLToyfRaNqUIVpNxcEtBShG+MaF4gkjEok5eFYAcSnOeMEyYb4-sYUME-HLIdkh8MU50AzFI4gJiLMZ8aMAveBRBZ+MuZBJeME0g5Uv0LBLJMcDUbwug72ToYwM0zg9kHk2kthUuB5WsKuR8ZiLAaCCiF8fGcFLCOsAvUoGkoknE0UsxW04gQkrE4kkUsk3HZHKMA08ickQKO+QMyMr7c-DyBnFaJnQgfAD1P4V+IYlOBwpfU47BIuLU-vSeQpdkkvckAcBBAAQj3zwUghXCCgcCFFxATwdJYQ7gHg4WtMVFPH1PR0KE9P+EFM5WFNPFFIiANzwEhCXJXHgS1M1OYW1MYBQVnjYH1PbLvibJbIggBOlC7PTzVzQSHIaDHlYQHJQmglQm51jFMmPiIULIXhHI5J3nHNVLtglIqCZNSBBU-NrO-meFAEXOXJWCCkx3N2xwCl-Kgh+ITCzPfPfk6D3PHNe0Lk7JkG7Iz0ID3F-Fj2KS0QRxwVgtrxxwWkotR1tkwwJ0Iu4EIFJFJyXh53f0Itp3khaFfMZyAVzPzMeCYp4GIu-g4qpxYu4oWizMAVjTzLDQLJYuYrZFjwgrACXMhA4r5zmlAFSXez51Yrp1PLwvPOl0uS4siMIgstJCstXFwvwrV3HzxkLz9HH1sqvNXCN1tlovguwpc0KMeA83kwmWH03SFT+yIx0zASsk6N6y93oEBV709XpMcPSQnX2GOP2whMjnwGLSOI4DCp2yyDeUuXpMmCtlY06HeN8ECUVPhFtnmzKqyoZK61xBjU6IKsgSzwSNAGL2-jv3eAEEBX6EYE6MZB2O3kGPFAOLcXpKYkbAcs7yryBD3SWp7J6o0PsM8tiDeCSpXTcRGqEECs-h2qL1rAj2rIwSpMDCWvdRT2ryx2opRIb1xyURrA7QYGjy6uKzypLSOrGuOLsoaGtzEBb2ljbzuuT1g0+UAMkIYDgOsgABkwD0Cj9Mhcie1oi8DOj1Cwj7CvyyC+9GC7C6BkT6ClCB8hpcbSbkSuChCeCTrE1sruDMgmaDpSKEx4bEaUbwAFCGCqaVoab2C0rnCLoRAXYrwdC289Dr830jCzrW1UizCLZ4RgbYhpbZ95jYrlbzDPlbkSjcRhatq6ASybqnCLYXCqA3CrxxqiYxyCI2qWoTqurmKTaIitdsbE9jb8bTbCaGSw0zNDVvrNrfbuEZ97ph9nDNYbaoil4joHbnQxa6siEKZlpJa0IrDYixDbDQ6SDCb1aCZwh7anaaa87wj-bIiUEI6moGTKBfASBETCAirs8ESvsrYcSkT6LSBzIm6rJbJ7InIXBT0Dr2QG7KNsq3gpZKBE0vjOaG1fSu7jKbx27G8zJgg+6xUB6HJnJeLB0z0VB6Bp7DBgc+E7UBE5AhEoA4BEBkB0BJE8QZFMzlEtBRVLpKwfM395FFEX7rEkllJSg8spBnQ4TTZCl-7nQFJnFpIcVDknScNlUFw2k0hwHtVuB36YzQHmdtM4VJUFVV0jEAGWhTxsHmBcH5VjU366AP7lIsG5UEVKGIHFR6cSH6GpUCHIkMHaH3s7kvNtUiH3qRCw01k+HYsWhqHMH3tD1j0Btl0ht+HIHiGfhpHnBF0oM5GOH0GJHuGpoo1g11Gz13EiGaMw4twC0Y041t4E13FC7Vw9GY0SsbHFbxGaGQGR8+MGNCHFHBHaMyNsMjAPG5NdMkktHXHFQsHUsjHvGSHIn-UuG3Ha0xYonmGlGFw604ntGEnasJjLi3EmHjK2qwSX6Z5+sR75GjFQm8S9Jn1kGP5E1JtpsNFKnJH17Nx-UbI7Id6nDfAJlyBD4vIfJBGOgtALCJtDblYHBuAGmhIpzb1qAFAj1qByZTHkQ5zDRV5Da5mFmaBlm7UJm-bpmwwJy-yDBZ1FBczygeY9nVnDYYh3xobiohmO19mCxfr8rVnbG-RZL36Dx6B1kM7XLDc7Vs940yBE0PnnHYgGnPmrxSnqHfndk2cbmgJ-R8M21WF7qYa91Sh0WGJmdp7RhK8NE91mgTTQxlhjmkKWge6N6VYOnB7d6Xjx6BnBBDaaocx-K9UamgE6mm7DBKnvigplsGm+WyTShXrcdfTinlZDs7tRXKmYXuX4HE1bsRXXUwhmmMyD4SGVH6A1H96DqqGP60rSlFSimPrX7IMb1B170KmXGKq-QWGLWZ4rXoNKQbH7XjJTJpXXWYN2sOEMGtXh6SHLN6NFMBWoJZnO1zNfGrNPGZ61noK74yXNQkzfzZm3MtNmBPM2dvNbnpggonnX6qhSB3Ns2Qr2sNXA203IwvSGxTiS2y31F4HGR8Yi2SnZXgr-nvNOBq2BSJTEne54GZXS2s3m2P5E3DS75G2x2ZwP4EzQBKXvS74fHQ3-GC9bsu2wFGmq2JGF22JOXI1QR00GAHAdlepdiztzsG0-NL3yb0a2BqEsYoQz2PVRlag4RuAlXX3hGNQoy73jgyJ0dQ4e1DBuRGBuiMUGGkVGnDZZm13rMyU5TD6hqgGV9qRAmt2JlYOF3wVo367Y2w3vMTyJXwnWWmSjBwPWl+AjUYOR2y3orc3AsYWigwPjrIPaO1D287gEOZ5IWk2GOc2Z69NyUfza21Sk238qU8HGGFHHXgQRVpOKHsVU1DkrlYT3s2H8G8m5PYwFIRUtPjVYGVUyUtdmhMCkzD3OIfHYmW0MHBqqQStEEuRfdHGkkFrTjuw9RGQ2OIOaOZO6OSsUW7nTif2RkNR0Pv2ak32-2vOnNkLAx22q4-qYXvn4X5BEWwQ4vuAwv33QhNWrPn6fh0m7OJG0qaNcXHl9cku20ymOGqmDcMGGSfHeGmOxH7PSzUOP5GQkvWu52O4Qn7WmIdljOFxWE+vRuPWP5Kn2jAx53CvtWfhDOkUjXDYRvVOWlWFlvYoNuc1IikvtvypTU7WMH9u92zhRNC4fGlPoOmtSvjWoJ1vEHh2bv2HpZEGnGVgkvXvtPh3BvTuVxq3eFZBz7BElBr7RE76JFLAn7zBTXnTHc0r+mcFTpawg3QATG9nLHp4E1uASsI3zaFOdwD1znuj2ow5OMC9sfJAwW8eUuhvnMatf0zMyeVoVmW7ftKkZAYVSfLmKfsr+tqfrGZBh8kM31ufWiBfgXHGRe0qxflZuAt82VOY4XKwEX-nZf560Rj2QMJfUN0eKuxYXuj6wFRestKvaxcsp7TeFDB2VRh2J2TWfVotwEGJYqjeP54qbsPe8Xre2dHetf0rRsNi85mvHAvhQaXV0u-mFMOvCeV7zvle+tZXty4+Eu5sMkge3tyMI-I4S0UEI3ChCesIC+GfzhGxKBol8PcQfmMv1kbiZpMbqMI4rqEHcV+WL5awr2ItUS2nEGO+6mBel5RvwWBr5zRN0+g-lZv4FDq7eWSKi-J+bw6yQO9U0u1e6+vN++U4O+WB1gQY0+ttENLoxBK+jB+-i6pQOBY4z-Twlh5OsITHdTduB-LSOE9++94m3Hr-T-GEX-wgAAPMCBP6383+2Lalr3XBBAFnEGPIQL4EECrZdE27JsPcVqDNA0cLRK8qPljhdlz+7fcIC0VywYDE6L0bAWIFwF38HWz5CARvSgEwCcCjkBAWICQHYcUBExNAWKlACYDtcZA3Af-y4FiorIAgrAVYhwF4UdyEwdHnlFG5-dEGBPJED2nfoVJnE2IQ-g0ELi+c8BhyV-nqHzbCRfMPif-taXpzUNlBRAAFvTBz55lHStfGPmzia7WlT8iDLJG7Av5XlZgGSSgVeVPzgcoy--dYtKTf7BdWIK4AcO-SySV8D+ZmAjrYMy56CigrTLQS4n7p0AnE5Qa2LUmCFidKIVLBoI2HIrewU+upPtlOx3y+Dq6L-afrAhY5x0pq8-MCvu0s6T8lB6IVQYn1h4uAnuaaOlHIIvjyCgWa-Uwa0LBJldch3sUDr4Jf4794hk-bxA5jcEEQTBlYMwdiCHJWDI+sQ-5g4IIhODcULgjJEYJeilB4I20O-inBjKN5NBREC-gEIkGukfyoQiUuEJR5V9ohNfaPnEOQ6FBEhu3FIWkJEAZDp4LLPruy21CIV8Y+Q+OkCBnat8RhH9BdpP00EVD++VQm+DUPUHD96hsCLIRyywrNChhKguET-DPrsoL68gcHiIlvriJJE2AN7AkkTjbMlmIMFZg4E-o-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-VfrbYL6j9WGr+XPqAVrqoPF+rGgNqXV9yltQPk-WBFnAwQqKGwEBUoa-0jIeGtIXgKIFUCfNckLhpgL4a5CaNLCDYUvUJ0XEmGuIvF31VioMQvyutZ0Mg2dU215IODU2qKKIah1XVNDacVo1M0cN4BBGsjVRpMRuaEmijeetSLUb7awm3GsEJgrMb0eU0avsznol7N1WCCxGLptn6ys3g2mlEKKzSpKr5Z2xIdDOGM0jxUlTMlMpcgM3gbvkF0gjl6JM0FgzNgfCOc5tY2FDR2HUFIJ5rBC6bzNmfAdJZsLi3YPNdm7zfHyc2RbsqNQMQB2hWjfUwtgfCzQyWM34BDitmlEB3wqFBx4ZmmgrV5vK0Js2KU1GWLbFy2HFbslWxNE1qlkNB22MCiPPRxs30AQt+gFrShEBbFaDYP8TNZ1hEBED2t0eK3j1ry1k0m+nMDzbNv0CxbCt4dd2KVreFBbDAIWz1CtoOn3tSOAcmog7CBggxnYWuSbZQq61bbete2hNmtqDgDbXxw4xbQ1us03a4td2jVu6XphDbI6+cUbbgqsiXbYFfo4LbNpyk9oUtzzaFl+UrVR1LaMdWJZ7ShGHQftApYquazPCfVvq0OumR1ogUazWtpA5vJIFbyz4jctgIDiiVBrg1K1qIvkO6VgjmcZoT2pEMP3dhDxRt+CibcUwJ25Y8dO8bPkwVZmIqkSaVJLuCXOn3S9+J6J6ddKfUeQJlqi8bhrIe0GxJwQUaOq4WR1+hyKaOr5iLv4AzxNIZDGgM8yvKPySlX5dBQYErBXxCxO1RIfbr-WF56WXTUIvqhZYYCmd1O8EMrqmX9LSFijWnWTohoU7xKJch9sDT+210ud-ACEAHr6We9gdfOqbdwCT3TKhd8ePpltoDGMgAAnCcELj+jKY9O7viXp4hl7nCR6AxB8G4Bk1kOszPzB8DHWsQJVBgFwDgiyIzDYgpe7qPoH-n-yrIaAUffuuyF1s-Q-exVQcI+QIi+9Ve7qJWvHj-R-YLMQOBwhcA+QP0K4A9oUGn3L7a9bTbgDcAcXT7WqbAGqnVWdLhdG16uyOmlVj0KB49MY6qt1Gv2UZU9zrfnVM0v3v6mAipSHXqnKXLoCd4cugEVBPBkAnEYaHWe2oECtBGQtinpswAcUgG3A1OUtibogP8BDZRweEMEIHDAxSAMBjSQnIkhhpr+GyZDtPohDeQfI6BgRNHlhVFQYg9B-yK7uCjejKYhOaBSHWOCLtEKLEAcPcrtxPKWoAK3qK0Db2FAANRRYIFBpBQgaK1jjaQziJiBEHoD1g+uuQbFSUGwE8IL4Qvu4MD7wQ9B7yEyDiKCBJDogcw95A4OUs2ID6hoLQbMN2G+qlC8aESwER2H7D6hrgwGPp34xnCsdWFqjqHLsKrtZ1U3X8gRUzxWg3CN3C7tl720P6xOmICDs60JGm8NuMPfTo9yidH1wMmEUIEMCOQDE1QIqCcVQ6IGgQyBxJYwcwPGBwDrBwgfgddKQjt46HTI3AuFik67c4exNQUdm72o-MKCe-jxXBAORYBDCUuJwnICyRoIm0Pg1dpiPwrnm2R0KUvA1Z26HdCdNI+jx6NxKI89+2ug5wQPsTV8kgdVJ8pYXggej+6oKK0EuPMrTSxlQOh1LAPR5Tjn83HM8YcB9aTe2HY41Qqf0jbmloB76v-Nzz6AlJoAAADpYAf1W0laGIZkDBBZYZsNsf+NFJoRh9YqYgzAYnonBGDYB6E6oVhNKTETyJpkg8p5gYnqcCJXgCeA4Q9AsIzJ0AAAC8LwMQRE0UDml0n0TH8+ONia5OryXo+J8VFoeMA1RUIBcWVqUfKObhoTKJwUwyerH3zMFRAlgEQOUBEDsckwf+WmDwCkmoTAptE+qdFNVVtTup-UwQclP+QgAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsVM3YB6f1gbg20E1WKx8vqE0sA4GEEhiZaAuq2EyOQtKxkTK3soEFRrPUcjiRm-1QSBASALTQStTKRVWq9Y+HYElm2tKjUq1JsaJI0gpEwc5WrBnDqTUwEN1Be2ts+UsuJOxvyk0LIBads7QlhpNRG+VirMWDpVaAKWOLqBrsGBuu+QaZ0puoBO71q6A3XoYNm5g+onm7vIZ0jgzBcDHKcBylCT6k3Qp-L2n9f7jk6CA9FEDL6uCiC6Wy8N36wK-qEscvMnaUIGOnGlEg74d1JD2fu6NyrLGKyUjOfgxAmAPsfBnajBG6NOObF+9sRyILMdo-R-ECyCSweRDxwjI6RjnPzTu4wJHBUWvbdawZI4GD0DE2O5BbHnqmo00Jmgwb2r0FHRJjTqH2yWsEzWwZOwx3cFIHpETrGynsZk3K3YkpHNptw9YcQKmDPifU+5kzYoomSjMxC5dgTGIVhRaioLCTyNHso4zL0ZYKwMZQr-SLEGRoQWS8QVL-H8k6YoZFzOlBG3Ra0x6pdlnVm8GGkxGVxHdl7riwO5DiWIIFHq8Sjz0UR7PpvVu+dbqfG9eRAA4MkmUMca2K2qrY2aDqy4AwSbMgnROeay5rs62FsXwiCpiba3uAbaBeQ1cO2it6eW6tnbgWaBXguxyUlOwC4yEDVk2LGKOkjUDYrNwJLSXkz4YyCklNyZoNIBg8Bs8WmX3qozXA1RpAQRPfUDwEFEdQmR4qScM45xA3YWw5xdCOFb2k-UZU1hXvk10CThhRQOJgZTfQdT4OpGQ9J+AnH8TgY09AEUnngMidcKOED0Y-DQdCKvDTyGUMjBXmF7LuXYuLAg8ETcRlMvT1y+MKuRX2udec4qtzjHSOBAQRw9FFNudxikEdWCC0d8Pvf0BnfZQxpQDymq4+mIeWuDUm0hLZFge4qDGUDRhgek2cR70h-Fqe0BFxgw6RJDIEVcS-VzH7N7CQ+FmUAbw3WeZEzMLZL5Pdh-b80x+Mc3JP5Tc+t8GW39vaRUzL8Giv3vHz4CUmvNyd8CfGpL1CsE3jVw067yhP25p2C6VwguAiaw9qKKon7OfiVqwweH3QeH1DpCgDlHsJUdBLf6P7xwbC4zB9YJhXhasIFx8UlxjFiVADdK6HR-94-C5ZG29AAAFQAAkABRDgAAQXAHAGAIACV-9IAAB5AAOWQConlC6FJVwA2CT1z0GHzXTyhwPlbHIR72mGznvkHz4RFw5mnzILvh8BwKygoPFyoOPGnznDKgYJ-CKzYPsC4BLCD0YOdwAJAPAMgJgLgKQPAG4I2D7xEDoKEE4LwN4WYJh3IWnwd1n1oIv1Oiv3T0kU634ND2oH1g0LYABziWEgUMMMLCUN5AsAIKENMI3gxCLR5iJzsQyEyG1zjAzArH9z4KFmRXcIVlCGUPsKN0NEBEwMEQCIEPA3wIiKWT-wYDsGmHrCIETBAgAAZ0C4kRINZf1UiuA6tyAGs3RyBZBe4ij0jVQQIUjxhoUMjRhQAABqUAeQM2FyeotIygJohgIrDOfIieIhcYQhFhF+EwIorrUohOCooQ4GCCf7caa4bo4o7gbrV2Co86BwZ+ateEOJZgSZaYZ+awFUbsVIm-H8dSKYkosox1CokCIY1Y6Yu46kCo72Imb1XIaYDWOcKLd7HaTbNFYYt7a9WnQEDwQYpgAo5+UE7gWsG49YmYzYhyI8SnbPa4d7I8DwYGb4jgX40QKLVcd7SIxaPEgkqLK8Eklg7hBSa9M2C2AKZgH4v4848YSfaKEQQoJsDgOdX7MGEYiYuPPyOJck1kwgqqTiGQF7N-CqQE5IaqfDfHVBBSGEeUhoJktKM2OSBSLaXyU9bBXBaecefBEhN7Bw7UpoFyD0XfRqeyAvA-C+OcJSB0kIMUwk4RbuJ1cRdaBoXoF6ZGfU8SFrYGdKU9Dwd0ok24OUtxYqZk-E1kqkrcRaEIRHPUy0pGQmIg0zeMikuEjk6BB+RhOBbNSgENN8MYoBOcBw+PW-ShChY01uU0xpFU4vVwaqHBAAQhsj32alRiBK2CIA4j0kTyEVXn5QkXz0NxSBmgtNR2MEDO2ClJlMiBmjVL0GnIdCgm3MVGwUbKNJESbOpAIVnIiIzJfwbMPNAG7IenchoWxNcmHLV0plQQdOSHHMnknKwBeh-KMA-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-uRu3v-1gfsNTnBk1PXX+VvwZmAfUlDbUfwZrayVXhhhdtu0ceAUvWRvUr4sUFwZsqSe0pcrkR1O0ppn1MyeluW0RsvWYWSB-xG8A1ROan1Mwvt8qSMvvvwebWCEhfeOerZA9WweMPueyyoam1L5FvXBt9gZVf9uOQ9pKlphrM+WqmxPzlHi9gybvV4GzTIvRkpOtH5jAZretpX40pzN5e+sSE4v81hT1fpfVxi83fuQPeQXvfycBz7sjJ-e+vCzYEjeBeH6S1bfnTdvix9eUW2e-x+BgxKlu6HlmwGZxhc5s+Zpnnd6f4WAXwCFHfE+tpJEPQU++fQGwGC+s+hEq-dAAAeDPwvoRYv8ZowehWWBsSCf-NCJ8QMCQAMFbOxSdugTCJE6QaK1ogOqGUfXOYcnPm33QNovHlHNo09rxNfyi-+Gvvv4-VZofiCEfygC+aEyf4Mafuh2fkohfxmJf-fwuQ-ptNvpfnft-w3Vf4MOv176O1mY7dR3l3Ud6LdPiedE+h0jQjMgpeKQOJGe23QJ9X4mbDUi1i7Bt8C89CWAczGZBXVaMPPFuA3yh6C8DGBeEII73hyrgcBhuXcLcF75vlqBHbNtBdAT6SIrwwAwNoqEVIn14cevWdob3559NlWyQc-pEEgGMwVYQSIcJ7j6SDNwKkrYNq4D2hMU9sB7DeGaQc6YDyEKAnEB7yr6GDMEnTJAUH0uYmDwESgzMq4EZKqt8B8At7KL1bYoQiundOziWmIpUsWo2XRwU6GcHKdFQyAtgVX3QHiCQ2W2aJPQP6h4CJgcAgIQ6WIFllSBsfcTgZ1PTUCS0tA0pJwINweAPoq4Yvq-FP60kDBMMTgdsWP6bhA2y-dslKWLqCCMkBvPSGkPOQRDXAkgjfqIA2aEA5BQYI4gc2oh31x0Ng82AayPDqCSEIEd1pL1F7Bl9BbAy+J7ysEI16myw4PohV4F2Dt8xdBIQgJcE4BE64qZOlGA66qIM6GiLRNgGezWAg04TXxlE3FSuNS6LmL7EcnWaMx7hETPxl1SKzfDHhpBFJuMHOSSNAmd2GXuwIcCZNZE0cbxoCPSYnCQIRyB4FxmXB49dcsQIEKSWMBcZrQGI+XNUGxHuUuMg0AkUW2JGojssnSckZ0kpEpAuMtiewHjyZGiBGgOIowFxhtjrFJAePbkWoHZEkjsskggkZIMBAcjWOkEARJTU9C0Bra0orgB6EUT1AJRXGFouSOMBDdlAEgEENkBsZtEJ+oAVUdln1gajUgbuUADqP9o2MjYho40Vj0rYpAtRlo3UaN1ABQRLRRge0eBAgjAAzRaYC0VaOeA2MwAdooUVjwACk-o50UGL1GgAIxnoo0eGJ9H3QNRMY10WNxsg6jkxkEG8mmMDEZjryWY70ZBHb7RiCx1o0AJ3yMDZiqRWPdvukDNHpjKxDYmsSWIgiZByx2owsdkDbE5iOxjY5QIEGbHBjQAmQKiC6P7Gdl-Rbo1wM8CMCdljATuB4IhDhEPDIm0wfrFXwyCKgi0y4H0PCI3GIjMw5mNcT8KeHFNKAHoAAFYZhSAK+XcdiFxD+1SRh434Xj1bQDMzaAIo8QokQhRxb8P434fPTxQscjkXGXsnj17ISi72koiCJAEIDCQ36EgDEQhKQm2YYJd7LjAqNgCQACROEyAJhPqbYSKQlNYAuSIVHAEiJ4VLjIgRYCIF-RdExAqUKhirjAJb4z4AB23HpBHxzITiM8D96SIgJnE3LqePYnrjgJAHLRjuPqBFp+J2QT8fNFCAcSeiVxUCf+KuTO1hJm4jJqyDv7pUh80vUJuvEEhjAJApA68R8GLDEBC4NmOpv1G0lrxgR2rMEUQGontMVsBkzoIECR7eo2omEMgcb3UxCEROkPIKdsiljrtZAjkrcWgLqH-RHJXEyoZFN4Bq0YpdSXkjeLvFScgqiU3Lt6ShZSwhBLQwKXHysSwjb8QgpvFeI3SiCTeVEfydwFKnid-xxwk8e1xUTp11EmADAFHxoDo8XQZAcGi71dhYgGAUWXYuTyiT2JHEraXYk1Q0qQj6qRkeaVv0ZgcBd+KIFuOvzmmBd2SC02krtMFIKZH00YLEKyxQYjB9QH-SbEIRYDEBiAdiOwIXTkCxMHproxRG0RkD3TiAv1FHOjhRzRVFYS-H6e5MaAQQ8eAA13oDlMC2Z6QLcWJuC0Rmtwb0lIK0XoBejb4ABP-SCEv2SbnSlIl0uYEWgmy4s0ZyMzcD-20AW4xeKEVGXy0TB0gJsZ3VzA4GZkk4II8oLirSRlYjRmZ-OApOOGlLBZ3URkZmboFjKtpxZRYqiFbTzYa5ZA-M5iv9m3AeABp909qDRnoBugxpUWdmau2la1YkSrxb6SthsrsxxQjSBRjp2DxmyDp7FCCLjLaL0y9IjMhWabNWziy1p7MFHJtPAG91m61swbF-Wll78gQvspfi7MqCjA6QUs8Fh7K+StEfZ1M7cJcFhlNomYYEPHhNgPEbAGZMc+2dLDsrXB9Z7FF2ZBDJFVsRoq4ZmVUPFm5y0Z0chgNTAsoACE5HMgAOSbSJsP-LuQ3gP6ACj+zM-4enOGmjAm0MeFmV2H3gzTIgq4SeWYPqAtVBAO-BsDv3VjCxFYueHfjlXhgk5y588yatmONidQF5ykvOa7ILnc4D5twM+VeDPlRzJ5zLSySlHba2TbOUzINGWFvT5kppaxDYsiixIA0WqtxYlO-AymKM+SYJNRkWhfnWT353pN9N-JLAUz8yhckeg0imRALmq2WJYkMh7plosFYJbqoGmZZZ4aUVjO+Egrowlhf5fkblhIxlQklAS6gjKTQOOrvRiuAcq2RAptlQLuAvpI1ktS-k0KlIChcFu7GxDkKJAlC6hbelQUklLSLkWKYal+pkj95gMcfFGFEX0FwWkiVtCItvS6Lbp6C4-CooeS-UaR+87RUYvEWTZuc5i0ZL9TgVvzyANmb0tzNFyAxHFPQqWLAqsmuL3FYiORSgrv4QsBFpinhNcB8UHjkFYi67Dx2UF6kpWwsvukQoiWAkXIXGPBf7MIXvhFF+rFQcE1Vb0k0OpKPZvkrBJ-zQyYJEnMSVqWFsuh-JUxlswsaQL7sEgPgPT36nUAZm4SlmTUoEUk4qSDSlIJOEH6RBmlmzcxnxz4U9KCe94pxt6k4KVBKAmcaYHqBECy8ql6fCpb-OYrbyismy2IkYWpDQ0AS6fVcOj0nZoLmWgsBekXEKb8kteRAfoUIALgcB4wggcYAwBphxJ6w3AJtBcr4HOsQSzC1QddSWr1k8Ex5HQdehIoLD2wlCHsmKzHCLRBwfQm7sMU+WBgBAPyuEg4UyFkpAVnpUgROUbKCKklkFUFYMu9aNAK4gMAFU2nqURLlATKqEWgrGGvtEVWwUhYqHjbb52V72fziS2mAQ0Y8BBGfNTHM5zVnxq+DYEyk6Xvgz5EEK1mPMjzHMw+sqogLaUej3kAaKaZyeqonlHzJVphbqlOFxAw1elNys+csPNV3LtqchDuHznT6eIbp7sifOEg3pv5H8mNXyW2ztzMATlmxN4v3m+nWFBg-bUFbQQ7icE6VgQPaAuBAja0dC-6eNeeT2iPTZYtyFZaYRkly4LaFoBcFvMjXGFTCmqgaH6F0ilrAi5ak2t+MBicF3cro7NYcR+ZlqUatoCVskr8gJtSU9ABsNMFWLrxGa1VPyNHFjogRvwBVL+rtTWDctY1clWOgmrUG35k1VEVNXpF0IrrM1t+NtbclWL5qeJOuItbPhLWMwjaFasYTHBrWXrbaFaxtSsVSItr-aB6uFEeu7WFLe1ZSq5AICECrEGwIa4PJ2pZkJV418U-vgGH-Uh1413OY5ZwQjV1rCAu2BDZ2qQ1xEaYg64NSstHXhqM1S+W-KMisLIaWO4tUQlAVgIIFkCZscjRAUo0SFkCaeJtZ2tfXPBiNwGrKM-nQroQaZAfIsDBrGoXEWo2G4dUUTw1yFIa9HIjaIAA3y0QI5GvGoTSkJrBFNktYmsDHGpphXRHGzmtxpaQQReNjq4QXpG-DXjomfzP+V2D+ZFZ3WZm4mE8xKrRlIW5VGdO1Hs2IhwlGAueJ1Bs20z+u1gEqTbHM3PDLNbqkWY5ts02tgtDmsLdvhZXQyDibm4QFYBC1kAvNQhEZcdl2wiRgwo6IQBDTi2+9nN2W5lmZsoBnEPN6Ws1QaD-klSqtMqBrSX0Wn2raQ3OcrWcSuxNbrVhANLfeLBmBA1VENOzdQD609a+thU5tobla2ogIUt6zrCvMVhDaj5ePDrShvN6PhgtFW0JDFs801bZtdW3lnpF22ZgfgqW4mM1sCCH57AIlVUO8E+Cah7JgIZbePP3YqYTt4ED7VCyNxSr7gU27Tf7S22dbktX2s7bQAm1-adcM2oUBAnm1ryltcjY1XyNS3baNJgyXLYXQ6Y-bzVI3JwjyB9pdNphWQb8g0FZGyNRVxqmQBjqumU73Gi8tGC3GRpSrVhe8-7RzCRobAW8Aof8r+RQ57BfoDTIwQaAdjzaN5O-F7RquUDU7SEpKe+BmD9CVKBFI3fjvySqn-g6+H9OqclWfkBKbJbij+QCix3Q7pQKkFyHjpcLYhtwTFLwk0Dl2PTCm9yvFI8vfBvka5eiggvTrTATB34uoogRMvzhTlYJRgFpTMtCIWcAEQw3ft+V-KuAIILivXUEtx57ymgBQxnZzq7Xc6lKBs+UPrWN3UwRd1auPbroQViJxdiOmPHj3j0l6cY6BBPNYxS22wBRVEAAJxdA4k-IyQMzowHt6yYagKVWvETBlApdEQ7ltgMWTqkEmUpGgAzCyIdDjAHeptB3I7mKw0Aq+ytYEG5VNAF97s+gJSuSAL7+9b9RxE4XmSSIaARsL7mFB2GuAD9ThI-VIOUBYgqFC+x2q1UkAdVnUd9IdftqFAjc89Ben0W-vaqVBOqZeinRXtiaiA2qH+mXXEkMUlhKdKoGOMlFGBBIU0GEmVVOBAjSLZF8BpQspnfBIG-QP-DoA7TNjVQpgDANA8hJlmMwU0BfC5OqW30QRDYRsPA3NSPkvAY4RgVg6bEg0qBe9kgIGKPPFWwhxhKgi2NVBWV251lXAf9XMCnCrrjAxywDa+kQ1obkNJTCeXvpSWUHqDtmWg9xixzDAEI6pG-YIYzmsG7GnBaDVsoOZWG+DQbeNhMPqDMGrDdjGPOsAxqKJ3DhsdfeYcb2d7UaR4JwgTqcjW6HSj8o+U9sNyO7hgzu86h7q90+7-ahLcphLonn4g09duDPRaC9zVodhrgvrDa0DC0ANYjiIg4ZMhW-gsDVEHA1UCoV4GCcBB6UoQG4Pb9SDvpKYVvBY4ZHEjdAbI1zryN7BfSM7LsJfEu1HBOZ1-Uci3HZwsA2YL0NORfMQNqT4jhdKcBWluATHJEAei+K6MJbMtDV6xMVdEYuqx0f9Ju9Pubu9qW76g1u-g64BVqpSigj209JYU43gZzj4dCIuUw9yhN+a3xmmokW8p56lkeBynR3NzwyAg9AAHSwDgaXjQgGQ7gAbB0gc9lo7sWqX6jL7GYehpXpHAhMQ0oT1hGE7BPhOInuSqyjeGiYJzXB8AyUSRIuGBgMnQAAALyUmgB4T7TJE9SdRPNy9ji4Dk9if+i4mII+JpSJHD+h4ASjP4co5EChO8mUTtJwMVXKx4LHFYHoHfsQB37m4YQHcxCA6CJPRHFTVJ5UwKdVNwSNTSWbU7qYdpinTYQAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJeJWD4hcoTAkuNALojQhAQTckAcYkh8S2AU13h0LQ+ggZsMIDQje3DnGyKvNuGco8v5ng4foNeYhHFFOATnGJplSDmRblZWy9knIuEHgfcgPUvI+UycTGqEUgaCEIAkh2DhuC1IGq+AcDV8nUAUNQGglYBEyxyQ4SYg0YhBTSbiZZqz1mbPxtsugszSB1KAuRZ8-xFlYOavgcoDBBHIl2VBGI74OEZGKsM7JuTlHTLoOouRDRepaBEI1bOB56DIP0BovSuTxFNykWdD5JTwWFDmVi7FeYZYwsrHCqBWcwQfMfLEPODARKVNrKMGkbA36xlKLS-uBsD5koZX8mJOigzqlDMsCiL5DRmWCBcjpdkHLOSDvjdkvgSCDImVMmqOY9oM04mUhgFT+5o0ms4vZQUHIMDmedOSpQxpsDks0LCALm6OxNdc86xSkWxC1TqhiZ19amths4gO4zTHkLWZQhc+COGEMKenA1UNRYNXVvSu1xthB5NIGIwIgwnGNMmMZCJWTm7kJTRy+pldnHGVMiXfN2DC2dBQQ0rR9MA2f2MOYmxLcuZZsGo8xqEtcTNoMa2zeEw9lUtFmODUAV7li2FPoBqq9FofGJgiwdnyNFBUTQ6hd9iuXLs4PW8kwrowrkbBu1+dKJSgA0eug8867FNW3a-c2e6VhdrZQxHJ16ZybzPSu2MQUT3pzPUxQoB7h3CVFqYvt1jm6uv2Rwz9t6HFtqnk+7U+71XjPdUXBwiCNT6HHnzeZVNY2pEtXhpuSxwmgEtVrHgG4ISQmw5wyBtQ4TcEwwwRjhDmODBvPhjhkwEQe3QzLak3JGAvMPsfZ+xbW6dunQ1SDFi1HrVePQKkg7GSKZsWrRdZKZO3LA5tZIqRHqSzMf2ox6cKN+gtb9DRaxJlZwzWJ7V-A-5SdRBij9Omt0wOXWC8FhgXMSfcwA5wZ1+Hmag4i-Fq59abrvQfGTExKUga+SOozV996SbC5G5lJCynGwXQfULJ9O7d17pPXlsSr43x-hwUrz8wk2eBKCfQdX74VH-mVweFX-zcOq64qjv0ArCblaYvxATX7RvJI2YFjJJsMGBZPJijZux6k08FtzXWPPhf0MCgzTN3gCE4xAjUIcgTsdO9x283I9SHbXRW-b+AVF4sVJCpzRKSUIvW+26752-UNpE6YqJ02O0xsy5F19VSYtXkTbSsNnC8sBfxVo-1wOEFMdJX5sHWjBqNn7oyRNOHkFnpkVmpiOHyvDzJyTsl1PKuZv7s4piQV+5A-G5-Drv8du5ZflG8H5Iqe9Zp-3dr39OuPx60PRnRSVyJu5w13nZWxeZq0W9vdOoYgao8oGtTzASvK6a9EwawuZd9zfdlxrsURey5LfLp7VujexVV3WmeGuZ70zwEDEOchFAQBgPAJAqA45oGJAnTiCnIxFwBdUcuaiMaZZ+t3Mgk8YgAB90-GQU+rOPafQCZ+z6kHuvd+j89k4Xv0P1xpqI54zON5AxASGTYVoBlA+j3DECLJPqQsIJ4AGT996DTNP4l2Qd+YGIOvkeSMTwTxDhMDem8k1b2D8EfHRk6-MLbkeY85-cMTwmbaREBvT-qqkOnOPK5UWpZP5vDBV8C-BJfnSuNxkv4Z-16-r5qYjBvMfpMKrfkeGOVD-V3b-ZYX-HjQAk-SuYAiPc-ItA3HLE+NPH-YjTve-R-DOUAcEJ3KXZ+TfcZfA7rZ+T-NAyA0WAAu0agr-VuATW6ETEg3bbKcA2TdAzLWg-QWA+gt-ETBqRXfmZ3LhCAjLRfVIO-FfNrIBcEQQ63ZwIgkTOQ4Q7KHfCgsQraEff-LQwA5TeA8ZZQggl3N9efSgzgnQu0HghgsbevVIBRURRHCNcvXODAyQlvaQtfew1hRwhQvguVLwsRJ+SRMgfTG-UWG4bEHfbVPfPmbgLgvQxg-w4RURZbUwjQlwLgqw+ArfYzGlTGdQ2DHvTAqQncGQ2lBLZBRQuVBHdhJHZwsI8wv-XQ0-GwmfDlChegKhfJcNEQ9gsw8Q4o9w0osHGDXAoNXBUNWopwqoxmAtfBNNWoAojaBMLVQIGQdpUAPEPw2YqteYykJYoKVYyoDY0kRInY6FeYmtA40WI49YoBHQdHOVKPFtSzPo9Iq+Nwh-Dwp-LTYgGYziSLX4pDBolYtrcEX48EbgZdM4ziX4nzRLM2NA2IfozQpou0ZTGEuabzCo+9KzFwxojNB9bYzieLBDPTYEjghMHggGHIq+UzXtKxJTIkkEkaEjX6JDTE+6Ow9YeDXTK-M2fEgY0jak7I8ZBqSbJY5Y1kwYr44Yp-Sbf4jySLCUtIwo0EnccEBUqE7hTklwRbVIg-BfVE6A9ElosZfgi-SZRJY3Q0lE3Iz47AqyNJagJJXw3U2VAsFNHo5HFkjIiwug-QkTU1VUqUv0tErILI4kjyY1U1IgQjd46vLIOMqM8wB1WpfQZM304fEYZM9071a5M6TMykwMG8XM9Vb3YOUOf3COIPaOUPHQBArkpgUgelHqbvBMAZMfeNYgM-a4W4M5AsfQVFYIhabgYFGbOMTLQrPAxQQgF5aFIGSE0Y4cyQEIscl7HoTXWkhqXIZ5V5d5ds6Uh0trGQKyXcuc-cmWRU1MwlFc9FHJQ8tEUEPI9Y08zYlM4GQlZbGQR81rRaNYnJbgU4vacZXJNBb7LlH8w-QMW4wC3QR4xmKHTGMnN4KFN4946c6HWsSEo7NCj8q+LC5ufuX8pfLAtrZnXAwi68lwQijlNC8XKpX8rg4ihCziaxL4QhMuL7eQbHMEPHI0rGQArc0C7zb2bqGeaCsM2mT3EC4HRwDi-mFgB2CRLgcHQoIjTLLCb2FnPaRsdvfmek7i+FMlRkS1E4WkyLMSnfdtXVX8vvc3Gyz1fC72T-DFFS54dSyco-Efb2ZylSs9NypuDy5ErykswA3y3slwD7C42FHipdBy+iPUMc9YAyiSgS4ELOMQdvIwBy8IMfDgMubK08azbxWjA8ASfst5FSnKvrRy+7ZK4wIlXlZoAqrK1QGq4eAaAAHgysKvauKsGx3laXFXBAABV8B8A+EhBfBBBrleAHEmwrTqBahmhwRQAABqC9bFQWOPIUVRXKja3AqyQ60YooHasuPahiiYJFFpNpMaia5WYgRyWasQeavTRahJZa4QVak67a3PC6mQfa2q8ITanCtaza06woc6sQS6ga1ijyDuKI1Xc3Cc2IANbOB-Ca7EfilccZILIQDq3uOq+Mv0alUjaywbJWNBTGogWHbFdi-ATisQIy3i8SppSGmrHfEcbMjNXKjmmIWYEfAa-mzmsTbg3Q3Km0O0OGoDNVZ9adNBbm-S7tJ6cCuKslFTaYMVTcHfSVHucoKjJuVVbUSddLBoY9FSxkB1MSlDZ0IKfG2WFy6ynJdyt7AiFy3VF2oKw7YDNDUKqKjG9EbGmS800ArHT-MnXWqsToVGglcbQOrGtmzWuOxmB2wmpK6O+7UDf0DA8mvmgiHeBO2m-mhmpmlmhFNHUY5oLmsfbaCmyG0oeCbaYqxKym1YUTAmoiSWv8K6ylYDLa-sBW7OJWjvQytW4yg+ZOoobW9OvW+c0QPjJVF-Y2p8SMEVWMC2puK20S6q22xUe2sWp2hyr2vmFHbFD2z1E+h8WW8iP2946moOpOr3WQSsv3cOQPKOEPWObAbc3vW+E5agDZN5LZD5LM0iko8lGZXA45YNDZaingf+2B-mFZBJBEprUB4sqS8Wu0ClemQqRB05YB-GC7P8sEdMacuYHC2IOYVcM+t1MEjkKhmIDkWhvFacjCJhsq0gVh8hsEspThspHh6YacxMnCxM50OhmIacl6BJcgXwHCmR1eGaxUSR0hiEbWph7W2MVR6cm4dvE1FgQwSEvR1QAxkOFYHRsE9azh2IfQHqbgXwPKgAPlAAGU2uUcsY1M8hsZiDsYcecdca8lAA8bYbBNY2mD8eCYCYGUhGCZiE8bBHBGAB8YMHsaicBBcYGTABCd4Y1IAFIUnInHGMnAm8m4nQAEmIRxIbGinonubHHQmNSABCSUGptJ4pgETJ0AFpoEBp3JxJrqwp9pupnqmIPp4RsErqgEHx2pkpgZKZsZyp8EJxoZ-xuZ0AFxxZxpxJpx6Z7gIoWZzpwJ3ZrZ-piEJplJwJwoI5mIJp2INs9MAqfXBBlZJBohz06ywEFcCIoYGmbgGBwhn3J547F5gBoB3JfAFgNqEwM2L5lYH55EEp9hghwBv4uI-0i5ATN22IAF1F95zzNMSKZ53FoB7LEhwracsdWoHCql1MbF2LacyAOgb0NZeR-ZplllyWVR2LehjUkxhgWASAJh-lwV7lnltR8EflgAUU4elbFZ5enIADlyBFWUnlXFW269JgWqQSX+YrdPmARvmNAckSntofz-mUXSX9cl5dp8HXnCGrddU4XpgEXTWMWfyp5QW3myXCX38rSjlLWByupkQrlmaylfzDkGBqgOMZRSB0k48GA2pyBqwgtb5NA6bVxdWo3moOBkF0Gdl6WihalZTW4jgihWiPJpwsRy6uVfzork1x7WaYN4knMhzA38XyprLuARavWHXrWSsKbC3YgW2RA237W8WIWoWYX20e2s3HWnKh3mHR6e0a3J68HnnlaxAvgWA8FYqJ7ioq3CBV2wRCWKziGqz37I5g9MAMBGyXBUKKBTBbY4NyobhSBPFBCSK2SU9NxmKJc-gBMVxBbwzsGshP3dlQaGBwbqR-qYbAbfmQPwPtFmg-3b4SJ3Tdybg9FUUtBCTb4y4Sa1TAxyBlBlB5qMgU4jBZlSOAmQ5NqalSPubwQ1rShmOaswbDqSPlB5XYxmPtT8Obl3TujKBJZU4BPQ321i3hOuXIhoINKExobDrwQIRDrMPWFjAcPFifmpP4hJYJOIPcDrBwQhPdPcQpEFAalrkv20h2TaltFWPLVdITJGE2s7PQBB9lIZ02Txobw7PwhM8ebQPLOu9wgencDih4QgODBto3Ox9wQIuc1cLH2ZwyYPhX215PE7Oy0DAwElrXSPo3OPPVxG4+YLlPSfCCurPs0WtlPoPpOzOyALOYuCzguBNfrePcDDqoiKk+MyvYoKvZY-P2u-Q1q6vTOmBGuEOTSshTU-OIOkV4QnPgkEHJBRPJJQQcLakLXVuGvSB-YaMlk6MsvKN6uIQOG2M2tmuu8paZuqvtuRPdvBIDv85YPWuovwQAByaD2pJTr7mjaGy6uzkznb59+2fQMme2az0jPmH9qb8Hu2cZ8V6coQYQMG4IMGhyHSJ0twYsMGlsjgeEar6uU77aCHhpnusnz1+ribvb5Dlbh7uHynm7+H8mKn8bynyK0AJNlN5QNNmcdlfJDwcNVaaz50-L2Wa6eziVsXwg7mQlAbkXxdqa7Ebn9YXn6gTQM9NNIXtwCTkXonlSK+XryXqL6ciLqE83aItICeSXun66TnsnzuPpHqbXmxNwEXuTHLy0z68X-X4dY9QlGugehobrmI+1eXqYohW32W-BnX4wZNOZeKY1x33pZgF3wXt3yTlr6Pw0P9QP83JjjhqLrCbaDP8NEmOZT1rgsvnHhPgswDlYZoXJGu9Sfh4v+QTPivgsmjZvgvuL1X1NjX-nhiJbooUoLS-PvrJXn5gf9XzXgXjv8NPX23unif-GT-C1uPrvwT-dSdLtY3vqH9HOqcsE836kS3nrm3w-w7NLXP8DPqUbUOxmSWEgD39Kw78qk3yjGGQ-mjGe66SVF0hlQDd5UJAeBqhXJKS9JKV8W1L-0ozYxCAdvYapuAAG4FOk0qKKpH3MAQCksm+WkhaGLDlRKA+AJbPzAGAVBaYh-aAS-2bhQC4uBA6qO6XIEmoce2kcqMtigHpVtoOAxEjnyf4AlKqLAaoNxDLji40OyETOueGgFYRBCiVc8O6SEEiAE2ghfbMILjxMUR8igkQV3gUFqCuKYuLQeoOoGAFDBZcfCqYOZrRsxKsg0OEFWgFthPANgiKrJXGw9QoUgwGwRRV8rSC6MypPQeXE8EMRPWzg-gYgRvhv95OR5RvGRR3CoD4ueAsUsdiXh3xskqA7StKH1rQob4DAdQCIA4CkB1oxBIgBkioFm0p0XvL+CgOv7Z1VMILCwQtn8FRtGANtPqNzHco31j+CYeoWPlpajFSgDgTIcmmyG5DhA+Q1aG0KCpV0mYhACmBYLJwWC+6OYPfvJl7x0ZbeNQ94lhFyAzC4etvbgNsIpgIDrCWYU2qunv6EAOhbESIfe2KEi9OevsXmCakczQoKgSjRYoYDZCvC5GJMQwKSGgGJkjAWxKLl8N8A-DiQTwGjCXxHwfCeOhQJ4CUweEKAnhJAF4ZGG+F4c-YCEQEbCPFYNAQRYIwMk8U5Rxt+gQDfERmk+FojQRyaX4VD3ZIwjgRVIsERCMb5cM4eMIpXvCKObVApEHAZNkISZGDByRAscETiNjBciXGiIrETCNFIiYpRMgVeGnGNYhtqQv5BUVQChRqwNYYnTEQiygYTB3S6okTlnC1F+wdRwsf4d536wawpe1GVkTyLIB8iyRgojNisDrrqw-YsIiUcrEVGajER5opESfhtGyjXB7gqNkXEpCgguUNglhDgW8FQQ5s-ghoUoK4pWDqqTg9odcNADdCwIwYccFF3rZiD6sqlWMRMNPqQiNRZARgHo34hzCDB-gz1qWNsGn1OevEKRNWNCjtVeI3AJsfGKzHewmOMgJMNS2D5j9cCQ4vYNSz-7tBOgQ5KgD2KoDhAouA47XPaNSDhDeIS4yjPW3DFFooxMCbsVxHnHNi+Qz3QIuVU3Huch8H-TcLGKl5tiqxDAGse1RvCbileioG8HePfHoRKxSQJ8Z2Lh5vie2BEbaF+OAloRfKdPcEBOI4Co97hceDgMQMYD+i2yPg8qmk29GWp4a2AvoP4hNSMAGBXUQic4G4CO9DxjvPsbUKpDPi8ijKYqA+L-HPiWe9sQIjgWIn0Bu2uI1cBRMzH+0pqfEUxkdD+SDjhxqPKLnaOc5M1EJqhD0bzAqoCTaJPKTnrwEarCDeoc49CkR1yLQ1AJi47CS4DSimi5J3QNkN0D+EJjnmJDNKDiFMl+BgKfEi7LmIFSiBbMmQTmpzzUku8iQo8DSetEbDdBGQpfRcazgwLhDug4QVjhFxqzdB6YiE0AKNQAASUrBgAAEFwA4AKVgACVRqkAAAPKKtkAQIMyne0eoKT2J7wDSe2LLF1h0qKk5BjKB6iVSqxUvQyZ5Ir6sDPMTUpIHT0MmdAFw5UwwO6V6mZAWBWkTqb+USnJS0pGU7KXlIKlDTJATQioD1HaljS9sDE0FNAMMn+jPJDAbyesQ2metn8HU5wJ5EREJCRM3oBPidLUxdTLkJ438vKMVE-NXUsY+ahk1OpqATAXgfCaNMIEfQ3plkWjMaKSDVSxRMgSQGoD+lsDbpG0sGQHDin489W85KRIyAAAM5lcZDUEcg0oMgZAvLmQWoCDALoeMg2A4FRlAgkZZM4kYdTxAhTMsVM3IOTLIDulIs2MyocWKLHigAgpMmXrFCJl2U6M8Q-5nRipl8zyoRM5nkh056BA+MHM8UKkDZhIy-JzzMWQTP5lmgqMT1XGQ1nFnZQiZyUckOMg9H8xHInQTxJwJXDUpwhUAjRKUDZnayVBqAtWT70Jmph7MMAtYXAJaxYQTZDAM2WwE8Q-9EBYoooH7IDmeIjhBvZbvbzvpaT2QgQU2ebOyB4z9JXEYgCiNCDaoJerQ6OuIKXAPTBoxsxOf7OTk1SVwXaG2Uf2dADh9Es4mwQ+A2GGYqSLZHsholv4EQ5syY7QU0Kqo28wZHQlYEFBYDc1eh4KUoEOKjD81mg4c5OXWLfQsBFhGYd2B3NJoYFbUW4tCKUFnmBzdhuyALjvMjlCVo5sYJvp0GMCXC45oZBOcQCTm7zJenPHcUKDESM1CEfwLmRINPBgz8czzbodmMaFpiJ4GYoKkxAHD1CwutLKekFAcB7V-xAk1QSmOZr1jEFnrcCYUC-kPSy2u-Neg8hWGVCGKnyfFHgEhAkKj0v8pMUCDmGALSuGC5wUPNFjgKnJEEO2dKFgVMTZBaC-+YgvmENiUI0EVCL5Q9mFjAhbAAedgsogDgKgmc1IB9AwXALT6HlYhaQvoWZZoJok4zuIvXrTA10bg1tiIrEW+1Qh5gGBYDTgX8RCAe4X8JRPeIDi4uMEqcZRjUWTixJrIuuVkAsX-NSQy4lSmeI3FbFRxvCJ+UXDnKcJ35HingFYvcq+K14Q5P4QWN0XQpn5ISt+Y8EIC-hwl3g0AEoshBnisIFi8IIPk9kXivFlGExbiCYmviti34sOYATSWhzpgZSsxe1VL5VLOFbokfHUuqXu13KUE+xXBIrZNkkZqcPkppOvngMhitaEZVZCRngD6AR8FSUQmVnQCuCys-ClTOWxLL3+VooLrRFTknzYgCkMEp0DNm+AJCrcyLqyMyKAFVlacyNqwiGVIzSJCPViVVNAA8S7BFkkFkfDLw6zz0sspuPLL+CKy9Yqc1bM80aVCSmUjIJFI0qYlkTfxlyNBW8HmVOF2YfIxgMrK6UNB3lLYrMRCt+RQq7F6i8SXZlcUVpQeFMdZRuTRU-LMVoxKSZIBknaj8VdE7InFMmkMBMp1kAADJStCpw2TIJjMumQzBJeMs6HDMLm1TVJDUu6S1MWltTk0SM8VQip6mLS+pvys6PhWGmRIxV8I9Khyq5W8rwAC0mcAqo1WyroBUokdoMFdTbTZJFnXaftNlVYqig4IJGWdPtXwhF2dq7UcLMop4yPVGsQnpz0jZKq7p389Kk9KoAvSrwSMkpqdTuW-KU5BciVb5UXYQyFJYa1NT0vgk5t+YZPZiUcgRXVSjJgkS1fareTPTjWuNS2kcw0RWrnhyacka6L9BXToZnU+FSDPulprRi3o0Nbqs7WvLIJb2J2varTl2oKVhaktYiJVkgtWgiLIENZJoGFqjpE6snivWvnzqHAo88CPmMoyEI81k6sntOrHU0Yt1ssHgWdCZ4njS1achqJ5PFC+TLRWovPEFPoIF508tWGJW+pDGp1iBgQdtRLMYCeSakN0zaVBC7QPr355U6uRSGeYBSgQjq8sD5Jg0dDGwZHVpPTnKmlrnWnsH1WaO6DY81p9AQNX7A3WFAioOIIjf9LoCkbeYS5WMFhHKncBvRGG2WTOGw0zqb+pwwxbSQ+DBB+YVM6NiBs2WzZiWCKxkMirPCorlZoCvBVBtSUqqp6-kvwIyCQ24gfJh0tDc8zY304qZiI3DXpHw3GTtg-qjgHRoUDkacW-AKjWZuIAWaGNfoLCI8oMABNdNJWfTWOu404LBo5wIxS4GYFUzgggGgrmBus5DKYNASg5YIGECKq8ZoG4jaChozMDypCWmjfhRS1ga0tMM8DeSH40AbsNwmmVahrE0gte410xLSQw5XTSspOU-KcavJDVb0ptWuafyqY1gaWNATcrSFveAPZRY4IDEBopAKMxAt8W0TVDX-WCbSZRW5acmsYilaqQ3WpVYyANU8q+VTEVbUasZDOa8ZnWkpktrFV9bVFg2znmDF1j6AUYp0E9TaOfWGVLtg5e7QKRJWZADuxIp0QKLeE2q4c5KgtQ6ke0XaUgpsc2DepnUoQGg3os7UrLgzPRAdqMAHa9FRjqIPY3SgFVxumiUaBtpAMGmuoR4KNAdusX1iJkJgpxcUIOsdeWo1iVro11aq8LYqcbuxFQAInHeTDwzEAiYuHSdZXxdXOgGVSE0tVfUA7I7eEvOplWaMEX8KaslqMHV7H8ozr0dNm9fPgCx64Fmd9sHCsTq0CE7XBJgfgLQNKFZjE0qAzdtu13bEp1aa7AZS4Fn589acBZa7Z6MnD20K1RomNc6Dp3GReoOu7JJpGQIpDoM2KK7sDu0oi12s3MZxsBJnqVhOJXEtAVKm6TAy85SqcGu7Al2FBwQ1uofmekJ68pG6CExlchPtUC7suUu4yKOptHy7EmGe+fiPysiq62WXPZNmrxt3EVzKjYG4C70UZyNGQAAThODjJO9vaQvYRw9KcQB9paqNlIlTjcBct8tCoeTXfVlCQMA4FwGPjRlT1CgA+-QB9w+5WQ0Ae+qzXch81lCN9PEJRuyPoKDzYgY+qUWslTxSiT8nrFwD5C2KXzfaJ+wwLI0H2U7b9OtbgO3ph0f6lGtytgCcrOX0ozsAm+3RaPSpl6-YFeiEMcrkZgG0WKun7bjtmQgGkDzZeQSVJr6pAC11QIqCeDIA9xCEMnT5VSFaCMgU+vgZ3q72F7iJjAM6OgEVCU5HBg15IAcBslICkHWW3TdSIQgKqv5s6m+8EN5B8h4G3lCPMWCwf4AxBxD-kKLTEE33U8C1rQY4KADSwsQBw2G4gaQJNSxbFi6hqeqNoazBbUtmWxLUtmpXGGOhXBkg4zT4NhdwSk4g+PCCbnBRADcjCEOIe8hMgaNMWigYMl8OKGtDmiw9CsFEO+G-DZPIaHRJDjRHvIB+zw5-v531qK1ru2nbWvp3gpVDCPFtZ7B93JCU4rQaqSxqj3KwAmTSd8XXvB5Qk89fO-0VhOOFqp-NysbzEIEMCORU8hB-gLOsoPUHnlqffpPQfd6MHm4vRgQKDXYOUpN6BGInGgZZ2lHqQDR0XXJOaP0yhS7Jb2CVTHGK7+JagOPEeOYCyRoINqdnvkaKMHw-ddRwLjsc9ah7KjJTJpPTAx0o9sdixtXfsOZgE7zKeBydR90In6AuJAAHSwARbG1TAEgTIGCAWcpdwTfxrsjQg77cC3B0g38TTD-GC1gJjqcCdxFgmITmcqE28lhNzjyqvAE8J6x6BYQKToAAAF4XgYgYJotpCb0Mwm9ujxnoAyaRN6QUTshBw8YBqioQZoHR94N0c3CAnWT0J0k+0wu4alyAYNFgGDWUBg1UekwD7mmDwBYn8jkpok2yZlMOM5TiTBU1ZCVNnlVThPPk-5CAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESTTFQtIXL0zpBDum8MIIQEE3IqHZOaYIcZbAKYGI6FofQQNnGEFcQg6p1jIl+m3DOX+DCGJnVYWIKp+8am1LMsEPBoAbJ2Qcs5akvhZHkB6l5HySziY1Qit7DmCzVkOG4Kcgar4BwNQ2dQBQ6jqBl18ciSYg0YhBX+biSF0KaBwoRrg5EwLSBnKAuRZ8-xwWpFyM1fA5QGDwocIiqCMR3zmIyMVL5Ky1lxIpgi3ZelepaC5ovA89AKn6CSXpNZwTz5hMBXQR2oqCIgu5XXNZAr5CCOEdKyYhK4yS3ASJI5Z4L5HWZR48RG0VT6trKovlYIjVsBoauZoY4NRhgoi+Q01zNy4rubZeyTlgbYvZL4EgHy5kTN8DVHMe0GacX2QwQ5780aTRqUioKDl2b4sTWtOSpQZZyU1lnVlF8QYzlOedGpiqGixvjcc0Yi0QVlusbjaNHkDGqOMc4TRLjzE6K2XPZNMcdUNWZrWbqW8L5GPWaQIJgQbbbJSSagZyzx30BVlo1R5yr41OMqZMd+gJ1rs6HIi51j6be1bXki2JTL6GH7eSUljVmqUFxBegp1CJhItiEFJ1oZySupJcKfQDVhaLTKU1dVb66VJKCoW1ZB4QPMHKeB+RYROApICsSj9DLIECGLareRFqJSgCSTB3DoHhUQdQwQpigoAM9MxgR2DC0ZzUII5B2MQVSP4fftRnMGH6XTGg7kopl6L5yuReY5jCGwOyI3ShtDK42JRu9lWjeDgpEan0P-IRoKqaxx+uNLT5ixE5t+hrTOB4ISQjUxYgRtQ4TcBUwwazOjbODBvIZiYCIyJEd+QGww3JGCUpgVg1hOCN3rXvS+q9oj1qvGw0fSpjIoulKkxU8LPHxODtSI9J9qthOvuQyazxubYxrHGRbG2AW438BYWws6nHibkcK7Kuu1IqtBdq2FgStxSn5avWJuuSM8ONeEbJzVWrQB-sw2akaZLsMYIqCFthfTZn7L3fN2RnXYqf2fq-QBRWVGMPIYtyhbikFXgUqCfQR3mEndC9tr+e2YtyuaDLAKSmA2traR0+Rt64vvAEByxk32GAcsAUxRs3Y9RJfazVu7dX9Acom42Zz-CNTdyBI51Hrnbzcj1BNwTNZp4corUUXlFXGogMFWq2RuPOg3ulOp2oDP52ns+-QoZv3rESwTN4hger34iuSbuvVZiLG9s3QNlYrOPv4zoT8dTTW+3c6go2d+jIYOK+EQxiJJ7yTqcfrtt+DF9Ba82zt7+gD6IGpqUxIK3HZcT3oTdjgW2zsKJSYNA3FvX4MZd8HeHODDeW8SdL3d-u3fZUF7rlJuz5M6hiM28wrb0GbcD9M5XnuoLe8e8bg162AcLdgfd8qPv-zVJXDB1PwXTtR5NzHghceqNRs7ti7uvclBQDgIgZA6BR7EnHpxBqa8N6suqLvURPPZtpF4M-MggCYgAB9F-GWH8zcfC-QDL9X6kF+r9+jsPcVvlffp9Pl-3mzuXQ7yBiAkCrNbVjKB9HuGIC6enUhYUnwAMi-70HOk-xJ2Rn9mAxBL9GYz4hEF8B0Exr9b8SYH8udwRDMfkk8XAy840-4AFJ9oCtoc4iJ3Em1vYGozcj0r4qIV4X878GAEDldwQSCUC-kbMadmNc8oDlhqYRgbxtp8D95NVboA0SCdcj9XwOC3Mkx9AeCr525B96o5tC809i9ltsD2D39KD4CrsrFwRq9I86AGCA1tD09S9WDlDP1Y5uDxDzC7QYtpDvYDDFCg9o9hCVCdVLCshJC+C9oiDUgI9DCJdl5VCQCqCaCFFwQfD7DUQ9C5cwilsg8y82DTCXC8CLCkirCCCbCA1oja9GBHD95yCzCUi3DxDrCwCh9UholAkxce1D9ciRCAib8giNDEDyinFKjnBIjGZmiglQtQkyBws8idUbhsR0DDlDNuBXD9svYA1OiwcTDMsExxj3DpDUDdVMZ4i5jp9Aj1CdxNC9UyNhF2jOJRcu1xdqiyDajEjOCiiCCSjZC20YV6BO0Nlu13d-Css1D79GjlcBstCV17j-5TFjiqiDiPJ90XFp1+ZZiZs0RQR+dKhbk5Z+C5dQSNl101ioTgQYTAgZBblSRETGZkSp1D00SgpY0sTbkdBCCA1h8+sskajnCYDUhNiPjtjEDktgTrges8sMlotCt+iEw1twQ2TuAIM8TOJkthtEMZMoDYh6TcDLjUjeDRS5o4NJMRtacIM+S5TZ054AZlihs9ipSNTziExJDdSvCH0npktr1XiGSZ9xoRTPCqSyj1hVTJTSCdMEjbSZYJCridSljzTvs0T0TYCGiWTaDvt2TRJOTAzISSSrtwQIzhT3ElTzAQcZinDtV5iCj9sbj7oxkJlqApkXjNSpZ3jqDPiQj-lCycFIye5sVJ1ni-CSy-95Tz8pCUyXB61Yz8jWyfSFSpDJi5c0160iAPT1jSzvTRzBzGZcNS0pzmztopyOyho60M19B5zjTAwbwlyW9ZA28e55BO8B4e9h5R4dAZC8ymBSAR0eo38dV3lADh1iBcyoy7hfEJUeiFpuAScVddMdUBTyVCBKUuYgZwRSdCgPzJBejvz8B4lbdHSr85sKUqV4U7zbSmTyydwZArJALgKVZQLpzOJxVuioKFpVk0LAxSS4TsLQAESEKZz6ywcZAKLoTFoySaLcT6KiL6yVUhV1VmKp9WKZx2LuAKSXyvFOSBcTc3hrUWKMSdxwQpKDUwKVB6BZLly6NJY-cGI5KQytiwR34rIlLaxazjLg4ZL1V345LxirLKS5dL0vgdEd5KdKxqdhUs8-yTTxD49ljcM5AAEPLMytTupm94Z7LHBHLg4WBOUQkuAVdChPLAwsJ-KhF4LzhGwn9g4ctcReLmDGQ3sLzXyfFYqjBc8GcE05LP8yrrdawzSA0UrSkyrVlYrngEqgqXBtoGrCK5pYqCN6sWrIg2rPStzxCurxLyd+UqdVVyNqqqx6dvz1gsqCFBLgQLYxAn9SqjcBpACOAd4NrTwlg-RSgsI+cGrNrv5yr6cgEWBFqXKTVmhdr1rVBzrX4BoAAeVava56g6orTxD1CEAAFTvgkroF8EEHxVn1GybHmWoFqGaHBFAAAGoiNWtbZx8hQEkyrwhkaVKEbkapdCg0ad4MbrsrrfrTJSBzJAbgaZBiBHJwaxBIaZNoaCy4a7kkaUa64iaxASay8BocarIOaCbYhuaSafq7KOi75pJg9fdo9c8-tYgz0QFqC75sRArphvZ-MhAXq9RrcxznQKDvS+bfqFZF4VaiAhdWtgEsF8AnKxAXK3L1V51hbmgy8RwWybYsbhaYhZgc4frvbQBXaAs+z-wsabQ7RxaMtJsVwBxF53bMqLTctcqKlYtph-qy8rJbIX5yhQBkCJtCgpt+MGhGwGrGQ-KSr5N2NY4tacVeq+bmrz4WsraDzz4+qG6hFHxWJf1EqXAzb0Q1bQrCqmQ0cZa88R0M65q2AFa8xPtlb+6Qql5ptNbg6+a9bU7hJVCjavaCIUE57VbLbnYHLbbx8HbpqnaCETbbFnkjd3btZt69JSh4JtoDrrdL7Ygg7taiIw6-xSb8d87eMY6AM47Hzn9srT6+LZF16ydKabkJ77ls6RBc7z4Q16D-6iVIw3VYwS7Yqy6VTqUK7m8q6dUa727GqtrSGm6raGq26uq0Ho6C6e7FFzaB6l56ZW98Z29Dz+5u8h4+8MAh6IVSEMVYUfFsUNVmy9LmSwQvVwR0UYUg5ay5HMVg4oUJlpMENdEEUFzsyEUm1CohH5HRGOHGQ1t0wBS5gVLYg5hVxKHCgBSORLGYgOQbHIkBSMJHHzNSAXGzH4z9kPH9lvHpgBSz8VKz9nRbHYgBSXoJleYVLonQ5wnXH4yPVHGPVYwImYgBSbgn92YWBDAwLsnVBcnu4VgMn5KwRwREaPHYh9AepuBfAG5jZ3lkawbQAymBTPJqmYhan6nGnQB3kfJWn2n4z7NpgenQAGmjZ+nQBIQJmYhhmFLgAumDA6mJm+n3kwAhmkmFKABSZZ8ZyZxud5HZuZtp7Zip8Sapg59Z92hp85iEAAQklCudWcOaadACeaBDuZ8YUrev2deZuY+piG+aCfjLeoBC6euamfeXBeBYWYqcNn+d6ehdAGNjhfufBENghe4CKChaOdRaBDWYxYeeWemcKEbhiAediFvPTAKniyUZEepXrL5sBBXEGOzgGG4AZaxQ4bpYBx4AMeUaZfxjjRYDahMESwBDZY0GlSmbccFZEZUvGN0bKaKG5aMYLF2kinpYVbLmrwx3Ka3HjO-WEBUpNdVebsyfjMgDoG9HUXDRxZtbtafQtctayaoCKdgEgEccKYYC9ddebvdZyYAFEPHfXg2A2raBSAA5cgaN5Z2N6Nt+giPlqkdV9dZgc3Mq1llYdl4URuTqoBdN-V1NgQYtjbGcBNHN6YPNqZ5Vi8AVqFQxjN6BLVv5eZNFXVjVrqL1U5TCs4xh1FBgaoJzGUf2XwE+tqQOdYZQUhTQA+1cdN1RjgCpHBDVcC2IPt-ZBEIoR3MU+MQgcB5gg2HA3unqPlVdKaiBsEMTc2EQfQdNtZVezmuuct+QlgrayNzd8re9x9+s-AMViVhnAOxt4RvVitvqr9px0Bx9HKq95gvR+LBOsQL4G60xeDipJLA9o94VNMaQOs4xjvbhweXvDAfh5YmSigUwUmWq2KG4UgRpf3XS+OOfTcGy1hJhDgTVJOD2kOvjpjxFHGhgPGk2dGmQCmdj0hEiMRZoSTzjh8Zc8lG4PLCVLQWdUhHefW9E8gZQZQWfDIaeIwYFXTvp7uZG03XT928EBG0oazwOu5QW5GnT5QKDlYazpMjTglZcp4ygJ9GeTzvFM5QL8E3zyZiIaCRh7mjm8ECEDmpTpxYwVT-mdlvtnzp9QL99HG6wcEbz+IXLP2BQU3fFZju0rIU5YzO5GWXSEycBNbcr0AH-ZSQDeOcaG8cr8IZfXjtr4r8IT5u5YoeEHjjlwYerwA8EAb4yUoSjnTmcMmD4cqejxpcr7dAwYgmGosj6erxr1cCAotHiwE3RdrhdO5WL5GtL3EAr4bors5a7zVIW1cBGkT4YzAyA5VA7zbnr+72MR7jm87pgMgQr8Y+tI77G0VeEar5RAVyQPzySUEFS05LlvLi7gHyYMzCFLOZblYY6pHiEdxhzK7bacr8OsrnrxH6H5H0gQSNH1edfHeW7nj8EAAchE9OWi+Z7M1FvE9u9y-J5o-Jn0DJlIDC8YbPwEiahYHn22kF5BctcNboJEFxuCFxoch0isgtGLFxuvI4HhFR6x6h9C6u+l6ARvCN7J9C-+8p5k-1786l9rCF+N-ENN+t9xCN-EqnerH8zncrYYmnQ8G7VWhK6rI29wWugq4FKD5rO4De6eJOID43YkuxHd5na94I195KTcAy4D915q924D544FIG+FNzwwLSACr6mz5UhaD6nEul8fleR6jT-99D8GnvQj66lD9TpLuZdz0ZBXGe9L9e-25j6qKz5430b97cBJhBXihldr8-nr8b4z4ZszU7vHII4LFHqs-cZ461hzg2Qn+MBVhBSAXGP3-T8P-TQJQr4zifZ77G78Z3-kHP6n4zTM1v5vrG6T89+oE0AIwh5vk8bSoN+GdMTOyy-6zsf+3vA1IvwZz1oO+VvZKt3yNyI8D+L-Lzr+gwz3pDMWfD9HGQUqF9r638EvtgI77oYMG0YQ0NBmr7d1fMcuJ9CQAD4rV0eFmUPjxxhjl8zM-1a6JnQeR+oq+w-DyPQOIC1kLKUpZvqe3ARYRWBevbGIQCt5cC+oPA31E8laLmBRBlSFAssXV7aRyolAfAKDmDgDAKgtMcvitSEGMCxu2gnSMuSMHsxJ+Og7KGDnEGMNto6glfhLU4h84WA1QbiHT39w1U6wEgrCP4Mnrnhly3gtRM5X9yI4fB4+ayjnAiG+DX84Q2IVEJNyJC4hZg8QhkJ3jdVUyqQ+2iOzOohCuqK1NsJ4BKEtVlyE1QYCEMMot0O6K1E6tGQKGk0pOyEUIXyCj5VC92txEhIwIkGSN+2q0KyANw8H1R32ZCFZNwIaFxUHACDFWCQgYDqARAHAUgOtFsJEBFkpgouj7FozeFWEOA3Yf9ipA5CxAwOAocO0YBnUZhY1KDLHDOHu0TWA2UoPMLwpHIp0Kw4QGsJGGzC36zQXIIQAphnCGMZw1frxnIF7DVuH+AtOXygbtVABgIiTjnA77cAkRfHeAVHULr3CdU10LEd3QRHojQ+4lW2M3GpTCxZ4MrL1Fpw4wUi+UeGU2P5zJF5sgU1IdInLhkB0iLYDI5uEyNZglcjazMZuBVxKw59ZEJcfoGXBTgLsVg2sIUfyNJwFxjYnIqgPSNJGsw+RLcK4qbA8K0CJ457CnEKHXSghLKHHcUBHCoDdDG6g0RsI8KBAgiihJVSoY3TtwPCChTw8COOB441C2h8nC0Qoi6pmZeIfsRgNk34ggjBcYI-0VaI7riVgxZAUMaFGeq8RoxfwlaqXTG4yAkwtQBGgzyzF7AcxnA9oJ0AfaWiuIVAcIDx1LqJ4Vgh2Q4bxErF68ahw7DeJSBNG04Ux5YgMS1Wp5dELMDYhrr-mYGbhHE9qeSJnF84JiGAYY56jeAbHx9FQN4Uca50VDxikg04pMVd3nEgcCI20ZcQuKoYtUre4IfMRwFNYkjx8HAPQYwHVGFdbyTQrOKsyVG51fo4wtQX0HaTsxGAVgw7vYNRDcBa+nY2vqUNVzxYZxsJGkHakZBrjExfEZ6oBLLE-j6A3AHcQRGAk9CER4E21OlHUinjCxevUUZXztpXjsot47rHBIgnGpxKvAYwFcIqA9RSxA7BEWvk85biKxb4lwGlB5EajugbIboNHHJCNgDWaUHEHxL8CcUERGOMCMGHHDFZfo9nQwOJR8G9QGARIX+IxPWiNhugjIbaA2NdFvF+h3QcILZwG72dug9MK8aAABoAAJYNgwAACC4AcAMGwABKANSAAAHlo2yAIEAVV8qSA1AdgrSKiDOgwSYxgQxhjRJUYygGJMEirlxOUk9Qp+f45wKFNVEJireXEzoAuCQnvBlyWUzIEFOLCpST2jDGyXZMcnOS3Jnk7yflMkB0TeoyU4KSVLikrUuJZExKapPLDqS4pavFKfQE8i3jNB3sb0Ef36nvBGJIY8KXJVvHkiqA7LOVKONnxGwpcagEwF4C-FFSHBuCJaZZAnFTS-hG7WmhRNylpTJxSQaaU2ksla9zKwFP2IyAAAMJwZYjUEcj84Mghg9bkHmoCDALoH0iBA4HulAgbpAM8UV42Rp4h9JCYEGbkEBlkBlyfOV6R8Pk6+jzRcQf6W33Kg-TKqWccbipSwggzMZ2UH6cT1Rl-BdRQ9QIIZmRnihUg1QbIB9M0nxZCZX02KD9Pyp013pruImYwB+nJRyQ3sIUcHEcidBGkzglYBQX6HN8kkpQRGZzOiEzCWZBZYPsO1TBJIVEUgjgbGGOpZwhZDAEWWwEaTsC5BK42IHrINmNJZB3HUrPwPewIjzZoshmVx3EoVBOYoQONCH0UFzV2hS4NMVBEFmBBhZjsiKSsHvRSy2Mp+IBsWKyAhCHw02CWbHCfJR0C6fGAbLaIuGRDCh1wiutNOTkCYHhHomSRqG9qlAsxUYb2s0AdmGyYhmc0EeCIzBYBoI2IohraSkGNi0IpQKuUbJRGIpOuXcjEdfxtllzjA+IhhvbMDn6zg55fcagaK5hGigKFiP4GTN9mnhppNo+LHaNAAOjs5ACZ0bGLvQAZHhfXc1tNi-R0AMaG4uCTXKSGgiChQCVCYUFXl-CjgL7SbJgP2EfDf6dKK2ngEhB-yVwto90faMuGOjd5nQXOSuCChHzpJ6oWoDLOlAXyZxy8rgA-K3mXDIxd8lCNBFQiBibZPouoeAufkYDIRA4V2RVlSAfQn5e8uOREFAC-z-5CcnVCeOzHnjiFlEXYVQIvbILrcEChhnqM4gOBEFm4wgHuF-AgTGGGY3CSwv-4lA7keE01kWI6BZARFXLUkFWNiq9j+hIi9uabVnkqx55ttHREvJUU8AxFPY2scQnrHixvReilsUEkMXUBjFv4ExaULoVgA-5kIXsVhG0WDjJBWcQgGor16CLxOl8-iHON1ggc5xpIA8UUGCW4gkFukiJbL0VC6TolqClYLQzMzMKCxrC-hbcRukzw1STE4aqWQwoIEilRlD6SIPoBYIaJuiG6fEN7INK8hLgEGWDgaVMCWuhRO0LREZmDzTU4fNgCLN8CMlrywgq3gsXELNKOJoaBZOzC5mGoPpAEu3minSkXTQA6E60aBP5ZYID8CyxkFTNbr+46ZuCBpRDnixxLKJUEoEKKkuVIKEJ50ugDEqNA1KzwI-XZUIAWWmyVgmy-eQiMuXYSrO8imRaakIkZxC0fPIXk7KiqwUKYHyxgA0oXHETJApE+UYVwBVMo7USxSyeVIYAuTrIAAGWDY+SXxmQZ6SNIClFMbpZ0g6eIv+W0TEpk0jKTxwSkxSSY1KplUkEyn1TspCys6C0vEA8rCpHKuSrivxVErwAdUmcIlPZUfSaVGUlarNLvaDA5U7UtFYBhildTcQPUtZTKmeUNBFKH0waWivhAbs1VjIvGZUo4DGrTYOvcSkOw5VhS-ZkXNFXNMpHYg5UN0qZlLiHZOIClN0rlrqumlHTKVfKzlU8r+EzKdEzUV3NLwF4rKuijy8KdxMEiKrXVKo91TKMVo4NG4SSJVT+xVjSiBso0raSFPjXkxE1tKlqguOfEOq5V5aoXpWoTGXTdk1DW8TMohVxrpeya9tevP5atBkQjIESeYKd7ghO1KyiNCUo2WDrACzwvXtGrUaQqKY3a2YSmqt4DqHABea1GdCd5tq0VMyhqIlPFAaTOlDIjfLpPYnH5LFbHPfuxJJF6DAgparGbzJimm5xpEWD+UeqXm5SI5xdeLNpKBCdS1J2JH9VHUbB6dKa2uXKSmurbOxzVvI7oH1OakDShpdDIqDiCQ3FSUNJq0nFhFyncBnxEGqmSWnGlrqJszcyNGFUZgfBggwcEGSO0ZUdLtlabXVYyDeC1KR+Zyg+dCIak9Rj1cUqBlpL8CMggN3U7EnFLA3xYiN2uEGbeNg16R4NPE7YHchuk2rm4k6hoOhsQ0qajVQ03DVnADX1wpm0mzbLJv3XkbU5fCoerYJBnBAn1m3d9aeoKU-rX5simzR9LfXIaZUZmWwblM81YaZUNg4QGNK83+btp60GjY+ug0MbX1oGwSfFlfghaAtBrXFZVNcnuSvJkq8kKlqcnpaapJKvDeNII19NEt9m94ATljjggMQOXLih5Hc2PAmN5ISLXRv+kxb6J0K5HAlrYAqxqVjIMVYSuJVMR+tEq6CQZqWVGbG4pW6lRVqYXVbxK7UfAPTJOimAGce6nUaerAbLauoW2w6uOLW3NwzMC2+mUNh20F5wYlSb5eOv564YttZ21GLKm8ytZ9t-IptOhvl6msrIV2oXipSO2Bah6hMaeAqlXW9qJBs0jNQtKvAZjDYjcxUKLy+0UwAdanJdddxQzpLCal4lFTePVW0NbAj22RciuvEpqKGjc2CK9l+goQGgz2wSNNDe0q9ca8OlSojsYhD1GpenaYTsMYYwYZhyHVDpogw7CIZl4AlPoLiB1U7fQQUMHRSIh3OgodxkVnfwAviaRM2NAaeAHUJ4ZogEDVfVQYErBR9GmO4-6rrtc2Wt7kyglwLxG9kho8aJOx7eCCF2QC-+1s2ZATtRWMjcF3CUlVPWMhi6ad-ACEPbt-7vx6dY6JdSpQD1QCwhOARsDcAb7xNeYjIAAJwnBvYce59Oqq04p6eIocFNcOz9gzxuAMqabFgITgfBf1rEd+QYBcCAEHp8I2IKnv0CM9GeVkNAC3o03l7IRxwuvVnt5hXdS9dDQoKnpz3qJ58s0-AkAhcA+Q6KWYAkV3sMAxM09dsYfZuAZwx7no3ehpvaqGW8xRlI6NHLRp7X7r0xddNFb7oqadBhlO+4QZ9pD3S94eW+kZVeUj3LEz+3aZHdUCKgngyAL8HRC6z7VUhWgjIOfi8mYAN8X9bgUsQtEV10Aio0XI4Hau43XYv9x9J9B83Ug6JdqOkKBvXvBDeQfIYB7uNLx9jQH+AMQXA-5GN0xB69f3LtccDfkd6WIA4aDXoIMHsxgt-MVoGXsKD1bg4dmvzb5tI1g4ODdDAcEHFIDf77WqBiSOgf2K17KD6+iELge8hMgAtggNg6IEUPeRyDhdNiJZumDYGNDPkQg9hO7gGHOmdDQfWRLzWurpdkOnNdDtfZI9kdqEpXdAimEXxWg4UgjUboEqNwl4K4+HQL2FIY7CdZEmWONnex5LzAs5d4I5Hnzv7+ATM-tYAYTXz8QDMAiA8YA1UwGcacBzutg3PgGsAjHh6kMEdd28iwjM2r0gnAaq7aFYSBfABJTgnj4ux5AWSNBE1iOG41Lh2RG4cCO8cajQCa7HrqmZ+GXZKQNqItp2njHUYB+9bYMOyywc19r0MRijFOgijTMFi4uP7ElEB4lY-MOVAEdwyrGIYxxi7bMeFEU7cWfTMGJMdrTIxpjp0SuA8ZW0PalUx+nUbjDe1K9r9ROLQKHojjjHJjeHfA8jsZ5WD9AyS0AAAB0sAzmgtUwH0EyBgghXGWPU16aIo0ITeu5KIe-3jKTgIJuNWCb-EQnklMJuE27IRPUpkTpYizLwBPBAIegWEOk6AAABeDbaEwKGVWUmkTlPIYxM24BsmMTekLE6ESQPGAaoqEGaHgyECGBYjm4ME-CeYM8m7xaJuXq0asgsBcaygXGqa0mCM80weAAkysob1cmlT1J15vjwUrqm7kmpnCjqZ14in-IQAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRLpMVAIn4xS8myM8fgwghAQTckwXw0pghalsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfIdJrjVUOPSPKtTad0ug3Bpki1fAOKaXDqAKGEdQcmhjkSTDGjEIKZzcQPKeTQV5JzH4q2uUBciz5-h3MvooQg+Byg8yBb-d5hsYjvgkRkYqByulhwYE4lx7zhkvQ4VLFaTcDz0BiWCNxBEcXmKnlYi5Hs7ErGuYSuxOKyXyFoR-Rlj5YitwYCJCZZ5a7cIxQU2IpQhWbzfvQKWYIxVsFnquZoY4NRhgoi+Q0ZlggXKsrZeyTlxaIvZL4EgeyWl1N8DVHMZwK4eVGQwcZm9rFiMMPkz5QUHItVIDM-QbqdGlBtkkngWMsW1yqKQD4Pr+4BvyWy6YjrnWTNGNG65-rOFhHmeFe15hKFCJEWo8Rkj6EANFsbZIqRTq1n9dXLpLCi2kDMYEW6czZESrKWeGu+gG19Nle8QZHi-SmTrbXXt6iWpKsHQAnNWAw6ZIXME3x-j67utkWNKFXcFCaFxEu0JA8JifP5WLIM6pQzkk1ZC4U+gppdWjR8aJdCZ6HqgisIK4blYHnvcwLQlKD27QYQFCFR7UX0CpJG799dhW1kZPjD9EGZwPt-U+6RWbAMrk3dKhin6o2IekdBh8IH-QnoQzrKDm8mKFEvURuMFaF3DXCcul2BFuF4cfbE-9nB0NZgvXaudJqk2dwcAQohvUD4kJueSAVZt9DiYkXIoNM1bZYShMJ6honhBwm4IJhgamI4af0DeOTEwERkVAHx+dhhuSMDhZ-KBMDZn10Npuvdfij4otiI2Z9jJXMgyQ8QSljnB6UePXRqaAWd0MZ8fu59Er9LWyU7GNYtTLq3Ws06-g6DoE-2saR-zf7YtMvplZoQGW7MYOcNY-RUWIm12pXY1jUTkMccK3y6jr7QsJimu-cr2XGkBNjApUEPawPMA-llmBy9V7r3c-jBRoDUEcAmz-Epg3gTDYWxA2+FXY7bxm3AuLMRmhmwChZk1lDsm5OkR6qCjY8WMku7i-Azij5MUbN2PUPn0u2eW6iaxeKwWgfeAIPTNDag5yBDp0HBmPthCYu+0d+g8UJoaMS1LXdT7ku5WCWH3BocajXQwjO-G6p5tfhU6766oJBWq1hkVzH3GI6FX0iRmipFOZR6uIns752UJE9j0tzcxqNk3oyD9-PKUEenc3Ji-Ops7ylxL0h8v9tts3vk+HJ6KNndJy4Shm20Hbb6wMypDCxpy8MHt5B9ODdLaN5Ny303zYc5XB+23IN7c-yl-EoZruZ1nFiCTzm+bRvX1+ybynZuoIW6t1Lnr4fdtO9cSsD98fPexU3tLorqP-cRSzoinOchFAQBgPAJAqAy5oGJLmytDGO5dzrZHI+5auum14KvMgzfQAAB9u-GS8adJvcCYi9-76kNe69+js8Hj3vvfp4YzVezrzmU1mBiAkCtUZWDKB9HuGIROJ77lY2HwAMhP70HGzfxLsl32vnnJrJ4kOb9Tw-VbyDr6Glvyp4I5NHKD5xR3BXcZOTZ-KTE9baQOJzYnedKaJXHlYfV8AVNfDfRRYbb-OAnSDOedDAlXZ3GfRA8Ay-G8CApMdzNWE1HAzPBA5YIKEgu0SAwedmf-X6aFYHMPdPCPJzKiJA9-FAr-SncENPL+Y3egP-edIQ+zL3QA1XLgggujOgrIBQsgrAk1CQnbRgKg7RbgwgkYG8Bg4OHNGA1Id3BPafFuV-PfPgtAgQkwjg0QlQ3XKsFBLbYQh3K3UAzrQMJQpQg7cgxw2w1wr3TQ2QmgnQwYPQ0g3w+-Rw29BxVRFnEtagzw2vZAz-aw+uKyJRExeI9RVnZwMQgTOIsxbLSxMgILcwujJWaQ3efeKebgHw7RPwzmLIxxZ7FxJIr5MIwzUg-QpgowwVMWDwzosLN-D-TfdImRcEIVfLUhAoxw5nXIxIrQuQhMBoqA6IlfVg1hZwdhRYtnIYo2VvSwtIncSperUAQQ+gbY+gXY4tNnOYzmcdLhZtXqDow4wMR1QIGQLBOaQw1Qq4xtftco7QujT4yoLBUkP4xwp4ptToMhZY0I0E0EAY74ypHQaAh-NuRjGLBE5I4BVI8Y04gQ3zB4ziarXzf9EEhMLfcEEk4WVDBwzmXzJrALUhYEiIQPPEtYxgqEzmPLH9Vk+Ahkqkrwy-WLXkziRrGYlrYUlYwMBguHO1foiLSgXdbEtzWLEU2vGTcUpUzExRdYNjZreE1dCoo4mTBUvo-Uy7A494lI3gk4k0yYy7UkjyarG0t4oKGkl0+kpzCUjyR7PFW02gogyIxojYziWA1pagBpTg-AxEo4gk1AokjIi4s5GMn+V0jWRFRtPIrREIrk0Mu0A7f08wdNT0roiI4sxoxkzib1dNIgSTPEhfRGRs2sjyUjaZfQNsrUi-EYNs0slwRrBswgJs4YhMG8AcvjfPXXQvPOEvQucvEuSwGvfE0gGtBOFvQMXZa-atYgCMt024AxRFfQOlUoqNbgZHKnMApEncS47dOFdqMOcETnQoM8yQMoy8tojXPUmI6FB8+FN5A-EY44wksEGQKyXIACp8xFLM41XXYoixD8qNZWYC6k5Er45WbgX438vknMoMmQNCj4jC8EiC0ASE3CziDlTHLlP9QirctEEi74si9Eg864I8gYitOPOVUhIixiu8unWsF8lQHij+ds8wKaQS2uTePi-Eh0sC-QdXC4qSuCu0gjfteVRShiWSpQmSjExw3xL4COPuDHSsLHP9KPG8ic0g9Db6E1UjOQQ+Sy2jVYy-Wy5gvNRwIykGFgfFJCm7QoKywMLCRykhH884RsHfEGFU3ETlClUhRkE7Vc6rUKreJ3NdF1WSrCaojKyZcS8WJC3A3LJC54QKly0UkYVK-K3OKeAjYqqeUqzkvEm8KqtivXOOElUy8yp9K3XKvUS89YaKstF-UEy6MQHfIwXq8Ia-DgPuCa08JYP0UoLCFKpCya9K+iPUY+FgQa0yiVZoWa8a1QdaneEWAAHmBDGvms6EWrWx1U3HBAABUF5QAbg6BfBBBfV282SmxozahmhwRQAABqczOxBqSOIUdoqa4Gi4qyGG84oocGvuSGrSraw7RZZZJ6l6mQYgRyT6sQb62JX6upagf6i4+GsGwfZGmQKG9K8IEG4SwGkGhGwoJGsQFGhaq0xwvKXA73K3G7ckXnU+RRBebEZy6YSzazE69ePqsc50aTRfHKw7BaJuEWogBnOxQy-AYysQLq2iuhInFmwpTZJ3EcPs26Kao23Rc21G2616ZoErX+IiKam0O0TmwHViDDa9JuM2qKrdSLOK7HDzVHJZXVao-VOgNecoa2KeG1bUYDDrBoRsVKxkByta7jP0IKR25WQqnKnOhq18v0VKuq-OkhPlKjXjcqvXYW9EMW3PVcmPJ3Pmp3TagWpEc7Gu0W-1YalcSWoQaW-qpwramjZstvRGJW84xBTu9Wq2rWnWvW+KnlQ2giB2q3M2t2S2l6UoeCbaBaza5WphbO52um12rId2kLcFL2gwH23c3fGKheoOkemIe6geiOqOkQGOkhC1DAuOp8SMLVWMZOpC1Or9GcVK7umXfGLOqW4uvOqqwu50Yul1Uuh8C+0ANiIK6uysNWuuyBvPWQAvXOYvAuMvYuSvbADy2vP5Z5QFXXRlXs1feS5M8ChwKyahgFYgVS9hl5EGR5OpQUn9AZd5XspQ5FWdQqMBf5HhhFWcxkLfdMGkuYYS2IOYVcbPQoGkjkZRmIDkNR4ZGkjCbR0NA8PRhR4bSSUEIx0ZUxxNcxlstgYS+x50dR2IGk7iQwOpbqYS9xzxj6xUFxmIGk+67R+62MAJ9bO8m4HfFqFgQwF8qJ1QGJnOFYcJmkoGox2IfQFOUAXwaa46XZEGvx1J8xzyDJhmbJ3Jo6UAXZHyIp-R8xrTaYLJ7gSpomap0ASEHJmIYpu84AMpgwCpvJ9psAOpsxu8gAUn6eaZyaGd2XGa6dAB6bBHBHEgyemdafybNtyfqbvIAEJJQ1nBmqndl9mgRtmxnlmzqpmjm2ndkLqYhznbG7yzqAQyn1nZnQAXmHmlmIRDprmWmPnjpvmdnlnDpXnuAih3njnQAwXgWLmIRdn+n2nCg2mYhdnYgE50wCpRseBJGaHjyEKcrAQVwlY5huBuHaGCxFSJHHl8WZGCwnUWAAArEwSgCHEljQC5KpgxvFjh4S0RhwYOTnClglqltMSKHFkVoEsbNluR4bGktVWoYSxV1MBBl6GkyAOgb0YRa1CFzV7V1U8J5lDR8xhJhgWASAbRs1i1o141wJ01qgRJgAUSMbNaddtbtZpIADlyAvX+mfWvWD69JsXgdcXaWOHpWw8iWAQOXBYqntpCLyXeXpGetqXJXk3yZ48XViWVglZhQ2nRGLww2pHM3Q9YlxXsDWlfkM3RXMEQVfVmHZKfkGBqhdMZQAZfBI4GAmWgZ1hlAwFNANbVwpW+GOBKUVsCVzjplG2jgihl8AD4xCAH6-1ZK0d2pA6-16sLoRBTya36XYocruAra1w9348laEHt3BgpWcV8BmXWW11j3i26Ws28qEG-b76N3eLxGcW-ao5b32EaLF7ippwl5P2eVxWZyqWiH85S8i4K9MBVy3hTpyBTAGAfEPhyobhSA0l3dZKF8O9NxdLnC-hg4rYlCbxcOPkGaGAmauYIaabsZdDSDKO5FmgiOwESJByRKFAbgGM6UtBW0wE+45a7TBBlBlB28Mhu0jArlxOhmc4Qb9AUPlAzbwRAbSg1PjbGaYblOPXYw1P6ShOZlqrxEtZ2iqaxArlfU11p3TPDXIhoJMG6O+4YbwQIQYaoLePjB+PeolZbP4hVSrPjP6aLjrBwQuO7PcR-pZZpk8Ox6shYurYf8ZpdITJgEt9YvQAz9lIb14vui7RYvwhe8babxCvQBTmLjih4QrZGPBhMvr9wQqvjJSgkOKBUP0PYosO0lEvh0DAoySbYzH5MvsvVxH8I0cyEj9jCuO0Lj3OQbIumAyBZZtp01puKb9PyaQbqinVain8OU9iBkyvmbVxAbaOFvovav8uEvrOlPfVg56a3F4RUuQ1IvcpLGguk3JBVTFvSBBJWPgEsIevh5XvwRDHtNhsVu7vT7bv99j5zulv-uB8jOYeFMLiAByWj6ZVzjH22NmlG2LiLgL3EHxUgFxEnypka80xfEhAjy78nvTtCGkoQYQRm4IRmhyHSKyC0YsRm9cjgeESYK2V77aen6H0X3Fr7qLhH5TInun2sUn4+G8cXhb+ntq0AHt6sKzAdmcGVLhDwVnDNQgOLlqaMwb3+MRVHpn03zM7gfbu4gZC3hBpWDXvt7X9SvXvxNwIL11ThUjjGYBEAi3q2Gkqr4WWPYApy33-7sRNX8n5ebZOOZtfXtwQ35za9fr+pFbC3jzZOnM6o2DOCcP3b8bhCybh3qPkLCR5P4wFaa5eKTluPy3BPpPz3mzm77PkLIKHFfPhrwxoXrGbaD31nIaUFeoosrIIftwEf6zv3tL7vtehr0ZZ7hBXF6v6fmZW2ef02hrl3rX6gTQAjZfkoYxzcLfneJ3zl3f-t-fnXhiFv1nb31PwX-3kKvP-m1f1v9fxUqjYDTdQPqPo9F6XMah8TaQBYvk-yAz-1owhod9JwlOzHJHCqpEgKnwYoA8w0vvMjm5QwH+8X6YiCOoag2Rl9zASAzhtVSQ5skUBlPE2MUQPCp8rYN4IPjgNDqbg8BFxA1Osnar29zA5A2JH-koZMhiw5UGOLihBgDAKggwC3qgJIEoCGu3PaqFxzEFUItIsUIMpIKoEuBtoPAtlhAPnaHk7gLAaoNxD7haUOOyEIeueFQFYR3cm1c8FxwMEiAu27uJHIYMjg6VL89gowfvjsEuCTKmeDwa4KkGkF-BfcaqsEN1qttwG1gmqmXVQFthPAUQ1qpRQ8hrtBgUQpSlVUsFYx3SPg-uGkO0q28SqavKaKAkoFOdGGYxZhobyshVd9KK+Ngh-HARdJWBqVPHJHUfIrRQEDAdQCIA4CkBDY4hIgO0l95EZN0JQ7Pk-REqhswhD2HIS20YDgNmhhQqBiemmHX4VWk9aUO-Q6HQIuhzPXoVUOiF8hzizQXIIQBcRhCpcYQ8ujmF-7p9UgWEcYYnWIx0YsIpwlxNtGz7cA3hV3J-h7R-5QCJhsAwgGgwwZV0RKZw1PmrxSEttO4lIUEHQiiEqIZEGQ27Di1WGgALhEQtagkKWFgjVhYEYMOOCtgpCTBi2LgFxCoAFCGqymSWGQEYBRN+IFwvwTkOPhIiqRZdNXrxH+j0jQox1XiJDEpGHDZKKdBrjICTBKtQaw8cEGKL2BKtbY4SToKeUFFIjwgVsFOjEFtjFDoESomfMSI6ro4hQQJeETyn5EUjkRJVTUfcKxi8RwgZ+NAbQJVH98tYdIxWLyJ+E2i1WKwG8CqM9HTAuRLohkcdUH5UAGedrGINtB9GPsaUJVf7tKPFEs81eagEwF4BaiMA5BmCdMc4G4Bx9TRcfFEeSEbCBiBiNIJVIyH9FJBXRfEY6jmMFGZj6AR7MMVeDzG4i8SRYxVOlHUgyiOALPK2MGjS461o4scC2AJF5HFjxUavXgMYDmEVA44Oo43mzUu42jahnENKDrDOg4g2Q3QUaKiNDYQ5xAkgDcWWF8AUUwREOAkWelECKZMgxtQwEUJlCJ8iQe8OccLhxbdBGQwY4LGUOMLajug4QDTlV2NrdBZ00cUAI9QAASTrBgAAEFwA4AJ1gACVHqkAAAPJetkAQIJKvwJxpVilBggsDDqO5Hsi6w6gsoFOMMEcICJdI1HquPIlxwR+U-bSJVkolJB-uq4zoAuDrHvAuObEzILhMYn4TZK4EyCTBLgmISUJaE7iZIGnEcJ6JygpieWLoCyVVxfsWiQwEfHfEFJx8cEJxM8gyw+B86b0LXwYl-ZmJlyIUagJlg8w+YSsalEiPbxHQEaSYnJKmL4mYI7JlkUNM6KSBETQx3sSQGoFcnyTaR3koUcThAl88QYuQBwP9EZAAAGE4PwJqCORBUGQUQdb1ijUBBgicVKbKminaAgQEU3KR-G0Ag08QmuOjIVKinFTSAXHarElImSmDHgUQwqemTN4ttIITnFTCAKwgtT0p5UTKdDxY5q9AgcmBqWSNSDVBsgqUw2O+BymtSvcmUxKrjRSlLZ5pGUrKUxHnTywQYjkToGkjUErgBUYw4YfjD0QcV6pTg1gb1IG4LTUwc2e0SwOwFLUT+hmQIDtL2mXdPhRtbaQwF2lsA0kDAqPnFlMhwDK6zVN6b9I+kRTlxHkCoG1FCBOpzenCeiI1PJH5j26iAiGX9P2nB07Ydwhqf6g+RPDBQ3tdoIqKiGEZiZ0wIKHuTQb-DKIVMpOmiJmEOCTKWIpyj5LpnUyVhZtdYfTFKBiiowVtZoD9OxnODWZutPwdcIzBYBoI7WZYSBQeGqiCIpQUWR9I+EfJiuas-6T8IfDHDvYN1fciuFBHgziA70nWRbyhH6j2oho2FNQj+CkjxQrdcyTuKpDojMR8w7EcRyXBCimIA4aYRVxVa4ygoDgSGpWMZGzDmREs4+FGKKCnhOZko8FACNGHajTwRM5lHgEhBZyVwd2HISzM8FzCeYXstgJzMOkrC85gc8CESLWyhyaa4c46tYNjkxAmR2GK4ShGgioQqq90kkXkJLm+yL0twgwHDNSypBH48cpwqjJ8mlVM52ct9CejjGyiExA8gEU8NgEkpHZZg8eYkIroIDOYtc3EIGNPJ7hfw6MvEiKM7Hxij+kqC4l2LlE4CyZE-Y+aj1SqWiCZhAOaInJX7QjbZ2tCOA7PfnksT5Fo-3lqMwijQ9RnVH+fbMeCEBfwAC8yaABnmQhX5WEd+baPPxH5aBsC1HvvPrnui8YzKG8Ngt9GFBcFh8wfgQsbHTBB+pIEhWhCqqxjb5S83eZGVSARS5Y7GeMmCPKFWEiSnCqyBFNUpvA74k4gZNDNQFKFoZ1VQqUGXEUkT7GPw2iNNOf7DwmebAXab4CrTrlSBtscjqQSkUwyyyVbFqCtNFSpTsx8vX5MFLMnNiGqL40NnfCnymLGQI02qu7gmm-xoZb2HFrgvbEF9YwZCt0TWK8mXIm5wis8PsUcWlZoZdCooLYo5FOdfF6KUsaKMvm9jEsaXcNGh0sVTSlsQZKJYwBiXnEBxkgIceuKSUlieSfGECUJIYDwTrIAAGSdboSEsmQBKQZP8mJMIp1iBST5NQGTjeG940ydRKkm0Sho3S4ZbbB4kLgJl1VaZaYusSCSIJdSxpc0skkzgxlK0CZZpIskWwTe8Mods6GUnDjVJ6k4ZbEsKBTFUpuki2PCELrHL1xjXXntcr0lc1OYzbbZdYr6UkTLJmsGyVeAilVMEazbVROwoinksvlQowuthICmfKQlU8tXhHG3RLZye+gYJYRMOFrj7oslX5dZM5a91gGbTfGJZMvYUxlohyouoYMCn4T0VdInyWqy9gfLUp1iWlSFIYWEpYGQcKEaOmyVkAyelioiViqagzScWrQZEIyDSiGYzUtccXuCCyXk9f6onMVQ4F5lVyNQVsJFfw15Wk80VAqzFe7FtjKrf4WgllZYuPicqDYRQjxTOPFDPj5FbcCzouJDFFdu8wCEoR+LeUAEY4gQalYwFba0SlOxk5wGnz67WqOEtqziUTJzmvi-AjIU5eWCfGRq0GjYCTksmVycShVYkK2g8vug4gueQa+gDcrOiKq3y-APNWmQLV0Ai190F8vjEB6VrU4QzVNSNJnAZr3YHteWTvP4EfBggIMQqf6qGVyKCxkraxYyHCWiLH4Xi8kJulom2rNJuMxsG+KBDxrcQT4zScmpxbNrlchUmWDm1eg5q9Y3QARS8tuV-DYgRUctVco4DVqmota2MD1PMUGAm1iQFtaYszVtYE6vGFhacmEBbKcpwQX1YGrkn0Bje7CyNZ-OP6KCwNla-7ooM4lAa8JikhQb+sA3gaoIPan1RmoHUziEN-EpDcOtDbrwjJwG94IyFqUiSEJSE1CeACYjkbYJlG8SS0vrUkbG1VTIjb6u-54lwQGIcLkkLLIoawV00saBhr7U5TsNFEqda8BxbsbulZG5ZfUqaU0byQtShTc0rLFYxwVT6tjWwD-UcBON45QMNxq8C8bv1ElVIPfTeBMsTyAaVAQooDRcdSMlmnpIbxE4hkRg9mvjUOQkQzgnNKIH3qOVkqAyAtXHcLNum+7uMrNdDGzfaumiIwPNdlRwqRgi3ObotTnD4ZmmkXeaOoKQSLaYH82uaT0QWxUgls5g1AxANcFaKitS1gj0twW3QdwPoBMt8Ak03zXlsFXuxbN5msLbiFa2YJetdtFfhavui2xLNzWzxVlv60jY6AuWtlr5MKDyqcljmxrc5v60ewzM7KXOkHGJwXrtJIgRmgtr5XCVRt1QCtiagi1jb9AyWvze1qDidb-a4WnLSeSu15bUefYoBPbDJge4wYvUalAdp1VJbHtKIS7YDpe03aDYKEBoF7HO2TTGsz27QXDqzSyz6YQ24VRnB21s8rIf23VsFEMBNaTt7S87HRIk5NDhhJEj9KwN-ZfAdqoiQDkHTV5X83emeVlPqtu0xgs6eyv5fiqLqErDoxkGScTtriaQZWjQurHYkh7GciJsSxSrbzyZRiX6lYBsVQrYFrIjUnkieRaiZqyyO5RQcEAzpv6H9Z+zSEpTHGljDiu5vXM2CjhR2CQc0O2vXQf03j7aeVCq7gPbtv4ipxWhYnZNlo8aUxGQAAThODzofGlMTNUYH6FnaeIoeyycIk7wfBuAikkYfjJ1KMEiM1GAcC4GvyxTcZhQEPd1H0Bo80eVkNACXpLU3CV5+MPPe8LFJVLYwVezNS23+j+wWYgcY+C4B8g4UeMFdXPVHu6gN7Y9m4NdDcET5V7DFLgToBoq0U1oaEvasHditQHW7bdZa7Seou6hT7OGmO53ZYuEoT619TAbRadscKT9UgqK6oEVBPBkA14Ecezq7IECtBGQjfLZMwET7H6lRUaQXXQCKiucjgAvP2demBikAr9OrcrupAjizVMCRGKvRCG8g+Rj9oAcnnbE-38AYgMB-yBBtiBQGVeOS1oMcHQYJ0WIA4DNcIJYCiDf1vUHA7jKg3-rYSlapTihozVBkKDaDAcAAaAOqkQDEkMA7MRz0YHe9LicEDAe8gCC8NggMg6IEEPeQ0D7WNiJ+pWBQGBDEh+A5YvGiVKc4EhyQ2epiD16-YxKvZf8voU86raWBvlRSpehC7r4IutFZLoMAK7vYQzZuHNoXSdIQYqK1oMLEjiDjTd649OAYS-WrlOy7wRyJ3jP38ARVobe-UCEf3N9X95iYwDeiQMCAGaP+vlEAynh7isdVh6kB4dKVeHc1Ph8qVT0RipUBtx-H-PgFeq8jI4Zo8gLJGgibQie2qlxOYYaHdo3DNtYo8fGl12GqmDhtXmVu7TM7rdOKjnXiuxDUoRRvO9bYKDy4ZH+jAnRozD0R1K7YgxuspbmoYW2Apj181Y7kb1hdztdx2GaBDqKBDGl9yzDnk7p7haBGjwlOY4xBwDH6FjaPdMfoCoUAAdLAGBpSztRhBMgYILLEt05MAWHyNCEXouKsHtapAk4I8dRXPHjJrxxsR8a+PwymA+AHmP8aVG0DeAJ4Y+D0CwjYnQAAALyLagAPjRQUlb8YxO2GegxJkE3pDBPggITxgGqKhDnSgNUxhgII5uGePfGVolJ37us3B53kajVkFgIzWUCM0WekwNHmmDwAwmclPJlE-ydlgVMhTyzEUxcTFOQVJTAvBk-5CAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiVCSscJDBEkxK4aY6BhBCAgm5KA6hYTBDZLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+TKRnGqEVw5FJyQYlWnSRavgHFNch1AFAMOoOTWRyJJhjRiEFVqJSlFPz2TQQ5VTxFrNIF0oC5Fnz-C2avRQhB8DlB5vc3exzDYxHfKwjIxU5kVPDgwPRqyHAey0YUUhUsVp5wPPQLxYIjEEShcotuajKl0HhQiho6zGkIqhai+QmCT4EuDkxM5Yt74iTaWeTOFCwVxNiKUZlo8j70ClmCdlbBO6rmaGODUYYKIvkNGZYIBKrK2Xsk5cW-yXCUF8CQGZyySk1RzGcFOHlmkMFaaPdRzDDCxNOUFByLUnlmrIUsQpNsAk8CxhCzOVRSAfFtdXc188cFkpWEak17TRjevWfoP1vTwoGvMKg+hjDhEsLYdgm+otjbJFSKdWskb04VIIUm0gVzer1JwZy8J5TM4FpqXy94GiMl+lMnmqt9AUUiJasK+tOCY1YCWagxxljrHZwtVwsaHyy4KE0LiAdzia4TFObEIK4rQzkile84U+gppdW9R8TxWCO7zqgisIK7rlYHh3cwLQGK527W7aut5C7gX0CpJ6i92cWW1kZPjU9r6Zy7qvfujhYROB3pWOOnlDEz1er-Rwj9D5H3+kZb+nW77R70pzA+o90wT2HxnVYl2BEKEwb3d4m9IGb7ofIqu-VvbVXAlBMa0uDgYFwN6jPBBGzySF2mojdjrDuGlGdSZV1B4ISQmY+g1jwg4TcGDUxmekmNT6BvHxiYCIyKgBo0sww3JGA-NPm-D+3Ts6G3HXhodtcgWxEbAexk5mPEAdI1-SjRsExTWIJO9Vw1XGDpvfjQTM18ZrGyZdW6unjX8GAe-C+6jkP-o84B4dF4sXTB00ICLBmQHOHUdI7zFjZ0pfpkRhzCWnNAeDi815kZpXHsZVNY+mXov5Jsf5+jO4GtRY-v3Qew856cviffR+gCOCdYvkkv0ClQT6CGy-TeWXsqGHHr1r+-WYjNDNgFLTdHUGROiRwy1UFGwwsZLt6F+B9FzyYo2bseo7Phf06N1E6iYWVZUM+gQEmxFScMIyOTDBPsYN6jdsITEcMVwqTCwN0wkWhbLovNF1KwTA+4AD770att1TjYfNJ+3R1QSCrliDrKCPGObaMDNhbWFiKoT0wrKwy09r7YfFjiPU35zGo2UejJT0s4xXBrtFHyQs+6xPfnvPEEi+Wz0qsDFYmg8ZWhjHnNUEzaAXNprdTcc4LGsLxbPX-7E9VyN9XXW9cT0MfTsnRuQYm4vvz0tN8yV3p1DEWjmOXDxve+vR7mvs4HaF4pyXBuc0ddt7FM3UuTNO7J6Hs+GvsqjwF-nJ3gvQ6yFVT9uQigIAwHgEgVASc0DEljZm7zJcy55uqNXL+6a3Om14IPMgc8YgAB8W-GTMadKvzfQBt476kIew9+jsJM739vfp4YzUu0rziU1mBiAkCtZpYDKB9HuGIQ23GsI14AGQ796DjZv4l2Rr-n4zujrcEHN-x3VrN5AF9DWX+k8EfGFlu85hHye09Z415vxmg-IwgcJmIcJe984uNKv+yw3G8+i+fCU2z+4BOkIBSyiBQe1+UBjK20N4WBSYfWasdGqBiekBi6mBh+N4QBlmIB7+s+ny7wzAJ8PuNOo+r40B9+sBT+uO4IsehmF8b+Sy3B820sS25szBGB-+OBdoEhIhlByBdGAh8ejARBNiVEQUUhymuBK2sh7ug2ACs2ceH86BJB-+c+bBj+8BnB1ujBdAfBdGlhYe5Un+hhDK4hZBuBahmhWhnMdh+hduShohRhCYahFBdKM+v0qQ-CCiQiNSVOvutcKht+6+7B5hfuoAkkOiURIiMR9ANh2hERiiuKqiZAxmcRLBjKSsn+jGaQbc3A7hNi+BuR6RZ2F2xBzhgRrhdowR7M1BYRqSYsThrmJsiRZhO4z+zK8WGKORnMzK0RKaLRAxLgtRwB5+2h9Wra+y9AxCmRsxyhpRxhd+D+S+yRnChWXBaxiaMx1O1hnhnE1a7aLCt0OxYhCYRqgQMgYCc0Ma-BrahataxRBcjKLxlQYCpInxch3xNanQSCjxARgYgJbx6SOgVBSyZiPms6cxrBBxcBIxnB5mkxnEuW5mN68R-+y+4IuJws5WoJ2h9m4xiCfxkQsQTxgYixlmVJnMcWl6pWUJSWxJbRIwB61xHkxWtJZWPJuxCYFBIO+qyJqQHmU6eWbiFmnGMJpeZsN6bJNBfC6wxGjm3JlAyprRgxapkpXRMp0KXIe2-hKp98MBwxepVku2eJHkuWu2-RQUpJjpFJJmGpHkp2MK-R8xABgwnRyxnMU0Fy1AeSsR-xexQxhx2JKR4IEZUZ2RgpGsqqlO2xVpgZLJ9RnMEa6JpBgBuBnRaZLgNqEaRABpgZk+iMVZZZ3s56M4nS+g9ZvJzJh+9ZPp5gxWlZhA1ZQUN4XZNGYcGekc2eMcee8cheOgoBc+pAOaJCm+jK0yx+2axAoZ+JtwMiqq+gBRkgRR3AkOeOXGAJU2pxk6Py7U4c4IUODQ+5aiR552PQzu3R5gqxl5vyRyy5sZtp8ZYIMgVkuQn515qqTp6Z7uSi0WhRXqysP5zxDGrxys3AHx0pdGUK-pMg8FsJiFQJgFoAIJaF2hFK8OVK16WFteOF3qSF+FiJm5zp25vRFOiebwAq2FaI55ROtYt5b2J8iCDZU0XFmco87FNpph-502suqRQl4FLgQltaAqklrKolahIlSJ22jgXwYiVccOlYCO162uf+EpuBr5SyyGcgs8hlp5LhIwplGlW8+Axg0KqyKiXAeOhQ1lCYWEFlCCcu+qjYq+IMcpXmlK6KiCjIG2oBuWPlY8+uI6pqol2+wh8V7SDZMVQesWrlzwHlcYNlgwMVaVrlcGmVbc2VjJuVxldoBV9FcaJCyKul+l+6yV9EeoR56wQVaaRlsJl0Ygq+RgyV4Qx+HAVcfVp4jqkiWE0Vrl-VcVLVwGoALA7VulnKzQw1vVqgM1E8IsAAPMCD1aNZ0ONRNi0AMnKuCAACo9xSJCC+CCBPIN50lNjFLUC1DNDgigAADUmmWiDUVeQoBin+IsX1PF71X1dOhQv1Vc-1SlEwRi-SgyF1V1MgxAjkd1YgD13iT1OSL1wgb1n1319MkNYg0NgN4QwNVk+N4NsQRN0NY1ppdGeUQe9uwh-uSIGllYfCPc2IVlKw2mumm1w8KVeoVmwkCRappNVNv8i8nNRAJOWiliWlVeDVZFWCZaVNzQn+I4QZAtwtVNdi2tdNetA2aWl8REA1NododNr2hQLEgoG6ecWtgVE68poViOItRQsqm4n+CqdAQ85Q1sbcuq2omG+MjYMVjI5l01oGfoQUJtysRVgN8dpVd5q46VpqSdCCj4rE1GFVgYecMt3NqeoBuuwhzN+uLVrNsQfa0t6Ihd7OWGeYdGcdgNc17tudqpU+EtBEUtHNtdctekCtjlStrtBlN8q2PC4y+uWtbsA14NpQ8E20Y1LV49eCcdZtcV88N4VtLmOoK4A4Dta5a+wVuII9-FCGiKp1XtLNqRtkftIgAdCCWqiBQdT41W0Yod72kcbcEdTZPMUdgusYsd-N6VidBVKdsYadoaBV1teqNtnledNdXNkaRd0g3sY5We0cueccBeic2Ab5peOyNyByO57utK7Zpef5WJAFDgVkhD+ywMslPA1y9DIMuyOSXJY2xy5D2tN4gKPahUzDtyJDBYP2QIy+6YpJcwPFsQcwq4RKRQpJHI0jMQHIcjjSpJGEyjImpAajEj55zSWjzSuj0wpJtZbAPFZjzo8jhQpJ3EhgOS3UPFdjDjt1io1jsQpJntyjntsY7jMQpJNwq+LULAhgt5gTqgwTP2KwfjbWYI4IH1WjsQ+gJC3Avgg1x00yX1rjMTpJnkiTDMKToAaTR0oA0yPk2T6j55Mm0wyTqT6TpToAkIRTMQOT55wA+TBghTxTRMDTYAFTejO44IAApB07U0U-U9MkM806AK04M+JIk2M90xk1rWk5U4MwAISSgLNdMTOgCbNAirMDNxPbWjM7MlPTK7UxCHMmPnnbUAj5OLO7N3NXOzNxOHSnN1PnOgDHQvNrNvP3PcBFCPNfOHRAjjN-MQjrMdMNOFA9MxDrOxBLnpgFSf10NCN-KQWA2AgrhKxzDcBovEMYsiMot0FMO7IsNEuxT4AsAABWJg+p2LKwSsyIJTGjgjxDPFahgKMTRQBLdy7uUpkUqL7L5MDWojsTW455y6wgPF0rPLxK-j55kAdA3oDCvg0jyrqr6q8rCrATVAETsAkAyj4TDAhrOrxKerQTAAoloya1a+awiqSQAHLkBOsdMutOsr16QktUh8sgwdZYsAg4saDKwlPbRYX4siv+te7eI+sCB+u-H0EzimqMvTDMthvtFZBYXzwJtitpj4Paq4gJtHI0No1UOiUXK4jVD-YygAy+BK00tAzrDKBPyaD92xgJtsMcAYqcNwrgOxCdLltHBFChHmDTh9yn00qiUw7tSTuYpoQXQiB7lRuUsOHNUE30y5sxt-rm0paLuDDFsZnUt0umAjpG1ktEOivbvFUOuxBO3H3K1hUnxUEBVr5iBfCLVMKkVPvFTjuECPus75tmkPtvA0u7l+qUUd2Ix+rdniy-2gdVKRoOoqWH4wdEVTGsIzgIcoj2r9miU3hoffQX6ymea4h2NgekMQddVQdZCEcFvIbkeIdUfwMLGofIewfjTeqMc4dId4eQd-i8dSlEfaE1BiAZwrQWKkClLIf8fbR0cFukImD8CZzMLTtk7MI7BvsfvELftu01UuDaXvuSALYWzJOJVYyFNexmxUGjkCvjmYOxz56YAYCgGsUUCmAMAWIfDlQ3CkAhLW6iWT6N6biqW6F-DBxWxBG4EBcnLA0MCg1cx-UyAGKhdPwkTcLNCpfDYPgcfAU3Dea4paAPFPxVzVmBnkDKDKAN4ZAZz6BGDcAVfKD1M-ZfX6CNda3gjvWlCdcDYg342Ne3uKidcUklfPIccsJawA1d5VwNd2qzdiDFqTfPDQQseJdVz43ggQj415dCLGCFe9RKyDsTfqrzfzrA3WDgjjfxBeb-SyydKBf16Iz3dWwv4zS6TCZbpTb3egB77KSbqPdZA3j3fhBt48O4HA97PqTFDwhWzYwjDffH7gjQ-GSlBucVczheexS+chLPeNoGDhnPUpmXzfe-eriX4eoZkXHiLA-lqpFbdfXHe4i3dw+DARo0+U2rjvUJcVGtJ8YEoFiZmXFtdPKxcbvOhc-42M9MBkCyxqFs8i-ByfVGLwjvcuqM+5Sgg8WdKRuSA3cy+TC2zbJYy4-1zq-giaOyZTbbT3cW1ZDA86+TfS+kCWwYz3xE3C8b4vcADkCXnSG3PvtsNNyXHvDZUvknBi4fD3PGWQCCwXLP+gkf-bTS55QgMrVkwQINDkOkVkFoxYINC5HA8IBvySTDuvKXh+ifAnlfUvt3GXpfk38flfN41f13uIkf+noAjb1YOmrbybDEVyHgVOvHUfyZY2qnVspJo-qIPFFKWxQvqnSfSsXfzbvfcGA-Vibgp3w-xfH3psllZCAmErSPPFPP3+V+qndfzCHf4f-ckyJC6-Q-qnY6G6BP2NRP2-C6YdGZmtQIK4p-VRV+Wfsmnn4H8YGAjQfm4CGjrJ4oIbG-otjv4P9N+aNXDlnUNIqpMWwhDrpoythbRD85CCAcYBWjrJ54ahfARv0IE+o1MtsKFD-3UgGMcB8gcgVALtTUDv+mAxHsvx77UBNAcGVXj-G0b89w8LNFLEvybZcCeBvKMgVTi34X86+3lNgeXSYYEDmBY3e9G-Ttgv89+5-UAQundLnloewsUurz336EAs6a6XQYyiv7UZFkdGdVCQGH78cjeomcfiXzk4H9bYntXjj7SVRjIqe5gOwcQEYasU6SDg6jvfCwguD64BHdwa708Eacb6IyZVC0Dn4eRgh3iN-AW1z7aRyolAfANChBgDAKggwJ-mEICEODEeWQnSBx0KFoItIsUf0iUNW7bQ0h+pbfh3xdLVBuIVcSSml2Qgy5lK-HLCNbharngOOLAToUrWtz6BxhIgKvChxGAzCuhG+MYRMJ0qJ5Fhcw-jjeA2FVwGyOwhbtWxio9Dsu3AAqvxzbCeBhhX9TOhxxnaDArho8U4VlUGFYwOhsw7oQ8IYjzxqqo7UvI-FCGrcTCmJZfPEOP7qUVidBdeM-AqTxCYqKOX2leRWiPwGA6gEQBwFICGwvihAaTqYIQzjp-hF-c+tZk-r7CTsqwg4YwCOGwisqLmdugtXJFa1pWhWUoA4DvpIj34KI1PuiK8HXC+QhWZoLkGxHTDyR-OfYagIwzqDx0EQnQQ3UQz-4sIgo8vrZVAHcBFR6hO0LIJ3oh1AGlgshDvRzrWk1RqnDvncIYBChfioILBFcMEScIzhh2EkQyKBD7CzRlI6alcJ+F0jSRx+JkSXzuHHDxQkMKgE8NKq2xeI-0RgIE34jOj1h5I+eDaODE3DfhrqLWGQAjGhQNqvEQMbaOeFhDw6iPGQEmFqDvUXuBYvYEWI8HtBOge5IMVxCoDhArY4dV3K7ymj-DeI9Y30XVVhzmjKQlomlJmNrHZiQxzY1IFhDbE-d98TgzcDaMP5hjUxisdMeqKyBtik+ioG8NOJXHoRJYc4yMRtW2jLjz2BEbaOuIPFoRoGtscEKWI4AysO+agEwF4BaiMBKh1PSAdkPoDcAb+-Ym-naPJCNgdxvRGkMKkZCzikg84viBtQ-E1inxb4sXgqz9BfiaRq3P8UKnSjqRLx5YkvkJjviGcOAuQ6WKZyQmgphU4IzmLwCcqdDSE1YkooCKLjTdq4e4uscRM4hpQdYZ0HEGyG6CjR7RpLcVmlDYllhfAhFOkaIzAjBhxw+ka2DNGNod9yJ9-IkFPEomGxGw3QRkPRNrjy5Yy-w7oOEG67Q8Bs3QHtDhNADnUAAElawYAABBcAOACtYAAlc6pAAADyTrZAECEir0dJAagWocWGyyUTwxCYusGENImsMZQJCXyamMP7MSZJUAl8U9jClJA6+zEzoAuCgnvAOOiUzIF5NfF1pRKJksyZZOsl2THJzktKZIBdEVASE0UuoT5OAmEp+OzEv2DJIYByS3iNU+eEmRinOBPIMsDIWZU6GZTYpNU-yaJRlg8w+YSsLFDaIbxHQ6ct4qJA+P6niJJplkZMX5N5GDdkaYEhac+jil0AhpVBQyQX2jYOB-ojIAAAwnAC2NQRyKkgyAFDCeduagIME3y3S+Ux07QECEOmvS+KOjL6niHUkJhPpuQN6aQA465YrpbSXoY8CuGfSp+5UR6eZ1EzH98WWMGGfdNiiPTbe-o8LvTW0KBA+MEM7LqkGqDZBbpikz+qjLf4PSzQ1sFGjdJGywzsoj05KOSCWTywQYjkToCEkaG1YNJ78Bwa1jBm0yph8Qimbkipn9ZeE0o0wa1iwhsyGAHMtgCEjcGmDBuRQOWQrJCTRCVZEs5IYQE2x0j1ZnMkmRwEYkeQKgbUUIMakvjxD3ROYlmbYMCDsyjZAUvepoIhmRoTksou2gYFcRVirh8GL2dhkZTrlaREoyiIHIaBHYyR7wikX-UspDTQ5otf-CwEZHgRxwetUoAWKjB61mghsxWcKJjmijxRGYLANBHMERyayI4t1O2LQilA85Ss1DiclB71zFxHsr1s0CznGB9RcDA2Y7PlnOyD+Jozse1HNHfJ0EfwLGUuH6FDSOcDomOdHKWEui45V+W2aVSYgDhSR+zIMOqHlAIYl0dAf6qBKjEiiYxMc+eCeMKCngE5YvcwfiL5mnhPZCKPAJCBfkrgjsjo+kYXMOFujOgCclcEFE3kiSd5dQWMCyIPnJcj5G1YYRfM-mLzT5Swj2NBCQV5gsqQWZIciknluUr5a0gKA+gHDmzQsqQXeNgtXmZ1sqz81+TzITAXjCx14tQeHP-m6iMFnwtgH-LgY2DtCDgQ+TuL3J7hfw34ukXmNQm0K+BJQVImhJlYViOgS4vhYfxiqG9UgrYuaDBK5ToKuxpcMeWIgnmEA+FQ0hRe7MICjQrYpo0eY5S0WPBDF+LNkGcNAAULIQ+i0ccor3zhCsYhiw-lwogU8KbwOi1WdMG8WkgNxRQDxbiB4V7i8YsExUHuICUwLeaWVOvjQrLF0KOFYZVIIdLlgkYqJdIoEUkWxIZKrIh0oIfQC3ikTxEh0+YcGVwJlKGyn0-0mUscEA9W5tEUmTvwWiT82AHM3wFmgXKBC6+UXO0FUtNnmBK2LUOmWylunvjawUnKCimKSATKyAuIARcSNJZbxh8oyxkHjLbgEzxQRMy+GUquyf1gl-4sFF+lXCHKeFEEmZbtIvlvBilQvFZeljKWBLpg8Eteat0OXISOuEi0RaoswlNAD44OEGOH2Nkgx-S9yxgI8sKzYTjOeE1ie8sImskaMhk3KQwBsnWQAAMlaxckSTMgF0syh5IiaHT1Eg0tafxyCllSKJrUq2JFJClDRCVO0hKaVKSmjL1EDZdKQuDpU5TTJKK9FZipKkzgopK0Ola1P44jT927bRUPVNM6NTmp9Kp5Q0HBCHSupFseEP20lWsSkZ0lW6UqrOhF8O+wyoVVuNmUkqwhI0zWONKvCHSSmdOYZUIjSWHTkZlyoaf2w2meSDVjqtaYMoM5dtAVkyiPr6umWrSQGQcEVRbFGlUBzV0wPMcdHxiiqQsV0MGL1EKzegiBHU7aRcsDVZUVxXsfVbdPUTprUxe0slEGoNgmjm0nnX1Qn19X+SWJ90MmaS1aAssgQvEsoZX3BDupy18yl+oGQbUOBU5okjUFbDESToRsQK8PtWvdi2we1l8FoXmt9XfCE6QcaSTsvKnigFJ9Slid3lUlNyW8OhELngIYkd8PgwQAoamsYDVsZJbXU9aZjdkyTV1KUz2W-M-rKSgQ0q8sPJPvUuZGwVXAZBLhSk1qmoqbF6Gqvug4gc+p67VfdC7WFAiooG1IilIg1NRby+MLCClO4Bexv1eM5sqev-WCRXs5c6wQWyPWBBRlS8i9XUq4m+tDVLgIEDcrPBC89l5IcdLeu0VUaH1DYJ9X4EZCvrcQ8k1qZ+s-oYaJcn0mWIBr0jAa9Y3QfJVqu6kwM1w-AWDQquk3KqU6WEe1QYHqaCaGCwmoOHhu1F6pklnEGoZ9OCBbTieV69dWkvvUqL9aRm26Zeqqn0A6+NQlKfZu8mObqhwgFNQ5rM3ebDYRGk9d5tI0hTXNWU17FFDYBea3NEcIEMivym2T7JTk8AExFi1WT4tRUrFShtPVob6mw8SLVlKlJ0jwQGIS7uh0M2ebRlwKvzbkOI2fTz1wWhja8E-q5bmVjIZFaioxVJbyQbWnlRlpRnjL1NJTZrYStexBQitXgErQZtSH0AaW+AYmdh1Pbjrg1YQ9zKR1rQUcCw+gebfqTkULqzotsUDrNt2WYc1tVSdRFtuAzg121QK5DFts23TbTtiC2CcWtrVUEYNSZEQCDSu2+qeKB26oEBzozkdDt+gbjgtt5E4ao+D7EHaAih1HV+BvyvBPbDJg24E1gwLFF9vmVQYuOKQdbWCBh3zrNl7sFCA0C9iA7iZxWGHcDux0Paidr0Z7U1HZhvaM+VkdHVJycbY7Dt-2kTsQDE4VJSUYO92CGu5hmqQ2WKKNaXMVBmNc0AKjtVJ30CidxOMugxMQLlVTgq8OEkzqxOga2ANM-AqFbhJw0Z0+RyC9bDNBp1IhdttamNG9qz6fay14fHivLq0D5tfxUyDqDxEpiMgAAnCcCWTONKYBusrr7vd3dQcNZo-6HLG4C1TZR46cWpZgQy3yN01GqUKdLbqxA-d3UfQF7y95WQ0AueqDWHJqx+h09Soh4sXLejB7p0oahhE3hGmBx54LgHyKhSzAGiYgxe0PdXq9rcAbg9-YvZ6sEDtLuoXSnNBgmPWLaDY-HOnQoCt3yakyA+zpUwG6W27pd9uhrnPqH2MQcAjYaoEVAH6eZGQ4IcPnbDoBFRGgJWgtjf2EBPxgYRaPunWqpDb7+AQEqOG2wf0zh8BnmV7DHqnyv62N0wYvRCG8izI80wQdkDL2qDicZkeTXTeoNlGNhWgjIOARMmYD38pBbgasV6kziv6NuRwXVSuH-3ghADPkS-cQx0a10j9RUSA95Hz2t6K9y7MvoroT5l6Bwf63IfkJaiebeorQX-c6Fs0jYTNLm5zdhv9JcHZN5e+xpTAhDmTT1ggDg6IFyEDjyAC1dqmgGoOgB8NsYfA4Qe8igBD9yEn7FoaoNWRVDhQNvX7CxQjSI1V4MXS9DD4VrS5GmTSEm2hGZxWg-ktDZWG4AMB6m+cXxSzoj7Cw1d0Kg3dZxCLN6VgF+q-WQALrMz2FoBVA6kCBWv6TwZAIeGIm1azz61CB-1fAOQOICiV78YwJumP2P7gaOBrOgOGv2pG1WkPCSGImGpIEEMmh7Q-EZ0O+ryDj+yA-5Gs3BRxDGe2wxjpEPDty5LEZg9htYMsAChshxg+7V4Mgx+Dp6truVr-XCGmDG6So0PXVQ1HUidRxBPCCJE0HejBiAg4QaZBRaZDRQyg1QYRBqHMMbEPTQ0CaMnHdD8K-QwYdUOmHTOMa0NZYdTquVppm7VvgwZPGOGoRtXVw7yPcOnDvDyWAiH4YT4BGq46umFSBpCNmCaM8Rhg170qGLHL9Q-UkgACEGE3ETzYXysj4nLoKqo-uADPAIJSAelTIIEKsg2THpEgUADZPwADAeKeIFPZMGz3bGyxJ8GqBiaBVYmYp+gGbSwElaDNCTlAYk8IFJOpFyTVxS3oM2ApFQyAINRyNQAABe78GVsHD5NkkBTSBE4MKYrWim6hRgToO-AMQEmiTj0+U4ycVMUn54AANlOkemeThpnY4KfzZmmMdFp4sDidERSm4mxkirj4FIAg1zJJSNwOQBBqwBKTpJaAPIifjCAJAINAALIWhQA5khhtwAADsAADgNNWQfTJprAP6dl2BntI4p6lqGYhDhmokGpqyDGc6WGB4zVkRM-PFJJqnlOUZ2hvIDEAqJaTRfawN6eNNCnGBVOTE9iY7PbxbT55Js5GejOxmOzCZykygE9Nemyzk5tMFWYMQ1mkEWIMgHpXcCbhSSy5ls6kTbNxmNzPZ88jKblMKnwQSpscxOfqM1RKz05twLObFOFCQzpJAAGL0sQa0AdVlZAAAiSZ88imcHhpmMzrZjjBADZnZ9dApZ-k5+f3M-mEj5p7ExKYbPggQLpgMCxBdSLQWHzqpr5P2ZBr4DhzTUUcxhaNNYXTTOFv85afnM2nCLxFtC+CHAsg0KL3AHQAAFZPTvJ3cyxe-MED2LQZmkKVDPNypgLoFqyPxagswXpT9pkk06dfMunxLmF3Y36bYsinsTAFvE+eXOqOR+gXgBhCDTRUeYQaNrSi3E3xOOVcJINfE91BQsZw2THJtPgRVJB6XmLBl1i9JeMtimCLpJCy1ZZstWQ7LCgBy+pbiZ9n-oINLQGoAPnKBn4VxQK+WanOhW8LYpzi7LsiuWXbgMV1InFYSvzxiQolj0zlb3MhXyBMl2s3JdPMpBFL5l0q9Zd4uVWrIjllU85c0uOn3Lul8cxJeCs4ADzmeky55sAvnkbJ-QdwDUAHMVWfkKQRKxCGpMPU6TewF87ADlBGTHZPlzk9wCLM8mxr+l3041ZnNhXLTEV+a4tfoDXnwQaKta6EycsQhkrz1uiyOeeunRbQNQHpfVcktTWjzVphc4RYWvrAnrK1l629cpM6BtzwNia6DbnMnmdr55yG49eWu2X4bH18EFedhu3n1zXZ98+NauuTWjLBVji+jYUsXnHzQ1l82+fxsAB1d+CwF4BRJQmVkBySCGv1k3LrFZqS01dutBnTLaB0kmzdIAc2ubINXmyQY2vghwAllhk4YA4BkXEahAUAMZP6Ba32TnJpi7lewv5WAz+F+s5LfZuc2vA3N1IvLf5v42BgeyA+Q1F4IOlYEmpvoJGAFtBWKbqNwq9aeKvnkpbMt623Lb5san54eIWq3VYus+2hbfty0+LfUSklwALbHuIhdSJWsJjypo-izcw7ZErI4AdQPolABoqhATp7k4bYavC2br1NoM-dcGap35A+ADO+CCzsumBrEIRrleRoBVwQaagF6jIBBrd3jp68b20beuu-nRbLVgO4ucbtp2W72l9uznYLPR3kbvtqm6bcKu032r9N+e83dbvL3Fbwdq2zbfBB22I769+O5verMzXcTEt2CzFFvG8X2TEx6qPjZjN6g3LVkJ1trffiPxRA4AVC1yddNV2QbN9w82bclPJmn7fQF+9Szz4O3KuPdqvCDS4HAwcbYDlGxA+mv+2IbMD9MZIBBqv3EHKFM6zHY-PYOTbt97e-Jd3uEXoAsDoh0yYQfv3O7Sthe4fezvj3q7Ndqe3XdrNJ3CL5kt7lBeIAs2GESBdh1tdpP0mXzDkg+eYHACVjAgPFYS1g43vUPIH4V82+eREeZABL4jyR4rcdvVBQQH8NByYHiA2meH4DrR7g44uz3hHoj8i0Y61iUmarYl2OxPb4e4Wt7NNuh5jdJL6PzGYjiR+49ZuW3ZbPN8O1GY0fX37HYN8LMIDyEN2kr1FlK1ZC1O6mQgitr67DZ+sMXL73j6uwnaDPJPUnujqi5OhotZOdTepvJxk7+smBVAGVrK7Y4mu+PmrYICpwwDSefWmnBToc79bifsP8ntF4Z0U9hv-W5QQNkp5Ja6fT2en6WFJ306qdxNTHzt-69PzLNWPJANjh28ICdvmPXbqRcYWIA9vEAvb8Tr871OgwPjDAllzcD-oyNUh4DQIRAwgPiPoHCjWB0o7gca2ksYq4rOE+Cb10a6UTM0LOtxjVLAvD+L+fANdTAlV4FDskaCJtEBOJHIRJ8Zw-Ce1pwvIT3saE33s4EttuBffYnHzsn2+hY6oa4XdiGMjWHnQinKrhUhBM4vauRta3nanx2+Uja02KE-8YRSeCPD3RrRMMh8EuBeIMuHRtodBr2Gdd4IUl6v1HhjmUe1IQI-rr9gFVjIJuzIHeWpfT64myr8l7wOZ127vt3AE1xIK+G4rf6QgR503ixNLsirBiUqEtYa4KAe788a1xS5zRNQe73zXQEjfHNpg8AqNl104-dfQSA3x0n12ILJc2vKXXr46UG8RtePDT6x4wP5CAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-t7gTvdElh0mQFkHCF4FUjUj5DmHgbhHOt3s4u9ryumtQRTvgfQVVp6KQfcKUIBFZKIGDNvNwoGsGuhHwQ8jvM-Imi4MAhQbfkZE7HYu+AtgMgXmRHwaZpYuzPdKBDQVYCIWWloVBs7soUwUkBCrZHwfdg9kIU9n+qYaIGAQvnwQlBYV3FYRijYSHohvYfNt9NSNpLpJ5HIXguOoYQ0qAKUDCPcCwWkH1p0J4F6hofUDoVnoNPEYkdUJAmmK3oPFuLtvYUkRUGEe9BEVEVUsosSGkV4IkQYXoAADxVEJGeo4GMQVEZBiAbjUBbjbgAAq2QKhxARQVEngKqP8+8BQDYlAeUsQ24oAAA1IVvQi-L8F4JBI5qEXoAsZzrMQsS3lECoCsZ4GsS0WvJnCTJ0d0X0dQAQKIMeMMaMcwuMZLtMbTvMYsfQgcXKscbUW8dsW8XsUQnqqsfgDaJkUQVVlkLkAUBCuuuOmDGkN9NoG6tkCZjEcsKWofIUeEWCb0ssFmvjrUQCX6I6MibbqMkscYJwdQGQZ4LId5BrK0kSbEGWjJPGjOoSRSaEDOmCUScYMyZiYuhsZoHOmCQkukMXD0P7I6Kydnt6tIbDiAjfvSSMP6tChcViVVPuOUNxHNF3MWkXBwriT0M-PYU7IweoYXGaLNBEqIV3OYbaUkAQhScYPYS4Q6Q4WKQnLLLESnCSZCaiTTPaquuPFSmZkcnCaANUPCUEIieIKSQGYSlwoEBiRagYZoDiUmYFCPgSRsS3qsEif6eSYQlSTSXSQcntF0G0b0CyakeybmYQqEA4KMNyfkumTIFWXmDaYKZoedCKfkmwgaX7CxNKakVIbzAqWWbiKqQ6OqWWpqcQNqTpLqUkG1O2CGbiPqT0InJwldCaXwWaW7gUZaUSNaZia6QYe6U6c6a6doZeZ6SXN6Z4QSPGRWboAshHpFlHqwDHpwMKrwBgEnrBERIhKRG5L5F7rAVTvepRNuHBMREhM+I4XocBSRPcPBA2J9h7PxH5MHkLmbh3BhPNs-HBSBYXuXGku6syDXrWpzoELWuOFeUEDXvWrRcYPWgxSiuksdsGqxTkfpBxVRfetuENLxUNAJT0DXjau3JzlJdIESIxYEDXuSHQA2JIJ1JoMpapUMR8ApcYDXuVF0axQZYwPaLpVxWzkqF6piKUHQNPJZZ6tZQwMsGZTXnMbxYEIoNSJoEUHoNJAAHygDXgLHaUuVCU3juXGCeXeW+UBXXj3ghWcU15TyaDpBRWgA+UySxWgDDzpXGChXHbAARXQReXpUxWBWgBgAJWCXHYACkRVaVGV-l5VNVuVoA+VbOWe7lDVZVme8aPliVQlAAhHGl1SVY1VlcNbJP1dVWznUfVWNT1aAA0cYNNRJUJXUdJBFd1ZleVRtSte1YoNuH5fNdFTtdeAFftQNcdn5ZtSlUENtU1edbJKVVdWzoNUVeVUEE1cYINYEGnsyLRMRShQhQPv2AYTJKaMZoBtGpoCRahaDZgoDfwq3sDaBfvtQKUAAFaTC3YQ3LBQ2CA7U15w0IWc5WaEVmVRAk1o2fm0RYBA3wSkUnoCK42yTuo16Sw5R5Sc6c3SyU3OmKVCWQDEBSwUjqXGDC2i1NT80C3mWHX2W2CwCQCsUK1K0y0C014K0ACivF2t6tzpNeAAcpIIbUVcbYbR2YQkjZsCjYzfDYyuDdJJDXWOhDtTOkfrDajYlPwtsJDgzfBaRIytoXjT0ATW7cLgRZhJ7XbSDeSpDsoR1IRDHTTYPpRAuOPjAVYInTlFkjpOuABHKrYJjZIFIAfL8LDkWeONTWhRxHcLiC2HZC3unUNG+FEEGVVk2dCUqeWZnWIP4ZUt3T5LMvAjpMXl7QjeYqEZoLycYNXczdIrUZxcsCPYgnPZrhjdjRQOzDPbbQHd7ZsNItofrYEGOTIYPaAQspIXKZ4FkJEVyEEcqVJO-HFIUOfciHTWhuOfzBsJjQ1K9DoawbAfjhNEhQQG7j-ahP-b3TOiA5frFFOBA0IEtEHoA14R3LA4bnvDDvzMpb-UXiA7oX0MA2dHA+9rg5AwQ6g3hYghgy7m8kDuQ0g1A4Q3QSQ5gwzLlJ4E+DxGGIwF2GdIQzA2w31B+eRUwN+QKr+dwJgEnklLMBQLYGGCoHIkqIwCmCRr3TaqqluFZho5hD3NQwTn2eov8P5L8bYDscsV8SCdDTuohno9FLELoxxqY6A+xEqEzCXgoPVocQAz6f0pIKQKQCqhJAdMoMBEE2VQwAsYoIE6QDKbTrMaENuLMTMVVG8XE8fR8Ck2dkCTRHAzyOQE1D4IccBItGU7SYU9LQYBvP44Gp8V4L8YdW8e4xKA4F42jFDenVU0UBU2vL8ToNuAUwWPzAaCwLE9RJo8jh3AuNFMk3YtuP3H0O6rM6AOGr6AHPjnOrM3oFqoY9s5M3oJNbTsEC+AY7YxM36gk9uKcyZKEHI4E6MEo-2KoymLM8TErBLpMaroyKs+s+OK3OmtfhlocDsxUck80wsT09muuOMzOi9GC-8eOLMZY2WuZkC-vlJrFjs0i-aCi28dC2Mxcwc4uJc-5JsZnC+Is2aNtCMzaMJRIpzguJ7WYKM7C-o8sCSCIe822D04dTxTPPevC5M8KQBjsyy0UyAmM4430A094Dyz0MkwAOSWMLi-EqtLNyvHGzPDOssgK8M2gGtTN462pJDaMXNGtL2EI17DBjDbGGVVRHjkDbFYjrjOtVSwx3AvgcuKso16sWseh8O9kAaWt+uSswuMAsAyt8szqhtzqhvQtGtv4iDF2l2kDl2HKYF0hJjAyvTGv-hS5oTchzNy3K7fPPqaDAuDixbFtWvpBQ2pswjpuUCw4JSEQ5uwh9N5s+tnBEPMG0gls16nNnZmYzgNzdtLPcjJtWAGvFCXjUjtteiwh5u9I3xfONg-OHDFvTkmn741nvH7GjsVotBVvSiMjbv-zVbI3ZtLsOA8QgROxQ2zvnjzuLvAxdsXvYQpya41nxqwW5HUu+siEzo3vAyuogTnRWagewjgeLT+RLM-vjrXMiUGPQd3vu50AId7tIepHbiNtl0tuZtAGoe5G+TlwQp1tRANsl1NsZtttocfsDs9t5giGIeWKe0dvocQcOKGlrt479v5ARxZmP7HbDv7xHv8ctCfslyGlJk6y0gOLt1vJNQtQrtUOwSkfFsGNCOCeTvqncjzmHgnhWBYsMwqeIVwMgHMJqd1OwEiFadtisO6ecsdEVQGe077hGd1SmciBWe3YvoJ0weMD9jkDUDKT3DRoTA0MDssPNRKDFvXOuvBdDPsN-hjD3tBf9j84JdUMzp+fIOeZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+CBd0BJiKAqi9OxQDCMBjB+NPmyWPRjcTfgugC815QfPMwyBDeiAjczozqmCzesKZxcl-rbddFzdnFrkDekBrcjdzqHfjdrzTsqHUJld3CKD+rBJJgYiPetRs1CXDwfdTyekDSQl5AmbDe2A8CaAg9DZGnGDPx0CEClAfdOxYiDcg9g8JoAb1Kj6uOXvXwsSw-w+fIJOLdjDTnCeBpE-Y+gDblQ9RDPzXdjCI+wjI-re2CiqissZw8fcDnWosR0+E951Sx5Qk8fCzTk9XRU+ZnC8pxXeTBHf3lbmmgSk9QImib0BusXeg-g-M+s+Rm4ES8w8c8E+yRI-nco9s8dwY+c9y848dcG--B88TAC-E-U9EJmCj6IYW+fKUdEgiHuqm98VbgQ9tk1BR071BBzoe+uNW+U+ye7nI289G+M8m9a9m-KC293Bc9Ej+zx-xpE-Tlbw9BNlu9WJp-8FYD58UkiEiGB86-B9e+EKLol8oZl8yfFQ7kOSF-S+zdB8ehR8PlFyPnJnOKaXyBNeUJC+zRsC4eA8FCAfjiZDZBA+zKxCT9-s5QODJd7GhBr9ut7HnEVQsCGe1RWDFc-KrkfeblK9PnD-kBNeX3I0n+leG-3dJr-DPfvjPw1dOwP8hefKHXT-5DFpiKlXWSN-zkQfdDq2-ZLh-WcRM4co5ILwDgRMZ3Bu+DhQhiIRIwoDQGpQOAYXRIxxIcBXgaBn+mwF-RCBcDEgfANpIjIKBcqXunOhoFkDUuVgBgbSRzoFEMBTANwoQ2N6ICMMlbSwnAwqSj0OBSBHwmgNI6wDSB3gEQdAX4FuE7uFwNRDZym7yZ4C4+V6FVFOa+EVep6KgAdHc72FGkC5PvDxDUS2BmuOkO4IwH9RgZbc-DQTtTz45KDt2zvRJMjRYE+ICBrA9yEeVpByDHSFPJ8h4NSJE88yC3YwQ3jMEWCxgVgjQZwMdIt5YgAwfIDaBYHBwWBGfBOLx25h2B7OTHVwc5lwgiFkhNoHTlHSvYpCCc27KPuL0ji+kFOCvAfoUKsAlC82d3A4uahYCYh6wlSCYNMCKBow6AqPPoWpVdR0BIe6naZsoHawGMRhAwniOMOe5LNgOf2drHX0ipRMYYnQ7oS1H7xzDBhWwxIEX2mFZNZaUQfYQsKGygMcoBoO4CXS+T9DBhwwxwKMMuHGsCSMwtsBcPsCiolhLnFYfBiGGnDnuO1G4fnXNSkQLhigb4YsNOFEgQRTVDoUcMXTtZwSbyJEV0PwDTBVALtSiJNyrxX5sR2ke2KYESAlNthBNEgGdktxvYiRnQEkZ0PJGJB3htqDESWzsRLMwRjAO4ZCJeHzDK6ywdkocKjZe8ERAVLEfIGJEYimRXQ-dKSKjZoisU-dfvJBBPQSINYHA8UDTjEGeJ3BXgzwVINsBsD1CHAnwo8n6TBCc+-PLmmMAMZCDEEmo+QP4IcLLDJR64dyJZVH5pDqBXg86FqOdHaCqsuoIpu6NsCejmiwYjSk6PiGoCqGppXDvgF3Tc0D2LIbcImOXjc1J27oVbpGNABai9ABjU0h4WFB9AlBwYgsW2HtFGjnAIkdUciFzH+iYxMrDTrtHLFrMI0LYrcPmJI4hjLAYYkfs0TnTlj1hRIOdPmJHEfBgxBoD0QOIubDjQ+pkGdOOIXEaQfCMrNMUmLtbtC5UdwULlSmFGeVe6IhEqmKLmgbRAxnWb1MmExDuQkuaEO8fME0Cztcxs7HUVsmRrhjA4sPSSE7CnGhjwxigZ8dGIfG0Bp6ZwjSK+IEG2crAn41KNc3TF3A7WBjDkS5xpK7jzEB42CbyAkh-wlOe8QgA4CNF51qQxeeQMazlZziyJF4veDVwZFkjhuqPYbhMPfE200kNXC7oxPW4X5oJ+8e3llBtF+g7ElROgAoOIm2AQejQUiVljcE21huTsEDmRPNE5Y7ASg4bnoGSanNKiw3BZLuNAA9EAAElrVsAABBcAOAC1oAAlHopAAADyhtZALJEUJJ58AZgJrpiEy6YIpJ04gMYQwIloViJXk90SW1olwCaQ4HDybEj-GWAZWtEmQJUBAn0A4GsU9uO5PX4UJe6BkoyaZPMlWTbJ9kpKa71CnUhwpaUzyVFJwpUNaJ0ooqeJOZ6STyp50ftBFOIA3gMRAXAaFLAy6lTIpboywD5KoYYiyI2IqGnQi1EqpMqexJrpMByA3jUpbrRkGNIP45FexxAAMesJck38HKCUo0OVIDHzZdJnrb2iQFa6yQAADEoQGi5RjwZYCSBFxVzgpKAiCdPLdNJDHT1wTsQ6a9JGDvSFiPAJSbhE+kDA3pjAOBrtiunoZf+HAz6QW03buRHpR40jjc05wiFoZ90-sI9JT4OM7upgBuBDP+B2AcoEUW6S9zj4vSYZD0+no5NuI3TNE5M9GU9PjgDQth9wY8DIBTA5dTQWaZwTFzETP88c1MvAe51Rnlt6ZbRLlppwHa8yRCzM2wKzOkApgyhcIk+qYBZlsyqhTHMWX3XyCKcnyMsuWSmEOnUSGYEwXYRN2nALB3Opoywr0iZkqzZZas2MUOU+Y-A9oQnbntBBW4dwOBHpAoWLH6Q55AhhUGPg5C8QGjKBREtQswQDGBzSeuEUoHxMd68lQgiY+WLyViB6y1Z3or-KUEyH98N4tQ5OLjns4VjTIoQDOfLIuY+y9m5clMHQWY7pQCA+SXPI0L74EiE0ds-WW0LwkMwqxqoziAyFf4yDpA-UliaJGCEREvBEc9gS42QFNj44-sDwcc1z7U8RexANYv2M2n4DDRPoqQedBXGBAoyc8g9lTycEzAWiIsZ0ngGHjXyrYeoqQWHMLrGj00h8s0ZzJTiLyrRDvG0bzJIDryAJGA-eVnJqBbzKBl0DeOApdKWFYEfdAIrwM9419o57CVvsxGggmyEEdgQ4IfKtluF7sV8m+XiRTgbiMxW4pBfLBXn1DYFQ8xBQ+XaRVZf5IJDeaP3yCo98g2vN8U+XjF-sEJmYtsEQsQmz88wns4vCwqGyFi+CnIlSWfOYUlyYovc5wP3LhCv9mFsNNhVApc6KCpFkPO0cqJ4h9zqSiip7qwthqo8xBFVMANfOHgSKdMrY9rO2KDSkdWFJbehSAgAlDi1hO9IcUNgnHpBnFjC5oiB3cXgTBRf6Rxd4pchrilmfC7mgoJ8y3SfATCaSc0OTxj5e0CSj1rdLQJXsSCBExkIbMEYR0iZ6fUBp9P5x5LJhJrFHHOiu7Ez65WMG1tIFZlFAb0sMRCksyszVKilRsv8PhBAQShDphS-gqACAkrSnxgbEBOwpkmiQpg5qdyIdI+mdA7SJGAmQsENlBJkaviuCbJEzi+KAJwy7ySuI2BTAclhwaZSQkNlhKegkE+QTxI2XYSfxCYzcQIpZAoSSxpMRRmMoGUH4bQpy2ZcTInFoSzAGE+UYoFuXfiPMOkswHpMMm2ALJu4AADJa0HJZ49uBdIYKuSHKh0nab1NWlNjfJhEoqYFOikGMQpxE11JisJV+QlmyUyoOStAbUqaZD0DKdCthUIrwABU0YEVLJW3SsVK03uoNJXoCiPgVUg8TVIkmtYGpFy9INuEOmtThRL4dYcKuBVIz0ldwWVfKO9Z3dE65K3abioGnCihp8gEaRpDmVNU9iidPpXEsOmw1sVa0uhBtLcnaqbVTYrpWeHQqaIDWgEsZTphGUxi6JUbQhoNIlE4iTMpoeMQFSuj8qehewvkWjBbydS5pwXTyXsvdG2qHIp4rVdys9XrgQEOqtcUvXPLCiXV2MBQO8uzVZq+Gzov1STJtquhCaskdieZ3LX9Vacbyg1hf0Fy1qSACc7+W2DhC117gHqg1pWrZFLNO1CwfLk2vOgFr5RRai4EVN-5tjylFEhSR5kNQapSxZ8ldYqIZgqAuiEXZqRHIJUJT-UfHeda-2PVC9n4ck2SKKrqmtZj1FPZ+MEw3BGQE1YNYUSHUISKrGRw3KqAlLVWdD21QQfIKggu5-rmpAGxIM3ntDctmpmgU8c+pxnPQD1bIz0gXMKhMCX4e6hlYeoCllLR5UkcqU7EOWyBYsqytIKeuIkLrsVbsp+MjWvXWAxJYqilVHyfUWAkNOGjEZ+pcjfr6J63FVaIEg0sAgNgQEDXiF-XIFbpQm6DWaBRm3T4NZVRDa+s+moaeOyC0WI4hHTpccNXRN9b82anGt+lx6lMVjEi4MrYmBmpZmZoSkWbupfkOBtZuam2b5ptAf1LutMB6alIOdI9QZrWU20KgXUlzfQCdiZSTJZkyydZLslsq0goW7KRFrylIrYNdmhTTtQC2eb6AnpWaNuFyApc6Ge8Mzf0vw2AlsNn07zXhuJl+bRIaWzFSFuZXwrEV8cULSysRW-jSOVq6CGVWq3crMthCnLXdx-rUBCZiDLesOsLWENsGICYbWhCm1ZEYo06zoUswG2EygcM27-MQDwZb0lZxagdR8vexTa1tG227GArOHzbmR82MTYdVtbbFW1Yy4ArQExqDb7NSeXBo9uhE2BDt7MU7f6vKVf0QEjDQfP9qO3IS+46i76dyIhEPDXhgq6FPSh21lqyG72yBoDpKJfbjtUQU8S9uW1PRxgiOphsjrR2EJUdTaC7dlsYDXbYdpavhpzkx1PblCnDA6E5F9VsiA1+qoNUavHBhrm+ywabjdrLX07vGlOm0BB0lVmgAVe4v1XeX8Dl8YoYuoFYyJ8Jl8t4tiDaCaGl2QK7SbI2mCTqdbk63AT4QXZzn50OFUVVWfDs21bYjJGdqOzmNaVZ3DSXaJkTnZpGKnBMEYa-FmtcARgz1hWNEZ0SLsMSVsYqofYygHpM0C1qoXnPQvIB14mU7wrxOYorrV14caOBHC3VBm9bzdZd+44FQrppbIrh5ju5wprp3gk6zddHe6LrsfAlq21mgMvYR3DhKFn4SoBdppX6FOwAAnO+AGit61KEu-ES6SH42AtKfqo0QaB8CaAKpTszZqyNXUS8T5LEKwKkVOlC8ggPem0EqyVZVQ0A2+kTebHU1XQ19FzFQLnJ6Br6R9FINVINP3TnQrA94HfC3Iw2r6h9-Q8-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-Y81vNP8ntOQp+E-acN2SHCd-2xPbJ3pPi0vj+69eeQRjAwu0jtnGzfhuZmcz43FGxs-MvMAALnNyh10-AcLOI7iMEhCs6Lo5PZrHEH8xmezO5ndnc1hm4tc9TLXVrtT6hzY8guhnlnqzm5+s5efw2ObLAICw3b2dVRQXXN2nDDEHi5Q+bJzpW2c-8eSJLnAL8u0JWjTN3ynbdk7FU7MA1OG72Lsp63bVxVQO7Xd0QD3bmfQDXcdsYYHQFKtbgODvSZ+DIdkhyHX2Shw46oaWOVctiGhzIXuS7hpIZTzRuU14HQmDGyRSp-6cenxz2FZtUQeZtcXDFyoYjWwRZhvFpZ6sFjQpvQQjAlfu0+CJRcU50e3XLIXdaZ5QW3N1jucpCN9DGlSAfoHJfCbuRl8y7wu2sqzMDyK7DeAgsBv750OvWnuAWJBv7oAAKvLYCvdXaIeAUu6PScsAn-XoE9sEG+OkhuU95uojuFAjfHSo3bXBW104xMOAuoQAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vW+LmH3oD3wbZ-NERx0Un4fUubjYhF6MtIWjuBj7lxP6-p1g7O3EQfwX1dyXxvFXyz1u2SFSBM0L2TygK51bxP0C1iUcQlSliv1yUcR3xcyALN1AM9zl2Z0G19yNhNnP133rxmkPxb2xzb2QPNXBBWRQXoHWXNhcwwM4j+UuXNlp1gMfwTBGUCBkA5jxB-1yS4NIDeVwOy0EMqA5lJArzRwkIBWljpwPyl1kOEOth0HX2INSCHQLj4OALfQQNoKQPGliQMI4I8kswMLRUbxkIA3BCsO4BHUUMGwMJvQ3TvQl36zgOlwzQIJt3cNyS1XXQC1tSoMXxGDcLtzR2vTQOtXsPUITFXxkziL0IRQHWRUhUMMiIcKlyRwz3SOzw3xx3WDXU7VULGlgRSJMLDWX3vSINyVbi5HIyMOMPgJDzMPD3bzI2sOuFPTETaOkI0KcP6NcMLhCM4jo0APn06ICMaNw2aMV15nXkXhKzUKLwTDmm6LD2qIsPBHwWoCXmjzEM4lMWcy2Vh3322JT3wLL0IIyNyVqXnzwJl3d3AP5FKMG2qVqSIFqLuPgIaIBPOI8iVV6VBIKJAJGFBOmI8mvX+P6SiNSPdzhP21kEO0amalOzagu06m6h0EgPRyOWGjVmJyl3-nEnZFJJWJsKGIwVv20Sjm4EU0o3JCClx0YMUFYXYT3nBB63QjZjvxZNADZNlR+JaPfRYTYXkQwRkApJ2IOSP0QJ3BkCsmYV5LlMOwGMSUO1DmFOZN0UVMDE0N3m4FEPhPMFEUAIVLezGOJSEPNNAAUOeIuP1LMXkBVysRNLRHySdPVN0F0NyUs2s2OTeF8V9JQzBHBDDOIAFJUHoEjKtPgLjJqwYijN2JVJ6LBAyxQMqR1V1M6J1R8WZVeijJL3LODLBUcC+HdnWjUw02ZTM0l1RLtAlIV3BNXX9nDmGhbI5JHyXw7JI1rPwGMDEQkV7N2UKAHKlywjkA-163OEbHxz9n7SRU9OUUsUZEI2JMswXN+hFxhWvijLJ2m2PIYhKM7OtN7KN10V7OeBnLjGiMGAPMYjdPBNvKKTfMfL8P8JvB-LpN8zVjkWx03O9KMHPPoj1FZPWDXKBntIEMmjEHx0gtS1gWpI4HWlQtPBDUaSwn3N7LQo+gvL1FmRYDgrU1HWaCwpQtUGIuelgQAB5gRkKcLOg8K9YWhSBzIIQAAVG6H2IQXwQQahT7a1JsdY6gWoZocEUAAAamFWMT2hJnWiFBTiPPCEUoTLksUvcxiA+FUrEHUvTLIrw1AFMh4tfnBAEvwCamIEclErEHEq7UkoXmkuEFkoUqUuMUMuexMs0u8p0u8v0pUv8pkBTlwu+OJLyiNyd2myCyRDRwzhxxumxH7JWDAT3WpigpyzIqpWEk5waM0vc31imlSqIFs2Us5mhjHOe0bK9JUX03c2aBF3p3NxKuUtmCXyitCtauLSWPPNmRvCir41YjlXxQznp1XKyI3MUUassQbWmCiQYrYCslsienKCaS0UyW1FxWfQaEbDfMZCVTfOKT21jCCmyt3lvKPJuq0W3WqrzC-MvPurOhsSdU+v8JSvRHSr23zReOVzis6wSrysStiBHMrAqr+rKwOqajR2uqPOgsBMuqKsDVWs4r-RtmhqqrjgrjrPqvAqaqBnMvw2-lS3aqX06r0lKHgnN1wugtJqCWuqIiGptDtFGp7VAB1AmoMCmupJmvXNxCJsWoKqKBWpF3WroE2pEG2rOjSV112qfA5UNVjCOt7JOu7LOpiz9CuoGrfLvLer5EFLQgNu-IfLGq+vIlnITB+rSvOumi8wOwLWxJO1anOw6iuwwGJIQRJmIVQXQUO0wRRJML2NxxiXBCIRQTQSLKjpIT9iQQXm8NJR1m4WhPuI+LtGsS80Kj9ujsDpdsZFx3TC5LmATNiDmFXEeoaC5I5HLpiA5CrqUy5Iwnrp4A3CbpLqcPPjbvPk7vjicKKITKKOdGrqKC5O4kMAXnIF8ATMnunpEsVDHsKC5KiXrqiVjGXtiC5JuHxxqRYEMAFN3tUH3sahWC3uGScPkrbtiH0DVm4F8HCABAAD5QB-5FLF6L7oyIRPIb6Yg76H6n7X7-4fJP7m6nDE1pgAHQBH7ARgHQBIQYGYgv6uTgA-6DB76YGgG37QAwAwGu6dxwQABSdB6B2Bl+nBohpB0AFBpw8SG+sh7BqkqUR+8BwhgAQklAYcwfIfgc4aBFYYIZjKYtIZ4aYdABYpiEEYHsIaYoBD-sYbgZwbkakdocIeftEcAaUf-lftUbYZjOfvke4CKEUYoZ0aBCwf0YhHYfQZwcKAoZiHYdiHJPTAKgEzjoDo4QLDvMBBXGfyGBp24A8dIT3nSNzqQXzq8dinwBYAACsTBbVfGVh-HkQlGW68746EyS9rEv6ihgmC6Cx0jIp3GMnPG5sRNv6uSsVagEzqnUwTanquTIA6BvRjZZ7jHmnWnklcmnrL7CHj6GBYBIB66Bmhmenemd6qAT6ABRNugZ6Z8ZxppwgAOXIGWfQdWeWaZr0jcfeAEHyeG0-SPKSemBSaUfNwVKCdKdIXKd2apAOfW2vhOYaDOYoeyYvB4Gub9luZOGvJcHwUIS+aidTqgScv2KjIBYYGqHExlFIAIXqtifIGrCLRJk0FxtXAOcTo4ClnZj0QMWoXBaOCKFRw8PjEIAaq3OFijJU3kRFuFiGXnhnX0AOdESRp8uMQedz00oadi2nREGZaBdERifidMBhVCs+YifjsOeAxPJ5diEFsRWFvmspf+hzoExmrEC+AotNmVe9NbTJYpYgrTGkHhsLpxPdvakuwwG9r+cTPRgoFMAYHLg+HKhuFIA7lq0zNSHSC+03ErKnz+GzRXG6szpX3d09ewW0oYF0rCrUoioCdDfTJJhIiLmaH9eTcDbBPMGYRuBzk0S0FpyMpRv8PIGUGUE+wyCeSMGgTLewcakUv0FLeUHp3BDktKFbYstiSsm8qbcWb9FbcmKLazZcHNkoGSRGiMqoTvinauUkG6ciGghtsDD8vWiCohG8pzedmMHzdqBPWxFvlnbHZ6BgUjdiWsHBBTM+bndxEjgUEbeoS9YDWR1viLnbbDV0hBkJQAxfdAEp2UgJW9fRpvBffCH+0WOA4ffCH4diWKHhGDYMHNx-epPBFg-uTtcOVLZnGddijdY7hfeMmaAA5qSktOPhh-b-dXFZ1+kuLYOuPvaJyfj9HbfXcUtHaRVvYTcGFqRA60vZedDkpjdf0vh9UwW8ewLo5A5CtXAE+8rY5vbIDvZL248g8jbUXhA-azivaPdylBATNviuevaYAU8Y8-dJyjXw-Hjk4hFbqTQA0Q4ffZqyBA4M6PaM9IEEgjQVhXY2gs9XnBAAHIY3b4grAvPPvOTKX3L25OnXaxSAU5y44vH2GizpfXOP9AEvpHenv6jiRAdLggdKHIdIrILRiwdKjkOB4QTOkYrPzcMvhr3c6uXP2PjPPOaul9Gu-x0vYvWGtOkU6ugKXBEXkXlBUWZxvFNYPBNk+lH3jjSOcYzZX3svZuqYEyaOL95uNY+3Yh-Ghv1gRvqBNASyJvK43Ap3plNuqv5YqO+zNv4OuTYPXDps38ROFvU2WgNYBvQAMv7pf41YrlJu3Bpu4V8U54SP2ZXuqUjr9S2qgQVwhOxdqOPSridZXuHVc6AfjBscYF4oNAuuyBB0f5mA-vjvNkzvpvLaFjWXpsW3W74OsJzcSe3BQ8T3P8HishGfMeakpkg2VhmgqeKbkOe66f5ATvOeYFPP+ePoW3duUWDuxuGINOihSh5zoeEqhkdukW9vRujuRfSenLzvCAeeQYVeC0jcrmMfmfufH19R4UXuLuqVOSnCHvyaEthO2dUfyQDUHfsszYiMAbOJkkSAgfWyTD2lbvx5zcFvPOVqzYpb4kv5xOPJA-4zh30OkiFvELQ+o0o-x4bwc+QYY+NY4-P4XBE-s2kzrVBdbWSvtJypKB8AxE-YBgKhBgM+Q+XBk+gfkOa+dJL3m+akmfa-spAC2+l2XBzcIz0+LvPvLMWBqhuJ1ok2a8uA8rzxM+R2o1atoLzxL25+jYGzaseN5-nsKyl89+F+idd-j+D-nFz+T-1-Ou7-1pU+n+xAoXGAzqt-jsHqH+2xPAv-AKH5YCqBSX7iht+K-H8g-wIpDFX+oA5CKv2Nrf93qn3OaMTGD5j90c2ZfYn0isiwdqyHkTSCNhoBPJY+SAlfg4BlrY5iYDAdQCIA4CkB1UOeQgJvE25i14UaAiHnDUbR7MxS1-MQLRj4Hv8ey7vIvmQIp6FUpcr-enHU3NSlAKBspKgbDBoFCBhA9AnAWIPNTNBcgzAo-vvzf7VZX+H1HMLinhRh9DeS1CQQmCwjaCU4kfC7twBsGNFXu4g7mvtSNQ+8PuK4NiBgMcELdPuhlfoAoGI4kB5EFQGGL4F3aGA2QYQmeqHkMCkgH+RRIwKIXg4xCIh2OeIU8Fa5RoOqohOVv-TraHJAhwQ1TGkMiFFDToCEZIVtyy5FAyhGQ0kKn2qCRwOASLOrJGFiE3JohHQ9IfNASHt8FYxVFIePHqF9CshvPdugeDS5RCahBgbBs0LICtDSE9Q-QKMMyGzDnQTwJRgEMqFERRC0VW1jsKCEyAYYo0XHjEmLb8FAwJwqgHIhJSBBToE7YoSk1BYTBL2NwsdpNHuGBCnhp0JLujSOGLcJ0EwhYXC36DLCehu7NOB1QqGCQeWWwihh8LuFHDfhQQ2XA8MEgHCSMIFVTEKDeSggyyAbJcFxCoDcBIBVGATFIKBCv8hBn-IkRAIfJZZJBfA6QeBHHDwcaWgwL-k7AsI-lshnwpIAwF3r8QaRBgvgbMh5FkjGRJLXJLxEjiMBhR9FXiNwElFiCH+x1ZDjICTA1M+O3scEFqL2A1No+7QToMy1JEkiG88HY6jEE86oDYYZoy0ePE5FQslolIAkcLGVEWipRD1W0WZymG8RwglOBWFhB5GLc5RZABUaFHoo3gAx+Q50DeFDFxjFQ4YwUYqLS6xjxWBEc3ImMzGm0LannfUdqOEAXsZRnEespq0kDZQUR5JKAVGkwYIjX6YafAdmz6B9wakjAHvjrE7H0BuA33T0d93JHBYBMioqzAIjcSMgUxkYviPRT7HmjuxdAbgLmLQgDjpRz5BMCOP8TjjNRRYxXt7GBEgxyxHAevotlhEnppxo41xKq1LEeReA45efurAdGPtvO6YqgFiLRxpRvhjw7oGyG6D9ChxPAipmlBxA-i-ArpNccu1ZHBhxw+kJpIGk7aGAUBMoP7kSC+iPicEjYboIyAZ6vimRSpJxIeD8DhB22sHTtt0C8xHjQAfFAABLTMGAAAQXADgBpmAAJT4qQAAA8ss2QBAhdytrGQJIDUAD8tIx6Scd6PeoP9bxCdJCQ6PlGLcPx94tWMz0H4iTbhEYt7h+M6DixlJDUS9hpMyBCTiwDULYQMOom0SGJTE1iRxK4m6TJA7-CoIpKx7aTuUMktSQ-w-EoiFJDAFCcIUnGzIjiTkugJ5COFV8wE3oRycJKMmiS1RAwo4f7FOH+N9EPIz7HAx3RqATAXgdsQZKH44wkplkdugKIXFiD8h-E88fOOjhRSfy8uCieV2+aylI4jIAAAy-MwENQRyFZgyBN8wesUagIMD9QdTFYDgeqUCBqkDT0Y2gRSniFwmBgRpuQQaWQEvaWZWp+E5fnAOJEjTlu3UyCBgKwgocEyWEdaV1PKg9THOq0h8M2JcCBAfUy08UKkGqDZAOp6qd8P1I2lHSzQTSByu1KKwvTsoPU5KOSCSSBA-YjkToB3FH4rB-UHA1gWnFKCLSPph-UgQdPcpzcoWqYaDAgmz7h8mOkwzcEUKBkgy0ur3JMfK0BkMBgZbADuHnwu54ZTIngq2gsVxmkz8ZNU86VxGIAhDQgBSDboQHogZtiRg4pKoNgZlkzQZFgvFAYDtGbgHwYtQUJNRNFZAv+UsrgdSmyyHJawXNfVG4IIjUYBBeg2kURQZEPV1ZysyQZBJCR1BjEpQLUVGH0rNAhZ+M0UbfyMEZgsA0EL3krKuHwF2k4QWQTSWIB4zyZBM7BGBztkBy8+l3WMHzw4q6ovBnvDASHNBmbdPuzovEawm1h-BTp0FMSXWApE8CqRvA3WdCzpG8yDZyA8kAOCkHQc6moszFHQHUpCioxugi-lFkMGLjahMQU8FnIRB8cve7A+0aeB4TVU8AkIYeSuGowsjqRggwuURQ7liCuaQUCuWBCgkahoZ0oOuWmK35Lj85TcsUXoO3TQR95z1H0RHPe4gCv+M8wARrJVpizVhbMmdKkHhgzyABFtSILgzADDzIQGKbLIWMNHFjreqtY2bbRxH8sz5nQTuX72JIOA15DcwgHuF-D8z-CGo9SAaI4DFj4O38lBbuLJq5xTRMCoJqSCtG9lfR+E5lqIV1HFwT5uIpaKnPdjpzcFPAOBQ+SIVoDCACQjkUAuxwpyxyNCx4CwqCZshIBr8hBiPJBF+jMIpCoMejP9H4Lx4kCiKvXOnGNEYFGwhoDGNJBEyigsi3EGmIZ55DN5KwBnmor0XTBKpBY5BTUxQHQEOpI0Koo+zDon4qiVkGqUWTeDQxbxOsZmQ-xLzMzU+I0wAh4oGFJCwC7ubxYty5KdBgZvgA5KSTg4TCS8tEB6W+MGyQtnYNU+6cSNnEFTex3XYQeJJzlUhoYMOT6UKkulaJrpfwW6TjGZnMYBMmii8YIkZBqJalaYjJfKPUVGh6AriujgUv3TMy2lDQFcYbIwG1LNx6UJBTuPg77iVIE8beH7Ay5pK-YgBbpYwF6XmpDxlYk8RiP0DDKxxmeciZIEok0SGAzE6yAABlpm3E2CZkGalo4SpgkmqeVNUlJBO5Eku8dJN8nwd5JSE0PPcpclJB1JtkzSUUujip89Jk8DqcCof6mSjlpy85TZJnAKTvl4K35Vggf6xTGW-LfRO5NPGeTvJyK5RSsFjIdSgpsI+EPkKxWbLdpjiolcFMSUvF1iuIH5RVIfKorYRcUqgAlKvA1SlGO6ZJUUvmVBNHlhUn8sVIEkn1GVgqzuSzPdgsIiscylpRGKzmfjBILKjEWyrOHYgVwGo1+mnDRV8tscKw81GFKynHp5VTyoqeagbHpIGVSK01UKoto9YDagIpOT8hi7488ecXRVYCPQkCZWgqTIEEBM74ddwQHSV1XFyVoLFfVDgU2RBHg7Sqk6oa+Lt109Wwi3ukanGJPzvQddHVKaixXZPVjig0JAS-QsDkX7YTM88OGDPaLLW0qyx9fQIMaqOmMAFJjbAKdWhB4VL7JBa+ceii5Q8DMJQIHFeWFQndquajYctjxUizzilVzzPSOSp+HdBiuAU4lRiPDWFAioOIRdRFPoDLrAhApNOFhHnHcBLV46y6T0gClKqbEbs2OZKVrXBA-YI06Fs2v8X-j7mgqxkC4rPB0cqlZc9tXmrVgFrfJosjCX4EZCDrcQqE3yaOoEwnrIsI0o4TOoIhzqvx2wFAtSpJUuD11C61DRwB3WnQ91sYfaR1KPXYMYNwGODSmrGpXqnU-vDyP3xGnBAG1ZHVtYkMsWPBu1ZCsdIIGEDY5Ul3azzv33nEtqt1WCPvtxsY04x2NUED4HevE1CDm1I6l9QIGejhTDJ3KRkFCvMksS2JnE8AExA02MStNVki5QeoCnEalGym8TekXAkuBwQGIEsTeto1ibUlz6woNJvrUPqm10k79dwKpAWb7l6mw5ccrOW6byQUKoLeconFRoapZmihn5vBVjUgotmrwPZp9qpAhahsWJkHRmQsan2WQGZO8O7JvBMtKIPpJcIWJ2DkSl7a9EVvIQG8ytQUSmZVqAHwF0tk9YrQWFK3-Dkc+W5rU1G7JtbyEnWzxUOXqQ+KLYkMFIO1ttRDaBhjWq8i1OIBiAho2OOZdloGEVarytrIrfgDuk1aUQMKbNRiMfbpa9tHW07ZEQIWlKjhnnbbXdOq30Apt0cc7QMkvQhq5lSqc7YBjoCPa95WXQ7YEIOHrqcuxYqyG9u64JlbtIm4km1p205TJttW5NUdpy2tb4dBaVYajtFZAjA0tosaWCLaEsxwhUIq8GDrdVKoBtJW8nZjsR0A6UIDQS1TDru3jbyYGO6bZTsiK07pE-2v4QZiB35dQdLqjLnPUm2w7jWC2pbTvEMRkCL1Kq4oR8I5WrgtVLsxUEkJJ1xdvUi25bQmvo4va25rm57EeKrGnjKptgXNEr2pD671lSqo2ibtggEZA0HOpELdRzXZIgdhXHSqrvabvTxd75W1urBMD8AbuhvB-rSlIEastWqsXVlLBZky99uh3arJLq53KqYwV1VlXLtx7GRFdfoP3eWx3iECIYpMHeKFXs40Is5fSgwJWDJFANMxK1CvRxuqpxIS++UnLKQDSS6UXZB8woOCBj3a9XolXUdLTQt3HirdfIr5JcrWoZ6ndR2kFEDu71y9Cy-O+TLMvB3cBZ9cejMr80bA3A-u89cIYyAACcJwMBDvpnpW6ytR+niOEKVVQtI4I0bgCirhq28AR5auGj3PxQuBqSDU0WYUGP0px-O-nKyGgEAOrrjBV892cFCnrhDphuytOD-qv3GxvssU2XLMhcA+RLSMcumbAdinwHNwMKLfczogMz0WZHPLXdUCKgngyAT0d2POzyUCBWgjIb7uBl+7-dReZoqOMNFIP8AgqRwSrkxAHBoJSAlBtpqAGg7OFDR6MeEGLR-0-1vInzDHl9266gw6ARUGIN5F-pdyVwUh6LnKuOCuDQDLEAcFOvr6N8ak3G3dq0B7XTA6N-UhjYJoE3nrAC5hlwXwYoN1Vkkwh9SO7Cwp65pZsQKQ+CFUMyH5xXGlvgAgCP+RdDT6NiJrOmB+GAjMhjLhakESNQ4j3kYAzEEwOnidVrK+XVeEz3SItD3XdFsYjz3owC9w0VoKXvL2V6lG00DYR7vS6uFB9huzZU2NtzUbiSEJd4I5G+wcHbiPm2g-QeyWMGiezBqbmHGMAEolDnB7StwZsTq0tEFTeoxUfN3rQDdGyn4a0amnAl0ab5TGuQv5x2VFRz2C0eQFkjQQ2k8QProUZKPECd4yxi5r2QGRVGmo2DWo593CUz0olxySTHeup1-D1Rk+wIdPv4AQgPjkSpgNEoX2PItACavTmwAiVfGfdxBuZf5x776A25AAHSwC8a9VTABvjIGCB3sw0D9QBtgjQj-7Yk-BygynxODInCjqJ5SeidqFYmcT7MvE-7EJNmiphvAE8LMh6BYQeToAAAF4fNQAWJooOiuxxGGCT7nGrCSeFPZppEFJjvC4eMA1RUILqbskIEMDdHNwqJ3E9Kc5M8NbOhDU41ZBYA6VlAOlYsZMH85pg8AdJt1fqbZOGnZTxppbjpQtMalrTlXZU-5CAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsVM3YB6f1gbg20E1WKx8vqE0sA4GEEhiZaAuq2EyOQtKxkTK3soEFRrPUcjiRm-1QSBASALTQStTKRVWq9Y+HYElm2tKjUq1JsaJI0gpEwc5WrBnDqTUwEN1Be2ts+UsuJOxvyk0LIBads7QlhpNRG+VirMWDpVaAKWOLqBrsGBuu+QaZ0puoBO71q6A3XoYNm5g+onm7vIZ0jgzBcDHKcBylCT6k3Qp-L2n9f7jk6CA9FEDL6uCiC6Wy8N36wK-qEscvMnaUIGOnGlEg74d1JD2fu6NyrLGKyUjOfgxAmAPsfBnajBG6NOObF+9sRyILMdo-R-ECyCSweRDxwjI6RjnPzTu4wJHBUWvbdawZI4GD0DE2O5BbHnqmo00Jmgwb2r0FHRJjTqH2yWsEzWwZOwx3cFIHpETrGynsZk3K3YkpHNptw9YcQKmDPifU+5kzYoomSjMxC5dgTGIVhRaioLCTyNHso4zL0ZYKwMZQr-SLEGRoQWS8QVL-H8k6YoZFzOlBG3Ra0x6pdlnVm8GGkxGVxHdl7riwO5DiWIIFHq8Sjz0UR7PpvVu+dbqfG9eRAA4MkmUMca2K2qrY2aDqy4AwSbMgnROeay5rs62FsXwiCpiba3uAbaBeQ1cO2it6eW6tnbgWaBXguxyUlOwC4yEDVk2LGKOkjUDYrNwJLSXkz4YyCklNyZoNIBg8Bs8WmX3qozXA1RpAQRPfUDwEFEdQmR4qScM45xA3YWw5xdCOFb2k-UZU1hXvk10CThhRQOJgZTfQdT4OpGQ9J+AnH8TgY09AEUnngMidcKOED0Y-DQdCKvDTyGUMjBXmF7LuXYuLAg8ETcRlMvT1y+MKuRX2udec4qtzjHSOBAQRw9FFNudxikEdWCC0d8Pvf0BnfZQxpQDymq4+mIeWuDUm0hLZFge4qDGUDRhgek2cR70h-Fqe0BFxgw6RJDIEVcS-VzH7N7CQ+FmUAbw3WeZEzMLZL5Pdh-b80x+Mc3JP5Tc+t8GW39vaRUzL8Giv3vHz4CUmvNyd8CfGpL1CsE3jVw067yhP25p2C6VwguAiaw9qKKon7OfiVqwweH3QeH1DpCgDlHsJUdBLf6P7xwbC4zB9YJhXhasIFx8UlxjFiVADdK6HR-94-C5ZG29AAAFQAAkABRDgAAQXAHAGAIACV-9IAAB5AAOWQConlC6FJVwA2CT1z0GHzXTyhwPlbHIR72mGznvkHz4RFw5mnzILvh8BwKygoPFyoOPGnznDKgYJ-CKzYPsC4BLCD0YOdwAJAPAMgJgLgKQPAG4I2D7xEDoKEE4LwN4WYJh3IWnwd1n1oIv1Oiv3T0kU634ND2oH1g0LYABwjDqUUUjGUSgDgEQGQHQC0XkF0UfBMVSlHWOX4AmE0xa0MWMVMQoHMU+XHA8ByEsXHEpxsEaWCMaA8GZnDjuUNSdSIxLQ4HGSiKmU+WUC8JYOlhXXJW5V1Q1TnRiIHAUhmiZ1hXxSKIdW3WPRyIiPiR1UJVqJ8RCPKMAmaL1RKPqMIG8MaJ2F+X8zZXaLcI4JDTOWGMSwaMaEiNXXIHXTKk3TvTqPyVGIqPmMWIG2TVDV6P6NmJ9XjUTRfVvV2LWNiKfBYBfBHi6iOKzRzS3jzR8SVx1zrSzQbSbSyILxSBmIaEiPsyIxGIuLGN8Hw143TBo1E18zU2GCm3yWyL6NyOPB2Fyyi1KLRw6LKlRM8MRIGOsB7XRNlExIwythxP2L+PiS63IAazOKsXaK6ybTGNnBGBZHFW2NOJ6PhIUkRJeKaB-XSLEXzQmzhKsQRO8KROP1GDlmOWVlVnVi1iGWGBYDvlAENkxOZPo0n2igZNZOUGFOemqhyULjYAWPIE+BuNxBhB2hfwDDqyj2NNNPNLqV1IDBW3M2MGRmUkNOsHrDYG4EoCHA3mdMtJpiMD2g71TyoiZI8P6w+NZMNENyMHpyEC8IiGoHORkG+IaH6weP3ieMtN5MN2FMLJ1361TKjBuW2RDOf1OzRRJNJGSLXBTzpKBA8GHTETAypHAgjJbMBBCD3wEGuk9OtKlIbBdNlLVk1jJEGVsz4FVKNgZMjg9Ke1rXQwFPBnzUDVoDFNDJciW2FLe2vUPDKPrwpOBmjJZKUwOxW0POO0kRyJLOSH5PgUFKbPagPK3PvMRK1OgQ2PPVNOoCvUGxWLJKEP2QYGdQvPfHgyDTfTmCyO5PFO3HoQCOgvPW2KZ2eMQolMlNQpkBgtfTnHa1FOwtPxoBBIBLYx3Jam9IDT9Ns1BMhIcwEytNRk23bAHLNmHNou830yqD822Xc1DJSBcigpxH2z4sMymNIAJEUByK4oUi2l8kVD2ivL4ssWSJAiPDErUtUwzPczksRLNlcFovbMnl0rKWSNYqPBcgsoWWSOMo9MUpRhspaQorBMI0zMWiu2hKMwMvksVAtl6HhFXJU3SKIGuTmEmRnTAuCwcGiuPKJNPJSB4WuGggiomJoXgmUGfI4AypTQ2TmCvASs9URhPRCsGVoCYmpADOqJaKDhFJplososXWtLDNv0cxAgBL0uQUasctrNi2swYpapYqPEP3sCPBCAKEYTkGqrSL9HtQavEuU0koEuIs3EfMaCqsDHmrqu6PAyYw8tYyzKch8v4phJko02rVcGHLYoGqhS5T2uKNWN7IuKOUesWtdgNQeVG0mqaNtTfE+tpJwo5iOS6OesSJ+sXR5hCDQMJgqu9RBOxOxRyPj1vw+NwRKzjM+TNj2m6i2i6rmtqqBsYI+Ofz2nyvWRoRX1AjCvgUpsKtkHxvdPYq2DEo+M2tcGTIDT6LTMrPAmZuUAZupp3J-PIoqIJL2KEIzjMoBSljEqnROKGy+MTKTO-LIuJKGMEqlrRp-H9DERAjEq1van5QQoCtcGuUhtGUbONqtqrVfjSh3LNhcjEQ1pBPBtaJRsRJaktu+utv5Q9upRLWeMVDEsDr5UnjNp5NDqMp6GkziRBI+vVU9p1r8l9tSP5STpqKDsNRDvqDEqzvqojoBSju8N5ICvtHkUsKURjFsLUQcM0RzBcM80qAgvfCd1UPbBVIqTbo1ozhuNzI2FGG3IoTK0XFRuaTQ1SQgl9P9MDJHggk5uMEHrzWUA5tIos29XyL9IDKKAtNita0PXAlwEVlnt3qEAXt2xzKJTzOHpxCEMg0wxPtAEA03sfFjLHvvs7q2Efv-Wfq3wGW9TLN5orIzNwAfvQyg2fuwxXMGRlq-kbO-C7IgentlrSkXrJVeGGF227QQYDpxm-qhS+zBvBkVjQc1MuzwfBk7PUzESENbTobFu5IRUoEbx5omD5ozInu3yvArowIko3hITe29sntdUZT4YTpIH-F7w9CbUvmor0FcG32BnkY3t6D2kqWmCGr0nLPTOQRAjhtJX7qEb9q2gdpisIdCEBlMZHsFKvpITtvzTj0UfJ1ZpbVuGL0AffocdfOcaUaINMyMk8ebtvgfkYXYc4f8xLVsbnBHo9GLC0ZEe33GFzkqWLUNWbAZhSeDDSZmkSrKJ-iuOmAIRsdflkooQSfYZwpCGybSZsd0AAB4-x+AcmhE8mQaD8ZZpSIJ-80JLjCAJBXTgw7Feq6BMJuBhppAQgUcABqVHHXUfXODiT46J3QOZjB2Z+ZuXRZ4MZZ-+LaLcIEScWWMcnpvpzAjWIZkZ2EsZurcgKZxmUAOZrMnZvZ+pp5xmRWD5l5rxJZ3AJtdpph+IzCO2xs0xhRomRGvojpNCZkbh+oOJba7daJsp4S5IUjVzGoVZgvehaF5mZkE65h6RluCJ0B9THIjp5IEIUx+HVceprM3cW4dprM6l6qttC6VZ86BwQF-q82RUaqLw+HTRuimzHRkBvR7BtqwIUcyIcFxmFWIJIcT3PpGspynyKV1wVSkhECXSghc2poFyJFnEBxmx41zBJexoS+ZIpxzhVVpGQmAJtmvF2F4R7wjW9OpI02ktV+CF1wSRiYGFp0V1tFi+Sqtl0pkuE7RoDFrselxaXFgN-FryuXWjYl8eXR-m4Nyl48GlhmOl7FqGDwD6VcPJ1+bN6WI1mGTl42TqHlwKrZwIAVvooVjJbR0liVofQEGV9Jh5RWBV8+5V-eec6iKm8dO182Zy5SwELVsnKiXVoR-V6NlpI1q101j+C17Mnxjcs18BcdoK7fLwwNuF2Oyu0N8VKwqMWu1RewjRLRbAZ7awINcgE0igJ08VeMu7PtA9b7VJXERWJ9l9s0iht+lCADx00gv08Yc5IOD9mbdxuTTqEM2RaOB0194p6uqiI5B4LjZcDB3XWIIEBM1wLja0PD+XaoQjl4rjQaMjqxiISj7D7LTpWjzpBjlILjWxewDBzj0QRoIj4wLjG2CZyQDBoTtQPjqj7LGVsjmVwEfjowLjARKILgD0WgRepTlTxReoeT2m8CCCGZ2j4wGQN3UACQEEbIFUuZwZ0AHTrjfWQz1IEzszjICz1U0zowWz7LbKlIYz5QZz54FUqCdzmzyT6e4ABztMJz8z0AFUsAazzz6egAUgi989M+i5VMS+C4S70-ukM9S-89c4ZjM9C704AEJ+I8uouXOYvQByuqJivGPp6GmUuquAvQAmmjAGv2PssGn0gHP8v0v2uqI0uSvIJMgWu-PBvshOvsuxu+vlBAgBvquVTMhhuuunzstSuIuavXBngjBSvjAncHhEIUPn3wOgy2SbGMhFQi1lwfRUOgOLvMxzNTvAO33Mw0iPQAArDMGS67+oItXEar6jh7qYDB1taszasDtDp7wsczKOW-aHx7x6mmo5LjAcjBgcnT1WgT7LSAQgYSBYiQPD-Hwn2zbHnH3TyCDT2ASAMjmnyACnnHxTikZT4A2jjT4Apn1WrjRAlgRAiLvnxA8txaE7xH0H6YD6q79IG77ETiZ4VccB+7s7mHlHsXvW0ICXyoilQU-7lIQH6riH+aTXlX5HgomSxCUlBkt9U397mVP9oZn9zttx20iZvSdeQSMYCQElr7j4YsYgQuGzZNpyJHz4Z9iZi6mDgs09CbJ3zoQIWB71NqEFjNjMoQ7m1P9TKWaawQIGLX-rCNk60PyX83xx7ni23gGa4v2Ht0Sgb737keovrXj6uxi14VttzP7B5D2-YVpvOvjdcV-mrqtsbgdtzNy3iw89mulROw9RTADAEJ5EJBl0MgDgGjegN0LEBgKLZ+A+2wexRxBhgG8YeGEnObIyXfq09ZjgTZ15-5jXM1C-4-iqXIkII-ohE-3bX0rEUEh4kYfUQuLnCjY2kWAxAYgHYjsAeE5AepMAdF0URzMZAoA4gPDgggo50cKOaZl8zmZIDy+jQVAfxkAGTZdsN6SkJ8V+bBg9SbpSga3BIHk99AL0bfDsw+YQRIIHzb-lmiUh-85gRaWPrQMXD6k1mjMbQBbhA7RQ+BlQUYHSAmx79ok0gknBBHlAiwUqPqEaNIP5wFJxwMgHjuywcDSDdAbiEpAh10ErYrSdXRmP9lyIeAH+iAkwSgP+zIVMGjAUAe1HX6uwt+UWOQU0BCBaDasEzakjBzUFFJ2Y4oRpGWSVogU9BOFdHKwLmbiDEwdIVcAeUiHfMgQKOW-qkXSLRVWSH3ZYsHhMGCD2YaQj5nEMkHWCrwSQ-IVf0KHCDtwlwUwLZkgjMdqB93DYAxXiGHNlBOSQGJ4KJJ8DIINHHKiNESEmCuWNgnuJIhKEMBqY3OTxIQLGGWDGYAAck2YTZmBywhvOQL2bSCis4gmPDIBjwyDJQ+8A-pEFXAHCN2jQLjIGHNyKwGwGzdWMLEVi54NmEFcYAhA6HJAPAfQs4WlEjySIrw5wzXq0L0jtDuc3w24ICIBG-DiuQI0gWv2hFMNfeKUKqoHxNrUMg0ZYW9LeQPpUkaSc6d7CTiuF3M8RhADBmEOArIp3sFrItEiP96ojkib6TESWGoGblr0p-CnPEiyEEiMSXGf7PiAyFlopk72V-gpGvQa0s8NKJUnfEZF0YSw2ImipxB8FcBiRMHYUdaVUp1I7aWld6AKIyLvhyROxfEWyNVYocmRSkBQm6XdjYgJREgKUTKNvQsjsRqrWypqNzb8waOJOYGOPijCyjzR12cpq2gxG+j6CbpdkcoIL4loUBzHT0T6NvQhjJs3OCMYahQG0iUR5AGzMkSUGfC6OkQJMb2ylg0i-eaYjMR2SDEOihmrI7gGGKpY5jshX1b1przNHxiWaSMSdtsEVEhChRxo60i5F5EYNTGaRQUe+GFEKV1WbFUSmKPhqL97sEgPgPKNEaxZzybIs-rcG5HKDu2v2eVnKSnKiiKRyIWcsBy8bAZqAXZSsQfSXFViScvDZcRyI3HXo+224hUrkKX4njeqAOK5IYVdh25M40wPUCIFkDvZLGB4+UQzAMJCwRBR47UgIAUKfi3QcZQCQuPg6yAkGvVJ0RrUFhVEi4LJTcaoyICKsigBcDgPGEEDjAGANMOJPWG4CMk2RUrWiq9jVF3VAg2CaeLnFwQsTW4+CBdveKNzjtHWo8dibvkaj2RT0g4QgPhKECETiJAgUibeQILlsQglEptKvH5QSI92bY2iheOsriQWkwMRSdYOFHKA9J14qsetECC3VXK5CQNLy33Z8SyUVE7Eb-g2AmA7AJfIgImBAgAAGdAnEhEgaxf0Lk5UX4JJFrxZAvcAKfWDcmjAQIrw1yaqA+byBnaLSGKdCkikMAisGcXyRPA-7bxn+tYAKbiITjkBmoiE2sRBD5G1jkpBU12EVNGGX8mGzAaKllJYQzo+83YFyTfg16VSVR1Uw6J7iYB+SupQUwqaFLNhxJcg0wDWHOCiwITFQGLeiTRLGqXEXwmU5+LJOcnjBAp3WHqSDUiKaTFpwMcaRwEmmiAosq4AyQXkOnHSosxk6sRSSskOsXel0qaW1JP4a0RAhQJsGkVCSbjUEPElqGNOYATTnphBKqB2Kpxv4KoGrYwAKzxzctcpCkLSf1ACi90jw5kxaNgjYkiIOJ1IPVnJN5b1AXIHoQSY9BoTfEPAiOJSt8RCBPSTpwibuI2Q9CmSwoL0NGQaxaznlac8bYqIDKOnPSzpVpAwTTOulGRjci0EIBTKUjWSHp91bmUwCBm0z3sbtMJgzngT+kQ0b4QhM1J9Z-S-IzErGZjPpmcTGkv04vCZUVE4IzBWPKVi5CIDLM1clMZSZPAkT55KexgGaHjIbbcUwZWU-ZqxUTIOgoIgclSujQElUQ8EOMoRu7J4m8tCZAky2UJNJmAhRJdsxPG01ymEtjAjsgFM7KwAvQ85RgD+H9WTKaygEc4PGeFHUmKj3pjCawHOijkmzbW+gUAAHKDkEyWkpuLHOblHFKVrZblZWUwmynazTZy5BGt3kIApzJcQMXCNwFBjONt8cOUCdXmxwYkO5NeLMdwgUiwyp5PoHQCTkvgzDwZkQbgE4AbZHBuajONWSmg1nHyd5ckg+T7JnmcyiS581WawyvnjAgYoMG+X9OblgBA5UEe+bzhPkC4uh1wR+STltn-N7ZUuIyMfNwFLRYFOgC4YEEgV6RU51guBcgsWjj4kFGcy1raxNxLyu5ifLtPiRcllApKkrEqZGm-Yxpzq5yMhi5LSxwZqACKHvMihin0MRsnC3bMlLjKcLLG2gq8IFHakfDAgcRbLHOEmkSB0UbdBCNznP6dQeFTDa3lmhikvSX4oALPPgS0XQjBGmCXWr+ARSsBqQMU6KfwC3hNTco1gFUBovJq35UF5eSMqfPqCOL0F2i5QhYCwWZQpG7CudMYp2qcLvFgQIvJwkSnEFx5UCnsigKIXryjgyVGsVBXhGjAm0fCz+gEtMXtSN2jeZvNSFMIyBHFPZCFH-iAKgFoCSsAADLAEUCnuPYN5MUxYFlOMUpQryC8U6zt8JBWQuQT0Ik4aC-eHwM0qYIWARRPBMqIMt2yjL-J4wfNEIVKUcBylVSqQqIORB9K5CAylyS0soKWNTCgUmajzHUKt4tCl+f9HoWCWuAIIMUkwrSAQhL0DlAoMqS8JclXLUQ7w91naSmUzohleIdpbZJ2U8gi0PMMxc8G1yqKPlGi8aK0u+XrseYmBQRB8s2Xi45JTDFNJB2mB7CPFkKggjPmpjbLaQG8DEACoRbatgVaMPFTnyECahg+QIYSDBKFi4F9heinRdCsWge5regyjFXwiRW8lV2BoN2qhWSWR4GVKSrFaYQ6m-gpwQPVfBsCZSzj3wgIiCEkpjxLkXeEqogMTPciJyiSKKiPgKqbQx4RVBobnKqtCQoTYSQqv4QatRBMMdgtBDuHzmoXWAdmGCp-PoJcT-VThtwCfBrXoANhfxsEx1OvFoKID-VhAJqt7NtUazOCiMnxb+AXAgQjlOhf9FGt5Z7RwBssW5JwWxV68oYdyi0AuCeEhrnleQZVQND9C6QC1dK4wqYUXpHhgYnBd3NFzTUNT3yIa7FaZNZn2tIJwmO3MwA+V94ulA+ARbrMR6eKaAVEb8GwpAqcKzYtFCNR-L0Ihs9ocaqiAmr0i6FR147VNeYGbV9rTC2a-6Lmtnz5rGYly6teOxjjlqT1Ty6tVD0BgxSG11XJtbcmSmirn8HavlqPJQh-i+1DYPgpWtCRRrBFZCj+YBpJzfr1FUa7nN+s4LBr-1u2aDSGtg0CFQ1LUH1b2szWBr+8SGowqGtxq35RktK5DTTTmUQEoCsBBAsgTNgkaxC5GyQmnm6EhqH1zwAjX+qI3P4XIEEdCBBKt7QSwVQ6tYGhumDJTMNchOxXho14sbmlIEOZQsuqVUaRCsmmpcDHvVphoukmjZexvblcb0J1gNtt+C+7OlPyQGzFreXMxdqyQAjfTcTFM1cLxGR5XhTOnahWbEQlY4AXPE6ifkisVmeinpBtgGb32Rmh1SZs83LKLNK1YQFYH81kAbNljM6fZsoYqY-NxMVzUIWMlmbSUIkYMKOiEB7DAt2+OLXeQ1r6bKAti5zWQBHo8qrVxmvTdQCi0yoytFvPeSa1pDc5ittiq7A1vzSdb4FXNflXsN0oNb8KtW5LfcDKqG5KtQoJZBes6yCANmiq6ERgza24bpxKgSLSVtCRJaXNlqoUNVp80RbaAdW5FJtvK0LCElG8lUImHeCfBKVPMebSkuWqJbIt1m47Rb223ShfoyQD3H5vW1vl9tdW-NC9tkq5zSyzWq1RAmm13DFYd2yPKJzW0qhLePkpgFlpZLFkjcba3FQyH+XYgYVxKzIMDvYhxU3sfW6ETIEy3ZbdVYwoHa7MCA5KNgLeAUB-C3BjajgtOu3HktbyFz85sNPYB9sCATbpQDsabQ8Lm3E6UlGDMnSMAR2DJ74GYP0MOJoklSxKm43vv+HiZLFB+5yREUWID7pi0RAKVHfzpxWfhDWeKrHQSyaALy8dTQGXeAJZIYS8UWE98FmWGFECCCwS-OO-HM6Etu2EwF2dTq3GTkFS5MMGEmDVKzNc5+c85amJ10ljwY7wqIXQBbi5LsVO7ViLUNqX2BHyhu8HWWogjR76RYiEXe4RGC6qMG+e3XVZXQIJ5lS+24ToMyogABOLoHEjE6SAU9wAlvWTDUDYq14iYMoMoBQ2MTaKsbRZFKy9lpgx1NkDySG1cCt6m0iwxYYrDQDL6S1ZktsYxNn1d7JA1g+gEzJSBz6e9CxRxDsvmSSIaARsV+mFBuprAD9Oyo-bK2UBYhpRc+lRaIGkWyLnUVNX1W9qN3zzQdeQQXbnqkWSAP9fGRmNDuJ56k39IB1unXBW1liSwFOlUDHGSijAgkKaOgcOo15TgQINou0QgaULKZ3wyBv0MwI6CvK1g1UKYAwHQNE9au-MFNCkwuRSs59kEQ2EbAIO6KUlLwGOEYHYOmwXFRgVg7sJJ1ThYQE7McRbGqiZrvxDiLgNBLmBiGQ24GgKb+pg0Ib-1pWcrEod5ZUG0DrDOg2YO4xY5hgCEKGUIa31NoII7BtUpwQDAKHNINhw2AIdupBV19ioVg9YacNcHI86wZsooicPOHx2t+1vEeB2WEr+olu74iIfu0Zz7dwwR3fsLd1phfdF8aLuKQ3YQGkjiem3HTvZ0Cgvc11EeStt0qBhaAGsRxCQed7tVsDuBvRZKKqDSiCDBOIg1oMIC8H1m5B0yTO33g00sjU4fEEnryMp7Cj4Susl2Evj5NxFjMdWJcUEQtx2cLANmC9DqHAikDetB3R4QGOGDZAkxyRB7rSPVdxSGtGlaxpw0Iq2lc835aboJXY6nIROOxC521xxgMwFYf3GcZlQPGFYVjTFTxKXqwrsCIai41CttayICDFOxYbnhkDU6AAOlgAg2V8ig343AA2DpDyg-Ok3K0v1EX2MxqD6B4DuCb2GQnPx0J12XCYRMfTKglADeKiYJzXB8AyUSRIuGBgMnQAAAL2N6gA4TgQclVSZpNTCDji4Dk1if+g4mIIeJ1hsBz+h4ABGZRio5EEhOImhAyJ2k050GHT0ljisD0Bs2IAbNzcMIRYYhAdCEmSdipykyqYFNqmqenWDZtqdPp6n3hYp02EAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZdpLBOkIx6cQPpOiGGwzRB9KZ5AGDrgFsbQwOSgo3GxM-Mx79P5624IUuhiz6aTM6XXYQvgdlcLOf45pQTUgiXuVY4ZsSr7xPBCJcOzAtDYNSYwv5MzemGH6WQwZVizlNL3ks0BqQ3jcVRD8MFcyIX0HebPBRSCvloPGaAYyRQ1H0BRc4NF3TwXOGBQi5FXSenrMCOvKF3iuGjwYIEGQKi8QXP0WShlpA2b0G2QMtlViOVcpUaSJxjD6VgoYJ0WBFjoUJklZUFROhaYvPDm0WsjgvpiqiUM3FIzUHKonuCYw7QmbKGILS+mhNrX6rtd3MI8D2VXytXq219ruDjzCLKhFzrfX-KoMQbBoqyGxFVVtepdo4WBMYVUUgHww2As5m6oSPiWWJ0DUmhFvSZwfHDZGrNHqrH2PzQ-BFYcI2aFxCGg15bamnzThkIp1aWkH1SJItNJaM0wJbbG-uncshVueYwsO7APBeBybkttMSlHfMJeCGdygvAOs4oTddc6jULrRF63d4J-WAKDfTXdTV8C3PnTmqhjTAHaqnakDQhAQTclRNixdijRkrsThgwgb7qAfppXyjyfdBUYshSq8VdTfEJsfeeziP0xBRpg8amF8bx0Pv4WB8wDlFWkFQ-oIg7rW2jo7SRwgXaQEprTShqjZGR3WMY3hlwRbCPEdI9mrhN5uPwtDqkTq+gZkn37j+81InulWWKLo7tLgjZkEYGbfivF7Z80xnrMTmnPqb3BDIJMtRwREpWKUfThnhC6RMi0donR9Bqa4lQcIKsdP-BiAbRFp1MJOZM-JBm6sWZR3Zh8TNDmHauamCpTzWFeJLxXnPDc+htaRaKKURTJsVMWxvLF-Cekig3mS7lvLsR0vKdChbbaOXiXFemNtQr1WatFBpil1YqiDN7CMwJziEK2ocEoNlUu-QFD6HhtprC8NuBPEBAAPlAGO2meA+4ezkF7KAcBEDIHQIHPEgiPIxxrOGlRTNKw8Y+akCOUd9tnjju1BeylSjUgrspZoh9v53edApeu0kslv2qcQt+H80hHwXtwY7LWmieZcZUz973FSq1PMK94zANEZOkUdugJ3nuefSRI8JWLYemZaAjnHxiYeErB1jsBfSsGZoJ35q7irqcsItaDjH4PWvCLJdQVFC50XzJkXTmYROfjIu5xS3nVKoP4-J2zynvaVnTMl-z4+93QCEz7luBXayNl6y2cfIrjXgRa6vTekHDXYwU+dC987Prm2C9S8LhcTbXXO8agOiNnM0NJ1Z5jq3nnd0q4+47pqXI90y994qa3nLgaB7h8Ht58TLeR886+99aP7clEEIBtgdyrsdC0PoCDfPMUC8AT7qm5vYgcsB+jbZKGvdUxaGz9nsRTKkHMiomydkHLOWpL4GB5B4ZeR8nn8Ncm8HZ7ucibg9ehIDjnl1BQYvKyNQ18iSYOMMMJlT7iHp1Al80BX29R+heHAz6I-mnMz5-jz6RYoQg+ByjH6WafugG+oIxHfHMjIxVR8F4gzclPg4BXobrEGrEzMPMdgePQNgvoJXquBBjrp9HruvgbqAYIBfmgaAUXhjtAczq-gEsJCatHinGwl9L0j-i3g7n8ujIjkjGCBQWwEnNVs0GOBqGGBRC+IaGZMEK-lZLZPZE5C4CApQL4CQMPlnm+r4DVDmNDPJsCKCEcmQdsjMoYOXpvkFARvXlJtRlQaUGOnJIbIln-l9HRjOAxqoY3mDlgYqNXlHLXqMPRhfjoWEOXk+gigzqLjzpBsronmzr-MQZQKQOwiYfoPKlSkyrUPrk3idlQTEPDgdgXuEYypSNEUnsnqEckUKkqmkWzl1ntgjq7m6uoVBLftHAoA2rqjanbhXBMJvrBoGGwaGOSJwTfsKPoG0usMWgCh7kOgGu-sSkFKEWYemr0Raq4WDgFNfvUZ-iKgICMePGQYyMSsMQeP2j0bAf0ZwJMSuGUTQWdAsRXGQQMbGEFIcYnGQUxIUK0TMf6FwgzkUZXhxu7mWlsTsVmC0XISAnYQwA4PglEV-HMtph3JRoCUsITgYSsEYQeBCJCH8UzrUHCNwD8fCRCpAlETeGCY4mRESsAowoYNyIwI-oYrjskg3jjGUUUU0rcY2AGoyK7qMa8WeiuNEvWqIVUS6oarUXEfEXNh2sSmsIBhAUYISe-PwKEqSdItsocaWrTtySATVgSUIGKSSaTu7AJLcG7rbq6vAXls8RsZ7lmoQVfpGFwSsNElDqjmTrnMSgpFfJaZKbFActkk0gKdjmUuKBKWqdLjaVeHaTuCTnjowM6Q3HQg1s0GOgFF8YwgzgHn4SdjjMLNer4KLKHibncgvExI2N2HqPSaKcSV6UGdsoAUBLEI2KicwrUB7ECCibfAiYMDmZfg0S4KEYATYSsOAczFAfIPgY2dwBWeiaEG4fkXDAjgnuHtpoTPsTbObqEaCkriXvrrqQ0GDu4fTAzvgpsROYmXMRTLWIyKEZuYQtUmXjEaWTEPgj9guJ4keawiGUUo3ujOXrLFwujCOS2cTh6X8IWckujgmVBJefeWQVLN+dDuVPeUuR2bHAXoGZkiebnOXjYTsTqO5iAp4XMaIj+entuQBUzlecBQ6d6cGf9g+UhdBV9IRUGcBSDmeUhXkXIYto-MtvIEoGtr7JtgHJYLtj2kwMEV9KNgEVYkPgrEEbWO+Wrpqc-gWPZlIsgWQGoaAG2WeYJWql6rkBUY-szH3CepXkgZIPJdwEpchfIZzhpU-mvsCaavimCDIFZOpQ-uZY-FuuBo-OsrJfpamoXtpuqtyrZaALykhi5UsumV5SpYGD5YXtwDKgWvTDgZWHgbATIN5YoVKn5VquJVOcDARfQPQclTuL8llejCeioDlZzGxp5tOewujJZUur+gGQxFZJVfauVU1XQZmtVWFS4GctVWuZxLal8D1vNN2TAZmmDp1X+CJvRTWrFWsTOJLGNQNA8pQsZWhY4ANY1CwFPgLCUYUOSINIlpDM+dDI2JQFPGybiMNczoyJGdxaJJJZLPeQpbXmNolo9b1LWDRsmgLFedKQLM8LtXGJhiMDLDFZxJDMoYXn9ZEADc2RNSDXiR4YzF2bgT2ZsSRU9Z0ApSwOsI1AtXteykzGIKdUYOjeEArBwG1MTaeOCUHgTPdQLCTWYhjXqI3tjcYNHLLn6M0BTUTRbI9eEAADzAiE1U2Y08m8k8GbjggAAq9cEldAKZKGvAkaTY2e1AtQzQxmAA1L5sVqXHNEKBmaTaADrcVdrbrXlvrW1Ibd9CzeLaAG3h3jLXLTIMQI5BgWIMrZ7qrUBhraoibRbXpFbWIDbfzQHWbQHcuTEMHTbdTZOginlPhX9mYiUeSKtZWCPPXNiHjSsCAkqQLujb1ExqccQWOozSQjTXpKrBjpnUQHAaAf1fgINRzfFajaNc3suc0PeZvNtPzVHfpCxnHf3V3YSfegmqTTaHaHHeeaxLse0cdpvKdbjRUeyZddgutB2e3rwfefwXQHXOUHNnfDPdcdMR-kaLuZDIyCMfNfRSXVYvnZDXrD9Y-YDO2WhODQ4c1lcbIdcfjVYsdrXdnVNbdUwpAknWdDvRTKnUiDGTXeiEA-+SuHnaPW9RTMXX6NEmXX3QRNXRnfA-XcVo3c3Wve3bEZXl3SRT3ZQtg1XdSJIAwNtNTb1PbRDg-URBPRNdPd-eRIHS6PPRjovWdSvRdSjSNTAhvdMJLeXQ3LvfvSIIfbpt5KA8zjIdqKfcSo2JfUCNfQze8Rg1wg-eDY9S-XyG-VeB-QxL9VpsfT-bY1voGAA-g8ZS7Etp7KxT7Btv7IHNgCZakHvgftQEfmvsARWjirVZJtPqov48vs1YFeYNE4fo1Pvm+mMWjuvqE3GvBlkOvrTIVIvjE1JaiNWQoTuOmMouCHMMVbEHMKuAqUUOUxyFUzEByLU1geUxhE0zwBuK02U16qPJ06PD09MOUyCZkMVaM2wM6HU4UOU9xIYG+uQNIfbDxJIimYqNM1Xl6pLU05LbGBszEOU2bKoIqiwIYCekcycx7CsPsyU2COCFrZ07ECNtwL4GTbNkPjrWszc+U55I8zEM86AK8zNqAEPj5F82016kidMAC0CwCO86AJCICzEN816sAH8wYBNoC28yC6AGAOC70-lQAKToswvYtD6EtIugAov5XiSPOkvAvCVSivMQv5UACEkodLmLsL8L7LQIzLBLdzAtJLXLZLoAQtMQ-LwzXqAtAIfz9LcLOLMrEr1Ldz02wrLzors2yrLLqrsr3ARQ8r8L02QIWLOrEIrL6LOLhQCrMQrLsQo26YBUu5CTgTq+rlj1gIK4eyQwa83ALrQTTFTrSOPA+TiThT5U+ALAAAViYJQNWV6xoK-sC+06G668VWcjkzc0UP6260svmpFM66m0fgYsU8ouU00ZZv2eBOOFm+gbcxCJAHQN6NzkszEI2826IbW+gYc1QMc7AJAE0xc-2126AT26dQwAAKKdMXMTsjuG7lMABy5AC76LS7C7LDeWQbVIObiOJad56NnrKw3rwoCr20SVfrRbjUJbW7AgO7Liteh70wx7wLGbF4Ib++BT17Jw8hO+TKH7YbwTdA5+80o82mv7r0aopAOeJ0Ub5A1YBJXUmgBDV4O7yTHA2CaTwBZjRQKG5qCIRQ0Zwa8YhALdCVma2mnZkBoj+B5ur6wpO7EGqD-d77ATxbGF+7TNc7sQdHyMDHrlkbMbpgClzHd77HM4z12HsQS95RlRJD4jzsJ1U8YgXw2NvO1H2C9JxHpHbdQ6aYLjTFbj3s62fsmAGAIDbwQR5ApgDANqHw5UNwpAc6msNV6cmcm43VX5HA9CLmjytCznG+ptDA5tMdMgdyHnqMXnkwHm4X5SJScqigNwuqOuWgLKZcqGYHygygytGQh2RgM+mX2LHsOt+gVnygemxmZmxmmtVkAdpXXHio4IxVwdn1CKsylAoh2caXwHCluHbXnbkQ0Ef9CYwd4dEIAd6liXxgyXUR3rvX8Qoh3XAXqi1g4IcTCm83uIxsw2KGLnlGO3Lm4IY6VmUWbSV8O3oAy8ykHR7aXcN4O34QhcLGd3RGG+vLqismLepQPrIw53Cs4IsmxkpQFnFA1ntnsUDnc6+3XNBgYCatIGWK53l3q4r2phrlxeES93PJZmY3OtfXm3ZAw2202hmPkdq4xmwXJFShgJr+BYPhi593pPsY5PAdePTABP33NitCxPL39CJt1W8Ix3UJIbkgHXkkoIxVKGF7Iv+PpAgkLeUeWEUPfmePEIHTyJV8RPL3k9WQ93Uv7XMvgkHmJcQRc0JXL3B3AA5ObShuHVbx5iF3cjt2t8L-rzZ7WKQHcjah77t13J9BnFnNtF75K3W+U0IJW6osEGbQ5DpBgm4MWGbcERwPCFF4Tir4H+78yxNUH43qz1t-Ly7x1+n2QJnzeNn3r+ydn+JbB-B8oIh+JwxEyh4BijoTVansBmjqJi5qH3D9IsVUXguREqJpJzEN69X+sLX9QJoGQY33am4N1y3yn9Zijy31316rJv6pT4DtT6JvnzMuJUH0QgPvDDP836JhSe0bD0BvDzIjv-UZo+65Q0CCuEBVv0fP37Msrjv9-Xk033H8PPXvFETYH9n4R-E-nPw9oqFukj4WGox0f7qQOmLmLCJVnkCz9jA--C-I3jOQ9Jf+aAzjBMHz6wCzEemfpogJQEYoUE9eDzIQJIR6Yx+CHSfvXz6iC9M8WEagTI3Nyj84O4-OvtP2wGoD5+O-fPqwIf4p0Q2OAigRgKmKmk2iMPNOEfFv5n0go5Tdfn3kOSv9v4X-FouoyIL-1ukUZBGvTFEIkAW+41BLDCU76E5toFg6zFIxmS71BCvedHuYCMGxNQaHkCzoaTP6LUzsblcwVAJcw3hrBUWWwdJlUQCEe8LZAfuYA8EwIzmvVDyBaGLDlR+sTURqAMAqCDAvBQ3QMC4JMF-dEh1UZ3ukMZxaRYogBEwd4LgyDAYhcbBfuJU0jI4aAh2Owa5irZyNh4nUBhmHw4CkB1oziIgLnigG3EyiwmBQRo13LyxFKxMF6BLF0ahCQad9BMPLDAjBhxwleUoA4HaFeYuhIgHoToUdj6wCIzQXIIQDuRixPEz0aASfWkGgIL+fjYwlAIkY6CEwWEE4WF2WqPDuAbwselkEEHcNQANxM+s8IcZ6CVwbEbIS4G+GiZxKg2D6IqiFLMwKgqzKIoYDZBIjFmKCQwKSFME3d-wvKFzOiN8CYjiQTwDzEgOoa8ph+BgQrkESGzwiSAiIyMBiNS50iiIlI5jo1kJHEi4utaGBGQEbhH4uR68NEUyKJHDwsRPvPEZ9y4iijiRpIoXuSJGCoj6u1I4FtUGNgCiKksowYEKPDgkiVRzoKbAq1hEKAEIRgXlPHXpgmi3okiHOIm0iboN7GwhW0UjH+SBAPonXOkcezPzUgeRsVF0UzDdFDZPRH0SUSGMN4Ql+SQvdUfyP6CCjtRyHRUL3VpGhjsORo2bDIADHBkUxw2a0QAndFy94h5gXgOzRagIwZKlcSoYumDoc8KxloziGlCDEejugbIboNiKgi0lGQaUHEK2L8DRVAaw3TeBWwHpjoHa1IeoTKGP5EgP4dYncsG26CMhKsTmF8j4OEzdBwgZmWTGOO6DOw+soAaWgAAkJ2DAAAILgBwAE7AAErS1IAAAeQXbIAgQN1eQq7XNglCkhIqCscbCA4RZxqJYpJpOK-FKZpRjYssfDAoFx9tI6pUrPn0bGdAFwBQops7zgmZB3xUEz8dpkPHHizxF468XeIfHIT6GYEiCaUOglUBvx2mRsSaI6KTiGA047lDBNj6kT6AnkE0ePmTQtQ0JRTICUkAOHaZrRmYqgN6wazaxlaM2eAmoBMBeBFUjARCRElEmWQum7XJTHxOH6vi1AXEsicpN4kRZaYe4xPle00rGxGQAABm-YgIagjkTlBkDSE99Yo1AQYFdBsnCoHAxkoEAZJcl8jSAAdPECuITAeTcgrksgM70JiWSvM5SECuTA8lt9r+LMSCBCK6Ywl-uxVLCNFLsnlQHJ2vSKQ+CLHsYmYT9TWKkGqDZAbJ60d8M5JikmIHJ11N2tZI4D0i089kxyUxBEKBBGojkToHOiyHmliCowoYbaQkp3AwpmsfYXEAqnpTsoDk8WgrweGEBxaaWRLLSPamdTaxO-KkYUCWkMAOpbAOdIEMeHTSGYhAKMgOJyFtStpK0gyblJlEMjQg78G-qEM1h8ScYrU4gMtJ2kiYnhtw2QV5g+mfTBQ89WzFkEektATiaEa6HxX+HXDKIQIxUMLFFjTDxYb0XRnxMhnTA5YQ46thqCjqlADMUYKOs0E2nbS505ws6CwCuHagsA0EQEYMWIJYQ6w6w9kGdKJmrSN8j3QmStMCGL8rwzQXGcYH+HgiTpLgdme9OhGEd1ySNYeKzAfx9I-g2U3qE9I7ETDph8Mi6DMKRlHxgZCwvhgYBFhvcK2n0oKA4ENqmxystsNqMBUuHcAORRQU8CjIto3ERhP0W2u-kNx4BIQ7slcMLGVlAgxYr0SWLbIiz-C5YysvWZjOVixgNhdAY2ZljlnWyYgJMm2JbMpnQRUINMN0pRzllQNA5Wgm4QOAqA3TUgWKAOZrL+r-U3ZHsnqVYnMwdZLMUg6GSyXuISzM5AcrWeRDFmcQjZoXE2ebHsx7hfwNMcalo3UjtYOAlmA7iPKMweY9UdmQgH3OlGQwjeQmJ2bPOcyE5KOgWdZE3QhSyzZ5frfuX9UXk-TCA2IlzOvKllbzqAO838LvN-G4swA7syEIfJiy8oLu8We4TCWPnSjO5uIGOdlnZGG5sspIdaQ0G-ndz+IlWf+XWxWCVYgFccxUM1g8zVzR5q3dua0leQ2Ts4spcRjiPCZjIsFlqAyc5WiH0AJEJYiJJdPGpnJLpLVZyeUIoVViKMt3BpHaGoXSjQ+bADqb4AUR8V4Q0XLDD8JKmRcrpv7NZAZMEUYwD+pWbgAfwHmKzg2EifoIwAMmMhAggJcKeKCKkyJLpWZXcqAsYLFRqsoCmOZIvIkqS45bwUhYuQUXKlLpwClYDIr+p+TGiUcrufor0wTyx5kYzIFPPIpu9i+4ikKtYqUWlT1pg1PrANhzH6A9F3+Jgs0j3FYSGAl46yAABkJ2j4vkpkHMnJpJAGkgydsikW-iGFZQUsYBJgkuZQJk4lBHkp4lv4PMKEhcNUvKr1K6pcyKbEUoSVJLUl4AQiTOGInDxqlME8ataJ46DAGsVEyJWBLonlgZxjEuOb8hsmsScx8IYfuMoLEQgVB8yjgIsoLHJ9xKv7AZaYp0myKEpAk20cJKvDKKFW8BERS0vEV+tDlP4mmGpJyXHMDl2kx5aXJhFodGoQffQCYveUHCmxgkIZTmJtFCTE2SDAWMC2JTDKERw8IUYmNjDeh-+kE7if8u-GqTK86YyQjnhaXbJ0VKk3STYSMY5irpJhPxR7z+UZ9AVJosqbuVaDIguxkgKhGIS+hl9VE5KoPqoydGgAGVDgDGasKxmE4IUFReqb8qD40rSVHmPlTIhqH4qM+jeElQWKulhwwJS0WLDgprFLiHErcd0u50oSxYrpHwYIGkNRUZTGAYEkrmavoDrQyiaq2WXJJtWfTGwC4oEJMvolWrmJb+f4Y2Cy7t5CEjq7MQWMfZ5ZVlwY7oExI-F0BtlQ2bldm34A4hI16E6NWxOw6K9rVP47FX6tUXmEM1QK6AdTN-rTVus-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-IQAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZdpLBOkIx6cQPpOiGGwzRB9KZ5AGDrgFsbQwOSgo3GxM-Mx79P5624IUuhiz6aTM6XXYQvgdlcLOf45pQTUgiXuVY4ZsSr7xPBCJcOzAtDYNSYwv5MzemGH6WQwZVizlNL3ks0BqQ3jcVRD8MFcyIX0HebPBRSCvloPGaAYyRQ1H0BRc4NF3TwXOGBQi5FXSenrMCOvKF3iuGjwYIEGQKi8QXP0WShlpA2b0G2QMtlViOVcpUaSJxjD6VgoYJ0WBFjoUJklZUFROhaYvPDm0WsjgvpiqiUM3FIzUHKonuCYw7QmbKGILS+mhNrX6rtd3MI8D2VXytXq219ruDjzCLKhFzrfX-KoMQbBoqyGxFVVtepdo4WBMYVUUgHww2As5m6oSPiWWJ0DUmhFvSZwfHDZGrNHqrH2PzQ-BFYcI2aFxCGg15bamnzThkIp1aWkH1SJItNJaM0wJbbG-uncshVueYwsO7APBeBybkttMSlHfMJeCGdygvAOs4oTddc6jULrRF63d4J-WAKDfTXdTV8C3PnTmqhjTAHaqnakDQhAQTclRNixdijRkrsThgwgb7qAfppXyjyfdBUYshSq8VdTfEJsfeeziP0xBRpg8amF8bx0Pv4WB8wDlFWkFQ-oIg7rW2jo7SRwgXaQEprTShqjZGR3WMY3hlwRbCPEdI9mrhN5uPwtDqkTq+gZkn37j+81InulWWKLol2fcPZyC9lAOAiBkDoEDniQRHkY41nDSopmlYeMfNSBHKOumzxx3agvZSpRqQV2Us0Q+38bPOgUvXaSWS37VOIW-D+aQj4L24IZqYKwnNIpFcwDRGTpHH1sy0U8wr3hRcMRI8JWL4khcc4i06qMOChLS8kuLbmEs-HSYV2LmW6BGey2AvpWDM2ucVKrRL+DsEGeq6FkyOXkXUFRQudF8yZFNZWC1n4vX+uQaGx1mrzpwsjxWdMqlUGMuAPi4TPuW5FtrI2XrLZx98J6WmFctZNy7lBeJVeLLc2ctNtdSN+SpWFx3cNT6g16aI2czQ0nYLnXau1y5HutbJWLNNUBzNrrKkctvIezMJ7nLgYQ-+4qwD77KvA+a4IVHdyLMdC0PoCDg3MXDcAb9ozh20Icv8+jbZKHvtUxaJ1yHTQWikHMiomydkHLOWpL4GB5B4ZeR8rj8Ncm8HY4Jw4bgdOhIDjnl1BQfXqCVkapt5EkwcYYYTK+tguIenUEVzQFXb1H6S7oNLoj+aczPn+HLiLChCD4HKCbpZZuNdQRiO+OZGRioi-xxBs7buKdHdiGrJmw9DMHnoO1y7BEIO7c+vt9XweQ9FDpyn1PsRCfVajywsE6vHywcXX8zxvSffM8eyXhiSWkZgjL2wJOl3mhjg1GGCiL5DRmWCGbqytl7JORcCAygvgSBC6x2+3wNUczQ27YetN1OGLbJmYYMn60D2gAI3TqT1GK8xFKGOuShsNwidjv7g89GiPb7CKvjPioqdRxp6MC-xHl8M5C0+hFoOJsUoG8t6bVWjNf4TUmBSB2E-cvp5UqUmVagDtGcjNd9YgxtLN8dIDGVKRYDrsbtwD9BUChUlUMDOsBNOJQcXs3VV8cY7do4Hdh9dUbVm0A13cVwgoW9QxyR29bdhR9A2l1hi0AVPsh0GC19pggpsC6NeDS1GsK5r8QsAobdNdYhGwxD-lE42EJQiVYxRDz9xDB0LVpDCCVxKCq8bYlDx5VDGDYwgoTCK5VCmJCh2D5DhIuESC3tXVY9jV+0+Cy0GDOAZCVw2IZ8QF78GAHB8EYCv45kxMcsx19BwilhRsN8O0DYeBj8oQQj6sNQ4RuAgi0iIVIEYCbxYjHEyIiVgFGFDBuRGAndUtjFUR6cKDOCS4XDDVH0HCVBIt7M81GQXsPsvCz0mDgD60aDSCGDiV99EjYw1hANw8jAKj35+ACsaj3YCctCejJC80Lw3CGhyihA5jqj0t3gBJbhGpSDNiQ8OMB1+DKBvsJhC97CPci9+4XFKlP1YdHtlEniYtYoDlskmliV5tytFjVtc5Y8FIr4AT9ivMilJhY9mgx0AoAjGFQdd0IccZhZr1fBRZAcr0b0F4mJGxuw9QujZiqiFj9jtkzsgIFD2icjmFagPYgRsjb50iYCCSrcHins8cvoztb8Vgw9mZI95A89bxuQ9RuAaS8jQhV8P96ZQcYdCUQsgCrFCYjD2E3DsDQU-9icDtTjph38iCdNWt0j2sAD1pGx0ZGRsC2tCFqlSc4DKSYh8FITVD9ArTWFviG5YD0ZV9ZYuF0Z9S4ZEtwSisTScZHT3SFxPEgyTFwztTeTT8vooyPEzogs7Tb9fCdQYhZ94cPiKsXj5TOtQz0inTPEczATGAYyLs4y9MUDItRFSTMkbTc4b8Vx0ycA8AFNPYlAVNfZ1MA5LBtMe0QD2F4ZIjBcFZKBQDiB-TRIjiXcCx9AE9JAyAV9QBuS7TFS1UvVcgHcndmY+4T1NjFytluA1zWydVtzHdnc1dIjPll0dwZArILzdzh59y2NXYll1kpFE9lyCdIj1VuUHzQBeUkNwNH5sS7kZA-zQQEcALuAZUC16Zs9Kxc92tIKNzAx-yCduAtVpzQBlTgZnS3ha8oKdxfkCL0YT02iYFOY3yw4VSEzxp0LxM8U7yuYGIrJ6Kt0PJ6Ka9M10ZIizl+LpTiDHAvgIU2po4c9BT2sFSBpeNaEzzk0VjJZZLyQ71FLP9RL8BjAmoIKBZyCIhCg1KuEsJIZvToZGxKAp5BjcQBTo9OZGQ4SByZy7hJZwyVyadIj55fNRSKZawaNk0BZITtkaZIgjK4xMMRgZYELOJIZVCQqBZnhwr2SbxorSjP9GZ+SpL7KBCfKPLOgVyWB1hGpVKIq1UmYxArKjA8rwgFYOA2oqrTw4iSsCZZy3K8repr9VzirJLZsbt6rKqLZ3LwgAAeYECqxqgqhAkoVndncEAAFXrjwqEAxJQ14EjSbFR2oFqGaHBFAAAGp1DU9S45ohRzsaqDrVErJLqdTYgTq2ozrvo9RoTVxTI2du8FqlqZBiBHJBAiN1qvtNqgMdrVEbrM97qxBHrhrLrKK9rDrbqYgIbHqmrJ0EU8pizkyfKDLyQQFDMR565sRSrpgQFtjhsOqKYmMLDgDojhrbrVZqt8aiB9AEbQ8tLxL5o7KhT39brmhwzN5tpabM9ZhKEUaWbeaKj70E0aqbQ7QUb7TWIDDODDNN4rKSrqDbLsq88hCGgu9Nxwze86A65ygN8755a7C5D7iGhFCBZGQlCVL9CqarFSaCcgr3KXa9YqYWas8grH8aYzbp87DjKrE8b0RCb9D0r6YwyfLnT9aKZsakRESGbQ6RMCzLb3z6Znb3LOrtb-RqbKNBa0J6bKxGbsQEbbUxKTpOaZKmdNjeafL+bKEC6CJSh4JtomreppqwtqQJaiJpa-wnqJhbDrdFaDBlbxzrL1beqUKaLWjChdbqqzEDajaRATbPox9XScEh7yILbiVra9ZbblKBYU6jMt7c6naJa4q3aaYeS0I4rfbEr-byI2Cg6EwQ6Cbj7aZ2zH5FN5AuyfY1N-ZA5sAsz5cDcldjc1cHBjMcUl1f17ypdVF9dDdld7U3ykHwHGoDc31LjYt1cK04MbFaEC9nZCoFcMG5zajGRlF0xlFwQ5hKLYg5hVxPbjsvUOQGGYgORmGM9aGMIOHkiDxuGaGvVR5+HR4hHWHSKO4O1KLpHMhnQWGGhaHuJDA31yBJ97YeJJEMTFRFGihaHdaOHdbYw9HChaGzZVBFUWBDAT0LGrGPYVhTHYhaH9r+HYh9B4ZuBfBaqAA+UAQXQ6nRpxmIWhzyNxmIDxrx3x-xryUAIJnhr1TI6YSJuJ6JwXSEOJmIYJ4EL1YAcJgwTx1JwEPxwXMAeJ4R0igAUnyZSe8eKZicqcydAGydofEjcdqbSc3m8YSdIoAEJJR2nCm6mAQSnQB+mgRumKmwRwQRqamhnOmxqYhJnJHpmRqARwmOn6nBc1mlmWmvUfG5momtnQA-HdmenpmfH1nuAihNmRmYnLmzmpmIRen8mYnCg7mYhenYgRz0wCp2j0GjdVcwL3LAQVw9khg15uAAWUGKH3Y-nkseAyHAXYXsp8AWAAArEwK40FlYcF5Eep3hpFlByis5AvbJooaFiB7+tMSKf5ol43AxeknJncWhlg4QSitl8lzPMxr1SAOgb0PrDRmIPlgV4fLl7lkJr1Ox2ASADh6VyAcViV8xqgSxgAUX4bsdVcVe5doYADlyBdX8n9XdXO7M94WqRKXGoXEQWAQwWNACd6ntpIKoX6WrXayYF81SGwHkWXEaccXpg8XHWsNfyGdLWksS0PWaXxcJ8mVvWYXIHzc-r5pR5IiddcRXo1RSBdcTp0XyBqxyiupNBmaCIw2sGOBsFcGoGb6GgUNzUEQigETg14xCAp7pLM1Ii+SI9NaY80JX1piw2IMs6jrU8w3rXpa3C+3kYB2wK0XMXTAVyvbR33WZxPLq3ChVaqCG1W2cqe4Z9LKp4xAvgiqBtu2HKgRpwsRt2hSaWv6lkf7lN-6-ZMAMBnKqKJzyBTAGAbUPhyobhSA51NYbz20M4s5BKykSJd9hb4NsNZbwO-h6EYaGA4b7My5IaZA7kwO8sHxd9mhMPykSk5VFAbhdVdstAWVUPKb2SP3lB1qMh9MjBpdlBlBomPZDqXSmPN5wQ9rSguPQBdrrrDrqPtXnQuPT0KO0H4hh9s5UOLdUNZPoDKAxXIhoIX7AwIaYaIRLrtziPjBSOYDwXa3ZlFOegZdwhDr4RwQQLzAjOaDjYFAXSiMgO0hKMUNIPVEx1dJus2kr5XPQBl5lIuD20u4bxXPwhC4WMQvHPwhxnVFZM3OIWRhfOFZwRZNjJSgiKKBP3v3Yo-251XPjJmhAuUcgMQMsVfP-PVxnMvpCdNSIlQvO6ePNPDqbPcQ7OEvBgt96uwbYw9rkPwyjkAtv4avZlptQvuu-RevLqWumAyB7OzlOuouNd9rLsLOCvEXJApPJJQRKKUMXWNvWvZuXqvPUgsJ8v4iWuIQ+Gsir5tpXOZashQu9vjOZvSBBIkiS4Jy5oHO1oVZVEAByZDlDGGgHpIpG9D77iT-br92sUgO5G1WHpz6Iz6EDzcbaeH5ZiVyV0ioQdlqyYIWGhyHSDBNwYsWG0AjgeEI7uHC7tHmH7p-u9H0NyTg717nD9b4z9r-QRn+7rnunpnqHxn3C3N-N5QQtld6vHpDwDFbfJznXYDWLUTX72huX0rlJamMConCJUTNd2IcF4X9YUX6gTQVQplKXtwWTpfbpehd7tOI+RX+I2h2Tf1aO-zcImXtnmZXC9HohfneGU3u1NwGX+ogwMBLa1X93+QxQ4F+uoEFcfr13o+Yb6lLFUTf20hs34wYeOneKe1735+X3-3jFC393oeyw6PsxTjvh37rCbaSXgPzPzjLqs5OvjFFBUztnwdmP9SUR6v+Qevtvy3JIzviv5L-Xgto38XvqTz6n4-YfkhHXmIPXvNg3sXk3lv83pNy3wga3ru0y8v+fxFjPgf1DeW+wygt31P+QoKR3yi+P45b+VP2QyMDvRw4O7peEiOziYfEgIPuSkzT8g8DL1+7bR7e3WeejMgNr94ecmvcwN-1QZWcXARFL7L-1U79wsIoAuHDeAwEs5wB0mVRH3m5wuAYBiA+gLXhsbCUPIFoYsOVEoD4AmojUAYBUEGCiYmK7IEfF9BYHJcqB1UBAYIGEBZ8Se2kcqIHhYF-8CGOBUgcgMf6NtQ4yWURN1HxwQDMYJyaUMvWHidQGA6gEQBwFIDrRnERAHHFb1aKUFhMl-NOq8HaLyxVyxMF6BLCPpKDoqjtBMPLDAjBhxwmxUoA4DUG5ZNBOPHQdvkdj6wCIzQXIIQDuRixPEz0QvObWf4cEQ+J3Y-GYOJSDRj8oQjDpQlT7cA0hktLIKn0fqgA7iyQpwu-z8LP0yqgYbIaJlwqlx+gCgYruHlCTaMYChgNkBUCaHDxDApIVgXI3-C8pfubQ9Rigk6FPAkiNfRurygX4GAWOE5WofUOZgDDfAzQmYR9AQhGAJhXtTPAsKGGkhaK1FLNv0GNxbD14rQyMIMI6FdCxBi6Gmn0PiJHDw4xIEYbv2PwC11haEJ4PU2qDGxG4hw04YsMGB3DhhwnWMO8LuY1CVhREXlKjQzrLC6hMgSRDnHtbIh-UkROEVQCRj-JAgH0aTrMLxYINB6MVcDPCPRFgj7OJIxHvnRhFucD8XdT4WQG+EVJfhMBYlALUpFrsQRfjVEYpyZgYjah2I8EQ+kxGCQoRnEdmhwFoHlkYRHjLysfkKbsiEimQCgeYDUAmAvAiqRgNwM-QajnA3Ab3rxB1F083oiVVEu0TNhqAEcNIBvIyCNhkBGApoi2LqL5hMhqB9AbgBsIIje9HB7JO0eaJ9yccZASYWoNPyKBjFMgoPOaGKOygkjDi5sH0Q3kVGqgdKLUBGAuSoBOcIanPXiMKI8hpQeRWI7oGyG6AXChY7RJlmlBxAFi-A8FcoU-E3hst9I8otgHx2pC4UkxfvIkB-BTGVwoIjYboIyFr6pifS--YTN0HCA8dZMTY7oM7DFGgB5qAACVVYMAAAguAHACqsAASvNUgAAB5XVsgCBBOUsy31GMVqJFSdjjYibUKpcITGYMZQ8MM8TaLc45jWxbfQQbUXvFJA2eOYzoAuBPHvBeBX4zIIqlfFLFIic4hccuNXEbjtxu4-8ZIHFgVB4YL4rSG+OtEfjWBOYqMa2IYDtjuUqEugAznBC-jPIJIsXEpWZi-jtkeEwIZERJFvR4R4LWPNrHWrFNTiyojdGqKAnISIkTEyyMkS5FJBqJC-I8WaIonviLxD9KcZIDiAZA3WDgY2IyAAAMJwLMjUEcicoZJxXNHLFGoCDAroGk3IHJO0BAhyeskvYZdTxCDiEwJk4VIZNIC8DCYqk3LOUilijRrJKvExDpOlGACUulFLCG5LD4eThAPPQDlmPMCBBwiTk8UKkGqDZAZJppdov5JK6BTHKP1dSflncnaTdJTEIfIEEaiOROgc6UQf0SHE-Qg+oxZancEcmawAh0k9KQFMymmt5s6Aq3uVKwgzC8pBUznpkNurtSGA+UtgHOiwFW8qeioUyCUMDrVj2QuUvqZ1JMnxiuIxAEgCIFSAp88BmsaiTjBynEAOpA0kTDnRMGlSHws9F0ErXaCdAXJ5MI6eYOEK8ZJyp9GIZRGulW1LBosGweLENF29qJ90m6VYhYC1jwI7g1PKUH9FRgEazQXqf1LnQRCzoLAaIdqCwDQRChTgxdOgPCAeCpp20mabtJAEa5wuEMzqVgJGkTF-oBVKcqUImkpVppkMmXrhU7Yswo4juPpH8AukYxTwG07sZYJsGvSLotgj6d-HWnKCnY5IAcCLBi6ctWizBOgGdVNihQLY0Mm2FENdGY9CgbMwWYxGHYFC5CB0zcKeHdzcs8AkIQ2SuGFhcygQYsV6JLFVmejX+zgrmWLIBkahypDgaWXaJZmTC-Q8s9hIrIRnQRUINMP4gzHVhuy46as0-lrM4IVAlpoQd+DIlVkCy-aYVA2UbJWBBRwQ-ovYIGKf6PTipr9TKhrDg7kwrZiVD-q+2dnocZZ5sBcnuF-CXjUBasv0QGPZa-c05jcoMasBaBnSsghAauW50hg29csVctGfETpmsxGZEKZmd3KhY1zEq-c4TIQC6G-cR5DM7SuPMeDzyoWbIUKqACTmQh+5WEbuUvBXhzxj888tzmXNxCuybwB892Q0Cvmkgb5RQc+RXP4i19XhyslYLX3vlujnQftJIi3IznssWxryGSdnAkIwInOEmMZGAstQmSuKSo+gBIl4Bak5prAs5HNLfLWTA8KCq8VEUoy8JaE6CtzsrzYD5TfACiScvCCSKPICFcU0KSDGxyKo0pX0EyfqLIB640RNo1hbDz5mCwLBCLCRP0EYAmTGQ4UvWJFL+DRSZEc0vEtSSlnlz68xUS7E-NdkOj+J5ub+W8EQVakBFOxOaQ-OmAeji5dcp+QoobkAK25iBBsUkXALQ82FsU-LIHh0VCK4p7s0UZIEjGSiTF3uOMbTGnFgSGAa46yAABlVWe4hscpNoySAzRJkyiRwoEmhzWBSCm8QhLEmPi4Jz44eDEtSVJEAJC4LJW+VyVMLtkoE+cQEuCWhLYJM4DJUUtSWsDaJk7QYLHgwmSisJOE1JfooaC-IZJxEmEfCAX7NLBREIJ3qohMk9LBRlPXCmmxqVUSElOC2iZyIYlXhhFdzU4lMrWQmT7FGMGZdfVjzCTLGWS7ZRJJkEiiy2jUdHrzzYWfk1FgQ3MYJDqUwi6JVARZcTRtorLYw9SqYvMMZGNK48LUTic6IOKqLzxgkzYnKKmVZKgVnC0OeS0vqUjaZ8ZWxbDwuWw8blZI40Qi1aD4sgQZYuAcivp7ggbF6PKfOyUxUOB-pbgx2fEQhQO58s5y9HqispFJFSVMiJAR6zxUM5YVgo+aWHFbFLRMx3Q0zJ9xJj9iHErcHLMJhFV0L7MwQBgcBOyivRWxLpOVfhOD5FdeVzM38eYSNDtFexQIVpeWA7GarT6jYGjmzkIS-jbl-rI7AMt5HdBieXE+gGMtqHEqGgRUHEPaoBVOqPoB5WMKd2VXcA5Rpq8KTOAtVkiw5sQnGOcBrTQiZVTC96YquwXFiEWeExkJorPDIK4pTESguqrXlxL8JOdHsX4EZD6rcQHYvCfkJNWJBg1cakkVar0g2q8x2wEZd0pIn5C3Vdq5tRwC9UKAfVfoPyTJIDXRMg1hCayWGqzkv9p8n-SgfwLjXBB-lQgsrsqqc4bLNVGsmaowKYVKqHV+EpIhut-FbqAVb5PdcqoPULqVVUED4LGotUKrbxp61EPLSihsABB26plv4ognrjNxO48AExDfUriP10EsJX6u3WDr6mDcZ9QCrZJa5Aw4IDEJZwJHmAN1GyxNYUEvWBA41N6lJdIqTVUgwNRSxkP4sCUhLv15IAjeUsA3H4WFUw0DU+qKXy1U5sGoBZuxoJvB0WpuV-AKuc5dxX8vApQixsehX4BKGQ7pAFULRzIZwfGlEFv0o5QaXAQ0nfLwLrST0VGrG13OxpwU9CBNPGlYspv41qa65IA4TRgrE2uIUgKm+dgJtYFyaRN9MGoGIHDTDxzlemyaQZvk3HKPILG-ADFIk3zsGVXKjjTZSSxmbP03mq4r3NdowikiHmmKRxhC3bJYtQIuegivOW8b6AQWiQXQCC3X4EZyszlbUOaRurCJIgWGoSrp6UUot+EiJYwmU2eaZEOmyTb5ry3+alNpm03HVvnZUjxiXnPYfSMaFnDi2q4ErXYqUJtawQI2rqrlo+ie1iiETaJtVui3Gaxt+gMbVNtTwTahR90ArfjysiDbYelFObRVtfa2b9M6eNWbcpokPKFl9rXZa8p8bZaVgGmnbXciO1kdEVdyGXB0qnDhj3FEowZX7VsDTaZqbi8UbcvdqAwfZTYsdChAaBrb9oBWwnsVqS2lbuAz2qGFmQRgmB+AHAowTguwJKCN2h7NFmilPbgKhey-cfsb08QnaYdk4IKPMvolXa-QkMFiX6HR00d8cmkFLAoK+gs1buluDlfpRZodRqYvjDYfPUrBKz35MQTnFAJcC8QxopAMfHDR9nTbwQY-Q3hToYiU8Gu1IL7cDqjH+y-QsJDtNWxh0bb+AEINXavworbbEdbCyipbon5mFlJjYG4H7xUZqMMSQIAAJwnAQE7u7RiDuk3p1OI-u9RrcpZjGxs4yO-aQ0SC6kItVT4CNQOBcAKwFJOdQoKHruR-c-uVkNAHnpdWsQd6sYTPZzw+BwyGgme8PX1izi0SAEDOFwD5GArkyA6sQSvbROr161uArukzao20bzTOgpC8hewmYQyqGtk21gWtrN3TMB96jIfX6lUSPaduJC2fUOVR0gJ1+qQc5dUCKgngyAdcCFEpw5kYrGQefPnMwD94b6UxqaL6Nvv4Aw0jgEy4WZwRVykB99grMZupAhT1UcErREveCG8g+QN9oAdHqAjoBFQYgAB-yGutb1aN1GC5Znq9q57HBNZEaiICxAHAWraB9AxVPwJgKtAE9aeGddZLnX7rj1268CkgfyEDgX9b+4fB-okhf7OY8IY6TED-0AHvITos9XwKYFC52DUBu4mxCL3TA2D7BnyCAYUUexRD3kAvRntgONpJRxKWic8qvBM6RmCNabucrdEc75B+mVoIEIDXi7-o0TeAu7Me1c9-UuujxYMrHT0JT+bm8wEoSECGBHIWcW-V2Ow0CBWgJ+g0fn3P2F9A+GyYwFwTAN37zOD+wvHvU+hMszDehnXW1AjE-beRNhujXnS7iQxmqcOcEA5GWrmw5oXEKgOQFkjQRDYCBrfXIJgRc7zDLGdIwziF1GH6m8BXCnhOfkWw9R+RieLXMmmqH1I6cjgOy2gN75VEvRwMdYs7mdj7YqYgY-WKZ2ZkaRQmUqfysXl5z6Z4bDmEOjaMOxQ5e8k+ZMeXg5YsI2sNzs0cvm0JMxH22IDeEOPnG1wealoxmNTHXG0I20K49-NXC-yu6-8vo3Boigb7EDf3DUfoEl0AAdLACus+XDwsDMgYIPZ0h1xMomGuNCDnoSR77tK8ArAL8fOX-HXxgJ9+SCbBNRymAdAqE69xTGADeAJ4BnD0CwjknQAAALwvAxAQTaecE4SbejQm6jPQekwib0hInwQNB1EzVFQgHQViThlw5uH+MsnIT7JoZtd2x6w0WAsNZQLDXZaTA-uaYPABibp76AJTBJqUySZlPMtp98pxU8qcp68n-IQAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRK0M1n3BgnCWHN3HifDQhAQTcgbg-Xuwi2AQPQR0LQ+hX5XxvnfaOpDD6ALQtuGcbtTp9X-j9MQJDvZkLYaZUg5lG6gBsnZByzlqS+GTuQeGXkfKyMFjVCKr9BCEBERA5E3ADFhCogOGW89qAKE3tQSsjVX4KIcJMHGMQgpSNxGEiJNBolvQZhnfxghSCGKAuRZ8-wQmT0UIQfA5Qsmw2jsiBJUEYjvlvhkYqbj5GKLAX4+JGigGxARkjYQisJYHnoEPfQUC9KKO-kbLQpB-51J6b0oogTFlLNiIomBIzO7izBHUx8sRpapBEro2sowaRsFNquUoxz0br3oEjMEC8WlsNiM0McGowwURfIaMywQ4l0CsrZeyTkXBeMoL4EgLjvG+JqjmaGMM+ZaIYDo9G-856GDIYkoKDkGCBP0Oi8hpR0iZDks0LCbSvpVDmTOAx+Lr5hDIasxUSKUUMX-gvGl+S0X0p9qw2mXj0F3NmlvJRu994m0xQNYGJ9KCkFORS-QU9RVf0CIMNRfLjL0LPILRV9BBk7yFUY2OZDjKmWVl9JVBrOjD2MYfe6CLOKCswUgnBmcMWHxxqUxWChNC4mdfgt19SVxBXeaGckXySnCn0DLCOHxZbMC0GMtWExEnTCCgqqlcbCGJp2YGzgrCArFNTY0+gVJM0zjViciUoAoEZoPFmhNxAk0mwZQWlcXqblnXLfGkWVag2xiCt2yt6MmKFAjcW-00qnV4OQeMgiHL41EJ2Uaygra-ajrhWO+FXiWUKwcAPDU+gPa3yBnjZIqRiVZGPUsbhl6Vxko3BCSE+7F4d1qHCbgu6GAvr3m+wYN5r2TARGRGtnjskuEMNyRglSU7h3rozMunqo0y39bOh+61XiloEMmxkqGcGLpzcnFdhThLSplk231CCsFoZbS8-SoA72xjWD48WaqoPIv4EXVO8HS0KPrRWxtzaRYTCZauSDQgOOwZLqif+hM8NfQmWsjaDal1EcDUBwtkZvkrEOYa5gycuNwfTqo72UCFKgl1e8fTUmeOMEMM7e2Zc6PwJroZ6T4rUFXnMzuVzddjPW1to59DinmiXoCtu8DPDGHMIlR6qCjZOmMmi01fA4Cy5MUbN2PUuH2Mwbc7Z-+nSSMqCw9KA9tQmZAi-T+9uh6sthCYum81y1Uv+EUzEfprGhmVi2WM+r3Aat-vdXy+1Aq158Ni6wnGQVCadr6nOq8Crjk71vnve+xj2uKhGxFmpPCD1CazlN+LpX0aMgVftnZVaAF2vJAegLLsrsXYM-ZwL-5bXozIY16VI6dt80Fb57jxnLFHdu6+uzDmHZnQB0ZqO92gsbZWAq6H7nsqO3VX7JlbadQxAdR5QVScbNA-4ZLHGd2XsPcdgT-L-nyfw+NSuBVVO-Ow7R7a1hmP13wrwK-JmcgWZQDgIgZA6BubEl5pxFDkYFZtLmohqVZ6T7pFtmQRDoAAA+avjIodlbLh+MQNda9SHbe2-QTOx3V5rv0BsMhvdjqNyLMtmBiAkIMrRljKB9HuGtabZHUhYT1wAMgD70foarvYjnZJ7p39vdsGyNnL8kumncu9PhZg+4Jj0eNx+YWnrt3bx71-LhM20iLe35Q71IT2bXm9fEn8gzvaip53OnqvWevFV7h7b9WVEgol6TEMUP+hS+xw09DdvYOh5XcL8sXvg+bzD-VvyMDseylWZDtT0u0+Dm+69ynt36emeA6jm3yLh+YexVzwn7fCu+92lv13oD+0vFn5R4wVnNeZ-Svv0P-v6Gn8V9OlRkLmZ3EXD1rx32T0b331i3BGR1sxP12zgJpwhyvySS-zn372-z-3-0QJ+jJlriP1inf273AJvwwLtAX1H2Xz5hjQ+g-kvhWxUVQNxgTEd3rz3zTxgJAQYOvjFXoAQMRToM-mmU+lmWIx72lRuGxFz2RXz0+m4CwLLxwMEPPkvk6WYNnxGHn1-yUJjxoKOWBg0IgPYKgM4JFismOWzSbR2QEM4mW14NWw8xIM-zIK0J0JHz0Il1X2nmcFngcKYK3zQIVzYIb1dzMKzk23BA3hFUYLWzoFsI8ktV4JVVqCMIVyRUCBkEsTxGUM4iSPnkNTSITAyMqEsVJHumfz1WVWtSKMDBKKyIPh0HLxXyoxdRQWcOv1YNSEgLCObxgPkwSOuFuAIRnVdWTSlmlTd3BAGO4HGIqMi3kwI2sLU0L1iBcOL3IIf1yI8iHUE1zXGIkNcLD2E22PMAXSsOIUDUOITAXwazHwAIo3BVaIDQONIK6LSBt0DXmJaNjQE1U2r1XQmOCIvU+NuKX3Fw8hlmi2YJYMDBCI4L6PMKsWi0GNEmGKai5Biw-06LqIs3BBRNmO9m+L5mS3UMCKCI2LcLtHQ08MhMrx8VEU3zAPWLhO6JMN6IBKsikWoDEWcFRPphqVFUcPW2xIpK2k2Kc2JM4jxXJM0P-X70oPBK8RxTxSICCTeNZI+MyH0DVNONBX41xXyR1MIHVJZJcG2l1KlI8gXVVJNKBJuP70tK51kHA153kCUAF3ZmFy5ksAhPMEdzlS+nhlPQTGcXEnZEDNpKGLuFiREN-jmW4E6UlUT0mLxNyB9UqREGqQLHBFE2mDjLEMTNa0+3uJaPTIqSqViRkBDM1J6Kb12SsnLMzMGVfn5KmUjlEL-gURrLRFBF4VKJkG4ByKtPMA6Va27J93SL7MyIUW4HKNLL5g2WGXkG2W7mrMnOKOnIHO4CaKjLRLuDm1OTeAeR7OBDxMPOIFzJK2Th2T1JPgvO+kpg3NrPZPrMfNrAsOBirX5IvKFQeXfP6hTKOJ-ztHRnBOzxcGwS+D3jam6161zRBzjAVxvCxwgv+gNMhnxT9mfPNMH1QoFUcGgsahYD8R-klUKCAoTCwkhhLPOEbA90akeNxE2RXKHkZDCz9P3JiR-idle3dVRVPP9wh34rZTvMhk73mR-meAoqQspMGBphHNBR-irUkqNmkrWNksDBvAUt+0dURi6xYtGX2OEt6ndRYHWEYuwqLzqPFjEA914pdiCXDI4DanstPBvRXh4EfRfh4tzxEr1B9nMuMG6xeWaBcrstUAcvtiCQAB5gRbK3LOgPK-RK5zE-lwQAAVC2UAG4OgXwPJMQXgYhJsBk6gWoZocEUAAAahrTWQ+C6jaiFAgT8vCBqqvMqpqs2yKHqrmiasfImAmTMQsUyuypkGIEcgKqKuXRKpETKuEAquqtqqWR6sapkGauEtaqsSskWq6sKBWrED6vcvAp3Qtmkk7ynwh2TKREixgVPgtmxEQumC8XE1URMoplNIHR30vSioCt2vo1uvRGxD+sKCgvwBgvmkMtXLBA1V6WaFzwj22hauBvo22iOuRrhqgxAv-A2ptFAqSv2S3RWAHBgQjwYu9Uo0hqHgw2mF+U3Fz0BToDtnKAYyNlhW1CLQaSNFK0hkZG7UwrbU+oVxeoUWUr8pFrUrzKvHEtRXFsBmK0Js3RxMgoljuqICwslj3KZFq3OrR0uopiuvWRupVsBvVuprzAWMxr8tMrNsnWBK1Oxr4roxKGzlVqBqWVBvBrgtYoQr9idteXsVewRsHyRqAVKHglRqSt6j9uPmFqIhxr-H6oJpzCWoaGJollJs9yYq9qMuThtpBrSrpr1usSZpEBZs+ihVb3luTq02jCgUbB5qBD5p4oFr9CCmFvErFppkltXGlrZVlofA3XInDUosDABvutNvtW51dOZg9LZiF05m5mwDQtCS6nSSiRiXA3+XtJfNCLfNyXBDSUiWiX5MPoyUanCREWWITSXjqWuPFKpKyD2XtUKlXqPo3pqUqzPJ3HTCmLmCvNiDmFXCph-rxI5H-piA5CAdWSmIwnAa8oPCgZAZ3EklBDga0UQeATxOt0yCvOwbYGdGAcweQe4kMBEXIF8CvJIbIfysVEIYaCmNpvAdptjDoaKCmJuA91xRYEMFzI4dUC4aZhWFYcKCmKqrgdiH0Hhm4F8HCABAAD5QBnEaqaHhHYgpjPJxGYhJHpHZGFHnEfIVHoG8SP1phtHQAZHAQ9HQBIRzGYhVGYgpjgBNGDApHzHdHFHQAwBDGkGwRwQABSZxsxix+Rjxvx2x0Aexr+3x8ScRoJ9xsMqUGRox5BgAQklFidceCasbSaBCSZ8YhBisCcyfidADipiDyaId8ZioBE0bicsY8eqfKciamLkaKZ0fqecQUaaeSd8bkZqe4CKDqZCc6aBDcZ6YhBSecY8cKBCZiBSdiGDPTAKlK1PvXuzIv2EsBBXCkIHwGG4FWcyR52Wasx4FfrPvWfKnwBYAACsTBV0tmVgdnkR6mYGzn16rzv89lImigDn36Cw7jIoVm3nMkCdP63cpjQ1hArzIXvmlM1G8TIA6BvRN4KGBnEXkXwVYW4WomIQ+GGBYBIBwG8WCWsW4X2GqB+GABROBvFyl0lpTKYgAOXIEZeceZcZejr0mOapF+b03Xz8oeemCefqe2mrP2eBcalBe5YEF5ap1RUFYaGFZCc+YvFOfCTfr5aIzTDQpSRVXVfOarIcACXyXrNPN1dejVFIGkROmufIGrEgy6k0AWyvF5Yvo4CHlLgWU2wMVNaOCKF0o8mnCtkptzVPM6yzJDe7na2EVY30F5cUStpTt6Vlaw35ZxujZY2RnjfA2RRubufdWRrVbXpBdTYMwEu7tiDJqzsjfVmftKzJrEC+HMu3mXJzuKiDcIGzqhuShwCno-pntZkFw5kwAwE4uvNlXIFMAYCwQ+HKhuFIBoRrlPOt2V03G-yXcmBXFmAlJvA3c2vBAYA6u1gaoOrWt2flLxqAIfEfmaHXbwJIkUpKwUBuAQWmS0DDxPY+qVsEGUGUCKoyB1SMACV-fcaZhqv0EneUAj3BEqtKBg-YS2qsUWsg-pedBg8JM-bvJvkoHBS9hPeNcMQI5SJw4sYiGghHogx1zakWvBAhEWvTJfeMDfdSJ2Z9ew-BQI5TTausHBEffY9xFmQUAg-yWXZBO1IMUfjg8vV0gDhjQswk9ACD2UmjTE6yBvAk-CA1xDwfuE7WnCByasWKHhC3YMG2gU-DPBCM81XHYoCnZndinnZoQk9NQMFblKt5IzgU6U9XDj09g2X8LiN06A2s9o6Pf46YDICE7M65SC4SU6tXEqqPZkJ0WPX+QLCFKYI052oS6Q5qvC8E-Paxt0-0RE6A2qomXhBk7gVOckFw5QY+CvIMXFdq4E8i83ZWHgSwmc+4X44hFgc-Qs2i7WlxqyA0+a5I4i9IEEnvRPn2qC5M-BAAHIj2DEaPluZv9q+qJO+P4gnisFSAIF9vSOKPFdPjPpV3CujvUPVwpihAoWrJgh2qHIdIuS3Bix2q5UOB4R2v5IauSPLvawDufYbwrvxunjBOb2-vcPtpQeE7YfwurvNbbX7XlBHWZxbl54PBVs6VCBRPcV3PS455JOcXwRuSPP4jqYc3Yil4ieK2Ygdnkf1hUfqBNAq0VUse3BOOcfguOvFd48ieTOpijPZiIdZC0h+fr4fuVIWhr5NajvrZHF4Z2ecE3BuekNXP6TZryfufqb66c34agQVxku5DKUqeAuafJeq6X6OfjBBlAl4oNB9B5f7NFflfVsueieq7B19eIdoPYGTOsJtpMeVfbfDSCkFCJTg-VtG9AkeeA4E3feLOtEquK5TmbeY+uUZuE-A6LPGeHWWf0eGIU-nbqKffXs6ecrHe8-mfWeMf5AQ+PfLfIfS-BT6a0+Q+M+ClNNKIvVUvPfU0goherzjfxfPZPfu-tNbaEw55wtqDOJwUSA1frLz0v5H0BfuFtp1+A5aaceGbgU7FqfzAF-Ly7zjzl0l+TvQk1-JeTOUKb-eed+549-bFILzfzAz+iMs8dW3vtJypKB8AmojUAYBUEGBE8cK7ICFF9DAEWcLQ73R9sANxQ-9Yo6hMAcv206DAP+q6HXprRlidQL+mlFfnWTdxP9DOX-LxJpGszdR5EJAmitKBLqDJOoDAdQCIA4CkB1olRQgDIkl4TovUeA-vpzQaAJZiYYgJLMIIYCvR+a18amFJUHpT9Awz0CPJC02ylAHA9AwAkwLu6sDd+mMNSptmaC5BOB50VaFdmehJ0ikNdQOMhj9zX9ceedb9lhAMEQJN+lvbgI4KK6e8q65gyiAILkGv9CAsgtiCdzcFE9Na9VfoAoHx4kAsyFQCOL4FSKGA2QMQ8ho3kMCkhwBeDIwDkRM5JC4hgyVIU8Bm6B9g6ORCvk8HqZhCPokQrrDkPiGypwhCETIdd2xZFAaheQ0kHeWqCzIOAdrAgrEPiGJDIwyQtoXj2+oJDierQ2WMSAKG88ihIwMYaUPcadCyA3QzJK0P0ATD8hTQ50GUJCYVCIhREHIsdQWJ1DKhMgCODrEd65Iv2YpUFOcKRjxpAgH0PDvUKeZGtqQSpSLGcKoD3C9hzwj6CMM+J7DiejGWTjeStb9BVhgw3Ic60VCI0ThgkbujsIUZfCcO4sB4eEL+H7CdCjwwSEcN2y8RZkjADhvxF4jcAL4WcGmOAIbrqQZASYWoJVQW60i9g9Imbogk6BxsqAZIqgOEBM480ccvPXAT9A5Hd4TO4bQZEKENSghc0pIriJyJ0GAwZuV-A8MKPCBB4T4WEckcTwJFkAiRoUSKjeF4hbCVgN4TURX0VDaikgDAYkZFSD7cizRSmbaKaMLYEQaYkPcEEyI4BQtQhc0DgP-zszwjJGglR9K4yREMYbczRPmGoBMBeBcUjAWAb-085IDnA3AeXjKPl6UjjsJza0f2XOTFQLRuoviJFVTFyj4xqIbgM6IIjpiZBJ3bMU8guTQcPRLI29Dbg24+jJA2UX4bWOaQXIIxnEXgMFRagIwVR6Q1IHN1tGL5NaaUdEU8O6BshugaQzMVSE-ppQcQc4vwPOQIHUhFB4EccPRkvQIdDAOAmUEryJBuxhxi4gQN0EZDjjisumPAd0HCBwcjOCHboPal9GgAMqAACUpYMAAAguAHACUsAAShlUgAAB5RlsgCBAcU0KY1QsYgK0gyZhRhI6QWpXAH9jz6x45CTqOJ5TjBx8MGPkmN4z5jIeU4zoP3CInvBH2ZEzIAhOLAIZTyX4n8f+MAkgTwJkE6iZIHEHHjCJiEhDCRPAFTjfh+EhgKeKyIkTXufE+gJ5D2FkDPhLUOiQmPeDYSkgqE7GGgL2FvRzhOzRTOSKKqWMuqUYphLGMUkNw9JlkLyqiNUnyi+QdPOCWoFMn8TvhOotSQPXhTvjPukrTMrMkZAAAGE4GhRqCOReEGQIAQT1ijUBBgV0UKXcgcA+SgQnk2KWCMWp4gvsCuRKbkDilkBH2hMIKYAXwKkw-oiUsnrDkilBjlRlnK8lhGKnhTyokUkboVL+BUEx2gQY9PlPFCpBqg2QUKetHfAxSSpEUs0AxnGohTC4A0uqVFKYhgpAgjURyJ0BoSoDg0O+PgdwLMyV87geUmuNoJqla9SpqYKBJ1xsF0ZSgWEOobNPmmFdPe9oiBjNIYBzS2ANCO-rYOcwy9-Bw9TcWdLukXTPJvYjyBUCiGhBkU0cEgTXFcnsDIsn0+6QtJtq8ChRD4CdIKCjRsisgoMloP2jQjXRIyUCcdD4IbClYWAogi6C9EYD80wZsgnTNKgJnhklBSyUoLSKjDA1mgkMi6c9BMFmDWIWAaCDjKgS6ZyUPIgiKUGZkPTLpCSLTkLMen94Hweg-6ElWIABD3p37cWdz01pijxBCsCpIvD+CNTyYp4MGTjCEFEzCZxgiQTxVRk6VEZBgBQQZxhYToQ0dAJqlaL1FGCTojsUweWOaGxBdZNkhEEm3HSwzNwp4epEpjwCQhQ5K4A2atCNknQTZ8eL2ebLTSUzhBoAa2TuI1BrSHADs60drK4AViYgrM12cIOAbQRi5eYKSgdJl4DJs5vUMmeGiLQDh-prGVIBnC9lmypK0lEOWHIpkK53RdIr0bXIsE+D00+lZGKjLjnVit0c-DyBnLWqOzCxcbPcL+AzEndqREkRsVC0ZG9zi+-tZGfPP2akheRP8RUfnCFGEAciSbZ2qrIlEay94Ws0+XvLBlHzACcbNIaKOHnij1ZYNG+Y8EIC-g753smIB3MhCPysIp81UcHiVGYR953CaebiCzkGiShhbA0aSGumFAYFs8-iEHwQUeyVgQfZBbnMVCuiZuPc5kX3Mnn+kjkoUr2P8Tx5EDOC-xCwqFP5JvBw4-YpeD9PAHf4fpd5RKeoXYVoCMh2hO0FwuJ63c2Ac03wN0UDLGdee3+WiD1LxF8xdWl8Tyd1PJjFirJAKUAFWLQkXiVA3QxgJ5MZCtSjY7Uv4J1Ojg-SMspWNBXWOKgTI0FWc9RShNznMKzwgXcOKblGm2Tc52iwGGlITA2Lux6UGkZvJM4gjpeFKadoDwgQ8LxyHiiTD9LNHg1fRHYgMYEtzHgV3xTEhgEBOsgAAZSllBLDGZAApXieyfw08n-x8xestARhO4kVB4YKkugLhK4n4TG8lSppaRK4nkSvF-8O8jRIXAdLGJ34nJfksKWcSZwbSwZB0oEkaT4RVQ5GIpiEkBiRJYkzpSgoaDghPJMk+EfCDp7LKcREIYXlYm2WySFF0pBkriBmXOTrJS8zcZpJRE6SrwhikJl1SUVeLVFGMapd7LsmSAHJ1yjRWDN+k543WjUI7k72iWr9AVNk6cYJHAEPLtJjvFcA3QUZQJNJMbaIVCNSKbZvQdvSif-CcUuSflm2UMbqw6WErblbcplB3XhHArIK5qKJWQEO7RLXJsK3qaVlaDPMgQK44-hCqZU+xwQkSo7mzRuFaKuVYEYMOOBM57wfUhccFUd1ZVAiZunKhwJZgeQErolPsGlTiLpUnx8JS0Q0SOIeGy4bxmnNXCfDwGmrQh--QII5OyivR8JEHSietC9T6qtZpY5wOjMEGlYrxQIVZeWDPEer6Ang68lSD-bmJLsQa-0TiIVZ6QDlGI7oJJPonSSzlsgoqDiCTVKSdlOI3MlAi66UTuAoY8Na1JpSUS2VxWbmRPLQofBggjURKQ6qwl8LyQhUG5S4CBCuLWFGcSxeSFdXHiDVrar1RSB9V+BGQ-q3EGeJImyDGwxay7IlL2GxqCI8amcdsBOWhTs14QkVT834AZrV1HAddR9FzWxhqpoUwte4xnUGY51tKitRzWHpkKQYwgaZTFOCB2ro4UavHiorfXnyn4ggB9R8rfUzcEBUap1VJOaXwDf1QGz9VBBrW2qo13E+pUOLfVWKTm9sPFSBs-rZKWJwE0CRBPABMQMNAErDexKKX5qQNp6+pihpfV3FNx4IDELxwXLSlf1KiptXtRtV1qYpDahpZ8uKxRQ2Aj6jgOhpGW5KCluG8kNkqE2FLGQx68mKGIo2VLbx0qGjV4Do13qT4WdN4Nc03oEojV31AlI+27TqbHoOPa4bCVwojBdN9G60rfBnAGaUQ3KO0uAKel3FJoDxH1E8RIYaaakRmgEdqXM3Obds3adzYZq01oDnBdpR9gukC22avNDmyWTykfY1AxAgsQZOCuC0ndQtTmsdupvwBdSbNpgd1NqvCF481N9ADzQWEsylbASB8kxXsJm5ZaupC6XLVgMa0MpdqQq6JXxmpRCoKt5Wx6C1pAxrICt-w2mOmtJ4iB2qbWplVeTq2gax27m7LdHEi15bFVtKo1VnUW1mSUgFW5Kqn3CVNBA4YIlYb0KGEwjnQE2g7h1rjTrb1hm23rVqtFq0qUIDQUMXNvq1Wai4N2qLetr61LJBtuI+6CNse5WQztqLYKIYGubzbtWypYgIlvkQrIYVQI+FfMseVIqpaP8Ayf1sFCqd8UDK8FQlqS2MrztsfDZVODbF+jYV-dYLhju-XJL2x0ajETTE5mwRQsNuR7UUF+37QRtz3cbTjuiVXk8dWgSHTdQIl-tqB3AtAQqhIENsm2s8VtlDV1XV80ej2LlMtp1WTg26SOxFW7WdAorjICMEwPwC+gUCQ4VAhTGsiG4MobJxOjqNTF0bOid+lYd2dgqsRAoX+lksaKQChQdVGd-W8EAroL7fk4+dCakKTtSWHKGdfoZnZkElrs7-t2633XayZ6K70Y3OmsILAJ0g6-dtfcaAFMbA3AleVDWIYyAACcJwLxAXvIbk7jNZeniLENhXiDZkXsbgM0p4FWD7aXsQdWOjrlRo21UoXyXYJiDl6IEi3RblZDQBj7N1negeVAkH2FcPg7MwoIPrr2bwVcmk0vD7BcA+RhyK4QIQvpr0V7NJy+umtwDz3vbSGsQ3VZ0HEWSLTktWWtSrsK1Uj7tOI2Pb40v3kNr9l5IHTzsm0BIxF7+pgIGUF34j6+q2dPdGjoBFQTwZAO2HvExb6yOVjIZ3g4mYBK8o+qvb+MYHANFQaORwb7kxAHDRJSAMBlFsnPUh7wXKOkG2jPvBDeQfIaBpmEd323YGXEGjH2SuBn0I92trQY4KABxksQBwsG--oANxQPrUi3Bm2ggMSnPqIN4GsteoXEOyCCD0BsGiQYM7TFmRyceEAjNiDUHaD3kJkMmvvUgCWDtB-yLwY5psQb1KwXQ3oZ8iMHbFTMWw95An06G99fqAMWivmVPK0IOupZJwaZUnbekRu5OCbqd6uTC1Du-6O40lhbDgdYR4PW1BSV06nhl6R-LPzHbdohAhgRyCrmqBFR2VJzVoIgchUu8UDbvdAz9EwN5H+AOBvA82u5o-xP6cR1oLMRD3JGhOqR+TXbW+qQxttztDPPgEr6Fi5oso5gLJGghkpduuIcFcEZoA6oWj6A-uhbut1RH6mMRlWW-LVmSiPguaVGeSJqX1GTmCgoEKzJjmexW5alfxfIKTnUzU5tQV+ZXL2Nyjw9AcfMegsir5yzobs0YzXIij0GwDi3UsfoGwUAAdLAB+szaDIhDMgYIB0ZZ3mMdGCSNCCPqsSEGYDJ-E4P8fBWAmkBwJj2WCYhMAymAAAmE1Nw5HKjeAJ4H2D0CwiUnQAAAL1VagAwTyySE8SbeiwmVjPQRk0ib0gonYCyh4wDVFQgHQDSWRnI5uEBNsnoTnJzJgN2QbkB2qLAdqsoHapQtJgi3NMHgCxPtapTRJmU2SblMk9FTVkZU42TVPfd+T-kIAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMTWtbIjsVQwTBPjRvQWEHjElQsDBSHrJsljWOuZHYQAZApoC6vq5EZOk6SgKQom8Zx-51uK7BMExqyltJqG8fxQiCaQwmgIuhDGYuF69AZyK0BI6H0RwlCgU5bAmfJkkoapMiHsFrl-v0AE7CwtC0OQMGEIFwymUSyFlmK1hWQJVh2fJyiLvFiXJalpAuTW7k0CVSUpfwpC+F5tE2upGVSeWYWHl11RMeeVUxXWtVlQ1HAQfgQWYth7Whbch4RVN-WXtVqGuveVTDMUxDiAwu6McFZmZRZPHidZHC2fZi5rfQLCbSI23tntlUcit10bY1907XtTXea101JLNerhb1PVQn1dpcTQb23R9TAPbtk7jZNbUA1lNCgw4C3kRDK07P2J7Zp9j0BulqPHTlp15UJhUOfjg4anDX0Bs9bmDcidOnltTPxp5v2k7OaMqXNIPC2DkU42zNAc4TjPE-GSP80dnWi5jvXi-pkuoeI6ECCwYEAB7cMwCWDIrHXZWJfFUwVU1FdrXa6wbRtMCb1As5DoD247YS7YFHq0GbKFMnIzU+X5NjGcoGPgwNiJ1l7eu0QIEiB4L0dY4hEMezsc6p+TltnRdNOLnONIUkw5XuytpdMIbxuJdQefK0DGdZ7j1hrQI5ABiwohO-XpsHTNgsnVbNn5fZ1GBFd1Bdz3fe187ruEFXmud-3HDO2p-0CxZtlhkwuD2U4sd3qA6+LwwObUAHQ9k+W+-MEfNM6KfAEX3XXCiDbKO7w-+UH2frbUAABmKK2cgJMAAI4TRIMjHeSsLa5XHtTYBi5gIwP4MQJgq847IkbNMDBsDsFYQJIdc2NALroOgcQnB+IpoEjfnWIhWDCFVBGOVW+i19DGHvlsaOkUmHcgiPQMuHCGqkKQoDbejCXqa2No1G64jhhcIQmQ4eFkM6yNZngmSYE2DcFIBIXwNDWGSPIShNikp5LaIgedeKij2EVwkTYqRI9rDymBmLBhbdNY7B7JQYgDYzYUMspTFBP9SBFQCUE3BZ8CEcBicEu+f8thUKSauHI5EhE0CSYkygycQnSK8X9XxujUJjhjHtJuSDwnnQnsXSpE5BhxIAtVfuLsG77W4Ro5ushW5RRWu2GCqiEGhPTmrRaEtymEEoFwBgIyZCUG4OovhejPHLNsStXAIjGrDKWSstxFkwqbMGfIl2eyFkB1ORYwWh5Tka3KXjdsMhF4hXcQXa2rzDZFRXOA6u-BjJjWPPTawKoNzOkkm9Cso4oxVMnImL0LYwwRiad9RM-gSzGBWrkaYwZe7BLeeQwIljrD9m+dwXQU8PAJORdLEyi9hyorhc0vciYZSNGVLJcIkQ3nUtCDy8KzA8UEpuEDN5hogSuFxRwfFohgmHglRyhoIRF5YqML0cy5YZVyuCSOcB15lmjG+lUU8a58COlugIUA-FSBXjALgJ8L5iBRB4B6UBoA5BwwAiAtAvqwHRXKSVQJMgmwSGHHDSgDABCrK1RbTxzBXTRoJNRDwRARA7KDAIaiqqYG91DUwcNQsgZhUTVGmN54p6gA8KWyNyblUqtAMG4gBai2HjLfW-5msEmmt7FCm+jpRCBN7mJU8XoqEACpe1MAnc9VwK0h2UAbPgZkYaOBKFAGulY7VAjQtoPgLs06vTNtbeug8vUh2xj7tO9k9RyC4E9fuw99MNJaXTYfFU0hJL1BQu+zN0h1WBG6KAMQwFiX1GhR261WkT1bvPWLA9N6LyAnvZ6qDr7QB-s-dOcDTRf2CA-VmwD9RgOgaYLhxoKF211unMRlImr6NrAY0YXG95Rh2TXRuuDoAkbfuMHuxDL6YMJRDZx+DDhL0jqQ3RwiD65CCbHZpN9BH-04Z3fUYCjVDySevfTOoUrkjrgumJgV1xuO8clQZ+o2nh26dPEtEjIHRBgfUykSDNHj0iZbdxiKCnxi3tYnJ9DSnMMqew3xgAkBpjYYkEPPrNVgKLVnDOCvXOZ3uE1LPJYaL5+L-n2RJY1U5lzVbjCadiw4KDyheMyaA4qZjoAGsrS7rQMIpAXUyDYHxxBNAXwhcXIu5d3BFylerZ7OiQ3RshD65pByKpgIMAqqNowHh5vseW0qEDDAnyRDYEVAAqoQBsszgw0CNQjOsABaS72l6ZzuMA1lCLW2sus4tC87JqhP1hYE2UdfaujQttV6D7k5p0yAGxNldz1oXcAtcDvgF29xg8XGtxbz0PYJK7CqLusEjwDjNTxjLZ5iUoXXPS6rROznlKx4IEiwL8e9hpzjiSJO063CZyRKnZ8OewWBZBEyPOWc7qo71QXXOAKC4TNSR1xk8cEyYMoGXgV3kWRPeTx8xlxd1lrlSWQ6ukaK99sT4Xgt1yY+xyROXenCf84SBr5Xjyz4iEKDG3yjFGWE4Zwr+3xu1g4uFbK0Vvu71yeebymEFHAiodeXmhw6uzzdYaFR8MTBauuFI858jrnGjQq7F6SXKoOBK4ZYbzXaeUgoTzyFrDWaNvGA8LgXuwE69GBCDq0VkuFZdgC40XoEWM8lcBKSzegrifLY8O3+VYrZAJ8ojhbSAfdUlNeTCZbIRG+Z9qw1x7dzF9B8Nl28pOv+BCHvZvSgJtTxW4JxBUvyviW54t7BfPT+YJS6L0b6-Q4ffIeMNHwXoAAAhLNjXl+pHvhvesYliO1lEDIJ3kTnAa-nbi3g0Lfj-h0KAExsVuRtHmHkeKIBHnoNlq4NeBOmQYqI-rTs-lpAXtLp-mgcXr-skJXq-kASAWFrXoCGmoQJAYyBSB1uTigckPAfzogVQRJIkBFlISxkbg2ikKqvrLrl-t7gwbIYBgPjgXJs7iftYI3GgerowYSKAKQeQT+oLIuI3lCNIIuOodgeAYLMfoIMoRTqIHfmeOoctJrEQLwdAR1twButwJoG4SruWMXhhhYdUNYYqB4BEVYQICNvULmlBA4P4WuDoNET7oqFyvTjIP4VSvUB4I4afqBNwBfolFfqkaEEET-lkahOSoEfkbKCBooSfgmCUWUeQBUdUZUYwUYCYROrUTsOuHkaAEpKhMMekQUaFj4fwbAYeHkfpsQbdmDA0YscQd4bgFAbMdPrkU4GsUsY0GFKsUIUCIYbUbEeMPEY7gBIlLBA6HuGCBaPrCEVsOuPrMoMaKAPKIfmfDnM6GUOXOVC8XosgvUqgoCQ1EVCOK0nWGtNtPgF0hCv5qzscirEiQnjkjCvkoUvqiieWFYqrGDO2pCqvlMVQr3PihIDlCni5LURMmDPqmUmfGOMYnrCOOicoJggwMYm1h6HiKAFycYr0TutCttKwNSCOJmICoFPTvLmCoxPqoBtChscYsbHYI6FpFWiqXwTATIIKSPryBYPsUsXCZBIiWKbdCiv5sacQfqYwYBhAZsQfPut-OEZYZcQkU0fKLUeBBluXBwIKeidiSnBaRKZCjaQ0LcTBPcdSI8ewDINqWqd-EyQBAidMNjrXLkRSMCahMRLjkcdmT8QBLauaPGWGlxoWtumsHul6Laq2hWRIK-CKILA+NXhwdIGNvKJtrQNcYZARvrBwGun5FmWMufAOpuoWl6AWYhA6R8uSmGroDESuJtmGpxA6KAAACoAASAAohwAAEr7YAAyO5yAWk8ofo2yGwLqVpLsI5fJwReJWwaZUuIg+s95owhAchK2NqMWGZ+sPgI4AcvJn535m2JZvcfcQFmKci5SEF9gt5AcOZ25e5h5J54AmJJZ-5gFzowFFIfJOZcZ+QvAJ+MgpWJZRFMg-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-zQ2-OHzbX+mQYuMOVNUg370vwmiW7W9uOe3zX+QHXwX5c0JA8FQqpJksYKpECNrVQtaCv0YNaOvzaVQguNv6Zp6ICBv8m7ZEf7ZHv4v8mwSZkgSY0Gf7u89moJki-5II--v8mxD9vxD6f1-7u2gJRAuAXYWgKuCAEgCHw9QJ-nZEXD5gj+xgGQO8VABHMMg2QEmoWDC6gAYB4OS7AgNSDIDUBzwEmjdiwE4DVG+Az1IQJBDoDQAE6FAUYHIHABKBSA5QEQNoFgAyBAA2AQAFIWB1AtAUG1AA8CGB2A7geDiUwIDWBKAmgUIJCxHNxBi4YAukCkECDiBbBLSAoJv67s3O-AtgbIJJoecjAWglIFQjc4qDlAgQaQewKEHmDjB5AzIHoJkGCCSa2QewYoMyAWDkg1ggwaAE8HuDtBsAwApQKEGuBngRgQAsYGeIPALwMOHvjP0ja6J2OGQRUMHFUhrh4hs-O8LIjiEd9e+stJIZQC7AAArb1K2VSHYhcQggg-pkLoTFp+kvUN2trUCBT9+aBQ7IReCwC5Dp+nwcppswuhUJQC8RZQEMOaEm1O6ybSAIQEzTdwJAK-KYTMKMRjDxhtTQARSGAGwBIA2-CAZsOWHjCqEEAnckf0OF7CTaVCAAHIsBzhlAy4ecL15WZYhk-WoaFRugMtGOKQ+oMHAfTPBeOduVofkL6GPCUG-whIS8PehCcPhKQL4YIOjhts-hzwwEeRyDRRgeSzwwWvyWGRglRy3NFEe-nfRjAJAdOYoR8HijEAOwhiY2gZhBGfBq+24IBkPyICnDXAmI2yJ0ECBYtmEZYEbg7zSg5ldaPIuyKNnCZOFqRiQu8Ox2UAnFRRYI8Kq52SbCjZA0o9pEUNKFkBb6UohEQOnCp0dkmgPO3kR1O7DBwEuHUSNGSKH1UnaholWpphsoCiYK9qG8C60fBF83wUlT8JgAr7Igt2u0MgAGQmj0B4wWIBgMEnpRlsRe6ETCO+3ab5YFG9Q5fJ92jEJ5dA2XDgLlxRDtd+uUYr3JWkSJxiEx2Yh9jWyxAmJpqIwfUB2FgjSMesTaYgMQEi52BlKcgOmrWNkEPhCwMgFgLWPCKJcYiiXBLkVCS6djiATIhoIuEySpcWO5SZ2JSGWptdYIdNK5AuLfzTilh+gCLJnxoCpcuu4OJLkWL1jARSxcwYOJiJXFFp6ayYhyNoBsL8c6wp4yoKMDpDDIwxuwSUE+IyKOQ9gnpZIANQnhPjRiCkAiFRRF6ShDwT45iPPmjhgSNBDkP5BkR2J-j+sK4Tet6M7GNRMEAYvcEGOCRvjQmv9awGihJh-ilIVaIyK5QhootESYEsOjER3GFg7xHoOkGFBRodiFk54HroCES5pime4ccyvLXFGQ1KJrEi8VWk4lJd6JD4nYqBKuQsSJIbE-MCJKvE5pQgpgIxODgv5LiMhGwQjgxOK7fjxigqHCU0VPHg5D+2jCeExNYniYZJSTZSVpOMQ6TBiQEOcXBEMk7cHIAAcjTHDIuunk2on1xThPjMSd4wMoKWfGeJAoEYyIGFFCmJ9TBybK1DlyjQ5dZkFUIqCVHYw5doSOYoySpJTjRSJo3JD7r1Bim2SZx94hgF1mUa5SdiJUw8CVOCkFSjm4bYkW2HMbkjGoSMXmoEk6QUpnxBE02HyjJLxSWUT0RXFOwokDSD8yTYOC1NJHtSn2RsbqQlCXH90D8uky7mZVlyDSmiVCPigTSco8Stpa0n0obHDb6lPIRNAcotOwQJRep9jCWv9XhSTTKUitccu0mu6akNMTTZyrxPIlLxESEqOjHEKWnAQhAKNL0MHHOmE0qgV0p8DdNvrMTAZXNQWO9JV79ZD+GRdcEcThmdIfA9NKOGiWum4ywZItdacEEdFJCPps2AbPlC-GBAPARMhKHjKuS1FUZv0cIrNLankBDEB7TGYKjZktRpp2ITmWSO5kdTA6jMhGdJKVTKN+ZTbFnpLOZkjJjmYtB+rxIlS4YUIu08cd9MOmuUkZ6eIPiSgcKnSJmnomgGnQZQH5L23Ka4NtLclhR7ZG0iHhSmh6418aAkusJbK77INg6q0ylDbJHx2yD8GRRVCHNzEuyPci4JOnjXAYTSvR1AP2VTSGRMzFs8YUgHMgwhcABAIgGfNbKg5bBLZd0-rOlLRyYk9QYM1OZOE1pEoC56MW4EezOpIypOvxMKsME7CL0PcWHIgB7yED9gOArqQQOMAYCSRXoyyFOLXMt5ASciGs1hvxgWasEaCr+d-Fjx+ToEp4LBcQhhiGHj5Qsvc+nAPKtTDzXZNRJXmOW4ApwRCDlMXOnzsIP0G6a0p3qEnXCugL5OxCVMoFfkpww5L02+Ygw3kmzuAlPB7BuPPkTyD8n7GTsUReH5QX2iYhYBSEfLzMUGABJeeIRXn0F4F682hqgvYIf1pAGRIos4RUCILT58hAVIaWpC+FYCV8gXEgQQVRJ15LcgCAxSoXbE2sDCpBaArR7Uz3S1hZLm5IuJREI5seEcgwsaJuSwi3HchXgTawSL6Z7zVomfmuiwK0oHCkhYwsYKOSg5kQORf+P0nXBdYvtKYqwp1IdZ5i2ZWKdKl6hGKRxjQUxdQp2JyKrFyWMKLYpcVWYziuYoRVcQ5FeiYgQSLgNSFLmESq5gwTko1INIRLRgQpTjsgtObULnS6pL0A4u2L6l1FIS8JQIpWGAg7SahUBYkp9pulIi8RDIiEz0lRkYypZOkIUpdjqlwE65FChwAACC4AcADuX3IblIAAAeXOFnkviZHc2dVxgJcAwlN8D8kaR-yBsXy-5CZV+QyJYV+yeMsZfeDmVgUQg8FPuJkpviYUYskFUZQtn2bIVdyLStpR0q6W9KMKN45EIsrfLLLDlmTNZYG24oChqKQ5eivhVAppSVlbFWkMnNY7Y4Dl7GR5awq4W0MiKReDEMHFKxGLIuaAjbC6jhgNgglQKtOY3FhV7YKFD5H-B3VwDXlgB2y1ZaCp-z09Eo-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')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJivI4sS5L8FSwzJJM-LCs6YjnVcA47Kgh9QCSRRQXneNEyRJ18AqEK32Y49QEq+L6R0aMGuotcXLE3cJNtKLESEibVJgn1O1yxDeiE94FmYIcjKk4VtvwJKUurcD0qCpq+sY+aWK-N4fx0YQZl4oqzrS28Mqa1a4M0xDqQ5Aleiel74jek7itKhgDpMp73soYrjS+q7My7WR8D4QNPHKqL4chkgbF-ZaPXR1oscQu5cfu3CxClAmJlwbsUfs9oycxwMAGZJMOh73nwABHa9YgCt1JvVL01vg5mIV7D4hZnah8FhqKklSfmFZF1kDjF1TNN6eXhaVoZQG1HWBueQ3FesP89vPer0osVGppzMLIWpwa+G6MEdo0fAh213Xgscs2PeeFKL1t-37cDu9VLd82PJpz1-cUQhow1o2Ap1uPMqRCgKMT4yFreECfajgPQ9zn6uQLpzA55ky6VwWhqGSCbxbU7L1oQzFewKVvkhV5O1esAe25Jpr9fHoeKhNC3hRnyhRvGy7VWu6aGLcu7BsRSZahmSfM1+nLe9loN9+meJh89zz3pK86WTXxqHNd2bt6TwbsiBB2WZfl3RKvjdu5YuycGC0AmCQH+ehaCKBzt9Y+tceQwLgWHYUXsSA+2-ig+BzthI5lgUXXmQQSoXm-vVQhQcmrPkoTvaSxQ9CQzFp3E+PcAyQ17IMRuUVWjJhkrpEq2gWTBGYXhSoExlBTG4roBw6RZBWAkTUK+WhdCGB8BYEyhBWjWCkLxduTC7wEhWm8BhBjAYcn6M1FIaRpD8PMowpKFRxiX2kY0cxNIABcnpNQOMUAYdxBJLE+K0fgHRei9DbiYQYMoASgYWBCWE3A7dnxRP8XEiwXjIbqPMFEdemYEmUF0UksYVgeY7FgSwbiCw1jDDIMQZkOhQASkIFgHYfAThnGoPKJQrhQCc1AKCICzxOZoBGdzR4yd+ytz0KkaMTigK0BIDoXBeTWxIKWK0OgSydaxPMJYxggEvaSB0Ls0AmSha8RmfgOZWYczbk2Ys5Z+5Tl7NufoB52y0npPMF4qZ1Ark3OfB8p53CR7WK9GsQwhixEt3ULgCFBAHD6wAFTVIIMirCvgKoMmSGQVqszKCeAqASqmhjfBiIOGQPIaL8AOD+QCwl8xdywrejSosQNhB8AGZS6l5l2DmgOZjYQxzmFA1UoKo5kpskEgiKAT4HwyUcjEcCulVZpkkqZQxKlbKDzfJeFysYCyln8o4BK4VkpRXfPFQwQ55qdDSqBrK+VtKqJ6s7kCo1jQHUclyT66kvrzBN1-CwAMBKiWgA1aZXi15LXmApdqvlHB6Vhs1UsFl8KdXevMJy7lCa1gmtAGakViqaQfAvM+dNCKeovLiT4zSKaOhdB6JG-yGwYlurdRW1urLzLuUdXK3ACrXVA2VZ61VBx1XXMoHcVNoI80EHZd8nNhqtmNLNKam1Qri3DtAAASCBmWr0WreU1KwPujtQMfE+JbdG9Y7aL0dvEvO9YRZz05IHUOmtFhD0etXRUVtWaZUBIDaAEDJlnoHE6IQLpegEixs7mcddQYW60FxYoXoX7QCWJQ2hzDXjEPml6MKj4JBhyYdecRkN5GzlypICcHoCRewAFUGDJHAVIcQFSrLCgALQ8YtOZTFFgQOqQg1BrpAoxFcaqYmqx6saVqKwGI5pDhpPWQU70HDeKsJiMUHU1TihKnqfsUR4NpGsLELk2PYVz1STeXKFGvizDVI+Psz1RzMaF7jjyDZ4VQI7GQp8zavzzng45iC7ZoEaDvO+eBDxPiegIshcMfHXcSXgTRfEOl-zwrKDtO6ssWSDn8vOlC01elbmKglfWF58QJ1mA2sKwI-9t6qs1XWClj0PjR7L1iyCSrHm73HG6qCwagFDM2reOBDhUaivueq8wzR2jCnhI6zu7NBrESmI2CWwkBrBYAiWANl9u2xUei0deQDvgnWDpdeRsReQHDZaEXl9rjC2sjauxyVSj2kNFslNRiwli+C8Q+IDn5FpltFPbs9-yiXF3pKiLum7n69XGMRk2xhRhyOWIKdDiJjkTu4kh6ElbxSUkbHI14kHt3AMgZE+dqHq2kqjeePVmcUpOWI1oKlSFA2-gfdK9Cw4xBstPb6y96rTXzKC5q9SZdYuACEArN2SsaLt61nKM5JGg-KRLEu4fZeiaAcHcSBfDdK9wE312P20uXVt7IyxcA7eMA+mkOxkWe4CQ9vr4vgtxdy1L83C3AM-d98rjdtrjkvP2QwLXlAdcwcq6bmksPb36-91FmJu6c+Bva189JmSEoNf0Pz3isvdXCdt-qgZ42OdTZZObgbC2migA917s7TVegg-zJKXo0qUd3c75mdnjWy+4ArwPw8lnGDx8T3rxQ4bFAzot2t9MHpqsFu74sPvATLHb97zoDDQNzmHb0Iv4YVM9+r4CV4h3PRF-Y6BpY0fnPviKB59WSFF+Ogr4W7fz0BhZfJ-CxOVYvDnbQd-T-YQb-FfH-BbcwdvZFAAxEK9HGUAPUbxTHYA6-WfPgbXDQGDZ8R-e9N3eJXcYA0gsgwtOPfAhPQgvXbcEglPN1JgqmKg6g75FvAAg-AgI-OhKMPzAgQgLQYkbMBIPQBKMrTMHxBKCoKFNgAAPgkALlZ2FEWisAxD9iHGkLWUlj+g2l2mjiYF7GCBvmeB-GAjIEfhKQXU6w3jflfBEUy3ERXlsLX1WQlm5FChmicNKUp2fyGlyj7FwF0WjFFHIGVgLwJC8T6iBX8LKTABwiOHaVOHODgEQGQHQFuE8AmUGl+GjT9kDBnAyCoUQX5i+B+CvEBBBBNF2UsVNkxF2Tvy5AKzqPSWwxxTxRsgXHi2vDanIgTCTDaMLAqBKOiM8U9DYgInQm4wukLHqLlT+CJhQgAgUjmKfj7jlQYFKOaMAJWHMnklmJIldEWIKPhTcyOK4kPkQnGL2L3lSjPAbHaLiRf2WNPGnGeK2LuMLymLpjBjEAhlOgfk+nJDOOWNBlenhQJhBPmPPh+LiRaOlCdAKnihhOhlOI6Kszy08j0GGgx3azqldA4M4KGhRMKjcJNBJM4IRJP09Cti1heMCPOMzmtkGU1iVl9jtiYF-nJDGJ2ImJiM9BnkxNeKWLehFNuIFPuLeCWiZNAJZLlO+OlN+L3kkQPlBMhEWMmHGnOIBGYD0BwnvgxKpO2NKOpO+XRk6n8nqnIWJLNICMRNo3oy0hYzY1oA41NmjCYHkASlAD43FP+D9gOksx1MNMYAqHITFntw1ByASDBgyGsBwnDIYBd3MVUh1MRjjITKTNxJiEjKgUTir2dRrz0G-FOA-wORxJphTLTJpFHUpSZgcD1KKKNLcJiGiRYIsFfx+B2O6DEADi7JpCNOqm6iJI7ItNJPIUnM4KNJKP7M+IDA7IR1Zglm2jhxSgoC1LdUsXXNvSJgawDE3KZkFI5C8X+3tXxEH0VRYBdPzKDDdPY3EE0WjEM39P4x1KE1A2nwqn9CGL6JKl8QOH5NKLJVUnAUgWgUhh2TFO8NiS8R8RbINIwSwSgSAuN3GJnJpCtO+BtMNVQqgqSh1hAoijyLZwhP+KhONJsKlNAtdXRwuxdCQpdHxlOizMlHtPGNPN8DeMKINNYuShWM4pVN+OYr0AEsJl4hlkhBIoEPHBZIZKVm1hIsMRjJ+ASDTgzkUuzjrO+w9AvIH2rzUrLkjiMMrkxB1ng08MDP1JdBQtMu0PPEDjKHGMMpLPW1ADEXsp2ghAAocBeTEu8orictDhcoFMAzUr3ISyCsxAAt0vSVUhit8v8jp2rw8usoUoOzZPIwji5OMMIF5IKuiVcuA39R-KihwsoEYA+I4uTBWVXM9G8L0Dqu4ssTgrpJ8V6GRWqseOOQxQqEqp6oHGOXrhas2DfRN0imTgOHUFmHoDWOOJmEKuYTUu0r3F2wpQsocG0ryqHGWtDzzlTnTlZMZIsu4p4pUJ5BeV+WUA51BFmoTDqSuIMmJhiscq+IhEsqwvSRmuZEeoWuuPiHqh6zWqHKtVIV2pjlDj7WLNuw1zzmmIBpetFKxM0kRueo2J6MZD3Guv2LmwxpOPlNRtykuN8msjIgXBxo7S8W8KnymvyOWMlOVLoupAe1oDGie1hWSGXnZtXkLGlRhW7UHW2oevmoJqWsS15srzjRFxoJquWSRT-M6iGqnA4vTSLIarEpXm+t8B7PnJOEXLxKFuArlt6slBNq4rkrq2WKVPhIFPsMzB6yiv6MwzEuOmBJNNGKHMtvKuThZI+PMrtpZvJVlv8mbOqINIDvPAAuEtKOlQ+KxouPTyjtnApuxtNP8lkvXyahSt9oZrelJvWMJuZuYQTrTqToS0LsWvqHLuJICTEqrsBq0Dh1NMwvrvCuLCdhMhZPRrJs1JUtdTLvagrv6N7qLvJuHrrqBjErHurubvT1boFItJKpLDaU8hSI6XSMuCyJuFGTIvUIiP6KkIdvaD9KQ0YqtuxOTNHNqhYBNu1odJPvEH1joA0tsClBwiGHIxvqIDvoqAfpXss3LLfqrOTL4F0IlnUjYUNN7FfsrJtWrOPHMPQTvh-vHIgaCJ9nJhga8BcLbN5sNIwfZixj4AqCplq12Dvn1oHKcvAafswYvGwdIb6TUPHCdrVBjp-EPKIeCOduVgqC4fPBcMWg4bh1bXodYWlid2vFMNEdvWQfHD4YPKcvEforC0ASO1vVIss0VhbmrDi2ocNvGPoZSQ7tAU9m9gvCl2MbUYcP0EAe7tiD0bHnGmqwHt8GzpkMxzcYdK2DEUtGsCOozkMaHFkQLl4Esx6yl3LpNptIwZ8RiZaz4iIRMmq0TvqgQNdydmsu3BD0-meDSbwsyY8esufDyfprZ3AIQZCZCuHtidB3-srECfttsbRhnCBEtAGIXBziQwIGBE6b+BgqxO63BWibqaSeItADyCad7N2O+S8T6Y6b1xiaMAAB4hp2mBnQdzqLrbzFk+gAAVBkKxBgaMCcKBFEe2U2PFGoSULxXoUADwFPYkPzLXLpxkHODwE2B5p50kl54EN5wZx0+Z50-Z3oI52gXYaQc5oES5nk659Uu5oMR563Tg-5oEN5lZlF75lF55rRV5-Ap3Syy+rTRQROmO8uge6kRxjIaUBkVqGxgJEyX6p+cZxzeqhKvOJqlZ8HF-HYul2BPQLs3RnnPzWZhcgOLi8HLxcugtbcHl0kyxbcIFlPGV2a+uFZ2dIF6WoDDlfbHYgtAJ9SzS8Vg2nQ07bsujfZylh8hgekA5CQbqL8mVNKl5Ly9rBwby6xjutHD0Flw09rdJgNkbHWrgwNop-PHV67MqjK-llDBlsx-e8cIewYlu4epJqlrFKKEogVhN4OjkZl9VxJ9lqyhqh0OuBVi9Pl2l+NoVmkpx0Vgxvss1pyqVh9GV4euVkOOpnZwIw9ZVhpxzXts802dV8SHtrV7ZqNqvAJZdEow1q0IJ01mhpgUt8wPZrUdN21+1m1R150d8icXq-aad99dyt12WzfDgL1t7Eq31pqf1tJmJ4N0rUN9JQp29DJyNunGNzWuN+lxhRN1pJI9e44NIqADIq4bIjAJNiWZKYQeMkQRMxBw+Ds6ucoqBqR+83oODhD4QRMhR8QHDnM7QDSggIcE41DhBABeuZcyTWWojxD3MmmI4DgTSdxfWdcE2CwdcN1TsjkfWTcLj8wTcXj6k-WTUITxtboUT9j4IrsSTrsGT-j4I8tnkE2VT3AdJPj7C4IsTECaME2PT+QM5uJbTgkfWDdoTjdvVMz3wfWHXeUCYPIA4IYBzpzo4IGWziwfWNwSTiwSQioaMU0ZQv0jwEzrz8wfWHjPz8wAL0AIL9gEL-0+L8wCLhhvofqjkOLhLpQ0AP05FFL0ANL-WYAGLgZOQ+L4LvLtvQr4r4IgAUjK+y6q79Pq9q7E+CPXT8+a8S+q6QyC469lF6Aj264q5y6S4j0q8G4DF6FWaa7G5a9AHWfMAG9k6G9WbYBi569y79I25W7q6G8UPm8C8W+UP2+m76EUM24qAJG26S6u-O7W5m8VzK+q98Fy-MEVwsCkPcQPF02zMY+Q5rrqfYACRagJyNGGAB7w6Y+PETn+-g+I6NNoDyAACshkWOwelAUzevxPof8PepN4lhly0uCQGOYegfDgDwlN6P8eQgRd-wWP0v9YLyTYLzSfSS7PgjIAGAjkXoDObuee+f04OfOfIvgi3PYBIAhPJfIBRexf7ONBHOABRSTtz5X+Xzn-WAAOXkG17K91+1+Hc4L+9p8R8B-RpidB6BnB65Vy9yeN3J6Q8Rvh7N9w+d4Z9nBtOt45Ft9676nAcd7p5WPwiKoiZMkzKd9h5Q4jJhelgwczNy0FRIFwGjDFdR-kCyBmpyDTjrYvSj5I5UHyoo8YE198G-nj6tw8YqajH8DJZqYbAwb1ubZXYDEw2qDuoL6NOLZYIL8t4nfb9usay77vhR-R6EBNt7+D-RridfaNaXYb8hDo9-GICNaBBbmmehJb8XO2rr+XcNup7XuY9A7OHA+3uuEwBg88rEC0XkCEEoAVjBHqCSBIHbjcwwfLdRHRD6nf+BcCTeXrjPhf+RgL5pQB+aNESQGLQlj-wOJrBnkdJGAXNlIpwxTgSQfmKOWYDIxIBHLTuHf2oAogKARRUEJGWoDUAquRwDwHoDwFb4Hm++B5vc17Aos8BZfOJL0BNjosUmUUYqIQHTgYhIBBZH+AIPYo8CEuxgXdJ43aDotsWfQFFq-TQEfAMBHFcHhX24HpwBBllbFgYH7z5NhQqgjOK4AkLfwP+6yKgVAlapBhvCx+EdoiE0hGCMCOoXZGWRMHPgjBRgYnH1FcGgBJuAwMMNfgh76A7BSGHwacksRcNiI9-R-tZBf7twjBpyLxE4MURSJD4dgvUDWgdAFY5yHtGwq4N7b74ZBHgPQdaBYASFtwdpHIbizdQPNwB5df8smBTLHhqKSkTwb8z1RVCUWhQgwf4PrhlCzB+4R5jWjDBWCnSegvoPJwEFQ8iAx1AwX-18BIkfEsQwIiMOw5NoTYmkUoWYNnSuCJhIgooSQDgwoE3g6LUwVFmvy9AAA5OAO-jYsLhABdFm8yMEUNChCsEgONGeGiCJBXhOuM6C-49BtwbwlgXqn1gNJvmiyb5uAmHC9h+wIab5mYXgGgERhfw68C8ONzPh-h2wqYcUO4oIVYQvAxESwAG4CZXwaIjoDiIzj-DL6GfLPtQBz4Xh-IWZVuA-F8TGDEhGpabCzmvxAj1SyiGGFVioZZClITCV9uD0pGVhqRwgNOABXpFKwqw6gpkTMIySNUCsTCDkcEUGBzxh6tQpUSzixFgFFAl9N4XOB9IJQpRjIgxK6jUouJD4USRVF5TviysOAASGoZ1DqGZCoYNhKJN6n+4MiqwvochA4HB4GiYwRok0TKJhb1QPR6ZDfHaM7ZBCJO1+HxEwRODSiPgUoKMoT0cJLBko3olMZBUso6ju+MYwjPJ3jFJiH4vowsgAQLHkQt8Io7PuKNpHyN4x3jaMeRCFHY9axYoiUXSKzHJjZRqSAAj4irELgoe2Y8sT-B1bXk1KdQ60Tuj1iqj2BGo50VqL8QTjXWNIVSFkjKo19xw6cQzEyIkYahMcyowIpEnZF0kN2viZjKxifK6iPoO418lEQoaCMeS+41pnoUQpnjQCKST8ZMQvEzZegj5D0nVn5HjhnxBVEMhHx9GkZ6gIhZeFUB0CAR7GLOExg+P3FBCoR5mChkaFTFQTrIbhM0R8IAFgTwx2oy+sRlD65ADSM2HxowB3ZShiglAbpDagIAkBFseMWBLqWQkeU1KpibURaxlor8pmvuDgM9kDw3tHEq+E9kYg9Bi4-squO1DjhoJ0SZIjEhpCxMvGSSqc1-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-iCav-0B2dzSI3c--LnhpoFxNtWKQNkyq2ClbwRFWiOtYGJUVAvtzAOrXDKAh1ImKXEwiWJRmxr8N+EMbfjoQpGZ9RRNImOtOSK1MrlwqkRZQYpeVhtuopi75EIvwEGlyJ-4SiS6BTzrDxxsuVLf5wyBVZguwrK1j0Gl3rrCtAE68UBPsWzYD2PzM9Lnl8C9AOxDO-yOMtyGmwhCUOtFc+3WBxDD5WFbbajrqR9B9d9YgChjr4pY6qtFQR3V2K0YRMxESQY0UZzOYcAAAnLwHq2QZ9O5unAWHpUDGc0V2gVwBiBx3wYpxFbd2LtiMkDJxASGTgGu2pmvAY940M4WcN7BoBS9zq2Gqjm+QB6uhYIFckDAD1x6Xo6IJaa5GNziB+MOMdyVGt8AN6lpTerUBUD93abw9xnCZbxDCKH0XQU4WVddqekizkdG0u3TN3H3GdJ9LuoMswB+0mwV94Ra0JEXx3JwexD8H7WWQYCur-0LAekNWBF4pqBYDgQMd6QWDGij9VYfmZgin1n79MXzbgOMpzUGpEyJAK-fzy8GEZqwfTYcPBmr29A+M-GF-UcDeFjTXV5gGAyOCV0WBq9Twq5cis2CgY0qIGZdOatglogJgCEjigLELUWBENCiRZP8uSGnr5Vbhcg1JOXQAGgD6cEAxwANi94mAYYfiXnpH3jRoDMBj8uQonCkHGkwhvjKgevLGB6ca4jkFAckP8YED9co4Eoei5STe93cj5Xose0dpntpuTA0iqHKC6mAwu5FRLoGSK66GuXUovNI+0WGTdwIIHdDoGXeF9wE4vOgUy03MgDgUgdEMKldWiJZad+jgA-uDFwG39HwU-Uge-2-7M5gk6rEzwcMCw54pukQq4fBnuH6NNcfOMgiSPmDgwkLefH5mpkaB5AGGXdNiMmFkisDphkQEUVSMACCj8haw1VzsOX0NlW6gdWnJuUeLq5I2FNcBGzCzBVlHAXhN1ACwFKhE7hB9bLTwLTKSoW5fym6gWNFy9ckK72ZLvrJiArCNhYY39RETbGCQAxy3IRLWP1yt80s5uYEVblCkHD4wNwgcdGOlIPZkOjI+bouNLGTyPMOAyfrOHxy9AhW8wAAB0sAq6r5daAgR8BFkEhbwoFxO47YL0xeoMKwZ5yPisAfxulQCdwlAngTYJiExNilCwSYTew-maMDID-pjcNyHxJSdAAAAvNtKCcBj1LiT0J2E0UARMMm+hZBFE9pEv3omsI56aID4d-D+GegAJyEySY5NjcBqwRCo-3G+bUBvmR+DYGcIPA7AsTWByU0SahN5YZTXJoEd8zyBKmVT4yvkyOCAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJivI4sS5L8FSwzJJM-LCs6YjnVcA47Kgh9QCSRRQXneNEyRJ18AqEK32Y49QEq+L6R0aMGuotcXLE3cJNtKLESEibVJgn1O1yxDeiE94FmYIcjKk4VtvwJKUurcD0qCpq+sY+aWK-N4fx0YQZl4oqzrS28Mqa1a4M0xDqQ5Aleiel74jek7itKhgDpMp73soYrjS+q7My7WR8D4QNPHKqL4chkgbF-ZaPXR1oscQu5cfu3CxClAmJlwbsUfs9oycxwMAGZJMOh73nwABHa9YgCt1JvVL01vg5mIV7D4hZnah8FhqKklSfmFZF1kDjF1TNN6eXhaVoZQG1HWBueQ3FesP89vPer0osVGppzMLIWpwa+G6MEdo0fAh213Xgscs2PeeFKL1t-37cDu9VLd82PJpz1-cUQhow1o2Ap1uPMqRCgKMT4yFreECfajgPQ9zn6uQLpzA55ky6VwWhqGSCbxbU7L1oQzFewKVvkhV5O1esAe25Jpr9fHoeKhNC3hRnyhRvGy7VWu6aGLcu7BsRSZahmSfM1+nLe9loN9+meJh89zz3pK86WTXxqHNd2bt6TwbsiBB2WZfl3RKvjdu5YuycGC0AmCQH+ehaCKBzt9Y+tceQwLgWHYUXsSA+2-ig+BzthI5lgUXXmQQSoXm-vVQhQcmrPkoTvaSxQ9CQzFp3E+PcAyQ17IMHmOwcJHD4CcM4UA4CIGQOgW4nhHjJ1+LxAEzBAwzgyFQxB-Mvg-CvICEEJpAYEn6OYbU2jfAAC5PTJldAYiwuiW60GSGQRQNkFw8T4m1ciCYkzdVdBUBRBhzHmGMd+Q4+EAIKSsp9ckPjQC6OkbgImKEgnoRCRdPuoAvHhL8W8byelgkkTMUDcwkS-gyV0hZLJh9EIpNyaANJExUpngbFoip+S3qnmnHUpJ5TclVNBq9aJBMH6hMhOExp0Sungx6adPpiTz7tKBlU4a99oY5Nybo0elAcJ6DmdVbqdUPHhIqTSOZK8dl7OORYaZHIqlWy1vUpZySCmXKVqCQWWdfZ2yYL-ckniGCKNSZ6GeiygZDOXi3CeZSvneIqVUpa1yAW3LelCtpYKfl72UFMbJ0KOS6MmONKJsiXQ4XmY-DxySwVlF2RydGnV-L1XIUSrx4KOnJJICcLUSTegAFUGDJHAVIcQMYmDyASqAAAtEK2F-w-YHWIROFF40YgVHIWLYQfBQB6ERMlYQCQwYZGsGsmIGw7ysxPDKxGORNUiG1aszyeg5UTigYnCwERkm4A+C8ZVqrHqnEULYKUurGD6qohYPCfgDgUGIBwHFftrV30OXq0lJzjknWYAwemXzuhiADmS+NFh8WbNqiweqsbM1ZttT-ONxbjn4oUWmlpAY9VFhpCtN421-JjBKqG+lezdHNpkSEMQSaAwpXbZm4xjBAJe0kDoHw5hHWfBdQG8wLBmVRoYL2DlXLaA8t2FFdOih8DCtFVirCDrDxSopd8KljCkoHE+Yog1ndwGQOgZDHWPjdHclwD44xmpGHqLkRgrBUDL2oJvQYMt8az2OOvPVCOj76rPtA8SxRjcopRKJs9bpBL+kgYNY2605AXQRrkfjU6JrJS0rBR2mFhGXTEeSjE8j3y9nGOo3oWjhNeIy0hCBuhwpUP3OzthgNSqVWIlTunTO1sG53sNaAUdmNhATqndOp1LrhPuulJWSOu1o6tIhDrZhQNVIsf-Vpv2ldMQ6zKF4pToAZ3Or3fOwNATdjey0xCSDe6OBkuM65l5OnOOWes+YtTi01Qeetb57UHn-VktUiZna7n-I2d8HZudsWPR8aeZJotUFy7aaHO8wggWwXJePSlk9FV-SuMoIwZpZHky4PXso99egGuUd8G+gu5iv1dB6L0AAVLVmpE7+smwg0NgcE765tc2AASF8BVqKBx1CzHoHEriMxCvMJC28fje5pPmCDWbBw-G-MFddKV-+EsxMZz26HMlnWeRkuMdUGcxoVsJjIOtgyxN4sV3PA3MD5bTYfbW-JeJJF6orL2zl4HuXTOvKKw3etDqVMOfMbhtiBEIelMLA9oauUsffYSaRdqFENjPc9Bk4pOP+ntZuZpan4ONv1DIguPcRbjHvps1ESKUiCl-NBbegNQaV4OCXoc+e1Ig3At4kcDgy3mSfeJ5DvQK8Dy+CDRNqckp5cE59p1bXtYyOy+dRrmTLGV5A4TQlJNKaMjVoDqb69snHTDd1yB5D-O4VqnkWCnDHoVndqcTlljx1xkLJNNbuHdKePjlQ808zUz-ci+c-5BwLHE-nnC1HxD5vzDNPsfGFtWfZxs8ZES-y3H0weiS4t730Sme+Vx8n4X1JC-l8bz25YslMm060J3o5HIWNN5KfUFtuevHR4XSV4sTsTKoaJ8zn7fu2++A72T8LS-m+s7J0PmkLHt9j60BPwsIHp954FDwzyfCBHnGEVcMRaBOaSN3qKfDegErMNUoKs0HBCD4Zx6JApA6pWq5pED5oVBW554B5Ty5QgyereqWo0xDCw7gF1RQG0BjTV6gJv42AJBeqjrIHHjWrf55zqRsLWq9h0AEFIE4Q3zPA5qgR5qYKkGwFoxVbkxUFeBoLjj4oxpkFwE+xcF8AVBUwLx8F3xVonA1psEBp6ycEcyiGgDcxAHNQgEYwPhb59rniCEcGyhbRhb+Qmw-j9q8ESzB7XjLB8R6GthZRSyM49q9iWHKzmHiweZEz9rWHXi2H4KAJLD+QRSv7PCKwtzVjAg-CpoyEBxeLsHtDPhBa4GMG+b8LuKxHyHBw5iJFSqhG0AfDLyyo1Q9QwHGALZNbtDfqpHOg4FYBBqWjWA3aREO7RHngODc7BHCgrJVEphk4u5Uq+EdC9bOILh9E9pEImTdFF7OrWpFFNBlEybbjdFuGTEXpLEmDzFXYWi7hLFqGJpvZNGO4A6d6jHOpQGVgNEp415TwzhAiWjDGMg5x-5DQ3F3F-AvqdqDGjBdFFH3GnGmRy4IZ5DnFNH04EjGIEDAh3HHFGAAA8zxkJ8o1h7xxykSTKtAfWAAKgyOoQwNGCWiiPbKbLYjUJKMYr0KAB4LDgSMSApkCEqqvL0UYB4CbOSZSXDnogAbSfSUiRTicsxmiZidiXwNIPiQVkSSisIKSUGBSaAFSb4DScCNydCTKSyTKXKRYAqXSXwONG8UEaegyDYnYp3jnmToJtSAvl8tKAyK1OkeYiZIrk-L0RULqQdgSLhi1tCeqZEpaVYq1Oqb4LkeEUCAcS0Q2HSuqcYp3uwOaNuJ6eyRElmDmLqf6ZUiDsyPXNCfMLuLqfngSFEEDGpgotGf-laI0dIemroa6QGQKb8augwPSKOhIN1EehyKlujsckGt0Q4PFt0YwrPscqpA6TMd1FMQWrMRfsWisWMcOc6CjjSPmWVhbj6daX2YomoRvi4hPqaf8bgGab4BaRkFabAquQZtmktitr8ScY1nsu6XXHGVmt6Yeb6XoP6YGbSSGRWWGRRrDpGWTsWYmcaIyXKboh8BeNuG8c6bxKCUxmmSyOJIyVma+DmZdrZrKQWW6kWU8fUT8AQeJuWTWqeQfjWZ3nWQ2cmk2c6PuhOMNvtLmSlmjlWU5r+MQF2RwD2T8UFgOR6EOZMccTOesBOVmlOXxGOd1HOXmdSAuZsQokeTabPiWNfjTLfqcPfpcKIjcBgB0XzOqmasIBar6gwEonYZLH9LlDar0DpVqq4RIeIJZeatYBqioP5tknqtXK-P4cunqUGnZXpaAUpQ4JpAYvrOuCbBYOuCcqBkFfAZuKFeYJuBFdPvrJqLFZ8awMcpFeSvAV2ClV2AlVFQYQ6AXCbIVTyBUhlfsvAc9AcCoPINGCbFVTVXibkuVQSPrIuuibFe1WlWVYlfAUkJaBMHkAcEMP1fKINUcEDC1b4PrG4ClRYJ-hUNGKaAAHygCCoeBNVTUWD6xCpzXmALWgBLXsCrWCqiqbW9UGGjYVA0gHVHVsAnWgD9aHXmBbXmD6zAB7UqoJSLUrVrWgBgDnX5UBi9AACkn1t1v1gqINz1oAr1+uwNf+c1ENx1f1TxS1F1wNAAhGaEjd9YdZDaANjRwOjUDX0DCeDXjXdQ9XCeYCTZlQYTCWwHtcjfdX9YzbTXDfrMtRTT9SjYKqtRzRjX0MtUzddb4CzQ9SLYLaTb0JjZ9X9b4KzeYJjRYF-gYgeN5aalZcQdZMcewOYi1HoOuMMFrfZTrfEInJrRqtrfirQHkAAFZARFb61AyG0xAo1JWm2+Umx9R1pw0Eg+X6U34Hi1HOaB29rMX-h66aT6xybjqSgmxx0KaSj+3xnTXwGQAMDjovR1XXWZ3Z3pyp1p1vV9UaBjWwCQCxWjWUAV1F3F36zV0ACiKVTdddad+sAAcvIB3Z9V3R3dBcXbDbwFbbpRakvnrWwAbUoNaijYsQhuHTEoEpbWHV7WPQEuxFSi7RyG7bPZvEsHwBsCbdbWbUTonFKliiasfb5ebeBDat-NLAMRfQpjVsmiwLgNGO+fbfIFkMtjkGnC+cWgvY5QQEOC5X6oJTSPfV2OGASPXoNKBbYh+bIQMXscmkgxmlmq9smnoAvfiscRUCmR0KvRHbEqOW3RYFg-oLg3fHbY7UIC7oQwvUvv0RA74NhWWVEZ+ZCAKHUVaECC3ECT0pwzWidv4HYvhQHCHYpceMpYIhcCItcJgFpbTEwMREIJQArGCPUEkCQO3NTgMYVaiOiH1Po7yRigBfXM+KY0yUGJQKyabJyYqdqUbXvT3kUvuN1hY1YysOZEEXDKcEkPzJsswMjCSD-I-dQNQCiBQJGqCPKpE79UcB4HoPIJE-+b0OSbohk6maqR4Kk9QOQ7khk3PI4+EzZUQ0QOnBiGE-KnarU8GcVIQIXSYLNlcZmJqSqX0DKTQYEx8ME2RobffY0+nPU-piqQYL0OU8MxnK4AkCk1AgY0gksN-NBVk++r0J44iJpCs6AHqOEupi1s+Cs0YLiF47uMc4TeaAMGGOYroi4zmDs08dc7sroqYWoxeJo9ZDo+3Cs7ssYuppfNkjs3sycg6O4pWhHoSscwPXkkGF0x4NM9aCwHM9uDStC2qScuSfY8aZ1KYhC1DFCwszY5mlizKYi7M-cx5Wi0S-qm4CSxM38xU00+NL0NlfUybZUzM8i2YzSFUt+r8zCtM30MlRUJpKiws4hcs0Sxy8y0iyQAkNBRcqU-M0CKs0GAAOT2PfwqmaueOanckrNTOwjiYKwkDjSmtHUZE1z5zILOhGM9DbgWuFPHL6zMg6AskdW9jgLDi9j9gsA+tBjBBhg8s6JMtVOOvXhmsIbPhOsyviazOKthvjQRssDo1bGvixtJsaORtLVqFf0-3UB-0Xj+QmqtwPxAaLMTASlXzgRMK3Pw19CAuYQVD4sfS1tJTOuG35uViFvCBpweHJRltVijMVshtGImJpEdv1v6yDBzyb64uTuKBjsWDMZJRqEWtzj8oJSltKxVgVsGo7ZVs1A1sshMKnmdl3xRleZAw4tuLOjLrHiYbttLt0WgCa1DsfBSjkIOCG0bt8oLDbuDu7su40pnulZxaXt-lPPJX1vfrbhAcPy+gKq9SuMIdVhId2oeMzJbo0xTHpPZWwcnDAcYc-yeN4NQdXPdu-19vFs9obOCtDHkfkSsMWBdvf09tFsDtEcPwjtnuJuVGQfMdEMfskf2qo6zp7qHumJnvSYKEGGzumzzt3sEYdu5ltmycZZruSVwPPA7oqdLtxESzfp1swrbgmfnKMpLocJBhrrcriC9LQwWjRi7oMGsQ6FvL7tWvKLGdTswoJG+cWddVAZ1nrqboOePxvvudFaSomR+skDWSEAQJogTA6CAT6BMKGdOe7r7tPNxfDjlNGhfvofxf1CHIZdecAKsZRdwaqdX5gCwIsDcQLBrDDBfYTjkUSiEBYA8J37UDyhKCuAqEqofCDSczP7P7eLn1Vitx6CpDRgVCtB0AkA6DXmbElVLCLfokrcwsJlJ0TqMtPK8Szf4DzcWPbibfLf6Y7ewvndARbfIkwX9gzdzeSutpLfbde6DQrLNeFDMIy6txvQ-eeYNsDZA+ja5kVQGm2LHcZyeAVBzeUBUyulHZkB5BA8OBPfUAw+UBw-ptLCm5ehrDiW+BqYhpo-mT-l7cp2MWbFU+TrmLqeOY0hBoXc6AY-TdY8I93Cvdk9A-E8chqas+U+v3x2NA09ukeh08oX0USfi-lHiDPis+vvzkM-af7kLS-j+vY+49c+QU2HI-Oa88U8cCY-a+vcE98-K+urDeo-o9PF0+EXUlEBeivgW-mQsdAzfqaQI+4-fq687k+HOt7LPhu9E-8-Kay9M8Egs93fLfs8HDPcneI88+2++NW8k9upC-28i-J1i+ObzYcigUu+8ip8tdYAF-xnfp+9J-c8B8CWENAziSl8EDuQV+oWR+w5F+K+x86B68+HS+Lkq-lbq-JwNUaB9d6AKuumqRnBPNWKGn0fxqWJQ+KA5bGKz9XMKYfDxeL8PkvCa-xdUn8lLoJAhd2egANck5UVA8tnTptPtBj+EB9c8POaX9NfG-qHqxA+GDD3OadcOBv8Eu5kPoPP1sRYRvKbXDgIAPqDf9egW-f1lhClQrI8gCmZ6KSGpx991gmXb9BgLr5uEUByad8tTjVyoDaSAxbcAQLQGqtymlAogd3loHAgBiz4BgdQM-jPAWB2gWYL2VwFrEKuJ4Dnm43d7HAxK5TVBvoFwFV5hBs5bAUMWQGkD0BPjFrngJbazE1CW-QJLkDkTWduiFQRgGRSlDFBKA-XZNAQBIDMJ-GigbFB21dKHsGEMnKPprmcwsDxc8g4Ms-V7LaDVB6WJqM4Oz5jpc+sOXRHoKQKGDjBOgUwcFykHrAfykXSwSQMIEREW0LA8Pu33szW91MPnF9uL1Ujfo6AcQszqpwqB5Dxo-nF9lb0Z7eDMwkMFClJVsz39aYcQphGoWJDZgEgR7fYoBBAjRgyMBwXHp0Nqq+gDgSPPgSYjvI4x62-Q7oVKCGGGBPGcHEODjA94qpEmABVoe0LQaTCehqwp0MX1BCLCG+7JTYdMKphuEFMrgJkBaiOF7CKgRw94MMPqGjDkEvQtVrcJmH8chisZfYVmkMAo0zhb9bMJcM+ADD9Arwu4IYCWEVIfhrNFoTsPEg4w9S9pbYW0L4AgRwQ09G1Kt07goiNASaHaK0CdDVM1hbtRgHPD8ZRRsRTTGcHiNaGEinQlbD0kiLVbvpNmYQC4cUi6FkYyUsZRkawyhGrUKRuImEXMyFG7ChRICZRskltz7ElUMSf0ADlwFxRCAKgsSgalFyuCXBCQtwVwJ+I8CvB8vUAL4PNB0962YgwQUoMVHKjZycwnESwFmD9UJ+HApIa4IQwWiohn3Z4J0EpGBBKA9oxEp6JuEaBLRWAkYaxSuZ8BFgCdNCuY16Dhj8wCdTxodyWD+jQAioowPWy7LmBNm6SbIDgw0BpiqMUotBjKOQhyiGwyY10UsSzGIwhinoowHqE9DfpUxsHG0d6N9H1xaxEIxvruFTGdiOQno1wHaPH6Il4OeY3seyW3A9iDh8aJYomxjERj3WzQ2kgQES6kQkRn+AYt+jxp8iJABcd0axEVBtwJgswPLkpBPFiAKgG7ZMRu14HS5nMvojGCGiZgOB+xton0UOL0CXjAx1FbfjMAIaD0s014vUTJnvGDonxTzWMQQHdb1tmR2HIMsuIHxriQJbaJmHuPHBkB8iqAk6LmMCj6iiQyrEce7DUKddqRBIubjrxO73DHBzFU2A4E64w9yJ0YcQg8PlxGic+E6BMu+lTIHA1Br9bdgj0TDYS-uzmObg4AIm5lcMDCObkYCyaDBUyc3AUMuNAAYkAAEo3UoAABBcAOAEboAAlDEpAAADyHdZABwHaJSphST-MameOJgvjAgQYgYuhIcq8TsJA4tVsRMwkJQkOxXTbC5NtGJtiJvEaJNZO4lsDhQAUnkNUh-EW0fhIwlSWpM0naS9Jhk4yeU3cm8SvJUUw4L5MCADFiJQo1VLxMoD8SsYtkwyr628nxAhUQomLuSNQGRT-W0U0qfZMy4iiKRhtItIqJRDHUqSfXICMkCPH1SSu4ETqaf0GJeiV0boj3hZL66DSfJTUt0ahPECARd0yaN4M+0gq95iiN4kfoNFWHWApAvEduMGOCxupEQdgmLMckLJCwjuuA9YI70MwegAC14AfhHzSEOCOQouDUVQM4GrIOK9kl6RLx8HC9-B+3dkronDH2Z-SxiPaZQAOm4B24jo+gSkPKyzYKhXFa1sZ3zF78YZcM9uGZ31SnMcZh0+uHdJiEQyPgNQtXjJiJnwyK2uxQsVKBlFepUoawM0eUB3LNTU81E3wQaNcE-TuBig9mTsWpBqZnBRNV3CDOp5R9VIjAekm+MsnxDvpTozUQhinEWA-g-0qMa9NUynTsxPQP4P6jTo7B+sJs8xGqM1FfT3y7gnUbxH+kY4PQYs1iZLJ0D45ZZ2peWRPwwFqzEZTiZIaSlmwBzzAlY45KuztxsziiGst0TzgYpqZlpb2NaSyEjm6ixKcxY2abIelNQ5xcYhcZJQYrSzNOYciQbbKjnac+cg0N2RnDbGKBfetfbaTJlDEcAs5kE3fqGybnxjsOiYnBjXLVbdEqxDCauVjJpCRIGZ2gb4MzOrCszq5wwWubMT7k5jFASPE0SPKZl5EJ5hQBecMFx5rF-qYAE2f1irFV8cYuzfUGqhrFUx62Fcj2YiWfADyxxFgG+VTDvnmBL5bY+Dl8P-FAx4Oj8tWUDBnGeM25OcsudJGCAYgzMlZEYawmligLEczhKwK53HA-hgI6EpSMEHIGuNUFbhcYIclQWZd1uljXcBgrVautcAB06MO-mvA3NsOfURXlYHFHn1jU8UEBcEAvE5tqx40lham1+kqiuZYIN9kyFmDBAHArQZMIUnMhvAFMYwWhTZi1wMA5ZoEsNFrIqQvz3xn49hVOMQX-BCUwEbMAItoVPzfAgEkQQ8MvnyL0mEE9ueYxgmBdf01gC1pIqoCHJtFSuVBRCLglEAEJ+IuZiYuQmEST0ikuKZQB0lsoAAMo3RMk7ieQvAcyUQBmnBB6o80uubTwwnOTSpbk53h5N9BxLsphlTxuFOiRZK3CeS2QFYHqgDEAlQS0JeAFSnpL0pUoLJakpalIj1h+gItHlLXEeSipSfASakv0UWAtoVgKqUiLDAe82lnivoAp36UEBBlni4NuuWNT1KWxE0xJZ3Famoj2p8aQRazSpIX1GFVgexcUQSXjki000sagsvYULTFxBBKgHYtUUDigxJEqfiMNWUaB1lHIViqtTJQijKG8kDkS0snJ1TgpH41hYcrEoQjtxF9LJbcttH2T-avFRkbsRsXZtU2QK1NvcrFGqjnMAsd2hwDol6cUVUbXsNRiRVmtb+ncLFYwGBnyZQZ5jasFctsU5t8Vp3OFZ4sTbkqWQphGOJm2ZWtDFpnoDycANrG4Lds+ExyLWJObYgqcOYsSbyrBDokqgFUrQM-Q8kpMFVhlA9rrM4GAQEowA6yRdI+nCSTuDgDpcVJVWZTDKKFINFEyZTZ5rJDyresDlGU0iXuF8VVdMtaGkrfAigL7DD3Klmq3VToVAscn5aqqKg24q1cIrISqqHl4lNGceiSJRhEurQYpVQCVXOScFPC4gKVIcAaLkF4EVBTZkPb8rJ5iyvVczwNV4kOAxqrpSVJLUWrnM4a7POMCFH2ry0jq0iSd1gVTLqpVvL1QGGdWTL8A-qhIIGr2TfpmFywlGg2tnBNrGRanPOaXIlGFdk11gdErNNPGqrK2IC3VYoo6wThUuy601Q1LECJsl11kw9UNPNWhTxwp61VeepmDMJZVSa21amq1V3r4guZINIyCK5mq9cAShKbpP0lGSql1IP9VpIA3JTwlwas1aGt+pfq11hwcSR6F6DWJJmV6k8PuqYW0KDUj66wOMBfVYT81t46iXBriUOBylISsJTZnI2VLnxQxcdduJI0lLENmclDWoLeCNEfw9tK1PBiFU2slg8GcpvFk41PAgMmI1SAUNQTlMYMwmssDV1QSZdSh4xEuDhTTgZwqqXGmmKJvpF1wBNaGlzJggAivANNQgLTZlwk1Kbk4MGdTU8Dk1ibHpu4XTfGvHCSAgQfsKUHYp40jDzNvKzjbQAkUyb6GaKxkbxo41iBjNh8ALUVh7lFEHlnjXzRIuk1habNVXBgOFssxykiVdioTUlrLApa0tkVNvvGW5V0ieYvaxtsmhZKZac2JhMLX5svVSp1NdWvQNZtk1BaWVIW3CmpqM1WoWt9DJkV1mw5-CSAbIn5cCIAYnIqtyK+LL1oDAzbLMUQ6Nf7Juq-VGtCW0hBxG62ybmtm2vrUtrhzFaFWkkMrchpICVbEVFreqkZrq0h0TILmyNOQja08rGlni1ZGsunrHKii3UwrSTyWY-oZEfsYleNDu0hNAdKrdLR-OpJLj3Fq4sZTOO8TfaLEpsKHSuIeX8V4d82LnAXD237kYtYorYMdu9Znb-tzAQHSbGB3rAolC+TyVEy0HWCRhLGazthX4Z20IYwjIcLyqo69t+2JeOpgtvRWQRByTStqe9r2TvLdkJ0ICF9hdDqD-wmgl0CmXFbhMgxT8ooC2xWoN8guGQP8RDps6cpz+no-4qwBFTSk6WAcwrb0E52cdjCWHBpEjuBDwSYdNI4ORCgiW7ldkB2o7d6ot3sdqO3OujoSvO3VaKglumjtFiiVBokg27Bql0IcAABOXgCZGj21VUdmIxPa8EaoPLtArgDEBUDVVR8pOd5d2K6XU5qZxATxTgPdIsBJ7xo6rdVr2DQAN6PV4nN6WSmr2UsMQyMqvenq6GZ6Xo6IEUa5AQziBRUOMSmcPy73VUe9IovvVqAqCR6Ntk+2qryt4ikLyF0u2sHKse10jMuB2-HV7pX21U19RO8VCTou3yoSFh+vDP3wlFoc3gdihTL2udIsB6Q1YZphmtAACwHAf7aMFux3bltqoHwAqb2pVLcBZlIst1NqhIAv6c6lzRudWAhLDhHebe3oCKlFS36P9ObffsAf3S7UYG5iNvYixuWbBUhc6WoWpltWJdl4VQVLmRgFilqCQS68YKurPU3qzVy8LAuaxSFqZID0B9OLAaDDwHzwYYcXsgdQPG7rJe6tLjgdQMjgSDDmWobGppCiGxDoqC1sGlDRHAVDIqJveYGr2o7PlTS15dOM+33V-ShBhlQcJl1MA5dH45XSqi127BfqSGCEZNrNa2G7d-DaHajvfT7g1OOndBL5mZAHApA6IB-V9iEnUTP9HAb-b-tv25jME0uhgMAeZKgHxKnZIonrlcPms54yOjxTSJ8PMbmsdcbog91bngJ1Clk2kimI0DyANms2L9Mawzj37I61hyNALBQ45gSjCGVXY4ZRpIY1CwikctTnEUsh01RG3heMCbb1BdAbRaQMuqPaoprIugH-uaW3StB9pxM8rvbOtZ2DrB+OFZOkFEWszrOkx6ttxF0DXc+WQxczrbu-Q0y8ZjkM9mOPuMkzVOlxyUYoB5wPCXjhGksLftB3qs8uegCHQAB0sAW65QPsUoN8B0Sczd9ItR+r6os0deoMDwbyLWUsA-xuxYCe8nAmP5YJiEytKlDQnYTuY0YGQGdIIZTu36Ck6AAABeh9cwGCYYOQm0GJJ+Vj0dO4MmkT5aFE9pGf3omsIBfaIIEd-AhGeggJ1k8SYgQwmOTlNUVvAVqP9wWS1AFku6w2DqsDwOwLEwyslNEnrQMp0k-KZB5KmgweQFU2qeDZ8mRwQAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJFplCImIIrvI8EIkhbMC0JvNRj8wlJESUEww4iOEGNaUYu0bis5TKAfQbiqIfgIySSk3p4TpEDJXsbbgxkiioK2dQHZC49lzOcJM9JKgtmzIYEklOp9JGUMDgwQIMhkF4lqXg159yGCUkOYGX5-zkGkn4VMt4-swWdGiSbChCZoWVGQToWmXShZtFrI4fOXyll9OOUvORZyUHGHaPvZQxAnn80JjSwl9K3ZhE-j8iu4IWV0oZdwYOYR4XPN5US0ZVBiCbwKQXWI3ye5tNWf3YFHkqikA+OK8Z+9UUcvRVta+grlXmCCTOD4EqpXsqEtdVxxshXmI2akSVmhcSirZQazlRy0gZDobauuzyvHrBNWMyVWqLXusDM7L1N9rUywmOsv1FsuReFCdMnOpcKWDKpeCdgHgvCMs4oTbNygk2LMcUXJBWbE3ggFf3YV-NC1eCavgJpyanFRsVXfONXtUgaEICCbkqJIWpoQem05MSUE9r7VAvNKrH6zOSfMkJJaU1UOcdGv+tbOI-TENKklpbKEmI6YalwDkR6kG3foIgOq5XhsVpGy9R7-oHnVVui9hAr2kvlSMe9G6PLGtPee+9YaXA3m-dDDx5hBE-X0Hs7uN7w4nLBHsqyxQcHgZcBUEgIhUghKQ2NVG5MaY4yHpQQIjVHKdCTf1FcA5IObgfDjFYA4CWdFJn9ejUFYzXVILWJiWZnzRgua8egVIWCMmegwV6kNoPU1yUBNCQVRPiSDOqWogn5L-U6MYNTKl2SkYYORtgSbxPvxYI+ZiWBoIURfBcue7yNzQfCNp-SuniBkYo1fEY9GdYubc4ZttWQHxOeaDITTxBeM5nJIFIuJHXP6fczBztnEEZI39kKd5+Bn5-FY2jToMm87rUbM9MTxMXqMCk4ovLgMmIDiKwAQjAsGcc604yUIcEKXENw+KqHOqtOxtYet7XOXpP0p5KuMVAJF-jAthT6Fo99NgkxIjDcKHgSEa2VyFZK8Vi6pW3q5Pm2NuTwki51YaypuosZShtZkB10K3WKtOedMZs6z0qYWegqhGmFzTKI33oMCrFNDsBSmwODDf3sPQNG3hqxh3nigFW+tlYQVwQhb2LUcEwPIzWaR0XZLf3svkyhzTAKYG8DZyZnIFmUA4CIGQOgbmeIAEeXFjWCVyD96VktVI-FIsxYSxoEbDWylSjUmNspZozs85d2F8CK20kSFlPYUfFubdc6d1jtwDnUwVgS9SEw5RUDpfOlKCzhc+ubGG-kVr8Xw8NEG4HbHGXpvTr4esVolR7O6Cc5t4LXem8jeKhN6eEez8N4hqt177XJlh6Ipuc4XZASHmLv7k74PsfblzoORH73zpdcB0yQk+586Fkp+N6AQm2ctwF+yZAz6Wg1Vd3wstoo9S-GNOaRrx7ipre5+Hi64lQuy-O-70YAlfKNXBqnjujWmvI8+4TTmgPKwg8-HrZ7nPio889Md0P4P2+qU9838PCd1B+0l8H4HwQhBe3NNNx0LQ+hs6Z4XdAjXLRI9N7Qr81X6MClbun7LLPpzlHjpmZMEMgjZHZA5M5NSL4FPOQPDF5D5HfhKqhjvNfmwM0siNwP-kJDRqkIEtQAoHHpWI1JXsiIthxsuhOriIQcQTQKQW9I-I-g4DgWerajmCDjNpsgoIQPgOUEwekiwXQJQYaO+MkhkMVCgQ-k-u3sIW9s3kUHjiIGLF7gePQP7l3n6E-jknnPXgUhQZ-ooYUP-kYcYXmLOhzuoa-GCBQWZnuh6iMu-EEpISAcvimn1o1G8EjGCC4WwLLIJs0GOBqGGFZgJg0GAZuNgSgrZPZE5C4MRr4CQEgVfjfjVBFoPFMt-qLL-tBgEoYEAc1kFCev-nkW+m4bEKUC7GwHJM0FhNIV9Kqs+memUWEIUWYc6NkZ4QUn+qUXsm0e-sAYlszmntchnkXlngfpHpHNziRv1g0foIim8h8o3oMZMMZCvmeGzksWChCm-ofkfgsTsYniPP4asVrsMXDMHiPoKoUTjPgWLLwZQM6mPkShas1h+oGMEaGJNljv8A8RAuqqapqlPO8QxtMEFAsU0YGmauHjalTBcb8ZRFQTEI2NCaMjLJ4YyBclCU+jCSCdqgiZHuFjEA8U4WdOicHJ4aIZxkXJScbJ4SSaAGEeCcdpQsPq8Wyk5n+sCZPpQAAW0YiVmJFmBkPF0Q4LvLUPoB3MkrBjnNUdKXnEsO4dUSuHUfZlCBKaHhqHCNwOKdXNqVKTeDKRMAiGRBNpkSKtyIwPwQQu7lAgAetA8TcUqqyS8u8AIIKoyP3hPuarHEybZo6s8firSm8QahclUV6t9qkfjoYNaa3PwJokQqiAYXib6XCTGheFoTEHGUIAmXacmYzAJLcI1CPtmfJskviXyQKffEdsyVNiicupsh6SAkmdoq-qXn6ApBXObvabFKUtbKYtGbRlYm2R7jvquN2TuHbhbv2crnQusVeM0NUSTpafzM7mvtngVsJgIO3mJomo2s2v6eSI2N2HqN6fGbaWOQ6ctE2r4HWY2FqfMuPLUEzECPqZKYMGeRwZ8S4Ase3h0d3r9ioVYfIDYbeNyHqNwE+S-K+YUbilMs7vvmOlrjMZQoTOSfYtpgsSMhMS-o3uWbEFrghc8s7n7hmSHGsTjI2OjIyAseRW-GdPscSeSLvAri3O-AxSavOasejIUUxEFOjJcX+cHjOX2efpRahVBGxQOQuO-GJYWTojxZ3isAsQpe2Z4ecR-iuIiTqDEGhi0KMS2egrORJXcdJdqexXJWdL2YpYwLJQRapfzl9LZRpewv3O0TpSxRFGTo-BTvIEoNTuzHTlzJYEzhBiXNxl9PDHKaAIgUpnMWFqKVMhXswboXXvktwABVRYXFyjuFcrwfwSodnFWk5ulXkmqllXefxXavGuCooHwQIeQbFf0iOrYVZLkIVU1Y-NOuYDobXhVQYbFZigCjINwECj+n1bOnITIMNaCH8limNaAHCrVfzE-qBRoSGrNWhRivNTCktTisJeXiWQtfLJpd4VqnNflZhbWFWu6T4Q+oLDdV9OjC1eSrIhXHxSgs9b1S4M9fVVPCGq9TtXqislkK9SReuY4F8PMm1KoZWNYf7lJeSFanaLpQZeiVJsjS1p+oMOjUPHSjDY1CwFgbkuZYUCjUXFhJDDVecI2JQGHEGbiBtTYYyCueFaJCdVJrJQURTLWO+r+TwPZjzb1PzQ+pDFZQYbJktrKjjaDYMMTqtZxBLbkYRhEBTXLcBpfIrWuUlsBUimoWBf7iLRTLzSwOsI1NjYLRwG1AzUYPORykpjbWIHbaeMqWXgTFzftibW7VTKAObcYPDRUasMCPvC7d1jzeEAADyh2233aabB1FAm6kDmQQgAAqVsx1dAvgggZ6vAUqTYGB1AtQzQ4IoAAA1BNooQbHNO1vbaQhypXXdWXZXeWTXW1HXb7YnSHZEenZnTIMQI5LnWIPnVqkzDSEXSXSghXVXc3u3WIHXZHTPc3TPW3SRrXTdvNrGslc8nlFZZpbJeZeSATV7gHFbNiFbQ0EPLma-g7b1ALc6LZgqZHVoSbqfeiNiIRe-uAhlidCzUjZHt3UfrJWnNtC-YobMNfL7eWc0Dff5vXcfAMTeF3UySxIKDNhzmnAzZbU8czYbZtVPB8RESneAYfTEXQJbOUKADKekdqA2RcmibkoyJjftkKX6EFHAxLTzY-rJoBQRCrQxFLflnWYUGxJTeye-efdBt5RzUyC-PvUrqQr1EfUiIhZI0QNI5zm6dfdaQg9bLzb7W6ZrcPM-Q7UA0nYMWfRo9mYTb-XDf-SGsRUFrAaQqA-qmY13qUPBNtG7b1OYzpnA0RGYzaHaCgyuDqNRhg17lg4zbg-DYjZdUY0RSQ5uGQ5AZQyINQ3nCkVxbQ0+H8Uk6iTuZjNk0CCw1Lmw4-UXJw7kpLTw-lnw2hAI31EI4DCIxFqI+IwmBzlYxfTI3TOTszIFWzLTpzNzNgAZdHF1PQdQIweQQ4FzmSvBm1cIVZHQSQQyg+uswwY1EQb2nyYbhQUBiuvA3YR7IVNMxs4IQWG+cCBXOmOWnMHdbEHMKuAoQ0OWhyM8zEByG8x0eWhhN80LQeH8w89yoHEC4HKC9MOWhGpkHdXC2wM6O8y3tytxIYL2uQL4Hdei5iznYqCi4UOWpEd85EbGIS7EOWp1qoCPCwIYFWtS7S0zCsBSzEOWuXUC7EPoPDNwPeYCAAHxxUz34ust3P5WeScsxDcu8vhAAiCuIE+Qiv-Pcq6nTDSugB8tytCuQgasxCivlrACSsGA8sauyvyvw66ugD6vcoACkRr6rmr5rNrlr1r+V4knLDrZrQrSm95yr+V9WAIHrJrjrQrAbprfrYI4IUd9rwbXriBMdMQvrYL+VUdgb3ARQnrArQrqbibrrkb-LMbMrWbiBgrubEbEI-LabDQmbWrJbQI4bybkbtWRrQrhQWrMQtWsQMV6YBUxT2zszZBs6PNgIK4xSHmwg3A-bczflvbHpPAlzOz1zsU+ALAAAViYPySOysGO8iFmwCwuwO3dSYnYaK0UFO4O+krapFH2we4wfgrc0guWt8cIHdc+6e+YWy9ypAHQN6Dcti+m9+7+88e+x+1S1QDS7AJAN84y5ByB+YWBwzQwAAKJAuMtIdwfGHloABy5AWHRrOHWH-jy2s7VI57ANpqB8w7AIo7Ggj+Wb20s1k7t7XhO5ICtqFzRBVzTCv+W70wO79HCqWQs1ftZH97aYBlNB7yzHS74i0RW6USsVknr0aopAmBJ0q75A1YcZXUmg+gZV0nezHAm8hzCzjTDQ8ngcCIRQO9-M04WI8TRtIasVyhBtCNjnoJ2mPa+OZHT+JthFonrHlHwTnn1+3n0nT+K767pgvN-n0n3HgjGHsQ2DjxTqDnBD7sYG9NYcYgXw5tdy+DrNQIdnhAaX4F4nvll7QzrMNOHMmAGAsj3hFApgDAtKHw5UNwpASaiib1nqysqsJi3Xi56mB6l8g34QTdDALdouhsC9m9A3liJEwdzQ83ruDCCKigNw+KuhWgnyM3D91Bygyg+dGQbORgOBh3XrTMld+g5Ah3ac4IZdpQD3oApdVkM9t3ygiXioD31ae3Wz8QzxasM3bB26IPUnkgwHkQ0EXTgY89y9EIM9nVm3xg23UpY78nSSlAzxIPEwy91gGOStHkmPwZ9eCgN3Z6PXCpW6wdT31Ruk0eXiFc1PoACcyks2t6rsN41P4Q3mJi3PoAYb4IKGNPBg20zPSmQv9Pl+jXt3M4rXsUHXSa1PxkzQ7PI8RdZ+ISzPrPq4kunc61iexeWvFPQ3l+4ICPldxPuIpP475P563P43s9foZdU3sl5SaujRlhhvBy-Prdq4LvM9VvTAZAZPfP7BdvtZFdgm8IUvOu87EPzSkkoId1W6THCfwfpAgkS3w8WEyv7hVvEIgLepFcYvFPITWQ3PafWP1vIf2f+s69JMef6m4IAA5FN1usvW32qdNxvc0tT5NS4EH7SqQM0sP3y7lR6gqZ9H15uNtGP197GOWkIC+1ZMEM3Q5DpGvG4MWM3dxhwPCKbxYwX3P7WCP37TePP1XyT7X938f9fJf3+PoA-0P6f-eUdRp1p8oDpzOOjFJx4POmUR64n5Ne0CGDCuCnKRtgBU6amF732T4UYMZnQoGOw-7rAv+1ATQJ4T-70o3AOPQAYfxDp68voYA9wuWhQwCp5y7vGUngO757IjqY-Q+PAXhhYCABMGe4twW7Qa9DcMGD4miSHbzlsScECgarioEG84B4ibgeFgub-9t+-sf-PFFo70DG4jA5gTgOHoFIJBhoIKL534ES9AW4A4FrP2viBJpBxgWQewT9omJjB2A0wf+lNLd9tBrjCXhC30FWD50S8f-PYL4GOD1IKA7TugJ-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-EH8t2VFMylOzCp+WaisU3AT9BGAbsxkI3LzjNy-grc6BK-KYiPk6A7WNqRVKBCCZrst2MydFOMkoTDJDYegGAvwr0K8yr8yRdMGoVVYS5wi-helHUi0SWJKpWqV0OcotdX+7c4RHITkWMKO5uk+qe5KanLi1FyUl2ZIFekfSGA-06yAABkkO4M6hl6l9lDw7ZMMt2Y7PEXWznZ5wlGZzJ6mSz9BWMvaUvACX8yiZcfKmQuDiUPoklg85JO6LTEMznFbijxezJnDYzYlQcwJVbJELnCuxXnZGGpiFnXjsZYs8sIdMlmKKGgQCjgLLI3HwgQxNS5qWXO+pBz2l94g-kdUk5xKnZcUwWhrJ7HayrwTCrVo9kk6kKg5RijGGMt4ZqY-FSU4pfEthwuTDOjUMfhlLIC0EgldAMbONMEjlKNx3YrWbRxXDUS5lsYCpaFxULxi9O-DRWQ7MOUj8spiM52bpPPEjKtlYi0pbDkApcNTxR1BogYqOVfKeg4K+8Z3KpCtBd2QIBaUMNhVSyoVY-PJsumRUOA04z7fQfMl4LCIDlY-M5S2Oz54roEnw-khiopUQrVRniDhVzKWgKTEFA0hvu1AunDSHYtuKDDyvXRMqG4+wwIErOrmMBsZN3Xmc4CdLsDwl8MJaOTJpJGhimZ0oEHUvFnSqnhsqpko2CO4p0tU4qjyfeN47DZuly47oFvx1X0ABlGonFYUCKg4hrVcMugHao+ilVYwufGVblIMBesDVjcmcOTPOVmYqhIpX1LZ1FWNQ45r0KVQgpOkCBCZjIN4DIogUdzqs8q7GWypOUqqGgjYdVQLFFlarJZequhYkEDXpLzlZqvSBaomnbA+lbSuWVKKdVWqG1xAd1QoE9V+gsI5Cv1VmwDVGq45lKyofQ06b4SQYwgf2HHOCDGroEyqn+R-PnX6CHhi6n1QkujwPDTZyq+4ZOtnXarXV60D4MECOFrrgJCq-dbTJELcLim1sHmTaveCMhslTMgGUDNBngAmIT636S+tZmeLvV967gOeNvWzqfyDhQMOCAxAE8I1m6XdWQo7k4wj1YqmNZKrRlcKE1BANgFOuKWPqnFLi9xe+vJDZLcNHixkD2qDkAavWQGgJXWWRwQafhDqOJm8FXbMF+ia412CxpGHolGNj0VorFVPk+oDKf6LjSiHUH5FYqN88oiMMFhM1mEKQJjUIRY0-yFS7Gwnn1TTLos5NpgHjVAuvjKaoNv6SsjJsMAaa6VCmtMeJv41DwagYgCVP7AOWmaS5fGt+e6VXb4A25Qm6LgyoRU-zpN7mgdL5vdozBcJ5y7voxtc2cKDN-mxYvQGM1tEu8WKwxZxui3cb-Nb2c0ooXhUaj3ETq6WSIGbrxajld1ULdUHE5Dx1NYWs2bJsei80Mtq47zXE3U3MEGtwmkXtuIZ7Rj9xvo5MW8tXD5aR+j+NTZVpRAVajNVWv2jVsEgoRq2XrMrW3L-RNbouw2mLalubzjb-42WtflZF63-tgoRmsLSVqmRWa2cphILZSsuX3jrlvYz+nZKYZysLMioS0VtulLEBrNO3aFX1twLNKpwc0BqSauXH2TbAaW4IZYsannL6mDIj7NtOqKTaigq2+6Nlo355b9F2K7gIdq0D7bSKOMo7oCJnnGMFiuGZLjlxXa7ICum8Jzb4LQEYDOK7BTzZlsnAcMrlmsy7d1sVD3L+WxkBGCYH4BfRfhICAEV9HLKl9t0Y2smuWQ6jUwzWX9XupWDyn5TyGfQwflQDwwpEW672NLeCHJ2xD0YB-IBl42+1WLQdMk3vFDuMiw7oY2WjXf4M8KI7WcWgN7dtot2U7xovsxsDcCYG4s9RjIAAJwnBStPEPUaDv26+6MW-ursTclVgfAUdRDabNyI54nxc1rELkdKTTheyo9hQd3Vi30At8W+VkNALnodWcEZRFydPcKP1RCrYwxe85RJnrw3iEIasP2i4B8gTUFRnTNPX7qxaV6w9qTbgK7sM14snNnQTBdgu53jxj1NO2rWmPG1w7+AEIAfViyH3W6titu5HYIAwVz6mAUVdHfzHiGpADl1QIqCeDICWx5kkPKCI2FaCMhFBcBZgEwO329S1U3OugEVGXpHAhl5IAcKQVIBH6-2AvdSPMhtpbw3SxeiEN5B8jb7QAY-QtU-qQISsrOK4IAy-xhWtBjg0o5EixAHDBr9hhwkeJOqlJIGo9K6yOTOq3W7rg1chPA0yXf2H7f6zxH-RJD-1ap4QaIoA+CBAPeQmQrqwQDgdECsHvI-kFAy+DYijrpgzBngz5AgPJSmYohmA0yQr3CyLkXY6ZU0xu1s7m8CBvrZZJ53-C2crQMbABul3-QvWwBXSY9p0PUg9dIO4Wf5LMRjrZG6JIQIYEciqw99-ARFQIHP1AhL9yg2-TkmMAiyn9TdF-WZkYZKk6KSOwxaYeB2-axxVh5OXBgVKQwAtjEhyMdS6xzROJzAWSNBDqIA9cQu+4yjQG0NVJr4CRv2mLoMNZshiwq1ULwpuymT+IhAPcL+HGWgaEiN2zRVVKCGVEUEWi6qXH2YxZAGjk7UkPoMhjd85sDR4SYFtElpY+CmWR4IMZ4BNHZMYxgSVBkIDmiYJ+tMSbMfmRZZ1jk7NkIRnhxgA1skIFY3JMwhApFJOfezOsZF5qL0p2k4scYW0mkhPt0oPhelIunPHZdDQC6W8dsks7ZMDkno5BpwDb67dmesKfoFl0AAdLAIuueX+xMDMgYIGTyh0asZWi2NCNnoURUHjANUCEwcpb7Qm4TCJpZZUuRMHDUTmfXqc6N4Ang-aPQLCAydAAAAvC8DEHhNFBKTTAak2ibKM9AOT2JvSLifBAf6j9wwu7RNjsPvBHDm4Ek0ib5NvQBTwbYvvlXIDN0WAzdZQM3RfaTAW+aYPAEScMWKntRypmk2TzVNitIBWpnU3qYP5in-IQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'style="color:blue">[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJFplCImIIrvI8EIkhbMC0JvNRj8wlJESUEww4iOEGNaUYu0bis5TKAfQbiqIfgIySSk3p4TpEDJXsbbgxkiioK2dQHZC49lzOcJM9JKgtmzIYEklOp9JGUMDgwQIMhkF4lqXg159yGCUkOYGX5-zkGkn4VMt4-swWdGiSbChCZoWVGQToWmXShZtFrI4fOXyll9OOUvORZyUHGHaPvZQxAnn80JjSwl9K3ZhE-j8iu4IWV0oZdwYOYR4XPN5US0ZVBiCbwKQXWI3ye5tNWf3YFHkqikA+OK8Z+9UUcvRVta+grlXmCCTOD4EqpXsqEtdVxxshXmI2akSVmhcSirZQazlRy0gZDobauuzyvHrBNWMyVWqLXusDM7L1N9rUywmOsv1FsuReFCdMnOpcKWDKpeCdgHgvCMs4oTbNygk2LMcUXJBWbE3ggFf3YV-NC1eCavgJpyanFRsVXfONXtUgaEICCbkqJIWpoQem05MSUE9r7VAvNKrH6zOSfMkJJaU1UOcdGv+tbOI-TENKklpbKEmI6YalwDkR6kG3foIgOq5XhsVpGy9R7-oHnVVui9hAr2kvlSMe9G6PLGtPee+9YaXA3m-dDDx5hBE-X0Hs7uN7w4nLBHsqyxQcHgZcBUEgIhUghKQ2NVG5MaY4yHpQQIjVHKdCTf1FcA5IObgfDjFYA4CWdFJn9ejUFYzXVILWJiWZnzRgua8egVIWCMmegwV6kNoPU1yUBNCQVRPiSDOqWogn5L-U6MYNTKl2SkYYORtgSbxPvxYI+ZiWBoIURfBcue7yNzQfCNp-SuniBkYo1fEY9GdYubc4ZttWQHxOeaDITTxBeM5nJIFIuJHXP6fczBj2eBs5MzkCzKAcBEDIHQNzPEACPLixrBK5B+9KyWqkfikWYsJY0CNhrZSpRqTG2Us0Z2ecu71eBFbaSJCynsKPi3NuudO6x24CVqYKwWupCYcoqB7XnSlAKwuabNjZvyLG814eGiZsDtjh1xbp18PWK0So4rdBSsbcFrvTec3FQLdPCPZ+G8Q1rbO+Nkyw9EU3OcLsgJDzF39z2-dz7ty50HJe+d50k2A6ZISfc+dCyAfzdAITbOW4YfZMgZ9LQaqu74T0tMepfjGnNJG055063IfDxdcSurSP9vU6MASvlGrg1Tx3RrUbr2LsJpzTdlYd2fj1tOxDxUUOem7bp-d8XVKKei+HhO6g-aEe09u4IQgvbmmLY6FofQ2dQcLugSNlor28doV+YN9GBSt3s9lpz0rb2dNmWCMgmydkHLOWpL4Ke5B4ZeR8lriVqGd7q7YM05E3BrdCRo6kQJ1AFBfcrI1VHyJJgMeXRO3Esf480ET29R+uuHAR7PbanM-GBbCn0JshQhB8DlDz+kgvdBU8cZee8E0ySMjFQDzrvXxPG9UzJysBGSMkVnYPPQa7g+-R65yXnbHBSU+m-x9Ma3S-l9FD1yV8fr8wQp7M3uj1Iz35BM7w7-nKa7G1nBfQJGYIT9sFloJ5oY4NRhiswJhoTvNzh5QbZeyTkXBiNfASA-c1cNcaoItB4plzdRZLdoMAlDA7d1pl0T1rd4C30z9YhSgXY2A5JmgsJu8vpVVn0z10CwgkC19nQYDL9klRgSDz09lyDjd7dO1OJ9tgdvs7lft4d-sx0xtI5ysSNaxoNqsvpEU3kPlcdmDJhjIBczwitxCwUIUjdZc5dCD9BFDfsR4H8pCxtWD8t7sGdBUkCcZo8xZq9KBnUmciULVkCP1AwX9QxIsy8zCIF1VTVNUp5bC09hIi51DiDA0zVnsbUqY9DnDIxrMGxhMBAAjRkZYaDGQLl-Cn1AjPDtVQjXtwsYgzCj8zpYjg4aDm8bMi58jjYaCsjQB38fD-Q-DDDrC2UnM-0PDWdKAbdyCwisxIswMh5qCHBd5ah9AO5klYMc4cDBi84lhz8cCVx8D7MoQ+jHsNQ4RuBejq5FiBibwhiJgEQyJQBuiplDBuRGBa8CFjsoEbd1ozCjClVqjGxBVGRqcWdzVY4KjbNHVLD8VaUbCDULlsCvULk1h1d94U4jjW5+BNEiFUQF8UinjgiY0Lwp8YhDihAwTTjITGYBJbhGoGdET5NklUiWi2j745NyIy8W8D84NlszidtEc-QFIK4qT0SdF+s6EZDYwoctsVsaSVdYx6SdxOTqTypSlrZTE1NmgcCAp9jnl9shdwd1pGxicxNE1G1m0XjyRGxuw9QHjQSTiITtF3hlom1fASTW8qQFj5lx5agmYgRVj+jBhNSS97CXB1DidKDFRh9gSxYx95Ad9bxuQ9RuBzSX4rSkDcUpl9tpc+DXsBDKFCZcj7FtN1CRk4cwd+43SCIxswzpT7srs4SQ5pCcZGx0ZGR1Dcy34zoVDMjyRd4esW534yyTUWSpD0YkCmIgp0Z9C4Z7sBSmTDcZdoyoIazhSFx34ez9TazWS3T1CxzbF2E0zpCpyqydQYg0MWggdoiQE9STs5ScYhyWSaCNCNz0EuShSmzSch9RDDy29Nzttyo5yOcFyVwwiIoktH4Ut5AlB0t2YssuZLA8sIMS5uMvp4YRjQBfclMhCwspSmUsT68Cx9BZ8sd8luBXSCzC4uUdwrlq9a8RA4LUQq0nNEK8k1UUKjTWy7V41r9sK69k9QL+kR1d8rJchqLcLs5p1zAZ9MdiKF9QLMUAUZBuAgUf0OLZ0+8ZBeLQQ-ksUBLQA4UKL+ZN9vSJ8Q1xKYyMVJKYUZKcVOzRJYL4zhC3hb8JLML9L+VW8jLhKc5TLvpKY1K4M01ZEK4WyUFTL2KXBTLr8p4Q10ZQKTEfKsz+Y6Uvh5k2ovTKxt9rt+D0KEwbxnzVzYipMoryRW04qh4gr8BjAmow9ckTCIhChkqi4sJIZyLzhGxKAw53jcQt8fTN5GQJT-zdK7gpNhzECKZax30nSeB7MWrep2qH1IYJyF9ZNIh8q4x91r4aZLLMY84aChq85nhRrOqbxJroK2DEZPTqrlKvCeqKZWqWB1hGokqxqMV94xByqjAWSOUlMOA2pzrTxJikcCZYLmrLreomD9rMrVCJtgRTrzqWrwgAAeH6261QGyh6ukloUgcyCEAAFStmRyEF8EEDPV4ClSbBD2oFqGaHBFAAAGo9j19GtDYxAhQSdLrwh8aq0UE8aCb18DY5pSawa2T2TIbobwQ4b8B-piBHJkaxBUatUmYaQMasbqb8bcT6a2pGb-qaaqacaxbCaJaSaZBml7rOloCussQJyDzhzcryQ0qzsA4rZsQjrpgh5kTDdXrdq7DfCyVPVXZ-qp8FsDb0RsRcSYh0qQr5pNrfTMyp9mhhy05toHbCbZhr5VbcT-ajj-MLrSEmCbxVaTTCgWJBQK8Ss05yrDqLCqqlKd9raigv8Y7j4rJbJLZyhQAhiIDtQySLlGxIZGQErcloMqzOMi5zbddclBr275r0y0IBq4CaZE6Isk6CrKEStDaiAm7SsdKmQX4ta+tSFepdakRwznajbJ686zao6drVbqjjq4Mxjg60InbKxx7Xb18PaTpvbIrXtMC5cA6lMg7ybB9Sh4Jtp7repb7Kc26iJyabQ7QE6KidRqNU6zt06Kqs6wqIqtU87CgC6dbf86BS6RBy685QCGzK6nwIiP8-Ra7cl66YTErm6-Qgo26BqWqu7AYe6rw+6GI5rAZB7yIui97nTV6J64q6ZktmZPy2ZMtOZuZsBVzo4ups9qBc9k8HAytbaHKolG8rIs8E8GUH15Gc9Go49e0WjZsU8gMV1o698PZCphGFG8LGZGQkF0xy05gqbYg5hVwB8CduUOQrGYgORbHKDy0MInGuqDxXHzHuVA5PHA4fH7HMKI1MgqbQm2BnQ7GGhy1uJDBe1yBfAqa4mEmkbFRomihy0v8nGv9YwMnChy0bhyqR4WBDAq0inVASmmYVh8nYhy1cbPHYh9B4ZuBjTAQAA+MCmmtJ2pmIctTyRpmIZp1p8IAETp33HyHptx7lZY6YYZ0ANpsZrpyEBZmIXp4EblYAQZgwFphZ0Z8Z0AMAKZ3xzCgAUm2fmcWYOdOdWdAHWfLXEkacuf2a6aU2NOmcwoAEJJQnndmrmunvmgR3mTmwRwQAaLm-mXnfcgaYhgXgnQWAaARBnnmOmunEXYX7nuV2mIWRnUXfdOmMWPnQX2mkXuAigUWln8WgQ9miWIRPntmunCglmYhPnYgQL0wCpoieBDGVHjHmTY7AQVxikPNhBuBlHRGk83zOW29uW48jG9d8AWAAArEwVowVlYYV5EVF9xnliVqmkxPfdZoocVsRqVk4SKLlk1xqfBa0jZncctRw4QKmx1o1wmgp7lSAOgb0G5JJslz171yw11t1vp7lCphgWASAJxsNiNoN4NwpqgSpgAUU8bDcTdjbdfLQADlyBM3tns3M3P7g3pWqQrXPLTUD4Wr1XphNXUXtpxKxXdXc8bXi2BBS2mFLcq2Gga2lmDWLxZWRGm2jzWi0xVyM93lG3JWG8f8t0olQKx3Xo1RSBQ8TolXyBqxDiupNB9BCKJ2JNq8OBN5NGJGqGigZ3A4EQihVqPJpxNar6Q1QKPTcK72vDtMe1gSELd29cdq3a22h3Br03Yg33kZS2FXlXVXWqf3d323aGAPnHwGnVIGaroH9GuWM6GAxAvh9q7kc7aqgQb3CBEOtqwQR3Xz0l3y0seGOZMAMAGrzKKBTAGBaUPhyobhSAk1FE6Lb1lZVY-LLESJb7Q6Vksh46+O-h74ZaGA5aiaGblaRXo6OPmadNePDsGEEVFAbh8VZ8tBPliaOqKSQZlBlBUaMgisjAI9DOXmmZ8b9ByBDO05wQcbSgHPQBsarIabbPlBYOVgHPq1dOlH4hLC1Ziai9t0Qvx3JBA3IhoIR6ExFaZaIQabmKNPjAtOBjhWZ2klKBLCQuJgZbrBwQprMuPjscFAbOz1OO7asgt0BOUEcDdJ3svEK5qvQAE5lJK9b1XYbxqvwhvMTFuvQBAWUEUMau5PmulNwQUNZC6PbOZwmPYpWOk1qvjJmh2uR4MalcQlmvWvVxWtO5N9uCDluvC3nNwQEv8aivcQSvRvi8yu1pU95bYwcapPhzykhsiDZ0UyDdbv7vaa-QnuaaLumAyBSu+ubujuKbBN4R6u5cLvcpQQqat0G2IvLvgfFOmhh4sIlvz9YfwQPGViK5tpqu-6qvyuqZuXkegfSBBIZiqcSM5pvuVwnOAByKTrdGWlnmnxWxm6rwrgL3EWlUgZpAXtp6K-eyNT6bjzcbaYXrzv0ctIQJ1qyYIWWhyHSNeNwYsWW7jDgeENHkocnrL5paX2sQXsnm8GXpHw3yn6n762H43sgd5v8fQC3g3j4mX6e1d9d5QTdmcdGcdjweddAirhXDb6BGDRnu10FkPqdamD7g7r7mDE92IYVz39Yb36gTQGg-3+lNwHLoPvX2IKHIYoPiP8tFDAVfcwbYvmDW+0yAJae4Xw+b3eGbPwPmDUwivS7db2bGvtPWu2de+37ooF7qvtrfb-ZBPgJffU01t+QHP4wf2a3eKDQZ3k351L3ZgFvwJAP3P3mgpGv8LIKL9lk+zjxiPrCbabf+fpeSPKpBVLIK-+dG-4ve+Gn4-0hez-x8-ufp-xf4vN-gfif3G6p8N2GfX3gxGh5FBSgRVQAQvW0wp812afH3ln0f6780CNfWvl42-ywCi63LHfgv3-SOlSSWDcvAYF25fRe+LeIKGXypoj8KkncA-uEUohUC-C9fLolAWeSWESAQfOyjnAIJT8I+20cPt9QLq4ZXc-+D3J9w8hcDFGU1QygLR4Gi8+B9mYQeplioCCRBUNZ3GIL-zu5nS8fDyPILZxB4pkFoYsOVEoD4AmojUAYBUEGDt8lB7IYAhQKn72czB1UKarYIexaRYofeBwTFz1QjAjBrRfPtPU0jMAp43UHXLhmKrSgkG-sTqAwHUAiAOApAdaIwiICa5XB5JUgat06j59d6sQBUsTDEBiYShEmRgIlQCQyZ5qFRZhqAGehpxHWTmUoA4HiEHYkhCvVIegRqGAwgsLyQgM0mMxnRno0-YgZRDML8DCARRFupQiwi5BBhcnGvtwAWHNJ1B0wsYZUWrqzCEweyQBkw06qrCg+09A2P0AUBrdMM-sCoBAl8ADFDAbIa4YkyXiGBSQvA4eAfSBQR9Hhtw-2C8KeA08L++qIFEnyGaWcYsH0C4Z6W+F3DwR5woiMCLdqE1oRvw0kA+mqDY4bYueZEUYAeGRgnhKIirh8Jq7IihYxIf4bb3sxB0ERaEJ4Ki3RFkBMR1iG4QMRJF-DZeioWkUs1OEQj4RZiDgfzG5HnCZAECdWCvx-x6dl0woqgEjFGSBAPoQXM4QwE1aF5qQqnZ5FKKy77xZRZwhUR9EJGRpBRNXaYt9XpFLt+gWIvET8O3axgg6sI9NpyM6YaiZRgo3UXCOtRyjBIataUutVwpCgy2oIbyqJ3Ji+J8yhGKCMUIuilCgQ4mSTI3UUS9CoY9QxoUpmaHn5H2gweMVxCoAJjMBvEbHIwCKb8Rhh9iUYdwBDE5jp6eYsgAWNCig1eIZY7MdNWxiOC6643ELHsFqA40I+4IdsRwCdY09mMD-RsSGMczn466K5E0akHyG8RRx6mdMRJlFiUgAxXhesVmNDGyYae0cezDOJa6JwtxB4fQCOPP7SjqxSo2sdHRnEgjnQN4EcVeMVBViZkhY0GpfyoDsjCa20W8YiN7qyZMBPYpMJ2JOFzQOAlgxgC6JApvCsIuzB0eXS9QBU8EfQItCPEYDuCB0KE5wNwEb6rjG+YY9UlyyfFSUaQD+RkA+JrF8RQamExsWhPoDnJg2BEbCbJjbJFx8J9+dKOpF7GdiI+xo97J7WAk6JYRmJMiQRNPzT1eAmVFqAjAQqvi3h+sOniTBfHror25gNKNqPlHdA2Q3QV4eGK5a2s0oOIdSX4Dkr1DrSYEYMOOGcw4EXO1IMITKBb5Eg24kktFLhJlbdBGQ8kk0rZnyHdBwgTnFDJZO6AexgJoAGGgAAlE2DAAAILgBwAibAAEow1IAAAeUzbIAgQ9VeKpIDUDeDzBwmByfmJzFvDRJqjGyblOrE1dlJ4k+GDfw17aQMSJEzAcpM6ALgqJ7wKag1MyBZSapOU0CiFLCmRTopcUxKclNamSAKhFQSqYv2qlQkSpSQUCspJdEVSGAdkgFHVPV4+DnAnkQUSYPVEtQOpU0kiflMcGCi3oIo4VmphDGo0OmZONQCYAbQolmph4qgKjTFYnikgOYkETIAymVNmpBSfaU2IfABTJAcQDINaxwrY5GQAABnNZDwagjkP5MDIuGTpYo1AQYFdHhm5AHAYMoENrxBkYztA+NPEIxMoTYzr8uM0gFNUJgwyDsViVjKNGJnR8kZkEAIS4CwgTcqaWEOmd3wZnE8aZHAPkbR0CBDEqZ4oVINUGyDAz5SXLDmb2kVzEJkZdVbmnDOET0zyoyM5KHrSmQxZfMlGbISuA8lQZ2+vxBGncEpmKIehQMpWZzJVmpgASGPFQRoIhpYRNZcWPzEIKn5vifMzspNOsNf4s09hBw-Th7IMxJpsZcEjyA4FJpniyJCFPcL+Bwn1DWxbE-8f2PPx-iOxyc97IOOjlitSQEfSGJuKnFQZCAQKIfvr3nF+ia8z8P4FnJ4CxyNxk4g7AhVeER8y5osCufMirmEBfwRc-KYczACQh+5+cuzAeKLnxw9xMebcTnPPzhzlakc-iDeBHl3iGg880kIvKKDTzcQT4uTgvK-HOhL+K8neYqAHo09U5fYgropKsrAy1YQRKeBV2kaUpr5+ZYZMDLcqt5wEok8RCHLeEmIQ5D6YmX3k-mOCIm0dWiOLIL4xA+SUfNgORl8CAVaw8IGngekvg-zQ55gMdn4mxlizyYFEzUa9NAD0T5qhZLluAn6CMBsZjIAWTNUUQizoEIcpiI2HXlCSiJQIQTAws3nYK8pO8t4G-K+7EKUSIc1edMHwWAxCZCYBhSxPs7sT05MwGCZkAHGiFGOa-TBY1D7y8LSF4su8TxMkB8SPR+gMRR3gfzuJApPUhgDFOsgAAZRNilJkVsAoZUyD6YJOxk-SXpdAA6UzLKBiTipdUiPuVJslLxHF00pvDTzakLh-FD6YJYrNoLdTQpJi8xZYuGkzgKpfi4GU4pwVN43hR0oDoMDUxzT+JC0paQEvdkNAn5HADabCPhAgiclOi1mVZGxmlKPRuvaemO38W-S45nVI6RqNOlXgyFSzMnGgoiVKLnpqSt6WpnsWZTmlzinMSgpcDzJ92jUYXqvwd52Yhlf0lSYJHSWwjjpVATpabTwY9LYwGSoErhWxFOZvQE0taTlPYXVjhlBEaCU0uSULLBeSyvKX9IRIrAyGdo6eoQQUUO8HlPQd5R6IlkytWgWrIELpJkG-Kye4IL5cLwwbLpgVDgJoeBHHAR8Zl6jb5YL1+UJjVlmA+FdAmCEFIXe-ys4VMuHgVSloO4wBakEVpbzXxPXLWJtigxuSSVHwYIDYMmkqzGAFUmzuyvoCXFO+1CsaUtGakzCjQXLFyUCDyXlh7Jwqioo2CM5Q0tUu0oUrCM7Z6RKlOo7oKtOyl0A6lZw2FYUCKg4gtVnUnVZtJPaY8eVLigwC83lUCyZwzU7FSaSqJQRzgvqAUZYMCARKKho0iSQAqckltnFjILhWeC+60LyQZhMlR3OcUiqGgjYcVQLBsmLSpVy06NbKqIWJA7VXqwUaqoIjqrVJ2wFysDN1UfR9VsQQ1ZqsLUlKzVFydmcDO4DQTbViq4mYaKdXbDICtHLwcTOCBKrNulqirhguFUlysCggYQP7AHV9qaeXg+6TKvkqbpR1Pa6BIOqggsrPVDq16FypnVCYZW1sM5dqttbGK+psU+KUlPABMQD1UUo9YNKsUWrzlVq6CTuoXVEDl04IDEGfLdVzqx1l8v1YUBXWNRiZ664qWGq3VUgH1jixkMYtMUWLT15ICDbEuvX2ZsZ9al5qBuSXuSi4L63NGEIdQQM3gSrfPIwX1GuwCNU1WIrhsehkFfK18YjbOt-T4lPKeGlEPvwQKgV1hPqQRthoQ5xMGN8FAjdJI64BZmNJGmElxvI28bHBrsjAlNT-QibGNFGt4axofQ1AxAEqf2PMrE1uKJNbG1crhvwCiyyNjGrFYaL43mEEO+m+CmZuHa5yO6gomnjptFl-oLNBSRzW+OhWKLSN9AbjWCGc0oRaJKyltR7ENXggFestVzQ7ypp2am8ti55Fxt03QIZNpgVqkSr1HGbKqzCFIJ5vETxbLNUxf4iaK8pmi12TI-EdaNXChaMVsRLLYePS2PQmCSWwSD5vJYvMYt9mujVloKRtaB8uxAiHVv-iBbleVkMrb62CiGAlWsWkdtDOIDKadcq+PzXaPWUejNloos+quFbHtMLMioIBYNsGKTaVN6K5pLfwPnD8gJWi0CfxIHq2Aut+vTRSBNWUUM+QFmWCOKS9QNakQ1mj5dDEC2q8Qt8imFdwCU0Spxt4ZSqUZ2iE6z6h6hXDGhww6KtdkOHZDufNAAgD0+mfessXkM1zaYwJDDZR0pX7GRVtxkBGCYH4BfRwhICKIV9FxKE8X+CYgRUM0rDUx9miIguvTqHXBtxBegrqgIE6igE5aD2rreCCR3ID0YuvY7i-WO03aXRNMZbtYqoY9b7ogWwXWAJoLfbCsWgPbVTUV0o7xo5rRsDcBb4pMbhjIAAJwnAh4BuxJrdolFm6eINw1ZRJmxxqw-tedMwgfT-jVEqiA4FwEpnBkwNYg5u5pEzyZ5WQ0AIe0teMMiJ+h-dcnD4JsMKD+67dNyVWEdL7hk8XAPkISiuDYjkh49R0xPZuFap660t8TG4SSs6DQLYFJO8eKyvR0Aq3hdW+XfwAhBl7EmFelXfITV2-bBAUClvUwCAqA7nkqA1IPMuqBFQTwZAS2PMki5aSgVjIRvo3Gb6t83AkktVCTroBFQZaRwBpeGoryJ5SAE+n1gN3UjzIbqW8aolHvBDeQfIg+vBWvwTXr6-cAzC9iuCj2A95lrQY4FsJIERAWIA4B1ZYOsEjxR1Axd-XnU7Xwzu106+dQ6r7wgGKiA4XffvssKH6JIx+rVPCEKExBz9l+7yEyG1Ujq7BD+y-f5E-3MC2IbahoFgewM+RheG0QiWqyoPeQw9w21JrdouRHTtl1DXZWtvXyv7FFX40nZEKKytAadBgFnapSWb247xW24Q9SHF3aKdROBYkpKX5GcRYiQgQwI5FVgj7+AgKqkK0Fn1r8m+m-RfU4pX2V419-ADfVvuA0xFcktraQwKjkOnadFihtDbbTGKQxwaUA2rpzSfFzQ1x5AWSNBHwJ889t5h8tjQCEN38Rgnhsnh1AZ2osWCCOlue8gyrtzHgmY08K4psMNCShZQyMd6qkyZiVqKdAwI0MG4utqiQUVheeOLHCFSxrOwmlkZeVHAh+Hu-lQ3NPDN43WeAfuZCBXARjVo+R1aIUbjGdAKxusouOUZMkqY6gvJaUBHM3nxiD5dRr6KWL515g65foOviPh5kYxmjJR0vCQIHAYZgS2GaBM0eKM-iRqvRgeSsCCgnyAJTAiPTbV2E+iMxQY-Y+MZaPsCcAg+sI0zxQn6BfNMQAADpYAB1hy-2P-pkDBBSuOBVpiM1TxoQg9CicfRlVkFYB-j8ywE5NOBMgnwTkJy4UwCsGwmqekkg8bwBPBk8egWEKk6AAABefbUAOCdPZQmSTb0OE-EYWbcAmTyJvSKifBAIGMTNUVCAdBhLqHNDm4QE+yZhNcm-m+PTCoEasgsBZaygWWk60mBM80weAbE4oplPEm5T5JhU5Hyb2y1VTTFDU7r0FP+QgAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+WzUiLnoPUI3Lq3e6PBEpgA-A5uBgEX3ibhcoGDIshDkJKxAdKA7TkIvTCsKApDDCJfGMKAY2gAYIYUmNaCPxNYuKfyUt6EdcKDHYfqMB0JdMT83LkLX+1B-4XQSikWeoASDBkhsQToUCwgAC5QAfXUJ-GQ38tI6jARAzsyDoFaXwQAkwRDUGSmpB-L+gwXSkIug7DWqgjpryyHocevYlJS1Ci0UCxwlI8kBAAKj4VkYR+ZQh3jkBkA6hBRJf0kDwQYiiOr0zCFwughAPBiJkAI9+pAsFU2UUMN0Mi3bpV0R6RKlB8C3y0Tox8xxThwNajETo49EpflcQgzoVRErVHQXIWQ6jEpcNIfo6hhjVF0PbNoqxEJEqpDsXoCJJwjiwN3m4xBHRPFJJts4Hx7iOj+PyaAQJ8gQl1jKQU0xLZSGJLKbUAJmJmk2H8vQbwfRFEmJifeaCMg8nWE0fEpxGSDFGKUbEls5jeGPmsYUWx9jRn8PSZk+BxShlhFkJaF0szLGPn6BQmpyxVh6Dij0jeKwfB9OHIMkwRyalPLqWUfZbD7mNJSBU4JejqlhP9NvNJVC6A0OwZIfg0yiQrKyAs-JSzUkhnAXvNZRScl5IAJCJR2RcFsDjdFHMxc8xKpyfAksmRC-pNoHnHKJWEGc0KPlVEJdYb5VSaXbPsDisopDBh3M+UktpXzWmYjvEFOgyxyBnz0CwLZQlnEZMBDI6gcjFiAnZTYGBSqVXqusGgtgazAQxFkIwYUOqNXiE6Sas1ur0GMGYD4FgKYACqxADo5wAO7OGXhBZwABaX1pjQKSJsIKuWYqJVnz0lw71q9dECM1u8jhVQuEHwETGysui9CKtkfI-MXDN7bwyem18mbDWWuFBCGuCaPAxCCrEECWReUDPHl+MlDaZKUpHO3Gtu8Yg6CgkuUCege11smOoluCER19u7bWvtUEbTDtnboFtfc3RTuXVnMQ67+0xEkPgHizx22DH3aCFdDYJlHqYKezdzgXJ8V3noS9dzj0HrPTiMl1al36Cfc2l917PR4HnAwfdJ8oBwEQMgdAfAeCvwpCoaCtkASymUM3aKUhZAKCUMOSMsRmTHJgaAYkxy0EPHRHh-Jmqc2LDfEiO5YlqzIlRKCcogxkPkPySRqQvZAxrnAu7cjSSYHwfStx0s2YfVIeICh4jCx228fE-x5U+H0HWgHWeUC8mNwwkk9JjjlJiLmkZOUZTwm+oGZlEZmibGZMBRSsFRooUerhQ8gJxKQnVOBXs7QRzrlMoRWVugqT7Gkmce6I8eiuEnN+Zc0pijoAE3znOeFriOZeL8RY9a-JykLbUDUhl2l+TrN6YiCdBaxm4umdK2dKrX1bK-RY4F3TIWJbmJ1rFwTKnQrax08FxKoWjKucKO50KA3LJFeaxEf2lA3bacG8Q-26lhOaD4noEOUWw4NbY48grZVJJ3IEl3TbQXeuFDQd4e1vIXVuuoJ6wjcJGSqDwqAf1nWNC2QXneBbq2SCDC7gjeFERCKUBYPZ5QYxEvCENKEuWC2CrA9B+Dt633iC-fzsTENQSQkA646wRY1A4F7qR5DvJ4TmKC0La95bzwQ6W2R9SgriU72yi6Mh1YtAhR6EyzUkO3FQSXwEpD7bDOkldyF8Lwoa2pNs4s30Yn-LamGUdPOmCRFycnY69ZO5vpaD3r6KruQph1VoNRX45IrLflQPO+A5HzrXUeohqTSmiw9EvYW8G8pnppHNT2wMgSPU6CsaC6Er8Oc84F39+r0IMCmYULQWSpbiHIaME7vnaeTdA8obFzU3bih9sIpT+HgiF0M+ixrqZzzaVQ5ZR6+OtD4xGAwQTyt7qrkCqdCOyhyPYRhtveb3VJz2v6Ad676EM72G++73yv1Yfg9xaVZpmV56Jf1HY6UCwCmVMavw1lZpE3JTWmY70avjmGNvrc0syLLZMxNJN+p3XGG5+fbF7Y6Ullh-ofDIBbXZPp-jDK70RkuyrfqtvflzBzijP0C-kQqvprgMiAT-pEH-nylfinN-pzH4P-q-mEObh-mEF+PPvdGVtaujA-vVhAVAS0qELUGhOLDnpICQGaDknoNJIAtfiZFJBXMwaCJAm5qADHn1qAGSiIgweZp0BIoMHQSIQKEwS6CwZnMyqAJ7qTHQG7MQMiFvJpleP6LLKvlvh2LgZorjAIjVqQRaEnKYFgWwWXGvhvtTIQdViLOytHhXOymgs7MzgYKoeof2ApjCALqAWfuAZflnrSioTkN4ZoT6gJAmlvlzgViQWAWYdvrCuUu-n8qgbZumDxs+IpvEE4YIv8KJj4Vpq+PCNWO6K4bJuGOpheHxrNu1jUpqjyHJjkZWGUe+B2DqmgkzFgdQbBhKKZt1lZkHtUlwpbAIubLTsyFgVwvsgwBkmEWofjsUVoUPpbPylwlIdKJ0PMQUZaJJFsXSO3nMfyvgePs8JbCEYVnhPeizlLswDLucjwsEoMIcTkgHo1qXneKZqNgFmxrXg2AmrAQumasAc5L5htsyFcQVmxkwnPqpowUEX8SMZiFwncgIsAYiRaP-jPpiIwTRulHRliXKO0ZkA1s+p8VgV+HcrPopKZi0XUf5r7J8eoviaSYSXAQyb4aUeJP+NCcAVySUZBHRlCZ8fyUFlcADN8R5gCtkYyTFsiShqyeZgSTiUUZEavOyfloUMAeqa0a+CKcqCXuKShnpIBm9MBswGwGBpwJBrwE-P0RhPXjBHhG+vME9mslECOLSRSAlkjrzmlsnoMJcSydUl+DdH6OvvjpPvOEbNagGfYPxMGbljglAazOLLZlGQThDm6Z7LFDyPgCmJGXjtmW9EHIpDzqlomcnqtrmXsS1JVIWaANVDegQG9DlnlvgHWSNK1KtoMB1K2ZLsoNLhzl2QCfrM1KNE2RND6RKECUrnRmmLrt2UIsCSOEbKfDrhaO3IrrGDiXyuOeyKZF7ImH0BSYCGubtK2ZeYPrro+s2oeanHbPeVSnCXSWQDIjSLoEoPceznDP8WGaui2GmTXEntDCeuiABUAppDqCBd8R+dQLIBbOpBBR2gBaENBQ2GSqhSXqKFwiMGMOTJTD+cOQ8UKAIj0Y6c4AlgevRoqB8ftnWWSuyQxb7u3KhQSQLq+hYBhVYbbKtq+oOQev-lxaejxQDHxc4C6KhW+XBjccziRSOTzLyaxS8aAB4FSIRSiZJUpLKDoCMHRZkHjGslkLoAZdaDwXFh+iwuDrRSxU2sEg8upZpSRSPjYGgqZfpcMIZY5aAAADy6VmXeUWVuVR62oXaAgAAqGQ8WOQcIko+c7gZhhG8iLslAnQaCgIoAAA1IoeLoRlEH2rYlbCpWYLlRuVlblXEdYIYNELoMVS+YwkbuFdblFTFfgDIO6glToEldjClYsGlRlUCDlXleLrVUVfgCVdWHjOVSmCNdVQVXVToA1SFbJRKFqvIqqSKbycvtUvBcoN0BkKJFBYlHeIsT5apawWUsAhwULCxaFR1shodUXJzvldYKdJ+XOqzmRf+cdnEWguyfKlpPdQtTAjqCFQtQDaoTpKVZCo1SkVQdASkshkDQRTYcRd9X+YyCge9XatbuybbukHAnwaCO7tgWkeylwqhQImBZaKhaPBKeyl+OdRxSxQJaetCbShxXnjJfLiGsKjpU9UqsdYzTQW-CqeyTiQTZSrtSKqTELUdQzUqekdYGddDfZZSldfkjdUzBdQ9d3o1s9aJNVR9YhV9b+Y8bCdagDbyUDTqCDQzjAtiuDeoKpfrSkFDTkDDdNU5S6KtZYRjkjbfCjZ6ecERVTJjTLjjS1WsDtUCC6kTbvCTU8M9gGsSRWgHW-pUhbjUlTQejTffvTRQddZpCzcJWzTJZzUStzb7uzU8AjfzYjYLVJkbUrZNOaeDJaaBhwBBtwHwNgDXIDtECDlQGDoTuDHTr3OwQrKeTbkCEDiPZQGDuWRSAvQjpIMDi7I-u7JDlPV5M+cTlGl-mvaPYjp3QInFMgjdBqBuTYBqE8vTikDdHqLfdYHqA-VcTdCSq-YIdch-VfUIoeD-YeP-YUDdALKUBuRA3IPko-WEDdOGmGHCBuYg6oPFUknA6EDdFbowK-TgzUpgzYDdMJCMH1B4HQEbCQ8MGQwwIlIQ9YDdNlT-TYHoHhIMHCGYEcAAHygBPa5XoP0N7FZq+rMPWCsPsOcM8NPYBoCOf1CLiGFDiOgAcPHBSOgDCLKPWCCM3TACiO3xsPKOSO8OgBgCyMAP-CAgACkejSjKj3DxjljmjoA2jQi6SzDtjRjHppwHDcjFjAAhCcO4wY3Y2owExkj4+Y30ICH5TY8E54-5TYBE2A0In5UcKIx46o8Y6k9YEk0-UIlw7ExI5k09jwzky4xY1w2k4MGEBk-YyUxkoY741E343o8Y6EPY9YH4zYK6cghCPmsPevSHCxccEQsJKJBqBvAM6fePd6MTP0-DtMyHNQB4AAFb3zzGjMiTI6ZNf1TNL2PRaTSUkCdhV3WAn37MzN+GVrzOL1j1FG7FxQ3R74bl76CNvVYNCKQDEAILBTIPVNfM-OUxvPvMMNCJUOSCwCQCv3guQvAsgvENaDUMACiP94LSLcL7zN0AAcqoFi3ozi1i+7cLn08fXs3c7KSSSpSM4lGM6tpkzqF2ZMwsxc-cyS+mIIWS2MOqfttS4ULS3YvY3JF2U5ec+S1kdjJWp9gNXIFTKK2fd6HPQnKeXWbDruq4owDK3Ois6oGoCodEBTK9USnKxvevlkEKDvcc6c2EEq4eJUGEEoeLDsptZHRznWUzpPi63DGau4Q+sa0MypYMAtRy8y2KyWBjLDd6wNR4X6+2cs2sxQB8UG8a9y2xVazYGjeHYpT9djUfey2jToDIhpelJ64yMYdiNRiW30JWh3bM8fNaT3VwJgBgFRZuYyBGBQJIPdIYK+MJIwDLO2nWQLJ4N4K2NHC2AO4aEQmDWO0hG6BO2VUCJIJVYtRNepHJPO0Qmguu9UfMu3JGcJNTLznxEVIVboFrTDqQKQO4ILIhgYL9pe0YwwLlXoKoJe0DYCFlTAh+6AJlXNbla+6QBi2Uh+8bEtdXHeExOQJTL4EtajonHB23lByo+YOiphTiONboCNYCFmiNfu7hLIEe+3rS0q5B5THB4wlhyYICK2aR1TJfCwC+-nIOyAmUAnCPl+0zGqgIezDyGx1sJsMcnoNA9pGx2YEEIc26KJ6AGE0CPPOx7fDqHxwavPDSjAkue25aF25WL2zLGxzSmgkJ07NK9Nu7Hx9sOqqRtTu2ettXqJw9V+zh7lbR+MN4Ax4p2jox5MFDlVU8llcu5LZJNJMjt6FXlGFJz5zUn5yNc5-R6O2nC2IdnZ2VequCFx3prR1mkA3B5M-YMRfR5O9x1IGSnp7wRl4CN-RITyO55MHDaJzl0hy54wDKpuwsBh-oCV0NkCAAOTLsJxYc9ctdtcNVsc0ezDEX3SMDqQTfIdodHm3VlBPDDs+A6jTdAfPI3Q5AdAVXgIVU5zCh+zUhdIVUN5ZDggFedcZcrcjiTe+1uirf1d5eucj5x5jdrsIT3cvJ6AffOerezliDau6ukD6uWha6ERSyZRp7Md9TGczZRhjxTtCN8gw+BzHrWcQnV5jxpvWC0sA9UhA+UAUz-4FTg-UjkeQ-nce0LBBfw+8E3TzxPS8mMZSTMZjzPfoIER-fODTfygPZ4TE87TUiQ8r4pKTbI-aas-Q5U3tmA2AFYqM+BfMZrbo9w8EQN39Mk+yBdBdzxpbPc-wi8-8+ZRk+s8B1fj+vVjvvf0I9ko6hg8C+a9h7F4Scth2+ZQJh-YU+ULm+KjvtAPW-MD2-u9o4tfe+ZDvu496sE8g8DJpfELYXS87Vmo486t4-A9E+u+k-dV+6q+e+j6-1nKh9yCTMa9B+Jz8o4Gr7U85-Q7hlCL093YMYK+QU5+9EU0pD4Ec-Cpi0UhO7PBjyPkLDx6q8I+wXD8CE4Np627Xa3Y2cSi98r1dRbnYxC+AXsFD+LDycug0+nYx2T-x1243a3rK9FhL-kAUNrViD8hdIlq5xeB9QdDBgHD9+r84i99C8GpX8mrUckziz7Ba+HcmpXwtOZ-rNyfJ6AlySRE3g60UhGo+wZ4FbD1D-RPBXixAROl0EXCSBz4u8LIIwHHi5Qi4i2VXrgVXwjwJeKtDRF-m3QTEv0G9NQkXRnhXp66mdPAppCoEooskviDoNahgQkA0BA6TAZtxwF78ZK1tTcosHUjbocS26BulnR+TiAReRXa5OT1wI6UyUfocQXFyf459Bg6g9SFvxz581ZBbKGpB30WDMDQ0oaL8LoMh6c9Fq2QFgND2dyT5gwSDdvHQBMQuC0GCYOgGohf5zdda7g+Tp4LhDeD+AHCFrjbwQiBCset8R9lEHsGOCFKwQtwfEMeBcoDA1UGISC1CDJCugPg0WB0kvhZAdWYEVwUVA8HyAvBeQ3waAKp6cFAhCPXIdIDCFs9IhyMTIWag4SZMYgRQ7IGPVyF6AmhPgjhFkKSRdD7GtVBITOGqhfFlCqQhwfgDDBGAtmwgJ6HWUWFaB70kQOwI8Bg4JD+WP2QjAUNJgbCoOsobYfYL2GPAoeAQ+YfJ34I78eh3gYof0MqEhCDg7Ke2ncKtbjCeGpwrYZMN2GAiHByEHYTKlmFz55Kk+WxIPhpCGA4Yl6HCMyRkrqIxiX6agb2m-K7p6al6GSlSVYHoj2BGyHJAj3dYHBERWgJAYMgiGbDvAahEhlKkkF0ZpBgwJEVSIv7OAJUl8ekVoClQSpWRlIxgYMgH7U0DU+ALUJ0CyoI9AQ4owkJKJa4YIyg-I0AEiLMAI9qa1gFrhEBHgSo1RvBMkRvUUDFhegcMZUWyKFFs9AcSg3Ufx0H5KDVR1vWkU4EkAMjvKLoXUaMMKAuhVRnolIFyLpEujeR3lW3loDW7ZCdQPooNlzVfRs8ZREorbrYK-IFt7AkEYEawyYpKCDGvwvghXA5GnxRg0sPqGoU-7aYSxjQQYNz2VHc8URoxL-K6JahaIDcAif0c6NdFfdrusrQUWWNoCBtshzyasYJVqH1j9chaU4HGLlFbcEeDwynkmKyDkBUx8w6VEGIbFq5bBhAJCrWhch6AbRfg6aKe30AhjQY0AikAfAuG7Cv4vSbBDUNCCaIBEB8IxJeLhADlah8xFxBwOKSgBnCpQH9oRlsGbi+eiiFENuNDGoiv8X8ARIeNOJ14R4X8MwF+3ng-iv4ekOcaAEioAAJJFpIAACC4AcAEiwABKkVSAAAHksWyADJJRVAr2Az4ZmY1H4WAlnCnA7IgfuuLGD-iGJ3I+TqeP-Hu8AB9ElscQDZ6nj1A6UbsfQFbLCTSgtE6-toTrLoTMJOEvCYRJIlkSJJnKHif-zomNABIAkusqeLTH-jJAgEyqLpIO5aTaAvqYER9hOG1ppJgA7QgJOYm7i7BaQ04bSx1RIj3AqjTLGfBDAHQixdk7TJ5MdS-1GJKOC0Vjw6qSpqGYknSU6PCm81kJ9gWwILC5bRlL4AiAAAxVAa4iCd1OVFSmOCA4lYSgAcBbSFS-QJADKRkhO5pSqp3gEajwHxENhap2ueqYwFbIJo8pamR8PeUHSNoUpq4KbLD0gilSMxZyQEPXzJStThpq8UqXDXna2C7A0kHqaBCkAxBUkqUzhF-hmli9XwpUiip1QKlDS9po0sqVgTvDxCxg7qdQDLBAFeJoJ4YIXvkS6lHT20e-XaWlRGlqExplRK0Wcm35WUlBV0yQDdLkAyxR+G-MMXSjsDXTbp2kVnvrTOyd8m6qBEGWDJli1S8xBomEXjmIhDof0RfC0aBPZZsD1KNA7EbRVxGDjkkt8KgTJ1ea4FvExAYqoGOimLpMR-aZkV+icpRiwg1odkRUFGpGCj8CggdC+ShzmA3qeAYRLLKIRojOZGI0dLQL3RUz1AgsohF+HplvjiRSCRopklZltij0fM6wEyLgIsisA6KK2arVfSVEyRfUmoh2gFkWjW+2deQbfGDBOCAEyIXIM7OpmnopgJjMALLOESazNI44rIAmIPxuzyBHfW4g7MOQy0XZXfFtiQENlBjtxJiRYBShrG1DRRY42UZHNj4G0I58o8fnNEwSLAs5HUdUQei1HDwnpVcvUZ1xxmKA8ZNIIdFXI3g5zbZhXcWdnObnEJW5SwRCh3PYTZyN4JiFEUHPUZyy+5ZKJubaP+mkoa5vBNOZNTZlSp3RHQt6u6I6i+ibA68qmG2Nt47y+xhQW3vvJNlJJeaLXUuVHO74GQpAtU3wHVm3ID9J4s9RIoyBTC1SF+J-D8uuKjBYyB+ckLGe3Fam04QFzk4Ti6HoRbTc+5qDbnIBulwgvgDeXaC1zkjwKYUEIt+NKypi4QX5tUisR2KWDxTSF3gKmLnJvFf5Qw2QNQrVIETLTQQq0rIOtNyBYyZiX+I+SuKbGy8akvCtsZWIoUmy0woYIBR5HoXhEsZB8sIAOP-Q6VeFI499oXLLmddpxlCW-J2w7GbTVwtOaRYwq2lZDZxKYtQmmOUVk4DcpeFCfJMkD4SnUAAGSRbkScxpQHKXeCik0TapcUsKU5NqGsTaBwYPCBxLpFcT1JWSPCAmB8WhKnAQkzlCJOOnMQk0P-RSJJPSgxK5JGE+xU4pcVqTLQGkpJb4s4kD9gRiQh9Dqn0mLjDJxk2JYJLkWhALyqUyyfMPBBY8qlYIrNPXyaVZAWlYIs7rYNhwxLHJxM5yWUrclbMdUTC+xpllhxELUpeijtCMsro6ovF1DYZRQotF5iaQprMYNN3bFULyFfioUWeJlSlL5he6JYe5NOr50ZlNSMpT6y6ADDrUCCTSTJKHwiLjlKy2lNmKGWpSBIny7keyLeas07htg7Rfsum5UjTl209ljNGEB3j7AuoOEM7gOU3cUwEKjsWTS-DwqSAQNPfAjx2Vb0dFVCtFTglBVgi2euK3IBAOX4fcKV9gvMREH-G9SdxtQkrPuM0EMSoc4nbUU9MgnbL5xdgQKftJ+mRKX2fExoOPFXwsqh0YkyWfLLAnYIBENSsFEBPlXMCuEV7O1NiTEmnLeWDODpZcNoRAgxJfS+wWTVCAFojEZk95easeBxkTkSgsSYMGzHarlp9cSVQuMpXl82+-NdMopEMDgIxgrU3dOxOgWolj68UgROIo0DV4uFmIGVZEtZXxSFV-ydluBIySqqqYQE3SZqroWOAPVSS-VUcGqpGrzx2CX+c0qsmGDBCW8G1VZGrWtKrW001Ka6qMbursSrU4ESkRwLVI+iNcP-sWvAQiqPI8qj+c-IWXjqEeQ6l+fKpa5DqxJEq8yYJNbKLqvVuQcddUiDXCq9VYa8VRqsjXstMgby+yfQAER2LFJBEoiaRPABYFL1uE69SpNcXFcN17azJietHX0AoJDYQEMqm-4Br44D-JJYsvHg7qQ1hU-dcEtA3cLj1cgLoD4ovXZKHFziu9ZiDsUoaXFzYpQSQtiEfr4NRSn9TiD-UHQANLbCIJmzTArMkcEeCdfNzTzgcbJCBKjdCAY11lIZjG8WCQRY0iBs+TcAfvoKbitkKN6+YimKmo0T1aNMCljmxsHL35xNrGqTbUI40QLmIQYCQBJoTZsaBNboCPK2UQQ6BbIXQfZUpp0oqbbBVG6gBtJ40JtoVPaujZRtoCabtMNms-vJwZWPAWulmjadxqc3QgBIrm4vFzkxWkraag+ZzeAL828bqUChfKh5vBF6RrVfIXeBVRC2TcNy3m1dS23E1WbcgCm3jXZruEObRNVMfLQqzK1uapxLhbjoyGeF9DShVQw1jUjS0oV5NGm1jRVqd7xaYtKQbMTlp81qa1w7W3jYMOG0JsetwubrV2CS07cMV5xEleltZEabctkrUmAZsQyi4Tl9msZRcomXG1nkoorhpbKSTCcWtzBGQIZuPYLb1If2BpUklMXzjzFi43muQli1hUHt3qy4SIOtndEK4BKFIN1tFBJa9uqW+bdNw3Lra+Iq2yESGC3h98iBzk4AogLOBjAC2yzRzBbSFB5iI++PQnkSTRyFbKV+MZmrtquWTKykh2mlC5Fh0rZYBgYeAc8AWrVcutB6ORY+mPSSMoxE-ZQL2PPn79p+nIrQP0ivgvZKqls62Y0px1p87kZ3ezoRj7RzjPtuwkQWUl+2lBTmgOyEElql1R9-8oOhDHxGu0bkddeO5tDlK4TCQ+eqDeKhkgACcVQUVBIBdhoNTlBgPAaTGt2nKN6l8XwIMEEnECxZtwtNYUAr4pJnAayTKdHWt16AuuXXFMGgAT2WqMcMc9lNHq+EyCwgnuspcFBHZlLkITlP1M2VrUWDMQWei5TnrWCDBLdQ28VEgzzHqBUF6CmCNKGDWE7GVIo8uvMKB31q+QKCtBk3oOaAgWtG5Bvf3udKDIPFpMDPlIH2UxAC0vKbwOkBpBAsSZhgUADNAER697sLQPntPuAnJ5ngc+reFhwqADLE1KSMHIwCX2-NpOY4mkKZQrS4Fo9gIf1AGmn3r6OxFqAtNYFf0ihhZmep3Ug23GvdrtX3I0KkRjmhp4Ueq+cRbDGB-928M0YPSkFnWFSR1S69dSuo7JTcM98KS-dfspi36FU9+i0OCBUE2Bn9r+13BuslAP9OgqdKg3-r7UWC-VKQSg1QYDTTcO45OBgBwf9RJ7rAZezpeyjKXXLq6tyo7eLh+66K+ZdOxkAzq+5UjXVPOggEY07xZCztM0J6ArrMWu6mYAEXoseIlBhacgdAd1COyP21gj1a+jfRki30G8993EWQEJ2IDf7yqp+lInnW4IYkwduirQ-Lt0CK6ntnS-Q0Rv8GcFUKllYhMCGoCxVopfaFUVoFUBqp0UL3XLlTFn3isqAiGfwwywPRO92dqhzJp3lsGezmcUgDyMjv9n111El02GaDPhnCjyBJAp6fcnIPWB4UiohOevHQTIGnkX4L0jIGYFUFWDTyMYkrLnSUyWeGs2lFrPxXviSR4uGBOKJ+TVU0E6M+GWbIXQeAM9iNdFH2qZp1548g8p5DAg2PgyuVbR8TucZlhb9EFemFY7IHMEC00Z9RjGTYM9DT7QDXXEsXoHPkAAdLAHOqjaT5YD+AcBAxyZjsMJGUOIlHHqBD4HEKV5LAF8f2U-G+JfxvsYCeBNezxguccE012AlnJCAvKJyjgjJQknQAAAL0NDVNAT1rEE10DBMQnCjOCGk7CYKzwnAQiJ2QPmEJQ3B78ph8wz4B+OMm8Te6Fk8E0q4WNkjKsCqqQAqpbdDQXXCEHgFRO6LRTuJ5k4SalOI9ZTQIDwPKcVNncuTIoIAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDKiPcOIyR0iGCyOoIQnmTJFqaIkQIRw9tUjSDoPI5GMJ2R0Cvh7L2Rs-B8KoWAwxGJjFaNpmwRoNjeGP34QwpuYIhGeNBidAJiipYqOtgjYKJ1VBuFSCXAxhcklcB0Xowg0TsxuPVmEkeM0x7UBUu2bEWSZGR3ntw-+yClGoLThghJoAiYzFJCKcpzhKlSOqQQopb92DaOkEwHRhg6lIP9ugpgshcBqK5IM4RG0hZVKYLBPJjoZlzLUUdZhyyukjKYEcFpiNF7Zm2csNR6QikFxKSTfYI4SDd0rjwmJKc0HxPFoZRgBxc7EAdkszx1VmC-KeQCxmXRe7V1UaSMF-yHZ+DFl0Fuyz4XPOSYIBgJdrEJykG8-JQT3Gos8SsKxc0UnYtzqcqF5zHT12RUCjJuiKVYpxZC6h1dB4ov2RElQ2KUgKnRRCxl0KYk3Wfjyp2yzQYzzUJi1J1KOViuzKzUYwDIwczuLrGVKgvA1DqPIhRqrGlxI3pg0k+riB1HSTNEFTArWGsmcarZL5LVqhtUi4OJLC6OodZQPxRqaEauJeCO5EDjm8F4CLdUCDnVJ1iWvL5mco0xtaravIesRm6Jqbk+NgTAGaqbj6mas9NC4p7nSmgBSBEeMLpFY50hy3cDsLSgljo1VjFbUymaZL5VlpbbwNt9T-b127SWvIMizxlusd2lVlYgHjrDWHSBs9uBZJlg0xNnz05ZOCnMfO4beZLE4EwPknsjBnJRA1E4Mp65qTrFMk1nc10nBEAsUkB67p9iaFzKIwjtrvXiFAOAiBkDoH+lyYpeQobDixWo3OA5OUxMYJ4CGsHfwwzhsHHyCwtocx8jsVGRt1a4YxJ1EyFDy4vt-D7RxTBPYGxIwrPwiHPi+WJus9+O88EH1I7aBYGGuMTg-rx1qCHCBIcI5x1h3h2H4NqThgTuwfwvugWwsTcbMFsek+HWR7clUKzI0JtuOc44Sak7aIjKgunkAqSuKpOa5FGeU0J2z9ns05Is+x2ynGNFaMc15lzXwFj2r1qqbxpjv4WIcBWnGHF3KbH8xI3x-iWPtMAjpqznHhUvOEMZ1TuXsiPIRQqqlcc4vCFY5JnzsxrMOo9fxkLKnsSOu87plQUTgsWRayuLr2masdcjdG8gsbnNKea8kaN-iMOHFSNwLNgXc3q2q0hhL9EZmMa7tYmdK3dg1dqzMPy0gApqNCuFSKMUXZx34JwUAyVetzcBTqzxU3PD+NKH4Gd6YsJyw0LEOz5ABzMHC6UEw60n2OjewqaR5AAcUGB0wUHRAvtNp5c2SCeJfs2biLwSgKYkfCIW0QcH0EpANRkSMIIhJZvwazal4nhAhDrcS1ILgqRhmIcfNQEu3AMucSzWYo2ljrFg5Z6zmYM7xcS6kItyT3OzMkjBxhEdz6km-0p54fLd4Fjq6ksJjnJJNfa7LDsC6Lp8xCSgrGfy7RGfBTChFaKNBnakEaPYe7KVoc9WbMu5Zm2IbbfXVIugq3tLIwbbtrJXQbILAlTZHYzFafzb7dOptweh3M-22t-nkgA80ZHNYqdjbm3R6z2x25zs3NlMB9QXp2Tlub2z5u950gRzruhvNw5azxl7Yr0TQTnfjbd76cJyr5fBsZj8kP7gI-pHHK133mrL3C5CaK8isP61seQ1iIKsGfznkcu0qrx05vDwZUxyjTcsrgyssVeZxlx-ZjI2T8bVPZXeeMp8Gxi-RZrfjnRHfzFgL0qnaVfwW0fHlTUDZUMy1WZx-3Mm3z11owgPJWSQRhANJ3aWRiAI5hAJkl6CtxLGwOrjXxK0P1zz6CgMpXZS-wQMbBRCsHCULnzyIFMzWG4G9mHRP31glU4KNhjx63jw42YgpDYP00PBpD8FYMNgkI4MXC4ObgEjaWYJmjoHVBcHx1PjgQPnHy32vweQPxFUYQh3Jz6mRRlFyw-2pXHwIJ4M4wFTd333BTy0EIzDjzZnaR2Cm1zgmQ0IY0CHk10NQOoJgIfzgOZ0oJmHUJCACO0I4WcGsXtSKyiMS2L2gPv1IEqzuBVyINMMh31hPiCPE262a1USKM0xGgcUoUKS8Jk1nhwQ0zIRKImzLEshfFk2YEqOoCo2vlAX5x2AlQyj908SEzaybzY3WgalSxlD9QZwVhkgahAjOi2n8K0OKPbGsVS0fQ2nRHEMjmjjWBWJkPYMMGWJ2Jfxn1S2ly+HZ18MhnlxiEVyXHVC9D8H2OziOLD0r2WSE361aUmLJ1sVhGYGQPb1z3AMyT6Sc0U3i1SNmArxXxmhMwkM-wGyQymL6i7hlHANMw7i4WDjDxklM16JXF-jxOpVJL2y7iJJRGRi7iRJg1U06I2PGwBJq3WhJOqOo1-hZO6JcG5L6MJPMnAL5OaM4SkiXxz0eAQI9EkCPRoGrxEx43FLZO+UBJRC5Po1-gqNVJ6MFKoRuPAN1J0J-klJY2byNOXzDX-UMUAxiGAy+jA1+n+nSGg15mTjb2Nk4Bb2zDu01i9MZOhBBMJ0MSMHMTkFiz8GuObz9guTdTaF33x2GT1lJBuIYmi0jKsWjIDVOFlIVM40TLxwJ1B19I7VNSTXTlwC3lx2TKFlTJ7UzWETGUzJFwWzLKZGJFmSuWrNAEWQnQqHp1zPbLjNdXlR2V7L2WlVJWbK5yeN51wA7KJHHJ7L8BuSDL0hDLBOH2oENyXNhW3LTI2j3IHP1m3O4C7iXJQTNRJBpMMkPMbIqG3INyVUvNHOrSJQvKkmHgLP+UxEjlhgeIHAV15w1J0mzEXHzOdnf2iBIzAvsPrigt+JIH-OYHcA+wjM31EF6DpOrmYlgvtlpKsAai1mYEcIVDnJ52pRlCGPdM3LhAIro0oVD2-Ckm4IKPfEfGyEcRYu20fJdwjNJNFwjO6BwvAvpTVkYv4rekEqDykrEDEvsMXCko3N2E4A51WUeKoofx4skjeNAHcGDDIo5KBJhVzk0C1m4uYo1jNG8Fhksp-DcOa2YjCwjKsvLl4qOC6GjKMqAsOyOwxHMssoNKhQAB5Ar7KdAvyvR-LZhBMTs7dSQAAVTqKqEIRoYIJtfAHFLaNkEbNYHYUkUAAAajaRl1Jlhj1DSx4pEFKqPKKtKvhMkAqs0CquiruAy2O1O2StStwAYCikys0GypsNytTXIAKsMhKrKolxarapCtqsMmCimqavww0EqtwH8Ucp-Odisl4FJJAPcvdiwpRCr0k2Fk6nZHgtmGdhiLzV0tYpivyJmATT4PmvhMEzOuZHZBWskD-MoAAs0CApAqVX71Z3ukcTwhrkOpipWueDVi2pWvug0JDWhu8tShVC2p2MIMQM3EQ0htIp3z30osVyfxmFtyfANId0IFphTGuiNh9wgj-2ILLAakYplBgrcvoIzGRluoW0EpCr5qNkiJl1l1krYsFvthV2xulvsMQ3OrsHXWtNULyC1MoQOspoeuOvpGQoHHlsupMvMhuuRpCr0vYq+BerZlRtip6zlq+r5wlz+oBqBvnJBoO0oPBsoUhoZRqtSIWAonrkcr0utq+CRoZlQhqojDGExrsMEmmtmCwjxs1klnIudu0qvTLHJuhqppptCG9k9yLgMzzixoxyZqet6FZojPZsgLPEYsVqQxjueurl5sYqEolq1HTPohbrkpEuLsEkYNwv9ltourrtuVtMZHtI+hA2+nAz+gwDos41h3hyBxByJzB3nXNmUUrKVxR0MkXsB2BwzQqD3oR2YDh2jXKxSTkTXqrShuUpJ1uQamPuXtDPHplFUVvFhReCPKkBeDvGFtmFhSrG-skCrD-ul1hUYmAc4ukDAY-rdXQSgfQVgaSzdU7SPM7VtH-pmFhRymjX4EaCPNwZngyq+Cwd6FhXJuAfJrLDIakFhRhC1mOXcDoDTIYZ0CYe2keFobzzdWKqgakG4E4D8EaA1gAD5QA7tSqSHuHlySRSREp+HJBBHhGxGJH7tQBpHwG3UpDNhlGNHVG7tyQNHJAZHYVgBFGsghH9GCRxG7swBNG4H05SQABSCxvRkRmxtR5x4x0AUxt1JMfh9xgxyGkRrRpxgAQlNECasY8fxFsdAEicJFCccbkdCrcZieCfCskGSZQacdCvxEUaCc8bu3yeyb8acdEfSZUeKdAHEbKbCbkdEYKb8BmCKbibUaafqZSbJHCYsbUd6HackHCakB9NvDBEfv+33pXsMSEoJHMjsUuAMD8CfsRz1h5QmbhymZfvKkoHcAACs3gsi5nHgFnShPGIHJmT6jyCllcZGZgVnpnx6wRepNoHmx83AKs36XxYUz81gjzfmjwO6RbZGyRIBCBLQ7MCGWmwWIW3c7ngWeGnG2GmBYBIBgHkXUX4WEX6HBB2GABRKB5FvFrF4F2FAAOX4DJYsYpbJeDpFvGb6jeaKJCuOc2FOc8frkXOWcuefpPnWcZZ5cRyKO21ZdmHZfaZuf-H8EFeYD5eedblTRhxle2avp3rLWaSXOhxYBcH3GkHey0CYD2f4CHHUI0BSHtvojebPu8BLnEzF0oPVfQTMBmBGMLlPDZFTueKXLuM5y0ueNzx8PYD4GVazRNrjtZyZe41LmsqBd6EDcMDeazV2YObIBYp+sjeVLPD4tjakAJpTuJpLgfr6gJs0ExEMocz9ZLksP6D2oLaVWebHs2JksnqdJ+kwDnoLJFHUH4DICYD+TUBGhhGkENU6KvKGGyoxifAKVHfuB6xrSARnYWtJCYAatWq0DaunYaN4lnd803fUzXGksTJhDBiF1SAmXUC0DNuRh7eIGypGHg2yC+2IGIFUe2lKu4BvchtJCKo-SKsKqWtKpvZJYzG-a9TWvLWkp0VIDdyxnA9R3LXg7GXtDhbEBIgHuzBaqmtJDJCmqPYkUYFPY4IWfVag7d3g7uCw6EFJFPOlbkCcMsSWjLTHYNktqY-Mg-QlTcl81lRfCY9AGVh8m4E7RRqY5EAJlvqAVE4SYcgPVioWEWcMD44Mk-S4+ay7ccF7f7fKiHcNTY6nyyHDjGrG3nj44E7vGI3tkZ0ZE82W1E7pY-Rw9KtI4VAY4U4-bR3c+lnB0arvCKtXYNIY2cUs8W2hK8yk587LD86muc9cAcCWgKV2zs9qoy1pFU5EOQ-8SMmJCPLLW5bo5c7i53bqwXo-E87k9o+g8y8gekJfHriY8jrK6zxi4Y9ivqxarK-Y8MgAHJV2y0sOevzJ7oL31r-EmOaOYu-lpB-FJuPHTLxVLb7Z0ZMZ64ZvgPAJYUQg2B6r2h6rIpXJM4qgux6q29vBaQiuZgFhnO3PVuGubuKv6PCvBv7v-EVuRwpus9Fw7uJu3uRHVKjWTXiAzWs39dpEagc0M9mO3tRtxMN1OuNujP00-AQuG85EN0c3JAFn-vgxAfyAUgQCkOweqhyOIfzvvgLPjZYeetYUD0kV6NGNvYSenuslVKZvL4btT1QeAUqgIf9CDOVAofjPckN1j9WbmyDSZRzIAv6eSNkf+l55he7CJnCfGAhYZ0ZQFnWeHF2eCeueWKo8pEpaXUXcxeIblPIHOvmJ70YhdfU5vtXFPzOec1be0c+InvQ3TeHIEGLfrenfVe0c3eTfPblOsfTXcfgfaM0unhoGrPypKbc9MfjXsegf8fHeifBrrFhfWvo-3fKFuXlfneIPf9hJt8GfhfTDkZqejypeguKeDedi8iycOLmf+7laKg3d7Aee5vn0k8DfOvELe+ONM691DJHdLtFTQvc0UJ3dnteVC4u2bDO-0PyyWyuLKfNgFhIKB-fMh+pEqancrsls8h5+KtD1W5DuXIRpSBKAHVmADAOBDAN13yp+O-H-lOI4juaO7-jlz-yoGdH+u+JKFwY-lkRJ6qV7U7gVgCpFhhfl92vgB6n+Cf7MROielP8DRwgHsADWnRbgOgKgHSwn+9cHAVoGkqEDAKv8EgXgIAE0BFw5A4gZAINasAkcblZATJSFpP8I4coZgSpVn7Il1KvhGAY0RojwC4B8lSgdH3AF0DoBzAy8kjxEqqUnIHzCgPBmH6MV3i1NOsmpiYBJB2A3gaQMeDfi8AZsBvJ6tvigQk8y6ZhTaOQNmISDAaDA2usoNkEkF-YVg86ARBdCUEFgRAHOkLCgSaDNuOgjPDIKFru1UQBg7ATYIOo0De6oAPItvh768AsCZYZGMxDaBhD++CQrPKkP8Sb8Mh0Qhvk4OzDN8GCMtDilkIh6qV5o+gWIMNnuIcBiGHBOgL2DqH4NU4dANaKIOE6NDyuzQxoK0P5BIgnulvNWF0PR5ZBX26gKoTUOGQ9CGhEwxaJRGyCLJRhCLXoDMKFhtC60JSOOA4HpiI41hiwvwGsNUDtCl+vBS2l0M65HC2hAwkQqVwZRLDc8SITxqwEsS7CuiRYFoYYCuH9C1uZYJ4e00qHzDUIiybamijmHVDcAM8bGMkHtxbQlykIwQBzmSQLQlogI6oacx3rapuBmaKEUiLRGwcqhzHV6uCPK7CFuO2wvVvoD2EfDehhgdpAyhJGxt-h4jBEdB1zjIiqhBIoEQwhRGCJ56PrIWHqDHzEhXyW7XEIcMEBBDJamJSwTYOsEYDAKdgpgWKMEFcDxKNAFwXuDcGHhOuAo-gdeFADiJvkUlQYYiIcAuAGGGkcgZEJsFZ4jRUo6SK6xmhqRLEFowQBpDUgSjjRIlJ-mzWU64An4fzcNlH1JABigQfzJngcCOCXovRIgTrmzXlIcZQYpgh9MGKkCCZeBwyIUbBBFHmZPRhoyUSwMlpPc5YpXVMcrBK5cUjR5XF0eaKYCWioqi4B9MsMeCLhqxLYzYLWMUD1j3RUVe9MYA7ES5647Yn6gLh7pPdQxgYrbhUK0DeAr+ApcEYIyXLMQrGzI66GzB+KeJEgbwOoMchcDv8L+JnH-s4D8Cs98xrPEQdej6gNjuy4oLXDKC7Fuj1IUVM8YWIPHtg-Ao4ziBeMcHqi0qz428VTi-ZhjvAW3TrmSOK4A05x+pRcTeONybjC4loVXseLRCXpXRDopcmiKRxQiFm-OI0dlRsZRFtx1qPcd-2cgIJ8JQUd8GyMUAYT0efVACe+MSJoTzRGE25HOJkAjBZWyZSxDKAAAM5gAslaCiizIuJw2NNOVHICGAZYYktoEQF4mEgTu3E+SWkFKpchjo1cJSVxhUnSAaO9qYSWpgEHGxmBWkgXhfCknLjSuKnZZqV1MkI9JJbABrou1UqyBvYhk40CoFYDjAuJx4CnGJLMkOSaK-VUSXJgCkjQpJdUE6ssgmHMAooRwQ1P-3MgJpTBj-dpKFhDIGSsBw-OySNkF4sAjwdRUsavy37KZmIMUpgHFM8CGp0h-4eEuVMqmGochrvU3GpV4DDE-x9U+Kd5LXCqUOA9gdgCoHl679WKsAjCetFdyyBYpXU0cI3ykAmC10WoUmr0ATpRio6KouAYtPMHP4uUgZdpPkM4jTF5RuA7VowLgoYSG6jwZGO4EhoAsmqCwAMcWCao7BOpVU8IQqMBpkDDeswKwCRH2nc0t0SeOMZxA36TSKpXUxCuDnE4vTGpQCRaSEIemMAG6CkU4ShFBkNTyhTomDJmMFEQw8csiXEPqPFGa0ixM0q8bKPelHT6BLgWupwN-FzTNwVgxJjmDTBPVkYRAKqj2OfFvTjpZA20Z+JWFSAfw508NrEIMJqZoqpOEWjYHJAyzzI0xOUYSGtFKiSMQskmdEKulyimZt0toosA5kNjCZNEL8ZIGtG8z3pkREiBbNbAiU6ieoqQUcHOmMFL8WEPqb4UGm5JVZtMoWqJWlmyzLp1cSceGOnGOzS6s0pvtjINlwDVZao33K3xoDsyNqnMj0b2F4DIRLxf4v0Q5BAkRiesAc0CZHykB+RVpfAZOYKHjERkSxq6JiIsjTHzA1KGlFgLjP+qRwCZvAEuRhIrniyU5QM9fnXPuJCi8ZzcxECnOWa9h5KoAH2eSA7nMRW5SsFWEVKYilyes8chUPrKbEPCRaTYwUIOKkDLzE5fYtWDPO3mAR70W8o2V8CkpZ9c5fzOQZ1i4lYwwi6dewteS3r3zMiiSLiYfRoAihp49AOREpKXIFJ-50lLSQzn-lP9hOA8IBEAvK4bdPAcUxoJ6RHC0gnu87FUNAtUpasJESk7qXANfE0TCAp4n7qdOlFk4Go08fQC4CUkyhXJRsdybiE8m5J-5ixPqLvONwS87wu8-WXgvQlGzv5v4ZbOQtiL-yj5vQH8ULQ0n+xWFuiICf6KnH5za5EEgKq-j7Y-ccF-qQNIIsoU+TlhUEuQDBJRHcApFd4oeFzA4lJUAAEniyYAAAlEKAABk8WyAQkLRQLIMTEgIU3RCxNolqyn+9AU+iei8VM5Ouu0bVhwE4CpwlJ1iR8VnxCVHA+sXE6xNJViWjAPFiSp-hYqsW2KHF4AGjiEsgFcAIlCSwJZhPBFTC6RgEEJfiPyWnpz08yaJSIqkCkglJiUNEbSHR6VLFx1k+8lxJaXgizuGCxVqksCVjTRBWE1kbhMAhUL2mURTBR4pwU2T8FdE-nG4vYaRLhlashCWoWtbMAZu3AbhaxJJkcjFoJSlEdhMEATLNgfo8Ru0iwnxtP49Q8pZ3UgFkSuwzE-Zd4qkrLC1xWrNZe8oIUbKbiLdNEZsqZJwZUgKihwNNx+4OijlWkGUeiD2BnNCQu0BuNPz2U-cs8pIZRTNwZocVEVRAG6dqLWCddI4u+OTLspm4wrgVT3fFbkmAHWI7uQKkkTfNCVcBjQl6Zju137FDx8YeMeolOwPnGAQVFQNQO0Fv4oSXADA6pR+wlXHht81S9lUxOoCJDNgN6JoDKGqVnpOQF6JVUzgbpkKFArk6dBKthWit3IHSgxf8EMi6relKI3Ffc0CDygDu5E5wLaqqFpl2kzEXVX4DXG3sTslJXVbCtyKX4ycTBAsqKtkAeKTp0qsBaQsZZmjHQhIPhb-PnhMKUQ8qk9OyuiWk01VGVQkJqtqXFL9VfUP1UaqjVoizVnEC1ZyKtVNKelrS6IQED2inA613gN1YtA9VlhmISkn1ao1LWUktJwK+viGpb7z0v+Wk9oC8sPG5JdVzHbBbOprlXRx1d82dU9y-66qZVLq5VZ-zYDISt1M62VetAjXir910agJbOuYWbR3Ye615a9EJAZKmAAAQXADgA8W1ipKpAAADyZLHJSiAfXPrX176r9T+ofGldvVYwzxteqnWbELi-slkNR2xEVBl1iIWNSiGPVRqpVAStNeXT6hQbIlMoB9VkscUyRCN9ixxaBq4o9qIN7TPDQktg3+xSQ8GllSnRFB7MicZecBeO3VRl4aO7+VjdNAzxXsC0D-EPMApZTCY2NZQDPqJqf45CpUBZUGCnRyiSbGQgmokZbR42IaXc1dXeMoBU0kgONog9IfJudjF5lN00aTZnlk2wzRNNHK0JoCxRCxdlhmlGcZuFVfzqAezSgF5P41SaqVJIzjYTScK+bVNIWrIuVyZUoinurG7zYwvE1hbrECW34b0GxWqK+NnmgTUltogrDIthI25E2rJCbd6qqWyFUeRi2sB5WyyZTbFu4Dma-Nhy4FYFqU16aicdW1NqSM8JJiKRbw+5Z8ItYZ0h8EKqbiEUngtaygtWsbe1v828jstrTVRtVq8lmbJtIAtreFtm2JZctxyopAVsY3SBitg2nFYcL02xbKtniezfBilwNaAtoy0peMphHLLK6cTLAMoRmDCcStw287WeyG2jcXeDS8iLOL0ULiDFF84oC9qj66L5xsKtuqDrIiDE2Y620WrQuBWPQdte3fbWCp2U-cjyn2x0b+XCW3t5siUv8eAWH4lsy2lSSttSnc2gAQ+OPPHuSTRzTbCRxEHmrdpwn3aMwVyomAUoJ3Gx5BE8HBPNhWp1dftJMo+ReSR5iNRxmdAcPzIFmSBzs+-GgGpBGn50Gqz2y2b0FJC07k+XcM7vZy2gA7Id+Ik0fpwlRAtNtWkFHY6u12J9Q+9OqSOjswzgrDtNOu3XTvD6oCcADUGEKeiIb4MZQAATnMDOx-dQqRcWbVD2qRiGsKlgJYixh+AmcxgsWcSJVXfSnZm4GgAZD4lLSpAYe7gF1y67BQ0AJe+1YQRHVlh89DIr6TMDD2x67MmMLCUHCzw0AUo-ZcyMjNWHR78G9e+PSxV926bcoxDanUcHgWIK+d0cMVUzuOW+j+a4I63XI1H34Nx9Tup7N9py5wLl9rgL0qdsLip8VAuy1gE2sHAOBaYkcFDnGs2h7AZQmvRoNr333hlGAQnQgE2qw6mB+l6azcMDmkBn7IW0nQkHCnDFF0nq+e+Rg9n32gAZuKMF-QNE9wKNnW5kfPd90hV7LtQMQkNXJCwiBqr+N-Y5Luo4J7A09kuXdVGsnUbr11JqhnIQeiFYRv9v+t3P-p+RAHXIueyQKAeSgcGfgt6mgHfzWBwGOD6UdAyHIUgV7Ng7Bjgw9igPG5toEhgQ9ELr34iblpSi5YBC50S5kDw2r8fzrjiC7jYewB0T6tl1vRVGSGZLY9ixTfa9lSKI3fos5ESo+I9fTGYOR00hA6AUUTGEfsCC+S+o1+wkLfvv0+9ueZiJ-Z4aCB1V39KuCugIRxIHbVF+hw3bDGglA67DG4+jc+j4KMUnKF3QyJFH-GJAtABYtwGZBIiJ4Mulh7Q4oPmzxHOWEZNGhLuMOeNTDpipqP+pfVvqP136pxeuNGCCToKcgdxbqqiUJr-lac+wn4tZU8BolwSuQBMdt4Sqhj+CmJTMbiXQbEiuS5YyksGNPDRBrRwDR0Z-XrGzw1SuY-uoWOuily1axaM-rCVaqFQF6epdaolXtrYgh6ffZYa67vjuA8ugADpYB51Uae4jgdwDtAlo5ujRio3Bz0Qi9WCU-f9Rn5vHdlHxn-l8YFm-H-j-UoWECZBNGAuK+AQcFnlODMQ8ToAAAF5StQAvxyXACeGRYnpAS0Iw6cDJOQn3I0J0kHQbhM9Q6IeAFw6KHcNPgPj1JzE9f2BN0n3GNXJxvwHqruB6qxAeqltxMBdcwQNgBE6ooFMYnXAwp7EzE3FOL6pTMpuU2d1ZPpQgAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vW+LmH3oD3wbZ-NERx0Un4fUubjYhF6MtIWjuBj7lxP6-p1g7O3EQfwX1dyXxvFXyz1u2SFSBM0L2TygK51bxP0C1iUcQlSliv1yUcR3xcyALN1AM9zl2Z0G19yNhNnP133rxmkPxb2xzb2QPNXBBWRQXoHWXNhcwwM4j+UuXNlp1gMfwTBGUCBkA5jxB-1yS4NIDeVwOy0EMqA5lJArzRwkIBWljpwPyl1kOEOth0HX2INSCHQLj4OALfQQNoKQPGliQMI4I8kswMLRUbxkIA3BCsO4BHUUMGwMJvQ3TvQl36zgOlwzQIJt3cNyS1XXQC1tSoMXxGDcLtzR2vTQOtXsPUITFXxkziL0IRQHWRUhUMMiIcKlyRwz3SOzw3xx3WDXU7VULGlgRSJMLDWX3vSINyVbi5HIyMOMPgJDzMPD3bzI2sOuFPTETaOkI0KcP6NcMLhCM4jo0APn06ICMaNw2aMV15nXkXhKzUKLwTDmm6LD2qIsPBHwWoCXmjzEM4lMWcy2Vh3322JT3wLL0IIyNyVqXnzwJl3d3AP5FKMG2qVqSIFqLuPgIaIBPOI8iVV6VBIKJAJGFBOmI8mvX+P6SiNSPdzhP21kEO0amalOzagu06m6h0EgPRyOWGjVmJyl3-nEnZFJJWJsKGIwVv20Sjm4EU0o3JCClx0YMUFYXYT3nBB63QjZjvxZNADZNlR+JaPfRYTYXkQwRkApJ2IOSP0QJ3BkCsmYV5LlMOwGMSUO1DmFOZN0UVMDE0N3m4FEPhPMFEUAIVLezGOJSEPNNAAUOeIuP1LMXkBVysRNLRHySdPVN0F0NyUs2s2OTeF8V9JQzBHBDDOIAFJUHoEjKtPgLjJqwYijN2JVJ6LBAyxQMqR1V1M6J1R8WZVeijJL3LODLBUcC+HdnWjUw02ZTM0l1RLtAlIV3BNXX9nDmGhbI5JHyXw7JI1rPwGMDEQkV7N2UKAHKlywjkA-163OEbHxz9n7SRU9OUUsUZEI2JMswXN+hFxhWvijLJ2m2PIYhKM7OtN7KN10V7OeBnLjGiMGAPMYjdPBNvKKTfMfL8P8JvB-LpN8zVjkWx03O9KMHPPoj1FZPWDXKBntIEMmjEHx0gtS1gWpI4HWlQtPBDUaSwn3N7LQo+gvL1FmRYDgrU1HWaCwpQtUGIuelgQAB5gRkKcLOg8K9YWhSBzIIQAAVG6H2IQXwQQahT7a1JsdY6gWoZocEUAAAamFWMT2hJnWiFBTiPPCEUoTLksUvcxiA+FUrEHUvTLIrw1AFMh4tfnBAEvwCamIEclErEHEq7UkoXmkuEFkoUqUuMUMuexMs0u8p0u8v0pUv8pkBTlwu+OJLyiNyd2myCyRDRwzhxxumxH7JWDAT3WpigpyzIqpWEk5waM0vc31imlSqIFs2Us5mhjHOe0bK9JUX03c2aBF3p3NxKuUtmCXyitCtauLSWPPNmRvCir41YjlXxQznp1XKyI3MUUassQbWmCiQYrYCslsienKCaS0UyW1FxWfQaEbDfMZCVTfOKT21jCCmyt3lvKPJuq0W3WqrzC-MvPurOhsSdU+v8JSvRHSr23zReOVzis6wSrysStiBHMrAqr+rKwOqajR2uqPOgsBMuqKsDVWs4r-RtmhqqrjgrjrPqvAqaqBnMvw2-lS3aqX06r0lKHgnN1wugtJqCWuqIiGptDtFGp7VAB1AmoMCmupJmvXNxCJsWoKqKBWpF3WroE2pEG2rOjSV112qfA5UNVjCOt7JOu7LOpiz9CuoGrfLvLer5EFLQgNu-IfLGq+vIlnITB+rSvOumi8wOwLWxJO1anOw6iuwwGJIQRJmIVQXQUO0wRRJML2NxxiXBCIRQTQSLKjpIT9iQQXm8NJR1m4WhPuI+LtGsS80Kj9ujsDpdsZFx3TC5LmATNiDmFXEeoaC5I5HLpiA5CrqUy5Iwnrp4A3CbpLqcPPjbvPk7vjicKKITKKOdGrqKC5O4kMAXnIF8ATMnunpEsVDHsKC5KiXrqiVjGXtiC5JuHxxqRYEMAFN3tUH3sahWC3uGScPkrbtiH0DVm4F8HCABAAD5QB-5FLF6L7oyIRPIb6Yg76H6n7X7-4fJP7m6nDE1pgAHQBH7ARgHQBIQYGYgv6uTgA-6DB76YGgG37QAwAwGu6dxwQABSdB6B2Bl+nBohpB0AFBpw8SG+sh7BqkqUR+8BwhgAQklAYcwfIfgc4aBFYYIZjKYtIZ4aYdABYpiEEYHsIaYoBD-sYbgZwbkakdocIeftEcAaUf-lftUbYZjOfvke4CKEUYoZ0aBCwf0YhHYfQZwcKAoZiHYdiHJPTAKgEzjoDo4QLDvMBBXGfyGBp24A8dIT3nSNzqQXzq8dinwBYAACsTBbVfGVh-HkQlGW68746EyS9rEv6ihgmC6Cx0jIp3GMnPG5sRNv6uSsVagEzqnUwTanquTIA6BvRjZZ7jHmnWnklcmnrL7CHj6GBYBIB66Bmhmenemd6qAT6ABRNugZ6Z8ZxppwgAOXIGWfQdWeWaZr0jcfeAEHyeG0-SPKSemBSaUfNwVKCdKdIXKd2apAOfW2vhOYaDOYoeyYvB4Gub9luZOGvJcHwUIS+aidTqgScv2KjIBYYGqHExlFIAIXqtifIGrCLRJk0FxtXAOcTo4ClnZj0QMWoXBaOCKFRw8PjEIAaq3OFijJU3kRFuFiGXnhnX0AOdESRp8uMQedz00oadi2nREGZaBdERifidMBhVCs+YifjsOeAxPJ5diEFsRWFvmspf+hzoExmrEC+AotNmVe9NbTJYpYgrTGkHhsLpxPdvakuwwG9r+cTPRgoFMAYHLg+HKhuFIA7lq0zNSHSC+03ErKnz+GzRXG6szpX3d09ewW0oYF0rCrUoioCdDfTJJhIiLmaH9eTcDbBPMGYRuBzk0S0FpyMpRv8PIGUGUE+wyCeSMGgTLewcakUv0FLeUHp3BDktKFbYstiSsm8qbcWb9FbcmKLazZcHNkoGSRGiMqoTvinauUkG6ciGghtsDD8vWiCohG8pzedmMHzdqBPWxFvlnbHZ6BgUjdiWsHBBTM+bndxEjgUEbeoS9YDWR1viLnbbDV0hBkJQAxfdAEp2UgJW9fRpvBffCH+0WOA4ffCH4diWKHhGDYMHNx-epPBFg-uTtcOVLZnGddijdY7hfeMmaAA5qSktOPhh-b-dXFZ1+kuLYOuPvaJyfj9HbfXcUtHaRVvYTcGFqRA60vZedDkpjdf0vh9UwW8ewLo5A5CtXAE+8rY5vbIDvZL248g8jbUXhA-azivaPdylBATNviuevaYAU8Y8-dJyjXw-Hjk4hFbqTQA0Q4ffZqyBA4M6PaM9IEEgjQVhXY2gs9XnBAAHIY3b4grAvPPvOTKX3L25OnXaxSAU5y44vH2GizpfXOP9AEvpHenv6jiRAdLggdKHIdIrILRiwdKjkOB4QTOkYrPzcMvhr3c6uXP2PjPPOaul9Gu-x0vYvWGtOkU6ugKXBEXkXlBUWZxvFNYPBNk+lH3jjSOcYzZX3svZuqYEyaOL95uNY+3Yh-Ghv1gRvqBNASyJvK43Ap3plNuqv5YqO+zNv4OuTYPXDps38ROFvU2WgNYBvQAMv7pf41YrlJu3Bpu4V8U54SP2ZXuqUjr9S2qgQVwhOxdqOPSridZXuHVc6AfjBscYF4oNAuuyBB0f5mA-vjvNkzvpvLaFjWXpsW3W74OsJzcSe3BQ8T3P8HishGfMeakpkg2VhmgqeKbkOe66f5ATvOeYFPP+ePoW3duUWDuxuGINOihSh5zoeEqhkdukW9vRujuRfSenLzvCAeeQYVeC0jcrmMfmfufH19R4UXuLuqVOSnCHvyaEthO2dUfyQDUHfsszYiMAbOJkkSAgfWyTD2lbvx5zcFvPOVqzYpb4kv5xOPJA-4zh30OkiFvELQ+o0o-x4bwc+QYY+NY4-P4XBE-s2kzrVBdbWSvtJypKB8AxE-YBgKhBgM+Q+XBk+gfkOa+dJL3m+akmfa-spAC2+l2XBzcIz0+LvPvLMWBqhuJ1ok2a8uA8rzxM+R2o1atoLzxL25+jYGzaseN5-nsKyl89+F+idd-j+D-nFz+T-1-Ou7-1pU+n+xAoXGAzqt-jsHqH+2xPAv-AKH5YCqBSX7iht+K-H8g-wIpDFX+oA5CKv2Nrf93qn3OaMTGD5j90c2ZfYn0isiwdqyHkTSCNhoBPJY+SAlfg4BlrY5iYDAdQCIA4CkB1UOeQgJvE25i14UaAiHnDUbR7MxS1-MQLRj4Hv8ey7vIvmQIp6FUpcr-enHU3NSlAKBspKgbDBoFCBhA9AnAWIPNTNBcgzAo-vvzf7VZX+H1HMLinhRh9DeS1CQQmCwjaCU4kfC7twBsGNFXu4g7mvtSNQ+8PuK4NiBgMcELdPuhlfoAoGI4kB5EFQGGL4F3aGA2QYQmeqHkMCkgH+RRIwKIXg4xCIh2OeIU8Fa5RoOqohOVv-TraHJAhwQ1TGkMiFFDToCEZIVtyy5FAyhGQ0kKn2qCRwOASLOrJGFiE3JohHQ9IfNASHt8FYxVFIePHqF9CshvPdugeDS5RCahBgbBs0LICtDSE9Q-QKMMyGzDnQTwJRgEMqFERRC0VW1jsKCEyAYYo0XHjEmLb8FAwJwqgHIhJSBBToE7YoSk1BYTBL2NwsdpNHuGBCnhp0JLujSOGLcJ0EwhYXC36DLCehu7NOB1QqGCQeWWwihh8LuFHDfhQQ2XA8MEgHCSMIFVTEKDeSggyyAbJcFxCoDcBIBVGATFIKBCv8hBn-IkRAIfJZZJBfA6QeBHHDwcaWgwL-k7AsI-lshnwpIAwF3r8QaRBgvgbMh5FkjGRJLXJLxEjiMBhR9FXiNwElFiCH+x1ZDjICTA1M+O3scEFqL2A1No+7QToMy1JEkiG88HY6jEE86oDYYZoy0ePE5FQslolIAkcLGVEWipRD1W0WZymG8RwglOBWFhB5GLc5RZABUaFHoo3gAx+Q50DeFDFxjFQ4YwUYqLS6xjxWBEc3ImMzGm0LannfUdqOEAXsZRnEespq0kDZQUR5JKAVGkwYIjX6YafAdmz6B9wakjAHvjrE7H0BuA33T0d93JHBYBMioqzAIjcSMgUxkYviPRT7HmjuxdAbgLmLQgDjpRz5BMCOP8TjjNRRYxXt7GBEgxyxHAevotlhEnppxo41xKq1LEeReA45efurAdGPtvO6YqgFiJZwyg-uRIL6I+JwSNhugjIBnq+KZFKknEh4PwOEHbawdO23QLzEeNAB8UAAEtMwYAABBcAOAGmYAAlPipAAADyyzZAECF3K2sZAkgNQAPy0jHpJx3o96g-1vEJ0PxDo+UYtzSjv8KgasZnoPyom3CIxb3ViZ0HFhcSGol7fiZkAonFgGoWwgYYhOQloSMJ2EvCQRJEmSA2J6sTiZRMkmTioyrElEfeM-HlhvxWk4rkJPoCeQjhVfMBN6Cx4mT3gTEiMTRLrADCjh-sU4f430Q8jPscDHdGoBMBeB2x4kofjjA8mWR26AohcWIPyGkTzx846ONRLEHy44J5Xb5rKUjiMgAADL8zAQ1BHIVmDIE3zB6xRqAgwP1HlMVgOBUpQIJKWVPRjaBFKeIYCYGCqm5BypZAS9pZmymgTl+cA4kVVOW6FTIIGArCChwTJYRepBU8qEVMc7dSHwzYlwIEB9SdTxQqQaoNkDynqp3wpUvqRNLNBNIHKuUorFtOyhFTko5IJJIED9iOROgHcUfisH9QcDWBacUoO1L2mH9SBY09ynNyhaphoMCCbPuHyY6TDNwRQi6VdLS6vckx8rc6QwEulsAO4efC7nhlMieCraCxYGdDNBlJTZpXEYgCENCAFINuhAeiBm2JGDikqg2NGTDOukWC8UBgO0ZuAfBi1BQk1E0VkC-4MyuB1KbLIclrBc19UbggiNRgEF6DaRRFBkQ9V5mczJBrI4MOyOMSlAtRUYfSs0ApmgzRRt-IwRmCwDQQveHMq4fAXaThBZBNJYgCDNhlgzsEYHFWWbLz6XdYwfPDirqi8Ge8MBVs66Zt0+7Oi8RrCbWH8GmnQUHJ60ykSyOpGCDoWdI4mWLOQHkgBwUg6DnU2pmYo6A6lIUVGN0EX8oshgxcbUJiCngA5RLT3iYJB5V5Nwp4HhNVTwCQhK5K4ajMHN4HCyw5RFXOWIK5pBRY5YEGWRqEenShk5aYrfkuLrnpyxReg7dNBFHnPUfRds97iAK-5NzABfMlWjTNWE4yZ0qQeGE3IAEW1IguDMAJXMhAYpsshYw0cWOt6q1JZttHEfyxnmdA85zs-3jeKTkRUU5045lnuF-Ckz-CGo9SAaI4DFj4Oh8n+buLJq5xTRhAV+YtzfK+jQJL8w2U6IvnY4vZY5d2L7NAVBM35D5SBWgMIAJCORcCl0aHEQXUBkFv4FBWqO3kIMq5IIv0ZhFEK-sqcv0-0aSHg4OAe5qcmMXkPFYxjSQEMooMwsflpiGe7C7OdMAZ5cL+5mVfMRMP-k1MUB0BPKSNCqKPsw6J+KolZCSlFk3g0MW8TrExkP8S8mM1PlVMAI6KBhSQsAu7n0WLcuSnQS6b4AOSkk4OEwkvLRDWlvjBskLZ2ElNWnEjZxYU3sd12EG0SKRPA6GDDn2lCp5pWiRaX8GWk4xMZzGATLwtxCbjioaiRJU-P4g+L5R3Co0PQE0V0cQl+6TGdkoaArjxZGAtJckpbbfyjR48fcSpAnjbw-YGXLxX7EAIFLGARS81IeMrEniMR+gCpWOMzywTJA8EpCQwEwnWQAAMtM0IlNJA0mUtHFFPIlJTYpPEpIAHLol3jGJWk+DqxL0mh4VldkpIHxJUkCSwl0cVPqJMnh5SLlD-GSeMqmUzLlJM4fZdjkOVaSH+zkxlvy30Q6TTxekhgF+OEJGSlxsZPKWZNhHwh8hfyvpcNNUXgrzJril4usSSU3Kjl4U9+XrJUrFCPhbkq8ElKUY7p3FYSlpUEzWUYqHykUsiSfXeXkqA5WM92CwiKzNLMl9ksgd8L+GfLYRLkqgHiumAajX6acL5Xy2xwrDzUVkgKcelZXrKIp5qBseklRUcBo40qilQ9VyYG1ARHsn5DF3x5484uDkjlYJF-ECZWgqTIEGlAtwpJhoHXcEB0h1VxclaCxU1Q4GlkhI6g48RlUnXtXxduuBqwEZ52dU4xJ+d6DrhqthFYy5oek8UD+JMX6Fgci-QCZnnhwwZ7RiapFWWPr6BBJVE0xgHpMbY2Tq0Rc1SWrGjXzj0UXKHgf+KBAAqgV+ajSfQBcGNhy2PFSLPOMNXPM9IMKn4d0GMn1q6AEKjEY6sKBFQcQvaiSaZPMk8ssI847gPKubXzSekNkw1TYh1m3zDhmav2FVOhZ5rjFQ4ngZOMZAaKzwdHOJdHKLVRrkF5K8tTksrV+BGQNagycCqvVc0m1iQBdWEvbUAh9KXax4T2pQIIrIVLgkdX+rBUcAB1gQgUmnFGl5TZ12DedZFiqmAixqq6p1HfPMD98qpwQbNWRwLWJDZFjwMtbqOLiCBhAbyuRWWs87995xda8dVgj76kbsNOMQjVBA+DBAm+S67dYxLLXxKeBz0ayX2oqb3K5JWEnCfhPABMQhN6EkTYpNmXTqbJsGpRnxsY3pE1xgYcEBiBLGSlOIGGuRbusKCsas1W63NYxNPXcCqQSmlZYyHuUTLpl4m8kNZseWyao0SUhTRQws03KxqQUdTV4E00+1UgQtQ2LEyDozI8NT7LIDMneHdk3gQWlEH0kuELE7ByJS9temi3kIDe8WoKPDKS1AD4CAWyejFoLBxb-hyOCLTlqajdl8t5CIrboqHL1IDFFsSGCkAK22pqtAwrLVeSynEAxAQ0bHM0pC0DDEtV5W1tFvwArTUtKIGFGGoxGPsAt42wrXNsiJWjbqsIzziNpWkpb6AzW6OAtoGSXo7VzSpVAtsAx0AttI8rLlNsCEHCR1OXYsVZH23dcEya2ujcSXy2jagpTWtLX6vDWha8tH2gtKsL+2isgRgaW0TVLBFtCWY4QqEVeHu26qlUlW2LQjqB1fbptKEBoPKte3raGt5MQHS1qR2RE0d0iC7X8IMzXb8ud27VRlznpNa3txrTrd1p3iGJ2VgIrlRiJ5VnDsQ+iAVVrMVBJDYdcXb1F1p63er6Ou2oRbEG6XHjDVRtINrmiV7UhnsR4qsaeL5FjyCMgaQnUiGW3TaQU12wrjpX53tNdpDO98razUnlsd4N076vZlIEastWqsXVlLCxky99uh3arEzuJ1GqYwV1blbitx7GRudfoc3fwGGiECIYpMHeKFXs40IHJxSgwJWDJFANMxK1BPURqepxIS+oUnLKQDSS6UtZY8woOCBd3a9XolXUdLTUV09LpdfIr5HMsyANNPdpO-gBCGL1y9CyFO+TE0oe3cBW9bujMr80bA3A-u89cIYyAACcJwMBCPpnrS74tU+niOEMNVQtI4I0bgFgjYFFriqSauGl7wHAuBqSaU6mYUGn0px-O-nKyGgEv1DrjBC83WcFCnrhDphQytOCfqX3Gxvszk2XLMhcA+RLSTslGa-ucnv7NwMKIfTjof0z0sZ1imenYuOSSY2NKOy7eqO12BDddzeo4mwBsWwH4yHex5FoG9V6dMDMBpgKSTp1o4OeIu6oEVBPBkAno7sedkEqpCtBGQ33cDL93+6i8zRUcUPXQCKhBUjglXJiAODQSkA6DbTUANB2cKGj0Y8IMWifp-reRPmGPL7t11Bi8H+AMQbyL-QRBp779C9AVoZxZXHBXBt+liAODbX19G+NSUjbu1aDXqGgOmorFhuo1Ual1gBOwy4OEO0G6qySCQ+pHdhYU9cjM2IPIfBBaHFD84kjS3wAThH-IJhp9GxH5nTBQj4RxQxlwtSCJGoqR7yNfpiCAHTxQq7lXyqvCB7pE0XZpbmLD3owI91q2PfHsT1KNpoGww3el1cKV6pdKIpsbblQ3EkIS7wRyN9ioP8BA5PA5g0CFYOE8-4HBqbmHGMAEp1DAgbSgIZsTq0tEFTFo60DaPrQldvSn4V0YanAl0ab5TGsRv5x2VFRz2C0eQFkjQQ2k8QPrt13mN1xqjTyTY4sWOOzIasDRihk0c+4-q723QNkN0H6F7qqQFTC1YCbLC+BXSqmwtK6ogj6Q69bATtoYC8wUHml-nHvvoGzkAAdLAJ4u+XY5LDMgYIHezDQP1AG2CNCOftiQiG6DKfE4OiceOYmuJ2J2oXiYJMiqmADfEk+5zNFTDeAJ4WZD0CwiCnQAAALw+agA8TRQQk9yf9ikmvjMDbgJKapN6QaTHebw8YBqioQXU3ZIQIYAGObhMTXJ4k4qZ4a2dCG1xqyCwB0rKAdKxYyYP5zTB4AmTuqk07jPlO8m72FppbjpVtMakHTlXDU-5CAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDKiPcOIyR0iGCyOoIQnmTJFqaIkQIRw9tUjSDoPI5GMJ2R0Cvh7L2Rs-B8KoWAwxGJjFaNpmwRoNjeGP34QwpuYIhGeNBidAJiipYqOtgjYKJ1VBuFSCXAxhcklcB0Xowg0TsxuPVmEkeM0x7UBUu2bEWSZGR3ntw-+yClGoLThghJoAiYzFJCKcpzhKlSOqQQopb92DaOkEwHRhg6lIP9ugpgshcBqK5IM4RG0hZVKYLBPJjoZlzLUUdZhyyukjKYEcFpiNF7Zm2csNR6QikFxKSTfYI4SDd0rjwmJKc0HxPFoZRgBxc7EAdkszx1VmC-KeQCxmXRe7V1UaSMF-yHZ+DFl0Fuyz4XPOSYIBgJdrEJykG8-JQT3Gos8SsKxc0UnYtzqcqF5zHT12RUCjJuiKVYpxZC6h1dB4ov2RElQ2KUgKnRRCxl0KYk3Wfjyp2yzQYzzUJi1J1KOViuzKzUYwDIwczuLrGVKgvA1DqPIhRqrGlxI3pg0k+riB1HSTNEFTArWGsmcarZL5LVqhtUi4OJLC6OodZQPxRqaEauJeCO5EDjm8F4CLdUCDnVJ1iWvL5mco0xtaravIesRm6Jqbk+NgTAGaqbj6mas9NC4p7nSmgBSBEeMLpFY50hy3cDsLSgljo1VjFbUymaZL5VlpbbwNt9T-b127SWvIMizxlusd2lVlYgHjrDWHSBs9uBZJlg0xNnz05ZOCnMfO4beZLE4EwPknsjBnJRA1E4Mp65qTrFMk1nc10nBEAsUkB67p9iaFzKIwjtrvXiFAOAiBkDoH+lyYpeQobDixWo3OA5OUxMYJ4CGsHfwwzhsHHyCwtocx8jsVGRt1a4YxJ1EyFDy4vt-D7RxTBPYGxIwrPwiHPi+WJus9+O88EH1I7aBYGGuMTg-rx1qCHCBIcI5x1h3h2H4NqThgTuwfwvugWwsTcbMFsek+HWR7clUKzI0JtuOc44Sak7aIjKgunkAqSuKpOa5FGeU0J2z9ns05Is+x2ynGNFaMc15lzXwFj2r1qqbxpjv4WIcBWnGHF3KbH8xI3x-iWPtMAjpqznHhUvOEMZ1TuXsiPIRQqqlcc4vCFY5JnzsxrMOo9fxkLKnsSOu87plQUTgsWRayuLr2masdcjdG8gsbnNKea8kaN-iMOHFSNwLNgXc3q2q0hhL9EZmMa7tYmdK3dg1dqzMPy0gApqNCuFSKMUXZx34JwUAyVetzcBTqzxU3PD+NKH4Gd6YsJyw0LEOz5ABzMHC6UEw60n2OjewqaR5AAcUGB0wUHRAvtNp5c2SCeJfs2biLwSgKYkfCIW0QcH0EpANRkSMIIhJZvwazal4nhAhDrcS1ILgqRhmIcfNQEu3AMucSzWYo2ljrFg5Z6zmYM7xcS6kItyT3OzMkjBxhEdz6km-0p54fLd4Fjq6ksJjnJJNfa7LDsC6Lp8xCSgrGfy7RGfBTChFaKNBnakEaPYe7KVoc9WbMu5Zm2IbbfXVIugq3tLIwbbtrJXQbILAlTZHYzFafzb7dOptweh3M-22t-nkgA80ZHNYqdjbm3R6z2x25zs3NlMB9QXp2Tlub2z5u950gRzruhvNw5azxl7Yr0TQTnfjbd76cJyr5fBsZj8kP7gI-pHHK133mrL3C5CaK8isP61seQ1iIKsGfznkcu0qrx05vDwZUxyjTcsrgyssVeZxlx-ZjI2T8bVPZXeeMp8Gxi-RZrfjnRHfzFgL0qnaVfwW0fHlTUDZUMy1WZx-3Mm3z11owgPJWSQRhANJ3aWRiAI5hAJkl6CtxLGwOrjXxK0P1zz6CgMpXZS-wQMbBRCsHCULnzyIFMzWG4G9mHRP31glU4KNhjx63jw42YgpDYP00PBpD8FYMNgkI4MXC4ObgEjaWYJmjoHVBcHx1PjgQPnHy32vweQPxFUYQh3Jz6mRRlFyw-2pXHwIJ4M4wFTd333BTy0EIzDjzZnaR2Cm1zgmQ0IY0CHk10NQOoJgIfzgOZ0oJmHUJCACO0I4WcGsXtSKyiMS2L2gPv1IEqzuBVyINMMh31hPiCPE262a1USKM0xGgcUoUKS8Jk1nhwQ0zIRKImzLEshfFk2YEqOoCo2vlAX5x2AlQyj908SEzaybzY3WgalSxlD9QZwVhkgahAjOi2n8K0OKPbGsVS0fQ2nRHEMjmjjWBWJkPYMMGWJ2Jfxn1S2ly+HZ18MhnlxiEVyXHVC9D8H2OziOLD0r2WSE361aUmLJ1sVhGYGQPb1z3AMyT6Sc0U3i1SNmArxXxmhMwkM-wGyQymL6i7hlHANMw7i4WDjDxklM16JXF-jxOpVJL2y7iJJRGRi7iRJg1U06I2PGwBJq3WhJOqOo1-hZO6JcG5L6MJPMnAL5OaM4SkiXxz0eAQI9EkCPRoGrxEx43FLZO+UBJRC5Po1-gqNVJ6MFKoRuPAN1J0J-klJY2byNOXzDX-UMUAxiGAy+jA1+n+nSGg15mTjb2Nk4Bb2zDu01i9MZOhBBMJ0MSMHMTkFiz8GuObz9guTdTaF33x2GT1lJBuIYmi0jKsWjIDVOFlIVM40TLxwJ1B19I7VNSTXTlwC3lx2TKFlTJ7UzWETGUzJFwWzLKZGJFmSuWrNAEWQnQqHp1zPbLjNdXlR2V7L2WlVJWbK5yeN51wA7KJHHJ7L8BuSDL0hDLBOH2oENyXNhW3LTI2j3IHP1m3O4C7iXJQTNRJBpMMkPMbIqG3INyVUvNHOrSJQvKkmHgLP+UxEjlhgeIHAV15w1J0mzEXHzOdnf2iBIzAvsPrigt+JIH-OYHcA+wjM31EF6DpOrmYlgvtlpKsAai1mYEcIVDnJ52pRlCGPdM3LhAIro0oVD2-Ckm4IKPfEfGyEcRYu20fJdwjNJNFwjO6BwvAvpTVkYv4rekEqDykrEDEvsMXCko3N2E4A51WUeKoofx4skjeNAHcGDDIo5KBJhVzk0C1m4uYo1jNG8Fhksp-DcOa2YjCwjKsvLl4qOC6GjKMqAsOyOwxHMssoNKhQAB5Ar7KdAvyvR-LZhBMTs7dSQAAVTqKqEIRoYIJtfAHFLaNkEbNYHYUkUAAAajaRl1Jlhj1DSx4pEFKqPKKtKvhMkAqs0CquiruAy2O1O2StStwAYCikys0GypsNytTXIAKsMhKrKolxarapCtqsMmCimqavww0EqtwH8Ucp-Odisl4FJJAPcvdiwpRCr0k2Fk6nZHgtmGdhiLzV0tYpivyJmATT4PmvhMEzOuZHZBWskD-MoAAs0CApAqVX71Z3ukcTwhrkOpipWueDVi2pWvug0JDWhu8tShVC2p2MIMQM3EQ0htIp3z30osVyfxmFtyfANId0IFphTGuiNh9wgj-2ILLAakYplBgrcvoIzGRluoW0EpCr5qNkiJl1l1krYsFvthV2xulvsMQ3OrsHXWtNULyC1MoQOspoeuOvpGQoHHlsupMvMhuuRpCr0vYq+BerZlRtip6zlq+r5wlz+oBqBvnJBoO0oPBsoUhoZRqtSIWAonrkcr0utq+CRoZlQhqojDGExrsMEmmtmCwjxs1klnIudu0qvTLHJuhqppptCG9k9yLgMzzixoxyZqet6FZojPZsgLPEYsVqQxjueurl5sYqEolq1HTPohbrkpEuLsEkYNwv9ltourrtuVtMZHtI+hA2+nAz+gwDos41h3hyBxByJzB3nXNmUUrKVxR0MkXsB2BwzQqD3oR2YDh2jXKxSTkTXqrShuUpJ1uQamPuXtDPHplFUVvFhReCPKkBeDvGFtmFhSrG-skCrD-ul1hUYmAc4ukDAY-rdXQSgfQVgaSzdU7SPM7VtH-pmFhRymjX4EaCPNwZngyq+Cwd6FhXJuAfJrLDIakFhRhC1mOXcDoDTIYZ0CYe2keFobzzdWKqgakG4E4D8EaA1gAD5QA7tSqSHuHlySRSREp+HJBBHhGxGJH7tQBpHwG3UpDNhlGNHVG7tyQNHJAZHYVgBFGsghH9GCRxG7swBNG4H05SQABSCxvRkRmxtR5x4x0AUxt1JMfh9xgxyGkRrRpxgAQlNECasY8fxFsdAEicJFCccbkdCrcZieCfCskGSZQacdCvxEUaCc8bu3yeyb8acdEfSZUeKdAHEbKbCbkdEYKb8BmCKbibUaafqZSbJHCYsbUd6HackHCakB9NvDBEfv+33pXsMSEoJHMjsUuAMD8CfsRz1h5QmbhymZfvKkoHcAACs3gsi5nHgFnShPGIHJmT6jyCllcZGZgVnpnx6wRepNoHmx83AKs36XxYUz81gjzfmjwO6RbZGyRIBCBLQ7MCGWmwWIW3c7ngWeGnG2GmBYBIBgHkXUX4WEX6HBB2GABRKB5FvFrF4F2FAAOX4DJYsYpbJeDpFvGb6jeaKJCuOc2FOc8frkXOWcuefpPnWcZZ5cRyKO21ZdmHZfaZuf-H8EFeYD5eedblTRhxle2avp3rLWaSXOhxYBcH3GkHey0CYD2f4CHHUI0BSHtvojebPu8BLnEzF0oPVfQTMBmBGMLlPDZFTueKXLuM5y0ueNzx8PYD4GVazRNrjtZyZe41LmsqBd6EDcMDeazV2YObIBYp+sjeVLPD4tjakAJpTuJpLgfr6gJs0ExEMocz9ZLksP6D2oLaVWebHs2JksnqdJ+kwDnoLJFHUH4DICYD+TUBGhhGkENU6KvKGGyoxifAKVHfuB6xrSARnYWtJCYAatWq0DaunYaN4lnd803fUzXGksTJhDBiF1SAmXUC0DNuRh7eIGypGHg2yC+2IGIFUe2lKu4BvchtJCKo-SKsKqWtKpvZJYzG-a9TWvLWkp0VIDdyxnA9R3LXg7GXtDhbEBIgHuzBaqmtJDJCmqPYkUYFPY4IWfVag7d3g7uCw6EFJFPOlbkCcMsSWjLTHYNktqY-Mg-QlTcl81lRfCY9AGVh8m4E7RRqY5EAJlvqAVE4SYcgPVioWEWcMD44Mk-S4+ay7ccF7f7fKiHcNTY6nyyHDjGrG3nj44E7vGI3tkZ0ZE82W1E7pY-Rw9KtI4VAY4U4-bR3c+lnB0arvCKtXYNIY2cUs8W2hK8yk587LD86muc9cAcCWgKV2zs9qoy1pFU5EOQ-8SMmJCPLLW5bo5c7i53bqwXo-E87k9o+g8y8gekJfHriY8jrK6zxi4Y9ivqxarK-Y8MgAHJV2y0sOevzJ7oL31r-EmOaOYu-lpB-FJuPHTLxVLb7Z0ZMZ64ZvgPAJYUQg2B6r2h6rIpXJM4qgux6q29vBaQiuZgFhnO3PVuGubuKv6PCvBv7v-EVuRwpus9Fw7uJu3uRHVKjWTXiAzWs39dpEagc0M9mO3tRtxMN1OuNujP00-AQuG85EN0c3JAFn-vgxAfyAUgQCkOweqhyOIfzvvgLPjZYeetYUD0kV6NGNvYSenuslVKZvL4btT1QeAUqgIf9CDOVAofjPckN1j9WbmyDSZRzIAv6eSNkf+l55he7CJnCfGAhYZ0ZQFnWeHF2eCeueWKo8pEpaXUXcxeIblPIHOvmJ70YhdfU5vtXFPzOec1be0c+InvQ3TeHIEGLfrenfVe0c3eTfPblOsfTXcfgfaM0unhoGrPypKbc9MfjXsegf8fHeifBrrFhfWvo-3fKFuXlfneIPf9hJt8GfhfTDkZqejypeguKeDedi8iycOLmf+7laKg3d7Aee5vn0k8DfOvELe+ONM691DJHdLtFTQvc0UJ3dnteVC4u2bDO-0PyyWyuLKfNgFhIKB-fMh+pEqancrsls8h5+KtD1W5DuXIRpSBKAHVmADAOBDAN13yp+O-H-lOI4juaO7-jlz-yoGdH+u+JKFwY-lkRJ6qV7U7gVgCpFhhfl92vgB6n+Cf7MROielP8DRwgHsADWnRbgOgKgHSwn+9cHAVoGkqEDAKv8EgXgIAE0BFw5A4gZAINasAkcblZATJSFpP8I4coZgSpVn7Il1KvhGAY0RojwC4B8lSgdH3AF0DoBzAy8kjxEqqUnIHzCgPBmH6MV3i1NOsmpiYBJB2A3gaQMeDfi8AZsBvJ6tvigQk8y6ZhTaOQNmISDAaDA2usoNkEkF-YVg86ARBdCUEFgRAHOkLCgSaDNuOgjPDIKFru1UQBg7ATYIOo0De6oAPItvh768AsCZYZGMxDaBhD++CQrPKkP8Sb8Mh0Qhvk4OzDN8GCMtDilkIh6qV5o+gWIMNnuIcBiGHBOgL2DqH4NU4dANaKIOE6NDyuzQxoK0P5BIgnulvNWF0PR5ZBX26gKoTUOGQ9CGhEwxaJRGyCLJRhCLXoDMKFhtC60JSOOA4HpiI41hiwvwGsNUDtCl+vBS2l0M65HC2hAwkQqVwZRLDc8SITxqwEsS7CuiRYFoYYCuH9C1uZYJ4e00qHzDUIiybamijmHVDcAM8bGMkHtxbQlykIwQBzmSQLQlogI6oacx3rapuBmaKEUiLRGwcqhzHV6uCPK7CFuO2wvVvoD2EfDehhgdpAyhJGxt-h4jBEdB1zjIiqhBIoEQwhRGCJ56PrIWHqDHzEhXyW7XEIcMEBBDJamJSwTYOsEYDAKdgpgWKMEFcDxKNAFwXuDcGHhOuAo-gdeFADiJvkUlQYYiIcAuAGGGkcgZEJsFZ4jRUo6SK6xmhqRLEFowQBpDUgSjjRIlJ-mzWU64An4fzcNlH1JABigQfzJngcCOCXovRIgTrmzXlIcZQYpgh9MGKkCCZeBwyIUbBBFHmZPRhoyUSwMlpPc5YpXVMcrBK5cUjR5XF0eaKYCWioqi4B9MsMeCLhqxLYzYLWMUD1j3RUVe9MYA7ES5647Yn6gLh7pPdQxgYrbhUK0DeAr+ApcEYIyXLMQrGzI66GzB+KeJEgbwOoMchcDv8L+JnH-s4D8Cs98xrPEQdej6gNjuy4oLXDKC7Fuj1IUVM8YWIPHtg-Ao4ziBeMcHqi0qz428VTi-ZhjvAW3TrmSOK4A05x+pRcTeONy3I5xoAJKgAAk8WTAAAILgBwAeLAAEpJVIAAAeTJbIBCQtFAsn1QAnvjEil6V0Q6KXL0BT6J6GieaPK67RtWHATgLb2PFohmJigLPmxKOArgqJaIGjgJNGDf9nImxJ4aIJQloTMJ2EvCYROImiS5A7ErgFxMknUTHxS5NifiMgFcAz0nIC9NpIO6aTqAiUNEaf2WSWhVe3E0ULxMIB0Sn+aIpHFCIWb84jR2VGxlEW3HWo9xEkrsHIk8lBR3wbIxQHRPR4UTEgAUw8fZMfF0SEJTUE7rK2TKWIZQAABnMAFkrQUUWZCMFv4I9yo5AQwDLHylcYiAaUwkMlPKkUipqXIY6NXGqltAKpDgGjvahylqYBBxsZgdVIF4Xxipy40rip2WaldephUkaMVIa6LtVKsgb2J1ONAqBWA4wfKceApxlS+pRUtgDRX6p5S5MG0iaSVJkiu5ZAzAKKEcENT-9zICaUwY-3aShYQyHUrAcPzGkjZBeLAI8HUVLGr8t+ymZiBMNOnnS3OwvQcf9KYBnTPAhqHIa71NxqVeAwxP8aDPBmGpkpm4wuBwHsDsAVA8vXfqxVgFOSycx0hgADIhnrpSaJgtdFqFJq9AE6UYqOiqLgGUzzBz+LlIGXaT5DOI0xeUbgO1aMC4KdEhuo8GRjuBIaALJqgsADHFgmqOwRGYDOtFkDDeswKwCRHZnc0t0SeOMZxA34nSwZgMxCuDnE4yySZkFUnvpwlmMAG6CkU4ShG1lIzyhTomDJmMFEQw8csiXEPqPFGa0ixo4MnNMTlGEhrRSokjJwN-FSAsIVgxJjmDTBPVkYRAKqj2OfHhCFRgNMgbaM-ErCpAP4fmeG1iEGE1M0VUnCLRsDkhi55kX2UnK5n0CXAtdTOV7OiFCy5REc0WW0UWBxyGx7smiF+MkByzJSNA2iCRDogmiYZeoqQUcH5mMFL8WEdGb4Sxm5Ia5wcoWqJSLklzBZ1cSceGOnHjzS6jfWWo7PblwCa5ao33K3xoCxyNq8cj0b2F4DIRLxf4v0Q5BAkRiesa80CZHykB+RaZfAS+YKHjERkSxq6JiIsjTHzA1KGlFgM7P+qRw3ZvAL+XRL-l5yr5Gs9fiAvuJCiXZkCxEFfOWa9h5KoAJeeSDgXMRoFSsFWF9KYjfyesp8hUG3KbEPCRaTYwUIOKkCULz5fYtWEQsYWAR70DCzuV8CkpZ9n5fzOQZ1nylYwwi6dewteS3qiLMiiSfKYfRoAihp49AORCjPwGfkUZ0laqQzlUUdDx26qAeEAg0XlcNungM6Y0E9IjhaQT3ediqCMWqUtWEiZKctMEGviwpjk0AD+NYE+y+o08fQC4GSkyhZpRseabiEWm5IUZixPqMwuNwS87wzCtua4tomdzFFv4ZbL4tiIoyOFvQTxZLQan+xoluiICf6KnGvzgFEEgKq-j7Y-dnFaFYcukv8UrTlhUEuQDBJRHcACld4oePYsVa7TdEDk-GVbJcmsj3JgEAJe0yiIOLelNSkaW4oin84op7DZKdYnim1zUZaha1swBm7cBEl5oh0RyMWhLkhlbkmEYbUrrjKywLk+Np-HqF0iBckAmKVJJ2XhTa5ywtcVqyWXbKfuLZWZaspuIt00RaypknBlSBVKHA03H7nsoBUyj0QewM5oSF2gNxp+nysFVnlJCVKZuDNDirCqIAiztRawTrpHF3xyYtlM3SFSSKe7YrckwA6xHd3+UkihFakzgMaEvTMd2u-YoePjDxj1Ep2bC4wICoqBqB2gt-OyTzP0k8BhJTOXnkJzCUcTmVEqxIZsBvRNAZQYqwyQqAvTyqG6DUW9idkpISr9l+kJqrpMXH-BDIEqiyeCMxX3NAg8oUyYFPMmWTY2zECVX4DXE6rZp06EVQCvr6X4ycTBAsoKtkC9LRVTEnRVeNeZmjHQhIFJcovngRKUQ2+MVcyu0mk0lVGVQkKqvPTzJtJWqnxQoA9XBq0RordyMaraWmrSQyUi1SiKtW9AAge0U4BWvylVqqhaZdpMxGSmurVG7qyktVO9VF9-8R8+el-2qntAHlcieVU-0iQiKJ1nXYddOrslZ8v+Eqj9gus-5sBbJZk3JBOrJyBrhVm6kNRxJXWbqdiDUd2BuvtWigZQskjCVhNwn4SiJ4AGSNevkl3qlJJE6Pi6rGGeMz1Y6tEBcVXkshqO2IioHOsRBhregu64NQwLFU1KT1fUH9UsqvWoSmAOEkKAABk8Wj6lENetQ0Yb317a-KZ2u-WeAhYSy-9f7FJCAaGVKdEUHsyJxl5J1eisYGXho7v5aN00DPFewLQP8Q8millMJjo1lAM+vGp-jkKlQFlQYKdHKIJsZCcaiRltFjcBpdzV1d4ygGTSSAY2iD0h4m52MXmk3TRhNmeUTUAkU3Tl60DATQFiiFhbLNNVs7TfyoUXUA9mlAJaexqE1kreRjGwmk4Tc2ybfNWRcrnSpRFPdaNLm8Jfxv83WJItvw3oOiuqVsanNHG6LbRBWFBbCRtyOtWSE271U4tYKo8qFtYDytlk0msLdwH03uavZBq5jlJrU1E5ytqbUkZ4STEUi3h1yz4RawzpD5QVU3EIpPFq1lAyt-WhrR5sJEpbWmqjErUtL01DaQB9WgLWNsSxpaDlRSTLZRukA5autGKw4WprC1FbPEVoSzfNilyVaoVogo5YIBGV3g-RojLAMoRmDCdctPWg7VZu62jcXeWSk8LOJaULi2lfC4oHdqj7NL5xBqtuv9rIiDE2YC20WsEoBWPRVte3DbcCs2U-cjyz21IHttXycTb282S6X+PALD8S2ZbSpJW2pQObQAIfHHnj3JJo4RtBy4iDzXBGuSLtJyjMNdqJjqTsdxseQRPBwTzYVqdXd7V7I4UXkkeYjUcZnQHBpz05kgc7PvxoBqRcZ+dBqrdv7kdIKdyfLuGd3s5bQvtwO-EYPOywSogWS2rSHDptWkh1dYfEAojswwgqtt5OxPqHyp3fkspDUGEKeiIb4MZQAATnMDOxPdQqRcWbX92qRiGBqlgJYixh+BJV28yQCX3OEcrY9MQieZuBoAGR0pVMqQAHu4BdcuuwUNAAXprUl1hISe1YaHvwZuc1ACsmYAHvD12ZMYLkoOFnhoApR+y5kS2WXtyhh6XJ9eimn4Hd2qau9+DMnUcDMUWKud0cIVbTq0i+j+a4Is3XI1H34Nx9Nup7K9py6mLl9rgL0hjudE+8qgr2oToQDrWDgHAtMSOCh28WbQ9gMoTXo0G16p9lls8RgEfrrVYdTAZ3GSFhGBzSBz9kLaToSDhThii6T1bPfIweyP6PFP3FGMfoGie4FGzrcyNnu+5grtl2oZPVvLkhYR9VV-G-scnXUcE9gCq2YKBuYCjrl1S6kVQziIPRDv9Z+-6v-ojlAG7KrkTPZIDAPJRODPwC9cEAINbTODnB9KBgZL0KRfVSB8vZlwEMPYZuVBKnNtCkPJQi97BiQyDvaQuTLtgENnRLhQM9avx3OuOLzuNh7AHRrqyXW9FUZIYYtj2LFIfuMM67YY0En7ZyIlR8R6+9swcippCB0AoomMVgHWtWl9Qb9hIO-Q-v31P6rEXO2A0EDqof6VcFdAQjiU23VK7DQO1pc4Y3Hkbn0fBRik5Qu6GRIo-4xIFoALFuAzIJERPBl0P36HFB82Ow5ywjJo0Rd5hzxpYa5iIScN6GzDTRTZhZToKcgaKR8pWU3z7CDExlQ5NYmqSxVqcQY5GqZxPcxJfWfKdYmkoLHelyxp-h0bw0qSzwUx0jUsfGPOTGd8bDrRmFLWcjM1Rk7NbMasNfBG13gZtYtFpDo8zji0MkDT3vJNrLJP5R-Yfq67vjuA0ugADpYAnFVy3A7gHaBLQjdGjFRuDnoh56sE9BxgD1B+NbK-jP-AE+nOBOgmo09xcE5CaMBcV8Ag4LPKcGYjEnQAAALylagBgTkuXE8MnxPSAloZh04NSbhPuQETpIH-efpn50Q8Anh0UD4afB-GGTQsJk0tBiY1cnG-Aequ4HqrEB6qW3EwF1zBA2BUT1S0UxjPFPX8ITzJ9xtKcX1ymFTSps7lyfShAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+WzUiMILo62UKCNy6t3u+OPFopiPWRB4paahoQWV6IvMiTy30ctlvot3lvFvUGpm+jzv0Xl0LLougfhoJTYAD8Sk8nycgAO6qHCXwj7tj-WAAFxaVvm6e+k08BF28JuC4oFBiLEIOQSUxAOigHaOQXAYB8DMDYKQYYIk+KMFAGNUABgQwUjGmgShE0xaKX5FLPQR04SDDsH6RgHQS6Yn5tfMorDqDsIugA0IL8SDBkhsQToQibDAI+uoRhMhmFaR1HwgRnYpHCK0iojhJh1HSMlNSBhTDBh3xDPw7RDsNaqCOrArIehJ69iUlLUKLRQLHFfv8QEAAqFxWRPH5lCHeOQGQDqEFEkwyQPBBjhI6vTMIDi6CEA8D4mQbj6GkHkVTSJQw3RBLdulZJHpEqUHwKQhJSTHzHFOKI1qMROiT0Sl+ap4jOhVEStUUA8hZCxMSg4rRqSDHpOicY9siSCkQkSqkEpm9THsMqUcUATTakdHqRMm2zhFkSI6K01ZoB2mdJSXWHZazsn7xmcs7ZqzahtMxFcmw-l6DeD6OErJQz7zQW3t0mw8TRkVPmWkjJEThktlyc4x8hTCjFNKT81xJx5kbLqZ8lIshLQuhBfkx8-RdGrOWKsPQcVnnwJWD4V5w5t4mExUcylJyyhopsWS8ZhQ9lyC6Ycnp-okF9L+QMgF-AgVEmhVkcFqzIXTLYag2FCyUE1M2SsgAkIlZFFwWxlOSZi+VVLEo4p8FqnlgxSXkqxRqmwM4BX0qqOq6wTKWWGpsIqkxYq9XvIZZcoRtzLWYjvEFOgyxyB4L0CwFZxy2ASsBEE6gITFiAhtaAF+YaI3RuAcG04gIYiyEYMKaN1gX6pseZm0AMjGDMB8CwFMABVYgB0c4f2cFAiCzgAC09bsmgX8TYN1csvU+rwXpBxtaYHJLcZrOldiqgOPQW4vtlZkl6FDcE0J+YHEIKQfMydr5p0poeem-MNcIiLj0D1S+JkLhe0TH0HqKYn4OR3VIGIwY8KPj0D6w9ZdIjRFiDqJ9ZgggLD3R+rQosd1SrwpIcJKJH3-tiQ4phbi-2mAuVPKQe6mFmBfoCS9+bQBMMHuLdBr7sgsAyS8hRMTDnxLcegwjUTiPOrlgwCV8LUEvyZhhug2HFKGH4WMfkjzXwxEkLelyehuPpsaJPEVEQBP3tAkJ6kPHaCGkRaAKDCi3GSZAwo5ElVhMwho6EBxpBHB2DlNp18hg7CPGOHmmwuGzP4YyX7WTInaD1ts48VtKQl32aBCZ5zrmWBGyxTqnzxBBh2OOAAPiU4Zi0fVHOVj80K3ZHTmUHJuSTcWHG7DlVHvx4guW73n0FZB9loAfWEOcPM1eGgN4H3g+Jm9QGH1le8MQBTrKvkleg-MtToHKrNacLpjr6YouFpi8fPzlmjWhBs1EOzRirKjxc7Ntzg3rCefm4CLeS3zP+YpTsnVW9QtmCOJFgzo25TjeWwGmjVrUuhFqGhcW68xiSfA7WLhV9X0xH0LBgDWQkEABUAASABRSQABBcA4AQcACUAeQAAPIADlkDzKZlUGu+B7B4Ni2mmEAl+shaYKCZ98xnv5cE4TnRiUX64ckwmYLBOtDlep4UYBuH1DpUZ1nMQHPSi47k-QMLhyvzA7B5D6HcPEco5584OnQGGdxcaEz8gLPYlfhmztvQPWNNgapw5vHjRtv4avf90AYvJAw9LQAGRB6j0A6PaEUix764Y2Wsgq-K4MbBJP1eaXJ69qnQjaf2Ap3hBMW9PctdZykdnofOfu+YiO9Lik+fpUj8Lj7DYLdW9t+AWXaDQ-066BnqnfuGx+b6osRYsoDg2s13ZnXVM9fM+j3tqbKRNuLb8+CdvOyG+PBnZehe3ervgggVgt6DBsGsHYHARAyB0B8B4E7iUKhoK2QBLKZQzdPuyAUEoYckZYjMnUS-UAxJ1HAIeOiU-qzY1zsWG+JEpKxLVk01JUE5RBjb5j2zhYvYgYa44E7sd+EyL86+6UgBpY2YdaW+xAO+V+P64YZ4oEwBsBoByoZ+HS1oUES4aBz4mBysHSCBf+selIxE5ojI5Q2BkBuO0oQo8BiBqy1+UggUwUjQoUPU4UHkYBNOOBoU7BaUocG8NEv+SB7Mjw9EuE3BmUEU8Q2BQ684eKUhXEOYvE-E3+VmiUykJ8Z8zIfeHeoQ4hLBCwJ0C0NB9+Ah6U5hZ0thX0c82M3+JBzBEyrBFsuSOsWBVhdB2sTBZBYQ7hRkfBhQEBuBwRlkJhbhlI1eAcMIlh4BkosR6kkBmgfEegIcshYczhv+hhlKZUkkpKAkXcORpBARoQBaRavI5ala1A1aF+cIjIqgeEoAja1haRu0bG8cyRGRJAgwXcCM9WBUlALAHBygYwyhwgbWj8X4-sVMhEIxYxExb0vRROAxFyt24gUyAUrAiw1AoikgkxJA0xKQvSzEgsy67Rm+IclsqxBqRhKQLkfEKCSgCBqwtAjB2hqyIc3EoIhCAkUxeRDxNgXcQJwJBAb0rxyg7xMo1BUxiWxyhkjoUENo0yCScgpghqL81kpKvotAzxfQREFx5R5BDGGxyW1qjxha-CqxZaFaVaEMpMlMNerRTacx7mD2q+HEzUhR7yAkPUdAP+pB3SX4OcecBcApJJMaDuFcUiwCOqqR1xdc4p+6BEF0QpO+YJOhPJigRRaJ9c+c-Jap5KLhAGd4dBQhnB6UWRohkRwpIun2UQMEip6R3UrkBUnQpRO+UpWaVxrpdU3BeJQuBhppuiMiR+-pLxgZ-UXpFi4sdB9h50GpYm2xUg5MlM1M90FhKMgacsZJNyFJKSQxHMGM303M1BOZimMwmkLpzwkMjAnMZZjBKM-Qv+8Gmx7W1gDi9ZjZxgKJI4biWKtZGRypXMzZIsrZpB8GkypCSJsY-ZdZo5fgC5JxOyX4PZpZfZpK05bahZVZKc1hmZn0egma6MMM5Z5AScl55KbZrqaWj2ikBRigJAZomyeg0knC1ZR6TM75oIgi-BTMQi8pRKM6niL5lBmyfigwT5kg4FAob5LoH5mcFqoAnod4dAbseW+x-YGB+OssQxiZHYim8SuMbi9h55v05QO5iJaZLAFMVMhFIsWKTGspRywCzsteBgmFyIiC6BG4eFG5FFPMIs9xDxGFOQPFOF-Fyu-qVix0NMFhXxGqZ5Y5FoV5F0mcBZ+yim3CQZJYUlV4vB3hOysaPI0BBldaz+9sWK7hIEF4IB8RIRVhcUdlYEuFpm4k1lVKwCju92aFpMvhnh-hxWw2lsbi5stxzI8GDiaKdGF+3F2FfFhlQulsNGDicF0onQcVMFGVdInpsVNGX4w5lsWphQTxteUJMJjBsVgwuVmygpppcZikdBERxBv+5eOIQ6OJ7yJ5Gqw5zkrkchRl8QpVVKv+TVFIdBr545bV9pmIDipKbiw501MWr+IZt5oQr5VlC5Mm8FQoVlzhpKyZ8GX425-l8ZuBrlSVcBYhc1m1EF21r+V1hB8WnlWhiUw5z1Dlr4a1yoyZYJt57S1gNcFp7KQBL18hvsppsSW18I7+r+5l11MCcN74BhQiw5iNENkEv1I1ppANU5noeA840+OCc+nAi+vAVCXJcYf8egeEpOzgLREqTpMgXREoShKxvxGhDZgwJV0NDpw0b8fodF+xLx84AWRqXN9g-EvNp8iigN16eJItBxkxDN8sZkp6GRKYwtexKtb0y8zukJUt-xGRatI0rUWtoA1UBeNxctptHVTU0Mo0+AgwHUNtkJ2+VVcM+AZtzUztgwE0bN+0clLU85CN+JFovtHi3VNoRsSmEdjI7cc5HwO1+qDtnssUPIR1VkyJpKBtEoMdI4QZBJegadAtXkdspdTqE1a+ZAQSNIuglVzAsJZ6d1B5LoCtd4glPu6I7V5dts+6BNrM8Zdd1AsgFs6kPdMk-NoQWeOIOqU9x1kIDiIwYw6ZVMntzdQobijuNcShPEtonlDVRRatOqKNmQx9fJ7cU9VlAJB9Uws9X5FdGR99NtB9C5d9vu5gj97dboU9NdYg5VUZbxW9PMR9jqzKvNVIa9bdxyWQugIwb+ioeMEq8DOgiD1o-5VhOq+9X+59kDbyzKJpHg0DUJPpGGaDiD+DeMAAPEpLKOg8MFXUQ1iR0tST4ICADhkKAMJMQHCJKPnO4GpRfqEi7JQJ0MAoCKAAANSoXAlmbfbFJWxH1mCyNx1SOyNKUKO6BKPMMaWGqVE0mcPcNY4fwCM6BCPYwiOxHiMdCSMyNyNiVRCKP4DKPVh4xqMpgONaPOM6OuN6NmmkxxqhKPU9X4PJmxLmkIHdAZCiR91CLoWYVIMX0QOflrmfY-nUPkP8Hb4xNFy9XgmnT13fZN0fFwzjXaHAL4NzJaRZNKUvw6iYPZPRHiW5AzgqN8oBOra7JCIirb41Or1KB0UZmb1lOJ37nWDeBVHhNAjlrpCiIO6gjuZhAdlYrdkH1uLd0H2D077UVhBfitMv2gi31HNPCiXgk316n-3dPtrtpFXRNhpxND3U36LwWhOokzPWgROHJRPKB5NPM76KaJM5DJMENNMTMIZSQVygtYNUoQEPOxMFMd5FNj0lOjMt07MPxGpVOeU1M6h1Md4vyKqNPqCX1yDNOBHxUgvtPuMmkuhNM3OOMpB9MIEDPnDr2lMt25nGHsOgt0nzMoKLNPCsmvMMEWjLP3Z7mdlxIlZT2bPKlT2Yt7NP3zCHM33UOnPbyjWUqXN8masIltppYqvOC5OPNKuE2T7gwk2z5QDz5cBL4YAvMRALGjFUDjGHErFTG9xHoKya3CApgutLH51iCBtusvZ0VZBCjuxeulwD0ujwk9olahuUDuvE1uJxQAI3Qahx02AaiUrnOhA3R6g5vWB6j5tAk3RaolulZErluZtvyHjVuHh1uFA3QCylBx3ttyCrIFs2A3Sdphhwhx0Dvfw9sVtvxTP8IluTtEI7K9vWA3TCQjB9QeB0BGxLtu7LgMCJTzvuJ9CAjSPVs2B02DBwjHaRYtGyP8OgC7s3T1pHvWAnugBnsRagAtFNrXu3tvxQWFBPsvsnZvugCeLPvWBfseLAAPukJ4SnvnuAdgCfvjseIACkkHf7sHLRSHIHN7iH+7sKR7aHr7TNpwZ7OHM6AAhCcPh9B8++h6ABR-MiR-Wx4jQ6h9R-+xe6AHQ9YIx622-DQ0cA+wRwBy0fx9x2B-u+FqxzB4R6AJFmJ6R4COFgJ4MGEEJxx0p-J0x-u2R5B4B6EAB9YGRzYPTQAhCIutEK6ym8seDLfZNoUMJKJBqPAhZ0sR61a2Z0my52G2596MiB4AAFbkJ0ZCIOerGvuVtedWdx1yTwm7thDJuptT4QhYDmeLHefmXZU8g3QMZx0MZxfgl9tvyQDEDiLBRDsqfFeleUz5cFd7szobuSCwCQAlsNdNc1cFeLtaBu4g7VsNcg7tfgk3RI6qBI6QfDdI4Usd4efDYJdjCI3UN2cpChclIAc6g+3OdpdWd6V9jEypeWfuuI1FGLdhDLevsxeGgbf7dzdg3YzJd3hzHDFXc+fxH+vmOnpq0Pd8bVKMByBwglP+eqBqAYXRAUxIuUqzf8YRsXnRvHHaubX5zvcVBhDnXsbYhP7ouMFq1ANdAY9wzRocUoKPqReJc2fUODBKWlbE-XfphAFZNw-WAE8HAQ8hzUABdBfk-gkQ+HdX309nBr3DMb0gNjNwaegr3nA6BBIkPWlC8t1kVo+cuY8Y5E1T5MA2scAL7cCYAvNphRCqAUCSD3SGCvjCSMAyyuVq0CyeDeCth7xlDm9YuhEgLpxuj2+qNAiSAaMX6+M6C6NySu9AVO8tj28F7C3CTUy-F8RFTe9pPHJ68GYsCCyb4GD9GkCkCwcMCyNCap81OAhSOoZSOSNeOyNx8DerK5-GxvqJztxMSq5Wze-9GGkN86Aem19TCypz2qve8OOAgzoOOh+4SyAR+emhcJwt+UxN8aXd8mCAgF418ZmEIEYJwW88JCb5wkmoZMxRqJTuFxRL9bCbDqLa4r8uhL9foBCB9lCn90fJqXrr+kI6h78hqXq6Ivw68Rj6+G+Vgm8yxL9hmzlOw2M3Y8RPftsENQ346yHtQatkVP7kNUMvfWRnPypgL8beTYEojAO8aUopGnvfBh-mkirFfONpKMFf00aYCgQDjRAeMG8AEY5IaAtfp2BkaGpwQW-UwogJnSNsm+znewPPyoEO9yCzrECr-34KsDAQVbaCjyAf5r9Omp-TgbX0oGMAA0AfCINo30CCDHegIAAOSe8E43fTQQH2UG6Ml+s-WYBmXuiMB1Ipgl9v3UZjQsngVvHwDqAsGl98ib8HIB0HUZTsUwOcYUAbkeTqMt44+O-qwIcEjgzBdLN0I4JkHcD5BJJeUsYPUjBDvAJHalHoAiGU8uBVMRwUHWcAA8gepAEHpaFxKEQpYmUVUosGX5V4xGQAqMAemDx1c+QgAwON7kgFMRsiB6XnqFxyFUg8hlACmAuQKjFDqQE-UoWom34LA8BNQ-gjdGHwNF38kkcYQRF4GUseoWQ0ABYPlBNFgMRQnaNSGGGxIhi-sSgFUI8gHoVk3ZSEtU3mRCIcBcwr-JkSgEbwThO5czgMNkBdAu4g6ESCkJCEMVGiLQTYcwG2ENUSijwmYppBDgXDk0VbWoTqg-QAjMoDOQ0iaTkhbD4RbwxEYsIqIQlSeuLENI22hFwjZMaIxOAH3BE4jk0nQ4Hj0IKHvJmBKQF+AvXOGeV2hnwikd0N6GFCCRQIw0sMIxF6IGR2I6sM5xeEIiq+7ZPckMXmFlCVkX4KYXHWuGogv8IIyVtpXaxFUCI7ZFHhSGZLPAD06dBYAqQWG1CdQEw--DO1KF0lai9RQgWIG1HBtnAOvNSrsKsH6iQKJoukckLdFLDeW56WZvSTqImt7hXUBOpeSvT3clckEcgLnC8B9QOgwYA4LqOdHajdhIabTDPxTzxxYxAuJzHlluIJiO+qcA4A6KcIgiHyFIIdB4FvTfYq6+BLIBAxHCn0QKrlOsdvALwViUEJTVynoDbFBRdAatHUN2O+ztwBxjdV-MOMmB6iXQY4ocZWMbp8ZFWTY4nGcz1H-IFx-9AvNj2rGoFaxhDEcN7nvp6icGIdMcZuIxQ7itWi4lsZqIMg09GQZ4dIj6MXqSoBWXQRcJIHwQoIsgjASeLlCLgpEFhimIYnuhOEQsHEY48KjOOb5zjtmD41+lii-BgT6MUqZpB0EzQiJiAz4vAm+NcGfjzRF4ybhhj9CLB1IY4nalOMZbaUhiBoqURCy-A6pCJ8QhCCcMGD0TtIJw8iSlhok1l1Rd5Pysa3jpEThhKwyvIz2AKDtPSdALJMGDEldA6AJGfMWMOhYSS7+Uk7+AmFkl2IA+MIhCEpN55hYAOwk6vBVRUlwhxJV2JVESGqi89auoQYyWpI6hJ1GQ3gLIIDzAjSSDAkk+QKpJklyS+JXbdycpM8kmTvJGk0YVpORiWTo0ekyLDEEITOT3Wtkg4AlOkD8A7EVkiZFFK947ZzJ-kwJhljMn4AwwRgT4a9xj5ywCprePLH5l8BZTlufRC-IfFJjlTVcsoPDIPgSx6i-JCWWoYBVGExSnJ2QeKYFM9JYp8WV2AbhlKanPFWpBGSvMhB2yaVSxa+PCM8S6DFI9KvQOGAuJwhQ1-6IVQwKAAQkHSIJuWQ4ts1XGwS+JCEqpEhKWS1CNxW0rQHuJJyaTW8TgSQEuz9QkTRxEEk0ttKelnMVhhOd6VoD9Q+pBgf0vCXqLlYhp8AWoToFI1qGAhYZhIeGQH1kRlAwZoAbaWYFqFytgavUxDOGDew4ycmy0iqmtOLAbTqCmMiGf-UUFSAdUT6ffi6NxTYzoRr0vLB9KYYugn0aUwoC6Gxl8yPMHM4Ga7hQFM9-0QsowjqEFkU8jU1zAPkjLhluChJ32f7JBCqn00DxIFajhlKZgAN7RowaWH1DyzBZdqguQYGsMxlrDdppGErFzJajolLiQMrmV8MSFLBHprzC2Uy2sk7IbZF0g8g7KJIYkc+yMrIG4O6msV-8DdCXvYA1lXZZKruR2cSRWHiI3h4YoXITn+kfJnRleJqaFxtTbT3AEWPNHghDAHQTZWY+IkXJLQ1tmpTgbOU4Jdw45Gcb2L3HhMmhm5j4foEgIQjcQAAGDHHeAkQfxE8FQuIrxgOA7wcsPcxyUQnmTdzRafc2RjwBOqaRF5vc7wAXiHQjy8CW454AuOPgHCjheWSgMsm1m4o0McdA7DlmPkwIz5nTV3isKMzHNXKDWQrDnPmolYj5DQysGfJ3oyBR5P8yoffKnnwY7ws2MYF-DkAyw8xDST7EBP-HMUeGIdXeZ2J9HAKJ5kEM+dk3cJUTsm9IkCpAskDQKZYxohYU4LCDELSFrEihbgo6TcTeJ7dOwFAvUAyxasV4sQMGBrwoIpAxwgiI6hrHT1bZHqJkiwpIVsL90uZQCUTLJQQs+mc0ORAuLkXSt4FhMP+Mq13IqjM0oE8Ce2NnF5ZFWwigOVSngk1MGMXxF+LDJSxfFgE1CyRV9J6oeADWKQWoLKlWZHJdKCpEmRqhfj2KYF4sqRWfyGDiKaFHdXkaYWsWyA9mtzeSf4tgULCVh2PfjIoD2LERpMC4r5pDLtmhUIJeinsZBMMVnSUCp4tcZiBFRgT6OkqMREslzKNJiASjUWZ9OOnfT9FkwDnr7MIaNykeWlDiTIp8DWg2s4JPAJ4lGVCJQJeS+ZCRKglf4slZStRTiEqXXSalmyZBSQEaWuymxcsmwI4tRJTi1UsqdVHTLYoMKVpJ4uBF0rwliiKJUybhbXj4W5Asl50knA-RGVjKFl8wJWSjJVm9LKShQNUWcsyXqBul95F5ustcZNKmGiwLJIsF5TZL5J0M5NGHNRn8Evl4c2kUsMUUYyYVHUXGQfXpl4FH01UH2RomSVrS0lNIaTNCvgRwrjl-+XdETNhU+L3RZK1JWPUpW2JYV8CLJLtNABvLPEBKxmcSu2AsztUuK-guCqpiuyeZEU8EjzI6hSzrAkqyFYEuhWULpZCEJlYqp1b30YhQIZFT8sWliAHuuELeB-MtnfCPZ9conP7K-pfzhsoYbIHli3huIX5TwPeY+HfkcK9MJWZVcHMuKGplVrsq2RzO1VDY14G8R1RJQPhhrrAtqgGfJL9XnEQ5MM5WRio0Q9TTREZMYBYI-l6F1IUa51RfCskxz1ZlUhOUmqdm5S6EyRRPFHgbnwq+JecwqQXNMWjxX2eaE1YnnNV1z25-9ens3Ldyl5Q1Hc1WVDwN7fC3ZZgq1X2vfrtTc5+UltZ8ISYbMAOWKAyTwq6AJSweRyNOVXJkohrrVjcqyRlIe4Z5D1s6l5WCXVZjSkl2aidYkKnWKIb180vaUghmjCByM9gXUHCBrxPqTSgIWsg+rMHLMvwH6kgOYpumrL+CNIcdbmosHZzppeq8DbkCLGXl-1iGhLCsIiAcs0w-nFYpKQ6kr9JSNtZUnhuhClDSpu8JsCRvTEF1mIlocjSICNJNwJxboWjcPUUg4aBea4CQPhvBiUbyhP5DjZjmVJep+NFAQTXqPIVNwC8Z5cTdCBY1Ua+47G40gXgkQ6BbIXQXNYRudEybq4NcPDdQBiB6AmNFABqi+vwzlDcNtACTfETM3Xk8VxzPzAHyM0mazyDmgSJ5vVWTN71uawSg5tM22bFNBqFCsCUs2PAAMnmPkCgnUZAaLBcdNza1iHmkxxNxm3IApuY2YaxpRGoZvRV410A7NUYTLeZrv6Zq+Bc8uKa5K8k7qJk8WydYJRK19Amt6pC8UhrVQpAMpaW9zQxoK12aBILW0LQ8Qi3XZRQ0WjwUCHq2JDh2fG9LXd1JgabN8oJNrfOvknNqtAranVaCBLlhbUgxGvzZOsW2R9gN6kAYrGsKClq455arXNcx0S7bn4F+NWVdumn6ssAhyjDEzA61hARtXYaLV4Li0HbptgwI7ZeJBrh4DM94-8c6OHI+jBmEvVnlwRl4TwVhrI-ITtWW0-b8YBzRdRtuXU7JoZ4WXRC5BDCIJngqaPsHeOeBKUJBVfbOYqtLre5z2css0coA6WdLAQNRBknXLeREI2iGjN7e9tCCAhUdVIhcgEJf6PbdAZal7XSuiKfbdEP2sbYghnQi72RNIlMFNpA2DBVd1Im0MlwcTCRgMI7fhvMgACcVQT1BIBdjfwXtpUy3d6kHbTT+MhCXwMDukWpkoWQsQwKuVcXiipkFWU4P3O5Y2BjdegdQeoJTBoAo9ErLRRxNUUh6rdg7QJd7u6Y2TE9NuyvMFGt6zSY4JpBtFbRuZGsE9DujPWZKz1rBBghugrdbrPYrD1AX8H+OMFprShOM2W19c6JG1K7929e7+L-BHAA6N8fEE7XHR72N6Wa828WCiOpAnbtcxAJdHqm8DpAaQ1XN9asLcRrD4QGw-oYCPAwNkydc+xBN3wqDj46sUycYowCX1ldr+8yTaCjMZDghFMoewEI2ibRT6GAFg8QAfqQSsl72lQElcXpr1E90hM+maEaCSwqj20IqYLOMCjFcZYxnpUA7mX2Al4cs-CfdR5GQPoGcxdtRA3sxFTn7L9lMa-UCBpDwNhQwe6wE-pf1tFgskoeA6gmoONoRQ4BuPbcylZCIqDjB1Yd8I7gXEGAjBpg902N0vb11ZkzbVSgJ1fEKBua7ZeTsDCU6UhdO0hKzoICwdvSVkzXeYKehPbIx12uzPrM0p+UjVEMZUjkDoAfxreMQJdPYhKwzR19lqzfX8O30lDuIsgWfUuiP0n77V+0qenFU0OKHJdsc3Qy9oMNrzvy0LXw3f2BDUAUFrub7FjK0CqAo0sqWIcAdzVyHbxm+GaLJAQiRHQsKhn2q+29J17Mxx8NA2bOCzlCzVlR--b6UwPVGM5eqzAxUcaMF5mjGc82dmMniZYuMGck6a9kqPRUSsmQdOYbn9BuILcEuWHPDmRz55MQkxqHNMelz24gsGco7K+xGNYHiYfEwEOGjTGcaMxKB2xAfFiQ9Gx5fGV7N6qGz7TNjkeCY6Dktw247c8GHPE8ZWMgVDspCWDrcdHjbGDyuxg6PsZwBv6Z96g7THoE6UAAdLANUcMkvFIxhxfhARk+3PsYOCmDVBHqBAEGx6nRLACCdzVgm4sEJ32dCdhObqYDiJ+QeBlxSEA9UJpRRDqlpOgAAAXhd2sDQmwgIkhE-gCRMM7UTLJ+gR3kxOAhsTsgfMOqhuCmH6AFhnwGCbhNdBuTvJtjmII8RJGVY6jUgOozcGGh1BEIPAPicnVynyTipqk8qbqFqmgQHgDU1qfHzCmRQQAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvSSxMWDQLgQg4gSD6Cn1fmibBuD1wUBJloUghgUGhxuNiJu9seZ8yZtwJ+IDe4kOBGQmBN1hC+DoVnMOgwgF2k4XjeeqQRJCITP9LWucMGfSsiJIazAtDG2IVXFwqjiDwMQYYZBwdx6hw4ZLL2YDY6pDeNxVEPw9H4MIXQWRy1Nba2BrvZRoBjJFELvQWxzh7H6IIYYohXDtEqH8Xg0gDB8EYzVm3QMoMGCBBkPnPE4Tfo2OiQwSkLi0SghSZUfOpJvp9yiQ4mJnRVaOxMcI5JqT846AsVIoabRayOCDgkupci3GKL1l48Exh2jW2UMzTJnEErEDaSMzpj0wjq1DnnIZ7TRnM24ODMIZTuHDI6WMtRVBiDG1ocHWIPTRaAOAeY7ZESqg0JnB8Q5xt5lCXvvEuaWyziWI8ogh56ijnW0oCcz6CzEkuBnp8s2ETBpHM0LiXZayXmLOEW9TILybngNSCnD4ByNGAqRWC2WaR3pT3ESC0BrT2AeC8H-f+rjt4eKUXNKyVLlBeC0b9KZDBWU0uMZvJZdNwQ8vBBsyWGLOI8u5fgARtK3mku7i07hg0NCEBBNydefK76h3ke43WNSIYFxVWqhuHLOJs2iSEox3T+XCLMVHcVvtSBiGBbUm1ACH52hnp7B15gHIMFTs6-QRBQXnOzukNFwaJkeTuTigNQbCAhrdRckYkafU6IITOANtDI3IoTDeVNXzvmE1SIvfQDjyYor6egncDirLFArkW7O1QKiwPFPoXiFbelqOOlNIYk8O3hD2kS0tYsB2SKVTKWBDAiS83bVQBajZuiMlHfOpiW9S3dHCKUcE9bQDNG6OOiJaVu39AUDiNk3RSRC0bI1IEaVz1ll8KU8kQVb1gWDOOfSoBw1sD3dSQ9mKUkZC6U8wFnb6VoMZQM0DKsVHAdNR5N4ydeChOcaQYD4GXBP3QxwF+EScPTP4YIgjmGiU-vlRRkjkwVwKUFZ0Ry5BfBU3Q+MlczQn60Qw6AuqJDGrNSUFAOAiBkDoG6niGOHlxo1kOfna2lZXnatSMNUaUmzyTVOpLZSpRqSfWUs0ImAtEZaeBLdaS19mG-yYdzXmaQmZk24HJqYKx9PWPoI84ul8G5k2M6p3JbnmAea-mXWTdB5N6eHanQ+H9j5eaM86Uovn34cE-vXDVXjHPheVUgo2+K4uKgS6ef12WrYqxC2F50Lm-MiGoHYhclTLXpzyysArPwbE1cCXV4JTiytOZMkSyBOCYH1e601+SoAuVsy3Lw2JQ8qFkBdfNfCelpgDdwUR+zPirwZYq0ShFczRszBaIVvbYyjCrM6bigFKsFvWAc6F3rKkiU8u8-Fo7Pxnt7224qSrMiDtFBawuX76X7uZbloQVV1B1VWq2sZo1gjVMdC0Poc1w3UP2ZaPdpbaFkk2cDrQrN6PHMPaaC0Ug5l842Tsg5Zy1JfAq3ILAryPkEeHIbTLOHyOHDcCzUJAc8NjoKHa5WaZk3kSTCFlq4RcPYkC6FyLkhnO6Dc6dZ8nMz5-h89cwoQg+BygMFFw4cXUEYjvgIRkYqLOkfmvW2LrHy3Yh6K0CIMaoWDz0GeZtgi5qKFM2obQ23nu0JZrt-booKPXfyBK2CMXj4k3Z1Ub-RB5vidjYTwxKrTuwRJ7YPNTbzQxwajDBRF8hozLBEV1ZWy9knIuBlpQXwJAmeCHB2wXwNUcyFpljj0aeOy3wMMHd+TEugp+oJw4pY+Xv3vTks0LClvSYxszU6vvCbbsY-kyH503eR5ngIaMWNKuV9hEHxS7hvm2u1YtSN4HQ+oKoJY2WiaSPsmVJl7UQn92U8lDe2p5-FT9FVY3Yn7GSmRP6kwv4AHVIf7yYAacS+YnZdIfIn5Cya5jTa714zJ7KIFApG4rhBQF6hjkjF4a7Cj6AQLrB-Iwb6oTAS7TBBTz7I4Hg4qPJ4qlabK3aOYBTq60Em7+ZNRMF-JzQ761iMg+IMGL6XbPLsGcCcErioFp676MH3JqJCGBy4GxhBQSHgzCHEBMSFDEE8H+ihzwHnanaB6LTMH-LHIvIyH3Z6Ed76Gd7cLb4OCWzv78wEKkaopZAeET5jY-psY8AbgQiQiuHFa1BwjcAuGMzhGiLuy+HepkTeLSw7LciMC661xBYNw3YoGkGHSmHYHqFGh8GbKMgIGSGAo3b2GS5dqwoYEIEvI+KlABGxhrDg7WwYxpE8z8ApbfxuZKGWFUEvK3bmFFCGBdEZG9Fly0JcoNGjHLa-IVHXbDGx4GHG5x5Er9wxZpYw6xi0Y7hbGeaxRWYKo+KVZJbTLbHQ655Xj7FggXFTHDwnEeye7NA-oBROERK+YfY34Lp8FEaMiSrraIxMSNjdh6hlETE9FXH9FEZASxCNhhGGKKy1C3rAiFI2ZIkKwai3jch6jwk1GBgMFEab6KiO4dEu6Vhu5R64mdAD7ShuGhAn6KpfGFZA7Mrr6kZcoKG1j6CB4MG6JdZo6IykkERE6wGSaFZ+y5a-HXp8GByMgMHSk2yWaSwn5MSWzmbcy-zKkPJ2x3To6BzqkvqhyBwSnmCJaRYXxZE7EGqOZCyaknE6H6APEwmNz6ndykkMGulHE-yjwimclel2FnBnIyzn7+YJyPG2nIFQSOkenOmHE2nlTPEikrgMGJmpZ+mKEBmOZBkwGFo8baJ8byACZtTCadTdQ6ASbFpMAP6wKkaM7iTsgsbmmiS3Dy7aJzqUKSDzbcAkmclCxBTLK5Da667O5swirmE+5zY0J9nSo9CyFQqAYjk6566i5eFVpQbR5WQrljnAwTlRrmDe6zY9k0LI6kYNLFIyDcAZJppNQkJSoyoyAXmFKNLXmgDPpLlmoPlybUnPLPmDkCo4pvncDNKtnjbtlFJZwJn0CZ4vk7jgg8nrKRIqxgZ3mDRIUukMQbkMp6pYW74qIUw6EIbmBIUZ74pqGAW2qXJ2hqEsm-SjJfCGJTSUl-n4r2l36hw3iLmNr8HKFyB2YcUmnUUjA8VhmOBMWEaCICUkwxmFDCUJhYQyVcCcnfSNiUBQx1G4i-mR7GyMjvHVltl3DKVGAen0l46kYIxmX0S76Qq8XKVal6jI7dnPDyVxgiWDDKWHm17dk6H+4uWRBuUbE3heXgXknO46Xu65bWVVh0l9nrDTJCXuUJgcBTQaWmXNwLJNmpViDpWnh+GT5YQTbdkZX2zmV0lr4sAJWUlf6xDNA5XpUnELIAA8wI1suVqg+FBVr2Zem44IAAKrdBBXQL4IIE6rwMck2C3tQLUM0OCKAAANTeKh46Y9piBCiCJNXhBLUioFyLXLWh5HQnQbVdXUarimRk7l4DVDUyDECORjViATWVFTUQ6zV7VLXzGxBHVTQnVbX7W7XzUfUrXfXrUyCCL5Wn4RJ5SOXOknExnkjiWVggy3TYhJXTAyzjEPRNU2WJp+hbzkZbWfUJahbI1EB8krUxCMX4DMViCsW6XsWf6fXNAnFYxiyE0rWzCTwQ2fUxDM1pEUZbU2i0UVUEmsRyGkFyZYwaWJXoHaUR5RUqwLQrC9WlV3SV50A3TlDfpMzt7ajcHrENCNjKWMgSEmWyEaGhyY3OIOVNXOVMwjEU15i+W95eWi2OHu0bFyak2o3BkpERJxnNyw0ek2Xw1Ihn4k3og+234rgY383Y2xX4mGHJX0oE1mW1VjZe2R3k325U00100K1ghE7mHM0ems2Tzs16SlDwRiz5U2Xp3ObUj81ERp1C1ZAQ1u1q7i0GCS1NnS1oFwr51R5K3TAq1w0Fy2Sa0iDa0kxN66m61PiRgl6xhG3dkm0CH64lXm142W38021mV20kwO2O0OUu0uUd3kREEKVEkR0o1lq+21SyC8ZNQlmtRCYdSiYYCGVEoILUCC40DC764K5i65oQYKLVrR5c4Fw-1-3UDC4kUuDQNy4MC-2qpXbqLILAOEpPwx54yFSy7-0dkFhol5zpjLJzC7WxBzCrhH1FDLIcgUMxAcjUOb7LIYQMNBEHjMOkOCqgzsOgxcMraCreG7XeHOg0OFDLLcSGCqqMa7VSMyOjWKjiOxDLK9UMO9WxjKMxDLI3AaX+osCGAiq6OqD6ONQrBaPokIULXsOxD6CwLcC+DhAAgAB8oAjOS1ijFjyynkNjMQdjDjTjrjjOPknjLDgqkR0w-joAjjgIQToAkI0TMQXjgqwAvjBg9j0TgTbjoAYAoT3DCFAApGk1EzEy49kwU4k6AMkwheJDYyU1k42VKI42EwhQAISSh1MZOlNxPtNAjNP5NgjgjNXFNdMNOgCtUxD9OCMIXNUAi+P1OxPZOzOTPVODPOMjMBOLOM6uMrMtNrNzPcBFALNlPbNAiZN7MQitNpPZOFBlMxCtOxD1npgFR8GIMEOAPaKOW3orgMJ9oDDcBvOwOEOoifJ4O-1IPmr4AsAABWJgQKgIPzGgiuizrD+DQLu12DhuF4PigLADbMnykUrzaLADNcxDdMyyBBwgu1lLFjjtKjgqkAdA3oNWbehzjLzL9etLdLljgzxjDAsAkADDfLArXLdLOjVAJjAAouw3y5K6K47csgAHLkCKtpPKuKv10rUvPvACC4vTL9xNUIsrC-PChlNizPkAvEv6sRnXbatUh6uAEBYzh45GvTAmuLPYMXg8BWuOsJwEvs4t64gOsG5K4PV6qkbS7VAMBqikCt4nQMDQvkDVjjHHSaDZ1XgOsoMcDGxeYB4EQBrhtHBFCfG-TThYiD3PKkbhXAyRU0mB4qodHto+vmrx081rg+sGst31vtEiBNvgvvOQswtwv0ltvev9tAu+sqkMTH6B591aUVtoWFrqVQxiBfBVV1by1R5lHxiEALulZpjSD3lFnP0tSCbtQiYYCf28VvCUAUCmAMAjIfDlQ3CkA0oXE4WrTrSbhPzvtnVjYcbuy-vbUFwMCA2rXHVg1-NxHC1Lx-CeyBE-tWlwfeWRIKA3BtI+5aDxJrW42EkuDkDKDKATUZAyZGDc6EdZONRLX6AEfKBYzgjzXbrzVzVWT7W0fyt+gMeio4cof4KUD14zRrXK7OrCdv78cxMRDQRX3sy3snT-UQj7UjnofGCYfv6-MFt8f17Cc0E7XWDgh3mae4jUJnoBofskqmc0YFw-q6R9YQJ0ymegAozKRkGpDkY3imeDo7QiIUYeegC9MFz1pf6lBQc0dOpOPqT1rGSlA3t3sziPuxQvs0oWd+jNAuf+rTVQ7pwOdOergGYL4-lCnIIef13boKdLWGdMBkBnpiwE7Ff7WbbzVgdOk2YeGK4FhX5o6+dA2xiNf7UVfGchfueH7FfbUNd6cgHeuSACeSSgi7UBqWtTdGdVd-uPbwzBHJdjaGcQhsNRF0w1dhet2hcwxr79fLeBGHSye9obeHbggADkYHAa-193gRINJ1pnBn8QGBIypAgi33En0nZGJKJMa0G0Ysf3HHV4yyQgVLVkwQANDkOkBsbgxYANBG8IK3-2k34nIX4Ph3uPWPGBxnX+s+n3giYPtYP3a+N4+PFX4P4Fibybygqbzr6eCCHgISK+OFRqkOXm5alnUPGXJq3AKOhX6c5aopDQvzDP6wTP1AmgOhMu7Pbg2nnPGPqwZGgl8CQXPLEI9aGy8ZLXmvhAavdVLQ8C4Ff3ts9OU6bPYybgnPuRBgyqgv685aw9RtD5LNQIK4zXrCAsIvjiaObv9heDSvxgwMWa8USLlvHM1vivdv9JY+WvHdmhnvpdTZ4IbDlnWEo68gCfOsPO7CNFWQtvISBfKu8HDdLb6f6kvD2fefZfEfKugR1fzc9H0vKbcvLPu+Nnh2SlafzcEvRQUvSbMvzPCvpfyvD1tCbvxPHDm4rf9slrYf5fzqotBhqBrXbvtBQ5gqevtOgdhvAswfRB+tho9B5vl9ftv09eJADvnFlaM2B4nPlnYsfPDdKtta49VONeZvgfHkt-cZHeRvaVF7+APNbs-3f5jZuKWvQIp-3gTq1q8NOVHIhlgqVE2c3CC0MWHKiUB8A3KaZAMAqCDBy0VFPNA3lJgkCM+WA6qHeUIFFYtIsUdbCQIf7upBgIA5Yif2v6TJIKLAZtCdCwqwclwCdc8KQMDBYQLiNlc8HeV4HVYWKFxfQDIO4hTRSMYsRQSdBQ5qC5Bo8TQTDFEHgp3YOgjQXwJYpRsTKEg5+vbT0FMhNg5g0Kl8jDKwIncgwcwUaQsGH0rBRVHgcYOmguDsKwvFyuBU0hOtD4SOL-spW4AOBJ6wMReAwHUAiAOApABaOUkIDw4tehhVAqWm34G0KQ-xbwYCW8HINGAZtBAW4MYg+IgoOgrGJS3MKlBIhe5EeDEjiHCAEhK+fwfbWLqRIUhCggob-EMHn1QAG-PIqkDnzJ8k6GxLCLkC6Fv9k+3ASYYIhgHG9Y8+hM-hbWEQOJqiAwy+snRcBzDOe4FI6KenS4kBncFQFOL4HfyGA2QpwxjDrEMBXoWBKdElJcO17XDzhwMO4U8ECI59y6GSIfoUCeCLMDhxMI4RSVeEXDb2hwoiL8NHYrUwR7w0kCh2qDUJ7oADOEUYCuGRgbh8IszmimeGWc4RQ0YkJ8IbrfCRgzwv4bYyyZIiyAKIy4piLeH6ACRHwiHrGABFlMgRCgBCOiO9QltOIHI-XCnFmhItkQGyUjDIEFFO4T0xMQTocJNaQMJgd5cUVQElEciZRxMHER9ECDqjLOLRWzqhVjb9BUR9I9-D4jZoQj1Rfwtka4yVH8drYUos9PyIlhajBIkNBio4IpJChACoICikhyEHQIDUXlOUjq1ACVCgQOgwoRvTsy2CAhAPUMe+nVC1BLO1bAQVFj9FUA2hh9L4cqLICMBdG-EcMb0O8Fr5-RGYsoVwI8i8RqEuY0KJ1V4jcASxpQsUavQz4yAkwtQeapZ3BCti9g7YuAe0E6BzoDU-o8IJZ2NoxBzuJaVOIOJHHNYzeTg5BqNEpDejSsdYriOmMbETin+mEedI51RgQDNww47PtmKSAMA8xnVG8B2gpF+gbww4q8c6ErE5jTxNYkLpeJhFoQxYt4t8VeFdqBEuxbYqlvsJOgcBcBjcc0WenrIeDgiGTK0VPkyD0VOIagEwF4H9SMBqB68NCc4G4CW9VxlvQMVBEbBniikNIHPIyAfEnizx+gbCeuIwn0BuAX4q8LhJjHbCIKfEExtnnSjqRuxHAKljqOnwN0aawE7KKqMInsT4JHkFDNMmbR6JpxVgi7mtRfHzoLEwE0AP1QAASkrBgAAEFwA4ASVgACV+qkAAAPKKtkAQIAyvZUkBqB6B2A-omRNDZ4SAeEkwoS2kHFVjtex6KSbAgL7I9tIDUNyTmLn7HpOgC4Gie8DvLBTMgNkvyf0VIxqSNJ2k3SQZOMmmSIpkgFyXoh8kMD-J9k0jMelVFeTp05YWdLlKR7ZT6AnkDkRgNuTNpopILAKUkFLGkZ+RNo35p7n9ETVYmoxRCWyhQl1TkEHUyyEEVtGNTGxV426qxP6l2TjxDks+njGUkEY-MDgahIyAAAMJwXijUEchAZks3PTLowGoCDBYYwGJafqMZCLTcgy07QEtTxBrpQ4F0sctQjvJcotpDQ1MaTHMGLS9pw8Q6ZZWCI7pdqWEL6S73KiHTDuQHcCoEA8JvTxQqQaoNkAwxBiqQwMiHPtOQZmhv0d1HaQQJBnZRDpyUBGtwghHTIGMbAGlMwLwKKYGhDvJohBTuCvT5BX-FGcalii-Szi39YIlANexYRiZDAUmTSmmGLC7xhQXmfzIoyz92Z6wrYcFUCAkzOgNKEjOBQqDHDQgPMZxF-2jGWCoIdeWWXzPlllph6MQDIVOIfBjCjZEtfsW3V9EqVTZ2QlYEFFva1gNhywxetGHMKNgWA+Q2QbTVMGb0mpzsugqHE9lNlqhoeUoK2KjA81mgos-WQWO0FLDtQWAaCGsXKFUy58M4tCKUBjlkyQupsodNnJpTcUTeO2COcYA2FsQAeBcvYbyMkzujncnonXEgj+ApjxQIdRsUjIEChiQxBQ32VGOtn+zyQA4Sof5xpaGF8CdADak+NYndDvZzpQwXRO5axBTw-sg6uRG4LGzNwp4I3BTTwCQg95K4D2XkLDE9yihJVZeY2I2EVC8hI88COOFpkOBJ5FEiQfRLjmKF55Sc6CKhC8qSy65zg-uQnQHkuzKIA4ZWR0VSDpxz5msw+q5V3n7z7ZocP8T2IAmn9XZY84wr-JbnIQAFF8q-l-Qflg0p5-EQgHuF-COTmJxtFsf+N76Y9EF3E6her3aQDjiFALUkKOO7KbjS0xCjOYdmrYLjYk1NQxM3OYU8BSFLlDhVOMIBXokxv8vhY3MEWPBJFALNkIGJyZgA95kITcVhC4W7iOZz-SRdr3wW4gKJF46ERTQvGkhhZDQQxYQs6qjpTFi86YKOgsX0SVgP4hurQvbHgVpcMCAjAjKEFUSRpobRiVrPJCNhk4-QRgARnOnWwmYMMv4HDLQwYZQSfBaxexNEKrhrFFEgJVWMsUNh6AyGNHOEqEDYyWRfoYJYfTunCJUlZuEiZQqQX0LYgzRPiX1nnwPsKexGE6etiKWRKMMwsgSZICElgT9A1S4ibPHmmSAVJ6khgHpOsgAAZSVmZNglsANpMsCadZIIy0J7JTUqwc5K8kNS6AHk9KV5J1gbL9lQU9KSFOxm0IUOkUwHMBmuVWD4p0yuZQsrSkzhjlwMU5blKsH8iG2vbT3PlKGWFSZ0aSUqV+MQrAZKpYE+EFeMBXOjdeqPSFVVNdEWxA2Vy-ZdsoeEydnRAoqgG1KvBRKymoxbxdjL8UqUtlY0z3GsrYn3KMVjYsSeYEMTa5ksf3Sie0pmyBLSx9o5qWBNxVCjsQMdZsa4x8S-Ke2wMNEeYW9AR9fJ9U7JTmKanCyYJ0uU5XKtGmu1SSNtMCQypcCtLWVf3LlRyL+LBjWgyIRkPekAFsqyAzTAuLqvaXz06ULgE1Q4CqG3yNQlnJlagzaVWrLVP3A1VqsCJOrnE7AoFD6utWarnR2qwQMIE+UnTggU05xGFJwq+LE1q8zHnQOTUyrnAc-OgWFJo6Zr6AKHHNfmoTXFqFoHwYIAQOLURi9lia5JcGLujSryp7wRkE8sSn6TDJJk8AExFbU6T21KUxZVhDCncAYJDa+Narg2LggMQ+newZgOjWkqSMQsctYEGxnVrJ0ZK0WlFDYAxqOAaJJ5TMvmVdryQe6l5QOuCIEZh1WTUdRstFpBRJ17KQIakHnZvBoWCucfBqKPwocJCz682B+qsGCy7KMsRYt+pRAz9+8pGBYQBqVSPrZaA8FIC+s7JvrZJrnElG+sVHr0pG8G0wL+qxXedUNM6-DBmlg2GBMNIaxDThog0ocagYgQ5MDFZVkaAe-6yNc+vwDwzgNpgekuGtPQ4Un19AEjcgjY04E2FsSjkYEWY3wygNvG82LQgE0ztlstq71V+sk0oh9AMmkYkkRWqcb1RFiIqBCGh4A15NP3XamJoOUrLuEGGljc4gw1Sa-VEapDf3QwJWbOyjm9jdr11Grd9RtIleGcJNFbYwCXqn7gMUThwaf1zmnAjZq40oQGgME8zeJsI2hbaE8WtTaHk00ujvoOmydaQH01+a-ucjODRZoPYywqNMmYPKUO5U-LeVrUpFlSqFVJzFQ3hR-NJi0D+bBERWrDs1qO6yaHFX1ICQMtAnwrXatgdTd-n6UgT7RB9PkB-L-Q-pItYeXyoarS38AIQCPLLY1umQ5buArWsobxUylEdQhaQnDQwS-591V2ULexJu2NiRqO+sveXjqRVzhb1Rk4V9BVsFH4rnQFC5xsZB238BSYQQhOCENJhtt9ua-UsbktsaVhhegTGESrXB2pruWlOJAQgyoCxVSATeQGh-PU3ggrt4-QOOjxK7Ugeto21Ud-JS5LKh+KWr2Olqx1d9iKVkAzay1ABU6bt2FDaQRIZxEaFGjIAAJwnAZY8jM4WNtw5HtfofOxjPaOQbUIZoG2w2X9CGHEpcRs8QwoMIMAuAmyq06XYUBF2CJbut3KyGgD132qgFS9P0JrpC4fAE5DQTXWLpqwbRHRVyNfC4B8i3kVwFcjXTxH538jrdm4ekjcCnSa7I19GRjMxl5LYkK192wSFYJS0LbBmAepjLWVrArbf8a2u1dzjYAMZY9jsrbTLEn6pBWV1QIqCeDIA3RDEnLDuaAFaCMgY+dOZgDbwb728KExgMgnQCKj-Ujg6PJiAOGFykAi9LLPzupEMSpUTYhhE3eCG8g+Rs9Ze9pX9Cb38AYgo+-yLDtiAm7ae7SyiccAGH60WIA4MKUwDwHrR-U0a9-K0CKINB01saqpMWpo5zrt962I-f0I72F7qaPe-zkMh7Eqx4QZs4KNIzOEQhR93kJkLZPw4H7RAv+7yPPrWJsQVh0wYfSAZ8h-cLC5uRqDAZ8b9DLdqokVbyte3fiatoeZfd6rfG-aVY-2yiSDoMAw6AKZTeTKUp-yI4k93q1oBsgJ2DL4VP6HuB8XLFHl16QgQwI5A2h57+ARqqkOXqBCV64+2ersg3r4MCAdqre2PCvSZhok6dxB-HVNEEl9bT0+gFgzeqpnkZlK3Vb-OCAcgsS1Acnf0eQFkjQQSei3drQQZoAyZ6D3nXQ2vhdIQ7FmlB-YbgOXXb6o2Na0tY7zS5eS20ia6XYuj8CMhgVxUtJLWoPl8EiOZOQFPGvtGutlscK9Q90DKkAGoVzog3bEB01pHDUxazI6eknKxhB1xai9Ys1iNQzM0Vaw1ev0gMX0vyHkJddMkWneG11C6-Ca8xmmMgkMZ4NHIrMHmy6AjQimacfpyHBil0QIcI7iBKmjGNhYSxIFUZXUcikjekFI9KLyMQqOAhR4mNkbXCLbNjBGHYwoGKN+ggZwGco2U0qPxHFptRrgqgqgjnAIo2e9rbdzQn6AHFAAHSwDJqxVO+-XMEDPTTbomATcXGhB137wH9xgGqC8dZVvGZVHxxed8d+Mqz-jMgQE3Omf68ATwa+HoFhGxOgAAAXl61ADfGigfy4GLgIBOkAz0MOnoMSbBN6QIT4ITvUXqAG1bvEEhLgzwc3BvG-jVJ9EzSZKa7cEKZhllADWUAA0qWkwW7mmDwCwmV9fJ1EwKYxNdMRT0egGiwAlNSn0ezJ-yEAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+WzUiLnoPUI3Lq3e6PBEpgA-A5uBgPODD4MwbBQHAiDIOgfA8GLikqNBtkArKyjN9FUiyAoSjDpGsTMglYSz9YxKP6EABcCzSeUb82M-cgZAOoQRYb4kTDltOJdKklv7MkGKfEwv9rCfwCv6Psa5wLuwfolawz9D7pV7IGdB2YILh2VqAeBiDQDIOHuGM8oEiEbhhD-bBoBcHWigkuehz5MGWQoSw6hfViLmkZMw7BbDQpmhlCImifDsECMCsFRooUerhQ8lgsR5D2EKLSqHLKJ9iBn0oQI5SuiIrxEoc-TWkh5x6BMdxUEfFGBJ1MP0ShLCUgmMtuUVx7jfE2FkYlARJ0FqiMSuI9KwSzqRK+rZX63jyEGIQfwiWADpahMKOEi2qSda8MSUYhYRl1FhM0aFQpuTDHJIiP7SgbsmFFIyZKRYLt1J4M0HxPQIcVGZTMS4hJZ8fF+NCGVSS4CBJd3ifApJcjyGMGYGsDaABVYgB0c4AHdYRwkZKoPCoAAC0uySkaFsgvO8-t1LCEGF3BGlB8CgD0BEQilAWCKOUGMGxwhDT0xTo05pBUnkvLeW9DpJBLn52JjYao5C5CyHELc+5Ug-QsEWNQEgXR3kkE+XWGwvYO6C3IMcQ5bTnghy8R8gZgzsEuT4sQLop9Vi0CFHoNxFKbAh3sbxfiwLiAmHJSylhXdeV8sSp0gx9KpF9A+R6FI-MpDWXAXoIieKpnuOfnK6CYw0zUr6IquQphmVUNAKi1qMROhVAhVCmFWLrDeDmVylMSyVnUHWQQUmlNFgyD2Qcs5+YIWejvMMxQozp7FzgYkr5csc55wLj1C6iDn5M0QZ-ZYqxR633aZDJx9d87BouqG-p+qbABqgjaAS6Mo0CRjTyvposa54N9ClRRtBlGuW6Wo8p48ZXjEYDBVpx9uquQKp0CZiTlXFN7e0-tvUGqwOrW4z+47niTsYH1XVw6z6D3FnW6J5083jxuXciI5NKbU3uiElG48ZiaSNZDYgprMSQvkDC-d8LuhUgxt9bm0iRYXsKF+BdHS64w0-T7XN8CzXmsfR6q12LUG10zZEYwxaRwEuZf+jNnMP2MpRv0MDv9n2GUdEh4lgHiREcxcyr86H32IfAeBlID7oVQYo5pLdNMQkFquhh2JFpnGgcSXRsItRQi1DQuLItJBJFDukiXTEnamZ6Gk6O0I8aK6-yTSsHwgIABUEmhG3o6Fpo2SlmqSV0wKfT2lFNGgAJChD9aTOgbtiDIkIP2Yhm5nF7rhREbdHZw0wfTKAZ6BLolAbicyATl6TJKCRce3zItmUqdKMyz+ztZRFScy5tzjDGgCSo2Fnm37BUssczkLLDCrz+j0FY7dHGhWcffdx7G8NM73otUxxKnaCGlnc3U5UiXjP-G69lyrzn4TVndClhYIELwYL6+YwZ-8eQzbAr118433wdgLZ-JmAmRP7wpHW7W+iz5fJxZbAl5svERcxDi1J6gGBHCC5llFI2SECUthCUIOKzPSk6I9wblpTMgj00O+70KvvfP-ZbYrLCqXpaUKK5g4rbFSwe4MX7dJ-u7odqTOtZSyHwK+UJVQR0WqxiI0yil-7nItrDt4uriVJkboPuwyRWH21ndg+Agl-72cWkpzO3DoRJGgPSvK-ncoNuZHieA3dAmvy0fs5u9hK2KskJO+PUX0vxfqr0Gr7hlYdcM6Z2m54Bu5uvnlULxJsPq1XABneOtw31c8MJ2GrF2vIGU5d4b9bkCTeFH-b7y3kFrfKl3Xb3D1w8DLyYKwdgm8uA7zQGNA7BkvjdueHhDtmkdknCe1EEcLOKRWJsey+w-FBgw+rcT66PJkpIpRTS6xb0jZ1Yr44ug1fqBqXlyTcWKCm+otb+DDpufosK0TBKlMiLkUj-nEHRSbKcwcqcePuvw1mqjXwIMaqWcxAkt7+cif+tt+tQ6YMDqB+IZvUR8oMVjL8Cn6atDHfgwJol4lFYtVNo9CaotBf2cBul-xHCMwAMZHbgIwp3lXASAPljMmn313VRTFAN2hvwZiI3rUZDhjgM3y8jtmQJtBrSdzIAARpF0Hv0fzhiJyxS-BdGjxrny1XlBFHg91k00h1EYNINDGoFkAtnOR4hklr3MDsyixxGTR8BYKeH71qBxRGDGCPSpjpWRyFAJV23T32lJzeSELEmrG73vHVRk3EPmEkL0MVAMNGXbmkOOkgTyyEKmDEO+R1BsOsKEKI3sNBEcIBhMOcBdFcK-zEHhxbxUIZR5jsMGGtAMI8CpEUPYN8KUllB0BGHMMyDxgL0SN0BSKiKUxSGfjMLL10J10sIeyrRiP4ICUCUyOSOGFSIh1AAAB5qjsjSj9VcFZlqBNMAAVDIUAYSYgOESUfOdwHjILYBF2SgToT+QEUAAAalAEZ1CEMGiF0BuStjsLMHmKMxmPmMWJsGWJiB0DWKIIulyMKHnQ6O6N6PwBkFWSGJ0BGOxjGKaR6CmKBDmIWPqxfiiEOOOOKM2KBBTA+L2O+JWKOPwHUhyNxzE0AWATF0F0gV3S+VIOUG6AyFEloN-jvFKy3AiMMPqOg2lQvikgrjqNjXq1wQMTRKLipy+OtTIL4MOKoNUJoJHT2M-h12OFOB1H+JBNYS0hyL5I5Kcx0g2MGBdChMi19USmfVPi5ML3OCUOZLCMgP8xSBtU6LqPtWIHSFRVAGkh9UKAY0tWZRxRsIJWYN0OF3cS-BxI6XcOKPtK8LtxZRsI8KdKeClSNPvQ4IbFPmpIxP42V0Ui92rAROrEiPUCRKxRRIDLYNO0JJdXFjtOKMjIJOY2i3k15JZUpNRIARpJBNOnIKZNCJR0mTqw5MgXlK0mzL5WflkEtB1CiLTLOPcWFJyFFP0KrQlNKMh3o0+MKFlIMWrIUJiwpmUKRxVNrFQ0uK1KBCWV1JpX1NBE9UlD03sj7ME3azVLCDNKEItMAxsPjM3M600jtLdMdNcJdIpTdKDVcJPOlMfJtmcH9PzMDPXU9FjzehXjXkT04G3l4AwE0J9EeWeSoFeVH29C5XPkn0QLiguSBFAoBSXwpCQvArGCeRdmA3dg+V7gbDkklT0hxTQsoAgrjyezijfhug1CMxsA1D8R5Soobz1FousD1AYthxukkNYtAEkI4qYv+EBEPB4sPH4sKBugFlKCM0krkBYUYvEobyCjoBdlUDhCMyUpUsGOwXko8Qbw1MYFYv0t8R0rCBumEhGD6g8DoCNnMuGEsoYEShMqGQb1mJ4psD0DwkGDhDMCOAAD5QAdl5itKnLC0G9dk3LrAPKvKfL-KdkDlgrOKG9DNBgUgorQBvLjhYrQAtN0rrAQrrAbpgAIq7lPL0qYqArQAwAEqBK+hAQABSYqtKjKvyiquq3K0AfKwHPQQEAvNypq8q-PU4byxKwSgAQhOD6tKuaqyvGqe2Gpqu6oaMaqmoGsaJsHmoUsEoaKOAiv6syoqu2usA2t0sEt8uWuiv2p2X8qOs6pul8p2pStCD2paquqezKpGtqtGuKoqtCBausFGpsBzzfghGIuiDAtIsBXBjF0e1-mElEg1EGBIrIu-JBtgyRshu9GRA8AACsQxyAYbEo4auV9quKwbkLZJo4WxJVOqwh0bIKYRiYsBQb-l0LsCSx8aCU4obpr0TUOgjMeb9Maa6TnLBLIBiAb1go1KUqxaJbKYhbhaCqG9bLJBYBIBWLlbVb5aFazKtA7KABRHi5WvWrW4Wm6AAOVUDNuKotrNtbIVo6qqGZvBogpd2KOOFhpEg6X2pcKrTpuG2JidoBTZrQVGXdsJs9tuRaoIsNERrJtZv9ohBrjOT+WdoxqYQQoTmn3gOTpiEkCNUYDkDhCZOxtUDUEc2iAplpMGTpswqyCFBwoxWvJSEzsPEqDCGDIpAbLhNLMZXgOCNpUnJRw4zSxpT0DppDlTIHK+L9tQUIX+KbpFyaXSzHrjohvptfGoBxrxoML5N4tXpdtnrlCsIXpsFHKVJ7sAKItg1HJ0AARiPSgvsZBC2xBAUfr6ETq-PBh-ITw3n-O4EwGAtAE1QjAoEkHukMFfGEkYBlhW3gIFk8G8FbEprKFgcNF-mfjkh7M4SyE7A+MBEkB2KCx+NWIhKQbThbFQdbM-jklQYwMRWEmpnsT4iKmIcTmztIFIHcEFmPgMEuQ4fKoYHmL0FUA4erMBBmOfnEYNW2I+JEdIBNpYXEeNjBOrjvCYnIEpl8DBNBUTh0cHQ0YyvMGs19JxAON0Dwe6o+PodwlkCYaHSJszvUcph0dOLwZMEBAwKcapkcRYGEfzjgfLiFgTlbMkaZkBDUwWDimCa2E2EoRfXkxdGCbMCCC0kSf8bMFmqBHnhCbuR1GiYyMBHnjcWfmAZEctHAcrCgZlmCbnQPSdheJqXdmie2H1QeHRE6Tpz0SSbtpwSBEsfmK8fGG8F8bybBT8cmE+V2L8RmMIZ12RFRFYI6aYnpySeBOmfeIGdmGPR8bIcIPGW6c2P1XBHCbbL3vsE0aEt6CMwTljvOe8eGbQaqIeQ03GZya8e6u4sGDilGcmHFLdCSduYMaGcYBYCoYWDMf0BqeKUBAAHJCGE48G4WImIXjjgnPGtmqZ7pGB1IsXDGTH2RAmygngEGfAdRcWFG-Ebocg+aUxOjtic5hQ-ZqRvBGWrJBZdpHmGl3myWRxsXuy3RyXAXtmHmInuWEJBWhgBXeXhqzmgXyXAjnAS6y7SAK7LRwECopZMpg0Am+oGnakowx50Guq+Q9XA5BglnVFcgx4T7rAialWqQVXKAKYsDCJNXqQXHtXOWUgBFv5DXikbp54npvdoFWCx4wWeoFXQBcX5Qtk8INWdpqRtWvl8N6mJj9WPIw3-MzS79OSntf45mQ32m78ul6cw2pTQa3XZAugu4CUibo34RY343MoPWy3H5KMc2qyCnuKjWzCdRXWE2q3y0q05J+3MoEwrkvWwhP4J7O3ThLnDATmuXmAB3x2wUImZ3qwxH7Xy6nW1X1VF28jeKXmN3FQbW+jPbt3HXnX1XR33X7iK0CJOxRXj2O2Iy97K3V22G9ttyU2pJQ3H2f0vwA2jMC2Fn0RW3hNtzoM-0CI9sO6JQ3Vngx58CCWlgXm-WGkuDH2In9Lg1tTHVnUS2sohg4R3UUKupaAtUH3FgdWzCMPD2GDsOqjcOep8O1kXzOmKOcDsYTlSZ+QWXXxyBc4vA+oOhgwDhkO6C+5SOkPH2xH+PGBhQMD9hq3mXFPXwvFJP8XU4DgID8bPW9I8Ai5vBNwLhQJEbXNJQlz2hyBF5482BSBhgRJHFQAxo7lZBFIxpU9U8EEk7qQpY9Ajo4RBg7A-RGAOhjDvkZKFUQxOiIuen+SBbOhamPp1BAuZBgutIdRQu4vTiEvensvYvwvyTfFUt-PSB0vMuXQcviuSCNZtCzOsg9Bx47s0d0oWhQJOakqOushDNNz-VYTRIgvJAeBBhhuOodycU6BCAPAeuPUnt+QAvhvRvJWWxwdGuZAvSUhn1pvZvHxqykuOgf0iSGxDupTrBjSOt3EcUauOgCVFuKvxu-mWxdu5utvsFn1buDuaVjVBadzTzTufub071fFLv-vf0+43RbuHz6Nf4hMnykzFIYhZBFPKuRuxuMvJB+A0yRxjugHYNXv9uFvyu0eVuXR1u3uYfYV3OZu5vvvgxgejvweX57ALg1u2uNuz2UgzC4plvEaXmnv8TceKXfFyeOfKeqewfEzvtYMvvie6AlvMfsfVuiRafHx3uZS4U5fThDuf1bNCgGy2fVe9vzOsB9e6SzCzDBe4CufBkZw1fQJWtzfQApe6tDfquiuOgcfNvzvBM4efTQg7wNKtBHPqs8ehIxH8ygFFgD3fF-5BuONP42ACnkeWXY+-Fn5U-FPGcLjbUWA2OnVnBjOSFVy5vDSLvtPQBg-yBHOr7Ati-TO6ensrE5vmvHbYMbOCUG-KxW+hLBv8xiLLOntu-BPHxuqs-hRE67wrEPAYggpYgVtvf4CzDF+hefeB8zY5+mSVs9BZ+aVDj4CdQ9-5-JgMDj-t+9dz-dB4CXQr-T+N+KQ7-JBc6jzV-XCUPnAHvkDsHhCAiH+JR+63-OhFkG97msHCH-I9imhn5b8F+tCR8EvzAFeFI2yPPsGeHaSscmAoIDHDqWbxdBFwkgJzjSiyCMBx4uUIuC0jk6Jlf2I8TNtLwCyGBQAd-S7DAJ0DP9nMR5DAX-18RfgmBGRQ7nVmfgkBFyeA8MAQOpbEC8OmAz0hWXx6LB1IT-eVHfw14QZGM1PF9HRwA7M85YZhP0HIN2aetBgug9SIxxo7KCLuUHDMjiAjb+9hMlfIwdq0jbLFsgLAXVu6hbzBgwwcIIdHQBW4eDVKCYOgBNyk6ZlSSPgnJn4K8FdBAhzXZ9imh5LVQz2zXfak4MeCuCEcEQ7wVEGcFG8DACQ3enSQyFRCOoUBHAgXWyAQVChuQwYIUOkBBDK+0XMIUaxqHRCwWvbBCGEMSHlUYgjiLIKXTAieCh0zQ-gM11t6JQkhLVFIS4JnDVQ6uyZLIakPwBhgjAEdEFEFngKLCtA1KSIHYEeBaNshRNBCqcQwIbCNGsobYc4L2GPAdWWZeYaCyNYJonmpQ3oRUPkD+CDgzKHkrcJNrjD-KJwrYZMMuFTCY4Ow0FrMIPh4RqUXQG5GzV6C4E4B5nKvloEQGekucgWXgYwJYFsDrEuhN-g4QVyaReBOvIHrzSNaADV+OEX2FIM27PtThTgSQOZVD4KDL+LAqtBSORHr9RMikZYLSOcwMjai3I6oUiKpHrD9yBTfAFqE6AzEjWgIcUYSElE4c5oaXAUYiP8BGtzS1gCJhEBHjcizApIiEQjmhHFhYRIiZUWyOFGaipAlvLQGYG2ALAzCFIt5psO8C8iQ+tRF0DqNGEpAXQDoz0bTSdF0i+R+gj0fkIpQ6gfRIYwZPeQiYyiJRfNRwYcSyBCcxstwjysvxealUfh+pCuNCUUiOcQwB0PqM5gU5MJixjQQYNG2VHRt3+WKHFHyJajTddUBKbkY4hdE19aiFYoUaWNoCDAIxgyKsXiMr51idU+KMUbGPT5-wsxyWKohQVvr2BIIAIoccxCVSRtCA-BOfi5DHrWiIBPmVhkGOtE5iKQNnc4bsKC4rcgudQmXoFgBw2dKuZ4jLtfkr6PYiRDPXmvySZgGo6AyAn7nG2G4ohNx05S8QwKC4Eo+21o-EdFhHhBczAkjeeAaiC56RExoALogAAk9akgAAILgBwAetAAEpdFIAAAeTNrIAnsGhJgvYEc6CIUeDNf8S2PZHwFVxGFb8bROdE5Mjx64vCOOzU40TmxrEiJkePUDpQux9ADAgJNKBUSBOVWeAihLQmYTsJeEwicRNEms8OJXE6iblhYlOB4CR4gERxMkC-jKovErSUy3Um0Bdkkw3jsHDn4ST1OVWIycQHokQDJh1iJYUTQLQUj3AmVRnHmOliFibJTCDyfnyPY8j6JNrG4m2P8kaT7J9EyaIhO7Srg-QJAFzk9gAAMVQGuLelWTlR2WrggOJWEoAHAO0OUxKaUIJTxSNUzeFzvMR4DgScQ5U+tElO8AYErEmUjhMAPNzwiQBtgHKdUnTbOYCpaYlNIUyMxmF6pvU0zgVOe4oNOpm3MERSDsDSQ2pj4KQDEAVTssWusvHqaa3yl3dSJtxbKauHGk7S2+mIO8FkLGCrJ1AMsLTgDzLgcIk2A2FqftJ34YCxp2018ANKmzPMU09HDRGYXOmSBLpcgGWFh1MGeiAZQMmWCYKfaldyEsHAPt8ghlXS1pODSNsGDcERdkQVrGeIYR-6OSYyrqOwBdORmbcdy1A8MKPHIy+JZSio6aXjPIRUyKU9BLPL70g6QYtBgE-FB4GYH79KCL-K0vRNZkQ8Gw3MvgcSP0wgln44oxjCCU-hIzgZu-TEYoLMF+9rMrvbgcSTo66icyQwImYDORlcFPkKTeWVDLdCzSZB0s2QL73h4V8EiJshwfByCL6iW80I5FMRFAhAD4B+JfGbdlgzoin+-M1griKQGYhn0TAzJrrx3JfgSAaxeka6MVm8zWBiglkT2PtqhBrQgsqei7x-beYaEPga0JimFp4AtMJc3+OdhYE8yT+WI1-lGWFG+8eBFciOeLOS5x9DUxAWOYGMX69imRf+JQa4mswDzrArhKbGSJmlplBZbWdmc+nRnpYpAHkDObjPakxSLAlVMACXK0y-wvwMYuUXGMnmqDEyMHSEZ7IRELyuBvqTkRSBjkQk45bYseit0WDK9qxlfc0qOJ3njjem28rIHzQVGaAygiwe+R1DVFCELR90-+drIaT91n+igN2TSA9n-zEaj8hwiAu1ETc9RkIqBUsD4KwKmuD8xGit3f6rzsqpcp5paJeZgKYmdoshYAuKRXyqYgY90XkOFruiOovo6wLQpvmh8+2jCtOYlD7YsLexwqBwmC0-mSjkBsqdlr4CawASoupkL2EgS5hChUC7LcjkWFoChhVxUYcqYf2QYozZpGBeqV4i0XbjCW2karutMnbKZjW6gS6XCEzxgEwWmDKHuYoPGmgXiVMXCOVN0XljpWaHEKVGx8VPzOZQDXoc5nKllTZQoIJaaBBWm5AtFAmH7O3OvnDiUMfidhYGI7EhSIxaYdRXolDDZBQl601haEH7EhyEi7C5Ja-K-nvy3xqmZjmbjAbStdFFsY-P-hCUHTNuXPGcYmPnEpjylS43VDWkQkyTJAOEhZAABk9aJEycXIHSl3hwplE8qQJGinCiIBjEtgcGDwiaTuURrdid+ITCLKtlYLMSelAOXtxjl7SgSNJNQkjLxlky5SZaFUldADl9k+As5JHrvDBkOklMXpIMmHKilNgQEOVPMm3DwQNrL5SCO6qBs2WWQYFSCPBAuKxAydZ5f6IckrLghpjW4S5K0BuTBkYSlqozmToeKJF5U-nn4qvIFp5ldlZFWSqEXxikUq4XFnoAyV0SqRx40Fk5MxUnCcVhQF+f5WZRvKl67g14ZEKrp+Ib0qnUyfQCZU+Lll5KllJmKRXssBIzK50TFLtwXkvhkbBdA0u8A4tpW7ItlRtMCwzRhABKG8Yh2lW6qq0gIbVbi3L5ywTVJAenr9xbkNIaQ9KsYIytxYGrJhYLR1bkD07KrpWVaDVSCIRWwghOdgSKZBFzocThG3ExoF5jqbrKXIY-YSYzJSA4pgJT2H5Zjz-HprfeOKThrMgFzCS2VYderOCouFBcTJkk4gLCucH2rQgiwVzJV1rW2T61FkhemYWEmDBMxxahafXATU9Kw1m5dWefJriGBOiYweqbGuYlGKaxaNFFQSmyUaA9EcS0ObnJTV4Qx+LyvHlmoy4Epc1VMP8S8sLWwYB1AueqZMIrVCoq1J4jLkophUWSqeLavoDWuhUyAG1jwdvL4lGnss+15VS9XKGvVfCx1Fg2wRfNNBid2lyIZdMJPjWSqdWni9NVnMsUqd2liGutWCww0IaC1--RFTBrw3DruUXyKdVGrLVzqNlWGjtZuRxSZAJVdagHMMrkm4T8JRE8AAJhY1YS2NikqZT2pI2Ab9qDG6NfQE3JbzqAB0DxgRs-4wbPFC6zEORpnU5SqNG4jdUEpE2LKCUwy0ZRMs42YgdNty-jS8xJV3JyqmmpVeJs0iAhJN0mqDRhDHLHo0w2NIFJWmMUkkhYlaY4YBmc3Qgc02ipsF5pk0dxLQvmkQNR0i7PkVe-mjAoelixUwlKLmsfG5vRWod5MQW1mFZPgyJa-NKWyvqDNUakwy0OW8Lf5ogEmDCt4sW9DoFshdBGVeWhIgVvDX49iA2NagKtLC0UADCoa5wTqyVKdamEA2kroex62PAImzm9rbEuYihbaASWrrf-lm3Qhc0ixW1Y0vywDaFtrWpbYxWd50lRtoIvSG+u6rUttiq23VeAVm2Tap+pMRLZNr0AlautPqr4e5qVIPaApEgObfjRyYPDzi4gJ4eUP6FvDRVcOepYyvyxvb7tH27bU9rDX9zUq5VW7atOK1Q7Stb25bbtpvIOkwNooI7TZoMopgzt2LdSh9qu2zLSY1W4+AKlZW+qOVIIrFcsNEgUrRRvlM3h9xMWE71IFO5hjquxbjNltPCsIF0rnHJiIV95BBBjonFC6kxbKj0tSMHk7YK4cOsIPtq7C46GWp20HdKyMxc71+taTiZw3QGUDK+-6DATfTvrKJB6QoZrZe1VaU4qdKu-GLaU5WuTPabiXlW4hcghhXMzwFAYGDQHPA+SPzXNFSNYX65zWMVfIbh2UCpyBd85ZZOx2Cm4zVyOxM3oPNCCAgbdu7IjPCoS71kExwumXcPNOZMwm6KunHa2oz2l0HWtu8BBrqPh8QedUtUAJnuvbqpE6tY7ZGuAkCaUCUAATiqBB9u9ngmXZFsR4UgNKw+5ycFEQaGBBgpGqgVupuEZqtyU8uFM4AyIpS8eoQCfapT0AwsYWKYNAEfqbUqCTSviHfepE+Eqzt9Q+1Smyuf6OJAROQwwFWmcAHJ98NghHhfvv3T61ggwYSHGwv3NbrFqlOxT7rpDTqYdvWiAftvL21UQDtirtGAQJ2a7ztlyOQDYrAPXbxYt7KQIypiBvrIi3gdIDSDlqoiGBM0AlPW02QtA42uBzcU4h93EA31eDCoPCoEzPpXkjAEg5LVACZNNocoxkOCB3IX7uq+yA5Lgf8W6q-tLBz1OFTbq-xRDgzL1UaGznszzANstQWWqE4WwxgKnIdDNGX0i45NOUzoqJuEZEaSNzStSEypVmcHiDjJSmHwbnY0gsgQhrfTYFEOAhxD+yNcpKslBidOgch8QyKDUP7zND46lIF4Z8O+HcWuKXVAwBiP7IT91gb-QCP5WYruVkY5nSCWUONKQxvuxkP7qZXsi+10eggOVTPgi9CUtkRvSUaCz57pdAIpmABDg72aIYgGHIHQFWSIMCDrmI1RQaoM+KG2tBptom24iyB7kzByzlsTYPvc9yoIAHBzvqNS6R1Fwlo1ZpCFCwbCw2p+ECBzjns2xhxFUaoHCbWYk0GLOo4UaoDHwZoFNJsDsarRh6Kj+1Ko2Iu3W7qtxqW6aLuNAkkhEgAQabBTL+M1pcDdRmFsWL0AC6AAOlgBQ2CqugOh-AJ0V8Yl70q0VT5BSgP1AguDJB9AlgDBOMqIT3EqEzwthPwmMZ4wXOMiZBabiU0hASIlWky5mEGToAAAF4x1rAsJsIO8qpPWIUTzxzLhycxN8psTgIXE3wXxP68bgnR+gD0Z8AQmETfJmk74ympfMG8pxlWNsVIDbE+ahoGFhCDwCEnGlipyk0iYFNqmrF2xDwNqd1PwqxTIoIAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+WzUiLnoPUI3Lq3e6PBEpgA-A5uBgPODD4MwbBQHAiDIOgfA8GLikqNBtkArKyjN9FUiyAoSjDpGsTMglYSz9YxKP6EABcCzSeUb82M-cgZAOoQRYb4kTDltOJdKklv7MkGKfEwv9rCfwCv6Psa5wLuwfolawz9D7pV7IGdB2YILh2VqAeBiDQDIOHuGM8oEiEbhhD-bBoBcHWigkuehz5MGWQoSw6hfViLmkZMw7BbDQpmhlCImifDsECMCsFRooUerhQ8lgsR5D2EKLSqHLKJ9iBn0oQI5SuiIrxEoc-TWkh5x6BMdxUEfFGBJ1MP0ShLCUgmMtuUVx7jfE2FkYlARJ0FqiMSuI9KwSzqRK+rZX63jyEGIQfwiWADpahMKOEi2qSda8MSUYhYRl1FhM0aFQpuTDHJIiP7SgbsmFFIyZKRYLt1J4M0HxPQIcVGZTMS4hJZ8fF+NCGVSS4CBJd3ifApJcjyGMGYGsDaABVYgB0c4AHdYRwkZKoPCoAAC0uySkaFsgvO8-t1LCEGF3BGlB8CgD0BEQilAWCKOUGMGxwhDT0xTo05pBUnkvLeW9DpJBLn52JjYao5C5CyHELc+5Ug-QsEWNQEgXR3kkE+XWGwvYO6C3IMcQ5bTnghy8R8gZgzsEuT4sQLop9Vi0CFHoNxFKbAh3sbxfiwLiAmHJSylhXdeV8sSp0gx9KpF9A+R6FI-MpDWXAXoIieKpnuOfnK6CYw0zUr6IquQphmVUNAKi1qMROhVAhVCmFWLrDeDmVylMSyVnUHWQQUmlNFgyD2Qcs5+YIWejvMMxQozp7FzgYkr5csc55wLj1C6iDn5M0QZ-ZYqxR633aZDJx9d87BouqG-p+qbABqgjaAS6Mo0CRjTyvposa54N9ClRRtBlGuW6Wo8p48ZXjEYDBVpx9uquQKp0CZiTlXFN7e0-tvUGqwOrW4z+47niTsYH1XVw6z6D3FnW6J5083jxuXciI5NKbU3uiElG48ZiaSNZDYgprMSQvkDC-d8LuhUgxt9bm0iRYXsKF+BdHS64w0-T7XN8CzXmsfR6q12LUG10zZEYwxaRwEuZf+jNnMP2MpRv0MDv9n2GUdEh4lgHiREcxcyr86H32IfAeBlID7oVQYo5pLdNMQkFquhh2JFpnGgcSXRsItRQi1DQuLItJBJFDukiXTEnamZ6Gk6O0I8aK6-yTSsHwgIABUEmhG3o6Fpo2SlmqSV0wKfT2lFNGgAJChD9aTOgbtiDIkIP2Yhm5nF7rhREbdHZw0wfTKAZ6BLolAbicyATl6TJKCRce3zItmUqdKMyz+ztZRFScy5tzjDGgCSo2Fnm37BUssczkLLDCrz+j0FY7dHGhWcffdx7G8NM73otUxxKnaCGlnc3U5UiXjP-G69lyrzn4TVndClhYIELwYL6+YwZ-8eQzbAr118433wdgLZ-JmAmRP7wpHW7W+iz5fJxZbAl5svERcxDi1J6gGBHCC5llFI2SECUthCUIOKzPSk6I9wblpTMgj00O+70KvvfP-ZbYrLCqXpaUKK5g4rbFSwe4MX7dJ-u7odqTOtZSyHwK+UJVQR0WqxiI0yil-7nItrDt4uriVJkboPuwyRWH21ndg+Agl-72cWkpzO3DoRJGgPSvK-ncoNuZHieA3dAmvy0fs5u9hK2KskJO+PUX0vxfqr0Gr7hlYdcM6Z2m54Bu5uvnlULxJsPq1XABneOtw31c8MJ2GrF2vIGU5d4b9bkCTeFH-b7y3kFrfKl3Xb3D1w8DLyYKwdgm8uA7zQGNA7BkvjdueHhDtmkdknCe1EEcLOKRWJsey+w-FBgw+rcT66PJkpIpRTS6xb0jZ1Yr44ug1fqBqXlyTcWKCm+otb+DDpufosK0TBKlMiLkUj-nEHRSbKcwcqcePuvw1mqjXwIMaqWcxAkt7+cif+tt+tQ6YMDqB+IZvUR8oMVjL8Cn6atDHfgwJol4lFYtVNo9CaotBf2cBul-xHCMwAMZHbgIwp3lXASAPljMmn313VRTFAN2hvwZiI3rUZDhjgM3y8jtmQJtBrSdzIAARpF0Hv0fzhiJyxS-BdGjxrny1XlBFHg91k00h1EYNINDGoFkAtnOR4hklr3MDsyixxGTR8BYKeH71qBxRGDGCPSpjpWRyFAJV23T32lJzeSELEmrG73vHVRk3EPmEkL0MVAMNGXbmkOOkgTyyEKmDEO+R1BsOsKEKI3sNBEcIBhMOcBdFcK-zEHhxbxUIZR5jsMGGtAMI8CpEUPYN8KUllB0BGHMMyDxgL0SN0BSKiKUxSGfjMLL10J10sIeyrRiP4ICUCUyOSOGFSIh1AAAB5qjsjSj9VcFZlqBNMAAVDIUAYSYgOESUfOdwHjILYBF2SgToT+QEUAAAalAEZ1CEMGiF0BuStjsLMHmKMxmPmMWJsGWJiB0DWKIIulyMKHnQ6O6N6PwBkFWSGJ0BGOxjGKaR6CmKBDmIWPqxfiiEOOOOKM2KBBTA+L2O+JWKOPwHUhyNxzE0AWATF0F0gV3S+VIOUG6AyFEloN-jvFKy3AiMMPqOg2lQvikgrjqNjXq1wQMTRKLipy+OtTIL4MOKoNUJoJHT2M-h12OFOB1H+JBNYS0hyL5I5Kcx0g2MGBdChMi19USmfVPi5ML3OCUOZLCMgP8xSBtU6LqPtWIHSFRVAGkh9UKAY0tWZRxRsIJWYN0OF3cS-BxI6XcOKPtK8LtxZRsI8KdKeClSNPvQ4IbFPmpIxP42V0Ui92rAROrEiPUCRKxRRIDLYNO0JJdXFjtOKMjIJOY2i3k15JZUpNRIARpJBNOnIKZNCJR0mTqw5MgXlK0mzL5WflkEtB1CiLTLOPcWFJyFFP0KrQlNKMh3o0+MKFlIMWrIUJiwpmUKRxVNrFQ0uK1KBCWV1JpX1NBE9UlD03sj7ME3azVLCDNKEItMAxsPjM3M600jtLdMdNcJdIpTdKDVcJPOlMfJtmcH9PzMDPXU9FjzehXjXkT04G3l4AwE0J9EeWeSoFeVH29C5XPkn0QLiguSBFAoBSXwpCQvArGCeRdmA3dg+V7gbDkklT0hxTQsoAgrjyezijfhug1CMxsA1D8R5Soobz1FousD1AYthxukkNYtAEkI4qYv+EBEPB4sPH4sKBugFlKCM0krkBYUYvEobyCjoBdlUDhCMyUpUsGOwXko8Qbw1MYFYv0t8R0rCBumEhGD6g8DoCNnMuGEsoYEShMqGQb1mJ4psD0DwkGDhDMCOAAD5QAdl5itKnLC0G9dk3LrAPKvKfL-KdkDlgrOKG9DNBgUgorQBvLjhYrQAtN0rrAQrrAbpgAIq7lPL0qYqArQAwAEqBK+hAQABSYqtKjKvyiquq3K0AfKwHPQQEAvNypq8q-PU4byxKwSgAQhOD6tKuaqyvGqe2Gpqu6oaMaqmoGsaJsHmoUsEoaKOAiv6syoqu2usA2t0sEt8uWuiv2p2X8qOs6pul8p2pStCD2paquqezKpGtqtGuKoqtCBausFGpsBzzfghGIuiDAtIsBXBjF0e1-mElEg1EGBIrIu-JBtgyRshu9GRA8AACsQxyAYbEo4auV9quKwbkLZJo4WxJVOqwh0bIKYRiYsBQb-l0LsCSx8aCU4obpr0TUOgjMeb9Maa6TnLBLIBiAb1go1KUqxaJbKYhbhaCqG9bLJBYBIBWLlbVb5aFazKtA7KABRHi5WvWrW4Wm6AAOVUDNuKotrNtbIVo6qqGZvBogpd2KOOFhpEg6X2pcKrTpuG2JidoBTZrQVGXdsJs9tuRaoIsNERrJtZv9ohBrjOT+WdoxqYQQoTmn3gOTpiEkCNUYDkDhCZOxtUDUEc2iAplpMGTpswqyCFBwoxWvJSEzsPEqDCGDIpAbLhNLMZXgOCNpUnJRw4zSxpT0DppDlTIHK+L9tQUIX+KbpFyaXSzHrjohvptfGoBxrxoML5N4tXpdtnrlCsIXpsFHKVJ7sAKItg1HJ0AARiPSgvsZBC2xBAUfr6ETq-PBh-ITw3n-O4EwGAtAE1QjAoEkHukMFfGEkYBlhW3gIFk8G8FbEprKFgcNF-mfjkh7M4SyE7A+MBEkB2KCx+NWIhKQbThbFQdbM-jklQYwMRWEmpnsT4iKmIcTmztIFIHcEFmPgMEuQ4fKoYHmL0FUA4erMBBmOfnEYNW2I+JEdIBNpYXEeNjBOrjvCYnIEpl8DBNBUTh0cHQ0YyvMGs19JxAON0Dwe6o+PodwlkCYaHSJszvUcph0dOLwZMEBAwKcapkcRYGEfzjgfLiFgTlbMkaZkBDUwWDimCa2E2EoRfXkxdGCbMCCC0kSf8bMFmqBHnhCbuR1GiYyMBHnjcWfmAZEctHAcrCgZlmCbnQPSdheJqXdmie2H1QeHRE6Tpz0SSbtpwSBEsfmK8fGG8F8bybBT8cmE+V2L8RmMIZ12RFRFYI6aYnpySeBOmfeIGdmGPR8bIcIPGW6c2P1XBHCbbL3vsE0aEt6CMwTljvOe8eGbQaqIeQ03GZya8e6u4sGDilGcmHFLdCSduYMaGcYBYCoYWDMf0BqeKUBAAHJCGE48G4WImIXjjgnPGtmqZ7pGB1IsXDGTH2RAmygngEGfAdRcWFG-Ebocg+aUxOjtic5hQ-ZqRvBGWrJBZdpHmGl3myWRxsXuy3RyXAXtmHmInuWEJBWhgBXeXhqzmgXyXAjnAS6y7SAK7LRwECopZMpg0Am+oGnakowx50Guq+Q9XA5BglnVFcgx4T7rAialWqQVXKAKYsDCJNXqQXHtXOWUgBFv5DXikbp54npvdoFWCx4wWeoFXQBcX5Qtk8INWdpqRtWvl8N6mJj9WPIw3-MzS79OSntf45mQ32m78ul6cw2pTQa3XZAugu4CUibo34RY343MoPWy3H5KMc2qyCnuKjWzCdRXWE2q3y0q05J+3MoEwrkvWwhP4J7O3ThLnDATmuXmAB3x2wUImZ3qwxH7Xy6nW1X1VF28jeKXmN3FQbW+jPbt3HXnX1XR33X7iK0CJOxRXj2O2Iy97K3V22G9ttyU2pJQ3H2f0vwA2jMC2Fn0RW3hNtzoM-0CI9sO6JQ3Vngx58CCWlgXm-WGkuDH2In9Lg1tTHVnUS2sohg4R3UUKupaAtUH3FgdWzCMPD2GDsOqjcOep8O1kXzOmKOcDsYTlSZ+QWXXxyBc4vA+oOhgwDhkO6C+5SOkPH2xH+PGBhQMD9hq3mXFPXwvFJP8XU4DgID8bPW9I8Ai5vBNwLhQJEbXNJQlz2hyBF5482BSBhgRJHFQAxo7lZBFIxpU9U8EEk7qQpY9Ajo4RBg7A-RGAOhjDvkZKFUQxOiIuen+SBbOhamPp1BAuZBgutIdRQu4vTiEvensvYvwvyTfFUt-PSB0vMuXQcviuSCNZtCzOsg9Bx47s0d0oWhQJOakqOushDNNz-VYTRIgvJAeBBhhuOodycU6BCAPAeuPUnt+QAvhvRvJWWxwdGuZAvSUhn1pvZvHxqykuOgf0iSGxDupTrBjSOt3EcUauOgCVFuKvxu-mWxdu5utvsFn1buDuaVjVBadzTzTufub071fFLv-vf0+43RbuHz6Nf4hMnykzFIYhZBFPKuRuxuMvJB+A0yRxjugHYNXv9uFvyu0eVuXR1u3uYfYV3OZu5vvvgxgejvweX57ALg1u2uNuz2UgzC4plvEaXmnv8TceKXfFyeOfKeqewfEzvtYMvvie6AlvMfsfVuiRafHx3uZS4U5fThDuf1bNCgGy2fVe9vzOsB9e6SzCzDBe4CufBkZw1fQJWtzfQApe6tDfquiuOgcfNvzvBM4efTQg7wNKtBHPqs8ehIxH8ygFFgD3fF-5BuONP42ACnkeWXY+-Fn5U-FPGcLjbUWA2OnVnBjOSFVy5vDSLvtPQBg-yBHOr7Ati-TO6ensrE5vmvHbYMbOCUG-KxW+hLBv8xiLLOntu-BPHxuqs-hRE67wrEPAYggpYgVtvf4CzDF+hefeB8zY5+mSVs9BZ+aVDj4CdQ9-5-JgMDj-t+9dz-dB4CXQr-T+N+KQ7-JBc6jzV-XCUPnAHvkDsHhCAiH+JR+63-OhFkG97msHCH-I9imhn5b8F+tCR8EvzAFeFI2yPPsGeHaSscmAoIDHDqWbxdBFwkgJzjSiyCMBx4uUIuC0jk6Jlf2I8TNtLwCyGBQAd-S7DAJ0DP9nMR5DAX-18RfgmBGRQ7nVmfgkBFyeA8MAQOpbEC8OmAz0hWXx6LB1IT-eVHfw14QZGM1PF9HRwA7M85YZhP0HIN2aetBgug9SIxxo7KCLuUHDMjiAjb+9hMlfIwdq0jbLFsgLAXVu6hbzBgwwcIIdHQBW4eDVKCYOgBNyk6ZlSSPgnJn4K8FdBAhzXZ9imh5LVQz2zXfak4MeCuCEcEQ7wVEGcFG8DACQ3enSQyFRCOoUBHAgXWyAQVChuQwYIUOkBBDK+0XMIUaxqHRCwWvbBCGEMSHlUYgjiLIKXTAieCh0zQ-gM11t6JQkhLVFIS4JnDVQ6uyZLIakPwBhgjAEdEFEFngKLCtA1KSIHYEeBaNshRNBCqcQwIbCNGsobYc4L2GPAdWWZeYaCyNYJonmpQ3oRUPkD+CDgzKHkrcJNrjD-KJwrYZMMuFTCY4Ow0FrMIPh4RqUXQG5GzV6C4E4B5nKvloEQGekucgWXgYwJYFsDrEuhN-g4QVyaReBOvIHrzSNaADV+OEX2FIM27PtThTgSQOZVD4KDL+LAqtBSORHr9RMikZYLSOcwMjai3I6oUiKpHrD9yBTfAFqE6AzEjWgIcUYSElE4c5oaXAUYiP8BGtzS1gCJhEBHjcizApIiEQjmhHFhYRIiZUWyOFGaipAlvLQGYG2ALAzCFIt5psO8C8iQ+tRF0DqNGEpAXQDoz0bTSdF0i+R+gj0fkIpQ6gfRIYwZPeQiYyiJRfNRwYcSyBCcxstwjysvxealUfh+pCuNCUUiOcQwB0PqM5gU5MJixjQQYNG2VHRt3+WKHFHyJajTddUBKbkY4hdE19aiFYoUaWNoCDAIxgyKsXiMr51idU+KMUbGPT5-wsxyWKohQVvr2BIIAIoccxCVSRtCA-BOfi5DHrWiIBPmVhkGOtE5iKQNnc4bsKC4rcgudQmXoFgBw2dKuZ4jLtfkr6PYiRDPXmvySZgGo6AekRMaAC6IAAJPWpIAACC4AcAHrQABKXRSAAAHkzayAJ7BoSYL2BHOgiFHgzU3E8j2R8BVcRhR+54R0JLYnJkePXF4Rx2anNCc2OdFgsjx6gdKF2PoAYFqJpQFCQJyqzwE-xAE4CaBIgnQTYJDE1nsRNImoTcs+EyiRAKPEAjiJkgYbiiBElOAq0fIMiY0F2STDeOwcOfsxPU5VYKJTgTCRAMmHWIlhRNAtBSPcCZVGceY6WIWI0lMITJ+fI9hhOFE2sbibY6ycJO0nEBMJk0b8d2lXB+gSALnJ7AAAYqgNcW9KsnKjstXBAcSsJQAOAdpIpfk0oQSh8kapm8LneYjwHxENgUp9afyd4AwJWIwpHCYAebnhEgDbAkU6pOm2cyxS0xKaQpkZjMI5SqppnWKc9xQZlTNuYIikHYGkjFTHwUgGIAqnZYtdZelU01jFLu7wTbiEU1cC1Mmlt9MQd4LIWMFWTqAZYWnAHmXA4RJsBshUmaTvwwHNSJpr4WqVNmeYpp6OGiMwitMkBrS5AMsLDqYM9G3T7pMsEwU+1K7kJYOAfb5K9PWnDScGkbYMG4Ii7IgrWM8Qwj-10kxlXUdgVaQDM247lqB4YUeORl8SylFRHU6GeQnRkUp6CWeX3pB0gxaDLxDAjwMwP36UEX+VpTCUTIh4NgKZfA4kfphBLPxxRjGEEp-H+kPTd+mIxQWYL97WZXe3A4knR11E5khg8Mu6QDK4KfIUmPM96W6C6kyCOZsgX3vDwr4JFFZDg+DkEX1Et5oRyKYiKBCAHwD8SMM27LBnRFP8aZrBXEUgMxDPomBmTXXjuS-AkA1i9I10XzKpmsDFBLInsfbVCDWg6ZU9F3j+28w0IfA1oTFMLTwBaZE5v8c7CwMpkn8sRr-KMsKN948DU5rslmclzj6GpiAXswMYv17FMi-8Sg1xNZlrnWBXCU2MkZ1LTJ0y2sJM59CDPSxSAPIocqGSVM8kWBKqYAROVpl-hfgYxcouMW3NUGJkYOkIs2QiN7lcDfUnIikJ7IhLey2xY9FbosGV7VjK+5pUcZPPHG9MJ5WQPmgqM0BlBFgO8jqGqKEIWidpN8iWQ0n7rP9FAxsmkKbJvmI095DhR+dqIm56jIR78pYHwS-lNdd5iNFbu-yHnZUk5TzS0S82fkxM7RyCu+cUnXlUxAx7ovIcLXdEdRfR1gLBZvND59s8FwcxKH20IW9jhUDhMFmfMlHIDZU7LXwE1mnIJFJ4SBLmEKFQLstyORYWgKGFXFRgUph-ZBoDK6kYEcpXiMRduMJbaRquI0ydspmNbqA1pcITPGATBaYMoeyig8aaBeJUxcIKUyReWOlZocHJ-YrwqiIYGhhsgzmFKclNlCgh+poEQabkDEUCYfsJcjecOJQx+ISFgYjsRhIjFphhFeiexWVjEVELQg1iz0llJxAkL-FR88+SfLfGqZmOZuMBtK0kUWxj8-+XoY4pGlc8ZxiY+cSmOSVLjdUNab8exMkBgSFkAAGT1pwTJxcgEKXeGcnISUpAkdyZbISLYS2BwYPCe5MIn8TcJCYXpbJO5QRNGJ6UaZe3HmWzTmISQ4ITiHqWNKWl4APiZaAEldBplYyvSbcLSGj0C04klMZJOkmVQxlsSmwICBSnKTbh4IG1hcpBHdVA2bLLIE8pBHggDFYgZOocv9EeThRxykEQZK0BGTBkTilqozmTomLWFKU-ng5KvIFpuldlIFSivoXxikUq4XFnoBCUtj2Rx40FmCuyEnCoVhQQ+f5WZT6SR6XQSoXVhvSqchJVWQlc6Mwlc9MxgK9lgJHZU6ThRNNC8l8MjYLocl3gHFtK2JWTDRpgWGaMIAJQ3jEOBK6VvJLFW4ty+cseVSQHp6-dC5DSGkLirGD4rcW0qr4RE21W5A9OfK1VWapBH-KfQxEsfjqPkXbDDie4kkIkACDTZUZfbfcY4KE52BXJkEXOsROEaKTaAXmOpsMpchj86JeMlIDiiC4EorlmPGSfGt944pOGsyAXHRJJVh16sbyi4UFyZasriAPy5wZqtCCLBXMlXUtSxPLUqSF6ZhOiYMEzHZrep9cCNcmPtWbkRZK8muIYE6JjAcpoa3CZItlUMD3JBKcJRoD0ReKnZUcmNXhGdXAqE1u5WDMmqeypqqYMksZZmtgwdqBcOUyYQWqFRFqTxGXPhd8pUlU8a1fQEtV8pkAVrHg7eXxE1PZZtryqR6uUCeq+F9qLBtg1eaaDE4rLkQy6OieGrLU6tTF8a8OaopU4rKoNDasFohsg0Zr-+AK0Dehu7Xjwh1QavNWOpGXIbNJ3KbxbBkyAsqG1AOepZxPAmQSYJOyzELRpAn0aeJbSltd2q-X7VKNwa+gJuXHnUADoHjTDZ-1A2mK5FWKfDSOsilEaNxC6smfil429KCUmy5pa0oExqbtlTYl5kiruTlVlNvKgTZpEBBCaRNwGjCGOWPRphsaQKStK6vkyVpjhgGGzdCBzTiKmwTm0TR3EtCuaRA1HSLs+RV7uaMCh6WLFTCUq2ax89m9Zah0c0ERVGpMfLJFrc0xbK+T0xLeLDLQpb-N7miASYMy2KRb0OgWyF0HxVpaEiGWh1fj2IDY1qAQ0vzRQAMLCr7VrqpUo1qYQdaSuh7Frc4IiY2b6tni5iL5toBRamt-+UbdCFzSLF1VuS-LB1om21aptjFZ3nSV61XDJo967qtS22KzaJV4BUbYNqn6kxItg2vQDlqa12rnBOrJUhdpskSAxt+NHJg8POLiAnh5Q-oW8KrruI9t2LADPBju3naHty2q7VcJrmpVyqp2oadluB25a7t021bTeQdL-rRQW20zQZRTC-apaVfB7Uds6Wkxitx8AVFSJJXwF9JFKz2mitFG+UzeH3BRVjoUwyAStzDcVX9quR3LEoZSucT2ouH3kEEiOicVzqTEkqPS1IuuTtgrjg6wg620FqjtrXAhqArLQEFjqMyE6+Ix2zdCRM4boDKBlff9BgJvp31lEg9IUNVsvaqtKcxOmXZdFtInKKdokNxNSrcQuQQwrmZ4CgMDBoDngfJH5rmipFEL9c5rGKvkNw7KAg5lC6wICAdTsd7JUM1cjsTN51zQggIc3buyIx-KEu9ZBMdzpF0NzTmTMJutbrl21VU917fdpjuyUarBgpevdsQRCm1jtka4CQJpQJQABOKoEH2b2eCRdgWxHhSA0rd79JwURBoYEGDcpkZS6m4euuJmqDn0zgDIoFLx6hAB9qlPQDCxhYpg0AW+qtSoJNK+IV96kT4YLOX1d7VKJK5-o4kBE5DDAVaZwAcn3w2CEeB+8-cPrWCDBhIcbA-dVvUWqUtF7uukMOtB2krYtEMZHSCOL3ba5AGiv-btsr3StrmUB3-V2lx747xYt7KQPipiD3rIi3gdIDSDlq2L8UM0AlPW02QtA426BzcU4nd3EB71eDCoH8oEzPpXkjAPA5LVACZNNocoxkOCB3IH7uq+yA5OgajbSs3tdBz1OFTbq-x+DgzE1UaAjkkzzAmstQXmqE4WwxgKnIdDNGn02BENOUzonxuEbYbu1+StSASsFnMHcDjJSmBwbnY0gsgPBpfTYH4OAhBD+yNcmWslBidOgEhwQyKAUMzzlD-alIC4bcPuHcWuKXVAwDCP7Id91gZ-QCNpUnLKVkY6nSCVkO5KQxHuxkF7oJXsi21YeggOVTPgi9CUtkVnTiyejZ7hdAIpmABDg4WaIYgGHIHQFWSIMsDrmSdUQZIMWKG25Bptom24iyB7ktByzlsQYPvc9yoIAHAzpmhVHdA5SnnbsLqPGaQhQsGwt1qfhAgc457NsYcRVGqBwm1mJNBiwqMjH2auRuY1pA2NVpA9RR-aiUeQG4SpJaam5VuJrGbqMuBKP1aYESWocR4QXMwJI3ngGoguekdA2cZhbFi9AEegADpYBYNS9FvGofwCdFfGBe9KtFU+QUoN9QIFg3gfQJYAIT+KqE2RJhOUL4TiJ0GeMFziomQWm4lNIQEiJVpMuZhJk6AAABeMdawPCbCD0qaT1iNE3ccy5cnsTfKXE4CHxN8FCT+vG4M0foBtGfAUJpE10BRNCmpqXzBvIcZVjbFSA2xPmoaBhYQg8AxJ3JcqepNqn6TGptRdsQ8C6n9TfyiUyKCAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-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-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULALVi1H7wTBpgRQNGHQGW7+C1KrqOgON1Q6yVlA7WFBqEMCE8QIhjXUhiIXZLtZreHlfhjDC8E+DKk8QoIdkMSD68YhxLWWkEHyGJChsT-HKAaDuAl0vkAQoISEMcBhDKhmrAkrELbAVD7AoqZIY+1SF-Z0hsyRrjtRqH51zUpECoYoG6FJDShHwEYU1U8FFDF07WcEm8iWHeD8A0wVQC7UogRcnyWw+QNpHtimBEgmjHIQTRIBnYqGbyQ4QY06AnCvB5wxIO0NtQbC9WdiCJiMHGH1CHgjQxBFdHZKFCgW1vBYQFTuHHCNhzw7wfulOFAs1hWKfuv3kggnoJEGsD-uKBpygDPEbAi-j4hf48D00f-OAZFysDCCvuEwH7mMBQaADEEGI+QPwIUH9Cjh64dyJZRD5qCr+F-c6JiMZGb8EOe8XUPcMsC2B2RzRIURpQZHyCHCUnU0hu3wC7puaWbFkNuAVHLxuazHd0KlwlGgBMRegFBqaQ8LCg+giAoUfqLbC0jX+zgESGiORA6jeR0ooVrBAPZmiYmEaZ0btD1H7thRbI4Ps0TnRmiMhZoOdHqKDFEghRBoX0dX2aIzpAxAvUyDOlDHxiNIPhIVqqMVHksPBcqO4EJypTAjPKvdEQiVTBFzQNovhZxA50mA5BMQ7kBTmhDrHzBNA4bHUeG2xFbJkaYowONN0khOwIxrI0UX6MUDNipRDY2gNPTKEaRWxJIp8p2NSiFM1Rdwclig0+GPsaSOY8xPmNnG8gJIf8AUQzCs6PCzhgXZboF0iHticeTsKzuVxPHpcL8pI-eCII17Sw-QdiSonQHgF50o2Q3RoMXnkBNdkagXJ2LGL-GPJcciAwLnoAkbZNKigXBZDmNAA9EAAElrVsAABBcAOAC1oAAlHopAAADyhtZALJEUJJ58AZgBzmpzT4UI+xlgPkb3UIAOBX+n438T6L1YHjZ+NIIdup0wQsTIxQrA8TIEqCjj6AqjASe3Eon0seJvdJCShPQmYScJ+EwiaJIZ4cTqQXEqiTxJok4VUOB4qEapNsDfjWsWk86P2m4m0AbwGwzAQwVn4SSBOmklkbRMdFScNhZEbYVDToSYiVUmVPYpWOTA1jbJaETyfnxyI+i6JQYsidGICn2TQpjo+bPBKZbe0SAznWSAAAYlCA0XKMeDLASRRO2rfsJQEQTp4cppIJKeuCdgJSSp3wkygsR4CgTA0FUgYKVMYCqNdsmU9DD3w-4VT-wUufKVr1Q4iEimnOEQl1LylyICpT3Bfhhgd7tIqspgBuO1P+B2AcoEUHKf+JtojTDWvUhQrcWymaJupybdyAVNb7w8qs2Q+4MeBkApgtOpoLNIgMk5iJau9wNqXv3QEbSk24KAqW0QebocmOUCJ9mdNsAXTpAKYUwfezmFsVTA50y6ZYL0FfT7B8HJ8gDKBkpgEp5YqrBMF8HhdpwCwdAcSK-6iwBoSM6GTKKx6MC7pEce0FKS1HEMKGdwDoBTNMizQc8ggrQfLBYFPw2B+IyAUxLULME6JLMo7oGlKCPjKRmvXkqEAVHyxeSsQImcDP37cyr+mg6HhvBsGRwR8dHc0aZFCCyyQZf6D0oag1QJpIZgM6GXQTdbjhYgkshwI4P97OZaCxs5GRqxq6WiURnEBkP8Emks9LedE3pF4jxGcCCR7kd-rTP4KOj44-sYQZk1p4XcAexANYgOOjHyyb+6g7keOInHeyw5WbYHmTJmAtERYzpPAMPCLlWxcRkArmcnMJEtAoyYcm6SnEjnq9RZ0sB6SQHjlijPZRvCcZyK-waCTQG8PuS6UsKwI+6ARduXTIzn-9P2bM-2BjIQR2BDg1cvGY6XuyFzi5oPfpOmPVGZjJ5ScHoDrCRF0iQ5vPfmd6RmlvIW5IJBOSH3yDLd8g6PNsQcP3LyiMxMfKIBIwXEaicO1M4vDfKGwGi+CETOwKaPazKisYLs5wG7LhAezr5sNO+YPMfYIDc5t8zWTFDAU6hqSkChrrfNhrLdQBFVMAEXOHgAKdMu0a+XoHDRocSFv8tsOfJARtyAxQw50gGKGxhiegNCy+TGP7YML056QWMcwuTEfBUxpDDeYuKU6ny94IUHKT4CYRZY7BKAhAlIpuyMscpaBbHlMAYmMhUZUnKzKjKf4VT+cmiqIYEwJyVdVp5slkKS2kAXSigN6WGIhVIZWYTF9vBEQzEToSgEpK0secOJilTj8Z540SFMHNTuQEp5UzoHaRIxLSFgqMoJMjTYVzjZImcNhW3K8WRiWFHwDYGotiwBKSEqM1JcsB8WOk6puEWJduJ7FPzN5L8lkCuONGkxQGYrG0HoocyIw6hQS1aSwrXFmANxcIxQMUu7EeY4JZgBCchNsBYTdwAAGS1pETSx7cdKQwXIkOUEpRoLST7NQ4MS0KzE4ySg3YmfjXUCy3iayP4kM9BJu0h6E-zEmVBdl0koZSMvGXgBlJowVSTspymLKHJ2k+8S5JXqV0iQuk-MfpMMl7LLA4MnoNuASkWTgRL4IMd8q6WDSlFdwUFXCJZY1dE6uypZU5NQ4uS7h7kjSMEqap7FXFxyjxaHJRU+Fwpcy45c8pimpisxtde4FiyHF1KdMFK5wu8OcnAjXJ8gTFT0DlEBUro7y+sHkJaEJDPlZoKWJWzMn0A6V64EBESssIsKSxSKp5RKoxYMqUlsUpeueWBFoy3kNS2lViz5GHigWvs5Gq6EJqyQrxpHRVf1Vpzaq6l5fQXMapIAiysoYstsHCGpW1LJVFqvVe8NIb2qFgunC1edHVVwjNV4iiJRMGpA99XRhik4fqmAkeYDZJo3OXGucUiAVAXRUTmKp5mqShGYq-1IwNUk99hJDMjmTbUAmyRfl93H8UWuV7PwOGG4IyFFM6VeCQ6hCSFU8MC5VRhJcKrwbaqCD5BUE5XTtWKu7WJBm89oR5mKs0Ali61c056JmveGelVZD5F3OsKE6mBjlWa5iQYr8VSQtJTsdJbIFixRK0g+az8ZGpeXFrLuAE9Lk7ArUgIfxxkmtcjRnUNqKpGwltS5DbVHj0uMK0QCOpYC9rAg-avEB2uQI5T-1Y6tngewSlTqyqL6wRG+o1WLqJey6pPKpwqldFG1CwItVJwkUNccNKDdDZIqLWkNVOwknNRpNoBP8yNYqijZJKo29I01664SZuvDV0a7JVG6JTbQqCirKN9AJ2DJLQkYTsJuEgibcrSCCa5JImxSZMonV8bYNO1HjVhshxPltwuQURQnTGA8R3F26wEumo3U51s1x6oIM-CU0LKBNVysZRMvjiCbrlEy3sdBpykKamqZmp5Z6VmhqacgGm5QjDn5gbBMaDUV6PsNkVGKJoT-d7P5tQhBaj+ess6KoyByRahAd7YLXbK8IdwwtqjXzSAmUoBai8YW3DaFri3KcNcbuHLVFvy3adYtdueLU9HGA2BctW9aLVJ0Y7VbitIgXKJ4CfA8RaVFW+8aDOMLKF-N1AZaYlq3peqNVBW+Un5toANa0Io227HqyDVeDSGQ25aQlpm2oQjQ8296ACWtUeqItG2oQN-mICzadtJva8kyqQ0LJgNh1MltsT20YtgCM24bX5BmXoz6tL26YfVs23jbg1k28cvzDK1F4gdW9D4X3HgVVS6hkwgVWjDoQPbAIpW77UdpB0LbftXgy6OdsiplUctn2oHCjqND46MdSxJbS8KbQ3a1NjAe7fShpU2qNKH2nKFPytyiBOtCMJyNKP1W910Vbkl2nQi5WO9lg0Q+HfXGZ1db3VGLfJjtu4WBB2luY-VXeX8CY6WQMuptWcJ8LG8t4tiDaL3PSAk6gWtMcndSyp1uAnwYu8Wh1qfCM6OCakjhngPoGoddY6AqQjfQxpUgH6ByENQzHPZKtLkOjdncytKjWlWVGKnncKsfl+UTInEm3UoFT4s1cBSgGep8xoh8jclHlcQMaxioC9cOaekBQLWqgEc6oQojHiZTvCvE5i6uzHZuxLo2tvd90FlvF2V15iulauo5lMukCs9ddZOgdZXoVY16oMRux8AoFN2c4vdO7cOEoWfhKgo2mlAIU7AACc74AaNPrUpy6Ut9Ud7SpQCH6rX+BoHwJoFeUC6f2eON4fGqx7ZyWIVgVIilP0HGAl9NoCFhCyqhoAn9gGs7mzNsE36bAWlPJioCVlRBb9W+ikGqhcn7pzoVge8Dvhh62zdRn+zfS5MAMhpNAk+urRvrUoe6-wlitSjYvCi1x01aOl4bKMu1wj9dXemQFYqwPPgqo8Oi5hgesXZpbFlut5Iu1N0wRiAwG9MuuHKBwhDGOIm2q6Cdi1sLwWwKNou1-GGho9rB8zlsVfAIqT1LEZCIwE4Ni1QAmTE7OqMHR-db9h1O8PeEXagAsW1gCQ1JDajhVW6poTQ9KzqVDj14zg6Dk4P9gsahOInTEFprRiuhL1-yLTRusw3kaaNfGg-Ji1-3+x5DihpqMoY7Zwg7g6h9mdAZQM2htw2hkvcJPbAuGxgxh7Q11BsPO8nBS6noJofiMJH7w+h1KAwAKN3gX9MRrSnLp5WsqOVKYsPbyQsMer4xMe7YHHqHHJ7oI2e+-E1V0ClChdroM7NmI6WN6nhdiXZvBzEUla7YwwOgMeDVQ5RgNa00SHwdkgCH62IhyyA4BYPAbfi0h8nnuS7hpJ+jgxrwOuJGNnCxj7m7MransJZEYohaa4mKLlS6j5AkgcJhvGObXNmDLRnAQdAGNkNbj50QxOnp2q9GauqypiWxqjX3jdUhxPJmaPmxMHaVELOsYoHTkAAdLAO4pXrZphO+ALor4zsTeVoqgkUyA-tpzBHqSZHLAEicsMon1OaJicZiexN8r+8jh-E4C1-G7RCA6Zc6BlxEI8nQAAALyjrGBMTUQHE+yYJPAn0qmgEU6SZcjkntwlJhwMWh179Q3cMxuY1uBROsmeIUpzk2NXebHY3jVUUoNsVIDbFyWmECFrRDwC0mPVupzGbibIjSmjT+rU07TnNNT4rTLLJU11CAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvSSxMWDQLgQg4gSD6Cn1fmibBuD1wUBJloUghgUGhxuNiJu9seZ8yZtwJ+IDe4kOBGQmBN1hC+DoVnMOgwgF2k4XjeeqQRJCITP9LWucMGfSsiJIazAtDG2IVXFwqjiDwMQYYZBwdx6hw4ZLL2YDY6pDeNxVEPw9H4MIXQWRy1Nba2BrvZRoBjJFELvQWxzh7H6IIYYohXDtEqH8Xg0gDB8EYzVm3QMoMGCBBkPnPE4Tfo2OiQwSkLi0SghSZUfOpJvp9yiQ4mJnRVaOxMcI5JqT846AsVIoabRayOCDgkupci3GKL1l48Exh2jW2UMzTJnEErEDaSMzpj0wjq1DnnIZ7TRnM24ODMIZTuHDI6WMtRVBiDG1ocHWIPTRaAOAeY7ZESqg0JnB8Q5xt5lCXvvEuaWyziWI8ogh56ijnW0oCcz6CzEkuBnp8s2ETBpHM0LiXZayXmLOEW9TILybngNSCnD4ByNGAqRWC2WaR3pT3ESC0BrT2AeC8H-f+rjt4eKUXNKyVLlBeC0b9KZDBWU0uMZvJZdNwQ8vBBsyWGLOI8u5fgARtK3mku7i07hg0NCEBBNydefK76h3ke43WNSIYFxVWqhuHLOJs2iSEox3T+XCLMVHcVvtSBiGBbUm1ACH52hnp7B15gHIMFTs6-QRBQXnOzukNFwaJkeTuTigNQbCAhrdRckYkafU6IITOANtDI3IoTDeVNXzvmE1SIvfQDjyYor6egncDirLFArkW7O1QKiwPFPoXiFbelqOOlNIYk8O3hD2kS0tYsB2SKVTKWBDAiS83bVQBajZuiMlHfOpiW9S3dHCKUcE9bQDNG6OOiJaVu39AUDiNk3RSRC0bI1IEaVz1ll8KU8kQVb1gWDOOfSoBw1sD3dSQ9mKUkZC6U8wFnb6VoMZQM0DKsVHAdNR5N4ydeChOcaQYD4GXBP3QxwF+EScPTP4YIgjmGiU-vlRRkjkwVwKUFZ0Ry5BfBU3Q+MlczQn60QwxSnZlBgjTItMWcq1QGDNr0foAT2lnALQHINUTra-jibcIJ+gkwhavHoFSJdQI5PTvLLOiTqIgJGg0wIZQiRAg2wM+VI6p7AQ+JWMemzxMcQGyU5J+gnknMKBquhfgLnDVudRJ5yggRiYip8VhKz9BuBPEBAAPhUOZwF-rAvWZC6ex8oAKIvnJOcKFv0Ph8aAxwETjA5PZAw9ekzPAqDUJcECJDZ5UMVdw0xGTqQ5Ntt4nV1TUF1PvAEFpv6k7dO4lnd1sgdAjMNEbGZ0gFmZwEZPcTOzelYiOfS857ocGODBdC956bRQir+fBARvbp7wuxiwgRmL4QAQJbmwt4r0yvOZey9GXLhaZYoemeVjtQst5HROn2kYY7C0cAEAAFQABIAFEGAAEFwDgFhwAJUh5AAA8gAOWQECH9JxG1NUkGoFLWlUS0Im0kbgcgmakZ+6Vltc7KA9Zo+ISQjO9E6yi+8ZnrOVjNGPZ0BcPPDBpvZ5mzIZPlO89IzD+HSOUfo6x7j8Xx65Pc9Sxpvnk3SMbf2-oHTM60lU6m658nzhzthYsXVEhjVmpKCgHARAyB0DdTxDHDy40ayHPztbSsrztWpGGqNb3Z5JqnUlspUo1JPrKWaETAWiNo-AlutJa+zDf5MO5rzNITMybcH91MAXRL+7HwbmTFPYfckmYTp-euGqvFF-j8O1Oh8P7l8b1tKvp4R5Lw75fCve9m-OgT3LJBRt8XJ+dKUavfsp9N7oAHlvcd-HUDsQuSplr07T8VLP3vNj1+BM38Epxful-F5MkSyBOCYFb7P7vlYpQuVsy3Lw2JQ8qFkBdfNfCa2Gg364JEYF72argj6Khj4zJ7JdLd4z4tC94IpzKIH7KPJ4oqw-7WCF4X4r7XRci8pR5wHV48rn7L6j5EoyKP7yTwE-AUGL6kEQFEpGrUDqpWqwF76CCECqqCJh4dBaD6Dmr37NaIxYEB5-5oTJK56By0JZoF4tAX6X4qQtDzbBD5w2R2QOTOTUi+AqzkCwJeQ+Q8GHINoyxGqCLIjcBZpCTtaxLHQKBH6VjTKv7Ii9aGhBSmE2HUB2E0AOEMBOEOAWFOqfI5jPj-DWG5AKCED4DlC+EkL8EOAuEzbVaIIZDFSGF8HmrAHOFiH-4xB6JaAiBjRL4Hj0DPKgFoTmoUJMzUK0JZFlFXhZrZE5FIgkKFGVjFFWwqxxFTaZZaqVpFJZwjxnikzJFsDzT2alCqKBw14qz4ojFjGrjNBjgahhjvZqZKHmRdFWS2T2ROQuAyyUC+AkD6EcFcE+bkRfbcISGjRSFlrwKGAiELR0ouB+oyEOJLDsE-pyTNBYRpGkwxqZpOq3EJqYFyGiF1FXGDG1i0K-L+qBFAlhAPGKoRLV6H4b4WoP50Gkb-QsZloTR8HZKVI2G1CyFF4KEzDUHh74kVL6LTEYEPHGSmR4mkwEk0nVIkkX4AacTV7IEwFAoPFCzWGwoHFQGIqbIJHTBBRLGhi5YhF-TCiG5YrrB-Iwb6oTBrHCShy-H8EHg4qoEAqdFimcBF4BSyl9axCNj-FqJzSQkSjeKxhamWl6nPKGnGkrjWGTGjyOmfQ2ninOhBRenWmBxMSFCrFmkanCLcmrJzJ1EwlOmAo-4ImulZifbSyXGFK54OCWzEn8wEJYmpDkY5nvFUGfEl5YRQiZkT4ahwjcAQkVmGKKzEk3iFnepkTeKpkRKGDciMBRG1xfxlwYECnymHRRljIezqmRIDax4fKMg8m4r6lApkzBlJrZxCnwojm8lFlwEll+hrCcHWwYxdk8z8D17fza5ekqkvKYF1FFCdlCBHm9kN4NQCS3Avbrn6DXlraxn-LHKXlvamkrhbxl6D5d7zF+i0Y7hAV9nDzZ4Ko+KQHvwlad6sGgWxjgVggIXTJIXZQwUeygHNAE4pme7mBEF4EkELrVZEaMiSrAGIxMSNjdh6gzmHk9knn9n6BEaHaNh1kKwai3rAjpmjTcUNmDAMVBHLkUm8GkxEaNHOh5H7mtHtHPKiXcBCW8WImcle6960HMqgmkZcoelDHvloRam6Kn5CGSwyV6SkkaXEW97z4GmYlVaTmByMhan2UzhZ4WW6VMSWwZ7cy-zuV+Xdz0RDEPFrqhxBkXHIm94YWsVD6OVQS+UwU2n6CxVYWNx2x3QgErBalpXAU-yjzCG6WWWuk6gxBE4om17Fz5U74JXkhJWZULi-yQWPnYWNXZXTBaktWnmMCeVbQPElUcmFq27aL27yCO5tQu6dTdQ6BEXZwha1j6CwKkZ6HiTsgsY2WiQvkxHaJzqUKSDf7cDSW6UA4Co7h+IRFREFFsyXZoSVFf40JHXSo9ClVE6r6XXRFOF5kMp6r8FWThGRGfUkIIbmAVGf4HU0L8GkYNLFIyDcAZLi4ZHPVQ2nX1KFKNJw2gDPr5ZmotH+6KX4oyDQ3o2w3cDNKbWgD6UUwpVvD5GtwvpnVginbU2BwioTl01RrFr9EqgpWBzfWQa-WBwqIs0MQg3poDFTG034p82o3uqiLux81Im-SjJfCGJTQKXyAdFghF6y2Bg3ivUyyWm04Cw61QRyoG3cIq34DGDcpmH7X8kRCFAM3CJYTG1cDeVfKNiUBQyrka0lGAqMgEVE4v77VGCNX3FVgMSJriUIzh0hVQmc17H7VBU1H7XPBO1xi2qTxu2J1NTJ03E52RAZ3iU3g50U1yUFH42a3Olx2R16hHXrDTKm3O0JgcBTTe1h3NwLJrVt1iAd2niblP41YHjPl3Bu2d32wR0D0gksCN2tFklNDAjWx92qAT13QLIAA8S97dq9094x6xKh4IkOt0lNQgvgggTqvAxyTYnBIItQzQ4IoAAA1HaTkUDlNEKIIjBQsi-WzY-S-R+bEO-WIJ-alZ0BMPZqZMoZuEfSfTIMQI5BfWIFffGTfaqtQPfQXM-a-f-sA6A9-eEL-VZNg4AzEHgzIIItPUrZxHlEFSlTBQ7eSDLP7iDLdNiM3SsDLLec4t-SFdHX6UHsSmigQ4A7Pkvqw0QEZU0XIcnNbSdH7VrWWvIYA80DBVjGLCI00bMJPHvU0ao12RRgQzaHaFQ0uecSsAOP7ljN7U3REcKVXf7SrI8Z1dA2vWwFsXQDdOUN+kzGcU+JGDlrGBaftYyEbaHUmX6K+gY27SnfwWnZZQRDEwXWnYdiGZ9pnQmCw+iOw0Ne2b9A1c3PQ41SFYw80cieI9k0owHuOVwwY7w3Xfw4qFvORpo2hGI5WBI9iKQ1bWrWIAo88qSXUao41eo5PK0wRKUPBGLAPSFQvTudSAY0ROHSCTeKYyuDqG6fKVY2tTY2NHY7iA41rc4w0GZCoQwwXLZF4yID4yTMce5X46xP+UE9Vm7aEzqTOOPREwI8Itw3E0zLEznQk+UfnVHX8yTD0TmOk+JVk2w1UzbrIHbnnS1E7u1K7l1BgHNUSggp4fYY4bEc4bmhBgotWmCOYQXNi14dQA4WLTwLYbiyJhERwMbBXgS4Sk-M4RYoVHS94Xi6NYyHnOmMsnMGzbEHMKuFedMMshyCKzEByOKzJcshhDK8PaQPK4K4KqDMq6DGq5K4KqimwGzfq86BKwAYKtxIYKqoxmzea5a+fYqCa0UMsqc6QDK867GA64UMsjcN7f6iwIYCKt66oL641CsB67EMsk-cq7EEtdwL4HdglnoS-Xa2GzEMsp5FGzEDG6AHG-FqAHoT5Mmwq4KtWdMFmzm-dnm6AJCNmzECm-xedcABmwYLArG-G5W2AIW+q+dQAKRNtlttt6Hds1ugB1vLLiRRv9u5urVShxtFvnUACEkoE7Lb2bA7oAi7QIs7XbTNG9fbK75bCboAW9MQW7ur51G9AIGbk7FbehF7J7o7gqcWe7rbU7oACW97c7TNcWl73ARQ17h737H727EI87TblbhQFbMQ87sQy16YBU1WFL9L5q39q20wDCIOwg3AiHPLO1BYnyXLOLOH5q+ALAAAViYECqhw0Oh8iLm4q9y1S+siIhRhy3W0dgxz4WzJ8pFAhxx9MjXHxXnMslKcIGzSJ2x9I+G4KpAHQN6Ovr4CKzJ3JwcRJ5J-W0zYGwwLAJADK5p9p6p5J161QEG7Dsq5p7DgZ9I8stjuQNjk2zZ9jnM2p-B5Odh4x7ScwDbChwCCuDR7m2LETVh3xx5wnPh7x4R+5-3FIVR0UH5xW+yxeLSxFz4QJ2mETu4W55x-i-4Ug3qqRu4cJmqKQGwL4PI6R+QNWJ2cdJoFI1eJl79oy-OSy-EUCw0AGnl0cEUFFQVvGIQP0-iqRhXcDIc6UWhCqvue2sF8h7XaQ2uMF-3EY2UeNyIJN8l7ywWDzGRxRxHbN0l5Syl1VR5VHZZ7ELs77SN2BnjF7VDGIF8LPZvkUdXQHUCNOFiP150WlyNXh0ixNc7h1JgBi0TrTRQKYAwCMh8OVDcKQDShhd9atOtJuE-LD9RkPRxgrW3iRIQwXAwP-bHj2iAxQxhxRsj3M+xpciYxj38HhlkooDcG0pUVoPEvj4024coGZgoBkL7kYBYWz2241C-eJmz1jOCI-duo-Q-cQy-eQLz6136CL6Ksz7nfgizl-SFidAEc6hr0SSr88NBC3YGMA9g+CBCNg+EXT8YAz8Seh+18rwcRr2qb-dYOCOLrb7iNQmegGnDySp72zuCD+rpFfhAnTJ76ACjMpAqUI1kDeJ74OjtMx9H06qphuwXPWnM6UETyH2tTugH+wcD9LzOOD7FFDzSj7-MxH0wSwenCH2H6uInn8XjWZcgjH05zENuiby-a70wGQGemLDIc3yQ6uI-bj8lbnjmV0Rt4IU34n1j-ZkP9g53+70Twn4Gs34Q7P07wybS5IAcblKCGzQGkF9v2793yj4H6kJFon2zq7xCEqzWXTL34n8Y1kDH4fyr136QIJGxkSsA+Jpf0PeCAAHJceAaI3kAK-7kNBEnvF3vEGFIjJSAgiOATmzNqCNyMJMNaBtDFiICTuq4ZZEIFE5WRggf9ByDpHNzFg-6BGeEKf3JLX9MBtYeASs3dhYDX+wpd3qTy34q8ieTAv8PoC4Gd8sBFNcrpV2UDVcjuQxGwh4BCRAlvqFfCvOWjZy4Db6zBE1DTgb6OJms5aWXrEHQ6CD1gwg6gJoBtLiCxkbge3lIKoGL06+Ug+QYKnrQbJGqLCPPCbXgTmDVgLQeBBTUQG2wdCU6BBBILcBSDByBgZVIoMr7OJy0zjC0i0TUZAgVwI-VhALAEKN9044Qpclyz8HGBgYWaeKBoB4F0D4U2hZgD4PkDGCI6rxZwakyeJNQohIzLPkqyv4bgievgkodzkCIgkn4TQkJC0OdSewv+03ZuML01ZX9ihnQzIYEV6HVD+hWfHQVV30GiDawOfIoKUFdoTD7YmgmINoIq66CRBhgjoSYKQa0JwhbA5YdoiCpBd0hXQsSuRFlLWEx+4QtYkFGWS2CtChTUfvnhSEykAmH2cMpk3cGEUicBxEgAEOQF9EfizgtnGLDkEl5nWQJDxjsU0KT9zAAI8ZOLilroEgR+vbOKCMIBp9uBkIq-NCNrQXN1CuxNwWoMQz0A6a-rahr7C1yMBeM3KfjMIAqCDBy0utcFIcVJisis+BmZ3l8hMJMjpc7mRgMAVZHAi5a+gVEQuXeF5NJk21FgM2mBwYV46dYMUYGCwhKi6654cXPKJEDyMMK7FBUVNFIxiwdR3EI0dqMNF9Nf4pok6KRhvA2jzRfI7hA6L6bCZx6GowuqqJcBthPAHotOuLiG5gN+8S4TUe7U9EYiVWo9QjJaKDHt4QxfNGnP6O66xwBsCcQ+HwUJFu0VKnjK6sDEXgMB1AIgDgKQAWjlJCA3BZweOWsKlo7hYZCkBRUtFUVLRpWXwuE3gSJi6cZjf0KHBdFYwROdRUoA4CuZ5jU4BYvAcWJhF506cQzSJOWING6j1a1oy0RCyuGfC5SQQ8-g0NrE+IgoWEXIHOIhHlDuA+4wRPrXKEVDVxlEOsRk0DAOIuxbECMSeKkEU0vM-qPcgUQqApxfAxJQwGyE-GMYdYhgK9F6LIwkpfxOI-8d+OBhASngX-LCBowyRrCDAfPTbAoDfEkAPxkYACUz1PQIQjAiE3bk0UgmATSQudaoNQnug+FiJGMP8VhKglDRgJEY-VvhIgl0SSJsE0sg0IQnYDkJubciWQEomYU2JgwaiQxKeBITnQsWCtq+KIgZJuMHZVCb4RTizQchZLFnqHBkDKT8iy2M9K+Jo45cJgiNLSdbB0kzR9sXvYRqhJxHblFC-E4rv0ConCTauioDRlZNl5SSEsmk2rCZK8xmTcJEscyfJOVqwJ8iwMIULSVBDS1KeIY6BAanDH9YqQvYoEC6JbHujopYYpMTeJcBJT306oWoGzkDEajYpHY8FnBO8lJAGA3rfiClKXELiYY3AYqVOPBYU1TclU0KKvV4gNSqAJUlURGNeZZ8ZASYWoI-V96DS9gw0r-u0k6DM4upT0NnK83Kol4F4qcZnOEAKkhT5K4UykJFM6KdSuI3UpqXyC-7wwGh-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-boaKrggQydV-Mg3EitsCtkqN2q3jErpzU50KFsEfCu9Dx1FAqdgkb6A9uIHPaGd4G7gJLsYiYsucZmDMZWJAlalCRuzW7iR3sSPdHGX0ZMR5GmF6CDBAVQIjjoyyThX0vOttTkOMiC7jI9u-gKTE0iecaAvuWbg-1l2HTQVqVGnPG0InQjKwFimFTEDUJwiXAvEO+ccX-q661d4If3dsNZo9CwK1IBXZrtMk675mP6Vrsbq9gPba9swm0hbp9xaATtbNXvYHoYhpdGwNwKdDay-GMgAAnCcC+08QvxpkxpkvotYr7Xx6+DaB8Gt0fybhYE2eOOVWIDh6sUoB2R-MKAz7GM+gAAQAKshoBH9DzSBWuOvGxBr9giVyWQqv3L7GMOkkTNQj8nEw8JHwEEi4B8gI11m-C4KBvr-1b7ADEdKfaDtgNxt61bABjExiYA4keKfGEPdTvdXG7TdfmR7egcYzMZ5h9OwfdMle0WFSDmBsBazoiS7DUgr66oEVBPBkAbohiFTl+txmMhPBHMbwUYMkEUJjAuaoqEbyOB1rNF8pBwqQC4Pyd126kQxG3RNjjkP9EIbyD5GYO4y8hw2CQ-oXTYIhKNP+lA5NyP7S7WgxwLLKaRYgDgecTAfAAyP9RMjiSVhj+WxsI1VJaR4mAUQ4eALuGuxA4OQwoYOJKGJIKhwFPCGAXv7f9gicEFoe8hMgZc1G5kYYa0P+QbDr+tiFAoaAaGEjiRnyIgMWhkzKOhR7yM-tiMoHTJPiPSVHsSYbqhdORPgcqv+mJ60xvuVoD1Jiz56mobbAPJvPF0zqeBGyZvbqpzU-oe4h8tFaDWi1CBDAjkDaGwf4DkVJyrQfg1ysEOFDhD-g0QwnroASHf6UhzLMEyZh8Uhj8AkY03qmh8zTJkxnzSgJJRu0VtsQbdA5FPpUyTo+05gLJGgjfEYBuIVg6mJVjpjSYXR5js8ZBJZ6+jubAY-hpE1CiONQorjbxh40OGzNk6JE4Zic1w5Ec8m5XNJtc0j06ZHmhLHJqVxSbccDx4RH5t01YBmD0ugAQZn0CF6AAOlgHI3vjgY9ImQMEDPQd7s2rbVTGhHv37xOD1tZEfSeGFuBGTzJtkxydo1cnHDvhPk3OhHq8ATwIJHoFhA1OgAAAXol1ADsmigO6nk6qd6M9ADTwpvSKKfBAhGJTNUVCPjDmPvBFjm4Jk0qbNMf8y2d-c6uQD-osA-6ygP+qJ0mAAC0weABk6+o9OXzlTvJ70-u19NM1-TLKIMyGcoG2n-IQAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-t7gTvdElh0mQFkHCF4FUjUj5DmHgbhHOt3s4u9ryumtQRTvgfQVVp6KQfcKUIBFZKIGDNvNwoGsGuhHwQ8jvM-Imi4MAhQbfkZE7HYu+AtgMgXmRHwaZpYuzPdKBDQVYCIWWloVBs7soUwUkBCrZHwfdg9kIU9n+qYaIGAQvnwQlBYV3FYRijYSHohvYfNt9NSNpLpJ5HIXguOoYQ0qAKUDCPcCwWkH1p0J4F6hofUDoVnoNPEYkdUJAmmK3oPFuLtvYUkRUGEe9BEVEVUsosSGkV4IkQYXoAADxVEJGeo4GMQVEZBiAbjUBbjbgAAq2QKhxARQVEngKqP8+8BQDYlAeUsQ24oAAA1IVvQi-L8F4JBI5qEXoAsZzrMQsS3lECoCsZ4GsS0WvJnCTJ0d0X0dQAQKIMeMMaMcwuMZLtMbTvMYsfQgcXKscbUW8dsW8XsUQnqqsfgDaJkUQVVlkLkAUBCuuuOmDGkN9NoG6tkCZjEcsKWofIUeEWCb0ssFmvjrUQCX6I6MibbqMkscYJwdQGQZ4LId5BrK0kSbEGWjJPGjOoSRSaEDOmCUScYMyZiYuhsZoHOmCQkukMXD0P7I6Kydnt6tIbDiAjfvSSMP6tChcViVVPuOUNxHNF3MWkXBwriT0M-PYU7IweoYXGaLNBEqIV3OYbaUkAQhScYPYS4Q6Q4WKQnLLLESnCSZCaiTTPaquuPFSmZkcnCaANUPCUEIieIKSQGYSlwoEBiRagYZoDiUmYFCPgSRsS3qsEif6eSYQlSTSXSQcntF0G0b0CyakeybmYQqEA4KMNyfkumTIFWXmDaYKZoedCKfkmwgaX7CxNKakVIbzAqWWbiKqQ6OqWWpqcQNqTpLqUkG1O2CGbiPqT0InJwldCaXwWaW7gUZaUSNaZia6QYe6U6c6a6doZeZ6SXN6Z4QSPGRWboAshHpFlHqwDHpwMKrwBgEnrBERIhKRG5L5F7rAVTvepRNuHBMREhM+I4XocBSRPcPBA2J9h7PxH5MHkLmbh3BhPNs-HBSBYXuXGku6syDXrWpzoELWuOFeUEDXvWrRcYPWgxSiuksdsGqxTkfpBxVRfetuENLxUNAJT0DXjau3JzlJdIESIxYEDXuSHQA2JIJ1JoMpapUMR8ApcYDXuVF0axQZYwPaLpVxWzkqF6piKUHQNPJZZ6tZQwMsGZTXnMbxYEIoNSJoEUHoNJAAHygDXgLHaUuVCU3juXGCeXeW+UBXXj3ghWcU15TyaDpBRWgA+UySxWgDDzpXGChXHbAARXQReXpUxWBWgBgAJWCXHYACkRVaVGV-l5VNVuVoA+VbOWe7lDVZVme8aPliVQlAAhHGl1SVY1VlcNbJP1dVWznUfVWNT1aAA0cYNNRJUJXUdJBFd1ZleVRtSte1YoNuH5fNdFTtdeAFftQNcdn5ZtSlUENtU1edbJKVVdWzoNUVeVUEE1cYINYEGnsyLRMRShQhQPv2AYTJKaMZoBtGpoCRahaDZgoDfwq3sDaBfvtQKUAAFaTC3YQ3LBQ2CA7U15w0IWc5WaEVmVRAk1o2fm0RYBA3wSkUnoCK42yTuo16Sw5R5Sc6c3SyU3OmKVCWQDEBSwUjqXGDC2i1NT80C3mWHX2W2CwCQCsUK1K0y0C014K0ACivF2t6tzpNeAAcpIIbUVcbYbR2YQkjZsCjYzfDYyuDdJJDXWOhDtTOkfrDajYlPwtsJDgzfBaRIytoXjT0ATW7cLgRZhJ7XbSDeSpDsoR1IRDHTTYPpRAuOPjAVYInTlFkjpOuABHKrYJjZIFIAfL8LDkWeONTWhRxHcLiC2HZC3unUNG+FEEGVVk2dCUqeWZnWIP4ZUt3T5LMvAjpMXl7QjeYqEZoLycYNXczdIrUZxcsCPYgnPZrhjdjRQOzDPbbQHd7ZsNItofrYEGOTIYPaAQspIXKZ4FkJEVyEEcqVJO-HFIUOfciHTR+eRUwN+QKr+dwJgEnklLMBQLYGGCoHIkqIwCmCRr3TaqqluFZjA5hD3HhTuubgBkg5sbTrYDscsV8SCdDWgx3Jg-3KgwQRxv8JblVuxEqEzCXgoPVocToawbhJIKQKQCqhJAdMoMBOw2VQwAsYoGw6QDKbTrMaENuLMTMVVG8cI8fR8JI2dkCTRJfijWYE1D4IccBItNo7STyOQNLQYBvD6f0p8V4L8YdW8TQxKA4PQ2jFDenfo01Lo2vL8ToNuKo04yAgaCwEI9RLA8jh3AuNFBI3YtuKQ8rPesE6AOGr6AHPjnOsE3oFqmQ4k-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULAMiNMFUAu1KIEXJ8vgF8HaR7YpgRIJoy8G2ACaJAM7FQzeTBD5AoQzwREJSFAspOslSIYkD1Z2IImIwfOualIgTBpgRQNGFdHZIwwvB+tRrjtUSEGNOgYQrwVkO8H7pwhQLcEm8kAE8RIIJ6CRBrA-7igacoAzxGwIv4+IX+PA9NH-zgGRcrAwgr7hMB+5jAUGXQhfhhg0ryB+BCgx9rqHqGWBohwfZomoKv4X9zogwrYZvwQ57xdhBodyJZRD67CNhQwywlJ1NIbt8Au6bmlmxZDbgPhy8bmsx3dCpdHhoAQYXoBQamkPCwoPoIgN2Hgi2wXQ1-s4BEh9DkQII84fIIcIRNaOB7OETEwjSwQD2YI-dnsLuGHCCccI63vaDnRgiqRbPJIeuDJHV9miM6SkQL1MgzpaR7IjSD4SFa-DPh5LDwXKjuBCcqUlQiIWnjAG7QSqNQpqnYl8LOIHOkwHIJiHcgKc0I6o+YJoHDYgjw2wwrZMjXuEOVUoTsG4YyIOHMjFAOozYSV3pZajvhstIkHqJmFPkjRgcabpJEKZ-C7g5LFBrkMfY0kRR5icUb4zdGpQFRVWQgA4Ff551qQxeeQJqwRZ5M4REYt5FZ0aERDAuy3QLuNxGE48nYVncrtmPS4X5Zh+8EQRr2lh+g7ElROgPANjG2AhujQeMVllYE21AuTsVkQmMeS45EBgXPQBI2yaVFAuCyEUaAB6IAAJLWrYAACC4AcAFrQABKPRSAAAHlDayAWSIoSTz4AzADnNTmnwoRmjLAFw3ulGLQqxiWxtwvVumNn40gh26nTBFeMZFCt0xMgSoJqMGCqM3x7cA8XaNiS91Jx04ucQuOXFriNx34hnneOpAPjDxT448ThVQ7pi0hMEBsU2NawITzo-aR8bQBvBpDMBDBWfn+IE7wSGRJ4zEb3TSE+D5AUNOhIMJVSZU9iSo5MKqOIloR6J+fHIqSNPF0jdxzItiaRO4kUT5sY4plt7RIDOdZIAABiUIDRcox4MsBJFE7at+wlARBOniUmkgJJ64J2GJK0n5CTKCxHgD2MDR6SBg2kxgKo12zyT0MPfD-npP-BS5VJWvVDiISKac4RCDklSXIjUlPc1hr3DoXvFMANxbJ-wOwDlAihKSmuUvTSY5OTbuQ1JChW4opM0RxTwUak1vvDyqyVD7gx4GQCmC06mgs0iAyTmIlq73AbJe-dAV5MNbOS2iDzdDkxygRPscptgPKdIBTCmD72xLQXqYFyn5TLBeg+qfYPg5PlWp7UlMGJNTF7wJgLUHSHYBTZ8CMei-O4KeN6QDRxpA0hwgwJ-ZMCPSLA6+MOSBHEMKGq0sQBHAcizQc8ggrQfLAOmXc2B4wyATGLULMFTxN0o7oGlKAVjFhmvXkqEA+HyxeSsQTaR1P37PSr+mg6HhvBsGRwR8dHeEaZFCCgzOpf6faSkxRmWC3W44WIIDIcCOD-ezmWgn1LalbSIONXRET0M4gMh-g-kpflGQom9IvEYwzgRMPcjv9Tp-BCifHH9jCDMmtPC7gD2IBrELRIfY4V-g0HT1HRgQBmf-yzbA9GBiA6oCLGdJ4Bh46sq2KMMgFPSb+L0jmdIHelFSU4fM9Xr9OlhlSSAIso0XTNWncjn+EMiWacJNAbwXZLpSwrAj7oBEbZXM2WS6NulMR-Ys0hBAtIWAMzphbhe7GrI1mg9+k-I-4YKM-Z3SseOsfukAM5m89DZD5dpJGOFkglRZzRfIMt3yDo99RQQ-cu8IFEx8ogEjb0QCJw7HTi8RcobBCL4LYimBhcxGTFEpnOBqZcIWmYXNholz3Zj7BATMGLzjcVhqc7oT3OpJ9yGuxc2Gst1AEVUwA6s4eG3LN7tZ8RaHXaMXL1aWy851sudB3LpHLBj5Q2U+T0APkgJrZrI9rJfMISsiL5ds9EpYT5G1yE52c8XClO9BMJWxRMuXPAXHw+A-5jLJSWgWx5TAoxjIKaVJysxTSn+ek-nLAtQ6ZC50lXKKdjJZCktpAeUooDelhiIVSGVmDBfb0CkMxE6EoMSZFLOnWihJzor-nmNEhTBzU7kMSbpM6B2kSM4UhYFNKCTI1r57oiSE-QdFXzc5N88kXQtuEPzlgGwKBbFhYUkIppMinoAwsdImTcIgik0RXPjlVyWQ-o6EaTFAZisbQSChzIjDuBKKopl8wMWYGDFtDFAWi3kMIs8xjigJtgRcbuAAAyWtTcXNA2iySGCe440UpKNAIS1pqHc8TGImBxjMJKDW8bGNdRiSwlZEvyKQx-GVBklmUl3GmIZ7vif5RoQCVOI8XeLfFkE0YNBKSWhLnxlgSiSGK1ZzTEEdCZCSGNQkxLGx93ZsZhJUXpBtwYkvCSGJfB0iWlDi9yWAruADK2hLLGronSyXhLGZqHKiXUNokaR2FTVPYpQp-k0KuZ8ynwrxOCUFKalxAU8dNIZhwha69wLFlaJMU6YhJ55EMXUraHUS-BJmU0G8ICpXQqJK9B4CULKEOQpYlbHCfQGuXrgQEuyywpfNlEBVZl1SqRYyJOVL17lbQ05csnpSXKTFIKjFhcIzHpCmFUkV0ITVkiFjSOmK-qrTiMVYty+guAlSQB+lZQ-pbYc5RhWMWgrSV2KtIUKxpULBdOpK86EiqqHwCeFMSnvniNQV2AkxXYjzIag1Qwix5kq8hSIBUBdFROQKl6dBKEZAr-UjA6CT30-F+Q-uz8DsbJGgkdKQEzYvVT72fgcMNwRkASfYq8Eh1CEIypoYFyqh6rJlXgqlUEHyCoJyubqoFR6sSDN57QjzIFZoChXVYLAwU56Kqo5WelYZWc5QkqtMA-y1Vl4lBQaJtoISnYci2QLFj4VpBtVsYkVakounGlkaRq6wGhM6UYTS1yvK1VGttV6S0hjqlyM6szHpdxlogQNSwC9WBAfVeIV1cgSUk9rg19I3aGJPDVlVrV0a1NXGocQS9E1CdMYDxD0ldE7VCwC1RkJ8xKSNVcE2gJ3OrntgV1Wyi1aQ1U56q91-4vyKowvVAqr1JEg9b0mTUqr91CU99TEofUvBPSz8CoICrfVpJ3FIEpcSuPXHgB44QG+cSBvAl+LQ1b6qdTtT-UbrIcT5bcLkCU45KVOJ66hRmsBLKrU1OddVQWqCC-rpAq60JU7HcWeKfF4GtIFRtKWwaD2k66CGVSQ3JLPSs0NDTkAw2AU7A45fmBsExoNRXogQuwZkImhP93sgm1CCJqP5oyzoqjIHNJqEB3tRNAClbohgk2qMYc-MZSkJqLwSbt1eOW1FpuU4a43cemmTYZu07ya7cimp6OMBsD6at6smqToxzs1maRAuUTwE+B4hXLrNZYrqcYWUKCbqAEU5TVvXZUPKjN-GkBBFrQjxasiMUflYkFIahaIpSm2gM5tuzf5iA2W96ACQpUYqpNWWmTYlsugm9ryzhedS8gHWHUyW2xIraCuAJZawtN6pPHpra2KBLNKmqLcipi0yEetg+IbbdhyF9wR5BkyxUUMcBqU-l44JrRixDg7AnNMmkbSURS1AtnZqVMqp1oy0Oa1t3WlbSpoq1LENth6OrWhsYCNa0VLKjFpzl23tblC3mg6E5ExE4rHlUQ5ZS7ToTvLHeywcTTdquXPaGGt2m0MOx6VmhbFoonFXeX8CVaj1UO+1REJ8LG8t4tiDaFtrMjVaHltMC7dS2u1uAnwoOznMDsuHKF7xHDPAfQNQ66x0BUhG+hjSpAP0DkKKqwOeyVaXIdGb2jlZzGtL1Kvtrys0L9s0gwTKdSgVPizVwFKAZ6nzGiBcIh2GJjWMVAXrh3EBSzpZxgaqARzqi7Dlpq5HYqjvh2bsS6NrDnfdBZbxdEdYohxSjqOb+L24rPM7bjt9XG6FWZuqDATsfAKBidmgdnTu3DhKFn4SoKNppRKFOwAAnO+AGih61KMOtTfVCqwx6QEVEikGqhUCaBEJQ5epsZpRwqAy14pQ0v7CsCpEpJ+g4wEnsUAQsIWVUNALXr7Vnck5V0CvRUKhlRAk9OK1-gaGaH68fA50KwPeB3ww9CZoImwFpQ72p6Q0mgYPY5pUolDWd7YXBWpQIXhRa4yqvrVUNeHY62hzutnDIDwXL7nwVUBbeLT31L7s0hCqfs4kXag7UJA69MuuHKBwhDGeK0AK6Cdi1sLwWwKNou3jGGhxdxAAdb8VfDTLC1LEZCIwEf1i1QAmTE7P8MHR-cK924O8PeEXav6TFVawA21HCqt1TQFe6VhitdDrxnB0HJwf7D1XZphOpQUTiurRiEG-uqnNdSjEvV3q31B+TFq3v9jgHIDTUaAx2zhB3B4D90xA8gbvC2jH1WdGg2MCwPIGuoxB53k4ITU9BhDIh+8Fi1igejcaKhu8PXpH2z7Y9KEz5fUpWWmRhd9CfA6yvZES7tgUuq0fLughq6CAZVXQD1OP22H94wouxdbqaHyiHeS6gaO9mGB0BjwaqHKAOuik2039skD-fWx-2WQHAt+8zlsWAPk89yXcNJK4ddBnYPD0OlCT4Y0W4tbU9hJLUesLTXEjRcqUEfIEkDhMN4xza5jfqsM4CDomRshkUfOiK7HDO1Zwx4PqXfLihs2mNMt36OlCeIdAXMWWMyF0B2sKDYY66jGONdSGIhdkvfNmQRqvl9YSpLMcYZRDF0KxjXQ5C2P2AhsT-HKAaCm1fJflgxjSjNpGNHHNWBJaY22EOPzGhWSxv7HsY0gRrTjBQkuhcYGPdabjcx0VI1wh33V+G9S3Yw7z6jX6rlELdUYoA10AAdLANQu+VCcyIXRXxnYm8rRVBIpkavbTi4PUkyOWAGExirhPqcET0s5E6iY2P950T+ATE-GN2iEB0y50DLiIVZOgAAAXlHWMDImogaJ4ToycBYdGMuvJvEy5AJPbgiTDgYtDr36hu5AjwRrcHCbpM8QGTTJsau82OzVGqopQbYqQG2LktMIELWiHgDJOsq1TjSigxidFPan9Wep2nAaanzGmWW0prqEAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYQkpEe5oyd+t7Zp2DTdgUojkMQlbKeRo6aRhsbCqqIGDO+V4RhxqkAthRhafQHAOvWVrwWmorsbenE5g+wQUgwmKRD+ygAEQAKqEDqhCUAA7jQNrDCwG6gAAtClIkmSFnQ9CS-QZqAhkyMiyjubQbJJOQuCgDIOzbuQbCnp8ZlVsiMKrMkSkFbwogSJBRYNRQTV5RGxUFQwHnZcY3QUqIvLbFVNXWP6bDcJQRBCM1mateVyTxvQ6y0HYpAZBldKmcN1C8ZQ6FFUQtl2SkF4jEULIRNQrEyFhD1IhdhCQWmKqwfBrWId9DSlaDYMpJtAqem907Dttk2BJ1OxKS5xEyDuR2+ckHjo5axEcPGz2ztjoi-kCITrUwuDkIQ0hdFNM1zeygSjIFt2EKFEVRbFNCbaApASHwqXpYZWVM0YvTwoLDmkE5-KE5+MgXtwtA2e1riddFXDjfBatld6Hi2PY3qXOEkTGWdRURI57mq1uZU2ZDyFWArznK-BO4K6Vjvq95rLZbLv0icT1Armu5pq5ZN6MprbNGKj1iMJj1v0suFl9XM1n3rjxgKSZMiZzH4cJgh95YSE6eqiXl5cBTFfznCuUooMYfUYxEoa-eWtGJV1U7EwK3C749E0aR3dtYnKMbFyoA03TDMCFL0ss0w82D9Y4iOcxw8zlPO1NJ1Ne23BCt7x9P7O83azTWIrPyntx10+fvi3hjG-pKAX2n6-u9VBYgfa+CRb71AHotDgBMhSmTthfD+ytp5fU6v-eBjJP6r0CPfWaG8Z71BPnWTutFPp2R9u-M6rFPKMhvjmTBrhej0Jyn0Nu5J5aKw4EQCcfYBxzCdJ+I+Sc55bB2KbBwfCjbCVEfKC21wQoACpOGTh4QIORIVlBsOcoo7hy8ZCQjESqMqsIACQrgmGC1oDpP6a0FYtgBhmKhko+6b0gUQyeHEBGBGfrKNiJ1XFMUAfvYYDjkYdSEdyAUI9ep+Knl9E2ewvohAKPwOIlinL4BsUwVM6ZBjAzgeQoBw4QH3W+hYpMaSMlZN0vBACQEx4MWIV9KGHJPzwIoTOBxhjYR33Xk47WYSeLPyTBU1sVkvKxNAPLYuAYhnljseZG0JozRqnzgqHYhZGxllsdkuOlMgSandjIdZJZNmZJGZdBZdplmNNACEURmCZatzJDQWMvEtTiWCr3GeXi0ISBOmJHUV0bocUwV4t51J0Tf1KVY9Jsztnlx+SE0AXitFTmkBCiZ7t2EouUTIMFs1EUEKFDbH5rsmhPWSbDCY8MPp4p7ti5ePd5zB0eflF5SkJKsicZ1Gp0xoFWhIUhU+6MY6fmvHpSUpLvpMpbswp5YcuFTivipT5awvHKxOqfBVA5WKfybrQtYWq-oXLNLqw1OrjU1C8soZWNlMGdWVjKwWLyjlNlhbpDlHjDWGkWeaZWhyGzHObKcuZ5zbRLOsvKU+LqTmVIzLq3O85JX3jhMYWVrK6yDOTMGuFHqnFeotbqzNwyQ1GrDZat0SbT5FrdXGv1CacyVv1fCREm10S4ExNiKAcBEDIHQESTQLL247F5KIfk6d6big4ly-pIj8AmlGGqIwAAfJdWFh2MAnYu0AK613WFNGaVg4rdA7qaLO+wapHWhx2FUUUoofCTI+aQGIlQWCig8cnf61wp0ADJv2gBiCwOIXkMjpG-k+6YN7L0sPCXwxdM8P03rvUIB9yqQp8MljlcxZb2GwanfB-pAHZB6OWVBuVOwzXAOA4nBDr6kMcBQ-HUAIUKPDAw70QWLGL5lrg0kTqhHdHVBuIBgTUJlldPY6HTj8aqO8YI7cYjxH3HMrTUOpa0ys2xtGW6PuNHb33oOR8kK1atm6TYyp8kxns26W9ZcvDsnNg0H48RpzgmlPMsFpZzTl060yeaQ5-98nBOKa8uJ8z4To1Bq80enTM6U60f0-QdsIUIs1sGGZwWKWTNxotTxvz88XOiYK+WyUMJ3Oh0y1Z2tMDcuCP80VkTxXSukfyjsFCb4RVfhq+sfz174vIYM6htrFlRVpbK9BiZ7BwJvigoDUYwSYv+YAtwOQ2HnJ8OUPVpTLc5aTdQtdDCdm8tbHq8Ft0oWwvSTCV13TdGGN3hCujS+M50uh2FZeEbOyBF8cC6J9xzXVNl0jmeaO73OuHdq-PXren+uJY+dcowRmI6nmoOeUHYqXvjbrtubOQHtPUf6Ww5guB2xOG26HLHDAy7zfx-5wntN2w6DJ5jiOWdqSznB91+edPicfIAMzKcFsO8eXcOc3YS+z1DfiMdyp5XUieZE2JfYJwckKUvlAgKZ3Kvx+TAlsTg6mo7jmfuNbG3K1BOulXUKV3V24GvMOvZaRb9pU8Fvz1O4rzXLXrDD24KPaJIDXfCKVHsKenuAc71aQUiXVvA8wZD+7wx-3yQ7H+V1znQeX3Q-owNxjIV-nS-yrL1PovleJbz28nUajvGm-yv8wFB3fOG4C8J9353BfWE0tpd1Jeetxaz3d0KnedIZgL+3GGHWxXXbky31zIWw-kj9j3-LxuGtifnzQXWftKAB1jzxURMht9lXX0iPJDtD-W+X8J8-x+yFb53zTt3gnr9MJbb9NtHacTdvxH2tAvPB3J5TgYExg3HfX6WSlAzAyAKYCTxoFl02hkBmxgjm2UBJRVT6VpxV2WlWnWg4E2jUXh1CABiQLghQP21tXt3Gz9CxGwKKHgNwFAN70z1uwOVwFCiwLWloN+lH3JBhkQI2DmyKgYK50xSJyKmUFJwoLN1+nr0EOnQwMclENYNAEZ0kPynHzhkxARlnHoLkOEIUPpyUP5xgP-EAl5TCULWoFJiEK2EmQe3MOVirxJhnBrwBz5UxkQV0Iz0Q3F39StFCjcKYG4JoACLLlJl8OImsKNxn1E0QQF1DhIi1D7DFEpWpQPnnE8JoGI1vgk3G3N3bRVFVhzAyOb1kGyIuwSMoF5F4gwnyOdATlMXQPniuEiFqKYHIN6C8XAwiV916lek0NYhOjuX-1gNMNwOgmtDLR7i9kiMIK-UmOtRgSP1ULH3GJszNGBnGLZAaKb341aJcJ4NWK9iKk2P0G2Ihy2GIz2OMPJReg0PemAXmNAEtB7mNAnGmHSPw1p34FFCfRWx9TKhA2-nGDFF+OeJWWjFmMiDgPGL+LtCmPBXdFeKqK4m4mBJ+KiFhPWN0AAB4JlvjQSETGkYwApKBIgQoAAVbUEwwgX5dyOddpOgfUbgLSaQEIEKUAAAah-iaTBAnUqgO0mN0C5Kr3ZK5IIMCF5LFH5N8MMUaWrhJLJMpMoCRCYBijGlFHpKCUZO6nIFZKY05O5KhklNFGlItQBOFNCgNPFNcGNOlLBLiPGy1F1H1DWN9WqwtQTjWCdU9Ho21GWw+PlHMUsUxNmgWPxV6RSA-X3zNPBOEhZF9O3wFSaQqKSNFBSP6LSJ8mtJuToDLUBJKJDIkShg8H4zBOzJ9DoGDMU0FOUGI3tLoSmnlAgRZHzK6J91Hj6PuOGA8XqA5lJJDJ5kIFNHWlAHQ0RXoR6TwRSC8VaJOjyJhLAWPn6ShWOJVFdI2JVGKShlaM-g3OdC6XqAYUbMaK2HjKdP9KbWGIKiUVLR9XjTLTDM9NcG9ImATIvM5SnKMCDKTELLDIBM-NnkYOjMFIIJjB9PPKTIehTInXTK7NnCZQIJCAtXzP4xjOtI8F5AVlLPBTDNjMXErJ-OrP+PdDrIRPHOZibIWhbIgKFmfXbN6LuK0J7MegVIHKYwimHMEFHJVDFmvO0VYgw0PMnK+hnPGLnLyVaMKNZAbNCX8xXJ3LNNXP3KTTsh3KOL2PIuljvjWBPnAr9KkuU1f2g3fyxE-zxF7UJAwCvNqn6kamAl+i5gvy8L62z0S1GhCjqgGnICmCCNCFssGmmHqmZN13dVal33q22hlS8U8rstwLfxOkmQeFsMIyr2MEIyBC3PshVz0VSqMD0QyslVsOaNyshIKqSpV3lhKvljKpSFsLPVECr3qsaEyoxTLxXFoGZMkCr3as6t+QaBatsL7IYFyqGsBAGpVwAifS4GNFoDUUmqiGmvRHqHGrLw5JKuMBkA3GUAkBBGyGSi5L6pWtnBChSnWtSC2tAB2oyD2tSkuqMCOpkHkTOuqguquueGSjkTutAAepCmAGes2u2t2tAGSjAEOsKpVwAFJ-rXqgbkoIavqfqID1qAbLrYb8ydrway8ABCUDZGmG664G0AHG7+DG8qsvbE6GwGgm5KXEowUm2qlXbE9IM6lGt6m6pmumn6zISm1G6m0AbITmzG46zIZm5QQIVmtGkWwWsm46rG56wm1wZ4IwLG4wEAh4bKaK-y7y+y6DdcjIeUJbITAQZQGKgKuK4yjWgMPy+qWKmGSgY0AAK0yR8XSANp4C5gJqKq1p8o2xXyRhUuMFNu1vNqeSWKwE1ptrNqLXRUmVsMXnpmkCr3juXhaqaUCFsMgEICXlXAkFSszuzuFlTrTuMFsPmo4FgEgFyrLorqLuLtauOrLoAFESqm7a7i7bCAA5FgDu56rujuvCsGS2hMY6IOz4atM0-W+oQ2qqZ4XY90Ue6YaOoe-aBeqnQMBWL2SelIaegmiKmEE272xe9TD3K8wyPqSO4OugogEqcaVyxxT4+eM++mDhQQN4CQGCh2j4CcYgIsX3SCwEVeoK8YViUKu6AO5IdyO+zoQIMxUOTCl0zsrQtIB+08jcZ6IQRBj6eHJJQQBAw+kO7LR48sowVe8ems7B3gZJPBi+oaXW+2p2sgHuYh62ryse4+3ctu1wNsyJWCpiqKq2ro0ULUV46ORigYyFOeA0TBg+bKBEMAVtDEUyrtcygkTAK8kmMMMgDgBiegcyACBgQSCLGY2dedSIerIxmEeUEslfUiosQNUrA0kKDgUUnIIsKU3ADCcxgNJsUraRAs2xjZJgULDzLEACMeGbEYIDNxiaYolgYgYgOdOwG2OQEqeJoG9ELkmQOJ4gfMkKdkjwPJnMkUg07JzhxoPJ9XDdMUJYnIuVD8UgYWMoaJm+jyFp7OBpq6vQIxHS5cqp0URxx6g05aMJ3kCJuYQ2yB+p4WFpwxRx7QEKY-KZ3qWCNgLJ8aYx4Pc9dyXGAp0REKPx1rA5bZ0AX9KMSBffYjbZ49JdfxwTK5om0DJjNwLKKx6qfjY5mikKZ5rCDwDRuJhWHRuNfRwSbZquLeLgHU4fCMY505oEERAo8fNHaF9ZyxpoApwZrkpZyoUYVZ95-WNZt9NqMUoEdklxgtNbBF6QifZFwlq0kl-UzF0wUeFZo21fP2K5olxpLKfZpoS4JljCEKSqlpg+jYZlnF1FvMHiZoglnZvy0VgV4q9RA5PFt9Wsu5lFkVjp7FhgNgXGfCPpmV15kKAAchcfckcdNb8dtI8ZlcWf5e0eIgYAwgYidY2d2HPWdFMdZZdfprrvrseqTAEBFNJJFOilIBFK4VGHDf8LsECN8eEiWe9cdYxqFkEx9fnvtZWb1blY6aTdGBTeI3Tc1dHnTeMM-qpAsV-o3pgT6n4lFX9jdaH3dTVlldsKbZH2UERY-E6xbfAdcENvLe-qrc-lrdIl7BmYbYlfwvhedAbdedsOefV1W0dAKJbezbVmMJ9cNESg3FHfrZbacQgXI0heba3CQV2itphmQu-nlHJZXdna7djkzDXYbM1rrd7B8FKhOkNq3YSiqF3e3HfZ7j9hffOBQWkOvceY8sth5fkkhNZcA7Hd5CEFKndHq0Q9FU-f1njclavbzM+cqteYw4-ZQ-1j8bw59VycHcrfIF90-lg7xng4o7tD7eMAHa-po7o+Vj3fHfVINjPancfCY4g4fL8qA6w4mnuR6SPaVFXYE4jM6gXarzvZsDk+4APOZgflwTA-6Q3e0pDnG2Fj4AbeKNqktjneEn4xbb8aGv9kHL5jigpCRfJCM7jePycKCRM5QfCWles+EiyLPZs9YrVns+ikc+pYs0sPaTMwu0jYYDjVIEoF4mmEAxEFKLPeKNc5M8+bi-DeP1S57F5Hi-Mh+S856Zt2Ew8711A+bTAG31GGsyqCbBNvSQKi4rvVIDkcUexGICiB4FglAF52ql5DlV51-1-2cFi97H4hkCAgkGUGYH9AYAEH-PK8h02YcEW9JJW-BI8GTukDBfHmpFm6YHm4LP4y2+W86SJILMu527lL4pm7m7VdEzu8T1gfG1lya-GGQdVStrxRfSbASpVzkW+6YFUURTlm1D1GWzm44CUFADh5WAAq8UOmNDB5Oi4Se9O-h5e4cAB7B40+SAgTR4x5ov24EGYtkvngp5ktAGwUfkBC8Tu8x+m+IBO96k0Dx7kHwHR-sc0sCAgRZ-J9fqXmkCp4aE6lp6+gZ+09IX6WIzu4F8YUPO0ufKvQTCjY59x8R5x656eJgQl9R957J8e-Z7h4R+IwJ-57p5J5N8DXzIp4l5tI2BfVE2t+a+IelcmQt5NvM6R7DIiLKaBCt-4nXEJ6J6wWEqZ6tuF7N+1-18U3t58eV+MCF8yW28d9F4Tsp4jJMRSEwrd5qGT-GESHz6aWlelYD4N6tGD7siT755T+ynL-p+j+wkL8V4z+W8D6Cbp5V5SCPK0vV-Gx6rpF65kF1YjPONgNyadJh4Y8BE1Gh-1HhxCGxE+fpiK-DfFI8E36jfFPlM5jYFC-5lAHq7hV4rB8EuPKb1H9IF6-4eHrP74DhUB-GG-dGLB-8C6C8Q65OnP8a6BpHqc-fUBhmiqtdv4AAhLkAJCh794uGGC7EXnpgrgxQ-qOxs1xr4RFii0rCLD332I0BjQyAmChFhkCEDBAE6GYvxjIEoC30x+agcQOqz0CxQMxYjEwNoHLFyQbAjgM-Ukq4CMQm5WJmzzQGBNO2mxY-DcVkB8CbU-A-ctgPM5IDyBqAqQYb1EGbljCayNMGVxPLhJvCMOeCluFCjPMHSZGYekMmLD0gQuMgtogvCHIcEhAhYDgH10EDjAGAHiEJtwCMgZcAKMnesFbHk4AVXA3yIgWKD+TBC0yPAhcgYKsGp9p+oANgVnxEBi8BAoFGwZxXsFphHBgbFwXZ2iGIUkU2+DCFwL9RsDI+E5LTs4jM7XA12U-QCk0XM7+gPBrLNdsoAaEYQAu6nUoZpxwQ1DtBTnbgHT0H7081uWwVoQ22uJoMKUlUKnO7APh8DXwd4PYk4iCGKD+m38LgREIKJ8CriwwggWEISG0wc+rzCQcIMDQLA6Qqg-cn4zCANNRgf0SauPyKGMCwh7oeYRcN74fc6mdIWCHcLH4YlrhZwhYScW85WDcmuAaoInUNKMcQoYIqEInRs5ERju-wlQHSF0CvNZyRgA5gWE0HXDURcZCYUUCmF7QZhw4JEa8NyH1BuwlfFEScz-SVDIg8w2VtcO+EcB7hGJYjDiNY5NBiMDIzkY0CZG3CWRvwhDiiN5HF1+MPI5hqpU2LZtoR4IoNsYVTLjBEuRqcoKsxAJyDrgF1J4NkFETGD8ovXTJACjKS5doWH7YrtQGUBbskRW7RYV8itqsioEn4I6CdH5EWBBR9-DElaPOF8Uo2gwZQJKLsg2ixBOwkwh6MdGHQKYoIuUQvyOBSIKRdACdEqPOSqiJ+vw8MTjGML4AqiyAi8AgWpHAj100TYUSVmMIdd344IVZnNwR5zdkef3J-uig64c9qxp3FQr0IhSPMKeEJURDmVoDqDX6u7OHg6DzH306x+0ObidH4w4i7UsWXwRz10AFNnmOZObjKiVGgBySAACUbocAAAguAHACN0AASuSUgAAB5DusgG-hDELsuADYL10K6+i0Qw474W8JmJZjAq-Yp8bcNlZlicxG4T9maPsSfiLA2bMsdSHNAmi0Qx+UCfYHvHmjy4MxDcVuN3H7ijxp488VBNd6-j-xW-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-GBXSSW6ofH4T8uAgFiQmq-VwSPE9AI1betNUVryldqrRU-zND-rv16KBJchMPHHizxPStYIhr3HIa0J6S1NSav3UE1YNYGpYr0JCi6hEFtTS9X+pQViLgNJa3lOZOfq-iaN0G-aIRryUnROlKStJZgk43dKXRu62NvhueBsamlBKUuWRvUHe4eG8YB2g5UNhut988m4-Obhk15R-Yq3XoUtIDg35HcqmlEPx3vwhj2hNTC7EPB4btVZN0GdTQppDxKaOBAsPJBZrU3ybiiWmkzYLDIROb9N1mzLoJjs0Ub24DMUUGdCED-KXNwItzQapk2UACpemxhhKrJV0L6KZcSzU8imSEBUtiuWeWuS4l+NotBUshHFr1xFbnY1pLlcmzPiOQit6WzLaVpb5NIFVoK5TKuoDaCARS5W-No4WoAO0YtP6q8hZt60-ArAtWhLYqqS3mbhtDlLzYw1lZxjJW9MWCO8E+BIr-6DQDrdSvNzTbZwW252MCslVl9kgOKgbQVsdw7ahttAWrfcHq3YRGtDK5lC1tI3DVQo623OgsGG29bZGgsILTbAhh7bEtwIkZRCr4nLY3lMKzIFgGu1p8NuqsHxSMCpUYRvtkTeHQS1K0myJSiY8JSqMiUaVnAkOowBhQx3Kjc1SlIJhDpMS3I9gB2wILdt1YtwHtYbdrbDr+XJsq8iO94eUT-EJMLBXgkMafEsGCNhG54MRs4TLYccf6tHatvyl+006j4nUQHZcv4lNB+54OslJzvSSqhN+69cwaqGIYqtdtrReZYck7a7VJRtnCYMbLR3sVIoYXGgNcIN5OS0oDLMnfVpCjUdxdXHGBHst24JixQSYrHcRMTm8sMlqcrCDLrp2xrXdYu4dg4We1M74dVeN3dHsN5GSvEAEXdj1TUAnQAAnF0EFgZ7JAxOjTcYDz1WBequa7gbBDKDKB8JT01tdDvoBdqo+Gc6qHWseb6S3pRgfPRhGNbGtQoaAfvcuqBly8mgXe1lg3piEqBS9agcvauAXQjLgs7oGgOlAkKq9dpk+jqtPpGWz6goygNPcICn2SADVbCyQJwo10DgjVo20FcURp3h7jqx+jhZUCgKM6iUcO7lSVFEDsLT9n20OMR2sD-L6Yq661KMFNB9hC6SwplSdF-YSAd2PHfJXBA12EBV1jjDoHsswQQIpgDAEAznQebfxVcsI1jBL1H0nVHdv+6RcmxeBIGxYp1aBvKFH1YsxVsIK2VXMGEQJJJlQJLsaBS5-q5gBERva4BfVlgb1n6j9TmtK68GBe6B4A5UWwNqy8DwJcNh3vX29VHqaUVQz6LgkFRuDAgKg6oclhMHWYgwgtbQYP0CtVDahn1gdCOjogzDuhgXl3uJ1wrzlUKm7WDvLL0GKtAYzXWYJtgEQ3h6a83UiCBpBxRRL2gFerkJ0RLiJuojKYwgvVj5T8CYGKAugAPpJGVT-AiJAeTbbt-2sBvMfAZIlIHhSKByPqJQMQao49Yq8I77sx3E7ojDijPPvlaJFkoR0UUMb1wnTIiqg+zIxHy3lbI6vDwwbXWEYLJNH3QRuwIwTSDgKjwVCu5bKNCL2xCgdz0QvU4fdrzHgmocJY-wBWNjaCx9esla8zm3TtHJS2oNCcFW3JBUKZKvtjiq2P+7Z18+2fIqvOy-7kdxrXLjIDR0AAdLAI+soZFBEuuBUkqs1ETbVAabUbCL3qYwYGQDbnLAK8f+XvGAJnxk2T8b+OnT2DQJnVnmOuD4BrU7oM7tKzxOgAAAXvvSMA-HAgCKzE7gGBPjGzuZJiEw9ChPJYpDvIDDPnzwAJHaASRyIO8f+NCBATtJ7E69SVZl4WAIpY0CKWIAikg2MIY1tlERAImKt-JjE0KbpOin-WzGSU9KdlN7KWTksIAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-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-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULALVi1H7wTBpgRQNGHQGW7+C1KrqOgON1Q6yVlA7WFBqEMCE8QIhjXUhiIXZLtZreHlfhjDC8E+DKk8QoIdkMSD68YhxLWWkEHyGJChsT-HKAaDuAl0vkAQoISEMcBhDKhmrAkrELbAVD7AoqZIY+1SF-Z0hsyRrjtRqH51zUpECoYoG6FJDShHwEYU1U8FFDF07WcEm8iWHeD8A0wVQC7UogRcnyWw+QNpHtimBEgmjHIQTRIBnYqGbyQ4QY06AnCvB5wxIO0NtQbC9WdiCJiMHGH1CHgjQxBFdHZKFCgW1vBYQFTuHHCNhzw7wfulOFAs1hWKfuv3kggnoJEGsD-uKBpygDPEbAi-j4hf48D00f-OAZFysDCCvuEwH7mMBQaADEEGI+QPwIUH9Cjh64dyJZRD5qCr+F-c6JiMZGb8EOe8XUPcMsC2B2RzRIURpQZHyCHCUnU0hu3wC7puaWbFkNuAVHLxuazHd0KlwlGgBMRegFBqaQ8LCg+giAoUfqLbC0jX+zgESGiORA6jeR0ooVrBAPZmiYmEaZ0btD1H7thRbI4Ps0TnRmiMhZoOdHqKDFEghRBoX0dX2aIzpAxAvUyDOlDHxiNIPhIVqqMVHksauDnSYDkExDuQFOaEAsfME0DhsdR4bbEVsmRpijA403SSE7AjGsjRRfoxQKWKlFFjaA09MoRpHLEkiny1Y1KIUzVF3ByWKDT4Y+xpJ3AhOVKYEZQj9E1iJIf8AUQzEIAOBX+edakMXnkCasEWeTM0b4WcRWdHhZwwLst0C6RDKxOPJ2FZ3K6nj0uF+UkfvBEEa9pYfoOxJUToDwD1xtgIbo0E3FZZWBNtQLk7FjFbjHkuORAYFz0ASNsmlRQLgsknGgAeiAACS1q2AAAguAHABa0AASj0UgAAB5Q2sgFkiKEk8+AMwA5zU5p8KEDYywHyN7ori0K64v8ZGL1aHjZ+NIIdup0wQsTWRQrQ8TIEqDtj6AqjASe3Con0seJvdZCahIwlYTcJBEoiaJIZ4cTqQXE6iTxNok4VUOh4qEapO-H3dfxWk86P2m4m0AbwGwzAQwVn4SSBOmklkXRMdFScNhZEbYVDToSYiVUmVPYtmOTB5jbJaETyfnxyI+j6JQY8idGICn2TQpjo+bAhKZbe0SAznWSAAAYlCA0XKMeDLASRRO2rfsJQEQTp4cppIJKeuCdgJSSp3wkygsR4BgTA0FUgYKVMYCqNdsmU9DD3w-4VT-wUufKVr1Q4iEimnOEQl1LylyICpT3Bfhhgd7tIqspgBuO1P+B2AcoEUHKU1yl7FTupybdyAVIUK3FspmiTaeCgKmt94eVWbIfcGPAyAUwWnU0FmkQGScxEtXe4G1L37oCRphrXqW0QebocmOUCJ9udNsCXTpAKYUwfezmFsVTAF0q6ZYL0FfT7B8HJ8gDKBkpgEp+4qrBMF8HhdpwCwdAcSK-6iwBoSM6GTKKx6MD7pEce0FKS1HEMKGdwDoBTNMizQc8ggrQfLBYFPw2B+IyAWuLULMF6JLMo7oGlKBPjKRmvXkqEAVHyxeSsQImcDP37cyr+mg6HhvBsGRwR8dHc0aZFCCyyQZf6D0oag1QJpIZgM6GXQTdbjhYgkshwI4P97OZaCxs5GRqxq6WiURnEBkP8Emks9Le9E3pF4jxGcCCR7kd-rTP4KOj44-sYQZk1p4XcAexANYk2OjHyyb+6g7kZ2K7Heyw5WbYHmTJmAtERYzpPAMPCLlWxcRkArmcnMJEtAoyYc26SnEjnq9RZ0sR6SQHjlijPZRvLsZyK-waCTQG8PuS6UsKwI+6ARduXTIzn-9P2bM-2BjIQR2BDg1cvGY6XuyFzi5oPfpOmPVGZjJ5ScHoDrCRF0iQ5vPfmd6RmlvIW5IJBOSH3yDLd8g6PCsQcP3LyiMxMfKIBIyHEaicO1M4vDfKGwGi+CETOwKaPazKisYLs5wG7LhAezr5sNO+YPMfYIDc5t8zWTFDAU6hqSkChrrfNhrLdQBFVMAEXOHgAKdMu0a+XoHDRocSFv8tsOfJARtyAxQw50gGKGxhiegNCy+TGP7YML056QWMcwuTEfBUxpDDecOKU6ny94IUHKT4CYT-i7ZcueAuPikU3ZGWOUtAtjymArjGQqMqTlZlRlP8Kp-OLRVEMCYE5Kuq082SyFJbSBLpRQG9LDEQqkMrMpi+3giIZiJ0JQCUlaWPNbExSex+Mi8aJCmDmp3ICU8qZ0DtIkYlpCwVGUEmRpsKBxskTOGwrbneLIxLCj4BsHUWxZAlJCVGWkuWC+LHSdU3CHEt5ALjBxz80cX3Bw70p7gWLTxdwQcyIw6hwS1aSwonFmBzEM4kpbWI8zwSzAiElCbYGwm7gAAMlrWIlzQNo6UhghRIcoJSjQWkn2ah0YlriJgG44ySg3YnrjXU8y3iZYH4kM9BJ+0h6E-zEmVBdl0kwZcMrGXgBlJowVSTspykLKHJ2kh8S5JXqV0iQukmcfpJ-GtZjJeSnoNuASkWTgRL4IMd8rhGHVgOwKnKaCrhEssauidXZYsqcmocXJdw9yRpBCVNU9ibi45fUq54xSfC4U2ZccueXErLCaM9YehU0R1KUlrIvkUeKBbOTgRrk+QFip6ByiAqV0d5fWDyEtCEhnys0FLErZmT6ALYsViAlRUkqW8YIvCJ2HJWSr1w0ql5fRMprnlgR1KrFDUtAZSrlVGLJle8N9nI1XQhNWSNeNI4Gr+qtOUmHqpVXl9BcZqkgCLKyhiy2wcIWurUv1VYsjVWq0hs6oWC6drV50TVXCO1XgFVlNIHvq6KMUnD9UIEjzAbJNG5zE1LikQCoC6KidxVPM1SUI3FX+pGBqknvsJIZkczAJ6XJ2L8sMmtZS1yvZ+Bww3BGQopnSuESHUISQqnhgXKqMJPhVeDHVQQfIKgnK49rxVfaxIM3ntCPNxVmgeVY2rmnPQc17wz0qrIfIu51hQnUwMctzXMTDF-iqSFpKdgZLZAsWaJWkCLXriY1LystZd2RpATZI1akBEZOvX1rka865tRVI2HtqXIna48el2UV3Bx1LAAdYECHV4hu1yBOFZZOt7DScps6squ+sESfqtVK6iXmuqTyqcKpXRFtQsFLVScJFDXPDSg0w2SLS1pDVTsJPzUaTaAT-CjeKqo2SSaNvSTNVuuEk7q1lDGuyTRpiU20KgYq6jfQCdgyT0JmEnCXhMIm3K0gwmuSWJsUkTLp1Am+DTtT404bIcT5bcLkFEUJ0xgPEDxXusBJZrt1OdPNWeqCDPwVN8yoTVctGXjL44wm65eMvrEHsEpSmpqhZqeWelZoGmnIFpuUIw5+YGwTGg1Fej7C7B0QiaE-3eyBbUIIWo-nrLOiqMgc0WoQHe1C2yKVuiGCLao380gJlKQWovBFvw3GKstynDXG7jy0xbCt2neLXbkS1PRxgNgfLVvVi1SdGOtW0rSIFyieAnwPEOpVVofGgzjCyhQLdQGWnJat6fq8NUVvlIBbaATWtCONtux6sw1Xg0hiNuWlJa5tqEI0ItvegAk7VdSqLVtqEDf5iA82vbSb2vLOFl1CyMDYdTJbbEDtUq4AnNtG1+Rpl6MxrW9umGNbttk2rwZq3HL8wKtReEHVvQ+FVLjRYwxgHUMmGCq0YdCJ7SqpDg7BftJ2sHUtv+0vDe5qVMqnlu+1A4MdRoInZdEu0OQVtLwptHdo02MBHtuqrFpznx05Qp+VuUQN1oRhORpRzK3uhircku06E3Kx3ssHC3079VXWnrfaoxb5M9t3CwIO0qnHMq7y-gMnSyHl2tqnhPhY3lvFsQbQcdZka7VqtpjU7qWdOtwE+El3i1xdCgFnRwTUkcM8B9A1DrrHQFSEb6GNKkA-QOQRq5WJdG1kq0uQ6Mudxq0qNaTZWYr+dIqx+X5RMicT7dSgVPizVwFKAZ6nzGiHyMBWRVxAxrGKgL1w5Z6QFAtaqARzqhCiMeJlO8K8TmJa6ydm7X3du0vZQYWW8XNXdOKhWa6jmky9uKzwp1Asjdw62vQq3933RTdj4BQBbs5znsh90BJQs-CVBRtNKAQp2AAE53wA0BfWpUV1pb6on2lSgEOZWv8DQPgTQK8uF0-s8cbwpNVj2zksQrAqRFKfoOMDr6bQELCFlVDQDv6QNZ3NmbYMf02AtKeTFQErKiBP799FINVC5P3TnQrA94HfDD1tm6i-9e+lyWAZDSaA59DW3fWpW91Z0rFalWxeFFrhZqsdLK1Dj3r71s4ZA1i-A8+CqhI6MWFzXAzYuzR2KbdbyRdhbpgjEAwN6ZdcOUDhCGMcRNtV0E7FrYXgtgUbRdpuMNDx6uD5nLYq+ERXnqWIyERgHwbFqgBMmJ2dUYOj+5P7Dqd4e8Iu1ABYtrAshqSG1HCqt1TQeh6Vj6vXjODoOTg-2GxqE4idMQOmtGK6BvX-IdN267DZRro0CaD8mLIA-7BUNqGmoGhjtnCDuA6H2ZCBzAzaG3AGGK9wk9sB4bGAWGDDXUBw87ycGrqegeh5IykfvAmHUoDAEo3eE-0JGtKiu3lWys5Upio9vJWw8jvjEJ7tgSelsenugj5778TVXQKULoOYszscqScerrOF2Jdm8HMRWVrtjDA6Ax4NVDlDA1rShDIhqVRG3EPXtnl0hzg2Bt+IKHyee5LuGkmGPdH94Yxjpa3qeFTHPN2ZW1PYSyIxRC01xMUXKl1HyBJA4TDeMc2uYcGOjOAg6K6Esx2E+CJRQxNnp2qDGPBVxhXVCLTxgDdoJVeVVMdu3MBy2HBiFgWMUDpyAAOlgA8Ur1s0wnfAF0V8Z2JvK0VQSKZFf205wj1JMjlgHYN1LsT6nXE12IJNEn+V-eVw2ScBabjdohAdMudAy4iFhToAAAF5R1jABJqIMSb5PknIT6VTQNKZpMuQ6T24Bkw4GLQ69+obuBY0sa3DYmeTPERUwKbGrvNjs3xqqKUG2KkBti5LTCBC1oh4AWT+qk05jJJNkQlTlp-Vjadpx2mp8jpllpqa6hAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd6Xg84MPgzBsFAcCIMg6B8DwYuKSo0G2QCsrKM30VSLIChKMOkaxMyCVhAA-NYxKH6EABcCzSeU582CfcgZAdhCLG+SLDra4npZJN-MoMq8mDvtYK+AV-R9jXOBd2B9ErWBPovdKvZAwQOzBBcOytQAAKAaAEBUgQIXkgTCW+MDQBwOtFBJcoFkEbkITRTBxCcF9WIuaRkRCYGkNCmaGULDaHEDXlghhgVgqNFCj1cKHloFsIwWQwRaVQ5ZRXrwwB9CFjKTkRFeIWCT6a0kPOPQqjuKgj4owJOph+hYOISkVRltyhmIsXYmwdCYEMJOgtVhiV2HpRcWdLxX1bK-RsRgxR-CJaP2lm4woHiLahJ1pZRxiUGFGQke4qRoVEmxKCcoiI-tKBuxocqTRkpFgu3UvAzQfE9Ah1EZldRpjAlr1sfY0IZVJIfwEl3AJAClFOIwYwZgawNoAFViAHRzgAd1hHCRkqg8KgAALSzJSRoWyDka7+3UsIQYXcEaUHwKAPQERCKUBYEI5QYxdHCENPTFOhTikFSOScs5b0KkkE2fnYmNhqgYLkLIcQuz9lSD9CwRY1ASBdHOSQS5dYbC9g7oLcgxxFllOeCHaxFyGmNJgS5PixAuir1WLQIUehzEYpsCHAxvF+LPOICYdFJLiFd1pXSxKlTeH4q4X0C5HoUj8ykNZD+egiJwq6RYk+fLoJjDTNivogq5CmGJdg0AoLWoxE6FUD5XyflQusN4PpVKUxDJGdQcZBBSaU0WDIOZCy1n5g+Z6O8zTFCtL0D1Og-9FFXLljnPOBcXXCpSCfJmQCr7LFWM63e5TIbGPrvnZ1BELpuvqfKmwDqoI2gEujb1AlfUJtFjXeBvoUpCNoCI1y1TxHpLXlcnl4xGAwVKcvbqrkCqdA6Yov1ETEUNrqqIgt9BW18IsVfet5TG29X6v2h2pN80+POjmq5Oy9kRHJpTam91XEowRmEL8SrIbEFVZiT58gfkLv+d0KkGNvrc24SLTdiUvzDuRXXGGV6fbxoAWq9VR6LVauhWA2uUbIjGFTSOBFxKH0VKfVzQlKN+jvrviewyjpgOPoA8SZDkLiVfkjZzPwyGP0pEPd879mHNLTppq4pNV0cN+ItCYt9ij8NhFqKEWoaFxYppIJwlt0kS6YmrUzPQPH2331AIG+JoAQ0+EBAAKk40wvdHRpNGyUs1SScmBQKe0kJo0ABIUIdrSZ0DdsQZEhB+woM3CYzdCHN7ke8ShD1v70ygGeginxz7-HMkYzMDeSggUrpnSjYlAaK7Eqvs7WURVjOmfM9QxoAlsMXpo9e4wF0aWUZSEZnIMWqFXn9HobRM6MtMo7klrG5A6MAUY4RzVd9q2INLBZvJGi7EPx5A12LeWTPwmrO6MLCw8FgSazU4TyS4qDdy6gt+9sk1XyZtVgz4t83awUZWqFMLLYIvNtYrzmIYWhPUAwI4Lnosgs66ggSlsIShBhep6UnQjsqehmpkE8mW0He+dd654HLaMosViyLShWXMHZXoqWh3Bh3bpA9nNk6ltkLSeggBVbNLaLFTaIlGLwPOVLWHGxxXCidL8lOshnDoMVs3TCj+CLwNk4tMhidjHOHTYZ3TuUPX3x-3vOKnNjGvwf2J-D0KE3nxQIp1c5nHP37ir0CLghr4pf-j+9q8Nzw5fDcgvyrnADld1NJADO8+aOuTbF0j91ULJdfwZ8b0XlZFf48SuBm38vNcy+14o3XcHrhDzeiPMe7BJ5cBnmgMa88KTNFrc8PCm6vwzJOMdqII5BeKW0bo8l9h+KDF+3rlHw0eTJSBSCnFOi3pGwy+noxrrQDZ69zXUBhfQUl-BhUmPvmFaJg5SmQFwLG-ziDopMlOYKXGJb7n-WzVRr4EGNVLOYgUXUDUqPqFX4RqtQqYMDqs+IZvSB8oNlhL8Ct7z9DSfgwJrJ4pGjpD-LJUWiP+P-4gJ0cjmU7fxk7dEOxgZx-e-7JTJew71lx5ysmv3FX7wpGfwlVoClSAJtF-1TjtlgJHFzUNzIEfhpF0F333zhmR2Xz7jdFrzvESx0R4meFwL400h1EIKnTQOoFkAtnWVILnXMH0x8wbEkwqSYL11FBhRGDGGXSpjxRByFARXmzDwlFT1ILEmrCr1aXgIkxWDWC-lkPFWriINIOmwS1IKmFYOuR1FHlBHbgMKeGQy0MMIsF0JtmcBdGMJkDhwXjwmxVxWBwJR5mUMGGtCrw8CpH4PNwoOGllB0BGGkMVDxnjyUkCOCM8NG1CBPg4MkNBBCMyBUM+yzx8N3xiJsCviyF0GCMVzxgAB4IjcjhhYCLp5U4FelqApMAAVDIUAYSYgOESUfOdwWjFzF+F2SgToK+QEUAAAalAAJxsEMGiF0B2StmULMEGOUz6MGOGNPiiBiB0AmLKMNHlSHSqNqPqPwBkFGRaJ0DaOxg6KKR6B6KBAGKGJK0WLGJWPwEmJkOmKBBTEuIWJcyWPGPuLWPsIpEfmoGflfkVwZ0V2YMxFQOUG6AyFEnIOZUM2MySO+Q8MO1vUKH4wrgRPKJKzgV4UhKLkx2uO1VoIwJ0CwOEJwLbWGKvkV2OFOB1HyMyNay0miLeKpPhJnCmMGBdGiK+wI3gz+VXhpIT3OAENJNcPf0cxSB1WqIRP1WIHSFBVE1BBtUKBq2IzsRhVsIRWINsOdQYxIwbCy1yFsM0M4MMN1xJWNKdVsK5RVIPX8JxFXlxOhL1LY0Ukt2rGBK-iRLkFBNCHBKdN1LWzvjvENIxO9N4zsTRKFnpIy2xIhL+NEgWNOnQOWNFNB06QyypK-kFK0hjKZRPlkEtB1E8O9IZPE1DPZMeM5LdG5O83VT5L2QFPCL4L8wpkEJcPZRRMlK2JlKBCGXlJxUVKeEtUlHk3sh5KYw1TVIsQ1NIK1KfR1Lg0jM0lDONPyNNKeHSwJNJQ0KtO0InJYztLYIdJxITMDMmh93Bj91YAD04Gnl4AwHEIwjuWOSoFOSb29CpXXhMguAALig2SBEOVfMoFOXAIlCAoeUkCORdhfXdguV7gbDkk5T0hhQgrfMeSvIRTinPhug1GUxsA1HsS3MsXzz1HwusD1CIuVxukk3IoUNWCopwvz0PDosPEYsKBugFlKGUy4rkGIWIrCBuiCjoBdlUDhGU2EtEuaJgQEqaXzylMYHIoUrsVkuTXz2EhGD6g8DoCNg0uGC0oYESlUusBun6LopsD0DwkGDhDMCOAAD5QAZlBjpLjKns+hARZlzLrBLLrLbKHKZkFkXLqL88lNBgUgfLQAbLjh-LQBpNIrrBXKbpgAvK9krLIq-LHLQAwAgqmLH8ABSFKiKqK+yzKvK+K0ARK-PePcyoqjKuPU4Gy4Kx-AAQhOBqrSuKpitauO0atyvcoKMKo6rqtACKOsF6o4vzwKKOC8tquisyqmrGsqsfzssGt8rmpmQcsWqavcrsumrCtCFmpKo2uO3Su2r0EBGapSsytCBKusGapsGj3PghFQuiGAvfJDnyOODvmElEg1EGDQpAowu9GJhevuXQo-MrGoA8AACsQwKsvrEofqqU5qaLXqHllMkKIVDRzSbAAb3rfcIQsBQa3qoD0xAxHs4obod0VUOhlNqaFNXLty5LH9IBiBd1gpxKwrWb2bKZGamaTL1KtB9LYBIByK9LJARa+b+abpxaABROiuWqWpmm6AAOVUBVpSrVpVrLIJOer-TxtJpLAxmUIRsKCRt2RKv0JpQkzRvBo6xBv1ttsBt7SNtMNNpSHNrmqQuxptrBudvtsJrvDWRfMgvBWIFeRJMPHkODpiEkCVUYDkDhFTOhtUDUCM2iApnxMaQNqgqBSyCFDgohRxpSATg70qDCEW0UkLJfjTMJXkIB2LyELFL6EowixxT0Bzo+vcKuIJJzuN3pOLtCDboOE7p3yhthooCrzeN9pJpdvATkMHpsBbJFKbs7JQr-RbJ0Efm8PSlXpEOO2rtfj3rhkJsvOBqYBvInjvO4EwCfOcElQjAoEkHukMFfGEkYBlkG3kIFk8G8FbGjhbC-vWOSTki5PDDPFAk7EuMBEkDmPeNuNWLkiAZiKviQfAcfFFlylYGEmpgMT4iKg+MTmjtIFIHcEFmXgME2RIYyoYEGL0FUBIZzMBD6JPmYYVVmMuIYdICVosWYeNluLUNJiYnIEpl8FuIjqr1LuEd5osB03tPmFGOWOgfOsuMBRwdkDwZbSRqkdmEpgkcuRmJMEBC3xtvsBXSMRYHofzm-vLiFgThiNYaZkBDvgYTinsa2E2CwVPQExdHsbMCCC0l8esbMG6qBCPnBDvhPn-qbHcfCMBHCfMRPgfoYctBfsrHfplnsfMSvlPWyVySjHce2HlQeHREqVx3kT8bLNYZUcGOkapgseiYOHaUqdePsT6LgaBJ-kSLKaYjxz8dabsXacuLqfGG8EsbkmaeCYMflXBGccHVMZEfUkBBYojv+t0fqbGeAcKAYQ4KyeSTqfOtosGDih1HserJbD8bWbMY2cYBYBQYWEUdiD2Y7UBAAHI4GE5oH3mXH4HljVj7GTGRn7pGB1JgWoq8CfyBMnhf6fAdQwWeHGkbochaaUxqjZic5hQ-ZqRvBMWrJBZdotn-UFnRG4WRwQXraXR4WrnFnRnbn7mDnSXvBGqhg3QqXiWqZ4WL8JQU607SAM7LQP4CopZMpY1FgbG+pTicl3YeoHG3Lzq8nA5BgemxFcgZXF7rAkaeWqQ+XKAKZkMhWdpqQJHRXOwfmSmyCCJZWbpwmnorcun0QZX7meouWxAwX5Qpk8IDWRWZX50-kslJX8mPJHXHMNSd9qTjs75OnURumd8qk8dHW6yXrhXsWugu4EUka3X4QPWvWjWDis1LWDy5Yu7qwmHaLIn6LYWEJCJk3ZBU23lra5Jq3DXa3M1TXxNi3FQmGWLy2m3MoEwu4fmO3MgmGtX07dWBWwCe3FCqVvRpt1WGiRI9BR2dW9XBXe3c32lHX6Xp2h2fSbaa3+363qspzflF1XBEjg2f0V988bWXM7Xo2HWC3j2v1HN70CIFtXT45sXGBKxyBc4vA+oOhgwDgfWIWcQzULWxWmH+QcXjGSZxZ9hU3v3KxrFQP5GEC9A38KsTWLywAi5vBNwLhQJ-qzNJRBz2hyBcAwBR4bzSBhgRIjFQAxo9lZBFIxoQ8Q9AFVlqQpY9Ajo4RBg7A-RGAOgIzrleKBUQxqjROqnFUcVlUFNsmME5p1A+OZABOtIdQhPpO0sdaSEtJtORPMS7FwsePSA1ONOXRDOZOfiJDVAjoiOsg9BKc-0PtHOLVjsbppMWhQIlMJz7Un4X4LPJAeBBh+PJAOoJTQAYU6BCAPAfOsgEV+RePwvQuWWWw3OEu7DC3rAT1Yv4vHwcz6bOguyt1NJiuOg6zrBVSoubs-1rOkuzPgv+BzmiQ4usubTiET0GvwiKvSu71yv5Pd1907Eauf1iEvwrOpOROcumM75mNbU-S2Z6AcXgu0vwuWvuc4CouYv2vCvjtkvzPUvWuwc3Z0oOvZu8u9vQIiuhuab+uRj7ALgMvwdzvHx52UgOC4pjuK3mvvTkCEX7EXRMuMHOvJyX3xuwgYUevRy6AUv1OIuTv8uLuquig-kevTg+vHM9NChCznu2uCviOsAcfe7p2OCNv-u7CPvGkZxrushM5ieWMT3IfEo8epvhOOhKfZvDzEoFvquwTSZJKtA6OCtSuhIu3AvFg5nGkH5JfKMr42A4mYhZAf3peMUT5lecXitNjdUWBZTDVjV8PUERysvlT+fjz5ghfyA6P17nMjfCOsv037OxgsvnOqgYUKOEV7ff3Hxzq-iAT8xULSPjtvfXxXfARNfVfA6NZneLYYggpYhBsuex95gOCk+tvkCTGPB4-UzBs9Bs+cVlj5CdQC+E-Jgs+c-MD+VS+i+U-rC3Qa-dB25G+STY6dT0-rS6-YfeOO-tCTGG6Dh0+P4lXtCu-4jY+W+gCKEsgueR-DCXWFxwwTWu-VpvZRWUxwnbP7gybGQzxykeo5+nhIc5Si8uhFxJB6OcUshGBN0sHFgSlLWoubNyEcPaunNDBq9K+dAtsv+oKTNFyCIh-Owqjwt7OAW+t3YMMNw6Cxk5OA5M-uGAv7Itr+6-JgIYUzLRci46kFvgzhb5g8meL7Z-hwUvb6kcQHBP0Pf0aY4dBg5A9SC6C3ao8xuJA+YM63m5HlrkNAk1gv3gbZAWAErc1MXmDBhg4QLaOgGl0EFiUEwdASLmBz-xSR0Sog2VuIOEFdApBznH5hwTpLVR52znOaqMR4F8DAcSgkQVEH0EzgtB09AkkYJUEdQP8jIbwFkFTpgQhBIgsQfIAkHWDxWAmBQeWysHSB+Aag8TBoIQgKDtBGVGIEYgcHvkrBegXwaoMB4WIdBJVPQY8Hx4GBqoKBQzCYJSH4AwwRgRdgBTE5WECAuQ7FJEDsCPAxG+g82i8hcyYNSYOQrQKUOSGWNmhng+QVkLublsxM2zcQHYITrZAohbg5QVnRgR0kOhPDRIQ5QaEiNZQZQngZUJSHIRyhdzDIUtkcKA4dkLtXoHDHT44RfYqAzclcg2xf8f+hfTAm3ykK995+6HT-mcO-69c7uinZJAPyn4QMZ+oAPYUAO3YzCnAkgDSiL2wHV8v+1tT4QcOAGV0KQywH4SZn+GlEoRgwUEZ3xkEQw5ycTfAFqE6B9Fy2gIdEYSExE-MPoqneER8K0BmBy2mpawGa1wRL8oRZI54esOLybDiw2wlhMSMRHaEqRSwMnqSI8YLAOCew2VlCKMQwjhepRF0LSOp6FAXQAoyUZ90aHeARR1vUojqAlEWCMUOoGUWqMaTWl7mOIjEbTS4HEksgf7brB0MsryEOCaVSYaJgrhb976owaWH1BMwwcf2BTZDo0EGButiRbrJEXtj-SwiWosXWVAiiFEKi-hoovQF6K0CbJ3RtAQYFqMaQ+i++NwgMTKnhRoj9RavY+DaNKA-MjR9gSCM0IKyijAxQqLgYQHoLx8XIHdHkciIeaENKBtIu0aAAo5zCKh-Hdbup2kF+jnMj2CjhZ07FwhN8Nwo7Jj0eGdB9OTMBVHQC4FVjPW4XFEDWNrA9iP+-HBFCqNJF85fMi4CzmYFYbhMFU-HPSMaNAA1EAAErLUkAABBcAOAFloAAlGopAAADyKtZAMdjEI1xdiSoxhCrxhACRQxTgL4V3wrFjA5xS44UbK1bFzj+2sYvtIBOpQ-NWx6gdKC6P-EmNkJpQX8Ti3iw6C6x54y8TeLvGPiXxb4jCU9xglIc-xuEhCfIVbFFi5xkgBcZVFolYtqJtAWZM0JWREF4+2E10flgQnAS6xzQnRLkKRpJo9h7gaKsVjo4hgDoToviYQkkl68FC0Ir4eq2-F0dFJNE+UUBLBG5oTxtaVcH6BICMdjsAABiqA1w90oycqPiz4EBxKwlAA4DHnskmS+hCKIyVAVMneBLiPALcQ2C8kFofJjAExtohsnkI3haudBsR1sD2SFWTkjoBaOnbxNlMHBIKQlNfDOSTuyDLgXYGkiRTHwUgGIAKnxYudnMGUgNoR2cmiE9idk1cJlMgjOS3eAvcWCYLGCjJ1AMsNDgNx-I7ifWwWBdg5wil58D+cUhqVVMSk60dm07GVoNI4LtTJAnUuQDLCoIFtZRi05aTLDoEFtppGCd9mwKKGbSuppU+nlwODD8DROyIVVoAO5zT8ZI+kq5HeGOkrTnUpXZ-v1Iwx2IT0hIsoOn2y5v9uUfcSPCAM-REZAZUPP9B4FOFl8-+JBC9l8NBlAyGw0Mh4ZAJpoLET46IojAsSvgvSZYgImXB4DwG2kdMjA5cj+SIF0j1eQwOwB1JOlUFLkATfGdpGy7oDsZsgBgYdLlgsyZWXAgflBUUDApiIoEV4e9y25CSVx8KcAcdmwEXDEiVwzcoxhPTgDQmWPSHtumIATFwxSo-Pr-yBF3DraCY6wNaERk91quJ7D6Uv2tCQptyeAaTA7LvjHC7hMM1MvLPRCmz9JqPL8KrLHHoynhIqOTtrNhFiyie-NawITIxy4CzEOmWOdYGtL9YXhQ-dQIjIPSWy-kF0yLFIA8iezFZAMlgvbMdm9ScQeovEQaLTkQ86spGBkYPxinvDPZ1pD9nfSDn3EdZIvRYGl0WCbdfRoAsEUw1xFZBaa2IgefiPEy-SO6ncjqOSNIKcidxHc6mUSwFmbDhZNIUWR3P+rdyOR4mCIHPMi7lsl5QsugqvKc5dz-qaXTvllTAAOzpMnIjgvPN5EHIyeU85JCQGDkRjxR5g7cuKI6iyibAr81uSHJVGfzw5iUFUT-ONmFAdRPzUuYPLg6fsDIvKfFr4GSzLje5q-QAlBgtApgvJYFIsLQFDAViowXk4vgAzKDEL24QU6xMQpX62MkI6cN0OQqtb551AnUuEF8EjwRNxMoDBhWVNWFulTiVMXCF5NOkPSoxak0AEmPMLrY-0oYbICZi8meTZQoIQqaBGKm5BiFjGW7FrNblpjQM9if+VTBDliLhRv8yGWgUIUeRZF2WYhaYtCCSKlZNwgxaWODEZiy5WY2IjmLkAEjVcz9MlupEoUL51IVi+RWVI+75iTRbYyxk4rTEGT7Ap4i8ZIHvEDIAAMrLXfGeKrJRBewFpK8kATdJ4dR6XWNAl-9gweECCQqKgkUT5OeEBMLkvKVOB7mmE9KHUvbhNL6pzEPCTcIImJKUlaS8iZaEontK8l0I+QiJOHojDiE9Es0YxOYn1LqUtimwE-nxacSOh4IdVlMuWHnVb2SyrICsuWHghmxwdOpYJMKUjiOhokrQOJMaQKKSqxWYOkIqQVeT-q+S9SUmk0n6VjlLy-Sc2JpB50xgYLSMX4q5HiK1y4wrviJOmFXLIFqIhysSjGVFJDBQwltBll3RUScJ+WYxQqNeUkprRRy-FgJExV6SdRuuUFcsObEPpfFTLQFUyyAGRLypH-GaMIART9iIO1K8limApVgszecsRlSQAgEKdOg5bX5TBUpUgs2VGnUlTwPua8rcgWHAlX4utqSrHgzYiIHON960iaFZQ5Yo2NJH+MAgA2JfhuNBgQiJQhgaomMDQlZSTM4Ey1bQGsx+s1FpS33raupSlcYUa447DMoR6LiXVs3GFKQ16T04XVkS92nSg2XzD+ObE9FcQD2U8DuVoQRYGZgs5Rr+JMariYPV2ZwTBg1ogNflPrhwS6VE5cmbalZjiwzVdgdpXDPAnULpFzmBCQijTAEL5EGizEM-zVVrz8lX0woO6vU4IovVVMRcbRNR7+rHAeaytc0NDUkpw17Y9TtguWVcTZuiavoJGrxa7L01xKdKfi2zUZVc19OIKa0KLXM87S8CsQIh0rXVFtJHkX1ZquEXXry2Z629XBPuZnqXV9DJ9SYxfVwS317E6lFcnLUWqC1sdG1e+qlmgBMgaK1NY9m6VESHxT418eAEYzQbbxsG0iekszU-rt1c1cDZevoATkvwgIf4nAtWRAd2lIizdP+srVAbqlZGzRX+mw25KEU3SpJakoQ2YgmNvStDdOyeV7IMq9G-FXhs0gEaDoRGuvFIBFJphoaTyX1JqoEy+oTGxBCTdCFFaFC5Ya0puCYwzSKaRA+bJuF3x2nqb4OikJdP5ipjCVJNzeaTXWIk5ybDNFIYgmZqU2WabhamwRuLAzQObtNym+Qvptc2KQ90OgWyF0ABVObe5Lm5sRJuoAlStNk9Wla0M1XibaA5mz8tFoqyyslVLAH5hFpKmabEt0IASClvjQE5OVfiiDABhS2Ydct2m9LCT23Lpbc0S6+VjilmLFamWr+RLZFupSZLBeEgaGh1piE9a8tsWsFVZrE0ma1wA25vB5snqytuhKQEBH0MiFOD3BEyzFD4oBX2aJtFAfrXQCS2pahtZKmOeFQypma+t7mzbdhym17bGeJWOrV2Aa0EbFKHKtbX4oko9aOt0fcWP5uXgMowRdK8FecshWLs3lMK67YUGs3PaqVX2-BqKvUhbIFlrPZYsaMLFmidRgCGrdmPCXI7NlCcuOXNgriHawgdW0UPdoxbNaIdILZTFDvBF5oalpDffo-zrHgYxpm9beiIg7JChmxy7flqzjeT7apV+ML8BCrElA6LEmpeyuYhcghgzMzwZXn2D37PA3ipzetkANMWy4lWflCwQpTV3myQFgIA1GMmcBQi7pI5OYsTzjmhBAQXO8dshgOWydMdpo7HVvOURMxi6ROyEPdqt2rswCT2peHxBh3KZPdE7OAlZJhTCRPWklIQQigACcVQO8BHrEqRKDAt-brSJSEGRKoKRiXwIMF-WQ9n+XgkkFFxq4npnA4RcyQ92sDx71IrzV5imDQB1741YM2rHYkr2UDDAJMlIJXvT3BQ-6Ik5CNbWcALIZ8rAnnjYE70iTu9awQYGHvG2p6xKhyuQKwvYUwRpQ5qvncqq77pbidSavkAvrEpL7HoQIFrRTs2S762FNaTPs3PXZSAAVMQJdR4W8DpAaQMjWtQyoRSZtJkLQT1lfprHGIZdxAJddAwqAHLlZfyU5IwEf0c1QAoTTaHiMZDggouLejyvMn3bNsJFfi3oQActSeVy6d8FvUCxK0zQjQoAMbnz1Pbfro14wf9haqA4tpCDpXB9fZIvWvrP1P6i2IEsjHt6yDYBiA5TCgOnAYDORYUOXo+ESApK51eZBIdh7RrJQNBjoFgYkMihiDzPUg8Wo72iGhB4hiQ8gbBawpZUDALQwodm5j6zRcK85VCu1Eg7ri+BqlWqNl2Bh5dkYlXXsmUDq65qa8eIZ2j90AqZoT0RHQWId3zCmYVWY9c3OII5A6AoyP+rfrMz0r4UM0N-UCqzaf6c2eS3-fsn-2kcZiQBsHrOVBCPYj9oLXw7oCR0BGKhQRgTZC3RK2FjORLYENQAXZKilGew1QM4x0zBp1mMO9I0bQcM+GtI1R62trsPxuG+FFIVlT1PE5SAiBlrctmpqdY9kxpeu4ZAbv2m9MsoQwOEOalwX31oCtGZfiNq5Gho5pySfTXMd1QLH9dRqZwHGzWNyqVkV+zo68zQl6AQFoAAADpYBb1CK4vH+x0TVFLGLuyKr5UuQYoa9QIbg3QV2hVB7jAKx48h2eMgL3jnxy6ZQd+O3MaxoaQgB4WtoacOCmJ0AAAC8fabxhKMPRRP4A-j2ujToSeBN0pQTgIcE7IHzA48bgT6cI5EZ8CPGvjXQH4+SbRMdVjmzC2Yh4FmKkBZitNQ0K8whB4BoTJWzk8iZ5MUn+TcrPkEKZFNimDldJkUEAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+aTlOLM8PUI3LETLKsehjwlNgAPxabPiUAFygN4zA+D1KYAKrEAdOcAO7OD14ViMPu1Z0WtB8djM8EeP-NSFPW8P3P1iLy6y+FGvG-UK-ixd77yPifVymUuo3wtHQByuAwDzgYPgZgbAoBwEQMgdAfAeBi0UioaCtkASymUM3aKUhZAKCUMOSMsRmTvwXtYYktDrBrweOiGhiUP5KQyAdQgiw3xImHLacS6VJLSXKIMQhJhGGgGYVIXsgY1zgXdmw9hi9cHpTkaWbMEFw7K3XsQIhUiZFQSXKBBRWilHKikao60xizymOfBY3REjDGUmIuaRk5QrHrxsWaGUHiaLOPYdIhYgVgqNFCqfcBHllGJWsaFUJaVQ5ZQIfoyRQSjHKSSRFeIXjNaSHnHoTJ3FQR8UYEnUw-QpFBJSJky2YiqnVNCIE9hRiToLU8UEuJ6U2lnR6V9Wyv0xF6IMekiWcgpY60sZ07xoVtYpJGS0hYRkYmFC6S1WM8y0mLIiP7SgbsYQdJUZKRYLt1JqM0HxPQIdIlhyGRIypjSanNUkgIgSXc7mpK2avdejBN68j3gfagx9QDwkZKoPCoAAC0kKZkaFsjAu8-t1LCEGF3BGlB8CgD0JPaILAwnKDGAU4Qhp6Yp2OacgqlA8VUAJfkt6VySCovzsTGw1R15yFkOITF2LZGsEWNQEgXQiUkBJXWGwvYO6C3IMcWFFznghzqcSh5jzqkuVvl0QhqxaBCj0A0lVNgQ7FN4vxBlxATDKv1Y0ruFrLVBOuforVfi+jEo9CkJ+6yPhQRtHoIiUqvnTOsgI30kCPG+rkKYPVa9BWtRiJ0KorL2WcrFdYP+PgUVAgBSAggQ84QjyhTCpF+ZWWejvGVF50FmL32LuI1JpK5Y5zzgXHqF1GGLyZowteL8Z6UMuZDMp9d85VoujWohNrGllsUK8n1zEB1NoIsO4Zosa5qODcQVK4T0o3OSQE2tYr3VRBguc-B3VXIFU6B8oh-rVmyuPXVU+q7ynmsXVU3+Pbngnt6v1C9DtSYrr6edEd48MVYoiOTSm1N7rtJRuPGYmlo2Q2IHGzEbL5CcuAzy7oVIMbfW5v4kWMHChfiPb2uuMNcM+2HRI+NCbUMyDreK-00q+2cz8F6kcMqGnEflaRrmOqUb9Co7Q9DhlHRse4-2yIxgxOioaV+Zj2GpMCOoykFDHK6PJsI5pP9NN2l6tVCxgZUD4YCdScpsItRQi1DQuLCdkgSC+PPdJEumJ3VMz0E5q9dD23fK7YCAAVPZtxiGOh+aNkpZ5ihAsCmC9pDzRoACQoQS2kzoG7YgyJCD9nMTCR9pLhOkJ070lC9HrASuejKvpZHBnMjM7BkySgWAUypv+lGDS20VwaWvZ2soippYy1ljcOWrk8Zw3x-DY7LWpZyP1sxg3GgCTyf+vTtrYMGaxuQcpF1M7IcTep2h7qNEDavNEqZ1TF5xUO7N476X4TVndJ1hYIELyKIOSs6ZcUntgWy6+W774Ox6bXkzMzVnsEUhXXMndRDSUSstjK82dSauYgleMt2HKKt9YFUd7RAlLYQlCBKqL0pOgMCOOF6GklCd0nPSj9QLKyVcb0JbCbQS1U9aUA65gTrClS1p4MSnwW6CAZ-eLFdyzLISNJUJVQR0PVODE7q-VDPnJgNucyZntqJHC5wT4oLY2nG7qR4x+8FaZUM98UKeXavF1md8Xw9KAi9Dm4tHboZAjANma-Ep5LIubGfau9ozZpLbe-f4RWvQfuHGVhD-+dXDOI8vdfA7q39zaGCbZdYZdNjLuR+yb7RdQegt2-l9nhPkFo-1MSgzkv33IJJ+VIB2PpnPR4HgUwVg7BUFcAwWgMaoODJfEYDBPCj9NIQpOKTg9MhB7izyQUo19h+KDCZ-nvd10eTJUawKtddLwZG2W6AefpTBegGX2nmuAU+Vb6FfS-AI-6sK0TM6lMfpN+Cp396IOilDU5mNWUq5d-9ZmpRp8BBhqor4IY3oLZqA1J-9Jc19oZgDBgOpwDs1wZ2dlBHUdVb84DhogDWorlBgJpp9FI8lA0w80xb5awXN4C+hAQyCbQwsKCLR24RNYx5cBEAD2RTIvZH9w8K0Ux6CRxP8KRBCxgmCPEOCcCvI7Y+CbQl07xTpxkaRdB0DMC4YJdV9CY3Qz87x5N8keJR4Dc6tpCZ4m9WYRcyAlCtZkUDDAMLAktjD5gu1EFQR3dIQJURgxgwMqZNVOchQZUgc+99ppdCUDCxJqxj9XlODnAu1o9IiK1q5dCDC7cBIXCngpgHCyUdQ0iZB24cixNUiDCMiAZHDnAXQcitcwc8J1VVC-CeYhF4iOUl8qQvCjCyUshdARhwjFQ8Zx8lJZQdAujrQW0zsD8VgfBZ8wi4jBhhin0PAWj0DPMwg14OjBjhhujMg8YAAefozo9Y2YvVVRX5f+PQQEAAFQyFAGEmIDhElHzncCgRBR4RdkoE6DXkBFAAAGpQB98whDBohdAMUrYGizBviwsPjvjfjQh-iYgdAgTZCttI0fk-lzjLj8AZBD47idAHjsYniTkeg3igQvifiVsbAYTAT8BgSIjQSgQUxiSoSySohYT4TZjKiJRxlqBuFeFo9LchE7CxUFD9FugMhRINDaE7wpstwGiZjacCM3USEpIK4NiOUljGlVEhSOTRIGSmlLDqBlCdBajtV1DPkGS15o9jhTgdQ4jVTHlF4dQDjSSmEQU0sdIQTBgXRWTati1Ep0NCELSJ9zhvDDSnU5SwhU1lSgF0hBVQBpIi1ChVMk0GkJUciZU9CcjTCiEvT5SGxJSrlki4i8zQRzVtTQh8ip0Ki8d4zkNqCGxCFhSi4My2SxBg8hFeTqwZS5B+TMRBTlB6zRS2iUgJSXTpjjcVSSswhXMlTrT991TezNSFdSTFC9TYTgydVNd98zShF-StJpyVtF5ZBLR7TedRybTFlcyZw3Shg3RPTaE2UhNuU-S+jPCGsmtVzmDxymlji1g+SM1iAoy10YzQR81JRdcLQ4yVNdsPyGN0wmAgLSc0ywjBNGkvxcz8iCyKj1dLUyyEjCz0jKyVNqzSjhk+zGy9IW83oEEkEO9OB0FeAMAgifRCIqV8VCUb8RVe578zJeD01AQmLqVKACVhCJQ+KWLJAqUXZyN3ZiUOKTDyiRVJoJURKaVWLwYScyc+h34boNQwsbANRHlizCgbo9QdLrA9R9LmcboX4TKxjVhzLNL19DxrLDw7LDL18BZSgwt3K5AgkDKnl-hAQgo6AXZVA4QwtArgrbj2FfKwgbpU0TLU1GlorQgbphIRg+oPBoF+hUrhh0qGBEokqbAbpPjrKbA9A8JBg4QzAjgAA+UACFb4yKgq6wG6SFEq6wMqiqqq2qiFGFRqiy9fULQYFIDq0ASq44bq0APzUa6wJq9S044ANqrFcq0arquq0AMAPq+y-ygAUkWpGrGpqrWu2umtAFmpunHxKv2tWrH1OEqv6v8oAEIThLrlqDqJqnrSc7qtraCti9rXrrrQAdjrAvrXL-Ktijg2qrrxq1rwbgazr19qq-rOroaIVaq4b7raDqqIahrQgobDrUbScVqMbTiHrFq1rQhDrrAHqbBh934IRFLcVRKQ44jjhaFhJRINRBglKBKVLvRiYGbmLlL39KxqAPAAArEMDbVmxKdm01aGyyxm5SsLOSF1WasIbm2leBCELAAW-i2lQ7NSuKG6eDWNDoMLE24LNWx0mK9fSAYgBDYKUKoau2h2ymK262wq9fbKyQWASAEy723292j2uawEb2gAUWsvDqDo9pugADlVBY7Fr47Y7TyPb6ajcNaxDGN5EWajg2aRIrlobsin1M6H0+x+aM7Faeay75FXlpbChZbMVDqVbDQuaq79bs7sZtbEV8SqZS7hViAmUDTDxojyU5AqYYg7M11vBx6VyxbVA1BUtogKYFyVVS7xKsghQpKRVMLCgE5H9KgwhvdFIDyeE3yPFR7Wdt9fCjSPFltus109B+7ICRySyD926s70wc63T76Tkesn6P7hbXxRaJaKBj837S7Lsojd6whnygyb6Qy9IPDzgdBxl5jN0Odb7pVSdT7eEEGdVtbyLVK29kEOA0FuBMAGLQAKCIwKBJB7pDBXxhJGAZZPtR6BZPBvBWxo4Ww2HDRaE7SeGkJrzww7EshOxiTARJAISQUmSKT1I5I+HVS15FHRHHxRZcpWBhJqZik+Iio5HE5R7VBSBSB3BBZ8EDBUUTHVqGBvjHcTHtzAQPjF4nHglwTiTjHSBo6gknHjYATDGUCmJyBKZfB-Gh7j996gm3aLB4saycRySdBJHTjiSX9tHZBdHz1ZbInZhKZwmSUwSTBARAmcmqZSkWBHd852Hy4hYE5VSXGmZARaEMkeRamthNgpEMM3MXRamzAggtJunKmzAPqgR55wQBGsUdRWm+jARRmqlF4aHjHLQGHKxmGZZamX0QMnZ8S9l3ZWntg9UWF5VICt0owenU6XHknvionSnvBynJnmUKnJh8mSTGkPiZGeSRFQRTVvQskPIen6THk3niTrnxhbnuG04Wx3kznQS9VwRGnqlO0SnTjHKh6277BwMyn+HvlJ5xjHm6n370X1JeLxiws4p7nJh3S3Qem0XgmbnGAWBlGFgEm8XxnAQAByGRhOSRjlpp2R-x+E2p4pwl+hkcRgdSe6MVqpxUoWJ4ThnwHUCVkG4O5q9fHIM2lMf+cEnOYUP2akbwHVqyQWXaLF69a58Fg4RVp9F0S1mljF25xls1hV0Vu6q8lsG1gl2lkV7wSq4gikeexe0gZey0INQiKWTKKtKV3ZfZKMb+FIc7VV7Z6NvMQYa5FXZJMeGB0IWW-1qkQNygCmMTAqMN6kcJiNk1lIIxURWNsIeN-y0Zp6Vsz59EMeRlnqX1iURV+UMFPCItnaakCNvLblHZRN92Ft+jZMl+rc0nWhD51EL51NpiW5Ftr0hm4t2QLoLuGVWWzt0FFoHt0NvtiJh55dueOTSd6sRxqy8ZrtHUA9zKBMNFWSIRgBtdh95lTsXl5mqd04QERy695gQ9t9xOT989xURxnNpe-N4NiteF013Fr99s5bbNhe3NoNwtu9ktrEgSFth1+D0DzINu19jd994HSC-LKSL5sdjTL8G6etkFRtud5th+fC0ABMvbbMnENt6s64PAIubwTcC4UCLmzLSUAC9ocgWBEh6h4YESUpUAMaLFWQRSMaHvHvSRGufkKWPQI6OEQYOwP0RgDoZzIiry6dAzoz850AC2zoDZj6dQbTmQXTrSHUfT-+Cz8t6ZFzkMNzkYxpLrakLTnTyllsVzwzrbdt4ImXFoUCPQceZHHndKaLrIGVG6PzJLmQULFj0tLhHhBzqmHgQYHTyQDqccsrQgDwdLmVTT0gPLyQAr11soGnRL9Rlj1IblOgcryrvo6zjoUMoinrrM1jyCjTFICVULjoKrgLmror-gYLokTrlrwbtrrFcb7cnrvrzTBsAbhpNjqCjj+YF0cb1rqsxKCzb0g1NmegfV2r+rmbjskcUMsrirx8SbugQLxzurub7nVHQT8R476wdDDr570CNb6ehDToDb+hewC4FsJr37mSEsrtOKIr+rrtO70ch77xx5F0OH9L7bU74bpMo3Vb0nar2r2bhrgwBb0CV1apdDEn04db+jRLQoA8mH+b4HrISpFn62rtNHj7injgzNlbGcanv7iEHnob2jPbv46Hw77zwz+73Ipb87giyzbs0mcKrQUgdYhl8coSRxjkrk2D20zhTknhZbNeNgaZmIWQRgYUX4xeW3-V343+L8vQFgIBQFYFPj7RYC9L8C1juJ+YLX8gHXpBo3X3gTrrq4kI+H2LqoCVcTmVKPysdL5FnLxYfMRSkT0nVP18dPwEZ3+3-MGuPJDwGIIKWIT7JX0ertGvjH5XkmcWCvtdFcz7RnSv2E0enUVvqvyYFAvv9vsPIf3QUel0Ufgf5vs2LvlQye9MhvioqQ+YMnxfoolAq+g4Bvt3WC9I5fmI3F8v2f-QbfitJ9CoiLhccMAdzQsuC4HguKbeEZhFS7ksKgfBJ-nIvnP8q-YxSQGTtdFkEYDjxNGiwM5A-HHLkdFwZbGXjDmP5w5j+YldLOmU-7r9ZMmkSfqD2DDg8OgM5Kzj-zfyLh-+arIAVWhTZFENy1DIuOpEn7y5J+tPCCtL3I5doqO6AhsF2j9BgDzWZbQYJwPUhfxmO-3KXmphl5EYCIg3M7tYEkFyw+BEbS-ny2yAsA+of9bfMGDDBwhz0dAermoJCoJg6AJXW-lwWlZEhqo4zHQRoK6D6DYuvLG9ghC0FY8sUNjKIIoOUEjxVB8gXQfozsCPB2eBgaqML2VYpBzBegjqCwUZAz1sgtKYIUVG0EeCLB0gAwcH0ZhTlTBsSUANEISHWCfMuLK0v4OWyxdoaMQUpFkAXpgR1B56DIVYIcFBIChh1f4i4JnDVR5CKWZwT4PwBhgjABddNMZzJTtCtAt8SIN4PKb1CfBjdRlCCg0akw+hwTWUIMMUGhNFBUrNzCMIZbjNvMP8cQOEMYAlCohcQ89A0itKtCGWmbWobVWmEDCVhCwnwchCGHbZrMOCaomzgxQPpegcMBvjhDzxL8xUcAtvroAQG-CDS8-MImvyLIe4MB8A7rmD1NrjNN+fBExFz3SFaByBRZGwf0O8DpZUqOvTvgCLoHH8n0Hw5EekXkHLAZhcuTEesRJGDACRu-XIvvxpGON8AWoToB8VZaMjCQzI3lnZzKCUjER-gcZimQzzYspA0AkkWYBhGPDt8zw4sK8I8Q8jqRFRXlji2niii2mCwLtB8PxYkjSkGI7XusRdCiiAhQSF0BqMNHsItR6IyQOSO4EGi36lqHUCaNtH6oKyvLQEGyKyBm15B+pLIOQDLxHCyqdfXFstVOExkK4TZZwDrxDAHQ+o6WfkPq1OZ6t7ejQQYJ2x5GdsvhhuGCuSJagddw0Mqc0WSN1F6AUxSIkCnbxhCDBHR+qNMWgKIpZiw02DH9m6I5FpD1hFbEFLCW9G+ihhHvXUdmL9TyDCAsgJAcGDwhP0tAUrZlre3HFhjQA4nOYY8Dy63dHOiQ-HEbjUridFxhXZcSxxQpYCY0wWUAO1lKDBI6A8gyvi5EkBFcUQY4qgquJgo6cZUU40wGCPqzQCdOZgFxqM2CQ6c9I3o0AGcQAASYdSQAAEFwA4AMOgACUzikAAAPKx1kApOQIjXHRJh8cqsYxMf6BvHajCRtIwwc4EHFjBzxo4-MWanGZzjiJD7BMUNlImMs5x6gdKBhJywoF6JpQPqNRPmwFD8J-4oCaBPAlQSYJ8E8ACxOh6USN2HErCbRLpFzjLhxEy8R92vG0TdWZYxoJChWEv9g4lfdiSpMkloinAuE0eisPyQdDZaemD4e4HGq-EIx0saMdpLjEeRzJnvMYqSMHo0iseqEnXnZMwn0BsJ6IgyZND-GD5VwfoEgHJ1JwAAGKoDXEQyHxyoRrVwQHErCUADgj8eKSFK2EyogpWdUKd4GJI8AXxOILKcGhymMAUCeSGKbYkfBwixGMkWwPFKjYCdkpAY6eDMzCxdoipDUpKR0C+5KN5BdgaSJVNAhSAYgPqI1nF2J71SR2XUgIhiTimrhOpr4ZKQnw17ixnBYwQ+OoBlhjx9eCpaAdtLayx8ZcFUjvk-w6lTTFpvXB7EqIASp1DxNlHwGtMkAbS5AMsHUC21NE2BHpz0mWAIMWAfs-O68cQYRTJRfTNpo08RvIODBuCjOyIXIE-xBF78BSQ8OwOtLBl4T7ymzYxDPBkyNJfSc0ezg31yKQ8JyfcQfFPh26E9LUMOf4f3yQH6FKOBklXvt2cAeA9xOA7UovEZFqZtSa8UGS9OxG0yHcHgBgewlqDxZduI3EmfVhYFijLUn8FGU9LBlvSSUfTPmT9O0IecAZXM2QBIOBk2wyiCs76XIOPpVEaizw-lMRBi6n9Oybk6HEbkwGk5aBQIr5gjKb7LcBZsJUAMMyZ6SyvwJAIEpaMLG0ChZeIisYEJsDWhGZLzKQWRyHbCjr+1oUVB7TwB+ZU5tCH4f3xpkrlnZ6ISOW5MG5fhMB3sqEcFgOn+zKSgctCdVMfAfT2EwckfqHKwDxZm51gBUQDNhHWzGZO2Jgdyihk9YpAHkPOa7KTkpy05iUL8K6KZEeju5Ig32VpglFb81GQnUcl3PV73CKQ5cqmFaMWCo8Ke6YoiimWmZNizarIqeSb2WLrx8Z3I3efixyKKj45PgHebLOvSb8xKigC2TSBi47yuae8igUKKxmLASu4os2e-L1KfysgT9Cnt-NtnrUwAqcvzPfKWC4sn5qo66ZAvxabzK5WI-UXkI9r6iOotc0IJgqtG3tcF4cwoLewIWVj2Ezo75JPPZHTz15-eOaaOEMyMgpWD+OKLxgtACEjWQla+JYUHFRgspPfZ9iIvbhFS6kIiukaZxdCHcxpmsuhDdHUAbS4QA+IQoyzkjyLxe8gpFH1BYXgzapxYlycmOdb0zEZGYwwNQxKHpYspmU2UKCEGlZBhpuQERWZgJzEAA59YjjI8mIWFjjFOEysWmFDBCKPIoYbILYrGmEKUg1Y0EUkPwFeLmIUqBkWfLWEdZvkXGL1mK0MVQEYC4S6bCItNFej7AXY+YZgvrFLo-xgE4CZBJ3gAAZMOohJDGlAopuhewJ5KykCRSJBkukYROHEuRfJTgfFhROnp4QEwnSwZWRO+SsT0oEy9uDMpYUCRR61SyQLUoaXCTp+FIEZSOPGVGsuleks1HSKMkP0DgemGSX6LklXjKoSkysXQSNZqSjh4IAIecu7GtTeFWQB5UMPBAzi9FEy7pbbO4lGTphpklVHYsOq-E9FuELKYYq5oHKDJAQjyTlT+Vwq3JM4mkI1lXCKsixZi-5WhSOGGSjhxkrQCCsKCHzaqDSY5SoK6DRDV6jyBDOJJ0k+SAlfktyaaODG-K9l2K71kgpMWor1ceK24fIMyVYrFWuE+cXr2+FG4ZowgGVBuIvhcrJWKYYVc60D5fhpVJANmdCLSHoqJKWS8Vs6zFUrDGW6q3IOIQ2wKqXWAqxYWeJcUjiqpKo7iREEnEIRRRvTAII9mv5Pjmh4sQwP-DGBMTFp6WYiY7gkmHKxU5HYiVVIDW0AcZhQCVA+NJyXKFJlUaNWakG4SpTGvyZ3KmvFX10VsLy+YUFyBCprPligwPqEEWCZY8uyk+ycQFLWPA98jSLtKmsGDBjM1-U+uKGvFUiyJZ3HGuL6rsAsK6Zwa6RZKpgqkSZUwSjQMkjcWYgI1oy+1QctjWjcjcCazYSOPklUxFJS69NUbnbXO4ipKwvNbagLULii1dyj5epKEGVq+g56rKfWpYCNrqk7Uo1q2tWr7q5Qh6-FSx17VryqG+wLoEVP-heSDkqaqVtCrA3Rya2koDoIBqNYhrGVjLADSBvjGIaUCyG1NQhtrXjwB1-qrtZPWDVgb3FkfOQAytrVqUVlYEiCdBLgkISzMlG-iTRqEl5jcWLaxwdDUyBkbvJdOfWUCE5JFNNlpoWDQYtHWYhcNQ6gjaMsMUscJUnGxZTKhWVrLGl9G3iUpqaUvqERwYuTZ0p3GaRAQ-Gm1S+XAxpgxa9KZtEsKVLmaUCehEzdCCHSiKmwVmwTU5BnSrpTNIgbDvOnH7aEvNKBUDI1nAyBV3N3oezTIuqZlAnN5hL-KRiC12bzNdIt6b5uc1oxXNsWjzaFu4m-TEipMRDDoFshdAsV8W7iYlqbjyCTN1AEabZo82Gr8VYWozVTCq0hbGtG2W+fmSOG8tytI09GG5uhACRmtw6KEsqu9bDYJMzWvQP1uLKS9raVqx4EuhvWnE1W4JIbWK0YK0AxaFWtNVQyC0ba9AaWsBjVtuF1agye2g5Cdt85xtmlcgRUVsJ2FlDPBtKlnG+j1UjboYJ23bRIGC0taDtiw7nsNVWrbautqWj7b1ve10BPtA2qbU6La23Cuw82-TYwCW1PbFWYVD7Rtu7o5aZAeWy5NahpHdqjlhK4FQXT0xkqm57CUzstvUi5b8tz2x9tQr+IdiSlN2P0RWUkSQ66ExSn0Uzu7EKiW5gOCuL9rCAzaGWooOHdq0R14I+IeqsLFTr4jo6RcYy0xpcm2ncSGcT-Z8qg1FoRJMGiDE2RKAg55sC2DuHHULsugoUCdJkondUhJ2qoFdmWZ4Lbz7BnhLkJZclgui-4llw8KbLqraPDLKAw55C38t7wP7SpFwwFCEk3JbmhBAQ+utDgIm+WWcOdpShcW3NGRMwYGJukXVWuj0odIOhumDkqqR0qrBgMeqDtJiikSphIPbcKuoJlQABOKoHeGr0hVxVBgEAZrwkARVxVYlUpL4EGBhqMZnTKciSHHK7d0MzgPouFOJlN71IbLNlimDQAL7y1NGWeQ0mn3cDDAIsxKNPq73BQuGRk5CE+mcAwowCt5PWekI73qCd9Pe4-JXrXAX6QqPyuQKovUX266Qfq77bNrpFC7M9tBFRSFRf3i64Uku5Haiif3-7xgZMuXYpAw5SAsVMQG9TMW8DpAaQ0TMdVYpmgyod2cIbtr23DbcRZA2KYgDeskYVBvlZmdDASkYDIHHaXsn9jSA6LChQya+wENChhQwHQAirTYcQfzStVD6tCNfSCxFVGhhBSaaQehhzU+iLY-q2DeehmjLqwgyGoDYwBQ1-NhNOaupHIaEEUGkDy5SmLQdJybR2RjIcEDL2YOsHoUpY2tTBuDATdzD0KEUCIfUzSDf1hQMw3YY4POtJU4aBgHYfsNCDt9lwilYSpJUqprdpJQQ86we2kkHdgYJ3c8Bmi4TW1fuggKtUvSmiKdRYp6Azs50t6mYAEYHLrrEB6EcgdAQ+Fw3gOZZxpMFDA6TiwM4GYDY4spPbqIMicwSpBkWcmQMJqUMjCR9sboE7Fc75heR3TfVjcw5Fzt0G4ENQFj5oTPZHw1QI03iyIthWcBr+oyDiOZGtI4xp9J7pSPQ1L0uirtZIa8B9QZDBwZXfEvlXbTpmTEgTVFvjhqGu1dSC40RR1BmrPNf0yaDAee1ssmJegchQAB0sAEGqleMFzj4B-45TNPaNU6okp9Uc+oEJQeQOXwsA3xrFb8eon-Hw5QJkE9DLBP5JITY46eIQBmJPonOXaEk6AAABerdawECYUOgnJDEJ+lrsac40m4TtqBE4CCRN6kUTLPG4KRhKNlGfAvxxk+CcJOvVBgyi8Eh4HBKkBwSZtQ0GywhB4A0TkR0U3iaZMSmKqUp1VjKblMKnvlXJkUEAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-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-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULALVi1H7wTBpgRQNGHQGW7+C1KrqOgON1Q6yVlA7WFBqEMCE8QIhjXUhiIXZLtZreHlfhjDC8E+DKk8QoIdkMSD68YhxLWWkEHyGJChsT-HKAaDuAl0vkAQoISEMcBhDKhmrAkrELbAVD7AoqZIY+1SF-Z0hsyRrjtRqH51zUpECoYoG6FJDShHwEYU1U8FFDF07WcEm8iWHeD8A0wVQC7UogRcnyWw+QNpHtimBEgmjHIQTRIBnYqGbyQ4QY06AnCvB5wxIO0NtQbC9WdiCJiMHGH1CHgjQxBFdHZKFCgW1vBYQFTuHHCNhzw7wfulOFAs1hWKfuv3kggnoJEGsD-uKBpygDPEbAi-j4hf48D00f-OAZFysDCCvuEwH7mMBQaADEEGI+QPwIUH9Cjh64dyJZRD5qCr+F-c6JiMZGb8EOe8XUPcMsC2B2RzRIURpQZHyCHCUnU0hu3wC7puaWbFkNuAVHLxuazHd0KlwlGgBMRegFBqaQ8LCg+giAoUfqLbC0jX+zgESGiORA6jeR0ooVrBAPZmiYmEaZ0btD1H7thRbI4Ps0TnRmiMhZoOdHqKDFEghRBoX0dX2aIzpAxAvUyDOlDHxiNIPhIVqqMVHksPBcqO4EJypTAjPKvdEQiVTBFzQNovhZxA50mA5BMQ7kBTmhDrHzBNA4bHUeG2xFbJkaYowONN0khOwIxrI0UX6MUDNipRDY2gNPTKEaRWxJIp8p2NSiFM1Rdwclig0+GPsaSOY8xPmNnG8gJIf8AUQzEIAOBX+edakMXnkCasEWeTM0eWKqxWdHhZwwLst0C6RD2xOPJ2FZ3K6Pj0uF+UkfvBEEa9pYfoOxJUToDwDjxtgIbo0FPFZZWBNtQLk7FjFnjHkuORAYFz0ASNsmlRQLgshzGgAeiAACS1q2AAAguAHABa0AASj0UgAAB5Q2sgFkiKEk8+AMwA5zU5p8KEfYywHyN7oHi0Kx4qCZGL1a3jZ+NIIdup0wQCTWRQrW8TIEqCjj6AqjGSe3DYn0sJJvdfCYRJIlkTKJNEuiYpIZ4iTqQYk9iRJM4k4VUOt4qEYZPAn3dIJZk86P2nEm0AbwGwzAQwVn4qSBOpklkVxMdFScNhZEbYVDToSYiVUmVPYpWOTA1jPJaEUKfnxyI+juJQY5idGJineTEpjo+bDhKZbe0SAznWSAAAYlCA0XKMeDLASRRO2rfsJQEQTp4KppIPKeuCdg5SGp3wkygsR4BITA0LUgYI1MYCqNdspU9DD3w-4tT-wUuaqVr1Q4iEimnOEQmNKqlyIapT3Bfhhgd7tIqspgBuMNP+B2AcoEUCqU1yl71TxpybdyDVIUK3FypmiU6eChqmt94eVWbIfcGPAyAUwWnU0FmkQGScxEtXe4ENL37oCFphrSaW0QebocmOUCJ9s9NsCvTpAKYUwfezmFsVTAL0t6ZYL0Fgz7B8HJ8jDLhkpgcp14t5BMF8HhdpwCwdAcSK-6iwBoeM9GTKKx6MDvpEce0FKS1HEMKGdwDoCzNMizQc8ggrQfLBYFPw2B+IyAUeLULMFuJAso7oGlKB-jKRmvXkqEAVHyxeSsQOmfDP37iyr+mg6HhvBsGRwR8dHc0aZFCCayEZf6D0oag1QJpUZsM9GXQTdbjhYgqshwI4P97OZaC9s-GRqxq6WiURnEBkP8FWks9Le3E3pF4jxGcCCR7kd-pzP4KOj44-sYQZk1p4XcAexANYgOOjHayb+6g7keOInHhyk5WbYHkzJmAtERYzpPAMPDrlWxcRkAsWfnMJEtAoyScz6SnFTnq9FZ0sX6SQGzlijQ5RvCcZyK-waCTQG8KeS6UsKwI+6ARYeVzJLn-9P2Qs-2CTIQR2BDg7cqmY6Xuy1z65oPfpOmPVGZjV5ScHoDrCRF0iE5vPaWd6Q2lvIB5IJHOSH3yDLd8g6PNsQcP3LyiMxMfKIBIwXEaicO7M4vB-KGwGi+CETOwKaPazKisYAc5wEHLhAhz35sNL+bPMfYIDK5n802TFCQU6hqSqChrp-NhrLdQBFVMAHXOHgwKdMu0d+XoHDRocGFkCtsM-JARDyAxQw50gGKGxhiegHC1+TGP7Y8Li56QWMfwuTEfBUxpDE+YuKU6Py94IUCqT4CYTQSvZcueAuPjUU3ZGWFUtAtjymAHjGQhMqTlZkJlP8Wp-OMxVEMCYE5Kuh052SyFJbSBXpRQG9LDEQqkMrMji+3giIZiJ0JQOUg6UvOHEZSpx1Ml8aJCmDmp3IOU5qZ0DtIkY9pCwQmUEmRpCK5xskTOEIqHnhLIxAij4BsGMWxZYlJCQmUUuWCRLHSXU3CFku3E9i-5p8gBSyBXHGjSYoDMVjaGsUOZEYdQ+JYdIEVrizAG4uEYoAaXdiPM2EswLhIIm2ByJu4AADJa16JpY9uMVIYIsSHKOUo0GZIjmodeJR4iYCePskoNhJx411LsskmWBpJDPWSddIehP8lJlQa5epPmWLKVl4AfSaMEMlXKKpeynyeZJ-EBSV6ldIkJZPzHWSIJrWeyVUp6DbgcpLk4ES+CDGQrxls0-RXcGRVwiWWNXROtcv2V+TUOAUu4cFI0gJKmqexIJY8tCWJyiVPhZKdsseWAqMpqYrMbXXuBYshx3SnTGyucLvD-JwIwKfIHJU9A5RAVK6KCvrB5CWhCQ8FWaCliVsnJ9AHleuBAQMrLCAiksQSoBVqqMWfKwpZlKXrnlgRRMrFPSi5XdL9VGXU1XCKOk21XQhNWSO+NI42qHJnSrFuX0FxOqSACsrKErLbBwhOVXS9VTar5F3igWpDX1QsF07uqI17w+AakpOU99XRdik4fqgQkeYbZJoyuVmoCUiAVAXRUTiqolmGShGKq-1IwMMk995JPMkWbBPS5OxoVtk1rHWuV7PwOGG4IyGlLGVeCQ6hCdFU8MC5VR5JOKrwd6qCD5BUE5XUdSqvHWJBm89oR5iqs0Aliu1W056KWveGelDZD5F3OsKE6mBHlZa-ibYuiVSQzJTsEpbIFizpK0g1a48amqBX1rLuyNOCbJBbUgI7JL6jtcjQ3U9qWpGwgdS5CHX3j0uWK0QAupYCTrAg06vECOuQIVToNS6tngexylrqyqAGwREBrNW7qJe+6pPKpxaldFe1CwOtVJxUUNcKNKDYjaorrWkNVO8kitSZNoBP8mNKqljapLY29Ii1x6+SaepOVcavJbGjJTbQqDKrWN9AJ2BpOImkSKJVE2id8rSCyatJCm3SWspXVSbMNO1CTWRshxPltwuQRRQnTGA8QQl56wEsWpPU51y196oIM-D027KZNHy5ZasvjiybPlqy3sehoqk6amqTmgFZ6VmhGacgJm5QhsExrUB9pkW1COzDtVeDNW45fmLFqLypat6erBLYkFIaRbotaSp6L9Expxbv8xAIrUIHegAlPV1q97OlskS0AytGWyeWUKy3wiFk8Gw6mS22JVb1VwBerXlqn6B8bAUW-acpQa23YE1ZqyjXYGS0gJRtDUaYUNri0fC+42CtqXUMmFyq0YdCbrRixDg7BFtQgBbXQDG0lEWtl0E3pkJ2qja8tj0KcHNvK1HaTt52pYmdqbTtajNjALrZatDUYtOc12nKANqqy5RPAB0JyNKMjW91SVQUl2nQglWO9lg0QnbTaGB1PgeI3K4dvCvtAjLcxkau8v4Au2AL942Y0ZXmPGU+FjeW8WxBtCa1mQBVZq2mO9upZfa3AT4H7eLRR0KBAdbyUSRwzwH0DUOusdAVIRvoY0qQD9A5OaoZjnslWlyHRuDsFWlRrSwqslTDsVW-y-KJkHnagiUCp8WauApQDPU+Y0Q+RmO6COIGNYxUBeuHc3QgoFrVQCOdUIURjxMp3hXicxCnQTs3Yl0bWMu+6Cy3i7Y6+1Zw8nUc3WXSBWeZ2hnTOq90KtfdUGZnY+AUBs7Oc0unduHCULPwlQUbTSgEKdgABOd8ANBz1qVcd+wgPlVmL0gIApFINVCoE0DAqEdP7PHG8OzVY9y5LEKwKkQKn6DjAlexQBCwhZVQ0Aw+2DWdyFm2De9NgLSnkxUB6yogleyNa-wNDQjihs++vbeG3zWDPZuoqfQEMX016Q0mgLPeMF31qVJdf4NxWpU8XhRa4xaibfatlF064RUetnDIHcXX7nwVUJHRc0v0eLs0XirnYKOYDls2dMEYgPBvTLrhygcIQxjiMdVOxa2F4LYFG0XanjDQOu8A+Zy2Kvg8VD6liMhEYDQGxaoATJidnVGDo-ufe7cHeHvCLtQAWLawJgakhtRwqrdU0H3ulbWrXQ68ZwdBycH+wBNQnETpiDM1oxuDf3OjZolI3MaONUmg-Jizn3+wCDRBpqCQY7Zwg7gFB4WTvpUoBDDqNB13fJPbCiGxgLBmg11F4PO8nBe6noFQYMOu6GDqUBgPYbvCj6dDWlXHVKuFViqUx6u3kpwbDXxjdd2wfXUOJN1m6LdO1XQKUKR1hGidXgdcaTqeF2Jdm8HJRRrjdzDA6Ax4NVDlHg0OrRIroBA7yrrbIHr2gK9A2Afg2-EcD5PPcl3DSSxHXQZ2YnTjqhEpHgt2ZW1PYSyIxRC01xMUXKl1HyBJA4TDeMc2uagHgjOAg6M0bIY9HzohiSI01WiNJr5SKW+rfNomivCUc2x1RjVs2OHbtj5iq2WdFUZA5atd7MvZopW6IY9jyncAusdm0HbB8xx9NfjnuMHq9472e7RQFejXHBciM4wgNCBy-Hbs-x3uoxztyqMOdrqblW8Z-FAn5si7UAxCzrGKBi5AAHSwAhKV62aYTvgC6K+M7E3laKoJFMiD7acyh6kmRywAonuVaJ9ThiYnHYncTMq-vEIcJOAtTxu0QgOmXOgZcRCfJ0AAAC8o6xgbE1EDxOcmiTSx9KpoDFPkmXIlJ7cNSYcDFode-UTI-QByNbg0T7JniDKe5NjV3mx2UY1VFKDbFSA2xclphAha0Q8A9J61fqdJn4myIspk0-q3NO05LTU+G0yyxVNdQgAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd6Xg84MPgzBsFAcCIMg6B8DwYuKSo0G2QCsrKM30VSLIChKMOkaxMyCVhAA-NYxKH6EABcCzSeU582CfcgZAdhCLG+SLDra4npZJN-MoMq8mDvtYK+AV-R9jXOBd2B9ErWBPovdKvZAwQOzBBcOytQAAKAaAEBUgQIXkgTCW+MDQBwOtFBJcoFkEbkITRTBxCcF9WIuaRkRCYGkNCmaGULDaHEDXlghhgVgqNFCj1cKHloFsIwWQwRaVQ5ZRXrwwB9CFjKTkRFeIWCT6a0kPOPQqjuKgj4owJOph+hYOISkVRltyhmIsXYmwdCYEMJOgtVhiV2HpRcWdLxX1bK-RsRgxR-CJaP2lm4woHiLahJ1pZRxiUGFGQke4qRoVEmxKCcoiI-tKBuxocqTRkpFgu3UvAzQfE9Ah1EZldRpjAlr1sfY0IZVJIfwEl3AJAClFOIwYwZgawNoAFViAHRzgAd1hHCRkqg8KgAALSzJSRoWyDka7+3UsIQYXcEaUHwKAPQERCKUBYEI5QYxdHCENPTFOhTikFSOScs5b0KkkE2fnYmNhqgYLkLIcQuz9lSD9CwRY1ASBdHOSQS5dYbC9g7oLcgxxFllOeCHaxFyGmNJgS5PixAuir1WLQIUehzEYpsCHAxvF+LPOICYdFJLiFd1pXSxKlTeH4q4X0C5HoUj8ykNZD+egiJwq6RYk+fLoJjDTNivogq5CmGJdg0AoLWoxE6FUD5XyflQusN4PpVKUxDJGdQcZBBSaU0WDIOZCy1n5g+Z6O8zTFCtL0D1Og-9FFXLljnPOBcXXCpSCfJmQCr7LFWM63e5TIbGPrvnZ1BELpuvqfKmwDqoI2gEujb1AlfUJtFjXeBvoUpCNoCI1y1TxHpLXlcnl4xGAwVKcvbqrkCqdA6Yov1ETEUNrqqIgt9BW18IsVfet5TG29X6v2h2pN80+POjmq5Oy9kRHJpTam91XEowRmEL8SrIbEFVZiT58gfkLv+d0KkGNvrc24SLTdiUvzDuRXXGGV6fbxoAWq9VR6LVauhWA2uUbIjGFTSOBFxKH0VKfVzQlKN+jvrviewyjpgOPoA8SZDkLiVfkjZzPwyGP0pEPd879mHNLTppq4pNV0cN+ItCYt9ij8NhFqKEWoaFxYppIJwlt0kS6YmrUzPQPH2331AIG+JoAQ0+EBAAKk40wvdHRpNGyUs1SScmBQKe0kJo0ABIUIdrSZ0DdsQZEhB+woM3CYzdCHN7ke8ShD1v70ygGeginxz7-HMkYzMDeSggUrpnSjYlAaK7Eqvs7WURVjOmfM9QxoAlsMXpo9e4wF0aWUZSEZnIMWqFXn9HobRM6MtMo7klrG5A6MAUY4RzVd9q2INLBZvJGi7EPx5A12LeWTPwmrO6MLCw8FgSazU4TyS4qDdy6gt+9sk1XyZtVgz4t83awUZWqFMLLYIvNtYrzmIYWhPUAwI4Lnosgs66ggSlsIShBhep6UnQjsqehmpkE8mW0He+dd654HLaMosViyLShWXMHZXoqWh3Bh3bpA9nNk6ltkLSeggBVbNLaLFTaIlGLwPOVLWHGxxXCidL8lOshnDoMVs3TCj+CLwNk4tMhidjHOHTYZ3TuUPX3x-3vOKnNjGvwf2J-D0KE3nxQIp1c5nHP37ir0CLghr4pf-j+9q8Nzw5fDcgvyrnADld1NJADO8+aOuTbF0j91ULJdfwZ8b0XlZFf48SuBm38vNcy+14o3XcHrhDzeiPMe7BJ5cBnmgMa88KTNFrc8PCm6vwzJOMdqII5BeKW0bo8l9h+KDF+3rlHw0eTJSBSCnFOi3pGwy+noxrrQDZ69zXUBhfQUl-BhUmPvmFaJg5SmQFwLG-ziDopMlOYKXGJb7n-WzVRr4EGNVLOYgUXUDUqPqFX4RqtQqYMDqs+IZvSB8oNlhL8Ct7z9DSfgwJrJ4pGjpD-LJUWiP+P-4gJ0cjmU7fxk7dEOxgZx-e-7JTJew71lx5ysmv3FX7wpGfwlVoClSAJtF-1TjtlgJHFzUNzIEfhpF0F333zhmR2Xz7jdFrzvESx0R4meFwL400h1EIKnTQOoFkAtnWVILnXMH0x8wbEkwqSYL11FBhRGDGGXSpjxRByFARXmzDwlFT1ILEmrCr1aXgIkxWDWC-lkPFWriINIOmwS1IKmFYOuR1FHlBHbgMKeGQy0MMIsF0JtmcBdGMJkDhwXjwmxVxWBwJR5mUMGGtCrw8CpH4PNwoOGllB0BGGkMVDxnjyUkCOCM8NG1CBPg4MkNBBCMyBUM+yzx8N3xiJsCviyF0GCMVzxgAB4IjcjhhYCLp5U4FelqApMAAVDIUAYSYgOESUfOdwWjFzF+F2SgToK+QEUAAAalAAJxsEMGiF0B2StmULMEGOUz6MGOGNPiiBiB0AmLKMNHlSHSqNqPqPwBkFGRaJ0DaOxg6KKR6B6KBAGKGJK0WLGJWPwEmJkOmKBBTEuIWJcyWPGPuLWPsIpEfmoGflfkVwZ0V2YMxFQOUG6AyFEnIOZUM2MySO+Q8MO1vUKH4wrgRPKJKzgV4UhKLkx2uO1VoIwJ0CwOEJwLbWGKvkV2OFOB1HyMyNay0miLeKpPhJnCmMGBdGiK+wI3gz+VXhpIT3OAENJNcPf0cxSB1WqIRP1WIHSFBVE1BBtUKBq2IzsRhVsIRWINsOdQYxIwbCy1yFsM0M4MMN1xJWNKdVsK5RVIPX8JxFXlxOhL1LY0Ukt2rGBK-iRLkFBNCHBKdN1LWzvjvENIxO9N4zsTRKFnpIy2xIhL+NEgWNOnQOWNFNB06QyypK-kFK0hjKZRPlkEtB1E8O9IZPE1DPZMeM5LdG5O83VT5L2QFPCL4L8wpkEJcPZRRMlK2JlKBCGXlJxUVKeEtUlHk3sh5KYw1TVIsQ1NIK1KfR1Lg0jM0lDONPyNNKeHSwJNJQ0KtO0InJYztLYIdJxITMDMmh93Bj91YAD04Gnl4AwHEIwjuWOSoFOSb29CpXXhMguAALig2SBEOVfMoFOXAIlCAoeUkCORdhfXdguV7gbDkk5T0hhQgrfMeSvIRTinPhug1GUxsA1HsS3MsXzz1HwusD1CIuVxukk3IoUNWCopwvz0PDosPEYsKBugFlKGUy4rkGIWIrCBuiCjoBdlUDhGU2EtEuaJgQEqaXzylMYHIoUrsVkuTXz2EhGD6g8DoCNg0uGC0oYESlUusBun6LopsD0DwkGDhDMCOAAD5QAZlBjpLjKns+hARZlzLrBLLrLbKHKZkFkXLqL88lNBgUgfLQAbLjh-LQBpNIrrBXKbpgAvK9krLIq-LHLQAwAgqmLH8ABSFKiKqK+yzKvK+K0ARK-PePcyoqjKuPU4Gy4Kx-AAQhOBqrSuKpitauO0atyvcoKMKo6rqtACKOsF6o4vzwKKOC8tquisyqmrGsqsfzssGt8rmpmQcsWqavcrsumrCtCFmpKo2uO3Su2r0EBGapSsytCBKusGapsGj3PghFQuiGAvfJDnyOODvmElEg1EGDQpAowu9GJhevuXQo-MrGoA8AACsQwKsvrEofqqU5qaLXqHllMkKIVDRzSbAAb3rfcIQsBQa3qoD0xAxHs4obod0VUOhlNqaFNXLty5LH9IBiBd1gpxKwrWb2bKZGamaTL1KtB9LYBIByK9LJARa+b+abpxaABROiuWqWpmm6AAOVUBVpSrVpVrLIJOer-TxtJpLAxmUIRsKCRt2RKv0JpQkzRvBo6xBv1ttsBt7SNtMNNpSHNrmqQuxptrBudvtsJrvDWRfMgvBWIFeRJMPHkODpiEkCVUYDkDhFTOhtUDUCM2iApnxMaQNqgqBSyCFDgohRxpSATg70qDCEW0UkLJfjTMJXkIB2LyELFL6EowixxT0Bzo+vcKuIJJzuN3pOLtCDboOE7p3yhthooCrzeN9pJpdvATkMHpsBbJFKbs7JQr-RbJ0Efm8PSlXpEOO2rtfj3rhkJsvOBqYBvInjvO4EwCfOcElQjAoEkHukMFfGEkYBlkG3kIFk8G8FbGjhbC-vWOSTki5PDDPFAk7EuMBEkDmPeNuNWLkiAZiKviQfAcfFFlylYGEmpgMT4iKg+MTmjtIFIHcEFmXgME2RIYyoYEGL0FUBIZzMBD6JPmYYVVmMuIYdICVosWYeNluLUNJiYnIEpl8FuIjqr1LuEd5osB03tPmFGOWOgfOsuMBRwdkDwZbSRqkdmEpgkcuRmJMEBC3xtvsBXSMRYHofzm-vLiFgThiNYaZkBDvgYTinsa2E2CwVPQExdHsbMCCC0l8esbMG6qBCPnBDvhPn-qbHcfCMBHCfMRPgfoYctBfsrHfplnsfMSvlPWyVySjHce2HlQeHREqVx3kT8bLNYZUcGOkapgseiYOHaUqdePsT6LgaBJ-kSLKaYjxz8dabsXacuLqfGG8EsbkmaeCYMflXBGccHVMZEfUkBBYojv+t0fqbGeAcKAYQ4KyeSTqfOtosGDih1HserJbD8bWbMY2cYBYBQYWEUdiD2Y7UBAAHI4GE5oH3mXH4HljVj7GTGRn7pGB1JgWoq8CfyBMnhf6fAdQwWeHGkbochaaUxqjZic5hQ-ZqRvBMWrJBZdotn-UFnRG4WRwQXraXR4WrnFnRnbn7mDnSXvBGqhg3QqXiWqZ4WL8JQU607SAM7LQP4CopZMpY1FgbG+pTicl3YeoHG3Lzq8nA5BgemxFcgZXF7rAkaeWqQ+XKAKZkMhWdpqQJHRXOwfmSmyCCJZWbpwmnorcun0QZX7meouWxAwX5Qpk8IDWRWZX50-kslJX8mPJHXHMNSd9qTjs75OnURumd8qk8dHW6yXrhXsWugu4EUka3X4QPWvWjWDis1LWDy5Yu7qwmHaLIn6LYWEJCJk3ZBU23lra5Jq3DXa3M1TXxNi3FQmGWLy2m3MoEwu4fmO3MgmGtX07dWBWwCe3FCqVvRpt1WGiRI9BR2dW9XBXe3c32lHX6Xp2h2fSbaa3+363qspzflF1XBEjg2f0V988bWXM7Xo2HWC3j2v1HN70CIFtXSKQzULWxWx8-8lhp2ZXy2qDLWfmFLRXZTDVjU42sohg4RzUwKixoDaMTW-2fQOCgPkkXRMPtmeldUepIOxlnAYOupkPsYVkg7sXGBKxyBc4vA+oOhgwDgfWIWcRv3UO4n+QcXjGSZxZ9hU2qPKxrEWP5GEC9A38KsTWLywAi5vBNwLhQJ-qzNJRBz2hyBcAwBR4bzSBhgRIjFQAxo9lZBFIxoQ8Q9AFVlqQpY9Ajo4RBg7A-RGAOgIzrleKBUQxqjnOqnFUcVlUFNsmME5p1AbOZA7OtIdQHPPO0sdaSEtJIunPMS7FwsrPSAQuwuXR4uvOfiJDVAjoFOsg9BKc-0Pt8uLVjsbppMWhQIlMJz7Un4X40vJAeBBhbPJAOoJTQAYU6BCAPAqusgEV+RrPWvmuWWWwSu+u7DC3rAT1uvevHwcz6bOguyt1NJFuOg6zrBVSOubs-1MuBuUvGv+BzmiQeuJubTiET09vwi1vlu71VvfPd1907Etuf1iEvwMuPOnOpumM75mNbU-S2Z6AcXGuRvWujvuc4COuuvTv5vjtBvUvhvjuwc3Z0ozvvuZuYfQIFuHuabbuRj7ALgxvwdUfHx52UgOC4pEeK3DvvTkCEX7EXRxuMHzvJyX3XuwgYUrvRy6AhvQu2ukfZu0eNuig-krvTgbvHM9NChCzCeTu5vFOsApfe7p2OCwfae7CyfGkZxMeshM5FeWMT32fEoZePvHOOh1fvvDzEo-vNuwTSZJKtAdOCtluhIu36vFg5nGkH53fKMr42A4mYhZBqPPeMUT5A+cXitNjdUWBCOjVnBZPUERyJvlTbfjz5gHfyAdP17nME-5OJv03cuxgJvCuqgYU1OEVc+aPHxzq-iAT8xULlPjtK-Xxi-ARw-g-A6NZC+LYYggpYhBsLe0PqeB+IfkCTGPBe-UzBs9AJ+cVlj5CdRZ++-Jhx-J-MD+Ul-5+h+XRN-dB25d+STY6dSR-rSh-4egCKEsglXtCTGG6DgR+P5r-zDWP5h4ju+D+L+IGr-R+NemBDCXWFw4YVDi-09ixQeQBHMJhR0B5G0zw5SCAbYUhxyki8XQRcJIF044osgjATdFg0WAlJLWHXGzOQik7bcnMhgavGvx0BbYKBUFEzIuQIhP9NywvNPs4AP7Y9gwj3DoLGR84DkUB4YNAci0wEQc-+m5TMp1yLjqQD+DOA-izwN4vtCBGHAtiQKsLU8-QuAxplJ0GCqD1I2HAtt9xe76kHS77X7keWuRaCTWAA+BtkBYAStzUxeYMGGDhAto6AI3ewWJQTB0B2uIA6+OiWcGytXBjgroB4MK4-MOCdJaqPO0K5zVRiVgmwYDn8FOCogMQmcOEOnoEl4hgQjqB-kZDeAsgqdMCA4KcEuD5AbgjIeKwEy+Dy26Q6QPwGCHiZQhCEXwREIyoxAjEuQ98ukL0BVCgh9PCxJEJKrRDHgsvAwNVBQKGZEhgw-AGGCMCLsAKLnZQZMK0DYpIgdgR4GIxiHm0XkLmTBqTAWEiNZQywqwWsMeBlCfB4wu5uWzEy4cWhOQ7IO0OKEBCs6MCOkmcJ4Z9CHKuwpYQMMsZfChhXwvXp+wlB38oKigYsL0Dhgj8cIvsYQXYSuQbYKBVAufpgSP5SET+N-UTuQMRGUDruOPfzskjv6f9SeoASEQwLsIhDFh3gEzBpSd6SCN+FA62sSOhHZcxAywPYU4EkBUjSiLIwYAyNP5eDNScTfAFqE6B9Fy2gIQUYSGFFgcguZQLkUSK0BmBy2mpawGa1wRACWRCovEY4UBw7IXaYIlhLKJ5HaEVRAHUNOqI8YLAOCkI2ViyKMSUjHepRF0OqM16FAXQVo50eT3JFsiOR6gp0akIxQ6g3RfoxpNaXuZiihRtNCwcSSyC0dusZwyyvIQ4JpU3homCuEyPvqjBpYfUEzFx2o4FNBOjQQYG61lFuteRe2P9ByJajddZUCKG0RSPZH2i9ARYrQJsnzG0BBgQYxpCWLRHMCF2mffSjKnhQCjwxIfY+CmNKA-Mox9gSCF8IKz2jKxQqCwYQHoK98XIHdeUUPwiCPN9AOodUWmNABqcDhqw2zqD1C6eCyxzmR7GpzS4ni4Qm+dEUdnF44jOgsXJmAqjoAWCVxnrVriiDXG1hzxZA2zgih3Hyi+cvmRcGlzMCsNwmCqWznpGjGgAaiAACVlqSAAAguAHACy0AASjUUgAAB5FWsgGOxiEa4uxPsYwiD4wgBItYpwCSPkJLixgn438baNlYHjPx-bVsX2honUofmB49QOlBzFUSTGfE0oBRJxbxZIhXgpCShPQmYScJ+EwicJIJ7sSBOlEiSdxPkIHiZxn4yQN+MqgaSsWak2gLMi+FQDg4vfMSbmPyzcS6JQ-H4bsKRpJpIR7gaKsVh04hgDoWYyyYQmckx8FCrI8OoyPVZkSdO3k9SZ6MCkhi4J9gWwPiwLQkB9Ox2AAAxVAa4e6UZOVDikKtKwlAA4DHjil+gEp3gBFLWlXCFTshjAS4jwFAkNhSpUBIqYwBMbaJ0p5CL-mrnQaKdYpq4bKa+FykJjp28TZTBwTqk2CA4OU83qNzKDIMLBdgaSK1MfBSAYgAqfFkV2cwjSepkEXKaIT2KZTupAbeTrlJL529xYiQsYKMnUAywROd3H8uBJ9bBYF2eXFqdPwgHrT9p40nWjs0A6gdGSHBU6ZIHOlyAZYIHMVj0NCB-SAZMsHQSDI+kYIjBVva5ODIunLTdeFg4MLYOc7IhVW9A7nJfxkiMirkd4RGYDOdTLdCBt0jDHYhPQfRguI-SbkoJW6ExI8TAz9ERnpk7dnMHgBEcvxoEkEL2dE5mdyk0iczsR7AmmgsRPiCiiMCxK+ETJlg0iZcHgGQbaR0z6DlyP5DDhqND5DA7AZ0pGVQUuQBNZZ2kSbqIMlmyBheNvUAJbPe46z-pSMmVhYKBE6jgUxEUCASM6nWhbJ62P9KwOOySDkRiRVEf-0xAnpWBoTCXuz23TEAJi9YvsTP2oG0jMR1tDsdYE9mMiKgPdTbiezJlADrQkKbcngGkxFy74cIzEVzNTIBz0Qac60sLy-BhzHxos3ESKh84xzvRA-DsfLIxzSCzEOmXudYGtL9Z8RD-dQPzIPTZy-kaMyLFIA8hpyg5m5HQoXOLnXScQYYiURGLHls86spGLUe3WHl7sa5dpAEWIBICtyGxiwEbosHB6liex-I04KvKyC01RR4oh+SOMviBdNAMoi+R1EVGkFjR4E8+ZrKJZOzFALsmkG7PPn-Ur5Ro8TBEH-ntdy2wCpYHQTAUFdL5-1EbqfyypgAi50mY0RwQAXmiDkKvb+ckhPn3FY5TvR0SkO3KOiOo7omwGQqpjeidx1C-mk8KrZ0KU5hQEMT83vnCiLBwdXCHVORl4ymxAUwsWSypjXzSB8KUMNkBMx1SSpsoUEPNNAiLTcgdUicrdmjnkKBxoGexIwooWlExFto+hRz1oChglxUYORdlk0VmLQgXY4OT2MMV6Khxa81+SJkuEpAh0quZ+pIpEUWwF86kGxQopWlk9JxMYw8ZYxcXMQhUk0eCdJMkBYSBkAAGVlpESxxcgVKUQXsChS6p1EiKV7PREMSaBwYPCMxIpGsTlJvnPCAmHyUVKnA9zESelHqXtxmlu05iJJPRGJLklaS8AEpMtAqSOlBSgKfIR+HD1HhxCLSXGJ0l6SGl1KexTYCfz4sTJZw8EOq2mUrDLGg0lMHVNWVbLwQe44OvUpsn4yvB9kqYY5MaSKKSqxWQRR0pEX-VClQUpNCFP7H4sRlpixkXuJpB50xgYLRsZIoA7iLoRUSsZWcJ0SXLF2wZOcrcrsTjKikcQ+4S2gyy7pVJ4k-LCYopF0SyeyY45R8sBVMtgVXykMbrjXIvDHZvigFWCxJFgrYRf6GaMIARRXj2ObLQEA+j8VMsU+csRlSQDYF+dOg5bX5TBU5UgtCVILWlX8J+a8rcgEnASGy3JVbK9xEQT8dXzNFeDNxhDH0fKP8YBABsQA4CaDEroUhDA1RMYIJN6kmYmJFq2gNZj9bqKyl1fG1dSmW4wpAJx2WZXzx-HOrvuMKUhr0npzOqol7tOlJssOG2dDJGK4gPsqsHcrQgiwMzGl0jVWTo1pkwers04mDBkx-q2afXE4lgqJyqs21KzHFimq7AHSnmUxM0X0rnM3EhFGmEsXyJNFjGQgaqvAURSKZhQN1aFwRSeqqYP4jScLz9WOBc1Far4SGpJRhqjxoXXZSstMnfcE1fQCNXiyyAxrHgZeOxMNPxZZqMqOa+nCNL+GFrDeh8u+pKEY4VrqiYUjyD6o3G8p8W9DTiYAtHH8cHlPqn5i+udUPqjJ1KExh+s4lfqo1m6MteavzWx1rVj6xjDCkyDoqU1j2RJbJOwm4SCJ-SzEPBowmIaFJGSjNd+p3VzVoNV6+gBOS-CAh-iPHEtW6XPXCLq1UKYDRWrA01KRFWiv9PhvyUIoelqS9JYxnY19Kax07OqbhpKosaPlRGzSCRoOhkbT1S6fzFTDTDQ0nkvqW9VJHRK+oTGxBWTdCFFZzC5YwMwRuLAzTqaRA+bJuNvwIJxoP8UgEUsJTk3N4FNGq2xmUBU28cB8T6KzRpts3oidN7cDNK5sM2ab5CUM3TYpD3Q6BbIXQAFe5p7GeaLBsm6gEtIM2T1JVLwxTSKXi2EJUtiXIloqqsE-MYtS0-TbQGs2T1xOBW6EPGgJwcqAVamkrSIGK3EBCtFWdLEr23JZbjhk0RdfKxxSzEKtki1-AVti0-rT1Vm-rZ0IkD1aq8LWu5sluk1rhRtTyHzZPVlZeKwgICCqW0PyElDJlmKKlf4uILza+ge2+NKCr+E9zwqGVIbXluYhBhZtvmg7Y1uuITbRY7WkjYpRTDdauV3I0bf1s77ixgty8BlEdqS3nKIVDk6FcGNhV2V9eiUNzm9rFW-b8Goq9SFskWXG9li0Y6cXGJDGAImto4iJejq2UblSRfcubBXBO1hAHtooJ7Riy63bb3tomGQCFr4jfaHCIYMzD+3rqq4hBm9beiIg7JCg9xy7flqzjeSJalV+ML8Bcq0BXLiE-IiHf9lqWkNykgfPsLAOeBvFTm9bEkWYtlxKs-KqQ8DsoHbFsLQggIA1ER38k4yRycxRXn3ON0C7x2yGQ5d51x2xj8dA8+ZkzGLrk7IQT2u3auzAKvaadILZTL7onZwFUpMKYSJ60koOCEUAATiqB3ho9YlKJQYGwH28JAUlKJVBSMS+BBg1KAgfaqU3RkSQHXLbiemcDhEkpePawEnvUivNXmKYNAE3rjUszasdiWveoMMBKyUgterPcFD-o-DkI1tZwAshnzGD4ZNejPQ4L7056q8kembSJQcFHK5A50uEF8Ejz7I6QZqkXVYPkITaKdiavkCvrErr6X8AepeHxAR3KZ1Aq+0-XYWyVCNmAzbBHfsmICLqPC3gdIDSBkbeznMM0BFJm0mQtBPW67ApcYmeAxBF10DCoIcpbV-JTkjAL-RzVAChNNoEoxkOCA64d6PK8yfds21ABgtxAb+5Tpak8rl074HeoFv4pmhGgrZhvS2SeiDW0cLY5qxji2hoPLcX1I0y9Z+r-XfrAli+Dg8LxPQIGkDlMFA3fJpA5FhQ1eokVPrErnV5kSh7nlGrPVMdSDShkUHQbZ6Wyi1Pe+Q0syUPKHCDA4hgEYc0Pfde9M44lD8Kl1g7QQrk64lQaZabamUSuwMCrsbGa69kBuggBlTXigyYdoLJ6KjqnEu7DhTMKrCetIlPocgdAUZH-UgNmZVpZA--cdkAPZtQDa48A6-qgMzEYDLPWcqCEexBGvDLmUI5EpnGRGRNkLdErYQy2jjgQ1AXsTpyUaQjVAzjHTMGnWYv73DjITwzNFkgIR6j1tbXX4bmoBGPxd6grlBjvyKb28cUWY4yFnVZBEO99CxRoCbUrSh+ckTRV5rinWJqN6Itzi6Ay4rTCWo4pFsfrX01oX89zUBm6D2Ntan9mUF-a80El6AjdoAAADpYBhFw9cYLnHwDVFLGHuyKr5UuQYoG9QIUQ3QV2hVBQDbxj418d+P-HEVxeZg8CduZrjQ0hADwtbTC4cE8ToAAAF4+0fjCUAE5iZBNjGwuZJyE3SmhOAhYTsgfMFLxuCxH6ACRnwO8fRNdBqT2Jjqsc3zwdGVYsxUgLMVpqGhXmEIPAIiYBW8n0ZgJnRDSaFNys+QsxDwOKclOHKmTIoIAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd+aTABWqhqHQpDRBTUE2gVUuZXoPUI3LET+5QbswgvBEmAlNgAPxKTyfKLC7a+B4MIc9eFHmL-0O+JaAwmiSPY8T5QU-DmMhFz9Sgxd5viydjvqAAAXAsaS-9t6JX3jdXeRtQDwmrMiVEoIIGQMKKAnqek8DzgYPgZgbAoBwEQMgdAfAeBi0UioaCtkASymUM3aKUhZAKCUMOSMsRmRAOsPveBfguEgLASgzh99QDQIyAdQgiw3xIg-mJRBklwHMkGHQtBiVQEBX9H2Nc4F3bCPvvvKh6VeyBm0dmCC4dlagBUfw9RUgQIXh0RvPRUCrHWigkuUCpiNxOMstYkRti+rEXNIyco-CDFuLNDKEJNE-H3wCYFYKjRQqX0yhFeIYTXGhQSWlUOWVaHEHoTYhYylclpNMBkzWkh5x6BKdxUEfFGBJ1MLfERrSwglMtuUFpbSemxLUQsE6C1QkiPCaFQZZ1xlfVsr9LpViCmqPQRLOQUsdbKgyYYi2yzpb5MKf4hYRlnGFFGelA5vj5lFJXsfAOPj0kjMlFc9ShjNB8T0BfVyqSPJKLmfQ7pPSbBlUkh-ASf8vkqIWSkDBjBmBrA2gAVWIAdHOAB3WEcJGSqDwqAAAtFizJGhbIORrv7dSwhf75xLskSg+BQB6AiIRSgLBEnKDGNU4Qhp6Yp3uS7Km9LGVUGZVUt6rySBksThCGw1QrFyFkOIaltKpB+hYIsagJAuispIOyusNhewd0FuQY4eLnnPBDp0tlvy-mJRcnxYgXQ6GrFoEKPQ-CLWhBDnU3i-FhXEBMOal198u6+r9YUC+BT7VRL6Gyj0KR+ZSGsrIoierwUuLjdBMYaZrV9ATXIcpPTQGqtajEToVQJVSplVq6w3hoVepTPCxF1AUUEFJpTRYMhsW4uJfmCVno7wAsUEC-+dBlHzI5XLHOecC49Qulw-eTMuGgOWKsBebCXmQ0afXfOA6fXfJ9c69pzVAWpoEujcdAlJ1brBYPcWGzslJPSiksOOyl4xvGIwGCTyaHdVcgVTosywXOuOUavQn7eoNVBec1pGDl3PGA4wPq2bf3zMvZQtxkzzpDvoRyqlNKIjk0ptTe6QyUZLxmJpfNkNiBFsxJK+QMqsPyu6FSDG31ubRJFsRwoX530rrrjDFjPsLr9BUcWktNHW3lu1Zo2ua7IjGGniOA1u6uPGp41zR1KNBOIaAXRwyjo5PKek8SPTmrd1flXZzPwenhMpGo9KsTJnNIbNQ7ukj5npkWiaQJoTQDaihFqGhcWvbJAkEiT+6SFKSMmSkhXPQYWk3cNALO-pC6fCAgAFTBaCRRjoqW4GBYywKLL2lYtGgAJChG7aTceORkSEH7GYzcTSl7aaYTTQjKER0SfTLw4wDAjjwNaztXjMzmRWbCM+3DVNUMo13TOiuu7QHO1lEVN2xAat1e8Y0ASZmmNudYz1w0gaLVVdWyq9bV5-R6EqU5oNfrj2qfc-DTOVHS12cSs+4xpZ6s3Jza06BPIPtnfMdI+282Fj2LAl9spcWjkH3+ODrx53VsIPfB2ZzAimajb8xQikGztaPo5Tqy2BrzadJG5iHVWz1C9fgSttbCPzECUtuKzrhhQD5elJ0aneWQSZZ-ZT6VzObbOCU3oS2h375WqW0oUNzBw01KllTwY7O6Sc-Q6LGuGzTmWJURyoSqgjotVjHpp1FqRfOXeQ+pRaOREXoq1eiJmW1NnIw1qnVH8DUi8iUKY3YH6GjcicD43XuLTA9mR-NXo2vwfyQzjtx8Pny6Od0vAPyOZGpr0PHxxr5U--nFyLzPkPIKyN9zuy1mnJXWA124gH9PE-a+HVqlP4l0qyJrwnysOeulAJF23rPRf08l7z+XnA2C3q4PwewIhXBSFoDGtjgyXxX3PDwk+zSmKTh9aiCOGPEpKnVPdfYfigwxfbt19dQ+irlWqsFeDI21vQAH4aYO0AJ+vOs3FhopVKqbU3+9K81fkWCsiYEaKYl+3+aqb0QcikbqOYHqjS-+Z+w0zUo0+Agw1UWcYgJq1AakCBWqX4I0rUrygwHUGBEMb00uygYajq+AAB+syBhBqBoAE0O++0+uYwKaNoQGtAGatBTU-wgIHBI4cC6aFo7cOmRusiH8vBnssUPI4eVkumH8UBFIghaa3BcMUhiBXkdsGeqa6ud4p0yyNIugFBVBcMOueBfcbob+Nc22VSPEzwFhmILcCENhBhZARhWsJKDhauFg5WEWOIyWryPh26ooOqIwYwE2phsuQoBqGO8+rBBueCQizez+QK0hD+KwawqRgw6RpBTAoIwOW2DhUw-hnKOoyRTw7clRYw-aNRpRAMAR8wLo9RLBwueE1qtqMuDqPMOR94iuL+VIkRDezh10soOgIwciioeMG+Sk4xkx1oU6v2mRi6e+DhUxmQaRVOW6HgQxFB0ONgoCWQugkxOeeMAAPHMSccMLoQLs5gYlCtQClgACoZAPw5BwiSj5zuDubwKSInydCgKAigAADUoA9+YQhg0QugVKVsqRZgYJcCwJYJEJoQUJMQOgsJtxF0BxoQkKVagIrx1ABAMgSKXxOgPx2MfxVylAgJQIoJ4JN21g6JMJ+AcJ1YeMiJKYDJqJNgLJmJbJ2J+hpMyy1AEiUiOePuzevhWq7hyg3QGQokThiUd4x2Gx0quR2xHW0ajCUWQsZxuJ+i3yCpRcJuTJFaHh1AxhOg0RPRISf6N2oCOexwpwOoBpvJ8WOoixhpeyapM48JgwLo3pguYQPmhQdGdCLpm+5wURdqMRoh2pYQlaTx6pNaxA6QqqCWoInahQNmZau6OqNRBqdhNRC8mmbSX4apNRRRwRoIpe5p1g1ZdRJRIZvmVGoxDYdCJpSpw+RKmWgexe0p-RcgMpmIcp3ZZZLuQCqpK26pWxAuiZTRjM0W7pLqBiBSE5HphhVpGJtpcuDpFqTpzeUZWkq5fq+8sgloXpAx1oPpEKNOOQOkAZQwbowZo2vmjJ4ZcqkZsxERSgSqeGcZdptYimjx2R1YaZGZNqWZTwbakojuFoOZ1mL2i5LO+qRZfWJZ6xXmFZmkVZDhNZ9R4uLqTZh6tZVRrZXabZS5xpopPZfunoo+4M4+rAk+nAJCvAGACRPovKTKLKQqbKvcgBZkwB1aQIvF-Ku0+REllAAqDKLsfG7sglpcts2kkaekOqMlAqOCBqcUd8N0GocCNgGoPS9Ze6-BeoRl1geoplh2N0yWVlKxjAtl+lh8h4jlh4LlhQN0AspQcCvlcgIiZloQN0QUdALsqgcIcCYVEVnx98wV-yh8yZjAVlyVbSCV1gN0wkIwfUHgdARs2VwwuVDAiUGVsOfQgIIJjlNgegeEgwcIZgRwAAfKAJimCXFWVTdFitVdYLVfVY1S1Zirih1XZYfDloMCkH1aAA1ccINaAKltNdYJ1YfMAD1TSnVdNQNa1aAGACNa5fwQAKRrVTUzXNXbUHWLWgDLX8Eb7VUnVbXr6nANWjX8EACEJwd1G1p1c171fWz1+1FV5xx1X1D1oAlx1g-13lh85xRwPV91s121MNEN11FVTVwN-VCNmKLVyNL1qNsNE1oQ8NZ1WNfWm1uNeggIr1a121oQZ11gr1NgK+d8EIml0QfKsl-F4MRRxwQCj8rYeIgwWlnN3oxMrNDKfFv+lY1AHgQ8IY5AvWvNIkXqCN9lbNfFcCckkaZVYQQtktm2EIWAYt7NAqAOXOPIN0ZGhaHQcCltWW2tDZiV-BkAxA5GwUUVE1ztrtlM9tDt5VFNhVkgsAkAVlAdQdPtDtWVWgRVAAoo5QHdHeHQ2TdAAHKqDJ1rWp3J13k3Ys2Sa6015nE82JR83UpnUVFbr52aKBii151q2SW+hV1yhApF2FAl0I2a0HYP510c0N3pjV0G13jEoFTi313qrECirAEZFD0xBBY2reByBwi7nPxUivwUxml-K63yVZBChKUarEWFAJyT0VBhB26KSXmSJ7mOoZGS4-5AVy7W6LY2p6C60hxnGDAenWCV191ygGn71hCP0HAv3kHS2y0UDP4f1d0j09017pF-2hB-mxndHhqTThHnA6DLK7F3pIOxF9bn1SJ31X1VC4BgA6V4KsWELsXcCYDcWgDpoRgUCSD3SGCvjCSMAyzg4ZECyeDeD81pwtgcOGhAL7xyRBnhhnigSdgMmAiSDIm8LQkCnqRyQCPQ6gJKNiOPiiy5SsDCTUx1J8RFRRAYnhacqqCkCkDuCCw0IGC-xmNbUMBgl6CmOkAnmAjAn7yuMCJIkMlOOJ0iKuPGzyPVx3hMTkCUy+DyOirP6H0hPe0WAlYdk4j8lSMU0MmKo6OyB6M-p83ROzCUyRPsqIkmCAjSW5NUwNIsCOP5ycPlxCwJzQ7uNMyAhAIBJxR1NbCbD8L0ZMzaR1NmBBBaQui9OgC-VAiwL1M0o6htOzGAiwL-q0PcH0OWhMOVisMyx1POqgL0arzrxRhtPbDOYPDohvJMQPq9OGnuMpNgkxNlPeAVOTPkqVOTAFOfmtLAmyOSkKIoLHNXy5BDMok9JvMMnXPjC3O8M6F-xnMInObghNMQZd32BhOAjuWiqC2lMguMAsCCP9J0pZGPPjPXMU0OWDBxT3OTCBlui9OosIs3MYsqMDKGOxDrMuKAgADksjCcUjbLzTcjGJWJdTJT1LjDI4jA6k90Ir1TepZQTw3DPgOoYrkNvtftfINqSJTxSJOcwofs1I3gmrVkgsu0WLMOBLcrwrz1L5LY8rFdaL5TdLxrCElr5LFrprVrgrlrbRQwcILaECWh7IUgQRi8QjWkAb-SyV-8aZdaDa96WUHrLayhXU6h2M3rlhkW-rW8gbLowbiyobPU4byK7RJz0bIh2MhKg92rjAlY5AucXgfUHQwYBwi8PrzgzajhW8Lj-IOrxTJM4s+wXQ7b5br4nSDbyb2hXBjID2i8k0eARc3gm4FwoEgttWko0F7Q5AxDTArFpAwwIkDSTBNKsgikY0s+s+28fZdAUsegR0cIgwdgfojAHQxjQuYC0WN7Tx975zbOc95GnQGzVic06gF7MgV7WkOoL7d7OJd5wjCEoHb7zmC21I57l7jrZQ0HOJ7rlSLQoEegS8FOCu6UGHWQulY1+HMgOWIZPa4ikiAHVMPAgwl7kgHUiZOqdAhAHgxHBq-ICHgHkgNH5rZQ-Oc7WQUaX5e7LHbHsxttnQ7GOpDYEnHQ75ImtmqF1gOq0H7H8HpAVH9HSHBgonGjlFKQdGqn4nn7VtUn98X4sn8nyFomSnY2VhLY0H+noZ3m7ZrqbM9AOrmnPHdH-AmpNoZnTHunoEanZ7GndHPHLo-HxHQnBncqzHrHj4J5snZnaJ9gFwLYUXj4cD98QRcU4XgtuLPnfnI4B2ED8DbomXEjMXoZKF4mKQKnIYr7IXnHVMvnvHOnCXVXVnRQcqRnpwyXHWZWhQl56XRIQXWQt8Q35pQRQRRXw5JX2XfqM443MgT2U3oAeZr2R2aXLo0HxXq33X1FuZrnNgd4MVWgm7l2ZnQkLjop4psLfyYiYpki1uoCbA0zMQsg5bD3Fq+8n3OrEJ+JKZLAub9azg075icFxHSFG3CT8w535Am7GlkmEPs7Yn7xBuxHWHVQOqK7BqqPFbj4FNd3ki+Ymli7fWBPr4WPgI-333A9GsbBFsMQQUsQ4O+3GRQR7P83B3XbZsLPu54OouAvugGROoHgIvkw+REvNqgv6eMvrPkwjb7XCvGJ7cqvJhM9pZ3P9RyvHHGnOvJR+RN9Bw3P8huvw78wQRlSGv+gZveh58Rvp9FIEQi4SbcPMha0fQObozJb7nJYVANCPvNRSu6Z4B7ikgW7NqWQjAS8WjiwjyrbdXsq2Gdi4YqCtnhOkvxOkvkgWv2FBEjvdZh3nKtvSXJnWW9++8JAUFXQi4kfOQHQMfYbBRVR9+oCfoCfwvsvJhsitv1XH5NnzWSwuLE7tnX4QRnfijrhW8W6U-2kE7Tnm34-DmBE3XYZ1gG-cs8-i87rUJ2QLAfUx8UuwYYYcIP6dAPHp-kVCYdADHlvy5+p1Ugb1-5-XQd-WH3LQRbp1Ui3NKdjUQA-kfxbQ-5X+F-QAY8FG4GBf+ZXJkmAPf4dQxCY7RgFkFHhgQz+F-K-vIBv4ICJW3TS-uM3gHSB+An-JLLix-6+NeqW1GIA0lQECp4BegIgR-0oGtIsOCNffpAJnDVRhS4sDgYf3wBhgjAStUlPAgyICCtA1qSIHYEeDhMgBJdEVKIOqKCDJBfA2QY8DwErkIBmLQNolkWQ0D562QegdgLf7r174bpLQYnTYFnVxBoTWUFIIP5qDD+yEaQZix4GUIOiUuKlL3RpCGANC6jedqABwi+xW+q3AnJJjL59ZbeefVbNr38ETcQhIZL8BEP64V9v2LiE3roQ8TxCghRfNvmQNsFOBJA2VS7lEL76S8t0OQhIe62WAFDVsxQm4jUMGCVCLeHvEIS43wBahOgwJQNoCA6GEguh3LD6P+0aGBCtAZgQNkWUrzYs0+PgGoeMPSEeCf8Xg4sL0DhgjDmhJRblji0XRzD2mCwIIkEPxYSDvAdQi7jcRdBzC-+98F0IcKuGJQahDSU4YjxuI6hLhsAv5DqFuHvCek9ROlr0M6HW09+GJLIJWyRxaDaqnPXFhtSsEtUmYDsUmJuxDAHQ+oq2PthvDRGNBBg8rEfsEOxEtDQgOqeoS1GY7ZoDUDwk4UULOF6BsRIwjEbQHfqKs-keIp3jRSJFZp9U0zPoVkGto6C5s-Sa0iCMgiqC2RzERNO60ICyBohwYPCM-TGHK8Ig-JMFrKNBjO8JQK7ewTIMvbedAO9-cnJJmpwrsqO2ouECQVaG9YUhwYL9h0FEQJYK4AiOgO6xZ4uRJAdHFEMqOw6SZL2BqV4WMMjy6k3el7MwO41gQCJL2ekEEaAGeIAAJaOpIAACC4AcANHQABKzxSAAAHlk6yAPrPEVsL2BN2gSL7jCAEjkinAuQ0IQ-zZySinRMo0sd6kDbqiaxCYOkfQGVGPC6W6o9QOlBbEOi+eFITsaUELE6tNsbAysdGNjEJikxqYjMVmPyKNi56eEZsWW2LFtiThGRdUaoJrEuiuObousVuj5DLjGgWKPgX72Dgs8hx-bC7HWPLEZE+BVSQQXzTRxBD3As1CEoiOlgoiLxG8Z8SD0yK1Cbxi3fAPmKKo9jVxZYhIZNAjGvpVwfoEgDuz6wAAGIhneAoxIpyo+rYAdclfCUADgT6DCbBOQEGpoJahOCd4AZI8A-RDYYiQ3VImMB8ilSVCe4nEZZBMhzEmSLYAwnbNZ2OEyEYuhmZwIgi1EriZWBwnadlG7rOwNJCYmPgpAMQPQMRI9FdYhJNJHZpBBwlxFSS6E1cMJOwm4TRsd4QAWMCRTqAZYQ7IBM+jd4NsZsGPMYIxKF4+9lJJ8VSath4mg5thPgTNnciCKGTJAxkuQDLB1ATs7h1lOwEZJMkL9Z+PpDBGvxO6PsfJfkmWApPdbBgQB97ZELkB96G86yHKAyaFN8nhSKxWmOVK73T6rcUu4Qb8n+zKDc8yptnGilvhkAl9N+tXe-IThz498bS+fFBOxNaL34kh5fS0VbQ9L7wOhtmD0qAninhTSh8vAfsdxKzL9k+NFdyQvHmG-chgeUhKUqNqn9NJp-khfoaz+SgJRpsgdfrFLli7TTJW8d1ibzz6KBlUxETDvbxHIJCwhXWCIS-lz5dT0QWUqoqNjoxl8RmA3ZPhZ2ICwlKRzw7vor2Nz98GRjI4cjeOPrPYh+xUmYbcU1QNk8AqWLGUAiz4dT2pUMr6c8GtAIzzJmkAGRaILSV82k1fUGWyXBmXd2e3w6aZwRhlYASs7MxspsLaTRTOirErLvDKqFIzFOdGFKUtikAeRiZ-RLIT1JbJ+FMZ2Mt7JpH+H9DARQs-MorM7KLDTecQ9iZLN6ltl-MikEgGDPqHP0eOiwNrviM5QYVTgys7kT9zCDuMuRAwkNlVLNmC0OoEwhwlsNRmLBqoLzR2VYi1m3SlgVpGkJhz9keybxPs9xM-QY6BsbpXg+6eHJYkWzBaPHXXjtTABYzUsMcmbv7O2D7DcWFs8ZsbLpmmyLhMAhshcI6jBTQgZcqmKbNeFVy4ZKQV4bXO+EqkWy3LO2V0MdGxp9WvgXbCBSWmmQvYole7IyBTDES42RYWgKGAlFRgFJyvOSApPbjUTOky8ysQFW0i7d9WgCFxDdHUDGS4Qi+IQnSxEZug158I7tg8j6haTngxErEaaxxGPDn53gKmFbOU6SZQw2QVbMRKImyhCi4OWSbkCSl6iusDc4kXqgUw9IoFpsmkccLLHvC0wC8vJL-OqwKS65KQZkcX1aFQL2R7QgEQ7NCCzZSggwqDEKw-nySMJnSDBf-P3lXCBR9gIUeCIIWijs06uCMeOMkDJjYUAAGWjrZjbRpQZCaTCAnPCH5JYpBePRemViJRYwGsWBPrEuJ5x0ohMMROkW1COxaXLsVIux59i1RuiwcZotHGtCeFfCwReADnFpcmxXQUxXuOV53iAGpgkRBuPBFbjXRlUPcdgqSjETjxWg8EIt3cUuCKasCaefqwCUuDwQN8xSEPQcUyKbxTirQfeK0CPi-kACs6hCSHq4RiJNC+IdeISGATgJ+iwpb8KBFKpVw8rakS-LKUEU+Bt4lJTYPSXBoHCCNXdM4uP6gDjBP6e-ORl7aHiLsiC-8UUvvwwiuUC9fRcMrfkQTxc1ZBpddMoXVL5W5YjUZi1ems4ZowgA1IaObY1KP5+4pTFQpFYw8vwWykgANMplpCYcNISpWMGWWmtVlDS7luctyBFt5a+y8Vk8osH9ypRLkInrsO3lMIGW+gH0SSESABAwc6fMFW4IpCGAniYwFsdEL+UyiWxTWFGSiqJ5oqAunowDgak8U7jKoaK7rjqnMZQoQ8SKvgS3SDQhKHBiHIEC2KiUH8YeoQRYLVio5asixR4k8XAyCItjBg4yslZJPriDKwRLg6rgtPbLv4z6lbOwA-ORVKKt5EC1nHWINSoKNAeScBakAxU1iAVMi4zIlB1Rei+sBKqmLuP1Ukqf5jgYVfKqpVHAPStKzUYBwiVZAmVjwFlTYDZV9B6VAhSJTyt3SCT9WAqrakKpDzUSGlIZSVQbJoY9t5VTxL8bs1FUSs8laKgOaQslC1sH5jjJNdy1jUtjs1XK2gO3DzWiqC1w4otRynhVyqkVM9JRcSuVX6pMgAywtfQANQ8LJxKYtMZmOsWYh21iYztTOOEV8rRVwahGk2oTX+hEhSssUp22lXxxM1eSpVWiVlXsEMJtahcfkt54EiUecgexfq2pwWKBFQi0bIeqsVkjcWT8--mOt3VSKp1DYQEDOt+VRE0wQ8IVGenlE1MygZ6fInYRfXQhN0K8mfk3HyLHo-1IgU9ARAfbnTrCkGsQlICiJhVX14MADUCslabof1PGRDf+vfWVjApsGkDcxCDASAkNYDFDa0Izb4bDFYgCjDoFshdBqlOG1oXhuA2qi55xAIeNQDklgawG3y8VR+v-IUwqY3GjeMJqWIw55lWg7li+s41gLCNvdEjR8tE0sCbARy6pb+toAKbR2CmgTGzMVYSbxVk0L1RTUb5IlVNprYQhppk0M9xYiGmTYwOI3Qhn8+mg-hKwQ0ObkNWG8DeM10H3l9BKAwwegJwGuKJcSy01q8kw3uaKA9mugNpq3TOb1Bk3SaltVs1yTj0nm0jelvlo7p1uJFepRYK7BGaH1KVFMGZo-nRViNVmsReLBo00IA0IQtZY0pcGpKhBokNHBhSaq6bEoO80rSKxiwyBaN+jY5epC7jKajswIlhWKocG-Dt4OW9NcwtBFrLyKq3NmWVlARMxEtYQeLZi1FCFaNWpm0LWVsGA1a+I1m9wSGFqwtsAEyvEXD7z-LoNpaySbBqIXdbL1x4k8S0LIjq1bbLolZJpQ+KVrOp2tzqFyOdpeSfc+wZ4F5B-VJYCYQhvijPOfAGpldQ2ygWGXDMBC1o82f4qWXBWRIractgIV7avQ+2poYl77ebawtCX1Ef262wHXlvFU7b2VhO0eCvXe16Z9t1CPiENrgRE62dUhIhoSIxRrgJAsVA1AAE4qgZ3EXWf0W1Qapd4VGXXeOCg8NDAR2szsP3wHgrk+y-OjM4FmIITyp1gGKmfz0AssWWKYNAJbo9XNSbOi0mwMbsipKjDAs0lIA7smwpLldMKJrchC3TOBcU6BFzkdyN3S7IqayvPg0msbvE8IwuhXZFViXxw5AJ8s+c8GlAIreNLm5XltsZ0VVj5kVZPRzvxRc75WcCXPafJfQlcqtikL+DtGpBDbaUxAL1bkW8DpAaQsTV3JJhmgGpsR8IdFNHur3zxuIsgevV6qkYVAYlf0uVMykYAt63awzW2TSGOLCgzObuimjilxT97qQoAeVuIAb2Ls203VSoGmvt0h71IwLZZUaA261ct+dGJFZWwtiIra2P6GaAaoPoLqMJ8a-NSWpbUWxsCorF3SnwzzN6dylMOfX1k2j9DGQ4IWzivsBBr6cU8FFtRmrrb7619IoS-bbq35RrCgMBuA-Ae33siGAuBnFNbsCEn7FtHSlJS0r+RA6mSZ+sLbAPB2BhIdzwGaOWIFWo6CAW1ehMpp62isno42hbaoLhFPZo1thHjDkDoBIoeGMQL1YpM2Vd6X5PeloH3uYA17pFjSFPbvv1SIkx91XQsg4Wpy8HqR-B3QIKMm0yDhDlEsuGhpqJiaUgDTYkvUIxKjCWgTTErPOjRbVLGDjIZg8Ya0i2Gt0COzgwjW4Putu9aKZQ7PDUPu9tVqfTCafA3hj9xMhZcgs6T6xAIPmyCI5uQSjZRgJ28nVmt-FkC9tyUBqPmuEd71RHMokTVBPJ1MypHjy0zByoG2-4IQN9xRk9FujkjtHmx5KA+YslfqNHbZ7lFo6ocyi9HE43LQY9WBca8634JOm0CQr3hOUvU3oYHH-z5pzH34qaKoz-HJIQaAEB0sIPOlxbTHFQqLIoxMeJiD9hZGK8BEkZ3j4FD44S+BM3iQRSRups-THC1Ok44hMEUqnAO0br0ss0RegOGQAB0sAKarpV0Dv34AniFTdbdNX6rsoLU5uoEFPpb1SUsAQJ6pSCeXFgnGRkJ6E6lPGC5x4TGLWUYukIC5Et0QHIIjSdAAAAvTuqAEhP-0YTZJqpAiaCNAcWTqJv1OicBCYmrS2JobjcHEP0ApDPgEE5ybhM8mvqxLQ+KoCRIeAkSpAJEtbUNAssIQeAXE2FtlOkn5TlJxU0qxVMqx1TmpmJUKZFBAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd6Xg84MPgzBsFAcCIMg6B8DwYuKSo0G2QCsrKM30VSLIChKMOkaxMyCVhAA-NYxKH6EABcCzSeU582CfcgZAdhCLG+SLDra4npZJN-MoMq8mDvtYK+AV-R9jXOBd2B9ErWBPovdKvZAwQOzBBcOytQAAKAaAEBUgQIXkgTCW+MDQBwOtFBJcoFkEbkITRTBxCcF9WIuaRkRCYGkNCmaGULDaHEDXlghhgVgqNFCj1cKHloFsIwWQwRaVQ5ZRXrwwB9CFjKTkRFeIWCT6a0kPOPQqjuKgj4owJOph+hYOISkVRltyhmIsXYmwdCYEMJOgtVhiV2HpRcWdLxX1bK-RsRgxR-CJaP2lm4woHiLahJ1pZRxiUGFGQke4qRoVEmxKCcoiI-tKBuxocqTRkpFgu3UvAzQfE9Ah1EZldRpjAlr1sfY0IZVJIfwEl3AJAClFOIwYwZgawNoAFViAHRzgAd1hHCRkqg8KgAALSzJSRoWyDka7+3UsIQYXcEaUHwKAPQERCKUBYEI5QYxdHCENPTFOhTikFSOScs5b0KkkE2fnYmNhqgYLkLIcQuz9lSD9CwRY1ASBdHOSQS5dYbC9g7oLcgxxFllOeCHaxFyGmNJgS5PixAuir1WLQIUehzEYpsCHAxvF+LPOICYdFJLiFd1pXSxKlTeH4q4X0C5HoUj8ykNZD+egiJwq6RYk+fLoJjDTNivogq5CmGJdg0AoLWoxE6FUD5XyflQusN4PpVKUxDJGdQcZBBSaU0WDIOZCy1n5g+Z6O8zTFCtL0D1Og-9FFXLljnPOBcXXCpSCfJmQCr7LFWM63e5TIbGPrvnZ1BELpuvqfKmwDqoI2gEujb1AlfUJtFjXeBvoUpCNoCI1y1TxHpLXlcnl4xGAwVKcvbqrkCqdA6Yov1ETEUNrqqIgt9BW18IsVfet5TG29X6v2h2pN80+POjmq5Oy9kRHJpTam91XEowRmEL8SrIbEFVZiT58gfkLv+d0KkGNvrc24SLTdiUvzDuRXXGGV6fbxoAWq9VR6LVauhWA2uUbIjGFTSOBFxKH0VKfVzQlKN+jvrviewyjpgOPoA8SZDkLiVfkjZzPwyGP0pEPd879mHNLTppq4pNV0cN+ItCYt9ij8NhFqKEWoaFxYppIJwlt0kS6YmrUzPQPH2331AIG+JoAQ0+EBAAKk40wvdHRpNGyUs1SScmBQKe0kJo0ABIUIdrSZ0DdsQZEhB+woM3CYzdCHN7ke8ShD1v70ygGeginxz7-HMkYzMDeSggUrpnSjYlAaK7Eqvs7WURVjOmfM9QxoAlsMXpo9e4wF0aWUZSEZnIMWqFXn9HobRM6MtMo7klrG5A6MAUY4RzVd9q2INLBZvJGi7EPx5A12LeWTPwmrO6MLCw8FgSazU4TyS4qDdy6gt+9sk1XyZtVgz4t83awUZWqFMLLYIvNtYrzmIYWhPUAwI4Lnosgs66ggSlsIShBhep6UnQjsqehmpkE8mW0He+dd654HLaMosViyLShWXMHZXoqWh3Bh3bpA9nNk6ltkLSeggBVbNLaLFTaIlGLwPOVLWHGxxXCidL8lOshnDoMVs3TCj+CLwNk4tMhidjHOHTYZ3TuUPX3x-3vOKnNjGvwf2J-D0KE3nxQIp1c5nHP37ir0CLghr4pf-j+9q8Nzw5fDcgvyrnADld1NJADO8+aOuTbF0j91ULJdfwZ8b0XlZFf48SuBm38vNcy+14o3XcHrhDzeiPMe7BJ5cBnmgMa88KTNFrc8PCm6vwzJOMdqII5BeKW0bo8l9h+KDF+3rlHw0eTJSBSCnFOi3pGwy+noxrrQDZ69zXUBhfQUl-BhUmPvmFaJg5SmQFwLG-ziDopMlOYKXGJb7n-WzVRr4EGNVLOYgUXUDUqPqFX4RqtQqYMDqs+IZvSB8oNlhL8Ct7z9DSfgwJrJ4pGjpD-LJUWiP+P-4gJ0cjmU7fxk7dEOxgZx-e-7JTJew71lx5ysmv3FX7wpGfwlVoClSAJtF-1TjtlgJHFzUNzIEfhpF0F333zhmR2Xz7jdFrzvESx0R4meFwL400h1EIKnTQOoFkAtnWVILnXMH0x8wbEkwqSYL11FBhRGDGGXSpjxRByFARXmzDwlFT1ILEmrCr1aXgIkxWDWC-lkPFWriINIOmwS1IKmFYOuR1FHlBHbgMKeGQy0MMIsF0JtmcBdGMJkDhwXjwmxVxWBwJR5mUMGGtCrw8CpH4PNwoOGllB0BGGkMVDxnjyUkCOCM8NG1CBPg4MkNBBCMyBUM+yzx8N3xiJsCviyF0GCMVzxgAB4IjcjhhYCLp5U4FelqApMAAVDIUAYSYgOESUfOdwWjFzF+F2SgToK+QEUAAAalAAJxsEMGiF0B2StmULMEGOUz6MGOGNPiiBiB0AmLKMNHlSHSqNqPqPwBkFGRaJ0DaOxg6KKR6B6KBAGKGJK0WLGJWPwEmJkOmKBBTEuIWJcyWPGPuLWPsIpEfmoGflfkVwZ0V2YMxFQOUG6AyFEnIOZUM2MySO+Q8MO1vUKH4wrgRPKJKzgV4UhKLkx2uO1VoIwJ0CwOEJwLbWGKvkV2OFOB1HyMyNay0miLeKpPhJnCmMGBdGiK+wI3gz+VXhpIT3OAENJNcPf0cxSB1WqIRP1WIHSFBVE1BBtUKBq2IzsRhVsIRWINsOdQYxIwbCy1yFsM0M4MMN1xJWNKdVsK5RVIPX8JxFXlxOhL1LY0Ukt2rGBK-iRLkFBNCHBKdN1LWzvjvENIxO9N4zsTRKFnpIy2xIhL+NEgWNOnQOWNFNB06QyypK-kFK0hjKZRPlkEtB1E8O9IZPE1DPZMeM5LdG5O83VT5L2QFPCL4L8wpkEJcPZRRMlK2JlKBCGXlJxUVKeEtUlHk3sh5KYw1TVIsQ1NIK1KfR1Lg0jM0lDONPyNNKeHSwJNJQ0KtO0InJYztLYIdJxITMDMmh93Bj91YAD04Gnl4AwHEIwjuWOSoFOSb29CpXXhMguAALig2SBEOVfMoFOXAIlCAoeUkCORdhfXdguV7gbDkk5T0hhQgrfMeSvIRTinPhug1GUxsA1HsS3MsXzz1HwusD1CIuVxukk3IoUNWCopwvz0PDosPEYsKBugFlKGUy4rkGIWIrCBuiCjoBdlUDhGU2EtEuaJgQEqaXzylMYHIoUrsVkuTXz2EhGD6g8DoCNg0uGC0oYESlUusBun6LopsD0DwkGDhDMCOAAD5QAZlBjpLjKns+hARZlzLrBLLrLbKHKZkFkXLqL88lNBgUgfLQAbLjh-LQBpNIrrBXKbpgAvK9krLIq-LHLQAwAgqmLH8ABSFKiKqK+yzKvK+K0ARK-PePcyoqjKuPU4Gy4Kx-AAQhOBqrSuKpitauO0atyvcoKMKo6rqtACKOsF6o4vzwKKOC8tquisyqmrGsqsfzssGt8rmpmQcsWqavcrsumrCtCFmpKo2uO3Su2r0EBGapSsytCBKusGapsGj3PghFQuiGAvfJDnyOODvmElEg1EGDQpAowu9GJhevuXQo-MrGoA8AACsQwKsvrEofqqU5qaLXqHllMkKIVDRzSbAAb3rfcIQsBQa3qoD0xAxHs4obod0VUOhlNqaFNXLty5LH9IBiBd1gpxKwrWb2bKZGamaTL1KtB9LYBIByK9LJARa+b+abpxaABROiuWqWpmm6AAOVUBVpSrVpVrLIJOer-TxtJpLAxmUIRsKCRt2RKv0JpQkzRvBo6xBv1ttsBt7SNtMNNpSHNrmqQuxptrBudvtsJrvDWRfMgvBWIFeRJMPHkODpiEkCVUYDkDhFTOhtUDUCM2iApnxMaQNqgqBSyCFDgohRxpSATg70qDCEW0UkLJfjTMJXkIB2LyELFL6EowixxT0Bzo+vcKuIJJzuN3pOLtCDboOE7p3yhthooCrzeN9pJpdvATkMHpsBbJFKbs7JQr-RbJ0Efm8PSlXpEOO2rtfj3rhkJsvOBqYBvInjvO4EwCfOcElQjAoEkHukMFfGEkYBlkG3kIFk8G8FbGjhbC-vWOSTki5PDDPFAk7EuMBEkDmPeNuNWLkiAZiKviQfAcfFFlylYGEmpgMT4iKg+MTmjtIFIHcEFmXgME2RIYyoYEGL0FUBIZzMBD6JPmYYVVmMuIYdICVosWYeNluLUNJiYnIEpl8FuIjqr1LuEd5osB03tPmFGOWOgfOsuMBRwdkDwZbSRqkdmEpgkcuRmJMEBC3xtvsBXSMRYHofzm-vLiFgThiNYaZkBDvgYTinsa2E2CwVPQExdHsbMCCC0l8esbMG6qBCPnBDvhPn-qbHcfCMBHCfMRPgfoYctBfsrHfplnsfMSvlPWyVySjHce2HlQeHREqVx3kT8bLNYZUcGOkapgseiYOHaUqdePsT6LgaBJ-kSLKaYjxz8dabsXacuLqfGG8EsbkmaeCYMflXBGccHVMZEfUkBBYojv+t0fqbGeAcKAYQ4KyeSTqfOtosGDih1HserJbD8bWbMY2cYBYBQYWEUdiD2Y7UBAAHI4GE5oH3mXH4HljVj7GTGRn7pGB1JgWoq8CfyBMnhf6fAdQwWeHGkbochaaUxqjZic5hQ-ZqRvBMWrJBZdotn-UFnRG4WRwQXraXR4WrnFnRnbn7mDnSXvBGqhg3QqXiWqZ4WL8JQwX5Qpk8ICopZMpY1FhrM-kslTicl3YeoMMUgNSd9qTjs75OnURumd8qk8dpWDzQAXrBXsWugu4EUkaeX4Q+WBWdpqQJHhWbTjz5gu7qwmHaLIn6LYWEJCJdXZB9W3lra5I3XzWPXM1Owfm7XFQmGWKnXfXMoEwu4g35Xsy4mU607SAM7LQP45mO0ODg3MhF7rAkaE2qQk3KAKZkMzXMpLXNX6XFCqVvRps1n3Wo2vXqspzflF1XBEjNXHMV989wmnorcun0RNXG2v0O3SMCIFtXSKQzUyCCIbGlhK3pWnWqDp2fmFLhXZTDVjV1Wsohg4RzUwKixoDaMrWx8-9Z3Q153kkXRz3tmeldUeo12xlnBN2uoD3sYVkg7sXGBKxyBc4vA+oOhgwDhpXj3rCd2p2RWmH+QcXjGSZxZ9h9WP3KxrEgOIWvIDg38KsrWLywAi5vBNwLhQJ-qzNJRBz2hyBcAwBR4bzSBhgRIjFQAxo9lZBFIxoQ8Q9AFVlqQpY9Ajo4RBg7A-RGAOgIzrleKBUQxqihOqnFUcVlUFNsmME5p1BuOZBeOtIdR+OJO0sdaSEtINPBPMS7FwtOPSBlPVOXQ9PJOfiJDVAjp8Osg9BKc-0Ps7OLVjsbppMWhQIlMJz7Un4X5TPJAeBBgePJAOoJTtW-06BCAPBPOsgEV+QuOQuguWWWxnPYu7CtXrAT0ouYvHwcz6bOguyt1NICuOg6zrBVTwubs-0LP4vjOAv+BzmiRov0vrWYET1avwjSuiu70SuZPd1907FKuf1iEvxzPxPBPMumM75mNbU-S2Z6AcWAvkuQvGvuc4DwuYUcv0u6u6BEuVPAumuwc3Z0pWupvsuWu8uuv+uaaeuRj7ALhUvwdTvHxs3CgOC4okv-rK3VvvTkCEX7EXQ0uMG2uWMm2RuwgYVOvRy9uTPfuUvmvcvIGpvUg-lOvThuvHM9NChCzHvEf0uzFsfe7K2OD4ef83uMUZxLvkeIQifQBhuMtcfxuBOOg-u7DyvpvEpZuKuwTSZJKtBqOCsiuhJQ2-PFg037EH4xfKMr42A4mYhZBP2JfGkT4FecXitNjdUWB72jVnAcPUERz0vlSeebXnB+fyBqP17nN9e8OdvjttF0uHOqgYVSOEUbev3Hxzq-iAT8xUKiPjt3fXxHfAQ1elfA6NYbOtYYggpYhBs2f5COC4-1vkCTGPBo-UzBs9A0+cVlj5CdRs+Y-JhU-0-MD+UC-c-gOEes+S+i+YOzYa+oKTMdSk-rTK+EuTOW-tCTGG6Dgk+P5BhW+UP5h4jI+LYa+gCKEsh4+B+u-K7w9cFwwj2h-PZYoeQ72wm32Fujazxyl1-bDIc5Si8uhFxJAaOcUshGBN0sHFgSlp3wubNyFMOqunNDBq8a+tsG-Y7FyCIZ-DCOfTe3+OfXQPlxu5ycSUJ8EgAOWP7hhT+yLC-quyYCGFMyEXG-tXyAEkky+NfUHp+iIzNtT0HBdthDwAEcE-QqAxdiK2tqkD1Il7adtgIq7g99SDpUdjNyPLXIqBVrLlmIFGLZAWAfUIpIDmDBhg4QLaOgMl0EFiUEwdAMLsv2vjolRBDjUAOIOEFdApBDnH5hwTpLVQ3uDnOatwMeB8DzUxeJQSIKiA8C8eBgLQdPQJLGCVBHUD-IyG8BZBU6YEIQSILEHyAJBtgmdgJnkFOsbB0gfgGoPEwaCEI8g7QRlRiBGInB75GwXoH8GqCAeFiHQSVT0G8CZw1UFAoZlMH6D8AYYIwCJD1QuZ5CuQrQNikiB2BHgYjMwebReRFCjCeQsoakKqGPBvBcg7IXcydZiZr2kQxwdkBiEeDlBWdGBHSXaE8NkhDlEoSI1lDlCeBzQtITHAqF3NMhS2RwoDh2Qu1egcMJPjhF9iIDNyVyDbO-2Ozl9MCX-KQp3z-7yNnAJwnQCAODADcOgTrHvhPwgZT9FBWgX-puXUGlDvAJmDSoLxuEM4bh1tHYZ8PZ5z9wKPwpwJIH+GlFlguw0EXsLsKV9NScTfAFqE6B9EnWgIdEYSExHLtFOZQeEYMB2FmAnWmpawD8wiCLgO6WgMkckh75QVFAxYTYSwmJHvDdh1pKkVIA4LwizA2wBYBwVJHhsoRfwgXqURdB8iKeiUF0KSOlHvdRRMI8UY01pGmIrBGKHUHKPVGNJrS9zHERiNpqcDYQyxLIN+26ztDLKCfStmlXGGiYK4VnIsKMGlh9QTMkHT9gUwQ6NBBgPLdkTy0H57Y-0sIlqFF1lQIp4RRiMURb1KI+iPhMPHFl6J7r817Efo2fgAKDEyp4UaIg0cr1iJ2jSgPzYkqaMghND0xzEIVEaMVT0Fo+LkVUTO0eb6AdQfIh0c4FI4zDKhPHFbip2kEBjnMj2UjqZ07FwhN8VwlzHcNk6dAdOTMBVHQArHVj+WIXFELWIOF-oeOCKRsXSL5y+YaRPHMwKw3CYKoeOekU0aABqIAAJWWpIAACC4AcALLQABKNRSAAAHkVayAY7GIRri7EoxjCRXjCAEjhjfhYI+QoQCrEyc8IqoiMQoNbFzio2no-LABKcD3NWx6gdKG6L-EmNkJpQH8fGPyzyEzxF468beIfHPjXxGEh7jBPg6-j4sEE34fIVbFNC5xkgBcZVAQnUosWVE2gLMlSGb9g40fbCe6PgmiigJlfVITojyFI0k0Ow9wNFWKzUcQwB0F0fxMIRSTteChKYU4CAnZsvx1HJSdRNYlATJox42tKuD9AkA6Ox2AAAxVAa4e6UZOVHxYGCA4lYSgAcBjwOTTJDgxgAimMlQEzJ3gS4jwE3ENgfJBaPyYwBMbaJbJ5CV4WrnQYEdbADkvJnhxclWjQ08TZTBwRClJTnJrPKvsgwrF2BpI0Ux8FIBiACp8WjnZzFlIlb5NIILk0QnsXsmrhspr4FyU7157ixTBYwUZOoBljIc6sW4xfkB2CwNFR+UUzPuv2qldFapJmFKf1gORzsl2jJDgl1MkA9S5AMscgdjWGKrT1pMsGgRQJ1pDpmBh5AAbtN6nlSsgzYxQTIEMFCdkQuQdfhcP2FQo7w50jac6iK4P8aRGXZ-ll35KEiXhr3DBDKwxRjdI8--HAbVhJQbYP+6AxviQTbZATIZ3KTSB4DHEPCFiJ8dEURgWJXx3pMsQEWXzoHTcdMDPZcj+QIH0iMUJ8AmSqN+kBM6Zl7QlvYivg4zZAHPbnvTxHF0zpWFYxkesOBTERQIQM+KdaGEnrY-0NwuGYXwRnN84pbw60oxhPTSzQmmPCHtumIATElRUYtAbLMwHoDra2omwOLKRHl0D0Tbb6Yv2tCQptyeAaTA7LviHD0BMs1MmcMSKmylZA0hsKrIx6gDOgI0kgNrNhGiyp+xsomTLmBGE8dM2PLkYZwwSrD26ffdQMjItlDsT0wYO6VIA8imznpv0lgvbMdm9cGw+ovEYaLTm4CNZI7JwqHJkjrdU5h5cdhKCDn3EdZgvRYMl0WBrd-RAA1EacFLlZBaa2I3EYPJzFZEFOmgIkZ3I6jkjSC3Ix-h3OplEsBZigIWTSBFkdz-q3c7QvPJpFdyl5x8BOU4SZFLA6C68+zl3P+rJdW+WVMAA7OkzzzeR1UDxoKJJ4zzkkLcqmCHMlGWDtykojqPKNCCfy25pRRsb-KTGJRGxAC42cyn3I-MB5mI2cbynxa+BkstYEcatG9ioLysKYHyXu3vq0BQwIEqMD5Lz4AMygpC9uCFOsSkLK+onF0OZwqkszcxSLOQD1LhBfBI8ETcTKAzdCULrpwdXCD5Mul1yYx6k8OqABTHmFJZzmUMNkBMw+TvJsoUEMVNAilTcgpCxjLdi1mtyMxoGexMApDliKIxgC2VoQo0DyI5F2WUhaYrCBSLNyQUnEMAr0VZiy5Y82BHmLkDLtVcz9MlupGoUL51IVihRRVIp6Fj7AxYi0c4rLGypc0x4-CZIDvEDIAAMrLTfGeLrJRBewDpJ8n-ihJZsyviBLGBziaJiEp1tBLAkJhclpS6lD80wnpRql7cepU1OYg6CZBCSpJakvABkTLQFElpXkvEXyFRJw9IYcQnokWjGJzEmpYkOIRP58WXE9oeCGzbjLFh51btniyyALLFh4IARacSpjVL9JBSmQaJMmESTGkiikqsVkEUtKRF33cRZpKTTaT9KBy-JbqIrE0g86YwMFnoGMWASkRbYu5iJPaFiStAZywoKiIcrEphl-AowQMJbQZZd0lEnCX2l+UaSzZFPW0cHWqWoqJFuo3XGuVGH8yfF3ysFmCIBWVTX+M0YQAin7GTsflfi62oCAfS+KmWxvOWFSpIAYyaaTrD5TBRZUgt6VTLMlakPuYcrcg6HASGywJWLDrpEQOcZ7z5F0LN4hDFUU2MSABABsi-dcaDAhFcDv2dgXSXVNmlgT6GcE6lPOjFbqLgweET3mhMaCgyzFzmVccdkmUHdFxdq2gFNxhSkNek9OD1eaMWHu06UKy2YTx3YnIqtlPAtlaEEWBmZTO4agScQEjWPAy8diXZmasGC2ifVhU+uGavJUTlyZtqVmOLEMDVExgIU2OiUtoUyLX+rEhFGmCIXyJNFmIB-vKo3miiHVkPFcSpwRSuqqYi41iV6r-TZr6cIU1IUGpJQhr2xKnXBfMu4lTdY1fQMNRspkDJqWAqaixJlPxaZqMqI6uUGOtGEFqGBjcu+pKH-YtLkQjAQ1bkH9UzthFt6xMYfLg43Lb1PzZ9f6tNUcTqUJjd9Was-XIrN0pag1f6oRklLb1Wiv9JkCRWJrHsCSwifeMfEvjulmIODTeIQ0kT0l6ar9TurmpQbr17ya5ICH+LQdi1bpc9cIurWYggN5ahyZWpNXNrqu1vOQF0FyUIoOlKStJYxnY1dKwxlbHyThpKp4bclE5L8ERoOgkbT1S6fzFTDTDQ0nkvqJVVJHRK+oTGxBWTdCGFbCcrCWkFTXXwgLMRLQ6mkQFmjjTyEDpgjcWFJrbJrgJAcm5vAppkGiddNpGikMQWEp2aKAmmshU2Gc01wM07m6ECZqbiV9zN7cPdDoFshdBvlDmkceQOrg1xZN1AMqUZsnrCrRhimkUilsIRZaDORLaVTwJ+aJaypGaHLXoBy0zKVcS8PiPyvWRPostZW2gB5oqzpY6eBJfLS0MmiLrzqyLWYsyrBav5GtSW79aevc1Da4htmwLWlplUZbpNNmugE1qjABbjNCgroSkBASeTohLgzwaMsxTEq-FEGADEts81HbmtU2ngS1vCoZVRtxWgzXNqa0CQTt8aLAK1oxTtalhooLrURsUopg+tfiiSrZqG3h9xY4W5eAyn+UiqgViwkFfkMTI6i5y9lZ7e11sZlBftTLQTDIAi34MatVjIhrYuIThKzRAKjchl0AQvaRMBOyJasq5ExyFUTMQnikDe1dhPtGLXrXttZWDAQdfEIHQ4RDBmYwO9dVXAgM3rb0REHZIUNdLzbp1C2KbGXGDsZ34wvwJy8SQUPMQQrzELkXneUgV59gd+zwN4qcy9ZgjbFsuAfn5SsErtlAgwGBdYEBAGoH2ak7nF5PmQXF+iz2mnaEEBCS6C2RbVNoGxFQuYTRESgNbMLjnKI6dqujQiKo+1xrPdqdfNsm2Qys6qtXyv7YMC90J6f81kmFMJH5aSUhBCKAAJxVA7weesSkTq00mpxYpeqmKJOCh-1DAHOr6ZaqU3RkSQ4XSriemcDhELJd3awNXr0CvNXmKYNACPujVQzpyxCfvSMJJmhBq9AKqCkYjmHmDDA1tZwAshnwsDTpNgOfbXsX1V4c9c2qSgIrYViVOFMEaUGWrO0tCURke9odHvcrqB2FZ+x6ECFR0gtlMj+0-TWhT44AYUMQRdQK38wIpAQYLcQMQEXUXxoONcHlh0GiCnIr1Z5ClfCn-3+8barATOigctBut-ME5B-gJkwOdrZ9EgKSudXmQLJh01RIYGMxiCRbLUnlI9UOwh4woZoCKY1pMhaD8sI21IWkcYmeCYHoGFQHZRz370eUyDiguA-5ITJgHF1dB+ZGPr73EGhBHddZtjpmgkyT0IG79hbDGBwcW0ah3vWepY0OTqi16+huepA3WJ9DKMxQYobErnVLxZqwwxOO-YcjVA1eHwmgHkP09j1FiEQ2QbEOgGMxDAfw2QdmJeGiDIlIQUTqTSiSwVcO0EDJKZRAt9tbu1IGTUZC66flRuvZJbtACSAMqa8GZW-tBZPRA9hOpoUzCqyb7CgMBiQwgahLtST1NcLg1IG+WYGPC3gdIDSBkY1r4ULB47GwdNYtGeDsgfZOAaI4zFBDbXE9PAa6Mc1QAoTTaHiMZDghwufh53S0ckV+LpDRHOgyKEfURGSDyRtHVYe8OMGuZGhvNVod-a6GDg+h8Ls+pCkmGP1v6r9RbECU-L1DfyWY3QXmOLGaQORYUAYfWNiH-VThjoLIbkPl1huXMwtSkBBMBHtjQRyE1CeEO2Ga9FoqFcCriP2I1d1xY4wKvVHa7AwmRmaNkZN0EACj20klMUayMB7dARY4PZUMqOZw7S1wFo9jteZoSzDsBoVjdAABCwUIKP+yyCzF+TsoJZW5XOrgANATwRgHvlKAv7AQd4lye0FAB3jqA+wZTDwB72Ggh9QIAExaHzAcnvlXJhDnoGhpQ09E+eQU+QGFMdBRTKYcU9lGto3Ru8fO77UCFGSUAAAXuGFpqdh9TSxwE8aeYB+tOT3JugOoHDDqQBTQplyQ6aVPOnJTAANgsnpndTQZw0yscJomn9tZp38TybcjWnH8p4hhkdE9OAhLxidakKoFmKwBJTN0aAI8A8DRAOg7QWYgAFl+QoAS8aBUGAAB2AAByBmUw2ZoE1UDzNo6CzS3S0x4BLPuUyz0sbwLMWrMcKoz9Zxs-nndNGJZibrHQDxDlM7KTAWZ5YxOawBTmBVM5z9gYGjMCqboS5is6uZrMbmUwDZ62igAzOZmxzZ50M+6wjPmmou5qeUxIGlIPnyzK5lMGudrObnXTNp+MyKaTMSnRzBp387mbDOZQALhZuDsWZugAAxOGrMWgCc0gQAAES3OP5mzngNsx2agtPAGA4ALqbiwmh6mfzIZiEJefUjXm+gc5hc+dQIsUAiLJFwEORbguP4dzkFwCswAPOPAjzKF4M0aY4sYXqQWFpblGfLCxn88Al3FoCGIuzFRLZ+AAKwZnWLqF9i5OeUutH8zkZl+N4D3x7cfA+FwiymD0spgDLUpwELaftOOmgQyZ+S+OfzAXnLLqlm8zhb5P54aioybIAdGCizFkldkWYvLTEvuV+TdBM0WKbEoQBL06pzUyi1AD8A7BJ5ti4pYsv-nTT3J3izdEivRXYrKYeK+upTBJXjm259Ax6dmJ8RqOWs0gGeBdOmWFLOZ0q+GfKuAW7zmlx-NVZs61WgQ9VxK5Kf4DGX0zfVgK0pbKvWXALtlkCw5b4uAgJrMVnSzNcasUWUrCFxM2KeQtLW0L1kziwPu5NhXuDN0O8dkD257pKzySkFBICOvSnZTdlwkD5cBCwAVUJ4uwBag1NanBgQ53U0VbMslWgrq16cxVatMPWnrtASS4CDeuEAPryV86hJcrP7nDzqNqICsD3QEsob-V889de4u3mNL21x61SBRuvX3rOla2mNC-MXXzLsNoa2tcLNAWfrW1pG3TZetxXGbn1wEI+dRvQXXzQId82zZhsc3MLw17mxtfstgX4LdphM39b8vNXH8AAdXDAeBCA0sHSimCfE9B4Dx508+zblsqWFbS3O6wJBui63GA+tw27MRNuA1FKWNwEOACiuKm6AWQYS3UUWCgBTx2QIO6DYDMy2BrVtqy-DfNOVX88jt52wdCNtAg3bZtz2-sGORazRigcFWLSFmKjJRg8gc28VajsU3Izo17a4nYNvJ3Xbptlc9bR4ALXFrpN5a1deCs23Qr-7XC-nnABJsMgtFoELLS8Aumtb7lbWwZrzAphwANHNSKAGSU5AX9Op-y5dejshWeLiN3u-3eoCD3AQw95C2Pe60kMi82gHQLMWo7dF8AsxLhifcDAl3obZdju1zbUuV2bofd5gDvaVP73R7oAAc83cjvk2n7sdxW8BeVuOWt7H93e9-ZFvV2Xbxt+ux7YAeBXy75pu29tegAVg5JOljU14DD6H2qzpQUtdlBTAq1g74YRcBCcYvA3cWPAFMyvfZsoPCz8dyi5g9GDYOoaUHDO8fbMnLFZiUu05ILfocw3GHL96m02dYf2BZiODzh9Pghst2LbwjoB1eZsugPQL4Dlh+KMkcphpHeDjy+-YHtf2R799sm8g6UdcXbr3d8K4-kvEVx9LMgbW8FCBP4OZTbREC4qddtayxA4ARTnYGUyGWhHj9uG8o7jub3rHtjty-Y8cci3M7MQXoKgj4chhZgMZ4x23bXud2mQr9-PDY+4oROHHIjOa--dbur2RHN5nm5tZVthOcnZFyJ-k89uwPa78D92yk9XtpPn7N56LB0FzjMP3KONgu76f9Mi3enKYPG7JYbtIOVrnN4B0tw6ddPQnPT1q7uZTDem-TgnQZws4JshhhgXVnq808tslO+gMzyQN0+xvrPcb0l-Gx7fwdDOpLO9i5+1YjAqoSbCjqO606mftPssnTo53M+60dAs7cT3OwacSf2BknGd357E5zswhZiafM+0s6LtyBdnstogk+hyB0AorPgAg8uOcz9GtjTLXlhwZLbcHuIox-g5MaEM9jX+thR7LSbJP0mt6QeonSyccUnsBMlLhQcCGoCjSoxSjHYXWee3BoVDbR9I1QGXg0v9CpBeNDkdN1zVCjFY9PdLuLbDH+pAA8VtNKlZLSO0SLGqQC56ZiJHp07N7rmzj1S6fd4qAl5IzeSYd7mJTfnU6xujrLlWUkNtrQOXbMCyQyL+gGi5uvt11LMZjuvxFoCbIWAJ962nK5NcY5HgJ90AA5RZsmWTzEIPAOXe9eV3gLz1wN8G7T1GvvdMu8N0G7MlRv6OrN0mz8dkAiggAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd6Xg84MPgzBsFAcCIMg6B8DwYuKSo0G2QCsrKM30VSLIChKMOkaxMyCVhAA-NYxKH6EABcCzSeU582CfcgZAdhCLG+SLDra4npZJN-MoMq8mDvtYK+AV-R9jXOBd2B9ErWBPovdKvZAwQOzBBcOytQAAKAaAEBUgQIXkgTCW+MDQBwOtFBJcoFkEbkITRTBxCcF9WIuaRkRCYGkNCmaGULDaHEDXlghhgVgqNFCj1cKHloFsIwWQwRaVQ5ZRXrwwB9CFjKTkRFeIWCT6a0kPOPQqjuKgj4owJOph+hYOISkVRltyhmIsXYmwdCYEMJOgtVhiV2HpRcWdLxX1bK-RsRgxR-CJaP2lm4woHiLahJ1pZRxiUGFGQke4qRoVEmxKCcoiI-tKBuxocqTRkpFgu3UvAzQfE9Ah1EZldRpjAlr1sfY0IZVJIfwEl3AJAClFOIwYwZgawNoAFViAHRzgAd1hHCRkqg8KgAALSzJSRoWyDka7+3UsIQYXcEaUHwKAPQERCKUBYEI5QYxdHCENPTFOhTikFSOScs5b0KkkE2fnYmNhqgYLkLIcQuz9lSD9CwRY1ASBdHOSQS5dYbC9g7oLcgxxFllOeCHaxFyGmNJgS5PixAuir1WLQIUehzEYpsCHAxvF+LPOICYdFJLiFd1pXSxKlTeH4q4X0C5HoUj8ykNZD+egiJwq6RYk+fLoJjDTNivogq5CmGJdg0AoLWoxE6FUD5XyflQusN4PpVKUxDJGdQcZBBSaU0WDIOZCy1n5g+Z6O8zTFCtL0D1Og-9FFXLljnPOBcXXCpSCfJmQCr7LFWM63e5TIbGPrvnZ1BELpuvqfKmwDqoI2gEujb1AlfUJtFjXeBvoUpCNoCI1y1TxHpLXlcnl4xGAwVKcvbqrkCqdA6Yov1ETEUNrqqIgt9BW18IsVfet5TG29X6v2h2pN80+POjmq5Oy9kRHJpTam91XEowRmEL8SrIbEFVZiT58gfkLv+d0KkGNvrc24SLTdiUvzDuRXXGGV6fbxoAWq9VR6LVauhWA2uUbIjGFTSOBFxKH0VKfVzQlKN+jvrviewyjpgOPoA8SZDkLiVfkjZzPwyGP0pEPd879mHNLTppq4pNV0cN+ItCYt9ij8NhFqKEWoaFxYppIJwlt0kS6YmrUzPQPH2331AIG+JoAQ0+EBAAKk40wvdHRpNGyUs1SScmBQKe0kJo0ABIUIdrSZ0DdsQZEhB+woM3CYzdCHN7ke8ShD1v70ygGeginxz7-HMkYzMDeSggUrpnSjYlAaK7Eqvs7WURVjOmfM9QxoAlsMXpo9e4wF0aWUZSEZnIMWqFXn9HobRM6MtMo7klrG5A6MAUY4RzVd9q2INLBZvJGi7EPx5A12LeWTPwmrO6MLCw8FgSazU4TyS4qDdy6gt+9sk1XyZtVgz4t83awUZWqFMLLYIvNtYrzmIYWhPUAwI4Lnosgs66ggSlsIShBhep6UnQjsqehmpkE8mW0He+dd654HLaMosViyLShWXMHZXoqWh3Bh3bpA9nNk6ltkLSeggBVbNLaLFTaIlGLwPOVLWHGxxXCidL8lOshnDoMVs3TCj+CLwNk4tMhidjHOHTYZ3TuUPX3x-3vOKnNjGvwf2J-D0KE3nxQIp1c5nHP37ir0CLghr4pf-j+9q8Nzw5fDcgvyrnADld1NJADO8+aOuTbF0j91ULJdfwZ8b0XlZFf48SuBm38vNcy+14o3XcHrhDzeiPMe7BJ5cBnmgMa88KTNFrc8PCm6vwzJOMdqII5BeKW0bo8l9h+KDF+3rlHw0eTJSBSCnFOi3pGwy+noxrrQDZ69zXUBhfQUl-BhUmPvmFaJg5SmQFwLG-ziDopMlOYKXGJb7n-WzVRr4EGNVLOYgUXUDUqPqFX4RqtQqYMDqs+IZvSB8oNlhL8Ct7z9DSfgwJrJ4pGjpD-LJUWiP+P-4gJ0cjmU7fxk7dEOxgZx-e-7JTJew71lx5ysmv3FX7wpGfwlVoClSAJtF-1TjtlgJHFzUNzIEfhpF0F333zhmR2Xz7jdFrzvESx0R4meFwL400h1EIKnTQOoFkAtnWVILnXMH0x8wbEkwqSYL11FBhRGDGGXSpjxRByFARXmzDwlFT1ILEmrCr1aXgIkxWDWC-lkPFWriINIOmwS1IKmFYOuR1FHlBHbgMKeGQy0MMIsF0JtmcBdGMJkDhwXjwmxVxWBwJR5mUMGGtCrw8CpH4PNwoOGllB0BGGkMVDxnjyUkCOCM8NG1CBPg4MkNBBCMyBUM+yzx8N3xiJsCviyF0GCMVzxgAB4IjcjhhYCLp5U4FelqApMAAVDIUAYSYgOESUfOdwWjFzF+F2SgToK+QEUAAAalAAJxsEMGiF0B2StmULMEGOUz6MGOGNPiiBiB0AmLKMNHlSHSqNqPqPwBkFGRaJ0DaOxg6KKR6B6KBAGKGJK0WLGJWPwEmJkOmKBBTEuIWJcyWPGPuLWPsIpEfmoGflfkVwZ0V2YMxFQOUG6AyFEnIOZUM2MySO+Q8MO1vUKH4wrgRPKJKzgV4UhKLkx2uO1VoIwJ0CwOEJwLbWGKvkV2OFOB1HyMyNay0miLeKpPhJnCmMGBdGiK+wI3gz+VXhpIT3OAENJNcPf0cxSB1WqIRP1WIHSFBVE1BBtUKBq2IzsRhVsIRWINsOdQYxIwbCy1yFsM0M4MMN1xJWNKdVsK5RVIPX8JxFXlxOhL1LY0Ukt2rGBK-iRLkFBNCHBKdN1LWzvjvENIxO9N4zsTRKFnpIy2xIhL+NEgWNOnQOWNFNB06QyypK-kFK0hjKZRPlkEtB1E8O9IZPE1DPZMeM5LdG5O83VT5L2QFPCL4L8wpkEJcPZRRMlK2JlKBCGXlJxUVKeEtUlHk3sh5KYw1TVIsQ1NIK1KfR1Lg0jM0lDONPyNNKeHSwJNJQ0KtO0InJYztLYIdJxITMDMmh93Bj91YAD04Gnl4AwHEIwjuWOSoFOSb29CpXXhMguAALig2SBEOVfMoFOXAIlCAoeUkCORdhfXdguV7gbDkk5T0hhQgrfMeSvIRTinPhug1GUxsA1HsS3MsXzz1HwusD1CIuVxukk3IoUNWCopwvz0PDosPEYsKBugFlKGUy4rkGIWIrCBuiCjoBdlUDhGU2EtEuaJgQEqaXzylMYHIoUrsVkuTXz2EhGD6g8DoCNg0uGC0oYESlUusBun6LopsD0DwkGDhDMCOAAD5QAZlBjpLjKns+hARZlzLrBLLrLbKHKZkFkXLqL88lNBgUgfLQAbLjh-LQBpNIrrBXKbpgAvK9krLIq-LHLQAwAgqmLH8ABSFKiKqK+yzKvK+K0ARK-PePcyoqjKuPU4Gy4Kx-AAQhOBqrSuKpitauO0atyvcoKMKo6rqtACKOsF6o4vzwKKOC8tquisyqmrGsqsfzssGt8rmpmQcsWqavcrsumrCtCFmpKo2uO3Su2r0EBGapSsytCBKusGapsGj3PghFQuiGAvfJDnyOODvmElEg1EGDQpAowu9GJhevuXQo-MrGoA8AACsQwKsvrEofqqU5qaLXqHllMkKIVDRzSbAAb3rfcIQsBQa3qoD0xAxHs4obod0VUOhlNqaFNXLty5LH9IBiBd1gpxKwrWb2bKZGamaTL1KtB9LYBIByK9LJARa+b+abpxaABROiuWqWpmm6AAOVUBVpSrVpVrLIJOer-TxtJpLAxmUIRsKCRt2RKv0JpQkzRvBo6xBv1ttsBt7SNtMNNpSHNrmqQuxptrBudvtsJrvDWRfMgvBWIFeRJMPHkODpiEkCVUYDkDhFTOhtUDUCM2iApnxMaQNqgqBSyCFDgohRxpSATg70qDCEW0UkLJfjTMJXkIB2LyELFL6EowixxT0Bzo+vcKuIJJzuN3pOLtCDboOE7p3yhthooCrzeN9pJpdvATkMHpsBbJFKbs7JQr-RbJ0Efm8PSlXpEOO2rtfj3rhkJsvOBqYBvInjvO4EwCfOcElQjAoEkHukMFfGEkYBlkG3kIFk8G8FbGjhbC-vWOSTki5PDDPFAk7EuMBEkDmPeNuNWLkiAZiKviQfAcfFFlylYGEmpgMT4iKg+MTmjtIFIHcEFmXgME2RIYyoYEGL0FUBIZzMBD6JPmYYVVmMuIYdICVosWYeNluLUNJiYnIEpl8FuIjqr1LuEd5osB03tPmFGOWOgfOsuMBRwdkDwZbSRqkdmEpgkcuRmJMEBC3xtvsBXSMRYHofzm-vLiFgThiNYaZkBDvgYTinsa2E2CwVPQExdHsbMCCC0l8esbMG6qBCPnBDvhPn-qbHcfCMBHCfMRPgfoYctBfsrHfplnsfMSvlPWyVySjHce2HlQeHREqVx3kT8bLNYZUcGOkapgseiYOHaUqdePsT6LgaBJ-kSLKaYjxz8dabsXacuLqfGG8EsbkmaeCYMflXBGccHVMZEfUkBBYojv+t0fqbGeAcKAYQ4KyeSTqfOtosGDih1HserJbD8bWbMY2cYBYBQYWEUdiD2Y7UBAAHI4GE5oH3mXH4HljVj7GTGRn7pGB1JgWoq8CfyBMnhf6fAdQwWeHGkbochaaUxqjZic5hQ-ZqRvBMWrJBZdotn-UFnRG4WRwQXraXR4WrnFnRnbn7mDnSXvBGqhg3QqXiWqZ4WL8JQU607SAM7LQP4CopZMpY1FgbG+pTicl3YeoHG3Lzq8nA5BgemxFcgZXF7rAkaeWqQ+XKAKZkMhWdpqQJHRXOwfmSmyCCJZWbpwmnorcun0QZX7meouWxAwX5Qpk8IDWRWZX50-kslJX8mPJHXHMNSd9qTjs75OnURumd8qk8dHW6yXrhXsWugu4EUka3X4QPWvWjWDis1LWDy5Yu7qwmHaLIn6LYWEJCJk3ZBU23lra5Jq3DXa3M1TXxNi3FQmGWLy2m3MoEwu4fmO3MgmGtX07dWBWwCe3FCqVvRpt1WGiRI9BR2dW9XBXe3c32lHX6Xp2h2fSbaa3+363qspzflF1XBEjg2f0V988bWXM7Xo2HWC3j2v1HN70CIFtXSKQzULWxWx8-8lhp2ZXy2qDLWfmFLRXZTDVjU42sohg4RzUwKixoDaMTW-2fQOCgPkkXRMPtmeldUepIOxlnAYOupkPsYVkg7sXGBKxyBc4vA+oOhgwDgfWIWcRv3UO4n+QcXjGSZxZ9hU2qPKxrEWP5GEC9A38KsTWLywAi5vBNwLhQJ-qzNJRBz2hyBcAwBR4bzSBhgRIjFQAxo9lZBFIxoQ8Q9AFVlqQpY9Ajo4RBg7A-RGAOgIzrleKBUQxqjnOqnFUcVlUFNsmME5p1AbOZA7OtIdQHPPO0sdaSEtJIunPMS7FwsrPSAQuwuXR4uvOfiJDVAjoFOsg9BKc-0Pt8uLVjsbppMWhQIlMJz7Un4X40vJAeBBhbPJAOoJTQAYU6BCAPAqusgEV+RrPWvmuWWWwSu+u7DC3rAT1uvevHwcz6bOguyt1NJFuOg6zrBVSOubs-1MuBuUvGv+BzmiQeuJubTiET09vwi1vlu71VvfPd1907Etuf1iEvwMuPOnOpumM75mNbU-S2Z6AcXGuRvWujvuc4COuuvTv5vjtBvUvhvjuwc3Z0ozvvuZuYfQIFuHuabbuRj7ALgxvwdUfHx52UgOC4pEeK3DvvTkCEX7EXRxuMHzvJyX3XuwgYUrvRy6AhvQu2ukfZu0eNuig-krvTgbvHM9NChCzCeTu5vFOsApfe7p2OCwfae7CyfGkZxMeshM5FeWMT32fEoZePvHOOh1fvvDzEo-vNuwTSZJKtAdOCtluhIu36vFg5nGkH53fKMr42A4mYhZBqPPeMUT5A+cXitNjdUWBCOjVnBZPUERyJvlTbfjz5gHfyAdP17nME-5OJv03cuxgJvCuqgYU1OEVc+aPHxzq-iAT8xULlPjtK-Xxi-ARw-g-A6NZC+LYYggpYhBsLe0PqeB+IfkCTGPBe-UzBs9AJ+cVlj5CdRZ++-Jhx-J-MD+Ul-5+h+XRN-dB25d+STY6dSR-rSh-4egCKEsglXtCTGG6DgR+P5r-zDWP5h4ju+D+L+IGr-R+NemBDCXWmgZNRkGeHKQEc-+TwSHHKSLxdBFwkgXTjiiyCMBN0WDRYCUktYdcbM5CKTttycyGBq8a-HQFtgIFQUTMi5AiE-03LC80+zgA-tj2DCPcOgsZHzgORgHhg4ByLRARB3AF2FMynXIuOpAP4M4D+LPA3i+0wEYcC2OAqwtTz9CoDGmUnQYLIPUjYcC233F7vqQdLvtfuR5a5EoJNYAD4G2QFgBK3NTF5gwYYOEC2joAjdzBYlBMHQHa4v9GY6JawbK1sGWCugDgwrj8w4J0lqo87QrnNVGJGCTBgOdwVYKiAhCZw-g6egSXCGeCOoH+RkN4CyCp0wIFgqwTYPkB2CEh4rATK4PLbxDpA-AbweJl8EIRXBAQjKjECMSpD3y8QvQEUK8H08LEgQkqsEMeCy8DA1UFAoZkiGdD8AYYIwIuwAoudpBgwrQNikiB2BHgYjEIebReQuZMGpMCYSI1lDTCjBcwx4HkJcH9C7m5bMTLhxqEpDsg9Q7IR4KzowI6Sewnhm0IcqrCphHQyxk8K6FPC9en7CUHfygqKBiwvQOGCPxwi+xuBRXZzLQOOyCCj+UhE-jf1E74C5+ugOgX506Dls7+n-UnqAEBEUCeBZQyYd4BMwaUneggjfgQOtqYjgRBg5YGsKcCSACRpRSkYMDJGn8nB3AphvgC1CdA+i5bQEGyMJAciwOQXMoPSIxFaAzA5bTUtYDNa4JwwHdEUT3SJZfCdkLtP4SwiFGMjtCkogDqGkpFmBtgCwDgoCNlaUijE+Ix3qURdDajNehQF0AaMtHk9cR1I2kfIItGxCMUOoG0S6MaTWl7m3I9kbTQMHEksgtHbrHsMsryEOCaVO4aJgrjZciwowaWH1BMxcdqOBTQTo0EGBushRbrJkXtj-S0iWo3XWVAiiNF4iaRpovQBmK0CbJUxtAQYB6MaRZiYR1Ahdpn30oyp4UcTHkVkFpoHDQs5ZZYoGMghPCCspo-MUKgMGEB6CvfFyDKNrCwiIgjzfQDqG1ExjnAanDYbMNs6g9QujgnMc5kexqc0uW4uEJvlhFHZxeOPBTLFyZgKo6ABgqcZ61a4ogZxIIvAbZwRRLiRRfOXzIuDS5mBWG4TBVLZz0iBjQANRAABKy1JAAAQXADgBZaAAJRqKQAAA8irWQDHYxCNcXYi2MYRB8YQAkYsU4CxHyEJxYwe8TOONGys1x94-ttWL7SETqUPzNceoHShJj8JJjZiaUFwk4t4sgQ5keBMgkwS4JiElCWhI4kE8aJAnPCbxIYnyE1xQ4+8ZIEfGVRZJWLaSbQFmRPCKOKw3vtxOTH5YGJxEofi8NWFI0k0gI9wNFWKw6cQwB0BMXpMIQWSY+ChKkeHWBHqtsJOnByTJPtFuSvRwE+wLYHxYFoSA+nY7AAAYqgNcPdKMnKjBSFWlYSgAcBjzBS-QoU7wAilrSrg0pyQxgJcR4BfiGwWUqAulMYAmNtEMU8hF-zVzoNFOQU1cAlNfBJSwx07eJspg4LFSTBAcRKeb1G5lBkGBguwNJCqmPgpAMQAVPixfHwpOpjUyCElNEJ7E4pDUgNvJySkl87e4sSIWMFGTqAZYInO7j+R-E+tgsC7PLpVOn5gCZpK0nqTrR2aAdQOjJDgltMkA7S5AMsEDmKxaGhBnpr0mWCoM+m3SMEWgq3tch+m7SJpuvAwcGFMHOdkQqrcgdzkv4yRgRVyO8GDLenOplumAo6RhjsQnoPowXEfpNykErdCYkeKgZ+iIwkyduoIogfCMP6kCpCyM60hTO5SaQPAiIhgQsRPhsiiMCxK+OjJlhEiZcHgEQbaR0zqDlyP5DDqKJJQnxBZ8g4mQEwVnYdCW9iK+LzNkDC8beoAHWe9zsDbTwZMrAwQqMUDApiIoENEXVOtBGT1sf6MEXCOX4kCSCiRaEf-0xAnpaBoTCXuz23TEAJipYlsTP2IHEj6Z1tOsdYBtnki5Rusk9tjOlHWhIU25PANJlTl3wNsBAumU7MhGuz1AxE4Xl+C9nnj6BNNE6SQADmOiB+dY4WRjmEFmIdMDc6wNaX6yoiH+ec8kQejjl-JoZkWKQB5CjluzNyOhFOWnIOk4gfRvIv0Z3LZ51ZSMjhSLFbO-5RyWZdpD4WIHLn3FA5TvRYCN0WDg9sxTYzUh2N9Eh9j4QITsXyPEwEzBRu8jqGKNIIaifxO82WR2lNlLA6CNIS2TvP+r7z1R4mCIE-Pa4oj55xeRUebM-kFc95-1EbqfyypgBU50mDURwWfkeM9RKvO+ckg3lUxHR5omIduXNEdRbRNgLBVvNKJLi8F-NK4VW0IURzCgXon5hPK7E8c15PoYqb4GSyzimxq0b2OwvKwphipiHe+rQFDATiowxUhfgAzKDiL24nU6xOIqH5ucXQGXSaWrNiJys+QcgHaXCC+CR4Im4mUBm6GkUribkidPqEtOeDFT0xZLKmIZNAANjn+u4vAaGGyAmZipmU2UKCBGmgQxpuQcRYxluz+zN5bY0DPYhIWOiKxrkohRz2EUaB5Ezi7LOIqiWhB7FlA2ESQuCXHzJ5p8tRYcJSBDpVcz9axRDK1gL51I8S1xZNLJ4Bj7Ag4kMekuYhCpJoIEgSZIHgkDIAAMrLXQlRjSgUUogvYC8nFSCJvk22WksnG+c8IFEvEVRIkkTKEwQyqZU4HuacT0oCy9uCsvMUCR5CLStpZ0vADiTLQkkzZYsupTGS9hoQ9ukmnkkhjFJykk5V9JgRP58WmkvYeCHVbXKZhljNqfwueVaTehfHU4lTAWW2KD51yEyUMLMmNI3FJVYrMHVwhsLLFLk40cRI8kDLWx+LYZZEuBHGKaQedMYGC3LHWKAOWKtcjcLOWfKdEEKxdsGTnIwq7ELw4ehAgyEHAMsu6KSTxPywRLkV7kjLJGODoLKuVeI4iYzVJWfLjFD6QpUy0JVMssR64u5lchhQzRhACKA8exzZaAgJVYLFPnLCVUkBOZpc5JLipgqSqQW0qkFrKreE-NdVuQCTgJDZaiqjBxiiIPeOr7aiFFm8Qhk6JFH+MAgA2aUR+NBiV0KQhgaomMDYlNSTM5E8NbQGsx+sfFwYPCNX2jXUpluMKN8cdluV88nxya77jClIa9J6cyauVe7TpQfLNhtnNSRyuIAvLPl2q0IIsDMxpdK1+k6tVpMHq7M6JgwSMfmqGn1w6JcqlnpLNtSsxxYIauwOYudnkT5Fds5zAxIRRpgRF8iPxR7LjUkCE1rq3ybjMKBprQuCKTNVTCfGyTheeaxwL2onVPCS1JKMtRuNC4-KsgNaowXWtxqNqK1eLe9W2uJQdT8WXajKj2vpydS3hE5IdbbxYWShGOE66ot5I8g5r3V5i+hnRJflEt+OcGnNT82Q3Jr4N6k6lCY3Q10TMNVazdGOrDX9rY6UahDf4r-SZB2VLax7C0qEkISkJqE-ZZiDo2wSGNok7pR2qw0-q5qVGqDfQAnJfhAQ-xZhasnA0IrJpVyIjROtI0TLilE5GFHxqGUIodlHSrpYxlU17Kix07RFZGKU0YrBNmkYTQdFE114pAIpNMNDSeS+pYNAmX1CY2IKWboQorMYXLA+mCNxYGaJzSIHzZNxt+BBONB-nM3+YqYwlKzc3hs3Mi3O9m3jgPifRhbnNkW2Ee5pkXMQgwEgcLZPRc3yF-pHmxSHuh0C2QugBKpLU2JS0GDLN1Acad5snoWqyVUW4LW2V7SZbCENWirLKwdWPAfmlW8aV5toAtaBIbW+NATk1VFLHN-W5zUNvSxK9tynWu5pNAbXuVkWsxUbUy1fz9aqt2Gu+hiIy2bbGhGW6EFXjm3isRSCW5vGdsnqytclYQEBLlLqHpCchlw4hKttNXEELtfQd7fGm4EDr654VDKmFr20ZpPt+2ugANum3XFjtXYRbedTRYpgXtnNHbaDs22d9xYBW5eAym+1vDyVIQ0ydSs9G0q7K+vRKNFoKUEq0d+DE1epC2RJKYE1SoMXKo3KTdAEM2s+XTtqWfLGdzOvTHNgri-awgx20UNDuBDUBcWGq0ndYuUzk67CfSqdHhBDBmYf29dVXFwM3rb0REHZIUMYuXb8tWcbyOrWKvxhfhwVWgSFcQiPmE7-scu0huUkD59gQBzwN4qc3rZYiolsuJVn5ViHgdlAtYyhaEEBAGoiOLkxGSOTmKK9G5fu7XeO2QzghVFRLNncGI53Nz5mTMYugLshBC7I9q7MAnDvF1rbBgmeidnASikwphInrSShYIRQABOKoHeHL1iUGdrm2vRICkpyqoKRiXwIMFOXs9MB+QkkB1y24npnA4RcKXj2sB171IrzV5imDQAz6n1m3Q3sSnH3yDDAYslIOPtb3BQ-6Lw5CNbWcALIZ82gkGWPub0WCN97eqvKXrXAn6xKxi9QFop0UwRpQoa-XY6qH5zbBdjajRffprQv4c9S8PiJTuUx36xKD+6XdtvXZSACVMQRbR4W8DpAaQMjGdXgJmgIpM2kyFoJ6wgMyjjEzwaA8pxmIVAY9jGE9KckYDwGOaoAUJptF5GMhwQHXJfR5XmT7tm2di6xeIGICLbrA8yTyuXTvhL6gWRSmaEaFjls8dZJ6ItbRwthhrGOLaIQ8t2Q2dTINGG3DVhotilLyxq+09rLjgN0EKDVBmkDkWFCj7EdUlc6twaYPJqwNTHS1OYZFAiGqZ5gHWcBrCAMHzDTBsFrCllQMA3D8yOfSYdP1DjiULw03fjtBBWTriAhqVS6Nt2Bh7d5Yl3Xsm90EAMqa8L6fDviMuZ+xNShPZsKZhVZV5224gjkDoCjI-6eBzhbgPhQoHjsaB7Nlge4iyB9kHB-A0CEIMs9ZyoIR7OkZmhPQsj9OocXkcM2Qt0SthRLkS2F3NidOSjQEaoGcY6Zg06zSnU0aNpxGejWkUY9bTd3JG5qqRu8VKJ8D7TXO-+WKDyDAFtSFtzAZtksdeZsS9Avu0AAAB0sAbCxlZIfwDVFLGKeyKr5UuQYop9QIUg-Ad2hVAID1x24-caeMvGikgON4x8ZlGhpCAHha2mFw4KInQAAALx9qPGEorx3OO8duZbGwumJ343Sn+OAhATdBYE0TpuBPpijpRnwDcehPF5YTBJjqsc3zyzGVYsxUgLMVpqGhXmEIPAKCYJWMmYZ4wPE3CbZPqLOTQIDwNyd5Mx6yTIoIAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=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-uXghid-laapp+MYr5EHpkdp-f0x1zqe33oLbCzDsjaAvoGiRpln7x3fqvf0hdAHGOIaXU2yjVxPnUaUiymDuHA3Mb3QBpdKbnHK0SFqCUkyhx0Yhnhm9Trc1uqI32i0kmgZDgo841TOo9RmBsjJgNuElT5GUOOzJDdNACaUWxrT4nLT+JtJe2T-GgMAeA34Q9r6W12C6U5wzx7b1KYMQW0KhsjKaaWVYCZ6mQYGa3fB9znm0Psn+gkLkMXsO8fo4G-Dine1Vmdg5bcKXOTIymeRmzkXQDkzpKjGNcop0pxuqYfA+IeCVbeTV-GsS-OzWa1lfEoqOt7y65TPEvWmsZJa-iAAzE2rzx6P7Qcfl2hThHgt9qWxFt5gyaH31fitybBjtxbc0N7VDziltf1weQX+YFAh8dwlZh+F2qvR2u+rPBB3GsMb-edktzjs4fbzt7H7gb3MFIB1VoB+R+ZLeFmDqGyr27C1e28sTjCbsI9g3J2wdikOaxE9Dk1IS3ENerbjwL+WNCgG3K47be9duuLi0dvEdPSfTxfm0NHe9fEqQM-5yNrmWMHqJ+j6E+EmwiPJ49gLa270bYK-2yXzYXgM4Zm5Mr0mJu-YS0J0XUO3kvR1y5vXiHEugecfNF61A3qHdx-j23kOV1vewQtbwTv7em8QZ7nnDMgc27t4jxqAHfcvK5Q1HlfL2CCq4CKtAM2j19BhuFak-rZrXjjbJFPogxeM+VChSLihLJdwNOzUpfzsu4XdcV1gnFuK8Ui9PWZoAS-WUNJoCvHLkt164jpRv5d0Lp+vdm+XQW8T4Cquxev-e3Lq5EJrtvenDRD8VazwOrXJ+gHa37hfDU-EBPwMP-p-XN+aCG7vqwmu9IGR8kftfJ+psDa33NvPDNdvDKg4jWgyVj+Bpr5-jUJzklEZMNpKj5kHMClBn-kjqPgRgrniPcrToAR6PPlFpAVBr9MlIYtAQ-t7gTvdElh0mQFkHCF4FUjUj5DmHgbhHOt3s4u9ryumtQRTvgfQVVp6KQfcKUIBFZKIGDNvNwoGsGuhHwQ8jvM-Imi4MAhQbfkZE7HYu+AtgMgXmRHwaZpYuzPdKBDQVYCIWWloVBs7soUwUkBCrZHwfdg9kIU9n+qYaIGAQvnwQlBYV3FYRijYSHohvYfNt9NSNpLpJ5HIXguOoYQ0qAKUDCPcCwWkH1p0J4F6hofUDoVnoNPEYkdUJAmmK3oPFuLtvYUkRUGEe9BEVEVUsosSGkV4IkQYXoAADxVEJGeo4GMQVEZBiAbjUBbjbgAAq2QKhxARQVEngKqP8+8BQDYlAeUsQ24oAAA1IVvQi-L8F4JBI5qEXoAsZzrMQsS3lECoCsZ4GsS0WvJnCTJ0d0X0dQAQKIMeMMaMcwuMZLtMbTvMYsfQgcXKscbUW8dsW8XsUQnqqsfgDaJkUQVVlkLkAUBCuuuOmDGkN9NoG6tkCZjEcsKWofIUeEWCb0ssFmvjrUQCX6I6MibbqMkscYJwdQGQZ4LId5BrK0kSbEGWjJPGjOoSRSaEDOmCUScYMyZiYuhsZoHOmCQkukMXD0P7I6Kydnt6tIbDiAjfvSSMP6tChcViVVPuOUNxHNF3MWkXBwriT0M-PYU7IweoYXGaLNBEqIV3OYbaUkAQhScYPYS4Q6Q4WKQnLLLESnCSZCaiTTPaquuPFSmZkcnCaANUPCUEIieIKSQGYSlwoEBiRagYZoDiUmYFCPgSRsS3qsEif6eSYQlSTSXSQcntF0G0b0CyakeybmYQqEA4KMNyfkumTIFWXmDaYKZoedCKfkmwgaX7CxNKakVIbzAqWWbiKqQ6OqWWpqcQNqTpLqUkG1O2CGbiPqT0InJwldCaXwWaW7gUZaUSNaZia6QYe6U6c6a6doZeZ6SXN6Z4QSPGRWboAshHpFlHqwDHpwMKrwBgEnrBERIhKRG5L5F7rAVTvepRNuHBMREhM+I4XocBSRPcPBA2J9h7PxH5MHkLmbh3BhPNs-HBSBYXuXGku6syDXrWpzoELWuOFeUEDXvWrRcYPWgxSiuksdsGqxTkfpBxVRfetuENLxUNAJT0DXjau3JzlJdIESIxYEDXuSHQA2JIJ1JoMpapUMR8ApcYDXuVF0axQZYwPaLpVxWzkqF6piKUHQNPJZZ6tZQwMsGZTXnMbxYEIoNSJoEUHoNJAAHygDXgLHaUuVCU3juXGCeXeW+UBXXj3ghWcU15TyaDpBRWgA+UySxWgDDzpXGChXHbAARXQReXpUxWBWgBgAJWCXHYACkRVaVGV-l5VNVuVoA+VbOWe7lDVZVme8aPliVQlAAhHGl1SVY1VlcNbJP1dVWznUfVWNT1aAA0cYNNRJUJXUdJBFd1ZleVRtSte1YoNuH5fNdFTtdeAFftQNcdn5ZtSlUENtU1edbJKVVdWzoNUVeVUEE1cYINYEGnsyLRMRShQhQPv2AYTJKaMZoBtGpoCRahaDZgoDfwq3sDaBfvtQKUAAFaTC3YQ3LBQ2CA7U15w0IWc5WaEVmVRAk1o2fm0RYBA3wSkUnoCK42yTuo16Sw5R5Sc6c3SyU3OmKVCWQDEBSwUjqXGDC2i1NT80C3mWHX2W2CwCQCsUK1K0y0C014K0ACivF2t6tzpNeAAcpIIbUVcbYbR2YQkjZsCjYzfDYyuDdJJDXWOhDtTOkfrDajYlPwtsJDgzfBaRIytoXjT0ATW7cLgRZhJ7XbSDeSpDsoR1IRDHTTYPpRAuOPjAVYInTlFkjpOuABHKrYJjZIFIAfL8LDkWeONTWhRxHcLiC2HZC3unUNG+FEEGVVk2dCUqeWZnWIP4ZUt3T5LMvAjpMXl7QjeYqEZoLycYNXczdIrUZxcsCPYgnPZrhjdjRQOzDPbbQHd7ZsNItofrYEGOTIYPaAQspIXKZ4FkJEVyEEcqVJO-HFIUOfciHTR+eRUwN+QKr+dwJgEnklLMBQLYGGCoHIkqIwCmCRr3TaqqluFZjA5hD3HhTuubgBkg5sbTrYDscsV8SCdDWgx3Jg-3KgwQRxv8JblVuxEqEzCXgoPVocToawbhJIKQKQCqhJAdMoMBOw2VQwAsYoGw6QDKbTrMaENuLMTMVVG8cI8fR8JI2dkCTRJfijWYE1D4IccBItNo7STyOQNLQYBvD6f0p8V4L8YdW8TQxKA4PQ2jFDenfo01Lo2vL8ToNuKo04yAgaCwEI9RLA8jh3AuNFBI3YtuKQ8rPesE6AOGr6AHPjnOsE3oFqmQ4k-43oJNbTsEC+Cg4Q3436qI9uNkyZKEEA2w6MGA-2JAymME8TErBLpMaroyNE7E+OK3OmtfhlocEkxURI5YwsV49muuL4zOi9D0-8eOLMbg2WuZh0-vlJrFkkxM-aFM28YMz43k2k4uPk-5JsZnC+OE2aNtAWBo8JRIpzguJ7eo948M8g8sCSCIbU22F44dTxTPPeqM-48KQBkk1cwYzc4wCwNFC6Mozsyg9uAAOS4MLi-FQukNmNHEEPBOeMnMgJhiMA2josZUsPHr45JDwN5NYvyP2g17DBjDbGGVVRHjkDbFYjrg0tVSwx3Avh3M9ChAvMzpEvfOIZctqP-NDOAvAt8saOcsegYu9kAa8uDNEtv4iDF2l2kDl2HKYF0hJjAyvQBOYgq4tjcghNy3K6NPPqaCdODixa6tL2h0u3yswiKuUCw4JSERquwguMaustnB9ANwasoM17ZNnZmYzieu6tCvciytWBYvFCXjUiOteiwgau9I3wNONhNOHBBtGkmn741nvH7H+sVotAmvSiMhBv-zVbI2qsxsOA8QgROxQ3hvniRvRvAwutFvYQpya41nxqwW5GHNst8UIN-plvAyuogTnRWYDuwhDuLT+SkNtvjqFMiUoNjsVvu50DTsZuzupHbjWtl12vKtAELu5G+TlwQoWvpBQ1bu2v2v3QNvOvDFLT5BTv3O9uHtg0RmLsTsqPsLFQKzcxpotCptJl9ZCW+v7w5t47MG0gDmFSGkAe+m0gOLt1vJNQtRxs4tBoHu6soMzoYePvGWvTzmHgnhWALMMxIeIWqMgHMIocmM5Z2AiHYc9t0EQekO4fcj4e1REddNWAUe3YvoJ3juMD9jkDUDKT3DRoTCIK6u6EJrNRKCScbt0sCceOG57xieYj8f9j86Seoczrcd3ueZ4C27rjgpbD-Cw2oLthLkurkC4BgC8rfmkCep1gGigAzbQQOBvIzYJ4J7+B8d0BJiKAqhFCaCmADCMBjDMPUewH44hddHhe9OgC815R1PMwyABeiBBdkMzoxdhesKZxcl-rZdxdnFrl+ekBpcZdzqFdryhsqHUImd3CKD+rBJJgYj1etRs1CXDxtdTyekDSQl5AmaBe2A8CaBDdDZGnGDPx0CEClBtdOxYj+dDcjcJoAb1Kj6UP3lcxuczdzepGJdjDTlZn9L7fFvmxfsTdRDPyFfzewiLfpe2CirctWI7efKQdEj+zXd7d51Sx5SHcfCzQndXTbkXd4kpyVeTCxebfimmgSk9QImib0D0vlfDejf3ePeRm4GZkls23TezefI3elfI-LdzprdtdvdRD+y4+7fxr7d-dEJmCj6Iak+fIntmgiHupLew0Htjdtk1BR071BAk8teVBk-k8lzQe7nI2fcld3cgLo+LovcbencU8sSfc0-fdc0HdGlbw9BNmM-Pd4+mdYA68UkiEiE88Y98+s-0IK+G93AobG-i-ndY-LB6-g+hdjC88ehQ9elFyPnJnOKaXyAOeUJ-ezRsAbv9cFDdvjiZDZADezKxAR8ds5QOCKd7GhCp-0t7HnEVQsBseEegCGc-Krlteblw9PlB-kAOeX3I3F-Gf4+yS7ZteNfvjPxWdOz1+CefKHVR-5DFrEXmeyRd9yIt-bhZ+Kd00DRM45TkheA4HqKmeW-e9SciEkZe8OGqOlCz+F0kZxI79eC90zrb9-SH9b8H+0kjIn9z8FOodzrX9ypIUREX+2A50FHr9MBuFScLdlcf8+GqMVJR6H-JAj4VX4HsZ+p-bwMAOgLGtLCNXC4Goio5Plcs62PEKxyya8cHUB9EYNcARjoD7CjSBcn3h4hqJbAjnHSHcEYD+owMtuLsBBwu4JsfgrrEHokmRoP9zGskdgbSTf4WlaQsAtwsryfJcDRG+3PMglyIEN5SB5AsYJQLw6f9HSLeWIAMHyA2guBwcLgWLyg7ndGBdHCDnTyrx6ED2ygm0Fhz0GaBjBBOINj72B4u8DBfdfIMr1h6gAnBs0Cwbqxq4HFzULALVi1H7wTBpgRQNGHQGW7+C1KrqOgON1Q6yVlA7WFBqEMCE8QIhjXUhiIXZLtZreHlfhjDC8E+DKk8QoIdkMSD68YhxLWWkEHyGJChsT-HKAaDuAl0vkAQoISEMcBhDKhmrAkrELbAVD7AoqZIY+1SF-Z0hsyRrjtRqH51zUpECoYoG6FJDShHwEYU1U8FFDF07WcEm8iWHeD8A0wVQC7UogRcnyWw+QNpHtimBEgmjHIQTRIBnYqGbyQ4QY06AnCvB5wxIO0NtQbC9WdiCJiMHGH1CHgjQxBFdHZKFCgW1vBYQFTuHHCNhzw7wfulOFAs1hWKfuv3kggnoJEGsD-uKBpygDPEbAi-j4hf48D00f-OAZFysDCCvuEwH7mMBQaADEEGI+QPwIUH9Cjh64dyJZRD5qCr+F-c6JiMZGb8EOe8XUPcMsC2B2RzRIURpQZHyCHCUnU0hu3wC7puaWbFkNuAVHLxuazHd0KlwlGgBMRegFBqaQ8LCg+giAoUfqLbC0jX+zgESGiORA6jeR0ooVrBAPZmiYmEaZ0btD1H7thRbI4Ps0TnRmiMhZoOdHqKDFEghRBoX0dX2aIzpAxAvUyDOlDHxiNIPhIVqqMVHksPBcqO4EJypTAjPKvdEQiVTBFzQNovhZxA50mA5BMQ7kBTmhDrHzBNA4bHUeG2xFbJkaYowONN0khOwIxrI0UX6MUDNipRDY2gNPTKEaRWxJIp8p2NSiFM1Rdwclig0+GPsaSOY8xPmNnG8gJIf8AUQzEIAOBX+edakMXnkCasEWeTM0eWKqxWdHhZwwLst0C6RD2xOPJ2FZ3K6Pj0uF+UkfvBEEa9pYfoOxJUToDwDjxtgIbo0FPFZZWBNtQLk7FjFnjHkuORAYFz0ASNsmlRQLgshzGgAeiAACS1q2AAAguAHABa0AASj0UgAAB5Q2sgFkiKEk8+AMwA5zU5p8KEfYywHyN7oHi0Kx4qCZGL1a3jZ+NIIdup0wQCTWRQrW8TIEqCjj6AqjGSe3DYn0sJJvdfCYRJIlkTKJNEuiYpIZ4iTqQYk9iRJM4k4VUOt4qEYZPAn3dIJZk86P2nEm0AbwGwzAQwVn4qSBOpklkVxMdFScNhZEbYVDToSYiVUmVPYpWOTA1jPJaEUKfnxyI+juJQY5idGJineTEpjo68W8lMANx0MnyOwDlAigSQZROIm2ky1E7at+wlAMYAoVuJlhipPgpNuCmqmt94eVWbIfcGPAyAUwWnU0FmkQGScxEtXe4LlGPB5T-gcg8qY1KlxVSDusCNDrtHo7ZERCHU2wF1OkAphTB97OYWxVMCdTuplgvQW0RJhwd-ezmWgntLWkHTypWUveBMF8HhdpwCwdAcSK-6iwBoq09aT1L+6MCBpEce0FKS1HEMKGdwDoP9NMizQc8ggrQfLBYFPw2B+IyAUeLULMFuJ0Mo7oGlKB-jKRmvXkqEAVHyxeSsQT6QdM5Ff5Sgmg6HhvBsGRwR8dHc0aZFCAkyNpeTD0oag1QJpLpX0ywW63HCxACZDgRwWdMFzMyepEHGrpaJRGcQGQE06AdIG4m9IvEeIzgQSPcjv8QZ-BR0fHH9jCDMmtPC7gD2IBrEBx0Y-fkjK5GQDzoyYwIFGS1lZtgev0mYC0RFjOk8Aw8d2VbFxGQDEZN-ZGerPllay+pKcXWerxxnSwhpJAY2WKIX4YYwxZoMmTUDNk39LoG8VOS6UsLzTaRMclnpbzRmftYZ-se6QgjsCHBbZr0x0vdjdkezQe-SdMeqMzH5yk4PQHWEiLpEazeeech8u0iqyRyQSJskPvkGW75B0ebYg4fuXlEZiY+UQCRguI1E4cgZxeIeUNgNF8EImdgU0e1mVFYxJZzgaWXCAmmDzYaI8jOY+wQFOzh5DMmKDvJ1DUl95DXYebDWW6gCKqYAd2cPDXk6Zdog8vQOGgWlbgL5KDXuSAmjkBihhzpAMUNjjnpAgF-cmMf2zAUTiegsYyBdbPRKWE0xs8hud3PFz1SGuYWFUlJxQEIEfATCGnNuHKloFseUwA8YyBulScrMN0p-lNP5x0KohgTAnJV2KkPse2pLaQF1KKA3pYYiFUhlZk4X28ERDMROhKHKlFTQZoAYcRlKnFvSXxokKYOancjlSnYOUu0iRgKkLAbpQSZGjArnGyRM4MC6OQosjFQLlgGwahbFjUUkIbp1inoEosdJITA0xi7cT2Inn1yp5LIFccaNJigMxWNoZhQ5kRh1CNFXCuOWuLMAbi4RigTxd2I8zYSzAuEgibYHIm7gAAMlrXomlj24ShAaClNYnlSjQZkhWah14lHiJgJ4+ySg2EnHjXUZSySZYGkkM9ZJuCh6E-yUmVAWl6kjJVktyXgB9JowQyc0uKnlKfJ5kn8QFJXqV0iQlk-MdZIgmtZ7Jzi9IOQuKkuTgRL4IMUsoSVFNti5UnZXCJZY1dE6LSipX5NQ4BS7hwUjSJoqap7EpFXS2RZrOuU+FkpLEhylcumXcTbpDMOELXXuBYshxISnTBlPPLAje6dyoKS7VNByiAqV0OZfWDyEtCEhCys0FLErZOT6A4K9cCAk+WWE45JYy5ZMoJUYtIVVizKUvWhVwjAVyyelKCpCWUqMu9KrwU12RquhCaskd8aRzZUOSglWLcvoLh5UkBsZWUXGW2GBUYVglhKtlXyLvFAtSG4qhYLp0FVKr3h8AvRbUp76ui2FJw-VAhI8zsyTRTsk1RIpEAqAuionPFcjMMlCM8V-qRgYZJ77yTwZ8M2CelydgrLbJrWD1cr2fgcMNwRkNKfEq8Eh1CEByp4YFyqjyTTlXg0VUEHyCoJyu8avFYmsSDN57QjzPFZoBLEhqcpz0e1e8M9I0yu5yhG1aYC6UOr+JrClRVJDMlOxbFsgWLAYrSCurjx+q6ZZ6su7I04JskP1SAjsm9qg1yNItWGqmkbCo1LkGNfePS6Mttlrkn3qmrxBxrkCy63ZdbxELlSC1ZVSdYImnUwry1EvStQnTGA8QppXRcNQsA9WEKfMxUp1SZNoCXzp57YS9W8o9WkNVO8k59apNfWqNf1eK-9V5NfW9Jq1dql9e5BzqOrA1jaovtIFxXQa0kGk4iaRIolUTaJIytIGhq0mYbdJ+SvNdBv3U7UKgyGgDfQE9KzRtwuQJTi7iNyfqZFDawEratrWwb61XCwxTbXI1dLUNgynJXkvjhoahleS3sQez3XQQyqvGspdRpTi0acg9GwCnYHHL8wNgmNBqK9H2F2DohE0J-u9nU2oQtNR-P9HptUZA5DNQgO9tpvOleEO4Zm5TuAXlL8xlKGmovHpofV45bUDmhjXvHeyuajNHm7TqZrOjmano4wGwG5q3rGapOjHO3Ko1yieAnwPEMFUFp-FbTjCyhdTdQEKmWat6WqmFZ5tU0gI8taEUrVkRigcrEgpDbLYVIs20Aott2b-MQEa3vQASwq1lQZoa1GbytKcsoVVvhELI11h1MltsQ62ErgCDWnLX5CKWB9It026YZFtQjswBtmrYrRFroCNbGQAWqzR8L7inzvhjAOoZMIxVow6E42jFiHB2BLahAi2zbctvOiraTQJvTITtVc0LagcO26LV9tux9b6Eq2ptMNto2MAxtzK+VRi05zvacoU-K3KICS0IwnI0o5VbCuBGBT5ADy8cEisd7LBdNYOsFYluS3g6bQw7DZWaFiW5jlVd5fwC9vfXk6I1Zwnwsby3i2INoz29IKttphA7qWoOtwE+CJ2c4CdCgGHRwSMkcM8B9A1DrrHQFSEb6GNKkA-QOSMqrA57JVpch0ZI73hnMa0qjvuUIrsV48vyiZFEli6lAqfFmrgKUAz1PmNEPkaTsMTGsYqAvXDuIHHGILac+4AjnVCFEY8TKd4V4nMSZ007N2JdG1qrvugst4udOvMQksZ1HMCl8skyBzp3hA6VdO7BKDzsfAKB+dmgVPZe2gJKFn4SoKNppQCFOwAAnO+AGgl61KlOmzfVCqzV6QEAUikGqhUCaAZlOOn9l5pRwqA+1TvAuSxCsCpEAADPoOMCN7FAELCFlVDQCz7k1MMpuUSAn1AjKZUQRvcqtf4GhoRxQ3ve3tvDb5rBws9fc3q33swi9G2rSkrvbB8K1Kgi8KLXFtUFaGVso5whsM51pr+0N+gRdmiEUZ6ew2e6-fwrv38jlCi7InTBGIBrr0y64coHCEMalTRIroJ2LWwvBbAo2i7U8YaFN2QHzOWxV8Ocs7UsRkIjAWA2LVACZMTs6owdH9wn3bg7w94RdvIpCXWAcDUkNqOFVbqmgJ90rVla6HXjODoOTg-2PJOzTCdSgonS9WjD4N-dVO16lGH+uA3QaD8mLVff7GIOkGmo5BjtnCDuDUG4ZuomwFpUOr0G-d8kj9eJ3YP0GuoAh53k4IrU9BaDJhv3Vi1ijJKGAThu8PPvH2GGAhlOlFajox0piDdvJHgwqvjFm7tgFuocbbuggu6CAZVXQKUIu2Yszs2YuJdHqeF2Jdm8HbBX5rdzDA6Ax4NVDlDXVcqbaSB2SCgfrYYHLIDgCA2ut+L4Hyee5LuGkmSPRH94aRinVCKyNyaHctqewhVvfWFpriYouVLqPkCSBwmG8Y5tc3AMRGcBB0V0JZjsJ8ESi9u+IztUSOpKpIU0gYCQGc6yRh9s2qrKNNrX-gZpciFqengan7HDtWi2433mc4LEeA7i3CHsaePrhVGu2M43vw-5TSLjybGDVr1Q4iEjlXPXaACcqlXHPeK3RDJgyG3MBy24BiFnWMUCIKAAOlgBkUr1RDZELor4zsTeVoqgkUyNPtpzqHqSZHLAGAbBWon1O6JicViZxNor+8QnfE4C1PG7RCA6Zc6BlxEI8nQAAALyjrGAsTUQXE+yfwAEmNjGXEU6SZcjkntwlJhwMWh179R8j9AIo1uFROsmeIUpmU2NXebHYpjVUUoNsVIDbFyWmECFrRDwC0nWVuph6XielOcmjT+rU07TnNNT4rTLLJU11CAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7hp5FfPuvzUceQK7pEWgyEKN76WI1kyARRE0rQxnwU2yEGnpd4RGmHSUDC6iMW5JFjjumkUVyh4ApihRhKmtBBSFchhcx7nEA5d6BWFSx2AcpETvMh6SHY+AAjwCk9il+XFp5pW9OVMiVTR-A1RKeUuYRkjqEeGxRQ2ZUVQCADMXaOT6sgAI4jmQo6DWROIxVRSaWYCs3zaQYKdWIwkANZjFtso7XkdAqp+mlxZtMhzadYKDMSF3GuhsJ3dtx0tHxQoCduNjLeqCE+SSr3sc4+CrIYNk-Ra52XXBQNNs9e3OERloBrDjJ-X4F3jldDYgy9BZvQsdmLOQcLSB9D3w-jiM+iUNbE7epMRGG0OY3ZcMo-TX7FIQpQ6bjqF1ODCwrtQpAHbBDMLPG5nrcYKaS9LOWk4dYyqzLxUEziN3a4CT3KmDina5IqnqbretIz+-6Tf5UgiYsPSkJujV7pRisDeQKbO67m7q+L84ZSxW6RYDTrA+2KGmxS4Y6DjS0lVH3luiDnZxxKxDUH1jCJ3o1CLHjQ0ra4gtlEXLNTQQUOWgnhfFwjX46lXqNYtDCcCW3fOaS6bd6Xg84MPgzBsFAcCIMg6B8DwYuKSo0G2QCsrKM30VSLIChKMOkaxMyCVhAA-NYxKH6EABcCzSeU582CfcgZAdhCLG+SLDra4npZJN-MoMq8mDvtYK+AV-R9jXOBd2B9ErWBPovdKvZAwQOzBBcOytQAAKAaAEBUgQIXkgTCW+MDQBwOtFBJcoFkEbkITRTBxCcF9WIuaRkRCYGkNCmaGULDaHEDXlghhgVgqNFCj1cKHloFsIwWQwRaVQ5ZRXrwwB9CFjKTkRFeIWCT6a0kPOPQqjuKgj4owJOph+hYOISkVRltyhmIsXYmwdCYEMJOgtVhiV2HpRcWdLxX1bK-RsRgxR-CJaP2lm4woHiLahJ1pZRxiUGFGQke4qRoVEmxKCcoiI-tKBuxocqTRkpFgu3UvAzQfE9Ah1EZldRpjAlr1sfY0IZVJIfwEl3AJAClFOIwYwZgawNoAFViAHRzgAd1hHCRkqg8KgAALSzJSRoWyDka7+3UsIQYXcEaUHwKAPQERCKUBYEI5QYxdHCENPTFOhTikFSOScs5b0KkkE2fnYmNhqgYLkLIcQuz9lSD9CwRY1ASBdHOSQS5dYbC9g7oLcgxxFllOeCHaxFyGmNJgS5PixAuir1WLQIUehzEYpsCHAxvF+LPOICYdFJLiFd1pXSxKlTeH4q4X0C5HoUj8ykNZD+egiJwq6RYk+fLoJjDTNivogq5CmGJdg0AoLWoxE6FUD5XyflQusN4PpVKUxDJGdQcZBBSaU0WDIOZCy1n5g+Z6O8zTFCtL0D1Og-9FFXLljnPOBcXXCpSCfJmQCr7LFWM63e5TIbGPrvnZ1BELpuvqfKmwDqoI2gEujb1AlfUJtFjXeBvoUpCNoCI1y1TxHpLXlcnl4xGAwVKcvbqrkCqdA6Yov1ETEUNrqqIgt9BW18IsVfet5TG29X6v2h2pN80+POjmq5Oy9kRHJpTam91XEowRmEL8SrIbEFVZiT58gfkLv+d0KkGNvrc24SLTdiUvzDuRXXGGV6fbxoAWq9VR6LVauhWA2uUbIjGFTSOBFxKH0VKfVzQlKN+jvrviewyjpgOPoA8SZDkLiVfkjZzPwyGP0pEPd879mHNLTppq4pNV0cN+ItCYt9ij8NhFqKEWoaFxYppIJwlt0kS6YmrUzPQPH2331AIG+JoAQ0+EBAAKk40wvdHRpNGyUs1SScmBQKe0kJo0ABIUIdrSZ0DdsQZEhB+woM3CYzdCHN7ke8ShD1v70ygGeginxz7-HMkYzMDeSggUrpnSjYlAaK7Eqvs7WURVjOmfM9QxoAlsMXpo9e4wF0aWUZSEZnIMWqFXn9HobRM6MtMo7klrG5A6MAUY4RzVd9q2INLBZvJGi7EPx5A12LeWTPwmrO6MLCw8FgSazU4TyS4qDdy6gt+9sk1XyZtVgz4t83awUZWqFMLLYIvNtYrzmIYWhPUAwI4Lnosgs66ggSlsIShBhep6UnQjsqehmpkE8mW0He+dd654HLaMosViyLShWXMHZXoqWh3Bh3bpA9nNk6ltkLSeggBVbNLaLFTaIlGLwPOVLWHGxxXCidL8lOshnDoMVs3TCj+CLwNk4tMhidjHOHTYZ3TuUPX3x-3vOKnNjGvwf2J-D0KE3nxQIp1c5nHP37ir0CLghr4pf-j+9q8Nzw5fDcgvyrnADld1NJADO8+aOuTbF0j91ULJdfwZ8b0XlZFf48SuBm38vNcy+14o3XcHrhDzeiPMe7BJ5cBnmgMa88KTNFrc8PCm6vwzJOMdqII5BeKW0bo8l9h+KDF+3rlHw0eTJSBSCnFOi3pGwy+noxrrQDZ69zXUBhfQUl-BhUmPvmFaJg5SmQFwLG-ziDopMlOYKXGJb7n-WzVRr4EGNVLOYgUXUDUqPqFX4RqtQqYMDqs+IZvSB8oNlhL8Ct7z9DSfgwJrJ4pGjpD-LJUWiP+P-4gJ0cjmU7fxk7dEOxgZx-e-7JTJew71lx5ysmv3FX7wpGfwlVoClSAJtF-1TjtlgJHFzUNzIEfhpF0F333zhmR2Xz7jdFrzvESx0R4meFwL400h1EIKnTQOoFkAtnWVILnXMH0x8wbEkwqSYL11FBhRGDGGXSpjxRByFARXmzDwlFT1ILEmrCr1aXgIkxWDWC-lkPFWriINIOmwS1IKmFYOuR1FHlBHbgMKeGQy0MMIsF0JtmcBdGMJkDhwXjwmxVxWBwJR5mUMGGtCrw8CpH4PNwoOGllB0BGGkMVDxnjyUkCOCM8NG1CBPg4MkNBBCMyBUM+yzx8N3xiJsCviyF0GCMVzxgAB4IjcjhhYCLp5U4FelqApMAAVDIUAYSYgOESUfOdwWjFzF+F2SgToK+QEUAAAalAAJxsEMGiF0B2StmULMEGOUz6MGOGNPiiBiB0AmLKMNHlSHSqNqPqPwBkFGRaJ0DaOxg6KKR6B6KBAGKGJK0WLGJWPwEmJkOmKBBTEuIWJcyWPGPuLWPsIpEfmoGflfkVwZ0V2YMxFQOUG6AyFEnIOZUM2MySO+Q8MO1vUKH4wrgRPKJKzgV4UhKLkx2uO1VoIwJ0CwOEJwLbWGKvkV2OFOB1HyMyNay0miLeKpPhJnCmMGBdGiK+wI3gz+VXhpIT3OAENJNcPf0cxSB1WqIRP1WIHSFBVE1BBtUKBq2IzsRhVsIRWINsOdQYxIwbCy1yFsM0M4MMN1xJWNKdVsK5RVIPX8JxFXlxOhL1LY0Ukt2rGBK-iRLkFBNCHBKdN1LWzvjvENIxO9N4zsTRKFnpIy2xIhL+NEgWNOnQOWNFNB06QyypK-kFK0hjKZRPlkEtB1E8O9IZPE1DPZMeM5LdG5O83VT5L2QFPCL4L8wpkEJcPZRRMlK2JlKBCGXlJxUVKeEtUlHk3sh5KYw1TVIsQ1NIK1KfR1Lg0jM0lDONPyNNKeHSwJNJQ0KtO0InJYztLYIdJxITMDMmh93Bj91YAD04Gnl4AwHEIwjuWOSoFOSb29CpXXhMguAALig2SBEOVfMoFOXAIlCAoeUkCORdhfXdguV7gbDkk5T0hhQgrfMeSvIRTinPhug1GUxsA1HsS3MsXzz1HwusD1CIuVxukk3IoUNWCopwvz0PDosPEYsKBugFlKGUy4rkGIWIrCBuiCjoBdlUDhGU2EtEuaJgQEqaXzylMYHIoUrsVkuTXz2EhGD6g8DoCNg0uGC0oYESlUusBun6LopsD0DwkGDhDMCOAAD5QAZlBjpLjKns+hARZlzLrBLLrLbKHKZkFkXLqL88lNBgUgfLQAbLjh-LQBpNIrrBXKbpgAvK9krLIq-LHLQAwAgqmLH8ABSFKiKqK+yzKvK+K0ARK-PePcyoqjKuPU4Gy4Kx-AAQhOBqrSuKpitauO0atyvcoKMKo6rqtACKOsF6o4vzwKKOC8tquisyqmrGsqsfzssGt8rmpmQcsWqavcrsumrCtCFmpKo2uO3Su2r0EBGapSsytCBKusGapsGj3PghFQuiGAvfJDnyOODvmElEg1EGDQpAowu9GJhevuXQo-MrGoA8AACsQwKsvrEofqqU5qaLXqHllMkKIVDRzSbAAb3rfcIQsBQa3qoD0xAxHs4obod0VUOhlNqaFNXLty5LH9IBiBd1gpxKwrWb2bKZGamaTL1KtB9LYBIByK9LJARa+b+abpxaABROiuWqWpmm6AAOVUBVpSrVpVrLIJOer-TxtJpLAxmUIRsKCRt2RKv0JpQkzRvBo6xBv1ttsBt7SNtMNNpSHNrmqQuxptrBudvtsJrvDWRfMgvBWIFeRJMPHkODpiEkCVUYDkDhFTOhtUDUCM2iApnxMaQNqgqBSyCFDgohRxpSATg70qDCEW0UkLJfjTMJXkIB2LyELFL6EowixxT0Bzo+vcKuIJJzuN3pOLtCDboOE7p3yhthooCrzeN9pJpdvATkMHpsBbJFKbs7JQr-RbJ0Efm8PSlXpEOO2rtfj3rhkJsvOBqYBvInjvO4EwCfOcBTrTtIAzstA-gKilkyljUWHkKyVOJyXdh6hiLa0f2yVyWvEGEqVx3kQAcXusCRofqpCfsoApmQzfp2mpAjqzQIk7DvgYRvgAbviAfcqPmUyBJ-kSIAZiKHQIgvwlHukYCpnhCmTwlQY-oAfnT+R-q6NAY8goccw1J32pOOzvlIdRESIgaYjxwobrJevfupATC7gRSRroYYcmRaGYcIlkar3aSkcPiwwEezPCMBFooIfop8B1A0bQdkC6C2VkmjhbAscynkbeWwfEy7urBzMBBYpMYcbkesbeRwZNXBmmw8fgfTqQZfrAO8cUKpW9GmxgYaJEj0FCcQeQdfp8a0beU-pccKGDWibccVH+uYEsaccTgnNVN+UXVcHIawZRJX3z2IaeitzIfRB0ZYynMc3vWobtNdIpDNTIKwbHz-yWGifweSSoKwYCYUs-tlMNWNSqTDiGDhHNTAqLGgNoyycGZ9A4NGY7RdB2ZSE2N1R6hmbGWcHmaylADfwqxWSDrkcYErHIFzi8D6g6GDAODYbwMJiWf6a-o8f5G8GFC30lFecYVkHudfGsQ+ftNtj0Cucwa-ovLACLm8E3AuFAn+rM0lEHPaHIFwDAFHhvNIGGBEiMVADGj2VkEUjGhDxD0AVWWpClj0COjhEGDsD9EYA6AjOuV4oFRDGqM5bLJPnps6HMSHTmnUCZZkBZa0h1DZf5bSx1pIS0jlY5cxLsXCwZdIElelZdBVYFZ+IkNUCOjRayD0Epz-Q+xNYtWOxumkxaFAiUwnPtSfhfm1ckB4EGGZckA6glMub-ToEIA8HtayARX5EZa9Y9aGDdEteDbsIPPCD+QDaDcfBzOFY6C7K3U0jTbrOsHKZ-RSBhT1dDc1bdf4GrJbCTdjZtOIRPSLfCLTYzbvSzZxWVQUxzcnK-V9abcJjdD1fjd5MSmY1tT9LZnoABbdcja9bLe5zgN9ZhUrZTeOzDa1YjfLbKBjcfGraKETcDdjdTZbd3U6EbZGPsAuBbA3fRbeI4LilXdMdLe9OQKVoxRdAvayEzjvjzeJULb5Y5eLboHDale9bXYMF3c3f7e3b2TrdOAbccz00KELLPaJFA8vbg97uiY4KnYfbsPieffbGQ7fY9FQ9AE-ZJQQ91Z-Y6Cw-A8PMHaPNJVJkkq0CJYKwzaEg8b+IBMBEowfhdcWEoyvjYEMZiDBeFGKxPmE4BeK0OelJYBOaNWcGRdQRHNjeVNzehecEY-ICJfXuc0U9Rb3eO20VjbNaqBhRxYRT04ecfHOo45fnzFQsxeO0s9fGM8BAk-ufzBrm0Q8BiCCliEGyo82bvYC5neQKBZ85xVTMGz0Ai788mCC51Fi+WPbiS8wP5VS-i8+ZxBdAy5S989TNjp1JC+tKC+XaAIoSyHAe0KBYboOBC4-iq-MKy-mHiKNa1ny-8-DDPHRdC+w6YEMJoefMXA2ea89lih5GOaBGIYNfuDJsZDPHKUm9sMhzlKLy6EXEkGJZxSyEYE3VyiLhKQGfzYqdPWG94eO5uz-Qy62w65JMK6kKW+q-1JxGu-rYPZptjMVVW8bw26246B2+mf683MzL9cWHUgy4Z1y-A-KZs2GdDXO+e5a+ib9DB9bAQgocGBR-Uj2Zqeh-aYu++y6do5o+uSx6ycG9hCiGyBYD6iKUB2DDDDhBbToEjYZ7EoTDoB9dG+vnRJZ8AdADZ6Z66E57NYCY4LpOqnibNbmtGOp9p-NWL0F+Z6p8eEQ4MEl+noJKV+F46g-0ZG8CyFTrAkZ+Z9Z-kHZ51+-vLmjOqhMe1+kH4FF-E3F4Qj56l4ypiCMUN-fO170Ht5F6ffsWl5Ktl9V5nGqhQMMxV5p-wDDCMESYAq5asIIDj+xUiDsEeF8Az5p-NpeRc1FiINT9lHT+p6z+p6t6kl5+j-57ExyfEH14TuyB9-N6F6zpgTpOr8HuD4ctj60DT9D5YDL7D5jmz-fZ6YlFq6gsUGLF6DhhC5wl9iB7sKuQ21u5u8i8wPu8SOK6e+PPmFe+g-e4UxMdq-K+68q4F60Ea+B+d77+8BMw0uY4h-S9u+toX+v7sIp4UPICMQf6Y9KOWCL93+S-eQpqUMb4AtQnQPoiY0BAQDCQUAyZuKzKCADBgC-MwCY01LWAAmEQYboAPQHJJJ+OyF2rPxYQoDL+i-a0tgKkAcE8BWwHYAcmiZoComP-e-pIEf6lEXQeAnDolBdBoDuBhQQAb-zYH-80eTYLgZrwxQ6g+BEgxpNaUoZAg4BWQWml-2JJZBHm3WaPpZXkIcE0q3fUTBXBm7OAiWIYA6H1BMz-NwWHkCwTCEGDKNhmi-OwSV3Wx-p2BLUANrKgRSCDWB7AvQHYLIHWDGggwGQY0kcG79rkrgmVPCnAGQDaaJjWvgcxczLE1BkEAfgVn-5uChUX-QgPQV84uQO6WgCvqMWWKiCR6BQwwaABxYl9M+zLSdlKy557Z-WCKHFtq1qFwhN86nFzPu2DCHsOgSrJmAqjoBf9chzDL1iiHyG1gGhzmZlginMYFC+cvmYbsyzMAnxAQxDBVMyz0hqDQANRAABKy1JAAAQXADgBZaAAJRqKQAAA8irWQDHYxCNcXYlp30oBD8sXgpwB-3kLZCxgww8Yb-356VDhh8jO5jCAEhvDqUATSoeoHSgvD6AQLSEaUFBYAt4s0vbnrsP2FHCTh5wq4TcLhGntAR1jYEciLBHyFKhqQ4YZIFGGVRiRfsQkbQFmQD8bmpMXdASJE5Ei7+7wkAUFwH46I4+SNJNAv3cDRVisxg6WGYMRGWDcgAo2Tt-1-4fCYGjwoluKJBG-D7+HwyaFsNrSrg-QJAUlsdgAAMVQGuHulGTlRBYYwEBqi0oAHAY8ZogtDqO8AIpNRUBe0YwEuI8B5hDYJ0XaIb5AttExo8hOfzVxddHwrLW0RaMrBWjtB0TVYcpg4Jejwxr4K0cB0Gxj876WIaSAGMfBSAYgAqM0ea2czxjf63DEzFaNEJ7FTRq4BMZBCtEmcwSpqOwGMFGTqAZYULbtmXHIQbNgsCTY1v6Oi6TdCxXDS0em36wMD4eEzRkhwSp6NjmxJQrJoHxSBTjJATYuQDLBx4IsdaVDRYAtj37WEGxS4mcU6PKHBgFenLZELkEm478mudY8WIuOXEtiM2sPM7hhjsQnoPoErELnGy7aok+4kedtm007YE8C2V3dfnFygomZFyHwv8d+IbAeAuhrbEVtcRPgQCiMCxK+LeJnHP8ZcHgLdrRx0wkcLE1abZvgIxQnx0JK42cZ+KCBDA9xd47SHGxB7ITZA7bIdmpx3HUSZA048iQAy-6EDFAwKYiKBDP4hiZ2HwlfldzX7HYIeW-dEJeM3KMYT013bql926E01WOzbCYsIKeExdbukPV-kEP5qhBrQkEnurm3aaPjwwsBSFNuTwDSZbJd8Vfhvx0AgSCu4EqQkZJAHtsvwikw-ipOP6MkSAGknwQF2CGYSMcuXMxDpkinWBKB6rDBI4UixCSeu7k60tVjMl-JjxkWKQB5HcmyTPxLBGyXZLbHzBYBMQwEKlIAl1ZSM8U9uvV3UCQTumaYgKfcU0nMdFgkbRYNOycEdCwBpwEqfANiHJI+pSgrjuJjfHID2pHUDAaQSoEdi2pxE-1HFKcJT8lgdBGkIJLan-VOp2hGabgJ9Yn9qpXQIgfxLWmmsOp-1SNiVyypgBbJ0mGaTQOqh0CFgNAyackialUwfBnAjXtuU4EdR+BoQN6S1NKLmMvpBkxKOY1+nBDmU+5AJkNKgFDDeUZo3wMlgmFsTVo3sJGeVhTBOiVmRg2gKGGyFRhDxCXOxmUEPHtwvR1iImdzx5YuhdWeY9YmNnzzqAmxcIL4JHnBABM5IdMgjuUODq4QnRuYi-n4PZHh1QAoQq8Zd2cyhhsgJmJ0Y6NlCghMxoEbMbkEPGMZbsxADSZENAz2IAZPg4WSwPeEyC0w+M+RNLOyyHi-pKQcWXJI6EAztZ0Q-qSNI7TxCwgQ6VXJIGUaCytYC+dSObNll5icOqg+wCkM0H2zmIQqdUfYG2F7DJApwgZAABlZatw-QaUENFEF7Aiop0aCJFmiTueXwsCcGDwgqinA-wvES2zwgJhs5Jc8EeJnhHpRq57ceuRWOYgoiOhaIuOYnOTm4jLQ+IluTnMNnUouR0feXglKTSkjNB5IykTXPnEWIn8Zo+kdH3BAwMJ52fc6g0ysgLyGRkfcWMHWrlgi85HQ7kb33j6JlGkcskqsVj5ktzvZ-1XOSAPlGZz9K+8++XIJUHQVVwXsg2bKKX5VCWA8hY+byMSbBk5yl8uxNyOHoQITeBwDLMyKVHIjv5qoh+Rlj0F7yzRAkRBRyLkG641y1fHiR7K-kjh6GH-P+fmMMBizhATQ+wLqG+a+CiFjVIEA+k9n0LVOcsGaJQre6+SEJHaGkHnTGCELvA0rXBaPwCbsKSAsLNZtjDoWCLrawi8vvDMLkuRrOtA6mZvA+L6BZhJIRIAEAGwWTNFO8quo8zsDwLqxJYiuXoBhHWYOGKsoudZ0sUZsYU0w47FPMA5jDLF7bGFKQEcB2A5QMIv+e7TpSrzS+zLGkayLpHbz22iwMzNq1CVIjwlS8wehwRhGDA9BXi3pPTj8UD8t2+EtTqzHFiGBqiYwL0bHR+FUzJh5CsEQihNkaB5EaszELD2GHKKRZz4woI4qlYIoXFVMMYcSI8V-o0lPiy0F6IH4BKSUQS6oVKyxlbyl54HKJX0BCWbysgi87PmXjsRxizRKSjKv0vpxDLq+ZTfHg1NWQgsvR1RExbkEsVBdDIiM85SY32BdABZligJrctOUWLaR1KIFk8phEvKwlQ8qFAUuMV+KSl5i9xeUvhSZAWRcS+gAig7kYizhFw64eAEYzQrjhsK7ESnKSWvKNlc1MFacveTXJAQ-xMqSTF3lHLEZZS0IH8qKW2jAVRc72RORhTYrs5UK2OfHKTkIrMQHcllcnM8HRMnRmKkqgyvQUTkvw+Kg6ISvH7PkRSaYaGk8l9QXLreZQX1EC2IJSroQn9JPnLHGZNwgWGaFVSIHhbqqvwa4tQmzCkAilhK0q5vLKtUWV8hYiqolQPifTmrVVVqjoZquNXiwM0TqvVWqvkJGr24e6HQLZC6BeyXVbEt1eUKlXUAcxuqyeiQqyVyrWyK6GNYQmTVqsFpcix4AE0jU5idVtAC1ZPQkXEB81FWWeQ4gIX0KIMAGZNYWuLXxosARHAkhmv-mTRZl51HILTRTBMLlGr+PNVGreVpjzVfav3hIFrVxrq+Cas1SOqeRerJ6NfULOJk94G8m+xvC3m32IRdqK1xBGdX0G3Xxpf5WSiKeFQyqDqc1zEIMFOu9W7r0sDajFE2tFitr8VilTteWsEUSUR1fawOqTADXLwGU+68ddz0AVaA+Rsg0BXZXrUwIeWG6wRYJhkCBq+IwaitTY0hnkqkhIcjQWvLkGAIb1ImYOeoL-kbk7C9avTHNgriHqwgd60UA+pzjChn1S8PiMwtfWDBv1fET9UtkrleLFuR3DoeBkm6b1t6IiDskKHKHJNn6rON5GOtH74wvwgG0+WupSBgCwN-2djWZmeDCc+wC3Z4G8R1A2Ml+VsvZMoHAZ+VNeUzAzSZNBmAgDUpzb-tzldHzILi-RIjQ2sBAibwmyGcEAzOIQFlUNeG1ITFOURMxi6FGyEA+pc2pMwCtGpZPRu7WDBQtETOAoaJhTCRmGklRngigACcVQO8ClrEr4b1VWWiQFJT-lQUjEvgJjQ+OsU2qlQLSgjGlL2TOBwieo49tYGy3qQAA5K1pTBoAutrC-8URi-HNaCtjPWcYYBwmFAWtRW4KN4CH409kI1tZwAshnwfs6OA2kSozwm0laq8SWtcINrEq8y5ALMtmTBGlCFKJN5fILk2so3RK+Q+2sSodseiMKX19DZTMzNu01owuaY9Jgxvob7JiAsyjwt4HSA0heaYk5zDNARR2DGGajFhtSHyHGJVNv2zFjMQqDub5JfyU5IwEB0c1QASkzaPAMZDghfWLW86vMgWTpMxZ9C+vrMusAk6RQZm0IETqYg-8qYX8o0MR3x4sSTufix5hbHNGvMW0M0arWECeXHLGAzyj5a8oti+zfBo26wCenR2Y7KY2O3qTSByLCgmtAvHbepA8ok6rUry4Fm80tQ67adebDnTkrCBE7tdOu8nYIthSyoGAOumneB3G2pDiU3I4DbetA0LFGdK6L2RILU2BgNNvgj-iktM2H45qa8UtVBu+0zQno3m0OWvKZhVYDlRBJ9DkDoCjIptMQWZWQvhRg7jsEO1RtMmh05y4dP2qnUjpR0gql+j2KPepBj2JDdAyQ9DaX0T1CrfMAmWwmmuPhAgc4CTJ4csXIGqAuOOmYNLMB90Vr-d83ZePXv0KkE91suQzeHoMW1RGQEYCgAxsMCvhhIjAGWCmITVuBPAU2uSCmI80LSuZNZYMaBE7CXFAQkgOYu8VuKrFj9l+nmZzJJmJSCOQLQFMJGpgGJ4NWfZYgas0iqBSAXilgILGXgGBNkoBjKgwEGIWLQDHjPoisL6K9EXigxEA6QFLUpBAQJDdRe6sUje6rY6ijBhHWbRM6pgOmI+eopv3nVLi3+3CLID-0tokapdIgxg0uQzETAYqmuEQfGDeBB+CcCvgJiEMwCmYzshIezB5BCG6BWCU9AJhdBCGzAVEuSEoaV3HYYx-PWcTIcMbENzEJ8SVGvstD3RN9kEbfTLFEODpKm8vAOIQhkPbB5UDwdEOIzERnL842TSRICDoODE+DRiQftpsyZKGni8qPovfpEZSQxGO+c5lGDUPzF7EoRy4r4YEOzjFDgR9w9foc3xHuDorG2vYEpg2degz2-OIUzyNUw-Dp+t2U9OiaWGO0RB86rRUGBxQAjkwYDkoZKNM7+DjAf+TNKKGxAajC0wEK1vv0Jwb9QxgJr0buLqQhDQLPgwIvobCH0STwQ-WYwQjKNsDMCG6O2tmLVFZi1G2YtYNmLYyPD3euozqDWPAdzjuRjo+UbF5j71IZx+hdbRdCXHZjjxvSJ9q9mtbrBegUGaAAAA6WAe5XT2Lzc78A1RQfgFsiq+VLkGKDrUCHl10FdoVQD4xWq+PAifjoMgE0CZPHjBc4YJro-kNDSEAPC1taVhwWJOgAAAXj7X+MJRIFoJ8EwvqhNUnr9TKOE4CAROyB8wcHG4KnvoAZ6fAXx4E10AZMEmOqjRpmbMQ8CzFSAsxWmoaFa0Qg8AKJ6DUKZxOinB+4ptym2qlMym5T7m9kyKCAA')">function pretty_query(query) {
    return pretty(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? pretty_term
                  : pretty_query);
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty(string, args, pretty_arg) {	
    return string + "(" + comma_separated(map(pretty_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkTO52+mF1HgeubtuaNEIEFuVRMf5MEQgF5TsWOi0fQA8YM23Y9wvZdjtDtxnL6GFe6PYbERvj5tyZubM4IOZsuyHOc6lfHR8g1a8nyW8ho1QinvNeG9d4OG4LfMIVEBxzU1tQBQxtqCVj9nvSBdBJhUViEFeebBcSIOQTQNB-tLjL2RNA0gd8gLkWfP8eBqRcgKEIPgcoZC+rw2RNgqCMR3wWwyMVIBO894MCTinbhp846xHVloEQy0poHnoFLfQac9KiLDqdSQZBo6SLUQRGBUjpFFFERnJRgtJpgm4Y+XB8ZAxzRElfBiowaRsFpquUojjXqGzkWCLWgih6rCDOqUMywKIvkNC-TclDQDv3sk5FwYDKC+BIAA8BBCao5jOL1AswJQQMEvtffQZtDCyxwXEOxLgHIMBgcUjWSwu6gHSJkOSzQsLCOGlUKOM5b51MIGEE++iYjnwKUtIpWsenUOjiUgGj80ygPIf1FGbxlbOFVq7C27srb7TKVBWaqRKCkFrMUwaO8Vku01qHQIgwm5zOMt3M8Q19DnIPobe+W1m5+lMqc4aLzXY1LcTHR+4UcmcQNmXPOlc-qlMfjgxhy0WHJJzuXfO0KeEriCmODUAV6Gg2FPoOaMMPjzWYFoFRNMJjlOmEFDpu8DzErrmSyxaLOCDxxZGCJDZ6BUi6Qy-aTizwSlAGnWlvKZyMuIOS-aAy2UrnhV45xYqSVjQFeeISiogpKppqq4gTFCjhOjGnGlpdq6oqGRUvl9dLHvMoDKoGeqsn6uyVgMBIzL4OAlhqfQP0Lbqv2WkDIWQfUNNXs0tgK42kbghJCD12sBa1DhNwN1S1Y3u3jYMG8wbJgIjIsKhZnCXCGG5IwNhGNoZs1RDa9V8KIU1wRuq143KBAUsZLW-OJKrXoyrQ6mI-rJWaFxG2qFFLAkxFKGGtOax16TRucWgp-AWbluxro+l4rSWSuZSOgG5qihFqEPOstlNK0CVuLXU1UKd1xwmR2plXa0XZvZZRXhtiEj2KYU2iGi6j1H0urGBSoJnkfvRl+it5VDDvWevWydCtGZkwpqB7Zv6PF5J3LB5m8Hsb3UepBz2o7YjNDDQFZ1YCDa937js2FUFGziMZGRsR+Bk4IyYo2bsepW1ztLSB5d+hxG0L4U26UnraiNSBMmhgqb+ZetY2EJixrVo73EUY50siZ0KMrOYlR0nuASfTTCwe8zQVLJ+FPCjg8cFBV9gwBVgrVHpx+aMV9+8NmW2psfS9DR9MgpdYs8wBtPVSrGrs8kjZXqMlpf5yxOqgWysKJ6rDH0osReA+B7D-4H6vVlrJypVYGJeZIyjNDHAuPs2ntNHBcWUsJdevoQrfsMNU3izhtzKxaW1eK7FartzB5KeBWcWI3mC0TzecwYD9Xl6lfVRViDL1nFo0PQhxglWmsfJXLSub7XyqdYft11b9rnV1R8+8Jq8glBQDgIgZA6BurEkM+YOaC0lrCOqBtT25nsvHV4I9MgCMYgAB9fvGXu4c57P3QD-cB6kJ6z1+iua2mDgHfoPuZCY8Rw7CtmBiAkMIBg58OaUD6PcMQfr3upCwq9gAZOT3o-QbmFxHOyAnGO8to+Olon7eySeE6xzjgD1twQ+pAQN3JS3PrfTZ69jnjnqcjCIoXAzQvOJzzjRY4WEvlj+ox9z3HfOks6QM2A3XjW0tw9fEFOY+gbzm9l1tB92SDfK6llFtXL6ExW6TBb93uH5dgLBkB+b2N2fq855r2oPOdx8-W2N5wguwGR9ZphkXgeXeBjd3aVPxv-q2-OLHv3G3spbZN0HqX6ePd2i9yCn3RNYZMyK1HxD-0qIa-IJj0P2uKPgja3XugMe0ed-jw1xPzve3ZZLyXr3+ve-V7g-3jrzih8VOLzT0vWRreZ+9yz1ICdnYH02T+hvpvg-N617z9vW+LmH3oD3wbZ-NERx0Un4fUubjYhF6MtIWjuBj7lxP6-p1g7O3EQfwX1dyXxvFXyz1u2SFSBM0L2TygK51bxP0C1iUcQlSliv1yUcR3xcyALN1AM9zl2Z0G19yNhNnP133rxmkPxb2xzb2QPNXBBWRQXoHWXNhcwwM4j+UuXNlp1gMfwTBGUCBkA5jxB-1yS4NIDeVwOy0EMqA5lJArzRwkIBWljpwPyl1kOEOth0HX2INSCHQLj4OALfQQNoKQPGliQMI4I8kswMLRUbxkIA3BCsO4BHUUMGwMJvQ3TvQl36zgOlwzQIJt3cNyS1XXQC1tSoMXxGDcLtzR2vTQOtXsPUITFXxkziL0IRQHWRUhUMMiIcKlyRwz3SOzw3xx3WDXU7VULGlgRSJMLDWX3vSINyVbi5HIyMOMPgJDzMPD3bzI2sOuFPTETaOkI0KcP6NcMLhCM4jo0APn06ICMaNw2aMV15nXkXhKzUKLwTDmm6LD2qIsPBHwWoCXmjzEM4lMWcy2Vh3322JT3wLL0IIyNyVqXnzwJl3d3AP5FKMG2qVqSIFqLuPgIaIBPOI8iVV6VBIKJAJGFBOmI8mvX+P6SiNSPdzhP21kEO0amalOzagu06m6h0EgPRyOWGjVmJyl3-nEnZFJJWJsKGIwVv20Sjm4EU0o3JCClx0YMUFYXYT3nBB63QjZjvxZNADZNlR+JaPfRYTYXkQwRkApJ2IOSP0QJ3BkCsmYV5LlMOwGMSUO1DmFOZN0UVMDE0N3m4FEPhPMFEUAIVLezGOJSEPNNAAUOeIuP1LMXkBVysRNLRHySdPVN0F0NyUs2s2OTeF8V9JQzBHBDDOIAFJUHoEjKtPgLjJqwYijN2JVJ6LBAyxQMqR1V1M6J1R8WZVeijJL3LODLBUcC+HdnWjUw02ZTM0l1RLtAlIV3BNXX9nDmGhbI5JHyXw7JI1rPwGMDEQkV7N2UKAHKlywjkA-163OEbHxz9n7SRU9OUUsUZEI2JMswXN+hFxhWvijLJ2m2PIYhKM7OtN7KN10V7OeBnLjGiMGAPMYjdPBNvKKTfMfL8P8JvB-LpN8zVjkWx03O9KMHPPoj1FZPWDXKBntIEMmjEHx0gtS1gWpI4HWlQtPBDUaSwn3N7LQo+gvL1FmRYDgrU1HWaCwpQtUGIuelgQAB5gRkKcLOg8K9YWhSBzIIQAAVG6H2IQXwQQahT7a1JsdY6gWoZocEUAAAamFWMT2hJnWiFBTiPPCEUoTLksUvcxiA+FUrEHUvTLIrw1AFMh4tfnBAEvwCamIEclErEHEq7UkoXmkuEFkoUqUuMUMuexMs0u8p0u8v0pUv8pkBTlwu+OJLyiNyd2myCyRDRwzhxxumxH7JWDAT3WpigpyzIqpWEk5waM0vc31imlSqIFs2Us5mhjHOe0bK9JUX03c2aBF3p3NxKuUtmCXyitCtauLSWPPNmRvCir41YjlXxQznp1XKyI3MUUassQbWmCiQYrYCslsienKCaS0UyW1FxWfQaEbDfMZCVTfOKT21jCCmyt3lvKPJuq0W3WqrzC-MvPurOhsSdU+v8JSvRHSr23zReOVzis6wSrysStiBHMrAqr+rKwOqajR2uqPOgsBMuqKsDVWs4r-RtmhqqrjgrjrPqvAqaqBnMvw2-lS3aqX06r0lKHgnN1wugtJqCWuqIiGptDtFGp7VAB1AmoMCmupJmvXNxCJsWoKqKBWpF3WroE2pEG2rOjSV112qfA5UNVjCOt7JOu7LOpiz9CuoGrfLvLer5EFLQgNu-IfLGq+vIlnITB+rSvOumi8wOwLWxJO1anOw6iuwwGJIQRJmIVQXQUO0wRRJML2NxxiXBCIRQTQSLKjpIT9iQQXm8NJR1m4WhPuI+LtGsS80Kj9ujsDpdsZFx3TC5LmATNiDmFXEeoaC5I5HLpiA5CrqUy5Iwnrp4A3CbpLqcPPjbvPk7vjicKKITKKOdGrqKC5O4kMAXnIF8ATMnunpEsVDHsKC5KiXrqiVjGXtiC5JuHxxqRYEMAFN3tUH3sahWC3uGScPkrbtiH0DVm4F8HCABAAD5QB-5FLF6L7oyIRPIb6Yg76H6n7X7-4fJP7m6nDE1pgAHQBH7ARgHQBIQYGYgv6uTgA-6DB76YGgG37QAwAwGu6dxwQABSdB6B2Bl+nBohpB0AFBpw8SG+sh7BqkqUR+8BwhgAQklAYcwfIfgc4aBFYYIZjKYtIZ4aYdABYpiEEYHsIaYoBD-sYbgZwbkakdocIeftEcAaUf-lftUbYZjOfvke4CKEUYoZ0aBCwf0YhHYfQZwcKAoZiHYdiHJPTAKgEzjoDo4QLDvMBBXGfyGBp24A8dIT3nSNzqQXzq8dinwBYAACsTBbVfGVh-HkQlGW68746EyS9rEv6ihgmC6Cx0jIp3GMnPG5sRNv6uSsVagEzqnUwTanquTIA6BvRjZZ7jHmnWnklcmnrL7CHj6GBYBIB66Bmhmenemd6qAT6ABRNugZ6Z8ZxppwgAOXIGWfQdWeWaZr0jcfeAEHyeG0-SPKSemBSaUfNwVKCdKdIXKd2apAOfW2vhOYaDOYoeyYvB4Gub9luZOGvJcHwUIS+aidTqgScv2KjIBYYGqHExlFIAIXqtifIGrCLRJk0FxtXAOcTo4ClnZj0QMWoXBaOCKFRw8PjEIAaq3OFijJU3kRFuFiGXnhnX0AOdESRp8uMQedz00oadi2nREGZaBdERifidMBhVCs+YifjsOeAxPJ5diEFsRWFvmspf+hzoExmrEC+AotNmVe9NbTJYpYgrTGkHhsLpxPdvakuwwG9r+cTPRgoFMAYHLg+HKhuFIA7lq0zNSHSC+03ErKnz+GzRXG6szpX3d09ewW0oYF0rCrUoioCdDfTJJhIiLmaH9eTcDbBPMGYRuBzk0S0FpyMpRv8PIGUGUE+wyCeSMGgTLewcakUv0FLeUHp3BDktKFbYstiSsm8qbcWb9FbcmKLazZcHNkoGSRGiMqoTvinauUkG6ciGghtsDD8vWiCohG8pzedmMHzdqBPWxFvlnbHZ6BgUjdiWsHBBTM+bndxEjgUEbeoS9YDWR1viLnbbDV0hBkJQAxfdAEp2UgJW9fRpvBffCH+0WOA4ffCH4diWKHhGDYMHNx-epPBFg-uTtcOVLZnGddijdY7hfeMmaAA5qSktOPhh-b-dXFZ1+kuLYOuPvaJyfj9HbfXcUtHaRVvYTcGFqRA60vZedDkpjdf0vh9UwW8ewLo5A5CtXAE+8rY5vbIDvZL248g8jbUXhA-azivaPdylBATNviuevaYAU8Y8-dJyjXw-Hjk4hFbqTQA0Q4ffZqyBA4M6PaM9IEEgjQVhXY2gs9XnBAAHIY3b4grAvPPvOTKX3L25OnXaxSAU5y44vH2GizpfXOP9AEvpHenv6jiRAdLggdKHIdIrILRiwdKjkOB4QTOkYrPzcMvhr3c6uXP2PjPPOaul9Gu-x0vYvWGtOkU6ugKXBEXkXlBUWZxvFNYPBNk+lH3jjSOcYzZX3svZuqYEyaOL95uNY+3Yh-Ghv1gRvqBNASyJvK43Ap3plNuqv5YqO+zNv4OuTYPXDps38ROFvU2WgNYBvQAMv7pf41YrlJu3Bpu4V8U54SP2ZXuqUjr9S2qgQVwhOxdqOPSridZXuHVc6AfjBscYF4oNAuuyBB0f5mA-vjvNkzvpvLaFjWXpsW3W74OsJzcSe3BQ8T3P8HishGfMeakpkg2VhmgqeKbkOe66f5ATvOeYFPP+ePoW3duUWDuxuGINOihSh5zoeEqhkdukW9vRujuRfSenLzvCAeeQYVeC0jcrmMfmfufH19R4UXuLuqVOSnCHvyaEthO2dUfyQDUHfsszYiMAbOJkkSAgfWyTD2lbvx5zcFvPOVqzYpb4kv5xOPJA-4zh30OkiFvELQ+o0o-x4bwc+QYY+NY4-P4XBE-s2kzrVBdbWSvtJypKB8AxE-YBgKhBgM+Q+XBk+gfkOa+dJL3m+akmfa-spAC2+l2XBzcIz0+LvPu5piZg+x-0dsz9i+krJYPqyPJNIRsaAnlY-jtFyHAZbsdiYGB1ARAOBSB1Uc9CBN5Nuxb4U5+Ie4bG09mxTqhuJV2gQWA3-6roXtai+9-3qXNZ8gmC-5GwP+YEYMOOHNSlAD+spI-rDBP5CBhA5-FfgAL5DmpmguQa-jxm-4NlqsoA9-gxy5pe94UYfQ3ktUKpzko0WAlOJHwu7cAaBjRV7hTzoQq0xawAwML7xXBsQF+jAhbp90Mr9AFAxHEgPIgqAwxfAu7QwGyHEEz1Q8hgUkJn2BLo1pBi3WQZIOxwKCngrXKNB1VEJyt-6dbQ5EIJEGqZ1BUg4wadAQhGB9B4rZSuYM0GkhU+1QSOBwCRZ1ZIwcgm5DIM8EaD5oig9vgrGKqiF4ODg-wdoN57t0DwaXVQQYIMDYMXBZANwaQgcH6AwhWgrbrGCeBKNBBVgoiKIWiq2tchwgmQDDFGi48YkxbfgoGFKFUA5EJKQIKdAnYmCUmoLCYJe1qFjtJoDQoQc0NOhJcVBlgjzuPAnSRDEhcLfoCkN8G7s04HVIYX22yEUNOh9Q4oX0OEGy5GhgkQoSRhAqqYhQbyUEGWQDZLguIVAbgD+RwTUZcBYgWjNcKhaMAzqtWc4Q+SyxS4CBz2enHU3g40tBgTw04RYR-I6CuhSQBgLvX4jvC8BziCEUTm4BOwARLwklrkl4iRxGAYI+irxFhFnC0BUZY6shxkBJgamfHb2OCHxF7Aam0fdoJ0GZZYi4R4QeDsdRiCedZ+sMakQ3m+G7D5E+wykIcOFgYj-hzwh6kyLM7RDeI4QSnArCwi0i6edQsgKiNCj0UbwoouIYqBvC0jlRQpYEXKL4j0UGeVATIb03Nxqi7BptC2p5xJEEjhAF7REZxHrKatJA2UVYeSSUFRDNwmDRYa-TDTr9s2fQPuDUkYA98dYAY+gNwG+58jvuFwqjAJjRFWYBEbiRkMiNlGgj5RePOLgaQsJBi6A3AY0WhHDEIiOBokeUTGNcTpR1IpIjgJaPg6jCQYtojgPX0WxDCT02oosQEk+68Bxyb-dWKyMfbec0uoor0S4DSg9Cmh3QNkN0ACHBYBMFTNKDiFHF+BXS+Y6kJ8PAjjh9ITSQNJ20MAz8ZQf3IkF9C7GXCBM3QRkLqNVYL9mRh4PwOEHbawdO23QLzLWNAB8UAAEtMwYAABBcAOAGmYAAlPipAAADyyzZAECF3K2sZAkgNQAPy0jHoExSQAUe9WdFtiE6241kSiMW6DiOxasZnoPxgkyikgb3QcZ0HFg4SGol7QiZkCgnFgGo2QwIc+NfEfivxv4gCUBLImSB7hFQLCVjxIncpUJsoqMoONWGYSGAu44QrBKwTFduJdATyMUKr5gJvQXE6CdRLEnwS6wgQ4of7DKH+N9EcIz7HAx3RqATAXgP0ZRKH44wdJlkdupqJUmZDwJTYjMdHGUnYj5cD48rt81lKRxGQAABl+ZgIagjkKzBkCb5g9Yo1AQYH6kCmKwHAHkoEK5MinoxtAilPEK8ITCxTcgUUsgJe0sx+SnEGbR4H8NinLcQpkEBflhBQ4JksIBU4KeVFCmOck2NeB8P2IqQ+ocp9U1INUGyCBT1U74CKYVOqlmgmkDlAKUVl6nZRQpyUckEkkCB+xHInQDuKPxWD+oH+t-NOKUCymDTasqAyqe5Tm5QtUw0GBBNn3D5McXRFuKaQwBmlsAO4dA8geqIbpnSLpHcPPhdzwymQPunvBfsYOmmzSOpHARqRUFEGhACkG3QgPRFylcBsROCSacQC+mXTikFAvFAYHPFwz4ZgoSapSKyB-CHw7A6lNlkOS1ggBOYfauamoy3CwBYge4T2Xd7WSCZlAkAUuMgEah9KpQfEVGH0rNBPp5076dCKiwsAPq2oLANBC95P9-CB06IXWGgE0loZnM2GZH2wRgcOZD0pgZd1jB88OKuqbge9IXEKzvp-A60f1A5HY59hrCbWH8DqnihoK1kg8S-2hGkzCBFMx4ccPBmAVyQA4G2dBzqbwzMUdAdSkmO1E4CyZPM64bMmzGxBTw1MvjiQJB5V5Nwp4HhNVTwCQhE5K4K4WTNtk-8HhRFMOdiK5pBQ3ZEAkJHUCxoOAfZaIs2chBDncz8BQclCNBFQiAiVZ73UCmXJOFZznZ+qXFAOH+kzpUg8MLOX8J-KPkE5SchadlnNFkjLR1vVWjjKlw-Dm54M1uXmKyT+8PIxciKr7P4iEA9wv4CMQv1xGliLRivYkWWPJGRDc4VIzeUE1JD0jeyQonKcy1EJEji4jcvYUtGNnuxTZF8ngNvIfK3y5+hARQeyNApQtX5Y5d+Y8H-lBM2QFw3BmAETmQhb5WETeWKKpyizMIV88eKvNxClzFRtg6qoqNJC3TCgmC9eTqKXxILCFaEBngQpDmZVTRkQseeWKtHLy7s0BQKSNCqKPsw6J+KolZFclFk3g0MNsTrFckVk2eP0h8Je1imAERFzoooo0VoidTlZT8rkp0Bmm+ADkpJODpEJLwKLfp2wtHJC2diuTxFIY7rmmJRGmL8elMhCZGJf7QwYcQ0oVIEGam1Y2pOMERcxgEzEL-EcY2HquGIWlzQxeEzMdmIEVng6O9i-dCIooVFBcxD1ZKYGG8WxiSxEkY+RWJGGBpo+PyGLvj3EX0ZGMkSxgNEvNQ1j7R9YzYfoCSXFjChD4uiQwG-HWQAAMtM2AlrjMgPktHLZMgmuSHJwSy2YEKQnsTOxYk9CWxMwmh4elvE-CZ53ImTxAp0cVPrMscULLnRdShpc0vACsSZw4y7HJMpGXOj1JjLflvogEkNihJIkqZeJOzGxlAp0koYfCAMGnKKlZU3hbcpkn6LBskLPZX0ohlqShhGkqgFpKvCuSlGO6QxY4pMWWSLF2IgwV0pPrfKrJTkgQViz9gZcUxhCH5QbWKFRl1JnQoFdMFxGv004hyvltjlSHmp5JJk49EEsRU-llR7o9JLiEmU0roVA8nrFivmGfcOkOSuLuipUlDjBIVsqkK0FSZAhpxnfDruCG5UZclaCxEVQ4HpkFz4O7sFhEVjRUZd+V2KzzvKpxiT870HXDlZsMalzRMJ4ofcYEKBxGVexeo0Dr9hgwsiTxHy4XPX0CBUrqpjATCY20knVoo5QytWGaozHoouUL-I8UCHOXlg9xgarmo2HLY8VIsGYgVc8z0hPLeh3QCSYpPoB3LNhsqwoEVBxDpqqJmamSTyywgZjuADK2Nc4p6SSSBVNiIWe9MlI2iXVfsWKdC09UyLbF9zYJYyDCVCL4YHil2b6tNUfzglQao0IeL8CMhw1uIPcSMujUCZK1kWWKcUKTUEQU1w47YCgTeX3KWBPAfgPmq3UcAs1QggUmnAqmBTy12DRdcBmXXzCxq9ap1Mwv+bCBdlEU4IG6rI7erZFrCx4IGsfljpBAL6iFYGs8798MxXqjNVgj75AbwNf6qCB8GCBN8a1balCVGonEv9noCkwtUdiBB1KGJP4v8YBM2Xkg8Nn4gjcxNaWlrJJl6pRpho-XvAxqQUcEBiCYXV8gNxijteSAQ2urW1HqlCQOuf5Ug6NPSxkGsqaUtKmIYmjZfGKjSuSaNFDYTfMsY2jyWNM-VIELUNixMg6Myb9U+yyAzIOh3ZN4FppRB9IqhCxa6VeTATXpjN5CA3uZqChPTkSl7OaBpsnomaCwZmgYcjgM0flrS3ZdzeQi83OjLNqfa9IFpRD2aoyTmqzWjhqBiAho2ONFTpsCGhbPuxm-AO1Ns2RbNV8w3TRpuy2ebCtkRa+VogFWecMt7UmzfQA822pAMdAWrQMkvTSruudKbpJpqC3FamtuaZSoaqEGFC81OXS0VZBa348EylWqDcSXc2ZazJKQRrblqNX5bFW5MObUHQi2itFuVYlSKDHikTD3BLMCQTMKvCjbeVSqdbWCHO0DI0BtalCA0AZXTaqtFsSGKtsi1pCXtG227dIj639CDMg2-LiNuyUyrYRc2mbca18nEAEtO8QxNduxUHL-leK3HvokJUCzFQcik7SnHi2JaeVKcFnjQsKClK6xAqo2kGx63ewCdDohsYCNrmdsw0n2pELdU5XZJBthXHSujoTKY6tAYO5KlhPLY7x5p31ezLvw1ZatVYurKWI1Jl77dDu1WaHd9sFUxgrq8OzSYjr9DI6-Q6sEwPwGGib8IYpMHeKFXs40IVJMSmrOcKAZ2CVqlYLMVl0KBxIS+lknLKQDSS6UBZ1O23ZLu16vRKuo6Wms9lrEU6Kl9cu2LTuMhy7ft+68EB7rl6FkAd8mVFd1wTJR7pdGZX5o2BuB-d56EgxkAAE4TgYCTPTPSJ3mb89PECQQKqhaRwRo3ALBHf19XFVM8YtSOQYBcDUlPJKM2IAXpTj+d-OVkNAH3pzWEy2BwsmIJ3piGZ4aZwUKemXvUnGxvs6k2XLMhcA+RLSGsq2pPoXrl7Z9m4GFOnpW1T6Z6jU1RTPQ0XHJJMiGhbf1udFy6QUg2o-eoqYCaLY9jyLQNjr05sA1FJ+98raw57Y6CUdAIqCeDIBPR3Y87TtQIFaCMhvu4GX7v91F7Uio42u--fwCCpHBKuTEAcGglIDAG2moAaDs4TJHox4QYtUfeCG8g+QOeX3brjtqKgxAyD-kf9evokECtDO6q44NzX2osQBwCa+vo3xqQvrd2rQMdQ0H76xT31sGmDTWsAKCHd1GBoA3VWSS4H1I7sLCnrmxkj7S9M9H+mQZ8gZjANLfABNofoNCy2IRMlYCQe0PeRKD+PC1IIkagWHvIA+9Q-vsHQNjiV-y-FVeDV3SJouaK40TrvRh67horQY3QYCt1NRsG00fURPG3jx7clwR6kH7rKVE7PRtuR9cSQhLvBHI32aoEVC6kCYIDQIKA4Tz-iwGpuYcYwH-poPaVUDNidWlogqbo70urhRI4TtWEpGElyg5HG+UxpPz+cdlNER8LhHkBZI0ENpPED66tb-D2-HePEYua9krtpu8I0o0iOfdLM0IuedBXPDOisIfw8spe0rmOz-ZhA0RSMGhGp8DjNmM486JvBnH9jdw3-pnMdn9KF+bYTwP3IRGNr9ZTc3YwxGeMLiCKQxdYz8cFSzJnZEUH-Wiv84999ANu0AAAB0sAxio5djh4MyBggd7WnTA0AbYI0IPe2JJgeAMp8TgEJ1rVCZwkwmbdCJpE6SqYAN80T7nakdEN4AnhZkPQLCMydAAAAvD5vCYFDInaT-sdE4sZ6DcmcTekPEx3jkPGAaoqEF1N2SECGAsjm4KEzSdRNCmeGtnQhsMasgsAdKygHSpaMmD+c0weAEk7kpVMAyBT9Ju9hqaW46VdTGpA05VwlP+QgAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
</span></p></div><hr>

    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' style="color:blue">[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
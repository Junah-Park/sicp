<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:green"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:green"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:green"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:green"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:green"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:green"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:green"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:green"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:green"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and <span style="color:green"> Definitions </span> <span style="color:blue"> Declarations and Blocks </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:green"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgIa1CITBpgRQbGHQCW5eCDKnqOgGNz05BtiyvWAhgEJ8EiRghDXGVhzwFK9YLeDXa6q4MSAeCm8UQ3wYjDcHO8HESQ3ngySyExCJsBjQqAaDuBN1-k3g3wf4McCBCShUXcIWa2KH2BJUcQwNsO13R+D6WyEFquUIPCVDaIxQxQK0NiG9CiQKQwamkPcEoZesxnctDkPSH4BpgqgdsMXRPgz0Vh8gYyMWFMCJATGuQ+miQDuzsNj42wqxp0D2FuDDhiQJoVjhmFmtNCyTEYIMOtTDD6h0Q9uh8AFJLCYWjrKYdFQuG7CZhtw2YSxn2EwsFhfSOek3kQhno5EVkJfuKGhjP9pYASY-kEmP7sC6IRRd-j4TKS8DMR73CYGrzGAEMv+aCZEfIE0BuF4hlwosM5QD6KDv8zAm6CiNpHcDUO+KXUAyLrBMi2ivIzQByOkHu85OdpGpvgHnQS0t6UQFRlKM3gS0mGKXPuEKLL7yA9ABDO0sYGSawDjwvIzUT80pFV1nAMkREciDVEii6RgbDQfqI1HpMY0to0YRqKHY7CDw-I-3m0WXQGiLeHwZdCiImHM83RjIz0TSx9GFDbIi6AMb6NlpuF32J4BUXcGZYuClUdwMTkcj+EhUF+HPJqoCJcS9wSCjWf1MmExB1gVOfTTTi8E0BJs1RSbNEf4kJoCi-MU3RSJ7F5EGgPRFfNojWJpHRluW8wTQBGNsh1juBOgoYp6ObEKQlIko6UcywIbPDA2LJNMbYkzFNisohYzxIQAcDsCJg1IMvPaNCGGo-iYYjURuNZj2drhBwkLoj3S4hCGx3tHJPZzK43iigF+Uvt-BV6kivufoTQs4joAqtp+NIWwCN0aD7jVyE3QmiF09gjsNRhIp3HQJC56AVGZTZxCFzWRpjQAfRAABIW1bAAAQXADgALaAAJT6KQAAA8g7WQCqRNC2hUaPgDMAucNOifWhO2PdGcj-+oQrcSRQ+57i2JlgM1heMAnUg52lYvBGBI7HvsLxMgSoOWMGB95pJvcZif2OSQz1sJuEgiURNIkUSqJCk7ssJNEksTxJ-E4gDPQvGgjhJwE-HqBJMk3QLWYk2gK+BmFoDzh0-ZSVp2SQmSOJAZOTjMLoirCMaTiFERMVKpHEXOkwHIKWPcl4Rgp2fKSnyO8nu8meDErsdFOMnBj6ooo4zhhL5aR0SA7nVSAAAY6Jx8IqDeGrAKRJOPTGFJQDQRZ5KppIfKQeE9i5TGprwuyssR4BwTp0rUgYE1MYB95TsZUn4GANAGM85IDUy1jVO+6hDzCtTEAuYValTSJwtUwniQxVamA24I0v5HYEKixRKpjXcXpNOqkrSxgGhB4hVP0TLSVEtUpvmkFGg5D7gN4GQCmF06mg1UdA2TvdEVBADhpm-FAUtJOk3T9uSCT5hzwI55FzCj02wM9OkAph8ONbGMcJVMBPSXpRDN9qDOQ7e89cMOFGTDLRm5SzxIgCYF1BMh2Bq2+QPMqw3AH1iYe+KaGbDNelo9s2PwY6PHHtDKl3QqXJfu7xp6FkQe6eBXqoMzi2QAkWIg-qyQf6OlEpHvfme8lKD8DVeX3MUqEClGqwxSsQBmWjJZE1AUkFghUgb0B7aCFcdgHDoaNsihAtZcMwwZJHyZWyUwTBONjlAIAlJRAdg6Hv4TxmMznB0A1mMaPhGCQGQ-wMaVZwTIyzyUGIiWeLPP44jH+nGUOVAKCDqw+BJTanj9z+7EAtitgAUVvwlmnI2Rg4rWlEGqAyzh6ysQDizLoHVApYstPAJPHrmOwmBxI0AGwKlnZoS5WUhXktBTmfjPuisb6Ql0zmQls5oYufkOJbnYilBEsu6LvFnnGBrRZoSmLCKpHxy7gXPUueXIQ7qwSZqCcmQsA7n4ivyb2OuQ3OB7vIExs44JpvLUHUDjYy8kOWvLDmdyUOsJEgFnJzn5Alu+QZHrTM5wSiV2iYpUT8wvmKi5x7HLmaqK-kTYtRIhXUazM-nmzEo-s5wIHLhDBzP52NH+Y4TgV0Dv5iCuUbPTqQmidQzJNBfV2-nY0luz-NqmAHrmTw4FxvXrA6LBlHQ8FBDN+cPJzneiChstb0RNiRlBAOFFEHOSOx4VFyfhu6PBQIrfKOF4xgC5Mb7LbR2BcpPgYuOATk6K5wsxCNRSMBQKVSCKGwKYFuMZCEy5OX2QmQY1amuZTFh4mJsJn3QVcDpTs-GIy2kDPSigd6dPOU0DYW590FiomRXTzqYhLpSgXKdWI9DEsdQGU8JQeAoi-yIJ3tKYNajrC5SWpnQAeNtP+C7SFghMiJITSEWTjWxJbBcAUpzk9iEpQ4wxbICSxJLKEhM6RVEBHEEjS+BSrKIo3kXJ8WQC4wjoinuCkt9p+iVzLUpSUHTfRS4swCuMhGKBWlvIKcdlLMCYScJtgYiWeAAAyFtaifmK0KwkUpTE3KUaC8lZS5O3EncTSAknujBJ+k3iZ6n2XnKBJTDRSZUFuUGNHlISo0GpKWUrL1l4APSaMAMkiRbltk3yX8IyFoInE5kzMZZJAndZbJDSoICeFylOS-hP4JnhCqmXzS9FdwJFZCIFYqtK6gK6JUctCF+SLhgUgyKksGpHFK6EoFRWEvikdiZZyUxiV5QJUJSspASk+KRX0T9LylDK0UZeJhbArIR-k+QGSp6ASjoq90PycvREgjDlkCsRtg5PoC0sIl+dQlS+WWR5j8VlUo0LyvYnsqsUT5P4RyqpiINVVKq2JYlIFWHTvaroBmqpCfFUcLVxLOyaatJbF8cZpEO1SQEVlfj+5PzOEN3T6XmrSWVqx4Uw29ULBDOzquavyseEATslu4xvgaI0WbZ4W3gGCX4DyY6o+gdAzNdCMexidTAaUrSNXWElnIlVwaFmcJMb5yTTJaPD+FBNUhQrrJ3WOtRDw-iiNDw9yOtQKuTo+Q0VNwkLpyyVXYq3BHqzmlgjK4jqjJjk5yY6y+ZKrNAeYrtZtI+hKrrVk5I2S-MWE9EJkDUstbxIGVij0RhNEyZ7CqXGLDguStINWt4nJqMp7Mi7pBPS6ewW1FEGyY+oV6dqLAa6kJX2uUhilB1V49LpitEBjrEgE6oIP3zxDDreWlUiDSwFbz2hFplU5dS1VXX3JWpjwrdVYJL7cjPE6nVqT0RLULB21qakJRWtnWmTZRLIIjZVKo0qTTJTDdTnWsY0eTTJanMYIquo3saXgwaFQHutI04jy17avJd7QqA8amNOSdSfhMIkkSyJlEn5WkFk2aSFNOkzZYuuo3obrqkm0jW7jHEnhcgV8lgvino31cbFaQQTcWtamHrdxx6ych-D037LPYsmr5Rstthua1lGytsRzzpV5jnNOqycktCM05ATN8FRHJqSBgU0i6s0e4X3Di175PcGwGLUIC+gCNS+CMh3H3nBwpbcIfrDLWOLMFu5TNMAjUqLF0qpaR8cWijeSUS3u5WYf2SrbhHS279d09W0razHBzNahABWmesVoMZFRPADYESP0pq2hCstJW2BrQAprUA9peW3rWGuNUUbFy0WougtqvpmsjVkIphilrm05L2EG2yHEdp+igk3V5qv7Edp-zEAqtcOE0LbwZLba3BxnGDbVSZb7FztsSkAntsKgT84slW-baMJsC3aeYT2u4Stpfo9aR8UOuHPOJHg2j2pQw6oQ0O+FEhPtxLaODsGB0taYdk7MHf8IN6FUWqAOvad1ux29agddAEHTPJ+L46YSr2ozYwA+29KzVX24UcDv21-abcogYbajC8hxrltxKkFaSvWFOIJVhO5YKpWOgs7+lQ2kbazox3zs4VHwcZemIFX+leZ-gB7SyFV2TKbhdIuebEE0L3b0gdOpmAzvZbM63ADYBXSrWWg86GwXOzxDSEmBYJFO-rOTibBQGKEv65NKkH-VxAcrD2brD1lHH5107YYLpYXQFNF1mhxdNSV3ajAT570sBzCBksCzWiQCRCDS8xLSIyqFCiO4gQueIsCCNRSOLUXkUSTsrvg1MSxA3nPPhXB7H2L0AVtUVCC66MxUyhec6C2WP0zd1cBnU3uPapQrdX4BQLbpAJD7Q9sBbQh-CVCptjK3gz2AAE5-wo0RfQZXV2Fafe-2mwCZQFVV0DQPgTQDRuoEszySKgJ9QqQrk8QrAGRQqXzOMAb6bQKLFFg1DQAf6oNlg+3vdGf00tL9ssp-Xvu8EH6KQWqPySJhuhWAPwu+KHtjLL7AHN9fksAxGk0Dz7xgiB8KnircUGVPFMUZuHuqW2Qith7pP4ebqnUWscDHi3bF4oajo67dMgdxXgZX6wln2tulCMQBg1WEDw5QOENY1PW2rPYrbR8FsFTbPt9xhoJQIVBg1AlfwuK29TxGwiMBeDytYpiuzhC1Fh0aPP-SeHfAfhn2oAUltYE4M2ceoyVP8LRsCB-6lWIakKHbxvn2D1YvasThJ0xDcbsYroK-VEHM33ASNbG1jRutcyeGIe6sJQyoY6hqHVIN2RUSMB-AMCgDelbwbVT0M1661ZEdw2dJSPvh+o9hyqPYO3XLAdDWRj8EYaygMBij5hhXs-vV1SqQVYqgyPHtWI2HYlqO1Ysnu2Cp7aWiU5dUXoIAtVdAEw+g10c5VeBlxnem4ZoTYxbrD4bB-pSixU6KAS9oAAADpYAVFMq3bOJ3wA9EImxu4qulUki2Q39amDQ2WFLSzHzV8xysYsZL2rH1jR9JvC4e2PQt9xR0QgFYRuh+NzC7x0AAAC8M6Kx04BsaeM7Hc9+xv42xlWLHHojmh0tFGT+zDA6AN4LVNIawQ2rZIroIQ6quTaiGO2GbRyA4A4MyG9ich4XheQHg5IhjroO7KmImXjGDhkx4LePnJL6FKSBCk8NeHHFdilU6orYEk13gHQCWFEfpe0cwGnRqThDVkzdDBP35BqAxqvt7VROjAdWSOT2CeCMNKnogV8qMkmzGC-AlDaZFIQIdkhKm2xQqNukqa9ZI5Jy5+x1Eqa8NBAijNelGD0RTSnNCoI2swxOoKPPrBDqkYQ+23EMEmpDJhpSCSfkOFHMDyRvQ2X31PNSKyxhmQ1ka-0JGTKq9F5uweCMK8nDG6lw6UEk4ZHaWDpnoD4ZXAzYlVZybjcJqCP6yogOhvCUqvSPScU0dxFEZIBbmxE0AKZ3I2eTNBOmUjhh1VUlBbE00Kj+xbs46cwM1GDIfk+owuEaMeRmjGO+vUnIwFUBxT3R5CL0dsD9GeeHkKkzSdGN0n1djJ2s-YKCC6m4zmMICtMeGiXm8K15rEndMc4anQz0QWxngGBNbHQTq1QFl1UkD7FSg+xUgPsWZb4M8ApR2ZYpDoDRBHOX5uiKCb2OMtALwF0CyivNYAWGoQF2fGhfAtgB4LzxiJshZuh15sLamECw1DAt-nucmFtTGRefS4X-An5h4yJBBMvHkLWF9C3XgotqYqLGFlCzhcosCs4LLFzYwhfYvXZaLPOVCyRZ0pcXJLAl8i4xZEukzWL35iS-+cUsMWhLUB3aNRbe1aWeLJ4MCzoCAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}
</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:green">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:green">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:green">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:green">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:green">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to&nbsp;5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:green">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJIWzAtCbxaZQiJiCK7yPBD0j4VBiCbzUY-MJSRElBMMOIjhBjWlGLtG4rOcygH0G4qiH4CMkkpMGeE6RIyV7G24MZIoqC9nUAOQuI5SznCzPSSoPZiyGBJJTqfSRlDA4MECDIZBeJal4M+c8hglJTmBkBcC5BpJ+FzLeP7KFnRokmwoQmeFlRkE6Fpl0oWbRayOHzn8tZQzzlLzkVclBxh2j72UMQN5-NCYMtJcyt2YRP4AoruCDlTKWXcGDmEZF7zBVkt6VMzeBSC6xH+T3Npmz+7go8lUUgHxpX9P3pinl2KtrX1FWq8wQSZyTJ1VPOVxt9WKsDL-MV5idmpGmZoXEkquXGt5WctIGQ6GOrru8rx6xzV9Ombq7lQk56+tdg6zpzqmpci8KE+ZOdS40tGXS8E7APBeFZZxQmOblDJtWY4ouSDs1JvBCK-u4r+ZFq8E1fATSU1OJvq41V2yg2pA0IQEE3JUSwrTQgjNlyYkoN7f2qB+b1WP0Wck5ZITS2pqoc4jtd862cR+mIa15C7UuBMR0k1LgHIj1IDu-QRBbWUp9S7LIV7j3-QPFq7dl7CDXrLZQ7aD7N0eTNWei9D7vX2svj+6GHjzCCJ+voI53dAzDNHWCI5Vlig4LptnJmcgWZQDgIgZA6BuZ4gAR5cWNYpnIP3pWKNUjiUizFhLGgRsNbKVKNSY2ylmjOzzl3FjwIrbSRIWU9hR8W5t1zp3WO3BKNTBWJx1ITDlFQJ486UopGFwKZsUp+R0mOPDw0YpwdsdeNqdOqjYRBmVl0p086OTI9n4bwjUZlTLRTx2eWQ5qeFG6BUd07s2ajz50nKc4qVTrnUUPOcIcgJLyl1We8zJkyw96l+OeQuyzzHnOE2zluTJCScl5y0Jqru+E9LTGS02ltkmblXms4qWzHryUZZCy5n4DWjAkqFdq8NVristHi75i2SblPNZMw2rzPmbPDwmWGgZwWVihZ+NNmVjm4sTbq8PSd1AB3pdlrxydzS1MdC0PobOgXF3QMk31qjJW0KArE+jAp27d2yyk-FhLKkWikHMsgmydkHLOWpL4Ke5B4ZeR8odqZaGd6ED7c05E3AntCQHNHLqCgIuVkatl5EkwcafoTPt75qP0eY8fidhwCPz2OpzM+f4yP5OKEIPgcob1SfY-WjEd8ySMjFQh8d07jS4cOCptV2MCMkZou8weegAyRdoVO-lz6hWCnY5u6V6YT3Vdq6KKdyjUvX5gjZ0Bf0NGenvyCdz9783U12NrNC+gSMwTm7YLt1czQxwajDBRF8hozLBDJ3QKytl7JORcEPSgvgSBg8EDDtgvgao5nA0PO7osHswYCYYV7VHcdBVPU9tP77LexFKHeuSzQsK86+hql95789hEz8LgiyebfJNGNXi9Ry69Xfje8kz4WAupaC6tuDabSC1hgwxr6qKvk-N69JwvJQWtnnI1PqFMLLu1fWxX-QK-osj2d7P+LXb+Ymba6K+vOM6diwUG64ljKyWRvZzewM7vQzki97T4U+hg1aotd1vVOOoIVggot8q9Q1ltPNjVOBpMAoadcdYhGxQDekZZm9GQbkQDn0wDLV-8oDD8VxL9TczpEDg5m8ACbkgoiDjZm8mJCh384DhIi4T8Ot79ZcNof8ZtdVns69oCVw2JE85km8HBd5ah9AO5klh9h470RC84lgrcS9ZMeANwIRIRBD7MNQ4RuABDq5VDhCbxRCJgEQyJQA+CJVuRGAmcCEtEVFnt1pL9T9VU6CPl3gBBRVGQGsutZUu5qCn8c5XVw9b9OVGtKAZC-Ri8-Ubk1gYd94U5TDW5+BNEiFURlcMD3CVsZYJhNc0JDAYjzD4jtF3gBJbhGo2sWC1d-1f8PDjUzEaDYDADvDh4NNLCtN+4bkFIK4GiEjypSlrZTFwi9NLFxRciVFhtYxWidx9NNNYoui6FJgRdmg70ApjDj9XMxttN4scZGwBdGQG0KtmlY4mJGxuw9RXDsi4iLN6ACkBcjcOdziBAVD3MNQmYgRNChDBhDiqc6it8BcMjFQxcoixZJd5B9dbxuQ9RuA7iX5agM8u9CU5kTMlssDxtxDCYCD7FZct8ekB9ztisSjpg58j9OITNd5Zsh8cZd5BMW534iTdVyTpjvit8qS34zp194s6TcC4xKF0Z8SSNXNxjGjDMSSoIySpjm9SYBizjGApjsSVgt9eSOjsp2F+569WSqNwoFUh5e8biQFBimjx1pNSTVCaSRT2i8iaSpTcSJ9t9NT0EJjyoFSNYlSVxuCIo8AMNmYlAcN2Z8MuZLBiNIMS5R8vp4ZxDQdxJ2QAyuTrhCiWd0l9AFc8lNVuAviu9I5y1+Vchr8mcRBoyCxq0WC4yldEzm0egnSIMc50zGdmcsdxCENZEK4ZArJyzMz-Zs4Z1zB5dIFFd8kTtxDcUQV6zQAwVf02y50BduyUy+UtUEV+ykUnV3kdcATpcI0ZAezQQgU8V+yCUIzRIoyUSx83gHcVydxxlgZm9q1HCDyhyc5dyvp0ZqzqVayxiGIrJrzWyXBry7cp4I1bzxylUNkshbyYSe9HAvhlk2p-jKw9cBk9TC5KEbwSyh5EDIYYM1iYLfzBh4LYTgL8BjAmo4dclz8IhChyRBpFDIZ697pGxKAw5fDcRddATN5GR5jfTty7gkKpioSHtxCY4RNQSKZawA1SzMY84aTldclngiL2S0KTsxLLyhLPpm9RK85xKFVJKQM7QaYtyWhEY-i6LFyICeKOLOgoSWB1hGpoLiLy194xAqKjADLwhQyOA2obLTxgjmsCYoy2KDLepO8TKcKN95DHLrLVBbLSEeUAAeYEKy5yoy+fIoVTL7P3cEAAFStlABuDoF8EEHPV4FlSbBj2oFqGaHBFAAAGojCtc2NDYxAhRdi7LSqUErJ6qcTYgDY5oarvo9QZjXdPtvtkrUqZBiBHIsqxAcqOC8q+0CrhAiqmqKrWq2p2r2LwgyqzziqyrmqYg5rqqZBmkXLu86l+MsRDThNSECLyR1TvMA4rZsRzKVgh4sjbZ2LvLH96CqUY1-w7LmrVMLr0RsR1rYgmUQKTpdKgS59mrmgpi05tpFq-rZhr5dq-rwbTD21Nk7KbQ7RdqrjWI8DP9KM04qKzLr8-DgbN5nqihfdNwpjA86BLZyhQBRD49tQaibkEDclGRELclkKVSyCi57roFIYRLpKlLviCJ+bU8aZMaaC38LLKFKNLqiBObAL+YhSeKRTKaKZTqkRMLKw5brqUKVw7qkbHqKYP1nRo1JDoaCIvrtafr9B1qAbsKgaFyQa3sWDwaeLIajUPrStSh4JtoXLepYr1tebkb3rQqqY-wOqJgvDyJyr+wcbvM8bqLCbaKnaSaHDChyaQrj4qaaaRA6a84o8GSt5o7QBaDaiGgWaC6gR2buNuDYwgpg7+b2LBbAZha5dckFKW6HwS7eDVKXBZabaSz0NH5MN5B3S2Y8NOZuZsBBKUdqA0caAMdszB1sdgNh1IkkF4cUFAl57idXyeAidF7Gp56+0-8lNV6DUD1lUsg2cPZCpD7qAl7XSniK50wK05gzzYg5hVwG8GgK0ORP6YgOQf6MiK0MJAGFCDwQG37+VA4IHA5oGyt+VnY-UzyUHMhnRf6igK1uJDA+1yA49uBcH8HMrFQsHCgK1ybAHybYxyHYgK0bgqKR4WBDBq1GHVBmGmYVg6GYgK0SqIHYh9B4ZuBfB7KAA+UAUHMq0hnh4EflTyARmIIRkR8RyRryUAGR0B-ldQ6YZRjR1R0HSEDRmIWRitYARRgwYR-RwECR0HMATRmBo8gAUgsb0dEZsbUaceMdAFMf5XEgEbcYMbTlEa0aPIAEJJQAmrH3GARbHQAImgQQnHGwRwQwrXHomgmIqYgkmkGjywqARFHAmPHQd8nsnfGjyxH0mVHinQAJGynQmUmxGCnuAiginYm1Gmn6nkmIQwmLG1HCh2mYgwnYggz0wCobiD7d6j7l7OiDLAQVxikr4BhuAd6F7H6Sd0lHV76pn1mZnsp8AWAAArEwII+ZlYRZ5EDxsBh+jHM8kxQ3NutcG5jZgsR1SKCZ1Z4nD8yZK1RkJBCtF-YQM8wF2Riq7B-lSAOgb0B5QhmISF6F8PUFsF+h-ldhhgWASAQBtFjFpF5FuRo8tFgAUQgaJdxeRYrQADlyAKWLGqWKXA6wXxmnDJm1ml6mF2KznpgLmPHtplyVnnnvnmArUmWqRPnpmmEHtOWGhuX2n7mLwWWvn8E3nodYdCcdmn7WdydhqolxCCdXo1RSBY8TpDnyBqwsiupNBbaCIxXdmT6OBN5z6hdHmiht0dWjgihFjOJpxDriaI1xDfiszfXPNZde0ojYyBXTsja-qFXxWrTzVUaQ3IjkYbWNX0lW4jmTmoTo2U3GoJWGI69Zd8ar8b8g33ZwNKKw4xAvgTKnlU7dVXD4xCBwLIK-WThh7Nm3TWZcMOZMAMBmLzyKBTAGBGUPhyobhSBk1FE7zfVlZVYTEp2ur5JV0Q6V2F2lqUEGBVrKq2rtqlm110b+i-h74Vxmh53D2OAGEUVFAbhiV8stBfkqqTaV1yBlBlAcqMhyMjAEdX3VGmYyr9AX3lA05wRirSgQPQAirGqyrAOyW-QQOa1H3H0klKBw81YqqKcd0MPCdJBEXIhoJpaExNr6rwQIR6r0yb3jA73hDFnXXkPw8MOJhiPrBwRZK6PcRCsFAAPz1p3JDt158wO71dJEsvEK4+PQAE5lIv9FY-UV2+PwgdZl2bw5P4n1JUN+ODBtoxPQzwRUNjJSh9zB2ZwR3Ypx3k0+PjJmgpOR58rtsQkxOJPVwuNO4ddos0s7PuPF3msSOt22OmAyBOPNPKcuO1occ1rVxiqt3hSxNRD-cCwztxFlOwvYwIv6rfOOO93ZOgu5PQvqt4QhP1s2PcpQQzzt1+WcP2P-PPOmhh4sJzOrdCvwRwGNCK5Au1o0asg5OyuUOKvSBBIT3h5Nrgv1PwQAByLd7dYjsb-rza9qvj1j+IPwxlUgZpJb9x1C+DaT12T6WdzcbaVb2Dq8CtIQIFqyYIFahyHSNeNwYsFa0fDgeEKrhfQrvb2sZb8Om8fbrrvwjj+fMvBb5pF7sgEJiOz7g+8r4d170RzSk1s15QC1mcdGQnDwBdfPadzbWz6BWDFcUYlJ9H6damOdTE8RWDZ12IRZmH9YOH6gTQZvJH5lNwBj1Hx72IWzGLrHq3CtVDEVFW6L2ugJZnmIUyAJTS1bw+YHeGOnlH2DC-T-QWPHwdWDR-BAudCGoEFcKLipZzwn1zk5RXrw++5H67-2J7eKDQfQUXxucXyXhn4agpPXw0cglX927T8B7HyB3b6+QJQ34wY3yncOkxL3+nn3gDfQ-ryN539SOBt3wPhdJeJ7MPp30hYDin816nhHhifLuK932LyYni0nmIcn01yn+H2nmPm3vPRX377P8Pk6g+73uPv3mAyMfUS-Nn-nx-IKTns8jX8TL6e36o5v6MB3hg4XqWweOZcPEgVHn8jb75RQ9npd7aBfj7TO5DFBIPf7funX87dkCPFlR9fcjg6f9bnOcvfnt3uC8-+Q1fgJKm4PAHIn8wQ-q1KHOZC0YscqSgfAJqRqAYCodC-njPxcCT8++gA7Tu-2qiyU-+bmD-tlFHLS8T+y7Z-kESZ6aUDY-QBQNZxIBZkKgECXwMIUMBshcBBDJeIYFJBACJCMnQgep2IH4D-YZAp4P1ywhQ0wU+fAwL+0oCBAPoWAv4rQIIGcCMBCEIwKwOjYVU+B9A0kI+mqCFYbYS9cQcIKIaRgSBEgnjlQLBRu9xBQsYkIwPkLMCjUIgtCE8A8bSCyAsg6xHgOEKaCGBB3WMEYPaboDuBREMFHtS9YCDuBMgCBOrDN5b0n25BTwUjF6RcDOODgzARcy1ZR1Zy-MDwVQACEhC0OGA1Qa7BCHqc5CwnT8oa36ByClBdAq1n6ChpuDBIzrOwRI2iEod94gQjAfEMcEdoghZicfj3m0pZkhQ3zUEF+XPYYxfEIcOSv1HJAbFiYYgLYv0IYCvQkKiiamDJQI6BhnoacQFm7wDaDAxhXEKgOMKUpMCYhZARgIw34jPQRSz0cOp0JWGAxNKvEQrJsNCjBVeIRDZYd0PEKQxgOMgJMLUGKpu9wQDwvYE8P64kpOgsZa4Z0PCBu87hMQfrlBkwhUB-hVueYcMNFiUhWhnmS4UsK6E0xgRqQLCLxHjiJxo4ihP4dH3WELIthwVG8GiLYGKgbwfw4kehFxFnC+IwVbaESNEFoRtoZI+kVeHFr9dXhjwoFmgLmgcAv+EpAoUIy4qKErGxQumn6kVp4I+gxaEeIwAgGDpZRzgbgKL3hGi8aY6xCZviLXI0hncjIE4RsIYD4jzekPOfl0PlH0BrkeLNCCqImF900q5wzUdznuEcjM+C+VIR9lApVtJAOifkRqKdxlt6h-MXgDhRagIwfhWKSYTnEG60iwR4ojyGlAqEfQcQbIboOQKgiNhHi4gSQImLLC+AZyNox4mBGDDjh9IoojBuDU0rBiJeRINuKGPWiNhugjIKMWWxtEgicQ4QMDqhgg6gBugHsHkaACSoAAJQlgwAACC4AcAISwABKSVSAAAHkKWyAIEExUEoDVqRMA7SIzFDGnDDhPQm0YGOPoyh4Ym4jYepzjEVi4+13dcecSPFJAq+cYzoAuFNHvBZKd4zIGuMSJGDEBA4ocaOPHFTjZx8458ZIGGEHjzxWkd8bqJvEUC4xcQisQwCrEgoIJdAcOuCEfGeQQhr-Oci1DfEbjEJ248QiELeieDFmIuToTlRsYlE1AJgRtEIGwkhJSJlkBQmUKSB4T8+K4tQLRPyK4SbhtMXsXd1zaZlCsjIAAAxtsh4NQRyECgyC-8bOxCagIMCuhSS7cDgQSUCD4lKT0h9VPEExCChqTcgyksgLJUJjiTTMViUUqNDUny9yockwUQeAhBc9s+FkmSbFDkntczJF7FwX+n3jCVFEqQaoNkCkm1iJmjkiahj2GFmg6ag1SScIksnZQ5JyUM6hP0CCNRHInQZNAgJXDRpOo0-ForaLuDGTFE+eAIIpJimMBrJvRTEbZOX5uVFCAg5KalIy6K9yRQDJKQwBSlsBk0l-QgMe1jBC9CACxG0bVNan1S+JMY8wBUGwGhBW4mPW-mNDMwYxVRUEMPC1LalpTSal+LKQ+HTougca7Qb4YsM2nl1FQ10cMjcjLosENigwi6C9EYBIV5p1otCEFBYAzDwI44daqUAeFRh1qzQQaStPOirRdhj4ZiFgGghnT66NGcvOCLQilAfp9UpfjjgU4wz2pK7B8K7X+hGViAPdKWgNOWn1TYMmlSEc0MZzPw-gbkjGKeDwlqjmW0woEDsJGEc1FhGlckAOGmEJMgw6oeUA4SCgOAaq+o84X9JOjvw9h5oi0TEHJk3D3Wb+WAutOgyngACYLPAJCEVkrg+hV0y6f9LpncYxZjMoAkXBZkFj2ZdQEYtKB5kGixhzI0ADsMFn9Dhc0EW2XmDEq9F5hpM3qHhKb6UQBw40qIqkBCRiyGZYlcSgrKVk6zKE7I94ZyMlmD9OZI-cXM7PVriyx+-bbmdtV5nUjYye4X8AtPDHdDHRYc50UXhQRvCOAQLT4btKyCEB056nSGMiNMxpzIZMwLSuLihHfJsKyyEmeXJWYZyHZ8hFsYQHIFzDGh-sQmS3OoBtzfw7cm4TEEDmQhq5qIsFOJwxEojFCvc9TknNxAGjCRBgiqoSNJBNTCgq8lOfxFpGbyRZDQWkTvPNm3V-ZbIwuU8PLHdIpJascAmGObH3kokj8rAs+Skn703g4CQMeIhGkUCTEI0x9GpNHIALEB6DLIC4jtDAL1OR3NgClN8D+law8IfroekviwLNKBOPxHxP8nkwlRlIxUUaMzmvAJm4CfoIwD4mMhAgohEyeKF8nQIRp+xCZvvN9GoFVw+8g0QQqYkB5mRP8s8FiXIU0SRpu8hoFaKUraSi4rCrnNqO043zi5shMItfwnwQ8geeCxqKOSEWUKApxI90TyK9FBD9A0irUX-B7GSA+xg4hgBOOsgAAZQlguJLFsBRJcyNiRwz4kFIuJJCuonuOAkVBDxiEk8UBLPH+x3F14pCf1xfELhQlj6SJVFJbziEvxVi2xfYsAkzhglcSjxZSPwkFCeByMEXNBP5GwT4JYSmwXBz4loSCh8IfPgUsMU6dbuUkipUEIe5YKY8uIUJZ4rEoUCCJpQ4iVeCoXtMSi2CuJeopWaEKbhrEyQOxPaVjLxaXI6-MIlW6Gigexorcd0PjGCQulOSnpWb31qs0BlsYAiaGxwHZDhCLBb0MbwvHvjuFqymmMSJFEE5Ql1yjYXhNBZN0Cho0-uiosWWrdtx6ywKcy1aCXMgQaUG+HvyWVvcrIFeVRctwZp45AwgKhwM9MLEag3eyyeZY1G+WQ9flyQ-rgiugTICCkoPN5bULvm+KEYS0NERQP1icC5oGXNEfJy1h9EPeIwelWgK-6BAOJwEslYeMfE2FZeDCvxUtF5Wk06xfgRkEUvLDVjeVJdRsG+y+zUlHx6yqVnpBqWVDugV3MCc4EaUYDYVRQIqDiA1WwC6A2qj6LmVjC1dLlCo9gR4zlU0KZwiq5IZjVBkJ5A0-MD4MEEahqTXoFY9Rf8tFaUjGQ-Cv+SEiYVMz+V3KilVkpFUTN6xQICVbiGrEBKZVZCxIHariVKqAQ61VVQmPVUoJyl6EiWrEH1W5rxkDS9Cc6ywh8TuAIo21dSTUmOq3Z3uSWv6K3TCAQlik4IBxIA6Wr6A07XBbytjr1zoB-anteEvkLQDHx3azVb2qgFtqu1A6qCO6o5WKrvVB4qdUasxpRQ2AFy6de8EZCJKfxk46cXOPABMQD1Y4o9f+IcUWrd11a1RtbB3VGr3icKlwOCAxAsdIhra9tY8HAXkgl1nqxSaur8W+rmFzLB9Rkv3WWLrFdi09eSESXQb7FOoxQlWutXtNwN7izGkFDfV5pSVNFD8oc1Jwd5EhWQIjbJUQJvACNKIWvOISX7p4QFySGcBRseh286NFAzqQJSJR4bcGlGgsNRqpWbcSNdGsjckW42PQ+NiA2jQXlkr-pRNKIFjQXjY2XxSNn6jyDUDEBTJ-YiyojYAuvjKaW1HkCjfgD8lMa5N2K95fxuLZ+ETNvG6zUEUrkd0Qh-XQzX5P-S2aCkbm0pf9S+WQ8TsyRWzZaToA8a7NKEC0cSoSG0x9VKEkQCtShWrczyzmpCc4veTcajN0CWTaYChJhaPo07LjSkCC3iJ0tdmt3q6Oq4mCMhprcwcoNyGi5vNaixAoVv0CFbO8WWwocDIaAiiUtLmhjcwjy3MbGtvWuTTbK1wtb-4kWs7pCtq0wqiGeW1LWmEEpqbyMGuNZckM2VBDCJVAXpauDuGxM2tKwSBePjIxaBoVzSBbfe2O3BcC2J8woHos9F8jDF4tWwIYSz43beR6yruo9tghzE-UIW7XA5veX3RItF3GLZNthanaoYglBGCYH4CgCupFArfGvyLZVsDmhyOtlPA+WgAU+VPGnpSUpxmbahk4BulsqIk7K-Q22sRsZEh1vtjsmkIVjQHIx-VWuzW-Cn9Q6jUxxGogzOpWGFknzfs9-FwLxFmlR5VqwMu2YUHBCY6S+6MB7gyx9rcjbtb2pEX6C+2ZBHmI2gHfwAhAS60+p5CbYdoxWQ8zyWu7HeNDbaNgbgEvYhngMZAABOE4EPEt0EM3tT7e3TxDwHrLhhhWNWNwCQkOFW+VAv+A4VoIDgXAoZISaTUKAO7mkI3EblZDQBx7dVA-SiIdIj2u6CGGXD4IDJWCR73dDyVWARL7jh0XAPkQcjwSxmxBs9BE3PRTW4Dm6eteDPAejs6CILkFX0F+B6rx0JCKBLW9XbjwQUEMW9wOvXcdpK596kFTAAMnNqHhl9Ugiy6oEVBPBkBLYyyXDqmImatBGQFvIHMwAl7T6fhmqVvXQCKjEcjgzSsNQYAxykAl9MLFThJGWSOUt4DhSPRCG8g+Rp9oAVbgLEP38AYgL+-yIOqKBP7fO3y44KXRqIsQBwiqr-j-xHhtrhCrQUgisGHUdrSA86udYqtHLwHC1MQAcBfqv3h4b99Kd4VPHhBbSYgT+8EC-u8hMgjVggWA6IEoPeQ-9ZdNiEzSz2p7mkFBhg+-sh6sFucTMBg4wawPBR69juuITcgImbaWRey8nVriAM+b6RNOkBN1GOytBtx1arnf9FUZUZPNsWnzaoepBy7XtcQu9PfCdWet1UyRIQIYEciqw59-AP1QIHX1AhN9VvXfTkmMBf4v9AgZaifsBmV1Po6Y3Q2ov0MvaDFlQkw5hpoySFIYrlLPuCAci2jqRc0BEeQFkjQQ-u4PWfU4SUPkZ9DvLXJJ3lZ2aGPG2h8sdkanjKGYdah6ULnX9idQGA6gEQBwFIDrRGERAA7IAMOnSzNwivUg44SpDUyLZQwjWZ3DX7ay-Qj0-oUioNksFSgDgWo6ZgaPHdmjhUm4ajNyCEBmklss6HsKENB7w1Z-LqeHrqJYQNjAPXTe324BnHkZ7fPY6wYmMj8+ppeyWjaOuN4zwM0+87SN1lH6AT5AAHSwD9qk2-sKAzIGCCcc70IjFRjjjQgx6FEi+7CvvxOCfHFl3xy5b8ZFkAmgTE0pgN-zBO9cfhtk3gCeHDo9AsIxJ0AAAC95WoAAEy62BO4m3o4Jooz0GpMwm9IcJ8ELgcRM1RUIB0Sw+8BsObhvjDJ0E8yeibNcjyqRqyCwBWrKAVqQLSYCNzTB4AUTPmkUzibFMEmJT+LXHitVlMNkFTD3Tk-5CAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:green">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:green">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter&nbsp;2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:green">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9XRNuEGWGqbi6DEfRq1IahxXos86ygoKsITpPkKrBiQ6wMPQCjkRqjEBgs-FfRi5jsRDaC7bq9L-PC8b2Py4Yqvo6b0XjZcG9W9r8KC8uTiB4YaoeYoBRiHj8hE+T72p7T8kgrbTwK5zuQmsYs5h7q8xiAADylwYN6XXPU+4Lfp7rsWeCxhLI672PZ-nnPcL5K+l-zvfOaPk-x4yAYJSUEl0wRny4FxKgX9t6G0bAPRkY8J7XxnhAmBN8mJBQQeJIM6pahW3-pdU+c9s7n2ENAxesDba8X+owG4fFVCdxLm3D+TCa67SgZQdBO8Ip4DDoYReigIAwHgEgVAaA8RoGJBzTiU1jBsCAcQXC7kX4fAUJQW+vc7am14AoFgZA5bqPCKAAAPiY4ycjTql0MRomIZiLGpBYPgfAgM6A2PCPYv08MZruKHr-WRqRmBiAkCtbcYI1FcPZH0e4tce4JimlhCJ4QABkyTeg43cSOKJIMgl+MLvDbemT053ymkEkJDAwk2KsnQbeNVvoj3qr4PRLiGD4CATU6eRSV5322oHIxP98mpAtNQMQdBp50HCfzWxr44aBPIMEoalSIlWWGaM8ZOlm4NPMKssZYDhpNKcebIxVF64ZJvL0pM7jg5D0Ljs9Z7dU5dNiKckYN4+kaPZv436qRjRCBnBUZQXUyr0CeTEWZMTylLKmVZX5EzQaArnllOgdSvnmFhf8kwQKkX7OaUc6ZywXmDHOWcy5STrm70Lui+FWLYqsKSScnpJK7TvPJfU-eyRUgQOpYi1EoKjbxLmQs0JoIqmgHBFygFNLnAosLhKzFPLyqGAOS4vlhL9DEteaSqZwdNnstzm-Dg3LgWMDpdqhlWiLnMq1f0gZWyOUVKaiwchDAj6EECG4ZwqqSmCshSK5ZYqup6Oda691hhpW6s5oGp15AGDriXv9QwXqtFKyVbi1p7Tt7cEtXi1lqK0SOudU44Qvgk0Jmzeq61HzbV6qmiJHWVBiDrNLSbCFiy-XQrFXWj4Db1kyrtfypILrD5uuIB6kF9KZmMs1XaMleT+1TTeNxVEPwQ2jrDeOs1k6tGlPmb6nc-r8aFHBIu6gy6FyrrHciiNnFF1DrdbGwIt1N0ErvmEhggQZCirmjc-tt6Q3APoImidL6tFvo-aK0kP69V-uHaQFqbBJnHK3QmMDlRRU6GrZzORbRayOBnsB553rW3Cv3R28Exh2iXWUMQPterH7DRw1R-DUyRbIcDJU8jjG8PgmFix699UuPUfrVodZQHN2xBA2WplOb+MawPB8YTjawE2NY5JwMbs+NQc5u6mc3aRNgLE+o1ThGtHvLCFpgJLqFCaFxBR3D1GVNCXBWbRzFnvkOoU3ppTEzHPmoFdNRGZnPmDIYOwDwXg+UDvtWUttpH1FWTC8oLwtHOb0cSxFgjYLX0ivBOlnjJ0jFufMOl0L+Bi2RbVSyzDlnWogm5LyzLUXtHEYqe2+LYravUHq+Gor4s7V3tDZ6xrlXK1q37XPMQhn8Umak9OrIVXZMuAci1Ugk39BEGM1l7dOjEYbcW97eTM4JvrcIJtpr209u9fGgpibia9t+cDDeS7u883NYTvoV1mj-MxZI2CV1VligotezQsgdDQqMN4pDChKCvuBhQVk8EMgky1HBKAK2iPkfCF0iZFo7ROj6Eh5w8IVt4cxFtlNd7vFicrFKIQ9qQoAPvFAT5wn5DIkw-J6kLCVPQCpOa1hNn80iilBB4O+h-EbxU7pq9G8gvpcvVF2Dhh2MRhS8PfTIo205fq417EGHQvVhiqR3sFHc69VhtjhwSg2U-aH1hy4LCh9uBezNtVjyagTBeBaowC0xZPW++0s4bglHSC4kJyH3EMOxqNnF6od9o6MjFUV4rcH+gI+xooQH1E3Ade65iOnmHmC76x-jzSBDCPjccCx1bG2GNqSlytzbi2Alwel8T278wvBjDjxlIfAnVB7fNYatY7aVOO8uDSjrM6OI2TdFGlBRsAigRpRn2WXwkHulaKX2BYM459LWxmqAZohgzdYd7wwIkbT+-TdiI2bojJR8D6L9t9uh4-DhFKOCQHR-QDdD8Vb0AAAFQAAkABRBgAAQXAHAFAIACVADIAAB5AAOWQCBDNhOFexkEkDUBajcD90A2v1oW4UHy7xBmjiPiINBwN1iFKEnwoMPiGiz2cETUVxoJiGaEn06AXGYMAyuy4MyDwK0lRETUHxAPAKgJgPgKQNQP4MkB7wqEYJWl4PeCoKSEH0nz9gYIv3LCvzYJWXwMD3oE8hliB0Lm9GUMMJELULoBILiUDBlh5j5iVnVzZ10SOlzxUD6CS29yEIILcTcMsnvi1lBxIPl2mGwIYT8KMNUMVxIJ-gANIAyBBlyAcH+kZAAAZMDC4ahHJ31kiWpCBCA6tsVqBBg64CjUiJltAgQkjDUqj0iABqUAPEZ-BMOolI-ANIsgK7ejXI1-UhVBEhBeDowo4orrUoyCTfBMLCL-fLLCUYzrbrbKMom0O0CBXNV7QIDpEGCBVIaobIZIuBQDE0AopYyYxkfoxYooko2KMo5KckQueWEGRyToCLT7MaOMF-d7D4-GUoPo4gPIiBD7YdAIM4m4iYu41MfGZoBJLGT7P4++A8dVQIF4t4lXQYT7D2GXVEhgV4tgCLG8LE9gpoFoYdAKaYx7XE-EiLDo8fRaNqUIVpNxf7fVQYuwqCJ46k9E5eFYAcCnOeD7SYT4-sYUD7PHLINBFoYUqCWMIKU6WsJiLMZ8aMXPeBRBZ+MuZBJeD7EgpUv0LBLJMcDUTw2g72ToYwU0jg9kbkgkthUuB5WsKuR8ZiLAaCCiF8fGcFLCOsXPUoZ4vE9E7aB8UxExG04gNEu0okyYXPZoJHKMfU8ickQKO+AMmkkEwgekunFaBnQgfAD1P4V+dki+Dk8keBTUjU5hLUxgFBIsheQvckAcBBAAQh3zwSmJWCCgcCFFxFj3tJYQ7gHg4StMVFPD1LR0KA9P+H5M5UFNPBlN1zwEhGXJXHLKrMrJrh70nkKTHMoQwRXCwQrNbNHHAnHERO7JkF7NTzQRHIaDHlYSHJQmglQg51jFMmPiITrPfk6D1OTJVLtjFIqEZNSBBV3KlP10iFACXJXM7LvgxxNyxwCn-NlJm0DGzK-PPl3IbMnJe0LgvKvOV0ID3F-Cj2KS0XhxwXgqr2xwWiopR1thw3xyIu4EIFJBJyXk51fwJzmgnPkjJIAVzPzLDULOYp4BIu-k4sp1GgIQ-PpyATzILMeFYpYrZCjygrAGXMhE4u5x4r5zhORNYpJNKHwpT2V0lzxl10l1JHCKvBMr7NHwsrz2dFH2stvNXH11tjosQtwvnVSA6Llh7TAUHx3SFVa1I0ComSsg6JSxvXoEBS709TpPsJcHLTpP21GKLRLSSrIv8xczeUuTSqMuBBy06FeN8ECSSJoxJOaHLVoiOOC3GxuNxBjX8o6OD1rFDwzxCKSHarIEj2-mjxOJUFcXyIZFqMum3gGPFH2LcTpKYkbBMvdUT0ZEPTstT3TziLctvzirPHXTcUBX6EYDpJsoIgL2-jaMDEWoT3L0osr3oppwP0yAYuUS0AYAj0OMNUyv0AOqEFGs-lzwtzEEb2lmbyurLw+X-0kCALAIYFgOsgABlQC0DHq2Bsj+1IjcCOjWDJZQi9zeTULVRu8GCbCir6De8hosaSbbYBCFxKb9saa-rRDkrobwC4bEbwA5CZwGCKbkjsbuq6BB9HCLoRAXYrxNDm9tDL9P19CtqYhwQOiTCLZ4QTrChxbp85iorkjFazp4R6TatcRKa4i8bBaLYnCqAXCrwOijpeK0J9aWo-qPrIEjaYcVa9ccC49Dacaerjb6Sw1rNDV3qNqvbbC8ap97oTbuZNYLaIil5rb8YhaiiiEKZlpRa0ILDojrCg7+awjc8vY7bKas7iCfbwiUEw6mp6TKBfASAMzgqud4Th0irgyG6GLSBzIMyrJbJ7InIXAL09r2Qq6qqrs3gpZKBE0PicqW0fTm6HqiTp6cczJgh26xVO6HJnIySR1L0VB6AR7DAgc+E7UBE5AhEoA4BEBkB0BJE8QZEPIlEawG1RVLpKwnMiN5FFEXrrEkllJSgCspBnRYTTZClP7nQFJnFpIcVDlHT8NlUFw2k0hAHtVuBH6STrSF0Ti-kjUkV3Ev6WhTxGdu04VJUFUN12skHlJ-6pq-gMGGttVsHb6Fw5UEVjUH66An6yHms7llMgHFRadcGOGfN-VSG-7msT0z0Bs10hsaHgGcGfgRHnAV1YNxHiHIlBHFRyGo1g0FHL0sGpH6Mw4twC0Y041t4E13FXarx1GY0vqkkzHVwVG69sNKM8NtHuHpGFw7MmMjBBMQYvNRNTGWgWHkGf8pp0tnGHq6HQsuQMsO07Gcda0xZFMm0uGwncGu1mB9N+HomAm2GppzjqGjFsH9aPsXqZ4w4xGtHrH-Gn6bHCg31YGP5E1bs-GkHAnTJW7F7-UbI7JV6XAlUJlyBD4vIfI6GOgtAzDGriiS0VZbshIZyH1qAFBT1qByY9HkQZTDRV4mq5mFmaBlm7VlYHBuBpmwwpyAKDBUHrMuj2oVmHA1mGh3xrriphn77SmvrVnqnnRsyXUWGDx6Am1ZaihSmjHp4TG3n-nChbt3n3L+tH6fndkfNVmXStt-M61WElqENAmzSUWGJGcR7RhwaMXrTjTQxlgTmUKF7NwVZOmu616niB7BnBAmqaocwfK9VamgF6mMzDBEGAnPigpltGnXUlgXHa868fTinlZDsVs45BWOEkH3m2XIHE0dMpWx7h0whuWn6szcHZH6B5GN69rmGn7mbSlKqim76tBvr6AVp-0R0n0jENWYy-QeHzWZ4YN71KQmmsm-RTJxW3W4NOhEMNEHXT9OJwn3GnGIkuXKnDZZnG0bMGNHGHNI3bnpguzTyNQkLIx9RZmupPM0nvNA2JgRThI74nmLWqhSA82IrC3dokHM3KIUKYhGwK2831FIGVrYwy2SnJWfHOG+NOA62VxZmsXHkW3dMplIGU3nQgox2dY22P5EzQBSWvTS3cHw2HNc9lXe2Jkpt1XB2sxkyWXI1QR00GAHAdleodizsmtvFEYr2iqRWVIkTNwoRz2PVRlag4RuAFW32w0P2iVLl73jgyI0dQ5+1DBuRGAuiMVGGkUpsY2xSHH7NmN+li2t73gBBI3GR13vH83fGklF3wU43K6E3kPHNETH3VGGXGSjBIPWl+AqGWCJXK3x3q3HNsT6YIPfroPGPCD6McPU6nLFQt28ODN2OXTl3YKX8qVCGmGkmXHKkZP5VjVwGVUyUYS3thjKHZPMH5OpHKkGGpUbdoGrl1dmgMDD2wO9VwmQmBGeWF8hrMrEFInStysCOyyhruw9RsO6OeOdPrDMqgJtqMPpQL3QhGQf2al32NRbxuQ9QgukW0LxXMr3nPmYX5A4WwQvOo3f2RkNQo3mmQ2b6Un4nt3A2HXmb6MR2nSdcu3Rhe4ymDXrHZbCuj3Q3eHovEnMmjWoIdlVP6GO4+HdMTPmuVg6uhvIHPWqmVx92CaL5FS2viufhDOiG3E7OevyQ+vU0IHWEVuVPtu1OEGZvxW9vsVTV7Xo3wjB2dQydC5wmlPYO8nlH7PNvov+vJuHujPpYRujuxvfW0GCHlOzuO4Km5WZuAm-F972VD75AlAT7RFz6JFLBr7zATWnS7dmaBmcEFTiAivrgI4eY9mgXJAyAo2Uvo3maONcgLnyhCf2UeNc9ieE1uByfrvXtzm8zaeVna6WtKkZAYVFBOerm7UYqPJAXEVgXSflZB9UNP1+eWj9sXmytJmZeT3wN5eN82VOZSn0vfnlMZBVeFN1fuAMM8fw47hqvXXt6grKectLf8th6gqrs4mGvdu85jWfVYtwEGIor4mP5RfzBLecXlMP5B9y1Q+szHAvhAavnKxYWm0kHmaiSIeKV0bJXazE+J6UqMk2e7uo-8zI5Jml4KuIhChKSHcsYUFg3d5GxKBoliPcRdfMvLiZo0a6MCfayDu9QU5axr2M4sYu+o36nFel5+vE1SKy+vjZtBgGytfOJS6OWJ+JMp-HtLlZ+Uee7ZLrXvmMvEnoGh+LSWf1gQZM-y-gRLoxA6+jB9-wgcEOBY4r-TwhWpGsJdGdTB+U51Wi5j-Y+MXmh7-L+jCQfuEAAA85-B-owif4Et985LCEIAWcSgAbgdAXwIIFWy6IDMTYCErUGaCo5mit5YfLHB7LX9cUIsZovllwE20XoBAsQEQKgHQDWmbdcEPAPwDexASqAsQOgJ3aYDxi2AsVKADwEa5qBRA4AfwLFRWRRB+AqxIQMvKzx4u9JPKO9zpTQMS+jxftI-QqTOJsQp-FYIXC45rd9+n-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-s-+cjL6pp4OqTYrPs1hczTwcZm4baBHjVmrgOMQgDSWKmCDkCHIOkAwsIXIHRVCZD1U+fgvQUcIbwBCq+frOHmkBLYorf+fnLYVPD+FQ8ghWb1ACdTqwEHXqTOA-gPoPAa6GuljNyaeoESD1YhU3KRT5Yu5+rJRQ3WqZKwxF3UyRZAxkXUY3Ans1VpmTvlPsO5M8ZRXxQ4yA5hYs8jNJ0ixIMVySM0lwOnl6bMBD4xiuRePUbKIdG54xZuTXQBHNt+sbgoECuC76nt55miwbCCixL6llRsi-AsoWNnxQNAaCvqvsj6a+K3UaSk2cbLCX6kZ2kS44ZRWtFWwtoGSQpSYuMAZKvZwkhUfUrXRMFjZ9CnHKUyiXqRHRNS+QA0o6WTZbYPSypepH0USLqAmgSBsfJiAi5K+FS3FLouyWTKep0yqRdizaWmL2B5irpSfMWUkTBh2yxpSq1yEnNZm88rEiKSCj2LNZTiuBi4obrnLYR-oUtu4pwo9DOIKhJgPgFCwgwBgFQTEg3ST4D15FlFLPH7NT56pAVGdcqF9QCVEiGZlraoju1KUeK7YGHP5EnAtaskq+0oTIe1ATgMB1AIgDgKQENiUoiAJaRFaKQblcVrlyQ14I5wrJAgkENZZEaCWNqLskV2CNshBD9IEqwRr+ElSQvJVL1XyaEZoLkEIAlp7yg5TUuEPIj-lZmU9CxWhyRVYQZVJaJuhYu4DaqU5YSloTmFeWoitErqAkW0Malb1ZVNdERVNAYKVwecmC4BSPjqUD505mnPBe6ohoYqPgwQAFVYXKgTxiaKhBDvSsdWFkw1AIptkNXvxAhJauhT9GGsXaNhBZrdPZD8plg5S9Iate6DiGoX+Fta90aEQ0CKgFqOsQa4wqYVdpYQVCzuKcemu2JHYq1INA2C8qzaqlPlr2f1YED+pblia2VDznJODqMg3g8VA1nNUCURre8Tq4OlOwpBxq-AjIRNbiD0LzrU1Q1JtXslGLZqAQI5PNXrG6Ca0OAxapqKWqKDlrj1naLWjWvElYw2qBgRtYkGbX9r3YHahtpZzhmwrRiwQOFSCjDVYz-KgGq2D+uSIyzW19M2FSoQg3CFnA+2aDa2tg3+FDYvawNXBpWKMBQ1kG+akNRcSWEMN7wRkOIUgLQE4CCBFAhzXJAkbJC5GmQsjTrWtqG11tfDf+veC5Cgo4IDEFCp1nbJhAK0VqkcTGhob+1Ia3vI7VyFRQ2AAm3msRphps0kaTEEjQpoY0PrkizGvsaxqxoca4K3G+1akAb6M42JezGVljJcwysrss7N4MZpRCcsw+OfNVulVHQzhrNI8cxXzNMyXILN0KrDAZp+EdQUgNmgsHZrM0+JvNvG8WJK39FBa-sjm5mrqu1lbFnNAWwwDFvc2D5Z6p2fbDUDEANoVo71UzZgoS30lrN+AA4q5pRBRsMRQcLGYZoq3Bb6tZU9ipNRli2xStBxZVo1sTRdbCFhQLtigtDzMcFMjWlFWlo9ggcNc1W9tX4nLXggSF5A-rRHgd70A2JZWgWm305jRa1t+gaLW5u4Rl1BItW-zbtvZQ7bAtbmh9jNHJzVEHYQMEGM7HVyLb0FQ2-5Odts0nbTAX-KbeHRQgNAvYW2jrclo+2j0ztqWi7b9tejfby6+cWbeQqshPa+qwYwLWtvKn9oct99CFqHXdjM1HCUdbJergoqHQ3SioZOQjsG3o6uZA2hBZ0vqGrhAawNA7bUJvgxkJtJQevJbkkBN5p8HOZ8j-jNgQ6kQ1QoOEPFm2UKFtxTKnflgp07xXsR8EwPwBsUgrMFdXVkk9K+ksAfpcfYGW9JEVrLDFrCTHVDsO0xggouO5wvjr9CE7jIcuwWRa00hKSaA99W8p-OaV41adDMSsFfHLFbVYBnuvaU5SpbdNgi+qelrgLdK86j0eujZbMv2UPV6dnOttfmslVUd+dxkI3TDv4AQgo9My-3vDol1LbuA2ezZanBkkx5+mKW0MYyAACcJwQuCGMpiM7r2deniA3scKnoDEHwbgJyOSGXLTBHyNDhcrFIuAcEGRGNW9Bb3dR9A4C8BVZDQBz6L1k5U1YqHr2T6NMSq8fQGNb2m129m4RwoHA4QuAfI36FcGxHJAr7bM2+-6KLMQHl7z9etNgGVQqpOk8uAa-bdjswVG6RdmeubQ-u6hP6hJYqMncZMOa-7yqTASqqjr1QnKqdScugEVBPBkAnEYac2Q5xC6tBGQXi3wPkr8VuB+8lbGeNUCKg2yjgutJiAOGBikAkDRk7ORJDDT38NkaHc-RCG8g+QTloACPJiqIODM6xU0lcEwaEXPbWgxwJdshRYgDgfl1uf5S1H429QhDY+sDYaj-UwbENhG1ziWjkOLtyDiB7YZXRoNio6DYCeEBqtiBMHwQLB7yEyH8KCAZDogcw95H8giHO1kQNiEvsKCmG7DPkDg2iy4keGeDi7c-Yzvjqm1o6V4K3fTAEOoLZa9u7FffVaDcJncfug3tbU1apd89gh4WA3gT2M7Xc5KbtVgUlZCBDAjkAxIQf4DHE0DGB9BXkp8U4Hsa+B2A0QbIEkGXS8I6eEvlcYjMQYgdDIxzutyJ69YORi6vahcwoJn+tFByDfoYSlxOE5AWSNBE2jIL3q0RiZDipnhxHkVoxjhPHC93JGGq1nNI6gojxv6atqBqkK0D4nL5JA6qMFfwvBBAGL1QUc4w4CNLpt8Ece+ZsNJgNHGsdQcW2E8f2rW80V-C9PTNsGVroYD4CrPPoB0mgAAAOlgGA0bSVokhmQMEFlj87SxoE4UmhBn1ioKDSBwelgGgPvVITVhaEzpPhOInGSvynmGif7zIleAJ4DhD0CwiMnQAAALwvAxB4TRQE6TSdRNcLtjmJjk8HFei4nxU2h4wDVFQgFwCj7wYo5uEhNIn+TdJxsd+xKrkCWA5A5QOQKxyTBwFaYPAMSee1KnqTKJ1Uz2PVN5jZjCWbU7qd1rin-IQAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}
</pre></div></div></td></tr></table>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:green">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:green">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsVM3YB6f1gbg20E1WKx8vqE0sA4GEEhiZaAuq2EyOQtKxkTK3soEFRrPUcjiRm-1QSBASALTQStTKRVWq9Y+HYEkaQUiYOc5trSo1KtSbGnt9A+3nK1YMntSamAhuoIO1tnyllxJ2N+UmhZAJzoXaEsNJqI3ysVZi0dKrQBSxxdQTdgxt13yDfOlN1Bp3eo3QGu9DBs3MH1E8g95DOkcGYLgY5TgOUoVfUm6FP5B3-sA8cnQoHorgffVwUQXS2Xhr-WBADQljl5k7ShAx040okHfPupIeyj3RuVZYxWSkZz8GIEwZ9j4M50eI4xpxzZf3tiORBNjDGmP4gWQSBDyJ+Mkd7SMc5+b93GHI4Ki17brWDJHAwegkn+3IM489U12nRM0GDe1CdUnkEyeEzplplqRM1sGTsft3BSB6XExxspXH5Nyt2JKVzaaCPWHEOp4zmntneYw2izz7r22bnw9FHYXoywVhRaisUlGR1oZo4zOLxAKzMZQr-RiCWyO7JabxzL2WhP5P0xQ-LmdKCNsS7pj1q7bOrN4MNJiMrCtAo8xijp1HSCKwKG14lPnoojzffe3dS63U+JG8iABwYzM-vc66xTwqLpsuU969WXAGALZkE6NzRWPNdgO7NskER1Pzf29wQ7XWVuyFO5VwzO29undC1sK8j2OSkp2AXGQgasnJYSVR1JgbFZuBJaS8mfDGQUkpuTNB-WOGYNni0y+9VGa4GqNICC576geAgljqEOPFSThnHOIG7C2HOLocj-ecn6jKmsH98muhacMKKBxSDKb6BaYR1IpHH9SfxOBqz0ARSReA2p1wo40PRj8Lh0Iq8rPIZQyMFeaXqu1dy4sLDwRNxGUq4vWr4wq5NfG5N3TiqwvCfY4EBBaLYmW7jFII6sEFo76A+-oDO+yhjSgHlE1l9MQstcGpNpCWyKI9xUGMoejDA9L8-j3pD+LU9oCLjNh0iqGQI64V-r5P2b2HR8LMoC3lvC8yJmYWxXWe7D+35kT8Y9vafymFym3OLu3e0iprX4N9eg+PnwEpNebk76U+NdXqFYJvGrlZ4PlCftzTsF0rhBcBE1h7UUVRP2q-ErVng1PugGPqHSFAHKPYSo6CO6GCIO+HBsLjIn1gmFeFqwgTnxSXGSWJUAN0roAnCHK-BcWRF3UAAAFQAAkABRDgAAQXAHAGgIACVwDIAAB5AAOWQConlC6FJVwA2EzxL0GHzTzwwXAVR3IWH2mGznvgnz4Rlw5iXzoLvh8BIKygYPlyYOPCXznDKg4J-Eqz4PsC4BLEj04K9wgJgPgMQJQLQKwPAGEI2FHzv3YPEJj04LzykKX3dxX1YIf1Oif20IGw0MLH1j0LYEhziWEiEEELIN4XlwoIPlbHIUsI3gxCLR5mpzsQyEyGNzjAzArDDzEKFmRR8IVlCEcIsGcMNEBEIMEVCIkKg3IKtwhTAIYDsGmHrCIETBAgAAZ8C4kRINYAMsiuBWtyB2s3RyBZBe5yicjVQQJMjxhoVcjRhQAABqUAeQM2FyFo7IygdohgSrDOEoieIhcYQhFhF+EwcowbKohOWoqQ4GCCCHcaa4AYio7gIbV2Wo86BwZ+ateEOJZgSZaYZ+awFUbsLIl-H8dSeYyo6ox1WokCcYrYhY546kWo72Imb1XIaYDWOcBLAHHaI7MLP7UEo8DwMYpgUo5+f7O9WsR4nYxYvYhyI8JnIva4AHaEqI64AEjgIE0QBLVcAHOIxaQk4khLK8ckng7hBSO9M2C2AKZgQE4Em48YBfaKEQQoJsDgRdMHMGSY2Y1PPyOJKkjklwqqTiGQX7P-CqME5IaqIjCnVBBSGEJUhoVktKM2OSBSLaXyC9bBXBaecefBEhf7WIvUpoFyD0E-Rqeycvc-C+OcJSZ0kISUkk4RbuJ1cRdaBoXoF6ZGI08SQ9bEyIdKC9DwL00k24RUtxYqNkokjk2krcRaEILHQ0m0pGQmVw9sWMxE7gbk6BB+RhOBbNSgENN8aYoBOcWItPV-ShChM01uC0xpdUqvVwaqHBAAQhslP2alRnBK2CIA4j0gzyEVXn5QkTL0txSBmmtLx2MBDO2FlPlMiBmk1L0HnIdCgn3MVGwVbNNJETbOpAIUXLSJzJ-xbNPNAH7IenchoTxLHNwAnMV1rJ+mdOSGnMnlnKwBekAqMCF0BEnDLMEE-PPkvK7JXINO2mql5MYWsEXUvM7M4UJFAD3IPPqBclt2J3t2ZLgtDJSBcg5yYRFNfmtMJhOMGVfPfP124Fwm4FBjFKP3RwZjwubxFllExzt24uSDJ1nAcEYp9B0Fp0vmFw3KBicGXOSHoXAqEC524CrJTRrJEtCBYs4UkuZz-2YrZ3x0ZNgSUpUvIDUtBnUtT0wrAH3Kgm0ojOksKWKRyUBj0tpzor10pmVycC10pKMj0p8v6ncsnIN1kEYopPnPqDnx0ACoisinQptybxxxv3iQGLKEnWQSkMjWPV61PXSuGEVgGJy0Q2oARWH2RQGKkNbQqrOzmNaIbSbQqqoLCy7CvECluPTJ4t4znCBIkHRUyKY3pJCFbTaq5IhSuVaz0izVSoGLjzSgTyL15BiNAEr04UbPuNjBCTKMonWHOImJmKuNCQqrNj2ncv7xzyonZiCo-ML3IO-NcG-FKsfVCQRVYGpAqpisWhWswT6JaVOvnXrwx04pJwMrb0ZwUlMRGA4GT05OmHqpkBesDC2ohgvQ72DC72pEsJkD+uz0WVAI2GkNgOQKVgABloCcCA89giiVMiCogkaHDFq8Q0imrRyR9WCuCLB6SPAWCx8fABj6bGDhcRCyo+bfiBlvUha6aPwj8oDCaSayblD2pWDeasj+buDmaaB3CChGEZAeZdCe8DDH8gMTC7rjAIIBiLDaQEIPrXA9aBQ1iIICqsiLbUQEISyiwJrJbUjWL8yth3CeQvCnIBi-DZKnJBtJqkaYbxoGbYjrbIoabPbojGaP4lkIw6lFFIxlEoA4BEBkB0AtF5BdFHwTFUo+1jl+AJgLMPNDFjEIbvFPlxwPAchLFxwsTzifEG7OZw47lDU-Ti0e7xkbBGlPllBy76Tjx11yVuVdUNVF167Gh6EZpudYV8Vp6HU90z1R6W74kdVCU172757wbAId69VZ6N7CAK6t6dhfktM56BxD6BCQ0zkb6z6L7GgsSN1yAt0yod0nr9677i6yoP6v7xtk1Q0X6x6r8dg60s0f6wH8kO6M4R4up41-Uc0t480fFY6nJoGas6th6TbjBN6374lnNSM2UO6AHfAiMBN0x6MJNAtpNMGFJz6IGsTSs-6DLKH2HsUiGGgsTx0qgTNgtyGD7KGBG8q0skdeGwar6nig4OGeKw7-sIb3wxtYHT78kR6WGsHAh-0B6xF815tFsrEtGK7WGZY5ZjllZVZ1YtYhlhgWA75QBDZ77ZwRhrCfkJqWRGajHnpqoclC42BP7yBPgkHcRtzzgXIw7P1yAgmKBQm6lvHlBfHrpVz-HrB6w2BlKhwN5EnwmaYjA9ozrY4AG3HVG6lcGm1wmdGmgyKA1z6IhqAB0CHAgxs0H94MHqmWnXAjGamnI1GGmowbltl8nv87sgce1+VimIGOZJnwZIMqRwJpn2YQhBzUmiKwTRhLHcRFYVY1ZNYyRBlHM+BnGjYw7I4Vzvta0sN9HwZ81A1aBTGCmXJtsjGizDw77QawbgZSnS7VNLtdt3nJFR6+m9H4EDG1wAW9sHngWWG3b77INr1qBb0Jtf6eGWH1bWl+rlGS6Rh4ar0QHP05hh7mGzHtwF7cX3wkMg1ucmHpGwbfm8XqWP05xJHYWK7krKHSHOMnmWp0mA0snHMqG6GXNzMCmRzJJHSaFCKfI1y0woHiwjNBGgtJHNwtSfaaBGXVGLslWJHtNFBR6ZXDStS9p-mlXLE-SQIjwtWcQdWNMB1vMDWWHrz+W5mAUzWaQLWxEImwzyEPWyk-TrzVzhzkhSLF7uWL1nsGHTN9XDXFQLZegaLvUwWOAiBrk5hzjbtxmoUuxM3OaKb7BhdVioI03H6aF4JlAU3S2U0Nk5grw83YREZz0k3HxaAmJqQhiV7d6g5jGaZ+XuWV0TXX9XMQJSH7WY3PlryKMBWHMnNqGSNtM8SvniGtaIK23EbO37Ue3bW1NdWhHVX5pvz12O2-Qt3Cx81WN52ONuntT5092VXjHNwAzg3FRp2uUu2T7174HAQPAjl32z39US0ZtMTt7bU3wAONGrEeZf2Rpj6Z6MagOV0eYQg8DqLC6UIuH8sy6MW-JsFasJBcFqs4bJ3N9X9uotpR322BTT31U17816rv8Treky3pBt9QJ1MB7q31kaEupSprMNXXHS76q+m6ny7GnhnwJyPHnXJ02mwnn4WxGv5x3hH0tR7MWM43XnUpYbXZ130H04GTGCHR6FPF7r6VOpGcO1hrlu6Hle6zOjNEO2UAqbX7Pe6SWQXFQ42BOxFOXF64O970WK6WprODVbP+V-PqVHPNHPOVHIKNRV6E5+V3PtHPPnWeg5M4lKH-3aP5HAuaYQuS1e7suEvXZQu6V8H6gbXivu2+VJ5kuK7nO0v7R5E06lEYws61Fc7NEcx0OYs+rnVPdMWnGKl+rkrEHEn2mNhRhpPhPSWpDeNMnsmigR4HaL1Ju81lBZu42xau0MnowluhAwnMqUsT1wJcBFZFuhjlu6kiruQKn1vpucR5usNYNzueiaqxs4bcBnv1NXvlBD8duUIBmJhxOB1vvMWYMcM3u8MrnBkNOlP+VvxFmfvwIzaEfwYHayVXhhgaru10eAVvXMWsqQcUFwYCr8e0pbuDMKfBjsfSfS5KrptvWFOSB-xUb6mQehmB01PmlyFaSmuCC7WCEeej8ySBfMvWeqzYaqmSFeWdyGcJX8TIhL4nmHY9pKlph7MhWxOufkE3jKbevkREHLSyutpX40os2bzckS1pODGPuSEbPRl80xTXBRfbgq9AfRsHeIWXeFfs3jZOoPfDfNWFKOfQeb6bfX4ZvixNfLOBPxhc5Kk+6HlmwGYE-gwk+ZoPmD6f4WAXwCFTfbe3TJEPQY+OeZmQh0+k-C-dAAAeP8fgDPoRLPmZowehWWBsSCcAtCJ8QMAj+bOxUzOgTCVE6QEIXHboo9rxXOcc5Pp33QbozHifkO-6GfGft8-+LaDqpoScDvyICCbvygC+OEgMXbQf4YRRUiSosfxmLolfxaNf4MWfmvu-pfu-qfwudfptFv+F5mLu03tziWjl5-Ei659DpGhGZAi96gcSY9nPzN4lxLeOFcMl2Br7l56EYA5mMyBNoMY2eLcMPrr22TGdy8IQU3hjlXCoDLcu4W4C32-IkD22baC6Db0kRXgf+QbRUCqXPoY4NeM7bXoMyaYZV1WhDPfnAN2aEAgkQ4APH0jGawVZWIbQIKaxIQgQPWwvNLr63bCwDL4jvLaDiE4R9NoB3vO5joMwTSDcyrgFki0nLrgCnQ-2AXqSgK490kuQAkuMANcAS8JgVgyAXHxSAwD6BhfKPuK1DbIDokFA-qOgPcGYCdaJuHAVWTwE69+BhAuFhehIEloyBpSJgRbg8AfRVwWfV+K3wEp0B6BMMJgQcU35RZ429-IwBwImBcCMkWvPSHEIk4BDAgWzTvqb1EHiCgw5xU5tRG45ToTB5sDZnIPuqv52KF8IXpaS862kWkGgh3oXyMHgI9B3ggwaXGd7oU2BZgo-JYIiHbccAqdcVOnSjDtdVEOdDRFomwA-ZrAQaWJsEwSbipvGldMLD1iOQ7NGYVwuJiEwGqVY3hNw2glk3GDnJ5G4Td7C2mmz5NZE0cQJj8Nyb7CQIRyB4LxmXCY9TcsQIEOFSMC8ZrQSI9XNUFRE+VeMg0LEUr1xHwiRoTMMCISM6TEiUgvGWxPYEx60jRAjQNEex1R42wdikgTHmyLUBMi8RpIloQwCxH8jAQzI3jAIlpqehaADtMUVwA9CKJ6gIo0kZ0UJHGAZAvuUABIBBDZAnG3RAjqAAVGpIII+sZUakDVEajg6TjI2LqP1Go8K2KQVUcoDNHPAnGUEdUUYGtGQRgAxotMKaM1GgAnGYAK0byINEABSL0faPVG+inGwY10XqKDGo97oyo8MY6K1EY4NRcYyCA+UTE+jzR95GyGmJJEGja+YY7MU6NAD18jA+Y6kaSNr7pBjRSYyMWWKogRj0xEETIMWIdENjsgFY90a2NrHKBAg9YnMZkCbGVjkgvGXsl6L9GBBngRgXssYE9wPBEIEI64fE2mBjZC+GQRUEWmXA+hIRq46EZmGszLj3htwzMAKQ9AAArDMKQG3xbjsQuIYOviL3EfDMeraUZrHW+H7iFEiEKOK-k-EfCl6eKNjkcl4yDlMeg5ZkbFXRGkjIAhAYSJ-QkBIjYJ8ExzJBKgmiiKQtNWAJACxHSjsJaE2KhhMqQcBoChI6UdAQIkRVeMmBFgJgS9E0TMCeQtXEuL-HPjPg-7DcekDvHMhOIzwVcN913EriAJ77I8axKEnsTJ67UAxpuPqBFpeJ2QN8fNFCBsTaeE6C-j+PGo7FE8Kkg8TKheHzYcqk+ATtE3XiCQxgEgPAReI+DFhiAhcBzJEP6j-jPgsTHYiq0BFEBKJgQAyZ0k6CBBYe3qNqJhHwHxDwIUhUTnwIk4OSgQq7UKjpPXGR8KhjknSRxOKFSwYpQMOKRU0oCXjrx0nO6k5NUnL0-SBIGptwLqHBTGh4I1-NwLRrZTt0EU85KOzbDcAKpA6H8XsMPFtcVE2ddRJgAwDB8sejAFgGQChoW9XYWIBgAliOJE8ok9iRxK2iOLb9AgVA1bBFk6iLSF+jMDgMv0f6z8FpYHUaoNRKSrS4um2TlNGCxBUM0GIwfUJ-wWxSFhpxAOxHYFLpyBkmxAYgL6MUTdEZAj0wGrjgJy45x+isO-o9M8mNAIImPR-tZk97Ih70lIJtI-2Sa7ZpOBk+GahP0AvQj8j-V-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-Cl9v6DUjKs-OCW2SPFH8gFCTtR1yrPwLkCnRSADqNAad24TXU9LxZ3K8UDy98N+Wrn3TnCHOtMBMHfiajsBwg0PYlMtwtLbG3uf0AXG6ET9xdyOiCG4st2hKMee8poJkK52u4MaPeECsQ3lDW07d6O59Wnot0IKxESu8Vcnkx7p7q9OMfAunkcYw72RBHKiAAE4ugcSLkZIBF2W8+9ZMNQLKrXiJgygqupoakuCEBq5BaTWUjQAZj5EmhrgfvU2g7kdzFYaAHfY+sCBAamg6+xWfQCpUpB19Y+z+o4ncLzJJENAI2CBkFUbC19I+gfe4Uv2RBpOWIe-OvvhbdVJA-Xd8NxwjWXaydbFWXaiHl0V6-9vVSoP1Vr2zQ+0uqrOaIB6oAGCd9M3RQ+l+0qgY4yUUYEEhTQYy5161KcCBBkVyK7FDhNTIAcIAxxX+HQV2mbGqhTAGABBhCbLMZgpoE+FyLUkfsNEuNKDy1I+S8DoOnMjRvkxUEfsflHypVsIAYbIItjVRFlruFZVwCOVzApwaa5IMhvKIQaMNOG6jZU1kP9DmD+BmIY5g4N8ZicwwBCAyr4OGwHD1EZIgGHUOaQHDDh02PIeNZ6AE2vKs-S-vTnuGXGyeHLfXkURBHDYe+5-bbFH2Y0jw7hF3f00UFZBnS0h8eV9pNze7hgvuqVUHpD1h7g6ZjETsrvSNTh8QeennRaEDzVpgNA0j1oGFoAaxHEOBv0HcQVVkGj5dyCg5gboU5olIcpWg36HoOMHyNv4S+Gx2x2SqyjdACowXoFDVGfqx2aJOMc5nqxe+giFuALhYBswXoqci+dgfuI+7S60x-iSQhKn5GL4vosxmGpcmtErVnRr2uAaFCYsndmIKnfoK3jB14jtIbYuWU+0XpbCAm0ghqvHkLU+EMdC9P7miYi0bqidWIpBLL2yJKDv2juSXhkBQSjAAAHSwDwbeA5ZFQ7gAbB0gS96ojsZqX6hb7GYLBgg58KwDInoaqJswuiYxPYncTfJJZRvCJOU5rg+AZKJIkXDAxeToAAAF5KTQA2JryXiaKAEmuTUexcKKfJP-RKTEEak1L0jh-Q8AdrBo00ciCompTQgGU03KTGVyDR2xxWB6CX7EAl+9uGEB3MQgOh6TMhvU+ycNN0hTRJp1HmaYyyWnrTrtZU6bCAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(
                find_assertions(query_pattern, frame),
                () => apply_rules(query_pattern, frame)),
        frame_stream);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:green">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:green">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:green">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:green">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:green">
	  figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:green">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The
      
	<span style="color:green">expression</span>
	<span style="color:blue">statement</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgsVHoNr8GqfQTtMQxuDkcgFGIBgPkCXmLsx0AHuayhWuZhG6HZ6XTqmGZQB5vmBcoIWFBXZp2tZ2WkaW+XObluhwcoMJ8II4hcOJ0na1ICmQZnDmwWd82sDIvSihV-nBf6QTcekZWZcMZX5CUKA4EQZB0DxNA8VqxmrZrYmjEoBRKG4Yg6ErITvtSYw2BkRrrZoOgxFT9PFfkmIPnT5TmlG3niArygq6VvKBd8BQWHwBdcObwwu57hd8CLugm5b6xM+ztumjF1JjSEZGTDYcgyo+2vW+U0ok4XRe6GX5RV-X2XN+nnP6-nhhq1IahxWele16y0+06350d9Pa+17vv4H6Pp+upnxaDPS+DULTUDEHQPmB9J7bxaJ-cBkDoFgiAVnC+zoG4L3oNxVEPxrpHUMM4WB794E-DeDg5weC+oEKIagkBGCr6r27sIcgjVqHEDcLQ1+s8SigASvzIGW5eYsBYQwdcFA+ZaAWpPC2nsihMJEawnuwgKabynsZNCaCeGxEwQLNotZHAD24XA3eeiyaGKMPorOygfbMC0Mgs6ajz7aJiLo9gHgvDEMVB-H47jlCeLoegxUuiRJq2JsgrxKwfELlCR8cJWcUGv2caA1IGhCAgm5IA4xJC0lsAprvDoWh9BAzYYQGhG9uHONkVebcM5R5fzPBw-Qa8xCOMqcAnOLjQCmVIOZFuVlbL2Sci4QeB9yA9S8j5ApxMaoRSBoIQg6SHYOG4C0gar4BwNTKdQBQ1AaCVgETLYpDhJiDRiEFXJuJtm7P2Yc-Gxy6CrNIK0oC5Fnz-E2Vg5q+BygMEEciU5UEYjvg4RkYq0yiklOUcsug6i5ENF6loEQjVs4HnoBEjRekSniKblIs6ALqnwsKGswlRK8wyxRZWNFUCEkPMmK8uMm1kipFCf3UYNI2Bv1jKUVlDEDYH1pUdMFXSdFBnVKGZYFEXyGjMsEB5Ay7IOWckHfG7JfAkEmQspZNUcx7QZpxWpDB6n9zRpNZxZygoOQYGs86clShjTYHJZoWEIXN0dta5550qmYtiIa41DEzr6xtbDZxAd5mmPIXsyhC58EcMIRU9O5qoaiwaurWs3US7N3IaU0gYjAiDCcR0yYxlomFKzdgnN-K2mV2SX6UymbjbCErZ0RJNai303DZ-Yw5ibEty5kWwanzGoS1xN2gxvbN4TDObEIKY4NQBXeWLYU+gGqr0WnE+xtLJ2Ao0UFV1xSDzrrsU1Ldr9zZaIXZGaVDZ6BUndZvBptZGQaP3fe49ETt2cAvSuIdvLGkHoWjOB9-cd2xiCm+9Oj7iBMUKFK6Mu7RamLHdY5uPrzkcKA++hJ1azZT2-Vmck5w5ky2BKCI1RcHCII1PocefN1lUxTakB1NGm5LCiaAB1WseAbghJCSjnDIG1DhNwP1FHx4CeozeWjHD6VHA9nq+ZhhuSMB+YfY+z8cPrSHchixaj1qvFvQISdjIdM2LCZug+mmYMzsY8Op6pmjHpzY36e1v0NFrEWVnAtymjX8D-up1E+LD2YfiTA7dcL4VKaEL5tTADnBnX4WY8dqGyWrn1huk9lm+30oZaAOD070NMqvvvWLJ9IneNIzuEr-m4vZUHt3Xuk8RXdKvjfH+HAatlbUT6hSoJ9BtfvhUf+J9O4Nf-Nw5rriOO-QCgpkjpi-EBKSQOqCjZoWMkWwwaFk8mKNm7HqEzPnVOdY0-oaFuXGz8cIYJ0IjJRMMCuxA6j+3dqMoTPu6FpLFSIq85S6lESXvcEezd-tWiw3zc-rErDYXltaIxkVxLf701of3aE2NnCE2ty+5bGe4PVWmKox+2HM9BpUdG8PKDzSJPIPJ41pxK592E4SZTwtWivv4Zs0V-uHaIc-AG7-IbAWuGJpW+SMn9WKdsv5x1wXtXGAS7p5UhnDbpf81lyNtlrOZ7s5nuFWI+qPIRsM0vE7WSRdw6guLoevdKfVfV8-Wn42a3K+TkUu3j8NcMRkUWnXOd6Z4CBiHOQigIAwHgEgVAcc0DEgTpxBqBci4QuqOXNR8OEw-W7mQSeMQAA+OfjLx-Vsn7PoA88F9SD3Xu-QX6V1L-nv0P1xpqJ56q1N5AxASCbbU-p7I+j3DECLIrWyeOp4AGSj96DTbP4le-82YGIFvjNG582z8mofqR5+d4YN3oB4JpOzIN+YBXI8x4T1T2vhM20iITcX3H1J1PT219fHnfvW+d-LfBEzg+B-5lf6A9bp3VuKiamEYG8K-JMJrfkeGVVP-FnbhYA0WcAu0a-SuKA2PeqLBd4ZgA+U3YXIA5-WzTfEmd-EXcEd3YbZ+H-EjcgoXOrAA1fZYEAwYMAqfFA1uWTPaeZGguXOAp-RgxA1giAtgjg6ApfVIVXXAzHXOQg9vN-PrXfCQ+3VEKg1VRQj3B3Y-BgznS-QQu0JAwAnLW6EjNQig2KTXeAggorfQ-QYQtAw-ZlbfYRURdHeNGvfA-g9fV-Yg+Qj-BRZw9hDHOgFQxmPw1hHFSRMgTTBAhHDQIwAA8jNIJubgawvTXGeZUIrbfAFRLQwrHQ0AoQiA1I2-DAhgKHULVtdw7QkaDfWQ7wncXfMoizHSNIkjNHAI1wnIjaPI5gwom-ObVvTAihegKhMpONPA6QzwogrvHwkXNDUAMg7BKNYYmNdo5wYIzibNfBPNWoTooKQ1QIGQHvPEFo1VTY6hKtXY0WfYyoHvUkIw04itLYltS4ora4w4oBHQPHMQpLFDF49PGojvOoioqyBzdYjyRLBzbLaIhMbvcEUE7gbde4xmBzczTLM2VffXKolwFIvo0QziN9coqEyw7o7LJEzidLaHdE7daEwMNggGewq+R6SWH43TM9CY-4tIX6UkzgkjVddYELJookjwjk5jOkuw+ZBqRbToro6orw6Y+oj-RbME64W4fmKU8-YUwMWEpUhE7hMkjyTbbbDUt7LaXQgwr4u-a1RZDJZ+P42UqY7fGYjOeY3JagTJNYk4xmEpFw8Ymk7Es0prfU8wG1Y03I00-I5A3o1Az0ziK1G1IgejLEq+ZjBMmMuaYLD1cuVMv0yfEYVMoMlwINZ5M6bM4k2kiA-MvVAPYOUOEPCOcPaOKPHQdA+6DfUgdNHqQfBMCZGfNNaDfoxmRLQRcIyQSI7gT7UXE0tEPrBY75X5IGcEbHaYEcvFccrInob9PEko3IOc5Ff5Ls+02o+UsEGQKyHcwgH5PcmWZU4GClFcyI4pA86cxaA44pbgY4gslVAsTI7ImQJ8yrGcV8080AO4nk1Vb01FeQGlGBP8tPLUsjIC7gT44olUu4JHctAVA+f82E9CxcpmTC1uT8hqdC-rBif8tvQE480ixpKyXCtMxGTGKDflJFMEEDOC-0iMrIEDC0w3RwL4QhMuP7KCiJC3BjIrK6XXMCr0jM72bqEnC-cM2mSSrc8waxfitUh2CRLgFbQoMShMLCb2ZxaaRsSgPvJk3ENBf7BJRkB1E4BkocrSuIsbftE1f8rCY-FygNei4GLSx3fFLS54XSqc3MwYb2by0OJuKDfypuQKzEpMm8MKlClwH7ZFSy4SrdAAzyvUcc9YfmUS4KjgMuUypy4eAaGfQqsQYq08ZzCrLCBys-TK+iPUKeUAFgXKylEVZoCq4qjy8IAAHmBCzkqtUGopqpIVlU3HBAABV8B8A+EhBfBBBnleAHEmxrTqBahmhwRQAABqUAOYooQWZPIUVRTK8IPavC7avag6woI6suE60a4tVcHpPpaa2a5WYgRyJasQFa7DNa9JDa4QLa3a-aolO6sQB63qkGy6kGm62IcGh66q8UkjDuY-FnAApNckcNbObfWa7EfK6YRTZTEq3uLKxMv0F-ZjXquGneHG9EbEOGwoNS-AASsQIS9FWlMHOG5oY-EcEKkm5qxm-SfmpGoWnm4moiM6m0O0JG3LWDH9ZdNBPm0yvKkddm6Cyov0CagWhVHucoDjJuHVbURdIFI0QzCKvmRkd1WSjnZ0IKKLWWb2Py4pAKpcq8J2k1F2mKuW3VeW4KtBXGogOSv3AcziK3MbdGsbJqzGpEebOmvG4O-TWIImoQAWsmpO4SWzKms6uY2mysQOhm+FZm1m9WkS3HOYnmgAvm7aamz2UoeCbaaqpqybOeB2mwwoqWv8R6n2t5BWgwJW3ssytWtKjmrCgrIobW4-XWy80QaTTVP-I2p8K9eDWMRsb2K2mSxy22xUe24mp2jyr2vmCLMlD2gNQ+h8azciQjPSwMAO+mxO-3WQGs4PcOMPKOSPWObABkrZW+G5agA5P5I5AFHMiiuQncZEKya5KNA5G8ngX+6B-mHZdJNE204Bssjinou0AFAOQqeB25QB-GEOIEbvdMWEuYPC2IOYVcY+woWEjkChmIDkah0lWEjCBh7jA8Zh0hmc2pdh2pLh6YWExvNgPC4R50Gh31Gcl6dJcgXwPC6R1eRaxUCRmIWEiahhia2MFRgCiEG4Uy61FgQwRcvR1QAxkOFYbR2Ena9h2IfQHqbgXwcIAEAAPlAAmT2qUcsZnM8hsZiDsYcacdcYmR8k8ZYZnOE2mH8dAEccBCCdAEhGiZiC8Z3HBGAF8YMHseicCbcdADAFCe4ZSYAFJ0momYmXGcnCnEnQBkmwRwRxIbHSnsmeypRHGwmUmABCSUBpzJspuJzpoEVpgp2pvqkpnppp0AAamIQZwRmcvqgEXxxp2JnJuZqZmpiEZx0ZgJpZiZVx1Ztp2p5x+Z7gIoRZ8pnZoELJ-ZiEdp9JnJwocpmIdp2ITs9MAqc2qB-BkpDywEFcG4bEOYbgD5-+u5AsXaXBnZBBgh78-AFgNqEwM2H5lYP5h5JZ1hvB4FvC6w7B7RooIFgBwPNMSKd59FgBkrIhnR2EudWoPCql1MN2slWEyAOgb0PZOR45plllyWHF1LVRmckxhgWASABh-lwV7lnl2E-lgAUXYalbFdS1hIADlyAFX0mlWFWW7PY3msC4GIX8HqtvmARfnYjhRynto-zAWSX+YyWtWqQ8WrXjccCTVEXphkWTXXGsWLwdW-7SWHXcM7Lf9rSrlLWoWuoIHvrHSPh-zLkGBqgHsZRSA8lk8GA2pyBqwlNb5NB9A5i7WY3moOBkFUGTl6XiVnkI3CKihQ6PJpwsRS7aV-yUqm0R6Nas20I0kvN9Ac2vnGrQaiUc39Wpa0M22RAO3g2SkYW4XOZuAhavXIXqtXLi3GGh6nom3kEcHzaVaGAxAvg2qY1ILR7ipq3CBa2YFCXqzCHazX7I4I9MAMAWyXA3h1ZyBTBbYMNyobhSBPFVdyKmMVqWAs9rCv2nrq5rCbxAPzr5iGArrqQi97qZAKYAPv4SJtFmgEPb4SJPydybg9EcUtAC0YOXl2LBBlBlAVqMgU4jBVliPsmQ49rmliO+bwRtrShGOWsYa9qn3lA5W-RGPdTb4y56T5lRjKBJZU4+OxAnlWkJPtjhOYmIhoIb6Rl8PoaIQQbMPWFjAcOdjkWWlpPJYJOp0LrrBwRPyhPmSpEFBmlnlv3OTxoWltFmOHVdITJGE+s7PQBx9lIV0f3xobw7Pwg89+bfOrPwh+n5jih4QVxSghgp83OZ9wRwuS18LH3n2yYPg3215PE7PjJmgvOrSAb3SPo3OPPVxl83UKUfTCvguRVmOVO9rTPcRzPouRgbU-PwPMVtqoO0b6lpMHlvyKvZY-PYbVwOuQb6umAyALPrCWuqvzr2ujPsu4HJARPJJQQ8KWkLWluGuJugOVIr4sIsv2N6uIQ2GRM+tto7Ppasg-ONuZPxvSBBIuNC8xPLOB9Iv5iAByKDlpaGz7rjBGuDl78Ksbsme2fQEH2ThT5MrkvmTPTcbacHrjmpGcoQYQS64IS6hyHSKyC0YsS69sjgeEHbooUoI7+Hu2VpruhHm7sz7brjUnqfKnyn8nlq4H5npK0AFNtN5QDNmcfuPNDwONVaaz10gr2Wa6eznRz-da0XvC701Yj6cXhd+a7ETn9Ybn6gTQJispAXtwfToXon1YZMiecXt72E8LhE+I7r43vqA30Va6dn8HzuMZHqfnmxNwIXwdZdMBaX208XpOteilXmoEFcLr0-FfOX0YwI-X6zXBnX4wJtNZeKWIx30ZZgF37Xt3-tYNG3n28DQPquuLtht7rCbaDPuNEmNZFq6wsvtwCv4s+lLjLtsbBj3h4v+QTPuv1pRv-P5vuL1X9NjX3nhiJzpWAynv4eJX5F-v9XzXvnmvrP4s-X5DjhzcJvifuBuPzv17HMRdIdHrv36dPYmc836kS3sP5uP3y9SiU2vdPqWbYjVVSWEgD3hShwl1G3t7mGD-lYF6uVa6BVIZMqn65qoSAsDB9thhf6Q9h8B4IXm92xiEBl+2tf-vMUGRKpkq8ve9vQBYpGMeKwZWvtpHKiUB8AW2fmAMAqC0wbehHJ-hf0oFxcce1UT8mQOtT4DYo22cXoR22jgCssl-StqhTVLVBuIZcUimh2QhVgyKhHLCKriarnhPyLAAQUm1VxnZ5BZcf8ttDkEiBk84VdQYILZpsptBmgqgRAX0EqDZBygtmrG1kpSCLadYV-kyE2BWDEqUlTiA22EHtZtK-cbmAFQkE8ZEsxg8uFYJAyeCYq7PBqDfEgHBVQGQJVaFZHC64DCwcSA+HfCKTIDDK0oPWsihvgMB1AIgDgKQHWhcEiA+SSgabRiBDowhB-EoRSHNp+CNsZgmNowBtp9QghR9S+v6FFg1CZ8tLXOmkJnpfxc02Q4QLkOiHWCNWLWXIIQAph+DKcfgx8KxF35e9Ug7-BARnTaFFYsI4w+DlPj97cANh7dO0H7x7p5YTaCGIrPbxXBsRIeuw8Xuz19i8w8uv2CoIox2KGA2Qjw2RiTEMCkhCOwjIwMcTe5vDfAHw4kE8Dp48Ya6xxJXk8CWa3CFA9w5FACOeHqw-YCEX4Yjx5YNAERTaT4WgQlICoE2-QABpiN+HcBMRAsL4bYJ+EvCJepIz4SCJ-4r8muBaCEWhihHlNqgUiDgKmzVyRh3hgwGkcCLRF+hWRrjGESiKpHI1VUoomQKvDTjGsVk1If8tKKoBIo1YGsUTsiNdbyiJgn5JUcJyziqi-Y6o4WN8O87jYNYEvTjPSPZFkBORhInkYCMGAaIa6SI4WPS2FHKwZRKomEUaNhHX5zREoxOD1CRRNohQVaUELSisEsJnSYVQaGtjMG1CNBglCwY5QcEBUmIQUDoWBGDDjg3uLgyMVQGaF8hQReopIAwD0b8QphegswS1SjGFi4h3GEsYwHLEjVeIJIgsSMMI7r04uMgJMNSx7ZKxwQPYvYNSy4z6JOgHbdsVGPCBvd16MQR7uITXgTigCuYoMb9lDGUhwxMCVsVxHbFhV5xYiHjLxHCDj49uPGKccX2VFkAmxoUEajeCPFK9FQN4KcQ+PQiXjSxzYxkUuMFGpZtoz46dgRDCrL9BxvY1HjcOTwcAiB8uF0RZ07LeCYBmTd0Q6nrFqATAXga1IwHoFdRMJzgbgI723GO8Yxq2c2s2NKKgpOUjIXiFImvF8QRqeE9sdhPoBTt0RV4AiWmMh4kShU5E7sSBJH7E9psmQP7uBMkB1ZoJAkG8aRI5SEVeBqoYwPUIqA9QvxJo1UcXlL5UAAxnENKAaN5g4g2Q3QckeSEbDks0oOkssL4FArBUiGWY8VKIFcyZAWshgEITKBd5EhR4ikoidq26CMhVJUkiIQuMPB+BwgzHcLi1m6D0wIJoAKagAAlJWDAAAILgBwAkrAAEpTVIAAAeQVbIAgQtlO9h9RonMCtIgWJcVRLrGEdeAskgQb1GKlXiJemkyqT1Ar4sD4s1UpIMv00mdAFwDE94J+XamZACpxYZqf+SikxT4piUlKelMyk9TJAck3qI1MKnNTKJNUwjppO9H1SGALkw4otNanY8mp9ATyDCIPwMlvQCfXae8BamPIOxtgqUTKORY+ooxK1WJgdRQn+J0J-UggR9HumWQGxJUkYQuxkCSA1Ab0oqVtIumASwpkgOIBkHtYOApEjIAAAz+sSMNQRyKUShl5cbSsUagIMAuhozcgMM7QECHx7Qy8RINPEOmNFhEyDY+M0gJ+USzIy+hbg1weKACBoyReDuLGW5R4zxc8KWESmWzMxnCBLuTMv4CIVymBBpMDM8UKkDZhEz1o74VmT7wFk2VPqqMjrPzPKhYzkoWNEjEiP5iOROgnidgZUJfzlDKBGiUoHTJVmKDkBfMxWRrNTDuZTxMAk3tygZG6yGA+stgJ4i-7LCXxjDQIHrINl7C-oOfZrKZDv7X1gq7sz2Z4llns8KgJAEQKkAV5NCxBIgpcJdO1mP8A5HsoOTYL7q5dyhoGBvIrXaDjirBD4ceisEujtl+ysYfLJUJvTasWACYnQfUL+Rb06xrQ6ue0L5pdD4UpQHsVGEZrNBo5QcysV7hYCzCCM0EBuScI5IuppxBEUoGPK9mfjK5AXVeZ4iui28GEQ84wK0IuFRyc5McoXuzwbYxsi4F5ThH8GFkZzTwpU9yVSA6GtU6hyYieKmOCHkgBwNQ0LrSxWGzo6AJ1MsTeKUGJjdBk86sUxOYliC2AXc-sUcOXpLoDAoQxcaeEBRko8AkIbBSuDjHgLW5Sbd+SvgfkjDWhGY+MX-PAg5jXZDgYBR+KkH-jYgE8-9DMJQjQRUIe42MOHODF3z3BnQLuYRnmEGAE5XmZObLBIWfyj6gVLBTgp7lFZgJw40CYIqQXGzEMq44dgEP4WkLr6D-RmLQrg4gKaJHbPcL+EImQ8ux6kIcRwFR5vcFF1i3iYbzHFZBCAJiiXt7H3FhCXFS86uBfNDHXzCEt8lxYC1MUBUPFi4wgF8JXHBjL5YiFmgEseARLAWbIGMbkzADYLIQ+4rCF4vc4T5oBmEUkG930W4gPxd45kWSjvGkg-ZhQIpYYv4il8ylMChoKX0qWMLnQgErjHYupYhCWUUM1OOUWs4Ol385RWilDLAH0Aj45UohLLI4EBlZZ4VSmdtmmUUjTRwc1ZXMol6wlOg+s3wG2VrARd6RIHCAusvZ7RtWERM7IFDNwnk8DxjYq5eTA7kxVYx5tI+NXlVkSghoEs1XNLL1hQyLs5tGpZxOKiYoalH4uibctaVvAJlHRF5dFlllVKGgrEr+cFQBVkT0oliniW90tHOdXUL7UHgsvXLsxORjAOFXMVZoQSRJaolFZJLsLhThpDAJKdZAAAykrLKfxLYCIzwKAM0xkTLOggzH5kPcqYgycnnTap00+qSTB5UiquMvUmJFDLOjhUZVby+VYRzpUMrmV4AKaTOHFVNpJVIM-8qKKHaOirwK00SWtI2kir4VRQcEETP2nQT4QC7E1WqO5kjKOAtqjWITxOWBslV50-lRZOgl-IbpsRH1ETKWYHVTlbyi5RnL5W-SfU-0-KbqrfGgyAq9YwhHm35jg8we1y6NfvWgn6r-Vuo26SsC7GuMNEBqzzPCPtE7E5ix0oGc1LBU-SwqD490dG0lX1qrxdYnFjmvNHnzM0uKimOD0LFaTBITy7Vq0GRCMhjJ1AzNeTBarggcV4PRejKRcBjqHAfcqhRqDe6prkGfa6dfbEHUwjl+K62WFwPRKM8u1fsesQ1Hqnig3JUA-OPh0-FHj-OOeVrIuO8nqSq2RAwILWuyixt6pVOeafQC0wLCZpPUG9V1OLkNBGwnkoEGavLCuSINrQxsCR16TM4upQ651p7EdWGjugO0wDXQDdV+xF1hQIqDiDw0DS9pB0+lvt1OncB3RKG8WTOHQ0Hrcsc8+WipUU7BB+YlMv9cKqWUGT3miaxkJCrPAdE4538kDdesCWJrINVQjyX4EZBwbcQrkvVUhueWJBGNbyjDYa3hTYbtJuG+YjaoOmHDSNBm61VDMI28xFyGiXmZcoMDZMGNzOSmSxqv7XpdUuisOsIB1VozggP6gbqdOs7nKINCC3hEwKC0BauMTArqQBoo2wpGBXmvzTFvemwpBoHwLjX5vbn-rENAm7Vr3BOn4byWdK0aclNSkZSNV5IIrQlJK0TTWVNG-DXRuyZ5a-N2-MMi4HBAYhjOTgjyGFt6X8bbqX67jWjN43yTI1jEHLVSCa08rGQqqplSyqYgzb1VFEnjETIa1LNJtcq3LEFHa1eBOtHmjyGDF1j6AUYp0fdbmqUnmVnoKQU2EQmO2cwLRbmK0XiNtHcinhRq1cPOvJ4AZQYV2laLdtwynbzRKEBoO6IO0yyMMl216KjCO0-aFYQOuROeuFi4xSN7W0gJdQ+3kx5GV23WIS3mSEwU4JKawUOrzUawA1VAQtauGLXuxFQPw9HaDzx24cd1lfS1c6DJXCSoJaowCbYA9h8TWdkEodefS52wRmgDqOHUiF8oHrpoyOzHmjt7ULruA9OsbQyVmkkdkhxQyHvumQEbst2MLPBHuw1r1jp+PPSnAToR3DqYw9tfNYGsLptKtKj0rWg1JV3NxNI2BGgCnCFrnd6+hYy1f1m5iBN-x2tSsNApgU2RFUwyBsWnM1RXV3Y7Cq1YbsH5QZCe1XakEJL53ejOFDCEXcZFN1I7+AEIOPbP2H5WRadbLDnqmzV5G6QMdlRsDcBd4KNZGjIAAJwnB5kde0dKJPJrkpVUreodTGykSpx5dKwvflyUjYrD8sA4FwDPjhkrDCgre-QO93e5WQ0AS+4jTvxUUaJZ9zo6edMG72ii9kWeUUdfhaouAfIH5c4ZHNiA77-Ve+zcP2hr0Q6ZGjjE5WwG2W7KndkCLjQDovWdjxd0EyXbns-zP7ZGr+mXa7nTXk81ugBnZUwFrk46SM8-HddUCKgngyAPcQhFyxHVUhWgjIFPr4Gd6u9Be4iYwCujoBFRoaRwD1RJoMAHJSAqB1lqAFC5wlhx3+FYbPvBDeQfI8-UAODzFgkH+AMQdg-5BC0X6eIijEdptx3WtBjgiC6-ixAHDoaiBJA61F5p2KSGVhPWjrL5ui1RbTpP5ftVvtKHLpqDtByWPQfUiEJCqzRKucIcMAP6IQ7B7yEyFi2CBlDogew95EEMNy2IxwlYKwbcM+RuDgKkOH4Z8aHDL9ao0tf6vJ3u1bdLjRmqz3JgttUszupeEkObitAvdVB33Us06QPji9YPBEinopWGikJHBdjblPdRCBDAjkLPIgf4ByzzaWBoEDgbwPz8JxC0J3bwYEAXVyDswtelpXJZ5H0jyesuOSvZ3FHfoswymlyW9hjVeEe+Oas2OTw7jmAskaCM6niDMkM1yRxISnCGNmt+jLVH3crGyadJ6YyOlHiAbPA2w5d+FFmNUEJbwGM173TCfoBgUAAdLAEFvLVNoFDMgYIBZxF3RMAmpyNCAvvmJGGWaxAGqI8c+3PGWBrx5iR8a+OJyfjxAv4-dwnEwDeAJ4Fqj0CwjYnQAAAL09agAPjRQQ1UwDRP-GjjPQYkyCb0hgnwQEJ4wDVFQgzQMylR6o5uGePfHKTfyakz01O4pNyAl1FgJdWUCXVUekwd7mmDwAwmEjPJlE3yfRMwSHGQp2piKashimzykpwnoyf8hAA')">put("and", "evaluate_query", conjoin);
</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:green">form</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:green">
      figure&nbsp;<REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure&nbsp;<REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:green">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      from section&nbsp;<REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyUgYYgFE0XE3gAK0uVF9GIAAPQgwiouJ40DBr0kybq+rCcKsA4jyqlID4GHazqJv6oShoSQM5lWqazhmzqPMCRblpRQwdvWoKb16tbptm8wGqalqGG4wwOrq+hzsGoLRoyLJrt2847pcebFpet7TE+qCgu2-600Bg7zCOmcwc6s7Ya+4aXCuya4f296XBqMQqFqBh2jIXxIfJaH+kGWHprxgtqUoQJyAUBgNBIERnsjchfFqIw2QqNheZJwxSQxzbklSMb-zxKYZi4nm+eEBgxaeFdmiw7bDDl-DVyeQEAD4mZZtmOeILmhZFwYPlNhCBesPW9OdooreV1XSVxoHQGqLRSA4chK2IbnheVgXuDd0XxahzGfel36HZXUpI5VtX5aaHgNyGGmHadv0DYBY3fbIAOg5D639BTj2njzl2DHCQuTf6NmiLl-kIrwIHDFAORFAgGB4CQVA0DxEfasZ4hcOJoxKAUShuAtyshO+1JjDYGRGqnmg6DEGe5-ThWmbn5TmlG1niD3ygD6KBT8AxLFVd8BQWHwBdcIvwwn5fhd8A3uhz8vo7FodAl4nzjktegHwhDIxMMLMqH0Pj72UqUSePxjTQO5soOBWU6CXwXiA6+qxwHVlINQcUmDsFdUQVfZBLRTwMBIWQv4FDyDwNwdQ-BoDnSn1SBaagYg6AKAtmCahhDYgoPoXwgRQi6AiNnvPYBXDFQ8IgSIagqIfjXSOoYZwgDaGoIXG8biGiFxaOIG4XRHDFFiJiCo4Wz9hDkEan1bRlj5E2P0qABKwcgZblZiwRxDB1wUCEX7M6oja513sQEpxL9hAUwicZNCi8PEqOMGTRwH93H6Poek2smSjBtHycoYOUCtAyMoOE9xnDUngPYB4LwejnQSJ+PU5QjSrEpLAQ1ESqtmDlOEU0xULSFy9LKU1QZnSCHdN4YQQgIJuRUOyc0wQcy2AUwMR0LQ+ggbOMIK4hB1TrGRL9NuGcv8GEMTOqwsQVT941NqWZYIeDQA2Tsg5Zy1JfCyPID1LyPlNnExqhFb2HN1k7IcNwG5A1XwDgavs6gCh1HUDLr45EkxBoxCCmC3ECKkU0FRQjXByIoWkFuUBciz5-hwtSLkZq+BygMDRQ4DFUEYjvnMRkYqgLtm7LiRTdFJy9K9S0FzReB56AVP0EkvSuzgnnzCRCugjsZUEWhUKuuuzxXyEEYM9Fj5YgrwYL09+owaRsBoauUoJqGKqNFWCI6XKPGxGaGODUYYKIvkNE8zcJLXm2Xsk5YGRL2S+BIP81Z8zfA1RzHtBmnEzkMAue-NGk0amYqCg5dmZLU1rTkqUGWclNZZx5RfEGM4bnnRqRqhoibk1XLNRWnNVbrG43jR5AxqjjHOE0S48xOjDlz3TTHSW4Dma1m6lvC+Ri9mkCCYEG2RyUnOpGVs6d9AVZaNUXcq+NTjKmSnfoGdW7OhyPudY+m3tO15ItiUy+hhh3khpY1ZqlBcQ3oKdQiYmLDWxzdaGcknrqXCn0A1YWi1xlSq-aypJQVS07IPBB-pEzZH3sdikgKVKf3ssgQIctfS56XLPBKUAST4P4cg5M+RYROAYZXM+m1xGEMLRnNQoj551orCChR+R7HiBMUKEB7D-pY7XqKbei+qqsXmNY8hipO6aN0azIBuN3s60bwcFIjU+h-5CJhVTWOP1xq6fMWIgtv0NaZwPBCSEmmLECNqHCbg6mGB2Z0Q5wYN4TMTARGRUjIKQ2GG5IwBlMCsGsJwTu9az6P13tEZx2IjYv2Mli6UuTwiosCd-aOh6r733ic-dR51njC2xjWHMi2NtgtJv4CwthZ0ePEyg0VlVddqTVdC3VyLAlbilIK3eqTdckZ9KaxltDkwKWUsjF6rjhnaW4YwRUcLbChkrLOUehbsiuuxU-s-V+gDisqMYeQpblC3FIKvApUE+hjvMNOxFnbX99vxdVc0GWAVVMhs7W0jp8jH2vFw6AfljIfsMH5YApijZux6hSx12r936v6H5ZNlQgO3P8I1N3IELn0cedvNyPUKO4OHv5TWooIrKuNRARK3VqHocPulFp2oDPl2Xq+-QsZ6XUNTKXhLBM3jjWYz49K5Jh7elmIsYO3dg2Vis8+-jOhPwtPNaHdYwaWnH57bfgxfQyvhGa+-oAk58G9dbdNRE45K4lPZYTO-NnCvO23Y4Nt87CiUnq-s4wXb39hdO+DgjnBBvnvVKt4ev3Lvsrm6XQQ43BDwqxHbeYTt6CtsB6War93UENfe9fsLlPYWzvZRz-+EPsvD354j4wKP56Umx6XvTTuRLu69yUFAOAiBkDoFHsScenEGprw3jy6ou9RF85GvHZ+ZBAExAAD4z+Mv35mw-p+gDnwv1IL9X79HYe41f8+-RGZL-ve3jMGrMDEBIFW62rGUD6PcMQF05tBKzqPgAZK-3oOdR-iXZHf8-J++9pYAFR8R0Ewz9yAL8SZr8-tXkTNgVE8XBi8k0-5gDd9QCtoc4iJ3E21vYGpTcz0r4qIjVz9L8GBoDVdwR8D4DQVPcKkg8j9CDXxqYRgbxtosD94JtboQ18DhcQDlhmDPMkx9B2Cr525e96p5t3hmBU9YEHtXdl4n8SCoDrsrFwQK809nBqCQ11DZC2F6Dp8mDY42ChDjC7R4sxDvYdDltA9q9GD+CjDMChCRDOC9pcDUhw8NCpcFCctUglCr8VCYDwQPDdCcEtCFdgjrDHstcDD7DR1TCsh4iDsLCQ0IjC8q8dc+CbcMCWCnChDzCACJCyD-FAkJcB0d994iDFCIDSDyCFFJJiinFSjNCvYQ1olAl5VQkyAotKjR0bhsQkCLkTNuBEj8jXDWiGiwd8B4kYisiXBEjnCxCEDwFOdRtuc0DYiwDfDqjlCdxVCViBlZEwjGZxc+1Jdyi7DZjP8cizDsCCj7pJDu16Be19l+15CejNj78aiAjVdBs1CN1kUnjTFTiyijjOJj0XF51+ZMjpNR1E1AgZAXk5YuCFdwT9lt0ZiYSEw4TKgXlSRkTGZUS51T0MSNosTQRBcESrEdAcCQ1+9+sskKjDCfDPidiCCrJUtQSPIBdUs0N3jAx1twQOTuBoN8TOJUsRsDjKkDCE9LiRjbixiFdGtJTeSmSExtYitRTDoZMJSUMpToM+SsY8iNSFTT9UhHo31VZ6SVSNjx80gE4RSTTACiikNViCD9NLjD9hCjS54Jg7ipYwcuRftGSDNmS-CyDvi6iftOTrhesAyGkSSgoBSozhT3FNTzBQdwdoTMTsjBCbiOC-TwEwVqBFk3jVTbSwzairIiySz6Bozg18ZZ1XivCDSrjcyGDkiFdoUEyHDrisgFiWiFcs0uyiB3Tsz-SZZ9ARyBzGZ8NK0pyWztopy0yXBhthy1oWybwly41G98Zm95BW8B4O9h5R4dBxD7imBSAJ0epH9R0-kf9x1+N5dGYBdfEOjJAujuBSc1d0C0Rrs-j6VGUgZwQydCg3ywlPypieg6N4YFcGo6VCAGUuY0UbyPiKzrsZArJ4LEKVYgLpzOI5UItOiFodkUL+TyT4SdluAkTHS5oiVJjpiZBSLfzFoKKMLQA8SaLzAtVqcdUpVGKx9mKZxWLuBqSCyBdGMJ03h7UmLgQ-yJLiBgLUdZFhE8LCj5KbsGIZLwDID-Cdx34rJ5K6zSSkg+M7VBl34ZLEiLKaSHdHAvgdEd4qdKwacpVM8QyEwro49OLgZEMZw5AAE3K4w4ic5oKljb17Lg4WABUQkuBvzCh3LAwsJ-KhEalppGxb9g5zTcRtVJVhFGR3szzRJYzkqP4ns9R6JiNRyxyrNNxi8GcU1VKuKYr6CGsYrnh4qgq1Sc4SrGrgZmqU0dk2rIgOrLibweqCyKcxUeLcrucyr6rOgGcWB1hMqCEBLgQLYxBb8jA5qG4pQOAd4trTwlg-RSgsIXyYrtqtd5rCdPzlqnLnVmh9rNrVBLrv4BoAAedag6l6o64rTxH1CEAAFTvi8SEF8EEDJV4HkybDWWoFqGaHBFAAAGpSM2tbZh8hQEkdrkbXkrIcaZdCh0ad5MaNLCc-rTJSBzIgaQaZBiBHIIaxAoaMsYb5k4bhAEb8a0al9iaZAsarrwgUbFLEaUaCbYgiaxASbfqbLGY8p6DeCyr-tYgr0QEyC75sRArphvYgshBXrX5rqqrFQjUJy6q-qFZF5VaiARc2tgEsF8AHKxAnKXLBll1Rbmhi8RxWzdbCdRaYhZgc5fqfbQA3bgsvSzCdqbQ7QpastyJ6MQNF4PaMqX0nocracLi-QAbi8rJbIX5yhQA4CUdBMsM2UjRAcSrGR8MSruovLYwgptbiVmq6rBrz5Wtrae5+qG0eqC7Y1BMEqXBzb0R1avKAtOzPc5bzcFaqxOhFa8wvsVaB6q7edi6Z6Fc66vb9aEthIn9jadrBsUE561arbnZwq7bh9HbeLnaCFTbbEvktcPbtYd7nZSh4JtojqKqr6XV2sdaiJw6-xSbfSVwdRY6DB477y78sqz6Zq07nQM6J63kc6RA87z4I0qCu6ptKIl6KRS6Yry7fKmULrrdnRa6Q6SqWqm6hEW7raSGBrO7o7QA2Je7FELbB769tzZAm826+429B5O8R4MBCrwE8VkVCV8YlVvDULtjdKwQ-VwRBGCUFLeqeBSF8UUVg5EV5ldScFRGFzHC7R9V6ZColGhGfF2Hsdrt0wBS5hFLYg5hVwKHCgBSOQrGYgORbHIkBSMInGarXHzG-yzlPGzlvHpgBTD9FLD9nQ7HYgBSXp5leZFLonQ5wm3G-yfUnGfVYwImYgBSbhb92YWBDBgLsnVBcnu4VgMnZKdxwQkbPHYh9AepuBfAG5jY-kUbwbQAymBTPJqmYhan6nGnQA-kfJWn2m-ynNpgenQAGmjZ+nQBIQJmYhhmKngAumDA6mJm+m-kwAhmkmKmABSZZ8ZyZxuP5HZuZtp7ZsEcEcSapg59Zj2hp85iEAAQklGudWcOaadAGeaBHuZ8Yqfev2beduc+piB+aCb-PeoBC6Zuamb+QhZBYWYucNgBd6ZhdAGNnhYefBENkhe4CKGhaObRaBDWcxceeWemcKEbhiEediGvPTAKkB1kZUaZTorqsBBXD6OzgGG4EZeEYLF2gMcRSMeZYbPwBYDahMEqTZZWA5eRCmfccMbkcUsSP1TKaKB5eMd3LTEigZYVaZfzyx3KbBAFP-WEEUpNdVdbsyb-MgDoG9HUWjVxZtbtbfQtctayaoCKdgEgCccKYYC9dddbvdZyYAFFPHfXg2A3raBSAA5cgaN5Z2N6N9+gielqQxRwVuR7daQ1jOaqV6YGVqZ7aRi7l3VsufV1NqkdVrNjBFNPNhoAtxuZVi8dN5RstzbSpLV0FNZXFUtjVgsJVUlB2s5GSnFBgaoVzGUf2XwU+tqQOdYZQUhTQQ+1cKttRjgCpTRwVQbG5cMj4BEIoJ8sU+MQgCB1Og2H8loHqUVTdaas9qTc2EQfQKt3ZOq7gQOltoVivE2kCmIB9wYZ9ui0V8V0wBnd9qtivBqn93-TKvLU9ipNtdKu-MQL4Ja0xW9ipFLY9uDwZLVncvljhg89vIeTAPhpYqSigUwUmWsD4cqG4UgRpP3LSifFgKfKy1hJhDgCbJOT2m8G8RjjFQWhgYWk2DG3mzltsjS0hEiMRZoNjqTv4DsgkxQG4S0+VLQRdUhHeA27FZQZQKGjIaeIwKFXTvp7uFG3XXTj28ERG0oazoO3G15HG8gEzqD6YazlMzT8lZcxRyQN9GeTzwdhnHdl4ygF1yIaCBh8WnG8ECEHGulFT4wNT-mDl4L+IN9QLgT15awcEbzkLi0v2BQXXMlJju08aG5MzWA36XSEycBdbcr0Ad-ZSUDeOcaG8cr8IOfHjoQ9rz59SYoeEbj8Torh-Kz-r4yUocj5zmcMmGj7KOjxpcr-dAwPA2Gms3Berxr1cM+IRJVAsRss44brjk615WLlGvL3EArobrs9rgW1G2MRG4TgYlAnbrVYE3RHrkW1cB7nG87pgMgQrxI674ribZGmVeEar5RHz0LimSSUERSm5Et3zi7-7yYSzeFLORblYU6tLmHjx5za7bacriOrIdrxH6Hv70gQSNH1ebm3eTH+SV5AAcmE5uWi+Z8s3FpJvK9y5x6o-Jn0DJlIEmYvc9KEUn03G2kF9BctcNYhCEFNasmCCFoch0irLcGLCFsvI4HhFR6x6h788l9rCF6ARvCl6AV+4K5k-14pkN-JhN6ELN7J4tLN4LNnerCC0XZnHfnnQ8H7VWhK+rM0eugq4FMD9REUte5eIO+D6g45bd-nc99Mv2V97cEC-9915q+24vmD+44FP6+FLKuQLSACr6gz5UkvcIALKl8fh+R6h95KTcH98GmfTD90WD4S0bBfbKsZBXCe+L5e7oqaI+nb6ywMZT+MBVmhXig0AF6N-fW+WYDr+T4b6C+bRH8NG4xZe75-xkY3Ah5vhqqG+X-7RJmhSAUSOP-V8n5zSO5q679vp378e48v4n+zVuUs3v+-is-j49+oE0D4334lBD+n-V+LHxn4-8F2f-L3rahf5p92+VvJKlvy1wltx+p-G-phmmzAZluQBHbu3x-SJk-y+fG+j7kGIl9CABqITMXTgx9QPsw9RmG+hIBN8ReqQLCDnz14wxS+lmAGtdCzrvIg0FfA5FjDDTyNvOUlMbMHzWro9rMbAhntjHIFcDKazyHgf6j4GfIh+LgMQbInybS1OIFoYsOVEoD4AwcwcAYBUFpil81qDA7PhYJ356Dqo3nUwezHV7aRyo4OCQRe22iaCpS6-OgZxAFwsBqg3EHeJJw46xULKa1LCH7gqrnhvOAQtRI5T9xI5Ahw+SyjnDiFBCH8sQ5IQkJ1zpCUhlgoQnkJ3gKMihDtcdpXSiFt1m6a1NsJ4EqHjVvKl7a9iEPFDRDYqPVCIVnH8HZDd4lQiytwAaG+DCiJCJgQw20pfEdwyg8EP1x0H1QpC0CMhNsmUElVuADgeBirBIQMB1AIgDgKQHWiWEiAGyCwRg2fQjC8BGDAHGm1KEg4ehY7RgJXWWFtVaGnVQMNcJ-wmtd60odYZcjnTbDhAuw1aAMLaqDZmguQQgBTFKHC5ShBqQupgJ9ggYpBm4c4bBljhYQwRNvEKqXyATojQ6f0LEagzoZF0URo6a6LQ3oYvCNBhw-3gWVtjNwmUwsWeDPz9TadY4MgBkaKj6Smx-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-aVegO6FVOu4BY7GI-DXqCYH4DWDyBa1eDMoMTrIdRWmidDipVd5ztf+--U1NDsZ3ijJwtdNNQyMR3OhkdxkXnXp22SaRs2iwyTG1kJ439ppLym7AMMaZHiAalYVCWhJUGBpPkvESeqQAjTC065NOg1RAMT7vwdeK6akFeLRU0aqdJiq2XTuMiK7BIzO-gBCC91QCABVkDHQ61ACx65dmlV6Y2BuB194mvMRkAAE4Tg3sbPe+nVUG1C9PEUOMmrHZ+wZ4nOwDc+klEwYswRCkDC4B-xPTANhQIvfoEZ6M8rIaAfvdhtYi2a-QXe9UjXIaBF7K96iKfHNKwJAIXAPkaisph7qd7y9vMKfdXoZyZ7noa+hpvaoGW8xhlE6DHC+s23qi1qEeqPRc06CDKj9ClBPezrn7w8D9Qyi8jEP4Yv9V11QIqCeDIAvwdEYXcCQOsZDV9P4tfevn72CTGANVRUaLkcDtV7yDAQcUgP-vta9cJIOifajpEA1d7wQ3kHyC-1ABS8fYdAWA-8k6b7sVwXe37nGtaDHBCRLCliAOHg2GDjB7MMLfzDoOAamtwcJzYFoC3Ub4VAvcffCKQN-6T6b6dA68kwPCJ4Qoc2ILgfwPeQmQ6GwQBwdEBKHvI-kBg+gzYjD6J9u+iEJoZ8jEHrl3cYwxQdoaT72pmaooHNPV1I7s1KOuuDQce0Py9dCw6eK0FN1IGLdUzJeD8sVxnhiYq67w-7p3jkSg9+omWBNhRznAlts5d4I5Cnzf7+AXGgQK0BANLKwDi-CA43ygMXxUjAgQWvAYNSd8YqBrRPQL2FIB7CdNhmI7NuZITkSqh2hWOCAcjYS1Aw+AceQFkjQRNYvPONR4dkQG7qjntFo0AnN09w+mARp2SkBW30yUYp0M-dKO23gMlj-bDYx22IkWYslxcBUYHH9yFrBgqqKo-hi2OVx5jqMIBBHpVRk764UzMGOdsbQ77XoqMS428dOh3HNUDdazbjD+1K8H9NYEIxzuCivRztWrT-XGsZ5-j9AaEgADpYB3N+alWKwZkDBBCudOiZr0wxRoRe9ryZA--pEFYAoTj2mE0lLhP7jETyJl2UwCMHonKetY6zLwBPBAIegWEFk6AAABezbUAIiaKB-s6TTKDE1MZ6A8ncTekfE0EXEPGAaoqEGaLgyECGBkjm4GEyiaFMMnCubzfHhU16NWQWAQtZQELVNaTBGeaYPAKSf55qnaTaJkU9qdl6UEhaBpzCsaZ15Sn-IQAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      
	<span style="color:green">
	  <kbd>Not</kbd> is
	</span>
	<span style="color:blue">
	  Queries formed with <kbd>not</kbd> are
	handled by the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wi9WXEMaoxA4Shsr9gAPQ2gqwuPuC9s2Q5wPAw8Mb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYKua3cugxDryh5vkmIPnr5Tmnhpra9HwflIU-AMSxYbfAUFh8AXXDp5XteF3wTu6CngfdpaOhm-Hu3UmNIQZwqZQurK+gj7nlpTwYK+6Bvkx76yugB8b0+h4qQvgwaspBqDilBnfcgD9f4z0AUUUo3cN7QPAX8SB39UR-xPmfZ0E9UgWmoGIOgChLpgjgc-JBLU3CEOIaQrBTd4GrGAW8biqIfjEDjoQQI1DH7kOdIg1+LDqBsIXBwrhxAeGwP5g3bBjDYh4IYF1VewhyBd04dwiOvDpFyJiKUBKIMw5biaiwFRDB1wUBIf9QwR86b02BMY0xa9hC+BsfjK8DDz5TWMO0S6yhp7aIoa-bxtZHDTzaCEvxOsa4kI-tYuB-8cGKgUewDwXgn78Jfj8FJyg0kzwSTo0ACiRJRK0DEshASMmUOKR8aJdC8myM8fgwghAQTckwXwxUpRWpsBcUgjoWhlaXFimIjRzgbGyNsbGbcM494gIYtY6BYg4naPyQU0ypBzJYJsnZByzlqS+A-uQOOXkfJ9JrjVUOQyPLdJcSrRZItXwDimlw6gChhHUHJoY5EkwxoxCCjcsxYC3k0E+Vcx+dzSBLKAuRZ8-wnmX0UIQfA5QeZgt-t8w2MR3wSIyMVM5Ayw4MCcbchwHs7GFA4VLFaTcDz0DKS7cl0xCXmKnlYwZdAyWMqKPcyZ5LCU0vkLQj+7Lg5MT+WLYBxTN6jBpGwWeq5ShSoYm-egUswTcNxQU+RQZ1ShmWBRF8hozLBHZVZWy9knLizReyXwJATmCGaT0mqOYzgVw8tMhgszN7WLEYYfJvygoORapCn1nClidOtjNOSmMDz6HxbXKopAPjBv7r64+DDeUrA9V6+ZMqZz3LjWG9NACM5YDDpkhcQiRFqPEZI+hADRbG2SKkU6tY43VwGSwmtpBAW9XibIrVAie6dvoNS9RKr3jjI8X6UyHba5dpGS1OVU6AHhTdeYShwTfH+Prn62RY14VdwUJoXEW7QkDwmL82IQUxwagCrCu2wp9BTS6smmppS6nSMvVBFYQV43KwPG+5gH7hUzzCJwBh97IyGobPQKkiagP1zmWeCUoB8b-oQzOd9xB6Vgd2pBlch6lUoYA0mrD0jkPnkxdMIKmGdZIc3mKnMD6f00YlZu8J26GVoW4eR2psSL34dXSuNirqy3WuzZ3BwBCiG9QPiQh55JW7TURvJiRcjSg2wxjwLGUJpPUNk8IOE3BJMMH0xHQz+gbxqYmAiMiaHLl1XMIYbkjBkWfygTA5Z9dDaHrPX4o+1GsVwYEGBxk-mQbYbKd5weTHxVNuAThk9w1OPnrw-jTTUbYxrGaZdW6rnPX8HQdAn+1i6NRc-bui8bi4IFfc8VrzAlbiRdSwFmrdjeMlJw6QmLtnoUwug9GFcyn34eYwWMjpGTpn6FGw1n+y9V7r0C-jBRoDUEcDm+0ipCrgSgn0GtiBt9xux23ktuBWrtVmwCmJ8tlDsm5Okf6qCjZiWMnu0S-Azij5MUbN2PU4W6tFaOyV1E1jiX9ZUCF6UMmNQ5yBKZ8zNDep-bCExP9c79DEszdMSleWu6n1pUKsEKPuCI8M3uhhpbbuv2qcB7roHHv7qgkFfRDBiNtva-+4pIyJGaKkT57H7iS1rvE05lwlCYe4cZwwsaMOFs70o7XSXpD5dnZWSuf9yuP6K5Xc3XlBG4wJcYzd61lCDtoOBzA+tzdZcGelqd5BJHzcbct-NwwDvXErH-c7kGrvYrSv7RmjXwmdQxFF5zShs2-cTelw2qCcv3eLcd22qPX8QflUTzvT3OOMep88-NgPKyJnB+biLrOaKc5yEUBAGA8AkCoDLmgYk67m0pY7l3Dtkcj6NoTPDXgq8yDd9AAAH2H8ZLxp0u9wJiKP8fqQ17r36PzweI+x9+j74jOBIvy1TWYGICQK1pv1MoH0e4YhE4SueVjafAAyG-vQcbd-EuyU-e-t-WsniQ7vzPL8tvIPvoaI-RncENTC5cPTiTPdeT1feQ+afH-BLbaQOHzKnD-fBO3KXHzKiZTPfA-RRPbepcELXHSDOctIg1Xc2TA18IKRApMbGEYJAweUVV1Ug9AlXQvSg5Yagx-G8BgpgxzTmKaPPY7ZfFuX-M-XAoA+uKyIQ9PegMA8tGQmBcg7-TgiVGgu0dQigxgtWa1RQgvBiFQ69NQ7g2g3gnQsXYBH3TbGPDgowhLXff-CQ-A4Aqw6POQkg61VwtPJQyArQ0QhAkwjQwIvwvg8AjyLw-Pf3AwuA1QgI+g0w2g87FAiwl9BxVRHnOtGIuw3vP-AAw-ZwqQ0ASSNI7tXnZweQiTEollSxMgGLfwhMJWXw6AtIKebgTQwLDwiwpRExVRYlQw+LBMdosw5IgQ1IWnfjcpWwgYk2cQwAgomRcEcYkDYgtdctbndRMorRKYo2QY4IwLd-FIhFEQd5egdhDYzI7RLAsQnAuYncepdrIoqtZwM42tPnCoiwhdcdcRW6S4qgiVD1QIGQLBOaVY3Q0dbtCdOoq4hLAEyoLBUkUEj48ExdToSYlfP4mE0ENnOE+pHQEYziLxVrHddE2InI2Y-Iu44AiLd4zmVnCLQTaEhMabcEak4WL9TozmCLLraLb-WIUkwMdo87REzmcrOnDAygRTbIgUx-PDYUziTrCrATPDRkwMBg1HZg1Ao9ZLek5UjEsks2QTOU36VIV9PjZYhkvUmYg0tU9mMI8wKae7fo6Y1vG4iktEqye7GkziVnR0rI503bHccET0tknzI08wd7Pov0-0wU7RfE40lqR1agNpGwkkqUl0xw2490oo7pJMn+L0jyflc4vnJ0rg+Iu0IUjUiwgtKM0swYHgxI2MjkziINAtIgSU-0jfLINspsgswDfNSFfQbslUlwbabssMlwTrVswgdsnY1U2gscsTcvMXSvPOGvQuevEuSwFvYBVtWuBOHvQMY5Z-Xcg42k5rVFMXfQaoyQWo7gLHJnJTf4vbcEXIY9ZFdqMOcEQXIoa8qxO8z7HoAjb6TU18pFFFL5C-ew3IpwncGQaQxFd8laT8nsjWNFMxErGopNZWSCpkrEwE5WbgEEyskUtCvomQHCwMWEoEuC0ABE4iziflAnQVelcig8tEPCuEmivE0870889nedVVUhCi9iwM-ir8yHD+IS8cyVMWHXTeYSncjMt0-bBiKyMSlCic2SzeCdNVFSlDBS9o+SuMjdRwL4COPufHSsQnelGXeAhMG8ICu08WPsnmCxWuWyx8uIwYRy27Uy-AYwIlW5Nyp7QoTyhMLCOQVo2RNdRsE-EGJLSgXEAVOlUhRkK7bc1nSKr-Xwvdb1BSrCHK+iFDdU4CiwrKyLB3MrNy54UKw3XYkYcqjS3OKeRXKqqeGqvkuqucu0RqnijyXHdqZKonIwSqoqvdFgdYeKuPMKyiy6MQE-EapPEWZ-DgPuBa08cNDJLCTKtyxaneXKzocDUACagK6dXBYEOahanK8IAAHgurWtUD0s2r9EQQ2RNXBAABUF5QAbg6BfBBBIV+8esmxEzahmhwRQAABqNDOxBqSOIUFxa6qGooqyZGh4ooOGvuBGp6yYNxdZTZT676mQYgRyAGsQIG2JEGlpagMGootG2GyfLGmQRGyq8IaG8SiG6G9GwoTGsQbGja208tPKcgnXXwp7ckXyysRRBebEDylYctFzIQPa9eA6vUILf0MQg0667m-SbBaWogbjOxXxMyyOSy6yuhSnHW5oXwkcB-EYbWuxWYR-AWnWmIa21zKzRI1mm0O0AWiHQoFiQUJ9JuW2uKrUxKs25ioSq9BoY1TcMWoo2yNecoa2KeZ1bUFjfGRscqxkOjcquNYTWMIKRW9FNy8gtqkhTlPlMu71ZWaq-2l1AOma8XU+fW2WkPbchPB3UWh3Iq8WpEU3Vu9Edum3VjPMa1Eu5WvUMa9Wrq1vLW1mh4xBIemWw2vSY2-y02oamyktB462h3W2t2Rel6UoeCbaDaoqi7IBSeoib2v8HGhumFQjYO0+UO0-BKpKpilKj+We2IOOqes1OgZOkQVOkhe1Ig9Op8QbGOikKHHOoEPO3ag3P0Yuj28q8uuu9q782MdB2uxqx+0AUTOevW4egu0vRc2QCvXOavAuOvYuRvbAJy4BF5YFD5AxNFEVYcxSvIvA2ChwKyFh95YGfM8wQRkFEGV5FpenYDMZb5Lh9ojFEXQqIFIR9h5cxkabdMZkuYcS2IOYVcKuwoZkjkXRmIDkAxyZZkjCUxnTA8CxrR586ZGx6Zex6YZkzs8Szs50Qx2IZk7iQwFpbqcS-xwJ-6xUHxmIZkuO0xuO2MCJgMsEcEG4E-FqFgQwL85J1QVJnOFYeJ5kyGmx2IfQFOUAXwcIImUAY5aGsJvJ58zyQphmEpspo6SpryUpmIWpwM4zaYYp7gZpip45SEdp0ATpxJ4ABpgwJp8p46Y5MAGpyx58gAUgmd6dKemdacWeGdGYhHEkKdWf6ZmdtrKYWcDIAEJJQ9mpmWnjlzmgRjmHHAybqVmrmBnQA7qYh7m3HnybqAQGn9n1njkfmPntnwRDpnm+mAXQBjpgWTnEnDpfnuAih-nrmoWgQ1nYWIRTmJnWnCgKmYhTnYgE50wCoocxG2GLyCxy7AQVwlY5huAyXQVlySX3gBAGW1HKX8AWAAArEwCU6llYJWZEFpqxlR8R8ShR0larWMNlil0HNMSKUl0V8l0bOHBJrcZ829WocSzV1MbB+mZkyAOgb0YRXwXRw141xK+JrlSJ58zJhgWASAUxu1h1q1615ku1gAURsc9dda5WZIADlyB-WJnA3-Wr7XpmWqQZXZscr+XphBWWntpyL6WlXyYVXI3WXU2QZZtvU42GgE2KmFGLweAs3ITmBYl5XSDHVcQZWvl+GybeHUy0yHUWlcRqgzMZQAZfBTauWgZ1hlAwFNA17pXS3JGOAykf4RU9WYhFlG2EQigTcLDpwl5t66EFKBrqUv7hr2sLoRArzS3CVCqYa7Fo2Qtr5y7fXuVcs93a20LOWeXTA91Xa1xS2c35lL3Cgw6P7I7v7YsxNYrT8o5OX2Et2ylwt4xCAf3hr5WlyCwVyaHa8i4G9MBty3hTpyBTAGAfEPhyobhSA0kfcFK+8B9NxDKUESINM7a6yEjfbyO-hg5kbwQGBOauZ4bma6DqPaOwEKPbYyPuP6OmrXybgUsWUtAfiwE+4ZzZyXAMPlB+8Mga59AjBuBZP1mc5ob9BZPbbwQIbSgdPCkUa6bobVPp3pgdO2SJOoVpLxEtZEbGaxAVOQ1HOxBe1bPnhoJm7WO+5GOIRkahPVFjBRPeolZZ2bPErnPL12brBwRrP4gI7-pZZFkiPTYZpNPIVKOQCZpdITJgFpskvQA79lJn0UvEYbwkvwhR8qPPa7RyvQBbmijih4QrYOO0vz9tPGvjJSg0OKBMPsPYo8O0kkvjJmhiuEzqbkzH58vCvVxP8E00KMjizyvB0ijfPoawvcQEuWuC0lv6bYwIaWOmjZk1N2VKWFuxlauubVx9vkb1umAyBZZ2jtv0uGPIa3F4RsukkS3JBErcpQRxLFkU3vuNv7vcbtMr9Y0huVhSh1uIRrGTM9ttokufashyvAfbO7vSBLYwe257PWuMuAByFjxZRjwn22Xm7GpL2LoHrD2sUgFxHxOn5LlTLIEhEjlrhnz5t158oQYQDm4IDmhyHSKyC0YsDm0gDIYgeEUH4eGH7aDn4+G8eXtH+LkH22WXx-JX++zX27+Xvq8wXt6sFzQdmcbSrhDwXnQtQgJnnMib3+MRSj5km3vM7gQs14sZe36dpWA3-t43xXQFc3twCLy34OW2Wb4Pq2Zkxr4Wbuo7w+e3uRUyThPXlwDn5eQ5OOf3vxNwYPg9J9KaJ3zBePq9bOtCm2oEFcQ7mAr-V30ZR+ePpjZRgP4wFae5eKDQfQVP93dPzP3nIP+vw0WjUvg+5-cEaxq2LaR-M3rP5vlNI69oqf3nIae5EP7TQ94f9SJx8f+QafpfkNW2NfpPbT73o36gTQRXD7hBWxzcA-neT39v4-gd0-k35VBfwPsm0NK36XoBCKofpPFNpv3flZ3JAGo4UefU2HH04Q-JWMQUSPuJUr4tEv8-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-SN2rc-ITKKgyUQBwWMvLKkEfgpyCZldGqnnILm-oJUGY9UVmPTnQMZhf6O2YMAqGdBh5GA-gpxCbnM0Y5kovcL+CrGec5REkNURwF55Wxl5t88cdqlpmBiz5lHcqk6NNGEA5oyoy-paM7iOyI4zs7+fS3PnVVP5CwwgKNAtFby0RZifykAseBQL6WbIPEaAHnmQhP5Lon+e6PB6YRSQVsI+biBbk3hv5H7Z0KQtJBtyYgRCk+TuLxjWtFQcYqhUnMVBpjtMD8rVh+LGIS85YExJnq6UbZ8LlialCXiIxcBvA74q4sZBjOYHtEMZTVBqX0VkX2TOycM2iBLxX7DxHebAK6b4BbTi86BvHPYhotmmC1rUAKVRBVLWl5DyxHI2yaAD7GEzzxVIO+EvgOmoYFpLVH3CtN-gYyfsUOWhfWOKhuJaFLcuxUFNslJzJFZ4Ysm4qEAeLyFsYJxZXTqmBgglOKBsSPxvkajaRWmHLvGhp5kAXESigCjNkBiMAMZpncylHEkBzijxGS4cbaTglSSGAmE6yAABkPWhEycWwHSnlowpdYiXupPsXRTU51EtcXRKilMSlJrElaBVJGWRKOUtsESfxIWWnTSqnMVZQuHWWSSkJbSzpd0sUkzhlJ8y4ZdMuYEywxuDImrFpPnE6S9J0y6hYUEWIS8TJFseEHqzuVHihpYvN5aZPMVVlq2HixZWKPdn3iLYPMPmM5KvAVSWm6NSxR4psX0tRlIUmrIMpBVRSYpNQiOMeg2wc9WxxS9CkstZGHj7oClK5U5Pb4rh4Gx0fGFct3YrRnYDxCyRFOskRKwVqc0zl7ABTrKOVwU1OVa3QbuwURc6IpXT0JV09SV7sDaVSFaBCsgQV4xQZr3BCFKOekDaTo4oVW1yIIVsXFVI3FX082x0qoOLbHlUOAZsDAiUpKuOa7CyVTUPcVNE-HihfxqinHpZx3H6iKuw+WoaR0n5eqcVMcQIGyp2nHSpl5E3zJnOdXOyI16tRsABKBAPLywP4iNXCMbBycNkKucifarEiu1vl90HEIZNUn0B3lZ0DVYUCKiFrsyVkktaZO-JYRyJqcdZhmoWn5oa10sIOBDjVlN1NlEBINSDAanttPxNiw2IVFGWMgYl0ix+P4vJCHpo1SC0ZVTI5lUgE1dsOibpOTX6TF1aaqHC2pVwNSZYebPSPmr1jdBRFHAUtfdHLWxBK1Z6oohVMvVNQvy+MLCBVKbUtM912uA9Z2pHkwYXUB865MIDOUbZggIa3+BGuYFTRrFEGq2OoOg3tqeJ6g8iZpwQ1qCgNYGlDcWo5RjQPgwQaQe2t9nDrU1HsqHOvEslYbVWrSmSVhJwn4TwATEKjehJo3ySelDa9te+oqZkawN6pYhuCAxAxcMh5gODbwpUXkhcNwawdWGoqD0SZ1rwUjWwGA0SJGQrS9pV0vo3kgVNhy1jVjDfUGB1mXGhZRDiCh8avAAmgDfaVSDfs3gXLDhmmkg0lcsgaaaSnRms1DJLeUnWsu5sUUSIZwrmlEB-w80SpwRJVJhlNG-b+MbNl5OzW6uZ5ebnNLlCLW5ui2edwZ05bzcmkS3+avN4Qu0E5sE0uAagYgGuCtAJXJbiGqWkLUw2s34BVpfmx9iaoNj2bw6uIOrZgla3PVL+wqi2LbGq2rTOs7Wy1XQEi2PsklFKMVQSpc30BhtYIdrR7Hsx2IutBsUtJWsIIiAOaaqtseJV60cp+l1qCLTVr8kpBpte6RbeSqa3hajtHDTLSNqtj5KgE9sMmL7jBi9QasG24paRgy2XaUQ+ga7RKWPinaHVKEBoF7H219afNHUL7Y+x+2Q6-tQO16ADsEgZwVt-PKyG9rp7BMjtB2ytqbjjgmB+A7laYZ53-QtCw6QHCaqIlA5SVhRHkB-r72lQ8o7VMqmMMXUhVUrsQxkWlcZA4R46BkmkctjQEU7PtEeIaf7cFWfb7YXe0zFMf-UrDdjGFsQbZJQJcC8RbBZU7yEZxVk9yig4IWnU-3P5aKI0NS2cR2qPF9yZ0vSwXAjqR38AIQuus-pvHW3jbNt3AO3c-30rpTGwNwDPiE0piMgAAnCcHLQ+7uoOaowOML208RKYOazYf9DljcBsN5MzOVrUYIwMoRA4FwM-hSlLDgoATSmPoHx748rIaAYvdeoGyUR2ZsQYPS4jdiME4RhQKvdHuESD4rlgcY+C4B8hEVlZTdevZHpD1XKm98dbgF7oh257uoe4zoHooMVtoaEeGhrWdvskI610K2ifd1Cn2S9UdTu4pf910Wr6mAhi7HRYVf6pACV1QIqCeDIBrwI4lrWVQIFaCMhO+ByZgBnyP06ik0tcU-fwEY5HApeTEAcMDFICX6TWdXdSBHFWrEEYGVeiEN5B8hH7HFbYtdUVBiDQH-Iv8nvaPpcQ682xHfY4IQxYwsQBw2ayQSwGkFAbeorQJddMGE0gae0yGpDQRr6LkGCGf+i-ZvUSrAGJIoB0hPCEZk57QmUB6Az5HImCBSDogAQ95BQNsy2IKA6YJAfBBiGfIHPcaMOJzjyH6mBDBvX7HpWQqYVaETnfTEwPvaexfOzoYp1aCsjU4su72Os2bijaK0-SEGASrMPUgZxdSk3QWvThMEe125OjEIEMCORB8H+ptssLlX362xafJ-T32z7mJjAz6OgIgfZrf73h2dNyqqzR309hYLhmOG4b1geG0l89VLuVQ60TiQC+AZ6TGMjj2jyAskaCJtDi64gT9HQj+F0NrhOGk2KR4+BLqsMtMbDNQwrYpwZ1W7LlrO6FdSqvCc75tgoBze2mHQOGsDfRsToata7gZWFGNTI-UoLX4NbAEx2IKfTWPZHZYfcrXc0DNhw6kQZdEVa6hW2C9HdMxw1eJXmN7CsAR+xY-jxUH6B5dAAHSwDQbr2K0SQTIGCCywTjpTCFj8jQiF6ii-+y-XQJODPGCVrxoye8cYVfGfj2MpgPgB5iAmdRsaXgCeGPg9AsIuJ0AAAC9i2oAL41ezRP-GsTlhnoKSbBN6QIT4IKE-5RhMqyw8Ph94P4c3CvHfj6JzE5j32bw9AyVRj0hzWUAc1eekwfHmmDwBwmsDvJqkxiYBOCmmmwpxJqKaKIsBxTkpqXkyf8hAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);
</pre></div></div></td></tr></table>
    

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyPkCcgFAYDQSBEBgKjYchfFqIw2U67ragYQxSSouJ40DFI0gyf88SmGYuMjQbhGG4knhXZosLmPrrHw1cnkBAA+alKEa5rWuIdqBp6wYGv6ZqiLmva9JeoprqGkb+XODiPOqLRSA4chK2IDqlpuvruHelbPrGoKpvSTIdpXUoodW9aVk2jchn6W6nuMwoDoBY6-rIQHgdBrrwdRkanme16YkJ467qahCdq+2qCxOs6GBkLrKBubFkW4MJYYmlxeaoLRGGZhQjFO+6GAF-QhepdmfvMCXKCl4b5aauWzqE8aEkm1IEf-XXBOR0AzY20ASYB-pyah-R8e2mXdvxxnQE17WZf1hWiItyY0wivB1feb35CUKA4EQZB0DxNA8Q5zjiFwqhiDlhRKG4S7KyEuHUmMNgZAYNOa3cugxCzyh5vkmIPmz5TmnhprM8b2vlIU-AMSxYbfAUFh8AXXD24HoeF3wUu6DbmvdpaOh8+bu3UmNIQZwqZQurK+g567lpTwYNe6A3kxt6yuga9zxe65UleGGrUhqHFUGt-IHfL472+ilKcuR-f5+fxX7n1RFfBeS9nQt1SBaagYg6AKEumCL++8-4tTcLA+BiCwF52-qse+bxuKoh+MQAAHoQQI6Dd7IOdL-Q+BDqBEIXKQ8hxBKGf35jncBuDYhQIYF1QewhyBlzIRQwwzg940NAAlEG4ctxNRYIIhg64KAIP+oYOedN6bAnkYooewhfAaPxleHBy8prGHaJdZQ7cOHcJiLQn45jayOHbm0JxVidYZwQSfdRX9r4QMVLw9gHgvASMVPYhcQTlAhI7n42xoBeEiQ8VoLxSCbEoMPokj4nisExK4aY6BhBCAgm5KA6hYTBCFLYAYv+HQtDK0uLFZhojxG+K4Zo2M24ZxTwfgxdR78xA+JsbEuJplSDmTATZOyDlnLUl8CfcgJCvI+RqRnGqEVw4VKKQYlW-SRavgHFNch1AFAMOoOTWRyJJhjRiEFVqVSlFPxOTQc5DTxE7NIAMoC5Fnz-AOavRQhB8DlB5q83elzDYxHfKwjIxUVl1PDgwPR2yHAey0YUUhUsVp5wPPQFJLs0XTARcotuaj6l0FRQSoouz2looRdi+QmCT5kuDkxG5Yt76JNHqMGkbBO6rlKJyhiR96BSzBBQmFcSeFBnVKGZYFEXyGjMsEMlVlbL2ScuLUFLhKC+BIEszZVSao5jOCnDynSGDdNHuo5hhhYnXKCg5FqHzrVkKWOUm2ASeBYzhZnKopAPhOurja+eOCaUrHNZa3p3KZy7P0MG4Z4VTXmFQfQxhwiWFsOwTfUWxtkipFOrWON6c6kEPTaQB5vVWk4MleE2pmdS1NOFe8DReS-SmWLfW+gWKREtV5S2nBiasAbNQY4yx1js62q4WNP5ZcFCaFxKO5xNcJjXNiEFMcGoAo-LtsKfQU0uoBqycknJHCV1QRWEFH1ysDyHuYMeplHcwicAHeSeV0YVyNj9be7OPSzwSlAPjK9X6ZxHuIHix9u0X0rBnYKv917-UgY4b+88ELphBWAzrH9o9WU5m3eetD7KR2uLHfitCFDEPZO8cuyDN8cPkVfSaodWrgSggtaXBwMC4G9RnggvZ5JC7TURjx1h3DSgepMl6g8EJIQcfQVx4QcJuARvYzPOTGp9A3mExMBEZEAPrOY4YbkjAgWnzfh-QZ2dDYzsXVYueqHIX0CpI+xkNmQagZSRZ2udGjYJimmB+dw1iNLog-jMTM18ZrEKZdW6RmLX8GAe-C+6iMPuZPROi8Ri4KxZMwl8zAlbhuaC7ZzLWjyNJLA4gzz2mvnfMjAqi97KprH1MyAlpaTYwKVBPoZruWL790HsPOzEX76P0ARwXrpT2v8pYzuUbL9N6teyoYceg2v6SqlWbAKjHh2H0idEjhdqoKNiRYyPbiL8D6LnkxRs3Y9Quey-FhbiXUTqKRTVlQjmBCybEfJwwjJlMMG+xg3qt2whMUvR2-QSKw3TAxdFsui8cWMrBKD7gQPfsJu28x1BmS70VYfQdqdUEgrSIYLBwtJWr2JKaawsRVChklcVNWwdO2ficeR1m-OY12f9YnshzO7OUm89WwzlYV7BeIP5-2m+NKoNrvZdhrHdVk2Hzm0Ap7H9OeGx58tgb-84Nq-GxrvruuJ6GLF5Dw3INjexS5VWmXK4X06hiEx5XLgU2ffXhNtr2dDvkh1yt-Xhaes2-KqbkXlnZeQ5D2fZ75U7dDLaY72jjGw5ar+3IRQEAYDwCQKgJOaBiRJrzYFkuZdi3VGrl-HNvnTa8EHmQOeMQAA+zfjJmNOpXpvoBW-t9SEPYe-R2GWZ723v08MZpXaV5zKazAxASBWp0sBlA+j3DEIbATWFq8ADJt+9Bxk38S7JV9z5Z8x1uCCm-E8a-m8g8+hpL9yeCYTazXec3D5Paes9q-X9zfvkYgclmIcxe98EuBOI+r4Amc+C+fCXWT+YBOkwBGyCBwu5sEBywQU20N4WBSYdmaszGKBCe6B8uf+OBdogBtc7Mb+nETWnuJ83u9OxBbKf+s+d+MBj+hO4IMeZmF8r+Gy3Bi20sgeV+GB7KZBWQ4heBSBzGAhce2URBtcVEmBB+N4FBLKJqGyU0VuDBw+ihkBN+a+7BcBnB2hoe9AfBzGphseH8qBIhJBCYkhkha2+BbuVYAC821hfWChBcYhKhuBahVBmhqQ-CCiQiNOmaP+ohLBt+9+i+xhvuoAkkOiYRIitOzgFhrhIRiixKqiZAnmPhf+SsH+bGaQbc3AThNiLhnMWRQiSKdhzBDhfh5BuBzhZ+rhU0uOlGqSTBPmJshhD+8RnC4InR96iBiaGy1OqRERNiShvhABLRlRbRM+-yIgpy9AxCUxdOuhBRte-RcRO4uSjOXBXaaxM8TCmx6R0hrhDaPaLCt0Mx+hf+5qgQMgYCc04xMhXaZaTa+RsxTxrGLxYCpIHx1xXxjanQ3RehURCYzxlQYCOgwB1Bv0RcRW46UJ9hfR0BAxBxnBrmGRnMpOrm1GfxMJXW4IeJwsp6Vx7+qJ5WHmV+sQ0JgYFRQBIJnMKWeO4GVJJJzJB+EGbJnEZWqWVGEGPJ2qCx6WApyJs6AWRJopjxuxZs1GUp5g+66wFGoxxJCpfRSpFBEwSxNB-eXI+2PRvRJeWJ+xkJVke2+JnEpOe29RZpM2YI4INplJlmKpLgZ2dRkRcYpBTRaBlBBp0pdy1AJSPu6JDRmJbB2JVpiRoZ4Z5h1JnEdKFxjBkZTpLJQZGhBBzqjpyh8xzRdorROZrhjqsaRAfGGJJeSplZyZHkGG-S+gdZYp-+gwdZnp40AaFZhAVZUZ4pdoHZqesg6ekcWeMcue8cBeOgIBs+pAhaJCG+7KiyR+BaxAwZ1wBWIKbu+gORkgeR3A0ORO-G7KS+xxc6QK7U4c4IMODQe5aih5F2PQTuSJqp-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-DBxWySE3hBdXLA0MCg1cx-UyAGLhdPwkTcLNDpdjYPidlAU3CBbEpaD3FPxVzUdOmefKD14ZAZz6BGBVvKDKANN-ZfX6BVc63gjvWlBdem0g0E1VcuuxhdeUllefKdksJawA2d5VxVvOpzdiAVpTfPDQTIMuDE0E3ggQgE0FdCLGDFe9RKzVuTc6oLcrrA3WDggTfxDBX-Syz9LBd16IwPdWzP4zS6QSb7pdYPegC77KR7pPdZA3gPfhCt663A8fJXIHOJHFDwhWzYwjA-dH7giw-GSlDucUBec+exT+chIvdtoGBTQJlDs-d-ergX6+pEVpmXwg81qJHbdfUne4h3cI+DCxq09U2rjvVJfFHdLCZkrYvhFbHteQ-k27vOjc8E1M9MBkCyySHs+i-xdGLwgfeepM+5SggcX9KxuSC3ey9w0Yz3xYT4-1zq-ghaNKZdbbQPfW1ZAg869Tcy+kCWyG8d5jci-r6vcADkSX-Sm3PvtstNqXHvqV0vEnBi4fj3gmWQCCoXrP+gkfI7foZ5QgwgINwQINDkOkVkFoxYIN85HA8IBvpvN3aXB+ifhlFf0vd3WX6LuvZfIwFfN4Vfpf3ntYknqlzGbb1YhmXbabQq5CHgtOaHUfxPoCKnVsKfz1iZdAHFqZGawvKnI7Ss3fHbff-ODyQ-bgZ3I-xfd8FPI-k-ZJsPwsgeJR-PKntfzCNV4f-c8yJCm-VibgI-06u6RP0-Q7l-q6n6EFM94vNNZ-PnrPHn7NJd4l-HDEIy37GAVouyeKKy1v7LZ7+j-WnDv3AGGh0Mv-QPJ1y0ZWwtoB+Qfk-2gGBp5qkhAgbTiGi7IouhvBFDPXUiGNcB8gQgRQOdS2waBWA5Hqv177UBNA-OVXj-B0YC9t2VdErCv3bZcCeBo8ZAdv3Rr4cqBEmLypgL1yxsoBzA8bq+m3QzoL+ZCK5PhiChnkT+syCukAMvxoD7a4dYBn-mv4MZ9MrhHVCQBf5dUS8WECfisFmDsdtBtsa+mh1VRTINUtVBfh5DsHEBmGLgdzpVgcFrcje3qDwa4MMouCJMXg9TnfXVQzIheHkMId4lfycdc+2kcqCZ0RQgwBgFQQYCp0I66plO2gzrjkJ0idkihaCLSLFDqKlDHButDIXxzQE2CCSW5FgNUG4hVwYaGXZCG4T-QWcpMVuFqueE7I9DViWlK3FDl6GV42OIwaYX0PXxTCFhswhiPMJmHr4BOdoFYYsPWE7D62jAABuMLSoIJa2X4AYbl24DVUSOyaOqtFhuHigJhrlAqgZUmrdCNh1cc4YJTuFZUaqWhd+BEIqrmkYylpbwTDyyGaFyW68Z+HUiSHRU0c99S8itEfgMB1AIgDgKQENj8EiAUnQgGLRnSPxd+l9CkGiwOFVxTsPwk4TzFjpkIARpVbzGCIWo-CdairPutKAfroj34mI1PjiKhEFVGczQXIIQAMRUjFuXKSUY+FYgaC3+xDaIUSM7o0csIYohviUO0Hzx1RFtO0JfwQZvpyRrIqwVmAYysidRKneTk8PahCgfioILBOcMEScIPhR2SkeyKBCSi6RZwiLkuAuGMRIhkojkeBHHBWxF2gwR0VQCZGXDbYvEf6IwGCb8RPR0on4fPCdFRj-RnQziLGLIDxjQoG1XiJDEjF+ihK0VTrjICTDyt-+sQHruWL2DytPB7QToLuSLFOjwgVsUsS7ld6pBSRvENsbELDH1tS4lIe0UygLFcQixworsZBSky9jfue+Q5FjFbG4DJYOYxWHmN1FZBexSfFYDeFbHbjpg2YpIGuL4gbVtoW469gRG2h7iLxaEeBrbHBC1iOAafGqmoBMBeAWojAaoeIi-H0BuAt-McbfxdHkhGwCYqJuKl5SMhDxuYk8Qn3b5lsixP4ugNwBvFoRAJgIyIaBL4o8p0o6kR8fWNiHiY74mlT9pIFM5nR8sJ4rCRKhqq8BHKvQ0hM2IzJOk3eXeM8VQAZquE0oOscid0DZDdBRoro8ltSEZBpQcQfEvwPhVZFMswIwYccDLTNim1DAQImUA-yJBTxGJhsRsN0EZBsT9OrI4EYeD8DhAeusPU2t0EHTGdQA51AABJ2sGAAAQXADgA7WAAJXOqQAAA8m62QBAgIqnHFGpRMQnqIoJ6YoSrRPYYqTGJcY0TOIEkAnCKgJCCgW4GLDOBgpK4pILXy4mdAFwQUzsllMyD1CUpjmA6C0Jsl2THJzktyZ5O8l5S4p9ExKTAOSm5DipUEoSlxL9j1SGAak14q1Jz5NTUQnkGWDCNMq9DCpzU5tCFOLEGUZYPMPmErEyxOj68R0cGq+KiQfixpoCRaZZC9RawcxoU5VgFLUAbTUpUUvacWMRKWSC+d7S8v9EZAAAGE4JxxqCOQycGQQoR-1ijUBBgG+N6cKgcC3SgQV0v6UxV0ZfU8Q4OdlEDNyD-SyAnZUnM9J6SDDHg5woGWP3KhfTRhm4FHhxSwioyPp6M4QLbxeGRcOJnMQIMJkRm5dUg1QbIG9M0los8ZONGfvWzNDWxUar08bGjOyhfTko5IDZPLBBiOROgISZoSuAEykjShoWa6ncARlzCkhjM4pH1gxnDYFxUmeIRNSxgCyGAQstgCElk7Kj9x7IQIILOFkbjd+62UyGQi2ysitZOskJFdM76uEKgbUUIBakvhJDzhQE9mrYONnazTZdYZujukJ7diQRD4I0S6CdqNisg5wsOYHIax-41yLI3DB-XDkNBjsNI44Q2wAbvD0JBEIKCwCDGySNQBtUoOWKjAG1mgts02UmK2EsBZRpo6CIaLjld1VZm4OsFyKrm6z4+YcsHp3JCREc9+q4ZoGXOMB70zRXdPuSPytH1VbRgKdBH8GJm+jTwoUsaMdndFsjM5pw6ap7NzkRyDAgY6HoqzFrro6A-1Y8YmNpHJidh88FCbEGXnFijg4vQ0SSJBGngdBaKPAJCC-kfo3ROwjOasK9HbzOgoU7zPnPZGHzgxxcjrNKDPmgTF5XAW+TXLgwyiUI0EVCJOIJ5hj4F1dB+eoJTkDhnZ0WVILvHvk7yc6kQUAJ-O-nxyEwD4isc+LwWURA5l6a0eGJ9GuV759w-OpmI8gOBYF64wgHuF-Beyu6pY5HnhLT6vcJFfAvBK4ibGCLCWpIdsS5VtgGTdyc0KsYbQHGzyHKYiBeQop4DCKsqqikOZhFGihjWFg4pRLouoD6LfwBij4ZQrABfzIQJi6cZhA0W74ohM4pRbEL4Wpdz5G1G8IIqG5+hglpIQ2bEH8W4g4FZ4vGAa0VBniIlt8lYHeMN50K6xDCnhbxSulywuiUfEShwS6ISU3pIQzilvFoniIHZMnAMrTI4BVFBSv0uotUpaFwdVCuBB2YPJKDxNwQnQIWb4HzTzlghtfGLh0rpmkzOIdbIRLkqul-i4JkFXaUkDmVkBcQIihzEJK3hD4OZ-6cmelStzUzL4Ds67Gi2iVUSIJQIIxKcrgX-j0pSElCW8AqXC9NlQgbZaEtXBoTmRkQ05eBJwkSRpFVsQievR9Rt8VldSkGHUWeWMAHZSfYicZzIn3R9A3y6FLyioKWSypDAFydZAAAydrHydbBmiPSNkh0sCW9LSmLKkJU0loeFPikMTWpVsLifVKGhXSyV0U22PlIXDMreZDHTmOyu2XqIhK6KzFTivAC1SZwjKlaJytanTSLYLUKLOu0yztSzOnU7qadIymRKigwxN6YNItjwhlWiq8idjJKUcBtVZ0IvjVTraSrblK8loTNM1jzSrwV00puDSmXbKwVhLK1cWIOmSAjplq8laFMdnv5+2IMcPrBJWULK4x6Y7ifdCEq2q5prLPmlHV6b4wZpx7CmMtB7YwNRpQU0NZJ3DVnSCqSfL2BatJU5r4Jfq86TSmTpBx5OHaEFZJ1LWRr3Yq8tFq0GRAiTJAGmcoaWvnjghgV4fN+k6VbUOBC5MqOoLELERzpxsIa8Po2qDi2wh1l8Noeogr5VqDYQIg5QlPFAaTYORcGbtXF0lXIweaig9QGunYmdAgx07mYwHqntd+pzgKzAqJpUkIt1iEnQT-KEnaSgQyq8sOpNfXeZGw1XMZJLkQlRqmoGbF6PqoRXdA+pDQ5wCavugDrCgRUHEDBqKl0B4NTUG8vjGN53rfxBgBpoBvJkxpcN0sIOO9ibnWDOOHwYICDCBkNsb1LS4CWiygmMgHlZ4YXkcvJAzp6pW61qWLS0l+BGQ363EOpNan-q0WhGyXEDJljga9IkGvWNBsSJXSMNCgRDbEGQ2KbNVxqoaenVxlvTuAXsSTfQWk1kat0KcqCOcGyUlthAEq36cEEvU08SNUfXJa+s0Uy06hLmpzbbDqGITb1sG+gKlR80ka-NaGw2NRovUgb6NkUv9UxqEnDxGp-miOECHRUVTXJ7krySKvJApanJaW6qXipw2JaDNDTeLQ5uFasjwQGIK7g8Os22bHgjGmmueto2-SotCUsFe9iihsBatrCRkIKuxW4qmIvW4VZBKxizL8NpTErcyvexBQKtXgKrVZs4q0t8ANM3DiiEnSrro1O68DshwoYrbTAR1fgetqai2xIOS2w5awhnC7a+Ol2p9NTT7VwT4MAaS7d1noC8cbtumLRIdsEiIlkNvSkQCDTu0rKOKJ26oKB2YzkdTt+gZjqttnUGxNtZHHjhQyh17aYpgKvBPbDJjW4wYvUTLADvrVMcEdqHJHYy3nifaPY72sbb03B00yysRO9RLTrJ30xSdwBH7Rnysi46tWkMHjqdtB1lliAonOpNSj9GgbBI0q7mHavjVXgxFh0LAOTpdCA8i0FcLQHWoMQicxOyuj3jdoSUQ0jOpE0jeRPga2BZdhtWFbruF2QNDdsEZoGbBQgNBSdiaH7Vn3+21r+13AVXVoCLYgSFkHUHiJTEZAABOE4BslcaUwzdFXIPT7u6jC762-0OWK7uJGPrJalBckc-N3QuAj8d0lUcFEcaUx9AXvL3lZDQCF61NtWJhfjGD3dR4+HweudMHL0LoZVDCRvDNMDjzwXAPkFCqaPzqFBa9Uehvb7W4A3AH+te09R5D6XdRBlhaDBDRph0baWhn2+3fwAhCj6BlTAIZU7sV3Bq4JWvNgP0vH3+jIoaLaoEVE35zpio4IcPnbDoBFRGgVWzjrf2EBPxgY5aNBvTKEmH7+AkEqON2zf0zhB+J+97JoMnzf631KwWvRCG8jLJi0wQdkLL2qBiclk+TcjeYKNAtrGQCAuZMwAf5kDn+yiYwHukv3v7gaRwM1SuFAPghwDPke-WQ10aD0L9RUeA95GL1Z63GG7evurtaDV6YgA4EDfkJYCFCbNvUdg5no812by0vmoLYlvOyXZBDScmIKQfskkbBA-B0QCZ3HHMAFq7VNAIwYo2xhSD5B7yKAHP0-K-sehhg1ZEYNd6I9de8iZlhmn2rbxia6XS9DD73aZdumTSJKxoB1dWg6YgzZWG4AMAGm+cN5bEHZ0J9hYOukznroRU2d1CHe6YHfof1kAG65Ggziw0YG051d3+k8GQCHhiI9WzaoSa0FQPzLEBGBqQWlP9SZxv9m3Ig7KIHCP7cjmrfZupDETDVEC5I3Q-oawN-Zz91R+A-5Dc2gHnDoK6Q4gzwwsQuDJGpgPgAKEtQlDCfYA9MGEPjZ7NYhmzQ5skMR8ODQc+SjkdHo6pmjEkVo4gnhCpymDOesg+QaZBobFDxQ+gwwYnZNy2ISBhoJ0auOGHkVjLe4w8e8zd6-YyamVXYcl0OGDawx+tTePcPwivDPhgwH4e9iBG+WaEUI94epARH4VesGI7KMs04Buj6ur3tUPa42bREW4MkgACEGE3EGzYXysiknLouqnpeADPAIJSAOlTIMEKsguSvpEgUAC5PwADAOKeIDPZMHz2JFjjJ8GqLiZDX4n+p+gRbSwBJNDNyTlASk8IGpOJFaTs-eeGeSApFQyAINRyNQAABe78NPsHBFPkk6x4ptMJKfu3SmGhRgToO-AMRnklTKptU+CA1P0mAAbHdN9NCnzTYpsYjifSNuA8TBJoocSbPLWTPOPgUgCDXslVI3A5AEGrAHpNnloA8iJ+MIAkAg0AAshaFAD2SmG3AAAOwAAOM01ZEDMSmQzqQKUwSblMKmXS0ZqJHqasgJmBlhgZM1ZFTNamySOppTnGasiD8xAKiZk0X2sABnLTQZm06CrtPFgHT28Z02SRbOxn4ziZrsymfpMoA-T-pqs9OZrNQCwzMpmkKVB0ruBNwUZmM22cSIdmkzW5vs4qYpNfTVT7J9U3ScrOimDzRbWc-WvnPaRCT9+4fmeQABiDLEGtAA52JEAAImmbJIZnB4WZnM+2d4wQABZ2fXQJ+YtNtHDzhA48-acbOgXwLVkSCyDVguPmXSA5-6CDRHNjm9TWF6s9adrP4WFzXZpc02YhBgXTAEFqC+CHIvcAdAAAVj9PCn9zOFpi0efrMnmsQZAc88qiIvcWSLvF-iz0tdMvn3Tnphi9+cem-mDE-5sEBGeAtklzqjkfoF4AYQg0sVYGEGg6wosQhSTDlSIyDVJPdQ0LGcHk3ybT7cBiQpIUS1+fEsnBdLuehs+ew4sXVTLtwCy1ZCsuqarItly3kMyos3nwQWgNQKfOUDPxNTfl7CycYkt4WpL9pti06bCsmWzLUVxIjFZsv0niQwl309lcYuBXmLBV1izJZZMpB5LxliK+ZYwvghKrcVuC0+eVPqW3zHpj8-Ve0vBnJLtp8M0SaMtDMXJ-QdwDUCHMVWgUKQAay6UZMPU2rbJlM3KCsnGyPL-J7gGWaFOTmxLuVxq1NbnMhX5TZ5Ba+sHoDJWsVa18JnZfPK6mVr5veQKOaajjmrIHnOUMMvGsBWsAQV-S4ueKv3XFrT1r6y9d4DrX54OgXcyDcutg2mr016S2efauXmySD1pa89desbWIQq55K3ec3M9mJzU50G+jeut-mCTp52SzjbCtqWqTI1zSwlZdIAB1d+CwF4BRJwmVkDySCEf1U2LrVpnSxjZusynDLz-M8jzdIB82BbINYW1QeJvghwApltk4YA4C8XLqhAUANZP6AG3eT-JrS6DfBu3WwrCtpW14EFuJFVbot96wMBOSnyGovBa0rAn1N9BIwYt-y2jctsnnHT9a+W7zf5t22VbIt+i9wDxC1W6r51-2xLcmv5XMb9p2W+ojPLgBO2PcZC4kTta8HNTnNiEFzfO3mErI4AdQPolABYqhAb5wU+bYDtS36bMpwi2SSzvyB8Aud8EPnY-NF3elTXG6ZXhBpqAXqMgEGlVxunrw-bOVpO4HcKvB3lzQzduznZGs93C7oAEs3HdRuz2m7elhm61bku42l72dzu6vYLvq2bb4d+2+CEdv0Xt7QZ2myneltp3Zrct+CzFFfE9XeTvB6qO9YTN6gnLVkN1obffiPxRA4AdCwKa9MN2d7dNvey3dCvpmP7fQL++ezz7O2B7-0oe1Wc7ZkNlr09hq4-YyPNWALRVkO+-bzGSAQa399BzHdOvx3qbjduB8FaxtM2LzYV6AMg6occm0Hv9vu8vdPs2Xz7MDh+3PYXPp2wr9k97lZGgvEAubDCRAvw6ZNM3drQt0+eYHACNjAgHFQSyI9wvEPU7C51u0MykcWMZHcjhR+rZdvVBQQH8EGsYE7aSAnTBDia2I9IcL3JH0jmCxY61jVWt7CdmezOd3ssPCrB95m2eVMdsAyLPjxRz0svvK2hbUduM3o5-PBOIbsWYQDMeMeUWAUg5-U0aZNPq2krX12i39bvsBPCHbjsEBk6yeIP+zuT6i1ZANPGmQgRThp8ldSuqB0rmVlxzTaqfdYXlmThgNk4hDFOaLP1ui8k77tjPhzEzsp19cBs1BgbFTia0Q9DMkPqngz2p3dbJLWO3bHnVEPY5MDxBnHzt4QK7dsce3EiPQsQN7eIC+2UnhKkaQhg-GGBTLm4IAwUapBFGgQaBpAd0ebGVG8DdBwg8QdeBotoqTLA+OvrYPhGq4cKqIxiZmiyiBMSpSFzFOfz4BrqJ4yvKoeTMy7NorfENZCZPgIjM4KJ6Ni5XmryU7hCJ4feYE4G4OJBWwwXaTsnAJ0ZV4uoen6Cl3GQFO1XOpCS88N1ITa1vZ1CTpcrqqaX8J5aQSi8FwmUlMQSZCkJcC8Q3CujfQ6DVcPvbwQjL9fqPAnNo9UT8L03X7AwWeprdxkO3Sah+16vuB-fP9GvrPAZxldHFO18y5GGEqkOQgN543nxPrsyHBiUqEtarYKAbp88d1w68LRNQbpPzXQCjcnNpg8AltgNx4+Dd4aY3-0iN2IKZdRuBcYb-6XG+RsiWAnDRhysMqOBAA')">function javascript_value(args, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     head(args), frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var -- " +
			     "javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  <kbd>Execute</kbd>,
	  which applies the predicate to the arguments, must
	  <kbd>eval</kbd>
	  the predicate expression to get the procedure
	  to apply. However, it must not evaluate the arguments, since they are
	  already the actual arguments, not expressions whose evaluation
	  (in Lisp) will produce the arguments.
	  Note that
	  <kbd>execute</kbd> is implemented using
	  
	  <kbd>eval</kbd>
	  and <kbd>apply</kbd> from the
	  underlying Lisp system.
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  The function <kbd>execute</kbd>
	  uses <kbd>evaluate</kbd>
	  from section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF> and thus
	  can apply primitive functions to constants and instantiated
	  variables.
	</span></td></tr></table>
      <span class='comment'>
	The original is more restrictive here. We think that allowing
	primitive functions to be applied is at the same simpler and
	more powerful. (We could do away with the syntax functions
	<kbd>predicate</kbd> and
	<kbd>args</kbd>.)
      </span>
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psHOyXRcoGCmou2aGe1Sr6N3Fg37T3DYCBoQWBmexdKBvvcHJB3CdaUPLg95Jg66PvIWF+3S5BkfKB0wvockjB93VmP7Mh3CVBqh9BohuhkQcHRhoQXBkw-BmHfdWh+BzxIqTwBsESMMRgYca6Fh3dQRnAMClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDaB0nTVY8L7YxwiIeaioTWxyx3YtTWwA43404yEzGwg3A3Rf4NjUeGx8crxu4GE0afiJUdmfTBQVrP43h-80iSQUgUgCYhSU6ZQaCeJlqhgZYs5eJ1sk8BY0IXJ5xYE5YuJ0gO2okXJvnKJ9wwiswDqHwP4kurcRprGcgDWgwXeGJ+8I1LwIE2qr4kJiUBwcJ7GDGwenkVpnvMYg2IEnQE8PvcZ0WA0FgM5ZiEx53LHTcBKfJzQk8XxvHMxTZ0AaNX0DWck5dTZvQPVPx-dC50ADatTYIH8ax9xwTQ5jIk8R5myUITRuJ0YXRicAxlMTZimQWaEN42XRkQ545hcLNFoLXRLSF1Zqxs0fJvp5YhZiiJZl5tBT6C5hxlhBY5xpEqtbNeF-LJLW5w4hcQlr4jF3bA8ZZr7XFpFySRYgl2ZkFjF2q+Sxp8O2pzFhl5F4UPocw4FtEGpiZ2qiSpeMxRdTZscm5pFvliZ+lxgFgBKF0bp7wMVnofJgAcmcc3CBINd8fBP+Lcc2fmYLFFgkZtFtbWfJKSDMexcUHtcftsjr2GDGH2OsoamvGHQaixAPADbUyRjuB-CFcSi5cXTdZTX3VjbpaWY1YlbqZjY9EkZlPjfTbmpTYontaCNAEbubtIFbtGCwLpCTAhi+jWdVwhcOG5C2ZqpPFrbfU0DJbq0ZAbfdcCAxqLZhBLcoBFlSkokrdhEadwZ8e5OoY4NpEbbr0ebuwsyenVRnfyEjbzG5ALdteKCfGpBHa9FhGrfJTDjBZmLrYWAbb1NtKv15NUlNGJaszhavwRfrdne-IRtHYcBEhgk9gxu3YfF3f3YhnHere-MThvZbPeYkusfMMXQrYPa-a9x+mucPXg4hk9RgkneFa11veTXUzkV2fFbQ9hAw7Wl8Zw8g7w77ZbsHbLdg0I91akqOgo-sW7eMF7abv7dLeHeI55k+kveTfMJY-qHDs-dI5YjcX4W4lBZXZaEvYLKWnnZAIfdk6UEvck9PIU+zk3eDN6Tiw6i6iPb4fgPMIbesdYbXd8dsq+k3KvFvGCPJdZgM-wuqbAMASM86ZFfDWrescIcs6nes+5Fs+agc47ZEDc64XfSjKDcYAnHIGoG0nuHjQmDQQbaoec6PfeZi+HT72S8xBI9i5UVczS+M8+13Qi4nbEzwHtwPBhS2H+GxqwTIh3I9XIFwDAEFUgtIF9XbANFf2QgcHxRW2T2T38Gi9hCTEUBVEmdMAGEYE6QdcdVm56IW6+dACluKhBY5hkCm9EEmcXUXWW-m53k6JsaO9W4XGQQm9IF28meXXO4p1HvxVO3q7uEUGDUiSTAxFe+6lUjr0nh+4XknNGlpIRNu9sB4E0Gm9sAmwLOMA-joEIFKB+89ixEm+h8h7jcPRaQn28e-IfgG6R5R4yI27GD1LYXeVJ5ATKik8ER6A-nO9R+u-B8lQVbSyJ7+UDPtR4kZ5J5MnynFrJ7h4+CWip-uitOF9JOznu8mBW-x6nIrmDKzNx3oGDfB8x+h9Z4TI9HJ9AMJsR+R7+SZ7oHR724h7Z77hx5+65-SHVgN+J+TVJ917BO7OXSt7+TY56HMKLQx+xu8817zJqFIRvqfv3Xd7x-l4l7p-fkJt5+jNN4oi15Qw57x+p6iHVl58d-54VmKj1P3h6AcFGGT8N4a6wHz4ZPMPMID+19EDKZ8mL+t9XXL7tk0+j4+EL4n0PXO8D517T6riDP7+TOPmMvkG67oV15MxydB4KAY5MThNyAKGmViDYHecKgcFi9n4MlCDX+DaOKuNqhYGC-s9ABq8BX3J+4tJ-M85H-IG6-osJtP7q6N9Uhe7+Xe--A-la89kf7i7f-U3hJn5e1ZI+QJrqpB-4qIfutVHfhvxAZxY2chUckF4E8aWJRCNfGeuYUww99a+feUoAgNrKYYUkeArwGg13S4DgYxAnAUQNZJRwyBiAoNOl33S0ClU1TJgZQWro3lMBTAHwlQzR43dOBgRdhg5zqTICPeNfNto4SoYFFi82kKgSIIa5oDxBPhAthcB0QecJC6FSfIziC4PMouLqBOiMGuCoxtB+hNpFuXnw-AeyXrO4IwGDTBN7cUjNdsLxPY-BQOkvdJITVYGeAgkVAqunWBvLGDHCffTnJ4NbKk9lkoQEgNuREg6JLBJkawTZy4EBkmyevfIDaE8GnJPBNvKclJ2cGmc32bgvXJIW84DBUhLrS9poBKE2g-OVuS0rTwTjadaQafX8oNE86VDq2BbdYtahYBS4uoTeCYNMCKDYw6AmPfoQZU9R0BYepXahsWV6zWNRhgwkSBMPe6+NYOu6YYXX2QjpNEYXQnoaEXmFDDthiQTvg4l6ye8taUQfYYsImzVNCoBoO4E3X+QDChhIwxwGMKuGLcsc6wuYa8IWH2BJUywqdqsPbKnDpk73a6rcIPD3DaIlwxQJcL+HvczhHwMEYNU6FHCUMvWGElGVRHdD8A0wVQO2GLonwZ6uI+QMZGLCmBEg9THYfTRIB3Ygmx8Eka006DkiuhVIxIB8LhQUj1W1jTQnsxGCQjrU0In4djHugClDh6rd1siOiqMiyR2Itkd0JExcircenfFCESbyIQz0ciKyJwPFDQw3C5KAJFQO8HkDWS7AoovwMCGecQhfPCYDnzGDWM1RaCHUfIEUFJDARpIg8HWGcpj90hNAqgTdF1GujsBT3TxLqCZFFhvRbRMMZoEDGJDa+VDO0u83wDzoJaW9KIPk2TGbwJaVnd0Dt2jGgBdRegaxnaWMB7MMMMwMvPICLHitHRVdZwDJC1HIh8xsYtwmWJ1DecwxegaNF5yOiFiYOHoiMaPzaLLpOxiInoMukLFjj0gYYg0F6KHEutRxIfDyIuknFLi3yjhZNieEzF3BvWHQpVHcHi5HJxRIVdAd5yapSiXEvcEgo1n9TJhMQdYbLpCwK4vBNA27fMdu31HSwP4kYvzIj0UiewZxno2wJGNdbZt2x0MR8bQE0BrjbIH4y0eoN0JDjfxCkJSEmJTHeseRI8KdiyQPG2JjxP4rKNeM8SEAHAvgiYNSErGrlCh8BM1guKrFETWYrXFkZSOm4a89ukw-xPr09itdbubEooBfk87fws+towXn6E0LOI6Ayg-nnu2h6NBKJH3QmtN09hwcqxZScfKoOm56B8mjzZxNNzWQHjQAfRAABIW1bAAAQXADgALaAAJT6KQAAA8g7WQCqRNC2hUaPgDMDdd8u6-WhIBMsBBiZ6JEkitJMomzjG2TEhATSAw7Pi8EoUz0cmyYkyBKgkE+gH3kSm9xvJwbWKTPWMmmSLJVk2yQ5KclpTuykU6kNFJ8mxS-JxAGekxLlFlTbAsk7rNVJujNsYptAV8NiN0EMiEBmUwrskmqkBSqG2IuiHiIxpOJdRExUqkcW66TAcg94vqXhEmmH8pK4Y+qHGLr4eTb+XlFKUaEGkbSxMBksNpHRIB9dVIAABjcnHwioN4asApCS7gsYUlANBFnnumkhTpB4T2MdPen8i7KyxHgGpPeTfSBgH0xgH3lOw3SfgKAuQXcE0DfSW2E4Z6aeIngLsmOx4eGY9MRljALeMM2vpiNGimA24UMv5HYEKixR7pCk72hjLPZPSxgGhB4ndP0QIyVEz09-mkFGjbD7gN4GQCmBK6mg1UqgtLvdEVDSDIZBA7QdTJly0yuSJIPIf5xRZoyl0pgLmTzLKFvspxnM2wNzOkAphqh67ALo0KV7+FlZWs1WcdIYkiAJgvQzpCuAva0g8yATVAZ+PZnHxNZ2s3mbr2cGCz449oZUrmKIKcZ5BeMgoTLAIbp4ghNPVvssgCTGi6BvguiI6QCkRzQ506UoKEOz6C8xSoQZMarDFKxA3Zqs30d-lKBZCgyu8KPvUKdymdqxtkUIAXJ1llDJIVzeubrIEb6yzQsQHOQ4CaFGzqJ7UE2e7PaEhjWYtYjUYJAZD-BcZgfIaV+I8FGjVI6Qs0dmgtFKC0g6sEIfcyd7C9RexALYsBPnFFyaghAk0TdBgmBBqgSctMRLy9kVjqgUsWWngEnhPzHYc8k0bHNrJLyWgF8jaWnyWgbzhJAvRWMLPW67zIS+87aVPLPmHyYomQk0LvHgXGBWxOUWesIM4HfyBBJ5VWNJ1hGiBrZdgQ4N-JXlfk3sj85+VL3eRbj0JczZWHUPIUAU56K9NBTICTm6dYSJAPeSBPyCY98gWvZ2QhLjE5Ntx2Y8VpQqzEYSAu-ssvNwomzFiRCbY1QVwprmJRR5zgceXCEnlcLsavCxwvIorE8KlF6YlBaETHnMl1Fb3HhdjUx76i2qYAJ+ZPDbGV9esRzGNGGiOj6LrG7CsBSBJHEgjZaI4ibFOMCCeKKIIEuDr4vOEfA4OASs+biQ3G+NRFO46hSqKpx2BjpPgYuOASoaK5wsxCDJSMBQL3SCKGwKYCRMZDmyZGHmfdObOqbfTXM5SqYTA08xVKKZ7cjIE2xkDcyigd6dPE8ynYW5mlgTfGeujzqYhGZSgY6a+LAn7S4J3A2ed7SmDWo6wx0r6Z0AHjEz-gpMhYObIiSE1glyE-8XewXB7KQJb4gcfVBgnFLZASWBZZQnNmBKogMygMoDOnR7KsogiqhZhMQQBdEU9wW1uTP0SuYblSyimWcJwlmA8JXIxQK8t5AoTMRBk3KbYGslngAAMhbWcmXitCsJLaV5OOl7SzlM8zzkFLIk0g4plgcKaVOkmepcVpKmqb43SmVBqV1TelWMqNA5STJiKlFWipKmjAypVK+6XirWkz0Rpy9NBE4jqnHiGpTUmlRsPKbHTOp4on8Gx3FWQqPm+xOVV1KGVxZK61K-aXws5wjTGR40gyMssGpHFK6EoNJRMtWmziApbHbFV5R1X4qDpe47ur8uzagSDw+dJ1U+XFFCrxRo0+QEap6CJjoq90YVUfT6HCjRVPpXqbtI9WSNwJNqjaWcIvHar+V8ar1WtICkc0fVSogtlTB0burbWQY5ieqwNGE1XQDNVSDxIy6xsTwBa21pfz7mgBK1JAdOSJKAXis4QrqwtZ6ozUlrsRybVtQsAq4ZqbouaroRbNPRlS3+nYrJZti1Z0S-AlzHVH0FUEqTl1HQ+LqYEWksy6wZUs5O1JqnHtH4my8iW-xSk+z6eikvbp7ElVm85Jl6tPh-ASaHh7kKU0tcnR8jKrWR03QNkevlVcim1nNLBLd3-WVSOpXU91qKyPWaALxr6wmR9CPWlqshFcquEI1ZgqAeiEyN6dXQPX1LOJ3taqZ7EuWlLDg2yteaeuJXUhZ1Zyq9TH29pKTVI96iiHJJanPrCaCG+5N9OxFfqPIP6liXtwKV3BANXQ4DUEBAF4g-1obe6aJsSCt57Q5hK1fBosCIaxlKGycmhqv7JLWYeXb6T0V3WHBL186sZYeog3HrrGem+6WZqym0Bk2eXFKTZv6k1TcuYwb9keqc0vBg0WGndR+rw0hSn1hG2SBUHc3mackCK-KTZLsmOTwAtsCLZZKi1FT0VMG8zXBpaohbDN9AScktBPC5Akl0XNzaZoI1glt1OG-RP5vIn-LgxQQD+BltxWewEVSK1FbFrSCNbOVyW7zspvS3SARIuK7LdnFy05B8tUZJBtQDJnYNuGA631SZrAYTaR8c2uHLIrWXYjfGo2smVg1oDkNIcC2n6KCQbXuq-sC2n-MQC227bm+DJCdeyLEySbaqXrfYvts9UgE1tLm2EmQzG0LAuGV9KbUqJm2kMbAW2xkJ9sW3iteRU7CEXXUFGPC3h7dQyD8t7WSNo4Owf7UwyB3IdLtEosvoVRapvb1t7CVHbCOR3cM7o529cctt9UtobtuWxgPdrh2NqYx-297bAJtyiBRGqMLyHGJQ3DT-VhqgkU4hDWY7lgMDB7QjpEZiN4dNoTDvcqJBgrDxpa-0njP8Ak78YMuiFayNbEILYgmhOBekHR0U7QNJ4f1jTrcANhxdIBUXQoCZ2eJqOA7IdlHHZ267YYLpbnWNN51mh+dNSSYFgiUBr896hg5hAyTlZrRx1Ihe5eYjbYZUlx1ncQNBIiVBBGodnFqGGKJJ2V3wamJYmXwQVx7rd3HF6BG2qKhAVdR4yFUgtbAYrH6uupmJTuz20dUoRur8AoFN2aBq9tu2AtoW-HPhxgNgEyp7AACc-4UaMZQGFy7omyvfFIPoMqlqq6BoHwJoGPVt9nB5JFQPRuyGad1YVgDIudOd6BBx9NoPVnqwahoBD94mn8rQrNA76XWS++XkEB32T6KQWqEaSJhuhWAPwu+RXoP2MA36Rpd+iNJoCVB7sd9U6siNIE6XdKYozcbDd9snUJj3S4oyvfro6UGVQD+FBqMLpVpAGQDu2dPLzQ-iFRJNI7JHJ7BPC2trAxASTdEGoVRlt2YwX4NhExhAVKZskXA6AMIqsA26TB0YBWyRyTkF9jqdg8vuv1d6BhtVd8B+BRg9EU0DLQqGIx6jJVNNp+hjbJFdCex-2j4LYHu146VjDQ3u0g01z2K-gI2afc-SeBEMfhqDeFOyhWRIOSaZD74Y-R-sEMGVV6-LcXa61LkIQeIH6+Lol0xBubsYrofgz0Cs36IDNjmhzchtcz+Gr92+hwzaBPBmSj1ZEXw3TPi4Fj5AkgUABUQcBoA7DLfLBW3wEN6UhDxhkwx+GINZQGAJR2ww1ByMFGTKcupxCNKDUGR3dPkOln8oz1BAfd2wP3a6yDFwbo9oAWwC1V0AyrUDvRk+PuPBVF7WRmhNjJH1NBUGaDB4NMmzPQ2wleOLh9g1YQPDlA4QbTOZYoeUNgSAOahoDoe0cgOAUIOhpSHoYMOUbkItB3Y8rTuZ4c4QtRYdLryMMiGWDCHFtdmysNNcZD-UNMbUaENtGi1IUXI5VGaHqxPDCXUoElySOuHdeQR+4CEY81hHzNISMJJEbT7qxHjNZDqC8dUg3YsxIwH8CHK+MmHoytmiukkZsO2G-wUJgRM0K03pAqT1JsozCsUgVHKjORz-ceLDX+qmjC4Fo6wnBN9q1xXRgwadFdB9GHj4e66iMbOFjG5TExrwLhOmOUjZjNQ7TTgA2N-K9W2XM5G5ulCKA68AAIQpDkg3N4bBqBac6CKqm24AWQEkEYDUFe4yBtTNZOekepQA1k6gPGhAI8BN9hEffWpjeNlhS0Bp91UaefGKAKa5Nc09ditPkAbTYwO02pgdPEAnTdeAfF7up0NQbwlAAAF4zBvWbGcM6SfePRnmACHFw3GZ8nKAZAMwG0JaetPPSMzXpk8NmadMAA2c6YOdDNVnIz5J3mjGb7WNm1eyXM03XiMlxMVQhZtTGZIgiwhJA+xWALmeuzQAnMvwMYB6n2IABZLEKADMks1NAAAdgAAclZhqKOY+P-gJzCOqc7FwTNJm5zC5g8PsRXNdK6A65hqJuZuh5nWDBZ-YhW08BOQ3Teekc2SYfNYAnzu+403+aeBtnrs855MF+Yag-m1zG5p0ygCHPDm7zsF2s5+wbNIWCgB4agib2PAfmMLS5uI6ub-O4WgLKZjs7ae7O9nbzEZ4i+ObrMQwyL8Zmc1WzrwAAxamvsWgBoGTwAAES3NdUdzZQPcweawtJAGA4ATmSGzWxhmiLNZ1iAhcUAvm8QiZ0oMma6piWKAElqS7JZYtdV8zBoMC8wAguJAoLXF6s1Gb0t8XYQAlps8hdbOmXuc5lkNieEkv7FrLmgFbAAFYhz2l7i7pcfOeW7Ahp8i11HdM2Aei-l2qoFcsuhW5L3OVM+mczM9nHTrl+86WngsJXvL05008Jeux9Ebw1qHIBSH2LIrGw+xK2jZbyvMlDx+xC0wZQgD+x-TgZ71poElTXCdAMFuK+VdItJX4zxljK-0XqvKgmrDUFqywDau5XaqdlzC2pgUDddd5pAa4DmZKs8X4r012M0hZbMI668dVhq8tbUyrX1rN0SVFFcHMxW3LY506-WZms+WKLqV6i-NZutLWgrD1hqO1ZlZdV8rnZwq5xbeulXeLZ1yc8aaEuHs681k61CbyKj0XkVQkGwBtZPAunniqVz0xufFqGTlZg1oM5oCvOhnxrOl9y59f4vfW1ec11G+jdoDbWTw2NwgLjY6ubWQL9lhqOBcgsc3EY48IqC51hsnWprX186-Gd8tXXrsaNmEOzaxs433KN0FbARcluTX9Lhl5QL9aovpXWbytzG81bVt430Li5784xf-NqZAL2t+m-qYqtM3XziPFK4bZousW0zUNji8VfBvc4AA6jMFKCEBkw7lBqPZK7C0HoLdNj607YRvPmkb1VlG9diDuMAQ7Yd-YpHfMN43wA9Vz03QDuBSWBi+QUAEZOtSl2AzQZ46zreduy2mzLN1O8HdDs5Bw7ambO9Hd5vNsxgGEXeesVbZqZcBngfYjeH9SOAY7sVx27rYusoX5radjO63aztR2vzN0HgC9deu03J7cd6W4zfrtVXqDNVrquABLbZBlLamC2giaOv+3aqAd96NpgajgAeu1oUAMiuGBemQzNdqe3XcRuzX3z12Y+8wGoBn2TwF9v2+0viaN4PAw92fL6lmL4B9iJTSB9sAnvvW4L09uW5ddQtH2T7QD7s6A6vugALz69h23HfQc-X3baVz29g8AfAP8HeN+ey3bbsngO7K9kh3BZ3teWXbeIZG0aDrzQBngs0oKwGYRMwDr7DFziN1YagO0y7MwHRHTPUvKyQ2PAPs5-dIff3E7v9ky3w4Ef+ohH5NYNnjcQenSlU+xGjthFNuqO0H6jxCxg9nvaOhxZgfYsI4Mer3qbG9ia1-YTs2PyHlFyh-Nf4cOO9HIjj42I4Aen28Hl9lB3De0JkP97s567GZN2ihXRAAdikCE+dOunfHxNiO7vJEDgBcxpgEAhFcsckWZbP9hu3-a6qJPe4yT1J600Mc93CociQFKY8mAFhWzUTqW7E9duYP5r1TtSg1GkspO0nTp569Fc3uoPSnu98p2rzdu+P-rdefp7U5Gdd2GHmdiO8vep0lP4bZTjR02YwRjAEujd2y-zY5vFmyz83PG1tfotC3nLrDiZ9E44eJW97r5g50c8qfc5rnI90s+WauenP6Lu131PtcOudPJrTzyq688oSHPbAxzz5-84ctAPhbWzsR188FuOWkX+xUW+LQlsPOpb4Lrh2jChfvOtH12eNL3eacD2bsbTswB067tkumn-dl4PsSHsj2x7albZ1dNYKe5hgdAeq8eD4PlrvaSh1SCocA4aGLj2h6w7cayEXkB4OSVU3dkmOy65ROp55fAXJL6FKShig3XcUjFKpUjWwXZrvAOjWs827q6U1QFlM2ZXCIhZDmHoIDDHNVqo8qQkyMGzsqGJsbQYoS-rk0qQf9XED5m5f0A+XBlr1s2dnspWMb0EFgJA5ujN66OR8xIJA9ADRVNb4zvVqxDwDT2V68tm0JG6glkQY3p0uN5xxo4t7E3RbkYCm9fxa2JnBJhwP1CAA')">function execute(exp) {
    return evaluate(exp, the_global_environment);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:green"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:green"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQT9Thj6hrhpBcXhFvD18VyApi9+zxzzB5eYVS4hMr1fNwINhhjgPHsYc2o2FlNjBIO4ZegxfQBW-ZYapnF-8CWViArq0VxrqWP7pcSy6s4sQ-OCIC5s9tEMOvbwHtZsrOaKtQeqyq4Dddv0NdipVj6qdWvXOGmjMD2Gut-M-hlvrEU6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GRmtbVy-5hWzAxASGEAwe+HNKB9HuGIYNw6sKfYAGTU96P0J5SPxLslJ7jrHQ2fuGIB1BYduP8eE6A9bcEgaYGDeKWt560y0hc8+zz2zcx9BEULsZsXnE17leC-9KivPyB49qALncQvks6WM3A43TXufLCCgrm8Nukwtv5OcM3GvYv7a16+a3DPFf26V1tR3j2P07fGx5matm5p8-10ToXQeVvOFF3AmPrNsMS4x+7q38uve28z-b-D-uE+jeW0nzrNXZfp++3bu0vv-p5+x3NdrsfkNp9IWHs5uv+dR6OeCevRfUTx+x93tdjWU+W+b+X7PdoK+p6cab-vsMmaFYb4wN3oex8jBvFXp9ayOfktOsHZ2bnLaI62trlvZP2+C87wnffezD99451f0ObMI7GJH2+77NxsQp6l4G7gk+HdQq9V30TiYxTlL1HwTD-w3391Vw8ncXfXvVlWPw91PwjwJw7xC2SXM3tRNwAOx1cxvwOSPybzfwgPHynxVzgTBiVhwXoF2XNkP1fxDQTHDzb0jwvwwJtXBC2RoJOlNgILjxnw5y+VdgeVqEYKCimUCBkA5jxEEOKWEPuUpHENs0kMqA5lJFwKEOBW+U6CXiQLLwTFUOkOth0AoNr1SHHQLn0PALcVbz1zQPYPGmSUsLv2KV9kxXhSsKdRX0MKA3BBcO4A5U0PFyvVrgs0XnrUiAGxsJcD-3w2CM4j1VZU11QWQNX0ZzGnk0KTgTvWSIiJxRP2+yryyKd3MJHQxUsIKLSOYPDXRxxQSNgNSApXVWwKqIMNsLSDqOKOgMoNhy5Eo2sJiJx1YIcMN07wo1cM4ncIo2UO+yJ3BAmMCMLgaPMAY3kUYKYMDDiOV3Z2KTXn3k3nZjAJII6NQINz0KcPBHIWoC3gEJWPSX8xBXc0bx8K2LIJbXuMEAWVmNILXx9xz2VzkM4kaWaSIFSPaI-QjX0DBKBI8j1WGRhMKN+MGBhM+LvVBNGVeJcBvFRI9VOyG3O3kEuzahu06m6h0ADxxwuWGjVgp1s3AWZ3OSNRIw53cIIQMWfyjm4BU2RXJAkL8O4V4X4TPnBC83QifyMS5NAB5IVVKO3y4UUCFPUQIRkDpO+xYPsPONPiskFL4WVP80mLhMeI5MlJMTVN8MpSkO1NAFkM+NkXWNVK+wtJnCtJkG4A0OyOxxsU0XkHsWFkdLlzmNKVdO4FMN2KmPs0c223oGCXNMDHmKjNFKE3RkXlhKe1SCjNqwYjjI-TOKJ1eiskTLTJcCjKCQcVehzPpz+LtArLMI5wri+HdnWk020wcVKz5NsxvFlJgPMD1TkC53bKyzeJGG7Ly0cEbL9hYAUXDi4GRUKA7O+ywn7LOllihUbBJz9jZVHRbN9KlkZCI0pLZJnKMDmyRWfkrKp1PPohVRKJ7PSRnKaxMRnOeHnKHNiK92XMYk9I50-KiyfMMRfOiKGJvE-LrOKXU3UVsV3JpSvKrE6CRRYHWE3KmwXMMMmjEBJxPKq1QWZw4HWkwtPGjXaSwiPJl1gsIuWUQuME0wI2aDwowtUCwo+lQQAB5gR0KCL4KCMYh9ZSBzIIQAAVG6OzOgXwL4sQXgBuJsA46gWoZocEUAAAahLSsT2hJnWiFFANPPCGUqTIUuUpvViA+HUrEE0qzL1C-lXFMj4t-nBCEvwCamIEcnEskoiOko3lkuEHkqUpUqsWMvezMpT1QV0qsh8sMpiH8o0pkBTgorAs4jyiayiyYuelC3JDHMrEJxumxEHOmDLQrWSr1GvPBJ1VPyhKCu4t3gzkyqIH0HCpUXHPwCbLEB3O0TbKBgqpUmASqxHCrKeW0rqtmC9worquaEPRxiIm0ptBrK4sE3dRWAHAzh6o3PKNxCgtavRlbWmASQKqslsienKA6UMXyW1GJVESNGE0-MZD7OPMyz9CCjGtPgfKCseoArFLQl-IqVAtmrdR+pOICymmquyuO0pPCy-1Szm2vNSqRGxyqvRCBumlfSamxweqCqKs2uElKrqPKptX1gBrhtqqsQbMavexar9LBCMxtVGrmx6oV2xrjlKHggV0IuvI6oiQeomuwuWRvFisHVAB1EVVJUWsZNJy3IxTWrJvRqKG2pT12roH2pEEOrOhyWN2OqfB5TNVjEbEuqBGuoHL6xKu+wet-OetAreqvA+oYn-LOkfFYmfVQsDFhqysqWBukCRoJKaiJNamuw6juwwEpIwRJmoVwXwX80cSRNOJGK1KSXBCoRwTwUNPMFjpoT9iwQ3m3XHh1mEXDvfOrKyGERV0KkDrjpDvdokyA3THmLmCTNiDmFXD3Xjj8I5GrpiA5DrtU3mIwmbp4A3Dborr8Pvi7vvl7obp3A0lqMyCTLR0yGdHroaHmO4kMA3nIF8CTIXqXrEsVFnqKHmISWboSVjC3sKHmJuBJyaRYEMFFJPtUDPsahWEPtiHmMUq7tiH0DVm4F8HCABAAD5QBwFlKN777Jk-DPJn6YhX737P6f7wEfIAH26-D01phwHQAP7AQoHQBIRkGYhAG0MwRwRgBQGDA37kHIHf7QAwBYG+7R6ABSAhpBlB7+0hqhzB0AbB+Y8SZ+uhkhhkqUD+uB0egAQklA4aIfobQcEaBF4codwZYtoZEa4dADYpiEkZHukYBFAc4dQdIZYqBGIb4dwa-tkYgc0fAR-qUdYb8K-rUe4CKA0YYZMZ0eUbnr8P4YIdIcKAYZiH4diFpPTAKmEyTuDoEQLEfMBBXA-yGAZ24ACdoTPiyMLqwWLqCdinwBYAACsTAnVQmVhwnkRNGO6i7k6ky-987sGihomS6CwsjIp-GCnAmdtxMcGtw-CCVagkyWnUwzbVLGnwRIA6BvRjYV7rHen+nMlSmumH6-Cr6GBYBIBm6pmZmxnxnumpmABRLu1ZxZ8Z+YgAOXIG2YId2e2dZr0j8ZAx4FqdoSDyCqyemByc0YV1VKiYub9nqdOapHKc-TG2fhuYaDuYYeKYvHOYSeTs+YdTTDvNyUoWeaSczqQXEvOMrPIVxGqCkxlFIAoRJtSfIGrHLRJk0AJrQg+dTo4ClnZlMXMWYQRaOCKBZJCISEIFJsnkrIgoJ3Fp0TQnXgXX0A+dkVRt8qsQ+aucmomU5ZEG5ehdkRSfSdMCRTqqBaDsuYLxnHPM6diGWtFtWp9PWv+l83XNJzEC+EQtNi1bJq7XjAZbZYcXBfxMqY9paiu3aluwwD9ohbeHOXIFMAYHLg+HKhuFIA7jq0rLRz+03D-0Dcst3kgPt3DZ0uSQYH0rUoCuioidzqzJJhIiLmaDDbnxIk+O4RuBzgMS0EZxMuKqGI9eUEkoyA+SMGQWUGUBIcamUv0ArZ6vBAUtKHbdAHktCuUorc2b9HbaWNLeLPOckEyRGhMqYTfmndEMoFGciGgntpcEirEB8vBAhB8vzedmMCLbEPCdfjncyWnbpV0usHBE+PNnndxEjgUBbeYSDfHqyFfiLk7YjV0hBnJSAxfdAFp2UjJSfe9ztBffCGB16qA+fYffCHEeSWKHhBXFKBTcGB-eZ3BDg9eWTPdc9e9dij9Y7hfeMmaAA6aRktuPhh-b-dXGOi5xsX4PI6g4I07c3eUqvYxVvaQ-vbfk46cTCtXAUoTa-0fkDUIWCYP0IO49jd0X458tY5vbIDvb-2aRA+IUUqk-PcI7HevdylBCTNfiefHbk9IEEkzYViwgI+nlk4hE7ozSAwVxfamsg-J2WVk6YHk5M7BxMu44Q+SQAHIE3X512-O41E2oqU4X3L34gMVy5SAU5ouUHAyajOjMgBI2UWB-sFc4uB2rx5ihBhA9Lgg9KHIdIrILRiw9KLkOB4QI2kZLOMvawYuub7dMv9Pr3XOjOTPauvdmu-x9BuuXPMvwyPIsWcXlA8XlXAlNYPB9kRlH2SOPKyOcYzZX3unriFukzaP6DxOlvVWYhwnhv1hRvqBNAosHkpu3AT2Zvqv5ZqPfolvvP5i4PAi5tv8ByNYruIkzZBvzA4v7pQE1ZTvK43AZuSFUVVv2YlvNqtbHiU8xU4JnuhOaPHixOdYIfXVC6zvjACcUF4oNBev6ux0QFmB-vJvAekVmlUfDRdVofqbUPO7vOsIFcSf9l9cUFlk-8me3AWeFknFgveWaf1IB76f5BSeue35efqfurUP9vcWjvxuVUP2auE0+eqsdu7NsRpfDvjvXoAf9kLuIeOuleJePonmMfResiTViVUVhOIf6V+TR7HuurIsEfbu3vBMX0zrGUNZiMt9ilMkSBgeEuOjek3vvOFc7uVhrL+KzZZbUkgFkfzA-fiAE6XA3X8ilunSg+E1w-d4uyQ+I+WgbLNxo-klbJY+As6OU+YyIjRcIXSvtJypKB8A5E-YBgKhBh0-A-sSslhp0-UO6+dJPjW+mlOf6-sp1iO-l3wPU-+0KefeIy7gWBqhuJ1o0359ZyKyM+XAsI6trzzxPjF+jZmy6t+Ml-3tKyFcD-l-yd9-T+j+atL+z-N+euH-1pR2X-mqUXPzV-xRuBQKn+2xPAO-D2gBU+Istv+yEOCiql-7Pkn+JFezO-3AFLhIBeEYAdbS+4fpiYAfSfhqXPw7hi+aHGvpQRAwQxSYJ8Yvp+T0xy09SBOYmAwHUAiAOApAYNPnkICHw3uiNVFJgJt5nUGgtGW-muyBDv8GAn-G6hrGgEgDzUtmd-j1XaY41pQ8tGgbDDoG5dGBIycQdbUppCZWBJ-Q-s1U8Tv8baFvdWiSgMAYIs+rvRGm+W7oHggU2gsPq724C5BtBufQgE+izCnVJB32T7iuDYiT8nBbA1wegLUr9AFAc3DTBUBhi+AxChgNkBEOXr65DApIJ-lPX-CyFvOcQqIQTkSFPBguDPL3DEKy5gNG25yEIWEPUQZDohJQ06AhCMCyFVeSzQoBUKyGkhR21QSOBwGxb1ZIw8Qp5LEO6GZD5oSQzvj9ixppDp4TQwYTkPz55CRgBQ1Xk8E0ZtCyAHQ2hE0P0ATDshhQv0AsIYbGVShREWQj0WRpVDQhMgGGKNFx5JIy2f1JqOcLURjxAgp0SdqUJyZwsJgdpO4ZNAeEhDnhp0WbmVROHLcZ0n7FMui36CrD+hYhNOLTUBGdMdhP9M4VQHuF7CnhKI0IUrkeHGc4q-UNWGogJxCgfkoIcsjmwgFOwnCf-KCHwN0H0Z+BwgxgF-yAGgUFMUg-gTIPAjjhvOYAoAWSPUF8hchSIsgIwBPr8QhB+g-gcsh5GoCvyc-DyLxEjhCjQojFXiNwElEUjJ+2tdSDICTCtN+WRQTtlqL2CtNguucToNyyoAqiqA4QbzpdRiDBc68sMM0Vrk5G4iNMBIykESOFjKiuI5oqUe51SBYReI4QWnKZwTRkjlucowUQwGFGMUbwgY+oSsBvBhj4x0wCMUkCjGKiOOcYuVgRAVxJjsx71Z8iZ3BAGiOAeXIIU1Q4CN8KsJw1+heQTREN4RHSdHNiPMBqATAXgJpIwH746xux9AbgD9y9E-c1RbaM5tGIcwSIfEjIVMQqL4iMUBxPo3sXQG4D5i0IQ458syPfyKjxx3idKJqO1F5dvOwIzqhWMkDZQ0R56WcduLCRBDeA1FJfurEdGzdV2mYy0S2JcBpRvhTw7oGyG6BDDWMwmBpmlBxA-i-AHpKweJjAjBhxw+kJsdPVGpBD7x-3IkF9EfE0ZhM3QRkIz0tEbjEumA7oOEE7Zwdu2oAboL5krGgABKAACRWYMAAAguAHAArMAASgJUgAAB5bZsgCBAHkIWMgSQGoGH5aQz0043kZWVvEp0ZQasR0fKOW4fjEJLPEfsJIFFJATOH4zoOLEUkNRPiakzIIJOLANQFhwwqiTRPomMSWJ7EzidpMkB0iKgasBSUJIMnTjKyH488YhIYDITpCTkkrppPoCeQ0RhAr0kvz0mj8+MIk30U-zRH+xzh4TMxGSMkqoN90bYvuJ2OCnbw4plkbuvO0FGiSdufEy8YuOjhhSvqZEyQHEAyAvM9SkcRkAAAYTgELGoI5AczlS5uhxWKNQEGAU5mpuQBwFVKBAVcKpPU7QMpTxA4TAw-UxWINNICfF3CDUkVOmz+CIDZy40sHm1MgiT8sIBAqJgmmWmkdGs7UhzotM3yUlAggaOaWv1SDVBsg5U4NO+GakrTyo7U-ck5SamFZ7p2UdqclDSrY4ShfsRyJ0A7gT8Vgw6LgewKnR2Y7gs04-sXx2nzc9pqYWDCGJsHZ89Y1gzcD9IYB-S2AHcewa4K2GFB0ZmMjuC4J56zoWgXvO2lYIJn-SrpHAN8VxGIAkARAqQeGMX0ZEwCoIGSQIL9Opl1geBJg4jlwO1So5Ba7QU0UAIfCWCGUnZakrzSMGUQ+ZfKM5iwBpG6C6R-sG6qJNllSzvsys5nLIKsSlAtRUYcKs0CplYydBV-JKiwEMHagsA0Ed3p4MS69IrRBEUoGbOxle4JZYHd2RB0qTvc-QzQI2cYF5q+DKZXMjGTzLe5BCWWwgpaLwm1gLSgBp4USWhKVmsjBBtIkQVzjZkSDBQpKaQTB3aaS18UdATSumNnEWySaYo3QcshXGxBk5vo6ls+kt6kp7Rm4U8CIi6Z4BIQPclcFSKv4qzLZWc36A3KZF4oWR1IwueyI1BgyHAZc6MYtOTErBRR9-cUShGgioRQKCMrkSSKQGjz1xzc4wQOAqCMzQgZSHGA3JznW0Xy3c3uUDNszFj9xF7Q+fLPHleCXRYrJOZ0E1l20ZR5gOedFXLn8RCAe4X8MOKGIaiJIJYo0dPEfmGiDx+fE0VkBAVRNSQ1omcnaKJgOiQFLsyqh-PxFxzGq7sBaSgp4BgLnymCuadyySHOi8Rsc0OEQuoAkLfwpCv-mQzAA9zIQlCgMbIV-Z04zBNgwgGgungALcQC82MXULlaxjSQS82IKIqAWMVGekihoYqEZ4yK65KwL6sFzgWljn5f8j9P1JGjYFZueZC-NgULLlTk+yZaGLeJ1j9Tz+7xexaO3GnrF7FyQwDuvntxOLluOXNgH9N8BnJqS8HfPlGztDeKghSLJpC9OGj9T+x+PR-FlKSBxKyAuIcBWImEzQwEc0SxkCdMMRnTxQF0nGPYqYiNh5FoSScUCF0TyKF584xJUuJXFvAbF4nTJUensWyKiga43OUMTKUTjdxUCp+YePRzGitsXrfHjTMnIgFPkHQxgG0ptQniqxn4u9j0p3HQFyJxkhgExOsgAAZFZlxNglsA6pcCPKQJP6mFTlJS48KcMPEk2SHxTk7znJMkn65Tl0kwUapOsnqTol0cUdjpNnjlSvlT-dZZsp2XgArJM4eSQTmeVOSIpJwsoYMDMQuSaxbkjyS8pUntLCg4IfqX5JOHwgduCKzERCAd4YrypWKzEVVwiUHFcQkK85SnOGGRTERFw7EGYn6maN90kS52IYtiWZT5ROUsxMcuvpUq6lokume7B4SFY4uePFJQku5VSjFllZOldFNx4rhtaP9NOJFNFYE41hNqb0Fjx8l8Zal0q02jakbGRLnl+q7Kb6NKbG1AR0ckZeKri68jZVqcqkK0FyZAggJifCVQ1ysh9JRlKS1WpsRcAuqHAbIqCTPOngiq06vqmLp6p6BWrMRJnINTjGn5OoY1yyONSELplzREJ4oVCcMI84Q4sJ1eZHArEwGFqjhHOD4MEBb66q1ZiEltrqobStzCltknNYuKFm8D0JfgRkEivLAoS21vNRsJWz4qxZFxiyn5npDxU-Dug3khyb5P8nfU1w-AHEDOv0lzrsVnTMzrqu4CNih1J0oZDWrRE20HZ7qOUuLkb6BBoltaySeMpun+NzljIRpWeHE7FLyQqKbNSQvOXtqKQnasSkCB7W4gUJTkgdRksSB7rL1aI8dQREnVfjtgmBYlfOt5pFRl1cGjgCSpCGik04WETlTutA2xZxph6t3h4JPUg1hAEK5qcEFSk9iG17i6JfWtnVEJdR3sIfoYrbXBch+i4ujauqISD9SNlG8jtRqgiVqL1o6lFnWv7X-izmz0HVfRoabrLTJzE1iRxJBXkg5NDEhTRZL2Wbr6N26khlJr43vBBMQUcEBiD0W19eNHK66SQiE1+xxpom69S+pHFUg9NpyxkICu2W7KmIbm4FVOO2nlSdNmjZzX8sM0PyTNCE1IBq0NipNQ6SyGjVCSWR2lN0bwKLSiBGTXCA14HeLd+WKR3okt9CRZK0krIuDbyvRFauTBSDJaCwqW-4XUUy2nrEim6BehVvJoFan+OM4rXgQtiQxyteWqrU-yK2jsagYgIaATnFUxbhhbWumUlvwCXTctKIJFOmr+E0aIts2yrStu8LoK8laI4LlNsuk5b6ATW6OGtrGQ3ofV4qvVGtuAwHa90xaVSgtuM6+YkNVxEQHpVO348kyO27jZSUa3TacYjWvLQ6sPVLb0UuIP7UNnWHda5tQIoZfnyWFgjOhLMSIVCKvCvaUlp8BrRDtMDg7DAV2gHbCLtkNBGx323bZ1rK3Y6etoOmVtdqsR3b-cj2grt6ttVvaVR5Wn7eCzgSDaPkFiGVYDtpUwr6VMU82jOQSk3bBQgHFHdGo53Fso1YXbnmisVDzKzxNYr6rYBF3FxqQ72SsYrvxVbyN5xEiNChAaA06oUj2ori9sZ1+ruAkur8hC3VgmB+APfdgcMMBTF9lqBrFJqrBNZSw6ZGvMbklS5007Jw91PnQqsZV+hlVxkW3ZWxPiaRQMpA4aHVTs6y6pR7S2rL-0gbZjtqlYZcSotiApJAEW-KgHBVIA5J9Kds3Xeip92y8osVXRjurvWia7qx2uihQHP2Vm0jdhSR7ZXq14MQzdSmP2HFyTJd65ee-HAI2BuD-c16kQxkAAE4TgcCSfcvUWVGBmB2OBfWOhhXGx-sHwS3ZLSt5Y0i1fMl9AOBcDM5qpktRoTxEiH6AfOPnKyGgHv3+q5ZvKP0Gvo44fAbZDQNfYsuEGRxfh6IgEsshcA+RbSPgimbEC-2RTN9m4JFOPtJ3r06ZHPVIOKuqBFQTwZAJ6O7AXaUjhMrQRkD90gx-cdeQPMOMYDJR0Aio67I4GStfWko8EpADAwM1AAwd-Cho9GPCERqv7wQ3kHyIgdABxdQY5B-gDEG4P+RGN4By-cvXFYGdpdvXY4HzVOosQBwo6xvs3yaSkaxCrQL9YUGY3kbQUHG9jTWvWKaGF1-MugwwcyRMH1I7sPCibklkxBOD3B7yEyC42CB1DogRw95FEPu82IRG6YA4Y8N8H8etqSRI1A8OeGTDEBmsaqphUC6CxhiBKQK0i64hxV+YmPSQI+StBeR26rPU1BIbTQ8Z4u2LoEQ12njG9PwiNNPm96Ul4S7wRyP9hQP8Bb1ZzXA0CHwOE8wERBs5VHGGgNGBAulKgzbS1ozkGmhR3rsUfr2lGl9FR4LeqUA6fkiKeo5JA5Dsyzj3s3o5gLJGgg9IkjMhtI+jDj1jHwO8x5ZKntyOaN8jESvxcvUCWXIZMVa3HfGqf53bjdS6q4lcYCVMAglDOvvdLt07vGbj1uxAzIZ87999AOegADpYAWN86dRCoZkDBA72+u5BhA2IRoRb9ySMw41ST5pggT4qkE4pLBMqLIT0J0+UwCb7wmjOZomwbwBPDLIegWEGk6AAABegLUAJCaKDqqyT-sBE6cZ6AsnUTekdE13nQNYmaoqET1JuiECGA6jm4EEzCYJxwmeTIjGzqPXIB6UWAelZQHpTy6TAfOaYPALibGVynSTipyk8qZW7qnNT2pqrkKf8hAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:green"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:green"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:green"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRABafXityhDrtAfH1k2GhSdocm4zhHA9p1l1C3KkDn2mFj-C6PbQ39Kjnb16kvaZtCMO4U2sD231-cdZ0g-KyDxbiyOC2ij2OA9FVScIYMZBShhyF6sHZvSvyXOBgui5+ku5odqLkSzwQVWDDgq9ymQm5z4MaZc1cu5bxDegbmgB9ztvwc77PB5agKjLHnv6+J6KF44FUOEjdh33bmvN7YMuRTbLYCvLHfvVAPfWKXxFoqYAAPKlZDPphsdL5RL97o+aGBjOF-zlhC7FxmnNd+Lp95D3vMvZE99H5r1wBwYiYF+DgWfgsCkoCt40z2gvECq916X3-oA3eYCr6HytqAHBDM7IiQEIqDwMD+BPwAdXc+Ah0EXxIf2QIlwKSJmpFiCmUQp7N3HsA98C8EgqHYR-B24YwAj1oBw6MEAYDwCQKgNA8g0CaEgTfZEOwlKiHgUwYBrpc5lDYKQT+5DxT4DYB6UYFirFGAAD4uO3AYxgLcnG6FAG4jx1gPRoXeIQHxfj3HmU7HsHxsiR4dndMGUMQhhr0CcZeGICTrHth2MDegljdAADIClLluHk5xDNSAZKqMGWJUDLCdi3mE8uX94nVKSRwFJ4EymK0IFvSOw86l0AkPYygZVKDwN6fvJpZD2yrhhpiKxEC076OsNpcgwZCD72GNM4wLkdhtJ8J0tJjM1kbK2cLCBcTTmbOQb4YZQSbT5Iyn3W4V45lGTKfDS5gzrnnInqXHZzkWnvM6vM-Jd5ln1IQVlKowxijEHEC7QYgLLbZOsAc5JI1umMzUoGdqIgEUAKDv0yFsYYV4vhYihOtB7mjJRS8vUMg3mvI+Qsr519Hy4rhQSqlrsxH0uBSy0FrLwXfL0VC5+lKiWFgFTY9FLBEmHKxQsxWkqeXSsGCSuJaqMy8rdDSkZjznGEQZbIZljKwWLLvNq5huUpVIuoP8tKsrZlCocJa+GtTxXxPEPYthHB77cGYCWZFnznktP2Qq9pRzsVM3YB6f1gbg20E1WKx8vqE0sA4GEEhiZaAuq2EyOQtKxkTK3soEFRrPUcjiRm-1QSBASALTQStTKRVWq9Y+HYEkaQUiYOc5trSo1KtSbGnt9A+3nK1YMntSamAhuoIO1tnyllxJ2N+UmhZAJzoXaEsNJqI3ysVZi0dKrQBSxxdQTdgxt13yDfOlN1Bp3eo3QGu9DBs3MH1E8g95DOkcGYLgY5TgOUoVfUm6FP5B3-sA8cnQoHorgffVwUQXS2Xhr-WBADQljl5k7ShAx040okHfPupIeyj3RuVZYxWSkZz8GIEwZ9j4M50eI4xpxzZf3tiORBNjDGmP4gWQSBDyJ+Mkd7SMc5+b93GHI4Ki17brWDJHAwegkn+3IM489U12nRM0GDe1CdUnkEyeEzplplqRM1sGTsft3BSB6XExxspXH5Nyt2JKVzaaCPWHEOp4zmntneYw2izz7r22bnw9FHYXoywVhRaisUlGR1oZo4zOLxAKzMZQr-RiCWyO7JabxzL2WhP5P0xQ-LmdKCNsS7pj1q7bOrN4MNJiMrCtAo8xijp1HSCKwKG14lPnoojzffe3dS63U+JG8iABwYzM-vc66xTwqLpsuU969WXAGALZkE6NzRWPNdgO7NskER1Pzf29wQ7XWVuyFO5VwzO29undC1sK8j2OSkp2AXGQgasnJYSVR1JgbFZuBJaS8mfDGQUkpuTNB-WOGYNni0y+9VGa4GqNICC576geAgljqEOPFSThnHOIG7C2HOLocj-ecn6jKmsH98muhacMKKBxSDKb6BaYR1IpHH9SfxOBqz0ARSReA2p1wo40PRj8Lh0Iq8rPIZQyMFeaXqu1dy4sLDwRNxGUq4vWr4wq5NfG5N3TiqwvCfY4EBBaLYmW7jFII6sEFo76A+-oDO+yhjSgHlE1l9MQstcGpNpCWyKI9xUGMoejDA9L8-j3pD+LU9oCLjNh0iqGQI64V-r5P2b2HR8LMoC3lvC8yJmYWxXWe7D+35kT8Y9vafymFym3OLu3e0iprX4N9eg+PnwEpNebk76U+NdXqFYJvGrlZ4PlCftzTsF0rhBcBE1h7UUVRP2q-ErVng1PugGPqHSFAHKPYSo6CO6GCIO+HBsLjIn1gmFeFqwgTnxSXGSWJUAN0roAnCHK-BcWRF3UAAAFQAAkABRDgAAQXAHAGgIACVwDIAAB5AAOWQConlC6FJVwA2EzxL0GHzTzwwXAVR3IWH2mGznvgnz4Rlw5iXzoLvh8BIKygYPlyYOPCXznDKg4J-Eqz4PsC4BLEj04K9wgJgPgMQJQLQKwPAGEI2FHzv3YPEJj04LzykKX3dxX1YIf1Oif20IGw0MLH1j0LYEhwjDqUUUjGUSgDgEQGQHQC0XkF0UfBMVSj7WOX4AmAsw80MWMVMQoHMU+XHA8ByEsXHCZxsEaXCMaA8GZnDjuUNSdVIxLQ4HGTiKmU+WUD8J4OlnXXJW5V1Q1UXQSIHAUhmm51hXxTKIdT3TPQKJiPiR1UJUaJ8QiOqMAnaL1QqOaMIH8NaJ2F+S00qPxx6IEJDTOXGMGOGMaFiI3XIC3TKh3UfSaPyW6K8LKmWNWPG2TVDXmMKOPB2DrSzXWKOK2MSKfBYBfBHi6njX9RzS3jzR8S1xN3OJqzqzyPLxSBaMWPiWc1IzZW2JqOBPTHowk0C2k3eIUiGJOKv1i3yy6JuJ2MzhROxQBIaFiPHSqBM2C1BLRJqLxMnTmPS2xMZ3iUG3IHayuKsW6MGybR2NnBGBZHFQOIfXpMkQKI+KaH-WyLEXzXm0WysXyIRMRMnFlgbGOWVlVnVi1iGWGBYDvlAENimNZKYwX2iiZPZOUBFOemqhyULjYBWPIE+AeNxBhB2h-wDFa0TxNLNItLqT1IDF22s2MGRmUiNOsHrDYG4EoCHA3hdKtJpiMD2n7xzyohZJ8LGwbSbStL5P+g5yED8IiGoAHT+IaDGxeP3jeMTKzPqBFKTJNzGzTKjBuW2VDO-zuyBx7X5UjIZKBA8HrPBkgypHAkbMROllPwEGui9JtNGDlldLlLVk1jJEGUcz4DVKNiZMjk9O+1rSw0FPBnzUDVoHFP8J2hcm2xFP+zvUPCqLbxxNCEBhjLZNU0u1233Jux5IRJLOSAFPgSFLXCvL23XLvP8O1OgRqL2JvTWPfS5IGIpIRKoLC0YGdXPPfCQyDU-TmDyPhK-O3HoRCOgqvQOO5zhMpKpKgpkBgo-TnDSzFMQu-JoHRIhNc03Jph9IDX9Mc18CIwE20zDKO3bF7LNgHJov8yM3xKCyIs3BtOSBclwsvJ4rJMJMsQJEUAKI4oUi2l8kVD2lEppEsXSJAiPBEouzEoJP4oSBksVBotbIBWUrKXSOtNRhSBchMoWXSLNlcAHIsqEpaXIsYpIxkAvWexhNM202koRLsoXPssXMGSfI4CIGuTmEmXnSkNsUlEisPNlADz2GF2BmgjCpmJoXgmUBCrSpTQ2TmCvDis9URnPXhDiVoCYmpEDPqI6KDlFOos4hkEIyhJcw20ErJR-H9FcxAmBI01hM+X8trKhXs3ooovMyPAv3sCPBCAKEYTkAqqyL9HtVqpxC0t6vJNIE3AfMaHKsDAWuqv6Kg1Y1co40LP8nnW0r4tFM3HWnNjkpRkVAo1qIpXVU6ImKqKOS5X2vKOpANQeRmymraNtTfCWo6yJObNAlST6O+tSL+pXR5hCDwMJlKsGXRNK18NAr8mwVqwkFwWq3jJiU31f26i2m6vmqqpBtIM7mxu-z2hyvWRoW3whvamyLprytkGJo9NYq2FwvjK2tcBTIDSGPTMrPAg5uUFZoZqotIqmOwytjWokqRwKLAprxfCMudSllwtnUAsm1+Mt2MAKOlvRLGIVqopamuRhtGXSJkGNqMxLXeMVFwptqtoQt5Idr8qPzERvxlqhteuOLNvSotrKn5R9upTtt1v+NQsIRYQ1AaITn5RdvvLdv8LhDkziXRM+opuAsVoxrWHNt+stv5QzpetDsNXtvqFwqLtjr5UngTv8L5P0vtHkVsKURjEcLURcM0RzA8N80qAYGdU92VpoFVIqT7qYC9ozgeNzI2FGA3IoWxtNuaUw1SQgj9IDKDJHggj5uMCnrzWUF5pIsq2KP9MDKKEtOipSxPXAlwEVlXpPqEA3rOwvjqSL1zRnpxCkJgxw2vtABAxs29TjOxvfsHqZuwyA2-sPwGX-ufvLIzK01wA-qw1g2-rwyCu9QzjVrQteGGAQeXowc3vao7Mfu7S-itrEXPuB1S3-jfkZjwcfowfbK0zIeAdbTIcNpIH-A71bhgZFv+xztbHISvAboINWoISVsXvu14eTr-s8PYcoBHw9ATJIQXtcCP2Bkvioodj2kqWmGGr0m4fORAkRtJQnpIWLUNVnqFKkNyRLQsdXMfsvkDvzVTz0BUf4Ykar0gcfAcZfOcdca5poCvA8e7tvgfkYUFomGFoHXzq2lflno9GLB0b4f8b-H4GDEqTMYeWbAZnGFznSZmniqqJ-juOmAIWidsa2kkXiZH2wpSBCBybSaETKd0AAB4UncmhF8nuyjB6FpTIgIJwC0JbjCAcb5s7FTM6BMJuBhppAQhccABqPHE3GfXODiJtJp0ABZ-B+ZxZtXZZ4MVZqhzcdmKU4c-pwZwgjWN04MMZ4YRRUiVrcgGZxmDZnZqGPZg59ZzZxWF5rM953AJtTp6W5IzCQO52ktBeomb1PwjpNCZkMRxUMqiqjJ0Zcp27RoR6rsJp8vehIYmFp0dyvW+EhFORlucJyJrTA28vEIaJjHVcLFy3XcW4TprM6lpFmGGxyRK8QFga82AyhqvwjHbR2ihzPRoWis85Fi5IIcmU6JxWFWIJIcAPPpGsz0u6hSwEJSkhECZS0R928SFpHa0JBxspnEThLexobx1c01zBFVpGQmNx7m3F5mOF925G71POzI+O8FkuCF1wNOp12FyRyVp+71Q15FmJkuNFhoDF6Jel-qHFiYPF5kP4hjDh0l-RiliUi9alktWl0pDli3DwD6VcfJ1+Lp5IVlwMNtC6Dl86BwblxUeSPltMAVipDJXRsl8V5BYN-m3p8NuVwgBVoMSKmc6iemqdW126nyNq1wTVrebVkR0x-S-V8hMN41mx618Bc17MkhdIpxzhSdi2C2YSgN-FoRuRENzMOwqMVu1RZwjRLRbAH7awINcgU0igZ08VdkgI8C4dS+kc199980rUyrQDp02g-08Yc5IOb997FtabUM2RaOR0j9kp5uqiI5B4XjZcfB03WIIEQ0QIXja0XD9XaoAjj43jQaUj08iICjrDkaJmMCGjzpejlIXjGK0QfBzjxoQj1wXjG2KZyQfBwTtQXjyjxj6VhgUjqTwEPj4wXjARKILgD0WgTepTlTxReoeTowXjOZmj4wGQX3UACQEEbIVUhZnG0AHTpmyCfWAz1IYz0zjIcztUkzowGz3jTKlIIz5QZz54VUqCdz6ziT5e4ABztMJzsz0AVUsAKzzzxjgAUgi985M+i9VMS+C4S+XvugM9S-89c4ZlM9C-AgggAEJ+I8uouXOYvQAKuqJiuGPl7mmUvquAvQBWmjBGv2PGPmn0gHP8v0uOuqI0uSvIJMhWu-OhvsguvsvSvMh+vlBAhBuavVSFvZuxvyuIvavXBngjAyvjBPcHhEJkO33wPgyOSymMhFQi1lwfQUPgOLur2TvX8wPUOnvXZKAPQAArDMDa67+oItXEGrqjh7qYfB1tasrat7x7hRRCKOV7sH6YT6xmo5XjXs-B3smzwlhTxjyAQgYSFYiQXD-HwnxzbHnH2ziCDT2ASAUjmnyACnnHxTikZT6AmjjT6Apnwl3jTAlgTAiLvnzA8ttXF7jq0IJHp6uFK79IG77ETiZ4VceB+7s797lHsX38GHz4DOoUgHlIIHmryH+aCX1Xx79X-Aq5e0z9U3z9zMV0+bXregKQpk0fUKtyMYCQUl77j4YsYgQuBzAl-qLXiDqZvimDgsxaB3zpToQIVBx8NqEFjN7ZKQgWpP8CKWGawQIGSXsbMpsvPW4PqX228x7n1wTP2QQvsbL737sgWewswvnXux81oVjttPpZLRjJYMf8eJtYsV2B4YbqtsbgTt-v8CeHmw8Va9hwu99RTADAYJ5Eb8RgFgMgDgejegN0LEBgBLZ+ch2wexRxFhoG8YeGWnVtLl4-iqXQTZjgbZv5ptI-ohE-rcKkx-6OzbTlaMLEBil4kYfUQuXOFGxcgr9iAdiOwD4TkD6liAxAaLoogWbW1oBGOCCLjgJy45Zm3zBZiANL6NBkBQmAAQtkfr3pKQazLxLnH1LulyBrcIgeT30AvQj8ezF5hBEggvM-S3-JSL-zmBFoHe1AxcAaWv6MxtADuaRihB4GVBRgdIebHv2iSSDacEEeUCLFqY+oRokg8XAUnHCNUokkoK8JIN0BuISkq2BwDoLq78wIchRDwAblkAqCGYEECHMhQIYuhV+6-V2FvwSwyCmgIQDQVwAeZ0lF0KgopOzHFCNIyy2tDYtbV2yn8mgBOZgQs1EGJg6Qq4PcjoP4Hsxccd-TItkUirslMwnJSbEYIWYpDnmMQ0wPRTiEWDq2hg90mEJ7jwwNmKQwQduEuDFCm0THegPg3mz3cNgJQ8QS-0UE5JAYbghKjwMgjUcsqI0BIeELrZVDjesQ7ocLk8T4CphsggAOTbN5sjAlYe3lIH7N-mUw0Dk0LX5pQE8MgZPFIMlD7wD+kQVcCcO3aNBeMgYe3IrAbBbN1YwsUwkLC2Z91xgCEHockA8BDCrhhw4rsbE6jXCJenQvSHEMKKNDwRZQ0EVeFBGiCThXtb3ilHKr+92oYiT9GWAfQ3lyGNJHwaEgBy047h3g4lO-GgYhDkUAOc1kWhRG+90R6RLEYxhLCUC1yd6CIb0IaRTIiRkxXjBDnxDpCy03I9kVCIUh3ovaheGlMqXvxBpsRJYXES1Bor4iYOAOFikpWfo0sqIioaJlkSFHvhghE2UIaqP8rIc5RSkIQCKXdjYhJREgaUUyIfSsjcRKrKyhqNzbWDqOtOYGHPijDMjzRL2KSvoLNRGRZRvo9gu6Q5EVtL2rsTUfzE6QKDfhEvM0WGIWzC5c+bo-mHSLRHkAHM6ReMYED+GAw0xhqGkdiEzF+9sxGItsiGIdFXM2R3ACMdwlo6RAixDye7kmItHhjZK07GipkNVE2kXIfI-BjqIyGNJjR4UNVv2OcriikaC-AJhID4AKjxGQOYGDyISqrhVxkYqTjeQHZjlFSlxZEFORA7CDEM1ADsnWPIYrj2RtOQRleJwp9swcjMFWLuLIqUjF+p40zJDiuRmE3QruTONMD1AiBZAAOYBoeIVHWCS8QgzxihAAliEhYbofGsBKXHwdGUS-bymOLdZdoOqeKIuGyQfHqNXIQ7IQAXA4DxhBA4wBgDTDiT1huAzJdkW1Rop-Y+xjlQINgmni5xcEbE1uPgiXZ3oKCpCFdu2EoQ2ReyF6QcIOzvoTwP0pEgQORO3FW4Rex4aiU2lXj8oJEh7CcTRUvH1ie2yTYGEpLKGqjlA+km8dpPUnTtmJDrF8dwB5ZHsj8+kgHKAQ2AmA7AyPE+omBAgAAGC3oMhEgawAMLkrwVM1pIJxyAsgXuAFPrBEB3JVET4a5KimjAXm8gM2C5FinQp4pDASrBnF8mSTo6UdYuKlOVGuxQpVjQGDYPwbAwCppIoqQIEmG78IUcSZgJFRym5RrAKobsC5Jfzi9KpQUgkWvEOgB4mAfk7qUNmqnexIWj4XINMA1hzgEsiEh6oekkkKjxqtxF8NlOfhyThpwU6qV01iJaSumBY64JNI4DTTRACWdcSKJuHq5mAU0maeUKdE7SxR1k+1skyOknSEssU6WiIEKBNgsihI3iWDCf4vx5JLUOJK9NukHx2IDVX7H-gqgztjA1UIjBTlQQKRzKHlSzKPR5b2UJxFklINgg4kiIuJ1IURnxMnb1AXIHoE-I1Hsh-EPAWOeSn8RCBgzTpwibuFbQ9A3UwoL0BykeEeori2ci0DwEzLOm3BYZegoWXdOtyLQQgdMpSDZOemDVio1046eDPZFe0BaXOAMiGjfB5Sa4M0EmWnlfyUIKEnE13gQmRlV5XA1UHBPV1ciPQaEwbFyEQFWZ65KYKkyeBInz6U8jAes+SR0FeacUoZzOP-DNHMp60HQUECOYpUNmcT8ZrM7iY0h9kWzLKLSa2cJKpk0JlpTs-5i7I6aX9Lp9QN2QCg9lYAXopcowELkBCThQmWfZGYnM4Rdj5K2wBql9MYTWBF0Ps82Qe30CgBw5kcsmS0ltzE57cDc+6v3PIQpkdZ58OuZgg4px8UIWcvSBniETcBcI3AUGM4yPzo5rBTeEnJMUHnN48xwQBSOTgcAryfQOgWnJfDmFBzIgK8-mQlXVnwJNZKabWWfNCDrzOE18xaWvPvkJjH52aORi-PGBAxQYb81PD3LAARyoIX80XE4FUGS5rgP82nAvJzl3S75+c4wMrh0AYKjAKCpeWUPQWnUmgc+bBUQotYHsbcO84eXPJizWBYpZQcSpPkslDpj0jvNDIwsVixScsJ49hsPmRQfTmG02D6XQwCn40BFSE+JF2CvCBQOpPw-MVTznDTSJA6KUeghGFzn8jIwi6Wi7yzT0LYpceQEUXl5AWADFowFPJwgNni8EUrAakLFJAiNSt4zUt8K1NCQfSzYtNQgM7MbLqUgQeCxXMcMMXkEyF34BFHwsXTWLdqH0nBa4Erz1yj8KC7xdvLtyHyOYx5RQVBQOFmL2p4wb4k2giW2KOp27Thl3h+o94El86AfEsjAJQFYCyBJWAABloCOBRKvYG8n-0iCynWKWQV4Ty59ZEimgqoXoLaFacLBMfD4C6VcELAookQmVAmWP0Zl-k8YPmikI1KOAdSxpUoWPHIhRlahIQBMu0LANLCgU2ajzF0I94DCj+IDCYTIUQRYpFhWkAhC3pnKBQZUzhS5PuWohvhXtF3vsp6UmLgZEio5TyCLQ8w7FzwY3DosWXvh9Fp5YxXiHklb1CCgiKFd0rhUkzpaKaSDtMGTwBKzFRivhHxOXzUxDltIDeBiBBX1At52QI8EcvL5fBSgF6YSBaO-GcFC85BBFRen9w-KXJ+aNlX8vhUfxsexrA0GrNQqZKjhyeQlZYU6m-gpwwPHfBsCZTzj3woIiCBkuTzzlkmcqogJTLtljhJimK0PuKqbSSqrcRK0UdqtCSoTbmuKhPJImFWohpaOwVgh3DFwSL5hs+W4PPnCSA1LhXqr-BitdzMBYJEhakOvFYLW0WVhAeqmmGdVj4O4ghVGbtFfwLgQIFyowkBkTU8s9ooA2WLckEJEq9eUMZ5RaAXBvDQ1HyvIJqoGh+hdI5azQoQErXsBN6R4YGIIT9zRdc1jU9qAWulXf5uZgVKCdFHoANhpgqU8NWPmyUQyvwr3flSBBCWzRQhbitYDRRdWvz+VSa3GSmvfxUR01ekYwhuuzWv4u1tyVKZYSLX-QS1K+MtTQ3eWWFq1gQGOHWtvXjAm1VhaHoDBhX+4T1cKM9baBHnqsFyGE6CQID2UBSGwIahtZGrgnUByG9CxNa8yOAwT4NUa0UTBMELQbQ1j9dDVGsw0NqaYI64NQWonV348NhYGmq-lGTMqYNP4ECKsoQJIFUCGBbAmbHo1yEmNihXPP0KjUdqauVGyDYWE5oKyII6ESCaSmQ0uSp1BGoNWOoCkkb6Cy62dpRtEBgalldGmQusqaWsaNNDSppVxuuBfrou-Grpd-hcgibssXtOzHRT0jfhvuLpD8sA0443lrMQ67kKtVs3ExnNUhc6beSeznVIMdmxEHWKAGWYjIH5Q+tYA7Y2xAtdvBze6s0EOBwtWy87GpnxRWAYt4EOLUfh80ubSUz2aLcTGC1SETJuWuJCJGDB9ohAOKrLcwpy3S1bNlANqR5qC1SqDQjmyLdZoC0ulmttfMwWassLC4GtbU57D1o2p4VqAGWqShbnVWAiVqqWrrYiHG2EBJt9wYqpbgdVCglkT6iCPcK2YzazF+DIbdGraWPhotjW0JAVpa39a2t8W4VvRUu128HtG1PrWksjEqhEw7wT4JqED6Ah9tRw5Sk9p+DpbCt9q3dtKt+jJB-cZ24bf5qe35o4dq20smDv-UchttTwxWH9uJ4LB0t52+HmVqYAVa2SxZa7Y6pJUMhgV2IHmFSpLkNAnNmOmQOVsq3GqqhU2r2YEGKUbBu8AoQVc4DW1HAOdruUpdzs-llyEaewCHYEA23SgHY22l4XtrFUarlAjOkYHjpRpsFQBuEuiRItwoPihWXfL7tuj74i1paZYhkfymJ1S7iVn4FyECvJWU6mg1OpoPfAzB+h3wgsOojhPfBZlxhBAviTgvzjvwzOp1LcRME9ls7RyCpb3P6ALijt5mJcsua4Agim6KxuYhsQlQF1c6LQFcwEvKAfKW6IE225PTmLETy7vCIwY1fgyL2VjS48PdPCqWEBkwxOVEAAJxdA4konSQESrkCUTBkHepzKSpWKOJ6ASu4Nj2NjaLI2qActMDQAZgeSdJRgPvTICWFLDFYaANfQ+qxnmSjwi+uloskxnGA+9RKteImEtCfQygkiGgEbF-phRAqrgQ-UcsH2RBZ6WIe-H3u0WiAlFKi51PTVHWtbSdEiy3TLtrU7aP9kgL-YJkZiY62hoB5Rb3TrizjExvo5nSqBjjJRRgQSFNDQMxqv4pwIEG0XaOrHyic0SkRqoQBjiMCOgXyldQ1SmAMAMDRPYwVRD4zE5hgCENqovogiGwjYhBxRMnheDkGZy9nGPoqEX2IjZtU4WEFO0bl6ALY1UAtb+IcRcBQNcwCQ8Gwk05KINGGnDTRtyXHCOZ8Mmg+gZJaOZGDjMFNDkwuRwyF9jeyQHZy4Ozko1AYZQ5pHsOGxTYUhlGEe2xkiGbDzQ1w0bD4ONlFE-hoQzy3v094aVpKilf1Ed3a59hOKohe7uwk+EpwfutMKHovjRcvy27enakboDO5OdQui0IHmrSDqEDylQMLQA1iOIUDfoGVf6FwNUR8DVQGUT6JxHEG3dZBv0BQaoNKbxel8RmrkfxAFHBdXeko8lIWldgBjfWuQZQFuKCIW4AuFgGzBejQjiByBrCcME93HCK0twaY37gyPwMauX5L2kyoE2U12VG85hbbopDRHAQ1OOxC52NxxgMwFYMPOccXQPGFYsKglRyqchIriCUa1Fb8cFWyIeDzOpYSXhkBs6AAOlgHg28Awmv43AA2DpC56TOU3a0v1BX2MxaDGBo8eCZxWQmzC0Jr2XCYRPfTKglADeKicpzXB8AyUSRIuGBgMnQAAAL2N6gA4TgQOlcidpMZHFwHJrE-9BxMQQ8TcjI8X9DwCrVKj1RyIJCcRNFA+TDAOkE51GHL1ljisD0Fs2IBbN7cMIJYYhAdCEnZtCpyk8qdVN+d1TpXTUxlh1N6nvhop02EAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:green"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZdpLBOkIx6cQPpOiGGwzRB9KZ5AGDrgFsbQwOSgo3GxM-Mx79P5624IUuhiz6aTM6XXYQvgdlcLOf45pQTUgiXDswLQ2D7lWOGbEq+8TwRvI+FQYg2DUmMLeTM3phh+lkMGVYs5TS95LNAakN43FUQ-ChXMmF9BvmzwUUgv5aDxmgGMkUNR9AMXOCxd06FzhwUovRV0np6zAjrzhd4rho8GCBBkCovEFz9FUpZaQNm9BtkDK5VYnlfKVGkicYw5lUKGCdFgRY+FCZZWVBUToWmLzw5tFrI4L6UqolDMJSM1B6qJ7gmMO0JmyhiCMvpoTe1xqnXdzCPA7lV87VGsdc67g48wiKpRe6wN7yQXYMlWQ2Imqtr1LtEiwJjCqikA+FGz5nMvVCR8RyxOobU0ot6TOYF2aYGxsLXmrh9ii0PxRWHUFmhcQRpNbmn1Py04ZCKfWlpB9UiSMzeW0FOaQ01q7WkHtVDGkVwmMi0OtcuReBybk0+lriU2qsuwDwXgXWcUJju5QK6zVrrRH6o9e7g2ALDfTS9TV8C3NXfmmdybAH6sYWAwghAQTclRPi9dMSlH-NJeCDQP7qB-oZUKjyfdRU4thRq6VdTfFvv4beziP0xBVsrrUxNqGshPJg+YByqrSDYf0EQb1eH+6dyyFR4jLh02Zqw5Rwg1GE0uG2gxjDHlS1kYowxztCYbw8ehv2-unV9AzJPv3RRoyr4zKssUXREmeBUGNowM2-FeL2z5pjPWsmDOfU3uCGQSZajgjJSsUoZmLPCF0iZFo7ROj6F01xKg4QVbGf+DEA2qLTqYU89Z+SDN1YsyjuzD4Ob3MOx81MFSAWsK8SXivOeG59DawS0UUoRsyBadChbG8KX8J6SKDeLLpWyuxDyybbTFttolfJdV6Y21KvNZa0UGm2XViqPM3sSzC7OIwrahwSg2VS79AUPoeGRmsLw24E8QEAA+UAdHaZ4D7h7OQXsoBwEQMgdAgc8SCI8jHGsIKVFM0rBOglhrI7R1jjQcuudlKlGpBXZSzRD7fwXm94E9dpJZLftU4hb8P5pCPgvbg12etNACy4yp-6-vOlVqecV7xmAaIydIq7dAbtfYC+kiR4S8Uo8VGjn4xPjHI9JbDwnYC+lYLHYA-752Fz4K+fE+nzpvtoqpdQTFC5sXzJkeTmzLR0fosFzS4XdKENk7p-juHvW2krOmfL0Xx9-uEz7ludXayNl6y2cfKrnXgQG4fU+6HHXYw88VHzw1Dr23i9C+zp3HrTUBpNVm0dlbTctGVwzpdu7teo8lz8S9eOCe84C0Cj5fubUq9iJThc8fo0s8TjDoPsev0Qag4r174fwNsDuezjoWh9BwZF7isXgDs83bN6uHlEP0bbKwzhqmgebvJ5iKZUg5kVE2Tsg5Zy1JfAwPIPDLyPly8gtU3g79peq8OG4B3oSA455dQUDLysjU9fIkmDjc1ViS+4h6dQHfNA99vUfivuga-yNFpzM+f4m-+cKEIPgcot+ln36P1BDEO+HMhkMVHPpXnBjcncofk3tVmrEzMPNdgePQF8rbleHBkbp9CbjAWgauB3rAebtXvjsgSwmCIfo+MhoBm8p4r0qAb3iUGemwo1G8EjGCLQWwEnM1s0GOBqGGBRC+IaGZMEPflZLZPZE5ExowpQL4CQDPoIEvr4DVDmOJiAi3lHG3tJt0oYA3utGemtvgAJtsjMksBTmtj2nJIbBluAV9MxjOKxsYV3rDgQSsGoUwdsvxh3poexo4crh+iiu7tLkLvBlrtzsrr-BakwKQOwtYfoMqnSmyrUAHrDvQfpBHmeJdnEaypSEkTnrHjEZkWKmqjkTdkNmdujm2p6iGjoTjO-tHJ-tIR7oGrmroZQaqOBOOAFK-qAsKPoGrsOgnlznOgAeSkFDEbYb7oMdWpwLDp0ZGAIQ2BKgIOMePEwYyOSmMQeP0RnjArmtMcrkxIKD0WHNQWdMsRXEwcMbGEFGcYnEwQcS-nMdGCMVwu7hUV9GgfxiOjGrsTMSuGxCoYwq4Q4PgokV-HMkZh3NOmCSYaFnRv5lhFCMCUzhqHCNwECbfMiYkTeNCY4mRGSsAowoYNyIwN-oYiTskp3jUUcakG8XQsfrEI2CGoyG8RMZzJ3vcSfnds2g0bSeOuSqUHCbGGsN+ggUYMSe-PwKEuSdItsmcdsTahMM4bGESUIBKWSTTu7AJLcI1LSbgWVp8QMWyc0RQfwU8SsNEojjjrTkXn6ApFfJadKbFActkk0uSo7tTqTnXjabGHaTuB6Zks6Q3HQh1s0HRgFACf4ejlHqETdjjMLI+r4KLMulbncgvExI2N2HqMyeKaSVKRqRKstAmUBAyYsdKCCaEIyOieWbeNyHqMWZyYGDEVAUqQ0PAczEgfIKQTWZ0NoWWZiaEDoX4fTO7unhWlut3kZoTCcTbLbjEZCprrXqbnqa2b4aUXDOjpzpnhPLDjjPgsDguJ4puawoGUUlTCuDEUeTONUvXhOQQb8XGFYujGuS4O7v6bjjGetHuSeUwVLH8HmZ6fuUuSsDEW+R4mdNDreeefsWcPGiAgEYsaIv+cktHp+cifuT+Q6fmYwCeUBdMPkQhdjo6eVNebnDoXedBRFJto-NtvIEoHtr7IdgHJYKdgOpEewrNuEVYtPgrJQFEcQM+aALrnfpgZIGQL2c2ROZxVqn6rkJ-t-szH3OCC2UUCJVstwBJb8Q2ouuKnJT-gfhCRusBjuDIFZLJV-npY-PurBo-OslIlgWJVXkZtqvyiZaAIKrxuYJAQmY5VJYGM5VXtwAqsWvTEQZWCQV8jIE5aCLyjqq5XqgJVOcDBhfQKwVFTuICklejEpSoClZzIxnHplWdOjAZUBgpn6QxFZNObWFZeYFVcwblTscVb5VxkmlkMVUOZxI6l8CNvNB2SgTmjuQNLWrQppWpuMZLINeSC+qNXBY4N1Y1CwNAQLNUREIUFNVwlhJDDofdI2JQFPNybiH1aQYyGGSxaJNqW9ALEYGDnqL1LWBxg+QmPPDdb2W3vlZDPubKQLM8GtY9fhoMDLMFZxB9RoTTJEL9a0X+FXt9QJW2YgcQZ2Vzi9b1OJesI1JNX9WiEzGIHtddWYt6grBwG1LjaeDCaYQTBdZLCea9T2V3iwGjdHLkQ7sCNjbjdTeEAADws3E0Wyk0pExCqwD7CHggAAq9cglQgiZWGvAMaTYS+1AtQzQVmAA1CFtVqXHNEKKmS9eEKrdlSrWrWVhrW1Frd9HWfzaAP3oPqLeLTIMQI5IIORjLWyXLRBoraoqAKrcuTEMbWIKbezZ7aolZIHd7R9mXH7TIHcnzR1R5HlOhaDmYiteSLNZWCPPXNiBjdMCAiqWLsjRTA9X6NEnRnjSQmTQRKrPjmnUQPoKHTEF1fgD1YzWFYjQNb4cuc0CeZvNtOzaHbMJQnzaHR3cSa+v+DrTaHaNHRyaACxIcQYNdpvHtejfUYdQjf1TAi0a2ULZuCeaIXQHXOUGtnfPWaxF0YAUaKWZDIyONVdfeYXVwjndDXrJ9Y-YDMpbGCDQxF9YZsfYUP8Zjd3lXRnRRWdUwpAvHeBTdb1EnUiIwtdoA9JmEWfXmIScPdTSjRvf6BEcXT3eXQA+iNiN7fXY3UdV8skWgR3TdV3ZQjg3pKUPBNtKTb1BbfDg-URGPVDZPX8YbbPQg5WAvftcvU3eFXlfSZvYPjvaorZPvSIIfSZt5KA6QUodqKfeSo2JfUCNfUfLfc6EFA-R9dTS-XyG-X6B-X1F-YDD-cob-etVYnA-g7wxtrINRZ7HRT7Adv7IHNgGplvpfrvvvnfofsJoBvJtaiIaohflftQHvjVS4BE34yzJ-hwNgrjoEzRtYiPf-rTIVNvvE1tpWVfOmMouCHMNlbEHMKuGedMEUxyKUzEByBU7AUUxhLU+pgeA04U36qPC06PO01U36pCZkNlQM2wM6JUw0EU9xIYD+uQIofbDxJIomYqGM0UEU0IaQLU2s7GMs4UEU2bKoKqiwIYEpXswcx7CsNs7EEU8rS07EDNtwL4OEACKttPqrYsxczEEU55DczEHc6AA8ytqANPj5G84036qidML8-8084C6AJCH8zEO88CH6sAN8wYAtn848886AGACCx0+lQAKSouQuYswv4vwugCItFPiQ3PEsAvcVSgPOgvpUACEkoNL6LULWLrLQIjLeLYI4IHNRLHLJL0+XNMQvLfT6VHNAI3ztL0LorQIGLTL-Ly2Qr9zIroAq24rlLfqy2Mr3ARQcrWLer2ryrEIzLqLMLhQ0LMQzLsQs26YBUpZcT1+-jSyn1gIK4eyQwa83ALrUTbrBYRa2Tvjrrv+BY78LAAAViYJQB7ACF6xoPfgC00zk669lWcuQYiypWmwG+G6iEWpFM67mzfgYvG0izuEUzwZZtwNW6mMY9VkU5AHQN6ILrMzEM2629Idm+bpc36ic7AJALUwO5AD272xW-yycwAKItPTtju9tFMABy5Ai7qLy7i7zDZWTrmOPAJb9VmOiF1NnrKw3rwo0L20kVfre7GOwKla27VI-rpbBFV5n9x70wp7ALmbF4u7obebZbaYamZ+bKv7N+B+q+jt80o8RmQHr0aopApeJ0Ub5A1YRJXUmgNdBEj7jUl+P6ieKTDg87RQWG1qCIRQEZ9M04WIQjLdOxRmcN1Ha9YItu4GopWH+b5UaD3DekbHLi7NDbLHyMbHcG+A0bsbvZtdPHz7bhhHsQi9dRLaDHpBWTpZcnYgXw9Nwuq9x1QIlHhAinXyAHVFSyNFu2bjfsmAGAIDLBFApgDADqHw5UNwpAK6msJV6cmcm4Zyrnkw3mjytC3nutqiDABtvtptXnZSJEyezQ4XqMHAJSSqigNwhqRuWgHK4dBdDZIMygygMtGQl2Rga+2XJLHsqt+g5A2XpmVmtmVmStwdqt5XygMnio4I2VvtfaICsylA0h2c4dj+2GfXCRXX-zEQ0ENjCYvtgd4IEIgdslSXxgKXiR3rxHnX0hfXEwk31g4IHlsT8QDRxs02WGbn06h33m4IdGjmiWbSV8h3oAy8ykvR3aXcN4h34Qhc6Tz35GR+3LqiKmyepQPrIwN3Cs4IKmxkpQ1n5XM49nsUTnK6J3fozQD3qq8tBeMiN3d3q4P2NhNlNeESL3KRtm03qtK3uI+3APgwnh+PIdq4VmIXN1RykO381eC5ePn3gXzWtPgdJPTAZA02ZylPbPR+ytHPm3xkhsu3dykkoI2VWGV7kge3vPPnKwjuWE8PoWJPEIzTaJV820h349WQL3cvQ3PPpAgk-mJcvFc0ZXn3p3AA5AbVhpN-b-5qF5Hdb2tNt7u-L7iA6qQHcr78N2N4BsXZ9BnFnNtAH017GEU0IA5lZMEPrQ5DpBgm4MWPrVERwPCEr+rxL+T-oJH-r-n7WH713tz-t1F170N3nwX1DTX9z5HwJUhyh8oGhy+31Gyh4Dil4SVSXpBrjjJt5jHyj9Itlcz7MlrjJg29603+sC39QJoEwR306m4Gt939n5d2nFo90n9xOxCCpsGvTxDmCWv-5jMgJQH0QpPvDEv13zJlSQYHnr+v39vy0WozZZ3UCCuN+Uf0fGP-SnijJksbZNO+qfYeB3nihJsL+z8K-jfxX4QcjCL-e4tcXf6UNgezTbzFhEazyBl+xgMAU-i7xnIekIA3AYYXoT+Y4MH-dSF0wwHYCcUKCDvOQJQFmJTMM-VDvPzb7VUMBGWCgZA1tzT9kOs-VvovyIE4DV+gAivptSYEkIr2xA+gfgNmKURaix-QAfSSChFN9+4+Q5D-2-iACFB8xTBrY26ThkCSKKaQiQG77NUksVhbfr50oQD9leLQLel4V3riEx8uPcwGYOdT5UWCRpO-kNUnRYR7BoWG8EEMSxrNnBkjEfBIQZjj9a8OVGBGyQXyMILQxYcqONiaiNQBgFQQYH4KD4uBPBFg4HikOqie8shqqVPtpHKhQELB-glDIMB8H+5dB5HIRAexgTdRK8SmHzLWz3ryVh4nUBgOoBEAcBSA60ZxEQDLzb9RG3RB-qkCkwqCkGFIUsvLFABixXoE1bpI7ChhXEuE8sMCMGHHBoFSgDgaRn0J+gDDY+wwiITTHIY5VCAdyMWJ4megUFf6XRWooEJf5TD-6WEXIHcLz6ADuAPwu5CEJf6WNyIKjbYYYMIBT0-6kNQEd3wEqTYPoyPEgMzAqALNEihgNkGiJmYoJDApISwcMyMCCpvM2I3wLiOJBPB4SGWbuoKgbZLZoWiIhQMiIQKhJ0RaXKbAhCJFR9x2hQUkeSPi6NoEh8HfoDfj5HrwsRkYHEcPDxFHcu4mInfmKPDgUiJB1I6hrSNtz0jVs1QY2I3FFGSiyRgwRUXiKeANtnQmosOhyKIiCpnkhJXihyJkCSIc4SbZEMGiMwOiNMTMd5IEA+g9cORp7cDvOiBqwZHRSML0VNl9EfRZRpCb0WbwlyCknM2osgLqIqT6jEi5KbunaMjHKVzR7orrp6MZERimRACGMQEhMH0xeAxgcWBUHhhuZgstQwDL7Tz4pYY65gNKGGJ9HdA2Q3QfEVBEZKMg0oOILsX4CCr-142ewpWKIAFI9pLa1IASi1ARgMAiQH8WsbhiFillugjIRrJ5llgREpM3QcILZhUwzjugzsMbKABFoAAJKdgwAACC4AcAFOwABKItSAAAHlF2yAIEKdTGqSA1A5QrSAWxXGaZNhRmCsdhxlA1jasdAHfm2PnHwx6BFQwCVBIr5tjOgHORCe7E96oTMg-41IQWSMyXjrxd4h8c+LfEfisJkgKsQjAQkATNSyEywW2ILFwTFx5YZcchJT60T6AnkRkUkJRTegwBGEgslBJAmWDGRb0R0d6w6zawZaK2XAmoBMBeBVUjAYof+mkmWR1MeYpICBOMZ21zYuEyoUJI9FaT4stMM8Rn3qoOBjYjIAAAwnA1MNQRyLygyCZDh+sUagIMCujOTxUlk7QECHMneShRgdPEDuKsT+TcgPk0gJ70JgOTAs5SX8uTH8m99UeLMSCHkNaabgQe2VLCIlNcnlR3JhfALgJUCBglYp4oVINUGyDOT1o74LyUlJMTuSTq9tJyRwGRFP83JHkpiCAjtGNRHInQFdLkPNK7ifoFg-khLTuAxTNYEQnKfnnqmpg3SVgg8N31GlYRupDAXqWwBXTbR-hy5VaetJXTAjCAZAoUjEPDL-1dpfUyqXFwEoVAURoQd+DIk6GawRJUELqYEB6kXTBYKwWonMMuLtweiRqVzE9JaC-Srw10PilPReGPFPh59HdiwFFjEwXoEsG+iBIhnTA5Ym8Ott7VKDmYow3tZoOdI2m2w2oP5FgM8O1BYBoIppaGZlwWmbg6whw9kG9LWkXStpR+N7gTP2kjV1+q4ZoDjOMDQjyQgUWtEzL2nwjmhZ2RmMzFZhf4+kfweKRjFPDPS1xsMhGfDIuiIzLqR8IGYDR4YixvudbDBkFAcBa1TYhWImfNEeEIyu8tdBoIrPixHBDaVM76cNNPAAFzceASEJ7JXDCxVZQIVYUjK1mdAUZK4OWKrP1ntENQo042ZHVNnmx5Zpo50A8LOhPCUI0EVCNcOOlw145FMYOZDMUE9EbpCBVIHijtnazvqP1D2V7MGlWI7MA2BzHoLNJoyXiksjWBFzRhBz7Zgs8WeYGjm4h6sbmPcL+DBr1imMAsUzP1g4AOZTuE8yzKfxcxZBCAg8nfpDHN6zDhpi8rzBLno7SyG6MKOWYvL9ZDzvqq8wLG5nxHeZt5UcGWXvMeCEBfwB8+LDEErmQgT5yWQVLdzSypBkspIbzL3Njn8Ris6o83MVlJAJyigf8-uY1iAU8iVgjWUBTbJMblz-MtcyeVt27n9xzJ2ceUiVRCZjJ5SlVZyTE3iESIKxEScyUZjOTkL8q-k6oeQoJGPdCMDSO0FQp34x82AvU3wAoj4rwh-MfnZhVVJtEoogOayTBeZO4AX9hJoAC-sPOVlUgJE-QRgOZMZDFSn6mscqTInIXplSyf89gsVGawQKzZEioyQ-gQXEKzwi5eRaqXIVgLpg0imGmlJ0UgEOC48+zBdxyxmFMgp-J7I1AD6XSFq3lSxYoqqmmieqY2CbJmOmyOKaQHBZpGeMIkMBHx1kAADJTtPxHitgHZJAS6S-x5k7ZJIpkX-0wJVEyCcYpgmUS4JKCXJUBPywoTKJaE5qXMmShBjWxdSnCVUoIlXiElyS1JRRJnAVLh4VS+iSPItFIiBOgwDrIxIiW9EIJLE3EGxNKU2KGggKZydxIiXwhjGkymMXv3T4rKeJgi+mEB0GXGKlZo4iJeJKoCSTQZzkgFrgWEUNK-FfrY5fFh0m-j9mRyzSQ-hMkIicOLU3xUYo+WbD2xgkUSWctzGXKs6Y86FuSjEljLWRUojDmhH4n6TAJ-y4Cc8rQLmjDlzk7ZKivywgTs2+jCJS2JfLeK7Oxff3uSsBWMjqppZVoMiH7GSAqEMhL6DX3BDWEyVZARQsfSCh0qHAGMiOcrAlwwpEmPi8lUX05VUqiV-mXlTIgaFxtxVJfSVSWLnHqLqxS0FLPQq9FW8txDiVuETmGk6r9lw2cbIEGRV5TGAcEsroJOgn38kecEpaCpOcAgzFhO7DcUCGYlLj+Ujq+gKCPiFyLEgxUuwtaqBVvsysmy8Md0A4l4S6AqymMUowaBFQcQUagyTGp4nKVVe1qxbCSxy4D5CE3q7CkSuPpUyoI5wLSsauCCNR-Jr0S1XQt7HOtjFjIN4CQsXKaLyQtRe1fvNKUYNGwbq0BDMs9XVKkgvqxsDmsDUNKQ1CbFrOGo7HbBVE5k2NVNnjUqV+ASaudbsrWXpqMsYigwNmoDWEJ-J1KoteCOUJljMMwgAZV5OCBmq8U+akqpgtvVccBaggc9fctvX+Yyh+aq1ZxOgmlCX1n6h9VBA+AVrr1Fq0DdWK-XRrj6UUNgAJO-Xlt4lxEp8S+PfHgAmICG+8UhrIlpKM136rNQCwbiwbo1z+SGuCAxBoKy1HkMoaIqqk4wgNpqqtWBoRh+KoNpZAjQ0vg2dLElKS1DeSHiVcbUljIbKc5Lw3Qs2NuS7lVwlI17oVV8nBom8CjZ34HCmq4ug4U97jF5Nj0Lwhlz0JbStC1CuZDOA00ogEB3hSwQdPa6fpUgB1VxCkAU1-4lNwywkapuaVMZNiYiWzZpoc1pTdN3hT3vxkmZ2bTAJm7TddBGp6bPeNQMQCCmHi+KvN-9HzX2jUzyb8AFUozUFqVVTYSq1mtLf+hy1l0GChKmMf5mS0VT+MeW2IvQEC1xtuRddUlb4vU2VbNNeWs8niU6yFbMttMRNWBhED612VAfbKiVp-UgMAtKWmRAFsei9l2tkYzVdZvG1-45tQWnfvGMu5CjkxcKg0Qirtx1axV4xBbWCD21hAMtWYimQ0HNEjbStBmmzYYCq3bIDtLWlrFNsEj7QutCfKyH1vJXZVztQ2+ycQCi2V58CPmIFUZjElgqk2HWdRsthO1fSGF0mbbZyv0CRbotHKv3u70O2mKGgoSyQOEq2XdZbArWhgpjvGwFqcdx8tOTOLowoQGgj257SurO74Bk+qid7ZyuyqI6tAAHOCvBJy4dDJhwymIp0NU7qcsUWnbBMStACsC5+C-Q8k-iO3AqYwujUFRJLB2IK9Yskv0NRK51fRNIWOGgJdlDq698BmwxZQYErDUxMWNs8ISbsfXm5h8rg2JlQDGikA5CKtCmWTsKDghxdQgrKkdPDyE7sd4YjObHgp3GRqd90LrR7vYFMFetcOv3tlXD2S7xodkxsDcGv6TNpmiZIEAAE4TgICVPQsyBVGBRhjCXPTMyBUsxjY2cbgDaoWFKDp0HwZ1XnP1ADgXACsayRg15HzMZm+gW3rbyshoA+9S6hvY3OdDF67kGYsmQ0BH2l7BcWcMSQAi7wuAfI7lP4l3Pb1TM89Yk6fdvW4DJ6rtae0XZ0A4VcL2EzCCtTLrdECwgVoe2nQfpmZH6g0jO6Pe2xv2cK2KUMNTCIJxTI67k1QIqCeDIB1wYU3bOMrSsZBQCJ8zAa-h-rcC1iM0muugEVEm5HAs+TEAcHvlIAAG22oAb7nagGwwJ4QUwkfRCG8g+QoDHsAPn2oQMz4vmpHFcIQfr5irWgxwaeqfRYgDh81TAAwpnFVTnrEijBjBlRsvWFFrVZXP9cGuqF8Gp6qB--Q3UwPYGYURNHBNTOChr7O94IYg-I3zXPrshVB4g-5GYNQyIgbEY9RPo72S91D8jcg7oo9jmHvIA+2IJPoLHQqzl4K9ApCsh0tZ6D8OhBVrtETtCWVhu43aboBY95TRTOlHa0GDRzQwlxO8MetgCTWNT1sGNzUpMMCOQs4P+-gDSp3atBQD5Ky-hAdgF5KfoxgaZQgb1pIGKCajAWOWzCP+9Ijo2LHTEZ9FxGQpd2YupDHy0p5VEDkCWubDmgeZmAskaCOL295f7plt7HXZXgiPpMOjXeDqEEehY94BK8k49EpJA0QaU14ivI+5jsWGZgDO7erDFWiXFQoJ-8i2P8rXyZqrdMCooLsadhpTDjuilxXXLcUMFltLDKI40fz2PGnFPccTKQbGO28VJ+gG4wAB0sA96kUszHSEyBgg02CnX83VZH40IPehJNIeMA1QATvioE4hJBMwLwTkJ26Rwbehwnaxi03gCeC7w9AsIFJ0AAAC9v2oAcE0RyhPDwYTpJy3T0AZPIm9IqJ8EGgYANeCTgqEA6MkaECpGs4QJ1k8SdhOm9IW2vdKuQH1osB9aygfWg5kmC280weALE2KqlNEn2Tcpjlgqf5ZKnt0qp9U1nz5P+QgAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:green">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:green"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9phgsWkR4gRAYIUGEpUEmbBcHyeEKhqax-ryUbZ7GWelnGEh0m-pppigpF8Sg3VWoV1KBGkcGbmMd5yh+Y+vkV2aXitCSBgbj41RztW06+stvbuG13XAfu6R-se5xDExxQIBgeAkFQNA8TQYlavplIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKET8JQAAH3z4yw4+Lr45zpOYkL4vUhYfB8A4IRs9zgui79MP0kyZuk+dw7U-uMQJGEBhtzBBOdfZPoB+ThMw6w8fwgAMkX3p+kGBeR0nxrmDEXu3fMDu9e7mfAzDneh5H0Fu6sug9Zqyb95cQxfAzhuGHwKPb8+4+caC7aiIrvyCKfdQBhwtNQMQdBPp0DHoAqiQUz7kEHrUS+O5x5WXAZA6BOl9ogMwVAzm4cX513-HA18f8176BvP-JMx9Ji4MfkyCBBCYHW1rD-chwNV4jBvAA3OQCQ6cTDsaIQM4KjKDYD9LKdAOHLAQakc+KDR7X1AOCERrDxGSLKvQe+dNOLqLESYLR0iiGv1IS3ThKduGDGoZQvhSd6H3RAQYhgmipGxXRrI2IFCeG0PsY46GICw6a1cUY9xzgvExHkQPC+yj0GqJCW47RdBdEgMSWE5JpiSGRNxgmGhdp8nmIcQItJP0yaNSSSYzxG9LF5LsX42hC8BF6I8mHSRGdebR3hoQQIbgIk1LkVwxByDh5xIrlZdpLBOkIx6cQPpOiGGwzRB9KZ5AGDrgFsbQwOSgo3GxM-Mx79P5624IUuhiz6aTM6XXYQvgdlcLOf45pQTUgiXDswLQ2D7lWOGbEq+8TwRvI+FQYg2DUmMLeTM3phh+lkMGVYs5TS95LNAakN43FUQ-ChXMmF9BvmzwUUgv5aDxmgGMkUNR9AMXOCxd06FzhwUovRV0np6zAjrzhd4rho8GCBBkCovEFz9FUpZaQNm9BtkDK5VYnlfKVGkicYw5lUKGCdFgRY+FCZZWVBUToWmLzw5tFrI4L6UqolDMJSM1B6qJ7gmMO0JmyhiCMvpoTe1xqnXdzCPA7lV87VGsdc67g48wiKpRe6wN7yQXYMlWQ2Imqtr1LtEiwJjCqikA+FGz5nMvVCR8RyxOobU0ot6TOYF2aYGxsLXmrh9ii0PxRWHUFmhcQRpNbmn1Py04ZCKfWlpB9UiSMzeW0FOaQ01q7WkHtVDGkVwmMi0OtcuReBybk0+lriU2qsuwDwXgXWcUJju5QK6zVrrRH6o9e7g2ALDfTS9TV8C3NXfmmdybAH6sYWAwghAQTclRPi9dMSlH-NJeCDQP7qB-oZUKjyfdRU4thRq6VdTfFvv4beziP0xBVsrrUxNqGshPJg+YByqrSDYf0EQb1eH+6dyyFR4jLh02Zqw5Rwg1GE0uG2gxjDHlS1kYowxztCYbw8ehv2-unV9AzJPv3RRoyr4zKssUXRLs+4ezkF7KAcBEDIHQIHPEgiPIxxrCClRTNKwToJYayO0dY40HLrnZSpRqQV2Us0Q+38F7OeBPXaSWS37VOIW-D+aQj4L24BZqYKwPNoolcwDRGTpHHx8yZhcLjKn-viVF9zqLTqow4KEiR4S8XeedKrU8+XylFeMVl0lOXnSxdVX0rBY7AGpcq-gr52W6CWdy8Iql1BMULmxfMmRZXFQVZ+OiobNKRt0oQ6V+rvXosmTy1ctZo3cXjfa+V0AhM+5bhWZ0jZestnH3wnpaYG2H1Poi+Sq8DXFRNbbZ6ibKwpsLle6agNJqs2jsrRdloK3+tLt3SlvbaWmrLvMyDxreWgUfIBza1bMwWiVcR9GtridItw+e3l8Dv7kvvfkoIb9bA7lpY6FofQcGtuIaTrjyzl20I8tC+jbZWGcNU2B5Z1HTQWikHMiomydkHLOWpL4GB5B4ZeR8lTkFqm8Hk7ucibgXOhIDjnl1BQs3KyNUO8iSYONzVWMJ7iHp1Bdc0H129R+tOHDq-I0WnMz5-ha7iwoQg+Byh26WQ7ugxuoIxHfHMjIxUFc07gzc1XDgqYPdjGrJmw8LMHnoF8hPaE4Onc+udo3LOrvTC5wXwvRQ6e9bTywsERvHzIcA28zxvTw-89Jw3hi4qYE5qb2wJOD3mhjg1GGCiL5DRmWCAHqytl7JOSY4wygvgSBy7Jz+3wNUcziZAWzqOHPpPdMMEz9aZ7QCka57v9jLeYilDo3JQ2G5pP2a+sxmcrGZlhAPyX50W+2FzNGCx53Z+39ednlGEocZtht4MxtYdLNf4LUmBSB2FI8vplU6U2VaggcosL9YhPtqckCRUVVKR0C8d8dED9BkDWU1VCDLMF1OIodvsvUD8cYPdo4vd59DUHV21x1D869VRwJxwAo3dQFhR9A2l1gy0kdus50g9yUgoSCn9-sJDq1OAot+DIwR8Gx4t-oDxh0K5v9GRyVZCtCxCscYFc0lCVsmJBQhCw428bY5Dx5v8pDYwgo7CdD0YLDXdVDoxpCuFaDftPVM8NptDjDKAcM39lCVw2IN9GEv8HB8E0Cv45lZM8s6N9AEilgPtj8e0DYeA78oRYiWsNQ4RuAYjb4Ci0Cbw0jHEyIyVgFGFDBuRGAfdDFitkludGCrDUg6CmkTdYhGwQ1GRvt5DOZud3DTdrNm1WCujJDyUr8sjYw1hv1k8jAGj35+AasSt3hadDChiTDOCP9qIVimj1jWiBJbhGo6CAjC9+MR0Y1c0AlChh8vCVhokMsks6snNYwFIr5XiWiTEDlskmlyUmt0lfj3je8rwvidwQTatyp-iG46EE9mg6MAooiUUodL0oD1phZH1fBRZl1bs7kF4mJGxuw9QBjDi1jMt3ZlocSgJeiND8iYVIFagPYgQSi4jBhSSXduD0dTMacY99iVgk9mZU95Aq9bxuQ9RuBGTmEWSD8P00SMdgYdit0gCYCrFCYbD2FM8SDIUFtID7tS9CgMDqDjNOsCiFCJ4oscZ8EAsFxPEutCE4Sil48hSH99BHTWFqlAF38Vxwi4wrE3DUT6YodoSNjMSbSCi7Tv8pY-hji-jgsXT9iSCwzMlvTc5fShTzCzh40QFQD4tRF4ywSGCoJbTnSYyfiYTspnSLs-T3TKyNiYyIsgDkzsyIo8B1NPYlBtNfY9MA5LAjMB04D2F4YkjZcFZKB4DiBTTrgzi-cCx9Ac9JAyB99QABS1SBpfUdxKUvcfdmY+5wRBTpglytluB1zwiG1F1xVdzfdDckjflgMdwZArJcgbz9zH591YNH51kpFc8VzackjtV+VnzQBBVeNzBo8cSAL1StVQReUdUQKFVi16Zy9KxK8vkZBAK4K5UQK9UZzRI5ytTcDO8YEsLtyiLDyVB6AkYe5kKhFXllTPF0Z7yN1HyuYGIrIKLGMz1v8O8aLvpKYYL8MbFaFmKFSQzHAvgYU2po4K8xSvlrTNyrEbwLyJNNCM0ZxJZFLyQX1VK8zJL8BjAmpVcBYSzCgdKuEsJIYD97pGxKAp4JjcRRT09OZGRkTByCK7hJZnTVyOckj55EzfKGI+0QFIY7TtkaZIhzKAyUNBgZY6LYMBZv8IqBZnhoqeSbx4rai0TGYRS5KXLdjArepVyWB1hGptKYrAwOA2p7KjBArwgFZqqxBarTx0i9sCY5zvKiqKZADSqjKnt8cmraqfLwgAAeYEJmZqi2VqzAkoQXYXcEAAFXrn2yEFxKw14BjSbHJ2oFqGaHBFAAAGoyUjTS45ohRCT6qjrVErJrrLjCgzq2oLqBKJg+95rx8lqVqZBiBHJBByNNrhjtqIM9rVE7rTrJzzqZBLqzFvVjrKKDrjr7rYhHqxBnqZrxLOI8poygszESzyR9LKwR565sQKrpgQF6im4fLiquDhJYCUiRqkbVZesiaiB9AkbjSDLpL5pnLxSMCkbmhnTN5toGajTZhKEZr2bQABaGjX1-x6qbQ7R0bRjQAWJLCDALNN57LyqWCnL8qq8aaigx9NxnTJ86A65yhj8746SnxPCeiGhGxIZGQ5CtLsynCuEKaZEwqfLadUqjyrwwqd8aZrbWJyRAofDmb0QSa2yPKmFIFsazoTaKY8akQQCI7ibpMVs7bXZw0ZaqaeqDbKraNp0Ra0ImbCbI62bS9HUpKToeaFKVtZqVJJczEhbKES6CJSh4JtpWrepG61sPbZa6qYaecbwlaIiTr+whCNaJyHKdbZK0L5LOYC7Ygjah6SFTbzaRBLbPol9PScFlbHis7XgNDHagRnaBYM6qDvCrEB6vbAqfa9ZXSjS8wkrA7Urg6HjQ6LKrELMWao6r72zZBH4NN5BuyfZdN-ZA5sA1Ltcrc9cDd7cjdhNAN5NrUJ9VFLdrdqB9dPzzBMH4GWYvcOBsFkskGaNrFB6a9nZCodcCHOy2Sr50xlFwQ5hKLYg5hVwn6ihmGOQ2GYgOROGP9mGMI+GciDxBGmG-VR5RHR4JHrs-UO4e1KLFHMhnQuHChmHuJDAf1yBV97YeJJFcTFR1HYhmGja+GjbYwTGYhmGzZVBVUWBDBDy7GHGPYVhrHgQ-VDrRHYh9B4ZuBfAGqAA+UAWXY6oxjx5hzyHxmIPxgJ4J0JryUACJoRv1Io6YOJ5JhJ2XSEZJmISJv1YAGJgwfxrJwEEJ2XMAFJyR7cgAUmKcycCfKcSdqbydAAKe3PEh8caeyc3kCdSe3IAEJJRunSmmmAQKnQBhmgR+mamwRwRRqGmxnenxqYhZn5HtzRqAQYmenmnZctm1mOn5mgmln4m9nQAQnDmBnjntnuAihdmJnEmgmgQsnrmIRBninEnChHmYhBnYhRz0wCoND8GbcEGllwrAQVw9khg15uAQXsGwWCwi0aG4HQX5zYp8AWAAArEwEIyFlYaF5EZp4R2h0Fyis5GvDxooeF23dTNMSKYF0lhFjvYFStRkZRZhgfWoSirl1MP25+5hyAOgb0IbPRmIIVkV+fKl5+0xv1Fx2ASAPh+VyAaVmVzx7clxgAUVEa1dVZleYYADlyADXimjWDW+7S8gX3gBAaXGoXEfL8XphCXmntpMK4WmXbcDFkXGXUXmWXEOdHWGhnXHmKWLweAPW7WCzK16XlcV82VfXaXEHHc-r5pR4kjzdxYGA1RSAKcTosXyBqx6iupNBK60JbXCGf1kdSG49+XCgsNrUEQihgzOJpwsR570Kc0kjhSU89aM80JwMljy24M87Jbw2E3I3rXCyRra2YgB3kYh3vzMWcXTBVzR3y3-Xgq9XCgtbmCW123F7SLqGNCd2xAvhSqRte3XKgRW3CB92CqwR6WOzgGuzvYdM-ZMAMAY63hJzyBTAGAHUPhyobhSAV1NYWKp0M4s4zkwPJgVYKHeFRKykSJwg4aGAEbXMy5UaoaYWCNYyOB6FsjoOkO-gSklVFAbhDVTstAOVMOONC7BBlBlBNqMgzMjB1dGOEmPZjqPTGPN5wQDrSh+OpabrQbjrf3lAt3nR+Pr1aPuLZlKB59s5MOndsMVPUCFOmmIhoJv6EwUbrrwQIRrrXyKPjAqO0DoX635P58VOJh9PrBwRwKXArPcRjYFAPTyNwOUisML9BO6NdI1s2kr5vPQBl5lJhDu0u4bxvPwhC54PaFoupn1IVMfODBtpguFZwQVNjJShv2KA-2APYpgOV1vPjJmhwvVUdqoM8VgvQvVxPNH9vz6dquPPYO-RBPDPjrnOmAyA3O0v-9ouUOJ6-QDr0PyzQsEiA8CwIDtt3O1pBuHsRvrquvXOcORK7RT8BuUOFv7PSvw3JBFPJJQRKKsN3X9uXOevWuAvUgsISuMjnOIQRHiir4+u1oFashovTuNPuvSBBJsiS4IaSZbvSdwQABydDrDfTsH7IlG567zxzvbr7h1UgO5JHzTnTwDFIz6SDzcbaVHyT1cZhoQYQeG4IeGhyHSDBNwYseG+AjgeES7tHe73H2sZHke2hPHz71g1zi-Q2eIRT5nsgfpv8fQDnhH1gvH-C0AfNwt5QYtmcdGNlDwHFM-cDwnSDZLGTODwnyr6RSiunfUmbmTGd1a7EaX9YWX6gTQXinpJXtwGzlXhngXerlXrXv1FTYNRMo5MLb+GTHnhmQgSX1HohaXeGRXp1NwFX9ogwL9CDKrmRX3noh278wWoEFcMb45b+fX2ZSA339wmh234wYeLneKDQEXln1tKXZgUPm38P1c0-XPw0Zw5PxMvjkRuDrCbaGvnFFBDXU5JNLILvqnov53AjmLbOqblP9SaR9v+QWvnv53bI4dlvjLs3oty3+Xhifzxnu-Jf3GzPaF1fi3q3hXwfuv--X3v3qy5v3G8Ngv+f7DYOw+pgibhP4PI-Zh935ukhL3l-7pWvQ+t-jIW6Qolsq9MefCQEj5KVrMWETXhkW2iwC1sq9JTKoinzi4XATXFwOAOdTcVv2wxSAej37gwC-+cHFSsQLH5IDukptafBLgwFUUSKIRJXIwgtDFhyolAfAE1EagDAKggwGTEJUwEL4vovAjLswOqjw8uBzWLSLFBjz4D6O20XAYDgb6gChEk7GBN1BpzIDrK0oTesPE6gMB1AIgDgKQHWjOIiAlOP-lnSYJSZX+5KYWMTDECiw7BmbLSpQMxiP1la9HeWGBGDDjgAipQBwNoPyx6Ciehgs-I7H1gERmguQQgHcjFieJnoteB4gISYJEDCAjhP0INDvxRC7k8Av-jziyGD0L+B9AQm-1po-1gBERL+vR3yEyZJepcfoAoAq4kBmYFQQxmgUMBsgWhujFBIYFJB8DkixdQVHB06G+BuhxIJ4NkQ75t1BUxvJ4M0zqEfRGhyeUJK0Jo71CEIRgaYaOyNLDDRhpHRtJ3hzb9BbcOw9eB0MjBdDh4PQzzgMJS4nDw4Ywy-nfmFqbC0Iswx5tUGNiNxjh5wkYYMDuE9CngxvZ0G8JCbzCGhREQVMAXDSTk1hMgSRDnFL5q5qQSROEVQCRjvJAgH0JTmsMJbJt50CVCCvCPRFgjsRH0a4V3DBEpdr8Y-D4WQC+EVIfhaBclMLRhFkj+WII-6ESKZgYj6hpI8EbOkxGCQoR9MLmhwDYGMASRo5PoVhFKYci6MGNDyGoBMBeBVUjAEQf+nVHOBuAQfXiNqPL5vRUqOMRsGbDUDwUaQPeRkEbDICMATRFsHUXzCZAsD6A3ALYQRCD7xV6Otos0eHj44yAkw3LODtSP7pzQxR1ZVkW5y9Hd5aKSgjyLwCMotQEYi5KgOBxRqrckxDiSXmlB5FYjugbIboL0Kgh9FGQaUHEHmL8BIV6OrJLwUrFECzFVGAtSXgmND5EgP46YrEhoW6CMhO+yY2WLASkzdBwggnFTMJ26DOwxRoARagAAlNWDAAAILgBwAmrAAEqLVIAAAeQNbIAgQ7lNSt9XNgSCnRmxK0UkDCFJE4xjUJsemONiB44OWYpsT3yp7aRqSx4m8WPyzGdAFwmoiVPD3fGZADxT4iVLMKgGBgpxM4+cYuJXHrjNxP4yQOLAqDwwHxkg58WiOtFJEsxJIpsQwBbH8oXxPOMDI+NRCeQwRjAlFN6CL4ETkJCna0aeL6Fgi3o8I6Fgnm1ibVymlxJUcelVH-j-0zEyyDkSoknjXBgMGdnuNNFfijxKEgSUHTHGSA4gGQSNg4GNiMgAADCcDUo1BHIvKOSY0KJyxRqAgwK6FpNyAKTtAQIWnvJIOHXU8QvYqxGZPFTGTSA8PQmOpKqxLRNYAQLSWrzj4sxIIBAsRpuEy6UUsItkzySYj0lvc8OD4BUeYECAJEXJfwVINUGyByT2x1rWSYVhCm6SzQx+H6ppPSk69MpyUfGnPkCCNRHInQFdLwJKFH5gkP0SPjMVWp3BnJmsUIWlM4H5Tyoekvuk1hSF91SgWEGEaVPKlpjfeQI2IANIYBlS2AK6UgakMd7kDyhn9ejuNMmkrozJUUlwBUCaGhB348fFwW5MEmCwU6KKZaUNMOmT1o+qQKwWkOdADgjUnQCKZFmumrhroU5dwR4UohVT1CqUlgA4IugvQJYF9DGB6LQhyxN4vLdmqUD9FRh2azQE6VNNtgyU4hCQ7UFgGggADr60Au-HWF8HsgSpE0oafAONyxc4Z002hA+ACLNAoZxgA+pUIyp4yVpKvSXt2xZhRxvcfSP4A9KToHSUpVIeWGuUcGvRJY+04GTEAHAixpmisCCAbSCgOALqpsUKBbFiFnR4hLotVoUFPCnijgQ3FWkkI6L5YBKQeZ+ngEhAmyVwtgv6b9KtiCyL6Gs7mcrTlh2DEuo4XghqHqmyyoa8s82A9NdExAlZNsFWajOgioQaYQJBmOrE5m2yRZOs22gOE2nJ5UgeKW2cLPfpRVjZps54lwnBB+i9g3LFQh9JXBADw5+0yOalRAEx13ZuIW0YuT3C-hIqwEpjALF9H+jiecHLOc3K34C47pA-GuSl0hh-dLptUwgIKm1lzVmZrMNmTCg5lDy4Wtc1Kv3P1mEBehcHMeazMMqTzHgi8uFmyEiqgA05kIeeVhCHlLwV4c8O-IvJS4VzPZ-EG8EfNGlFAb5pIO+YUEvlVzO+LwtWSsE76PyfZioIOtkTbk5ziejY15HJOzjBFwOqDMZMEU4pyTcGLgN4BIjjERI1pfQs5GtO4q2TpBKC+uf0Mi4NI7Q6ClLoTzYBlTfACiKcvCEI799B6hCyXhmzWRmSkp5Me0fxLoB6jBeBox+kaI0ISJ+gjAMyYyBil6w4pHABKTIjWnEkGSdAOWVGL0KrgX5CssvhwpfFPz7a9ARBTN14VCBcpfIVRUUHdGlzfJl82RRl2zkcAW5GRIMU3UQL-ty+TCxqNIK0X8LkpQI0UZIDDGCj9AxisPD3maTjjQJDAJcdZAAAymrLcZkUyCqTQqkgU0WZO2QqLuZfQ88XBMTG4TbxsE+8cPDiVXjUJ2RX8QuGyXcV8lOi7ZEkQCVBLQl4AGCTOEyUlKclSQJInRLnaDAE86E8McIRlDNjywrY3CXosKCAo5JRE8MfCBnZtLPFAUmBRwCGWCj6edClXHUoSV1zfJdE1EQiOxAJ4BFjzS4vQp0X2K4WEkthdzOEkxL7G2SxZe-VqFW5K2tiwXkouR4-lWFYQ7MYJFonhj6JVARiSsFPohNyUTSxYs0MZEtKCIZEridSRYXXjTxQIjkRm2yXgrqJ3Mqll7XDHrTeSZ4EFDcuR53KegSKwUTzIECtAiWQIEsVgKxV4SbFqPNfDyQJUOAwZLs5WBkRhRENGoqPLFU8spHZFqVMieQSEVJVsrkVwClJfDCWi8QUxAPdqN2IcStw8sUmCVcKJbZsDAgoK7KK9EvFiT1oTBJsUtDVUG1GwnYoEJhOwkekKJ9AD+vSVSlMchchCMSc8sDZ6QxlvI7oJTyQn0Bpl9QylQ0CKg4gnVh411R9EPLkobuxqw5RyItUxTn8Qa55f-2KFf1Ly8q4II1FskqrOl9ivFXxOvGMgEFZ4GbhIvJAarOlwqg5U9OPqpS9VoCTpVhO6U4TC1ytRsKGsIS2SwRtqgiPapzHbBVEZk31QoHdXUt+AXq9tYMuIn8sgpck7gCGsSBhqdFkax-tGs-oxjzA4g2ycECVUyI1VfQ6wqAtXVwcF1G6oNX73EFiSjVzqwPGIOEDkSj1h6w8etA+Dxrl1mbVVbuskWpSG4Z6w8ayQnHTi5xC45cauI3FVLyQAS8Cd+qgnhLA1R60dQk2fXLruSYxQMOCAxAOcCRIMU9bsuwXkhr1iqxNYwEvE5ri1VISDXEsZDlKQlYSpiERsqWWi78Zk8Dc03w1yToNR+ODXugFWOUO8WLe3K-nJFZAON8POQm8DY0ogACSRHIefnh78Y+Nj0bZBxr6EzSQqn6VICxq0b8aFyUmnBSoy4175uKchRTY9EE2oLKE3GxDYETEQpAlNPKlTb5Jk3cUagYgEFMPBZXmbZB+mjTZLz434BEp4mlEKuRxX1DwOLGjzQuX80hFe5SVMEdkVc2JSxN9AUzdskC1v57q5Kuxbxqi06bYt8eaokaW81kjaYnqsDCIHhoJbBelFcLcepjqKa3NMibTZ5r5W4q118muepVoXINagtgYuYgFwOH0jlhFw0tongfwYrVc2xJrfoCa2AFMtgkFCA0A5FlaItcyYzYYGi1DaTNEmtLaXlG0CIctpPKyAVuR6UUptJWtScQBs005i8B0yNa8sFHvK1l3Wv0N8tRmKg1N9+PksyrsXWbbNfW2bnFo-lFA3F4o55Q-UBiwd0tc1b7R4t5Ehyg5wnOjONrLwhb+V0MHLeT3y29aKV3AF7VoBjYgEEJTHdQeYJwUkFkBJ7M9likvaHtm2HkQ-nLxjLHbVtk4IKCsoYml9jIN2v0AjBMD8AvomkBLDQDMyS0XuI20ypLQ6jUxgmWw1epWFVmfaUBYuGfHxLGikAl8CNQOelvBDk71+3+eno3U7ohj3FEo9pSHL9BIke0ftVbfdBy0q7j+m-TbUjvL6UUzdG-SmKpONEy5XEBjXRoyAACcJwEBFox0atp2ldHWIF7pd2+7ztQ2LOB8BR0G1n+xdSVVVKf5CEXACsJScvRiDe7DG+gEHiDyshoBs93axIbbU+mxBU9ujNMR8GRkNAi9wetYaHuNpvKAEPOFwD5DAoVDFpheoPc8pZjGw2Oq1UPhXpRWdBSF5C9hMwnjXVafNfQ0bSbt7VgYSFujQfUGlURbaxW-e2fcOShhqVT+b26oEVBPBkA64MKKVtwtSmtBGQQfZ+CHzD7K8NkxgDpUVH05HBZluaoQvrlIB77RWTs1RDCmqo4Is6FeiEN5B8in9QAqPMtbfrlzRNG2K4X-V1xZWtBjg0cj6SxAHDWq2BHA1VKerQKwGDa26wrEuoPX7qI10gzA8rQHDP7X98+d-XahzkwJ4QR9VvdozT3gh-93kR0QBKQ3cCwD-+-yPAZfBsQZ10wX-YwaYM+RgDUYj2EIe8i566DPu37b8reWfKs8jciZuzWgN2LXRHO0RGoK+itAwho6sXf9ASZ84gRi+kXsGi10-aSR8o+4uvjnVMZtiQgQwI5Czhb7+Aqa4-UCFP2V8ndp-JMRmnZ10Bb9cNe-bXgdoCw31xh7Q9SDMMg6sRlh6ydZhSKQw2qaOcEA5FWrmw5oXEKgOQFkjQReeZ3TfSoK5004IjrrUIzzkF36HmmfOSXi+KvkWxdRmRieEsvo6n11IZi7liPKwKqJ2jFixAe0HukNHtY4QODo7RiDzypMIqzo5fjDlLDWY7MD4DmkGMOi9dV3H8geDbEhcT513O-EMfb4HK6jg9EVX0v4a0IhjxxtNdaIOOyrzjV4baGcZ-mxg-5Y-ABeYoQ0RQN9LKkHuqP0CfaAAOlgEYXNKmA7AmQMEDc6Q7km8TY3GhEz0JJd9hlbAScA+N2KvjBEn4x-P+OAn-lw8FA6CZ+5Jj1jvAE8Dzh6BYQiToAAAF5htQA-xooECdxNgmKjPQKk9Cb0iwnwQpBhEzVFQgHQ7D7wRw5uC+PYngTb0Rk2Mye7blsj26eGsoHhrE9JgIPNMHgGRO3KhTW0kU3ibc7in1W8zKU6ohYAym5T9Pdk-5CAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPEudqgsWlwqgvo+BRKG4Yg6ErISgpSBhjDYGQGGIAWaBJ4XKCmFZSmpSgReU5oZboD6hZ19XlIU-AMSxWXfAUFh8AXdGjBtu2F3wBXDc+owTaploJY1kzQBl40hBnCplDYH6sroL2Rf9mZ+Z+YO6FDkwI7K+gY9F33Jb1wPUnBjgGDDtOo8zuOilKJWfgLxri8j1FM7Fv3c5li1qDEOhPuTsuzYThc247ruwTVpuc+dfXUjebjUR+BHCECNxnB751K9PBgp+oGeFznhfDCXkfs-L1Y84YCPbeEchFfh+fiEXjO1aP2JSkJw7o7PlgL4YdcsckMhDDL-Celpjv0-nbYQvgAHGTQuLMeioJ6yzaLWRwxtY69yrguYw7RxbKCFog7BjUPiCyHv-B+o9H4xHgewDwXhl6KlXj8KhygaEHxgeQ0A8CRKy2YFoIetDNZ9wYJwwhPDxbDxNmQluqQNCEBBNyBuD9e7SLYBA9BHQtD6FflfG+d9o6kMPoAtC24Zxu1On1f+P0xAkO9mQthplSDmUbqAGydkHLOWpL4ZO5B4ZeR8qowWNUIqv0EIQGREDkTcAsWEKiA4Zbz2oAoTe1BKyNVfhohwkwcYxCCko3EcSEk0GSW9BmGdwmCFIJYoC5Fnz-BiZPRQhB8DlCKbDaOyIMlQRiO+W+GRip+PUZosBYT0kGKAbEBGSNhCKwlgeegvCoF6U0d-I2WhSD-zaSM0ZRRIkbM2bETRMCZmd1EWkugkxKlxjxskVInDHYLx6Wwp+uMVSmNrOvegSMwR3LYKbVczQxwajDBRF8hozLBBOVZWy9knIuCCZQXwJAfHBNCTVHM0MYZ8yMQwEx6N-5z0MGQzJQUHIMEifoPF5DSjpEyHJZoWE+lfSqKsmcFiyXXzCGQnZipMXYoYv-BezLym4rZT7VhtMgnoLebNLeWjd773EYfHG0tUiUFILWMlysvpTxlV-QIgw9GiuMvQs8gt9Bap3pKqxscJF+lMhq019BJnms6GIq1h97ros4hKzBSCcGZ3xQqqCtTFYKE0Lib1+C-XtJXEFf5oZyRApqcKfQMsI4fC4UQ45asJiZOmEFelGiDxpuEcQXhWaqasICtUnNnT6BUkZUWk2LyJSgCgfm+tM5i2lpNuyitK4g03LOu2rhIsm1RtjEFIdasm1MUKAm6t-pgYCPDcg-Q8zYj8vTSI5OlrKA9r9jO1Fs60VBO5QrBwA8NT6A9rfIGlyT5UqyNepY-CH0rlpRuCEkJz2Lw7rUOE3BT0MG-XvX9gwbxPrOUcMiLbAnFJcIYbkjBGkp3DvXRmZccZBuXb6h+61Xi1oEFmxk2GCHcJLaInd5yF13pliW0NCCsErrLVAylGQ2BQLWCE8WerENYv4EXVOaHa0FqZZu8j3cy1UzXdMBDQg+MoZLqif+hMSOrt2VeDdnaKORsg-GqtHT12LqDgRkOAnUPp10d7FjwJQT2veMwZOZnFPlUMM7e2ZcHnsJPjXJzQnLOoKvApWzPm64WetrbdzuG13NAfQFY9cGBGMOYfK1hONGyDMZElpq+BwFlyYo2bsepiO8eQ75iz-9BlUcbMB9uGomZAkAzV0Dt5uR6io3mu1gzOUrHGdxqZlZDm8MK-6prdWbHuvFWvIRZGu0iwJQNRdhMB19TU1efNnCd63z3vfax0nFSiomwliVF7ZtZ1S1BC94WXZNv0Cd0RV3Iu7Z63au7jnHb6r9py3tFyEzo0Oy0gRIXBMWcced8kl3XMRYdmdIH5mo4Pf-E96Y+bYfOeyu96x+iVy9p1DED1HkJVJwU350HfscYQ7c9DlbROyvw8hy7SBz2awmpp6F+HGPXWsK+-utFeBX5MzkCzKAcBEDIHQNzYkvNOIyzlgrPpc0MMLZo6kdItsyAYdAAAH018ZGXKqFcPxiNr3XqQ7b236P59WWudd+gNmxvL8WAcy2YGICQkyjGOMoH0e4a1FVGdSFhQ3AAyIPvR+h6u9iOdk3uXf-b5gbI2ivyRKp9270+tmD7gmvQE-H5h6f2yxe7RPhulcJm2kRb2YqEutx-UciTkfXwp5d2nj3mfXs6X2kE9vCOk+GbveXpMQxw-6Ar7HXTk0Evd451bxvi6B92lH+rfksGnd1Ps6Ztn8iG-LCb+QV3tR087kz6z4HUcc9BJP3D2K+fEexyokFefWRH8eeX7nlwl+0eMGn1LOfw+byL-Hzf28x+jJlrlPy3zv1n2V1TwP1b3lXBFRz83PwS0QLCxv17yyV-xGBvGf1w1fyCVQPZzOhLx3ywLA0HwANfyAJTQ+g-kvk2x0QwKeUDGdz3xbwz3gJAXoOvllXoGQIBy4K-kjk+hWUo3v0Ww0Cdih0LzSCNm4FwMr07wS0EMGSYIfz-woMHzwLj2l2uWBjE1Ox-2gOb1gI4LmycWmwzWTn4L5g2x4K2zlUgNIP7w0LtFwx0I8mMylWcFnnsMYJIL7wTFYP33dzMKzj23BA3mlQYO2zoBsM4jNR4J1VqDUMXUxUCBkEcTxCUIB0SPngtVSLvXSMqEcVJHugvwdW1WdUKITGKMyIPh0Cr1XwYx9RQRn2cKCOVTYNMKP3gJI3iPqluAITwSY27SMNqNs3BH6O4DLXKISxIwMO0xL1iA6K2lcNvyXzmIB0nRm0zTGPEJcJGFmOhiCU012O3UjQOITEXzCC2Pj1SDozhRaIjTLSuJYJV3t2OIn2aNTQ7XOJdV3XGPeLSHtxuKoKCRliSyYOYKuRgNCN6PMPBCSwGOuCGKai5GSycMCMDA9yRIxPBBmO9juKegxOy1ywCOxJcAULHw8PMFbhCVkVLgpJhJPhMPhIBKsiUWoDkWcBRJhTgxlQcJ2yxMwMOPILcMr2JI8lJWZPUOwM0IlLHxyL5mJVJSICiSgM6JBMyH0HVOVM4iHRZT1LeKpOHz1KlPMA3TVMIA1NWJcBvHNN51kDgwF3kCUGF3ZjFy5ksCl08OVVVS+nhlvQTG8XEnZADNpNEjRNSSWREL-m4C6wDWTzSMmNyBDUaREGaQLAJL21jN-lWQTJyx6Bx2oLqXTKaVSRkGDOBLZMPzBBkCsjTIaQrLgz5PphaSEJ-lEI0WrLRFBEERKIbNAGyItP5I7NUKrL9yKP7IyI0W4DKJOIS32WmXkDr3rN7JszTVnKHMaMjNACW30MdjeA+Q3NxOW1rAJJUHeVEX1L9IHMuRu3Rg3OCPYJ3HRisnPOIDbM-MlQ+W+kpinLL3WP-PPCaL5mwS+D3jan60G2OTBx+0DBvBLKCSHUhjJTJ1LzWJGGQqO0cEgsahYDCR-nm0KGTLvSwkhjIXukbC90akeNxAOVXKHkZFi19NRLuDQpv39RxQ3MD0p24t5VvPMEhgRzWR-meFIoQtNJGBplHMxiNibTEqNgkpWKkr-A0XEr3N60zMYtmUzX4t6n9RYHWDoowrItqPFjEC9ykJdiiTDI4DamstPGfRXh4A-Rfh-hsvtgErawTJMv6weWaAcqstUC8ra1AAAB5gRLKnLOgXK-RK57EwVwQAAVC2fcoQXwMpMQXgYhJsBk6gWoZocEUAAAahbV2Q+C6jaiFAgS4vCHKsvJKvKr2yKCqrmlqv-ImHmTsQcVSvSpkGIEcmytyoo3ypkUKuEGKrKoqs2XapqpkDqv4oaqcSshmtasKHmrEE6ucvBOUItmkgRxuxv3m3JHFQllPgtmxHgumCCVk10QMopltPHX921P-GWo2v0mzkuqIFW12QgvwCgvml0rXPQslk8wDhvyj22nqs+piFmGH12rhq83upHy0OWptDtF2qoyPRWAHBgSj1ouDXoxBqHjw2RySs3BOqcVsjtnKFAGzxxpzH0ygUbEhkZFQs8u+z9CClRpEq4o0uUu6zQhEpxUFsBiZvInjXMsDBgR+uup5xXz5gp2kPe0p16lOqRFwsrHlrBvJrzHmMQzCp8uep5teofWNohseTlvRGxDhoBqBpgqYrgr9itooXcSh2huH1hqAVKHgm2mct6jdtiGaFRqIgxvUuxoPSqT7STQJrDKJvoqdr0uTn1qKFBSpvVpproDppEAZqNkRXbxRW1BZtjDZp-g5sLRnDQu5udF5qNv5v4vFr5GFqvFFt5WbsfFYmlrUptqur1vdT5xdOZndLZlF05m5mwFLJ1XiUSUKUrPSRNNZO6PZPBScTyTnq-KEpcA3oKUaniRkXE24SXjaSXufzaVpkKi6nySSRSWHoa1s3TFxLmEvNiDmFXCk2AUmI5FfpiA5A-p2VxIwl-rcoPAAafsmKMRAaMXAa-p3A0g+MyEvLt0yGdE-oaFxO4kMBkXIF8EvKwZwaysVHQaKFxIzt-oztjBIcKFxJuC9xJRYEMAJLodUAYaZhWGodiFxNKpAdiH0Hhm4F8HCABAAD5QBvFyqiHOGYhcTPJeGYh+HBHhGxHvEfIpHAHJj-1phFHQAhHAQVHQBIRdGYhpHNywRwRgB5GDABHdHlHxHQAwB1GIH4GABSKxnRvR0R+xlx4x0AUx3E8SXhjxux0MqUIRjR+BgAQklCCZsc8YMeiaBHCecfMYivcbiZCcitiGSbgdSYBHkeCf0fsYiqBFsYifMZEfSaUaKe8TEZiByYwcmJEfye4CKEKa8dqdKYadIcmMiasfscKC8ZiEidiCDPTAKgIx4Gvs3qzOv34sBBXBuGxDmG4F3tvtmcZgmfsymdnr3o2eynwBYAACsTBd0FmVglmTkimgHpm97Lzz70kLwoE1n56XS0xIpJmXnGoid6szGtxJjY1hBLzAXTH1MaHJjIA6BvRN48HWnIXoW4VQWwWZHJiWGGBYBIBf60WMWkXkXaGqBWGABREBtFwl3FsF3EgAOXIEpasepcpeDoIi2apC+YtQcw7XmYBEWckOFC8e2irNWdufWZ+eZYEFZZpxxXOemEud5bEfPovB2ZvsKRFZOCAJyRnqVbvpaTXosTrI3PVdejVFIGUROiOfIGrAQy6k0D+tXFZYPo4CHlLnWT211aMQRCKEdz5mnCtlJuOQ3O0sdRXJTrBGk2kW430FZc0S4u4GRsVZmZp3qtbsKDDeRkjYFMOZOdMH9VjfFZMze0EqTdiETpDSeN9dTvdRou9zEC+GMu3iDbXOI3jEIGTtBveaHpaVdKFzHo5kwAwDYvf3eQoFMAYCwQ+HKhuFIBoRrmfI+LV03Gf2ncmBXARvlIX0H0XZWvBAYGau1mqu2sWqH1XayA3bfTDyPdJhIjkrTJuAQSWS0Ajz3dNtFITHIGUGUFyoyBNSMAiTfbsaZnKtuzfaj3BBKtKBA68yapmtfeUHJb9BA8JMfe3qmckDhS9j3YiUFQw-mhvkoERciGghlvg31zahmvBAhBmuvcvmMDvZSMud1Zw7hSw+zUausHBDkoY9xBWQUFu3KRnbep47WmXacQfV0gDhTVswsXCBD2UmTUQayBvEk-CG1zPfFKyEU9AESacWKHhCE8PcGEk+A+08NSvOTiHZnFHdignZoUk+MmaFk5JQKp5IzgM+k9XAT09n2T8NiIE7OWM7I53Y46YDIG4+2lJUU5WvmRKp3ZvxkOvROQLEFMYPU5atXCi5msC64707RrtDC947OTKsi9Y9s+Q9w4gUklBEvIsUFZQ84+C6XZWHgSwhs-4Q44hGAYA1s1C948xrU7y+q9K6C9IEElPb1z3Z86E-BAAHId2LFSPpvT2trOrJP2P4gnisFSAIF1u9HMLYSLbPo52sutvYOrxcShAgWrJggmqHIdJOS3BiwmrVUOB4R6v5ISvUPtojuev9BPu3vauhvH5aVVuIEPvawNufYbwfvAuju9yzWLXlArWZx0YdUPAttWVCA+OuSnPo455H4gt4HMez9qYBSYil4cfC2YhLnYf1h4fqBNAm1kecE3AmO0ffOGv71E8cehPcTtOZjKdYuOfr4XuVIWhr49ytvrZPF4YGfUecfMMk16SJqseWfya2aBSoagQVwYuTE4vPPtFvOcemar6Ue7vJlIl4pJDxfXNJfpemfsqhV0emaJ01fKdgPgGhOsJtp55jfjBTfBUfZn8vfGefeSU-ehemh2yEv1f1IoH3f5Ag+D9IlT2o2XewzwQqfLXafEeGJRP44KLneodyeMrsR0+ae6ekfA+ttmeDeAfQHNxk+C+pnveE+-fK1Ix9Qg04uDec0gpufLytei9PYDfW-KIDM81RfpalbOI4USAWfALgS6VBehPtpOe2eM60eIUXFoURe9ePJp+t6r3ryLjZeduT4F-0ehOkLF-V-Kb1-s6oU3ESfzBjyKMc81W7vtJypKB8AmpGoBgKhBhj+hHdkPCi+iy9U+Foe7nJT-4kp3+sUVQoALUrbRn+R-QXmBV0KnRNwCAyksvRCJ1lb+4IbTmgM8Lr5k43UdRHPGpjEVpQudSZJ1AYDqARAHAUgOtAqKEAVEgvedEGk6jK950+GbZs9EyzEwXojAGutfEoHKVo61GBMAILDKAs9spQBwDQIwH0CzuTA2-jTD2zNBcgbA86KtBuzPQu6s6KtEGjP5joza5FD9NoOB7D4De3AKwdlyyDV9JBc6AzMJEXRzxnBPdbAfYJx57kqq-QBQA5xICZkKgEcXwCkUMBshQhuDA-IYFJBz9dunxbIkJ2iHhDJkcQp4Kew97e1sihfJ4EU38EfQghfWVIREJVQBCEIRgXIbG12SlD0hpIJDtUBWQcBzWYBMIREKiGRgYh9QvjhbUiG48uIXQtIbLGJCZC2e2Qo4tULQj5CvGTQsgC0MKR1D9AdQkYU8EL7OgZhYjQoYEKIjZE9qAObYW9Ajg6weWDgGYhuRkDHCkYXCQIB9DQ4VCZWZw6kPgSXJXDxYNwgIfcI+i9DPi5Q74UJ1fRs85hxrfoIsKGEpEoEMNP4YJCTabD-obwxgNsK+E7CtC0IwAkAV4grJGAdDfiLxG4AXws4NMBIfJU+jAcZASYWoCVQm7ki9glI09ogk6ARsqA+IqgOECE7s08cQI-OD9CZFW4hOAbBgEKAtSghjkeIriMyJJF8gRuAeD9LxCk6h5YkH6AkQMMxFkBsRoUUKjeDlHrCVgN4ZUTqOmCqikgDAHEaFU96siDRmybaPqJqEi1xKNfcEDSI4BAs-Bc0DgF-0RHQj+GvFD9DYzhEPoiBT-PoEwhJSMAIBH-ZzrAOcDcBxeYo8XkSKgiNhTRA5GkN8kZBGj1RfEUKrGIlHhjUQMbZFmhHjGaUgByYr5OlHUhOi6RL6NjAtzdGSBsoSIssd0m+SBjVQxgQUTKHhi8i+OW1LLnKLbHiBJAHwu4d0DZDdB4hiYyZr8zSg4hxxfgBcmpXqxgRgw44L6g+hRp7kWoCMBgESDdg9i0skzboIyHNHqwmIKebgd0HCBgdtOXmboO6ndGgAUqAACUJYMAAAguAHACEsAASilUgAAB5SlsgCBCsUgCg1LMTAK0hKZeRWI8QdjBP68AOx247sRmIGFpROxFQeGAnyjHCY0Jp7DCZ0H7i4T3gclQiZkCgnFh0MG5F8W+M-Hfi-xgE4CWROHEoScJ0E9DGhOJEYSkRKE3ceWH3FoTbuHE+gJ5G2Gv8UKLUSiRGPeCwS1R8E-qEAMOGXCqAlzNdASNyr6NWqagEwF4FDHSSG4GkyyG5Vw7yTJRx3f6JIDUAGTOJVAOCeZNpiPjHu3zDMiskZAAAGVVkEhqCORBEGQX-o53hzUBBgV0fyW8gcBuSgQzk8KcnG0DlU8Q54xdNFNyARSyAclQmD5IwGgEL2o0aKQT1ijBSfRB4CEDz1r7ZAwp+U8qMFK+4bs9ygQa9FlPFCpBqg5UjgOtHfAVTApBUs0AzSGp+TC4lU7KMFOShnUEs5QxqI5E6A0IsBbg6AtwNl7WYMpfUmuLfzyldSqpqYDjKfw-Qr8EqZU8aQwEmlsAaEy-VAZaIOlHSaEl-B3p5lMjj9ca2Ai6VNNalQxJ+HkCoMENCBYpseYgsaKjHJgJjRpAOJ6cdLJRp0uBPIh8LwJdBx12gjImuGLDMEaZF0KqWsJIKMFt9owe2dLIIIujCC3oXNBSZLUVBBQWAUeOQZslKDkiowcNZoCDJoTPR9Bhg7UFgGgguCoEKeOlGyIIilB6ZWXKGcpz5lIUw+sYZoNTOMCeCHpz7RCoEAmnPTfBnrT1IjD6xCiGki8P4DlPJingiZh4-gUINxl6DXoaFBGeZKYgDgBBmnEFvOhjR0BaqJojUboJOiOwDBBYwsTEG1mmzZqVSTGYHHl7cjNwp4dpOpjwCQhQ5K4dLPrKBCMyjZnlD2bJWjSLoLZK49ULUGswOA7ZpozWVwFtExBGZzsoQVJmghFy8w4lLaQGyzka1TZemH2QOA+ncZUgGcD2SbJpgSUQ5YclYEFEdEUiXR1ckfgnLvTlyTZccksUejenmB05i1e2VmIjZ7hfwgMtSuzVT5VigW1I7uTn3D4MisghAWeQMMhjSiMBM87ma9wFGqzAae8DWdvNWZzzS5XIg+YQHiH8jlZmZU+erMeD3zVmbIIkQ4zAChzIQ+8rCNvPlHbTip98gYRPNxCZytRUw3ZFqNJCWjYg4CqefxE97QK3ZDQT3nApzmKgW5p7LubSJ7ljzYSzkr2FYXaJqUXyPRMRKQo-L+S2ybwcOEhKXjOSNyz+ZhUh2imqFmFxIlBvJwVL7B-JrPV7qdzYCTTfA-pC8jX2fy0QBF+w5WgyVxCXxiFzkmMaD1yR2SzJxY5SrrKpDhwLc-U5tPVIUo1xmp0cZhflkmaILyxjIeZIgszk5jTJSQeBRSHoAMLvOuiuTMwqcWFBNFgMRKXeksUtiKxEkZeevJKAM1axq-DVCO1UUvSySECdxYwE8V7Yga7oxsV6ICWpjNiaKR8bRIYA-jrIAAGUJYgTwlmQLyUuSsmsNnJ-8DMTrMQnISuxckpIOhNYldiD81SppacgInDiiJ+i-+Eh3IkLgOlNE18XksKXFKWJM4NiZMg6VcST+hwlNoMDXQ8SvRfEvcZkSEk5zwQzksSdCPhDk8Vltw7jgQIe7+TdlRy57nuXVazL1Fji8ycSOUnHC1JGmfyUU1arqtFF-kl6as1uV0AiZ5PCCdZJuUOK-lDk10SGkLhbdvuqioQiCoUkjjBIDy6EUcNUmSEVwi8sRlAgWVcYQh4IpZQRG9Cm8SJ-8exfZJpjrC4R1y-ySSphW1KHJnKfmmiK0pRKoVW3eFdsPamTNWgyIRkLOL37QqyA4TJxPSmiWCri60slwNyocDkzwI44ITnvAhWNRWVqi9lWiNPZSro4yA3dAKrB6qqjlg4mWChKWhyjuFqQPsaeIyTKcZY3Ai1YOI+DBBf+JEzsZhIRi3YSJ60INEao1l5jnASM5xds2PFAg1lAkzIj6voDEzGw77exPdjDWeijlUrIBIcs+HdBhJVE0SeJOJlFQcQqamSecoCE5lYwTXEidwDhFRr6pzKJ1RyqozszR5QBe1YEH0XOqUJL0zldswzGMh6FZ4bzmYvJCequxxq35X6r4FUhA1gcLsfxNxCCTB1kgyNYkHLWNrthCavSEmtHHbALCZyjNZIKzUpr11HAPNR9ALV+gsIyigwHYzLX3ZopVa4fsClrVqthAMysKcEBsmRiRJpyU1fordWvqj58caAcQtjU19oBsaz9WmtORQD71z66OP+pxj1rHVr6ptY0v-XmLtm9sIla+t+a5L6Jv4-8UBPABMQMNX4rDUxJKVFrX1Jauxihog23EgB4IDEGx0XIA5f1XyrhVBBg2NrXozantcOoEAUbqljIXJfkqKW4byQ-G8ZcRo-Qnq4RPG6le1kXQ0avAdGwhSfCTpvAjmcGNHk+xZI8L1NSHIdCpsejabiRp0m0uwtvgzg9NKIe3hpuuiD5yUclWjCW1xBYNVN2rclO+otq2b6NfMIdE5v02uaT+Rmqjd8VsKmai4KQZzVmwM0n9rpgWoAjUDECCxJkUKvzUAIC2DiVN+AFqeZqzZ6qAhfHZTfQHC0NwstgJdkT-ARWnt0tLUjdMVv-g1aLJhQEVVCt00Fb9NdWlCIWMZX6raYWa8EGdyaqNbVFl5SraBv7bBRDARzDLdHB80Wact3w99UnWm0FhlhYWx6PFQrilL2MQI2KSCNaECZ2h+K1cANsFUiY00i2sEGdvZSSiEVhchoHCKc2TbRgp2lbRZuW3jbVtN20ZJ1ty37Qetl3KyEdo274Mwtk295t5OIDxb1E2yK7RyqRVHKUVJwu2m3QrqiNWZioLTQDogRxaEtoqjbgJ3ZRYK2q9Yj0Qis7pLtoM62lJQ2LjWfCNBxcmLGxna1FAvt3w+6D1uu79aWVg27gFjq0Cg6js2E99uQI4En980FA6PI1GraHNZ49bMmjD3NbU8EeN2KHczsRUxheayKlSQjpta3VkdIjYyAjBMD8AvomkdlmQK+jI0uuFSBSU4o6jUxlGNQtfpWFdloLnE9-HelQD+mIpmqrM4uYUDT7y6M+ZfbPoIroTUgidaSo5Z3WK4PpW6Kun7fwAhAl9Fd6MDnczi0A47YWoAJPZn1HSqskxXiULdgzCGMgAAnCcCCQEMwhJOjTRXp4hV7Dhm8dXB8G53gy-Z-HD4EOuZo1yk0LgMMu5LTqFBK9uDfQJN0m5WQ0AE+8VaxFLp+gh91go4lktjBz6EVgolZMiMqEd7udXkYcsTLYjkhl9Detff6huBS859g4zoKIvEXG6O4Dq2barqAEq7WdCe3rSItwZX7U9xqdPVt0q6v6xFTAAMnzoBwV83AGe5NHQCKgngyAdsPeHhynHbNWgjIS3h4mYBS9gDNSn6MYDANFRSORwS5b2qTTJJSA0BmFhp3Uh7wHKHeedHPohDeQfIaB0AFtzHXYGfEcjd1iuGoNQ8YlrQY4KABcEsQBwsapgN-xYC-971KRbg2nUY2Fwn1QGwDU6tUISHJBA4Qg8QbhSkGJI5B0RPCGhkxBqD4IWg95CZAgbBAYh0QAYe8j+ReD+mNiDPoaB6HzDPkRg+WKZgOHWDkgg-V6KxXIrnldoguijs2ScHjttok3SHDN3fdrdBgJ3f9Dsbg11hGO8I2HraipLqddwgMbplvWSTRMQgQwI5HVzVAioraqkAgaBBIHreaBpkasmN3gH+AOBvA1xslG-N4jrQGYuHpSPcc0jfirUhbUhhrawlWefABlSzFzRxRzAWSNBEB41dQDIR0gSamaMqdm6l223dEaKbg0tKT8yZEKMpAiju4JsgkXUvJARy8ZBsk6DHMTzNyR52AmQcnIgiPyJkFckY0TKyG-KkFoVPOWdBdkPGq5EUNA6Acm55j9AaCgADpYA-1OKyZF-zejBB2jDO3RkowyRoQx9TiFQ4DX35YAfjUKv47AIBNuzgToJz6UIchNDcmRxU3gCeB9g9AsIpJ0AAAC8FWoAYE1sjBMEmZAUJpYz0FpPwm9IiJhAlAZRM1RUIB0KuqGJyPq4-jTJiEyyaJNxMOu+PJqiwCarKAmqQLSYJNzTB4B0TMSsU-iYlOsnpTfzXrXKYVNKnnu3J-yEAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:green"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:green"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:green"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:green"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section&nbsp;<REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise&nbsp;<REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:green"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:green"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:green"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:green"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMTWtbIjsVQwTBPjRvQWEHjElQsDBSHrJsljWOuZHYQAZApoC6vq5EZOk6SgKQom8Zx-51uK7BMExqyltJqG8fxQiCaQwmgIuhDGYuF69AZyK0BI6H0RwlCgU5bAmfJkkoapMiHsFrl-v0AE7CwtC0OQMGEIFwymUSyFlmK1hWQJVh2fJyiLvFiXJalpAuTW7k0CVSUpfwpC+F5tE2upGVSeWYWHl11RMeeVUxXWtVlQ1HAQfgQWYth7Whbch4RVN-WXtVqGuveVTDMUxDiAwu6McFZmZRZPHidZHC2fZi5rfQLCbSI23tntlUcit10bY1907XtTXea101JLNerhb1PVQn1dpcTQb23R9TAPbtk7jZNbUA1lNCgw4C3kRDK07P2J7Zp9j0BulqPHTlp15UJhUOfjg4anDX0Bs9bmDcidOnltTPxp5v2k7OaMqXNIPC2DkU42zNAc4TjPE-GSP80dnWi5jvXi-pkuoeI6ECCwYEAB7cMwCWDIrHXZWJfFUwVU1FdrXa6wbRtMCb1As5DoD247YS7YFHq0GbKFMnIzU+X5NjGcoGPgwNiJ1l7eu0QIEiB4L0dY4hEMezsc40hSTDlan5OW2dF004uuc3SM5XuytudMIbxuJdQRfK0DGdZ7j1hrQI5ABiwohO03psHTNgsnVbNn5fZ1GBFd1C9-3g8N87ruELXms90PHDO2p-0CxZtlhkwuD2U4sd3qAW8rwwObUAHo9k+WR-MKfNM6BfAHX43XCiDbKMH2fvlY+b9bagAAMxRWzkBJgABHCaJBkb7yVhbXKU9qZgMXMBeB-BiBMA3nHZEjZpjYIQXgrCBJDrmxoBdLBcCyH4PxFNAkn86ykNwSQqo1cGoP0WvoYwT8tjR0iqw7kER6B524WleSlCx4WTCjIqKdcXaNSrgXHhFCkIoQziwl6msdgF24KQCQvh6EcM0VQlCbFJSKNETJc68VVFcPUdI5hWjx7WHlMDMWbioFdw4D2SgxAGxm2oZZSm6D-6kCKoE4JBDL7EICaIIJITH6AK2LQ2JDZVw5HInY0AWSAmUGTqEwGsgO5+P0dYMcMY9qt1QRE8609y41InIMeJAFqpDxds3fafC5Ft3KWrRaSjNbthgrwgBKD0Yq28X9JarNCGBkoFwBgEyZCUG4LIwR9ivGbN0Ysy+uBxGNXGRsrZ7j5G3H2aMpZ6wJHjIDjcyxgtDw3I1ncvG7YZArxCh4ku1sfmGyKiuSpdzmABWmNLF2CZGIjkkm9Cso4oy1MnImL0LYwwRlad9RM-gSzGBWrkaYwYB4hN+VQwIVjrD9iBdwXQs8PCJMxdCulw5sUoraXuRMMpGjKlkuESIvzGWhEFeFZgJKyU3CBr8w0QJXDEo4KS0QITDyyt5Q0EIK8CVGF6OZcsirlUhPhZxa8mzRjfSqKeNc+BHS3QEKAfipArxgFwE+F8xAog8A9BA0Acg4YAXAWgINkDop3JKkEmQTYJDDjhpQBgAhtn6otl45groE0Emoh4IgIhjlBgENRLV8CB5RqYDGoWQMwppvjYm88s9QAeCrXGjNGrNWgAjcQUt5bDzVpbWChJLAmxiVPGkdqV976OmSbGQeVrxheloQAKlnUwBdz1XArWSZQBs+BmTRo4EoUAe6VhjtcIi2g+AuzLq9B2rt+6Dy9SnQPYd4x2T1HILgP157L30w0lpHNJ8VTSEkvUFC-683SB1YEbooAxDAUpfURFvaHVaRvUe+9YsL3LtfaxD9G5m3Ic0qAMDgHpzwaaKBwQAH82QfqNB2DTAyONG0b1JDF5AR6pSBx3Vaxcb3lGHZPdB60OgCRsB4wZ7MM-pQwlSNgn0MOEfTO+m2Hkjvs-ZJ08v6iOUfA6Rk9KRgKNUPIp59TA6jyuSOuC6cnRXXGE6JuVFn6jGaCU+rDKmoMwdEHB-TyREP4evTJztwmIoaZfWxnDfqkNaeI-msTABIeohmxIYe-darAiWnOWbFeuezA8JqOayw0ULaXwsXky7qrzPn63GGSz2-DyhRM0c44qLjoA2srV7rQMIpBPUyDYGJ6Z9YtOLk3du7gi4asNs9nRcbU2Qgvk0lpRcKpgIMAqlNowHhVv8c20qGDDAnyRDYEVAAqoQBshBKDBhoOahGdYAC0D3tL0zXcYNrKEus9c9ZxRFd3LVSfrIO6Yy78VYERU6r0-3Jyg9G7Nndz1EXcFtVDvg929yw52+t56HtEldhVL3WCR4BzWpE-ls8lKULrmhY18ntzL748ECRMax56YyEZ4TiSlO063A5yRenAE+ewRZ5BEyQuudjuY2DcXAu6zi9hRwN1xlicEzM4+YyfyLI3pp+rwKsvkQNypLIHXSNlBK719ziy648cE5Iir+mtPRcJF12eD5l8RCFETb5RiK9ack6HC7ySRKJVKqlRT3z2xcNfKFTCRjgQ1M-OLQ4HXZ5BsNG0eGJgzXkh0e8wxiPCGJ0FK9PLlUivfYmTV+b13m2UJdhizpkje3jAeFwAPYCzejAhENVK+XCsuwedoxl3P1XATUp3mKinm2PA95VdK2QqfKI4W0iHo1cyfkwk2yENvefs-tbWB915q+w+G37QBQ3-AhDvp3pQE2I6TcDzNxXhFRfxcl9t8Lsv1f7ek+rxFwiuGb+AAhIRrFkBnHhRu+iYliL1lEOzh-jBCLhNPAUzrBM7p3g0BBE-hrh0KAAflVgxgntHkeKILHnoEVq4NeAutQYqIim-lpKXtSN-lgYHnvnXggaACAX+o3vmiKkQFAYyBSH1jThgckH3uTigZzvcPFjIUYH-rPFqvrEbj-gHiwX-pBiPoQbhh7pftYC3CwTrn-oSKAFQTQSBoLIuG3lCNIIuBoQQRAYLBfoICoWrmoc-hoctJrPwbgNAUIXAdwAetwJoNgRbpLoLNXiNlYeMAIJNvUB4JYdUDYYqEWlBA4AEWuDoIqK3hXskahLSgEQynETBkoZfgmKBNwLfolCOukaEMEYHrkcQUEYUbKMUUbmUTfnfr2EEWuAen-kYKYQug0QKtcAUaAEpKhOuE0VkdpgITAX1oeAUeZhQS9mDE0UsRQd4b4bAfPjIIsaIUCGFGsfsYCEYbkQkdYTEW7gBIlLBA6HuGCBaPrJruWOuPrMoMaKAPKGfoZNYCOGUPnOVM8Q0pPE0hggCQ1EVCOB0nWGtNtPgL0huM6ECTMu3CxkifrjQJuEnCnPCpbuWNYqrGDD2uia2i3p7NPMVKIKShIDlJni5LkenGiWVlcUNFGCYnrH8SOMoDggwCYj1h6HiKADySYn0WOoittKwNSCOJmPwMZCzv7jCiqIiS+pBoipscfOen-F6PWuqXMXAcKRPryBYOscseOiQJBAiRKbdFii+iacsQaeoSKILOqcbHYI6Etg5FEUkUUfKLkeBPlvnBwMKcqdMNiTIFaVKUiXaY0DcTBHcdSA8ewDIC6S7G6Z3F4cBLCiIPrLsRSMiahMRETocXmd8ciE6uaEmdGkJmWsemsGel6E6l2tWRIB-E6RZA+B6WAQ6nKHsPtrQCydxJRvrBwHun5LmcgkYIitGl6MWYhJBuPrStGroPESuPttGpxA6KAAACoAASAAohwAAEqnYAAye5yAWk8ofoK0uAGwnqNpLs45ApIR4ebZ5Y8J0wBODcT5owhApJW2jqGwWZDcPgI4Ac-Jv5-5+25ZA8g8YFYOhyAEMF9gD5Ac+Zu5B5x5Z54A+S5ZX5+soFzo4FFIAp+ZiZ+QvAl+MgNW5Z5FMg+FI5Zavkp8EFFghWyxFczoD25FLk0ZKQtFtIMgy4OSnF4w3FtILkUC141UD4bqz4r4cAiAyA6A348gYal8-pkE+c9k-AEwly+JMCogoEmlUEFAROwUBEHguSzqfKqEkKTEllM2W6O6P0LUSBQUocg84c9lwUygulUFXeq0E6MMXMcsLcFljQHgmld860IVRM6OfSCEflhAelBE-K8pquoVCVDlkVMGEEGV9MWVdSNM-laVqEw09Uri5Ejl0VFVhcJVKVAV+2OwPcfcgwT6N8PSI8i0NV+VrVS83Sa8OljVZVOwCcg1CJEVDQTKwOiuksMg41Psxk-sTEfFRW41YZvlxxxgpVtlREZiiCOV01eVT67Ch1Z1eCkiLipAkyiEyVqVe11gWSR1RR0Vz1DVD1baOcaMV19VPVuV0Vlczif1SVMGI1j1W4O4JMU1RRY4KcJl2lXSnVQ1vlYNela1DQR84cSMAcjyq1aNm+tlowR2l052l212NAnkwwLA+soAT2J1WlIw7sHscNLIgpjySERBskHYbAbVnw1UbNZB5wKEcNO8PNfN0wAtuIygHNOqmhkefqLVz4FROac1SygtYm-mmp7pDNplJkXSYZuI7FFBThQgulEQ1Ahc21gQXSS1fsowAcRtGNFBjyztRWSNKVFtlVdkRtg+YS310k7leG2tTVZJucSMMVVIdkrpf8odgVXZct9h+mxN8abNZ2F2V2N2N4msxifAdNz2cNb2++8IG6wC2N5OAcK8tA91wGKEV2qy6yVdAVPZ9g2olwk+40iNJyDddKBINdbtrgWNoEONwdpyayldhsfdBNpZNA0V-V7Vy8jcXV4VYC-leJqCmePyndIw4ZC828u8+N-lodUV29Jk38RsMVt1zuu1RNp9u9RQN8v8US19jVA5s9+VF1SC1dBNlKXNYEbARiJin9miaeFGuaJGdh9GCt9F1g4gEiaiINN1QtY+jhd9xyDA8DwNDUmiig-lkDeeceiK6DmDCE7l2pgICNO9xDTi4JVVSDuDr9iof94dEh1DNIpDDmceyaZI3d8k7le+8tBe6S79p1B15CteKiv1GiiiDDelAjB+nhdyQ9HARAFVcwkKSawjdl7EGjUFLdCo9Q7d1wi4C6qjJsyU0gq6ygyjZjpU+a6+ujsIFWeBJdmstAsY1IbosM8Me0V9v9UeMCOC51IyhDReMiXon9UjwwV9bB-yhixipiQT5CiiIqvpgIIQBQVF7j1pXjRVAYjtvDWDdDBIxt8q2TnjtqeTgwAciSwD1tTGkjCD0jviHmgjio4+0Md0ss2VMNx1F0nT3j3M9xnlfUCheRrOnM8VxV-1QIHgF00KVTwzfMkUNWIQV5Cjrjdyb1U6qSq9jVlKdBxSEgJeOzRSJSwUqpReimHZdAHjvklTUz+T7ORz-+Zp9A2majia86ZdoEtjdUcw1zrzKElDYuRzA9O1JRD9ntT43tC1rm3mygfzFjiaNdM9DNx8gdTTdDNd69NAiSLDou1FFmILeGgdyNk1i04LjQR9b96LdV2DH1kkFVrlPkCs9Lm0vMLUq1ioJL7LjUCsqN-lfFeDb5WwSMtL0VCzjz3VoNa9Y6zLnLrLEhUr3T30ir8ywrd9KrPjiMEhgrjVwrjD0GRgHsc9wVXTOrMr0SP98r5jCZnlQdAziz9ryzlLPLd9Tr0re4ArlLBNhrcjl40lkssl7qCl74ylX4wa6lsUtJyBTxuLoAtNHpjAE0tLiSAtdtGwDtyg2JOLYRh8FJroADboRQ1Uq4m2mb-sObYLBN+SStxbqtUt+ZE8pc08uARURbKtpbks0J3IksE+FeK1uA+ZL8J8OIyg58eidyBtRzOII7wCr847oArZiFdYHtEwXthcw7Cbo7p87bECaL+LP1Csa0Ud87QkFcx75OOSp7DUGJqEBLyBomCbLbgKpuDkj7+C97n7kd2Dz7+bgy6+DmEr5pt+zO5tMLhccrorNAaqRrHsbD3+0H3DFaC+8HK0uCySmZXYKc1eebrgMHtmkQeHtbHIiKOk0w8TJiEHltDUGKew15ms6bFeIcv039ON+Zcknl7HFd971eLL3mOIz+-CAiKHYUjpq73IFe7ljtwn5BonWjh4En0bdYptYE0LtH0i3Hju39XY8UlH+zAHGS-AMEOkrHLUlCHp4wsEZnEEmaTQHg1us13+6rPH3mzuenmZN9ba1npncBrnugAAPJ7CZ7Z+3nHdNinUuFuXREDoQMc+MvgOVA+OeiitICEIuAWHgaaYWTBFAeZ-RJQoWCJVl6Ibl-l3Z4TekwdiTYuDF5QDeCGO2msklzwnQDutuOQOlw5KVzl4wCRPlwF1lyV4WGV-17BBV+F2i2Ni5eq0Heq3mzxprLpedHRMyMhykCtOUwVwi2Tu51w1owSTt-Z0VlFSlat5skS6aWDdtGB8LjR7C0fZ3iEOq1pgotxxF0UWFJV6IS9x4+vgF-JiQSU-I2+rhrpVphR--YA+pxu5B3ewd0YFFzt+nbRDmp8c5K864G04CEQxXl6IhyxyKyg+2f9-x650JxrlSw0PxyPUYaD+9oRyt5uut-ByzXawJ-N55Y7ot+ust+dyzz8oZ4qFt-965zp2nih0dwF9PmjRd8yBgZh3d4gQ91B41Z94Fa9x6e92xxr2Sclt9+3o7nr5r-9xFB90D5V1j+9tlykAnhD8m6JFR7D5uwj0I0j4dqnQtw5Odmj4IBj4FPne2nazXNb5VlA+72846BEVpIT8rsT+RoLNt+T9x5T3rtT-ULTxXWn6ngz9xih8z2t0LwG-CEG0siG-JVAIpR+CpRgCp9xNzeQLzRQPzfNUbS8sXGgqCT7ayA5EbE3xLb2-OOLS35+QA+MOVHUu3wMkIrMr7b9kXv383+QK3+X980JA8LQqpDksYKpECMbbQtaDv0YNaPv9GbQguMf0R2f5vxSbZFf7ZDfykLQgSTkgSY0AfxSV9moDkt-5IB-+fwpJRdj+UXQEJ-wvYwEogXALsLQFXCQDoBD4eoOALsiLh8wV-YwDIDeKgAJAIIbILTULDHNQAyAoSg9nQGpAsBOAjIHgLprYCjAxAkxmQL9QUDcBibUAAuloFEDABF7YAIwMwHKBKBzwWmmAEIH0CAApLwOYFUDWBogjgfQKWzoC+B2AlgUm0Iw4CuBKArggoMkGCDOCqg+gYFwkH8DlBoAYLkYDUG38L2gXdIGQMUECDqBVgswfQMyCGClBUg2mtkEcHqChKmQawcoECC2DjBPgzwRYI0GMDWBrgZ4EYCALGAniDwC8EjhH4r9Ja-bVzhkEVDBxVIa4RIavzvC6IEhA-UfmrTvC+QuwAAKwDQdl0h2IXEFIIv7ZDGEqHdfL7VKauAl+EtIofkwvDg5F+9Qy+u9BuYXRaEXZHJF2RaHXcjAtCSAIQDzR9wJAO-KYTMOMRjDxhtCeAbAEgDH81hkAZYdd1WEUgoBe5K-vAL3I7DTStCAAHIsBzhjAy4ecJN4WZ4hPQgoUkL6EhVUh6QKocyA-TPBxOzuNoYUIGZ5Cnhy-T4E6xxppD6gwcb4dkGjjDs-hvQwEV0JWii1-hLwqWr33GTd98yotMvP+jGASBmcpQj4PFGIAdgjEV3eVKiM+BN9tw11KfkQFOHGBMRtkToIEEUaXxDMLlVXtg3zJqduRaUKbJk2cJUjkhSyATt-X2IijXhHLC3oKMorCjehXSSgGUIqHKBJRCI81vy145UsoezvfkXOUvDkdRIcZZUR1Q07e0ImZYbgC73h5pQuhZfXIY+Er5vglKn4TAPXyhjUBGALAMgEGQmj0B4wWIBgCEmhTNtPESXDCJEGjihiquyQRtLMkPAxjdAxXDgJl0LDlcfCOxRMRMzKwMlZkMY-JEWyxCmIlqIwfUB2FgiaMhsPo4gElzsDaU5AMtYgMQBYEPhCwMgGsSNky7xFMuGXIqFlxrGMj6gi4HJLlwOQexnYlIFOLlxlrj1ZxiBScUsP0DxZCOuXYbkJSy5Fi9YwEUsXMGDiYjFx5aDmsmIcjaBbCU7S+IeMqCjA6Q4yMMbsElB3jpijkPYLERSDpULod4sYgpAIgwMHxhJBwHeOYjL5o4QE3QctlBTTEdiX4j0sJSzRmlvRvonBAGL3BBiQkT4poCED-E4oSYX4pSPWiMiBQ2axQ8lqbCAnH0HIG4wsFeI9B0gwoeNcib10BCZc0xdAB1t5WVxI0l6Q1MCaNyBAsSsuNEm8VmN6gMS1k54ZMfWhchvi20h4oSvf3nFZCNgCTWibGMCDpV1wGElonJMXCX9rG08eieJKB5ASlJU468QwAGxDF+QduLSXGIcgAByVieMmG6OTciGYlOHePyRXjgywpe8V4kCjoRMIYUXyRn0xoUl7UIleNCJSuwVQioJUfjCJShJ1oiick4KRNF5LO5DwIU0IKYBUk3ioKlwXKSnDSmjA1BKxBwNlO8npScBtLIkW2HcZkitRouMWkEh6R0p7xOE02MKiKK0JOpbsM3P21IktxfkVLYOHVJJGNT3KLUvBAlHnET16Uak4IHZXj6n5pitCFcPiHYn+QVpC0v0obFpYGkqaVQYckbFakJR2p-jRWtUk5R1JZUZGIhikM8rkMDMW0iOERK4mrwESsqZrAkLOnAQhAjyL0MHEOkSBqaJ0p8DNO-p41vpwtcIo9N+gjZL+0xdcIcQhk9IfAHNKOLMlOmQyMZ49ZKe+OzpiitehGUbPlBkmBBHOaMhKHjImS5EukJM5bONIankAjE7lCmUcHXAMzueU2MacSJZlsyI6OMnpHNPamLSLgRHYiZOG97CyaZAM-Gfgzgx-17Kd0-TChHWmjjXpKs0-K8xx5UpHC+0jZh6O0gSA+AF0ozvYnXDdSWiYUa2ckC1Se8hUwKH3hnQprFFPpdYXOl+0LFeiNEFKC2RMUnyrSiiaqYOYTOR6+4XZ5NLOkNM9GvBomzNZETTPWzxhSAKyDCFwAEAiAF8p+BNl7IumwT4p2OfJHqABnJzJwYZf2YRzCi3tomYs2lqtneidgd6kckjkQD95CB+wHAL1IIHGAMAg8m8TZPDVzkR4-6tKVWbPDoIcEGCCBBXEh2dmOkSe5YegqAR4LSBZe7cktp3PbDdz7UfctlPUScwhBXQ3AFOOIUJYy4w+7Wewn-Stk6zEeYSdcCfOKm3BZUygZ+evnVQCMk6s8YFobKHzY9COH835BK0hZX5QI10fKH+xzFq5dY1rUUnWVfzTyCks8r-Cx0MLuFCOK87guA14KvUwFLhBYBSBfIFTRURpakHqUkLM5+8CBZ3HApIW0tWKFCvwuOSIXwK5OhHGPqTK9IxFbedk84tEQ5kSz6EJaHrGwuaJ2SIiJrQxuM0iA9YJFlM1oqUWvyQL6A2DMRSoGIWHzCZOwSYnmW-GBzrgcCvRmQoFKCFtiCxPMqFOSCHhjF1iwIEwvMV9ZZyQ48YWFDsX1MTiz+UhQIpsK0tPUcMBsFwGpBFzcJ5cwYNyWqmGlIlpU8vBrgOZF49SGpN0l6EcWUKDSGi0JREr4XjCgQDpTBShySUx13S3CxIjEWmJpNCZsZeMhWTpBFLUysdDchsG3L7kOAAAQXADgA9yh5LcpAAADy5wi8p8QY7GzbysBLgOEvvg-ljSgeBNh+WAo5kmFJivCkOQxmTL7w0yv8rkWQqDwsl98XCkBVgoTK1sTzdCq0o6VdKel-SwZQcsaj4U1lJy6ppsvzICUBQDFUcixRIqQU4p6y8SqiETmaw80Zcx5VMqYUkKE25FRXBiGDg1Y4FSXKgXtgCXBJglxy-jKbDhUnZTFv5EheCzGX3k9lGysFYHjRaJRx+0wHyVEqJXk8DQEK2kFCopAwrM++PZ4LPEhVCihAmoCkUCCBWoqU5UyjJV8pmV-5qeHxUWvBQFXkKSFpTalaiDRYgs-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')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section&nbsp;<REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:green"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:green"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise&nbsp;<REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.87" href="./4.4.4.html#ex_4.87">4.87</a></REF>.)  Here is the
      
	<span style="color:green"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:green">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJivI4sS5L8FSwzJJM-LCs6YjnVcA47Kgh9QCSRRQXneNEyRJ18AqEK32Y49QEq+L6R0aMGuotcXLE3cJNtKLESE94FmYIcJtUmCfU7XLEN6Ja-1W88jKk4UlvwJKUurcD0qCpq+sY+aWK-N4fx0YQZl4orLrS28Mqaza4M0xDqQ5Alele974k+87itKhhjpM16vsoYrjV+27My7WR8D4QNPHKqKkZhkgbF-daPSx1pccQu4Cae3CxClYmJlwbt0fs9pKZxwMAGZJJO573nwABHa9YgCt1JvVL0tvgtmIV7D5RZnah8ARqKklSIXlfF1kDkl1TNN6JWxdVoZQG1fWBueE2VesA78CHer0osDGppzMLITpwa+G6MFlo0R3zz1g3gscy3veeFKLwdp2Q7vVTPatjz6c9R3FEIaNtdNgL9YTzKkQoCjk+Mha3hA-3Y+DiP8-+rki6ckP+ZMulcFoahkgmqW1Oy7aEMxXsCnb5J1dTzXrCHjvyaao3J5HioTWt4U58oUbxpu1U7umhi3MewbEUmWoZmnzMAZy-uFaDQ-pniUefc8r6SqulkN8ahyPdm3eU8G7IgWd9m37u1Eq+T27lS6pwYLQCYJA-56FoIoPOf1T71x5HAhBkdhS+xIP7X+aDEFu2EjmeBJcBZBBKheX+9ViGhyas+ahe9pLFD0DDSW3cz59wDDDXsgxm5RVaMmGSukSraBZMEVheFKgTGUFMbiugHDpFkFYKRNQb5aF0IYHwFgTKEFaNYKQvFO4sLvASDabwmFGJBhyfozUUhpGkII8yzCkoVHGNfWRjRLE0gAFyek1E4xQBhPEEmsX4nR+A9EGL0NuFhBgyhBNBhYMJETcCd2fDEwJCSLA+Jhpo8wURN6ZiSZQfRKSxhWH5jseBLBuILDWMMMgxBmQ6FABKQgWAdh8BOGcag8olCuFADzUAoIgLPB5mgMZfNHip37O3PQqRowuKArQEgOh8EFNbCgpYrQ6ArP1vE8w1jGCAV9pIHQ+zQDZNFrxOZ+AFlZhzNubZyzVn7nOQc+5+gnm7IyZk8wPiZnUBuXc58XyXm8LHrYr0axDDGIkW3dQuAoUEAcEbAAVLUggqKsK+AqgyZIZBWrzMoJ4CoRLabGN8BIg4ZA8gYvwA4AFQLiXzF3PCz6dKiyg2EHwIZ1LaXmXYOaI5ONhCnNYaDVSwqTmSlyQSCIoBPgfApRyCRoKGVVlmWSllDEaUcoPL8l4PKxhLJWYKjgUrRWSnFb8yVDBjmWp0LK0G8rFX0qoga7uIKTWNCdRyfJfrqT+vMC3X8LAAxEpJaALVpleLXmteYKluqBUcEZRG7VSw2WIr1b68w3LeVJrWGa0AFqxXKppB8C8z5M1Ip6m8hJfjNJpo6F0Ho0b-IbDiR6j1Vb27svMu5Z1CrcBKvdaDVV3r1UHE1bcygdx02ggLQQTlvy83Gp2c0s05q7UitLaO0AABIUGFavQ6v5XUrAh6u2gz8X4ttsb1idqvV28Si71hFkvXkodI660WGPV69dFR205rlUEoNoAwMmTegcTohAel6ASPG7uZxN1BjbrQfFiheg-tANYtDGHsM+OQ+aXooqPgkGHNh95pGw2UYuQqkgJwegJF7AAVQYMkSBUhxBVKssKAAtHxi05lsUWDA6pKDMGekCgkTxmpyabFazpRorAEjWkOFk9ZJTvQ8MEqwhIxQDT1OKGqZpxxJHQ3kawqQhTE9RVvVJN5coMa+KsNUn4xzPVnNxqXuOPIdnRVAgcdCvzdqAuubDjmEL9mgQYN8-54EPE+J6Ci2F4xiddwpeBLF8QmXAuisoJ07qyxZJOcK86cLTVGUeYqGV9YPnxDnWYHa4rQjAP3pqzVdYaWPR+PHqveLIJqteYfccbq4LBqAWM3at44EuExpK552rrDtG6OKZErre7c1GsROYjYZbCRGpFgCJYQ2337YlR6HR15gO+BdcOt1lGJF5AcLlkRBXOvMI62Nm7HJVLPZQyWyUtGLDWL4LxD4wO-kWlWyUzur3-LJeXZkqI+67vfoNaYlGLbmFGEo9YopsOomOTO7iaH4S1ulLSRsSjPiwf3eA2BsTl2YfraSuN54jWZxSm5SjWgqVoVDb+F98rsLDjEFyy9gbb3astfMsLur1JV0S4AIRCu3dKxo+3bXcqzkkWD8pktS4R7l2JoBIcJKF6N8r3Aze3a-fS1dO3sjLFwHt4wT6aQ7FRd7oJT2BuS9Cwl-LMvLdLeA39-3qut32tOW8w5DAdeUD13B6r5uaTw-vYbwPMW4n7rz8GzrPzMnZISk1-QgveLy-1aJ+3hqhmTa5zNlkluhtLaaKAL3PuLtNV6GD-MkpeiyrRw97vmZOfNYr7gKvQ-DzWcYIn5PBvFCRsUHOq3G30welq0W3viwB9BOsbv-vOgsOg0ucdvQy-hi0wP+voJPinc9GX7j0G1jx-c++IoPn1ZoVX46Gvpbe-T0JhVfF-KxBVUvLnbQT-b-YQX-NfP-JbcwTvVFIAxEG9fGUAPUXxbHUA2-efPgXXDQODZ8Z-R9D3RJXcUA8gig4tBPQgpPYgg3bcMgtPD1Fg2mGg2g35NvIAo-AgE-BhKMALAgQgLQYkbMBIPQBKCrTMPxBKCoGFNgAAPgkCLnZ2FEWisAxEDiHFkI2RlkBh2hWiDiYF7GCDvmeB-GAjIGfjKSXW6y3g-lfDEWy0kTXnsI33WWlm5FChmhcPKWp1fyGlyj7FwH0WjFFHIDViLwJB8T6hBUCIqTABwiOE6VOHODgEQGQHQFuE8CmUGl+FjUDkDBnAyBoWQSFi+B+CvEBBBBNH2WsQtkxH2Qfy5CKwaMyVwzxQJRsgXES2vDanIgTCTA6MLAqDKNiO8U9DYgInQl42ukLEaIVT+FJhQgAgUgWJfgHgVQYHKNaOAJWHMnknmJIldGWKKMRQ8xOK4mPkQkmIOIPlSjPAbE6ISTf1WNPGnFeJ2IeOLxmMZkhjEGhguifh+nJAuNWIhg+kRWJjBMWMvj+ISTaOlCdAKnijhLhnOK6JswK08j0GGix06zqldC4O4KGjRMKg8JNDJO4KRLP09Ftl1jeOCMuOzjtmGR1lVgDkOiYH-nJAmL2KmLiM9DnmxPeJWM+jFPuKFMeLeH2hMLWhZPALZIVN0Orl+NlP+IPmkSPnBMhGWMmHGkuIBGYD0BwkfixJpN2PKNpN+Sxk6n8nqkoVJJtKCORPo0Yy0jYw41oC4wtmjCYHkASlAAE0lP+EDmOmsyNPNMYAqEoUlkdw1ByASEhgyGsBwljIYDd0sVUiNJRhTLTIzPxJiHjJgWThr1dTrz0G-FOC-yOTxPpizJzJpHHWpVZgcBNJKItI8JiFiTYIsHfx+D2O6DEDWgHJpAtOqm6hJL7LtPJMoXnO4ItLKNHO+IDD7KRw5mliWgRxSgoANI9WsV3PvVJiawDH3NZmFI5B8UB0dXxGH2VRYC9NLKDB9M43EG0WjGM1DMEyNJE3A1nwqn9BGIGJKn8QOEFPKIpVUkgWgVgRhj2QlN8PiR8T8S7LNKwRwRgQgtN0mKXJpAdO+CdONWwoQqSn1igoigKI5yhMBJhMtLsJlOgvdUxyuxdAwpdCJgugLMlFdMmOvN8A+OKLNO4uSjWP4q1P+M4r0DEpJl4nlkhCoqEPHDZKZNVj1iouMSTJ+ASAziznUtzhbN+w9DvKH1rx0orhjkVI1IhH1kQ28PDNNJdCwusvVJ+LstiUmPMqrM21AAkVcuWghDAocDeRksCqrg8sIEou8qCR0pPKSwisxDAuMsyVUiSuCv8gZ1rz8scrUqOw5Mo2jh5NMOipDjKFiudUDSAqiiIsoEYC+L4uTDWW3M9F8L0GasEusRQoZL8V6FRQaueNOSxQqDqsGoHFOUbk6s2A-TN0ilTgOHUFmHoA2NOJmH5MCl8B0sMr3H2ypUxCOA4EMpKrjkXiCUx3TkznZOZIOsEqErUJ5DeX+WUC51BCWoTAaRuIMjJiSvcsUvsoIsyUWuZA+tWtuPiHqj6x2onJtXIROvPA2vsq3MfL8sx1mLBu+vFJxM0nRq+q2L6MZD3CesOIWzxrOOVOxtymuN8msjIgXCJq7R8V8Jn3msKNWOlM1JYupCe1oDGhe3hWSFXl5vXkLFlThV7WHQcGBuWs+ppohuS2FurwTTFzoMatWRRRAs6nGqnD4szQrNapkrXkBt8CHNXJOHXIJIlsgtVqGslGtoEpUoa1WLVN5MUq0tYo9D6wSsGOwxkrOlBKtPGInIdpqtTjZK+KVM5tYS+IJquMzwjvPFjtJKCRkoTtnAR2tPwpTqFNlVUiytDrZs+mps2PJqjuMRjrpvjAR2LrWvqEroon7NBhkprvBq0AzvGLdLtNivlXMGszZNxrloRMIHdupArvajjqSwHpLtpvHuTqbtqNErF3YkHtmHboFM7uzvKIFA6U8jSK6UyMuByJuHGRos0KiMGJkMcMzBDJQ3YsdtxMzOnNqhYGtqNrdKvs5lCLoD0tsClBwiGEoyfqIBfoqDfu7us1rJ-obMzL4H0OlnUg4XNN7G-vrLtUbOPEsMwQfiAdnLgZCP9ipiQa8DcJ7OFvNLwa5lxj4AqFpnq12AfjNrHODlgY-vEEoaIb5nvq9rVDAtkrEHPIodCO9rVgqB-AEbocWh4ervvTwfYTlhd2vHMKkfvUwfHGEbPODnbVYY+UbnbQ0NUtiDbmrAS0YYtsmO0bSRzu-meECpl3MY9qcP0HAZMhViMYnnGlq3dt8E3yaj8U8bdK2AkUtGsEuqzlMaHHkSLl4Gsz6xl3rutqdLwb8Xibaz4hIRMlq1jvqiQPd1dkcu3DD2scwU6zAuycLxMG8ccufEKdZo50gLQfCernHoSfB1AcrBCaFO0YIGBEtCGIXDzhQ26aBF6b+CQpxN60hTieadScotADyHaeHP2N+R8SGd6fiaMAAB4hoZxhmDdRm7r7rnzlk+gAAVBkGxBgaMCcGBFEBGi2AlGoSUHxXoUADwNPYkALHXPpxkPODwc2F5t58kj54EL5-Zg5rJT0453oM52gXYaQa5oEW5vk+53Up5oMV523bg4FoEL59ZjF-5jF95nRT5wgl3ey++nTRQWO3h+ukenFKKMo6UBkVqexoJEyaW754dGZhy1qh0BudZyHN-PYpl+BPQAc1xvnALRZtctaASyHHxeuotbcAV8k6xbcfZtPBVpaxudZ+dMFhnOKw7PYotYJ3S-S6V82vQ87QchjY52lt8hgekI5CQbqACuVHKt5AKzrBwWxj7Sq2GpqDlzJ+J80wvY2ngkpkitvA127HxsfYVtDFlqx2p4UMe4YjO8e1JulrRBlhN5l5hTpvy9l7VlJ5zFqtKgudqlVq9IVjIEV1qc3CV4xwLRphsOVp9BV8epV8OZp8F8A49dV1p5zPt6Yjl8SXtvV8HLcu3Q1oZMok1q0UJi1phpgHl8wI5rUTNh1p1u1F150X8icIaocN1u3Xyz1lW7fDgX1orf1itwN7V4N5p0NsbcNzJTJqNwvJWkDWNvKvN0V8B9pFI3e44DIqALIq4XIjAU+wWZKYQVMkQdM9B4+Ps2uSohB+R183oWD+D4QdM1R8QbDos7QPSggIcM4lDpBIBRuTc6TFWwjhD4s+mQ6-BgMTxI2dcc2CwdcD1Ruwi0IzcTj8wTcHj2ko2TUQT5tboETtj0IrsCTrsaTjkI2Plnkc2FT3ATJXjgkI2CTECaMc2XT+QK5hJLT3wI2DdwTjdg1UziwI2PXeUCYPIA4IYezxzo4UGGz8wI2NwCTiwaQioaMU0VQkMjwYzzzljvoPjXz8wfz0AQL9gYL0MuL8wcLtFaLoZBQuLoL0AEM1FZL0AVL0I4AdL2L+LlQnLjvfLwr2UXoAAUhK8y7K8S9q6q9E9CM3V89K+y5vvNEC7a5q6j068a+69ACjyy-64DF6A2Ya4C5G62fMD65k5q42bYGi664S4q5W4W+q8m+UJm6y425DNUO24m76GUNW4qAJHW-K6O44HG6W8m+V3S4q98HK-MGVwsBkM8QPH00LIY6Q7ruafYCCRaiJyNGGD+9w8Y+PGTl+7g6I4tNoDyAACsRlDqQelAsyNuxPIe8Pept4lhNzwuCR6OoeAfDgDwVM6PceQgl7kWOBNIjY7zzY7zifySzPQjIAGATl3p9PLuueefM42f2evPQjXPYBIBBPxfIBheRe7ONAHOABRCT1zxX2X9no2AAOXkE1-S+1815HdoJ++p-h-+9xvieB9BlB55XK4KdN1J8Q-Rth5N5w8d7p4vCdMt45Gt4276lgft5p7WPwmisp5MnzId+h+Q7jIRbljwfzPy2FRIFwGjCleR-kCyEWpyAzjFafQj+I5UFKvI8YHV98F-lj5t28ZTfHArV6NbYDDwdNpHMteDmw2qFerz4tNLbYLz-N4ndb5euaw74fiR9R6EGtu78D9xsSdfdNaXbr-5iCatCBDbnmdhKb5XeICOv8Cpbr+U0A-oaY5A7ODA8PuuEwGg4ZiYGIiEEoGVjBHqCSBIE7g81kfrlRHRD6hf-dJpDVYJ90aOLWD7h8WlAAFs0RJA4tSWn-AAUum-4ikoBC2aiojFOBJAhY05ZgGjHAHltu48gagNQBRAUASioIeMrgOy5HAPAegHAdQB3wvND8LzZ5r2AxaUCS+CSXoObGxbpMooxUQgJnAxDgCyyf8fgbxW4HxdjA+6ONu0Gxb4s+gGLb+igI+BoC+KoPMvlwMzj8D7K+LAwIPiKbjgVBWcVwFIV-iv9C4qCQwbfmDBFxT8N5aKLlEMFYEdQ+yGspskbiGCjApOPqC4NG7EYeEt+MHvoFsEoYBglgiUmI2v4Xg7+1kR-p3FMHLMhkOpFRGcVsF6g60DoIrCuQDp2EXB4LQ-NII8C6DrQLAKQtuBdKZDCWHqF5qAPrqgVkwWZY8IxSUgeDAWBqcoRizyH6DfBzg8shQJgT7gjAbgOtGGCCG9VYQPA7TP6HNi-wIeRAK6voNgG+AUSfiaIeAV0F9BxOo1XKEUO6HzoXBkw4QfkJIAIY0CbwbFl0JixmCAA5KAN-j4sLhQBbFl80MF0M8hysEgONGeEiDxBPhBuM6Hf49Btwbw5gQaiNhNJ-myyf5pAmHC9h+wYaf5hYVeTBFlhfw68C8NNzPh-hOw6YQUMEpoVhh40RESwD65CZXwaIjoDiNv5IjAu99NPhn2oBZ8Pep5ZKO3Cfj+IjBbiY+CwlvxAjdSqieGDVgYbpClILCV9qDypGVgaRwgDOGBQLKMiqwag5kbMIhYpDnQzIjkaEUGALxx6VQm9mzixEQFFA99N4XOCDIJQpRqsKsMyO0rbYKwXIs4jEmVQBUH4irDgEEkqGdRqhaQ2GHYRiS+pfu0oj4FKEoQOBQeBomMEaJNFPxZRXo3MlvgdFdsAh4nW-H4hYInBTRfo+CrMz6gMiUxvoBMvKKhyd9YxxGOTgmOTFPxsx5ZIAvmPIg74RRmfcUXSL4iDD7qfjGMeRCFGY8axYoiUf5DDEyiEW9UdJEAWbH0xY6EPX0WWL-hftHyOlaobaL3SGxVRbAjUa6K1EBJJxHrGkKpByTVUq+4gTOMZnNEONKi6FNnLfmiQniGSG7fxKxnYwfldR30ccHuJiJ0MxGCNA8R8JwKjB2RwRNJOeKsGXi5svQd8n6Qaz8jxwL4vklGTD5Vgw09QMQqvCqA6BAITjNnBY2-IcUUJAQqEZZjoZGh-R0E8jPUA8JGJDxVHcCWVUjE7iXgv4YPrkDNJzZ-GjAHdlKGKCUBekdqAgCQGWyEx4ExpFCX5R0rmJtR1rZWtRLmb+4OAr2YPH62cTr4v2o+doBLgBzq4HUeOOgkxJkisSmkHEq8bJJpz+UeJWeaLLwxNxyTKy92asugWxyzi3kbmbHHQEUC4jic2o0RgZJ-GrjTJn6M9hjg9BbiqqP7VqvZN4kBJ76EhJ0MoigKAQ9OfFA4JGkilGdfQBwclCRM+GoIYpXVUAHFOjAJS7ghgQcdjmVb4xX2ShVQqFISDhS0GmU6KWEjCniRCpMNCgpVKlCJTEBC0MIEyEQ6NTQQsUz4PFKalJT3x6nLqelManvAcpOoxMeHDqlXpipVE1wO1Isg9Ssp+gEaYlMMCvtMkM00qSel5D4xqK1mLaXwBAjghMer5LAelSOlNZlorQJ0LwMkKMFWop0lqanEOkaBLppU26U6CMFVtqpBw4Ij1SsGio5p2YDqYtL4pvJlWP09XjNJencCZwV0yQh9LKmuRrpCGPaS43qYf41i-oTRtAM8xxRh6sk0XKJMUliTs80uD7K3kLy50PQiktXDHiByskMZsuOpBlI0BV48psMwIIwX1yGSpWxuAbKbnxnT4C6zwGDK4FmCL5L8bM1mQTJybvjL2xGPvAIReZmClZ++C8VciWAwYKg+MsAj-3Xx5MAZZiZ3DBj1nBIICZeaAljLBDBxtZMs9mQyUsmjBTZdgj8T0F1kJjXpLACWUwUbimz1poMZ8LrIDkcgxZ3s7mXBhYIaAARIvbcMHPqkGpeCDJfggPnvo9IgIgtEGlhOPjZz4gFQA0XbINFyzKUKtRfNjHbKb9m0nMn2TzILnSzc5YgCoAnINRFyqZ74suZeU36Ky98J+W-P9NHYiEiA4hH6fBiYLlyDy+jcQLYWsB2ZzoUszaryyOHEtSQUcr2PfVaTwybp8ySNPMn6klzRJzHVpECh3m3JaG74w6nTJ3SSgcMD1DTgq3vqzzjRRKRMPPPEQq15kDgVeV+0xxMJ5kRgQ-IMDozzIBQohUACcwAASivSgAAEFwA4ARXgACUTmkAAAPKa9kAHAZmhfzhb64Jg+E9avPPFlV5tG08kRIBASiELvZ6UjeY-OzH4L5aYcwIDqI3m8REUDc38HQxYU8g8FZGAhXgwgVQLYF8CpBagvQWcKiAZC86HQt4UMKvZTC7RhvPemPzKAz83GIwuzKQj6FYgPjKVMglRQTkeEmRYcEoWBBiFyUsAXdJhmg8f0+MlEAl1ozpyO4EwWYOwr0C2LmMVcohbJPDZ8AiAPSHhTBOMXqKq8-MUBQIsoAIKWMAAGUV4YLb50TDJn4oc7BB6owSwmeYtIWPyTF2ZW-DQu3QJRfQKS7JcwokWsLFEBAeqG4S4WIoil-CyBREuiWxLxFF4WhVKCKXqK8GW0tvs1h-SKKR5yi1RcUpDkcg9oVgHRT9LDDhs+lKMvoGqKDDBBxlKMsMJPInDSIs47SuRQwDMXnyfpBWI6dYq7TBANutGfMvFGCCeFhgmyqvD4qSXlLwKaS6NiLOEIkdrAbwvQHXOrny5N5CGbRgdP2WY82W3rcrm8i6UD8pQnUyjAYoCUETjFHyrxUtnWkzT8yRSuFd7JCV2lg2kM++pxTJH4j3l5Ir5aVLfmiThYMQBwEfMfH4r8RpuXoDireFutVIpKxgEWjvK35qwLy3FS8KpUvDCVkMoAkypZBkT6oxIzFSjJWWIhH5jiF2eYqJDLyQQX81wdiBJrtDTZKysEMsiqBaLZg+WLJewtYQ6VJV0KPVYhgkQfyOAAymdC-L1XAYJEeAhjInXYXfKveFBaZQjPmSaKjFDARZZIRPYWADM4aW5B6sCVerdFgNBYVqsULZc7V-CChFqu+XI11xombQeIHVWtA7lb2LJWIiJlghPF3shwNYX+B2ExEsqA1fkqlWbLUqBIU1bcgcAWqs4L8jpTapVrRrE64wUqc6o9yuqt5ga+ZWMt0UeSOgDSIFOYT7UTKw12OYIJGo24trZwbayGWuK8lJrKJuE9NcsmhU5ytVRg85Xqsxb6yV126zdUARXWuLrVyaicIhPXX1DN1xiVNZqs9UZr8lFAzdWLRVqMhDFwa5juEqEWILkFaC8ALKi-VwKf1oiuJeGs9VTryub6y9RT2pk950MWg8BD-AvXnKs17qW9emp1WPri13NV9bgDaVWBP19SyJTEv-XUhwlxG2JQ4D8STqhk2XKDSku-keheg8Gh+W8CXY-hke+JRCl9Ibjca6GgVDjU8FwraMzx6COhsVUE1lh+xFFPBm5I4GpxEQS7KDJxqbLcbtGg0vjWesCrKahNam8xaJvk2DRiqOmqTcJvMVya3CkgIEIHClBvK9N74gzSso420BRUfDBgCprH68qxV6mtjXpSuqSbjwbmjzSH1vyirJCQBZza5ok1iBgt9UALSHxDl0ryR5pP2BeHi1BanglFC9CLwLzdR41-Mf1X0GBG9gkt+I82JFuzIJKooymlzSyBM2eb188anzWayur1bj4bWsZvrP7kilAZLAeafJCin6Af0pWrldpteDBa3F42zLabjC2fTc8NIGaTVqi1w0Otk2g4LFv7KzUn0s21GVsEK3MaSA-zEbXzwynjbatofKKFZpKKLlGtRK35bsqsUAqu0l7ZQtlq5RODjtHVfANZvQGcrxoCZYZQambaiFh5MytvIEi233VgdQ80iCPMAL54maRcebQSB22SR9t4Io7QvVeXkjzYV25gBdrDoFK8BdEvie+JkpzZTWy-JHtDHX7rkVlHY2kbwxu2o7lwqkP5RoAOVvsgVr235FIuJ0uhSMNEkomng2ETj5cgOoZBkBqxBdxWtrHoFLt3U5bzAgEm8cBKrnzYD2ALC9Pnl8C9AGddYsCssqyEWxB5YhWHWDsLznJEdPIAiqjr21Dq9d6fUUYzv8iY6RK2OsrRUH11diZG0TCREkGNGGcrmHAAAJy8BIMrwFQEZ2+WgguJqcIPd8u0CuAMQFQbMvtmnH8svY+2KcUanEAoZOAa7U7dBj056AzhZw3sGgEr2+rPJ5k3KhYCD3tCwQ07DkAnq2nvR0QW01yKbnECCZ8YMbJNb4Fb27L29WoCoAHo4iR69OKy3iBEXPoC7awGqrzZITwY7b7dk3GfUZzn1u6IyzAP7eMPCKb7rQ0RAnYNEzFPw-tNZBgP6sAwsB6Q1YIXtmuIDCwHAwYwMgsGNFn6zR1UD4Jfv9X4tuAyyktUanTIkA79vPTwRwGNj94mAYYfbA3t6ACZBMn+o4G8Kol-7fyUXcMIrsH2T6jOl+UkW8uFibBwMOVMDKukdVwS0QEwRCXxSIOIZ91SiNdSeovWOqPCdB4DKuhANgHM4EBoMNWG6bDhC98BxA2GXYXnqkJGBxAyOBIO+VGciamkMIZEOCZUDnco4EoYEzV6i9UegyiPJBW7LOdz27nebieHJaJygu-8LRJdDCxxdku6XRt3KIxzPt1hk3cCBB3m6EZvhHoSzWwWBVmQBwKQOiFFT+riVOa5-RwFf2hjkDUs7BALqv2GY-mABrcl626jMcnDC8U3aDo8PqFGNdcYwYT06ydbzZwYWFovgCwyz5AWGfdNiKmFZw3l5hpgJYfeX48cwtWWZkUDsPlcHD99U5XcouWgBUVpi-o+SPexjZH9-lJkLMCOUcB+EeWjzG8Ci3lIX1okgguspKgHlQqHqFYxHINwDGtlMNAtbYSUjARswkx8pBLt8Ctzvs74rY53J3xqze5f0ouEAU+3jAPCxxkGmInWnQ6zdMem42savIFaSxVYC-WcOzl6Ald5gAADpYBt1YK60FAj4DLIpCvhALrNz2xXpy9QYLg3zifFYBkDIJsExCdADQnYTU2KUHBMRP7CpZowMgIBlNx3I-EtJ0AAAC8O0UJkGN0vJMImkT7RuLhUFZPomPcmJ7SLfpxNYRL00QVLc4v8PohQTcJikzyca5rCauFRweP82oD-MT8GwM4QeB2D4m3lcpsk-CYKyKnUTEXPsP8zyDqnNTyy4UyOCAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:green"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:green"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:green">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:green"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLD9PM9EDUR0eQfgAD0UVoqyU1NBOg0VYI0-0tJivI4sS5L8FSwzJJM-LCs6YjnVcA47Kgh9QCSRRQXneNEyRJ18AqEK32Y49QEq+L6R0aMGuotcXLE3cJNtKLESE94FmYIcJtUmCfU7XLEN6Ja-1W88jKk4UlvwJKUurcD0qCpq+sY+aWK-N4fx0YQZl4orLrS28Mqaza4M0xDqQ5Alele974k+87itKhhjpM16vsoYrjV+27My7WR8D4QNPHKqKkZhkgbF-daPSx1pccQu4Cae3CxClYmJlwbt0fs9pKZxwMAGZJJO573nwABHa9YgCt1JvVL0tvgtmIV7D5RZnah8ARqKklSIXlfF1kDkl1TNN6JWxdVoZQG1fWBueE2VesA78CHer0osDGppzMLITpwa+G6MFlo0R3zz1g3gscy3veeFKLwdp2Q7vVTPatjz6c9R3FEIaNtdNgL9YTzKkQoCjk+Mha3hA-3Y+DiP8-+rki6ckP+ZMulcFoahkgmqW1Oy7aEMxXsCnb5J1dTzXrCHjvyaao3J5HioTWt4U58oUbxpu1U7umhi3MewbEUmWoZmnzMAZy-uFaDQ-pniUefc8r6SqulkN8ahyPdm3eU8G7IgWd9m37u1Eq+T27lS6pwYLQCYJA-56FoIoPOf1T71x5HAhBkdhS+xIP7X+aDEFu2EjmeBJcBZBBKheX+9ViGhyas+ahe9pLFD0DDSW3cz59wDDDXsgx+Y7BwkcPgJwzhQDgIgZA6BbieEeKnX4vEATMEDDODINDkFCy+D8K8gIQQmhBgSfo5htS6N8AALk9MmV0RiLD6LbrQZIZBFA2QXDxPibVyIJiTN1V0FQlEGEseYUx35Dj4QAgpKyP1yR+NAPo2RuBSYoRCehMJ10B6gB8ZEgJbxvJ6VCSRCxoNzDRL+DJXSFkcnH0Qmk-JoAMkTFSmeBsOiqmFM+qeacDSUmVPyTUiGH1YnEyfuEyEkTmmxJ6VDPpF0BnJMvp00GNThqPzhnk-J+jx6UBwnoBZ1Vup1S8ZEqpNIFlrz2Qc05FhZkchqbbXWjSVmpKKdc1WoIRY5wDodJg-9yTeIYMo9Jno57LNBiM1ebcp4VJ+b4qpNT9orSDu0iJTT7mfRhYHNa4LflQs9NfXJtygUTmULgcaMT5Euhwos5+XjUkQrKPsjkWNOr+XqpQylPjIVdNSSQE4WoUm9AAKoMGSJAqQ4gYxMHkAlUAABaSVSL-iB2OqQ-FKhxoxAqJQyWwg+CgD0IiZKwgEiQwyNYDZMQNh3g5ieAlWc9UGpEEa9Znk9CqonDA5OFgIipNwB8F4WqdUvVOIoWwUoTWMDNVRCweE-AHAoMQDgxLA5Oofsc01NKzmnPOswBgTMfndDEGtWlaaLBku2bVFg9UU0FsLS6v+qaq2nLJUo3NbSAymqLDSDabwlr+TGCVGNbKDn6K7XIkIYhM0BhSn2gtpjGCAV9pIHQPhzAes+N68N5gWBcsTQwXs-LBW0GFbsKKmdFD4ClTKyY0YsLusPIq+l3xGXMKSgcb5yjzXd0gdA2BMN9Z+P0dyXAfjTGamYZohRWCcEwMfegl9Bha1prvc4689Vo6fvqt+2DVLlHNyijE0mb1enksGTB81HbrTkBdPGhRRMLoo1aGjL5mGNj7JGSSvQ1HkpxJZRC-ZpjKMunYyTXi8tIQwYYcKXDjzc7EfDZq7ViJ06Z2znbJub6LWgBnTjYQ87F1Ls9d62TfrpSVhjrCtFmJ9asNBqpPjTq-YmdRdXczsGfE6dAMur1p610RqCbsOzy0ISIdPRwWlNnwP2fecJ-WZQXOWIM4tNUgXbPYJMwF-yYbaWqTC-5i8-lXO+Hc6ujLHoJMvOU5WqCldTPnk+YQKLMXQZRHyzeiq-p3GUEYK0yUehkz4M3qo-93Xuo-rxf+yxQGug9F6AAKg63U+dU3zYIdmwOedjcetMQAJC+Ga1FA46hZj0ASVxGYNXWFxbeJJvcqnzCRstg4STby4W1ddHltT8mEgZyzpdiOtK-1F1paY6oM5jT7YTGQI7BkyZZarvC2rGw4N1otqDw78lEkkXqmsy75XEcVfC09mrFm23ur055yxpG2IETR+Uwsv2hq5QpxDpJpF2oUSY6cmpWTSlU8Gf2gddPZSc9R8d+oZEFx7kraY-9rmoiRRkUUgF6LWGRrXg4FexzF7UkjaC3iRwOB7eZGDxn6O9BrwPL4SNy2pySl1-zi8nVLe1i69rr1Zu1M2bXgj9NCVM3ZoyE2tazvn3qcdHN63MHsNy+RQlmHwnpPpg9GsodLjys2bOpMpZJpPc49ZWJ8cuHWlmZmRC81rTHHxm7QX88ZfWdZ-XaBl0lfZzdsz4x2vjHXOqVyztyPsTBe+Wp0X194bS+i-L8O5Yslsnc60KPmvlibN97KfUZvhYYNt5ix68wircMM6F5DxRxfh9zer4l3f-eRcs5ORyGzZ+l9aBXwxnx6+IUCj4Z5ARQjziiKuBItAPNpH7yijkZ6AJSsKqQSpmgcCEDka56JApDGqOolpEBloVAe6MYkYUy5TgwBpBoOr0xDDY5IF1SoG0BjSibfzSR0Afa4EmpgEFzqQcJOq9hUGBozp4HHh3zPDFqgSlrYJOp0EzytZUxMFeAYLjhkrJoCGYxCHcx8AVC0xLziEPyNonDNr8EYGCH+zCFyGgB8ywHNTwHYwPin6jrnhSGcxYFJ7Xjmw-hjpiHSxWEuhpYaGqIMFyzLB8S9iOGcGnQJb+SkxjoeHXjmGELAJLBpYR6DQqxtzVjAg-A5qqFrQ+IuHtDPgb6KpZaCKeLJHhqqTbjpEmTRG0AfCrwqo1Q9ToHGDbZ9btDAZZHOjkFRCRqWjWAKZZwqF5rngOBS4AHPBrL1Epgs5B6MohEdATauILjDHDokImQDHV7lrlFNDVFqbbgDH2HHDdSBYLHdRLGuw1HiDPhrH6EZrA7xF+6JHVxDEVB-BB55CVitGH7x4zwzhAiWgTGMh5yQFDQvFvE3G84cj6LAb9HlHvFerXE64YZ3ElEXKXLfHAhvGz55wAA8cJrx8oHhw2py0SnKtAk2AAKgyAYQwNGNWiiNVhbPYjUJKKYr0KAB4NjgSMSFpkCJquvEMUYB4ObLSfSTjgYtAcyayRiWzuzhypur0ASbQLsNIKSU7BSQSsINSUGHSaAAyb4EycCIKYiRyUGL2MqaqRYOqSyXwONH8ZEc8DYnYg4rPolrPnHr4IUT8tKAyK1DkZYiZPri-FcaZBCddgSKRgNlqfqdEo6TYq1Pqb4EUbEUCGcf7sHKyvqaYrPuwOaNuIGbyVElmDmH8eGdUkjsyI3FqfMLuKaa9kurFr6kosmVAVaG0TGRcUwJZtfjiVqCzjugwPSDOhIN1FehyAVqTqcpGgMQ4JkSCfVgcqpB6U6uUfMVOTsW3lWnMQ+msa7jSI1tevsZhk6fAswi-t3j-Mftac3q2d6bgHaUWjhiGc6TuUPm6btvtqCVMS7r6RuQ6A3GmYWsGRkFuWGbyZGcyXWZ0Q2PGVWomSzlWZmcaOyaqfoh8BeNuDceCbgP8WcomfeeJOyUWa+CWZYh6uWdqpWV8S0T8B9oph0c2o2TSBuriaCW2R2Vml2c6GehOHNkOD2auSTs+d5r+MQEORwCOdkbuachOfeXMYibOc6LBjmUWtOUuYsSuQSGuWWRuUot+debwmAPwscKcF-pcOIjcBgL0cKLqjkLasIPaiGgwCoq2FlLLJpM6r0DaoamrOsY5XatYPqioE9rkqarXO-GEVuhFDgJGq5WZQgfTDbppEYkbOuObBYOuGcpJXSlgZuLFeYJuAlbXkbJqKlWMd0BlVFVgV2DlV2PlUlbKL0K+TyObJVbgFUolYclgW9AcCoPIJehUE1S1SSfkvVQSEbFRSQKlf1acj1b4EbEkJaBMHkAcEMONfKJNUcKDCNRYEbG4DlRYCARUNGKaAAHygASoeBdVLXmBGySprXmAbWgBbXsC7USoyqHWZVYELYVA0gXVXVsA3WgBTaXXmBHW259DABnXaoJSbU7V7WgBgD3UFXlUACkgNr1oNEq0N31oAv1RskBa18N11YNXxW1D15VAAhGaBjcDZdQjaAITRwLjVDQGL0EiXDSTW9R9SieYFTWVTTUiWwGdZje9WDRzSzajVgdtfTSDVjRKrtfzXjTTdtZzc9b4NzR9dLRLdTX0PjYDWDb4DzeYPjRYKAUYgeMFSZU5ewdZIiewJYi1HoOuMMIbW5cbfEMnAbfqkbWSrQHkAAFZAS1Zm2gwW0xBY1ZU22hXmx9Stq-UEghXmXv4HhYCO2mX2oM4RW5RGwaZzqSjmwp1aaShh3pmjVYGQAMBzrvRtXmD52F2ZzZ053HVYGzWUCwCQCpU1110V2V1jUaBzUACiOVNd7dzdOdRsAAcvIP3YDYPf3chZXRYPrT5hHSOtxexKbWwObUoE6ljasRhjPXEsEg7dPYHfHUEuxIyt7RyL7avdvEsHwPDh0LvbPfEsnIqherRk7bbRZWqjAnLKMQ-Vpu1lmiwISv+W7fIFkHtjkBnHoIQdfdoB9gQEON5aGvORyL-O-dwASHuTbP4A4mRWtKMScVmgBWoeVkDlmnoBvWSoiRUFJRvbvoWQQ8oMDsQxAy7e7Z7UHhQxA7viMfAwSERbWZg2YQKM0VaECG3HcX0gkYBbGhbOg3g1g7wFgG-uFVpcIhcGItcJgIZeOLYcREIJQMrGCPUEkCQJ3JzqMa+aiOiH1MY8KTSPon1M+JY9qb0JQNyRbPyRqcaZbWfRPiUvuGNhBY3JY4oQzAkEkELNsswGjCSH-B-dQNQCiBQAmqCGqjE6DUcB4HoPIDE+Bb0LSfotk7mVycqRk9QL3VUtkwvK41E4E1fUQJnBiJE6-TWtWrRjU1dcYBtk8ZmIacqb0H0MqVQSEx8GE11hbYg8VIQJnA0xZt0wYL0FU2M4pq4AkOkzAiYygksL-OPRmcGEXL0L44iJpBs6AHqJEoZgNs+Bs0YLiH4+cys0YBTUGDwpYvoh4zmIc18QMLs3zpoxkxeLo9ZAY53BszxnJhWPKTfOBIc8c2cg6J4g2unhShc5s1YkGL0x4PM1nIsy8-oMyoi3qWcrSc49aZ1OYnC7DAi7c3i6cgS8qei9aCwEs31Di7c2am4AWmGJ85iui30EVQ09bS03SyQAkFYwSDUsBkC3ilyw5RNotrlNuBs5hes7c3y+Mxi-S5s1chU8s0CJs7kwAOTOO-zdP6u+OGmCkbNzOwiKbKwkDjTWutMdPWWFyoLOhmM9Dbh2slNnJGzMg6Bcm4lcmQLDi9j9gsBBtBjBBhjCu+CAmWvjTuvXg2sYbPgevKsLNqu+NcvxssC40Wi7gpvVMqs6MJtbX6EANAPUAgM5bDq0btxPxQarMTBgu5IsJPN-V9hNuYQVCkvfTgQsKcO+AW1luVgVvCAZyBY1uqxViTP1tRsWA1LmItt4pGyDALws5tYLtJSzv+KpJJT6F2tzhioJQTt1ssLmrnaNs1DgssgsKNmDkPxJnBagxEseLOhbrHiEa9ubvyU3Y721tVi+iUIOAW37uioLBHvJR-tB7Mo3uvaZb3tgXvPZWtvAbbgQeTsfBSjqq9SeNodPwAeuo+NzKHr0zV5ZNFXIcnDof4d-y+OkMIfmi9BDvAOjtVt8QcvWO5U9B0fkT9sWCDuAPDuVvju4dTvVpoZfvqucdvsm3HkicYeobyV9k+ogtdSvs3uqaGxYErsWxrvEvZFfvS4cVebWa7vUgy7qMHHRgnr1spHSzAaLsAl+MOc0i8bNlQZtl7oHr9JwwWhWfOVVO2HVY2e5EFz2ebuttpHhdEf9XudBi7pCriDefPygCBcfIKomQhskDWSEBQJogTA6CAT6Cnshe0J+c2fvOZfDhVNGiYf-tZf1DHLFcOuhFsamEfIzuv5gDwIsDcQLBrDDDg4Tj0USiEByMaWf7UDyhKCuC6HaofCDQ8x-5-6+L31Vjtx6CpDRgVCtB0AkA6C9ZvZrM9q7f7dIsFLB6zqZ06DAsvK8Qbf4Bbd+Pbg7e4mndbscfPdASveYkHKA5rfUD3ePfPgvd7cWb6FrJ9eFBK4+bO5ehrAOBGxTaQ-4ALbyUVQMiWmA+UCeAVCbeUC0y+m3ZkB5DI8OD9jrd484+5uviw-I9E40gGbRok-mTgUZ3zoUV+kehs+SilluZGe0qRog86Bk--dY93AKugjE90-fscgGZC+s8-2p2NCcXtpc+K9Xe8-5b89VqJy7hC8y+rk4VmfUgty-ihtY9U94-i8nnBGE8+ZM+k8cDk8A+U8S+0-mT0+Ei+oO8s9fHc-K9eY0iwVeg0-tyfTI+8egzAaaSu9SdW+IXBGeunLPju9rDuQNba8HKC9fd7ci8HAU8Pf48S8+9p8G9e-ary9+-q-s+qZbYcjB-iRS-mQ0p1-pnAbAbx82-rCR9VqN-M+l8Hit988rr9mFoN968586AJ-rCa-rm9nG-2lRQdUaCTd6BCu+mqRnDvMWn2LsdYlDQY-2LlamJb8MdaYfBZd79nL6Ln+hsMmueboJAecJegDddM5MXI9sVubNegDL+ECTf8MfMb-Xrr7wMJaxkehgXgJGhG4OBgB2XcyNy0P6KAsIwVQbhwDgH1AIBFVM3pf2jomQ1keQLTG9FJCc5p+oxYDKQK77rFCBWaf8pzhNxEDmSoxbcDQOIHasqmrAugePk4HAhRiz4HgewIoLLxGBcRL+gMS8bN8NiElWzsxXz4A9KBRxIQXnm9x0NKB-kLtosRkFAlDCAgiQf1yoEaCdi+hc-sElyAKIuEUgioowDopShiglAKblmgIAkBWEiMeBESk3a+lz2TCdToHwJDK4RBQIVXAEO0CzBxBFgxQUJQ9ACCFel3edNjn0TWDcCdghwToCcGxc1i2OUxHQEUDjQBBiWAQZ7y14j9lOhmMLooHSyRCmowGbIXG0cg3sKgNQxuDezL5KdfBylUzg1gX5qZGhLCfQsSGzAJAL2pxQCCBGjBdYDgVPEYa1V9AHACeJXfrG+XxitsphYwqULMMMAZtxiqZfGD30MBY1+hToIYbgxWHjDoCAwkPryB2FSV0yJwtYbTHWJaZXATIe1LcNBCTDPg0wu4Q2wDJLC8Utw94HcA2FEcUO4cK4YWj2E81Hhv9bMC8I+GrC9A-w9YUnyqQQjdqBwwYeJHxiBVFU6I9ZCBHBDL1nUB3QBOID4D4jM0y0VoE6DqbnDfajABeIFVmLkiZwlIgYTSKdDfC3yZwjka21GxEcoRJAZ4aUlGFdZaUqZbkUK37aojdgzI0iBKPZEYjP4VIoVtiMKIqDcGmqOJP6GDiUC4ohAQwdIPDT+DaBwIIISaOjJiCQSCgxYh3iiEBCYhmmOIXihwb6BdRGgA0esE2HjMWAswcaqvzyHdoCh7Vd0ZYLNLChOg3owIJQD9HokIxwY-UaGJkG8UGOfARYGnRVJ4pegqY-MGnV8a3clgcY3-hoCMCtshyW+fkZkmyDENixGYxzi6O0DfBkI2ohsIWL1EejJOuqcYhGKMB6hPQwGPUTqzGKRjfRK-dEs+G7E998kz4AcZOKj4aBXAI4--uiVQ7FjZx6ZbcDOOuGFplyvjLMWmN9Z9DmSBAHLnKOVEgFyB4xEmtKP-RhiNGioDuBMFmCVclIz4sQBUH3aFj92axc1JGhjHYxo0rMBwBGIXHRjRxegD8SGNfHbpaxE9M5F+JtE-8-xE6QCe82zEEBfWvI-7ERyjLHiZ88opCb2lZi3jxAZAEokQPOjVjAoL5C7JqxXFex9CI3VkdSM26W8HucwzXPbwcAjdAerE6MAoR-665zQ-vDMv+lzIHBjBP9I9nj0TCUToe3FUAJtwcB0T5KpGJhJtyMC5NBguZTbgKGPGgA8SAACXbqUAAAguAHADt0AASniUgAAB5fusgA4A9EMiRASbrUgv4nZKJC49sTINInuVJJXkn0YOMYnkSEoAHOrp5OAlBTfGjE3iLEigniSlB4gWKTyHcmht7aew+Ye0EMnGSzJFk6yXZIclVMQpkk8KR5IylRTAgoxRieiJ1SSTKA0k3GJVMsrBsIp8QSVOiPS5RQ50tXcqYcECmBAfJWUkVBKLxEaALalaPUSiGuoMlJuQEZII+LSn1dwIU0p-kOO8mhjI+fAVyXNQSkDToJy5fQoBBPRZo3gn7RQOCUnwVFvx4aEyGcOsBSBeIncdYJ4N9SIhvBFQg5AZnzF6DygqST6WmkTgwFaUrQ7HMrjNFsCQh6yUcu2Nn6q8moeQB0Ur3DL6JUxHmcMqYnumUBHpuATuAGO4GFD5+G2UGZUNUT2cSxVafRFjJxmdx8iZqK5tTKelND3uRHNGR8F56KVv+G5RmbjPrbHF1RUoTUYGlShrBfpFRP4ENI4nyTohHAPIZaM8TWijB1IAzNEPub+8OeqkRgKyVAlLiGB5o-IQEIwxbjfAEs0McgzM4cUvBVYv4GGhzo7ApsDsyxMaLYEQz-y8s19qbIiEchVIqsoSdX0lC04tZxpHWav1IHGzQA+MlxEGKwAbZY55gDISKRdFizEKsMi2cUIMzHTgcZ0lkKbMVkSUli9sx2VZg9B7icxB4tOR5g37FYBZyck8qnKayy5BoQcrODGOIZU9FA1vG6T-2TEcBS56Eq-siz7m5jouosO7ooHbm0xSx5RPZpWJ6DjyKZdYgWQ2JRjFFqwos8ecME7mLEZ5MkYhgT1bb1ihZq84QOvOt4bzEx4NMAA7Kmw7z2++MI5vqE7GjAO5g45uSHLHG7h55a43wOONpjfyLAb81uahzBGwTQYqHP+eHNBg7iiOQ88uY3OkjBAMQDmBsjIPYTuEY8XhKwD4Q0ZiBgIpEpSMEGYGeNCF6xcYMckIWoKjuz4YHlYEI6OdvWuAR6dGCALWFJOtjPXrQtVFRQH68URBcEHfHFsUY84n0QIuzbQydiP4nzMBGzCzBggDgVoMmGKTmQ3gWmMYLQtcwW4GA2s5CRIwLSAKwJEE4cf-L8G4L-gFKaRQbkIXGLfA8EpWRuTfk6KsmaE4eY5z5Gwk+MRbbNmoqoDHILFsi2hZOJwlEA8JZ4hxYRPok3o9JOUygJZN5QAAZduo5IkBFxZGsxHabICsD1Rmpks+xWRICnNTgpRAEIYBDClShggWS4RVVJilFK4pGSggPVHWIpTYk5SzKT-2iWxKEl4AYqUUtCm+gWlBSmQbiMIb6BK0NU+UaFIamF8ZJBS6xRYD2hWAOpEosMJHzGVniPmmCggIsuVGRt9CD9fpZUoOmaDhpLjZUWNIJE-kzkcinmgyR4V1KXQ-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-O+NNCJOAOHdooGlw-8ATtGksB-v+W6tKuegU3QAB0sAl6hFVKE4N8BcSSzf9JtRBpmpC0HeoMNIeKL+csA0J4tm3rhOInkTJG4ZdaCgQYnBW1Y0YGQGuIYZHuwGFk6AAABel9UAEiYJC0n0TmJvXZdQqA8m8TdaAk9pF-3EmsIdfaIEkd-CpGegsJ1E3SfWTCmGaFQb1lyTyBclqAXJX1hsF1YHgdgZJrxaqZOlon6TmpnE223kC6n9ThpyNlKZHBAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:green">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:green"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:green"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJIWzAtCbxaZQiJiCK7yPBD0j4VBiCbzUY-MJSRElBMMOIjhBjWlGLtG4rOcygH0G4qiH4CMkkpMGeE6RIyV7G24MZIoqC9nUAOQuI5SznCzPSSoPZiyGBJJTqfSRlDA4MECDIZBeJal4M+c8hglJTmBkBcC5BpJ+FzLeP7KFnRokmwoQmeFlRkE6Fpl0oWbRayOHzn8tZQzzlLzkVclBxh2j72UMQN5-NCYMtJcyt2YRP4AoruCDlTKWXcGDmEZF7zBVkt6VMzeBSC6xH+T3Npmz+7go8lUUgHxpX9P3pinl2KtrX1FWq8wQSZyTJ1VPOVxt9WKsDL-MV5idmpGmZoXEkquXGt5WctIGQ6GOrru8rx6xzV9Ombq7lQk56+tdg6zpzqmpci8KE+ZOdS40tGXS8E7APBeFZZxQmOblDJtWY4ouSDs1JvBCK-u4r+ZFq8E1fATSU1OJvq41V2yg2pA0IQEE3JUSwrTQgjNlyYkoN7f2qB+b1WP0Wck5ZITS2pqoc4jtd862cR+mIa15C7UuBMR0k1LgHIj1IDu-QRBbWUp9S7LIV7j3-QPFq7dl7CDXrLZQ7aD7N0eTNWei9D7vX2svj+6GHjzCCJ+voI53dAzDNHWCI5Vlig4Igy4CoJARCpBCchsaqNyY0xxkPSggRGqOU6Mm-qK4BxQc3A+HGKwBwks6KTP6DGoKxmuqQWsTEszPmjDc149AqQsEZM9Bgr1IYweprkoCaEgpifEkGdUtQhPyX+p0Yw6mVLsjIwwCjbBk0SffiwR8zEsDQQoi+G50asJ1h0-pPTxByOUaviMBjOtnOuaM+2u0D5HPNBkFp4gfGczkkCkXUjLmDNudg12-mCMkb+yFN8-Az8-hsbRp0WTed1qNmeuJ4mL1GDScUblwGTEByFYAIRgWDOOdacZKEOCFLiG4fFVDnVWnY2s3W9rXL0n6U8FXGKgAiwJgWwp9B0e+mwSYkQhuFDwJCVbK4CvFaKxdErb1clzdG-J4SRdav1dU3UWMpRWsyHa6FLr5XHPOhM2dZ6VNLPQVQjTG5plEb70GOVimB2AqTYHJh37OHoEjfw1Yg7zxQArbWysIK4Jgt7FqOCIHkYbOI6Lkl37WXyaQ5pgFcDeBs5MzkCzKAcBEDIHQNzPEACPLixrFM5B+9KxRqkcSkWYsJY0CNhrZSpRqTG2Us0Z2ecu5C+BFbaSJCynsKPi3NuudO6x24OzqYKxxepCYcoqBUvnSlGZwuPXNiDfyM12L4eGj9eDtjtLk3p0CPWK0SotndAOfW8FrvAZDujctFPCPZ+G8I2W891rkyw9UUPOcIcgJLyl390d0HmPjz50nPD1750OuA6ZISc8hdKzk8B8JtnLc+fsmQM+loTVXd8JLaKPUvxjTmnq4e4qK3Ofh4evJYLgPTve9GBJUK7V4arX15aBH73Fsk2G8VMboPDaPfZ8VLniZYa-cl4X4Hn4G+ZVh7pV3tfw9J3UAHcX-vO-J3NJNx0LQ+hs4Z8XdA9XU+OcN7QoClX6MCnbt3bLBrhHpHrpmZMEMgjZHZA5M5NSL4FPOQPDF5D5HflMmhjvIQH2s0siNwP-kJLRqkIEtQAoLHpWI1OXsiAtpxiujft8l1MQTQKQW9I-I-g4Dgeeo6jmMDtNrsgoIQPgOUEwekiwXQJQYaO+MkhkMVCgQ-k-q3sIa9o3kULjiIGLJ7gePQAMh3n6E-jknnLXgUhQZ-ooYUP-kYcYXmHOuzuoa-GCBQeZp+j6j0u-EEpISASsKUE4QxNCvQEjGCC4WwLLEJs0GOBqGGNZoJg0GAZuNgSgrZPZE5C4CRr4CQEgYIBgWwL4DVOFoPHMt-qLL-jBgEoYEARzoxkFKev-oUe+m4bEKUHenJM0PZnzl9Bqi+uelUWECUQoV-qCOUr1skqMG0Rekcp0e-vGu8k7mnnHk8gnkXknuOprpHFzqRn1tIV9Kil8j8pPprjUSULvmeKzhsVCjCm-sfifmsfoEcQniPAEdsRHglpxIPiPmStyl0TjPgWLLwZQO6s8Z6jaqIdji1uBOOBjpRB8RAlqhauPnqgCX6EFBca0aGgflPJGpwJrqCVjkaCJgIIib0jLP0YyDcgic+kiZajCWifcTRtwd0sDP0Y-iSXiTOOjLCc6EFLicHP0WFuRJNlQUdpQk8Yyi8Y5v+lCbKqieiSuGxOBkPHkQwA4LvLUPoB3MknBjnHekqXnEsO4aAPUdrjwBuBCJCPKSHhqHCNwLKcacsuPIqTeMqRMAiGRONjkRKtyIwPwQQm7lAgAetB8UPm4oxrEI2KKoyL3mPmKbHFySuoLK6t8cSoKX8TLFqX6HUX6l9mkVhinK6a3PwJokQqiAYQyaKYfomReFoTEIYFme6bmdou8AJLcI1EPmWQpskqSdCQAfaYdqAOEQGQ4fBrrtiSAtWe7v7smcCBXGbp6bFKUtbKYmmXRlYkORbtvhdmOTuLbublOUrnQpMOps0HesTs6YlkvnPlnvltiaAK3uJkmk2i2hGeSI2N2HqCGZWTmXbozMtM2r4J2Y2JaS-LUEzECBadXCaYqY+RwTeoGBca3mYc6MoWimofIDYbeNyHqNwL+daaEF0YSnMk7vvmSSvqqaAITJ4fYjphcT0oXpnv3DBXpDsQ8UzkHr7sWSHGMTjLvPLi3O-ExQfNOduTRRcdxUyWdKcRHvxZSc1gmOjPRXDEHuuZOZfixYsVBOxbxXSXJXmeVLxfXiuBcepTWXSSJR-jpZSTqDEOhvsd4e8MwOghuQpW8cpSaRxQuO-BORpToludpSsBca5fpewtRWMWJRzh7KTo-OTvIEoFTuzLTlzJYIzpBiXDxl9PDIRYgcpisaFtKXMmXswboTXvktwNBaxYXHyjuHcrwfwSodnNWo5rlXkpqgVZ+V0b+vFd4eVQIeQYRQhrIhXDIFZLkG1ZVY-DOuYDodXnVQYYRbiiCr1aAGCs1YkXOnITIJNb0QijNUik6u8k-lYYhQMstUsSVTOGtdwAStJaJPWUCrSS5T4bqitaVSRbWNWh8lPLdfNcPA9V9MyQdT6umt1WuQxFZB9cNS4B9ZZb4XNueN9YahslkMydhRMY4F8Msm1KoZWNYQMkpeSNdJfBKYGvzLidJpjRJdDYMLjeZUykjY1CwFgbkvZYUFjUXFhJDE1dDI2JQGHDGbiDtRobqoyPuXFedXcNJrxcURTLWB+r2S4DHFuaLb-o+pDE5QYXJotgqsTQetfETptfjbkv0UrXlirWZWrX+I-nJmdS0D9iodzUhSLb1KLSwOsI1ETRBWiPvGIOzUYDLeEMphwG1O7aeEmTvgTBdcLTLbbVTBeQ7ajbsbEM0D7W7V1iLeEAADzAiu1+1abR17FREQgAAqVsRFQgvggg56vAsqTY6R1AtQzQ4IoAAA1ONooQbHNG1h7aQjyvXU9TXfXU2U3W1C3f7TuauKZKQOZLnfnTIMQI5MXWIKXbqkzDSBXVXSgnXQ3Y3r3WIC3YnSvZ3SvT3aRs3ddnNhMGbXlE5QZVufZeSEPOzgHFbNiE7Q0EPBWbbDbRTBLYqNGuqYnVocbp7rfUQPoE2TEBTelidFbRjcAVoc0LxWnNtN-YobMNfAPU2dA66X5v+J7TaHaAPZ2YUCxIKNNuzmnOzY7V8VzQhTzVPE1tMNnbxVZLZJbOUDqTXLg5wZjhEX6I2JDIyATXthKVxkXM-dAgrSLSbXljRQRArQUTTKw+RBFgzfyX-eiPfSZQLUyC-GfYrqQr1JfUiDhUo3fTBhHj2fTC6S-aHW-dQ3yben6q3cfAHauL-ZWP-diGWSA8jfNOAxGjsYFrAaQrA0ap7R3qUPBNtP7b1JnXqUI+g3Y9bKMTeDg5GTqFSQYEQ2lRzWQ6jejbdSY4ULQxfbEXQIwyIMw59KkYJVkdqDyTclw7kjwwyYTeJXCYI2gyIzLWI4DBI2hFIwxHrYDLI12fI0bTfco0Y0FSTrIKFczBFWzDTpzNzNgOZdHHQSQWQcwRQcBsOpEkgjEeCIQfQdQKQcDTwCswwY1EQX2tCQbhswaurTDfIbTIVKc4c2s+kgBauWCOmBWnME9bEHMKuN0U3vyhyL8zEByACzBRWhhKC-qQeBC18-yoHDC4HPC9MBWs7H6k9Ri5kM6IC4UBWtxIYH2uQJkdwIS8S0XYqHi7EBWlEaC1EbGNSzEBWh1qoCPCwIYNWqy+y0zCsEyx8xCLXTC7EPoPDNwF+YCAAHygCIH12Uv8sVqeTCsxCivite3SuIE+TyuQv8pmnTCqugASsAgaugCQiGsxAKv8rADKsGBiuGvqsytw7mugCWulUACkNrBrRrJrbrzrrrYI4I4kwrXrDrqVUoX5OrpVdWAIwbdr3rjr0b9rkbAbSdnrcboboAKdMQEbCLpVSdMb3ARQIbUrjr+b2b-rEIkrabarJbiB0r5byblbBbDQxbxrjrkrQISbubAbNWNrjrhQbbMQNWsQyV6YBU55+zqzghBYitgIK4xS7mwg3Ak7Zz07+Z47VlJzRBU7T++ALAAAViYJQABfOxoMISW1C880c1UsqlkHYfy0UCuy82u4zGmJFBO1e41Pgu80ghWiEWjmhcCT6F0+YRWpAHQN6A8qSzEOB5B98Q++Ycy-yty7AJAKCyh5AAh4hyy1QGywAKIwvct4dYegf8oABy5AZHNrFHZHkTihG7VIT7jBTCItc7KwC7wobb20y1y7n7llkyVqDHAgTHX7A5b8vTbH0wHHJbJiy14dIn-H1lx7b76BmBtB27q75BrB09UShFNBr0aopAGRJ0+75A1YFZXUmggDBECnFzHAm81zDgJHRQ26unRwRQmVEq8YhAWTu1EahFcFvnlDnzaEvaeOCnT+r9QDCnLHmDOmYXyMEXc6e7h7pgot0XfHTCctIHhQJDnxbqQXNhjz55eXYgXw9tTyFDNhIZ3nhXAyb7IVbz0zrM1OHMmAGAajbwpG5ApgDAjKHw5UNwpAyaiinVispdKsm4Jio3g9Gmh6l8M34QHdDAXdIuhsG9h903liJEuxzQW3LuDCKKigNwxKuhWgvy6379QUPXygpdGQrORgOBygygDrTM9d+gN3ac4INdpQ33oA1dVkK9N3znzo33Nal3j6SSlA3xas63bBO68PtBkg8HkQ0ECjCY6929EIK9-VJ3xgZ3ipC7rnUP3x8PEw291g6OWtnEJPuIteCgH356Y3MaWQ26uxv3d6ukUeXiFcbPoACcykM243sal8bP4QXmJiYvoAib4IqG7PBg20fPymsvXPO+XXFAvX-XsUQ3yabPxkzQQvI8FdF+ISfPAvq4Eunc21sxJyYvkTv32P9dtPTAZADPiv7BjPa0C23dq4Ndq3qlKuypwhM7lFL+nv3vq9fofvK9zv9Pi7MTlRdvS3Qm8IqveptPuUoIT126vHyPdPrvs3um0cBpev2pGfezG4T1SC7va0WDrPTP8n8QsZ9Pu3Pe+9JMpfGm4IAA5Kt9utvb3yuNA+3xt80mz29c74yqQM0lPxK8VTY67J9MrKrNtLPyD6uBWkIMIJ3cEJ3Q5DpGvG4MWJ3TxhwPCIX0UKUBn6v7WNP+HTeGv7n9D-n6QIJEPyc3n-H4-8bd-5P7f1+WbVM7mdlAlnISn1FoIeAF0VRZnmfhN7QJYMK4BSPylgHTpqYlhG3mH1gw5dYgC7IAesBAHUBNA-RCAcyjcBk9oBF-VYMPCD4IDtSFaVDCKi3J9EaBASSgTHXNqEAzas-Q+PAXhgkCoBsGd4tSSN59pz8BuWDNQy4ZzoYGQIFcAHwqRW90BxyTAawNYZPNIBR-f2P-nihntuBjcXgfwLIHT0CkEgsLGyWkFbkvu0LRAbCym7XxAkGg4wFoPYLh0TEDg0gU4IAz2l3+kXSwcryRY2D3BC6JeP-h8EWD-GyvPARZ0IFgDHqgQg0r4O0Y6ZcBZnfAaAOIFBCjBlRCQa3yZrhDj4vHRwSEJcEYl-gHxFgYQBZLO0BWKvRgaQmYGS5TBE2dhgGXhIBIDyajb4iQGgFQ0c49mVgTYO2i0Co82dPDJAXiIwFQ+HkLoSykfRdc56PQ+fn2W+QGlhhMwY2msKaAtAR64BMYXEWgIuAph5geYVajQJzILQxYcqJQHwBNRGoAwCoKTVYG9D2QyRL6IIOV4XDqob1e4cHi0ixQ5CggpYXc0GAnDj2FAs2ppCU7dQH8eGZmtKGKb+xOoDAdQCIA4CkB1ojCIgLfieG8kpsBgWbBINyaBlzyhWIEBJikx8MAkgOWzMdk2zKZ-252NCJdiKYVVERP0ZEVvzRFVEDsvjXIIQGaRPZ7EL2AZt2Q+L9DKhVjf0IzQNJ8jmkQw1QdwFlExMchSTapgI35LtDJSQzaoUqPiyed+YBsfoAoBEG-YREECXwIqUMBsgKg5opeIYFJDPDsW-4MFDYJtEks7RxIJ4O-ywhwMwU2AlVq92iwfQTRKhN0RaIu5GiEIRgP0UA0UJhiPRh3INC9SM79BGC8YlONaMjDuj-Y9o5nl-RdHal0xQsT0bkINK+j1+BgB1tUFrw2w0xWY8MfoCLH2ing-ov0E8BLaGjgxREMFOMQNFBjjRMgCBOrDPYxEruRcQcVQCRi9JAgH0WHpGI47adj61PdVEOKnGdiGe64vMbY03E2DdS3PZMbWOsS2jBgNyOBv2Oc7ti22E46HvvGnFGi5xXYjtDOMEi9jHiFtFLKLEpCggI0-2XxCxSIxQQNs22LbD1gpGS5-smtI2qSNOwQQbBcFfHBjD-E8j0+k4sgIwA6z8RBRfWF7GSyoDUjDyNPVCQsgwldZeIuE-8crSBGYw84X3FHBwG36R9L+KCOiWjnf4sYsgZEriFQHCA2DuGhtbnqkE6j6BeIPE7UoF1SxfiPgEaTiUhOomAx3+xfA8MJO4n89E4ikzcH+Pl68Ra86E27DExEmtjFQN4TSYZPQhETdJnWePgZNjFoRtoJkmyVeBkbv9kcSYNHGbQ8YcBrhjAdcaK0IpYQ7Wl46Vnenhr8w1AJgRtEIF+GXDTeR-bSM4G4DcDOJ3AgCfeXPIkTLqNIAIoyG0loSGAJE-QIlLwlMhopdAQbIhyvDJTTa6PQMOlP8LpR1ILE7fruNTJRM5onknRP2LrKdYMprhM2rwGMCSYZQ8MZSVimqk5x16Vk7iSFM4hpQ7xs47oGyG6AOjAJ55d5mlBxCLS-AG1I2gBRgnjgnMd6f7tSAhFDSGARINuCNLPKbtugjIbaCJKYjRohJ3QcIL91QxHTugHsTyaABzoAAJPDgwAACC4AcAHhwABKOdSAAAHkyOyAIEPzXMoT1upnw-MiNJ0kHZnh-U85kNNRloT5es0lqAjBCGxSUZOUpIK31mmdAFwyMxmG9QpmZAopcUkTO2Kom-T-pQMkGeDKhkwzaZkgQaRUHhhEy-h75UmSIWeGzSfJBMvgedJBQizw64IamfQE8jrizhW1FqAzJJnmT0ZVE9cW9CHELt1Mf40ulKwexhTi0I8RgArOgSGzLI+pG8UkAOz+jEZagdWcLM1lySHwn0yQHEAyCicHAteRkAAAYTg5lGoI5CBQ+yRBU6WKNQEGBXQI5uQP2doCBCn9fZyYleniAelFwU53hROaQDeqExQ5zuKxAhICARyUB0cyCGNNsEQgGB1c7OeXPKgxy6+CEsxARL-T7w84Rc8UKkGqDZAfZV0qkPXON7EIY5fNSeuHOEQNzsoMc5KFfTmTRYfMVGHESuEenQZBBNyUoAXPHmKJuR3syecPIrl0dc84oujlfwNILzYsvmeURKNMlgt9MhmZNDeByFpkjkxOI2hfIfl9yOA00zxN0h9lqxkSo0o2l1SiQAKySgNH2cczeDgJ+p4iFOYRRMTwLH02cuQvAsdHC8sgLiO0Egvl6b82AFGXwAlUeqt95u2C-ua+I8g0E-EKcr+RjEKl2zSpoASqfrRWmbtwE-QRgCnMZCBBlSXcv4D3OgTwKmIP5OgG1h6lZTZBq4K7Ddksn0K0ZDk6BWeDD7sLIp8C2+dMGYWVYq50i8RfVIkiNS0+exPcaAWaJ9d-+tCm8s0hUWcL+5hkjyZIA6nPj9AOiuqe4i+msyGAoM6yAABk8OsMnUn6mDlDwnZbLFOQUhFlaztFA0yWTjLJk2D8ZQ0peGEtiUiF3+dMhcMksfTpKJ5AxQih4q8W+LwAPMmcJLKSU+zwl5kwijrIS4nirw4szqZLLOnlgLpss9RQ0HGQ+ylZ-Y+EP6PqVOLahKCFOV0ufHn8zaNBZJREvdlVL+xusqgPrKvBcK22D2KhTktoXLs3ZNMR2ZIGdkTKNlcmH+Q3Ds6NRZ+BU--isIYWjY5pgkZ4TrOvHzLpg3DJZbGGqUYFTR6Y6zt0zVmWyCkcitCQ7McyBT0yGRHJT8rOWTKZGNFERueLNprEzFZAGfv-0uWbicYjYVoMiEZDrSZhpy+FXLNhWz9KmktJheivpFAc1M2pZZLwWEQnLZ+SK88e-zRUOBLiN1CfN-yhXPiDlOcSWUtBEnoLpxc0SaX-Adg25oMd0qae5OuGBAXZ08xgDEstk+lhBXKzLHKslGNgbpQIRpdLI+7EznAAzRsLdxHq6opV3k-sZJyGx9L7x3QQ-kLMVnKyBmRUHEFapKnDKjR1VWMFhEtncBAV+qnhTOEtlXLzM3ZKCOcDxqcQPgwQRqNnNegxK0FrCxjuZMZCKLYFISIReSA+KKrHgsslVeeTVUCxTpmq2WZGT1WJAfVOSq5aar0jmr5p2wQZZ0ttWRl7VlqmtRwGdUfRXVfoLCCnM9UOtvVhq7OZuM7KBr5Gbc8wD8OznBAjVWq61aLKomCwaFcqxiXsVHX-y5V7-H4ZbMnUlTH0a67VTFKnXrQw1kqv1VGuxlyrhF55a2FoJ3XvBGQHi9mWDIhnQyil5IW9cDPvVcz-F7qq9V2pLYXqjV4FQleCAxBU8Q1lC4QP7BoUxryQB6iNRHOPX8zaF35c9WwHA3lKb1f0zxT4r8VMR8lmGj9QaU7WVif1yGkFZ2SRxAaIRLqTJm8H3bMERiW412HRreq4lqNj0DogguviMblxpqFspZRo0ogTBRRQik-ME1vVoymTQlnxoLBsbeV6pTjSBpGoMkJNrGujc8OvkBpzK-6JTfxuk1UThN1RN6jUDEBTJ-YJylTVRLU0crnq+7fAL3JY38baV7K3lZzV43ME7NaXeXmyqNHv9qNNmwRTxrc1giAtnRDvHivMXMb6AkmsEEFteyOlFCnmj6O4ntXyyRAndULfCqeo+bqgKnOZBJt82NiUgkW0WvFuuUzrKNBXLTVJoq3KdmpmQBSQeNTFHjsxHy2MGlun70lNUoCAraxqq2jFitMWltg61y29zNNXW7TT1v61LY+t+0JLbvysitboOQ2kQkErmSGbWcphd2f6puUzK7lZ7dTI8slaWZFQTomDKYpOWrbzucKtrbgTaVTg2pDi41U4pka2BYtexexV5KuUdM+Qb2I6XehQiP0dam4+6Elv36pbTt--J6udqhjk0BZt3GEcvOGbNFd5pXcrociq6bxLNUQggUQK4rsEHNRo30EFFuV6zdt2hOpsa2MiEzYdX0SESAmhFfQmyNfXrbTSbIdRqY6rWMdnUrBlTypMQcYQcNtn4ZUiXdN7LFvBCY70h6Mc-vb2pB3b3tPkz7H6D3J+oQOfWoHfwAhDi6Yh-RUHSzi0CXboOmu7HeNGDmNgbgfA8luaMZAABOE4EPAt0ksPt79O3TxHNFXLJMteNWNwGnUpNDeX9QVbiNFHTYXAymAOZKMKD27mk3fbvlZDQCx6CVrENUX6Aj3x8Pg9haYBHrd0PJVYOsvuOHRcA+Q5qWovBuSAz06ys9m4UWmbuYQu6SWlmzoAQqIXU7x44avHQlueHFa1dAbevSS0b066Dieu-FTgXwU96mAiVbLe8kyGpATl1QIqCeDICWxlkKPWNQIFaCMg9BcBZgHwMn3KTNU1OugEVG3pHBRlqa6bKQVIAL6oO0vdSMsh9pbwTGye8EN5B8iT6mF--XNQfqQJKsEQC62IMnr-7wqCpxwLsjyRYgDg-V1w24SPDA2KlWgVQkwmBtLXjr1126qdZYsAMDMBwZ+i-d8Sv0SQb9uqeEESJiAP6n93kYqYzJBjQHRApB7yP5GAMtCIgbERPQ0BIM0HX98KjaJlOPaf7SD8e8PTXvdSdSbkOs+5Y5LJ0HbG8-+trTZJp1Tw6dBU0bJ6q53-QHWHOCsfsXvzHLzFrQEVLLscX3jgpZiYvcOsSIMkhAhgRyKrBn38AB5K+tfWcv0Gb7DBFS3fTNn338BD9x+4TJu0hjvN5tChmXW1HakPaDDfqczJ-Vsa+H5e4IByAXU6xzQuJzAWSNBEaJN9cQ0+qyrTtZw6HV0n20YqzpUMls1DfU0Rddjyl6TCAe4X8ClKNqPKGprkpqdqRcmo5GjIw9oKxkqPLtSQvE3JApMEnQZKjokjTOJNFh8EMsGaqo8hIEnO5hJDouCe+MkyjH0syyTLIQF-CdGplMQeHJCD6MrClJgx1ScPCwhrH5eOi-KTeEGM3bjaJxq42cb0l3SYxPOlYHdNJBXHYwTkvUs0fonAacAk+-XfoG77Iz9ATxgADpYA51rylQhAZkDBAGev2w1mqwWxoRo9CiefellmEnA-jJywE8TOBM86wTEJjMkwBuEwnX+ykpSbwBPDh0egWESk6AAABeF4GIGCZc6Qn-Y0J2EwUZ6CMmkTekFE+CCwPomaoqEA6GYfeCWHNwgJtk8Sbeicm425pZAZ3RYCd1lAndbfpMG75pg8AWJ8xVKaJMcmyT8pmoeQCVMqm1T5-fk-5CAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:green"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:green"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:green">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:green"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:green"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:green"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'style="color:blue">[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:green"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:green"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:green"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:green">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:green">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:green"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:green"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-yLhRDyEuIBgWGqbi6DEfRq1IahxXos86ygoKsM67rkKrBi03ODiPOakRqjEBhhvFfQZtasQhLieNAzmZaWrmiasCm8wVrmhaGJ22a2vWoKb2Oy7woOy5ONu+bqgYORyAUYgOvILqetAd7PquzaXDbTxFtGgHGLOB66vMYgAA8tBEb7ftG3CuH+ihAaojaEkDLCGqa3a2pRkalzGvrrG4SH9ukf7HucQxMcUCAYHgJBUDQPE0GJWqC1AFIGGMNgZAYYhcPckmPgUSggbx5JUnSBQWDIIxKBl8JQAAHy14zBY+LqpfV2WYh1vXUhYfB8A4IQ1Y17Xdb9QX0kyO3ZfumH+cF5gxAkYQGG3MFpcoHY+nuNacaCwWsOD8IADI496fpBljkd2TDn2PcOhW0g+r7U4G4GBdSH2-YD0E3asug85qyaGfMQxfGV62GHwUXq8+t25YTbaiON-kIuz4uGAtagxDoT66CD-uqKjkvyF92py53YOrNH8fJ50-ah-XifiCnoWm8t-8Z9fILe6TIZk-0PuNcmbf65Btwx73g-0a72ei4vu1b9lge+c4oLY0QgZwVGUGwH6WU6AfzPkXb2C8y6B0rqAcEwCD5gIgWVegtdPacTQaAkwmCoGH2bife2sD5ZJxGDeb+ZC-7-yHvghgGDIGxXfgXZY59r43l-vfe6Q9Bbgw4MwwhrDnAwM4XA+ei9-ZINXigoRjUWFYLoDgoeiiRHgLEdlRupCJGxC4dQy+tCu58Ohuon6ZMlGiJUadPq+iYiGMGDwy+sd-64I8oLCBythDkDFvDQggRn70AcbjBM8CZHL2njLKy3iWC+P8YE4gwTVEP1hmiD68S-HrixpIMghhQlBRuNiXRx9W7tzztwExbi0n8ziQky2whfCFK-twy+vD3ECNSCJIWzAtCbxaZQiJiCK7yPBD0j4VBiCbzUY-MJSRElBMMOIjhBjWlGLtG4rOcygH0G4qiH4CMkkpMGeE6RIyV7G24MZIoqC9nUAOQuI5SznCzPSSoPZiyGBJJTqfSRlDA4MECDIZBeJal4M+c8hglJTmBkBcC5BpJ+FzLeP7KFnRokmwoQmeFlRkE6Fpl0oWbRayOHzn8tZQzzlLzkVclBxh2j72UMQN5-NCYMtJcyt2YRP4AoruCDlTKWXcGDmEZF7zBVkt6VMzeBSC6xH+T3Npmz+7go8lUUgHxpX9P3pinl2KtrX1FWq8wQSZyTJ1VPOVxt9WKsDL-MV5idmpGmZoXEkquXGt5WctIGQ6GOrru8rx6xzV9Ombq7lQk56+tdg6zpzqmpci8KE+ZOdS40tGXS8E7APBeFZZxQmOblDJtWY4ouSDs1JvBCK-u4r+ZFq8E1fATSU1OJvq41V2yg2pA0IQEE3JUSwrTQgjNlyYkoN7f2qB+b1WP0Wck5ZITS2pqoc4jtd862cR+mIa15C7UuBMR0k1LgHIj1IDu-QRBbWUp9S7LIV7j3-QPFq7dl7CDXrLZQ7aD7N0eTNWei9D7vX2svj+6GHjzCCJ+voI53dAzDNHWCI5Vlig4Igy4CoJARCpBCchsaqNyY0xxkPSggRGqOU6Mm-qK4BxQc3A+HGKwBwks6KTP6DGoKxmuqQWsTEszPmjDc149AqQsEZM9Bgr1IYweprkoCaEgpifEkGdUtQhPyX+p0Yw6mVLsjIwwCjbBk0SffiwR8zEsDQQoi+G50asJ1h0-pPTxByOUaviMBjOtnOuaM+2u0D5HPNBkFp4gfGczkkCkXUjLmDNudgx7PA2cmZyBZlAOAiBkDoG5niABHlxY1imcg-elYo1SOJSLMWEsaBGw1spUo1JjbKWaM7POXc6vAittJEhZT2FHxbm3XOndY7cGK1MFYzXUhMOUVAtrzpSj5YXFNmxM35Gjaa8PDR03B2x3awt06BHrFaJUUVugJX1uC13gMnbc2WinhHs-DeEbVunbGyZYeqKHnOEOQEl5S7+67bux9x586TnPbO86CbAdMkJOeQulZ-2buE2zluaH2TIGfS0Jqru+E9LTHqX4xpzThuOedGtiHw8PXktqzdvblOjAkqFdq8NVrsctBe+di2SbZuKnm3dhtJ3weKkhxMsNV2Ec89uz8EXMqnt0rJ0L4ek7qADvh9TiXk7mkLY6FofQ2cQeLugcNtnJWcdoUBQN9GBTt27tliNl7r3dNmWCMgmydkHLOWpL4Ke5B4ZeR8lrqZaGd6ED7c05E3BrdCVo6kQJ1AFCfcrI1ZHyJJiMZXRr75XV480ET29R+uuHAR-PY6nMAmBbCn0LshQhB8DlDz+kgvdBU+cY+e8E0ySMjFQDzrvXhPG9UxJysBGSM0WnYPPQAZg+-R65yXnTHBSU+m9x9Ma3S-l9FD18V8fr8wQp-M5+n1PT35BM7w7lYpQj8MWhfQJGYIT9sFlkJ5oY4NRhms4JhoTvNzh5QbZeyTkXASNfASA-dBAQ82BfAapwtB45lzdRZLcYMAlDA7cStGMgpT1rdED30z9YhSg705Jmh7MqsvoNUX1z0sCwgUCB8CI4C7FawCl-1MCjlKDjd413k9sgcvsnkfs4c-tx1RtI4ytSNawYNiD9BUUvkflWdRscCShJczxCsJCoUYUjd5cFdu8volCfsR4H9pCXsu1+ZacGcyVuUqCcZo8xZq9KB3VjDPUbVm8VwgoX9QwIsy8LCIEtULVmc9UHCuMi4NDddn1Q0Zcp5I1OBRsAoy8W8YhGxSDQ0ZY6CJRQAbkAi4imcxcZZKCIiaMK9BZL97E0jg5EjfC-QgpCjjZEiwtyIojbN-C7s6dHN-0vDZUwjsiswItwMh5aCHBd5ah9AO5kk4Mc471+i84lhz9QB8DxseANwIRIQeiHsNQ4RuBujq5Fi+ibwBiJgEQyJkiYCJVuRGBa8CEjsoEbd1oLC6c3E08YiRMBBRVGRKd0jdVziqiV1BZXVrDiVGUTDjUbk8C-Ubk1gQ994U5DjW5+BNEiFUQF8gjnjQjjVqD19DBwTjioTtF3gBJbhGoGj18FNklgjLVKAbdtj5NqjIwbMVho0ltTjttxcbskEaToTypSlrZTEgSNtLFxR0TjtrtVwFIK5NtltYpWS6FJh1Nmg70ApOi5k9t+cwd1pGxCdxMk0m0W1Y4mJGxuw9RHjUTISttGZlpm1fAyTW8qQFjllx5agmYgRVjejBhtSS8b1AwAjCc19SdEZQSxYx95Ad9bxuQ9RuALSX5rSqDCVZS7tpciSBchjQBCZ8iRCdMAielYdQd+53S9IZCDDOI9tLtZd+CXscZd5usW5348yD5RTscVwAjyyZx2F0zWCMy2jnSXB0Zsy8s7shTaTVcQ5WCizFiSyFx34uzmSdE+sxSmyxCRyMTEi9CTdqz9CzgFUh4OC7iQEeSVs5dCyoJizRTZymSZzKzich8xCDzbF6yNYqCmzFyIpEtH5kt5AlA0t2ZMsuZLBctIMS4eMvp4ZYzfdlNhDQsZT3kkd89Z8Md8luA3S+zC4+Udw7lq9a8RB68Cxq1HNwK8lNUoLjSqDf1Pzr9EK69k9YyENZEK4ZArJchCLkLs4Z1zAZ90dMKF9YzcUQUKLQAwU8LAC50+8ZAWLQQgU8V2KkUnV3lN8fSJ8I0+LBC4KZwEV2KCV2zrhsTBL5Z9yb9dV+L4KEzhVW9b9H08jgZZz0YSLqUyKdx0YrIdK6KXAdLr8p4I0TKZKlUNksgTLwz2DHAvhlk2pvTKxt8BkBDYKEwbxsjA1+Y0jpMgryQ20wr0M2dwF8BjAmow9ckzCIhCgYqi4sJIZcLoZGxKAw5PjcQt9fTN5GQpSPzRIVLpNRTkCKZ6DYyY5xz6rLdH1IZByF85NIhMq4wv1r4aYuLMY85Eiuq85nheqWy-xdc5MlKXBh8vTSrJKESWrep6qWB1hGpoq+qcV94xBCqjAWrwhlMOA2oDrTxxibsCYarclDrSFWqtMqZQANrkq1DpjTr9rVA7rj4eUAAeYEPa86x6oTebUgcyCEAAFStjjKEF8EEHPV4FlSbHAOoFqGaHBFAAAGpki8SDY5ohQicjqsaUErJiap8Yg8a2oCbvo9RxTVxTIwbndwQob8B-piBHJ4axBEaXjka+1UbhB0aybcbSN8aZBCb7rwhsbq0UEhbkSRaqaxaaaJg5qOsMQsRBzZzRT0ryQVzTsA4rZsRtrpgh4UTbY6q1r1oqSysRi6rZC-R5s9b0RsRybYgmVvKTolq-SZCp9mhRS05tpbaXbZhr4Lq7bYxfbDi-N-wjqbQ7RQ7TTCgWJBQK9is05CqtqrCSqJKd9Lbpgv9vrrYrJbJLZyhJia4E7S8KSP8-RYjclGRIrbrmznQgpTboEOq6qZrxqMyCIOqECaYK7yIOidqXTHaDaYMbyqqmQX4NbetSFeptakRZTR6iBx7UDoj6YDizbVqKYP1m7ra-UC7abHMHbKx9aV7ya3akqPbs7Ar7dAtPdSF-ajUjrB9Sh4JtoLreow7pjW6o7D6WCbx463idQciDBU6AKirM6-KArNKbiih86tbf86AS6RAy7PpQDayoDtQajYxa685664SorFy-DKFf726WrO7AZu60Je6GIxrAYB7QA2IsrKFisz7DaJ66YktmYny2YMtOZuZsB4ro4s8E8k988U9gNh1IkkEf9wRY9s9qBE8bKeBRGc9Go48+1vCZtJGDUD1lUsg98PZCo1GlHxH0kbTgQK50wK05hpbYg5hVwkSigK0OR7GYgOQnH3SK0MJ3GZiDwvGbH+VA4-HA5Am8d+VnY-VpaonMhnRnHCgK1uJDA+1yBIDuBknUm4bFQEnYgK0v93Gv9YxcmYgK0bhCqR4WBDBq1ynVBKmmYVgSmrH4LMa-HYh9B4ZuATTAQAA+UAX3bG7JppitTyNpmIDprp46vp33HyIZ7x-lZY6YCZ0AbpgEaZ0ASEFZmIYZ-lYAMZgwTplZqZ-p0AMAOZoJ+CgAUn2eWdWfWcua2dAB2fgvEjadueOf-KlBNPmfgoAEJJQ3nDm7mTn-mgRvmLmwRwRfqbmgWPnQB-qYhwWIn4LfqAQxn3nemTnUXEXnnIWemYXJnMXfc+mcWfm8W0XuAigMW1mTmemgQjmyWIRfn9mTnCgaWYhfnYhfz0wCo7jVG48xGUKRSWrAQVxil3NhBuAFHBWkteW29+XFHc89d8AWAAArEwYk0VlYcV5ETFnx0x5RqpAx-vC8G5aV9RoVxmNMSKPl81sx+yyZK1RkJBCtZw4QaWt1ppvElx-lSAOgb0B5dJmIP1gN6wr171vJ-lWphgWASAdx6N2N8NiN5pyF6NgAUT8fTaTYjYrQADlyBc39n83c3v68S5WqQ7Xc8mE6qtXpgdXMXto+KpWDXGp8FHUTGBWLWmFLda2Gh62aWTE+KnrK3W21yrVrXg9Q9M9O37Xk9C9OaolYyM9Xo1RSAICTpVXyBqwUSupNB9B0KW3JNq8OBN4dGHBs2iht1F2jgihgL+Zpx1bPaBlYyFrkKn2I0dNe1QT9AR3LWxz7rrlvXf3q2Y7P2QTkZf3lW1WNX6qXaFXBXu26GL3Yh07LC3VoGyrNLjG+XUOxAvgNqnkb7dVHj4xCAMPlqwRrW7yLGeHWZ0sOZMAMBJ63hSNyBTAGBGUPhyobhSBk1FFTLfVlZVYTF+O6aNND1L5RPJaUEGAMbsbKaxBqaROuS-h74VxmhlODsGEUVFAbhiVZ8tBflDYd0l3lBlBEaMhCsjAI8zPjmmZsb9A2PlA05wQMbShXPQB0bSbsanPkPFRXOa1jOA14qklKBrC1ZjOi8d0ovM9JAw3IhoIWGEwFPibwQIRiaqK9PjADO+jxWr3QvrCouJhUvrBwQhqCvcRMcFBHPz0BORjt1ZD3O71dI3svEK4GvQAE5lJK9FYD6bwGvwgvMTEBvQBQWUFUNGuDBtoOvlNwRUNjJSgWOKB2POPYoePk0GvjJmgeuR4UaVcQkOuuvVwWtO5N8eCTkBvv73P0vsaKumAyBqvpvi8au1pU9sahMMa5OH6ykBsBjG8Cx9dxERv3vVxPvia7uquJW-7MDLvJaPvSutvVG4vmlJJQRpbt1m3kf7vSBBJZDIcsJNuJiKuIRfGViK4nu1pY6sgBvMewvKuHu8eKd5b2pCeNNwQAByL77dVLzn9ThrYz6mhr8r+IL4xlUgZpMX7p4K+DXr12T6ITzcbaSXvz2MCtIQd1qyYIaW8EByHSNeNwYsbXnjDgeEMTmYJHunqH5Xqn-Qa3i3r4qrxn4npX2scXp6m8O3u75XlWzd7d5QXdusq-QJDwBdLAgTpXfb6BWDFcAU+CiP6damOdVMg3MP6hoocV339Yf36gTQRIzPEPtwIrsPs3poYeP76PiYitVDEVcc8pQbL6WDRno5FWyXw+b3eGfP5lNwMP8w3IntPbmbRvtPWIudP2oEFcPc371rM745FPxvsLExgv4wf2a3eKDQW31391L3ZgDv4Prv+qpggJffFdPXMf9SXxmP-xxX6+PfhdJeSPI11yn9+Qff+-4vNT6Y0-8clzkJy-2-g3lfsXj55f9H6s3TPjuxz6B8+oLXc3jlVH7jk0+hQDPluyz4B88+--A-s90b5O9ZiIA4+M2yX5v8TOkRKuuXgMAncG+R-XOkFCr7S1J+FSTuPP1cKkCW8QUZvh0X2L8xrCJAHvtLxzj2Yj+l-baBXzez508Mruf-B7mT4eRuBLKR9CxxeK8CkuMvb5LMREHm9Qqgg6YmIICRF03cABFoOdwNx6UXiQeOZBaGLDlRKA+AJqI1AGAVBBgsGZyvamAKUDCAx1dSBYOqhDV7B92LSLFD7xOC+Bq6cQhpRZxMDOBgCNvCAm6g648MuVaUCg39idQGA6gEQBwFIDrRGERATXEfzgYWFOoxfOBsJnlbPRxMxMF6IwCiq6DhqgMN4sPRcBlDlMbrY+okKQrJCfoqQ9XhkKwKyZxq99XIIQGaQmYzoz0Y-uSUogWEBB7g3OsJGyqzFBhzSYQVQO4CLC-62A4Bjg1KL+EAkwDIelNTWHxY72nEA2P0AUC7csM-sCoBAl8B9FDAbIa4WkyXiGBSQzg4YgfXuGTdHhtw-2C8KeB88sIAdMFIgPaZ2dosH0C4V6W+F3DwR5woiMCLg54loRvw0kAZQcprt+gueZEUYAeGRgnhKIurh8LBSX9kRQsYkP8OmKAijUCItCE8ExbVBMcNsLEXiJ+H6BSRfwlXs6DpE0tThEI+EWYkiEeReR5wmQBAnVjr8f8u9E-mKKRi9JAgH0CLmcIYA6t52ytUShFRlH7w5RZwxUR9EJGuxhRk3KYq13RFMjrENwvojcgDqwiL23IvpqKKoCyjhRuouER2nlG48PKhhT0shSFAOtQQjlFTuTF8S9kiMUEJUhUPKEXRKhb0W6ooj6F1DlBjQiMc0PAjjhL+r7QYHGK4hUB4xfIAEY6LICMBym-EEYfYjGEZMcxtQqGIKPMC8RMcRY0KF9V4gViQx3VYIZDBc7BY9gtQDGpf3BBdiOA7rPnixiyDNjsxJsS-h2JiB886MP7KgOEHTHej-YvoykP6NCJjjgxuYxntHFmK8R44icHcQeDZHzi-+BYhZMWK+o3g9xIIv0DeGDGcj0IZ4hsXxC+rbRrxiItCNtHvE3jk2-dPnv2KTA9iVaPlPDpIB0SwiOmTVWYocztGTE-UnovBH0GLQjxGAXgwdGhOcDcBW+Y41vqGPJCNgLxglGkA-kZB1jCxyoxsRvzIC4gxxGE+gIB2TZXhcJs1RMTDRfFETO8nYwCUOImLGjdMIEjgNYMYDOjCJ9+d2McI8i8BkqLUBGHOKxSsT9YzPKHnuIQkeQ0o2ohUd0DZDdBXhYYvlpYzSg4htJfgESg0OpBpw3WTmO9J52pAq0ZJHfIkG3DkmKk+W3QRkG+PnFMRo0hQ7oOEHc6oYbJ3QD2IJNAAQ0AAEmmwYAABBcAOADTYAAlCGpAAADyubZAECEqrxUZAkgNQH4MsEiY5J9YrcW8LKDSSZQ8MQqYWMm7qT7J9-A3tpENJkSkgjPdSZ0AXB0T3gQ1VqZkDykNSCpsZcKZFJilxTEpKUtKV1MkCSZypdU-wY1KfGxl1Jzo+yQwEckgompTefXrNPoCeRhRZgsSi1F6kwlKpSQYqcEOFFvQxR4rdTMGMRq9MScagEwI2iECHTxEN0yyDMTC6FitxN47KexI6kFJ1pW42mCFON6jsHAmORkAAAYTg8VGoI5CBQZA7BA-WKNQEGBXREZ1+cGdoCBCgzMZ6I4mniC8lFxcZuQLGaQCGqEw4Z+2KxGxlGi4z4+KMyCKxKwhzdpaWEemcjPKioybeUnFWoEAGLUzxQqQaoNkERkuT5WHMvmpH0kxmhJi7NBGcIgZlcy0ZTEEjPpkMxUY8h69bydBicH-EYadwKmYol6FxAMZSs7KKjNLb481BWg+2lfxvjqy3MywmYT+MKDRYfMyaTQTMKtmGDCA0pMye7Niy+ZQZqk8wA4AJoUSXxP7PcL+DwlmSOxs3AcT2L7FJyeJog9oKxkIAxzJukMGcakEKFZyFxExDMZJlFg15n4fwaOVK1jlyY85+2H9q8MXEj5S53yJKsskrmEBfwWc4qaczACQh+5dcrCIXM64HiY8u40kJf3Dli1I5-EK8TSLxJXjSQrshoFPNxAXjlJ88xidMDfFLyPxzoP8dMQAndj3Wdk7pIjLVghF5JZk0ilEgvlEkrKiMlRm8HARSTxEIckqSYhDmPpcZfed+cENiZZAXEdoL+ZNzV5sAKMvgL8rWHhB88JOwCsWWwX5gZ4-EoM0WeTGwlPisJm-GMeNRxiNhwE-QRgKDMZD8yRqiiYWdAhDmak+Wq8jiSRPH6rhaF68jBZ9JOl7zn5Z4FPgQuekhzl5KwZieNSJmUJaFYkricfJgFFAASmQYccQQ46b80FjUPvNwqIVizXZAksCcJIgkiKO8D+dxCFMGkMB4p1kAADJpt0pcEzIDDKHi-TcpoMgGZgqrGxkpJGjcqcdKbyX8ap00-2HYrcUtTJpbUhWckmSjqjOI3UhcD4oGkRTDFJisxRNJnC1TvFiM+xawqbwlTzpX7ZGOpkWkQTlpq03xXwumDjJEZO02EfCBvHZL3REIaviglBklL3RpvFWhnh8WAzHFaS2ERdKoBXSrwxCmliTmQWBKFFUrBxTTB+k5S6mzS4ZXJlDkuBlkx7RqJLyoni9VBKS3MRpMEhtL3RHS8Uc7RWAJy+mNydJeByuEsjLRPdA6f9MWU0TJlXdRzLBKaVJLLlyyoqY4q9bt0bRKtDQnIuomXLVlhovBXy1aC6sgQhk2QZcqerghPlkvLBgfkDCAqHAFk1MRqEv6zKtGXy8Xj8qrFrLGecK6BAoJZx283l7o6ZcPHslLQ9xJUxScZ2UnzjBuWsTktfxGAqTgJ1gwIC9ItmMB7JjneqaiAuJ98ppFQeGEtA6klEGgjYNyUCFyXlgnJwqt4vgsSD8yZwHUtZb2z0gVKdR3QTaflLoB1Kzh0KooEVBxCaq+p2q3aYgIJ7crMJBgY5uZzBq6o2VmiolaaXfw4xzg4VE4Sysai4zXonKv+fhNtZPjGQHC1+SEioXkgLCpKjufNNmFmkBA4qgWOVJWlSq1p802VXyxtUKrAlyqgEOTTVWaTtgNS4pbtMYYGqNVBajgDqo+hoVYw7MxGdwFgnpq7VuMw0U6q2GD0axIMYQIkuETBB7VXKraakv-lnzHgwqnGhpl8GoLhVfPXwR1L7VarH006i1Qd0XUDryQHwYIHYOXVTT+VskmVX6vlbWwV+y6yxgYuGkJSkpqU8AExBPWxSz1Y08xeav7V1rjmB6+1U6RhUuBwQGIMriEo8jjrz5vqwoGutZVeqOVri0NSUKpAvq7FjIAxUYtMWXryQsGmJfetmKgyn1mLKDUktNJBRP1eaU+Why+JvBVW+eZgvqKyCkahqaRIjY9AoKxlnZwXIeP+mo0ogCkpGkqV7IY0JpiqzCFIMRobxsbB1MacjUgXapwlkmfG0wLRo-nXwKNP601ASR42GAJNxJKTcEI42PoagYgKZP7AWUCbWJ9G4lURvwAizmNpgeqoSrOECduNpmwdDZsurm8LNH0PnkZpFlMb6AymgpHZofHyFtc8y+RVRvc00avNKERiY5tx4ewDV4IdXtr0hWb9paLmpvFYrmTibjN0CcTY9HM25IsVFKl1FA3S0N58tZmo0YCWmIMiyAZokRBaMGDqZYt3ytIoVrBANaWCYWgfLsXGbHMUtrmhTU1rZG8aMtrW9fC1v2iRateVkWreL2lqdbEtk9TTYVlXyYq-lZ09pQ6O2X7srweyyzIqAAWiECsWgNFc0lm2Gd9tL3SgnvIaDqKhJayyhg+FsBta5CF28CZUppiWZYIkpP1CFo3xZbDR90SLbrxi2yKoV3AQ7VDHioIwTA-ANwS+zEJ4ZcO+HQ5ERynjErwB2fXPmWWLy-KbRk4Fustsunr9jIG2v0GDvM465NIzAKeLEK+gu0KezWtKi7Q6jUwpmiI-OpWAYlbykGkglwLxHwygE5OL2treCGR1oD0YpvK7tSDmiCTHtOo57X6De2ZA0+LWn7fwAhCC7IBiRf7btr83UTpaKu1HeNBhkESfcimrJoyAACcJwIeJkxuFXapRFuniFbvOkPJVYHwIHdGosI20-4cDZ1QOBcDKZIZ0awoJbrSb6B2e7PKyGgHD16rE6raxUIHqWFGo-49Q2ILHrWWSZMcLohCGrCeouAfInFFcMwwD1260mKex3ZuHqo3AO+se4lZ0AgVQKvoL8ddRjqJUlSwtiuyFtXrSa171dChPbYDsEDgKO9TAb8hOzmQYDjt1QIqCeDICWxlk8XPSfK1aCMhW+jcdvp31D45JjAleOgEVFS5HAGlYaivInlIDT7A2o3dSMslOpbw4GseiEN5B8gYDQAkveNdvr9yjMEQo6hoNfq97yLWgxwJhlERYgDglV1g2wSPE7V9Ef90av9d2tIC9qF1-atUhL3GFkCOoU+q+tYVP0SRz9uqeEMUKT2F6Uet+7yEyC1WCAwDogQg95H8h-6WBbEaPQXpSY3Cb9FBh-Zvw2jETNWFByg4w2T3OiDl7SrpTQzrprNyaX+75R+NJ0xDCsrQXMXWpZ3-RjmJWTkeNol4ipxdGiq7XenvhOqJJ9FOEkIEMCORVY4+-gOLKpAL6gQS+7fobowFzjNUderffwB3176INAgSGJY2UO29VDbUCXQ6p1GaHsN+9V2G4cm469WaF4uaOOPICyRoIhBEXriAWUSHydUhx-oMGCOyGGdmLRQx8qXEtzy57cx4FmNPCnS91omZMc9QqFbrpMWYwavvoMBlCxunrOBk4ToARz15pYkQuWPf2MSijjim9swMmF8rChp4ZvN6zwD9zIQK4cMVGMjGrRKjsYzoFuLeKKYIxDRxFWpljClAmFlEuMWdvaNfRyxfOvMLXPDqGCR8tM8mD0ZqNR7SBA4TDKCRwzQIej1RqZT1TGMDyralCI+YOO-XXHKI2snYWccKMLHejHAnAKPoWXs80J+gNnQAB0sAE6o5UwBsEyBgg1XO9F00map40IoehRKgeMA1RwT8iyE9yuhNby4TCJy4Uibeiom5xR43gCeCeo9AsI9J0AAAC8LwMQOE5e0RPAGUTOPenSs24DsmsTekHE+CEP3T65BJwVCAdD0PvBDDm4SEzyeRM0mgWZPOPtrxYDa9lA2vd1pMHZ5pg8AhJ75UqcpO8nVTGJlNhCCiNWQtTlFXU6bzFP+QgAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:green"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3gWO1Ii56P1yNyxt3vjwRKYAPzObgYDF94m4XKBgyLIQ5CSsQHSgO05DL0wrCgKQwwiXxjCgJNoAGCGFKTWgz-TXUCfUlLeinXCgx2H6jAOilzrFPJmLN-7UEAddZKKR56gBIMGGGxBOgwLCAALlAN9dQ38ZC-y0jqCBUDOyoNgVpQhQCTAkPQZKT+pAcF4JdOQ0Ww9g6aw3lkPQk9exKSlhFFooFjhKR5ICAAVPwrIIj8yhDvHIDIx1CCiR-pIHggwlHdT5mEbhdBCAeHETIQR-Iv5KJUUMN0si3ZZT0R6FKlB8D320box8xxTgII6jETok8UpflcUgzoVQUrVEwXIWQGiUrcPIQY2h9DJD8EGDOHRViIQpVSHYvQESThHHgfvNxyCOieOSTbZwPj3EdH8QU0AgT5AhJAeUuWjCQyQLyWUgptQAmYlaTYIK9BvB9GMao3BMTBjDhkPk6wWiElOMyYYuhfTTEtnMXwx81jCi2PsRMgRGSsmIJKaMsIshLQugWZYx8-QqG1OWKsPQiVZkXJ8GooZ0ERkmFObU15cyyhHPYU8pJhRKnBP0TUwo4SGmAMiXQIxAzYnvIMOsrIyyCmrLSSCg+mzim5PyQASBSvsi4LYHF6NOVit5KVbl6FJfc+8jznlnOJWEeJjjQJZywES6wfzqk0r2fYXFZRyEPJtD8lpJCOmssxHeUKdBljkAvnoFguyhLOMyYCWR1B5GLEBBymwcDlWqo1dYDBbBNmAhiLIRgwpdWavEN0015q9WYMYMwHwLAUwAFViDHVzgAd2cKvCCzgAC0frTGgSkTYYVctxWSovnpbhPr156MEWwvRnCqjcKPoI2NlYk1KrkQo-M3Dt670yRm18WbjU9PzLNUAbCPAxFCrEECWQ+Ujknl+UlDaZKUv5dnMQNb94xB0FBJcoE9C9rrZMDRbcEKjv7Z3adugoI2hHbWmdE6B5ujnZMbtzgN2SBiJIfAPFnjtsGAe0ELbNLTL0MepgZ6t2YLwnxfeV7wxnk3p2kcJ7D3nobKS6ty760vpOe+kZn7b2ejwPOBgB6z5QDgIgZA6A+A8HfopFQ0ETIAllMoVucUpCyAUEoYckZYjMjOXA0AxIzkYIeOiUjBStU5sWG+JEwyxLVmRKiUE5RBhYcoQU6jUheyBjXOBd2dHklwLQ1lITpZsy+sw8QbDVGFjtpE3JsTyoyOYOtIO19F5RMwgU0p-jlJiLmkRuJlKkmdNmhlBZ2yvHlPBXSmFRoEV+pRW8pZwo1mIohVc7QdzHkcrRWVpgxTfHkkCe6I8eiuEPMha85p+jVbVCnX3Z9K5sWuI5l4vxbjNqCnKQttQNSBXaUFMcyZiI51lrlC01JmmT06u1f2vDXGjJk7xB4xFpzEtzE62SxJ7TEVtZGciylaL9k-odZ9hNnzI2srTZMjzBzvXqtSH9pQN2hnvOkP9upKTmg+J6HnGHXK3HwvYZeRVyqklhkCUTl10wPXsPzZSBg7wDreSuvddQL1FG4SMlUHhUAAbFvHYOiwxSB3TskEGE95GiKIiEUoCwVzygxjzjh8QQ0oS5YHeKmjjHWPMvCARz3AVbL9HI8E6wRY1AEEZahjjvHgLgXaLkIWiHGGzuW1ZzdirKR3KPq6Fh1YtAzKFdqWd7ioJr4CWENSoX5SnuC5V4UM74vmB2b6Er+FqcFhGVY0RZmpgNVwON4830tBH19FN1z97k2tk5L8ckan+OvuQJxy6t1nroZkyposfR4ODshoqZ6GRbV7uPIEv1Ogr3PFflzvnQu8encWsFlQjBpKju89hpaJu6fE-q9qXdxQD2kXdzTwRa6ieHbB0a-5zK53Qu+yu9+xm4xGAwTzydvqHliqdEu7xjPoRfMaAwwPgazVmSJ5pZ9oj-fGoecGlzkfEXocUka61la5AE8d40bTpQLBKbU130jOVmk0Vu9CB74-nNsYzdW8YUW+OUhfj788euXNn8WiRv0Lxs0hUkEuymEv6LvD-k-sYAuiOIIhyl-qdgXu1i-vvs8kASQsflboulAZEDAcMmzhyl+LgcSLATIMAXfqAQCkQZpDvrTHVjaljCgXjOjIAZvkKu0pHmTOXpICQLZsPtJMApiOXGAmUIIWPnAlns7qSqInwWZrkpIoMDwXIQKLktpOIUaCyqAFwcHHQG7MQMiDvGphuDCM9pPMfhfh2O-ufBARRiLIIrvswZ1uUBQYbhEBTFTE1j9EjBypIZXByhgs7LKKVPoYYf2OpqYUgQ3E-itv-ujMrhrnoTkGEcYVeP6DKmlmdPQZdNLhVkwdzCwSLABMAR7oCoUgsDJuESYW3mPuPkIv8JUakb6sxvbAESpoBqBE0RpvELqlqjyKps+OvPCNWO6LqhgoLCUToahjpmNjRLxhotwpbIIubPzsyMAdwkcgwJkkkQYYzlUWkfQCOqVnCAKjYemFkvwUAoIsoSCPIcPpsacZ-kvs8JbKXuUiLsEUoIphLrrlcrwsEoMCodKJ0AfqPlvhKI1stgjD7Inqug2GwtgTBOaogW5MFuHOVhrjYGCVMdvjZvIagbCSArZi0WQXoLZkKC0RicLs8WSfiRaKSXPh3m8dYBgTMJpMMuCWII1gMQZm3oSZiMScMYqKSTyREa+EKZkFSWEIgaKdUZBKxoybxsyR3lcMDHeE3hAcJoMbtmtthhooKeJFlKxo0dqeKYaVKaEIgSabyfKY8hvtdiQhgdcBBp9FBswGwLBpwAhrwC-ChhSM0D3s8HhJ3vMKDpslECOJyc4GwtjnLnlg3IMK8YfiAl+PdH6KfozvvMzt6EbDanGfYPxImccYnnes5hmUztjvgCGZ7AlDyPgCmOmQzhWZ9EHIpLLrlgWQ3KdtWfUZaBNPWaAHVHenzscd2XCfrG1P2YMN1MOaHNrpLv-lWeOa1HDFObfA3opAiY6KSWmHbj2fdIiS9GcXuaWVIIec+vysuTWZtH0MMimIea2RSIeTboyP-gQVeVpC6AQRudvmQLIjSPOvOb8fMSmWui2E6ZWrgaeuiCBcIZpDqBBeqX+dQLIBbOpNBR2iBaEHBT+isD4BhSWZCNwiMGMB4dTEBUKIIhMX6RKDGYemxoqAfg9j2aShKQCcBjXJBYei0Yrl+hYNhWyQ2DqBhZ3BhWQbxWevxcDIJTiC6CJVGfeqLl8coD8TzIaUxeoAfh4FSKRRFh+VkLoCMAxZkKXJsgZToEZdaNAuUnAr+pkfuvRWxRpcEs8qANpahVViZuZUZU5WYAADxKSygWXDAXnWW1KSb2re6AgAAqGQqWxAcIkoBc7gAMFGCiLslAnQGCgIoAAA1NoZiYYNELoLYlbOpWYPlUbECHlQVYkVEP2qVaFYaBqp9pFT4DFXFfgDIB6klToClZ1mlYsBlVldVflbkdYEVQ1fgGVdWKXJVSmDVeNXYcVToI1VZahDRRxIxiSQqYafydImTFht0BkKJLBSlHeDscZexetdYTJeyKIVdWFRVpJopsdcXHoEtSychQBQOhRf-qPrkRgmxQqlpL5UtXAjqOtUtUDfoTpOVXEm6OtacXfpgaklhiDSRSfmfspapRaLspaW1Vdb7ukAgqANJOHmEKURytwhhYIlBfRayeUl+JdWJU5adl+sqbSmJZXiJcjaGpwXdc4EdcqqdewWhB-KoTtXaWxXyvtZ0oda9SLePHpWUSHLobDU5XykIbUiIVJJXI9bUQtsLSdR9RrhdP+f2jjTrmZADbSkDYaSDTqGDULnAjipDZpXyobc7pdTOPDdCkja4ayrVSkIiujeGecGRVbQuYyPjViYTTLUCK6iTfvGTaCGDoGuSRaBTZQVUtQbUjTYenTcgRhcrdhoHWEMzbDazepezWepzcStzbHrXU8AbijW3Ybsbe9RBSfJBqfB6RwPBtwHwNgJWijtEOjlQJjtmYZkrv3BZBcF7ImHrvDkCKjhPZQJjo+RKGvSTruqflkEKO7LPQzLbNpPrtGrYTvZPaTlDFsb2abSkPdBqFVTYBqK8gkWEPdHqC-dYHqO-cyfdLcj-aALcv-agvdIeMA4eGA4UPdBXKUFVfA3IAUh-aEPdBGmGHCFVRg6oIlckqgzYPdF7owD-cQ7UgQ9YPdMJCMINB4HQEbNQ8MLQwwClBQ-fYCLlcAzYHoHhIMCcccAAHygCg75V4NsP3R+pcPWA8N8NmBHBCOg6BpiMAPCKKGFAyOgD8PyPCOgAiKaPWDiPCLABSP3y8OaNyMKOgBgDKPgPCIACkJjGjWjljdj+joAhj-wgIGSXDTjFjOjmyJxKjnjAAhCcD42Y84zo6E5koE7Y5435Y4xE346DgFdYLE7A8In5UcFI744Izo1k2kx430ICAI4k7I3k6DkI4U0E8UwI9k4MGELk9o5U5kuYzU3oICMEyYzo6ENo9YMEzYMGaghCPmuPbvWdk5ccCQsJKJBqFvGM9fdPY0CTKM8Tos2dtQB4AAFaPxbHTMiQ455OAMLMb1HlyT65sNhBX2nNLP+gQhYCrPr1T2VF32JT3Q34dBVUfOXOYloPCKQDEBIJhRYMNMAtAtUw-O-OUPCKMOSCwCQA-2wvwuQtQtUNaBMMACiwDsLGLKLvz90AAcqoASyY0SwS17ZiSM5fSc885qXKJM0cPs6JHYto8Ja5dc7S+mIGCs9S2szc40Q9lMylDM6dnk+c4aPM3y5yyWGgVUJWoThyzfd6D7r1UvT2YTnuq4owHIHCJbVs6oGoHodEJTA-W8oq3vS7LNkfSQHi6EInGqxUGEDiRKPsgolHb8T2R8VmX9YjOakEU+uaxM+pYMJ9ea40b5fXWEP6wcIG6HJszsxQAfqGzS2MAK7Hra7-RHafp4T66YBfecZjToLItpVlLmw4diExrm8mjgC6bfX3ewHBlwJgBgJtc4LuRGBQJIE9IYK+MJIwDLO2j2RXJ4N4K2DHC2IO81VZp+RnIjR0XCnjpVZIDlflZNSVdNWO+nBO-O98iQhgnJJO3eumcJDTHLnxKVPVboNrYbqoKQKQO4MzBhgYAjne34wwPlWSXeyDYCDlXAj+6ANlQtflbe6QBmylD+8bCtZxXeExOQFTL4CtRTknEh0PnB-w+YBijhTiGuzoDVYCB0zVce7hLIGe8PiK-a7B1TEh2-pVSYICHepR9TNfCwGSQXEOw9YnBIUCILOqs7hzDyJx1sJsGcnoEg9pJx2YEEDOy2BJ6ANE0CIvFx5uwcIJ4aovDSnAu27e5aN25WH2zLJxwvvfE7ENQHIZoJ9sBqjRt-nOWiRdhJ17X+wR-lYx+MN4CxzqE9qx5MIu8HQUjlSu4DuxpJNJDjt6K3t5LJ2Na8gFzVa58x8p+Jz3N5wBHlRquCLxyZoxx05A0h-M-YJ4cx1O4UNFqSoZ9O9l4CEA0oTyJ52xwjTJ2x+y7MIV+52PtFjhylyQn+wAOSBeJx4d9d7vLVTXqSccMctfUxPSMDqTTfodYf3V60sxPAjs+A6hzdgflL3Q5CfMpiQJVXAjUDCh+zUjlr3nMwHTFekLZfrcjgzeuUugbf5dodueMCyrDc3cIRPfQrfeucbcKX6uGukDGuWjDLFRSw5SzyLDseDSmfbbuwTzdfsNbY7bXgnq2dMTokTyRuhAiuA9UjA+UCUxkHg-7TUjUdQ-EJ8euBcaI-Tv3SLyvSGkcZSS08ERXfUL9QKVzfyjA54Sk+Q8TxH6pImcZWo-eQTz5I02hzA2ZIkJsUs+hda52dRiS+uGjMQ+nddBPYJoHM8-wh88C-k+9Vx7s983EEy8O2GpANI+ko6iESa+yDa+U6yTjtlAO9k9O+p6iztdq3hey+nBKq9CZfXfMCe8JhPbDdBvVjfv49GtE+g+PIh9hC2V4VheVgy3mp48GsE8g8k8e85QU+S+++krR+KjzOO8R+U4lFUHiAi808wVm-46pnCKM9BfCkhds-Q+nFU0f60EESTHi2KRB7PBC+gXz257s9I8IVT-O7ENQ++5-YA4JbhxDBwjB5b1Fi254xj8Lc+iT-Q9I8uh08ld2rfb9SL-+73qY+5THkAxLx3j8g9Ilp5xeCDQdDBgHC7+C1r-B6U-ftP9TU9HeODDg-6DRTupqV8Pzm-6G4dQu5HfmbwUrGo+wZ4E7BfxvRPBASxAZOl0EXCSBL4+8LIIwEngFRi4h2dntYWPxjxJet1GwIsX-S4dMkO6PdCXXQHyUaCDYDdCDQ+Y2o4EJAHAYOnwE7ciBC-DASMhtQYI-QiwdSDulYwbpW6oaWvsfgP6EEdamkUlFIPUgz9u+gwTQdpGL7l1e+TNfvosEMEC1DcegieApSKrZAWAsPYPFmWDCYNh8dAExE4NwYJg6A6icfl3kFgGA6oSPdwXCE8H8BOEH3NPk7Tqg49uGb7KILYPsGfEghLguIY8G5T+DNuULUIEkK6BeCNqXSa+FkANZgRnBpUNwfIA8E5DvBe-BYH4NcFcdsh0gUISXwiEIQ6h0Q6Rn4xiAFDsgU9bIXoAaFeDOE7Q8pJwjyY2DUhM4OqBtUrTjC7B+AMMEYAObk4KMPZeYVoEfSRA7AjwBDvEJFbLDmEIAikGsLg6yhNhtgnYY8Bh61CUh73adlIVP5dDvAhQ3oeUOCEHAOUTtG4Xi1GHaNjhGw2YRcLsHIQthsqaYeqQfSfFbEL5GkIYDfI7tBgOEdvCJQWK2EuBTAhgbugMIl1r07An-miJcTZJfEHQJHl6wODXpERoGFuuEJOFOBJA1DaVLILtLyCERWgSkSMgUqSpr4BhekSFUlQsikRfFHwfMFpqGp8AWoToDlSR6AgxRhICUcNywTu9WRoAREWYCR601rAw3CIGPElSqjp2pI3dIoGLC9B-8fI5UUqJEqaipApKHUUJwWCkoVRtvdYd4G5FaBpULoHUcMOSQugVRnoklE6NpE8jEuHoz6rSh1A+iQxDdL9L72lHijPm1g-tFkHICQQARwZD8qSjMY-ChGgsH8r1FGDSxBoBhQAeZwgEwhBgPPU0Tz2REgJuEPI9qJzm5ycjnRdI10SFXLFKiixjQENpkOJSViv0wBISC2LrFm5v2MorIJ8yR73CPsFGBMfYGTE3CMiUqJhg7jzbOsxAhAVCrWnchkotAMPTrvbx3E5ixAR8M4dsJ-gmIf4VQ0IFokERHx6E543BDOWqFbECR2yXJKAD8KlAAOFGJAdkn55KIUQ242sJiG4Q-xBE+4lcT-y1Hhh6EZgP9ovC-E-w9IiY0ANFQAASGLSQAAEFwA4ADFgACVoqkAAAPIEtkAmSaipBXsAXxwBJqSIo2KcBsiey64sYJuLwiASuRXHY8axIj4ljlm7E50b72PHqAsoHY-0HeiEmlAaJz-dIj2TQkYTsJuEgicRNIniSuU3E7XrxPSL0TccH5Y8QCNYmSB-xNUbSa5T5CaTiAfqWYQ-zri1opJkArSf6OICMSPysw-dAsJFa6pER7gQRoVgvghhjoBYuyYZi8lOoQGjkxie0K6qLigpfE7SYxJmjISe8q4P0CQGviCIAADHKzvDIIPUVUC7vYLM6vhKABwFtPlJSmvkb4mSJKam0zJpT8qPAfsZpGqk25Up3gO9Gwhym6ZHwz6IdI2lsD5SUe68YqSxTT6Ag2+pKZqYNMrDFSGuZQSdoeMxiyhQQXU0CFIBiBpILuXCWwpNLh7i8DCxUqit1TymrgppRUkqcATvBxCxgHqdQDLBgF99561Aigb4VSzpZOp7aUQTtLF5DS8kbRFHGnxP4pZSUV0yQDdLkAyxtBErXIiDLBkyxj+ZvClp9gH7mDyiMM26RtLhQKV9RUIhnMRGHTXprQzk6saiIYHLEMRLA+ijiL7GYhEUXA+Tt82sLeJiApVZsYuKXR9p50cghga5QjGhBCZYgyoH53vz19B0F5NnL8zwAiIpZJCegRzMYFuVyZWIymeoEYnl0vwdMl8a7mJHhUskLMwMcel5kKy5ZpJZkcygxREoLRtSJGaLh6l6YO0-M3EYoNzp1974wYBwUAmRC5B+ZVMs9FMCsZgApZIiEhF+BjGyi4x7SWvqrU-wQin0BMlWQLMH6ttdZ01VmdKkWAmJFgUKKsdUJFGB9Rxco6dqHLHHJ9Qgn2RaNgnTlbxuoaow9JaNFnpzdRRtGOV0BxkoUaQw6SuSAyzlfo652o9RCSObkGilgbcygB3KhSdzkR-s3RtLOp5LA0+Dc20f9MuSZyuOJAPWS2O0gNzfRdKN0CvO3mhA15KcwMfbyiGGyUo9vbqPvMjG+zhuRciUUgLPIXdfAsRGOh+WnhL1n50Jc7lkE35ttaAoYdcVGGqk9k5IwCzuM1P5zAK35D1F0Iwk2kc86i23OQDdLhBfBAy4IYbnJDgULsFpkoUztTFwjVSMZHaNsTSKcmgBexklYmecVDDZADC1UwRHYGkgrSsga03IMAvWK2FD51MZcfAVeTcLU5rYu7tTDim8y0wACi7LQuSLAKr5YQShS3UakNgBFvC0UbGJLmZ5-Cc-Z4l22EXEKSsZWKRfQs2meifqiYucSCL0DKLmIZuaYchLkmSA8JzqAADIYsyJZNSuFlLrhUSlxF3ASHFIFkflmJmI4MGxJMlI8uJv4hMNVL8WOTBJXKYScdOYjVta4wcCSUtl8WjChRzgexY4pcXgBVJlodSYkpiVkKeyrk6Nqa3KR6T5xBkoyfxKcAZDwO1UyyTcPBDtDqlFisaQd2aVWSwRZMQnNEvqXkLs5P-VyccI8lvIGF2jQrITkIVPzqpW8cKQLMineLilQy+KfGP3pjA5uegUhVyLZEnjZULkm4W5K0ATLNchdaZbUnKVDVEhrw4fDaiQQaTaJfEvZc6Iik2pMxeCl2DwoyVvKGJAsy5qzS+FYztFOyubgctmFbTzi80YQDePsC6h1+zwb7oCC-w6LvAWDR4ppFhUkBuBhIkpEjxpBbL0VM3XZcIshVfDhuOK3IPAOcLfdgVII3BREFYndSbRWShYHuIQg6jJOAQdomty5UHjrBSYuwDFMgh7pWJtJF5bQHMIiyWVw6USbjl2QgTcEgiWpQMgAkKq+aYyWwve3tT0kFVhyoVirg6XnCf4J3KVRZN6Xl0C09Cc1dJMtWtKceZXcyYMC+W6qmFhecyYcoNxGCRUKSxSIYEgRjBmp4q38cQuhWGAwpZCwROIo0AXYOFNM2Vb+NZWxKlVthUCZkjVXUwAJJk8utwndX0lmpswo1ULhNWnjcE38mQC0pBHZ0bANqs1XZAu7VrbBuZc5GnwWX3w-GBauUEWq+E99I5nBIfhSH2BdBmpkCUVbkE1XQLElkq+1Y3P2xgCiFmq4biOonWzr7JuOO9KuoVXrqYQk8QNSKoNWhqQlu6xoKcRjRyBnl9qu+vYoUn4TCJJE-JZiFvU4T71yktxc6otWuq-GmQK9RupJg-9AQKqYAf6uHWLr5lm0jRAeuDX5Tj1W4hNVeNsK-rilgiHJc4tcXAE0NeSwRBNIu7fq8myG6JViobBAbjoIGpOe4WzbUw0wWzTLOnmnV+D08w5ZAjRuhBQ9r25RbQdBzJhMFWNIgU3i3A-LwyW4p5LGp4XFS0aWc9G9lWJyY2HCJQuBCTWxuk3VCuN4C5iEGAkCSbE27GnssJu43BxkEOgEyF0B2Uqaf+amhSjRuoDrS+NibClYyunWR07NhmFzU9RT5iDDlw3azetN420BtN++PQG5saVoqdluBFzUFv83Qg68zKbsQytsHTCbVfIfeAd1C3CKqqPmzdUnIk02bcgSm-jQ5oS1OaqNa4LTZlny2JsuOk46hI8O1Y9DihFQypZVjBW6LFNZWkQP0Pa2VbCtlwwlCkC+U5bfNGm0rXQAC0CQKtaBPrSrni2XCuwSW-bimDS0YrsGWm3Lfc2ykyBjNJ2NXJ5qhXHKQRpyxYaJF1QiiBGsWmxA9SW2kqjNJmklWNxd5nzQgpi2cQYQBG81KEWhDzc9qTGvb5xFo82V+MFhTbpE3FKFaKCS25xjuQIK7SCzJqbaTI62w6nhBDA7xR+FA9lYgXQGFti27mb4tbTxoA8c+8fYnqxh20zajlrwZmicvGUHMaUp2mlO5BR0nZkBgYVAc8CWp1ck4rlAiktSvQnoLGIY+fsoC7HdibAgIX7Ff0lSUob44OFdmbM+2Ag4+hPEnUnyp4pZvt5i84ZbJMxA66doOkFZCCS1K68+wyVLS1uW2DBjdCfMgvcxrEg4RtLsXBoIgACcVQMVBIEd3n55xHGv3hSBwZe6DtYUUdoYEGA6TVax+a4aoN+RKDUkzgTZOlNjrWB-degHrj1xTBoAM9taoOs7NVpZCPdmDRLoYAUEpB-dhy3dNfEBFpCi9oesHIOS1UR526Se-PbgzL1B61ggwYSPz3924L1AKCtBTBGlBBqetFOnOfrpBHg6d4HTXvbg371HlUV5umblVWn2oLu8zaTxcHAL7Ug7tonYgAWiGTeB0gNICFiiJhWCJ9eQOFoPz030xKG4zwGIAWjw4VBwQpxRFJjkYCH7gWcnQPjSAMrChdkyewEAGkDTX6KFwiy1A-vTqSNBZJCZPX910XzQjQIBHPWGkRQGqkxFsMYCOuHwIHdkq6sdYwDXXbqvV-OHA+XVf0H6UKn++TjtFlGMhwQtApvRKgL2AGgDGdcyZKA-6dBIDQBkUEgf+QWAw0vqsIAAdYPg45uXcM3AwFEMBos9yo5vQHvOEcpXJ5yt5PTo1xwGMVTWlXCzsZBs7dlbI11cLoIB+M3snomHfoenG6AzFv2ixdmKZQo0h1Cm5AjkDoAepR29+neBGt3jzQz9wi3npfqN437ZAO+h-ZVSf0G4C6oIO+uYfmivQZxP2w5XoDsOKLfB+tDCu5rqKHdUsi4-tGaJaDqoMUOeSbtvp0NUAMMsRrSOkdcp87jDeTN7ApTdnBEpAEvOeNLrtlEzRUgeOwNdPRkjJKBIs6gVHoRRo1y5c0+EZgiGOvIvwEZcghyiEP51URZM42RTNp6qzGCmkDwHitfEoINccCMUf8nGoYI0Z4M9mWOhNnF7KazKeY4UF1q5551ryOBMcYhkIQnkiQXlU8f0EILykGCfY7IDMGN66k3R0Gb0fZ56Rr92+nrkWL0Ci7QAAAHSwBLrblWZdA-gEgQscgdmjWRnjmJRp6gQb+w-VDiwDgmdlkJksdCdF3wnET7s8YHnFRNvdtxlyQgEMlcp4JSUTJ0AAAC8JW1geE1GyRNdAUTaJmo3gi5PYmKsuJwEPiZQqEmiUNwZw-QDcM+BIT-Jmk-uiFMRMaunjVQAdw8AHdSAB3T5oaB64Qg8AxJ3RcqepOCn6TGp5Hjqb1MGnn9EpkUEAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}
</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:green"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:green">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:green">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:green"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:green">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDKiPcOIyR0iGCyOoIQnmTJFqaIkQIRw9tUjSDoPI5GMJ2R0Cvh7L2Rs-B8KoWAwxGJjFaNpmwRoNjeGP34QwpuYIhGeNBidVQbhUglwCYoqWKjrYI2ClEtQggGAlwMYXKJXAdF6MIPE7Mbj1ZhJHjNMe1AVLtmxHkmRkd57cP-sgpRqC04YJSaAImMxSQimqc4WpUj6kELKW-dg2jpBMB0YYJpSD-boKYLIXAaiuSjOERtIWdSmCwSKY6BZSy1FHWYesvpEymBHA6YjRe2Z9nLDUekMpBcKkk32COEg3dK48ISSnNByTxaGUYAcXOxAHZrM8dVZggK3kgsZl0Xu1dVGkihcCh2fgxZdBbus5F7zokZJLtYhOUgvnFKCe4zFniVhWLmjEzJudLlwuuY6eu6KwU5N0dSvFdKCUcwZcSysITSAYuORElQmSUgKmxTCll8KEk3WfkKp26zQYzzULi2JdLYXUJaQbNmwDIw8uHk8iBTAvA1DqPIhR2YUFJI3pg0kpriB1GyTNCFJq1TmtmZavZL57XutJGi4O5LC4OrqCaygfiLU0L1WS8ERreYqGSLwEW6oEGeqToktefzM68CTeQFNIyg0zT1hM3RDTClpsCYA-VTdC15Fnpoblnzmn+xKQIjxhdIrnOkA27gdheXNqtUMXVfbWVFsfKq+tvbeD9rmSSi4I7a0VBkWeet1iR0yuzIuBdsaw6QNntwPJMttU-PaQeqRwU5j5zjR2DgnAmB8k9kYK5KIGonBlPXNSdZZ2OlBlA+UIgFikkvXdPsTQuZRGEdtd68QoBwEQMgdA-0uTlLyFDYcGS1G5wHFqhJjBPAQzQ7+GGcNg4+QWFtDmPkdioyNurMjGJOomQoeXTuUlsiOKYJ7A2tGFZ+Cw58XyxNtnvx3ngg+dHbQLEI8JicH8xOtUw4QbDVGhOsO8Ow-BjTSOSd2D+Vj0C2HydTZg-jKnw6yPbhqhW9HpNtxznHRTynbTUZUH08gNSVx1NLXI6zOnpNuY8yWgpjmBO2SExorRXngu+a+AsV1etVTeNMd-CxDhG3CA4u5TYEWJG+P8bx7pgFTPOaE5Kj5wgbN6bK9kV5KK1W0rjuloQfGlOhdmC5t1ZqJOxd09iENIWzMqDSTSuJMWLK9ZXMNzlDnN67Fa4N85Obk0KbG5sBYibPD+MI4cVI3Bi1RbLerFr2HMv0QWVxru1jV1Hbm9htrMw-LSACmo0K4VIoxRdnHfgnBQDJQmzt0Fut1kbf8aUPwq70xYTlhoWI7nyADmYAl0oJh1rfpoCDqZMO4cI6YEjog4Pu1CubJBPEUPXNxF4JQFMuPhF7aICj6CUgGoyJGEEQk22MPFry3TwgzXCtli4KkcZWHHzUDifz+ixazFG0sdY5Hp2subFXQrxXMx9tKdF-ZkkyOMIDp-UNs2rHfzGxZ54Crd4FhRK7jJoXJJTfm7LDsC6Lp8xCSgrGfy7QefBTChFaKNBnakEaPYX7KUQc9WbDu9Z52IaXbPdO472lkaduu3kroNkFhypsjsZiHPduUond2+PXRE8q9tDHo3I5rHLq7T2tPzXbuGudv5qpcPqCDPyYd2b-G-aDtcNIEcB7oa7dOVs6ZN3+P3ZmFJ4fxtR9DJk01xPRM-Kz+4PP6R5yzcT9a0Dzx0nqvosT+tMnkNYjirBkC95mrtJ65oM7w8GUSco03Mq4MHL1UzYNbf2YyM8-GwLw-wa3pWa34yfyLHd3HHREAOiQRkr0qm6X-z23HSANGwNR8DAPMlPytzYxgLFngIZ26WRjwI5ngJkl6DdxLCIOrgP1q2vwlz6FVXSU-0FU1QwN33MgUij08QryIDszWG4G9hnTRyEzlUEKNnT3Gyz0E2YgpD4Is0PBpD8F4MNgUIEMXCEObgEi6XCULjoHVBcCp1PjgQPiaxP1fxeSvylUYVRyZz6nRRlDK3q3xXVnILvyEzFSD0v2hXK0kIzEzzZm6R2ETVzhmQMM40CA01MOQKpWcKs2-zL1EnCKMKiNamsVdWqwYMVxr2YOAPSzuF10oNsJEMqVk1EzIRW2038KJHThPlSPKgcUoVKSCNU1nhwUMwqOMxxn50shfDU2YCMxGkaPLmaMAh2DlQym4MLmk36271a3WgajyxlBDTDQjQVhkgahAjOi2mSMiMGLRG4Dyy-Q2nRHkMjmjjWG2JUP4MMC2OOL-zXzy0SMeEF1CMhg1xiC1yXHVC9D8DOOzkuMT0eWbz0ymxYJC170dFdRwON24AlyQNySGW8y0xxmePoknz32mL0zszQM6R70Zzs2Y3dngO4BxLpSJKoUSKQLJJ3i4WDlL3MkwJ0mzC7kxJmmk36PqJ8xM3mIJIUIpJJM5P2JcGGOvgKxeLXyFM6JGjpNRMbypI4I9EkGvQm0XzcHKJMMqLxN5JREJNFJXF-jqOFIpKO0ZLXyNOlOoBJN43lMZMVKejekgzehiBgy+ng1+n+nSBQ3jX70H04CPX9h+01gHwYDZLyHi1p2l1SysT8CeMb0hKZB9TaHPyp3GT1n9QYKjLkDS1jPDVOEwMVRFWExTOpyRwDL7xPVUVwC3gp1TKFnTNHTyClxS2zKsT23LO9VVQOWrNAFWUXQD2EVWNBw7MTK7LuR7KOULMLnVwHE1ziVwBHJqLPG7L8AeTDOhFhGYBhMHxFFt0XMRW3NRQ2j3P7KE0PO4C7kXOtUzXTi7lSUNy7mdTyEPJtw1UvITJrmjQvKkib3WWBUxEjlhneNnM+LiXxJRGRkXALJVJgOiFo3AuZKZTVmgubxIAAuYHcFB3MV8HjNEF6AgurmYjgvtkT0egai1mYE8IVBF1ArpRlAmO9L0k3Nx2wvY0oToEkmN2EK9RoHlkcQ4u-CkgVRguwopLl2wu6HwsQpoHrmIukmFWnNErjzkskqJWktShVBUvXJoFeOFw+LFys34s4oEvcGDEop1PUu8Fhi1jYvLjhQMiss0Bsp-D8J62Yni1Yv1IEpcob1MsYGAqn2+Ecpsq8pEAAB4MRc4nKdBvyvRArp9dgnsvdSQAAVTqKqEIRoYIbtfAfFLaNkXNNYHYUkUAAAai6VVwow0Fhj1Hy34pEHKv9UMjKoqtV1JhqtwH8R8viu+E9yfFSvStwAYCimys0Fyq5XyqW3ICKuavKqyN6Has0FqtsvdjhUauChavmqkEWuWu6u0oYy6l4AFK4UcWP0Z1QoHGFk6nZAQs2Gdn0IZi8uMp-xmHTTENCq2qkyUyursDhMqskH-MoEAs0GArnI1Uny2vukcTwk-I+squeDVh8q2skHugMK-NCojDGD2s4KwM3CwxhoorPwvxooMrjhet6D6pWs8B90IFphTGuiNgjwgggKoLLAajkplFgtYqZIzGRgesKTkrEr2wkrRMAkFuUokuOIoJREyhoO+uZBuvtJVL1I4xOsoU4rOpRAup+sVuw2KMdM8X5qpu8qOG4seDet1Thvoi+suoVr+sV0BuBtBtoocwhs4ihsoRhuZXqvmoWAonrhcs4p6sEyNtQnqsxtiruDcMElatmCwnxs1klioudtJufQFySqfH1JprptCG9lDyLkszziluJxZv1t6HZuws5pQJYvgo4LLD5rRsFq8uFqNj53+tbCUqEpbvtl12lr7vcKwx1oPSVog0MSgxdM+jgx+kQwwEYqE2kXIFhwoBxzx15w3X1wzV+XTjB0MgXqXvh0BwUpmj3ux2YEXqTWAIU2R3XpktJR50NQahPuXsRydMJFUVvERReCaqkBeDvDbtmERSrG-skCrD-rL0RUYmAffEfDAY-p9XQSgfQVgeyx9VZlGCarQc8FtH-pmERRyiTX4EaCavwZniyq+Bwd6ERT6uAb6rLAoakERRhC1nOXcDoH9SYZ0BYe2keHockERVKqgakG4E4D8EaA1gAD5QAftyqyHeGlyyREpBHJBhHRGJGpHftQBZHwGfUlDNgVHNG1GftyRNHJA5HEVgAlGsgRGDGCRJGfswAtG4H05SQABSSx-RsR2x9Rlxkx0AMxn1JMQRjxwxmGsR7R5xgAQlNCCesc8fxDsdACicJDCacZJFJDCvcdiZCYiskBSZQecbCvxCUeCa8Z+0Kdyf8ecfEcydUdKdAEkYqfCbSfEaKb8BmBKfifUZacadSbJAicsfUd6E6ckAiakH9NvDBEfqx2fpp0MTEoJHMjsUuAMD8CfoPtmcZCFSmcXtPo2fKkoHcAACs3hBUFnHglnSgvGIHpmD6mqSkdc5GZg1mV7IMwRepNpnnmAT4riXxEUH81gmr-mjxRb-rEVIBCBLR3MiG2nwXIWg9Hn26+GfUOGmBYBIBgGUW0WEXEXGHBBOGABRKBlF-F7F9uxFAAOX4HJcscpfJeDsqsmb6k+bVI-i8rOc2Aua8dkob2Ze+cZY+ZuZxzqMu3ZdmE5c6fuf-H8EFa+ZE0FTedbiWwVGZdXoJxBvQUXIx1YCYH3GkE2y0CYEOf4CHH0I0BSHtsAmZfPu8BLivvpxBd6HrXaTMBmCmJmlPDZBTq+MXN0s2X0q+IlxCPYD4Blb2aGKMtjsV15blbEtJcdZzVCJDZ2ZmeLQOeObIAEuRskGjbKLPEuzjakEJuTpJq10eXIslk0ExFMs839ZLkcP6COpLbiTedHs2edI+lg2+gQwwFnpVN3McDICYCBTUBGhhGkHNX6KvKHXRkxhKUnfuHG1bSAXnYasMiYBKvKp2s6uWdoRVBXfMh2DnbaN4kbIqGTJhDBml1SBmXUC0G4uRn4GIGIFypGAw2yHByfbUe2nKtJKfZhtJBKsAxKuKo2vKsfeIALa+AA4DWqobVPd4vtCDyxlg7VYEqdZ0VIHhbEBIgIv9kWpatJDJBavPYkUYCvYEKWfQ8Q9OAh1XdpFJFPIw68MsSWnrSnZ1VGFJO7UCsAzlTcjC2VRfDY9AGVh8m4Ewa-LY5EAJk-MXCk8SYckvR46yHrmE4MiA345637cfbPGHfKjHfNTY5XyyHDimvzXnmE9E7vBo3th50ZCC0Oyk+DsAyI-KqY4VBY53a457Sc82rvBKo3ZdkoU42cVs-2yROC3k7mv89mulbkGY4cCWhKWuyc4asK3o+M-c7JAQbVdWeo9cES4XYE5UGYiM-Gyy9JEgeUJfFU+44jqk7y-i488K4PdK1vdhm8+U9JAAHJAv60CPevWut3-E2PGP8ugVpB-EJvPHGcLbOP7YZ2nx65pvIOyxEUQg2AmrSR2gtvIpXJM4qguwtuB9vBaQivZgFgsvluRxJuG9FwVvGvMPmvpAtJWuru1YHuNKxhPv3Oh2buxH9qjWTXiAzW82pJMcahS1492ONs80FND1zJejnHYfzPD4-BwvO85FD0HXJAlmgfgwQfyAUh4CIeQUqhUPofzuHtRD4KpFlPEVL00UOMuNvZKfWu8l9rpvL4vs71pFIeqhofzCTOE0zP4e6fb92bBz9SZRzJ9SQvuMwvByDssfxe3Cpn+fGAhZV0ZQlmueHEefSfS0KfD1i7iCpfob1PIHEfoGlu1Y+eyfNfa8S9ZOgF7fS1U5aPAqdhi1pf1OEHre3fDutfCdWufeLeHJ8fTWiewfjdNOEqiLzf1aJc8fjWCfQeSfA+0PCdKevebe7OGjTrpWNePfCdjiijT9WeTfbDkYGemq5eWfafeBCjn9GcRCOeZa3W8gg97BBfZvtVc86frf64EfBNKa8kaa-cPtleKhu-D6pyZpdyuVe-cO+8B+m-reoLB-R+M748J-3sdKIuy1jyuUr1W5DuXIRpSBKATVmADAOBDBD0PzZ-Bf1OI4jvTy7-zlz-ypudH+++W01Yi-RrJT32qup3ArAFSB136KcU-wH5ZiNAMErG54OoAcAewANb9FDiEArQIuXrioDIB0sU8ngPQFsYiBsMRcouFIEECj6eQSgSwBcByVvyBmGiM6VbofkI4coBAVpWoEVBfWjA9oswLvIsCe6cAj8JpGYqUC+B14RAexCEHyVdCFSXNjgl2zj9ZBfxWmnWX0xMAkg7AbwNIGPBvxeAW2OnvrVPx-oq+rfTYIsSwGwxli1gkGtqwYEqCuB9dauJQJhpAsGCCwIgDnSFhQItBG3XQbv1kH0tvgbQQwZgLQFAVf4lA3uiXWEin41+hBFwf7GYhhD-Ew-cXn4DSFfkTexdGOqXQsG-4aCUiaOqAC4LqVshh6favNH0CxBFs9gcZBwFIYCE6AvYJoYQ1Th0A1o--PvO9VWTW92hjQTofyCRBvdRBzKVZDjyyBft1AtQ+oW8UGEtDZhi0SiNkEmFZt-qiwoWF0PbQKDLE9MHHFsLWF+AthqgboSvw3p9DlOpwroaMJkLjC1YrQ1bkiC8asB9h+gQ4UWA6GGAbhIw1braBeGdMahKw1CKsl-KG1lhdQ3ADPGxjJBvcW0RctCMEBC5okC0JaMCLqEXN8cCI5AUiMw65xURtQ5DrUPY7vVIRynaQgJzjgOADhAxL4UMMMDdJmU5IkFoCMkZ4iURGI4kSCIYRojBEc9X1iwAhiwRiQb5Y9riBOGCB0eElBYn1DcGEhaBDg1ipwIkrHRXBdg9wQRBdDW9eBCA8RP8hUpjD8RigJgEww0i0DohdghvPqOlGt19qakSxC4DNExU1Ikog0TKJ6GOgOa6nXAE-ABaRsnghkX0UCABbs8DgRwJ9G6JEDW8OaypQTL+n3SfoAxUgKTJwCFxCw9Qi+UUQ5ldGgAbRwQ1rnLFEFJjlY89UQfqOU4OiHATowQBpEXCfophXwRcBWMbEMRkR1Y00bWJiofpjArYyqvXBbEbDOIKlXPqSGDHeBNu1QrQN4Cv4ilIRwjRcsxGsZsjrobMYEicj0COpzkLgN-hfws7f9nAfgLnrmK54qVZRm0Z0Ysl0Ss4ZQVYk0c6O4DHipRPwLsIeOTGIsvgp41URcKYrqROG9uf9uONDFSFAiIdacXICtJcjLx9udcRSggFf9nI7YaxHeMIC2jhBno06JCNxwwilm-OfUblVsZZFEgbwUNCEAQmvj54+EoKO+GNGoTghOPIan+PIl7jRQT6R0WhK1CPIZxMgEYLKyICWIZQAABnMAqkrQUURZLxPqHLZyo5AQwDLEkltB+JaQQkCdz4nUjpALVLkGqP9iqThMSk6QKeVdRiT9M-A42AgN0ko8L4skxcaII06rNRBFk0XjJLYAR0V2+1WQN7BMnGgVArAcYLxOPDM5JJlk5yfRWGoST1MwUkaLJLqha11ksw5gFFCODmo-+5kdNGYOMHdI4szFYyRgJUGOTc0qPFgEeBaJFjHw0PTKXn3ilMBEpngc1BkKb7-DC2sgBKUlJyHi96WfkEoR33UpVSap5qVSbBMLgcAGhnQTjIUhUEqjWB51OKc1OqmtTRwhQl-ML30wHokhLMPGuGKxrijmBnEsupsEgohlShFBFvgwUWK2DIh9g+gdzQ4l5CvgyMdwJqNTCHhkaCwX0cWGRo7BeprUi0SQNiGzArAJEIootPUqlSnwo4TwShFml9SvOu0mTl9Nqk5CqejuN6KbVDI41+6IheGclLp77VBRmYynLIlxCSCJRiAm6eePRDyiUBdgugTXVs6TSe6MkLCG4KSY5g0w+tZGEQFqqdi-xEQ-ASSRiF+AhxMwH8DdNMCRty+FhFaT+AZz-UbA5IeWeZCsEXTzpfMpUbRhFnBDSh90jUSzI8FlgvBhALmQ+OgFCzJAP02EgLKwAkRrZHdVui0V1HbScKGs5wXEO9BYRhpoRFQPPA1n0zdpeFOWQrPNrVwxxfoycTLROlBz-YDspgU7KOCiyO+8gvIJzM6rcyNIvAXsLwGQhniMJsgwCaHLj6BiQ5IYzbmGMOBjB05qzQUDGOwqFi90TEVZO+Kuh4yIYBMyOETIrn+As5ElWuStMznRjxszcqZEDTbmIhM5qzXsGeNAABzyQPc5iOnKVgqxQZfAKueNmTkKgHx9Y9Yf9XrGCg+xvQNeanO7F28t5H4x4B+l3mmyvgI41rkXInEMdO+PpVSVjGmxp13C15LehghfmpJeJT5M9tQGnj0A5EA0j8iUgGnIDdJ3OYBTnIk4DwgEYC+nj6iOCJTGgycEMrSFa5LsVQ8C-ahjgkRPzVJR4-7lMnbGKBCFDgBUNnJfR9Rp4+gFwKpJlAeSjYXk3ED5MKQDSNifUA+QBMJCFYD5D4p8bRL3mzARQACw7DQrIkDShFMwL8XaJ-GLAuZ3ChyEBJLkgTRg7PWfH93IV+T1M3OcRXQv8mNjgaM4yCfOK4XXizchqbiSlQAAS+LJgAACUQoAAGXxbIBCQDFGCnIESDhTdEbE6sWTJzn0Az6SwHgChOU67Q6Bt6VOKpOQkkLecrXCJUcEmy8TrEyAxJaMB8WpKPyNiuxY4pcXgBTyESiAVwGiUpK-FigRchiPmHBt+cESrkcUrvQPplkYSqRb0FJCqTEoGI2kDjzqXzi7JhkDpV0vBGFwMcMS8pXRMoXqUqleI3CYBHoWdMsiuCnxdopwooSbpDErxf+LKVrLghg091ta2YDTdHxRCnZU3XJEflplOEuEeZG9GSNukVSoNkLCOEMFLQWvA8QcQEXsT6JDBFcaMrKWfL-FuyxImcr5G4yNFRy6bhxMJGLQApfUPYJc0JC7QG4weY2J91JD-5NFk3JmiIXhVEBHpB4NYNb0jjn51MEK-7lCoxG59cVhSIAawU+4gqSR+1UGA0uNBPp2Oi1Lzp+mk54xWitvC4FyuqFX9ZAzEmSS4AaWkl3la9RnKfhZVEzdx7YNacIr6hvpCQDS+9JyEfTyrnAt0hqM+yezkktVJitEaK3ci9K0R8oA7ohOcCdLIR2Kp5oEAtWGRDVhAG1WiIzJlhSukqvwCuL1UeSV0kq6FVpDL4RzI88-PIGoHaBblJJ2rcVVAqoUfM4lMoERb+EOzsKUQMqkJayrCUvVX0TQGUGqqaXjKdV1ChQH6p8WBqTVnEM1USP+ADLeJrq2oXat6ABA9opwdpfWq6UgtmIBC6YV419XkldJlK4NQUITlz1P+uk9oCKrkTOr2OT8mdY3PWxsAhYc6yVbn0-7OqJVVq6gMgPXWSrN1FEqVSiAjXCrnVNM8VTOo4WbR3YbyrdaKBlA5KmAAAQXADgB8W9ilKpAAADy5LApSiAfXPrX176r9T+tvGiDnV3qtRteqnVoh7iwclkPfLDUVBx1vElZceGPVRr1MMakJahsvXogoNMS+9bYocXOLXFMkB9XktcWgaypPalcfhpSWwb-Y23J1EytFTn4vCIoQ5rTnrwfkJO9eU8jAQ43TRi8OA5ClImErOwa8gmsoNYm405zN+06ZAaDGTo5RONhiYTTxqHScc+N3AgPNXRU1CbZNci+qeJvWQ159N0m9TXJqATabENNAK0JoAyRCwjlhm9SsZr2V5AONlAXyVJozYUrzl0C1jRfh80IJgtrlBKgysWitdPNvkyTdQFU0Zt18cW6aCXnmoYqjlAmpLWUES2EB4t8rWiB+Ii1BquYLaskBty25pb-uTVaLbzhEnOwVNXmwpOZt82yDA17HZTcoFy1yImt8ra3pSPawox1JtIz+M0MZFFZwV-3GIqqm63cButzvQrXzm0LKM1G9WmLeyl3gdbktM2jbdJoW2q55tZSErdt2kDlbxt5C4hh1oa0Kt1k9mjDMrha2UqLlWEmZdcrFqV14mVsr4LxtO2TdBCDABzde0xUjdS+rSk8OBNnGBru6nE4oItsDFGKIJc481YaJtnjE2Y+WtXKJUpWPRDte3E7ehlSCA6mqN21IFdv3ycA3ggQY2ClPUpIEVBhNStgc1qS1s6U7mioJH0J7E9f4d2+bcRD5pParl7IImLcqJglLn2u2JyOqQoAYYs2tXODhxKkUXl0eEjIcZTQHCCzT5UgV7JP14qCBBKGkv7Buytk2y2lbO9Po+T4hEw-aYOo1USMNEZgUdowUWvNqx0OrSQJu6PvAVx1EZ8d03Jqm7o50-kRJDUGEHehIaEMZQAATnMB1bVIpDCHdxWj25RY9VS9zJjDUB+BD1G4ZaWSMVXyRn8WEGgAZEEnk0pAoe-xN1267BQ0AVepta7NZoZhS9XnNQH9JmCl7A1LASxNyLqFBwG8NAFKH2XRmR5egre5PR3oErB71tiewhizvRyeBkFqCwfNnEjV+a+RH5Qrc7rSZILCG8+o8uiu+3Qtggs+rfb6XkoqlM+gO8ToQBbWDgHAtMSOFh0ZwNQ9gMoPXo0AN6Z8jAViY2KwBbUEdTAZ3RmZuARzSBb9ULBToSCRQhii6+tBvaSGSgpRM+oAabgNp-2h5FGLrcyA3t+4QrtQZQlvnJCwinqr+N-c5EuoEJ7Ac9jrJdeWsnUbrd1t6oco+Ob1YQgDIBoPGAYBSQHXIxeyQDAbgN-ZnVwQUg2wFQNwH0ouBgoQpBDWzBeDfBlKEgftzbRZDyUGvTwZj2EMId9yrCbMslxvbxGyNLAxNqFni6J4Sg1FXLqyCq63oajO7I2Iq1aK9gaKK3QjqJFyo+IZfB+bptiIhA6AUUTGN-sCCwrNoT+wkC-rf0xAHeH+xgBfp-2NU-9uuCuhIRlB2GftDhraE4Yh2uGGNvQ3VHJTC2FzIoGVP8VoDzGCB+AZkEiDnnG4TbjDccUw4+NcRqxcjDeBXVYa8Z3YuYViojQBrfUfrv1bi1caMFq3rJGJ3i51bEsEXBCPyQSyJVwCLXW8ilISj3pKvGOOjc+6SlcGMcKVyAt8Gx5Yy8Jzn-qX1PR4Db+ts2zQZjZOm9QepWPVjFy1axaBftvTqqFQj6FpU6slUNrFoV6M-Ucu67yruA6ugADpYA51CbcZEQdwDtAlocqURqoxRz0QK9WCG-UDUPo-GJtfx7-gCdPnAnQTI01wNf0hMvcjAZU-AIOAbynBmIpJ0AAAC8pWoAYEzMEeX4nccUJlo6cFpPwn3IiJ0kCwZRM9Q6IeAaut4d8NPg-jYJoWBCdZOxNquyPLbu4C27EAtum3EwN1zBA2A0TWisU3iclNEnpT8jUkGUeCjymt4Sps7tyfShAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQT9Thj6hrhpBcXhFvD18VyApi9+zxzzB5eYVS4hMr1fNwINhhjgPHsYc2o2FlNjBIO4ZegxfQBW-ZYapnF-8CWViArq0VxrqWP7pcSy6s4sQ-OCIC5s9tEMOvbwHtZsrOaKtQeqyq4Dddv0NdipVj6qdWvXOGmjMD2Gut-M-hlvrEU6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GRmtbVy-5hWzAxASGEAwe+HNKB9HuGIYNw6sKfYAGTU96P0J5SPxLslJ7jrHQ2fuGIB1BYduP8eE6A9bcEgaYGDeKWt560y0hc8+zz2zcx9BEULsZsXnE17leC-9KivPyB49qALncQvks6WM3A43TXufLCCgrm8Nukwtv5OcM3GvYv7a16+a3DPFf26V1tR3j2P07fGx5matm5p8-10ToXQeVvOFF3AmPrNsMS4x+7q38uve28z-b-D-uE+jeW0nzrNXZfp++3bu0vv-p5+x3NdrsfkNp9IWHs5uv+dR6OeCevRfUTx+x93tdjWU+W+b+X7PdoK+p6cab-vsMmaFYb4wN3oex8jBvFXp9ayOfktOsHZ2bnLaI62trlvZP2+C87wnffezD99451f0ObMI7GJH2+77NxsQp6l4G7gk+HdQq9V30TiYxTlL1HwTD-w3391Vw8ncXfXvVlWPw91PwjwJw7xC2SXM3tRNwAOx1cxvwOSPybzfwgPHynxVzgTBiVhwXoF2XNkP1fxDQTHDzb0jwvwwJtXBC2RoJOlNgILjxnw5y+VdgeVqEYKCimUCBkA5jxEEOKWEPuUpHENs0kMqA5lJFwKEOBW+U6CXiQLLwTFUOkOth0AoNr1SHHQLn0PALcVbz1zQPYPGmSUsLv2KV9kxXhSsKdRX0MKA3BBcO4A5U0PFyvVrgs0XnrUiAGxsJcD-3w2CM4j1VZU11QWQNX0ZzGnk0KTgTvWSIiJxRP2+yryyKd3MJHQxUsIKLSOYPDXRxxQSNgNSApXVWwKqIMNsLSDqOKOgMoNhy5Eo2sJiJx1YIcMN07wo1cM4ncIo2UO+yJ3BAmMCMLgaPMAY3kUYKYMDDiOV3Z2KTXn3k3nZjAJII6NQINz0KcPBHIWoC3gEJWPSX8xBXc0bx8K2LIJbXuMEAWVmNILXx9xz2VzkM4kaWaSIFSPaI-QjX0DBKBI8j1WGRhMKN+MGBhM+LvVBNGVeJcBvFRI9VOyG3O3kEuzahu06m6h0ADxxwuWGjVgp1s3AWZ3OSNRIw53cIIQMWfyjm4BU2RXJAkL8O4V4X4TPnBC83QifyMS5NAB5IVVKO3y4UUCFPUQIRkDpO+xYPsPONPiskFL4WVP80mLhMeI5MlJMTVN8MpSkO1NAFkM+NkXWNVK+wtJnCtJkG4A0OyOxxsU0XkHsWFkdLlzmNKVdO4FMN2KmPs0c223oGCXNMDHmKjNFKE3RkXlhKe1SCjNqwYjjI-TOKJ1eiskTLTJcCjKCQcVehzPpz+LtArLMI5wri+HdnWk020wcVKz5NsxvFlJgPMD1TkC53bKyzeJGG7Ly0cEbL9hYAUXDi4GRUKA7O+ywn7LOllihUbBJz9jZVHRbN9KlkZCI0pLZJnKMDmyRWfkrKp1PPohVRKJ7PSRnKaxMRnOeHnKHNiK92XMYk9I50-KiyfMMRfOiKGJvE-LrOKXU3UVsV3JpSvKrE6CRRYHWE3KmwXMMMmjEBJxPKq1QWZw4HWkwtPGjXaSwiPJl1gsIuWUQuME0wI2aDwowtUCwo+lQQAB5gR0KCL4KCMYh9ZSBzIIQAAVG6OzOgXwL4sQXgBuJsA46gWoZocEUAAAahLSsT2hJnWiFFANPPCGUqTIUuUpvViA+HUrEE0qzL1C-lXFMj4t-nBCEvwCamIEcnEskoiOko3lkuEHkqUpUqsWMvezMpT1QV0qsh8sMpiH8o0pkBTgorAs4jyiayiyYuelC3JDHMrEJxumxEHOmDLQrWSr1GvPBJ1VPyhKCu4t3gzkyqIH0HCpUXHPwCbLEB3O0TbKBgqpUmASqxHCrKeW0rqtmC9worquaEPRxiIm0ptBrK4sE3dRWAHAzh6o3PKNxCgtavRlbWmASQKqslsienKA6UMXyW1GJVESNGE0-MZD7OPMyz9CCjGtPgfKCseoArFLQl-IqVAtmrdR+pOICymmquyuO0pPCy-1Szm2vNSqRGxyqvRCBumlfSamxweqCqKs2uElKrqPKptX1gBrhtqqsQbMavexar9LBCMxtVGrmx6oV2xrjlKHggV0IuvI6oiQeomuwuWRvFisHVAB1EVVJUWsZNJy3IxTWrJvRqKG2pT12roH2pEEOrOhyWN2OqfB5TNVjEbEuqBGuoHL6xKu+wet-OetAreqvA+oYn-LOkfFYmfVQsDFhqysqWBukCRoJKaiJNamuw6juwwEpIwRJmoVwXwX80cSRNOJGK1KSXBCoRwTwUNPMFjpoT9iwQ3m3XHh1mEXDvfOrKyGERV0KkDrjpDvdokyA3THmLmCTNiDmFXD3Xjj8I5GrpiA5DrtU3mIwmbp4A3Dborr8Pvi7vvl7obp3A0lqMyCTLR0yGdHroaHmO4kMA3nIF8CTIXqXrEsVFnqKHmISWboSVjC3sKHmJuBJyaRYEMFFJPtUDPsahWEPtiHmMUq7tiH0DVm4F8HCABAAD5QBwFlKN777Jk-DPJn6YhX737P6f7wEfIAH26-D01phwHQAP7AQoHQBIRkGYhAG0MwRwRgBQGDA37kHIHf7QAwBYG+7R6ABSAhpBlB7+0hqhzB0AbB+Y8SZ+uhkhhkqUD+uB0egAQklA4aIfobQcEaBF4codwZYtoZEa4dADYpiEkZHukYBFAc4dQdIZYqBGIb4dwa-tkYgc0fAR-qUdYb8K-rUe4CKA0YYZMZ0eUbnr8P4YIdIcKAYZiH4diFpPTAKmEyTuDoEQLEfMBBXA-yGAZ24ACdoTPiyMLqwWLqCdinwBYAACsTAnVQmVhwnkRNGO6i7k6ky-987sGihomS6CwsjIp-GCnAmdtxMcGtw-CCVagkyWnUwzbVLGnwRIA6BvRjYV7rHen+nMlSmumH6-Cr6GBYBIBm6pmZmxnxnumpmABRLu1ZxZ8Z+YgAOXIG2YId2e2dZr0j8ZAx4FqdoSDyCqyemByc0YV1VKiYub9nqdOapHKc-TG2fhuYaDuYYeKYvHOYSeTs+YdTTDvNyUoWeaSczqQXEvOMrPIVxGqCkxlFIAoRJtSfIGrHLRJk0AJrQg+dTo4ClnZlMXMWYQRaOCKBZJCISEIFJsnkrIgoJ3Fp0TQnXgXX0A+dkVRt8qsQ+aucmomU5ZEG5ehdkRSfSdMCRTqqBaDsuYLxnHPM6diGWtFtWp9PWv+l83XNJzEC+EQtNi1bJq7XjAZbZYcXBfxMqY9paiu3aluwwD9ohbeHOXIFMAYHLg+HKhuFIA7jq0rLRz+03D-0Dcst3kgPt3DZ0uSQYH0rUoCuioidzqzJJhIiLmaDDbnxIk+O4RuBzgMS0EZxMuKqGI9eUEkoyA+SMGQWUGUBIcamUv0ArZ6vBAUtKHbdAHktCuUorc2b9HbaWNLeLPOckEyRGhMqYTfmndEMoFGciGgntpcEirEB8vBAhB8vzedmMCLbEPCdfjncyWnbpV0usHBE+PNnndxEjgUBbeYSDfHqyFfiLk7YjV0hBnJSAxfdAFp2UjJSfe9ztBffCGB16qA+fYffCHEeSWKHhBXFKBTcGB-eZ3BDg9eWTPdc9e9dij9Y7hfeMmaAA6aRktuPhh-b-dXGOi5xsX4PI6g4I07c3eUqvYxVvaQ-vbfk46cTCtXAUoTa-0fkDUIWCYP0IO49jd0X458tY5vbIDvb-2aRA+IUUqk-PcI7HevdylBCTNfiefHbk9IEEkzYViwgI+nlk4hE7ozSAwVxfamsg-J2WVk6YHk5M7BxMu44Q+SQAHIE3X512-O41E2oqU4X3L34gMVy5SAU5ouUHAyajOjMgBI2UWB-sFc4uB2rx5ihBhA9Lgg9KHIdIrILRiw9KLkOB4QI2kZLOMvawYuub7dMv9Pr3XOjOTPauvdmu-x9BuuXPMvwyPIsWcXlA8XlXAlNYPB9kRlH2SOPKyOcYzZX3unriFukzaP6DxOlvVWYhwnhv1hRvqBNAosHkpu3AT2Zvqv5ZqPfolvvP5i4PAi5tv8ByNYruIkzZBvzA4v7pQE1ZTvK43AZuSFUVVv2YlvNqtbHiU8xU4JnuhOaPHixOdYIfXVC6zvjACcUF4oNBev6ux0QFmB-vJvAekVmlUfDRdVofqbUPO7vOsIFcSf9l9cUFlk-8me3AWeFknFgveWaf1IB76f5BSeue35efqfurUP9vcWjvxuVUP2auE0+eqsdu7NsRpfDvjvXoAf9kLuIeOuleJePonmMfResiTViVUVhOIf6V+TR7HuurIsEfbu3vBMX0zrGUNZiMt9ilMkSBgeEuOjek3vvOFc7uVhrL+KzZZbUkgFkfzA-fiAE6XA3X8ilunSg+E1w-d4uyQ+I+WgbLNxo-klbJY+As6OU+YyIjRcIXSvtJypKB8A5E-YBgKhBh0-A-sSslhp0-UO6+dJPjW+mlOf6-sp1iO-l3wPU-+0KefeIy7gWBqhuJ1o0359ZyKyM+XAsI6trzzxPjF+jZmy6t+Ml-3tKyFcD-l-yd9-T+j+atL+z-N+euH-1pR2X-mqUXPzV-xRuBQKn+2xPAO-D2gBU+Istv+yEOCiql-7Pkn+JFezO-3AFLhIBeEYAdbS+4fpiYAfSfhqXPw7hi+aHGvpQRAwQxSYJ8Yvp+T0xy09SBOYmAwHUAiAOApAYNPnkICHw3uiNVFJgJt5nUGgtGW-muyBDv8GAn-G6hrGgEgDzUtmd-j1XaY41pQ8tGgbDDoG5dGBIycQdbUppCZWBJ-Q-s1U8Tv8baFvdWiSgMAYIs+rvRGm+W7oHggU2gsPq724C5BtBufQgE+izCnVJB32T7iuDYiT8nBbA1wegLUr9AFAc3DTBUBhi+AxChgNkBEOXr65DApIJ-lPX-CyFvOcQqIQTkSFPBguDPL3DEKy5gNG25yEIWEPUQZDohJQ06AhCMCyFVeSzQoBUKyGkhR21QSOBwGxb1ZIw8Qp5LEO6GZD5oSQzvj9ixppDp4TQwYTkPz55CRgBQ1Xk8E0ZtCyAHQ2hE0P0ATDshhQv0AsIYbGVShREWQj0WRpVDQhMgGGKNFx5JIy2f1JqOcLURjxAgp0SdqUJyZwsJgdpO4ZNAeEhDnhp0WbmVROHLcZ0n7FMui36CrD+hYhNOLTUBGdMdhP9M4VQHuF7CnhKI0IUrkeHGc4q-UNWGogJxCgfkoIcsjmwgFOwnCf-KCHwN0H0Z+BwgxgF-yAGgUFMUg-gTIPAjjhvOYAoAWSPUF8hchSIsgIwBPr8QhB+g-gcsh5GoCvyc-DyLxEjhCjQojFXiNwElEUjJ+2tdSDICTCtN+WRQTtlqL2CtNguucToNyyoAqiqA4QbzpdRiDBc68sMM0Vrk5G4iNMBIykESOFjKiuI5oqUe51SBYReI4QWnKZwTRkjlucowUQwGFGMUbwgY+oSsBvBhj4x0wCMUkCjGKiOOcYuVgRAVxJjsx71Z8iZ3BAGiOAeXIIU1Q4CN8KsJw1+heQTREN4RHSdHNiPMBqATAXgJpIwH746xux9AbgD9y9E-c1RbaM5tGIcwSIfEjIVMQqL4iMUBxPo3sXQG4D5i0IQ458syPfyKjxx3idKJqO1F5dvOwIzqhWMkDZQ0R56WcduLCRBDeA1FJfurEdGzdV2mYy0S2MLAVB-uRIL6I+JozCZugjIRnpaI3GJdMB3QcIJ2zg7dtQA3QXzJWNAACUAAEiswYAABBcAOABWYAAlASpAAADy2zZAECAPIQsZAkgNQMPy0hnppxvIysreJToyg1Yjo+UctzSh0iPxLPEflRIFFJATOrEzoOLE4kNRPifEzIBROLANQFhwwxCchLQkYTsJeEgicJMkBsT1YHEyiRJOnGVlWJ54+8Z+PLDfjNJJXQSfQE8hojCBXpJfmJNH58ZqJvop-miP9jnDwmZiMkZJVQb7o2xfcTsVZO3iuTLI3dedoKJok7dSJl4xcdHFslfVYJkgOIBkBeZ6lI4jIAAAwnAIWNQRyA5jilzdDisUagIMApxZTcgDgRKUCAq7xTip2gZSniGAmBgypisCqaQE+LuF0pIqdNn8EQGzk6pYPXKZBEn5YQCBUTBNF1NI6NY8pDnDqZvkpKBBA0rUtfqkGqDZA4pwad8FlO6nlQ8p+5JyplMKxrTsoeU5KGlWxwlC-YjkToB3An4rBh0XA9gVOjsx3AWpx-YvsNPm6jTUwsGEMTYOz56xrBm4Y6QwFOlsAO49g1wVsMKB-SAZHcFwTz1nQtAvedtKweDLOmLSOAb4riMQBIAiBUg8MYvoyJgFQQMkgQE6UjLrA8CTBxHLgdqlRyC12gpooAQ+EsEMpOy1JXmkYMoiky+UZzFgDSN0F0j-YN1GiSzMZnfYuZzOWQVYlKBaiow4VZoIjMBk6Cr+SVFgIYO1BYBoI7vTwYl16RWiCIpQWWUDK9z0ywOesiDpUne5+hmgks4wLzV8EIzCZ-04mW9yCEsthBS0XhNrHalADTwNE38ZzNZGCDaRIgrnLjIkGChSU0gmDu00lr4o6AmldMbOPlkk0xRug5ZCuNiBezfR1LZ9Jb1JT2jNwp4ERF0zwCQhi5K4KkVf25kKzA5v0dOUyLxQsjqREc9kRqFukOBY50YjqcmJWCij7+4olCNBFQigV3pXIkkUgJrnris5xggcBUAxmhAykOMdOcHOtovki5Jcy6bZmLH7iL2E8tmXXK8EuixWnszoALLtoyjzArc6KnHP4iEA9wv4YcUMQ1ESQSxRo6eBvMNEHj8+JorINfKiakhrRM5O0UTAdHXztZlVfefiNdmNV3Y7U7+TwFvnPkAFrU7lkkOdF4iXZocSBdQGgW-gYFf-MhmAGLmQgEFAY2Qr+zpxmCbBhAX+dPHPm4h25sYuoXK1jGkhO5sQGhZfMYqM8GFDQxUIz2YWpyVgX1YLq-NLFbzT5H6MqSNGwKzc8yF+bAoWTinJ9ky0MW8TrDKnn93iai0dnVPWJqLkhgHdfPbk0XLccubAU6b4DOTUl4O+fKNnaCMVBCkWTSbacNDKn9j8ej+QKUkFcVkBcQd8sRMJmhgI4nFjIaaYYlmnih5pOMNRUxEbBsLQkk4oELojYXtz5xHipcSuLeDKLxOASo9GopYVFA1xIcoYrEonG7jH5m8w8ejmNFbYvW+PZGZORAKfIOhjAXJTahPFVjvhTw4pTuOgJwTpJDATCdZAAAyKzQiU2MyCpS4EoU8iWVIincSlxdk4YXRJUmMTNJ3nVibpP1wzKmJgo3icpP4lOLo4o7ESbPDimHKn+fSgZcMvABKSZwGygnFss0n2SThZQwYGYm0k1jdJDAL8dIUMkrjwQZU0yScPhA7d3lmIiEA73+VxTAVmIqrvYoOK4gHlcy72cMIcmIiLh2IMxGVM0b7oHFzsCRS4oCnyjgpZiKZdfURWpKaJqM92DwkKxxc8e3i9xUSqlEdLBITyzEY5KoDOSBFM5bFbGAcmisCcawm1N6Cx7GS+MKSplabRtSNiHFWyiVUFN9GlNjagIp2dUrpVxdeRLK5acJlaC5MgQaURXN33pUNcrIfSGpd4tVqbEXAuqhwGyODAcjp41KtOuapi7GqegyqzESZxtU4xp+TqN1csg9UhDUZc0XSeKB-HDCPOEOQCdXmRwKxMB0ao4Rzg+DBAW+Yq3mbpJbZiqG0OciJR+LDWLjKZvAv8X4EZCfLvlma9SfQG+p+KzmlbPirFkXEsqfmekUFT8O6BGTK1dAaFSEMtWFAioOIDteJJMlmTOmZnMVdwEbF1rppQyNNWiJtrqz3UcpcXI30CBOL01DEupdqrObTjGQGSs8OJyiXkhUUoa6BXMsLUUhi1YlIEGWv0k-Kz1vNRsFOtix1S0RzagiK2qeHtrMCUKsydWp4D8AB136jgN2tOiik04WEAlZOsSDTq11c6t3h4MXUg1hA9yrKcEB8k9is1eipxRWqHVEJdR3sIfhIoLXBch+i4nDdZNHakaxV5G1EMGmTWrrG1KLDNQWuiXCZnooqztQ0z6WySsJOE-CdcvJDcb0JvGhSaMrHWdqJ1JDdjehv5SCYgo4IDEKItr7IbsNuiqCPRr9h1SmNG6w9SOKpDSaZljIC5UMpGVMRjNVyqcUNLimSbNGBm05XJvXmKaghc0DVobFSah0lkWGqEksjtKbo3g7mlECMmuFWrwOPm78sUjvT+b6EiyVpJWRcG3leiK1cmCkAC0Fggt-wuomFqXWJFN0C9VLeTVi1P9gZCWvAhbEhgpbot6Wp-vFtHY1AxAQ0AnHSs83DDitqM-zfgAWlRaUQSKQNX8Kw2uautaWwbd4T-mhK0RwXdrQtMi30B8t0cYbWMhvRmq6VeqYbcBlm17pi0qlXrcZ18z9qriIgPSktvx5JlJtRCCZdjjy0dacYeW6LZqrnX9b0UuIG7UNnWEVbutQIypfnyWFgjOhLMSIVCKvBHbvFp8XLW9tMCvbDA62u7bCNVkNBGxl2qbWVuS2Q7Ktz2mVhtqsTbb-ce2grqarVXHaVRKWq7eCzgR1aPkFiZlfdpRXPK0VXK1cNrS-qw75qgHIHa6rJ3FsXVYXbnnkudBtKzxNYr6rYE23ew+d1YsFYPP7lQSI0KEBoFjqhR7aiuh2-HRau4Ds6vyELVSZWzIHsDhhgKYvstQNYpNVYJrKWKjI15jckqFOrHZOHuo06nJuPYyAzuMia7+Aw0TSKBlIHDQ6qdnbnVKLyW1Zf+kDbMdtUrDLjuFsQFJIAi35UA4KpAHJPpVVmS7Cg4Ic3bLyixVdGO1Id7JWP53i74F5ssZWwDNpy7Cke21PVrwYhK6lMfsOLkmXL1y89+OARsDcH+5r1IhjIAAJwnA4Ebe5eiyqMDMCLtPESISyuEGRwRoquyWlbyxoxrSZL6AcC4GZxJTJajQ4fcvX0A+cfOVkNADvt7U5gENfoXvSnBhHKyGgR+0fcbH+wOSlcyyFwD5FtI+D4ZsQc-Q5Mv2bgkULe5HevVRmdAzFFiy5DJhTXQ7PVT-bbfLoA1XFTFy9f-Unzx3V7OdunKA+YqYDUkSd2ODnqkDpXVAioJ4MgE9HdgLtKROqxkD90gx-cdeQPMOMYDJR0Aio67I4LCqPWko8EpAfAwM1AAwd-Cho9GPCERpH6IQ3kHyBgdABxdQYtB-gDEEEP+R8Nz+tfSnH661LWgxwPmqdRYgDhG1jfZvk0mQ1iElDktQjahtBRkaqNnaxjMxj0O80BwLBtg5kg4PqR3YeFE3AzJiD8HwQgh7yEyFw2CAdDogdw95GkPu82IB+s-XIYEN+GRD+PW1JIkah+H-Df6l-TWLTgOS6d5tHld-XCoKHgd+Y93SQI+StBeRE60PU1BIbTRQZrO2LoEWz2nixdPwiNNPm96Ul4S7wRyP9mwP8At1VIVoCQbcVkGieFB2ZVHDd3iGBAulBgzbS1ozkGm5R3rpUfWg56ajTwuow5vVKAdPyRFPUckgch2ZZx72b0cwFkjQQekkXXEFgeIHoxPdMx8DmseWQB7ijmjUo0EI-V3tugbIboEMNYzCYGmBql42WF8AekrB4mMCPao1D6RC9UEwwLtuF77JOdG+-vvoHD0AAdLAERvnTqJNDMgYIHe2l3IMIGxCNCFvuSTWHGqSfNMBgZhM+c4TiJ5E3FJbaomCc6JzE2aJsG8ATwyyHoFhBZOgAAAXoC1ABImigAqpgE3wxNGdbjPQHk3ib0gEmu8eB4kzVFQiepN0QgQwC0c3AUm6TQp-2IyZEY2dR65APSiwD0rKA9KeXSYD5zTB4AyTdK9UzPM1Mim72OplbgaaNMmmqu0p-yEAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:green"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:green">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKgAWkSlDjVpGS5KzR0VLoNTEnMKwsFgoI4scdtVxNUAYThTUkXMYqwjkGVSoSlxaqMygWTZdKiv9fxAma+wyucCqyS8lyerwSF20as81FkfhYnlXsTkFETUQnUA6BlcJuyaFamkFGSspobaDP3QiPNAYZRlAHY6AK6wwCUtFQGiOIIBgeAkFQNAuTQfkITKPJlFUItcCYBg2KcQhtDUWJhHWk7QFB4ZYncBxslIBGRFAAAfPGfJRlR5q0LGcckAmidB9xOu8EJycRqmM1RkYqOx4RHqm4GKlBtxNHCNgmE8F94dIAE9HhTRj2R0HmLFkQADJFbOK5GZEAzSEl-muZewYmEIRaGHVpGK31-nBeF0WOeCw3YgYHqrD1rbGnRygV0oCG7eNhXTd01WLlQjmY0K53QeDOhyE0Qh7cIElfeg2WVAttYrbURngojqOY4YOPHe5xkfmz2O5td2n2YpxOzYDwxFxebgg5xvjHudrPo5Lpg2J94OROR+vF0b4QQ6BwvQeKkIzw4YhPH4YbqBNqv-b5-gBdTkX07F4Lx7jpgp5nufCHz53t8nt599a1Qy-dheHj7tW6-v5UK6H4fj-9Cfd7P2eL67m+pDvwOT8G5AIVq-aaIMVBDg0MaT+09v7tj-naauy9V5C3XvHG2hkoHkBgXveBzgj7gIqNg3BX8D6Xzds-dMADa5AP7iA4OzdwTOxIbiWB59yq-wTrfau9CVSDyYaHIh+sZ7ozYPwSGnBeCyCqM4RBfQl7JxXpbdBGdDKiPcOIyR0iGCyOoIQnmTJFqaIkQIRw9tUjSDoPI5GMJ2R0Cvh7L2Rs-B8KoWAwxGJjFaNpmwRoNjeGP34QwpuYIhGeNBidVQbhUglwCYoqWKjrYI2ClEtQggGAlwMYXKJXAdF6MIPE7Mbj1ZhJHjNMe1AVLtmxHkmRkd57cP-sgpRqC04YJSaAImMxSQimqc4WpUj6kELKW-dg2jpBMB0YYJpSD-boKYLIXAaiuSjOERtIWdSmCwSKY6BZSy1FHWYesvpEymBHA6YjRe2Z9nLDUekMpBcKkk32COEg3dK48ISSnNByTxaGUYAcXOxAHZrM8dVZggK3kgsZl0Xu1dVGkihcCh2fgxZdBbus5F7zokZJLtYhOUgvnFKCe4zFniVhWLmjEzJudLlwuuY6eu6KwU5N0dSvFdKCUcwZcSysITSAYuORElQmSUgKmxTCll8KEk3WfkKp26zQYzzULi2JdLYXUJaQbNmwDIw8uHk8iBTAvA1DqPIhR2YUFJI3pg0kpriB1GyTNCFJq1TmtmZavZL57XutJGi4O5LC4OrqCaygfiLU0L1WS8ERreYqGSLwEW6oEGeqToktefzM68CTeQFNIyg0zT1hM3RDTClpsCYA-VTdC15Fnpoblnzmn+xKQIjxhdIrnOkA27gdheXNqtUMXVfbWVFsfKq+tvbeD9rmSSi4I7a0VBkWeet1iR0yuzIuBdsaw6QNntwPJMttU-PaQeqRwU5j5zjR2DgnAmB8k9kYK5KIGonBlPXNSdZZ2OlBlA+UIgFikkvXdPsTQuZRGEdtd68QoBwEQMgdA-0uTlLyFDYcGS1G5wHFqhJjBPAQzQ7+GGcNg4+QWFtDmPkdioyNurMjGJOomQoeXTuUlsiOKYJ7A2tGFZ+Cw58XyxNtnvx3ngg+dHbQLEI8JicH8xOtUw4QbDVGhOsO8Ow-BjTSOSd2D+Vj0C2HydTZg-jKnw6yPbhqhW9HpNtxznHRTynbTUZUH08gNSVx1NLXI6zOnpNuY8yWgpjmBO2SExorRXngu+a+AsV1etVTeNMd-CxDhG3CA4u5TYEWJG+P8bx7pgFTPOaE5Kj5wgbN6bK9kV5KK1W0rjuloQfGlOhdmC5t1ZqJOxd09iENIWzMqDSTSuJMWLK9ZXMNzlDnN67Fa4N85Obk0KbG5sBYibPD+MI4cVI3Bi1RbLerFr2HMv0QWVxru1jV1Hbm9htrMw-LSACmo0K4VIoxRdnHfgnBQDJQmzt0Fut1kbf8aUPwq70xYTlhoWI7nyADmYAl0oJh1rfpoCDqZMO4cI6YEjog4Pu1CubJBPEUPXNxF4JQFMuPhF7aICj6CUgGoyJGEEQk22MPFry3TwgzXCtli4KkcZWHHzUDifz+ixazFG0sdY5Hp2subFXQrxXMx9tKdF-ZkkyOMIDp-UNs2rHfzGxZ54Crd4FhRK7jJoXJJTfm7LDsC6Lp8xCSgrGfy7QefBTChFaKNBnakEaPYX7KUQc9WbDu9Z52IaXbPdO472lkaduu3kroNkFhypsjsZiHPduUond2+PXRE8q9tDHo3I5rHLq7T2tPzXbuGudv5qpcPqCDPyYd2b-G-aDtcNIEcB7oa7dOVs6ZN3+P3ZmFJ4fxtR9DJk01xPRM-Kz+4PP6R5yzcT9a0Dzx0nqvosT+tMnkNYjirBkC95mrtJ65oM7w8GUSco03Mq4MHL1UzYNbf2YyM8-GwLw-wa3pWa34yfyLHd3HHREAOiQRkr0qm6X-z23HSANGwNR8DAPMlPytzYxgLFngIZ26WRjwI5ngJkl6DdxLCIOrgP1q2vwlz6FVXSU-0FU1QwN33MgUij08QryIDszWG4G9hnTRyEzlUEKNnT3Gyz0E2YgpD4Is0PBpD8F4MNgUIEMXCEObgEi6XCULjoHVBcCp1PjgQPiaxP1fxeSvylUYVRyZz6nRRlDK3q3xXVnILvyEzFSD0v2hXK0kIzEzzZm6R2ETVzhmQMM40CA01MOQKpWcKs2-zL1EnCKMKiNamsVdWqwYMVxr2YOAPSzuF10oNsJEMqVk1EzIRW2038KJHThPlSPKgcUoVKSCNU1nhwUMwqOMxxn50shfDU2YCMxGkaPLmaMAh2DlQym4MLmk36271a3WgajyxlBDTDQjQVhkgahAjOi2mSMiMGLRG4Dyy-Q2nRHkMjmjjWG2JUP4MMC2OOL-zXzy0SMeEF1CMhg1xiC1yXHVC9D8DOOzkuMT0eWbz0ymxYJC170dFdRwON24AlyQNySGW8y0xxmePoknz32mL0zszQM6R70Zzs2Y3dngO4BxLpSJKoUSKQLJJ3i4WDlL3MkwJ0mzC7kxJmmk36PqJ8xM3mIJIUIpJJM5P2JcGGOvgKxeLXyFM6JGjpNRMbypI4I9EkGvQm0XzcHKJMMqLxN5JREJNFJXF-jqOFIpKO0ZLXyNOlOoBJN43lMZMVKejekgzehiBgy+ng1+n+nSBQ3jX70H04CPX9h+01gHwYDZLyHi1p2l1SysT8CeMb0hKZB9TaHPyp3GT1n9QYKjLkDS1jPDVOEwMVRFWExTOpyRwDL7xPVUVwC3gp1TKFnTNHTyClxS2zKsT23LO9VVQOWrNAFWUXQD2EVWNBw7MTK7LuR7KOULMLnVwHE1ziVwBHJqLPG7L8AeTDOhFhGYBhMHxFFt0XMRW3NRQ2j3P7KE0PO4C7kXOtUzXTi7lSUNy7mdTyEPJtw1UvITJrmjQvKkib3WWBUxEjlhneNnM+LiXxJRGRkXALJVJgOiFo3AuZKZTVmgubxIAAuYHcFB3MV8HjNEF6AgurmYjgvtkT0egai1mYE8IVBF1ArpRlAmO9L0k3Nx2wvY0oToEkmN2EK9RoHlkcQ4u-CkgVRguwopLl2wu6HwsQpoHrmIukmFWnNErjzkskqJWktShVBUvXJoFeOFw+LFys34s4oEvcGDEop1PUu8Fhi1jYvLjhQMiss0Bsp-D8J62Yni1Yv1IEpcob1MsYGAqn2+Ecpsq8pEAAB4MRc4nKdBvyvRArp9dgnsvdSQAAVTqKqEIRoYIbtfAfFLaNkXNNYHYUkUAAAai6VVwow0Fhj1Hy34pEHKv9UMjKoqtV1JhqtwH8R8viu+E9yfFSvStwAYCimys0Fyq5XyqW3ICKuavKqyN6Has0FqtsvdjhUauChavmqkEWuWu6u0oYy6l4AFK4UcWP0Z1QoHGFk6nZAQs2Gdn0IZi8uMp-xmHTTENCq2qkyUyursDhMqskH-MoEAs0GArnI1Uny2vukcTwk-I+squeDVh8q2skHugMK-NCojDGD2s4KwM3CwxhoorPwvxooMrjhet6D6pWs8B90IFphTGuiNgjwgggKoLLAajkplFgtYqZIzGRgesKTkrEr2wkrRMAkFuUokuOIoJREyhoO+uZBuvtJVL1I4xOsoU4rOpRAup+sVuw2KMdM8X5qpu8qOG4seDet1Thvoi+suoVr+sV0BuBtBtoocwhs4ihsoRhuZXqvmoWAonrhcs4p6sEyNtQnqsxtiruDcMElatmCwnxs1klioudtJufQFySqfH1JprptCG9lDyLkszziluJxZv1t6HZuws5pQJYvgo4LLD5rRsFq8uFqNj53+tbCUqEpbvtl12lr7vcKwx1oPSVog0MSgxdM+jgx+kQwwEYqE2kXIFhwoBxzx15w3X1wzV+XTjB0MgXqXvh0BwUpmj3ux2YEXqTWAIU2R3XpktJR50NQahPuXsRydMJFUVvERReCaqkBeDvDbtmERSrG-skCrD-rL0RUYmAffEfDAY-p9XQSgfQVgeyx9VZlGCarQc8FtH-pmERRyiTX4EaCavwZniyq+Bwd6ERT6uAb6rLAoakERRhC1nOXcDoH9SYZ0BYe2keHockERVKqgakG4E4D8EaA1gAD5QAftyqyHeGlyyREpBHJBhHRGJGpHftQBZHwGfUlDNgVHNG1GftyRNHJA5HEVgAlGsgRGDGCRJGfswAtG4H05SQABSSx-RsR2x9Rlxkx0AMxn1JMQRjxwxmGsR7R5xgAQlNCCesc8fxDsdACicJDCacZJFJDCvcdiZCYiskBSZQecbCvxCUeCa8Z+0Kdyf8ecfEcydUdKdAEkYqfCbSfEaKb8BmBKfifUZacadSbJAicsfUd6E6ckAiakH9NvDBEfqx2fpp0MTEoJHMjsUuAMD8CfoPtmcZCFSmcXtPo2fKkoHcAACs3hBUFnHglnSgvGIHpmD6mqSkdc5GZg1mV7IMwRepNpnnmAT4riXxEUH81gmr-mjxRb-rEVIBCBLR3MiG2nwXIWg9Hn26+GfUOGmBYBIBgGUW0WEXEXGHBBOGABRKBlF-F7F9uxFAAOX4HJcscpfJeDsqsmb6k+bVI-i8rOc2Aua8dkob2Ze+cZY+ZuZxzqMu3ZdmE5c6fuf-H8EFa+ZE0FTedbiWwVGZdXoJxBvQUXIx1YCYH3GkE2y0CYEOf4CHH0I0BSHtsAmZfPu8BLivvpxBd6HrXaTMBmCmJmlPDZBTq+MXN0s2X0q+IlxCPYD4Blb2aGKMtjsV15blbEtJcdZzVCJDZ2ZmeLQOeObIAEuRskGjbKLPEuzjakEJuTpJq10eXIslk0ExFMs839ZLkcP6COpLbiTedHs2edI+lg2+gQwwFnpVN3McDICYCBTUBGhhGkHNX6KvKHXRkxhKUnfuHG1bSAXnYasMiYBKvKp2s6uWdoRVBXfMh2DnbaN4kbIqGTJhDBml1SBmXUC0G4uRn4GIGIFypGAw2yHByfbUe2nKtJKfZhtJBKsAxKuKo2vKsfeIALa+AA4DWqobVPd4vtCDyxlg7VYEqdZ0VIHhbEBIgIv9kWpatJDJBavPYkUYCvYEKWfQ8Q9OAh1XdpFJFPIw68MsSWnrSnZ1VGFJO7UCsAzlTcjC2VRfDY9AGVh8m4Ewa-LY5EAJk-MXCk8SYckvR46yHrmE4MiA345637cfbPGHfKjHfNTY5XyyHDimvzXnmE9E7vBo3th50ZCC0Oyk+DsAyI-KqY4VBY53a457Sc82rvBKo3ZdkoU42cVs-2yROC3k7mv89mulbkGY4cCWhKWuyc4asK3o+M-c7JAQbVdWeo9cES4XYE5UGYiM-Gyy9JEgeUJfFU+44jqk7y-i488K4PdK1vdhm8+U9JAAHJAv60CPevWut3-E2PGP8ugVpB-EJvPHGcLbOP7YZ2nx65pvIOyxEUQg2AmrSR2gtvIpXJM4qguwtuB9vBaQivZgFgsvluRxJuG9FwVvGvMPmvpAtJWuru1YHuNKxhPv3Oh2buxH9qjWTXiAzW82pJMcahS1492ONs80FND1zJejnHYfzPD4-BwvO85FD0HXJAlmgfgwQfyAUh4CIeQUqhUPofzuHtRD4KpFlPEVL00UOMuNvZKfWu8l9rpvL4vs71pFIeqhofzCTOE0zP4e6fb92bBz9SZRzJ9SQvuMwvByDssfxe3Cpn+fGAhZV0ZQlmueHEefSfS0KfD1i7iCpfob1PIHEfoGlu1Y+eyfNfa8S9ZOgF7fS1U5aPAqdhi1pf1OEHre3fDutfCdWufeLeHJ8fTWiewfjdNOEqiLzf1aJc8fjWCfQeSfA+0PCdKevebe7OGjTrpWNePfCdjiijT9WeTfbDkYGemq5eWfafeBCjn9GcRCOeZa3W8gg97BBfZvtVc86frf64EfBNKa8kaa-cPtleKhu-D6pyZpdyuVe-cO+8B+m-reoLB-R+M748J-3sdKIuy1jyuUr1W5DuXIRpSBKATVmADAOBDBD0PzZ-Bf1OI4jvTy7-zlz-ypudH+++W01Yi-RrJT32qup3ArAFSB136KcU-wH5ZiNAMErG54OoAcAewANb9FDiEArQIuXrioDIB0sU8ngPQFsYiBsMRcouFIEECj6eQSgSwBcByVvyBmGiM6VbofkI4coBAVpWoEVBfWjA9oswLvIsCe6cAj8JpGYqUC+B14RAexCEHyVdCFSXNjgl2zj9ZBfxWmnWX0xMAkg7AbwNIGPBvxeAW2OnvrVPx-oq+rfTYIsSwGwxli1gkGtqwYEqCuB9dauJQJhpAsGCCwIgDnSFhQItBG3XQbv1kH0tvgbQQwZgLQFAVf4lA3uiXWEin41+hBFwf7GYhhD-Ew-cXn4DSFfkTexdGOqXQsG-4aCUiaOqAC4LqVshh6favNH0CxBFs9gcZBwFIYCE6AvYJoYQ1Th0A1o--PvO9VWTW92hjQTofyCRBvdRBzKVZDjyyBft1AtQ+oW8UGEtDZhi0SiNkEmFZt-qiwoWF0PbQKDLE9MHHFsLWF+AthqgboSvw3p9DlOpwroaMJkLjC1YrQ1bkiC8asB9h+gQ4UWA6GGAbhIw1braBeGdMahKw1CKsl-KG1lhdQ3ADPGxjJBvcW0RctCMEBC5okC0JaMCLqEXN8cCI5AUiMw65xURtQ5DrUPY7vVIRynaQgJzjgOADhAxL4UMMMDdJmU5IkFoCMkZ4iURGI4kSCIYRojBEc9X1iwAhiwRiQb5Y9riBOGCB0eElBYn1DcGEhaBDg1ipwIkrHRXBdg9wQRBdDW9eBCA8RP8hUpjD8RigJgEww0i0DohdghvPqOlGt19qakSxC4DNExU1Ikog0TKJ6GOgOa6nXAE-ABaRsnghkX0UCABbs8DgRwJ9G6JEDW8OaypQTL+n3SfoAxUgKTJwCFxCw9Qi+UUQ5ldGgAbRwQ1rnLFEFJjlY89UQfqOU4OiHATowQBpEXCfophXwRcBWMbEMRkR1Y00bWJiofpjArYyqvXBbEbDOIKlXPqSGDHeBNu1QrQN4Cv4ilIRwjRcsxGsZsjrobMYEicj0COpzkLgN-hfws7f9nAfgLnrmK54qVZRm0Z0Ysl0Ss4ZQVYk0c6O4DHipRPwLsIeOTGIsvgp41URcKYrqROG9uf9uONDFSFAiIdacXICtJcjLx9uR5DONAApUAAEviyYAABBcAOAHxYAAlFKpAAADy5LZAISAYowU5AiQL-s5HbDWI7xhAW0cIM9H35-KEArgE+kdHKddodA29B7wPEHFqJufdiUcBXC7jKJp5fiaMHImviDii5RCchLQkYTsJeEgiSJLkAcSuAXEiic4ContjFAi5diVyKYl3oH0yyXiQd3UnUBEoGI0-usktBa9uJooFidWNomjh6JVVOYXiKWb859RuVWxlkUSBvBQ0IQcSXuMKSeSgo74Y0TROCE48hqf4wKZRPsmKBHJhqOCSd1lZEBLEMoAAAzmAVSVoKKIshGC39Re5UcgIYBlgFThMaUtIISBSkVTqR0gFqlyDVH+wapbQSqdIFPKupcp+mfgcbAQE1SUeF8EqYuNEEadVmog-qUVJGglSI6K7farIG9jdTjQKgVgOMAKnHhmc5UgacVLYD0Vhq+U9TFtKmmlSZIgeWQMwCihHBzUf-cyOmjMHGDukcWZil1IwEqCJpuaVHiwCPAtEixj4aHg9Lz6zDzpl0rzibz7EoQzpTAC6Z4HNSb8m+VPUfiUI77qVAZkM4GSlPXGeIOADQzoJxkKQqCVRrA86ushRlQyrpL1Uwfui1Dk0pA8dcMVjXFHMCqZZdTYJBRDKlCKCLfBgosVsGRD7B9A7molPZkszXBmo1MIeGRoLBfRxYZGjsBJnAyLRJA2IbMCsAkQiihQ16v31EGjhPB4MhgEDOhkgyUcMnOWQbKgrwyMw3vU2qGRxr90RCJsq6XT32qCjMxlOWRLiEkESjEBiU88eiHlEoC7BdAmurZwJk90ZIWENwUkxzBph9ayMIgLVU7F-iIh+AkkjEL8BDiZgP4QWZG3L4WF9MsVBnP9RsDkhi55kKwbzJ5nJylRtGTOcENKHIwI5e4LUeLLLBeDCA8ch8dAPTmSAFZsJVOVgBIgDyO6rdForqIZk4Ua5zguId6CwhYzQiKgeeDXJDlMy8KRckuebWrhji-Rk4mWpzPXn+xR5TA8eUcEFkd95BeQOOZ1QTkaReAvYXgMhDPHOTvRDkICZt2t6byQxr80fnTL4C3zBQMY7CoWL3RMRVk74q6M7IhiuzI47sm+as3vkSVAFecu+dGPGzgKpkQNKBYiDvmrNewZ40AKvPJAILmIN8pWCrB+lMQ-542C+QqAfH1j1h-1esYKDBlSAqFV87sXbzoUfjHgH6RhV3K+AjjWu78icQx074+kUpWMabGnXcLXkt6GCCRakgKlPkz21AaePQDkToyPyJSdGcgJqnc51FzkiTgPCARaL6ePqI4BdMaDJwQytIVrkuxVDGL9qGOCRGIpSlHj-uUyLSRFK-GEyX0fUaePoBcApSZQ80o2ItNxDLTCk6MjYn1BYUATCQhWFhQ+KfHhSmFMwEUCosOx+KAp6MlJb0C8WhyfxiweObEuflby4+gYyke1n+wZI-uDgfxDorzLr56YAStaY2OBozjIJ84mJdeLNzgjC4GOFKZpOSXBCPyGI3HDCPcmARAlnTLIo4v2km4CpY0oZSpSimkT-xBUwZY6MSkYy9C1rZgNN0fFuLqJjkwkYtEXKjK3JcI8yN6MkbdJRlQbIWEcIYLWTYpGkg5bUvcVLKRaDBFcf0vWVvLJuHyzZcEMeZN1yRTs2fDUsm7-LTgoKvkT7KCB7BLmhIXaA3GDzGxPupIf-JCqIb3Fq4iKogKLIPBrBrekcc-Opn2XTdjlGI3PvisKRADWCn3WFSSP2qgx9JxoJ9Ox0WpedP00nPGK0Vt4XAeV1Qq-rIBeVWltW+k0krZOPCn42V7soSc4CSGWC+ob6QkPpPvSchH0Cq6gHkJOJBBn2T2cktqrnFojRW7kXSfOP+CGRjV5kyEUzVmABA9opwUkDaoskgtSutkvwCuINXzSV0tkk5VpDL67zI88-PIGoHaBblypEqpYDwD0U+KPmHimUGkt-CHZIlKIWVTGvZW8SXqr6JoDKHVWGT4pvOUoQ1B9XkkapGIs1ZxAtVoj5Q8i7wLarRH2qnmgQOtYZBSmNrahGZMsMxBcXTCvGZaneBWvJFBqChp8uep-xqntAxVhSY1exzEVzrQF62NgELAXXSrWun-Y1VKtMnFruB6OFdTOu3USS16jOcNaKuNWBzJVc6qJZtHdg2Sd12xaSahPQlYScJ+E8ADJCfWyTX1CkwiXn2NVeq1Gd6mdUTncLbcnUH-A9c4rWnrQz1ka9TNGtvSrS1wN69EMBoGUygn1mEkKAABl8WH6lEFhtw34bbx40hZf2s6bob1luK-2OBuEVnyfSydEUIc1pz14PyEnevKeRgLMbpoxeHAchSkTCVnYNeHjWUGsRsbnJsMoTUqlFTn4vCOUFjYYj43sah0nHTjXurejV0FNvGiTQUoyHTptF7KXeMoEU0ZtlNkmoBOptDUVArQmgDJELH2W6b1K+m4Sn22oCHNKAK00TRmypXkiVNRNLwt5oQRBbXKCVJlYtFa7MbPNESozSFvXzubpoJeealiv2XcaEtZQeLYQFM3ytaIH48LYGq5iOqyQG3Lbilv+5NUotrABVusgU3RbuA2msTb5rhX6LZNF+BrYyHq0mbEtFI0CVSPeHGs6RzQxkUVghWpatNXWjLe1py2yCA1fObQsozUa1aVpNeKbdYlW1zbVc+W4eEVu27SBSto28rScJM3RbqtniWzRhmVwzbqVIyyEWMsEATK7w1y-uV8A40HbalghBgHZuvbYrvOSWzhTMDaUQSTVRIkccUHm2BjAds4gNd3S1D9yyI4xNmLlrVyiVqVj0HbXt323oZUg2KpqudtSCnbpinAN4IEGNjXT1KSBFQYTUrYHNaktbOlNspmiR9CexPX+Jdq23EQ+at2i5eyCJhPaMwqk59rticjqkKAGGLNrVzg6OSUlF5dHhIyHGU0Bwac-7ZIFeyT9eKggQSvVL+wbs4d820kEzvT6Pk+IRMP2uBKh1cjDRFs1caMFFpba0dra-Xanyj4s6pImOojNjum5NUDd0fAgtlIagwg70JDQhjKAACc5gZ2EHolTzjuKEe1SKQwDUsBLEWMPwCetxrC8OO7MJVcrOfxYQaABkDKdTMkCR7uA3XbrsFDQAV7m1HMsdWWGL3MilZMwSPQnvcyYxRlQcBvDQBSh9kbZkeXoE3tGUt7M6fgAPcZtyikMGddaTwOYssWD5s4EaprSSI-L5b7daTMxYQxn1HlMVb2ybk1TX0WLfS8lFUpnx+2sBHVg4BwLTEjhYdGcDUPYDKD16NADemfIwFYmNin6BojVUwGdzDmbgEc0gS-VCwU6EgkUIYouvrWL2khkoKUTPqAGm4oxCAjqyQFAfSigLi9v3CldqDKEt85IWEC9Vfxv7nIV1AhPYFnpmCTryp06rdZuv9Xc4SDuqrCH-oANB4gDAKUA65EL15i49hDBRlAbDy2TggRBnabweSgoG1ZCkYNbMAgPCGUocB+3NtGkOKNdV-e+cbctu0PaxaldeJsjXQP-cLWlVYXRPCUHoqpdWQRXW9DUZ3ZGxZW97XsDRRm6OltauVHxDL4iKA81dEIHQCiiYx39kiyQLfvv1uL9ebgXnjEAd4v7GA4nBAx-sMhf7dcFdCQjKGsNQrbDW0ew8DsWiCE1xNG3obqjkqhbAxpISKBlT-FaA8xggfgGZBIg55xuuhgw3HCMOPjXEasPIw3hl3mGvGd2LmHBKI14a-1xE52NFLIkDKi13s5yfQDPoxqi1bE5SfpNTjDHeJrXUSZNj+XICljcy6xFJKQlMBsNvRpSWeFmOrq-lvEm7WiPmHBt+cNaokQWs1VGSPF-wqDh2osmQdLjGR0ae2oKmdrFo3+2NMfv2XdchJ3Af7QAB0sAC6hNuMnwO4B2gS0OVKI1UYo56IZerBBfqBqH1fjuh-49-0BOcKQTYJ7Ga4Gv5QmXuRgX6fgEHAN5TgzEMk6AAABeUrUACCbIPgmhYkJ6E20dOB0mET7kJE6SEYOomeodEPAO4dFBeGnw-x5kwSdxxsnYm1XZHlt3cBbdiAW3TbiYG65ggbA6J97eKfxOsniTMp+Ri6vlOKnlTZ3Hk+lCAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-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-InmvhiJIG97k9A8YzY0aeoqIiCbvaBYT1JeO0E-ey6wUHlEeKkyBt5YGRMwmdQk-0qDSCODsHKbTr5DB2EeMcfNNhcPmfw6Yv2cnRO0AbXZx4baUhLoc0CUzLm3MsCNjirVvniCDAcccAAfKAQzRaLSDSc5Wfzwr9mdNZUc258cOPkC41VM+-GpNXyFfExdWgSHOEWevDQW8j7wYk9eoD96fVlcU6IlTcI1NAY09TMDTXvDEF06EJxMXjOWh3nhyzRxrPWFs1EezrCl7j1c7N9zA2bBefm3ZRb-nAsnK1TvMLZgjhReG3FsbSXdNWvS6EWoaFg6bzGAVj98Ty5SHMzEfQsHj5YCyKggAKgACQAKKSAAILgHAIDgASr9yAAB5AAcsgRZgsqgn3wPYQh8X00wgEr1pwgw8GgiffMe7AmgPgea6I9+uGpMJhC7j0rfX9EpTAbh9QWV6fZzEGz0oWP5P0HC7wr8APgdg4h9DuHiOufOBp0BunCXGgM-IM157mkZsWYI+p0DNU8f9cc9jxoS2NeXp+6AEXkhIdloADKA6R6AFHDDFLo99cMXLWQldlYJzxL5QvNKk8e4zpwzPCjU-sGT29CYd4e6Z6I1nYf2du+YqOzLFIedZSj4LzEwugcW+t7b6XmCw+066Bn3XxPYTLZYINRYixZQHBter+zWvNM68D3rqbKRAQ7yN-h8EVLqWN8eHoNDRtNtZB7yt6BuDPoMDwawdgcBEDIHQHwHgjuKQqGgiZAEsplCt1vjTBQShhyRliMyLR79QDEi0WAh46Jz-rJjeGxYb4kSfLEtWZEqJQTlEGLv4PLOCwvYgYa44E7sD+Uy78m+WUwBpY2Y9aO+xAe+N+P64YZ4oEoB8B4ByoF+nS1oiG6BF4YBMIiByB6yt+UgZoMoiMEBKUUB+BVBPMtk-+KBwU6UYUjQEU-UUU3ktBIeeBEUIUHBtAXBHkOU0UysnSSBABhQFB3Qjw9EuE3B4hvBOBj+waqgp0kg84BKChXEOYvE-Ev+HeKQyk58l8zI-ehqKULB5BCw50y05QuB0BNMT0jhDh+08MuMjIyc8Qf+0hrBEseSOsahkBAhWU2spBMhKQch9kf03hPs0RYQ9BEUcRC8NBzBARdhTsNeAcJBfBKQ78-s6k0BmgfEeg84YcW8lhUhe+VhGqlUkknyAkicvhpg-he+SRoQhaxavIFaVa1ANaV+cIjIqgeEoATa4RZRB07GFIxRFRJAgwrRyMdWxUlALAHBygYwOhwgLWKQX4xRaxGxVAWx2hn0CxoWkoPczql24gMybBLAiw1AEiZxUMFxexem6YXczMy6Ux2+lRls7x9R1hoQ7kfE6CSgSBqwtAZkJhKUlR3EoIJCAkuxwJIJKQrRaJ6JQSocu+0J1BfQuxyWQahkjoUENosySScgpgBq78RknyvotA4JfQREPxXRMRkqkiKylytx7K3gvRwg5ala1a0MZMVMteExzaxRHmN26+EojRigzRe6BEdAHRDSX4uc+chc-UIiYRgssiYCWqpR-xsMloTcOplKtR+qhqCp5JI4AkWMWpAkFpapAGG++BQhmUVREhvsVpquh6UQMExp5RfUHkxUnQv+Vp7Jb8fxIZjU3BjJAuNRthdhwZzwoZA0Q0kZ-+sxEoLhHhK05AqpfpvCqxFMVMrhP0SMgacsjG8GtxqxnM2M8RTBxgosyKYQX4aZFRppXhrZRZlKOZtyqW1qvS+mBAvZxIdpaSiyOK3Z9cXMLZFoSM-QQ5xS9xo8ZJ7+C5zZxg05Hx6yX4O5kQe5ny8G12I5V2eyXZ+BBZegWajp3MeM6Mq50h557aGWt2iktpJAVBEZ0kPCWeB+gsegAF7JzGlcseoAWqPiv5xEdInQASgwP5II8F2y2kYFRoFqoAnod4dAbsxAyIKCmBG4OOssqxd5HYHZiSIsHiBZfZz5JsoiL2SgjxFZlFIs0ZMZ+pJyYCzsdeBgBFRF-YWBZFx5T5GRbZhoWJNK+FOQwlJFV4-o-qmhZ0tMjhcJ1Kj5S5Ph1ZyWvJzFB+sBIlpFPpXF2anifQxlil9ar+9sOKchIERBolZlNqMaPITlYELlkE8I1Y7oNqYCDu12uFZMLhkRNE-+xW45lsHi5sgJzI8GTiGK9GV+QlzxJlSlAulsumTicFAo2yKVKFf5BwyVumN5W+5RlsMlNheE4JXQeJzABJBKLirKgweV0onQxZ-+bpeZ+BaRCMPsap-pOIti9J5K95Gq3ZbkYh4cxh2JoJ0hPVYgLhjBy5EV0h8SVBdl05sm+VQodlc1hQ3Zq1co7+yZ0hMla5qc945KuZy1+BnlNl2BkhkVvCW1vlioO1j1z48CH1mQh1KQ3Z31xBr4Z1yoapl1b5NQwMd4Lh1lP1+RmRe+m1aF217+8NINPl4k-4l1J+cZ6YIBCNoN4151dRoiQ51weA84s++CC+nAy+vAtCcpGE4wgCegeE5eoA4xoagZMgd1zgtiOhiJhhDcgwVVJZQFY0n8fojxzxEJ84O2Gqwt9g-EYtF8KiFNV6jJstLxOxnNs8J6FRKYMtTxutn0q8FICJBhKtDcFRnN40HURtoAdUBeAJ6tdtw1rUcME0+AgwNGKeEolRDVMJy5+A9tbUPtgw00-NGhWhY1FJaYzJ4dXi8dI4o+idFoncpJsYX15K+tlkx6iUnyS8W55KFtEoqdYwGdiMeqntacdsegeqS1zgF0ISNIugkJyg+JZkr1ktOILomtd4x5hO6IvdMwmkOog9oVZAbdWs6kI9MkJZoQfd8wWqC9apooTiIwYw5Z1MwdBJHiDuJ8gt3uH+ioxZzRnNWqf1rVN1NoNcaO3udlKJ3uUwy949DYOoC9ncC905L9ROFg7911Lo39MdYJdend3da12NF96gxZHgVIO9G1vuY0soOgIwZ9mQpcoaWQugGD1oup6hWqJ9P+N9sDrKlpCDsgnd5lYCuD6DwwmDFDoAAAPEpGg-g3A+ZRZfyUIsPr9hkBocQO1onO4ADFfuEi7JQJ0GAoCKAAANQ4XzVva6AlJWwwNmCKOj5yOKMmEqM6BqON1cPcMYa8M+CAgCPUAEAyDfxXE6BiM+ESO5HSMdCyMKNKPYn6OGNkOaNAgpjuN6NRDvaGMENfbBLP5o0k3Y1DW8Kw1IHdAZCiRj2FB4UEVMPkOAUnIsUgU+NTZQHxOxqiSaWt3UDt06CQONU92LVTZgI30So6i5PzXvw6ihMmG1NpMzgaOjJuihOrburrkUK74Srb2sWUx71QmVOZ0dmglFp8M31CnpASL26ggeZhAGUnJOIL0eLD2n1XWHmaRyW5C-1kMVGv3VUaq-1Knf19P7IZYf04i74JPFx7pQ1flzGo0307XzN30xMerT3KBPNJPIOiKpM5DpOOqZPXnAWVzpMmMxmPOFMTXoklNlMVMh2IzdVZq1PY31MISNPWHvyKotNwOOpwvdGpVgudPVjXTdMti9PvmWoeMpCipDM83nC71osEk1kzO9HfOAgVqLPoLLNPCSlGJ7UWirMXmHLTM-LjlbOLI7M-57NTJ0ZpPHMwOnNE7nM0qXPkr-1PDEkfnBX3PzAIuJMvN756RU0z5MDz5QCL5cAr4YDM0+iETrGbHbHnG7H9wBlWSG2ClAhuvHGUBbHl1iBBsesCaPFZBCjuzesMy2zaREm9rjkRsnGetQyFU8jAL3Qaij42AajUrWmmGfx6j5vWB6hFtYn3TErlvQUrCkInLFthD3SHh1uHhVs5ufwVylCj49tyDrLNuhD3Rdphhwij6jt-yDvVufxmPltmNNszteLCQjCDQeB0BGwruu7LgMApRDs2D3TyN1s2Ds2DBwiHZRbjGKPtagD7vWD3QNrHvWCnugDnuRZc0TGvvWB3uWXD5IWFAvtvtHYfveJfu3tLt9CAjABPsUJ4RnsXsftgA3s-v3QACkMHgHCH4xqHYHKHn88Kx7mH773Npw57EHw+AAhCcIR3B6+1h6AFR4smR1214iwxh7R0B5e6wzYMx4UPdCw0cE+0R8B+MQJ9YLxyW14hFux-B8R6AFFuJ3h1J4J4MGEMJ1xxFosnR+R4CBRzBx+6EMB9YBRzYBzcAhCIutEMG6cZUWQ1ZilMJKJBqEglZ5G9TRZ6m65+m68d6MiB4AAFZUL0aiKOcXHvs1techsvTgJuhEk-thBptRc+c44QhYCWfuvefGVZv-D3SMaj6MbxfzXDufyQDEBSJhTjuqelfldUyFdFf3ufxbuSCwCQDltNctd1f1f3RNeA51s9eddFf3Tw6qDw4wfDfw5kvWEedfGJenHWV2eTYOciQVHvtf2WmzdV36aBgkzpfWebcE2nV6v2eFChelLAdyRh3reRdzdbc+Gpd3iHEbfJdRgBuJwnqc2HH8Y1KMByBwjvaSD+eqBqD4XRCUxIs0pPfrEuwJFxskADehBveHiVBhAhXByorhKctmSc3gMQn72wkar8XoLarXcZu+dkODBwlPfzddNRqE8HBPeVHUABdBcU9FdU+3eWiX3auhAjMct4+Z0ptfEjM6AhIINZT8+Mh0XYgv4S99CpfWuZu2tsD2v03cCYAuvRZMkRgUCSBPSGCvjCSMAyyeX51STuBeA+ByQm-Px0ExfTg9NoEQqfpaOSA6NX5BOqP4DqRW+O+mo2+yF29lDW8F4y3CQ0yIl8SlQe9JwfekCGYsDMzb4GBLFx8IcMCKPCZx8SqAhyOoZyOyP+OKOqCp-c-rI5-Gyvox8F5MTK5WzR9LE9wN-lM1+1cWCyor0V6V-uOAjD7uOh+4SyAR8Rmhdvct8qLLG+PgiAjV+zAVkkIEaJym8gWL9U5AiCyRqAEcw8iL9bCbBaJ6D9vaSL9mBBCB-CYFyfqMdAgXrgUUI6g7+hoj4GLvyJ3a+Wh6+ViG8ywr97JgIH+UHOM3YJBHftsANR35ngQdGalvGP7mVUMvfRRmP3GDeACM9-HuOf0mDO8mWZfIEO40+aSRpIFxXzsoVmrH8Am1KORm70QHz9WwB8MoK0XQEAQFGBqKfgYkNKz91Is6XoKPkTgud7Ac-ZAf7w5IRBgsF-VfmP2Hy1tkKPIVAZMFpZ0CL+V3PgdTHn7sk5C+jBgav0BAAByN3onG746CoKXjL3gwJn5KDdeI4RgOpCeiWCl+MLJ4J4G8A0Cmw1giTvV1-Z8h0E2jIRNo1zjCh9cTybRjvHBCCDki0FdgU4IOAuDLSLoKIbwNr5IDGAAaKCuIJ1CxD+UaQxAVEJjqA9gepAUHpz3JTFQpYOUZUosFN7+xKAQAqMPulX73QKhVQvMATlxJQDqhBEeHtYFC45CqQeQygJTGnJFD9o1IJvs6TaEhDyW4A0obf3ugXpXo2NL-FJCVajCoK-UGOi4PlCjFgMhEYodSEmHxJVi9Q92PujWSbNQ4dTWcgqjmH4Cf8kApiLNSOHvlLO2w2QF0FaJDpluaw+EBsIGE5Rhhkw1bEeVOE4tH+tbMQQ2wiHE8nhdOa4rJFoEQjBhzwp0pokAK2cgRKaNtmIOYDwioRScKCiiOrDZ8uhIPXoQUJtAb9+Ca9QEdWFL4dDluhInoX0IZJbD4Rvwo4aoPrb4o8RioFzpCJeHXF6yl5O4hQgmFHDvkX4aYaPjwHf5R6ow-kdK3ZRdkCI9ZVHopHFLPB90ddBYEaTaGr9J62owAmY1KFCkBiQxYgblCGBwha8YbZwNXSLK7CUGz6LUWUNX4D09RAfA0WeiBD9ERSnSFoUWCZIAxL0D3BXJBGywWxuMHQYMAcHVH2j5gqo3YY-20zT8A6YgfYC8ODGEVAS0YjvlpBtEjCyhzdWOlrBvTvYjGS4RBHfRHBX0wRnlR1JWILweBixHdTynoAbHoJ3snNHUK2NCi6BO4XY-7u-j7E9iNRLoQcZMHrGNjym-GBeqWMIKL1v6GowFDOKxRMAicBeHHgcBrEVi5xr9DUcQ1UoWwJxS48sXqi9yrjlRFINNH2DPDlEPR69SVIKy6CLhJARCdBFkEYDTwCoxcEom0I7KrFd0IopTJ8UMCgBRxsVCcWTm0K7MCIp4g1gy07KaRQJDGKVC0g6BZpxExAB8YhmfE5AOgb4w0SuINZYtNeiwdSKOJ2qjjDWjLaVqsUdEHkVWmkLVH6BIngijhgwJiepBdH5ibm6zKFg2BWGuo7m11diZMJjr+Zq8teCEsGDHYRk6A2SKSX-ATB0ASM2Yw-rJNv7yS4Qik-gA4mSFgiGmdUakRQjT6V5xJEDDSTJJMkzgDJmlbEuZK6BKTj4DyEhFkCB5gRpJpUOSfIAUn2TlJJrAWDCzUmr87J0gbSWyK1T6T2hRk99jEGcnZBTidkvQMFKUkOJDJ6ycLMBzElWSzUbzCUGJPwBhgjAy3ANpCyDT5TGchFfzL4A1ySBTuixK-I5LrgFTwS42AjElg1GqTK8t-HigHxineAXJ8UryZpPrwnIGmnU7nulKixlTlcsoFqVVPwxKolQGubKRr3XECZFAxYXoMuU3E4RfS840jNFQnFgS2xHdKcafU3GgNsxiE6pMhJWSr91xR4rIIMB2kwTd4uk6aU4BqlaA-UZEgcROMtLPSCJu8GOrrk+ku5wMT0rQC9M5rysU0+ALUJ0DkaaC4ZhIBGcsMWiKIfUEM-wKvy2bWAoKO6cMOBjMB3TaqEDEpImRpCGBlymM0AADO-r4ypAWqJ7NsE1Fgidpt-EGSuz9QugP0qUlKC6HZl8zCgnMr6Yw0+xCzsSOoQWTZJ1av02RgIZGVkA6BJicpYgMpj9h8qV52aVY-FLRwmn25K4BYwhCGGOiDRCKIWXavzkGBrCaZawvaZBnHJczXcrJakh4hFlgybZkMsVlbKwFuC9kds1+rRk0hOz2oVJZdLDPhnKzV+3UjkurPsCayNcKlF3KHLZIx0pEaYg3MpV1xQyNReUgqaFxtQ7T3AkWfNMbOlhmy+czmXIEXNLT1t3plxb+tSOdyY56cFOPrFDJmim4xsfoEgCQg8QAAGVHHeGkTfxE84kvInxgOB7wz4PcxkN4A8Tdy5afcxRjwCDkNhF5vc7wAXlsQjyCC96TcWNgOGVhKAqyXcWCJHxIIwRh8wAfAhPlyCHpjKGOsZlBB7zQI9WQrD7gdlfFr5UjBoYRRPmH0bGY8o+ZPOTw4lg4s2MYL-DkAywsxjSA-P+J-E4p34O8oBc2I9E-yJ5kEE+dwzkK0TkF7InwJAskDQKZYuo-MRLOIWkLtIrIhyj6MWBKi-JQwOwFAvUAywas54iUMGAkncJkQuQD0edJ3GxMxSLCkhWwr3Q1k-xhMilDK2sAst0ZQfX3o9M6R0SsmA8QBHBKlZpZZFQE1BB4COndjJxhFacduLPGGovw+ipCVyW2Qd534cMtLB3jARULxFP08ah4EolrNzUPE-ZoeiNLEzDU78ZxTApYmfpT+QSmWAPTGG-8CAcDPmgJONbANRF1C-dGA1JkQlyZTxYiDJk3HWgc5+0r4ohJAngTTpP+QRWYvCAzJQJV-Arh2SaTEA1GoM76eBN+nHTZBvs+rrksBnI9hy1EjcohiMZyBFMRXPAN4lGWtYDprSgxf9xKXohOlF0+BQ2CqXXTrFMiE5OhIaVOyH5EswoK4opIUS1UsqdVPTN4o+i6qWyn5l0tlHaLRU3CuvFIG8idKylBrN+iMrGULKcQCsyOUmK0WjlCgCos5TkvUBQylRqszZPUq96NLGGiwbJIsBGRdKNRMMxZJ8pRlRzbeyKpWWSI5IKIyg0KpBN1Bxne4GZ-S6Ff4v4KrSMlpTGkDJlxXQU4VxynqVIF3SwrSVhRU5WTMUCZKqV9iWFUgmyTzjQAry7xESqZl1Rd+rM-FMytX4kANlos7SCSu2UVs3QzKhVZKhlVgz301kv2VMnfTdQVVJya5lBXRUIyY6hxXCDvA-nWyLB1MbOaAADkAN8lwE0MNkEIo7wF5soF+Z5XfkcLBs45aVRCpdm-EDUfq6mJss9n1y9VymWgBvC3hOr5KR8CNbaqtWQTylQaYNSnNdmP9FZqM23jHLCDyI8aYwFwR-PMLqRY1Lq6+KlLjnZYKpWstNQGrCZkxDipeNvHkuzF5ytABcmlK6uA75pTVieC1XXM9xdKm5GOZ2ePGjz44ulBYmkNG0LVWq9AYaodcc06m5yTJU0ztSk29zvscUYkunqAXcng9qU6cyuWRUXXtzh1WafWU2vHULqk1Nq65jJWXVLSwGBa8wd4CsFWqXpLUxxOOXmjCByM9gXUBaOeBpDAQaZN9ZYNWZfg-1JACVIxlX4zroeEGj9e+q-VJYoKMG3ILmNvXvrLST6-DAWIiAcs0w-nc4haXan8JShD9Ier2RI3QgqNHYhCBaQLyOk6NIgPMSVNORuhmNyYn0Byy9Ska3i5GmMf5JZg8ba4wcY8gJvo3Cbsx5C6jWTEdLSb2NDG4cdxpVKdxpEOgEyF0CLWyamF8mo2bQH87UAYgegNjRQGLL4bHgpvYjcZvOIWaByBKl+f5igokbTNuQVjfZpU2OaaW1mcDUWuPKObzN3myzfqmwrzVrNAaGaF5g8HKyUwAWq1enWM0eb7uZMATR5sSkSBBNlmtDSupE3kw2K1MZTd6Cy10ActTmnNZBU35zyfucUtyd5MPXrJEt76nsg3CDDZb6NJWgcnlqWlqoUg+sjLWZqU2daVN3WvzRFouZP1zsooWLd4IS2vqXBE7bLalqHlkwtN2+TEoDO-Wrrqp665bjanlYRZzUUyQ-i1ssGgUZA2myPshvQF+atVYQKtQnPszXN9Ek2mMk9prWJz6ZhyjDILH61hAotXYWLb4O0bnbKu9uK7SZDS3Bx3IIYFBGqJ-EFbuyHo4XqLy4ITN0WcGThWIDpH5CdqW2oHQTDoxrr85B2vZEdoMRw7DM5RS8YGGvHPATCMgmloDIVWN0CcF7YprMx8DKBWeD2z0cKUGLOAfUN1UhJMR0bmpftoQQEHjuJHTlghsAq-O9g1lfaXtr9VgQbNKDasgds2lBMPll0Miy6C2iqnOvfWj4DdJIusTgCcTCRgMk7drIsgACcVQT1BIBdh-xZpnG13d6jHYtSBMJCXwIMH6y-i+lOTEkB2QbIzJyspwfudyxsD269AWgrQSmDQCp7JW7aAUYBNCAJ7RpHi7PW7t91iSwojgzKcLEtKNpna3EwSdYHt1+7i9awQYLbrXAF6-4BY9QL-H-is0YI0oLjL1oI0IrptleXXZB3b1-wAEadY3RoBMjIbuBP8MfV3qBka8mROUW7TECXQfJvA6QGkK3wdWoJ5oHiD4SMRaCbDMRJQ7iLIAP7EAl03fCoMENqwzItijALfRVwY4poaQuDYUDWQT2Agm0zaZfdSETXvrxAV+lBNYF-0ih2lNelvepEyHzr5oRoFLHKI7SioQs4wPOF4EGgRiIy8BmsqmLHlCIT1UYPA6gcBI4G4JoqR-c-qpiv6kV7+iVnHqgM+6-4w+X-ZMRCySgsDGCVg02ggO8kO03isIN-u4PNoXB3xakgwGEOPsbmteyqTupMkbrZZoIEudiVgOtabJdOxkAzoXUvSwsvOggAh06KpTwd2hpXboBV2zTBYAEEFRr2PI5A6A38RwWvpQQ-qvi++xZIfq+H-6GcDcZ4E4dQRaNb9yWTZt7hSrGH5or0ZXfHNV1D5LDZVaFizAXqENWVwIKxk7Pey0ytAqgSNLKjYFmCi1GhqgNvnCNaREjlpdnfoffadETVEY-A4wEIPeQQspvc1Y0cgPRoODJeceJbKrlsjiD6YrozpgLy9HM5uQFo7wk4x2B6j-8qY7en6NiZEq45TIBnP5wpVzcYuKHDDgRzgB4Mqx8HOsclx25gs6Yg7O+0WOTGSYTCwEHGhVknw8D5qo+PEnGNjAxs+WcnN6tlZfFTjUeDxObktw24tjmIH43ngONXzx4xx4Dp8fHVxGGwlx46NcawBeHbtWg7THoAe0AAdLAM0ZrwQNQx+AIRARn+2vt4On6DVMnqBCUHSmMxeE6fupCInkTaJjE50b3U4m8TD6fFIQA+SWkVEWqdk6AAABe0lawOibCBMm84uJxIeUZUT8niT1hUk4CHJOyB8w6qG4L2TsMOGfASJrExCWZPimOOUgrxFkZVjaNSA2jZWYaC0EQg8ACJotRqZ4VoHtCLJ3U+4INNAgPARpk08ENlMiggAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvSSxMWDQLgQg4gSD6Cn1fmibBuD1wUBJloUghgUGhxuNiJu9seZ8yZtwJ+IDe4kOBGQmBN1hC+DoVnMOgwgF2k4XjeeqQRJDWYFoY2QiEz-S1rnDBn0rIyI+FQYgxtiFVxcDI4g8DEGGGQcHceocOGSy9mA2OqQ3jcVRD8Ix+DCF0EUctTW2tga73UaAYyRRC70Ecc4ZxxiCGmKIVw-RKhgl4NIAwfBGM1Zt0DKDBggQZD5zxNE36Dj4kMEpB4tEoIMmVHzqSb6fc4kuISZ0VWjsLHCPSZk-OOgbFSKGm0Wsjgg4pKaUorxqi9Z+PBMYdo1tlDM1yZxBKxAukTN6Y9MI6tQ55zGd0yZzNuDgzCFU7h4yelTNkdo42tDg6xAGaLQBwDrH7JiVUGhM4tHyOtg0ygKzUkuDFrsmZHlEHPLkTot55zPqfKuS4Geeyzi2IGqkHRmhcSHK2csoSW90iZFRfc8BqQU4fBOa8lWqLVnCLepiqFoDOnsA8F4P+-9PHbx8WouaVlqXKC8Ho36cyGBstpeYzeay6bgl5eCHZktsWcV5Ty-AAi6X31EbcqOkjuGDQ0IQEE3J178rvqHZR3jdbvINoQdV1BNXOE5ZxNm8SIlmP6QK4RVilUwplqnMQoLGn2oAQ-O0M9PYSo8g5BgrraFEHBZ6hlGKsihr+eYR5+LXX6GjSSr1gxo3+vMACoNpA3WJsIGGnVwibxpphbCwmqRF76BceTUlQz0E7hcVZYoFdS3Z2qBUWB4p9C8WrYM2Rx0ppDEnt28Ie1ZYj03GLYdyqYltqMQwIkvMu1UAWo2bojJJ3LqYlvCt3RwilHBE20AzRujTt+mlPt-QFA4jZN0UkQtGyNSBGla9ZZfCVPJEFR9YFgzjn0qASNR7qSnrsRkjIfTTlvJ7QytBTKRkQZVhosDFqPJvGTrwSJ7jSBgag98m5dosMcBfjEgj8z+GCJIzhsdkap4+vdhRyYK4FJCs6I5cgvgqZYemSuZoT9aLYdAXVEhjVmpKCgHARAyB0DdTxDHDy40azaPztbSsaLdWpGGqNeTZ5JqnUlspUo1JPrKWaETAWiN9PAlutJa+zDf5MO5rzNITMybcGU1MFYJn7H0C0cXS+DcyYWa04U7zzBfNfzLkpugKnjNjvfhwT+9ctV6edKUILcX5nH383vNzMXVVIKNm8gLKWWiniDflq2RLstRfcyZMdDjqBOIXLUm16dzPFaC-Vxr1q3GRei86TzINeHdYw0VxUpRuVsy3ENihTNqHuvmvhPS0xIE4L4TKwRiNFtLaKDl-rY7kVLLa2NkrPwDtTKMJs3pBLgUq3m9YVz1XcvXS5Hy5Lx2gu8t6zVlSY7NFAoUUdlYqXSt-fg4aloj29uquNRqrLb2geCBh4IrTHQtD6Ctc1nrm2Icqa21edJjnA60ODS5nHDG9tmWCPnGydkHLOWpL4FW5BYFeR8ij7RzaXVI-Rw4bgwahIDnhsdBQDXqCVnmZN5EkwhYFoTGqtguIEHUBFzQcXDBJe88ENm6FOZnz-EF15hQhB8DlHVyQnndBpdQRiO+AhGRirs7R1asjFv7sBNXEYrQIgxpRYPPQBR7uCJWpm1QsgtCpd4+20UYNkeo+xAx77+QFWwRS8fOG7OMjf6IPt99hHmeGLBZVoV7PbB5ru+aGODUYYKIvkNJTzcyIrK2Xsk5FwMtKC+BIKzxH6rfA1RzCWmWBPRpE8rfAwwD2VMy6CoGknLiljHcjXJZoWFHekzjTOBN8-7tk9j4qYfI8zwENGPG7XY+8077cx07hHXgmi-oGE1xI2qtT6gqgzjlaJpo-ybUxJgRklbST7k7tZf6kw-7GKF53ZAHGSmSgH6DgEIJBql6k5ubAZyalZnZ9JzQT5k5CwG5jRG4d4LJHJYEfJW4rhBSV6hjkg1767Cj6AQLrCApg6ooLQrBBRr7o4Hj4ovI3bvJhCcCoE0F64y6xCNgb6yJzSH61iMgBKcESG8EA5gr3ZCErD4H55H5cFPKSEziBzkGxhBQKGfTSHEBMSFC0GiHCShxBaYH6CB46o8H-YgqoqCHVZmED7mGD7cIH4OCWy1D6D8wEKUZkpZCBEL7yT-rvTcY8AbgQiQi+Hla1BwjcA+GMyJEKp2hhF+pkT+LSwHLciMAm61zhYNx3Z4H0GHSXbnYgKWGxLvACC7KMiYHXZnJkzuGy4MoIpEG2G-IBKlBL6xhrDGrWwYwFE8z8AJbfzeZaGOEsG-Ju5x6GBjFFGTFly0Lcq2H2FR6ZqKHOHzFp4WHW7p51YhYJyrFw5bR9HAh0z9yZaxT2bdy54-YLypyHwfx3G2qXFXhMY7jpbnH3F2x3QeyB7NCRoBReExIfYvZfb3ohagBkaMhSou6IxMSNjdh6hNHLETEfHTFkZARiFwkJGmKKy1CPrXH4qOZEkKwai3jch6j4kdEuCcFkZ74rCe4jE+6Vh+7J60mdA4FUkkmhBAHX6Qkg4UwtGFYv6UbcoaG1h2FoScGGLhJY6SyskKnVYim-RBZ+ySl+JuZCyWw2bcy-w6k2wPEuYricGmm6GjzY5uZ76qHHGBxoHmBpavEXwlFJYsq4FQSGkPEmH6B-E4mNyAndwOlwFBl+axR2aqm76WluFnCXIyy371FnHBkwm+nlZGkLi-y3FRnlTmmbaWlwF5mek-y2mxn2nxkqZ4yCb6LCbyCiZtQSadTdQ6CyZlpMAf6wKUYs7iTsicYumiS3AS7m4h6SBh7cAsk+kfqCo7hBJG4m7e5syipbHjlzZTnrZAHprZy5CLmm6S7BG1qwYp5WR7nG4HkkLIaxokKJJDyh40Lo6UYtLlIyDcA5I7lNS3ku4yDPmlKtJvmgDvpmwPK3nKbckKK-lCxBQvlZKAXtJDmgAynim5n0Be6tyznNJCqynbJ1HoUxoZ4oWjx6HQVqaMoGqBkMQaJEVH7XkGI0W1iF7oWUVH6UZPx6GamcSTJfCmJTSckQWFb6lv6hw3hCEgW-QSFyDOZCWYUpqVoJniVcWOA8WkaCJSUkxAGRCFCyWBhYTqVcBk7fSNiUBQxdG4jgVJ7GyMhgkdnDl3D6VGChk4FE6UYIxOX0RH7QqKUeT6XZnh6UJ1gRDaVxgOqTz6UEVNQBUmH+VMzPDBXHE3jhWIXsne4WX+6SnuVVh8lTnrDzIyUhUJgcBTQmWOXNwrL9lFViAlWnjhHHZYQTYBWlX2zOV8k74sC5WclPGrDAjWxVWqBNV3QrIAA8PVxV-VNVXVRQqWpA5kEIAAKrdEhUIL4FrmILwGck2DDtQLUM0OCKAAANT+KLGUD9piBCgbZOXhCHWioFwHVHVR5HQnTnUsUTDl4tAzVU7ggLX4BNTECOSrXrUgqbUmo7W3WHVbFFCPVTTPUPErLXVWR3UQ2FBQ1nUyCCITWcUeR5TZkBkPGaVQTJlRYgy3TYj5XTAyxLEPSw0eX5rOjorvQDX0lI1-rKbE1EDylx4Q7Jz4C8ViD8WWWCUanM3NAPFYw-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-O7CcHo7tvxfWabqns0RVqKf6kMj7fXftPJf2uY-zfzcInZvZblv8vzM7fsR4-qd9hpvJb5vcv1vtfES9fufjvgGeli-9sXrg-Pf2u4dFh+BPvZ-ohMF7vN16frCAsDfwhJ90YhoHBAPpHTyIxIO8JASPhj17Sr5c+vnMWJr2Hrm0G0W9WnK3haCzdzAYA3Bs6m4T5dnCVaUipj2gGEA0uwveAbVkQHwJLaLeenJjgwx4UQUnObhBaGLDlRKA+AHlPMgGAVBBg+AyAYGEwGR9suzA6qJ+S4FlYtIsUF3LwIM5ixcBt2B3ohW5QsA20gPdLB5XPAECEwWENQVlVYqfllBIgRuuln0AGDuIU0NipPFMEnQIqVgvir-FsEwxNB-A92A4JsEqC+KubByjoPCpOCWOX4SihRyXCRVYqn5PtgELeJBDA43AHwXwJcD1URyPKdwdNB0F6FohAVTGoTFTIqxD4aOJAfpW4AOAd6wMReAwHUAiAOApABaNUkIDI5c+tRfAhWgT5O0KQcJBwYiSSEMBPBHtSgcEM-rq1S6LgNof2R5ZbFSghQpcsUNTilCSeFQ8-GkNipt1YkNQkwR0PsFJC8+5EEQvgSIH6E-QQULCLkGWFwCz+3AQ4YIlEpn9w65hR2gEkAGEB1abEAzmcJV6IUjol6ariQG9wVAU4vgfwoYDZDfC2MOsQwHeliFUZy6OSXzoCN+HAwQRTwfnrER+Q5JjeBgPjidXeHDsvhkYIEQx3eFERkRU7OPNCOBGkgIq1QahPdDVzEiMYAI7ETCKGigiDOIRIwJCIRzUiGR8I-boiK7oEi0ITwQ5uSLICUiMsdI-wuyLhGE9nQ-I9pm8OJgIQWRfqdtpxFlEKB1cKcWaOX0bzUhKMMgdUV7gvTEw1O7w0lprgmCfldRVAfUSqKNHEwvO5ddEbaN84DFAuReAtv0CpGijBgASH5A6MEgv1pRITC0Sp2tgGir0Ko+USqMVEgCtSsCL3MDCFCQFQQhWHQdAghi9DAq5IRsEMPhIdCuhzmbwekK3Shwhh36dULUF85hCUxVAeYZ-QRHBikgDAGxvxAcEBlXB3AVMTWMYhKiPIvEahIwCbH9VeI7Y6semJ1Gu1suMgJMLUD2og9JxewacdEW6SdAl0aY1MeEF876VLkw9F4phGXT3UkOfbToaNEpBJiiUQ4riCOPCp-dUgWEbtKF1RjXcDw+gNcZv3rH9jQo-VG8N2hRGKgbwa4n8ehEtFkB3xfEfqhugWyEi0IYsf8ZBODrpC-eBcOcRwF5avCToHANgY3F9G+NXKsRSpgGMiKZAMhLgNQCYC8BBpGAwg9eJROcDcAg+54oPjEMzFwkBxZSGkKXkZC9jgJjYj8RXzICK4Rx1E+gNwFglXgGJhYgzixJLzpR1ISEhcQjmdE-Zea6E7KNaMkl25S8REsoMYE6EyhYEK4yDijX65ToS06E0AHNQAASOrBgAAEFwA4AHVgACU5qkAAAPImtkAQIGyr+xkCSA1A4glgdMU4lJBOxlGdDIQ10kri+xJA89LOlgQ99ae2kBqJFOAkITz0nQBcIJPeCfk0pmQfyYlOmKUYLJVk2yfZKcmuT3J2UyQDpPbTxSJBSUoKUgzBHnprRsU+dOWEXQNSd84ITKZ5BVGMCHkbaPKW+2SnBTRxvgwzu8KDFwtA8qY9ankwhokT2U5EoacglmmWQYib4kKcbx8mgSVpgUoCaNLDp4xTJJGYLA4GoSMgAADCcF-Y1BHIoGeLGrzj6dDBgsMMDGdNdGMhTpuQc6doEOp4gixwib6UuWoSfluUd08dBENJg6DTpT04eNQEggGcsIOXRFrEVhk69YoCMt7uEJIiaTAggRSGeKFSDVBsg2GWEui3Rmx94ZZof9H9QemcCMZ5UBGclAzrcJ0R8yVjGwFpTSD2CZFRoXUKuLgy6ZxgpAZTNhyYzUwASAbDsKuJYR2ZDATmbSmOHEDJRh7QIBzM6C0oLhKsm1v73uGR0BhA5YgBrK5mkzCMiFCoJ8NCA8x4+PQgsbFSFjt51ZCszWZWjXp-QKi5aVOG7Pdla0DAS4+DkRwMoPgS60wIKCdVrD9Ddcf-UOc7VaHtDDBHgxgDfRClRyrCwiFgFjBGFR5Sgk4qMJLWaDyzFZKwxOXzXsEbCI60EQ4rcLIqr51xBEUoEXNdlwDpco6JuabNErn9h6ec4wA8INkJVnZxcqtMlVjEckExxuJBH8BxnIRdBIU8mVSGzEti8xAse2X0PJADg2hyXflrUUoJ0Bzq3E0CSXLMFlzR4bY-cXK1nmjjW2v-SiA0O9mngrcnNPAJCBfkrgsxSQhOcfJ0nq5Gqp4VORQWLEfyt54EccFcQcD7yBx08pcCJJbFrDS5buaCIgrzDpCpZaAuMVAoMp-yr5N8-UAOEtkjFUg6cLBavJDlBVn5r83mcInBCySUJOC--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-hVoE7ujx1ri1dSbtYJzrV-6XcoBq4S6HoLb7d9HeffRJEP1vJ4Qsc4KFox+EQgH95+zKbWu4Gs5CD-kL-SHrYg3CVgp+wg+frR6LQ2JRLeg95CD1e7X9Z2rVcqpm1wSL6wTSWu-ol76rtseOhOATpF6k6DAtOqCu0xUySictKPSQwLqmjKTdtl6AIu9B7jgl2FPlNDUIEMCOQNog+-gJ6vRZT6gQM+xnNX3n0R9F9uO2-QIGurr60859EmGSUUOo8dkgu9ZXtsjRp56amKfSrVSmp+cfqA4k6BeOYCyRoIK+RHgPqyE0BFMrQPviMGCM75AylOw5vIdeFsD71f+3NsOqrVQR8CsUztOWvdmro-AjITFe1KyTlr1ajYdjjNTeSlrQxYbPSKSo0PdAae06wlY6vYNrh+AOIXo4ev6OXpVysYbdd2uA2HNmj+MzfIOsjEP8aDA+XjezDyPzJTphRp9WTIn1gtMljIDpehmQTPr159uso5osRWVG4Sa6IELUdxAdTEVjRuEvMdaOnSVRHRgiF0cNE9HKVYGcY8TEGM8Bhjfx-FQCb6kv0sIJGWY+0zeM2wPjiqlYyHuAE4A+9qQaVaD0on6AIloAAADpYBK1Oq--ermCBXpI0-jRJtLjQh+794I+nmlgPRNrasTxqnExEoJNEmrZJJmQGSaXRPjeAJ4HfD0CwgCnQAAAL2jb4mBQKK7k7ydp09AJT1JvSLSfBAoGGTNUVCPjH0PvAjDm4LE8SbYGkmfurTFIsxgp4sAKeygCnry0mCg80weAJk5iZlOGmeTxp6ZqafnLkBzTlp604zxVP+QgAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3gWO1Ii56P1yNyxt3vjwRKYAPzObgYDzgw+DMGwUBwIgyDoHwPB1MHKjQSZAKysordxVIsgKEow6RrEzLJWE8-WMSz+hAAXAs0nlB-NivzkBkY6hBFhviRMOW04ksqSV-syQY58TD-2sN-YK-o+xrnAu7J+KVrCv2PllXsgZMHZgghHZWoBEHINAKg0e4YzygRIRuGEf9cGgHwdaKCS5GHPmwbZKhbDaGDWIuaRGODcEcIimaGUYj+HEAvtQoRIUwqNAiv1KK3lxEpUkYQ9KKjaBqI8jlaKFCBG4KEcpMOuVWESNAJrSQ849CWO4qCPiDdyj9GoWwlIljLYeK8d40IZiUpCPOstGx2jKGcLCZdGJv0TJCmTvEBB8ikGCIWNrCJhQdEWyAdLM+qTFELHsn9XGsj4jUJySUhJFoCkKPSU7RYLtKBuxYVo7JkomlyHUgQzQfE9DzisSY0wKSL6eMCT4tqklIECUTkkkZlDUlpPMZQxgzA1jbQAKrEGOrnAA7rCOEjJVB4VAAAWjOVEk+fEl53n9upYQgw5nI0oPgUAegIiEUoCwFRygxiOOEIaPmqdOku2pl8n5VA-kOM+gMkgTye4QhsNUShchZDiDeR8qQfoWCLGoCQLoAKSBArrDYXsXdmbkGOFcjQp9Bl+MBeMiZ3j3J8WIF0c+qxaBmQCcymwgyXG8X4nC4gJgmV8sCXM8VEq2GDM5cwGRfRAUehSOXKQRlIF6CIpS5Z3jX4augmMNMbK+jarkKYXl38CUdRiJ0KoyLUXotJdYbw6yRUpm2bs6gByQ7ByposGQ5zLn3PzMiz0d5KrTMNQJfqdBRmTzlrnfOhdY26pSK-QWyDv7LFWOPe+-T67d30Km+N0rAmRsUDMrVzFLRzNni3eNDsj6cOUZlIZmi5EX2BWq8YjAYK9NPn1DyxVOgeMWRfNNHSB39KHQNZq8Dx2TpSN-adzxZ2MEGuasdiDh7NoinEq68bgWvPeRECmVMaZPXCejBNILrUw2IHazEKL5DopPVi7oVJsalJ5iLElASvyroGbDb9NTynkGuv0Hdz7HWBudWS9BBAQORGMFBG01KAlAcLaBhGPtIPQZSu+wyjo0MwWwyhy0kD-2BK-OR4kpGZD2sKC+tFcGAOaQIZen6eheWqi5j+vG6MoOpKYykWooRahoWDhWyQJBpGjukqXUlPbBZ6EU0uvBoBM0hNADmnwgIABUcmRGPo6AZo2SkpmKGMwKUz2l1NGgAJChHDWTOgbtiDIkIP2Uhm55mTyI9fWm16ULAtCOSt61K4nwzKRB8oomwg9vPdTA96MAkZsrgE7+ztZSlQ815nzzDGgCTowJ8Dosy0SvczkArTCrz+j0PYg9vGZUzBrTFxJSMs4wdfWxlKPaiGll8205U6XLP-EG4V+rnn4TVndFlhYIELxYJGxU5lgCeRLbAsN18s33wdl49-QWCXJOH0UpxzJNFEHAvJZbal5s-HMgS+SvJ6gGBHFANVzz+KptkIEpbJFCH0ygBs9KTo73xuWkkqDuko7XtosBzbZwQHLaVbYay3LSh5FcsVU4qWb3Bgw9M3GxdTbzucOqbhupk8hKqFOu1WMDGeN8qA25Ix4d-GtZSIgsnFJOPSN-aY1JwLpHgKypqgXFoxec8KEByXcpNULsQWjxdCWvyQN3eTiKW26tkOpyLkzYumc694ZWPbmQZfc-zc8E3K3XyK+VKW-+0GUXWFmjS306DiGm+GUe0lovzfi8NXoSbuvNzS-gc763IevdDaK5BB3yTF0q5dzgPAq8mCsHYNvLge80CTTOxSZofbnh4Rp5pU5JwPtRBHJrik9jHGCvsPxQYqPF3drujyNKuL8XsphVDI2LXdM5iFQ3Vv1A1LxuzhhT3PeCX9+9AM8vFkLhe0TEqlMOK8Xz-nEHRSAqR-N-cfgZf+s2oTXwIMOq0-oahwZaf1qcML+DG6jf313osfKBx2ZE-Hexrn46gGUGGmjrwlHsQNRtBj0ZAtAf2cHuggJHAs2NRgLf2I0Z01Soz-0ZlXwSk20NRTAQIOjf0IM92gMRkwOU00jkio15wlAuiARpF0E-2-1qWu0oKJjdFTzvHI3XlBHHmF3YN8gOC4LJnoOoFkAtgeR4hknb3MBczawbD0wGWkKn0hHJRGDGGS2YIVSFGpWO0LzALp3+WkLEmrBJxmVgOH1zUD3MOjU7l4KeDFxK2kKmHkJBR1AcJkHsOkIY2cNBFcOBgUJxBdE8NoLEAxz73lW5VqRsMGGtBJw8CpE0IEMxC-CyF0BGFMMVFLiryUllB0EyPiI01CFfiUIbxMNiPvDezFVAESIkOCR03SIKOGCyMyFLgAB48iMiWiijeV8E1lqB9MAAVDIOxHIOESUAudwAGT7UBZpTob+QEUAAAalACHzCEMGiF0FeStmgVLlWIsyWNWPWNCE2JiB0B2L0CKOKLCBXQGOGNGPwBkD2UmJ0GmMZAYDoDmJ6AWKBBWLWK5zfiiHOMuJsLMAOJTH+JOJsDOO2PwHUmuNAI4mAVASN0V2gT90xDvHPm6AyFEjYP-jvC+1aLRTiOqLC0KBU0rhJOumhPwXkVxOLmZ0BJdTIAYPOO0OiMRh52hO-kD2OFOB1DBOhM0x1F6JZL5I8x0j2JqJdERP-nE0KHfXPgFOr3OC0KiMVVvW53uJJI9WIHSAJS01BFDWY1gwpJSHJU8OpR4JMII28S-GJM8KcOUP8JVwlWdKrVCMRzCEVOsD9LlhxKASZNT3dwD2gSZ0DzJLkExNCGxIZODPxJSJSiJKlMqKKItMSyvikmpOFIlXpOUEZNEhFLEMYJ0E5Nxx5IlT5OgVVK0jzJlVflkEtDFIJyqLkBuJWWJJnBlMGDlOqJ9IkwBKVMxRVNyI0KUFxQvU1KFG1LCFdUGL1KBG2UNPZWNKeCDUlBMyckHIdV60zPC0Q2tI+1tL4PtLYUdKlOdJsNdKeDFRFLjJ8K9JcN3P9OfVSI4wTLxP4Ivj0nT0+jXg3mz04F3l4AwAMJnwhV+X+VhUBX7hXwVnX3dSBCgqhSIPjkUlQsoGhW+Rdli3djgoZltm0mVT0nJSwuhQzw+0Sg-nug1AsxsA1AmXvMKHuj1AYusD1GYrR3uj0w4qsMYG4toq70PH4sPCEtYq7wrlKAs2krkDYRYsmX+EBFCjoBdlUDhAs1UvUomNwUUrCHugXMYA4qMsCX0tCHumEhGEGg8DoCNisuGBsoYBSnMpsHumWP4psD0DwkGDhDMCOAAD5QBTlVjdLXLrB7ozlPLrBvLfL-KgrTlLkwqeKu9zNBgUhYrQA-LjgErQADMsrrBwrIc9BARgBor3kfKsr4rgrQAwBkrhLlKABScqzK7KwKmqxqgq0AIq+6KvTy1q6qyvU4PylK5SgAQhOH6sqratyomo+xGoar6EBHaJaumsGtAE6OsAWskuUvaKOGioGpypqr2q2p6q7wCtWriqOtOSCtOtGqWoCv2vStCEOvapuo+yqvupKrGvKpqtCHausDGpsDLw-ghHIuiEhWwpgqhicOOH-mElEg1EGAouhu9BJnBu+WgoX0rGoA8AACsQwIM4aUoEaRUjreKIboKLM5JlUiqwgUbsbisIQsAMbIboVJsIdEp7p71bUOgLMebTM6aWSLKu9IBiAH0wpNL0qxaJaqYhbhaIqu8HLJBYBIAOLlbVb5aFbLKtBHKABRfi5WvWrW4W+6AAOVUDNvKotrNs7OFrBsQwZtDxsOJsKFJreXao8JqKdtjwgwduBx9vTGIRmVdpSHdqOppsNGRsprQtIJLD9qqDDK6XBRjqhsZu8keVePX0sPuUkBiFk3ZW8G6Q5LxtUDUHc2iEpmZOZQZtwqyCFAIuJXdMKETmzoqDCFc2DmbNRJnNqUsIiI5Wxx0NqRaxy3ZT0AZsGUqIfN01TvZt9qcJNpsDHoOEntDlxoJooBJxnsDvjt8KXs4vVKnOpl7sZBmnUPOB0CAUSKylPqpQ+27rATvr0GZv-KhkAqzy3hAu4EwAgucGNQjAoEkCekMFfGEkYBli20sIrk8G8FbBjhbCgcNH-lfjkn7O4SyE7H+MBEkCOM+2BLhPUmoPoUfE7H-m-mIYwa8M7hxWEhphcT4lKgIaThztIFIHcGZlPgMCeTYeqoYFWL0FUDYbrMBCWNflEZoSBEhNWKEdIAPpSlEeNi2JYbfyYnICpl8GUYRSTm0ZHXUeyvMEcw-IbFhJ0GwZKv+NodwlkAYdHVJtbrUapm0dFmwZMEBFUdmAvTcRYEEYLmgaZhZkTmKPEcFkBHIYWESiCa2E2GoQ-VUxdCCbMCCC0gSb8bMDmqBEXmCfeR1CidyMBEXi8VfgAaEctBAcrHAZliCa8W-g-X9haXdiie2F5QeHRDlXZ2sUSbtvEYsdWMcepm8fgabDrS6ahImSWLwcD2RFRD4PaaYg50SbGcCQmf+P6fGG8B8bkhGbSaBWWN5XBDCe8WzU8fUkBFEu0ejvsC8Y2eQZ00+RWB8GqciX6ZKr4sGESlyb8b7LdEScuf0fWcYBYGKNCWYd8cmBQaBAAHI8HE5sHoXwnTHLigmPGrnqYnpGB1J0WDHjHsDVMnhYGfAdQsX5HvF7ocg+aUxBjDjc5hQ-ZqRvBaW7JmYDpbmOkXmiWRwMXZS3RiW-nrnAXgXZ7UWhmDheWhgeXOWRqhX-niWkTnBS7y7SBK7KNDViopYcp61-HBoukGmWEJ4IWyWdXWlrxBg5mNFcgJ5m6whSaFWqQlXKBKYGM1X9pqRnHNXWXl0f4zyCJsn7pF5XoIzYFvXFgPXbjKECI5XQAsX5Rjk8JnWNWJ5j1MVGlmljXvIJ5b0rTQ5+SPt-4pmg22nQ51FjF02fXdzwb1X6Wug5lqVSbo34RY343XXXiY0y2Eskd38zdaz8m+KIWlCdRCJK3ZBq3EVZIEGyhB2XXh3k1RZBWp7u3TgznehDm2XmAp2Ew5lwn53qwRHbWK6HWVWbQV300BKRUP8oyWsbWy67XlWnXJ2co3WM3BWlDt3FRo6h2N3EUTtzTAspJg3qMsz-9lL-XPtA2Zn0QM3v39z4NAMI33ypNFJ-VnhE3BD2QpAlD9XIkdRMPCg7i3V+p9SvUfVi3w4hg4QA098GoyC4sUOcW0OlgHnNWIWXQcPPWjL61CP9lkcOnepaATU7KwjnB+QGXXxyA84vBBoOhgxhCfWsD5gkPNWRHhPGBhQ399hq36WVPXw-FaOgjiLkCPj3W-ywBi5vBw8WhQJkbvNJQ1z2hyBl5M82BSBhgRI3FQBJp3lZBFJJp8988kEwzqQpY9BTo4RBg7A-RGAOglM6OBZqTwvBiovumQdC6H1OganKFFp1BguZBQutIdR4vIvZ2+itICvEvLUty6AguQvvmWxSvRZI37ELOsgX6btEN4cLhQJqV7oDMmuZBzMfSI0UTRIQvJAeBBgRvupMyItCAPBevqV+QqucvRuauyh2veuVURzPOZu5vciBbOg5y9PnA9uOh229zWMDygdDAsQIuOh5vAvSBsvqZ+AVuDBtvSHXyihMVSu6zjuDvKTNJjvTuxNzT4MLyB43RSuPuJMFT3y4zHZ6AGXHvlvQAJvoyRw5zpvZvHw7vKuHuRuxvxWWw1v3ugeMUtusfOvduUvea-u357ALgif8cspeurW2ElDEp8fkbGPUf2z0eSW2EXRifQJusUoWMnUAlyVvuPsFu8elvnvCeiQ3vheofwgvuQwEufvqfBaKTnNChmyGfFeKeshPFdeWSlClCeeqNWfWsZwlfMGPRTfQAxe+s+V9eXRSu0evDSfofRfYf+UyZtKtBnPGs5yhIRHgyQFFhj3AlAEhuWtv42B8mYhZAVPo+JlX5k+GX1i8PFyWBOPvVnBTOyFNzevTS3zDvQBA-yBnOyLEMi-zPsePtGvHwX6qhyU7PqV6-KxeuSqI-QF8xyLrOPsu-ROW-ARM-U-ma7x7EPAYhQpYgttPfLClDF-eeveMKzY5+OSts9BZ-2VzjLCdQ9-5-Jg39j-t-g9z-dBLCXQr-T+N+JQ7+87PNPCriSHLOmB-C5OhP7u3+qHTWXCb+Aen-wYTG81+AAr-qh2cBlEjCFsLfgv3f5gCren-O8pG2T59gzw-SAjigJkIkBVyXQRcJIBc7sosgjASeAVGLg9JZOoPMnh+jHgZsLu1gW7PALMYfYn++dV-tgNCLe8QUd-TXsGFS4dAh8r8PAb3gIHhgiB5LUgRxxwF20w2foRYOpCf6ao7+G3YHvuV-YYcy2jAuWEoQUFEMEIGbQYPoO0hPtSezvHQbB0WDmC-eHbEwRPEjabFsgLAbVgGj7zBgwwcIUdHQAJ4eCNKCYOgJNygE-xcydUCFn4K8FdBAhL9cJv2wQg+D5GLXdqk4MeCuDMcEQ7wVEGcEG8DAdUa3grUKAZCoh3UTuDEDcRZAy6YETwd4N8HyB-BxQrVqpgSHhC6hkQ6QPwBiE6Y4haMPIS1iSFBUyhRdbINCiKF6Aih7Ql+vkO8T9D8GdgVITODqioQ-6sw7IfgDDBGARIyFaLhXzWFaA2UkQOYT4xSEuD3a8KT7EsO4LrD9hxwzRs4MaG5kshjwbJtplw7iBoCjACoSMNaGjoAkQpR4UC1Z4zDdh6jWUAcOcG3D5hwsQ4d1gQ5848IbKLoK8jjq9Bakq-HCL7FkGtdgcfAtgSwOf4OITCq-bgTF1qIsD+BNqUzBC2AFoitAEAu8rEL2HeBPMVlYPsoMv4sCai6Iukev1hEShlgIIpwJIBZEtF+RgwLkZiOCHHlF2+ALUJ0CWIQtAQMowkHKPCbfQsuooyvloDMAQtrSbuO5nQh8D8jtRkSAennUUDFgURiMDUeKNCLhN7muaI0dEwWBKF0R2TfkW4mZFB8WiLoI0VMNwQuhXRfolKO6KZFCivRIrCelqKDEskdQgYmeh6RfLhNFRsovmo4POJZAxOM2f4d5WX6MdKqMwwWIJ1ADOcQwx0QaJ5mU4sJKxjQQYNGw1HRtQiWIq7sKPahfFzU1KEMYKOFF6A6xtIiriJ1oCDB4xEqBsYAJJEtizU99aUSmLT4AItMmWHTGWQzGQQbhE45iDqkjaEAJCc-dyJGNrAkiIgpjCMUaKLF2cwRjwR7gTxC5BDMQEWalHZ0vHjccur+Eke9lODHd2E840oJIzoBoDC6cbEbiiD3GTxyUIXalAOy1Fq5syY8ELmYHEaLxJGIXPSBmNABDEAAEnrUkAABBcAOAD1oAAlIYpAAADyZtZAB9n0Lu4ni1fRytWIaydjiA3IywluLGA7i8Ie4j0dkzPFsSN2mnGEAJAYmCszx6gLKHRPoBv5hJpQYRCn34ktdgh6EzCThLwmESSJZEiSfTx4kacZJxWDiUyMsJnibhbEyQIBJqiCS6W2k2gGcmOG3I64c-aSQOPoC6SnATE7-isNSHAjSavGdEe4ByrrESx0scsfZK07eRvJefYfAKMYmyD8h1E5zkFNkkMSmJM0FCX2lXB+gSAbnD7AAAZE6d4R9HsiqjMtXBAcSsJQAOA05CpaU94dShSlGpe8bnVYjwCgkNgapnudKd4Dfz2I8pXCUATbkQEyEWp9TNNp5lKm5jc0BTCzEoQGlGtw8pUl7kgyLF2BpI3Ux8FIBiBapmWIExDFNNTYzTbuFE54gVNXCDTdprfLEmTCyFjA9k6gGWLp3+4r56BsnMbJ1IOk79sB204qa+BGkLZ7RPgVjrYiUIXTJAV0uQDLGw5ltoxQwOwJdOummCy2cgldHBx94gpAZwMmWDVKLHBg3BUXZEBaznhVF-+Eos6X6ihlAyYZXhTMr+3oEAc2EypTLmUFX7UMdBFfGvIxgCQWCaBKUW7PdjxEcC7STEngaqk0geByRggkUq-BlGsYRS38FGTDLZGQEPAag3BLUEczsz2MK+DDsaL5SvwZZIMiMYzOSY6yZYLHUNoEm-gSzZANgpGR20NmatI2popEXimIigQQBj4aMi5NJTMD9+ugbmV7PLK8y+CRIscakExR8CMmv3TMl+BIA7EwxNE3fniJUEcihxBQ0INaH5nDl-SP7ZNgaLf4dkAigJPAAZkLn-xPZJ-H2Sf3xGv9U5sg0nl+FDnviteaXGPsl2jndjF+w46wHLJgiqCTejmXXraNNnhsERLsj-lXOJFDkNBmKTGblikDeQq5gc-wq4QLlFz+smkZMcqNTE9ZzuNA2DkPNX6jyg5YaXkWICjnwkY5wfRYAT0WDy9Gxko6QiIyVFZA+aCoh+SqJ0xqiJ2l87qDqOkJ2js5F8zWSe3tmKBHZNIZ2RfORrXyXCv8rhBPUm5Uj4RmOB2eIVAXNcr5yNAno2NqpgBC5BmaBebzqhOifpsC7JifOpjdifRvQ4Wj6O6gQybApCs+S0QHaULk5KUAdjQvbm4JvSSYl+RvKPk+gapvgMDPuIr7TwkK3MC0AQWZaUdeObJLcVGHRmuS5I6MzuC1L8QKLghclbSO7w2kmy5xZLOQFdLhBfAS84IcJmgwh46KixudXCAIpqm1jJWDHCKfYu8DUwb5t4xDKGGyCeYap1U2UKCGWmgRVpuQdGc9kQz0LJxGGCZPQu7G9inF7ctMKGDkXeRPFNWdGbQrCCjj-CTUnEOEvXHtj8mPC2cZpheFsdrcwDSVutNXB+IUl3ijaX6KXH2AVx2Y3JW2IhiegUJCkyQPhM2QAAZPWuRK-FyAcpdcewLFJqkCTGRzkwmRXxYnP9gw7EwSRC24n-iEw4ypyaKnCaSSsoayzuFssOnMQ5JJIzpd0r6XgB1JloTSfsomURTLCxwtIePV4wGTsxRkkyesv54KMapVk-4eCHyFPLDhJVEDoCE+XWSlhSdMFFcvWXuzXx-whxOsM8nMofF7VdYtYv2WVKZCCUqKbxhimOU1lGK70mmNxSrgsWPYhxXip8LHDblMKjyZsMJJ3ykVgSO5SvUwTVCDgQ+B9FpIckCRYlHopiX6JmG501l3KpkYlJVzXl-hRY1dOUpcUkqXF3I88UCybFUp5owge8fYF1DkdngYrQEJKqxZl85YyqkgCLN5oQsaQhKsYMSqxZyqKV4TA1bkAM5xYxWYq6EY4LE52A4pn04af+MEZ8TGgAWLOXMvcgt8xJ1MsIKBJy7UoXlS3ICcGtJ7kp2GayKXGJPlWh0ZUfy8EdVyBBiSvlhwvVaEEWDeZHu5khydmucGD5AkShMSYMBmHxrFptaH1U0uhE+lVZ0PWuF3VdVjAWp+dNiWis2kB1JlzgD7Ako0DWIQlmIX9mxJb6CSMeiGMCR9kjXUwgJgk2NR4scC1r9lyao4CKTTUXiM1QK5liWseC5qbA+avoLuuBXfLWek05llWuqo1qpcLUilU2pB7wdlh6nddYMXdXeRg1rkwyMy29UWTRU6cl+JKCk6org14TN9WJP-UOTO4kG+tbkG-WkpDAgxMYEmq7VeqY17i4HJkA5XBT6A1KTpUpIIlETSJZyzEIRtwnEbVJAyitfBpvVHUcNn6+gD6S-CAhqAx0dxg-zEBvrbFG04FMhrdWdrPV8yntaEuw1yAug4ygjRhK6W9L+lCWY5XJpo2Mc7F7yaqoxvGUsbV57GzjXwvJjH1SCeNWFKmh-UBMygqaN-ORjTBGaRA9abYe4UMEEQa47uLGIZuhCtsW4rkljk5tKFSAtCqlGzYvhM0aKzNdm+wshgC3QgwtiixzS3GILtZItIgDzfZutmcEfNb+R9DoBMhdBiVwWkkWDLi2d1FI1m6gGtOs3uarV4q0zZOUpjUxytUMKAoFr9rfz-Fxw8JiVrWmub6tW9Rre5veU6qKlVm2gE1t61Jb7yjvFkk6ruEzQT1JVclocQG0uKkCw20raKmGXBwAtq2sYRICa0k4ptTw6rf5p22wpEtW9Z4QuNeGDCPhwwqofUOrosoylxK8jKdr6AvbIMOA+VeNoyrVVNtnWhLcdqS3ba6Au2r7Vzn21Asuws2tjcZRTCLaMWWlHbatqn5kxMtp8KVB9opWuS7l1K4ssymPIBUsAE21IKFrh3qRUdjDKVRizBaQYOFGxdMY0qzH-LvSSCInXOIaWZj5Vt5LwoTucxHZK4JvFIODsh0FrgQ1ARltqse2SsLM5O9fu7ncghhvMyHagSSKAzYCJyV9XGmoiHpclTAkbPdva0dYS4e4lW6EQTEdJUq4VNK7xPjq8Ty72G-SdAYGEwHPAHynzFhtyPSVXFTW8VeMex2UBJyWF1gQEJ6i47hT8Zm5I4jzom2Ah9dt7SBOCF0XAb2dDa8Ef3PSSCwrWQu0UFDtj0HsGMC2yXUtsGC57DdhqZmuSmEhxttKng6lAAE4qgd4avRpU50pbO2EoJvSlhhVhQ4GhgQYIBpoG-smhJITMhYPfQDrTgmU2npXwkA6U9AkLSFimDQBL6j1Gc6DgEg70RjDAislKB3vlV503EEIlwchBqLOBLk1+GHlbOn1qVPBe+7vWsEGCV61wM+zwVYoMUaVjFMEaUChpN13DXJ4O7PSLvUCGKP9L0IEKTosxAH39vadHutswprscolO9SDEBPVxFvA6QGkHLUVVRtqU9bI5C0Djb3tqQkYhuM8GQPWcDiFQBPQlnfR-JGA6ByWqAAyY7RlRjIcEJmQ32AgLklyQgwwCxZvCT11gLgyKCA2hAN9azC1UaCd4g8Ay76JNWJwtioapOo6eaCGtCA8bCpH6qDXBoA0WwJ8mLbfar3eS0H6DVMRg4uxpDpFhQU+jg1wYuT9i8NIG6TkGlsPCH2ZAZZtYUOf0aUSqthuw3wcnEMBfDFyFfVfp0qc6Akdy+FXyht2AlxDFS4cY7sZDO6exHuow97qOoTo-RpOlI59np0c6bhhYkXofOWHkYcgdAPZHAzIPCLLuSqnAw4obb4Gm2Eykgx8mIACGKDVBrDVd08IQ5sj80V6HkZT0XjCj2S+jqph6PZNRdYxGiecU1EtAwmjmY5qi0QOtH46yR-o1pAmNVr-dBAaqhOjQFBL5lk6rUdVqPEQTh9yTCIGPHOOgqeDKxyFpWL0CB6AAOlgAEVMr5D+AQYj4wz1ZU4qQKPlAvqBDGHxC6FO48SoeN8SnjLC14+8aaSY5Pj3xyMbmkIBxEaiuXJQqidAAAAvKOtYFeNhAPjecL44Cy91-GcTWDVrECcBAgnZA+YXXjcGQxlGKjPgB4-Cb7yInST01d5l3lUCHEPAhxUgIcT5qGhIWEIPAOCYqVsmsZ4wYk0ie5PFU+Q-JwU8KYT3UmRQQAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:green"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"?"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:green">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3gWO1Ii56P1yNyxt3vjwRKYAPzObgYDzgw+DMGwUBwIgyDoHwPB1MHKjQSZAKysordxVIsgKEow6RrEzLJWE8-WMSz+hAAXAs0nlB-NivzkBkY6hBFhviRMOW04ksqSV-syQY58TD-2sN-YK-o+xrnAu7J+KVrCv2PllXsgZMHZgghHZWoBEHINAKg0e4YzygRIRuGEf9cGgHwdaKCS5GHPmwbZKhbDaGDWIuaRGODcEcIimaGUYj+HEAvtQoRIUwqNAiv1KK3lxEpUkYQ9KKjaBqI8jlaKFCBG4KEcpMOuVWESNAJrSQ849CWO4qCPiDdyj9GoWwlIljLYeK8d40IZiUpCPOstGx2jKGcLCZdGJv0TJCmTvEBB8ikGCIWNrCJhQdEWyAdLM+qTFELHsn9XGsj4jUJySUhJFoCkKPSU7RYLtKBuxYVo7JkomlyHUgQzQfE9DzisSY0wKSL6eMCT4tqklIECUTkkkZlDUlpPMZQxgzA1jbQAKrEGOrnAA7rCOEjJVB4VAAAWjOVEk+fEl53n9upYQgw5nI0oPgUAegIiEUoCwFRygxiOOEIaPmqdOku2pl8n5VA-kOM+gMkgTye4QhsNUShchZDiDeR8qQfoWCLGoCQLoAKSBArrDYXsXdmbkGOFcjQp9Bl+MBeMiZ3j3J8WIF0c+qxaBmQCcymwgyXG8X4nC4gJgmV8sCXM8VEq2GDM5cwGRfRAUehSOXKQRlIF6CIpS5Z3jX4augmMNMbK+jarkKYXl38CUdRiJ0KoyLUXotJdYbw6yRUpm2bs6gByQ7ByposGQ5zLn3PzMiz0d5KrTMNQJfqdBRmTzlrnfOhdY26pSK-QWyDv7LFWOPe+-T67d30Km+N0rAmRsUDMrVzFLRzNni3eNDsj6cOUZlIZmi5EX2BWq8YjAYK9NPn1DyxVOgeMWRfNNHSB39KHQNZq8Dx2TpSN-adzxZ2MEGuasdiDh7NoinEq68bgWvPeRECmVMaZPXCejBNILrUw2IHazEKL5DopPVi7oVJsalJ5iLElASvyroGbDb9NTynkGuv0Hdz7HWBudWS9BBAQORGMFBG01KAlAcLaBhGPtIPQZSu+wyjo0MwWwyhy0kD-2BK-OR4kpGZD2sKC+tFcGAOaQIZen6eheWqi5j+vG6MoOpKYykWooRahoWDhWyQJBpGjukqXUlPbBZ6EU0uvBoBM0hNADmnwgIABUcmRGPo6AZo2SkpmKGMwKUz2l1NGgAJChHDWTOgbtiDIkIP2Uhm55mTyI9fWm16ULAtCOSt61K4nwzKRB8oomwg9vPdTA96MAkZsrgE7+ztZSlQ815nzzDGgCTowJ8Dosy0SvczkArTCrz+j0PYg9vGZUzBrTFxJSMs4wdfWxlKPaiGll8205U6XLP-EG4V+rnn4TVndFlhYIELxYJGxU5lgCeRLbAsN18s33wdl49-QWCXJOH0UpxzJNFEHAvJZbal5s-HMgS+SvJ6gGBHFANVzz+KptkIEpbJFCH0ygBs9KTo73xuWkkqDuko7XtosBzbZwQHLaVbYay3LSh5FcsVU4qWb3Bgw9M3GxdTbzucOqbhupk8hKqFOu1WMDGeN8qA25Ix4d-GtZSIgsnFJOPSN-aY1JwLpHgKypqgXFoxec8KEByXcpNULsQWjxdCWvyQN3eTiKW26tkOpyLkzYumc694ZWPbmQZfc-zc8E3K3XyK+VKW-+0GUXWFmjS306DiGm+GUe0lovzfi8NXoSbuvNzS-gc763IevdDaK5BB3yTF0q5dzgPAq8mCsHYNvLge80CTTOxSZofbnh4Rp5pU5JwPtRBHJrik9jHGCvsPxQYqPF3drujyNKuL8XsphVDI2LXdM5iFQ3Vv1A1LxuzhhT3PeCX9+9AM8vFkLhe0TEqlMOK8Xz-nEHRSAqR-N-cfgZf+s2oTXwIMOq0-oahwZaf1qcML+DG6jf313osfKBx2ZE-Hexrn46gGUGGmjrwlHsQNRtBj0ZAtAf2cHuggJHAs2NRgLf2I0Z01Soz-0ZlXwSk20NRTAQIOjf0IM92gMRkwOU00jkio15wlAuiARpF0E-2-1qWu0oKJjdFTzvHI3XlBHHmF3YN8gOC4LJnoOoFkAtgeR4hknb3MBczawbD0wGWkKn0hHJRGDGGS2YIVSFGpWO0LzALp3+WkLEmrBJxmVgOH1zUD3MOjU7l4KeDFxK2kKmHkJBR1AcJkHsOkIY2cNBFcOBgUJxBdE8NoLEAxz73lW5VqRsMGGtBJw8CpE0IEMxC-CyF0BGFMMVFLiryUllB0EyPiI01CFfiUIbxMNiPvDezFVAESIkOCR03SIKOGCyMyFLgAB48iMiWiijeV8E1lqB9MAAVDIOxHIOESUAudwAGT7UBZpTob+QEUAAAalACHzCEMGiF0FeStmgVLlWIsyWNWPWNCE2JiB0B2L0CKOKLCBXQGOGNGPwBkD2UmJ0GmMZAYDoDmJ6AWKBBWLWK5zfiiHOMuJsLMAOJTH+JOJsDOO2PwHUmuNAI4mAVASN0V2gT90xDvHPm6AyFEjYP-jvC+1aLRTiOqLC0KBU0rhJOumhPwXkVxOLmZ0BJdTIAYPOO0OiMRh52hO-kD2OFOB1DBOhM0x1F6JZL5I8x0j2JqJdERP-nE0KHfXPgFOr3OC0KiMVVvW53uJJI9WIHSAJS01BFDWY1gwpJSHJU8OpR4JMII28S-GJM8KcOUP8JVwlWdKrVCMRzCEVOsD9LlhxKASZNT3dwD2gSZ0DzJLkExNCGxIZODPxJSJSiJKlMqKKItMSyvikmpOFIlXpOUEZNEhFLEMYJ0E5Nxx5IlT5OgVVK0jzJlVflkEtDFIJyqLkBuJWWJJnBlMGDlOqJ9IkwBKVMxRVNyI0KUFxQvU1KFG1LCFdUGL1KBG2UNPZWNKeCDUlBMyckHIdV60zPC0Q2tI+1tL4PtLYUdKlOdJsNdKeDFRFLjJ8K9JcN3P9OfVSI4wTLxP4Ivj0nT0+jXg3mz04F3l4AwAMJnwhV+X+VhUBX7hXwVnX3dSBCgqhSIPjkUlQsoGhW+Rdli3djgoZltm0mVT0nJSwuhQzw+0Sg-nug1AsxsA1AmXvMKHuj1AYusD1GYrR3uj0w4qsMYG4toq70PH4sPCEtYq7wrlKAs2krkDYRYsmX+EBFCjoBdlUDhAs1UvUomNwUUrCHugXMYA4qMsCX0tCHumEhGEGg8DoCNisuGBsoYBSnMpsHumWP4psD0DwkGDhDMCOAAD5QBTlVjdLXLrB7ozlPLrBvLfL-KgrTlLkwqeKu9zNBgUhYrQA-LjgErQADMsrrBwrIc9BARgBor3kfKsr4rgrQAwBkrhLlKABScqzK7KwKmqxqgq0AIq+6KvTy1q6qyvU4PylK5SgAQhOH6sqratyomo+xGoar6EBHaJaumsGtAE6OsAWskuUvaKOGioGpypqr2q2p6q7wCtWriqOtOSCtOtGqWoCv2vStCEOvapuo+yqvupKrGvKpqtCHausDGpsDLw-ghHIuiEhWwpgqhicOOH-mElEg1EGAouhu9BJnBu+WgoX0rGoA8AACsQwIM4aUoEaRUjreKIboKLM5JlUiqwgUbsbisIQsAMbIboVJsIdEp7p71bUOgLMebTM6aWSLKu9IBiAH0wpNL0qxaJaqYhbhaIqu8HLJBYBIAOLlbVb5aFbLKtBHKABRfi5WvWrW4W+6AAOVUDNvKotrNs7OFrBsQwZtDxsOJsKFJreXao8JqKdtjwgwduBx9vTGIRmVdpSHdqOppsNGRsprQtIJLD9qqDDK6XBRjqhsZu8keVePX0sPuUkBiFk3ZW8G6Q5LxtUDUHc2iEpmZOZQZtwqyCFAIuJXdMKETmzoqDCFc2DmbNRJnNqUsIiI5Wxx0NqRaxy3ZT0AZsGUqIfN01TvZt9qcJNpsDHoOEntDlxoJooBJxnsDvjt8KXs4vVKnOpl7sZBmnUPOB0CAUSKylPqpQ+27rATvr0GZv-KhkAqzy3hAu4EwAgucGNQjAoEkCekMFfGEkYBli20sIrk8G8FbBjhbCgcNH-lfjkn7O4SyE7H+MBEkCOM+2BLhPUmoPoUfE7H-m-mIYwa8M7hxWEhphcT4lKgIaThztIFIHcGZlPgMCeTYeqoYFWL0FUDYbrMBCWNflEZoSBEhNWKEdIAPpSlEeNi2JYbfyYnICpl8GUYRSTm0ZHXUeyvMEcw-IbFhJ0GwZKv+NodwlkAYdHVJtbrUapm0dFmwZMEBFUdmAvTcRYEEYLmgaZhZkTmKPEcFkBHIYWESiCa2E2GoQ-VUxdCCbMCCC0gSb8bMDmqBEXmCfeR1CidyMBEXi8VfgAaEctBAcrHAZliCa8W-g-X9haXdiie2F5QeHRDlXZ2sUSbtvEYsdWMcepm8fgabDrS6ahImSWLwcD2RFRD4PaaYg50SbGcCQmf+P6fGG8B8bkhGbSaBWWN5XBDCe8WzU8fUkBFEu0ejvsC8Y2eQZ00+RWB8GqciX6ZKr4sGESlyb8b7LdEScuf0fWcYBYGKNCWYd8cmBQaBAAHI8HE5sHoXwnTHLigmPGrnqYnpGB1J0WDHjHsDVMnhYGfAdQsX5HvF7ocg+aUxBjDjc5hQ-ZqRvBaW7JmYDpbmOkXmiWRwMXZS3RiW-nrnAXgXZ7UWhmDheWhgeXOWRqhX-niWkTnBS7y7SBK7KNDViopYcp61-HBoukGmWEJ4IWyWdXWlrxBg5mNFcgJ5m6whSaFWqQlXKBKYGM1X9pqRnHNXWXl0f4zyCJsn7pF5XoIzYFvXFgPXbjKECI5XQAsX5Rjk8JnWNWJ5j1MVGlmljXvIJ5b0rTQ5+SPt-4pmg22nQ51FjF02fXdzwb1X6Wug5lqVSbo34RY343XXXiY0y2Eskd38zdaz8m+KIWlCdRCJK3ZBq3EVZIEGyhB2XXh3k1RZBWp7u3TgznehDm2XmAp2Ew5lwn53qwRHbWK6HWVWbQV300BKRUP8oyWsbWy67XlWnXJ2co3WM3BWlDt3FRo6h2N3EUTtzTAspJg3qMsz-9lL-XPtA2Zn0QM3v39z4NAMI33ypNFJ-VnhE3BD2QpAlD9XIkdRMPCg7i3V+p9SvUfVi3w4hg4QA098GoyC4sUOcW0OlgHnNWIWXQcPPWjL61CP9lkcOnepaATU7KwjnB+QGXXxyA84vBBoOhgxhCfWsD5gkPNWRHhPGBhQ399hq36WVPXw-FaOgjiLkCPj3W-ywBi5vBw8WhQJkbvNJQ1z2hyBl5M82BSBhgRI3FQBJp3lZBFJJp8988kEwzqQpY9BTo4RBg7A-RGAOglM6OBZqTwvBiovumQdC6H1OganKFFp1BguZBQutIdR4vIvZ2+itICvEvLUty6AguQvvmWxSvRZI37ELOsgX6btEN4cLhQJqV7oDMmuZBzMfSI0UTRIQvJAeBBgRvupMyItCAPBevqV+QqucvRuauyh2veuVURzPOZu5vciBbOg5y9PnA9uOh229zWMDygdDAsQIuOh5vAvSBsvqZ+AVuDBtvSHXyihMVSu6zjuDvKTNJjvTuxNzT4MLyB43RSuPuJMFT3y4zHZ6AGXHvlvQAJvoyRw5zpvZvHw7vKuHuRuxvxWWw1v3ugeMUtusfOvduUvea-u357ALgif8cspeurW2ElDEp8fkbGPUf2z0eSW2EXRifQJusUoWMnUAlyVvuPsFu8elvnvCeiQ3vheofwgvuQwEufvqfBaKTnNChmyGfFeKeshPFdeWSlClCeeqNWfWsZwlfMGPRTfQAxe+s+V9eXRSu0evDSfofRfYf+UyZtKtBnPGs5yhIRHgyQFFhj3AlAEhuWtv42B8mYhZAVPo+JlX5k+GX1i8PFyWBOPvVnBTOyFNzevTS3zDvQBA-yBnOyLEMi-zPsePtGvHwX6qhyU7PqV6-KxeuSqI-QF8xyLrOPsu-ROW-ARM-U-ma7x7EPAYhQpYgttPfLClDF-eeveMKzY5+OSts9BZ-2VzjLCdQ9-5-Jg39j-t-g9z-dBLCXQr-T+N+JQ7+87PNPCriSHLOmB-C5OhP7u3+qHTWXCb+Aen-wYTG81+AAr-qh2cBlEjCFsLfgv3f5gCren-O8pG2T59gzw-SAjigJkIkBVyXQRcJIBc7sosgjASeAVGLg9JZOoPMnh+jHgZsLu1gW7PALMYfYn++dV-tgNCLe8QUd-TXsGFS4dAh8r8PAb3gIHhgiB5LUgRxxwF20w2foRYOpCf6ao7+G3YHvuV-YYcy2jAuWEoQUFEMEIGbQYPoO0hPtSezvHQbB0WDmC-eHbEwRPEjabFsgLAbVgGj7zBgwwcIUdHQAJ4eCNKCYOgJNygE-xcydUCFn4K8FdBAhL9cJv2wQg+D5GLXdqk4MeCuDMcEQ7wVEGcEG8DAdUa3grUKAZCoh3UTuDEDcRZAy6YETwd4N8HyB-BxQrVqpgSHhC6hkQ6QPwBiE6Y4haMPIS1iSFBUyhRdbINCiKF6Aih7Ql+vkO8T9D8GdgVITODqioQ-6sw7IfgDDBGARIyFaLhXzWFaA2UkQOYT4xSEuD3a8KT7EsO4LrD9hxwzRs4MaG5kshjwbJtplw7iBoCjACoSMNaGjoAkQpR4UC1Z4zDdh6jWUAcOcG3D5hwsQ4d1gQ5848IbKLoK8jjq9Bakq-HCL7FkGtdgcfAtgSwOf4OITCq-bgTF1qIsD+BNqUzBC2AFoitAEAu8rEL2HeBPMVlYPsoMv4sCai6Iukev1hEShlgIIpwJIBZEtF+RgwLkZiOCHHlF2+ALUJ0CWIQtAQMowkHKPCbfQsuooyvloDMAQtrSbuO5nQh8D8jtRkSAennUUDFgURiMDUeKNCLhN7muaI0dEwWBKF0R2TfkW4mZFB8WiLoI0VMNwQuhXRfolKO6KZFCivRIrCelqKDEskdQgYmeh6RfLhNFRsovmo4POJZAxOM2f4d5WX6MdKqMwwWIJ1ADOcQwx0QaJ5mU4sJKxjQQYNGw1HRtQiWIq7sKPahfFzU1KEMYKOFF6A6xtIiriJ1oCDB4xEqBsYAJJEtizU99aUSmLT4AItMmWHTGWQzGQQbhE45iDqkjaEAJCc-dyJGNrAkiIgpjCMUaKLF2cwRjwR7gTxC5BDMQEWalHZ0vHjccur+Eke9lODHd2E840oJIzoB6QMxoAIYgAAk9akgAAILgBwAetAAEpDFIAAAeTNrIAPs+hd3E8Wr6OVqxDWTscQG5GWEtxYwHcXhD3EejsmZ4wiRu004wgBI2EwVmePUBZRMJ9AN-HRNKDCIU+VElrsEKAkgTwJkEmCfBMQnMT6e5EjTuxOKzESmRlhM8TcMImSARuKICSU4BqJ8hKJjQM5McNuR1w5+bEgcfQEUk4SJRr4-4Q4nWGk1eM6I9wDlXWIljpY5YnSVp28gWS8+w+AUQZNCL5C0JzneyRxOwm4SZo-4vtKuD9AkA3OH2AAAyJ07wj6PZFVGZauCA4lYSgAcBpxxTgp7w6lIFKNS943OqxHgGrk0iZTPcIU7wG-nsTRSuEoAm3IgJkKFT6mabTzElNzG5oCmFmJQrVKNbh4kpL3JBkWLsDSQKpj4KQDEC1TMtJ4kvOKXVM6m3dkJzxWKauEmmJTkpCWO8FkLGB7J1AMsXTv9xXz0DZOY2MqbNJ37YD2pqbKaXIKERaCQ2Y2JQqtMkDrS5AMsbDmW2jFDA7Aa0jaaYLLbnTw21g2wXLFun3SZYmUoscGDcFRdkQFrOeFUX-6GS4efqN6XdI+leFMyv7egQBzYTKlMuZQVftQx0EV8a8jGAJBYJoEpRbs92PERwLtK4SeBqqTSB4HJGCCRSr8GUaxhFLfwAZH0tkZAQ8BqDcEtQRzMTPYwr4MOxovlK-A5kPSIxuM5JhLJlgsdQ2gSb+CzNkA2CfeIKWWZq0jamikReKYiKBBAGPhoyuEpsVShxGkj9+TBSmXwSJFjjUgmKPgRk1+6ZkvwJAHYmGPQm788RKgjkUOIKGhBrQ1M4cv6R-bJsDRb-DsgEUBJ4ADMMc-+MwItmsDzZJ-fEa-wDmyDSeX4B2e+K15pcY+yXN2d2MX7DjrAXMmCKoJN6OZdetoxWeGwREGyP+ac4kUOQ0GYpQZuWKQN5DTk2z-CrhaObHP6yaRkxyo1MT1nO40DYOdc1fo3NtlhpeRYgV2fCXdnB9FgBPRYPL0bGSjpCIjJUVkD5oKid5KonTGqInarzuoOo6QnaLDkrzRZJ7bWYoF1k0h9ZK85GuvJcKXyuEE9SblSPhGY4dZ4hR+c1zXnI0CejY2qmABjkGZ355vOqE6PtGGiz5kSBedTG7E+jehwtH0d1Bek2AkFS8logOzQV+yUoA7TBcXNwTekkxB8keXPJ9CZTfAYGfcRX2nhIVuYFoAgsy0o68c2SW4qMMDO-4pMIeo0zuIVL8S8LghclbSO70EW+su86gdaXCC+Al5wQ4TNBgIvt5Fjc6uEWhZlNrGSsGOrknRd4GpgbzbxiGUMNkE8yZSMpsoUEANNAhDTcgwM57IhhwWTiMMEyHBd2N7H6Li5aYUMNwu8hmKaswMrBWEFHH+F8pDYFxeuPbH5NKFs4zTC8LY7W5gGkrEaauD8SBKLFo0v0UuPsArjsxUStsRDE9D-juJkgKCZsgAAyetJCV+LkCRS649gLyZlOomMinAxs4IfhOf7BgiJNEiFmRMLp4QEwLS-SbRPp70S5pzEVvg-zEAsSsoIyywmUoqXVLwAQky0CJMmWtLXJlhY4WkPHq8ZpJ2Y2SfJJqg0SQloQQEJlPUn-DwQ+Qw5YcJKogdLlzLa5YcPBDqLk6my-SR0qMmHCTJWgMycyksXtV1iGiyZWkpkK+TZBHkppY5RGVQrvSaY3FKuCxY9jdFCKnwscJ2XGTgRgKwoMeSCoBJdlK9TBNUIOBD4H0ok3SQJC8UejcJfomYbnRGW0qmRfklXNeX+FFjV0KSwxWisMXcjzxQLE2VG2ED3j7Auocjs8DFaAhuVWLMvnLHmiiqqeAg3mhCxpDIqxgqKrFgKqxXhNFVJAKAvxz5VcsdVnKtAfYp6Ut9HRYi6+KCwHZaikmAQRbOGGPEOrHBYnOwN5NfD51CJgjVSbQACyhzul7kFvoxPRlhByUIXalMcqW4KSw1pPclOwzWRS5GJgq0OjKnuXgjquQIRia8ucHyrQgiwbzI9zpZiTaAeax4IPkCRKFGJgwGYUmr6m1p-VWY6ET6UFnQ9a4XdD1WMEKk+rBlEKsaY7TaXOAPsvijQNYkcWYhf2hEq1cOvDWHlgcUaj7DGupgKSaJCa0xY4EbWTK01RwEUpmovHZrnlWQCtSwALU2Ai1fQI9Vco0ms82pzLOtdVQbVS5CpWKttSD3g7LD1OO6wYl6u8hhq+FhkZln6rLWiog5L8SUFJ3BVhrwm36xiSBt0mdw4NzahDQ5LA2kpDAgxMYKmr7U9LUNMIH0uSkyBUq0NEOMpbxOgmwSEJqyzEORogmUaBJtSmtc2sfVHViNf6+gD6S-CAhqAx0dxjMqE5QatFo04FJhs9W9qGp-aydQuqu7saWl1KJZVUpqUJZFNKyjsYx20XvJqqcm5liTAr48a+N5qycpTGphpg8asKVNIBoCZlBU0b+cjGZuhD1pth7hQwQRBrju4sYpBczSIFbYtw+FLHNzaUKkBaFVK3mxfJZptU5kWYtmgTUhgbhBgJAYWvoBFpJFPSW4xBdrKFuhC+bnNHbALelti2PodAJkLoKipS0V80t7m93GZuoDDSHNPm01dCKs3GaL09WxfG1r9rnybFxw8JjVuGmeaOtAkQbfzxpR9JNVqS+zbQCS1QEktkGLAI7xZIcrW1ekS9SVXJaHFZVkrJAlNtq2ioGlwcULbtrGGJbstjWu4c1pC0naoYx2ugLNueELjXhgwj4cMKqH1Dq6LKZJaivIxZaRAN2u7WdqeEm8Mq1VQ7f1sy1Xat6f27LfeQW18oltdwrsKtp43GUUwm2wxVpUS27ap+ZMIrafClQ4DBV2Kv5bis2G8YCV823BOIrR0Ys1MMgYrYwx5U07nk5y3BLkszGCrby1DJBLDrnFs78lDy20ZXMkaCwgdYQeHU8NFBI6aWG2z7VtsGC46+I2Oo+EMvYZYDqBJIoDNgInJX1caaiIelyVMCRs929rR1hLh7gA6hVrwR0jitMmk7vE5OllCru8zPB0BgYTAc8AfKfMWG3IkJVcVNbxV4x7HZQL7MIXWBAQnqLji5Ohmbkji82oXRcuN23tIE7ypLnzpbXgjq56SEXV4nF1AtJdxawEInoPYMYZd1ycbejsGBF7TdhqZmuSmEhxttKng6lAAE4qgd4RvRpQ525bO2EoDvSlmMlhQ4GhgeXXOV-ZNCSQmZCwe+hHWnAwptPSvhIB0p6BIWkLFMGgHX3nrg50HAJH3ojGGBeZKUPvYKrzpuIIRLg5CDUWcCXJr8MPNWdYCP27LB9awQYPXrXCL7PB6iuQHIoUUwRpQWGi3ZYVz356lqsijSj-pehAhqdUtSUF-rAO9p0e+2zCmuxyiM71IMQS9XEW8DpAaQctYVfNGpT1sjkLQONve2pCRiG4Lu4gJeuwYVB3lCWd9H8kYDYHJaoADJjtGVGMhwQmZXfYCAuSXJSDDALFm8OoNBooqlQcDaEF31rMtVRoJ3iDwDLvpU1YnC2Nhqk6jp5o865ekJrim-r4NyG0DRbAnyYsD9qvd5IweYNUxWDi7GkOkWFDz6eDfBi5P2LQ2QbpOohvgyKDkPQcAy7awoe-o0olVHDThoQ5OIYBBGLkm+hfWpU8Ec6iVxkvFcygd1c5pDqS4ca7sZDu6exPusw-7qOoTo-RUBrI59nTF5L09F4wsSL1nnLDyMOQOgHsjgboHvMg64HPgY+yEHG2Ah8g7IA+RUHrOBxWg7zKtLSEIchR+aK9BKPs6bhFRiJbi2pKeFaSkSYENQDGLoTzimoloGE0czHNUWqBno-HUyNjGtI8xmon7oIDVUJ0aAwZXJNjWnKtRwqpdVpCNEzH6OY8ELmYHEaLxJGIXFbcgepC7HIWlYvQKHoAA6WAWhSSuUP4BBiPjEXVlTipAo+Uq+oEOYfELoUBD-xwEyCbBPAaITecKE4C0jG5pCAcRGorlyULEnQAAALyjrWBQTYQXEw4mhOnHcu1JhEzKiROAgUTsgfMLrxuDIZaj9RnwACaaSY5ITTJ6au8xkWHEPAhxUgIcT5qGhIWEIPAOidRXCmwZ4wPE+Kd8qSnlKqgaU7KflPvKOTIoIAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:green">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgIa1CITBpgRQbGHQCW5eCDKnqOgGNz05BtiyvWAhgEJ8EiRghDXGVhzwFK9YLeDXa6q4MSAeCm8UQ3wYjDcHO8HESQ3ngySyExCJsBjQqAaDuBN1-k3g3wf4McCBCShUXcIWa2KH2BJUcQwNsO13R+D6WyEFquUIPCVDaIxQxQK0NiG9CiQKQwamkPcEoZesxnctDkPSH4BpgqgdsMXRPgz0Vh8gYyMWFMCJATGuQ+miQDuzsNj42wqxp0D2FuDDhiQJoVjhmFmtNCyTEYIMOtTDD6h0Q9uh8AFJLCYWjrKYdFQuG7CZhtw2YSxn2EwsFhfSOek3kQhno5EVkJfuKGhjP9pYASY-kEmP7sC6IRRd-j4TKS8DMR73CYGrzGAEMv+aCZEfIE0BuF4hlwosM5QD6KDv8zAm6CiNpHcDUO+KXUAyLrBMi2ivIzQByOkHu85OdpGpvgHnQS0t6UQFRlKM3gS0mGKXPuEKLL7yA9ABDO0sYGSawDjwvIzUT80pFV1nAMkREciDVEii6RgbDQfqI1HpMY0to0YRqKHY7CDw-I-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-g-jVIfyvSd1hLUQ8P4ojQ8PchLUsrk6PkKFTcJC6csxV8Ktwbas5pYIyuXa1SaZPMmOsvmYqzQHmIbWzSPoYq-VZOTVkXzFhPRCZCVJzWbLmlYor8d7QMmexcl6iw4AkrSCFrNlkamKdTIu7fj0unsKtRRH0nnqFe9aiwDOvcUtrlIYpdtTuPS6wrRAPaxIH2qCD988Qna3lrlL-UsBW89oUablMnUtVp19ySqY8IXVWCS+3IzxOp0qk9Es1CwWtdGvcV5rh1hk2USyAw25SCN4kwyUw3U4lryNNkwyWpzGCirCNtGl4MGhUArrsNOI3NbWsSXe0KgTGijTkikmITkJaEjCdhIeVpBhNMksTfJJmXjrCNsG66vxuw1u4xxJ4XIHvJYL4pSN9XAxWkHY2ZrKp66hiZusnIfwVNSyz2MJruXTLbYNmyZdMrbEc8iVeYyzQqsnJLQNNOQLTfBURyakgYFNIurNHuF9wQte+T3BsCC1CAvoAjUviDIdx95wcUW3CH6zi1jizBbubTTAI1KixdK0WkfCFrw3klwt7uVmH9ny24RYtu-XdKVuy2sxwclWoQGlpnqZaDGRUTwA2BEhNKitoQhLVltga0AKa1AJaSlua16rHheGxcoFqLpjar6ZrH1W4KYZRaRt8S9hHNshwbafooJK1U0r+wbaf8xAArXDhNC28GSi2u4WJiA21UmW+xXbTauMFDbVtE-OLPltW2jCbAx2nmBdtZWGL-NeWz7UXSa3zb5xI8G0dVKGHVCGh3wokPds9UVbAdMW4HSduZWPDTthVFqm9qWmNbEdV9D7XQC+0DyfiP2mEtdo02MA7tDS61QEqMqfbntGUuLB1tOheRUd6qtlbkMxXrCnEPKg3h8CMVw7iWrcUQJ1t4bU7Bd87IFR8C6XpiWV-pRmf4DO0shpdPSm4XSKHmxBNC6OuyCGt9VMwyd7LSnW4AbBi6Vay0YXQ2Be34oaQkwLBIp39ZycTYKAxQl-XJpUg-6uIDVYezdYeso4LOknbDBdIfLOdlZM0DzpqQ27UYCfPelgOYQMlgWa0YNdZhvrmJaRGVQoUR3ECpzuFgQRqKRxai8iiSdld8GpiWIG8h5wKr3Y+xegCtqioQZXRmN6UjznQsyx+iTr10DqTwle49qlEN1fgFAJukAl3p92wFtCH8JUKm2MreDPYAATn-CjRJ9BlWXelp96vabAJlFlVXQNA+BNARG6gRTPJIqAL1CpHOTxCsAZFUpTM4wAvptAosUWDUNAA-oA2WD7e90a-TS0P2Cyr9a+7wRvopBaonJImG6FYA-C74oe8Msvt-sX1OS-9EaTQOPvGCQHwqSKyxQZRsUxRm4K6ibWztCE-b293OGQFYrQP4UGoAu03QQdQO7Z08luzxM+xN0oRiAQGqwgeHKBwhrG262SK6E9ittHwWwVNs+w-GGglAhUIDUCV-CIrj1PEbCIwBYPK1imK7OELUWHRo839J4d8B+GfagBSW1gBgzZx6jJU-wxGwIG-qVbarXQIUO3gfPsHqxm1YnCTpiEY3YwzDaPXTfcCw00bqNc61zE4YV7qwpDMhjqHIdUg3ZFRIwH8AwK-16VvBtVNQ8XpLVkQHDW0mI++H6gWHKo9gxdcsBUNJGPwWhrKAwGyP6GFe1+2XXyo+VcqDIYe1YiYc9URio92wGPbS1CmTrM9BAFqroAmGkHGjJ8VMd0ob03DNCbGBdaIo8Ke5hgdAG8FqmENYIDVHBrg5KuTa8GO2GbRyA4HoMiG9iYh4XheQHg5JOjroO7D0Zl2giBjnm8fOSX0KUkUFJ4a8OOK7FKp1RWwJJrvAOgEsKITSuo5gNOj7HCGFxm6CntaPXV2jKrdZfRJpBMSDWDjMMRqKu3MAx2dBlFip0UDZ7QAAAHSwASKBVu2cTvgB6IRNNdxVdKpJFsh361Mfh5ktR3-C0GmlCJysUiez1omMTR9JvLYZxPQsPxR0QgFYRuh+NzCnJ0AAAC8M6qJ04JiZZO4n-jfjQU0SZ8gkmSMzB8k6Wk14jRRj9ACY8eARNMmRIYptk6tUBZdVJA+xUoPsVID7FmWhEFFqxDwBUntVGpzGVqexPindT5rA0w1CNOz5TTArWU-1CAA')">function use_index(pat) {
    return is_string(head(pat));
}
</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      What is the purpose of the
      
	<span style="color:green"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:green"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:green"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section&nbsp;<REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:green">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPE0GJC4UQ8lIGGMNgZAYYhcPcugxCMSgFEoIS4njQNBvSBQWDIGa5vCUAAB8duMwaPlIappo+LaYj2g7UhYfB8A4IRNvm3b9r9FaMn-Wb5vCvqC1AQbmDECRhAYbcwTOygdj6e4xAWoLBqw8HwgAMiR3p+kGRGR3ZKGAe+rB6vMFbyAUYhHthpbklSAGgZB0FHqsuhieIGrzgJlxDF8Na7oYfBRsZkmyaoxaEkDOZ9CIz7+Qitm-tSC1qDEOgSboMHJaouGqfIQHalpndwas+XFeVnS01Zy5OMNpXiBVobOZuj7ztfIKxZvF2kzJyZTfx82PMt42GFw0nMadim0ZGG8Ja2qWfs4wbjSEGcKmUNhyDK+hBZDkXKehmnQfp0BwXjm2k5TtO6BZ73+vMIvE5MUussYDmuYdp7M4TN27Q7lvPa9mWa4YEvU4bgOGIz5ZnfR8X3cj+bo5lwbq2O8UB7rofUTH2INZznW8-1gvF+oZfB7LiuZYPo-V7L23m43mIJ-D92u49ueffMc+-hX5O1-KwPb+F9vJ4R3dojaOldfqDRTmtYQ5AxoAA9CCBDcM4P+W9qY7zpnvSSxMWDQLgQg4gSD6Cn1fmibBuD1wUBJloUghgUGhxuNiJu9seZ8yZtwJ+IDe4kOBGQmBN1hC+DoVnMOgwgF2k4XjeeqQRJDWYFoY2QiEz-S1rnDBn0rIyI+FQYgxtiFVxcDI4g8DEGGGQcHceocOGSy9mA2OqQ3jcVRD8Ix+DCF0EUctTW2tga73UaAYyRRC70Ecc4ZxxiCGmKIVw-RKhgl4NIAwfBGM1Zt0DKDBggQZD5zxNE36Dj4kMEpB4tEoIMmVHzqSb6fc4kuISZ0VWjsLHCPSZk-OOgbFSKGm0Wsjgg4pKaUorxqi9Z+PBMYdo1tlDM1yZxBKxAukTN6Y9MI6tQ55zGd0yZzNuDgzCFU7h4yelTNkdo42tDg6xAGaLQBwDrH7JiVUGhM4tHyOtg0ygKzUkuDFrsmZHlEHPLkTot55zPqfKuS4Geeyzi2IGqkHRmhcSHK2csoSW90iZFRfc8BqQU4fBOa8lWqLVnCLepiqFoDOnsA8F4P+-9PHbx8WouaVlqXKC8Ho36cyGBstpeYzeay6bgl5eCHZktsWcV5Ty-AAi6X31EbcqOkjuGDQ0IQEE3J178rvqHZR3jdbvINoQdV1BNXOE5ZxNm8SIlmP6QK4RVilUwplqnMQoLGn2oAQ-O0M9PYSo8g5BgrraFEHBZ6hlGKsihr+eYR5+LXX6GjSSr1gxo3+vMACoNpA3WJsIGGnVwibxpphbCwmqRF76BceTUlQz0E7hcVZYoFdS3Z2qBUWB4p9C8WrYM2Rx0ppDEnt28Ie1ZYj03GLYdyqYltqMQwIkvMu1UAWo2bojJJ3LqYlvCt3RwilHBE20AzRujTt+mlPt-QFA4jZN0UkQtGyNSBGla9ZZfCVPJEFR9YFgzjn0qASNR7qSnrsRkjIfTTlvJ7QytBTKRkQZVhosDFqPJvGTrwSJ7jSBgag98m5dosMcBfjEgj8z+GCJIzhsdkap4+vdhRyYK4FJCs6I5cgvgqZYemSuZoT9aLYcpQcygwR5kWmLOVaoDBZ2wP0KJ7SzgFoDkGlJztsnUSTCFq8egVI11Aik-O8si7VPyaYpp94AhlCJECDbIz2UjqXsBAElY567PExxAbNwYn6CeRcwoGq6F+BuYLjZug3nKCBGJqKgJWFgvcCeICAAfCoSzbyg0ebk7ZsLl7HygAoi+ck5wzYxI+MJ0DHBJOMCk9kbD96tMCF4tQlwQJUNngw1VwjTFFOpGU38JdlAGvqagqZ7TfhGR6YXVk+rZA6BASNLVpLpArMzhIxe4mDm9KxGc5l1z3REMcFC+F3zM2GhFUC+CEj+3L2RdjFhEjsXwgAkSxZhbKXls+ey7l6M+WS0y3Q-Myr3ahZbyOidQdIwp0lo4AIAAKgACQAKIMAAILgHAHDgASlDyAAB5AAcsgIEkaTgtqapINQqWtKoloZNpI3A5BM0o798r7bev9cY+ISQTOjE62C1TqgrOVjNHPZ0BcPP00uCF5kcnnn3hxagkFWHCPkeo4x9jvHYv2czik9ztLlOWdTco5tg7+gxsGYm3z-X7mKfOAuxFmxdUSGNWakoKAcBEDIHQN1PEMcPLjRrNo-O1tKxot1akYao1fdnkmqdSWylSjUk+spZoRMBaI1j8CW60lr7MN-kw7mvM0hMzJtwQPUwBdjv7sfBuZM08R8KbVhOn965ar8SXxPY735lcr83raNfTzjsPh-LvtqWUtDoEHtvqqkFGzedX50pRa9+xn3vVvzok-2OCdQJxC5ak2vTqnufLQ+8OM36E7f4S3EB7H6XkyY7IE4JgTvi-+-FSlG5WzLcvDElDyoWQd1818LrYNB364JkZF6Oargr6Khr4LJHJ9I94H617IpLJIHHIvLAoqx-7WDF5X4T7XRch8ox4IF968qX7j6r5jqaJAoKLP4rDz596UHwaGqj5kFQFjpqoapV40HySCDGpsCCIR4dBaD6BWqP6taIzYFB4AFoTpL56By0LBpF7MEMbkFmTBD5w2R2QOTOTUi+AqzkCwJeQ+QCHaLNouq8GCLIjcDBpCSdaJLHQKAn6VjzLv7IgDaGhBTsG4gILUAOE0BOEMAuEOBWHZrQo5jPj-C2G5AKCED4DlABEkLCEOBuENDvgEIZDFTGFCFWqgGuFSGAExBGJaAiBjRj4Hj0AKLgFoRWoUJMzUK0K5GVFXjBp5H5FIgkIlGVhlFWxEquHZYFq9oyK-yILpHX4v70qMCBx14qwz7DFsDzSObNBjgahhgfYaYtALZqGWEFy2T2ROQuAyyUC+AkCGE8Hqq+B+bkTfbcIyGjRyGVrwKGASELTjH-r4BZo5ouJLBjGRpyTNBYSZGkxxozgJqfFYFKEtHOg3EjxngEKjDxohH3F5pgkl4dLcK17H5b7WpP4t5X6A4h5MCcaVoTRCH5K1J2G1CKEonGR0F+4kk1LGJTGYFPHGSmTEmkykkMn1KUlX7AY+594oFwEfJPFCy2EIqHEwEoq-LPHhqqjgTjgBThF-TCjG64rrCAqMGorSnCShwAnCEHj4poHUFgpYEl4KmRh5YNhzZAmyJzTQm1iMgBK6nWmGlL7GmcCmkri2GDGjzOmfR2kPhrHanCK+m2mBwmZhHmmfaxhBSIGbJLKNGZoukYGoruk8krhsRXExJQkOCWwUn8wEKUZkpZD5lfHcE-Fl5YRQg5lT4ahwjcDZmMw1kUk3gll+pkT+LSwHLciMCxG1xfxlyYEinKmHRxlTIeyBmxJmbx5zSPrUijnzJJkfJkzhn9EMpilIrzmooBKlDll+hrDGrWwYzdk8z8CN7fxaZ6lPIEroHvITAQnUTHm9lnkDkCS3ALmbmNGAGJlUEgqanvaKmDYynl717FyXycGEF+hMY7gV5gWxS57dyjE34LypwD6d6wXD7zFXhQVggd7zJD62Z2x3QezgHNCE5fadkxK14kHL64lQSNhkaMhSqgGIxMSNjdh6iMiGCPmnn4Uy5kZHaTlUjVmmKKy1CzkNm5mDDsWhFAW6lkb3krCFGHkdFdEKLSXcDCUKwaiPFKGomUX0EUzXlGkj4l54nCLcrekwn6CVG6mGLn5iGSwKVoQom8nmAL41nGUQxKFCyWxZ7cy-yL42zwVgGKVskyYeUpY56OXgkrgelxjCJhmZm-S164XPngUmW0Xki+XwX+n6CpW8V+Xdz3m6n5XoXZRRVbRPHFVpk6gxDE7okgV9lN4YXClQTZWEULi-wwX9nDzBXiGxVhXdXNXlWjziExWKU1W1SyAO5NTyDO5tRu6dTdQ6De5loEm1j6CwKUYGHiTsicauWiRvnxH6JLqUKSC-7cDyXeVy6Co7hBLRGxHFFsxXZoQ1E-40KXUyo9AemFY4p14PVxEuGFm1qwZggyBWRRExGA0kLIaxrtFvXnU0LCGUYtLlLg2gA5Lq7ZFfXI1mUJio1ZLo3vq-WWrtGB6qUz4yAo2lKtLo3tIHWgAWWGVdX0BFGtwfq3VghnbM0MSiqTls0xrZyWUbWBzA2MoGp5UMQaI80wmw0GIy21hTFs2S0wmUZPyi16XJWOBfCmJTQqXyDdFgimU3WFruw-XE7Wl04CzG0c0OqTzm0yyTI62kYWFnWtWFC20JhYRW1cBKHfSNiUBQzrn63lFvKMhkXE5v5nVGAdU6VyGUYIyx30QwnQok0eQ+2FX1FnXPAe3xUprCHZ1Y1nX+lZ306RC51AU3g+2a2cRKXFHk0G3UFJ1VidA6UsDrDzI2151pLWxiCB0x3NwrK7UcBTT92nilljFYRR2F7wVx2t1gnt3GAdGIVNDAi9392z3hAAA8a9o9qgKtE9CBGxm44IUOt0jNQgvggg2avAZyTYvB1AtQzQ4IoAAA1P4q0cDlNEKIIpvW-QXFZP-Z+YUF-WID-QfcobGKZMfRCGffgCTo5NfWILfSCvfSak-QXEA5-WFidOA3-e-XzS-e-cA7EKA+A+PQJlmRnliIVblfBa1eSI7WPiDLdNiF3dMDLFxQ9LPcnfms6Oiu9APfbIfWhPPsw+iNiCQ4UE7fgLrWICHYbZWlfivVAzoc3FjD8rHSo6uLMJPBQ1I4Blw+4kRFozaHaBQwJYUCxIKMqYHljIHZ3dEeKQ3aHSrFqUUKoZuPQ9sXQDdOUP+kzBcU+JGROUNgID7YyJbdHXFX6J+t2QXUzJnQkyTFgQY7EBnXcdXZYzmF9t3S4IHiw0QEo0Hgze1c3HQx1cnQw20ZReI6w8U+45w-Ezwy3XqO43k1RoI5vY0WI5WIU5I-kTI3IwowolSQRM0PBRo5PN0+tqUPBGLOPcndo6wUYzRv+KY3+BA9k+RB-f2LY2PvY0HU47iC44be07EJ40I3dFZLZH4yIAEyTCcYFSbCuTlgBQEo2BE0CFE4XjE-w6HKsxnbPck3yE5VeBkwxKXSk9szlrk7JXU0U+bdIE1DNU7q1K7h1B7hgKtdnN4b4dQP4YEdNsmtBionWmDUEQXHi44dMurtS34X9tERwMbFXq4SS7ht6lkL0XjIVPYTS8dQWOJXTOmOsnMHzbEHMKuKk9MOshyOKzEByFKxCeshhPKzwBuEqyK0KqDGq6DJqzK0KkWXzUWc6NK0AUKtxIYOqmxnzZa9a1fYqGa0UOsp4-K547GE64UOsjcIHUGiwIYKKj66oH641CsJ67EOsq-Wq7EJtdwL4PdolgYe-Q6+GzEOsp5NGzELG6APGwlqAAYT5Cm8q0KnWdMNm7mw9vm6AJCDmzEKm8CEKsAJmwYLAnGwm1W2AEW1q3dQAKTNvlvtsGE9u1ugD1vrLiTRsDt5s7VSjxvFt3UACEkok7rbObg7oAS7QIc73bXNW9-bq7FbiboAO9MQ27Brd1W9AImbU7lbBhl7p7Y7Qq8W+7bb07oAiWD787XN8WV73ARQN7R7P7n7O7EIC7zbVbhQlbMQC7sQW16YBUc29LBLzh7Rs9a20wDCoOwg3ASHhLDuCHU5uHKH+iPMLAAAViYB8uhw0Jh8iHmyq3ywy3zU-L0fW0UERwK5TmmJFIh4x8h4ycwBgYyHnOsksbUHzWJ6mGC60Q23dZAHQN6JvucX+-J4p4cWxzJxG0KkGwwLAJAPKzp3pxp5p7J1zTp3Dmq+Z8Z5p+sjjuQDjs23ZzjsszJwR1SBx-3GhwCCuLR3m2LFTTh3x-4TXNCryz4fy-3HIdR0UL55WyxxeDwEF-MiF9x2YWcXYeFwy5x8glsa6gapRp4eVgwGqKQHwSdAwGR+QNWFxcdJoNZQRBxz4eqjeay0kdJ4UHl6DAiEUElZxNODQ6cwopRnXcDINzPpUWqoeV2kl9lwRYPdwGkx541ZndZx1weSINN5l-x1avgOR5RzpYtzN5F5C6t7EA42NMcyM5Bjy3Nud2IF8O3dvqUY3WHUCP14QFd0Stx-bvoo7nNei+1O7hgNi8Tm8GFuQKYAwBMh8OVDcKQLSrhWLatOtBOnhlkIj5AzMCImszjxj+EAQwwEQ-Hv2mAzIIIurShSRCozxmj5LUvH8ERnkooDcF0jUVoMkiT3wy8RDxZgoBkP7kYFYcoMoO241O-TJsL1jOCC-fui-c-YA+-Tz6d4qNL2Kpz4LYl5IIcTNCT8EW6nr+SX1rmxENBJ7YGKA--eCBCP-VESz8YGzxSZh3l-gkb3rxMJb9YOCHS-EOKdQleq6kj4IwH2zuCJGrpEhbinTAH6ACjMpCqWkIIzeAHyOjtNj0n9muppuwXE2io6UFhzJhn1L02tSfzRQJD9D7FHD7SsH3uQYKqg-WaunNH7H6uMnoCWTfZcgsny5-utb+-S7772QFemLAod31g7GC-UTzlfnvmYkSR6IV3xn-j7s36JP--QP7iH7-n+nzmt3-j45vCOH6wRv7lKCHza6oF1r5v0P5j6vfDBuAXzDGzif+CKq-WXTCPxn2Y1kMn5f0b0wDf24xjpQGj-XPgXAADkRPV1Jb0gFACyGZPUAd7yv5Q9awpAQRBMjQGB9MUJMNaBtDFgYCz2JnUzhCCEDCBCGwQQhg5B0iW5iwhDEjPCFv4lBNeRvfPgQLBI3g2Bf-QfqQEEhACT++A1AXO02acDmB4pNgQzUq7VdlAtXGcJMQQQeAIkiJMWuwVNRV4q0bOdZCoMb7lxacHfVxK1irTtcYgmHSQesGkHUBNA-pOwgoLcBu8lBjA2INAVn7qDaCxAg9HzWn6sJra8CBwTEFMjwIGaBA22HoVgTWCpkbgJQUOTr5ywG+agnwdKU+aocOqDpOCB1RYQF4BYIhTvunCrTZNeWNg4wMDGDTxQNA+gIIRzBCFhCIkdg3IeGSChWpJmu1V-huCP5FBSgWESdPIHCGFD3iYQdhLT3kHdDucIRT2EAIaHJCmhOrZ-l0IiTDC3UYwpIeoyaGmCauFg2QbzWf4P9xhzcIwRfWxArDzBlguQTMNsFINaEuQ6nuqwPBz8CwhVQLgULmEyUdmITWws4PiFrEgo6yJtDsjSEz9fm8Qs0pREAoxkAh5FHFuyCOKkwq0eNBlP8R8Fs4xYLgm-JcwbQ+Ndi2hBfuYEOIkA5a-NX8tCJNq9o4RhAMATeCREqR1i5kREjc00J7EWg2QlwGDxBSmFuEwWJgG8XWhBphAFQQYASLN6QpIRkQpoapi97OpWR3IqXOlkYCgE+RHTMWEyOTK1DeuHkblCwDbQg5cKydc8DCJcBYRNRrTc8OrjVEiByuuFfQMaO4hTQ1ak8C0SdA162i9av8B0TDB1GbNnR9o9UXrQkw+06eqFX2tXVdFthPA+o6uurhG6+jxQWo-0dnVdFT0jqzoiMchANGgtZq9OBmppEE40B-cqIn2hpV8aPVgYi8BgOoBEAcBSAC0apIQH4I+CJythCtLkNCaxB6KnosQIxRbFFcfROYwugEiCjOisYknHptKDuaFjU4xY0gWWOpGpiUmjRZoLkCrHmj2xTolsX0QjKURbCxI5IrE1DhYQ5x5Pe2vEO4C7iceFw15qsUApBkEwLiU8XC1XKMiiA1YkkQzR8xBp1uwMCoCnF8AUlDAbId8Wxh1iGA70hIiNF0xyRs5fxn44GABKeB8CH+PyHJLsLiyVtnxk3YouBK-FbYFACEIwPBLSatE0JkE0kBr2qDUJ7o-hfCdhO4D4ShogE-kZ00xTfiwBVEqCZcI6HTMcJaERCYlmIlkBSJeFSMH+MGBMTiQTwXYc6E4nE9L0WEhiZQ1+jPiZAKcWaKUK2Jc96hCkooitivTPjaOlLCYFjTUnWwNJOvLLK6KLJGTiYYA3chSO4mld+gZE-iRBPq5+gfkGE1buJPknm5G4GEsyZhIlgHY-UyotyrAiKLAwhQjJUEDPn1HQIvKAYuinNj7FAhnRHY6OiGO7EdN4p36dULUDZzhjIpVAWnNnRgl9YpsDAH1vxESlLiTRVoyiXlKnGMQApuo83EkBKmhR96vEaqdFJjFAT9iZ1KXjICTDicV+bQguH1L2DicgB3SToL1nanhA2cETOqmXmQqYRl0g0pgSN0kyjRKQ4UolG1K4g1Tq6QA+-tcIBwowx0WEKKWAOpyMBSp+9G8N2lEkrAbw50+6dMEunNS+I+9DdP-lwloQxYT076eC2zqXDwQI0jgGQKfEnRIcGWI3FtVjEP9V24kyNDXRQx9B2UQaRgMFnCpW56A3AIITtKCExTyQjYa6WUhpBzFGQr066WUMEFf4vKMWFaUQMVD4zUpQFYmbMXSjqQQZY01wZZNXpyNIZnko3KzLSJzEkZsaNtJKN1yXT8pZdLqRJOJgBEFJmHcAlFNvoJZPyagEwF4DRkSzkEKsyyOqyKk05apyvGQKTmDY849cRsrJnjEhxxAwMdeBwNQkZAAAGInDLBqCORSsImWIbFGoCDBYY9s3II7O0BAhlsQc6YqQH-p4gt0ocMOY9WoTq5uUHs-vJ2n1HLYtBw8P2QnQf7uCcOD-dOT7PEzYdNmePBmlZkSa4UusmGarLFKnIFyTU2gyTGaH-TEBPZ9cjgr7P9lMQDigQeZKxjYC0pZR0wbdKnEiHbkL6dwZOWaNRHtzVBnclzoBkOmbhyRk9B-plj7mdBaUiIg8SQ3XkMB+5tKMkfEIXn+DCAAUWiXvIPltY6pFFX6BUBIAiBUgOQ+BPRHp5LhjZQsHucQA3kDzK07jOsaPIDLniigA4Caej0p5JigFCZUOGFlrCvMrG7zAiPRTbGVT5G3o6JtLJSbwLh5ocFgP2LlIagpGpQPqVGCkbNBL5m8hcagtyosAVxGYLANBDPE9j8S-xGaQRFKAULf5iI9TKOk4WHyzavg1giQuMDXirGF83ufvMoVVoGaa00KTESQQ9Z9Rp4TBXWFrlUh4poARKegsLwpS0x5IAcH2Kz6Sd3GQUBwD-TellTFxo8d0QtwZkxBlFxso4INNWIALNwp4AbDJzwCQhvFK4ZsagpQWWi0FjAH0Q4tDErhexLYjdhlIgjjyzFZPCxfvU1H-TNFViqyjYoYXQRUI+01RjlIgXvzQlzM54WuOVL3zDyT89xA4t0XQty6XinxSsCCjAz+pYM-LIgpwXCJclb832gUr0ViLb5nEOJbiEpmEA9wv4AmR0y+YcymlrQpgY0tGlkDxp7QSacMpw6khZpZ1A6eWlHnDK2F3BWRaNHkWmIesyyngKMoKkLTNlmEO9NlKCnKU5FsjQ5Y8EIC-hjlAY0ALUshAbKv8R0nJDH1RhLyu0qy1wQMoSU49tlz0woLdNJDgrYgwKymZOnYl2KGgk6KFckpWBZMgBsy0GaKL6W+xzCQaL2dfJxnUypZoAJmTLMJlzZk4-QRgCRkZDlySYKcv4FXOvkCVGwwKtmSkNjCwqWpVMsgF4Ual0BoVFIegGhlaxUqhAXs5Xn6DJVYLaJ7K4WezIkicz5l3M96ONLZIoC+V186VLKnFU0rsMokvmZIChmXp9A8q0mbPBtmSBQACuBgGjmsgAAZOHPjn-TvQ3Z3CU2e9K9m85DZgqj+bLMZz-YBVYA89FrmBgkYfV-OG-BLgXARrkoYomJDGu9Wy5aJtq+1U6vADq5Q1MoWBDrDjWXTKMyE18Y5NjCG5TVJuXEIugLVCrCgZ2MDDbkOxGCy1rmXOQXHOw+YGBpTPFfmoFUqLC1GEhWVQCVlXhaVlbT8oVxgQkZCVBshrH2qMGeqycPa31X2tFnswmuZWAgbyrQE0zZ1tUjSf2oOyDrFJAzDhj1LHWxgi1D8t8fZIpKNFvQRQnXA1C3X8rl1xs0SeJMK5xrcZva42WxyBYuSZFGqzdQQJUX7qasU5VoHRyfSSBxYgokQeCABKaq0BQTF4pBocD4Kf0hC1waYiZbzJgNgg0DW9iAFob3ECopciIP-V+TSmEo5bMEB1lN9H19AMWlOuCw7KseAwcNWBkxnS5LhHG+je4lY3q4+NGM1jULGKyBB+NRXSrIJopVTk7oD6rGe8EZC2qlc6OTHLjkzXkgVNKONTarhdXRZGNfq8SfJv41PCXi4IDENiuJx8ap1FGMTUJgk3LYJMlWCjKxTmwmaI1ym+HHasdXOqmIaa3zfpvzlgY7sebDzWBjM0NLLN6Y+FJdzeBkcEioJEyakGoygksa+pGcPFvNiIkVJlifcUiXVyZostKIc4Q8UoxHyCtCav6sHUtYJaTqSW2WaZLS1VbLUGWgeCkDq2mAct1okYM1rToZoCEicDrebFK1IlXRFW1OsThqBiBtEwMTdQ1tonbzKtOK6uPQDI74Bqg+gYraYB0qUbjJjW2LYiimKdb1422j5GAL23EwgB8WjbZhkG3HaRtW2tbSNqlUXMgNggy8vijO1Pa6AJ2voQwqIGXbBINiE7OCFIGENENBAvmjduqCpduEtW27foFq0jbCNLk5LRdyO3I6TqWOnbRZLVULSI5vEleB+NvVXhIdH260jjrBBU6+he6t7ChAaDiSEdm2zNDTqR3DaStqTdsgRCB3RxQdFAqyOTr5W2sOtt2uHTEmm3+5midOtHbLLkmKzSh4BL5vFgB0rAmt72rVZLvZ5IbBE1hGtYqCNVCYBZpqrJrYG51MDDdJq1zPtMyWAZI0DOooLzu+ig6qBEOjXchu4Ba66p9VXNRZiEJDzbxh+WklCJfnYx5k93Xbs4me6uMvo9U0AAcJkG5VpdvOycJ+gHXuTj1JatFWepV1+gucfu0mBmITiHwhCBjT-m6jBK5iDGeVWnAm1wmXNKwtixFRoXRENSBAi8E4kQwyXc7wQCetYf6QYE99qQEM41cbut1nLyC9u4yE7phSg6+9Rw3moLvd3Kd49VXMwYntFpE4iZ+hdrVaw-GMgAAnCcBlh2sPxhkrnifp4hn7nxm+DaB8E93-zhyKWrprPAnIuLlSjWKUM7POYxBT9bGfQOAPAFWQ0AIBlDQgpCbALCgf+vcSMA+B0Kig0BjSZJmoTeSpJ-+f9F5AxowsMyUBq-WxiQO36vG3AG4KEOgOrrBAbAVjOxnWqF7FYwmVHX5NdFA7ndAWMHZQbYwcZawbu4PTrvP7sHqDsC73TLEGERIddxuOgEVBPBkAbopidTuBqpCtBGQ5Q3QswFCEiGIhFCYwOIaKiW8jgna-RcqScKkAZDSnKJRJFMQj0TYE5aAxCG8g+R1DjUAgX9AkP8AYgdh-yPTN-14HBEG-MQ60GOBvMIDLEAcGyKEw8oRM3Iikv4fcY2b7ZdGkTRKLZGgFojrzAcEYZMOHEzDBcCw28nhCNivDe+--eCDsPeQmQ0uQQJEdEAlHvIHhs8WxFaUNAbDxR6o6SsEGLQLVjUaozUZhaIGfMWeuCAOuHVVEc9UjXw5uu+lF6VYJe0mK0BUWxZG9TUdtkHle1C60BZQnZCPqN2GTEZ-k3peCOtJCBDAjkDaNUCKgro5sihoEMocqEOHTqWh0464YIZ6HssnzM6rOVWPoCNjU0fmdsfejZYBGmKH2iI1iD7oHIF9d6SdF2nMBZI0EP4j71xCbrJjWYoQrMex5AmwSNexY3m2WPUaFN0ubjVKIWjiaRMhmqTTmoJNqZ-N3m1TSrg03kyH+dM8SdpuVzqa8cAlKLRyjxgOGxD4A1TPoDsUAAdLACxtfHsiAiwQK9PbpzZtt1MaEIA-vGkOyNaWWAbk5ut5M65+TDMoUyKavVimZAEppdNcN4AngwSPQLCMadAAAAvBLqACFNFAUJwMMI-qZ4GYmeg1p2U3pHlPgh0jSpmqKhHxhtbDjxxzcLydFNOmDTB7d-ndXICEMWAhDZQIQzIGTBwBaYPAKqY+2hndT4Zl05GbcExnWU8ZxMwwK9P+QgAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter&nbsp;3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:green"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:green"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in section&nbsp;<REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise&nbsp;<REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgHRGmCqB2wxdE+DPXwCeDjIxYUwIkBMZuDbA9NEgHdnYbHx-B8gQIa4JCEJCYWcnVSqEMSBmtNCyTEYAeDuBN1-k0wIoNjHugClEYbgu2g12uqxCrGnQIIW4LSHuCRMwQmFsZwBhz0m8iEM9HIishL9xQ0MZ-tLACTH8gkx-dgXRCKLv8fCZSXgUMPe4TA1eYwAhl-zQQ9D5AmgNwjKziEHg6wzlAPooO-zMCbovQtYdwNQ74pdQ1QosDsLaLnDNARw6Qe7zk52kam+AedBLS3pRAVGLwzeBLSYYpc+4NwsvvID0AEM7SxgZJrAOPDnDgRPzJYVXWcAyQuhyIAEXcPWGBsNBkIoEekxjTojFAvQs1ucINDbD-ebRZdFCIt4fBl0eI8kcz02GXDiRNLMkbzw8iLoqRTIt8o4XfYngvhdwZli4KVR3AxORyUoSEMzwACOeTVCoYNU0IkFGs-qZMJiDrAqc+mmnF4JoCTYAik2-Q-xITSuF+YpuikT2ASK2HhD6R6o1YdGW5bzBNAbI2yJqO4E6ChixIvUQpCUjPDXhzLAhpkMDYskBRtiYURE11FZQZRniQgA4HYETBqQZeTEXpz6AOMGRQI4MazHs61CQhIXRHulzG4DCMensezmV3TFFAL8pfb+CrzmFfc-QmhZxHQBVbT8aQtgEbo0CjGrkJuhNELp7BHZAiphTuOgSFz0AqMymziELmsgFGgA+iAACQtq2AAAguAHAAW0AASn0UgAAB5B2sgFUiaFtCo0fAGYBc4adE+tCI0ZYGOH-8YxoYkih90jGHjiAZrZMTWOpBzsVReCRsYSPfbJiZAlQJUYMD7xvje4e4y0ckhnpjiJx042cQuOXGrjvx3ZO8Q+P3FPirxM9ZMUkJQgXi6x+PBsfBM5aPjaAr4JIWgJiHT8-xWnZJFeOPEBk5OSQjwfIAxpOJehExUqkcRc6TAcgCowiXhFonZ8pKFw+qPcPpbbiK+XlT8fQGfFbDSJ7vMTMOL5aR0SA7nVSAAAZNxx8IqDeGrAKRJOPTGFJQDQRZ5VJpIaSQeE9iSTdJ2QuyssR4Cdjp0hkgYHpMYB95TsSkn4GANAGM85IOky1hpO+4xjzCtTEAuYUMluSJwmkwniQxVamA24Dkv5HYEKixRVJjXcXq5PUkBSxgGhB4ipP0T+SVEmkpvmkFGilD7gN4GQCmF06mg1UdA2TvdEVBAD7Jm-FAX5ISkZT9uSCT5hzwI55FzCuU2wPlOkAph8ONbakcJVMB5SCpRDN9o1OQ7e89cMOAaR1KGmSTExIgCYF1BMh2Bq2+QPMqw3AFaiYe+KdqZ1MKlo9s2PwY6PHHtDKl3QqXJfmJIYGHdJpBeAHlYNsgBJhhB-Vkg-0dKiSPehZXgfwNV5fcxSoQF4arDFKxAdpQ0vYTUBSQWCFSBvQHtoIVx2AcO0I2yKEBBldTDBkkfJijJTBME42OUAgCUlEB2Doe-hKabtOcHQDWYsIjoYJAZD-AnJVnBMu9PJSDDnpT08-qMMf6cZ6ZUAoIOrD4ElNqeP3P7sQC2Imj+JW-Z6acgOHWitaUQaoO9OHrKxAOB0ugdUCliy08Ak8TWY7CYEzDQAbA16dmjlk8SFeS0PmSWM+6KxypCXYWZCVFkB85+NovWSMKUHPS7ou8d2cYFRFmhKYbQ5YZzLuBc95ZishDurAWmoJlpCwI2RMK-JvYNZWs4Hu8i5HujgmwctQdQONi+y6ZAchmcbJQ6wkSAIsq4WXiW75Bkem0znE8JXbcifhPzJOd8I9Hsczp-wkuRNhBEiFwRh0-IL1neEshKZzgamXCFpldzsaZcxwh3LoGlzEZiUPuTqGZKDz6upc7Gkt2f5tUwAmsyeB3ON7dzo0TUo6JPIIYFzbZRc0kb1j6lBBSRE2M+YEEPkUQi5I7U+Y7OWAjtL5j8noG4U5HVzeR5MttHYEkk+Bi44BFISViVxEYAFIwFAqpIIobApgoYxkLNLk5fZZpBjQya5ngUxjUhnmfdEgrNaMtpA+UooHenTzlNA2FuLBTFJaHro86mIVKUoEklqiPQxLHULSO4l2iTx2o72lMGtR1hJJBkzoAPHCn-BIpCwWaREkJo3znRBoktguHEVFyzRXEq+VEGgWyAksnCyhLNIUVBBWFAZcyXLBtkUQsoijT+cnxZBejCOiKe4KS2in6JXMqi7hTFPJE+izAfopoYoHEVBjxJZgEceONsBzizwAAGQtpriXEvcBSawR3FeVJJRoEiTxLk5njwxNIYSZYBvFQSLxnqSJYkuvFMMfxlQdJQY2yU0KjQgE7xb4oCXgBIJowaCSJHSXwTyJ-ow1sfScSIT-RyEiMahIojoTmF9LM0CeEkk4T-RP4Jnk0pcXeSIFdwPpU0IFYqtK61S5hYzJjEUSqh1EgyDwsGpHFK6EoP+XQs4mEj3pTPPibuJmXyKeJc0+8KRX0SWK5FOy+4SmOSHzK6liy7waaCeHRV7oFE5eiJAmAFCihPpAiYJKNCXKRJPE8kZKOirTLVJ-yhhfnVmXHKsUT5f0ScpmQWLIVtLSFaJJuWxTvaroBmqpFzFUcUVB4OampipiINIVxfCaaRCxUkBvppYy2T8zhDd0kVBK-FcSzRVJD32lKhYIZ2ZWEq4VTQhFRcDvGN8oRQCoIcanbF+A8mOqPoHQPFUULHsYnUwKxIyl1g7xZyLCdeKzaPwhFEYxvoJOOkXcWx6XT2HeLaVPQ1VsE2gBDw-iiNDw9yQSTcuTo+QhldQkLphItXEBxlbgslZzSwRlc3V-4j1bhMdZfN1VmgEFaAQsChSPo6q9FZORhl5zy0CqiZDpOrqqq0F7Cvvsws9hKLYFhwERWkAOmCqh5nStHh-FbGqQTV9Y7rPBIV7WrI19yQyUkMdUeRnVqY9LqMtECerEg3qoIP3zxCureWqkrtSwFbz2hfJqksNS1RtVRqaFsa+DmnLzlCcxgVSnST0SVWHA9VIqv+ZuoIbqdt16q99up0EnmqA1BjI9eqpPVESNV0sFQD0Uk4xrU1F4y9S8EnIfwKgjbdVTkiAlTiZx84xcSuLKVpBv1IEv9eBKCUhr3Vk666u+vXX0BJyS0E8LkBTksF8Ue61SVYoeE3qk1s6x9RGIw2vrq+0gFdXcC-XFL-FgS22N+pKWBLDRHPLZeGpg2RL4N2cRDTkGQ3wVEcmpIGBTSLqzQoujqPjXvk9wbAeNQgL6AI1L49SHcfecHCJtwh+sJNDoswW7hQ0wCNSosXSqJpHx8aRV5JQTe7lZh-ZNNuEcTbv13T6bVNrMcHMZqEAKaZ6ymgxkVE8ANgRIlinTTGKk0qbYGtACmtQCilybbNrK+FSKsXLcai6AWq+ma15VuCmGImvzcIvYQRbIcSWn6KCWJWWK-sSWn-MQC01w4TQtvBktFvSFiY+1tVJlvsXS2krjBPm+LRPziyab4tuImwLlp5hFbblpfIWC-Rs0j5utcOT0SPDRHGTchtET5QZW+ULhKtTKozc1pM29bJ2bWt2YVRaoNaop1mmbbZqa10AWti21YgtpbSlbENjACreYpJUEqjKzW2raEptyiBnNqMLyNcrZW1KmhlErwZWQMjPKDeHwVIZNuJatwbtLm07b9vnYaKPgjiwUTcv9JiT-ABWlkGDucV1D1hHs2IJoXy3pAFtTMA7ey2O1uAGwgOlWstH+0KA6t+KGkJMCwSKd-WcnE2CgMUJf1yaVIP+riARWHs3WHrKOPdoW2wwXS9yzwUst8iXkoqNkUnaI1RgJ896WA5hAyWBZrRIBIhBReYjWEZUmRRHcQNLJllBBGopHFqOcKJJ2V3wamJYgbw9ka6Wdj7F6AK2qKhA4dQolxV7OdDBLEyNkdHdXAO2m7j2qUbHV+AUB46QCbutnbAW0IfwlQqbYygUM9gABOf8KNFD0GUIdimn3vVpsAmUblVdA0D4E0DXqZywHckioH1UKklZPEKwBkVkk09AgMem0CixRYNQ0ANentZYPt73Ry9NLXPR9OMDl6U9FILVBRJEw3QrAH4XfFD3Gll8k9BQjvWnp5jB7xgI+gygipkD4LCFMUZuHeqC18rHh7pf0Rjt9UWs8FBlBffhQag-b8dc+3fbtnTzE7PEz7PHchL7VWEDw5QOENYyzGYrPYrbR8FsFTbPsoxhoJQIVD7VAlfwkygtTxGwiMB79ytYpiuzhC1Fh0aPJvSeHfAfhn2oAUltYGIB-6eoyVP8D3LL3T6bQSrZFa6BCh28059g9WParE4SdMQy67GIQbR5ob9Ea649eevdUhIwktBhXurBANgGOoEB1SDdm+EjAfwV04fXpQKG1UED+uwSWRGoNJSJD74fqMQcqj2D41ywOA3IY-AoGsoDAdQ5gYV7t6kJryupXzve0C7IqYpfA0yrZFi7tgEu2lqJLDWq6CALVXQF0sRVX7XQd2fkU4pt11DpRVuKuKcI9yuxhgdAG8Fql-1YIMVskV0C-shXJt39HbDNo5AcDX6bOexAA8LwvIDwckh+uwyfC8Pg6kJfhnRaenJL6FKSHwtTNeEdH8SlUgIrYEk13gHQCWFESxdYcwGnQPDhDcozdAV1OHrqLhlwXUveUPAvlCaJbqNsKEiQ6AmYjrTEwcS9YCGkxz1DMYa4bCjoApB+bZHDVvKj6TeZY3wzCEoYtj6unyAcfsATYDGhUA0MNvyFjbxjtwxwPcYuP8ascdARYz83OOrH32w7XdO8a6XhrrjOQ61CNqeNTHcRYJlY5Kga4g7UqMjOpccatzDRL9lilFip0UCnHQAAAHSwDbq9jIkCg-gB6IRMUdxVdKpJFshV61MXB5ktR3-AonkVaJlURidOM4m8Ti0gk+JyJPQsoxR0QgFYRuh+NzC-J0AAAC8M62J04CMcJPEm+jfjcUxSZ8hUmSMd+2k6Wk14jRPcIRsI8eDRP4ndsXJ2U6tUBZdVJA+xUoPsVID7FmWhEFFqxDwAMmmVepjkwabohGmwqJp7nGaYagWnZ81pgVsqf6hAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section&nbsp;<REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises&nbsp;<REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>
      and&nbsp;<REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.81" href="./4.4.4.html#ex_4.81">4.81</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYm+3TF3mf3ksPoDYLA6tMpJts+xqvhwYRhs6IwMLQap1ECgJgRBpoCBICFRkhRjzlG3a8gAjvg-DEC6B41mO66EcRJDWkwREkdMiYjEOpDwT+7q4V2iocKWlDEDqI4apR5p8QJc45nhPGchYvhVCxM5CSkR7mjJhByXSTCsRJnYNN2BSiOQxCVt+t4PkcBkYbGwqqiBgzvleEYcdmrKIdhoCGfQHAOvWVrwWmorsWZLkwlJoyYpEP7KAARAAqoQOqEJQADuNA2sMLAbqAAC02UiTZ0WdD0JL9BmoCWTIyLKAFtBskk5C4KAMg7Nu5BsKenx2VWyIwqsyRqeVvCiBIkFFu1FCdaVEZVeVDCBUVxjdBSoi8tsjXNdY-psNwlBEEIXWZj1dXJPG9DrLQdikBk+WaZVU3ULxlDoXdhAAu59QXiMRQshE1DaVh71Ivd6lQSqsHwT1bmA-UNVQ9DyQHQKnq-dOw5HQtgQDTsam+cRMg7pd5nJB4OOWsRHDxl9s4E6Iv5AiEe1MLg5CENIXSLctq3soE4WUJEM1xQlSWpUDKKDKApASHwOV5ZZhXs0YvTwgdHlWKQ3n8mTn4yBe3C0CFfWuANSVcHN8G67V3oeLY9jepc4SRNZt3M3B6sBTrW61SFcNNJ56s+Vr8E7m7Zse3rnE5kVyvAyJFPUCua7mrrjk3oyBvc0YWPWIweNO-Sy4OaNczOfeRPGCpNkyAXydxwmCH3lhIR56q1eXlwtP1-OcIlWL5Kxr49E0aREr6-ehtGA1TU7Fp3CSwPDG0SPvUZ5jGxcqAjPM6zAgK4rnNMGtU-WOIXnMVpik-rVx1NANzeVREp-yefw6XwkXdrEtYhc-Kp1XS7j+MlxgfdIoAAZ33-urM+2lX6KHfvUSeG0OCkyFLZB+kDbxAOXgDAaEC5KAK1rvQIn8VoHxXvUW+dZqKMRkADI2n50GaVYkFRkXs4EpF6K4JWPcyQ0D9hrDgRAJx9gHHMJ0n5r6ZzXlsHYNsHBiMtsJWR8p7bXGigAKkEZOERAg1HRWUHwnymjhHbxkJCORKor6dAAJCuGKn0XuaVjLqV2urFsaYTLMMlOPQ+iCqGLw4hIwIv9ZRsWun40iGkFLDE8RjfqUjuQCm2nPcJZE2Jl3LqAJRgIQgFH4HEJx3l8CuKYKmdMgwIZoMic-Wcr83rQ1oAUlx5Z3EZnggBIC88h6qlofDSRj9GEzk8ZY2JoBiHf3IfEniv8kzFNKSZJSwk-ZVwDDM5pZSHo2hNGaNU6SfQ8ULI2Msbj1mmXIkCTUasZAHJLEckprZ7KbLtDsnpIRZGEK4fYnhscxKCSimPFewS0ISGuj8x6z0OKEOCVqYyK0wmNKKWsjxMggUjOCUYqc0h0QgIMfydF2iZDQupLVQhFChS3SBT7Ron08lIwmCjbShKVrKDxdvUe84o7cLKv3HGUCL63nTmsAa7TpjIKtDQ7Cd8cbJ0-NeU5kpKXvXZd3T5XLxxaNRjU-l-y1hCKnIaLZ5otYyF1QOVi+qnnOXlHfE1GqgGdxzAqthkjNg0AIXYlW-drlNkRW2P585vE2vNWaO1XrblzIzEGmowUrVk1uqG5sdyWn2SNSXecjqcxwmMCq8W-dpnJkTScnSgTA2PODUavNsz7kbNtNsy1H1Y35xWfm8NyaUH2tclajNdjEQHXRLgTE2IoBwEQMgdARJNCcvFjsXkoh+R5xZuKDi3is67BNKMNURgAA+m6sLTsYAujdoBt27usKaM0rA5W6GPU0GRew1TKpVjsKoopRQ+CWX80gMRKgsFFIEldVxIpmVAAAMmA6AGILA4hAfSDBiWX7n0PpjjIlUG6V4rufa+oQ76tXRTEfLYqKtS32kdChpdaHJkQdkGYnZiGHE8RtdAoDGd0M-swxwbDadQDRQYzOfDvQVY8aDER1DSQBqUdMdUG4kGJNQh2bCAjMdBPqxTUx0TFHbjUeowEjl2byR+ibZWpNqcvHMcmU+1jb7Ll-OihWn1gw+O6ZoLZ45JlI0iY5Op6T1HxNabMjCDlKtnMFtcypt048xMack75t08n+NIYLA2G5CaW3GYkSxl9ln6DtmivGuz1AHMq1yy5iNwmyNqZdeByLsmfOSe0wFmORXgsRtCyZ8r68auyei5KWLk69PH3YOBN80qvzuedevczGWsNWZwyhIbl4ZX2fq3R2bkF3EwVGDE8LkyALcDkDW4jNgVTKA61GmLS2vkraBaN9YFWTsydO91nTj7rA8qfoxsLpmKsTbYxxu80VXsDOGAVmOUr5sjbKx527VWHs9cc1M+Op5qDnjB7K676WfvTc4z0owNmEeJwcgt-L52yqt23EXKDH22tbD4cwXA7YnDd0C-HQup00eTJp0zdsOhGcx1JwwdumrKeQ-XhzunfyADMT34udOoRDsb0js4Wam1l6zKTgd0eFTL-xt5apbYq0s6KavlCvx53RlJVSmGoazcLrYd2Amm6+bg3lL8ddpc8xTtJDuyrBwt4Mpeev15deJQpuj08kkjRSf7z742lR3pNyHr5OwT4MKiYLtJAeFe7HsPdpeUvQ+nuhb81TdCvuK8m+xzHf2fnq6+Zrn5bP9eXOitX43Zkvfi1BVduX8uaB2787RxP1gDJGXmd39HmW08xWH8ZDMNeyqI2G6jsf7uc-24T2VGqDf2vQ9X354n4sTab8oOHDPCTZEyGP8HuLdHcHu0v27qH0n7-t-JD7o-J-o9bGo8-7tYBe0YixBxGHXxDHTQHF16wSRzlVA3D-UmSyhgxASgIHzKk1wOhkFBnWzgmUApW1RLxFyby2h2j2g4AOj0Wx1CDWw2A22wKegkBChfwSUIN2iKDQNwFgNL2-XLyWVwBiiYOINIP33JERgwKoLgkqnYPwK8lp0qmUAZ3X3FkRiuzYOXXZzViQU5x4NAG53kKEOBlpXpUUmUPI0bykI0OUEl2QPFk11FTxkphnAkOpybxsKYD0VADsOGEEISWcKuRQQcMgKVwryyy1himcLn3FmcNriph8KtD8Mqy80ky1lhw9RIC1D7DFH0MxA1R1hzBUIq2o3fmv0d0qX7RQ39WMO32kwKLhxIlSOmGNAwhKOdHTlsTwK2AA0qmgiYHoOKmCU-WmBnjnh+kyNYmujeQgP-EAmAk6L2wNVHkDliPaKIzmJQSvzh0aKYn2whk6LZBaJt171uHWM8IxBVCAS2JVB2Otz2Ilkk0OMsL7g3C+iECGL+gvk2OUEtFHmNAnH6JyPKOp34FFE-RmLtF1wQI8gBKBI+N2Q8HaNQOmKWPeKJXdC+N5FpV2RCHGDFCBKWN0AAB5wSsSohoiFFAQYwGAIoZBooAAVbUCYwgYFAKfAJhOgfUbgQyaQEIaKUAAAalAV6TBAXQagwhxJ5K4xilFPIMCAFLFCFOJNCnpgpHJL5kpJpMoCRCYGSlmlFCZMGRZKGnIA5K4wlP5P3RlNwGFM2N0F5NcK5N5MlNcGlNFFlKhLzwu21D1ANCIztSIwFVcGSImHY21F2zKPlEIycWBLNGWJWkCQmQ4PPxxPtOjA7EDOP3FV6Q9BDEoDSNFAyJeOHHZUTJCCIwyFg3EwTN6Q8HEyhMTL2QaSTFX0tOUGoxdMIU4XlAQRZBLMQK-QGJGmeI1RjJSF5kin2xinilND2kyRVHw3qDGVIQBmCXWOulwXWOyNZFbJSAGjrMOk6MjTOOdDqV6XWNOI6POJGTbIvKuJZBTODK7WjjoxLX229NHNAEtF9OMH9JvLXMHKMDDPrIRNfKRO8VjJjyzxqEtPIJjE9C-JrJqKzIXVzKyILPciLP2y7LiLiAgsBg8F5HVirKJURNEF2TzDoHDK00bOuNkxbPlCWnbPWk7LBL6MSVnj7ORmGPsOAqHKVJHINTHMIAnMECnOdBlnKnVVYhnPYX3k4pOgDGOOEpARXOmKdQaC3PDOPKWNPIPIVXcmPMDk0qYHk1nI-kFUmWvK1FTKqIRD-2Bj7QHSALxFHUJAwHGJajGg6mAmBhegf1AowwnxehilanGnICmDCPJECvco4DajZOqXmR6lPwwpzyOmVWCXComg8ocSxVViyweAN0o1cOMEoyBEPOMANzMXyqMDMSKspQNwA3KooIiCqpyqbz9jqr9kapSAN1vXsFcK6tEEaGKqMANxXFoDZMkFcOGtGuBQaAGqytnGimHPKuHMBBmoNwAk-S4GNFoD0TWqiA2vRHqBWqb25LquMBkA3GUAkBBGyCyl5KmsOqy2imyhOtSHOtAEuoyGupyjeqMHurmt0WUGSDOouqutACyjUW+tAF+spOAGeqaleveueCyjADuuqqbwAFJYaga3qQaso0aIaobooECTqsaEbPqwTLrUaHqABCGDYm+GnG0AGmkBCmpqh63EzG+mj60G0AfEowFmjqpvXE9IZ6kmhmoWvmgmzIDm4GrmrKbICWymuazIYWgG1wUW2W0AZWhW1muaqm2G7m1wZ4IwKm4wGAh4IqFKtytKkgvQpYjIeUHbKTAQZQVK4K9KnhYPS2tqCKxGSgY0AAKxKVCXSAdp4Bei5pqqtrdtcLu3Rm0uMFdsmgyqKiwC9qCs+ArUyqWQN03hZmkFcNzu3hmvTNcAN0gEIC3lXAkHyvLsrslmLpLsGqbx2o4FgEgHKpbrbobsbtWrpF2oAFE6qW7+7u6S6DcAA5Fgce2Gye8e4i+GC22SxO6YWzO2kO+oR2xqZ4cTNgl2qOjOgzT2pe-elegzU4+2jesOre7IWOmEPe7262zOlOgTIaEaZem2hxfyrUwI1rVomgSySK9SRmMYCQBC-2j4CcYgIsWeNMpCd+qK8YViWKogUewIAKH+zoQId1GOXC-URC7SWI6lb6NivM2cbHXJQQdAk+j+nhPc5QGsowd+1exs8h3gPJKhh+t2mhiNP2wOsgUeBh0Iah2zeY+OwIJi3s-B+w5K2Spi0ULUL4pOEhjVMJNeA0fsghroKy0WD2gAwdXEEdAkTAcYymMMMgDgBiegeyACBgQSeNWI29NdSIO7ex+U5SBKzTBIxLJsfzUU6KDgW0nIIsM0jCFx7x8YfzZRDxrxosJLHrJnNgACAeUGEYKDYJ+aXI9eFgYgYgJkuwW6OQaqHJkG9EXk41HJ9C6KLkjwKp0ATk8U3k7J4gVBxoKp1vdJ1YlWD8UgSWModJ6qM2AZnM7p+u-QKxEyirR0vxyk0UraJJ3kFJuYR29BkZugrUq+Px7QaKBgoRjYOeWCNgY1OaBx2PbPAKImGp2RaKKJpPS5c5kDYDKMRBc-ajc5q9TdaJ2TN5xm2DaKNwQqeUDwJ2o539Sp-5rCDwUx7J9WSxiNGxwSc5xuI+LgfUmfCMe50DWhZDZ0F6WhxfdF45tx0caKGZ3k1ZyoUYQ58TTfN5q0vkwELkwJr0nyMRXFiNfFqsb5u0oERl0U8lg54F150OWlq02hQqa5poS4UwXp6KFqoZvevZkaA5olx8HidoxF4SVZyk2q-RS5al45psyTN5hVnppVylomfCU08UDV9x6KAAckCYCj8YdaicdNlPOZ2fJYYgYAwm9fer+LPzvWdCceBb9ZaaBANyTAEBtL5htKSlIBtKEVGATZCLsBcMic1eldCduDDcNdk1zd2dNYpYYDYAtcLd6fEwLeowLa9eIh9ddLKnAapAaWgeUxQVGn4hlTDhOZRbZJHzbF1gudmspOnxMlcIXxRwjEHbEdcEdqbcgdbaAQ7dIl7CGfNi3AzZIuxdVEHcBeHb+dcOZZIxxcHbLd1juJoD9cNAyg3GXa7cHe8QQR2FHYHY3cHMXNtrQpAXlCPcOxxYnY-BG1PY3Mts7d7B8BqmukdqvfSiqFve3DA9Hk32A-OBwU-YNUqdqr3faPEwQ5Xd5CEBqndDuzw5lQg7Nk3cXB0ZKy-d+Zauw8xHw-I8CiicRmLLBOinnZbfIFniAQlfcfaLY9HOxznYge49461jvdXfWe7ZVeCHqv5nQ7tD3sQ+Y+D04SkqfaVFKLfc4oGgN3+eNyfJZZ0+4EMo5i-nnLiQq3PeMvvK+Ulj4G7cycz3aN3eEnE3c5IuHLDj4sShShoA5ZoEc-TZ2fcLYmc4DbVYdm7b3fyI3aiZ891j8+FkC8nfJHC62obfFiTYYAjVIEoF4mmEgxEFkAfai5C+c449y4TZ2ZK57F5Dy-siu3K4mYqNkEy9k+VURGP1GFcyqCbBdqKXKkEtfVIG0f7UAOICiB4FglAHFyal5C+XFzALAOcDhyEX4hkCAjWeYH9AYAEF1yi96vxhKT5kO+hI3kECZjzoECRcHmpG26YDWfE3Ez2-O8sVoUrNuHe4O5JMldEtoC2527zYcF+4u+y-JE1wG-GDSABVksZW-SbGugNzURh6YF0RGRVnMo9Ke5GiUFAB244BWDIWMGCQumNHR+uk2+IDx44AJ+o0R-R-M+SAQQp6p7BMLukB-NXgqy553hoqktJ5koTCunB+p97GB+e+J9B7kHwEp7ifPJSAQXF85+u63m5+kpUsmX543OSDnK15Aq-0k3B6V-15ouMr9KQwTGTbp4J6J80EIuIh5-J-l458B6l-x9l6Z8V7158XZ6S3Qv5554dI2G-Vkx98G4YfaKWSJ4J-aId6d4MvDcBEZ-4nXGZ5Z6ISF4XNktV499p8T8opqDd994BhV7O4O6D-V9u8HJsRSFwvD5L4V6j-r96XaIT+l8d8ApiJncBi01L58fkzb9GRz-ckb+o3B6T7N6IQt8vN-JjgmrpGm5kFLa16FUqZx-1H4-OQ8ndP1GxxCGxA45Zka4TclI8FP+TclKbm4tX5S4C9AF65OREvR4ksVja62CX9IGm5kdF6f74AnIke4wKDpMWAGqhF6--MbtdGf79ckslJLftwHwwpVhuICWAfl3gHRQr+eXfDHDjrwswVwYoHwrE0G499neLnGgO0XjTT8dmxoAgQhXjTIp6BYoWIuJjoGCAF0RxdgYQJzJGpuBnAigcXyYEcCWBtA5gTmRZgkFpi1AuSgZUEE09iBhyLorIKOJENZAMg4IioMEGwkwB-AogRoN8LKBbi2DfPPWEdgbtBB32Pysly4z-NIeQwRMMMGLD0gbB6xZlPxWYJCBCwHAGboIHGAMBAkTObgFZAsHC8fEOwQsLJ0N5k9ZKeg0UCCnEGAMpBpnIwdsT95-1QAcQ6viIA153d3IHgIgAJS8FpgfBUbfwb5xUHkEQg-oYIcIJ4F2o4hWfDTpZ3CHWA3OunMIRkPaI1Ds2lRN9soB6E55T2M-A3p0KvJbg-eHCRaJ-yczH4QhZnC9hSAeI0oGotcPsPQEUgyDXwd4Q4t4kBTiCEhIgiQepFXIyDjBGQrIWrxyG3c92agxQUlgWB0hUh5xKJmEB6ajB1Ia1FfnEIaHiD3Q2w54QeUWFvDYInw5fkSTeGPCdh2xQQUuQ464Bqg+delsTC4wIioQ+dRLkREe6QiVAdIXQHuyXJGAbmCWSIG8PxHCQ1BkVfkKdDViKQcRAIyofUG7Ad88RDzaLtcG2FDsQRHwjgF8KJLUYyRffJoNRk5FCjGg3I2SHyOBaCjBG7kcTKKNlHYRDiZbaKGiPGDRtFh2ZcYAV3Uhgg8gZ1BYjF1epPBsgsiewW4RiACQuA6kGrui3A5NdqAygK9jiKva7D4e--PkeoQui0xroEosET-yJLOinhgPZNoMHoaN1sIrotITMImIBivRl0SpmqIxGKI9grrBdNqI2TlBDmnommJKEWH4BUSBAi8OgVZHHceQVraUXiPNFjc5I4IQ5jt3t7PcSeawcntdDG549GxEgbQhkKxSwZ+eSZWRHUzoCLCixt7Ing6BLG-0Yh--HbtdFw54iSUZmEkXj10A1N-mQ4nbsqm1GgAqSAACX7ocAAAguAHAD90AASlSUgAAB5cesgBARjE1iGwabg11DFohJxoIwEXIKi4Fjpgo498R8KHY1jRxEHe0a0n-EWAy2NY6kOaFtFogdmUE+wC+IdF1xYie4g8ceNPEXjrxt4+CWH2AmEdQJ5ScCa9EEE1i9R7AZqNdzHHS8Jxfo90NxkInUBso5EtgA5jWIECkJYEv0Z+NiIsSSC4gV0GHR6TbCmSH1SUtNxKQ6hrRnEiMCJLYAu06QH4lQUKNwBPjdqsEuuNxJUE6ZtxDANNnHCIBzcQEAABi0YqxWYyUJBPpJfb2RyAsgP9PpP9CGTRg10PSWWCcmvAGAopeQIuIqxuTT6zkhgDs01wWSzBSg+4aQP8m9tDIaLB6HZMNGqJDOCnfGNZNRauY7JsvVxuaOYBiIwpSWawCzBSkRM9hefVKX21inqQ7JoxDUlZLLA2S4p9kwhCrFyDTBko1IQSK1yN4JJIhD7AGB4BCk1TGBNgqKfVMqkCBiKzImLl5wojtEWpHANqaIEEied+hiZOaQtMEjxczOcnbzhMMt5XE1p7UoqQZUWEiBCgh3byJmBsFnCYRK8ZqcwFamHSvxdFZFj1KwSAgOyWIhwDIOT7RDrOgePSUwHSEWcSEv0oJLEMOH1DJBq5ZQecOwgDRjQ2Qm7tvBrIeAERJCGsiEAOmLS6hDAttMaCaHsIsAViUYdgiXGrZrgcgyChLHunzTDpnnXqNumplMAHp2M-IttO4hozeQkwvaT3iZksyOpG7RYZSNWE7RJwTYCKeMEIo8SSp--S4ZkMSFQzpB4TGGdGNcAIIshTNK7tcKLrr8dehAIUryPBE4z0ifAv4eGIjFGA3yKgjoMiNH4tCtOZg6IsvHTKIg1Ebsn+LEIOEgIfhislDFbNhl-StgGsvsTX2RmkkruBsqUdQMVFGAfhpso4fcCsRJzfy2xAGE3GWGUMDBogHie8k07rRTpeSawFWCtnXSzy+gUAK7PdldTURiIjUR-DH6blTKGc9QcrKlnWy7O4xIgJHKNncB4+3fN0TGLhG-Mkx0bPdqqNrk79VWD3BwL3Jdo6ACRnRYkY7N7nkj3Gws-kKLL7DizZ5oQfuanKZH7I0w6BFYLcOblUjIIWZLebD24Dd8d5uwiuWADdlqIl5HfJwGyJagxcb5Q7LueaUNkBic8K8sUSkAFE6AgFyQH+SNClG4cnAYC96Lh1AUxyGgyoqJuPPRF1z7OZUbGGmzKCA4pxvMqwcrk1S4LU24wUKrMJSIFiIw-k1gTvmoVHEopV2ahZYNOYOBPGsmOhUO0jaiA2pEgbOADIBYHy7sk-NNv5kWEAM3w-ko6U6LrZv1FJHw6RaMBGgDzXAwSEMBelqnAJ1guU+NAVMzDULIUslCBfGJ9HfsgQRiqUUGPeEWBYFKQeMCGEoVVg1FSYDRSn0aBRjzivk9eEYtzGJiJ5e7LJN5wbTTA-WR0sFBhCcXqRqFQCrURsEzF1iZA3iz8ITB0kbAdx+4jgGeNigAAZfuneMyR7AzJMcVSXGP8nwQtJyiq4j+MAYiANwxEwCXhKok+BSldSqJghNUhpt4IRxNpRos6WCC0JGS7Jbktwnqx8JPSupYIL4kUNZAPSMiVmMok1KOA44unHRJsXJB-sabZiVmMKhCjZl8Sg9iQqYCbK6xhUc0QA2aXlKbpMYvibgAEmO0ek-krmpKXEUaKpFFBKxYQB4kqS1JYyi5WeU1EINglMimQJYqUnqUsxvErMfxLpB3L6gcI7IADEmVsMigvwaZTpQ4kaT4IIK+RcpPIImjBobJEaM0qxXWLtJCqMFXWPNHNwLGQKv1p+NrF5BAkwSAiMiDbEbBTEUsVUAW3mpBLqVii9-jdnXjMqiAiM3IXuz7DbQywIS2lbIPpXsAy2QqzMJ1wLbkqGVI43RTUvgFkjmFtYg9POO6xHoPmEQo+XqqSI4MCuzAGSXFMqlUTjUjEkiSvAdmjj4BGkt6bYtkqziQEo4xZTRLpwuq-eqi8wDlLdh2rZVx-Gsrsv1Eg8uMGko5XkH5WuBuARSPHlPjtWxr2AZBQEOqztXKA8VuTckjOEtW6jwVIyEmW2UKJlR6AfMEVPpMkF-imF7os6H6Ouh2KaQqOfRWsEdVUTNVciiCS73dXPdroXqpZXUv9WyU81QajRaGovrQwI1FEqNesvGBprWJM-RNbOHnX+Sl1GapoO0X8k5qQa46gtVFJYlZ9S10wjBTlwEBCAopfMQtbarP6DAe2kil1bbIsiXqXlLqqJvVw0l3rXxr0Orm+u-XPqV4lai1RpKSF-i-VLY2SmaAIn3q0Q10fpRhPPGXibx4AQhIhpPHIbsJeSrNXBo+VNQQaMGwtepyuLRRdQ2zHQv-TfWSL61awEDdWrLC1qbV7alRdBtEBXqOlCG9JZkpyVoa1g-Snjbkt9Exdd1BGrmkRtKUjIBoZGnUBRvPV9ZmKc8eMP7U8oWwe25+NTTs1wTKbSoYcI7jGOWnhwdmPuHTSiHXYf4Yxm0zptLkkbDUVNn9NTdqo02ewjiuCOzbpsc1RdDN1mujD7nc1ma9NsRKzUcVZiihNIQgEJZ5oM23BNNJgr5MpsoCFTTN-DOlceu1WSNktbYTLf90CCozdyLEqJglsKkmbqA9m-hsskIBla0ksCqlSEu02lbdN2WxORGJVVyqdMq6kdoIBtK1aZFrhIrX+vGJ2bEtmYfzSlplVpayximkaKNrbAzactRwAJVRxZiwR3gnwFFbAyaA9bFF98V2MICsBVafg+20qF7HG3grEgI-YEFzSG3Fb6Ee22gFVvghzbmt0MVraWw5QdayNDAbrTyr9bjV9tw25+jHFC23RYYp2ilRMshU3LoVQkpCHCqJkNATuW2n1jIGB2pNeVyOojqsqaAxKdRoa-SpEwu1HAcdcS-UYcSJk2JXkewc7QjHy3gru4H2+Nt9rJQjB0d1dZQKjuOnjELwJSIpDu1CExi74NguRgo3PDKNWI5orjlAx45tsxUoO17dfC3KQ7blMOxoHDs20bged9IU-oGAoC3QGG+reaJ+Kx1XIjBV1WUT5wmDmyLZXGeKP5xFhvDAKXk3KEaW5Lk6LtnHMTlLok4oITll3YnUWviVk6AesiMRvLvp1JqPdzbL3TLuIhM6aQmkVna4Ul2LtEiWjYJABFvYTU1A10AAJxdAVYWeyQHjv01W86MheiPJCtXDrp6A7Onng7PjL6qwhBvBBDQDBLGSQ+xgcvTIDtZ2sYoaAfvfGuBnjImgXesst1iBlGBy9oayKrBD6Z5Am+ZQd0DQDyhyEjK8-FQFYEmrT6q9kUZQBnru2TVTl3CyQHwrxhTgq1qW8FbCNp11jw9c1akDwtP0uEYoSOtneVGP28LKgAMwHXRlI69hWdlE1de8VGCmg+wozBtVdAIjXQYOEgG9lJzKVpheQgB4btaQ6AnLCECCKYAwFANV0fmICQ3OiKBw88u9j1Z3X-vRB+sXgq6owLlCeqYN5QXe2tttoIiwg7ZIMvQFMInjrQwNBXIrlwEvVzAWDPPertev5yAaANIaq7EIb96YGQD8FSWHga4x9hMSCbDvZPs31qBKStB53RpPKgCGBAMsbQ-LDYNcxODJhqzikBIPaHndlB3MeiGsO5RB96hkamoDx0IrIVMKpUZ0TEnwwmDyOxUdrpmTODOVRupqJbqRAg1WQri1-cCuNzpjYlAe-UWaNEUdz2Ju2pMLQGSjroWYq6xlbJSgMgIYDcB8gyWLgiqgcjKBrjGgaz6LlOimVGIwRDiNigMxiRiickc8WZ5z86xebRklwxqk+RC6XEVUGuZWIpWirAA4EacG3RGjCVbo+6BN0RGuaURzUUruh27YZoJeq4lDveGtHDmfEzekQGNzxMilAkr6MXqv2TaG9FK-xamIPnLa3gkwBNCcA231Ax9FKmdniu2NnGWJc+iELVmLXtbGOMqAA3axq4yBrdAAHSwBPqkVQgXg7gD5iHMQ9b1YGr1Gwi96uMWB0A6FywDkGQTYJyE9CewVTLKghXBEyWxLHXB8A7xd0Gs3aLUnQAAALzvpGAoTaDWE6SZIKImFjazZk2ifegYmcsch3kPhnr54BKkGRrI5EFBMcn4T3J+GrqweosAbSxoG0sQBtLRsYQdrIqIiDxMhKZTZ0zk+ScOYKn92ypmKKqd4IamTlgp+WEAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgIa1CITBpgRQbGHQCW5eCDKnqOgGNz05BtiyvWAhgEJ8EiRghDXGVhzwFK9YLeDXa6q4MSAeCm8UQ3wYjDcHO8HESQ3ngySyExCJsBjQqAaDuBN1-k3g3wf4McCBCShUXcIWa2KH2BJUcQwNsO13R+D6WyEFquUIPCVDaIxQxQK0NiG9CiQKQwamkPcEoZesxnctDkPSH4BpgqgdsMXRPgz0Vh8gYyMWFMCJATGuQ+miQDuzsNj42wqxp0D2FuDDhiQJoVjhmFmtNCyTEYIMOtTDD6h0Q9uh8AFJLCYWjrKYdFQuG7CZhtw2YSxn2EwsFhfSOek3kQhno5EVkJfuKGhjP9pYASY-kEmP7sC6IRRd-j4TKS8DMR73CYGrzGAEMv+aCZEfIE0BuF4hlwosM5QD6KDv8zAm6CiNpHcDUO+KXUAyLrBMi2ivIzQByOkHu85OdpGpvgHnQS0t6UQFRlKM3gS0mGKXPuEKLL7yA9ABDO0sYGSawDjwvIzUT80pFV1nAMkREciDVEii6RgbDQfqI1HpMY0to0YRqKHY7CDw-I-3m0WXQGiLeHwZdCiImHM83RjIz0TSx9GFDbIi6AMb6NlpuF32J4BUXcGZYqsXOkwHIJiDrAqc+mmnF4JoCTZqik2aI-xITQFF+YpuikT2LyINAeiK+bRfMTSOjLct5gmgCMbZELHcCdBQxT0WWIUhKRJR0o5lgQ2eGBsWSdwMTkcj+F0JuxWUEgvikIAOB2BEwakGXntGhDDUfxMMRqNnGeJ7O1wg4SF0R7pcQhxY72jkns5ldDxRQC-KX2-gq9SRX3P0JoWcR0AVW0-GkLYBG6NAVxq5CboTRC6ewR2GowkU7joEhc9AKjMps4hC5rIxxoAPogAAkLatgAAILgBwAFtAAEp9FIAAAeQdrIBVImhbQqNHwBmAXOGnRPrQirHujOR--UIfOJIofdlx1EywGa13FvjqQc7HMXgm-HVj32u4mQJUCzGDA+8Ak3uBRKbHJIZ6CEpCahPQlYTcJ+E0Sd2Q4lcTKJPElicQBnq7jQRHEj8fjy-GaSboFrbibQFfAzC0B5w6fhJK07JJNJtEgMnJxmF0RVhGNJxCiImKlUjiqY5MBmJsl4QPJ2fKSnyIcnu8mepE2sf5I0nBj6ooo4zrBL5aR0SA7nVSAAAZiJx8IqDeGrAKRJOPTGFJQDQRZ5cppIZKQeE9iJTSprwuyssR4DATp0lUgYGVMYB95TsWUn4GANAGM85IJUy1gVO+6hDzCtTEAuYUql9SJwhUwniQxVamA24HUv5HYEKixRcpjXcXr1PykTSxgGhB4jlP0TjSVEhUpvmkFGg5D7gN4GQCmF06mg1UdA2TvdEVBAD2pm-FAWNI2kHT9uSCT5hzwI55FzCp02wOdOkAph8ONbGMcJVMBnSLpRDN9p9OQ7e89cMOCGQDKhmJTtxrMCYF1BMh2Bq2+QPMqw3AFFiYe+Kf6YDMulo9s2PwY6PHHtDKl3QqXJfu7xp6FkQe6eBXqoMzi2QAkWIg-qyQf6OlQpHvZme8lKD8DVeX3MUqEClGqwxSsQEmVDJZE1AUkFghUgb0B7aCFcdgHDoaNsihA5ZQMwwZJHyZ6yUwTBONjlAIAlJRAdg6Hv4SRmkznB0A1mMaPhGCQGQ-wLqVZwTICzyUGInmdzPP44jH+nGT2VAKCDqw+BJTanj9z+7EAtitgAUVvx5mnI2RLYrWlEGqACzh6ysQDhTLoHVApYstPAJPGLmOwmBxI0AGwL5nZoM5cUhXktAjl3jPuise6Ql1jmQl45oYufq2IrnYilBPMu6LvEHnGBrRZoSmLCKpHBy7gXPTOdnIQ7qwMZqCbGQsBrn4ivyb2IuSXOB7vIExA44JrPLUHUDjY48j2VPK9m1yUOsJEgHHITn5Alu+QZHoTM5wSiV2iYpUT8x3mKjBx7HOmaqLvkTYtRIhXUZTNvnazEozs5wK7LhDuzb52NB+Y4SAV0D75oCuUbPTqQmidQzJKBfV3vnY0luz-NqmAGLmTwgFxvXrA6K+lHQkFBDK+e3ITneiChstb0RNjBlBAaFFEBOSOwYVpyfhu6JBSwrfKOF4xr85MY7LbR2BEpPgYuOATk6K5wsxCKRSMBQK5SCKGwKYPOMZCoy5OX2VGQY0qmuZNFa4mJsJn3QVcVpZs-GIy2kDnSigd6dPOU0DYW590OitGWBDzqYhdpSgRKXmI9DEsdQMU7xQeAoiPzfx3tKYNajrCJSKpnQAePNP+CLSFgqMiJITTYU9iKxJbBcCkoTn1iQprY1RbICSxhLKEqM-hVEHbEEjS+KSrKIo2EXJ8WQw4wjoinuCktlp+iVzIUoiUrTfRo4swLYknGVLeQvY+KWYDgmITbAGEs8AABkLaBElxL3AymsEyJXlRKUaHslxS5ODExcTSF4nui2JKkpiZ6mWXbLWJTDMSZUEOUGNTlHio0NJNGXjKpl4AZSaMFUkiRDlRkpyX8IyFoInEOkycXpM-HdYjJJSoICeESnmS-hP4Jnj8shG1Vw2vLXKWCshECsVWldV5f4rWWhDnJFwtyQZEiWDUjildCUBIq8XBTqxAs8KYsquVHLYpcYlwaRX0TNLslpK0UXuJhbvLIRLk+QNip6ASjoq90ZycvREgjDlkCsRtqZPoC0sfF+dNFS+WWSAiyIbiw5YypolxSOaT5P4S4uCKNLEGkqiVYEtCksrVp3tV0AzVUjniqOuq4lsZKpjarAlxfBGaRGNUkBRZ945uT8zhDd0mlOq0lvqseFMNHVCwQzharmrMrHhr4+JUuMb4GiZFm2eFt4EAl+A8mOqPoHQPjXQjHsYnUwFFK0jV0OJZyMVcGgpkcTG+wkrSWjw-j-jVIfygyd1hLUQ8P4ojQ8PchLUsrk6PkKFTcJC6csxVCKtwXas5pYIyuXa9SWZIsmOsvmYqzQHKobWzSPoYqg1ZOTVkXzFhPRCZCVJzVMSWlYo9EYTU0mew8l6iw4IkrSCFqmJkamKdTIu5-j0unsKtRREMnnqFe9aiwDOo8UtrlIYpdtfuPS5KK7gPaxIH2qCD988QnauFb+tHX3RRpuUydS1WnX3JKpjwhdVYJL7cjPE6nSqT0SzULBa10ajxXmuHVaTZRLINDblLw2SStJTDdTiWtI22StJanMYKKvw3UaXgwaFQCusw04jc1tapJd7QqAMayNOSGSShLQmYTsJeEh5WkEE1ySRNikmZeOvw3QbrqvGzDW7k7Enhcge8lgvimI31cDFaQVjZmsqnrqlxm6ych-CU3LLPYgmu5dMtthWbJl0yysRz2JVyrzNuUlTZzjU05ANN8FRHJqSBgU0i6s0e4X3CC175PcGwALUIC+gCNS+IMh3H3nBwRbcIfrGLZ2LMFu5NNMAjUqLF0qRaR8QWnDeSVC3u5WYf2XLbhGi279d0xWzLazHBzlahAKWmeuloMZFRPADYESM0oK2hC4tGW2BrQAprUAlpSWxrT6vVU4bFy-mouiNqvpms1VkIphhFqG0JL2EM2yHGtp+iglrVzSv7Gtp-zEA8tcOE0LbwZLza3BxnIDbVSZb7FttkqkAktsKgT84suW5baMJsCHaeYZ2u4RNpfoNaR8f2uHEOJHg2jqpQw6oQ0O+FEhbtgS6ODsHe0VaAdk7L7f8IN6FUWqL2pafVvh2Na3tdAD7QPJ+LI6YSl2tTYwBu1arSWRld7ctqe025RA7W1GF5BDXjaMVHyrFesKcQ8rUdywVSsdAp06q2tHWm1cS0RabbuF6QbpeOJZX+lGZ-gE7SyEl29LoVdIoebEE0LHb0gROpmCTvZbk63ADYYXSrWWj06GwtOzxDSEmBYJFO-rOTibBQGKEv65NKkH-VxAarVW97I9h6yjhM6idsMF0mztckc6zQXOmpJbtRgJ896WA5hAyWBZrRIBIhEpeYlpEZVChRHcQKnPF3GBGopHFqLyKJJ2V3wamJYgbyHnArD2brL3aewXb9gT4SqMcUrpuEjznQsyxMjZC13VwSd5ex9i9D11fgFAhukAl3uPapReaH8JUKm2MreDPYAATn-CjRJ9BlaXalp97PabAJlFlVXQNA+BNABG6gRTPJIqAL1CpHOTxCsAZFUpTM4wAvptAosUWDUNAA-oA2WD7e90a-TS0P2Cyr9a+7wRvopBapnJImG6FYA-C74oe8Msvt-sX3OS-9EaTQOPvGCQHwqyKqxQZVsUxRm4K6sbZCK2Huk-h2ugdRaxQM2LdsdihqNDuJYgEZA1itAyv1hLPtDdKEYgEBqsIHhygcIaxtuqNWexW2j4LYKm2fYrjDQSgQqEBqBK-gkVx6niNhEYBsHlaxTFdnCFqLDo0eb+k8O+A-DPtQApLawEwZs49Rkqf4QjYEDf1KsvVIUO3gfPsHqxm1YnCTpiHo3YxXQR+qINpvuAYaqNlGuda5icMQ91Y0h2Qx1HkOqQbsiokYD+AYFf69K3g2quocL0lqyIDhrabEffD9QLDlUewYuuWCqHkjH4bQ1lAYA5GDDCva-dLr5UfKuVBkEPasVMMw6IxEe7YFHtpahTJ16eggC1V0ATDyDJLO7HXp6UTjoVmhNjAutEUeFPcwwOgDeC1QiGsEhq2SK6G4OSrk2fBjthm0cgOBGDohvYuIeF4XkB4OSLo00dr1eB69-Rm4YMcnJFksc+hSkigpPDXguxtYpVOqK2BJNd4B0AlhRGaX1HMBp0V0DZlcIiFJ2Seto9dQ6O0rjjfR6XZngAEc8mqcqwY2snoPNKUWKnRQJnoAA6WACRQKt2zid8APRCJuruKrpVJItkO-Wpn8PMlqO-4JEzqpRM5i0T4uzE9iaPpN5bD+J6FiuKOiEArCN0PxuYR5OgAAAXhnVACYmXDrJkSOyYJPAm-GIp0kz5HJMkZWDVJ0tJrxGhjH6Akx48CiclO4m6IMp1aoCy6qSB9ipQfYqQH2LMtCIKLViHgFpMw7dTmMqU3icNNhVjT3OU0w1HNOz4rTArJU-1CAA')">function singleton_stream(x) {
    return pair(x, () => null);
}
</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:green">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:green"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:green">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:green">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:green"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      in section&nbsp;<REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3el4PODD4MwbBQHAiDIOgfA8HUwcqNBJkArKyit3FUiyAoSjDpGsTMslYQAPzWMSx+hAAXAs0nlJfNhn3IGTHYQixvkiw62uJWWSXfzKDHXiYB+1gb7BX9H2Nc4F3ZHxStYM+y8sq9kDFA7MEEI7K1AEAkBoAwFSBAheaBMJ75wNAAg60UElygVQRuYhNFsGkLwYNYi5pEawLgeQiKZoZRsNsgwuBTCQphUaBFfqUVvLsJSpwpB6VhG0FER5HK0VMH8JSkw5SYdcokI4aATWkh5x6A0dxUEfEG7lH6Dg0hKQNGW3MZYqxoRVGFCYedZa2ipFYIoa4y63jfomSFMneIgDiAbxwUw7W7jCjSIts-aWa8QnAMYQseyf1ca8PiDg6JKT-EWniaEpJTtFgu0oG7OhypMmSiKXIdSiDNB8T0POTRyjTDBI3hYhx1i2qSS-gJROgSWlYISYkgRWDGDMDWNtAAqsQY6ucADusI4SMlUHhUAABaNZniV58WcrNSpLt1LCEGH05GlB8CgD0BEQilAWDCOUGMAxwhDR81Tvs6pxUbl3IeZ9BpJBjk9whDYaoWC5CyHEOcy5Ug-QsEWNQEgXRHkkGeXWGwvYu7M3IMcLZGhV6NNsU89pHSrHuT4sQLo69Vi0DMvYolNhGnGN4vxX5xATCEtpQ4vpbL2WkMaRS5gPC+hPI9CkcuUgjJfz0ERDFwyrFn3FdBMYaZSV9ClXIUwNKb7wo6jEToVQgUgrBSi6w3hxnMpTNM2Z1AFkh2DlTRYMh1mbP9nCfMQLPR3kqt0hVAl+p0FacjG2zhc750Lr6mVKQz6CxATfZYqw9C1NxbDS0Tcw3+q5Q4z1igemSuYsmnu8aCLXX9Q7JeFChGZSaRIvhCSXmivGIwGCCb6l9Q8sVTo5jBkb3DVE7FdTngtoGs1ABnbu0pBvk2-tjUxGDTVR2oBgUyaIJpk9Nxb1-UvLORciIFMqbLp+kjANMxNJaphsQXVmJgXyDBZuyF3QqTY1STzEWyL7FfgnQ0pN8M0k+yLfOi9BqHVGtRRAggn7iRQRtFi+x7765c0fbk9G-Q-0pRvYZR0EGYKwYfcYDDMgX0OK-FhyIOGv56sKJe0FgHX2aSXb4vQNLVRwZyYyfpv6ElkZSLUUItQ0LB0zZIEg3D23SVLiiutgs9AidHfA0AUa1GgFjT4QEAAqQTLCz0dGU0bJSXTFBqYFBp7SUmjQAEhQjurJnQN2xBkSEH7Ggzc-SA2oe3rTVdKEXmhDRW9LFviv0BPKBxsIdad3Uzo+jexkbK72Jvs7WUpVrO2fs7QxoAkiPcwQ8+1lDHChWZyElmhV5-R6D0XRnL3LGMPuY+QVjAEgsUcNQ-OtyDSwObKRkhxT8eQteS0Vmz8JqzuhiwsAhYE2vNOkz2xKo3CvoI-vbBjN9Bb1Ys6WiKET6E1pRWiy2WLza2OZEFtFsT1AMCOKAPLNm4W9fQQJS2gLgPplAPp6UnQzs6bhpJF7dJ20ndBQ9wNvbV6W3TcSvCpLyUhMpQKwxUtTuDG+xpv1I6S2KSXdkhGPt11ic0no+VNp6O0vfW5RR4c7EVZSEA1HFIl3cKfSorbmJuHzdw3oOnFp5vk8KO+9ncoJXDqAaD417HMRflI6ttHFCZvPhgdWjeLzmcDcVKz6XRDXxK8yFzyn+96mq-G5Bfnyo00Pz-cC6weyl09dm7Lhn8uUWK5-qzq3MvKwa--ELoHzaIEoJd6+Q3QSR0e9NzgEen0x4T3YNPLgc80CTUXuzL4Dbnh4QDV+VZJxztRBHAu4OeiDEMvsPxQYIOR21rujyNKMK4Vkv0Z9I25WC+mORyX4P4tfSsFhfC2vUMGmp63hcL2iZBUpmhZ3mv84g6KXpTmRlZj8B97Gm1Ca+BBh1WzmIPF1A1K97L4vuGy-BjdXX9DUOfKqW5Pn7v-WS+OoNMGNNHPik8foYlUqi0C-r--EBPjkc2m3+Mk7jQ1jBVwVQ-3ZEskH2mwVRTB-wOmP35lw3b0ZFyS-jALTjtj0FQOpwlAumfhpF0CUCh35TMiASv3mBdFbzrk-XHlBHjUZyPQbB1EoKXjIDwK1kOR4hklL3MHMwYJxEUwaU4P9VFDRRGDGFC0IOUGhyFCxWW3jwpDz04LEmrGRx6TQIUxWDWB-lUO9U7hoKeHmzS04KmF4NeR1H0Lw3gIsNwyMNBBMOBj4PILdAsOwLEBJXi0kOkIQ20MGGtGbypHEPoNeSyF0BGGUMVFLgzyUllB0DCL8Mm0fg0LjUUNoLdx0P+2LwCMkISNAWiNCOGHCMyFLgAB48jYiCj4iaUEExlqAlMAAVDIXRHIOESUAudwAGC7N+YpToG+QEUAAAalAHKzCEMGiF0DOStm0LMEGO0z6MGOGNCFGJiB0AmMwNO0NA1VGVNUBAaOoAIBkDmVaJ0HaJY06KqUoB6KBAGKGIp3PiiGWNWLSOmKBBTGuIWJsCWPGPwHUniNcOcGfmoFfnfjd1Zzd2x0xDvHXm6AyFElIKA2sDvEu0KNBV8PWM80KHE0rmROuneIQRCWhOLkJ1uOF1DGoHwJ0E8OINySp3eJvjd2OFOB1CePeJkx1EqOJLpOsx0imMGBdF+KC24wfhvXXgZMz3OAkLPwFUPW5xqK0OrHNWIHSHhVk1BFdXIwA3RJSDRQsKxSIwsLoI3gFIxM0iROsLSMELsI93ZWsOzRcIBzCC4zdUcOcChIBNhJF140Ugd2rFBJ-lRLkHBNCEhPxLdINOlIRMsy5LSP9NE2owsikixOZPZTxOUAJNEhZNwLJOWMpPP0RhpPZTpJ-lFK0iTO5TPlkEtDZPh3vHUByPkyRJnB5KGDdH5IfmBSFIhRFKiLEKUBhV3UlKFHDLCBNVqORIVKVLJRVKeEdUlHUycntO4w1PhLCG1M4N1OoKUOQysS-FNM4MMItKeGy2JLpT3NtOMIXKdMvMB1dJhLDOHjAFHiYFYEj04Fnl4AwHkIMikGuVuSoHuW729GZU3njIViHzNSBB-K+UnwpEgr-LGBuRdm-XdieX7kYJjhbCFT0jRVgsoH-MfPO0Skvnug1G0xsA1A6SPM6S-z1FIusD1AoqF3ukU1oqSMYAYqIor0PBYsPHYsKHugrlKG0wErkFIUorCHulCjoBdlUBdUGEkukpaLgTEtCHuhHMYForUocWUpsHumEhGEGg8DoCNj0uGAMoYBSm0usHun6JYpsD0DwkGDhDMCOAAD5QBVlBjFLLKPs+hAQ1lbLrB7LHLnK3LVlNkvLGKK8tNBgUggrQAnLjhQrQBlN4rrBvL7pgAAqLkHL4qQr3LQAwAIqOKv8ABSLKuKhK1y-Kkq1K0AdKivDPWyiqvK9PU4JyyKr-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-SRxDR-uHFbvAuyus42yFurEuuQwNOLu6AnOTOUuBuDBnuwHVvwgxuUfFO6u3u2b0SzNcsvuZxceZIsAKe+7QeBCDvwe8MofaVqezu4GPR6fQB2u0uUoKzvuyg7OWf8fNv1vQOgyyZ5KtBuOSshyhJ2GASgTV3OslJYvFgcsb42AkmYgCPhRhiz49fCXhjx1ZSSsFTLVrVaP0EZzsu1TxfXkZfyBuPN6nsbf6Pavzs9Fsu-Oqg0U2OsUPeoPHxbrle358xsLmPztg-XxffARjfIP8w9k9EPAYhQpYhRtRfkOL2s+juIf4C0+yVszRs9Ai+M-Jgc+dRy-ljO4a+CCJV6-K-SOcQXQm+6-0-szE79S8+XCc-eve-jD4Cm6Dg8+v4NXjCc+BDU-O-M-cHGP8-WemA7CPOFxwwQ2W-wCB8EoeR+oUwYm-jxAB7GQzx6k9-l+ngEdFTq8uhFxJAeOyUshGAA0Cpi4al0PlyX3FwqP+fHtDBQAm+e2WfhSW76bkCIE-FfnGRxCADXuwYXTh0HKxnwSAE5W-uGHv45AOgT-WVhAMPLlYb4foRYOpCb6s52+I3Pni+wELvsoB8wAQgQPQYIR3WgwOgdpHdZkDEepCYDosDm4bdeeajBsMwOVar8UGdgR4INCKQeFgwYYOEO2joBFdJBMlBMHQFS6b8BYiZOqHE3kHSCugSgvzi80bYIRZBQjC5EwyiDZAWAYg+1DXk0EyDTBogmcHVDZ5otrA1g7Qd1EALIFGAWQDOmBCkEyC5B8gBQa4NhYSZDBGggIVoOkD8BdB8mfQWjAcE5Y-OK1GIKYi8H-kXBegFwZEL86OCUoiQqqqMTMFC8DAdUfBnsgKGiD8AYYIwCJHArKdXklQrQKSkiAiC7G5Q8wTbT+QXZ8Gd4BoVI1lDNCzBMjMwcEMTK2CWWcTOTIc2SEp1sgaQ8Ie2nsRMkxhmtPIW5V6FNC2hQwuwcLBaHw9PSNOcHB4TOTU1egKBeflkDkpaAcBeGF5DtmAFADi+BBUAbQUH6QCVOMA04M1ziYj8QGsDC4aABwi+wL+eGPQY0O8A2Y9KcvYgY32AEO1AR1ww-ssD6FOBJAkIgokiMuFAi++Kg4Eew3wBahOgfROJoCHxGEhCRLzb6EZwxEAitAZgOJjqXNw2t8E6-JEXSI8Qj9JAxw4sKcMRjUj4RwIj1lckZ60jfGRzUHoCJVZIjTEEI2XgURdCsichKQF0BKMVFE0wRKItERywVGz1uUOoFUTqOtLnkXmJIgkczSEHkksg0HfrGMPsrqEBCOVVYbJkriH9uOIYY6INBsyYdCO3kL0TCEGC+tqRvrbEZiDRRoj2o1XNVFiilHgjURsozlhC2pjUjfRjQQYAaPZRBih+fAnEGGNVSYokmpIrIMzQmHRZ6yyxS0ZBE2E5jmI0qIQYQFkCcjk6eETuiKJxERA3mWo2kYfzY4DDHg8XfbiZ2UEhiQM72Njn2KS4Dj7SO5EnnAKZo2dBYPDOgEIPT7uRJAyXFEM2NrBDinsMnLFE21pFBY603-GTmYC4YxMeGMnPSJaNAB1EAAEsrUkAABBcAOAGVoAAlOopAAADy2tZAOdjkJ7J8A9gbjvh0JapYNx0ohETnzrHwVGx4E8ESq27HLi8IrbCDqTTglOAPW3Y9QFlGTH+h4CWE0oCBO9H0BEhOI28feKfEvj3xX4n8fhK+5ISUJ+vMCdGIwk59uxmwpCauMx7riWJLKfFkxNoBrI2huyHoenyIloTeJkEnEW0P0RVD0aDGQEe4ESrDFXR0sD0eJKjCKSWAIPZEcQARH-dAJLvUyrhJImSSBRM0K8Q2lXB+gSAfHc7AAAYqgeyM9HMiqgksLBAcSsJQAOCp53JNkjwViismKpq8fHQYjwAPGaQgp7eWyd4HgJ6IXJlCP4c8Dz5RS1WXkjoHaNB7JNtMAhVKecUjY2ZvJ2PTBofzsDSREpj4KQDEElQkt-OIGPKRG3o7eTZCBxNyauDSmvhvJfvLbrajsBjA5k6gGWCRyaz95v+SHSLE0W84JTS+5-BqZ5M6kZThsQouNPazV4CFTB-UwaRy0YHvENpkgAaXIBlgUFT2xtcdCBzW6vI9pB0mWEFMP7BhLBSnZENq3AE1lQGXBYMVL16kyBNph0+NEOS-7r9yuv-Srp2UM5lA8+QM5cilCW5J45uj7SjMDKzZPYPADwivg2P0SbkERcM6btAOnHaoNMLJM+PiMowskb4V0radCIVRl8HucCWoCZj55QzXky0nwDcMQFDA+p+0raUwWeShNyZv0igme1WYEBTsMgbgZL0ukczrpVrIQRyOOGwpiIoEX4X9yO5SStx--GAQAOAHoye+5w96ZmNSAQpABUTSbmly-AkAJisYoyWXy1kwjHhkwVMU4OsDWgsZvdNrhqQBk+BrQyKY8ngGUx+yH4dwu2ajK742YdZAZAUXNy-BGzPhpPPTmr3NnfFLZcvLPmmOsCUyCc7fCxCZmzkIljCw2H4WP3UBYz-0T7cFBcnunxYpA3kZ2a9KSkIiTCvs-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-Uzu2S0qftkoM-c-vrQF8H6juw9tSDR2XJiA663wt4HSA0hhaGillVimLZLIWgAbCdpUvDCyBgD66hBhUDOXtqIU9yRgBAb5qgAomO0MkYyHBBpc59t1DZJsiQOqKExR-dA46n8qVAbdNgCg3yylVGheeS5HgTehtXQcLY1q+Du2nmhN7Qgv6qKfepA3Aai1tiEQyNxvS4H8DVMQg8OxpAhFhQneig35SoNOoc1H6hDowaoMiguDo+ngaWtn0T6ZKlBnQ5shRboo1UDAGwxsmH1d6d98+-ZfYhklwqiU6u24uwaBVpjddgYfXZyxN0XJlA5ulal2jZ5I7QjF2bHSTs2GCw6sZav-aBgbjJp6AcyQBjEHXXMr-+80WAwmL9YIGy2wbbiKgdyPMcZimBmmauVBDvZYj80V6AkYD2DDkjUm+MhJgsIrbPmucJokZOWI0iWgHjEzGy0ZYRKgjJ-VeM0a0g9GHa1uy-FVS7RCDOVw0lTiAtWk9p9NcrCkeb3P526ZkDuz1sM1yhDA4Q9qGhY-WQIsYN+fOsUStIzZxNLNHrK3Qcft1WoXSaba48qiMozQkDQBr5r6L0COyAAOlgBfUoqug-B-ALUTsYh74qwVZ5LSn71AhFDZJOAlgABMRKgTqEkE04PBOQmHp4wPOLCeZbNi40hAXwg7VM4CEqToAAAF6Q9rA4JkelCZJP6I4T1u0zkyeRPcpUTgIdE7IHzAU8bgn6HIHQGyM+AgT7JmE1yb6qXMK8qgWYh4FmKkBZizNQ0F8whB4BsTQKmU8SblPkmFTqrFU2qY1NnKBTIoIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression type");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression contents");
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:green">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:green"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:green">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3gVk1TizPP1yNyxEyyrHoE-JTYAD8WnzylABcoDeMwPj9SmACqxDHbnADuzj9VFYijwd2dFrQfGMgJE981PUgzzvBEmAv1jLy6q+FBvW9qDv0WPvQ+J8z4eRyr1O+ANnK4DAPOBg+BmBsCgHARAyB0B8B4HUYOKhoImQBLKZQrc4pSFkAoJQw5IyxGZF-Je1hiT0OsBvB46I6EpW-kpDIx1CCLDfEiYctpxJZUktJcogxiGf04aAVhUheyBjXOBd2HDOHL3wVlBRpZswQQjsrTexASHMNkQsECF5lEwnKMY9R1ooJLlAkonRKjbJSOMXIwaxFzSI1USlGxEUzQym8S4wx0jOHuJCmFRoEVz5QO8j4wofjNHpUibQaJkDw5EJCW4hYykw65SsTI5emtJDzj0Lk7ioI+INwkcYmRKRcmWxqXU5pNhXEyPcedZaBS1Gb1sZ0y6-TfomSFMneIkisntIWNrbpvjekRWmTRNpYSFj2T+rjIJ8RrFzKyqs4ZFpMlGMmU7RYLtKBu0sfElIy9-bqQ0ZoPieh5x5OimMgxJD+i1MKJVSSQiBKJ1GaYcZJDQnr03owbevID5H2oKfUA8JGSqDwqAAAtMi7Z9zr6ejvDcx5JBBj-ORpQfAoA9DT2iCwSJygxilOEIaZ+NtnA3OKpQClVAqUlM+ri4g+Ke4QhsNUTechZDiGJaS+RrBFjUBIF0GlJA6V1hsL2LuzNyDHHRYQp5jTaUfJac09y98ujENWLQMynzdU2CeRU3i-EuUmB1ealp-z7UOrqU8o1zBAl9FpR6FI5cpBGSEXoIiKqQWFP5lBG0voYGI2DXIUwZqN7So6jEToVR+WCuFQq6wgCfDCFAdC2Fd4r4orRTc-M-KsVk2+YoX5c8CJ0CBZPOWud86F36tdZhy9BbMI3m-Oe1CHn127vodtdq3l2rNTYatEaRwCSxq2x+9ax1SIdng2xETMrPLicEkhz8-XjEYDBO5hC+oeWKp0CR47Q0JPVQ809A1mrMkbbUgBA7nj3sYINONl6pHDzXRFQZV1G3PyJSSiIFMqY0yel09GTbU6gCTTDYgqbMQCvkMK0DYruhUmxmsnmIt5WfK-MewdsNcN7I2eQa6-Rf2oYzTIelir-SqqHbh4wM6GNHFAJ8kjzxWPw3WT7ajtGUqYcMo6DjjyyORHY0IwjzSvz8eJBxtNhQ0NCoY1mwoxG+m0y6ZO26XM8N43RjRkJqmUi1FCLUNCwdp0kACRe6SpcFX7sFnoZz16GHdtBX2wEAAqBznjkMdH80bJSbVJJBYFCF7SnmjQAEhQiVuDnQN2xBkSEH7E4mEALJ5ifIXpgZKFGPWCVW9NVgyBMjPKBZsI+6IPU0A+jT5XbK6fI3s7WUpV0uZeyxuXLUmG7kYRkJw0zqXVwt61K-rV5-R6GKYBgzk3DMjcEwC0WPr03oc0-Q-dWjZu6JmT0xKB3HEDdfPCas7oOumPDGeBxz5nGbN1cvRKZiwI5cuyIm7uqN6CzqzZ3BikNEWzkFLHWO7J5Kstmq82jTmR1aVeDt2QrKvTay+dub9A9CWz5Ux9MCGQTBc6AwLj9nicxYvSj9QJMZiaV47j6gakJt6rwgapQhjjWerKVLWngxovSlJ421dIPbG7NGwcyeQlVCnXarGSTBnGduXSfkp9y2Uorr-WL-xwX8P6Kkc-AJAisqBoCUKE3TTCiM-NxaSTT7x2s9aeZzEX4hHa4pKDj7WOjuLJCUb4LJvJPe6e5WK7751ea7fXoEPFjXyBod1Ip32aXcCusLNbZUb0yKNDy83246A8xaD4Gs7ufILh8yFblIjPS9x8ggn5Ujbk-jr0ngRBTBWDsHQVwLBaBJrA4pM0Q9zw8LS80kik4XGogjg9xKYppSrX2H4oMS2wHXN3R5GlFgkrpUcqhkbZbi+qkNtAKvlv8d2biu31K4gMrOX4DHxZC4XtExepTH6a-u-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-CLQZovDzgdBwdZispT6LRKtsQT64G-S+gNbyLVKO9UEOAMFuBMAGLQBmCIwKBJAnpDBXxhJGAZYPtz6K5PBvBWwY4WxWG4TZk5Izz7EshOxyTJBQS4UfjaT1I5JeH9yN4ZH7tHwFCCpWBhIaYKk+JSpJGk5z7VBSBSB3BmZCEDB8V9GlqGAPi9A9HSBVzARXjl47GTEKSPjrHI6ZE7HjYoSdGUCmJyAqZfAvGeUk4gnz0-GRrzAEtCL5gaSdByTjiCSP81HZANGL0pad7fGqYgnRZySTBAQfHZhIMqkWArGC42GRyyhE59yHHBZAR6F3FEpKmthNhjEsN3MXRKmzAggtJ2nSmzA3qgRF5wR6Fl4uGmxGnejARBnall5qG9HLR6HKwmGZZKmX0wMpB-Yzl3ZGntgzU2E+NQ4YkMkOnk6uFAR4mPiMnqYinRmDh-kSnJg6UwSWlXjxH2SxEjC3VVcowOnKTnn8SLmCmrnvBim5I7njmzA3izVwRamDzm77B-HARHKgn2bAXxhgW+H-4Fg+0VnZlLnjirLBhEodRKnTy3QOmUX4WgXGAWA5GFgYn7mqmgQABycRxOckllupiRrxmEyp-JyluhkcRgdSJ6IVsp2UlmJ4DhnwHUEVoG12t2vkW-EEoBEE3OYUP2akbwdVuyZmA6DFq5OFsJm5vQWVx0t0U1ilsJtF6l2lvFmVwVm6kolsC1w1yDU14g5wGeue0gBey0IRYqKWHKOtRYMVjZ85KMP+A1+6MNwOQYT5piDJCeL+sIKWr1qkH1ygSmDjAN-aakLJ4NzsTlvZgt4ZhVwZ16ERZEVEOCj+Wl-qD10AWV+UBFPCHNoNp+BVArQaHEzZyxCeODOMp+lcrjehN56t9EeNi+XIftvCqhtO5gXN2QLof5NVKWpt+FFoVtwiQNvN9ExdENi8uWBm4d04QEKy0tvtHUbdxdhMAlWSbhsoa9nKW93lfVxY1AwWo0iZxyi9hd595dnuTl496sWxtN+ezNv1igmFm9Vwod6sZN0IVN2e9N317Np93du5-t21lYXNODxUFFndpdhdIs9TDDUVYt-txjL8e6ctuFSt959EGdujHbKjhnAiQHT0PAYubwTcC4UCdmrLSUX89ocgeBYhqh4YESKpUASaElWQRSSaPvPvT+Gs6kKWPQU6OEQYOwP0RgDoFzKJgWOUnToBfTk5i0onYMJDToVZ76dQDTmQLTrSHUEzvTzbM1S0hCVzsz+E-kdTzT0llsbz0WBt4pFoUCPQaHSCmnLKcLrINVe6fzOLmQMLIsu8Zk1khz6mHgQYTTyQbqGM8rQgDwZLtVPz0gLLyQHLp1soGLvj4Rw96wTDOgYr0r3o02zoV8+DDrjoWd6wUj3bZpJVbzsrtTirvL-gQLokVrpRxrooUVEb9r2-ZNM2wc7TTSHrvr4ssC5bL8F0bzub-ClKEs-r7kx2egLVyr6rib-s+QwryClrkrx8Ubugfzxzqrqb3nVHermQLba80VR7tr04HrrrxhLcl0Or5LhDzhPtRKPL6rvtG7xskccbEB0ICHvnWL2bubgbtbsrSCxbwC178b97ybmrgwGb0CP7zhTDRb4H5b6zjoODJLQoI+i4FsQHx8D5Fn3MvtRH0n27lH6Hl1GcSnhriEHn0AXH8ClKNn-bkMUzwX37rbo7tTAils4OMKrQUgHYmlmMoSWxjLvhaDlpN7HhPhAzDeNgCZmIWQRgYUDXZeW3rVjXABd8hbfNcBUAbj3RAC5LkCqXwz0ALX8gHXhSyCn33jtri40gn7yLqoJVETtVSPysZL44o3xYfMRSwTrjFP18NPwEZ3+3-MDPYpDwGIUKWID7JX8+vtav5H5Xi-M2Cvqej7XHFv3Qc+nUcv2-X4zuHvyvnUwNAfvv7gnEF0EfzvlAyfnUmIEpcY+vgo0won9Txf7MlA-VbrfgoR9woRON7MsfmInDhbWPmf7fh7LIGv-ftChtiIRcAtw-z2BKHkXeAZuBIKbPRkM8B5V-twgXYgH8l0EXDbkcgHQLIIwEngqNFgtyD+DGS7b39KOMvAnIYFPwd9YmXGGfiPXn41sQEUFJ4Id3gwz9VyPXZbMvBICAC7EIA2-OAODbX98By2DeH6GgHt9e+ahYfmgOp6XkWOXbPtIgKIyaQ+0TA6RghH7aDAhB2kLDlt2l78CGw9behCd0D5DlnA4gieA20hLZAWA3bMeFfWDBhg4QF6OgNV10HBUEwdAArsvy8oGA6opbYwfoK6BmDIunLS9ghEMFuNWq5jKIBoK0FVFbBBgzwY8HZ5Eg6owveVqEF8H2DuoncGIFUiyCz0wIeggwUYPkAmCIhYrdzK4JsHJC7B0gfgI4N8zH9TSwQgzJF0hrRDvAsQ9lOEL0DhCchkXEITIhKH7V1BAQmcHVEZLCl-Bmg-AGGCMB50eKBnJQQQB6H3xIgdgR4AEy8F108UcKZRnXGGGyhRhGgiYY8DSFylmhNLUtj5kxZlDx62QSoVkIvSfJTSnQyOo0JqrdCtAIw9YcsM0HIQxhNLdoa2UvpdAiUJdXoJIUUb8dg+WgOgb92fgw40BcONAVgLCJr8b+QfIgUtys5G1S2m-e+vXxwj540iTgy4d4AywpUdeLAwfpJhn5jpERvw0XBSGWB+M0RkgDETsWJGDB8ReAv4cv3jITN8AWoToK8VLaAhGRhIZkZyzs6Psfh3w-wKW3jLp5QUd-cMA-S0BmBYRzwsSooGLDvDEYlIvkQSKLavxj+xIswNsCxbH9ERjLYkVUnRHa8diLoNUfUJSguhtRJowoLqNJHkjjWxotHuah1Dmj7RuqNIrSzZFMjjaag34lkHIDl5OhpVWvsfwWpnDwylcQkb1FGDSxBoGWfkFq2+aat7ejQQYE2wVFNsl+mIJVOSPagtc40aqK0U4DJEGiTWDrJYLyNjGJjaAgwZ0bqjTHr8g+WY2NKqgZEeiTeYQNrKUE5bakfRfo+4Sf1D7ZVGx4YsQIQFkAj1gweEMUdQUGERB6WV7cUUOOcAidFh4wzTtd0c7mCMxD3NVCJyy5ri4QyBIPmTnp7QiQsFnQWCYjoC39lurbPLiiEnFRdCcmnNVHONYJB8RRPgTTmYAcaDMTEmnPSD6NAAnEAAEsHUkAABBcAOAGDoAAlE4pAAADy0dZAFxiCL6F7AOvDxHb0Gz5i+66YwYSOLGAV93Ik4vUYyyXFES8It7BMdhNRFOBaWS49QFlHLG5YUCDE0oJhLjHzZz6wE0CRBKgmwSEJSE1iVuQolUSsJjQASDhPPpLjrhFEyQLeJqhSSNW4k2gMinWHv864FfDiRWJxw4SCRj-Lll4IuG9DpyuqREe4FGoa4deIYY6NGO0mWJzJLAdmrRNwnZlheKJfsfZIkkkS0RBImaABMPSrg-QJAaTlxgAAMVQDPMhmPhVRdWWggOJWEoAHBpccU4KYyG8BqpApGdEKRlI+I8A6sX4LKVGhymMAUCxSaKXYgv7PB6+RUmNolKZ4GS-MtHPtLVJ7bhtIISUz7rIwbZ2BpIlUx8FIBiBBpdWD4lAa1NOTtSMsSUwIqiVimrg6pr4JKfHzO7BxPBYwY+OoBlgds9sMpBAbANawx85cFUtvq-3GkJTFpTPW7NPGP6RsekfaNaZIA2lyAZYOoUQVSQelPSZYv8WtuZxMRyDVexRD6ZtOGnCMG2wYbQfp2RDTsCI-ZHfvpIVRFo7A604GbSLdLkcpACA+THUndKLR7O9fX7qD3qwDxh8KvbbBpjx4QVCcHgIEawNn4ZYwi7hMog6i-DUyoRK3Gzl8WXiMiNM6pDeEDOelYjW+FBXHJwLV4JZpBCmGUrwIlHjkhgSMx6cDNel0oum-Mr6W6AJkMCCAtOGQFIPV7wZVZBbBtnCJeGKBJUxECLvX2tDwzNxVMwERgOBFz9QRnwy-jSKLKYYiB-TEHvrw27EB-ihY-sYLLYHCzcRVY0IdYCtmuy96zHcmfANFF7l0iuZPAP5mTn0IARtMmmdiMdkL91ABIrbizMBGeyGeMI-YkTj9k2jq+1YzAewNpkToEsdczCmhVuzGzz+XPRsrnOjlkcSU4M7rFIG8gRywR+A9IknJTkpQvw7ojkZ6I7mDd1usg54S3K+ERymZFaWzIpBIBlyixiwBHmTzwnwZ6Rp7dkVkGNqsiD5nI0FNyIfpbzGWbhZUXYgvkyyb0xs6UUsC1I0gIum89mtvOzI3z7+iwArpKI5yvCzZr8rIA-TJ7vzXZ1gYef5hvl886oTTTUbPF-mMs15dJf2ZiKNFFCMKRo7qBaNCAoLqYNoq9pgrDkpAr2OC6sSlFdGctx5h8vJgfQMj+pdWvgCjFOPgwbRvYzC0bIIV1ZCVb41hEcVGCyld8H2IMgmSgSKmNIhFBkywS6H24jS32oQN7JvnUAbS4QXwYfEM1BQCM3QQix4QnGHq4Qspoi5MSWL0mNsSxO8-HoTlDDZAMsWUzKbKFBD9TQIg03IEIqRyQV8F2YlVGqjNReKbRKYlybgpSBphQwAi7yDYpyBzTfuwSsILWPBH4TfZqCxsbYxPlHzZkWwlIK+gIR8QBW3gdSBIuZzqRIldikafUK7H2AexSwrxYOP8n2BAJIEyQNBL3gAAZYOshNDGlBIpd4DyRhKymSSglEC5fgRLHHESpJpbcideITD9KfJdEzlmxJ2S6sBIncBZdEuWUGSeJTS1pe0uEmWhRJXQGZVJIMnrDvB99SdDJP9FySFJsy4gG4LqT0FdWakzoeCGF4XLexkzEEllKeX3DwQC4yUMPUOWDLLFcsE5cZKlqTp7F+1DXEykMVMKspzkkkU4AJHuT0JA4pZTcr8lejt8q4WVsWPyWljEVrkpxesPPqgqeh4KyhbkUhqfITlP9JRAkIODLYkMy7aid5MCWErkVy2EMUyhmXsq9Rfk5vBmROFGy30eSoVniqFa-DlxevBVEqnmjCBtx9gXUHCDHgSrHWgIXjGKpCpFkvw8qkgMQKLkhZS2NIbFWMFxWyspVJKzlnqtyASEH4aqsdEKvuF-KIgFEx8PeOkXkJtGto+cYkACB3ZpWCENUX8sMBAIxgzExaVNOvFWNWVtAfLOjNGV4R3VEauNQGSVRPiuMVy97neJTW3KtuSqAxuCjty5rpVNdSbG8qWEBcgQua75RoID6hBFgWWLLspM4nEBa1jwA-M0mxaxq+6IYwtb1MtAlqSVJHHbvhUsKKRQ1dgaJVgIomiLRpqqHCWqlCUaB8k7izEF2zdVvyXJWMkJZBQzXiBrx8k7NYpO3X5rIK-au3EVPWFlqXUFalcY524VZB21LAetTYEbV9Aq1Dyp9epIQ4tTdWgwPtY4AHXTrh1gOUdcvMob7ADlcUoBF5O8i5qxWRihDS-UUWSgOg0GkBQhs5ZQa4NuQBDSgRw25qY1Kk25c-EnXhqe1M66NfhptkoDMgLKkjWpU2V8SYJcExCeADqzMbIJrGwSR0u7UkaANS1ejbhrpzwZAQLJOheOopA4ajFUihVORunVz9Z1a60IEqmE39K1Umy5pW0o42YgtN2yvjcf3hUkohNcgDDcxB1WaRxNx0STZQ3AyPlqYaYYWpylHSerxWZQUdEkWkxOboQwbAYZkREFLpxFzES0D5pED7t-NgM9WUFqb4MKHylMamAFWc1Qw-NqwlmJ5ti1iB+MSW3za5uX6vSYtUmiUPOhy3hbUtBk76S3BQLIYdAJkLoLiry1B8CtVW+hXwuFrUAhpYWigCfidUaCxWvhLrZYkG0Kk2xNI6VZyyc0da3FIWrPMlu616Bhtdy1pKKtxX8ZBtC22gHNrLrc95WvWlYTNHfXHFQBIJTVbKyYKbaptGtO8Elqm3VCJAW2nrVhRJVubfCpW70HdroAPbGWmS99jsIqHxCUhS9FpKdodZDY4Yb2voBDuoxjaSVO2sICGJu1DSSt926EAJCh21yvie2h4aKEO3ibGAJ2lbQ61Cr3bLt3SsmDVsIROoYdJw45Z0JKTkq86k6ekVVSwCS8ig5TftDkrNWg6KdmjLVfcygYkLqS3oypRlmuGujP4bO1DRUt9Fi7-RyI+uf9krhw68yT24VZCFx1qsCdXOrVeFl52N8M87kEMFlnHiwDl+jOV-veRQYANokuDF8g2zA4Zss2ZuHuJapp2vBUydOsFYztdRUrqqtSI3QYweS28+w3-Z4OaWJa8pfhsSmPHGw6po8gyygUOSQq-JgIYUzgYkRKUYAAVQSrO+uaEEBCO7UOQiX5eZ2Xgy6ql4w5EbC0FjJssdXYXHUXog4cZtdGgEyLrsGBN7ndFBDWpmMRRrgJA4VNVAAE4qg12wfXoOlUGBIBZMMKpPpOVhROGhgQYKRvApdt0hJIGMrj0wzOBeiYUwmXPuCp6AmWTLFMGgHP2vr+u4GmRIfuEFowIYnyW-dKrEpVIbhgQ3wGOmcBopIC8gvWdYCf0L7X9J+YSK21v1-KVFwVdRTBGlBhq3dzqgyVjpx1Nq+QcgVRVAZehAgQd+S8LBAbUUHoUeZO4OOhykC4qYg76hIt4HSA0hna-wyCvNDVTrs4QLbNttSDFENxngZBwTsCQqC-K6smGKlIwCoN21QA-THaByMZDggYyt+44qijRTEHzF+Sg9e+usCyGRQKGmwNIcub875oRoKXmBQUGYYS1voi2OGvQ0XodDAZGTTBs-REbCNlGxpBYa278HKDWpYQ6IZpDLFhQB+ifUfsBCyHUURPVtWhuDAdAS0-htQ9LwUESzCg0hvw-4bRSytlUcaBgPEdRSX7g+PhprP6JpV06KV5qZneqS0O4r7RIewMGHpNbR6SUSeggEtWBT1CsD4q+aK9BF2y6p9gsACBxxXkUh+MOQOgMfE4acHWFVilAfQa4yMHmDxBtg7IFJTEBlD3B3g7RpYy5E1KDR4Vs0d0Ddi5dvY9o5ZqfzuY3CI21DcCGoAx9+xvxPkaoFqYJZe0qLUg5-yoCEImjWkA42Olj01HIawKBtkYbzheBBoZh8wmbqD5XwH+EzZibZuxTobcNFsIpQ-3y0IQ7VVGAtgdr-bUh+dTLZiXoDDkAAdLAEhpORVFjD+AIBMU1r3DV2qdKc1KfqBACGqDmKYg2iYxPYncTTCulYSeJNijZ4hABImOic59ouToAAAF5N1QAOJsIKybzhEnqWbxpzkKYpMuoqTgIGk1qUxQs8bg0mXo-0Z8Don8TV9Nk1KeeqEtlFIJDwCCVIAgljahoJlhCDwD0ncV2piGeMAlPsmDTCrS4yrFNPmnflCpkUEAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:green">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgIa1CITBpgRQbGHQCW5eCDKnqOgGNz05BtiyvWAhgEJ8EiRghDXGVhzwFK9YLeDXa6q4MSAeCm8UQ3wYjDcHO8HESQ3ngySyExCJsBjQqAaDuBN1-k3g3wf4McCBCShUXcIWa2KH2BJUcQwNsO13R+D6WyEFquUIPCVDaIxQxQK0NiG9CiQKQwamkPcEoZesxnctDkPSH4BpgqgdsMXRPgz0Vh8gYyMWFMCJATGuQ+miQDuzsNj42wqxp0D2FuDDhiQJoVjhmFmtNCyTEYIMOtTDD6h0Q9uh8AFJLCYWjrKYdFQuG7CZhtw2YSxn2EwsFhfSOek3kQhno5EVkJfuKGhjP9pYASY-kEmP7sC6IRRd-j4TKS8DMR73CYGrzGAEMv+aCZEfIE0BuF4hlwosM5QD6KDv8zAm6CiNpHcDUO+KXUAyLrBMi2ivIzQByOkHu85OdpGpvgHnQS0t6UQFRlKM3gS0mGKXPuEKLL7yA9ABDO0sYGSawDjwvIzUT80pFV1nAMkREciDVEii6RgbDQfqI1HpMY0to0YRqKHY7CDw-I-3m0WXQGiLeHwZdCiImHM83RjIz0TSx9GFDbIi6AMb6NlpuF32J4BUXcGZYuClUdwMTkcj+EhUF+HPJqoCJcS9wSCjWf1MmExB1gVOfTTTi8E0BJs1RSbNEf4kJoCi-MU3RSJ7F5EGgPRFfNojWJpHRluW8wTQBGNsh1juBOgoYp6ObEKQlIko6UcywIbPDA2LJNMbYkzFNisohYzxIQAcDsCJg1IMvPaNCGGo-iYYjURuNZj2drhBwkLoj3S4hCGx3tHJPZzK43iigF+Uvt-BV6kivufoTQs4joAqtp+NIWwCN0aD7jVyE3QmiF09gjsNRhIp3HQJC56AVGZTZxCFzWRpjQAfRAABIW1bAAAQXADgALaAAJT6KQAAA8g7WQCqRNC2hUaPgDMAucNOifWhO2PdGcj-+oQrcSRQ+57i2JlgM1heMAnUg52lYvBGBI7HvsLxMgSoOWMGB95pJvcZif2OSQz1sJuEgiURNIkUSqJCk7ssJNEksTxJ-E4gDPQvGgjhJwE-HqBJMk3QLWYk2gK+BmFoDzh0-ZSVp2SQmSOJAZOTjMLoirCMaTiFERMVKpHEXOkwHIKWPcl4Rgp2fKSnyO8nu8meDErsdFOMnBj6ooo4zhhL5aR0SA7nVSAAAY6Jx8IqDeGrAKRJOPTGFJQDQRZ5KppIfKQeE9i5TGprwuyssR4BwTp0rUgYE1MYB95TsZUn4GANAGM85IDUy1jVO+6hDzCtTEAuYValTSJwtUwniQxVamA24I0v5HYEKixRKpjXcXpNOqkrSxgGhB4hVP0TLSVEtUpvmkFGg5D7gN4GQCmF06mg1UdA2TvdEVBADhpm-FAUtJOk3T9uSCT5hzwI55FzCj02wM9OkAph8ONbGMcJVMBPSXpRDN9qDOQ7e89cMOFGTDLRm5SzxIgCYF1BMh2Bq2+QPMqw3AH1iYe+KaGbDNelo9s2PwY6PHHtDKl3QqXJfu7xp6FkQe6eBXqoMzi2QAkWIg-qyQf6OlEpHvfme8lKD8DVeX3MUqEClGqwxSsQBmWjJZE1AUkFghUgb0B7aCFcdgHDoaNsihAtZcMwwZJHyZWyUwTBONjlAIAlJRAdg6Hv4TxmMznB0A1mMaPhGCQGQ-wMaVZwTIyzyUGIiWeLPP44jH+nGUOVAKCDqw+BJTanj9z+7EAtitgAUVvwlmnI2Rg4rWlEGqAyzh6ysQDizLoHVApYstPAJPHrmOwmBxI0AGwKlnZoS5WUhXktBTmfjPuisb6Ql0zmQls5oYufkOJbnYilBEsu6LvFnnGBrRZoSmLCKpHxy7gXPUueXIQ7qwSZqCcmQsA7n4ivyb2OuQ3OB7vIExs44JpvLUHUDjYy8kOWvLDmdyUOsJEgFnJzn5Alu+QZHrTM5wSiV2iYpUT8wvmKi5x7HLmaqK-kTYtRIhXUazM-nmzEo-s5wIHLhDBzP52NH+Y4TgV0Dv5iCuUbPTqQmidQzJNBfV2-nY0luz-NqmAHrmTw4FxvXrA6LBlHQ8FBDN+cPJzneiChstb0RNiRlBAOFFEHOSOx4VFyfhu6PBQIrfKOF4xgC5Mb7LbR2BcpPgYuOATk6K5wsxCNRSMBQKVSCKGwKYFuMZCEy5OX2QmQY1amuZTFh4mJsJn3QVcDpTs-GIy2kDPSigd6dPOU0DYW590FiomRXTzqYhLpSgXKdWI9DEsdQGU8JQeAoi-yIJ3tKYNajrC5SWpnQAeNtP+C7SFghMiJITSEWTjWxJbBcAUpzk9iEpQ4wxbICSxJLKEhM6RVEBHEEjS+BSrKIo3kXJ8WQC4wjoinuCkt9p+iVzLUpSUHTfRS4swCuMhGKBWlvIKcdlLMCYScJtgYiWeAAAyFtaifmK0KwkUpTE3KUaC8lZS5O3EncTSAknujBJ+k3iZ6n2XnKBJTDRSZUFuUGNHlISo0GpKWUrL1l4APSaMAMkiRbltk3yX8IyFoInE5kzMZZJAndZbJDSoICeFylOS-hP4JnhCqmXzS9FdwJFZCIFYqtK6gK6JUctCF+SLhgUgyKksGpHFK6EoFRWEvikdiZZyUxiV5QJUJSspASk+KRX0T9LylDK0UZeJhbArIR-k+QGSp6ASjoq90PycvREgjDlkCsRtg5PoC0sIl+dQlS+WWR5j8VlUo0LyvYnsqsUT5P4RyqpiINVVKq2JYlIFWHTvaroBmqpCfFUcLVxLOyaatJbF8cZpEO1SQEVlfj+5PzOEN3T6XmrSWVqx4Uw29ULBDOzquavyseEATslu4xvgaI0WbZ4W3gGCX4DyY6o+gdAzNdCMexidTAaUrSNXWElnIlVwaFmcJMb5yTTJaPD+FBNUhQrrJ3WOtRDw-iiNDw9yOtQKuTo+Q0VNwkLpyyVXYq3BHqzmlgjK4jqjJjk5yY6y+ZKrNAeYrtZtI+hKrrVk5I2S-MWE9EJkDUstbxIGVij0RhNEyZ7CqXGLDguStINWt4nJqMp7Mi7pBPS6ewW1FEGyY+oV6dqLAa6kJX2uUhilB1V49LpitEBjrEgE6oIP3zxDDreWlUiDSwFbz2hFplU5dS1VXX3JWpjwrdVYJL7cjPE6nVqT0RLULB21qakJRWtnWmTZRLIIjZVKo0qTTJTDdTnWsY0eTTJanMYIquo3saXgwaFQHutI04jy17avJd7QqA8amNOSdSfhMIkkSyJlEn5WkFk2aSFNOkzZYuuo3obrqkm0jW7jHEnhcgV8lgvino31cbFaQQTcWtamHrdxx6ych-D037LPYsmr5Rstthua1lGytsRzzpV5jnNOqycktCM05ATNsDWgBTWoB7SNgFNXCDzCNWQiDWi5IGHFtLyxb4tZrRLW4KYaxbotOS9hBlqEBGgitV9QMTMmDWxLo4owUrfIki2ZaTQtvBktlruFiYYNtVJlvsTdWqqQCeWwqBPziy6Uote0obfFrDXGqKNKW0baXmm1lb5xI8G0e1KGHVCGh3wokN1qq1-ZZteIbbZOxa3-CDehVFqkNvy1vRlwu20YTYDS1lbGtPxfbTCXa1GbGAXW3pWatiVGUrt+WgbTblECeBToXkONRNuJUgrSV6wpxBKsO3LBVKx0V7f0qKh-beGb24loix+jjzjiqYiZRmKmVxj-ATWlkOMvTECr-S7vA3vvFiCaFbtdkd0saqZiPb2WL2twA2CR0q1lov2hsN9s8Q0hJgWCRTv6zk4mwUBihL+uTSpB-1cQHKw9m6w9ZRwAd922GC6RB0BSwdZoCHTUm52owE+e9LAcwgZLAs1okAkQg0vMS0iMqhQojuIELniLAgjUUji1F5FEk7K74NTEsVJ1NaTwkux9i9AFbVFQgBOyZTcIXnOgtlj9e7bTqnXu772R7aXaewagbbiWIBD3ce1Si80P4SoVNsZW8GewAAnP+FGgZ6DKROgRvdN942ATKAqqugaB8CaAaN1AlmeSRUBPqFSFcniFYAyKFS+ZxgfPTaBRYosGoaAfvVBssH297oXemlg3tlmd7S93g8vRSC1R+SRMN0KwB+F3xQ9sZZfKfQXr8mz6I0mgNPeMA33hU8Vbigyp4pijNw9142pLeKOp2Qiw93OGQO4tP34VY9sOnrdBGP0eLds6eDnazGfbM6UIxAGDVYQPDlA4Q1jU9bas9ittHwWwVNs+33GGglAhUGDUCV-C4rb1PEbCIwFAPK1imK7OELUWHRo9R9J4d8B+GfagBSW1gQAzZx6jJU-wtGwIKPqVYhqQodvG+fYPVi9qxOEnTENxuxiuhG9UQczfcBI1sbWNG61zIIYh7qwsDOBjqHgdUg3ZFRIwH8AwMn16VvBtVMg07rrVkR+DZ0nQ++H6jsHKo9g7dcsBINGGPwVBrKAwGsP0GFeXeonVKpBViqDIqu1Yiwaq0RjNd2wbXbS0SnLqLdBAFqroAmFx6SWd2DHYTtBGaE2MW6xRR4U9zDA6AN4LVMgawQ2rZIroKA6quTawGO2GbRyA4AAMoG9iaB4XheQHg5JIjgRzlV4GXFY6bh8R4LePnJL6FKSBCk8NeHHFdilU6orYEk13gHQCWFEfpX4cwGnRXQNmVwiIUnbG7Qj11cIwmo1Kixat9ra6BRvJKzQDGf2WrV9CL1jiEZDuPvODlq1+sjj-hfdLsb7xCwX622zY6HlsXO4sctx93KzC21XbcIhx3fruneOmawc7CC7bscv43HrofeeHQ2BEj9LQToQk427mGh-7+lKLFTooCt2gAAAOlgBUUyrds4nfAD0QiYU7iq6VSSLZF71qY5DzJajv+GRPmrUTlY9E1buxO4mj6TeHg4Sehb7ijohAKwjdD8bmE+ToAAAF4Z0sTpwPE5yaJOLG-GYp8kz5EpMkYQDNJ0tJrxGgpH6A6R48KifZMiRpT3J1aoCy6qSB9ipQfYqQH2LMtCIKLViHgHpNVbdTpM-UwSZlNGnzWpphqOadnxWmBWSp-qEAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3el4PODD4MwbBQHAiDIOgfA8HUwcqNBJkArKyit3FUiyAoSjDpGsTMslYQAPzWMSx+hAAXAs0nlJfNhn3IGTHYQixvkiw62uJWWSXfzKDHXiYB+1gb7BX9H2Nc4F3ZHxStYM+y8sq9kDFA7MEEI7K1AEAkBoAwFSBAheaBMJ75wNAAg60UElygVQRuYhNFsGkLwYNYi5pEawLgeQiKZoZRsNsgwuBTCQphUaBFfqUVvLsJSpwpB6VhG0FER5HK0VMH8JSkw5SYdcokI4aATWkh5x6A0dxUEfEG7lH6Dg0hKQNGW3MZYqxoRVGFCYedZa2ipFYIoa4y63jfomSFMneIgDiAbxwUw7W7jCjSIts-aWa8QnAMYQseyf1ca8PiDg6JKT-EWniaEpJTtFgu0oG7OhypMmSiKXIdSiDNB8T0POTRyjTDBI3hYhx1i2qSS-gJROgSWlYISYkgRWDGDMDWNtAAqsQY6ucADusI4SMlUHhUAABaNZniV58WcrNSpLt1LCEGH05GlB8CgD0BEQilAWDCOUGMAxwhDR81Tvs6pxUbl3IeZ9BpJBjk9whDYaoWC5CyHEOcy5Ug-QsEWNQEgXRHkkGeXWGwvYu7M3IMcLZGhV6NNsU89pHSrHuT4sQLo69Vi0DMvYolNhGnGN4vxX5xATCEtpQ4vpbL2WkMaRS5gPC+hPI9CkcuUgjJfz0ERDFwyrFn3FdBMYaZSV9ClXIUwNKb7wo6jEToVQgUgrBSi6w3hxnMpTNM2Z1AFkh2DlTRYMh1mbP9nCfMQLPR3kqt0hVAl+p0FacjG2zhc750Lr6mVKQz6CxATfZYqw9C1NxbDS0Tcw3+q5Q4z1igemSuYsmnu8aCLXX9Q7JeFChGZSaRIvhCSXmivGIwGCCb6l9Q8sVTo5jBkb3DVE7FdTngtoGs1ABnbu0pBvk2-tjUxGDTVR2oBgUyaIJpk9Nxb1-UvLORciIFMqbLp+kjANMxNJaphsQXVmJgXyDBZuyF3QqTY1STzEWyL7FfgnQ0pN8M0k+yLfOi9BqHVGtRRAggn7iRQRtFi+x7765c0fbk9G-Q-0pRvYZR0EGYKwYfcYDDMgX0OK-FhyIOGv56sKJe0FgHX2aSXb4vQNLVRwZyYyfpv6ElkZSLUUItQ0LB0zZIEg3D23SVLiiutgs9AidHfA0AUa1GgFjT4QEAAqQTLCz0dGU0bJSXTFBqYFBp7SUmjQAEhQjurJnQN2xBkSEH7Ggzc-SA2oe3rTVdKEXmhDRW9LFviv0BPKBxsIdad3Uzo+jexkbK72Jvs7WUpVrO2fs7QxoAkiPcwQ8+1lDHChWZyElmhV5-R6D0XRnL3LGMPuY+QVjAEgsUcNQ-OtyDSwObKRkhxT8eQteS0Vmz8JqzuhiwsAhYE2vNOkz2xKo3CvoI-vbBjN9Bb1Ys6WiKET6E1pRWiy2WLza2OZEFtFsT1AMCOKAPLNm4W9fQQJS2gLgPplAPp6UnQzs6bhpJF7dJ20ndBQ9wNvbV6W3TcSvCpLyUhMpQKwxUtTuDG+xpv1I6S2KSXdkhGPt11ic0no+VNp6O0vfW5RR4c7EVZSEA1HFIl3cKfSorbmJuHzdw3oOnFp5vk8KO+9ncoJXDqAaD417HMRflI6ttHFCZvPhgdWjeLzmcDcVKz6XRDXxK8yFzyn+96mq-G5Bfnyo00Pz-cC6weyl09dm7Lhn8uUWK5-qzq3MvKwa--ELoHzaIEoJd6+Q3QSR0e9NzgEen0x4T3YNPLgc80CTUXuzL4Dbnh4QDV+VZJxztRBHAu4OeiDEMvsPxQYIOR21rujyNKMK4Vkv0Z9I25WC+mORyX4P4tfSsFhfC2vUMGmp63hcL2iZBUpmhZ3mv84g6KXpTmRlZj8B97Gm1Ca+BBh1WzmIPF1A1K97L4vuGy-BjdXX9DUOfKqW5Pn7v-WS+OoNMGNNHPik8foYlUqi0C-r--EBPjkc2m3+Mk7jQ1jBVwVQ-3ZEskH2mwVRTB-wOmP35lw3b0ZFyS-jALTjtj0FQOpwlAumfhpF0CUCh35TMiASv3mBdFbzrk-XHlBHjUZyPQbB1EoKXjIDwK1kOR4hklL3MHMwYJxEUwaU4P9VFDRRGDGFC0IOUGhyFCxWW3jwpDz04LEmrGRx6TQIUxWDWB-lUO9U7hoKeHmzS04KmF4NeR1H0Lw3gIsNwyMNBBMOBj4PILdAsOwLEBJXi0kOkIQ20MGGtGbypHEPoNeSyF0BGGUMVFLgzyUllB0DCL8Mm0fg0LjUUNoLdx0P+2LwCMkISNAWiNCOGHCMyFLgAB48jYiCj4iaUEExlqAlMAAVDIXRHIOESUAudwAGC7N+YpToG+QEUAAAalAHKzCEMGiF0DOStm0LMEGO0z6MGOGNCFGJiB0AmMwNO0NA1VGVNUBAaOoAIBkDmVaJ0HaJY06KqUoB6KBAGKGIp3PiiGWNWLSOmKBBTGuIWJsCWPGPwHUniNcOcGfmoFfnfjd1Zzd2x0xDvHXm6AyFElIKA2sDvEu0KNBV8PWM80KHE0rmROuneIQRCWhOLkJ1uOF1DGoHwJ0E8OINySp3eJvjd2OFOB1CePeJkx1EqOJLpOsx0imMGBdF+KC24wfhvXXgZMz3OAkLPwFUPW5xqK0OrHNWIHSHhVk1BFdXIwA3RJSDRQsKxSIwsLoI3gFIxM0iROsLSMELsI93ZWsOzRcIBzCC4zdUcOcChIBNhJF140Ugd2rFBJ-lRLkHBNCEhPxLdINOlIRMsy5LSP9NE2owsikixOZPZTxOUAJNEhZNwLJOWMpPP0RhpPZTpJ-lFK0iTO5TPlkEtDZPh3vHUByPkyRJnB5KGDdH5IfmBSFIhRFKiLEKUBhV3UlKFHDLCBNVqORIVKVLJRVKeEdUlHUycntO4w1PhLCG1M4N1OoKUOQysS-FNM4MMItKeGy2JLpT3NtOMIXKdMvMB1dJhLDOHjAFHiYFYEj04Fnl4AwHkIMikGuVuSoHuW729GZU3njIViHzNSBB-K+UnwpEgr-LGBuRdm-XdieX7kYJjhbCFT0jRVgsoH-MfPO0Skvnug1G0xsA1A6SPM6S-z1FIusD1AoqF3ukU1oqSMYAYqIor0PBYsPHYsKHugrlKG0wErkFIUorCHulCjoBdlUBdUGEkukpaLgTEtCHuhHMYForUocWUpsHumEhGEGg8DoCNj0uGAMoYBSm0usHun6JYpsD0DwkGDhDMCOAAD5QBVlBjFLLKPs+hAQ1lbLrB7LHLnK3LVlNkvLGKK8tNBgUggrQAnLjhQrQBlN4rrBvL7pgAAqLkHL4qQr3LQAwAIqOKv8ABSLKuKhK1y-Kkq1K0AdKivDPWyiqvK9PU4JyyKr-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-tyu8MLzrAb06ARuxvizWbOghz-OtuOgjTrAGsqMHE0VMusVJvpv+B8uiR1u8HluigIUzuoi9udvjSGw9uDuHTAP2UvwXRMv7vBSUpHTDuITHZ6BCXpvZu+uruaybQhzhvRvHxzuXOpu+vZuXQFuxvM2UhVvbv6vnvwumbXvz57ALgWxMfHwt2UoBDEo0ewbiPof-SRxDQqeHEMeavFus42zvurFTuQxgvke6Bcv4v+vruDA8ewGAfwhHv+efPNvCe2b0SzNctSeZwJeZIsBle+7iOBDGfYfmfWfaU1fEe4GPQtfQAjvBuUoKyyeyhMumfLD7FgeHTQOgyyZ5KtAzOSshyhJ2GASgTV3OslIOvFgcsb42AkmYhZAxPA+Okz4o-CXhjx1ZSStqOrVnANP0EZyxu1SQf-OPfyAzPN6ntM+tONvzs9ExvKuqg0VDOsVS-Kwq-NmQ-8xsK9PzsG+2PHxbqE+Y-Q67w9EPAYhQpYhRsHf1CBCx-9fHfa5g4h+yVszRs9B5+R-JhCOdQV-ljO5N+CCJUd+1-+OcQXR9-t-h-szE79Sp+XDCOLur-jD4Cm6Dgp+v4NXjDCOBDB+z-R-cGdPp+HaXDiuC4cMCG0P7gEB8CUHkFR2iZMcweNNM8PUigEWEEcipavF0EXCSBzOZKLIIwADQFRi4NSKDsuRfaLhVOVvR7IYFAD789sX-Ckhf03IERX+dhT7v5yoEE9gwEXDoOVjPgkAJyaA8MBgJyAdBsBKHJgHYXKw3w-QiwdSPv1Zwn97ulvF9rB1PZkDAcAhSQegwQjutBg6g7SO63kE89SEwHRYJ92d7O8vwOg5VoAJQZ2BHgg0IpB4WDBhg4Q7aOgLN0cEyUEwdAAbqAIFiJk6ocTdwc4K6BeDKuLzRtghFcFCMLkTDKINkBYB2D7UNeQIS4NiG2CZwdUQ3mi2sDJDgh3UQAsgUYBZAM6YEJwS4LcHyAPBuQ2FhJkiEBCKhQQ6QPwFCHyZwhaMDITlkq4rUYgpiIof+RyF6AchjQyrpkJSidCqqoxOIbbwMB1R8GeyCYbYPwBhgjAIkcCn51eSLCtApKSIDYLsbzD4hNtP5BdnwZ3gNhUjWUNsLiEyM4h1QxMqkJZZxM5MhzboSnWyB9D6h7aexEyTuGa0xhblU4VsL2FXC0hwsHYVz09I05wcHhM5NTV6AoEf+WQOSloEYGHkXkO2GgdQIX4EE6BtBO-kwIU44hWBpwPbnE0f4gNYGCI0ADhF9iiDDyYQzYd4Bsx6UveMgvfjQIdpUjkRM-B+s4GWBnCnAkgJkQUV5GIjqR1-HwTSPG7Dt8AWoToH0TiaAhpRhIWUUhxi5lBhRlIrQGYDiY6lzcNrfBMAN5FaiPEj-SQNCOLCwjEY6ojkRKI9ZXIdemo3xkRzjRUiVWvI0xIyM94FEXQhokYSkBdAujfRRNekfyMFEcsfRs9blDqADERjrS55F5gqJlHM0rB5JLIOx36x3D7KE-YjjlV+GyZK4fxIbqMGliDQbMonYhGWMaCDBfW6o31mKMxBopBR7UNbmqixRuiGRAoz0ZywhbUx1RFY2gIMBjHspax9-fEfMEbGqpMUSTRUVkGZoPDos9ZZYqmMgiAjxxzEaVFYMICyBTRydPCJ3QdHiiIgbzMMZqILGGcLhjwLrlD3i7eD6xIGd7IZ0vG9drx9pHcvL3YFM10ugsHhnQCsHD93IkgPriiD3G1hbxT2dzliibaaigsdaEge5zMBcMYmPDdznpFTGgA6iAACWVqSAAAguAHADK0AASnUUgAAB5bWsgHOxyE9k+AewGZ2YTR9SawE90ZyPUKbj4KO4piQyJVZni-xeEVttJ0YltinAHrM8eoCyh9j6A8BUSaUHomsdis6hDCVhNwn4SiJpE8iVJNJ68T+JDE1LJxOEmEczxgI3iQBJF5AShJLKfFjpNoBrI9hMA4OKeik5WT6Aek4gCxMI57D9ESw9GgxipHuBEqwxMziGGOgljZJMnbyL5JYD08+Rrkm0VTxomF9TKEkgSOZJYkzRUJDaVcH6BICWdzsAABiqB7Iz0cyKqCSwSEBxKwlAA4KnlKlZSChWKDKYqmryWdBiPAaCZpAant5sp3geAnoiKmUJyRzwKfh1LVYVSOgWYuNMk20wCFhp5xSNjZkqli9MGBYuwNJH6mPgpAMQSVCSyq4gYZpEbLTpVNkIHESpq4Eaa+EqnV9QetqOwGMDmTqAZY8nFKDBOAEEdIsTRMrn1KX5QC9p5U86WNOGx2i40cHWVBe1iG3T7pHLLQe8TBmSA7pcgGWGRzlZntDm-UFbP5xhlwyZYDUgscGESG+dkQ2rBgTWVAZcE6xbva6TIHBnwz40Q5YgS9PwxWJhSqoskZTywQMyiUv3JPMwP1RPsVBWbJ7B4AxGr9tx+iTcixO5kipNIgstgdqg0wskz40oyjCyRvgYyIZLIhVMv2x5wJagJmS3suX86AyfAeGXukSjPiqzqZTBZ5KE3NkIy3QS3cQQQFOwyATBrvV5DbKtZWCTR0I2FMRFAgszf+1oNydthAysDKBNAkWZf3hGkyRxqQCFFQKiYvdBuX4EgBMQ7EJTl+4c1kZiMmADish1gQOTaMrr-peZdMnwNaGRTHk8AymauQ-DRHZyhZ5-GzJHIDKFymsUs9EQnIV6Rcg+Kc74mnK95j9Bx1gdWQThP4WITME8hEsYWGykjn+6gcWcXMozgoLkuM+LFIG8gFzcRh5EwlXJrlPTNICYpUUmMXmNZ95DYWeVHP9ILzBS4IiUL3OpihjFgs3RYDDzJnrC1yU4xMbH0SKHyZx383It9Fi5Pywa3UbUZwReYRASBT8o0T2i9mKAfZNIP2cAoUyvzp5eoyhJ3QG4kjIRNeb2WSUQUVcX5YNWbtfwKpgBq5ymCBd+R151RHRhszBSq3vn9yvRboaBYGLoqsLuo7CsLqnNDFNt2hecwoE2y4VDy4EdpeMdONlFWDw6uEBqVtIpHVjgxMU4cXYVREgZQw2QGzA1PqmyhQQa00CBtNyDYyjsIGJhROKgwdImFoYxRdFO4WPZQwm4qMBovyzYy7F1gFRYeTanvdiAqc8xZ-KPn-zPx84lGTrjGAot5FWsLfOpGcVaLtphvFMfYGXEZizFa4tVLMNQmKTJABEyZAABllaFEvMaUAKknDaJplBqclKUVBzRxzgNiduODC7jzJ3EzSTuITDlKXJIk0nmJJOnMRLps-RSNJKyhtKFJmErJbkvyUaTLQWkroG0saXuS7hCQ+LLnSsSGSMxxkwCTVEaVuLiWWQGyXcPBBU8VlOw26k622UyBdlOw8EAWPDozLKlNouZTsM8laBvJHMklitWGIyLulESqKcxNikMZ4pdEm5bYptEFiaQMKVcOEpsU-KzS3w+5ZMNOHPLCgOpKqvYg8mj0oEpQg4OVgcmhTGJkKhkSxMN65jrlJLASHiqcCpSPc0K0EZ7NCX8tIWXYgVpyPPEss1FT2eaMICxQPiIODKmFimAnR0qXUL4zSOypIBvjZZ3cntKCsQoCqeVCXKldcJeYircgynUld2P-57k9hBYiILxO76GjCOh48hseJJCJAAgI2YAZBIhhgcxAhgWomMAkkizeJbOASY0GcxhtDF9S7vhJPZn8yKB4E87GstMk1QvVn3NFNQzGQc57Vew72tykOWXC8uQICSecriG58iadmLrpZLknEAk1jwevA4mObOr+x0QlamGpWnJoC16Y0EfaT1mgc+lNddjnYG6UOqOJ2M1lRQPMlYo0wDirRMYsxAvsdVSCpRd6q8wgY-V4gHcSZOphmTB1Ia9RY4FLWNqo1RwFkrGovHxrv8JLbNSwBTWhBFgaatdQ1M3W5qrE00kloMFzElqOcHUzVVWoMEW8rVzgSTo2tqI4qowXq-VWKhJZOqnJMC8lo+rkVeqXmj6iSV+szWdwgN5akDWFJZQvIbVDa+1YnUdXBrQJFAzII5MzXvZMlykwicRLIngAgsmGvCdhrUkFL81Tks9XlVQ0vr-QQqhsICEBKWN44Xpbjp8pbUopYNYwDqQhubXbSTFJfOQNMpJVYpMl2SvJXhsxDCaxlJG4jg1PI0rVKN5SmjTiDo3HQGNt8jCL2UpjUw0wCNH5GGnfVwsygYaKwp+m03QhZWawwHAhxbjwEsYSBHTSIBPYtxCOiMmuHsm3R9lqYklezYBT00HinGhmwtHoU-ReazNvm6pVpCM2MaKQtmkLQ5vM3qEXNncM9DoBMhdBwlYW-zlZtc0ENaACNagJtNM0OamVmq-TRIUK2AVytNWFVvKseAvNtN+Woxbmjs3QgBIlWotAsX5XhKiMlWvQG1uyzm9iSNWlljNF3W+VBBsxTrd2L-y5aGt-fd3hIDy2bTYtFAZHENthYSFltxCTbTiQ8SPCx0Y6noa8JKGVCllpCSbQKw-QNwgwC2szdtvVV6LNV482KnlS80Nac0cMbbQMJu0Ob+ttxNbV2FG23VsWfK2lSi20yvaYgc24OMltXicoJRzK9Qh5PhUrC-lH8lyprzgTCV40oO7sZJhkApbSGMqttqIpGKLjElFay4XaWAQDbQg5ZMnWmOZUHk8MmvMzEtkrhPawga20UIDuBDUAiWgIc7ZC20ww6+IUOtHHxOoYIDCB4W99FAO3q7196UhKkgASsELsjWJrCVHDrW0Ewdy8y5HemSsRIr0dYOEMHZmeBR8+w8A54LPWuYUNOR7CzAhqxCoxjkOygXOYIsBAWoaOGhTFIuBnJzEWdA2wEGrv3ZfxLloXBJQzsBEuEougsYelzshA86Q9S7XDBNpx0CttMyejXaAQKkNiVka4CQApSxQABOKoHeHkpODGdFmm1IpAr0yVmVpo0xL4EGDQaiBbqgzb4CHU8yl5N6ZwFEVynE9KRhepwXoC+ZfMUwaASfduu72nyrEdejQWjEtUOJ59DesKIAw8nIQHazgTZGvjbKuzshw++vR5LX1rBBgwkANvPquVyA7pcIRPDBGlC2ritMK8UUNu51pq+Q1+mSnfpehAhBd-NdQDfu-1i6YKh7akDKpiCjbfC3gdIDSGFqtrMU80LFMWyWQtAA2E7CpQ3HN3EBRtCDCoJcqCw3p7kjAGA3zVABRMdoSoxkOCEG7z7bqGyTZOgdAAosx1OBx1P5UqAmywgtBvlhCqNAW8lyzvG9PavY4Ww7V3HdtPNC73WA-1pU59cBvA1OSLYUSzllrNjkXIiDJBqmGQeHY0gQiwoQfbQb8r0GnU5ayUOIY6BsH6DIofg7zPMCmDb1oQQw8YY2RMHux6KNVAwGcMbJp9B+qSpXsBEor5lCKolEbpZI8Hcdg4i3YGCt2ct7d6hp3StS7SG8-9sRi7PTqSVHLBYdWGtdyNAxXaSxdAOZIAwgN2YdpbKpA92L9aoGy2wbbiLIEuTYG9OMxPA1rNXKgh3sKR+aK9HSMU6LxWRxTWAIkwWEdtnzXOE0QSnLENRLQDxiZjZaMtwlURxkDEa6NaRhjDtR3QQDypdpfxH6irhlgAL6bQKiUfY9SPXVZAcO9HLtVGFY3ha5I2MzuB1NsQ3GDZ-m7SH922nIyZM90AA1-vrS-4PWUDN0PcZG2gGpA4Sr5mWL0B5yAAOlgH-X2Ca8Ih-ALUTsZx74qwVZ5LSnH1AgNDZJOAlgHQMyqITAkqE1kNhPwm8Z4wPOMieZZ7i40hAXwg7QS4CEGToAAAF4s9rAsJkegia6BImUTGxhLhycxPcpsTgIXE7IHzDK8bgn6HIIUcAYQneTVJ-RAKb6qXMK8qgWYh4FmKkBZizNQ0F8whB4BCT4JtFfydpNqnVWWpnU3qcuVimRQQAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section&nbsp;<REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3gVkwAVqoah0KQ0SU1BNrFVLOV6P1yNy07iwu5QbswkvBEmMlNgAPxKTyfLrwHMJGyHUNh7lO+LCY-T7yloDCaJY8T1PlAz8OYyEQv1KDETgJZehon6gAAFwLGknfPeKUj73QPpfeE1ZkSolBDA2BhRIH9T0ngecDB8DMDYFAOAiBkDoD4DwOowcVDQRMgCWUyhW5xSkLIBQShhyRliMyMB1gj6gGJLwiBUD0E8OfqAeBGRjqEEWG+JEP8xIoMktA5kgxGGYJSpA4K-o+xrnAu7MRz8j60Kyr2QMejswQQjsrUA6ihFaKkCBC8+jt6GLgbY60UElygQsRuVxtk7HiIcYNYi5pEZuMKMYzxZoZThICcQJh9iFghTCo0CK-UoreQiSkKJEUUmZRvtFGxgTn7BOUoUrJyohFH01pIecehyncVBHxBu5RH7iI6WEcpls2lCM6aEEpmiFjnWWuUapHiIojMulM36JkhTJ3iGohJGisELG1mM8RuSsrrJooM1ZhlHTw1xnE+I4yTHtVjEcnm8TElBMpGfTeBiqmbMlGfdSJjNB8T0POCp1jTBLKYe0-poRKqSR-gJIBbTbHLJWSkbBjBmBrG2gAVWIMdXOAB3WEcJGSqDwqAAAtASiZGgTLOVmq8l26lhCAJ7sjSg+BQB6AiIRSgLBUnKDGPU4Qho+ap0pXIamrL2VUE5XUz63ySC0qThCGw1RbFyFkOIRlzKpB+hYIsagJAujcpILyusNhexd2ZuQY4JLPnPB+T0nlQLgXP3cnxYgXRGGrFoGZPpdqbA-KabxfikriAPw9Z6yUPdbXBufj8l1zBYl9B5R6FI5cpBGQUURE1sL3HJugmMNMjq+iprkKYINkDtUdRiJ0KocqFVKoNdYbwiL-UplRei6gWKr6KSposGQhLiX+zhPmOVno7ygsUOCu+dAAUrzlrnfOhd+rXV4UfQWvDIHLFWEvThXz67d30HOh+0LAVBpsMO2eI4BJYxncAgi10J0OxoZ4-JaSsoZJykU32+6V6JvGIwGCHz6F9Q8sVToUL1HprCFsi1eh-0DWaqo99fTsEbueFBxgg0C3AeWcPO9kzaajLehOvlDKmURAplTGmT1cMi31WAr8JaYbEHLZieV8glWEdVd0Kk2M-rHJ9qLPlKUvy-s3bDTjcyLRI36OoitlbmNdprYanRBBhORGMCertRxQAesE5apT3MxPowkxhsBrGDmXIUVuzjKmf5Uc6V+czynLQ-ykykJjirZMeoE54mZehD23S5lx+Z4nJNgNqKEWoaFg7HpIDEoD0lS4Gs-YLPQsXQMSNAEuoZq6fCAgAFRRdCfRjo2XL6RZBPloDLpktGgAJChEHWTSeORkSEH7JYzcCzayYmM6wnD0yUJ8fk+mARIszUzKuXjZkTmwifpI9TLz6MPWLsrh6yBztZSlTdsQJrLW-GNAEnZ3TJzyCizDcGhrm2tXbavP6PQtSvM+fDb5kTCMjtIyzoxqtbn+MsN9Do8xz4nmnM6fAnkZjSytcrMg98HZlsLCcWBcHr6Us5OPv8OHvirubch5kd0h7IGC0m2F6hilzk7JuSvI1lszXmx6RNzERq5BS3UAwdTZ2tvo6sQJS2sqBuGFAHlgUBXmco8tJJfn0ogMM7doq7nNtnBab0JbE7HSHVraUAk11MaGmM8VYMMXdJOjjvfbe4nnj7L+b02TvlQlVCnQuR8VT3m7Xy7ch5F9lTFn3ZSiBzDJuIoxOucU5ZfKYlyKygo-3FpQ+9K94hvQEe5QKNg+opXtbDMzE0o5urWGw-hjPD4-7-jA9MOD-l0PDu0cF9fFj-8KfzX0Iry418iflQTtr0F+V1gKXnNB5dqxDCg8GpD9Xh3Pf2ebij6osB8vR+V8gs3xZ762+GeuHgz6BCiHsFIVwChaBJpE4pM0b9zw8Ifs0vik46mogjh9xSWp9SfX2H4oMRX76rd3RPuqzV2rxVQyNvdh-LShuL+7eFK2iGqWqTqP+3o3yp+FkFwXsiYsaKYn+EBOqn0Qcik3qOYvqrS+AsB+sbUE0+AgwdU2cYgVq1AakMBb+Y0hBHU3ygw3UZB0MocUabqYmeBNBBBcMRBgw00N+EotSmaNokGtAua+BrU-wgIwhI4l8OaFoncJm9uCiVmXB7IlkCBiUP8KYMhB0zB-MqmP2jIYmqh8WmkckVmxuFIF0DONIugauygGuZk6iahzgLoIBd4dmhC6CLhZhDYOoHhZMNh1AsgFs1KPEMkr+5gtW6eDYmW3yERE6ooRqIwYwM2DhThFoZq+O++ghNuXKERiiiohu4KEhzg8R1eJRWaNcFK3hTwoee2ERUwMR-KOodRMgnc7RqmjRoIzRwMsROILo7RVhEoKukBbBmulRgw1oQBVIaRA+mIX4WQugIwRRmQpcF+SksoOgqxMxSOfCoA8Rd+hRUx94TOe6HgcxDh+xwiyxOxwwax0uoAAAPFsSsQ8XsUGsYgitQFlgACoZAvw5Bwgho6DuAAwCIyIbydCQKAigAADUGmD21ghg0QugDKVs4kTxiJl8cJiJnuoQqJMQOgGJegexNx1g8K9agIAJ1ABAMgGKoJ4JjIDAdAUJPQMJQICJSJyJRJ6J+AmJ1YpcOJKY3JBJNgfJJJApZJ5xIxHEUiMiZeieWJ+GBqd4jC3QGQokvhYCd4Z2jxVRTxcmCa32iWlRFJkS+6mpxcjuyJqeoYIRxJGR0azhMK4pkC1exwpwOo5p4pBxOonxdpHpG2OkWJ16Qwbo5Jk2oWRmKqjCXpl+5w6RExQok6hQdavxjxjaxA6Q2qaWoI-ahQLm1aHqRq7RZqXhhRQWNmmk+pXRlRCRvRtenqXRo6wxMuYQIWA6Ax8wGpDONpIBFKQ+WJDu1e0x6gqpmI6pCS1p2pCxKUepIZpxex-WJpcBZpYZFph8Vp-ZokfpwRdhOgzp7BiMIG92HpWJCZWkvp4aR8sgloAZTO45cgW5oQwZOQoZQpe6LoUZwWPJKQrG8ZmxqRSgGqpGKZChq5YQGZawKpQIqKuZTq+ZTw3ako+WTkHZoWH2UFoQZZERFZSm7RS8aeHSX4dZERDRjZTwgadpXqFFbZTRmF3ZzFsuO5WpxFTCuCYA+CTArAm+nA5CvAGAuRGExUbKHKXKEqPK-ccBCsiBDaQIwqElGBFISloqYwbKLs3G7s0lDMts2kcaekRqallAYqPF6miUT890Gol8NgGo-SNFKQ90eotl1geoDlKe90mWrlhxKwjAHlVlJ8h4Plh4AVhQ90FcpQl8kVcg4ijlXSJ8oUdALsqgfagwSVKVIJz88VIKJ8MFrlMFnSOVR6J8wkIwg0HgdARsZVwwFVDAKUxV1g908JPlNgegeEgwcIZgRwAAfKAPioiVlY1cLnoICASq1dYO1Z1d1X1fisSkNZ5SfEVoMCkFNaAF1ccLNaANlutdYMNfdMABNUyh1etTNf1aAGAAtYFVIQAKRHVrUbW9XnU3W7WgD7UnwX6tUPVnXn6nBdWLVSEACEJwX1J1j1W1wN6m-111fQgIzx91YNP1LxNg0N4VJ8zxRwE131m151GN1gqNTlJ8PVCN01ON+KfV+N71UhPVmNK1oQ2NT15N6mp1ANsNgNR151oQT11ggNNgJ+T8EIxl0QIqplkl18lRxwYCr8rYeIgwJlZla+gtCm8tYt3oyIHgI8IYR2ktKU0twgONXlwtylskMcLYcaw1YQKtUBMIJMWAQt4l6lRhJY2tFlPI90tGZaHQl8HtBWFttFJVUhkAxAdGYUaV1gQdIdVMft-tI1gINVkgsAkArl8did0d-t908dAAoj5VnWnbRfdAAHKqAF1HVF0F2vnBpK2DZW2j4S1HBS0iTfI41tF7o12-YslV285t3pjmLgo62FB63N2m1lB4Gt1G2O096213i9piUi0K1QwKWJyIFlECrUwxCSAlqMCCpOnvxUifyUy2nApW2aVZBCg6V6rNmFBL2HiVBhBZ6KT3mKkQWIwr1jHOrq4uliY+arZOp6BW0-KnF+nWDd3O0NF502A-0HD-2hzUAa1a2G5AOHHj2i1O26KlGX1hAgXJkf0nmmBGUKYgU6AM6XFPo4MxojbYiyLP19AQi4DcVr68XEIcBkLcCYAiXOA5oRgUCSBPSGCvjCSMAyxw4r0VyeDeAy3pwtjCOgLuJyQ-m56PidjcmAiSB4lDZolSnqQWEKOgSdhgKQLaPeJZCoQUrqrCQ0xNJ8SlRRDElxaLGaSqCkCkDuDMz0IGCAJONnUMCIlx5ONXmAhwlHwBPCK4ncmOOkDgPPwBPGwaM1F3hMTkBUy+AaPSqG5L0JNR0WBVb2MNiSnKOjXclmO4SyCWNAbS3pOzBUypO8o4kmCAj6EZPUwtIsBx4FwiNMwsyJwpZBOCyAj6MLCJRdNbCbBCJsaJYuhdNmBBBaQTNtNmCQ1AiILdNMo6hDObGAiIJ9JHycOOOWi8OVgCMyxdPwZEZSD+yPLbxDPbBBoPDoiRqu7hytOTAyMvKAgFOImNPjDeAtOrM9xPNKP4n9JwlqPD7KLoL3NMSPOTNilAtckfOVNNPfMSN2xPMQpzM1NBrgh9MdIroIujXBXSpy0ItfOMAsAvNwoLDxHHPuKNOjXeWDCJS-OTCDCzPPNEv2CkbNMpbBKSn-NgJBMADkajicyjQr-TkppJXTDTxLT0jA6ksrG1fhjMUklcN2pkXgPgOoCrkTnS90OQXtKYvxuJucwofs1I3gprdkzMB05LYGSDHLWjCE2rLLbozr9riTiLpL3L7rSTWrI4cr35rr-r-1Pr1M2rAhYgHazwy8rhlLflMC-LWky8-TMFd82Zzaraz64cQwcInaKlvUYheMMbSr6hSw8byb7i7hu8KbPxPg-U6bmKcuDzuUoA8hLJ5K095rjAlY5AecXgg0HQwYBwxbOTgxub0bu8-j-IFr9T8cik+wXQ073br4PSI7PZacBwbbL2ICXFoAxc3g4+LQoEctzWkoSF7Q5AdDjDrbwwIkLSoAk0TKsgikk0u+u+e8Q51IUsegp0cIgwdgfojAHQdj67UCqrAHvxwHNxR8PtnQJz306gP7Mgf7WkOoEHQHosFpR8aHIYkH86-SK2X7pASHKHLo6HUHcpzgtSR7WQeg5OCmkuEUNHamsd2WzHRWHZQ6Cpokv7kgPAgwvH3UUFRqbJHgzHZq-I37vH-HEZLYjHWUzH8ahQrGon4nmxsHHQaZa5OIGn0Z0mrmOFPOpq5HEnRHJHkg-ALrLYqnijTFAFKqJn6nTqpavthn2n8wunHqxZn2dqX4ZHuHQHdnnZwWjGU5js9AFr5nMngnz5I4WnrbCmNnoEpndAUnyHfHVnZQ8nFwujQXKnhAYnj4V5Gn8XhJ9gFwcn2uOXWQGD4i8RiU0nct8bMXZxNohotXwKLo2XinSnzm2FxpYQRqjnaFqXxHLXM4BXPXen9nTKjnpwJX-WNWhQ95FXRIk3j4j8S3dp8R8RLXVmHXwaE3hXuXEIW3oA3nbnYQK3-ngHHQsXHR03wXKUXZ1gL3baFIGVWgpADxZLUFQk-j-Z0iiw2LwKki1AQPPmkCbA6zMQsg3bIPdqR8sPFrnuVJmZLADbLazg+7ViqFzHhZr3o78wn35A33+Dg2OPh7RX6m1Hj4dHVQRqF7ZqlPPbdPgIgPMi+Yxlp76mLPr4zHo1yP8PtDd4tSHgMQoUsQcO93K98R0vrXcX+h4vTqTpcOCuEvxJK9OoyvkvkwSvGv9hCiOvmvsbLoxvugnc5vR569RF8vwxsbknxHdvTR+hb9MpRjkR2hTAvRsbRx+RFsBv+g8v+33v1FEbC44YMCsbG03sabizHb4XztZ4Xy9bofkRJAiFXQi4kgt7TqWQjAK8BUxc7yk7A3XWXiGCl3FOgfVOgfkgNvVZBEgwwxj3oHVvxXzndGcHnqMHOZqBXiOf+r+fcfwx55CXiw6kVvDuVvvXnZ2F5f8RICl3X48RfoE-yLGCgwa-6kVb98s-WFMmy-mkOCIXMZoH2-MC4f6j2QLAg068quwYYYcIQGdAMnj-qVCYdAQnJbAsqrr-yz7-Z-l0C-50d+m8RH0nVAO5MovGUQG-nf07SQFABL-WAY8FW4GBIBiDO0kgOAHdRFCxhLetkDFTYD0B6VeQB-xwHtMVWLMf-om2wHSB+AoAjLPGwgE6s6OONGIC0iyDjwwIT-IDHQJAE6txEbAp6qiTgEzg6oJjClKINQH4AwwRgRujSgEQr1ZBWgR1JEDsCPBkmcAvWlKiUGdE5Bag6QS0yMGUCzSKAslom3Sz7J8BXAogWQKAGH1n4PpcwXnWEF9UVBiTWUOoJv5aDUByEDQWS0kHqk8IjqLoAyidq9ATCOjGrqABwhvp7eBqavir10C19kh1vTbLb2iGREW+RPZwO3yc7Bgu+HQRNm73l5xDm+TRMAaoO8CbYyq33dXmkOn6B8905QtPpR18qeCnAkgOoQ8WWBvpWhCQ3IWn38b4AtQnQOEom0BCjDCQ4wlNotEQ59D0qWgMwIm3LKd4hkEQRcH-WWH-k7Wb9evooGLCRDEYiw2IVoAqG9F+mLKeNn0LMDbA42a6OIcsz6EtJahX3B4i6FuFQDn4LoJ4d8JSgvCah3Q94Rvy+GYC7UOoP4eCOBTtl+mUwsYV7Sv6HksgvbTHOYPaqy942J1NwWlkrjtDvuIYY6INE2xLtLmXbGEIMAVZls30VIwYbhQUw9D2obJAtGakBFdCehegKkacNJGNBBg0I4FLSJd5DDGR+aU1Os2mFZAvalgpbEMmRH2BIIRgm7O8KZFpor+hAUIhL3cjbCOsoHCILyx1C3D2hF7bwZoN-bRdkO3-OnIlzNQXsSO5ouEEwSGHM55unfT2qlkFjCI6AV-TUXhEkC8cUQ2o+joNl-ZmoDRywybJ+i2G-szAQTRBMIl-Z6QURoAP4gAAlM6kgAAILgBwAmdAAEp-FIAAAeQLrIB1MORWovYG+4hI4eNtbUa8IuHUVY26ojSs5zwh1iahyzY0T6ITA8jrsbIgNP02NHqAsovY+gPoSHGlBqxFrXbGwJ-7Ji0xmY7MXmILHFjwA448rt2MXbkiZx-YlesaMVE+i-R6XAMbuLNY1jGgBKIwQn2Dh0Ytx54vsdUKcANiOisbIwXUjkHS1D0cQ9wJtU9wEjpYxIqccu28jfiMeHQ+sW0IO74BKxtVUcQJH7HPjJBSY79KuD9AkB726mAAAxVAKU9GDFFVGtbwDz4r4SgAcA-SES0J+As1ChOzQQF72iJHgBGM0g0Sfs6E7wPoVqR4SvEeeWjvLxYnnMt4JEzTr73jYbNL48RfiQ8kEmQRSJmXd3jxI6JBCyYdgaSNxMfBSAYgegGiUGN5ySSN40kzbKROyIMkCJq4ASePlIn08wuwcWAWMAxTqAZYa7QoJGMj4xsFsQJW3FxLV6p89JxEmSZpxhzXC10FbDpEfHiK2TJA9kuQDLACK7xBBNgCKVFJli789GnSbBARAJxDDEpDkrSda3aHBgEBwHZELkFT7O8feapMmNlOilLx4u5fLYYpMu6AV5hZQeXg1IG5fYiYR+VvvpxLKeoKcqQ3XvXwyFVlEJ3U9znkI76FDPafpI+KMNcx+lIEVUmWFPyN778iyWAKrBd3an8ogpdbFYT3yGB2A7JOUgIrymmZLTtIiksfnNNkCPc3ub3PzkdMik5Tl4V-fYeEM1TERQI8kjbq10Ql8okhuvAaU6Qb7oIypYfTrCqnb4LMFuA3GjMQAxLAjSeDxFaVmgaG6890-I6wNaFGm7CLudUyPtaH1S0U8A2WMmWAkBnElgZ9hUGeiBxltDHuX4aGS6KmkFZ3JJARGRyOl78jUZIhGfptyqxLdR+aU2xCELWw-Tj2f0hme9kP6sYCpa2KQN5Hpngy2pF1MAGTOyzUZNI8ImYYiJlkGc4Zx-MWb-WD4TlpZMZcLIpA5kCkkZ9QxYDJ0WCWc2hsbcsuKIREI87WOsyUR7LfK2Jmpf9B2d1FWERErhjiSPvbP2mWl3pigT6TSG+n2y5aTs4WfsjDk+BHZkc5HNHKWAhE45tHR2XLRk7281Z21cmRsKkA7c6owzB4WnKDnuJrZ1MDkZ8IwG0VPh3Uf4WEHrm2yHiBo5uTHScEIR057clsoxThESjxh3opNNa18CiZGQlAuSolAOxvppC1rfNkWFoChh1RUYbSbGzkjaTO4LEnpNvLnExVtIZHPKba1CDA4pC6geyXCC+BH5wQ-TORm6D3ntCZ6uEGiblJiFcjHxxASkcGzqRNEAZCmUMNkE2w0TqJsoUEGpNAgaTcg2kybEak7miizUQaTuRyJ-mdC-50ItMBvNvigLGs2koeSkEFG9EmJDYZBcxBNQjD3Z0o0oCm0Qw8Ng2X8rWJQXUgELwFeU74XKNREmiWmlC5kRDE9BJjUx6Y3McigAAymdUsbiNKA4TPCME0ycxHbFPjnZc45sUNODBtjdxibLsa2ITA0T4Jv871hOKyiGKrJtcYOKYqUUCQV6oiyQOIqkVri52FIPRVooMXWsjFWClem+MgaODxE+49EYeP9E1RTx0I5eVkEvHmDwQB3QJQENGqIIdC1rKJQEPBBvy3kNilRX-LUVOjzB74rQJ+OBQQKnqnud+UopYVNcsFiEqCYovMUIS2h7QmkBqlXAKtORAC+pfWRcGvi8lHgwpYUFdl9UPUvi+-ogPsFAZ7st4oCbWMwUQThi3wnETPXMUzKahiEi2p0oCHtCtMTC7wPK2DbPi+FOk01PNH1rqZbRUbNpTsr3SAgtlCrAnnLGOUkBJpLnbvpaSaVaVtlcrC5XK32UmD+mDy3IFuwEhut1lN-doREB9F09bh0fVhDY1iBhiSQiQAILDkj7wqlJwcQwL8TGCjihpmirUaOJXjl8IV30-FfFyNQhj1MwS48TVHxWPcjUzjBFJHmxVGD+64aOJT4N-ZnjpxtAFJTfzuWhBFgzWEjpyuAnEAeVjwP-J0ipbbjaAgwHEfSpUmWgmVLgjsltNC6WKH6vbOwEopxU+iWFhy8CTULNS4KNAt8BBZDNOa4q8IkK4xaSoUzkrxArYo8dTBPHGLaVICxwAqu1XMr66yJNlaaOQ5JLIlV4oLgKr6AcqrWQa6JbVwknWtZVZ1eVZHhYkmCVV-XNVew0lCDttVvxKZVGHxXQryleaxNguwLXSqBxQyYtaOLjylrO4Fa0tVWvvEBo+UGKrVdivXq6qaVVoinnIDvFcr6AZqexVmJzH5iixJYybAOqXHDrVxrI+NqOLjU41MgPakVSTFA6Ahwes7dVRSGLWfyj5mIZtWMBYltrWxeqxBQpgXU2L+1C4xxdIrHWXrJF0i6dWuholzqnqZ6wxR2S-Crrjo669NcRjArUw0wI8CVLunzWJZd0+hOzABuhBjoteCEMDS4olDnpINIgS9C3FN5ug4NG6gyFIHSJJVANC9YDcfI6ZlAMNtRJTLhqg0EahhsUluPoXPTkbkN0GtDS2BI13h6MOgEyF0FaWUbQO1GmoqY1oAjxqAmkpDRQENwgrHglA9IiJu3jSb8OlpcTSwH6YAahN8C5iJaFk2iFiAeG0TfFLrx8QPl1KJTNJs03aajsgaM7naQU2SDQ1o1fVriRuXBs5CAmlTSLzJi4aVNegejaJp+VdLCNoFSmNTC83bwgtcm5HFYIpYcDvAtgngeQP8X2pGFrSuzEFs80SBTN4ZKzZt1WpnV3NmkujaluhACQQt5m5ElZq7A2bV1jAezQlsc3pVUtLm+RWTDY30IgEPmjZd0oCH5L5Be5GEfhV6obTn4J8hzTsqSwyB2NVjAzai1039IeFCo9Ee2T3gWbL5AiYkiiNm3xLR+gs4RILEy1hArNoocrSayq10J9NtywYE1r4iuaaEeEEMM1gnb3xY28uVPoQ2IbpIyGqZK-rvUnjTwHMaMlrWnwOUEwyKPSj8Y3T6QDK+k7kG7V8lh59hk+zwIBky3S2JEgGZJZvjNUwGptlAfIvuaEEBBNpG2HQs4v5SJRwsNpm23HZ9v3o-abQaS6Dstt0Cra0R62yoTi1kVyAMGe2yEOVsp3fbVMR20lCdpq2gAedX8anYrxwBGphIvojKk-zNQABOKoHeBl2pU+FBgQvm5okCZU+F9fFpL4DO21SVUJ8wwNZiLLz8VUzgTYphNK42Bld6kAVgKxTBoAndfKnqT53ES26N+xuoLqEFt3a6wo4jN8chD3TOBiUpBU-ixViGa6n+fu3XYbil1rgo9qVN+XIFvn3yYI0oTFa1tBUuyKKRg-bYKr5Ap7Uqael6ECCG1ytL4N84vV+nF0Uo-4+0akBNpiChrpi3gdIDSEyaJCFM80M1FSPhC4pfR9exeNxFkDMpiAoa5RhUDSWTZWMnKRgO3tDqgAFmO0GYYyHBBQUPdY1EnUPupCgAFWDqifd2nGq30wEHuz5q0vmhGhzu-XN7qxmxW9sLYWKwdkBkv3xct1hE7NZWtrUNqLYbCzkWtOsCz629jpKmEvtOAr7liwoa3dYE31Eo4DI3XtRmqHZH64DIoa-Yf3MD3TU1KUWA3AZJ377RRDAPA6gaC6+7FRQyvJX0p62ghfxyJc-cwvBEw7AwcOzkc+NlVY6CAZ1JhIIPL3ytXoK2+UUzp8GCwAImUy2RSDsw5A6AGKcRs3uaz6qe96mPvTihaCD7mADeoxQ3GeByHTUOJKfbPzwqgghcvB1g-TqIaCHVdIh99aaVVbtFQtns3OECWRlUy4hqgPplVlxYOsm9PdRkCwfmgm0mwdhvdKjs4M41uDV-ZQwPvngaGo+BqcvuZO3hL85MZZUOJ6XUxgJQWaCO5qwWbZRgd2+8IWv-FkCLse4ZqaWpEdUPRGcoqTDBHp1sypHLy6zbyom3AEDz1DOUHsXSgCMosd9xRi9KlNWQANGj4B4Ki0faPmsSjScfpkMerD+MRd38LND7O3LxEZjioKAdLXmNi7f44xtJn8xATesVjDR6sESyKOdGZUBOM3RaugRJH94SxE+IkoEQjkwW6IfIwfwNm3GjZiwMQzgF6MTaBWpIvQDjtAAAAdLAJ-MgbjA84+AX4i0223rVpqvKO1A7qBBz729ehLAL8daX-HyRgJnHaCfBMjKugD+6E6S22FrpCA0xPdCh3iIUnQAAAL3a7WBQTYQCE8SZhMhGUODJxE8GmROAhUTIRdE0txuBKYpDMhnwP8cJOQm6k7JsGgyxPhuGVYuJUgLiS9qGgBWEIPAJieYUSnCpUpkky01lOx0FTQIDwEqZVNpLeTIoIAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               map(javascript_value_process, args(exp)))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}
</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section&nbsp;<REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3el4PODD4MwbBQHAiDIOgfA8HUwcqNBJkArKyit3FUiyAoSjDpGsTMslYQAPzWMSx+hAAXAs0nlJfNhn3IGTHYQixvkiw62uJWWSXfzKDHXiYB+1gb7BX9H2Nc4F3ZHxStYM+y8sq9kDFA7MEEI7K1AEAkBoAwFSBAheaBMJ75wNAAg60UElygVQRuYhNFsGkLwYNYi5pEawLgeQiKZoZRsNsgwuBTCQphUaBFfqUVvLsJSpwpB6VhG0FER5HK0VMH8JSkw5SYdcokI4aATWkh5x6A0dxUEfEG7lH6Dg0hKQNGW3MZYqxoRVGFCYedZa2ipFYIoa4y63jfomSFMneIgDiAbxwUw7W7jCjSIts-aWa8QnAMYQseyf1ca8PiDg6JKT-EWniaEpJTtFgu0oG7OhypMmSiKXIdSiDNB8T0POTRyjTDBI3hYhx1i2qSS-gJROgSWlYISYkgRWDGDMDWNtAAqsQY6ucADusI4SMlUHhUAABaNZniV58WcrNSpLt1LCEGH05GlB8CgD0BEQilAWDCOUGMAxwhDR81Tvs6pxUbl3IeZ9BpJBjk9whDYaoWC5CyHEOcy5Ug-QsEWNQEgXRHkkGeXWGwvYu7M3IMcLZGhV6NNsU89pHSrHuT4sQLo69Vi0DMvYolNhGnGN4vxX5xATCEtpQ4vpbL2WkMaRS5gPC+hPI9CkcuUgjJfz0ERDFwyrFn3FdBMYaZSV9ClXIUwNKb7wo6jEToVQgUgrBSi6w3hxnMpTNM2Z1AFkh2DlTRYMh1mbP9nCfMQLPR3kqt0hVAl+p0FacjG2zhc750Lr6mVKQz6CxATfZYqw9C1NxbDS0Tcw3+q5Q4z1igemSuYsmnu8aCLXX9Q7JeFChGZSaRIvhCSXmivGIwGCCb6l9Q8sVTo5jBkb3DVE7FdTngtoGs1ABnbu0pBvk2-tjUxGDTVR2oBgUyaIJpk9Nxb1-UvLORciIFMqbLp+kjANMxNJaphsQXVmJgXyDBZuyF3QqTY1STzEWyL7FfgnQ0pN8M0k+yLfOi9BqHVGtRRAggn7iRQRtFi+x7765c0fbk9G-Q-0pRvYZR0EGYKwYfcYDDMgX0OK-FhyIOGv56sKJe0FgHX2aSXb4vQNLVRwZyYyfpv6ElkZSLUUItQ0LB0zZIEg3D23SVLiiutgs9AidHfA0AUa1GgFjT4QEAAqQTLCz0dGU0bJSXTFBqYFBp7SUmjQAEhQjurJnQN2xBkSEH7Ggzc-SA2oe3rTVdKEXmhDRW9LFviv0BPKBxsIdad3Uzo+jexkbK72Jvs7WUpVrO2fs7QxoAkiPcwQ8+1lDHChWZyElmhV5-R6D0XRnL3LGMPuY+QVjAEgsUcNQ-OtyDSwObKRkhxT8eQteS0Vmz8JqzuhiwsAhYE2vNOkz2xKo3CvoI-vbBjN9Bb1Ys6WiKET6E1pRWiy2WLza2OZEFtFsT1AMCOKAPLNm4W9fQQJS2gLgPplAPp6UnQzs6bhpJF7dJ20ndBQ9wNvbV6W3TcSvCpLyUhMpQKwxUtTuDG+xpv1I6S2KSXdkhGPt11ic0no+VNp6O0vfW5RR4c7EVZSEA1HFIl3cKfSorbmJuHzdw3oOnFp5vk8KO+9ncoJXDqAaD417HMRflI6ttHFCZvPhgdWjeLzmcDcVKz6XRDXxK8yFzyn+96mq-G5Bfnyo00Pz-cC6weyl09dm7Lhn8uUWK5-qzq3MvKwa--ELoHzaIEoJd6+Q3QSR0e9NzgEen0x4T3YNPLgc80CTUXuzL4Dbnh4QDV+VZJxztRBHAu4OeiDEMvsPxQYIOR21rujyNKMK4Vkv0Z9I25WC+mORyX4P4tfSsFhfC2vUMGmp63hcL2iZBUpmhZ3mv84g6KXpTmRlZj8B97Gm1Ca+BBh1WzmIPF1A1K97L4vuGy-BjdXX9DUOfKqW5Pn7v-WS+OoNMGNNHPik8foYlUqi0C-r--EBPjkc2m3+Mk7jQ1jBVwVQ-3ZEskH2mwVRTB-wOmP35lw3b0ZFyS-jALTjtj0FQOpwlAumfhpF0CUCh35TMiASv3mBdFbzrk-XHlBHjUZyPQbB1EoKXjIDwK1kOR4hklL3MHMwYJxEUwaU4P9VFDRRGDGFC0IOUGhyFCxWW3jwpDz04LEmrGRx6TQIUxWDWB-lUO9U7hoKeHmzS04KmF4NeR1H0Lw3gIsNwyMNBBMOBj4PILdAsOwLEBJXi0kOkIQ20MGGtGbypHEPoNeSyF0BGGUMVFLgzyUllB0DCL8Mm0fg0LjUUNoLdx0P+2LwCMkISNAWiNCOGHCMyFLgAB48jYiCj4iaUEExlqAlMAAVDIXRHIOESUAudwAGC7N+YpToG+QEUAAAalAHKzCEMGiF0DOStm0LMEGO0z6MGOGNCFGJiB0AmMwNO0NA1VGVNUBAaOoAIBkDmVaJ0HaJY06KqUoB6KBAGKGIp3PiiGWNWLSOmKBBTGuIWJsCWPGPwHUniNcOcGfmoFfnfjd1Zzd2x0xDvHXm6AyFElIKA2sDvEu0KNBV8PWM80KHE0rmROuneIQRCWhOLkJ1uOF1DGoHwJ0E8OINySp3eJvjd2OFOB1CePeJkx1EqOJLpOsx0imMGBdF+KC24wfhvXXgZMz3OAkLPwFUPW5xqK0OrHNWIHSHhVk1BFdXIwA3RJSDRQsKxSIwsLoI3gFIxM0iROsLSMELsI93ZWsOzRcIBzCC4zdUcOcChIBNhJF140Ugd2rFBJ-lRLkHBNCEhPxLdINOlIRMsy5LSP9NE2owsikixOZPZTxOUAJNEhZNwLJOWMpPP0RhpPZTpJ-lFK0iTO5TPlkEtDZPh3vHUByPkyRJnB5KGDdH5IfmBSFIhRFKiLEKUBhV3UlKFHDLCBNVqORIVKVLJRVKeEdUlHUycntO4w1PhLCG1M4N1OoKUOQysS-FNM4MMItKeGy2JLpT3NtOMIXKdMvMB1dJhLDOHjAFHiYFYEj04Fnl4AwHkIMikGuVuSoHuW729GZU3njIViHzNSBB-K+UnwpEgr-LGBuRdm-XdieX7kYJjhbCFT0jRVgsoH-MfPO0Skvnug1G0xsA1A6SPM6S-z1FIusD1AoqF3ukU1oqSMYAYqIor0PBYsPHYsKHugrlKG0wErkFIUorCHulCjoBdlUBdUGEkukpaLgTEtCHuhHMYForUocWUpsHumEhGEGg8DoCNj0uGAMoYBSm0usHun6JYpsD0DwkGDhDMCOAAD5QBVlBjFLLKPs+hAQ1lbLrB7LHLnK3LVlNkvLGKK8tNBgUggrQAnLjhQrQBlN4rrBvL7pgAAqLkHL4qQr3LQAwAIqOKv8ABSLKuKhK1y-Kkq1K0AdKivDPWyiqvK9PU4JyyKr-AAQhOCapysqqSu6vO3auKt8uKPKr6patAFKOsGGr4or2KKOACuasSvyoWpmvqq-xcvGuCpWtWTcvWo6t8pcsWpitCGWqqr2vO1ysOr0EBE6qyvytCCqusE6psBT0vghGwuiF-Nwu+ShkMOOAfmElEg1EGBwrwrD0+pA3Br+u9GRA8AACsQwatAaUpgbmUVqmLvqoLZJ0KyghVvKwgYaAKYQSYsAvrPk4KkCSwUaCKeR7oT0dUOhtNGaNNCbjydKK9IBiBT0wpZLrBubeaqZ2aOafLbqTLJBYBIBaKJapaRaObdKtBTKABRFiiW5W+W48+6AAOVUG1qyt1u1rrOJKhqe2JqtzSNRsKHRvOSqvMNZQU2xqpp6xJgpp+v-Ktx6StpSBtpWrknnwdvNu9xYwhD2WdQ+XdthuISOSOKH3UPDpiAEzJW8GqWzIRtUDUCs2iEpiJKJWJoQqyCFGQqRStMKETjjoqDCAlwpArLfhzJh3UPcJrwHNyRyzizJT0GJsaWjJuOJKDvTBQSeNLrCHboOC7tDmoERuRuRxZOsH7pppsM1psB7IlKINzNMCwpAx7J0Gfg8FETXoFV82xHfhbsRlDtDyhnD2fKnlfO4EwE-KLFoCiFUAoEkCekMFfGEkYBllG3UIrk8G8FbDxrWKoSyE7AfjPjkj5PDDPFAk7GuMBEkDmIu3uK+PUjkl-o2PkwwZgcfFQj2WhWEhpmMT4lKlQaTnjtIFIHcGZlXgMGOSobyoYEGLZyoeLMBD6LPg4dwReKuMGJftICXrgQ4eNjGIofgKYnICpl8DEf+STjkbbSkYSvMBM1FxNPIYQduuuMIdwlkBIfbXRvLskapjkdFgQZMEBAkdmF3VMRYDZwLj-qZhZkTkmy4cFkBAfnUR5Bca2E2BwVvQkxdBcbMCCC0iCYcbMEGqBBPnBAgYuR1B8aiMBBicsTPiVQjFfvfsrC-plhccsRvlvX9hKXdh8e2BpQeHRF5VJy0WCbrK4a0cGOMeplsaAabD6XscmGeXmI6T6OQZBL-loKqaYjJ2CbeJ6b4cdvsBse8DsbknadqemJpXBA8asRjWsfUkBC4rkbBvWfGBmawecQWAELyY8SaduuYsGESgSYcd5LdGCZ2ameaf2c8YWE+P0BOZ7UBAAHJkHE4EGfmXm3nViXGrHHm36RxGB1InpIXHGEyWYngAGfAdRoXZrRaxa+QyVZjajZjc5hQ-ZqRvA8W7JmYDoDmI1JmlHWmDgUWHaXQaWHmlG9nGAWBJs1nHmqW9B6XmyWwuWmnwXvAnLH8KQUX5Rlk8JiopYcoC1FhnMIVClilSkox+p8MVyQNu6izzsH5+nURBnT9qmlWCJhVVWzbmB9oCWug+ksV0aRX4QxWJWzXkd2nlWLzCNQ56SknmK4mBCdRCJJXzWQ0i0wm3RfWHWEwTkyWwgb51Xqx2GuKvXTWcow2e4Xno3FR2H07M7SBs7LQv4Vme0BDU3Mhh7Qh0aM2qQs3KBKZECQ2cpTHpXwH5MC23W-THa-XZALWAV6sNSXMpJaDnX0Svx7oYnXpHcBn0RnWu2r0qMRUaMCIVtPSKQ7VnhlWyCfQBDlW4mmDDWXm1LpWFTLVrUxElExAl3oLeon68YV2cd4z13t2PEKC73Dnd3+p935kXT9XH7kCWNdk7x+RCXXxyA84vBBoOhgwDgr21GiY4R7V632G-3GBhR4D9gLWCWEPXxbEIPnStJ-8at62Zo8Bi5vBNwLhQIwa7NJRJz2hyBcAHyI9SBhgRJTFQBJoLlZBFJJpY9Y9gEw7qQpY9BTo4RBg7A-RGAOhYysPhKc0ROxO6nntk7T1Oh8msFFp1B+OZBBOtIdRhPaiZOI2dEtOQwdOcSOlYtePSA1ONOXRtPRPRYhWJQ9EWhQI9AA1js4cspHOsgsV7plMPOZAtN7SPUX434LPJAeBBgBPJBupNTQBvNCAPBfOsV+Q+OIuwvuWyg-sSOwGLzrAb06A4uEuojWbOghysOiuOgjTrAGtp2rE0VrOOhEuzOQv+BbmWw8v4u8HsuigIU6viyyuSvjSGwyuKuHSlzysvwrPDPRPOvBSUpHTKuITHZ6BCWQvUuIvmuaybQhzYv2vQIGu6Bkv1PQuWv0u3PMu8NOvcv8vHxev5Omb+vz57ALgWwMvfPi24EBDEoUuwbNCmv-SRxDQ3uOkXQXuOvOuqvouvMQMevzskvzO1vjuDAru4HpvwhuvJv6vCvbu2b0SzNctHuZwkesgLFce+6fuBD4eNv-vAf2UCedusuIQSfQBwflyUoKynuyg6u-vLD7E5uHSL0Fvg55KtB6OSshyhJY2gvFg82Okn5Jecsb42AkmYhZAEPpeiUz5lfCXhjx1ZSStX2rVnBCP0EZzfO1T5usOhfyB6PN6nsjfiOCumjTozvnOqg0UqOsU7fKxfPbqASgT8xsLyPztPeAPHxbrNfVfQ67w9EPAYhQpYhRsuf1CBCE-Kfufa5g4Y+yVszRs9BM+4-JhV2tI8-ljO5i+CCJUy+C-r2cQXRK-S-Y-szE79SU+XDC-YeQHYGiemA7D4Cm6DgU+v5BhW-q-5gBDo+G-4-cHSPU+HaXC7OMJKFYOR-PYEoeQX3omf3Fuaazx6l1+LCEdFTq8uhFxJAGOyUshGAA0Cpi4alDXoue3Fw8OIfHtDBQBK+9sJ+KSm-NyCIh-jDhusO7-THsGAU4dBysZ8EgBOWP7hhT+OQDoBfz3bd9Dy5WG+H6EWDqRK+rOOvmD27ZytvyP3ftiz1eQCE0B6DBCM60GCkDtIzrHAVO2f7Xk52bZfnlhyoHKt5+sIKINkBYCDQikHhYMGGDhDto6AqXfgTJQTB0Aouy-W+ImTqhxNRBggroBIOc4vNvWCEYQUIwuRMNOBjwHgfahrzyChB2g7gTODqjU80WNgAwYoO6iAFkCjALIBnTAgCChBIg+QGIKsGwsJM6guQa4IUHSB+Aygxtj9yZKmCcsznFajEFMT2D-ylgvQJYL8HOczBcCMIVVVGJcD2eBgOqPgz2SpCdB+AMMEYBEjgVxOryPIVoFJSRA7AjwGRmkJtp-ILs+DO8KUKkaygKhXA6oY8A8GJkjBrjWTNFnkwRCU62QaIT4PbT2ImS3Q4tskLcpNDyhOQuxnMPSFzCs41dHAuDg8JnJqavQFAlPy744RfYSAvDC8h2yf8P+WfAgt-1oIt9-+kHHEEANOBlc4mffDvo+DkpaA-+dhFQWUO8A2Y9KIvTARX0-4O09h7ww8uwI0LNCnAkgX4QUWWD7DgRBw9QjqSSb4AtQnQPonE0BAojCQaIndipzKCwjXh-gOJjqXNz9D8E4YTuloDMCPC1hNeDYcWC2GIwCRoAeES4ReZXIyeVI3xkcx+57CehsI0xD8OF4FEXQsIjQXAhdB8jEhhQAUd8KhHCiOWYo6UbcR1BSjZ63KO0i80xGojmaYI8klkEA79YjB9lJPj9xypTDehpQP4jF1GDSxBoNmeDsQkdGNBBgIrZkSK2H6Yg0U0I9qHlzVRYpZRkI6EZywhbUxmRzo2gIMHVHcoPR1wrDj6NVSYpkROotXqECiylBAWyxA0ZBDmElZhRvo6VGCMICyBJAsfdyJSNrA3DwCFQ5YoqKpHWiqOrQqoQJ1W7qdJBXokDO9io4WdWxcII-FWNhA3cQBTNMhJaJEp0kwRZY8VhFxRAViXOIGATlih9ZUigsdaR-gJzMBcMYmPDATnpANGgA6iAACWVqSAAAguAHADK0AASnUUgAAB5bWsgHOxyE9k+AewPR2YQq9SaFYwUSCMOFSDix8FZOnhB-HfCehjYqcWG1Q7fjAxLKF5o2PUBZQIx9AeAghNKCfj-2xWdQkeJPHnjLxN4+8Y+NQmPdIJKHL8allAlOB1CjY3MVOMkAziaosEh2nyGgmNA1kcwzfsHFPRkTMJ9ASicQD-HqEFhTQ9Ggxj2HuBEqwxejiGGOj2iMJaHbyOJJYDfcIRAkhEYDzfFW9TKyEgSLBMEkzR9xDaVcH6BIBMdzsAABiqB7Iz0cyKqCS10EBxKwlAA4KnnskmTbBWKIyYqmrxMdBiPAVcZpC8nt5TJ3geAnohsmUJO+zwFPkFKKaKtIIzk00XGmSbaYBCsU84vFJszOSEemDa0XYGkiRTHwUgGIJKhJbzins6UhVsR2cmyEDidk1cHFOqkuSgsd4TgWMDmTqAZYmHAbozEX4rtIsjvMYBFJz7r9Kpjk18IlOGwci40G7TrKxV1B2B2pnUjlhQPeJtTJAHUuQDLAfYys9OT7RgTN1eTrTNpMsLydaODB6CxOyIXIOvyuF2EXkrUxaRtOWn-iOyW6ckT4HO70DwUFyb6KpxT5fSiBM7ImEngAH6o6BQM41q-w8CnD8+pYmzPqS4Jz8xumkGGcAO1QaYWSZ8FEZRhZI3xjpy0-4Qqlz5GtSEtQEzMzzjK9T121I5MkMCeknSVpzyUJgTK2nUC9pSSHGbIGG689ee43BmS9MNZgi++pYxQLCmIhOcB+6gQSUcJAxAC3+n-eGfoiUJ3TQRmIG9O-yiZ9douX4EgBMXlFaTc+isgEWcMmBRjzB1ga0IJMrr-o6BD-CkdaGRTHk8AymV2Q-GOGmzYZjfBGSrOlkIjhuX4TWfcKx6Kc5pes74gbJF4J9oxNgImQTjr7E8TMuPNkQ4nHS0j++OwrglbP9m2zKMP02ITIEulSBvI2c1WYDIKpgBXZymJrJpG1HYjdRucxrClDfTpznh0-bOcjMFILsJQ4c6mMGMWCpdFg63T0VhyRGnA65WQZmhiKxGTzUxNgcdHiM7qDzuoxIzguyI+lLzaZPaEWRsPFk0gnOA8sGsPOMLrzF+Q8reeSx3liyyS+8rIJ3XW6HyER1gF2W7LJFLAyedUbkdNJ8Dny4mvcyOSKODYhDjyoo7qMqJsD-zgxPrYBRbJSA+swFMcnlOeS1Ezy0Rk4sVCS18DVZYWoFRKBlkZAwESWZ7T9qGGLFRgzphfOSGdM7hBTbEFCqQZJxdBWcypHM0cfdHUAdS4QieX-KyyDbTg3Q1C60eHVwheTSpXfN0V8KcCujQxys+6dthAyhhsgNmLyZ5NlCghCpoEYqbkDOlHYQM-8xMVBg6SQKFREi1SeAuNakKtEii-LGdPMWhBYxPfAcXJ31kGLkx9cueTJjkxPsdcYwFFmIq1hb51I1i5RWVLMH6j7AOY40fouYjSoDJ9gA8ceMkBXjJkAAGWVpPixxVkxoe+NMpeTdJkitSSPNeSAT4ZwYECUxLiYQTgJCYPJfxN4VoSsotSzuA0vqnMQwhUgnCUktSXpLiJloUia0vyWqShJRg3QfFlzpWIaJxouiQxLqV2KbA3+EluxKMHghAekyyoXYxSmEKsgSy9ZeCCEVVJqYtSvSU-KkHCT8hokolCoqqrDFhFrS-xSpN-HqSGMmkj8UcoKX6S9RBdXxaGJDECt35Zig4U2JZaF8zlWgC5YUCRFuV7ECw0elAicEHBys3E+Sd+NMWPKXCZgi0eHVqWorvh+kj3GaW6HCyfF-LSFr8shZ-igV5U1-vNGEBYpuxS7Mle1SBAToSVLqe0l+BpUkAhxGM0OT2hpAwpVwfilFhSqWEvNOVuQHDgJC5YEr1l1oiIFOND5ijC+EQN5nWJJCJAAgI2CkcuIhgrCxAhgWomMGQlKypxbOVibQFlbvTSl7kUPshJVZakFx6nLFNMsO6zi7Vw3NFNQzGQc5jVcw72tyjWVtCBO+LcibQB2VcCzeRNOzBZxDW8Tw1jwevA4mObmq1JFor1flOTQprKV9pSmV3OyGAc7ArSk1cBP8VUrMUsErFGmEsXkKypQWHtgqoPkFL7VUMzFIuPOwurqYs4piR6oUWOAM1Rav1UcBZKBrmx6nLZTIHjUsBI1oQRYNGuDXEttlHE4tmlJJaDA01fajnEFKWE5rRueasOqByLW1FkVUYO1cqowV3zT1cTZDncrtUvNr1yEs1aGpZRIcD1D609SigNWFrjVidU1e6o7G285APEhSfQCxSdK8J1428Q+PABBYwNF4iDYRIyXJqn1a6vKpkCA2k12VtcwEpY3jhekD1oi+hZiE-VjAgpP6ktTov-Wv80NAy0DYkuSVpLoNmITpfRvSUBifuXklDStWo15LMNDYQENhvQW9lKY1MNMAjR+Rhoz1cLMoGGisKfpRN0IaVsUMBxbsW48BLGEgTE0iAfUhadQjtJrh7Jt0fZamJJU02AUJNDCpxtJp02yaG4QYCQKZr6DmanFKm-TXeHU0mboQ2mluIXz02dwz0OgEyF0D8VOasOLm60aJuoAlT5NWmkVd0Mk0SFotgFRLTVh6EyquBLzCLSVPU3JaBIOW8UcamJV+KiMyWvQHluJ5os0tHQmaLOt8pwDZiLKlFn-loAI1Itz6h+s4BM2tbYh9mzzbFtlXxajNa4HrT3g81aaehXisdOIFsFRDHBbg8ZaQga0-KiMo2igN1roAObA2lWlluVrCAWjOtWW3NENvW2ea1tG27LIz2tJ7lt1ooGrbdWxYphFtArbTPtra3WSZAAW+pJykBVLCQVIykSYUOeVrlXKWAC7akEs3xpCtPy-zYFtZUdMi0iClIOEsNFAqDy53YBKDsSJI7Il6y1HejrMxLZK4O2oMldsJWQhbtwIagES0BCPbIW2maHXxEj6Lo8IIYOzMuzv5SD306-bervX3pSEqSABMEWWyzqVsc2xMr7Vtpug7k-t5ygHVYkhWWJ3ILO+pMrz7A79ngs9a5hQz-HmLMCQ-EKtGN3bKBzZsCwEBajfbgiaybFDZHwxB1JzUoQuitlW1zYNtSE5ZLMREqNE46U5SSQWMPQl03bo1gIB3dm1wz1bIdT2wYMHpF24ZQ63olZEdoUpYoAAnFUDvDyUBBKOpTTakUjp6ZKQK0saYl8CDAWU9-PAVJt8DNrFydsiFM4CiLmT7uLIiQApT0BfMvmKYNAB3unXgy85kM3PWQLRi6qHEfe-PWFEAYLDkIDtZwJsjXxMDDp1gYfQsNH1rBBgwkcVn3qEVyBOF3C54NKENV9auBiIknesoD21bN9MlbfWHu2TfKI9koM-VwvrT-crJaKGIDVolZ9ksUgIFFlNpq1XwcNeyEVh0GiD3JGAaZdpZRsxQv7A+rbPspcmICv7fWfZe0j2wkyQH1Vy5PvbdQ2SbIm0tRIYDMxiCBbHU-lHdRDPdkgZ5oWKG1kshaDisa21ISkQ3B31wHyOMxCoHsuG4YG-KWBlkUAe8BKQYS3+8jlgY2Rd759TegQZ3V2ZCrSZXXC5MasA4WwjVoHdtPNEr1l18N9ko9W+tfVZrbEqhlHmIakoSHAQp4lNZKGUP1dAOLIrQKoDf4BE0AohpnruqsScHhD1ur-YmIYBuGRDKYRw6EAX3GiGMCw8FUSnl0VY+Wfi23akAHqMg1dnLbXRciN2gBJAeVLtGYJp1QtXo7u5HbmMFh1ZZ9hQAA7wZAOhkc1eq5wHQakB+LUDvhbwOkBpDC1ZZT2Cg+dioN2tKjDB2QLAZq0IM2DMhm9MAfqN81QAUTHaNiMZDghourh63ZUdABf7UD1gLAyKF7opAMDERn5focrrM9eeN6eQ0ByUNgdOWah6wNeqClaGU1bOHQ0+otiBKjjF3CFIMazJUwRj48mkCEWFAN7pj3B5CeYbA5EGljlQJwxDN5nOHVj4hmSpgbcNzHQx6KNVF4e8OOGAjOO6FSMpCMdIwjFOdYwK3m0U4VdgYOI-NASO66CAqRgHuVgyPxGLs2R7HW0LyPLC91lR2HV80dGXHADUre6AACEwooUUDlkFmIcnZQKy9FuAA0BPBGAUhUoC9CBBXjnJ7QUAFeOoD7BtMPAevYaDb1Ag3jFofMIyb8XMnoJegFrR4EMQV4uT5AHk-AKlOAgBTeUB2vdFHys71KKYOZJQAABe4YZmp2HVNjH3j2phNtSCZMsm6A6gcMOpE5PcnnJFp-k4KYdoAA2cyfGdVNenNTEx0OjqZ+V6mvxrJzyMaa-yHiX6p0R00CFPHVJqQqgWYrACFP3RoAjwDwNEA6DtBZiAAWX5CgBTx9ybTAAHYAAHJ6ZTDJmPjVQNM9iYzPLdDTOZ3ynmeljeBZixZrhUGfLOVmK89p0xLMV9Y6AeIYpvZSYCTPjGBzWAIc6SpHMIcDAwZ0lfdEnMFmZzJZ+cymArMO0UACZxM32d3O+m22AZ-U3l3tTimJAo5c8-menMphZzpZhc7aZNPhneTlp601uZ3M+nUzfpqo+mZZPIdsz90AAGLI1Zi0AfmoCAAAii5r-NWc8B1mGzgFp4AwHABtSiW00NU8+dguDn4L75zM2ObQsYWUwWF2YnhdAtf5lzAFiCswHXOPBNzvZjUy+YhAHn1IR5pkKedDMV50LFATC9hc4v34AArAmZosiW6L+5hi7qcDNvxvAUhfbj4BYvyW2Lil-C75VNPmm+TKYKC8Je9Nam4Lb5nS-qeQvsmK8dROZNkGOhhRZiKS0yLMVVpcWLLZJQ0fyZkoQBUk8pxU8zUPzWDtztFhy-RacuIX9TzF9y55dUDeWqdflqdSmECuXMlzHeB07MT4j0diAJSM8DafUv2WUzSVh1oxeW5BnywMlr-B5a8s+WUwOVgK0Kf4CqX4z1V-s6+fqvOXMzn5-Sz+aMvpX2r2V-y3lfMu3VLLEZ6y0CFssDXRLVk8Sy3qQugcULFeK8dkH25npCzgIFJXCgkDzXAQIp9ot+clPlmdUB4xaVFaVODAuzqp+KxpcStaXkrw5lk2la-z7WqQtAXiydbOtGUgrt1Hi8dbXMbngbz9HVKS3es1W9zm1ySyeeavjnbqANw68DdOuEBzrDtSaI+bWuaWUbulr8wZd-N7WDrQN467jfxsFXcz-5460BZvNAg7zxNz619eGspXRrel784ZYxtWnwLkZmy9GYZu+UAA6uGA8CEBpYRlFMHeJ6DAHoLCV2qzgFJsuWdrblr-FLcYAy25bsxRW79XUrg3LrnlyU3QCyDYWGiiwUAIeOyC22FTSpuy4NbEvaWebo5yeoLd1v63jo8toEEbeVum39gtycq6MUDgqxaQsxOZKMHkAq2PratjW6Nekve3pbstv24baVvTmHaPAPq-1cRuu2Nr7tn65rbZP0H7o4ALNhkBItAhlaXgG0+LduoS3c0eYFMOAAY5qRQAKSnIFKZVMu31rXNnKA1ePN-XfKld5gNQBruAg67Yt9FgIx8nLFZi9HC4vgFmLz3TJgYeO0jaGtD2RrjVlOxXaruT3LTM9hu6AA7N52Obid4u4ebJvjWBbh9ie1PdPsXWfb6d-24CEDvZ2r7e5we-6b3vHnXL5divNAArDSSqdCprwBH0bsmHSgBqvKCmG1p23wwi4erhRcWlEseAMZ-uyTZvsSXfrXtqs2A9GAQPJ6hLC6+vdiO6BZiwu+5Eda3uF2-7CFku8nfRtEPhR9gWYpA-Ic53Xr+dmC59aTuNW+bFNyawReIecOUw3D6B8KaPvP367DDge0w+Ht9AgHAke6KeMrgcWZAEtsKB8ZgdXWxTEp5a5-fKtiBwAKnOwNpmUs4PBHeDra6lcIcV5NHglFMDhZ0d6OKHHQUO70HQQ0OQwswEM4o9wffXb7H5g+8460duOPHUjHq5fYLsD2hHx5sa-zcptf4XHcgbR7o9iem237BthW1nZNs-38wyjgB30ESwdA84o9iG0VZXNOnXT7pi65DdXP8WYbRThJyE+5ssPluFTqp04+4u1Pgbzpt06JyaeDPjrpV4YOVdICVXgnnNpJ+U-yyVPJA1TyvDVuBvQ3BL2dmB805TCbOWAm5lMHDbPQI2BHat0px7ePO9OVn-T2rd45iC+OI7GpgJ-YCCfB37nYd5+jCFmIx8dA0d2O5k9sfnPGhn6HIHQE8s+BUDZauY5QZkW2saD9rKVtxC6MLHWD7B8AwcPewUnCTVJ3QNmM920nK4MhzEizAsLGdPmucJolpOWLWGWgHjEzGy0ZbVGYjVAVeDi-MKcFA2xJy-FVS7SC6M65bEPV-ERf0HupgOeVuNO8izSpsFeRqd86H56thmWiZVtT1LYCvhdTuhVCK8db5oaBp8u+NK-JZDttM2rXtuO0Na8L+ogUUF-QAhdbWO6TVkM53X4iRjJQLAHyQ7Sj2auCcjwHyaADcqE21L25iEHgFJsOuU7X5w68cndemTPX6rx3aLp9cxvGQ-r5jkTcRuPHZAIoIAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}
</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:green">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:green">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section&nbsp;<REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:green">
	  the symbols.
	</span>
	<span style="color:blue">
	  the strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3el4PODD4MwbBQHAiDIOgfA8HUwcqNBJkArKyit3FUiyAoSjDpGsTMslYQAPzWMSx+hAAXAs0nlJfNhn3IGTHYQixvkiw62uJWWSXfzKDHXiYB+1gb7BX9H2Nc4F3ZHxStYM+y8sq9kDFA7MEEI7K1AEAkBoAwFSBAheaBMJ75wNAAg60UElygVQRuYhNFsGkLwYNYi5pEawLgeQiKZoZRsNsgwuBTCQphUaBFfqUVvLsJSpwpB6VhG0FER5HK0VMH8JSkw5SYdcokI4aATWkh5x6A0dxUEfEG7lH6Dg0hKQNGW3MZYqxoRVGFCYedZa2ipFYIoa4y63jfomSFMneIgDiAbxwUw7W7jCjSIts-aWa8QnAMYQseyf1ca8PiDg6JKT-EWniaEpJTtFgu0oG7OhypMmSiKXIdSiDNB8T0POTRyjTDBI3hYhx1i2qSS-gJROgSWlYISYkgRWDGDMDWNtAAqsQY6ucADusI4SMlUHhUAABaNZniV58WcrNSpLt1LCEGH05GlB8CgD0BEQilAWDCOUGMAxwhDR81Tvs6pxUbl3IeZ9BpJBjk9whDYaoWC5CyHEOcy5Ug-QsEWNQEgXRHkkGeXWGwvYu7M3IMcLZGhV6NNsU89pHSrHuT4sQLo69Vi0DMvYolNhGnGN4vxX5xATCEtpQ4vpbL2WkMaRS5gPC+hPI9CkcuUgjJfz0ERDFwyrFn3FdBMYaZSV9ClXIUwNKb7wo6jEToVQgUgrBSi6w3hxnMpTNM2Z1AFkh2DlTRYMh1mbP9nCfMQLPR3kqt0hVAl+p0FacjG2zhc750Lr6mVKQz6CxATfZYqw9C1NxbDS0Tcw3+q5Q4z1igemSuYsmnu8aCLXX9Q7JeFChGZSaRIvhCSXmivGIwGCCb6l9Q8sVTo5jBkb3DVE7FdTngtoGs1ABnbu0pBvk2-tjUxGDTVR2oBgUyaIJpk9Nxb1-UvLORciIFMqbLp+kjANMxNJaphsQXVmJgXyDBZuyF3QqTY1STzEWyL7FfgnQ0pN8M0k+yLfOi9BqHVGtRRAggn7iRQRtFi+x7765c0fbk9G-Q-0pRvYZR0EGYKwYfcYDDMgX0OK-FhyIOGv56sKJe0FgHX2aSXb4vQNLVRwZyYyfpv6ElkZSLUUItQ0LB0zZIEg3D23SVLiiutgs9AidHfA0AUa1GgFjT4QEAAqQTLCz0dGU0bJSXTFBqYFBp7SUmjQAEhQjurJnQN2xBkSEH7Ggzc-SA2oe3rTVdKEXmhDRW9LFviv0BPKBxsIdad3Uzo+jexkbK72Jvs7WUpVrO2fs7QxoAkiPcwQ8+1lDHChWZyElmhV5-R6D0XRnL3LGMPuY+QVjAEgsUcNQ-OtyDSwObKRkhxT8eQteS0Vmz8JqzuhiwsAhYE2vNOkz2xKo3CvoI-vbBjN9Bb1Ys6WiKET6E1pRWiy2WLza2OZEFtFsT1AMCOKAPLNm4W9fQQJS2gLgPplAPp6UnQzs6bhpJF7dJ20ndBQ9wNvbV6W3TcSvCpLyUhMpQKwxUtTuDG+xpv1I6S2KSXdkhGPt11ic0no+VNp6O0vfW5RR4c7EVZSEA1HFIl3cKfSorbmJuHzdw3oOnFp5vk8KO+9ncoJXDqAaD417HMRflI6ttHFCZvPhgdWjeLzmcDcVKz6XRDXxK8yFzyn+96mq-G5Bfnyo00Pz-cC6weyl09dm7Lhn8uUWK5-qzq3MvKwa--ELoHzaIEoJd6+Q3QSR0e9NzgEen0x4T3YNPLgc80CTUXuzL4Dbnh4QDV+VZJxztRBHAu4OeiDEMvsPxQYIOR21rujyNKMK4Vkv0Z9I25WC+mORyX4P4tfSsFhfC2vUMGmp63hcL2iZBUpmhZ3mv84g6KXpTmRlZj8B97Gm1Ca+BBh1WzmIPF1A1K97L4vuGy-BjdXX9DUOfKqW5Pn7v-WS+OoNMGNNHPik8foYlUqi0C-r--EBPjkc2m3+Mk7jQ1jBVwVQ-3ZEskH2mwVRTB-wOmP35lw3b0ZFyS-jALTjtj0FQOpwlAumfhpF0CUCh35TMiASv3mBdFbzrk-XHlBHjUZyPQbB1EoKXjIDwK1kOR4hklL3MHMwYJxEUwaU4P9VFDRRGDGFC0IOUGhyFCxWW3jwpDz04LEmrGRx6TQIUxWDWB-lUO9U7hoKeHmzS04KmF4NeR1H0Lw3gIsNwyMNBBMOBj4PILdAsOwLEBJXi0kOkIQ20MGGtGbypHEPoNeSyF0BGGUMVFLgzyUllB0DCL8Mm0fg0LjUUNoLdx0P+2LwCMkISNAWiNCOGHCMyFLgAB48jYiCj4iaUEExlqAlMAAVDIXRHIOESUAudwAGC7N+YpToG+QEUAAAalAHKzCEMGiF0DOStm0LMEGO0z6MGOGNCFGJiB0AmMwNO0NA1VGVNUBAaOoAIBkDmVaJ0HaJY06KqUoB6KBAGKGIp3PiiGWNWLSOmKBBTGuIWJsCWPGPwHUniNcOcGfmoFfnfjd1Zzd2x0xDvHXm6AyFElIKA2sDvEu0KNBV8PWM80KHE0rmROuneIQRCWhOLkJ1uOF1DGoHwJ0E8OINySp3eJvjd2OFOB1CePeJkx1EqOJLpOsx0imMGBdF+KC24wfhvXXgZMz3OAkLPwFUPW5xqK0OrHNWIHSHhVk1BFdXIwA3RJSDRQsKxSIwsLoI3gFIxM0iROsLSMELsI93ZWsOzRcIBzCC4zdUcOcChIBNhJF140Ugd2rFBJ-lRLkHBNCEhPxLdINOlIRMsy5LSP9NE2owsikixOZPZTxOUAJNEhZNwLJOWMpPP0RhpPZTpJ-lFK0iTO5TPlkEtDZPh3vHUByPkyRJnB5KGDdH5IfmBSFIhRFKiLEKUBhV3UlKFHDLCBNVqORIVKVLJRVKeEdUlHUycntO4w1PhLCG1M4N1OoKUOQysS-FNM4MMItKeGy2JLpT3NtOMIXKdMvMB1dJhLDOHjAFHiYFYEj04Fnl4AwHkIMikGuVuSoHuW729GZU3njIViHzNSBB-K+UnwpEgr-LGBuRdm-XdieX7kYJjhbCFT0jRVgsoH-MfPO0Skvnug1G0xsA1A6SPM6S-z1FIusD1AoqF3ukU1oqSMYAYqIor0PBYsPHYsKHugrlKG0wErkFIUorCHulCjoBdlUBdUGEkukpaLgTEtCHuhHMYForUocWUpsHumEhGEGg8DoCNj0uGAMoYBSm0usHun6JYpsD0DwkGDhDMCOAAD5QBVlBjFLLKPs+hAQ1lbLrB7LHLnK3LVlNkvLGKK8tNBgUggrQAnLjhQrQBlN4rrBvL7pgAAqLkHL4qQr3LQAwAIqOKv8ABSLKuKhK1y-Kkq1K0AdKivDPWyiqvK9PU4JyyKr-AAQhOCapysqqSu6vO3auKt8uKPKr6patAFKOsGGr4or2KKOACuasSvyoWpmvqq-xcvGuCpWtWTcvWo6t8pcsWpitCGWqqr2vO1ysOr0EBE6qyvytCCqusE6psBT0vghGwuiF-Nwu+ShkMOOAfmElEg1EGBwrwrD0+pA3Br+u9GRA8AACsQwatAaUpgbmUVqmLvqoLZJ0KyghVvKwgYaAKYQSYsAvrPk4KkCSwUaCKeR7oT0dUOhtNGaNNCbjydKK9IBiBT0wpZLrBubeaqZ2aOafLbqTLJBYBIBaKJapaRaObdKtBTKABRFiiW5W+W48+6AAOVUG1qyt1u1rrOJKhqe2JqtzSNRsKHRvOSqvMNZQU2xqpp6xJgpp+v-Ktx6StpSBtpWrknnwdvNu9xYwhD2WdQ+XdthuISOSOKH3UPDpiAEzJW8GqWzIRtUDUCs2iEpiJKJWJoQqyCFGQqRStMKETjjoqDCAlwpArLfhzJh3UPcJrwHNyRyzizJT0GJsaWjJuOJKDvTBQSeNLrCHboOC7tDmoERuRuRxZOsH7pppsM1psB7IlKINzNMCwpAx7J0Gfg8FETXoFV82xHfhbsRlDtDyhnD2fKnlfO4EwE-KLFoCiFUAoEkCekMFfGEkYBllG3UIrk8G8FbDxrWKoSyE7AfjPjkj5PDDPFAk7GuMBEkDmIu3uK+PUjkl-o2PkwwZgcfFQj2WhWEhpmMT4lKlQaTnjtIFIHcGZlXgMGOSobyoYEGLZyoeLMBD6LPg4dwReKuMGJftICXrgQ4eNjGIofgKYnICpl8DEf+STjkbbSkYSvMBM1FxNPIYQduuuMIdwlkBIfbXRvLskapjkdFgQZMEBAkdmF3VMRYDZwLj-qZhZkTkmy4cFkBAfnUR5Bca2E2BwVvQkxdBcbMCCC0iCYcbMEGqBBPnBAgYuR1B8aiMBBicsTPiVQjFfvfsrC-plhccsRvlvX9hKXdh8e2BpQeHRF5VJy0WCbrK4a0cGOMeplsaAabD6XscmGeXmI6T6OQZBL-loKqaYjJ2CbeJ6b4cdvsBse8DsbknadqemJpXBA8asRjWsfUkBC4rkbBvWfGBmawecQWAELyY8SaduuYsGESgSYcd5LdGCZ2ameaf2c8YWE+P0BOZ7UBAAHJkHE4EGfmXm3nViXGrHHm36RxGB1InpIXHGEyWYngAGfAdRoXZrRaxa+QyVZjajZjc5hQ-ZqRvA8W7JmYDoDmI1JmlHWmDgUWHaXQaWHmlG9nGAWBJs1nHmqW9B6XmyWwuWmnwXvAnLH8KR07M7SBs7LQv5iopYcoC1FhYWinSkox+pXH0WFXA5BghnxFchlXh7Qh0aRWqQxXKBKZEDCJpXqRTHZXwH5MKnnhlW4n7oYnXpHcBn0RlXWWsECIhWJQUX5Rlk8IpX9pqQrWN0IVClilFXvJ3X0TtTQ56TzsH5+nURBnT9qmlWCJhUVzobmAg3ZAug+ksV0bfX4R-XA2cpLX3WjTCM42iyknmK4mBCdQzXc2EwTlcb04Wxm2cpW2AUyWwgb5u7a3ThNnegVme0u2CX82e4XnB3qx2GDWs7jWJWFUx3yWBDZ3FRdWbB9WM7DXxXTWc3y2jifUM2+3r5WLmU4awTHbzW82Q0SZFyr0HUXMpJaDo2gMvxHXtMk3X23XT36slzj430vWL1q6JQ7U7WM2yCfQBD7WPEmCM2Xm1LZWFTLVrUxElExAIPoLeon68ZlXoOjnNCrW4mKDEP5NkP+pUP5kXS03H7kCWNdk7x+RCXXxyA84vBBoOhgwDgCOcciY4R7UQ2kmWPGBhR4D9h82CWxPXxbE+O1G0Kmx-8asrWZo8Bi5vBNwLhQIwa7NJRJz2hyBcAHyI9SBhgRJTFQBJoLlZBFJJpY9Y9gEw7qQpY9BTo4RBg7A-RGAOhYznTb4sSvPajfO6nntk7T1Oh8msFFp1A3OZAPOtIdQgufPRZjayEtJkuQvNj+RXP3PbmWxMvRZvWjpVBTptOsg9AA1js4csoWhQIsV7plM6usgtN7SPUX4344vqYeBBh3PJBupNTQBvNCAPBmuHVzscvSAuvJAevuWyg-tyu8MLzrAb06ARuxvizWbOghz-OtuOgjTrAGsqMHE0VMusVJvpv+B8uiR1u8HluigIUzuoi9udvjSGw9uDuHTAP2UvwXRMv7vBSUpHTDuITHZ6BCXpvZu+uruaybQhzhvRvHxzuXOpu+vZuXQFuxvM2UhVvbv6vnvwumbXvz57ALgWxMfHwt2UoBDEo0ewbiPof-SRxDQqeHEMeavFus42zvurFTuQxgvke6Bcv4v+vruDA8ewGAfwhHv+efPNvCe2b0SzNctSeZwJeZIsBle+7iOBDGfYfmfWfaU1fEe4GPQtfQAjvBuUoKyyeyhMumfLD7FgeHTQOgyyZ5KtAzOSshyhJ2GASgTV3OslIOvFgcsb42AkmYhZAxPA+Okz4o-CXhjx1ZSStqOrVnANP0EZyxu1SQf-OPfyAzPN6ntM+tONvzs9ExvKuqg0VDOsVS-Kwq-NmQ-8xsK9PzsG+2PHxbqE+Y-Q67w9EPAYhQpYhRsHf1CBCx-9fHfa5g4h+yVszRs9B5+R-JhCOdQV-ljO5N+CCJUd+1-+OcQXR9-t-h-szE79Sp+XDCOLur-jD4Cm6Dgp+v4NXjDCOBDB+z-R-cGdPp+HaXDiuTQAeoyDPD1IqOTAUEAjkVLV4ugi4SQOZzJRZBGAAaAqMXBqRQdlyL7RcKpyt6PZDAoAffnti-4UkL+m5AiK-zsKfd-OhAgnsGAi4dBysZ8EgBOVgHhh4BOQDoEgJQ4QDDy5WG+H6EWDqR9+rOE-vd0t4vtYOp7XAYDgEICD0GCEd1oMDkHaR3WYgnnqQmA6LBPuzvZ3l+GUHKtABKDOwI8EGhFIPCwYMMHCHbR0BZuFgmSgmDoADdD+4BOFkSDqhxM7BVgroI4Mq4vNG2CEGwUIwuRMMog2QFgKYPtQ15PB1g0ISYJnB1RDeaLawNEO8HdRACyBRgFkAzpgRLB1g2wfIHsGpDYWEmQIR4IKFeDpA-AXwfJn8FowEhOWSritRiCmIsh-5FIXoBSGVDKuiQlKI0KqqjEwhtvAwHVHwZ7IBhJg-AGGCMAiRwKfnV5JMK0CkpIgxguxuMPCE20-kF2fBneAWFSNZQywsITIzCHFDEysQllnEzkyHNmhKdbIG0PKHtp7ETJM4ZrT6FuVdhSwtYUcLiHCwVhXPT0jTnBweEzk1NXoCgR-5ZA5KWgCgYeReQ7ZiBRAhfgQVIG0E7+lAhTjiBoGnA9ucTR-iA1gYQjQAOEX2DwLwx+DFh3gGzHpS97CC9+xAh2kSOhEz8H6zgZYHsKcCSAqRBRVkZCOJHX9nB0MNckk3wBahOgfROJoCGFGEhRRSHGLmUG5GEitAZgOJjqXNw2t8E4YTuoqN7rktH+kgYEcWFBGIx5RDIkkR6yuQ68tR2wIjnGiJEqtWRpiSkZ7wKIuhWRQQuBC6FtE9CUg9oikRyKdEctXRXoinDqE9Gz1uUdpF5hKJFHM1DB5JLIOx36xnD7KE-YjjlVeGyZK4fxIbqMGliDQbMonYhAWMaCDBfW8o31nyMxBopOR7UNbmqixQ+j2RnIzlhC2pjyiixtAQYGGO5Tlj7+6I+YNWNVSYohR0Y2PokUuFjoLsyxeMZBE+EDjmI0qQwYQFkB6jk6eETUbWD7FzRyGAYxUVmMM4HDHgXXKHvFycGViQM72QzkeN64nj7SO5eXnQKZrpdBYPDOgIYOH7uRJAfXFEOuKq4gZ3OWKJtoqKCx1psB7nMwFwxiY8N3OekeMaADqIAAJZWpIAACC4AcAMrQABKdRSAAAHltayAc7HIT2T4B7AZnZhNH1JrriHRjI9QkuPgqriqJFIlVvuPfF4RW20nSiQ2JZQvN9x6gLKO2PoDwFeJpQciax2KzqEEJSE1CehKwm4T8JQk0nqxPYkUTUsjEpwOoX3GfDWJn4kXt+K4kO0+QHExoGsjWFMcqCNeASQJC4k0TCOaw-RFMPRoMYiR7gRKsMTM4hhjoeY0STJ28jOSWA9PNkcQBolU8SJhfUypZLUlBTTRM0WCQ2lXB+gSAlnc7AAAYqgeyM9HMiqgksIhAcSsJQAOCp5spCUjIVijimKpq8lnQYjwGAmaQyp7eRKd4HgJ6IMplCfEc8Cn51S1WeUjoCmLjTJNtMAhTqecUjY2Z8pYvTBlmLsDSRWpj4KQDEElQktfxT2IaRGy075TZCBxLKauC6mvh8p1fUHrajsBjA5k6gGWPJxSggSNRBHSLE0TK4tSl+4AlablN2k9Ths5ouNHB1lQXtQhx006Ry0UHvEfpkgE6XIBlhkc5WZ7Q5v1BWz+cgZIMmWGVKzHBhIhvnZENq3IE1lQGXBCsW70OkyBfpoM+NEOSwFXT8MViYUrKLxGU8sEZMolL9yTxUD9UT7aQVmyeweAERq-Fcfok3I0TGZIqTSOzNoHaoNMLJM+MKMowskb4cMv6TSIVTL9secCWoCZkt7Ll-O70nwHhm1Fx8hgR04GX9KYLPJQm0swmRQUhlJJxZsgbQa71eTGyzpGbQwbqOBGwpiIoEKmb-2tA2TtsIGGgQQOIFczL+4I7Gb2NSAQpCBUTF7oNy-AkAJifosKcvz9m0jERkwTsUkOsAezTRldf9MzJJk+BrQyKY8ngGUxFyH4cIpORzPP42YA5AZDOU1gFnwjw5CvSLkH2jnfFY5XvMfl2JsCyyCcJ-CxCZn7kIljCw2XEc-3UC8ys5lGcFBcmRnxYpA3kdOaiMPImFC5xci6ZpCjFSiYxE8xrGvIbAjzA5-pceYKX+ESgW51MJsYsFm6LAYeOM+YYKOHaSisgzNcUY-OlEUdKZl8sGt1GVGcEXmEQbAZfKVEeJHZigZ2TSFdmfyFMN8oeWqMoSd0BuOIwETXidlklwFFXa+WDVm7X8CqYAIucpj-nfkdedUXxtaJ8DXyVWZ8tuc6LdCAKgxdFGhd1DoVhcY5TYptvUNTmFAm2jCzuTynPKRjX5W8k+RhC2mjhqssLUColAyyMgYCJLHDvR1DBLiowiM9fsA0Rmdw6ptiZRfyIC4swXQf3RaWbPS73R1AJ0uEInl-wesoGboNRVmPDq4QypC0gkaWPJFOASxLY7mXYVhEgZQw2QGzGVNKmyhQQM00CHNNyCIyjsIGShYOKgwdJKFTY5xYFKYWPYFFWiHxflkRlJLrAPYtEbt2IAxzolw4zeaOJkzjj+2nuMYCi0cVawt86kNJX4sWmG84x9gGcUmKiXzi1Uow2CZJMkAYTJkAAGWVoESMxpQNKTsNImmUypVklxVFNvmA46JK44MGuP0lxMWJq4hMJMsikethJWUDZZ3G2UiKBIEkxCT0v6WDKFJloJSV0A2X6TbJZwiIfFlzpWJNJSY7SV+Jqj6TMlxLLICZLOHggqezylYbdSdZfKZAPylYeCFsVVJqY1y6ZZ7M3FGDBhuwxyXTJJYrVhidikRVUoCnUTTRIU8ZQcsik0SsxNIGFKuEqUJKcVZpZ4bcpWH2StAyKwoDqSqr2I7Jo9KBLkIODlZT0UnFScVgpUUjgp5WdMeHQ2X8rXF0Uj3FSt+EOydcFSlsc2IFaMiDxLLLxU9nmjCAsUl4iDgqphYpgJ0-LSFrnzljqqSA944WU3J7QkrEKBqqFi2KVVrCPWJq3IMpwEhcspVxwt8aEsWXd9XRhHCIG8x3EkhEgAQEbBqMAkQwwOYgQwLUTGACSuZrEtnEZNoDOYw2Xq9yN3wEm0zWZ+A-8edleW6Saomaz7mimoZjIOccatYd7W5QArDheXIEAJLBVhCjVoQRYHZi674teVxARtY8HrwOJjmSaqKemNLVTTk0A65VQrJVmgdZ+ikaNXYBEXxqGJWis8WbWmVYo0wKSpRYtKCwvtWJPq6ZVmq8x-j4uWKfNdTD0n7ri13ixwCOvnWVqjgLJGtYeLrXf4SW3algM2psCtq+gz6sqW+t7VWJBpJLQYEOuvUc46pDq+0pOuPnMjJQ3HedbUW8mFiB1sLBxZmq1mhAz4knTFZmpeZYaBJiaztZ3Dw0DqCNYkllC8lnWxqx1idBNUWuXX4DMgPKsje9m6XSTMJ2EvCeACCysa0J7GuSUMv7WdrgNeVRjYhtSy3j15gJSxvHC9JwaHFS6xYuxznV1SaNi6rdfRsxSibJlWKbpb0oGVcbMQum05QJuI5lThNK1LTSSwfavJAQUmz1b2UpjUw0wCNH5GGj9VOMygYaKwp+mc3QhZWcwwHAhxbjwEsYSBFzSIBPYtxCO4MmuHsm3R9lqYklcLYBTc3aLhK-mvQp+iS1+bUt8KoLbFrvChbstEWjLdFrdBeaZNFIM9DoBMhdBKluW-zvlqzHObqA803zRFvtXUq0tUgCQu1sAp9aasKrd1Y8BeYtb5poWgbQJEm1ujjUsqm1R+gbiWgBtegabX3LRbDaWWM0L9bdQ4GzF9VKLP-LQARqtaWUoy93hIGO3zTitFAZHBtthYSFrtxCR7TiQ8SlLz21wzIbcJyGFDHlpCfbfKqIyPaOhF26EEWhJHjq1tYQdMUlpO05o4Yz24HXQGS2DbIdFWO7V2G222b1KequbQdrkoXaTt-fMmNVtXicpwdDqmlYiockzCGMTKlyprzgTpb-tArSTDIBq2kN5tbbHhSkCaUJjlVB5JbsAnN6nxJxugacYmMBUuFNeZmJbJXFR0nkglDq0UJjtxZ7bcdLY7TCTr4hE6l4bE6hmAIwHwr304A7ervX3pSEqSABQwQuyNYmsJUZOu7QTB3J3KkVNOqxHTssTuQQwdmZ4FHz7CgDngs9a5hQ0ZF0LMCGrEKl2OQ7KAU5HCwEBaho4aFMUi4GcnMWl3C7AQNu-dl-AhWhdedLSyXTAqSSCxh6d25XW2sz27tF2duldjju2RyqBW2mLPUu1wyh0qxKyNcBIAUpYoAAnFUDvDyVLB-OgLTakUiD6ZKyqvUaYl8CDByNmA1Na4N8AHqmZk8m9M4CiLJTiehIrvZYL0BfMvmKYNAEfo-WHd1BcCcffILRgRqHEF+yfWFEAZ2TkIDtZwJsjXxtlrZyQnfRPrsn361ggwYSAGwv22K5Api8xb7rpAxrOtvwwjhtvL2+UTFMlMA2rvr02rtMCBsxfWmZ5nbg4E7KQJUpiBfrfC3gdIDSGFqqr8B80LFMWyWQtAA2uBzUQ3F93EAv1CDCoBCu3UQp7kjAEg3zVABRMdoUoxkOCEG4X7bqGyTZLgdAAotxAzBvTo6n8qVB0NNgUQ3y3JVGgLeS5Z3jejjXscLYsa7ju2nmjL7rAWGuqQhvw3EbO1FsGpZywVkhyLkXBng1TD4PDsaQIRYUFvtEN+VxDTqAdbBp47yHxDIoDQ8zPMA6Cz9oQLwz4Y2RSGWx6KNVAwGiMbIT92+qSkPs+Esq7lDKolB7tuKqH5Vncv3YGAD2ctQ9DhiPStS7SG9mdkLUo6Lp3rNKJdhwwWHVinUwaiMOQOgHMkAYEG7MS0ig1QfcUltaDZbYNtxFkCXJZDmKGYmwYVmrlQQ72Go1C1ehTjGj-OloxJvjISYLCL2z5rnCaJhTliColoB4xMxstGW+B4AVQFXjzR22BwHYw7XD0EA8qXaezdgPOmvINo3sbgf1K22HtqQ82r5gWL0CpyAAOlgFQ1mCa8uh-ALUTsYl74qwVZ5LSgP1AhHDZJOAlgFwOAngTYJiEySzZxQmugMJuE5qLjSEBfCDtBLgIQpOgAAAXiz2sDgmR6RJ8YHnFhPMsnjCXBk8ie5SonAQ6J2QPmGV43BP0nR7oz4CBOsmSTnJvqpcwryqBZiHgWYqQFmLM1DQXzCEHgGxOVKpTKMtk-olJNynVWSplU2qYhX8mRQQAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}
</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section&nbsp;<REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJC5afS4fzfEL0qEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9NdrymMisbTWaep1CR8SQ4AI6ETqkZJyu2fVkYt0esjJUTuz33IYKXFGt6C30k27UUg5JlE9GVRPJ-GO+WQvqmcyWexbKOdPFvX3p2wFizEYvyUS47MnIkkyT5fLSSikYGpj6hdudm1rdxKNUvSU8vkgtqCk329JdlS2RqXGpGmaeGNywW53qiRjMRj4gBEAFViDliNQAO5WOhFEaSamgAC0r-9sgbJ50AG4sAAvgIJDqiIg7SDagiaJudB6IYgSUPgoCKBcdKUCwFKUOIqogS8iiCDocEQjWligOBRQ6r8GFUNhtjjoyUFkYwW5-pEAFiNIDjWEhKF2AMLD5NQJBjHRuEMSQhEGBCGwqKA9KENI5CgAAvJ+o74WJtC2FakESfOC5mjSCjECJjqUMwiJloovoGVE9Fabqsz6geRoEfptn2jB7keUS9l1mZFlNgRhH-ukJFWBc4Vrh6ijyYpe4KnJZi1tF9wbMZeJxUs9qxMJoj4JQxCiGMoXGOxjhcfBUQHkeGnEJo56Xted4EJpVjkEU+SiG+H7kT+pWgEBQFYH5oBLqMq7VB6RrcnQgpSVE4WgNemLMTNtKwXaoTEAp0h2rEurmYoI4Nvh5nLpux0be0BLtDZUTjSuzhTbysW8qMMFXfksG7v+w2jWspImZhtBUlKvIyjOGi3QtgRLRc5CMDFJ0KIo7KTowlHFcat0JSsamnej3KYzJOM5jZsQo0oRNSpiilk10f3AUI8yfvYoZBl6ixzTDVXGIhyEXI2+QdezYbBtzkl84tyWkXlBVFSVaTlZx3UC7xtjTMukaNlZKSwUR9pLVTZ2GqMOtNvr7Q5gNg0cZVpoyUpBVm8WaipSpoD3SbLvayWuvIlb6g26a6uRbLdYvabfvuy9Uv3Utvvm74qW20EKsO0bEds4G4bWR59LJw20aS8HjOmkB6eAczoFWI9q4kFi8KK4ozS8obcPZxcO3SNIreJO3prbbtpoHZIR0ngAVI3DIIsVk8npo9fODP2It1slB923Bt-gAkEE1cjW1oB0D2dZCTsjz7C825tLD-M8RcucS28HfpE7J++AwqnP169aliMW+fg06d0LBFOwwtRa-29GoTa9ph693urEQcnQxjKDPiuQgl89jPHmK5c6RcAHli-oRbyPlT7DEwdgoEN9FBKhVGLTmSh7o+TCu9f+AdyBAJ3qxdO9turSyCPDPigwtgjAeDg3sFZ4FjRsHiJ22wJE0PmMUMoFQUR40CCSKQvwbh3CUdfRk0iFyZDkYoHRfx9GAkMVpB8ai+6vxYcSZau1bZDRri8NmmYUwCl5mkD+OlPbeO0tQa0KJbYfyyD2TinsKHnywQY3BgxFA6V4YED+q9m7FW-rI5cDcEizxblEmQsFbbGymqdHSZDDLUmMqZbQ5laBNmKZxTQmS55jB5jmVi-1j6AyihbPWoI-FCOzvQ+4UUo5OIJqjKKxMIZGJ3NMj43SmZHxZiIQGTccRDLUPNaW2y6x2PqKlRQhzcSqPqLaZYJtzlllObGW61TjAh1GWA0AL01kA2+BYvRAIr5JKhvstIhzLkVFOb8-4iTgRgocUsm5FTUaQqsQCmFUdHk5mebdP6gR1m1zZgo8R1jAXNl0PfMihTYWnMJdQmxRy6jqNjKaE2NLoUTnRTuJ5zLy7DTwH5Bg+BmBsCgHARAyB0B8AAEweNZk-RwzgUaFW8G8clwjbA7TKAeFExgAA+OqbJP0Rkq7VoA9UGrsOUCoohhjarNWabuu1wmH1GgjSQnhPDFU1mY3x5AAAW9wtieDfkld5qFx7HhVQAMkjaAf1kg0EquUkm0AfqA1uq+cfbuA9tXSzVYGj1Ilxqnjbv1auo1jngtXG3HNaQlpxrQRvOFbQekypEBcO5gc5T3zzW6gtXqVCng7eQUtQFRpDthTW0BtZY3WobePPu9bFCNo0SFMtx9x0crvnzOts6l3zr3ZvFdGaNngKBkMIlqK8Iqu3V3Ow+bPVFt8SeVlxLgQjrxZ4l9l6VEVqbX4bt2dF3LqA-u1+q7R3Hy-ZI9lbgYH-pve8kDh7l1gaZi6uwyL-nQcWVuyIPb3UPu9cMk8mG2XzHfaNUjr6Jy-snSYQDu7gOMdA3KQiLbKNXD+WRrSm74N4YY-Gg9fcUOsZbR+2VdgLQSnmdOOjIbp2uoI4WojezQAnikxjBZtAKPHw045AeBogFvyWkqfIygGUNCaAPTQSG-1sbQ7pxIWoJQ6TkzuwTy6RPNrE+h6sEcOGWy7QhhTd7e2EYHU+gZ-tcQ6ZPfJosMnIZuYE3Ow9r9j34ouOyEGCQuTg1k9e-jobQtKf7cQ1Tyzn1khy2DKckNYv4ppnSLGCagtFenY9Uw+B8Q8HY5BskGMz3JfeZ1-K+JJV9bi01zGMhyt8anaRUb3XfEAGYfOZrsNA4bIXbD3uUxF4j0CGuePGYwvOVsAMjbMSeI7mgrYObi9AgLZYjMGFxQtqwtmNEPfxUnZ7nbYHGZS5LH7njC7-a4ZLS706vNcMm5liBAkoEc3OyQ6HpEHW9xB2uuLFwtaEM4VD4LGP4iOthwbDLniLjeLk-F09e2yunm8cd1mp2aeFY+7kvEJ5md3blKD1mwTXMc85199LzqNuYg7F2HsV62uc8U32x9xHwLdjffDzxflNMFfl-RxDzG0usYF2BNa23SJfdh-ZnH+KVqfWoN9IHxX1WOvt6U63muCGrW8K7x307F0++N1YcHduHfo-avugPh8+VtQFUK9goquASrQCt1t9OkZKGpMGpaL4k2qURh6SnrPlQ4RPYofTzlDSaCqSMznRaqsCSEiZUSJ7F7LPL2YFyVfQlFEFIHvo-FBLCWb7XfCWfb27bC-tvE+AGoD8byJPyLORBa-b4Z0fqrs5LfwpoXrfeteufwGPq7y4uvb9ABNvfbUXANMClZQ-G-j+jFPzP0Aa3C8iFO5M2DaNaAZSPx167L-GoReUAdKMsDXCTPzMBCFWDf-EnCfUrItF6BqIAj0JfIPfzF6IGDKcxWAh-P3A3PuOOdbOLT0LIOELwa-cQRpSyZEHMfA0iZdEOCDOLP7QVbNeg3NYHZg8TTZMgcg+4UoSCJyUQfZA+N5adQ6Y8dgpIXvauD+VNFwJHCiAKJpMsT2HuaQf8XgqwU7GQ2oexHmF6WCBgqwKQ8zQwzQYwiA5fEQ2FVyEQuCcQ0XXdfQmwqwfQ1KBwgeJw97TnZdNw9-KwIyVBKgmgy2CzIwkpKvGEe4Tg2tTfToTwP1Cw+oEw3PMaJIlI6oOBNMUAcwvQkQ1IioKIziG6UoWIqgzRZxO4LwFI39EwgAHkyLqN9VwLKJYVWEPGoGPBPAABVshQAlRiAigmJPBCBowT4ChOxKBipYgTxQAABqL2VhQIFQX4LwRCG0BovQZYkAhY5Y5ZKIdYpVLY9og2FhSmbo3ogY6gAgUQG8MYiYl7KY6XWYsYeYpYlY1Yz+DYzwM4nYr4-Yr4o4oIE4zY-AG0HI8DVPMabIPIQoX9B5CzYFIIAGbQTWbIMzeI5YctM+Yo1pD5EpYNZYNVTQgk3InyVYDErIe3fOH4l5fg6gCgzwMI2-Ogroao5YWIX9FSZNRdHY0E-GRdaEoU4wHk-ElDSIm6ZdaEtJdISuHodWR0PkvPf1JQkWFQm-NQkYEkh0a4gkhqC8coYSZaAeUtZYDOARe6D+fQz2Ngoo15M0JaOJfCOwhot0nwrFDyTw4wz0pIVdS05WBI95R0TEukngnQilNeKldFFEok6QVEwIdE8QcM7EroclNE4+V0hoqw4kzMnoMkx1QUjyak1M2kszMUsg5kpVNknUvEbpZZHkizVUmdQTEsqkk+MwWwEU6IhMrks4E+SU0DaUzQWU4k+UqIdiUOHiFUjIxQyBLU6g9k+bQyA039I04gE0kyM0pIHqaM5uGLScvhCqa0+0W0kQ+0z3fQ46cuLOd5V0zwj0tw702yX02DbwgM48wIRUsqEM6dMMis283QNZaPE9WPVgePTgcVXgDAWE1CKiTCWiPyOqX3eAhnItRiE8NCaiLCUQdA-IxCmie4dCTsThXsAiMPNs1LPuYKNZD+HCpCkvWuHJItZkOvetEAwIetBcO6HoOvRtLi4wRtXi55OvKQoS-I8NUS9i67caSS8aGS-i67THaQEA1SokPixca7ckOgTsSQIoEA3S-S0Yj4LSh6a7GqHooSqyxge0cyoIOvJUP1TEUoOgReZy31VyhgZYBywIOvRYySwIRQakTQIoPQZSAAPlABfGWNMr8uMDr1fCCuMBCrCoiuipfA-HirEuuwXk0HSDStAHCpUkytAEnmKuMASq50UBPGABSuQlCuKoypitADABytkoHRPAAFIGqiqSqorWrurKrQBqq69c8gr+qWqc9k1wrcquqABCJNSapqgasqpa1SOazq7nRovq1a6a0AZo4wLa5Srqxo5SFKqa0q1q8646sa67SKva9K66l8aKu6+a7nSKi6gqoIK6wa161SZqj62qhahq1qoIQa4wBawITPZkViBioivC4fGjSIlSU0UzRQetTQRi4i5GvBeG0RQi9CJivGrSagUoAAK0mC4TRuWAxsEGuvEsRuwhAK+2CmqqiBxqRv5VYiwARuJtxppVYrMTr3lkKmKhALFsVg5oZMcuu0gGIAVgpEMoKoVqVo6hltlsSuu08tsFgEgCEt1v1s1q1qcvkC8oAFFJLdaLaTbZa68AA5SQB2hqp2h2gc1YgmzYIm3C2iVlBo2mnoem66xdQ-bG5mtKURbYN3fm32yOzYRRYwwO9IYOwatm0hH2kmoW3msdaXCiLm5CtqOqaCZiMrOAqwciWwQqWwPKRgCCWsimyQKQU+X4EWekgyAukigSO4XECivSZZTcMu38KICXR7ZKQoVQ2gvEcusQWpUIyepsaZFBEyMvCO0m+lSw74n4zus9MRc2UcpejsVBVegW7mq-cmqmigHmMU4wHe1law18qIBc5QusqesTBQ9UzwLICorkbUqe2Jce1+psXmsClipgSCkVaC7gTAWE9KWYCgWwMMFQFRJURgFMTDGeh1TVY8L7DBwiIeaioTIhvB3YtTWwA43404yEzGwg3A3Rf4NjUeQh8c+hu4GE0afiJUdmfTBQVrP4kwrg95SQUgUgCYhSU6ZQaCERlqhgZYs5ER1sk8BY0IJR5xYE5Y4R0gO2okJRvnfh9wwiswDqHwP4kurcMxrGcgDWgwXef80icEzwIE2qr4zhiUBwHh7GDGwenkKxnvMYg2IEnQE8PvHx0WA0FgM5ZiTB0nLHTcBKFRzQk8JhvHMxOJ0AaNX0DWck5dOJvQPVZh-dXJ0ADatTYIH8AhmhwTNJjIk8MpmyUIOB4R0YJBicVBlMOJimQWaEN42XRkNJjJhcLNFoLXRLPpqJ-Bs0FR5x5Y0JiicJyptBT6XJ0hlhBYihpEqtbNEZ-LJLIpw4hcNZr42Z3bA8CJr7JZ8ZySRY1ZoJzp2Z2q+Ssx8OoxuZ05iZ4UPocwjptEQx3x2qiSpeMxRdOJscwp8Z553xk5xgFgBKF0I1LwSJoNAhk8AAcgoc3CBLRaYYcbOLiZCYLFFjDEYBtCJZKsEZ23JKSGwYWcUFJe0YXDr2GDGH2OsoamvGHQaixAPA5bUyRjuB-HecSnucXTpdBcPVFd+bCbeaYeFd3QleXQleObpaCNAEbubtIFbtGCwLpCTAhi+mialxmN6cOG5HiZqpPFV2NeIBAO2bq0ZFNcfqCAxrVZhA1coBFlSkol1dhDMfWnyEYe5L6GrVNYIbrzKbuwsyenVQ4NpEFbzG5BVdJeKCfGpC9a9FhH1fJTDm6aNd7FNb1NtKv15NUlNA2as2Gav1GZNdje-IRu9YcBEhgk9gxqTYfBTbTYhl9f1e-MTiLZbJqYkoIfMMXR1fTYba9x+gKcPVHYhk9RggDY+a12LeTXUzkSSZ+ZndhDnbWiYaXf7ZXZdZbvda1dg3XZ6FCHML3fsUdcCGdabtdc1c9c3Z5k+nzdhakqOivfqHDvre3ZYjcX4W4i6ejZaHzYLKWjDZALLZA6UHzYA9PPA+zgTeDN6Tiw6i6kzfJfgPMJDZ+cXVw4+dsq+k3KvFvGCJ2dZnQ-woMbAMAUw7sdPRw9jYIaYOY8DaI+5BI+anI7tZEFo64XfSjK5cYAnHIGoG0nuHjQmDQVNdMJTU6lg9jcUeE+HT7yk8xC3ZE5UVc1k6w8+13X479ZhNwDAHtwPBhS2H+GxqwTIh3I9XIBM-AbYFIF9XbANFf2QgcHxRW2T2T38CE9hCTEUBVD8dMAGEYE6QNfJLC56Mi-qdACluKk6Y5hkGC9ED8cXUXRi4i53k6MIey7i4XGQUC9IDS78eXQK4p1HvxVO0s7uEUGDUiSTAxDq+6lUjr0nla4XknNGlpIRLK9sB4E0BC9sAmwLOMA-joEIFKFa89ixCC5G6G5TX3RaQnwYe-Ifk8+m9m4yMS7GD1LYXeT25ATKkA8ER6A-gK7m5K4G8lTFYcW27+UDPtR4iu925MnynFv2-G4+CWmO-uitJ+9JOzgq8mFi426nIrmDKzNx3oG5YG6W5G7u4TI9AO9AMJqm5m7+Wu7oAW-S8G-u8UFW9a+e-SHVkx52+TT27R7BO7OXWJ7+RveWHMKLUW+xvDVu7zJqFIRvqfpW+a8qBJ9J6nLO5tMJre+jLx4omR5Q0e-W5O6iHVje6p4+4VmKj1P3h6AcFGFl6x6s6wE14ZPMPMKR659R6Z48l16F9YkN7tgQ-O6JG14n0PQK7N9EAh6riDM9+TOPmMvkBc7oTR5M0Ub64KDPZMThNyAKGmViDYBqcKgcBE-D4MlCAT+5aOKuNqhYC47I9ADM8BX3Na4tJ-IY9AD9-IBc-osJvz4s+x9Ulq7+Qa--A-ns89hr9E8b-U3hLD69tknyBs9Unb5UVa9qrT6T5zuPjZ0KnJARcwzd5nvMLn5R-d771KGn9rMwxSXX68BnsXTX+Bh39X+39ZKjn35n6DTk+XTP6VQMev8oOrpvKX7cLk-m9K6f8cL7xCJXqX+QKYB8Lk4KLF5tIx-OhpYlELL8bogRarlTgwwzB6OEhdCpPkZycdSmgnF1AnRGDXBUYKA-Qm0i3Lz4fgPZJlncEYDBoOG9uYcEpwd5AcNYOibtkD3SSE07+jjVSMwKrp1gbyOAj-gnGzjMDWye3ZZKEBIDbkRIOiIgSZBIHEc-+AZJsuj3yA2g2Bp-Y-sLxPKqwaBYaI6GB2oEICzCHPAYPIJpb5tNA+gm0Kx39YqCfyove8gBVpAK9fyg0UviYP1Yqt1i1qFgIa1CITBpgRQbGHQCW5eCDKnqOgGNz05BtiyvWAhgEJ8EiRghDXGVhzwFK9YLeDXa6q4MSAeCm8UQ3wYjDcHO8HESQ3ngySyExCJsBjQqAaDuBN1-k3g3wf4McCBCShUXcIWa2KH2BJUcQwNsO13R+D6WyEFquUIPCVDaIxQxQK0NiG9CiQKQwamkPcEoZesxnctDkPSH4BpgqgdsMXRPgz0Vh8gYyMWFMCJATGuQ+miQDuzsNj42wqxp0D2FuDDhiQJoVjhmFmtNCyTEYIMOtTDD6h0Q9uh8AFJLCYWjrKYdFQuG7CZhtw2YSxn2EwsFhfSOek3kQhno5EVkJfuKGhjP9pYASY-kEmP7sC6IRRd-j4TKS8DMR73CYGrzGAEMv+aCZEfIE0BuF4hlwosM5QD6KDv8zAm6CiNpHcDUO+KXUAyLrBMi2ivIzQByOkHu85OdpGpvgHnQS0t6UQFRlKM3gS0mGKXPuEKLL7yA9ABDO0sYGSawDjwvIzUT80pFV1nAMkREciDVEii6RgbDQfqI1HpMY0to0YRqKHY7CDw-I-3m0WXQGiLeHwZdCiImHM83RjIz0TSx9GFDbIi6AMb6NlpuF32J4BUXcGZYuClUdwMTkcj+EhUF+HPJqoCJcS9wSCjWf1MmExB1gVOfTTTi8E0BJs1RSbNEf4kJoCi-MU3RSJ7F5EGgPRFfNojWJpHRluW8wTQBGNsh1juBOgoYp6ObEKQlIko6UcywIbPDA2LJNMbYkzFNisohYzxIQAcDsCJg1IMvPaNCGGo-iYYjURuNZj2drhBwkLoj3S4hCGx3tHJPZzK43iigF+Uvt-BV6kivufoTQs4joAqtp+NIWwCN0aD7jVyE3QmiF09gjsNRhIp3HQJC56AVGZTZxCFzWRpjQAfRAABIW1bAAAQXADgALaAAJT6KQAAA8g7WQCqRNC2hUaPgDMAucNOifWhO2PdGcj-+oQrcSRQ+57i2JlgM1heMAnUg52lYvBGBI7HvsLxMgSoOWMGB95pJvcZif2OSQz1sJuEgiURNIkUSqJCk7ssJNEksTxJ-E4gDPQvGgjhJwE-HqBJMk3QLWYk2gK+BmFoDzh0-ZSVp2SQmSOJAZOTjMLoirCMaTiFERMVKpHEXOkwHIKWPcl4Rgp2fKSnyO8nu8meDErsdFOMnBj6ooo6EXFlMBtwfgYAuwIVFigKQxR6I8XiVMNYy4YUlAMYBoQeLVgKplraqWgh67Hwch9wG8DIBTC6dTQaqOgbJ3uiKggBRUG8PlMb4oC+WknHps1K5IkgmO-rQaR+2PDtTbAnU6QCmHw41sYxwlUwB1K6lEM32SCWevkDcSl8Vpa0lMJNLPEiAJgXUEyHYGrb5A8yrDcAfWJh74pzp+00qTOWA79T449oZUu6FS5L93eNPQsiD3TwK9VBmcWyAEixEH9WSD-R0olI97gz3kpQfgary+5ilQgUo1WGKViCfT1pW-BGaclKAWCFSBvQHtoIVx2AcOho2yKECJkbTd0oM01DqhTS7TVp+0pgnGxygEASkogOwdD38JcyLpzg6AazGNHwjBIDIf4KAMZ4JkUZ5KDEQjPhnn8cRj-TjFZyym2x1YfAkptTx+5-diAWxWwAKJJkaylBCMm6EOMCDVAUZw9ZWIB2zY-B2iUsWWngEnjezHYTA4kaADYFIzs0Ds3Wb1KJFqzDZWMxWItJIBmyLZc-O2SyJqCWyb+JoXeOnOMDWizQlMWEVSO1l3Auejs52Qh3Vi3TUED0hYCHPxFfk3sXsn2cD3eQJjZxwTYuWoOoHGxc5CsnWSHKgFVxuRm402ZCXNmhj8gS3fIMjzemc4JRK7RMUqJ+ZNzFRc49jkDNVFjyJsWokQrqLdmjyGZiUaWc4Fllwh5Zo87GhPMcJby6B483eXKNnp1ITROoZkkfPq7jzsaS3Z-m1TADezJ4W843r1gdGfMOeV8ghrHKHkWzvRBQ2Wt6ImzbSggICiiBbJHYQKtaRIEdtArtm4lHC8Y2ecmMllto7Ak0nwMXHAJydFc4WYhEQpGAoESpBFDYFMC3GMgrpcnL7FdIMaTSQkYSRhYeJibCZ90FXEqQu0SiMtpAnUooHenTzlNA2FufdCwuukV086mIBqfV0mnViPQxLHUBlJUUHgKIk8iCd7SmDWo6wk0z2LlIHhjT-ghUhYFdIiSE04Fk41sSWwXC2KLZPYhKUONoWyAks+iyhFdJgXpARxBI0vrYqyiKNsFyfFkAuMI6Ip7gpLYqfolcxeLDF-C30UuLMArjIRigIJbyCnHGcMJ6k2wMRLPAAAZC2tRPzFaFYSKUpiZNKNBeSspcnbiTuJpAST3Rgk-SbxM9TVLmlAkphopMqCdKDGvSxRa9DUk4T8lRSkpXpNGAGSRInS2yb5L+EZC0ETicyZmMskgTustk3xVEBPCTSnJfwn8EzxWXpLam+xXZc5Oyn4pK6syjRXUtCF+SLhgUgyEYsGpHFK6EoAhcovikdiUZyUxiV5WuUJSspsik+KRX0QxKXF3y0UZeJhbzLIR-k+QI8p6ASjoq90PycvREgjDlkCsRtg5PoC0tVF+dG5S+WWR5irlJUo0BCvYlAqsUT5P4cCqpiIMCV+KrRYlOhWNdCaroBmqpCfFUdmVxLOyQytJbF89c06TlSQExlfjo5PzOEN3WiVMrSWrKx4UwzFULBDOfKualCseEASLFu4xvgaJIWbZ4W3gGCX4DyYcyLgdAk1Rcs8QqAeiknXFTiOElnJcVwaV2cJMb5yTTJaPD+FBNUhrLrJ3WT1RDw-iiNDw9yT1dCuTo+QjlNwkLpy1xV7LIRwqzmlgjK7xqjJjk5yY6y+a4rNAeY0NblI+gOrHhk5amShyjK2rTAQyx1bxNiXfSggDFDKZ7HcX0LDgVitIG6t4l6qMp-0i7pBPS6ex-VFEGyT2oV4hqLAha6tTMKjUeQY1V49LlQruCJq3ByaoIP3zxBxreWJU5dYkFbz2hzCny-NROvuRsKS18HNueWqE5jAZlFUnomlMOBBqDVQy51RmtMmyiWQ6nAhUGqYbqdPVL6lSaZLU7Xr71CwR9dLErX2rX1Na3cf+o8mAb7xskCoDitfU5I8lmkkiWRMongBbYaGwiRhp0mlKc1r6vNS1SQ0ga3cY4k8LkBbksFLlwGj5fwvJQQbq11dJ1e2obXV9pAN6u4KhtGUFLil2GtIHkv40lK2xHPQ9aRq41DKKNnOKjTkBo3wVEcmpIGBTSLqzR7hfcdTXvk9wbBVNQgL6AI1L6bSHcfecHLptwh+tDNY4swW7lo0wCNSosXSnppHzqan15JLTe7lZh-YnNuEAzbv1ZnXRTN7CHzUIEs0z0bNBjIqJ4AbAiQYlrm0IcZts2wNaAFNagEVPM2hbFVdKp9YuRU1F0MtV9M1rSshFMNdNaWyxewgK2Q4qtP0UEoKqZV-YqtP+YgM5rhxpzkFmqulWJnXW1UmW+xerVopAJlbCoE-OLE5vK2jCbArWnmMVrcEGtctIWkfItrhzziR4No14XXXeHVCGh3wokANuJbRwdgU23zctsnaza7h7WqIHmPG1FTwcp2ybXQGm13RbePpd0l1qZg9aqNjAfrVEsZWDbhRU28raNptyiBotqMLyJ1shEz17lAU9YU4mRUG8PgqlY6L9piVRaYtf2g7fOy2WO9UxqSjMekrjH+AXtLIFJemOhX+l3eBvfeLEE0KXa0Sb2qHR9tTUnh2WP2twA2Ex0q1looOhsMDs8Q0hJgWCRTv6zk4mwUBihL+uTSpB-1cQwKw9m6w9ZRwId52mFVVBdILKHlcOs0AjpqRC7UYCfPelgOYQMlgWa0SASIS2XmJaRGVQoUR3ECDiOtQQRqKRxai8iiSdld8GpiWLU6XtJ4BXY+xegCtqioQMnWkpuFZznQZSx+qrpbSfaA9x7VKOzq-AKAudIBBPUrtgLaEP4SoVNsZW8GewAAnP+FGj56DKFOqzT7zG02ATK0KqugaB8CaA311A12eSRUC9qFSLsniFYAyIAAGMGcYDL02gUWKLBqGgHH2rrLB9ve6EPppbt7UZg+mvd4Lr0UgtUfkkTDdCsAfhd8UPb3ovr0rL6-Jq+iNJoFz3jAl9BlYFTIBEViKYozcO1Vlqh3ijGdbg5ndzmv0GVb9+FBqPtu50f7RFu2dPPztZjPsudKEYgOuqsIHhygcIaxmVO9quhPYrbR8FsFTbPt9xhoJQIVHXVAlfwArPWTxGwiMAYDytYpiuzhC1Fh0aPWfSeHfAfhn2oAUltYAgM2ceoyVP8O+sCCz6lW8qkKHbzbn2D1YEasThJ0xDXrsYroDvVEE-W3qZsuKs5MBojWuZJDEPdWEQZIMdQyDqkG7IqJGA-gGB++kyrVToNe7PVZEcQ7VJMPvh+o-ByqPYLLXLAaDVhj8EwaygMBnD7BhXkPop2oqFliKgyLrtWI8GtFu21Yobu2DG7aWiUvNQ7oIAtVdAEw3-VEZBVeBlxBOm4ZoTYylrcFHhT3MMDoA3gtU2BrBOyoQNIGCVybVAx2wzaOQHA4BnA3sTwPC8LyA8HJEkddB3Y8d5O0EZkcnJFksc+hSkjfNZ13EBRSqdUVsCSa7wDoBLCiDEvCOYDToHRwhoMZujW64j11BI+hLMByQKpAwEgO51Ui966Jx8EadWqakTgapKQ3NHscbyHHdj+ifYxtq+I8A4J06NhU8YNB95TsZxzfkvzYUXGVENU7MRPHDZLS61lUtXJcbGCE8SGayUAzEpRYqdFATu0AAAB0sAX6o+k3hEP4AeiETOncVXSqSRbIo+tTOoeZLUd-wCJplUicrEomndGJrE3dJEi4n8T+4o6IQCsI3Q-G5hLk6AAABeGddE6cHRW7ZxOeJ6Fusb8ZCmSTPkMkyRmgOUnS0mvEaHkfoCFHjwSJ7E6yYlPsnVqgLLqpIH2KlB9ipAfYsy0IgotWIeAGkyEe1MsnxTdEfU2FUNPv6TTZpi0wKwVP9QgAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section&nbsp;<REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoemSQH3FIYaeB0qhKAAHosdjUlG24Og2HJtAePLJkCWEeDh+GETIxF5oB4piHRDHLBGTzkN4dCwV+LCqIsBgKkiKKSGiMiDH+7psd6oCcbh6QdHCgmOt+iHabOordhKES7pEWgyEKGnkV8+6-NRx5AkZAZ8UKN76WIRkyARRE0rQ5nwU2yEGnpd4RGmHSUDC6iMZ5JFjjumkUVyh4ApihRhKmtCheFciRcxXnEM5d4hZFSx2AcpETvMh6SHY+AAjwCk9ulRXFj5FW9FVMg1TR-D1RKhXuYRkjqEeGyxQ2lXVQCADMXYuT6sgAI4jmQo4jWROLxVRSa2YCC1LaQYI9WIwkANZjLtsr7XkdAqp+mmJTtMiLRdYKDMS13GuhsKPXtZ0tI5FoCduNhreqCH+SSH3sc4+CrIYxn-YyV03XBoNNm9h3OERloOaZANI+Ot0NuD70Fp9CymYs5BwtI33Pfjo3ra4hClEjkOKREYZwzjZnowTKM+iUSHtn410zUFUgrtQpDHbB-MLPG1lbcYKaS9L+VkydYyqzLZWEzi93a4Cr3KmzFLa5Iqnqbreuoz+-5i2TEQiYsPSkJuLV7pRivDeQKbO67m7q1DBCfdlLFbjFINOmDwsBaTwfhjogOR+V0d+W64OdqbErENQg2MEnejUIs1181+xTM2Uxck7eZMw4wcOJ0XJfI1+OrVxjWKNwXAkd2Xmkuh3el4PODD4MwbBQHAiDIOgfA8HUwcqNBJkArKyit3FUiyAoSjDpGsTMslYQAPzWMSx+hAAXAs0nlJfNhn3IGTHYQixvkiw62uJWWSXfzKDHXiYB+1gb7BX9H2Nc4F3ZHxStYM+y8sq9kDFA7MEEI7K1AEAkBoAwFSBAheaBMJ75wNAAg60UElygVQRuYhNFsGkLwYNYi5pEawLgeQiKZoZRsNsgwuBTCQphUaBFfqUVvLsJSpwpB6VhG0FER5HK0VMH8JSkw5SYdcokI4aATWkh5x6A0dxUEfEG7lH6Dg0hKQNGW3MZYqxoRVGFCYedZa2ipFYIoa4y63jfomSFMneIgDiAbxwUw7W7jCjSIts-aWa8QnAMYQseyf1ca8PiDg6JKT-EWniaEpJTtFgu0oG7OhypMmSiKXIdSiDNB8T0POTRyjTDBI3hYhx1i2qSS-gJROgSWlYISYkgRWDGDMDWNtAAqsQY6ucADusI4SMlUHhUAABaNZniV58WcrNSpLt1LCEGH05GlB8CgD0BEQilAWDCOUGMAxwhDR81Tvs6pxUbl3IeZ9BpJBjk9whDYaoWC5CyHEOcy5Ug-QsEWNQEgXRHkkGeXWGwvYu7M3IMcLZGhV6NNsU89pHSrHuT4sQLo69Vi0DMvYolNhGnGN4vxX5xATCEtpQ4vpbL2WkMaRS5gPC+hPI9CkcuUgjJfz0ERDFwyrFn3FdBMYaZSV9ClXIUwNKb7wo6jEToVQgUgrBSi6w3hxnMpTNM2Z1AFkh2DlTRYMh1mbP9nCfMQLPR3kqt0hVAl+p0FacjG2zhc750Lr6mVKQz6CxATfZYqw9C1NxbDS0Tcw3+q5Q4z1igemSuYsmnu8aCLXX9Q7JeFChGZSaRIvhCSXmivGIwGCCb6l9Q8sVTo5jBkb3DVE7FdTngtoGs1ABnbu0pBvk2-tjUxGDTVR2oBgUyaIJpk9Nxb1-UvLORciIFMqbLp+kjANMxNJaphsQXVmJgXyDBZuyF3QqTY1STzEWyL7FfgnQ0pN8M0k+yLfOi9BqHVGtRRAggn7iRQRtFi+x7765c0fbk9G-Q-0pRvYZR0EGYKwYfcYDDMgX0OK-FhyIOGv56sKJe0FgHX2aSXb4vQNLVRwZyYyfpv6ElkZSLUUItQ0LB0zZIEg3D23SVLiiutgs9AidHfA0AUa1GgFjT4QEAAqQTLCz0dGU0bJSXTFBqYFBp7SUmjQAEhQjurJnQN2xBkSEH7Ggzc-SA2oe3rTVdKEXmhDRW9LFviv0BPKBxsIdad3Uzo+jexkbK72Jvs7WUpVrO2fs7QxoAkiPcwQ8+1lDHChWZyElmhV5-R6D0XRnL3LGMPuY+QVjAEgsUcNQ-OtyDSwObKRkhxT8eQteS0Vmz8JqzuhiwsAhYE2vNOkz2xKo3CvoI-vbBjN9Bb1Ys6WiKET6E1pRWiy2WLza2OZEFtFsT1AMCOKAPLNm4W9fQQJS2gLgPplAPp6UnQzs6bhpJF7dJ20ndBQ9wNvbV6W3TcSvCpLyUhMpQKwxUtTuDG+xpv1I6S2KSXdkhGPt11ic0no+VNp6O0vfW5RR4c7EVZSEA1HFIl3cKfSorbmJuHzdw3oOnFp5vk8KO+9ncoJXDqAaD417HMRflI6ttHFCZvPhgdWjeLzmcDcVKz6XRDXxK8yFzyn+96mq-G5Bfnyo00Pz-cC6weyl09dm7Lhn8uUWK5-qzq3MvKwa--ELoHzaIEoJd6+Q3QSR0e9NzgEen0x4T3YNPLgc80CTUXuzL4Dbnh4QDV+VZJxztRBHAu4OeiDEMvsPxQYIOR21rujyNKMK4Vkv0Z9I25WC+mORyX4P4tfSsFhfC2vUMGmp63hcL2iZBUpmhZ3mv84g6KXpTmRlZj8B97Gm1Ca+BBh1WzmIPF1A1K97L4vuGy-BjdXX9DUOfKqW5Pn7v-WS+OoNMGNNHPik8foYlUqi0C-r--EBPjkc2m3+Mk7jQ1jBVwVQ-3ZEskH2mwVRTB-wOmP35lw3b0ZFyS-jALTjtj0FQOpwlAumfhpF0CUCh35TMiASv3mBdFbzrk-XHlBHjUZyPQbB1EoKXjIDwK1kOR4hklL3MHMwYJxEUwaU4P9VFDRRGDGFC0IOUGhyFCxWW3jwpDz04LEmrGRx6TQIUxWDWB-lUO9U7hoKeHmzS04KmF4NeR1H0Lw3gIsNwyMNBBMOBj4PILdAsOwLEBJXi0kOkIQ20MGGtGbypHEPoNeSyF0BGGUMVFLgzyUllB0DCL8Mm0fg0LjUUNoLdx0P+2LwCMkISNAWiNCOGHCMyFLgAB48jYiCj4iaUEExlqAlMAAVDIXRHIOESUAudwAGC7N+YpToG+QEUAAAalAHKzCEMGiF0DOStm0LMEGO0z6MGOGNCFGJiB0AmMwNO0NA1VGVNUBAaOoAIBkDmVaJ0HaJY06KqUoB6KBAGKGIp3PiiGWNWLSOmKBBTGuIWJsCWPGPwHUniNcOcGfmoFfnfjd1Zzd2x0xDvHXm6AyFElIKA2sDvEu0KNBV8PWM80KHE0rmROuneIQRCWhOLkJ1uOF1DGoHwJ0E8OINySp3eJvjd2OFOB1CePeJkx1EqOJLpOsx0imMGBdF+KC24wfhvXXgZMz3OAkLPwFUPW5xqK0OrHNWIHSHhVk1BFdXIwA3RJSDRQsKxSIwsLoI3gFIxM0iROsLSMELsI93ZWsOzRcIBzCC4zdUcOcChIBNhJF140Ugd2rFBJ-lRLkHBNCEhPxLdINOlIRMsy5LSP9NE2owsikixOZPZTxOUAJNEhZNwLJOWMpPP0RhpPZTpJ-lFK0iTO5TPlkEtDZPh3vHUByPkyRJnB5KGDdH5IfmBSFIhRFKiLEKUBhV3UlKFHDLCBNVqORIVKVLJRVKeEdUlHUycntO4w1PhLCG1M4N1OoKUOQysS-FNM4MMItKeGy2JLpT3NtOMIXKdMvMB1dJhLDOHjAFHiYFYEj04Fnl4AwHkIMikGuVuSoHuW729GZU3njIViHzNSBB-K+UnwpEgr-LGBuRdm-XdieX7kYJjhbCFT0jRVgsoH-MfPO0Skvnug1G0xsA1A6SPM6S-z1FIusD1AoqF3ukU1oqSMYAYqIor0PBYsPHYsKHugrlKG0wErkFIUorCHulCjoBdlUBdUGEkukpaLgTEtCHuhHMYForUocWUpsHumEhGEGg8DoCNj0uGAMoYBSm0usHun6JYpsD0DwkGDhDMCOAAD5QBVlBjFLLKPs+hAQ1lbLrB7LHLnK3LVlNkvLGKK8tNBgUggrQAnLjhQrQBlN4rrBvL7pgAAqLkHL4qQr3LQAwAIqOKv8ABSLKuKhK1y-Kkq1K0AdKivDPWyiqvK9PU4JyyKr-AAQhOCapysqqSu6vO3auKt8uKPKr6patAFKOsGGr4or2KKOACuasSvyoWpmvqq-xcvGuCpWtWTcvWo6t8pcsWpitCGWqqr2vO1ysOr0EBE6qyvytCCqusE6psBT0vghGwuiF-Nwu+ShkMOOAfmElEg1EGBwrwrD0+pA3Br+u9GRA8AACsQwatAaUpgbmUVqmLvqoLZJ0KyghVvKwgYaAKYQSYsAvrPk4KkCSwUaCKeR7oT0dUOhtNGaNNCbjydKK9IBiBT0wpZLrBubeaqZ2aOafLbqTLJBYBIBaKJapaRaObdKtBTKABRFiiW5W+W48+6AAOVUG1qyt1u1rrOJKhqe2JqtzSNRsKHRvOSqvMNZQU2xqpp6xJgpp+v-Ktx6StpSBtpWrknnwdvNu9xYwhD2WdQ+XdthuISOSOKH3UPDpiAEzJW8GqWzIRtUDUCs2iEpiJKJWJoQqyCFGQqRStMKETjjoqDCAlwpArLfhzJh3UPcJrwHNyRyzizJT0GJsaWjJuOJKDvTBQSeNLrCHboOC7tDmoERuRuRxZOsH7pppsM1psB7IlKINzNMCwpAx7J0Gfg8FETXoFV82xHfhbsRlDtDyhnD2fKnlfO4EwE-LEHTsztIGzstC-mKilhygLUWHUMKWKVKSjH6kmy6y-39hKUDkGF5VJy0SAeHtCHRqfqpBfsoEpkQMIk-upH+VDQIk7AfiYTviAYfhAd8pPm0xBL-loKAcm3HQIkfwpCekYDCyWRaDwg-v2mpG-ucwhT-oDmISofRO1NDnpPOwfnIdRFoKgaYjJyoaNK+owdkC6D6SxXRoYaYeWVYfQfYeRz6U4YvMIyEaLKiMBGYqIdYtbAQk0ZygTBOVxvThbEsepGsYBQ2Pk27sMdOEBC4tMYcYUZDToDwZtThuEY8cQazpQbfoVUBG8c0OZSCb9JywQYzqQdfrQeYC0awZ9RwZcecTMbcflMdvkacaTntIawdRcykkoayfRK-HulIdekdwofRBkf-SvSoxFRo1oYvWrolDtWeCAbIJ9AEMIY8SYJwYCbUu-oVMtWtTESUTEF6egt6loGVUyZ-oGYWCGbGY8QoK2ZyYmf6imfmRdOgaWeQJY12TvH5G8ErHIDzi8EGg6GDAOH6ZxyJjhHtU4eLL5EccYGFHgP2EUZ+crFsRedF00h1H-xq10fvNAGLm8E3AuFAjBrs0lEnPaHIFwAfIj1IGGBElMVAEmguVkEUkmlj1j2ATDupClj0FOjhEGDsD9EYA6FjOdNvixIZdqOZbrLPlZs6EsXHUWnUBpZkDpa0h1A5aZdFmNrIS0gla5c2P5Gpdpd5LdDldFjoYlD0RaFAj0ADWOzhyym1ayCxXumUyNZkC03tI9RfjfmFeph4EGFpckG6k1NAG80IA8HNaxUVdIDtckAdebJbD+0RayGFUKBvToA9a9aiN5Y6CHNZdjaNOsFKdda8xAzle9apd9adf4BVZbEjc9cfDDdIRvQzZjeTtPU6HjeNIbETfsRTeXJSi-BdDlYvM4zbK6aDMdnoGub9YDZzf9JHCHPdcLdAkzboCVZFf9bzbKGDfNeLaKAhQLejdOFjerfPnsAuCDYNZDZklnoEMSidYDYEIHZrJtENDgaJRdDnaLYXcXNadTce0MCxEZY6HHcneplzcDaJCjdvaTcXYuTLdXYraZulLM1y03ZnF-aRawHA77piZPana-dQMve5Sg9HdDY9Dg9AAbfKwrK3bKDlcHcsPrY7cFK7eDnkq0BxZKyHKEi+YBKBKidpSfhtcWByxvjYCMZiFkF+eY+TPEB7d+eGPHVlJK0OatWcDhfQRnPNbVOTbBYbCo-IBxc3qe2k4RejaaNOl3d1aqDRXRaxQ05ucfFusY7fnzGwpRfO2M9fHNdup4+ufzD2T0Q8BiFCliFG2I-UIEK87PaHfgLc7JWzNGz0CC488mHWZ1HC+WM7hi4IIlXi8i9eZxBdCS7i-c+zMTv1L85cPWZ9bWKoSyEgeMPgKboOD86-hK7sPWYENc8y88-DDPCRf87w2q8PI1YwkoU+ZS-AIHwSh5AOaBFIb+ME5prPHqSG4sIR0VOry6EXEkFxbJSyEYADQKmLhqRwddfKcXF0cfesB2wa50D2yO8kGy83IIna5I4I00iS+LNjfKx5dm67wW6W46BW8maYDsPKxvj9EWHUiS9Z3S7bZw41PKc2Z-vXblgEL+-UlGch8GFh+0ioZB9w5u4bH6n-cdIU9ZaR6Ac69hCiGyBYEGiKQ8ODDDDhHbToADYp5koTDoBdd64FkTLqlMbp6p66EZ91YCYEKZLqlQ4uTytGOJ9J-tRrw5+p6J8eAI4MAF9nuPMl65+6kAOQMYCyAzrAkp+p9p-kHp+V9-qZhZhp+AdACV+kH4B5-kz54QhN8F91ZWpiFMQ1--KV70HN+56XocQd6qpF5l5nDqlQgfsJ7sBl-wDDCMBEnApZdeXD60FJUiFD5YF8CT8kBtr+QuyD7vDj-IAT79+T-z8N4TON+l5YFN7kxyad5TuyFd71859zrgSZNL81p97cpz7z9L5T9F+QiT6zm6bcPBw8LOWpt6BQKa8fDkq0Cu71ZAzu-O0B-O9oNy9K8U5xDn+A+DErY6FMfK8K+a+K7N6n6+8PN5-j+8Bsz0po8B8S6O4dpwl9mP5I89JgrP6cDT+o4KOWAf-v+n-WZ1KMfwBahOgfRUxoCEAGEhgB4zQVmUC-6T9-ApjHUubnkwRBduX-MwDv0H415h+xYUfojFgGH8H+LhAJlcgQ5aAzA2wDZjE3v6m8v+piC-h-20hoDBecCF0NQOYEpRaB5-d-ipwKI6gmBCvdlDqDYECDaUdpAJmAKAHM0CeF2ZYlkFub9ZO+KeWrjExyqt9ZMlcUbjixDDHRBoNmK5r8yjD6CYQgwVRksCP6mC8u22EDJf1MqqpMU52TgW-xsF6BTB+AowY0EGAiDaUFglfqyxsHtRI2aqL5uAKyDM1TGFfMdDIN0ByDII+fErB-wCHSppBhAWQGd2Tp4RO6ZA9ZhEE+L6A+BZA0bui0T7E87W-bEVkz0xDeYsU6LUoY63KH2kdy93EDhphlaCxcEF2aQe53ciSAnWKITIbWEqEgZaWWKfIRvVX59ddutLMwGfEBCkN2htLPSHINAB1EAAEsrUkAABBcAOAGVoAAlOopAAADy2tZAOdjkJ7J8A9gHFswl46k1+hdA3-sz2eypCuhGQxwSylMZFDXh1jIFqlnuHn9qGoAIoeoCyjuD-Q8BYEaUBuHXM-h6hVYesK2E7D9hRwk4RCM3bfDAWtwv4e8PUJFC4hrwnoVOz6E4i-Yvw2gGsnz4XMqCNeMEfQH+FOBHh4wkPqLxz7o0GM9-dwIlWGJaDpYug6EQYO8gciWAYNV-sQGn6odLhPA-kXcPeHT8ZoSwhtKuD9AkB8W52AAAxVA9kZ6OZFVGZhjAwGADSCJQAOCp49R7eFUd4CxSKjFU1efFoMR4BBYvw1o80Wr3gJ6JtRlCffs8D87OiDRCLY0T5xiazDtMAhX0ecUNE2ZjRM7Pfre1G52BpInox8FIBiCSo9RM-J7GGP-r+i32Zwg4rqNXB+jKwxovThCTJhE8xgcydQDLFBZNt+8u3fppFm05jAPRoXIbpmN4avgAxw2EgXGmGayozG5YyQJWLkAyx4eF7d4oOOHEywdmkPY2jQ0WArZWWk4qsamNDbSDgw4vZlsiFyBDdl+NXFFHeGXEjj40Q5HbuGBPFQ9hS0AmMS1zwxQ8lxSef9ve0oz7cVys-E7sFwIKL8mm0-J8TWzX5NDN+TNFkmfEAGUYWSN8I8TLGv4Kowud7cjLBzR7bl+8QzdAQJygnmMmwd4xIAECGB2AKxK4igtkyJQ3wwJsgLHp21eQYT8e-fY5hDjO6KBYUxEHVpV3UCMi02T2OfqAAX42Ycu4-Fri4SCw3o7ug1Z7M0KrausvwJACYtwKv6ncb+n4yYJ4NFqhBrQv43usmzB7cN8E5460MimPJ4BlMRkh+Id0UkfiIuaQ-REoTUmP8QeX4ESRv21QaZGx0k74rJIqL8TiuXg7ifJNgnpcLEJmQKQiWMLDZd+rEgMrZPqxaSLkG4+LFIG8g2S9xh5EwoZOMm1iGwEgiAVIJaYvjlyb6TARV08lcEbJgkrps-wlCuTqYzgxYMey-aWCmRj-YIZIP44RogQIQyAfJm+hCsapYNbqAgM4LECdJPgGqWhJ7TlcGJSwMkjSB1Y9SFMdUkKcgKGmd0XWGA+icPyYnTSsgy0sGgGzy4FUwARk5TINLMFxoRpWwHYD2OGl9SPElU9yYwPl7HkXQiwbqOwLCC3TnBfAh6SpJSh8CXp3klKGIPkyZTQhgIToWKj1G+BqsRfUColAyyMgYCeoxZkWFoChgUhUYa0eoTkgYzO4zo2xBjOyFG8hY04VVmmOImnwxafIOQJWLhCJ5f8gIuSC21Jmjdw6uEa0auK4KuDRRJgkcIwysn7jBhT2UMNkBszWirRsoUEImNAjJjcgGMo7CBlul2CoMHSd6QwM5m59z+r0woGmFRlaIhZ+WDGZrJSA+C7Cjo49MQBkmKyABzU8IdFk6k64xgqjdmRbC3zqQ9ZIstMcwPJIxCFBSfPQArOYjSp5R9gZYWsMkC7DJkAAGWVqnD1BpQTUdnyuG2C9RAkWUbZPWYpD4K6Q+kR8I8RfD0hCYa0SnNFGAjIRWUQuSWNrjBxS5+Y5iA7yeHwiw5kc6OWiMtAYia5Rc9WU4HUL58xe8WBvqQjxGd8CRvQmqCSK8Hf49RFI0vuCFQ6DzfZwYhGVkCnlJ9wQzMqpNTHLmpz6prLHuayKj4MZRZVVYYizJrnsyRRncsUbZIlGJz252cuUdIJpAwpVwjstWQ8Mf7FDHg3c0vvogj5siAZa5I+Q4h7mj0oE2vA4OVlPSYiYRxWV+RrKvnlY1B4dcubAoZG2TCaZpZvtIInSSAX5PM0Vhgt74vI0U80YQNUPsC6h3mzwVRg7UBDYLVG8nOWCQpICASnJfLDxI-MQo4K8FLgvBVdw-ll8AmTC3IJCwEjUK+FhfMGWkODB4RTOaAgmYn2WKYSx6BQnCSNnPGjCg+eyQwLUX1FkjIx+i6RWzj0VcMt00s6RaZ1pH4YtZQwkVlimHlEiaoli-9milICOB4xyaPRfwu9rco55JQ5VkCFpHLzieDC0IIsDsx2tSRWI8kZSLgYCFaRgwNQa4rGQc5aR-ChdkhIU6VzFI2iuwDXMsmvD2Z6Y59u8KxTayNAWiWWZiHKavDZFxc4djYpaLnZ7F1MYkcXOcUgYkl7ivJfn28XspfFjwCJXZEnmUiQeYSvoP4onlLyYl9iUMXqISV5VOlHOZ0YXxKZLkypwfSUI8zyW1FpRhg4xfIrZmWKNJ5MgFqfMsUBNTltIoxVEpZT-MtlVyo5SihyW6Kbl+SrOU4oFnPtMgUCgUfQCxQNzERewg4ccPABBYAV2woFSiJjlxK9F8ylat8t2X+gGhmkQEICVBnxwvSWytmfjKeW3NclzoxOgUsqUcSvlcgLoIXP+Whzw5Uc0FZiAbnUro5WKWZQfzUEIrC5yKjKWiskUSE0wCNH5GGnkUSYw0VhT9LyuhDf0Y+gOeHjXD2RYwkCfKkQKs0lVywZxMqtvBIUkoKrAKAqp4cJQlV6FP0mq8VTqoanSqcZuaNcBIC1VQsTVS4t0MKoxUUgz0OgEyF0Edm2qzCCEB1eVORnEAEa1AFMWKsVXiLm+8inlbQGtVRgg1FAHEh4gIXE8AmvKgNTLItXRqoWaaotAsToXcKiMaavQBmuyzYdiS8az+TNDGW3UcgzNFMNmu8D80k1MQUOneE1XJr3eVq6EMjhLVl8w1fZamEap7x9qY15fW2ZXzV4u8te+vfuXAhrWMMP0DcIMG2pECtq6A1qotO-ML4BTYqeVZtSmLlUDqoWe6zNUWtEF7kVlooctaivUrVr7ZXC2tdpm3W3KNlzq1eJyjXWhqnhu83+fvKJT-8XKsHOBHqunXqQn1fEN1dwpsb-TFisg+wLEM752lgER6xIl7Og0+yShRAoKUtkrgbqwgnarsOetzjCgr12yB2Xgu0zAaSOFuPCCGDsx9MtuTw99EN23q7196UhKkgAWkGhNkGqDCVC+pw0Ewdy38veemSsQ-rLE7kKjfUh459gJuzwWejqBsaP9DZFyZQJAxCoCCJmym45SpMBAWojmGhTFIuBnJzFYOQU0IICA40pMv4q87llEJ3rIb+FB5PDPy1jkBlLEOGs9eErM1JMwmXGyJoRpxR8Qb1jDbTOZvCa4ZQ6aKYSKw3kqU8sUAATiqBNqJAClezcqsS1SVKe-Cs7qYl8CDAWU23bScXyVBWLOM0UyTMWTVFQ9otMlPQAAHIatKYNAI1pCX6oH2jbGwFVrh628IY9iDrZlrCjeAu+-vYWA7WcCbI18ZHK8mbyS0Zae5-WtYIMEi2Wr0tMlZmVTJkq0zng0oHRSGsIVPDO17m3yuoGpkbbZigG7TEdvW31oAuGynxoFvUgxAxlvhbwOkBpDC0iFIGeaFilMHwh1GbDL+txFkCXJiAYy64qDNXlCSIU9yRgC9r5qgBRJO0CAYyHBCusOtt1DZJsh8agBVGgnEHY6n8qVBNN7W6bdVqYi59qYL8o0KD1a3Y9wUFyVJbcwtj6jHm7aeaMVpHpYqzROyh5fcs8W2JWdIPG9FDph1Uw4dHjGkCEWFCVbid6kPyujqdR6LNlTzPHejpFBU7cpNOjJWEFR2y65dWOvBeijVQMA5dKukHr1riH2Ie5f849aCC5G3FSdu6R2SIMk2BhpNLgq7gko02X4qqXaZgYBrd02bvZ9mwWHVnWUXDP0OQOgHMgG0Pa7MRSzFJ9vOzfbmGKyP7RwwB2bbgdKLGYhUHB2fLMUFhd7H7vmivQoN8goPRoI5WMxCtDm2NT2mBB7EbByxAgaoCiYmYY0swB3dwud2MhXdxerSAXodqYEVNK1LtNIKVQRgKAN6wwK+GEiMAZYo2Ivm4E8ADa5IC+smaEDPgMyWyRUzsKDskBzELs9xL4p1rsZlA199MvGjeMw7wFoUwkGmMYhA0p9liyqr8KoFICuKWAzMVeAYGOTv7he1xNnO-q+Z9EZhfRXoq8UGJv7SAXvFKICDIZH7im8Be3VbAQMZMsGbaMnVMBMwNTchoO26tcVv24RZAD+9tOjXLrIGMmzyGYiYHRVZKYKHe6mKYmT6JxF9WJFg6AMFgtSwg6iHkCwfOk4Jb0EmF0CwbMBBAtIwhguM8nh0jdTGSitnJIa+akNLEZ8cfW-stBPRp9kEWfTLHYNWIb4t6QsYYIUPbAaUDwdEJI3ES5ARD1mwEPgcGLIHxg3gZPnJvzTWG3iHSPogfrEYVNzDp+E5t5BEPuGHEnh64g4aYNyGJDhcaw9MRpTgguDOTZA2Z16DnaC4YNBg44cYBl9ARl0+Q5MG8YMHbqzFQYIlBcNKTv2uRi9o7XsC7omD2R7eAgYqOgCatB+xOKDuaMBNchqxFg0gfSO4La1rBlmE8GX0+AdQYi7yfdErWzFaisxfDbMSMGzFrRVm-I9UZP0HAxF5R9Y2EacOAjEjoxvBQ7RdCbHej+xvSLdsdk1ajBegb6aAAAA6WAQ5WTxrwM78AtRZPoLEcrBVnktKerUCCF1kk4CWAM49wouNAsrj30u4w8c3HjA84LxzI5kLjSEBfCDtUVgIUROgAAAXpUduPJQQFzx140PviqDBMTXx7lD8cBB-HZA+YcDjcHD30Ao9PgC448a6B4m4TfVYoxXhb0qxZipAWYszUNA1aIQeAIE7Wtq24mYT+JtkxTM5NAgPA3J3k6vLJMiggAA')">function pretty_query(query) {
    return pretty(head(query), 
                  tail(query), 
                  is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
                  ? pretty_term
                  : pretty_query);
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty(string, args, pretty_arg) {	
    return string + "(" + comma_separated(map(pretty_arg, args)) + ")";
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + 
          "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAABaTzEz+eEmJYkSuJ4qg1BOc4sEbVyKFRe9GRuO5eSeE5GwkAQgWi9z6HvCFFJktNGz4dKCBIGLnByjSi20-ycDwDjnEMUA5EUCAYHgJBUDQPEuouFEPOIXCqGIIxKAUShuGIOhKyEoKUgYYw2BkBgBprdy6DEEaxqmFZSmpUapGdZo5rocgFGGj4tuUhT8AxLF5t8BQWHwBdcPOh6noXfAlpOs7NsoawJqm7aTNAObjSEGcKmUNhyDK+g-uBmYWlPBhwboSGTBhuG6D+wHpuUo7UmrUhqHFBgoaxrKcYu-6ruRn5idJv5ycx2GqdxlogYJ0HUgtagxDoM70YRumVoXPmBaFsEabxxGmh51H6G41EfmIAAPQhAjcZwRedUoxcVkRqBVhd1c14htfhmXOfxw6FZhx7hHIZaNa1wwdZpuWSlABLiAYer4YdlgnYYdcKDOrRSEMBH8L06Yg5Dp7hF8GPjLQybbcVQn5raWtHHO-avdifWUeMdpJuUc7c4rv2PiGqXo892Xubm9gPC8XXFRLn42+UDvrYzouYmzkT5uYLQpc7nb6YXUe64nybpf25u7bmjRCBBblUSn+TBEIDeU7FjotH0APGDNt2PcL2XY7Q7cZy+hhXuj2GxEb6+bcmbmzOCDmbLshyzlqS+HRuQNWXkfJHyGjVCKZ894H1Pg4bgr8whUQHHNTW1AFDG2oJWP2Z9EF0EmFRWIQV15sFxJg7BNA8H+0uNvZEyDSBvyAuRZ8-x0GpFyAoQg+Byh0L6vDZExCoIxHfBbDIxUoEnzPgwJOKdhG3zjrEdWWgRDLSmgeegk8056VkWHU6kgyDR0UbogiKClHKKKLIjOWjBaL0IZMVhcYEiBjmqPV6owaRsFpquUoHiGKGzUWCLWkih6rCDOqUMywKIvkND-TcjDQD-3sk5FwcDKC+BIBA+BFCao5jOL1AswJQQMEfs-fQZtDCyxIXEeMgYHIMBQZUjWSwu6gHSJkOSzQsLSOGlUKOM5X4tMIGEG+ZiYj3zKUtCpWshnMOjlUgGn80ywPof1FGbxlbOFVq7C27srbL0-iQ2aqRKCkFrJUwaJ8tku01qHQIgwm4rOMt3M8Q19C3Ivobd+W0V52z6Z8pWdzSBNJ8THT+4UimcQNmXPOlc-rVOOVBThy0eGZJzuXfOiKREriCmODUAV2Gg2FPoOaMMPhj3rg4mmExanTCCoCgZlL57EEnrSgGg8iWRjiQ2egVJmUzhpk-BijI05MoPCy8ebKaX7TGVylcqKAlnn6ZKoV+0RUqtxbGIKgqx5jU1bWJihRYnRjToy0u1dsUTLqVK6l6NfmUHlUDY1BSTWFKwHAqZj8HASw1PoH6FshJ1NcckVInSsiBrabvCNK4ekbghJCX12sBa1DhNwb1S1k3u1TYMG8UanFHDIqAD1cDDDckYHwjG0M2aokdcG1FcKa4I2Da8flAhaWMibfnKlC8HUI1dTEU5aLNC4m7QijladSixtjGsfek0nkVrKfwFmNbsYmLVb2mVwsOUAxtUUctQhl3VspnWgStxa5WoRfuuOcyt0NxxYW8kpr6VDvqWGn5zB0artPVfS6sYFKgiBe8L9J7a3lUMO9Z6La07Z0ZmTCm4HDn-r8SUnc8HmaIexvdR60HPbhIiRGgKpb1nmANr3fuRzB4kMbPIxkFG5H4GTgO8kjZux6i7UuqtP6kPvH0PI5xKh23Sj9bURqQJM0MGzfzf17GwhMQtatE+8jLHOlUQujRlY7GTzk9waTuakWD1WdCjZPw57SvZVRoGJz30+wvQwZVlyJmAtHhffZf7-qqb0kZqFnrSMuANn6yzY0alQT9Thj6hrhpBcXhFvD18VyApi9+zxzzB5eYVS4hMr1fNwINhhjgPHsYc2o2FlNjBIO4ZegxfQBW-ZYapnF-8CWViArq0VxrqWP7pcSy6s4sQ-OCIC5s9tEMOvbwHtZsrOaKtQeqyq4Dddv0NdipVj6qdWvXOGmjMD2Gut-M-hlvrEU6r+cas1JQUA4CIGQOgbqxITPmDmgtJa0jqgbU9jZ0NCt0iPTIAjGIAAfQHxlnvnPewD0AwPQepCes9fo1NC5Q5B36Y6GRmtbVy-5hWzAxASGEAwe+HNKB9HuGIYNw6sKfYAGTU96P0J5SPxLslJ7jrHQ2fuGIB1BYduP8eE6A9bcEgaYGDeKWt560y0hc8+zz2zcx9BEULsZsXnE17leC-9KivPyB49qALncQvks6WM3A43TXufLCCgrm8Nukwtv5OcM3GvYv7a16+a3DPFf26V1tR3j2P07fGx5matm5p8-10ToXQeVvOFF3AmPrNsMS4x+7q38uve28z-b-D-uE+jeW0nzrNXZfp++3bu0vv-p5+x3NdrsfkNp9IWHs5uv+dR6OeCevRfUTx+x93tdjWU+W+b+X7PdoK+p6cab-vsMmaFYb4wN3oex8jBvFXp9ayOfktOsHZ2bnLaI62trlvZP2+C87wnffezD99451f0ObMI7GJH2+77NxsQp6l4G7gk+HdQq9V30TiYxTlL1HwTD-w3391Vw8ncXfXvVlWPw91PwjwJw7xC2SXM3tRNwAOx1cxvwOSPybzfwgPHynxVzgTBiVhwXoF2XNkP1fxDQTHDzb0jwvwwJtXBC2RoJOlNgILjxnw5y+VdgeVqEYKCimUCBkA5jxEEOKWEPuUpHENs0kMqA5lJFwKEOBW+U6CXiQLLwTFUOkOth0AoNr1SHHQLn0PALcVbz1zQPYPGmSUsLv2KV9kxXhSsKdRX0MKA3BBcO4A5U0PFyvVrgs0XnrUiAGxsJcD-3w2CM4j1VZU11QWQNX0ZzGnk0KTgTvWSIiJxRP2+yryyKd3MJHQxUsIKLSOYPDXRxxQSNgNSApXVWwKqIMNsLSDqOKOgMoNhy5Eo2sJiJx1YIcMN07wo1cM4ncIo2UO+yJ3BAmMCMLgaPMAY3kUYKYMDDiOV3Z2KTXn3k3nZjAJII6NQINz0KcPBHIWoC3gEJWPSX8xBXc0bx8K2LIJbXuMEAWVmNILXx9xz2VzkM4kaWaSIFSPaI-QjX0DBKBI8j1WGRhMKN+MGBhM+LvVBNGVeJcBvFRI9VOyG3O3kEuzahu06m6h0ADxxwuWGjVgp1s3AWZ3OSNRIw53cIIQMWfyjm4BU2RXJAkL8O4V4X4TPnBC83QifyMS5NAB5IVVKO3y4UUCFPUQIRkDpO+xYPsPONPiskFL4WVP80mLhMeI5MlJMTVN8MpSkO1NAFkM+NkXWNVK+wtJnCtJkG4A0OyOxxsU0XkHsWFkdLlzmNKVdO4FMN2KmPs0c223oGCXNMDHmKjNFKE3RkXlhKe1SCjNqwYjjI-TOKJ1eiskTLTJcCjKCQcVehzPpz+LtArLMI5wri+HdnWk020wcVKz5NsxvFlJgPMD1TkC53bKyzeJGG7Ly0cEbL9hYAUXDi4GRUKA7O+ywn7LOllihUbBJz9jZVHRbN9KlkZCI0pLZJnKMDmyRWfkrKp1PPohVRKJ7PSRnKaxMRnOeHnKHNiK92XMYk9I50-KiyfMMRfOiKGJvE-LrOKXU3UVsV3JpSvKrE6CRRYHWE3KmwXMMMmjEBJxPKq1QWZw4HWkwtPGjXaSwiPJl1gsIuWUQuME0wI2aDwowtUCwo+lQQAB5gR0KCL4KCMYh9ZSBzIIQAAVG6OzOgXwL4sQXgBuJsA46gWoZocEUAAAahLSsT2hJnWiFFANPPCGUqTIUuUpvViA+HUrEE0qzL1C-lXFMj4t-nBCEvwCamIEcnEskoiOko3lkuEHkqUpUqsWMvezMpT1QV0qsh8sMpiH8o0pkBTgorAs4jyiayiyYuelC3JDHMrEJxumxEHOmDLQrWSr1GvPBJ1VPyhKCu4t3gzkyqIH0HCpUXHPwCbLEB3O0TbKBgqpUmASqxHCrKeW0rqtmC9worquaEPRxiIm0ptBrK4sE3dRWAHAzh6o3PKNxCgtavRlbWmASQKqslsienKA6UMXyW1GJVESNGE0-MZD7OPMyz9CCjGtPgfKCseoArFLQl-IqVAtmrdR+pOICymmquyuO0pPCy-1Szm2vNSqRGxyqvRCBumlfSamxweqCqKs2uElKrqPKptX1gBrhtqqsQbMavexar9LBCMxtVGrmx6oV2xrjlKHggV0IuvI6oiQeomuwuWRvFisHVAB1EVVJUWsZNJy3IxTWrJvRqKG2pT12roH2pEEOrOhyWN2OqfB5TNVjEbEuqBGuoHL6xKu+wet-OetAreqvA+oYn-LOkfFYmfVQsDFhqysqWBukCRoJKaiJNamuw6juwwEpIwRJmoVwXwX80cSRNOJGK1KSXBCoRwTwUNPMFjpoT9iwQ3m3XHh1mEXDvfOrKyGERV0KkDrjpDvdokyA3THmLmCTNiDmFXD3Xjj8I5GrpiA5DrtU3mIwmbp4A3Dborr8Pvi7vvl7obp3A0lqMyCTLR0yGdHroaHmO4kMA3nIF8CTIXqXrEsVFnqKHmISWboSVjC3sKHmJuBJyaRYEMFFJPtUDPsahWEPtiHmMUq7tiH0DVm4F8HCABAAD5QBwFlKN777Jk-DPJn6YhX737P6f7wEfIAH26-D01phwHQAP7AQoHQBIRkGYhAG0MwRwRgBQGDA37kHIHf7QAwBYG+7R6ABSAhpBlB7+0hqhzB0AbB+Y8SZ+uhkhhkqUD+uB0egAQklA4aIfobQcEaBF4codwZYtoZEa4dADYpiEkZHukYBFAc4dQdIZYqBGIb4dwa-tkYgc0fAR-qUdYb8K-rUe4CKA0YYZMZ0eUbnr8P4YIdIcKAYZiH4diFpPTAKmEyTuDoEQLEfMBBXA-yGAZ24ACdoTPiyMLqwWLqCdinwBYAACsTAnVQmVhwnkRNGO6i7k6ky-987sGihomS6CwsjIp-GCnAmdtxMcGtw-CCVagkyWnUwzbVLGnwRIA6BvRjYV7rHen+nMlSmumH6-Cr6GBYBIBm6pmZmxnxnumpmABRLu1ZxZ8Z+YgAOXIG2YId2e2dZr0j8ZAx4FqdoSDyCqyemByc0YV1VKiYub9nqdOapHKc-TG2fhuYaDuYYeKYvHOYSeTs+YdTTDvNyUoWeaSczqQXEvOMrPIVxGqCkxlFIAoRJtSfIGrHLRJk0AJrQg+dTo4ClnZlMXMWYQRaOCKBZJCISEIFJsnkrIgoJ3Fp0TQnXgXX0A+dkVRt8qsQ+aucmomU5ZEG5ehdkRSfSdMCRTqqBaDsuYLxnHPM6diGWtFtWp9PWv+l83XNJzEC+EQtNi1bJq7XjAZbZYcXBfxMqY9paiu3aluwwD9ohbeHOXIFMAYHLg+HKhuFIA7jq0rLRz+03D-0Dcst3kgPt3DZ0uSQYH0rUoCuioidzqzJJhIiLmaDDbnxIk+O4RuBzgMS0EZxMuKqGI9eUEkoyA+SMGQWUGUBIcamUv0ArZ6vBAUtKHbdAHktCuUorc2b9HbaWNLeLPOckEyRGhMqYTfmndEMoFGciGgntpcEirEB8vBAhB8vzedmMCLbEPCdfjncyWnbpV0usHBE+PNnndxEjgUBbeYSDfHqyFfiLk7YjV0hBnJSAxfdAFp2UjJSfe9ztBffCGB16qA+fYffCHEeSWKHhBXFKBTcGB-eZ3BDg9eWTPdc9e9dij9Y7hfeMmaAA6aRktuPhh-b-dXGOi5xsX4PI6g4I07c3eUqvYxVvaQ-vbfk46cTCtXAUoTa-0fkDUIWCYP0IO49jd0X458tY5vbIDvb-2aRA+IUUqk-PcI7HevdylBCTNfiefHbk9IEEkzYViwgI+nlk4hE7ozSAwVxfamsg-J2WVk6YHk5M7BxMu44Q+SQAHIE3X512-O41E2oqU4X3L34gMVy5SAU5ouUHAyajOjMgBI2UWB-sFc4uB2rx5ihBhA9Lgg9KHIdIrILRiw9KLkOB4QI2kZLOMvawYuub7dMv9Pr3XOjOTPauvdmu-x9BuuXPMvwyPIsWcXlA8XlXAlNYPB9kRlH2SOPKyOcYzZX3unriFukzaP6DxOlvVWYhwnhv1hRvqBNAosHkpu3AT2Zvqv5ZqPfolvvP5i4PAi5tv8ByNYruIkzZBvzA4v7pQE1ZTvK43AZuSFUVVv2YlvNqtbHiU8xU4JnuhOaPHixOdYIfXVC6zvjACcUF4oNBev6ux0QFmB-vJvAekVmlUfDRdVofqbUPO7vOsIFcSf9l9cUFlk-8me3AWeFknFgveWaf1IB76f5BSeue35efqfurUP9vcWjvxuVUP2auE0+eqsdu7NsRpfDvjvXoAf9kLuIeOuleJePonmMfResiTViVUVhOIf6V+TR7HuurIsEfbu3vBMX0zrGUNZiMt9ilMkSBgeEuOjek3vvOFc7uVhrL+KzZZbUkgFkfzA-fiAE6XA3X8ilunSg+E1w-d4uyQ+I+WgbLNxo-klbJY+As6OU+YyIjRcIXSvtJypKB8A5E-YBgKhBh0-A-sSslhp0-UO6+dJPjW+mlOf6-sp1iO-l3wPU-+0Kefe1ciZYYA-J+NTz8dxi+0Oa-KCQMIZSYT5i-Py9M5a9SCdiYGB1ARAOBSBg189CBD43vEbUViZLvEa20zmWBqhuJ1p6MP+SaUXPyRluAoFXmm+WlI-8v+zOdpjjWlDy0T+sMM-rl0v4ACPaAFSmkJlv78YwBzVTxO-yNjrQbaFvdWiSgMAYIs+rvF-kMSwi5B0BYfV3twCoEpxc+hAJ9FmFOrmpbMn3FcGxEn70CZuX3Fducn6AKA5uGmCoDDF8BiFDAbIUQcvX1yGBSQGfSEljVkLedpB4ggnHIKeDBcGeXuSQVlzAaNsBBp0YQeolUESDDBQgoiLIVV5LNCgpg9QaSFHbVBI4HAbFvVkjAyCnkUg9wWoPmjyDO+P2JQctzsG+DNB+fbQSMF0Gq8ngmjJwWQBcG0I7B+gYIRoL0F+hohDDYyoIIQhGBZCPRZGuYP9gwxRouPJJGWz+pNQihaiMeIEFOiTsshOTOFhMDtKVDJo1QwQXUNOizcyq5g5bjOk-Ypl0W-QBId4LEJpxaaPQzpukJ-oyAWhFWcwR0IsEAkahxnOKv1DVhqICcQoH5KCHLI5tkIXEKgIAOfI0ZhMOAz-muyBBnDf+jAf-nViOEAUFMtmK4eALAjBhxw3nFlmm3nyzknYThUCloKoCRxGAJ9fiM8KwE1YwRyyX4fcOtp8Du687MgMCNCiMVeI3AaEcgOtoKCMREodSDICTCtN+WRQTtniL2CtNguucToNy0OEHCtc3nS6jEGC515F+vEcIB8PWEaYthlIHYcLFRE0iYRfIRkakCwgsjf2dOEgQeCSFUBluvEIEQwBBGMUbwLI6wSsBvC-DUhioGUYiLlHIiOOSouVgRAVxqjlRqlL6sF3BAkiOAeXOEU1Q4CN85hyw1+heQTREMphHSdHKsPMBqATAXgJpIwH746x-R9AbgD915E-dQKJws5vKIcwSIfEjITUUkG1F8RGKIY6kYGLoDcB9RBEMMc+UeHv5kR0Y7xOlFxH4i8u3nPoZ1RtGSBsomQ2oVGNCQ+IPRqoaih-3VhUjiC5QjzhDkZ5SjGx4gSQG0NqHdA2Q3QPwaxmEwNM0oOIYcX4A9IgDxMrwqJKIGnTo5u21IOES2P+5EgvobY4NI2G6CMhuxOrZfgv0PB+BwgnbODquO6C+ZbRoAASgAAkVmDAAAILgBwAKzAAEoCVIAAAeW2bIAgQB5CFjIEkBqBh+WkM9PGPTHYjKyvAZsTKDVhtigRy3NKAwA3Es8R+kEwEYiJM6oTOg4sTCQ1E+J4TMg4E4sA1GiH+CHxT418e+K-G-j-xxE-sehKx6ET+USEnCViNQk1i72G4hgFuOkJQTlkVxNiXQE8g8TN+XpD-mRNH58YoJ-IysjxMKFUBwmZiX4ZJVQb7ovRfcX0TJO3jqTLI8IoEQpJ24gSkxekiifJJgkq5bxFXF5nqUjiMgAADCcAhY1BHIDmDIC31I6NZqAgwCnF5MVgOBHJQIOyUFIGE+U8QuYhMGFNyDBSyAnxdwu5JFTps-gXw8UAEEClg9Yofkp0RKI35RME0YU7KeVD8kOd0pfwTfJSUCCBoUp3w1INUGyBeTdxwmYqT5JylmgOkTlTyYVhKnZQ-JyUNKtjgEF+xHInQDuBPxWDDon+6fKdHZjuDJS6sSAtqfN18mphYMpnUgUwLmlYQRpDAMaWwA7g0CmB6otVoEFGnjSIOl3biqZC9520QBe0g6R3Dsm9iKgJAEQKkHhjF87hMEkhBknOn7TLpdYM6jEEf6L8Hw5A0GYLXaCUifpEMkGYqCChMliAwAnMKwIIi0Zv+uA5qn-xuoKTUZGNb7CwB6qQCrEpQPEVGHCrNBHpl0sEUlRYD4DtQWAaCO7zYHqkhRWfVkQRFKA0zDpHHCGWB15kdwuy73P0M0ApnGBeaXAh6QDKem8DaWMKdkeoi2G8JtYaUn6aeAUkRiqQYIrGecLQk3DjyP0oAeSAHC6yYO7TSWvijoCaVExoIzAfTMwHLJMxhQTWTBOpbPpLepKJkZuFPAiIumeASEEHJXC0ZMBes64f7CNmdB8ZeKJ4WHItngR3hAGaULbPlEVSlwLs0AdjMdnYy900EfOXmGfIbTPhGs6Oe7M9mECBwb0hdJ9JxhuzjZz5F8oHODlTTbM5oksRewrmUQEZnvDYenNnJuyTZ7qOfh5AcCpydRhAPcL+HDH+DtaxY0kaWOnjtyF5CveWBSKyCTyompIOkTOUFEpTuWshQkd7BZZoSloqs92GlM3k8Bp5Rc-Pj7O5byC2RGw0+aHEaoXzHghAX8FfPDFkMwAQcyEHvOFGHzacm0iUZ-OW5jzoqdshUfbknmnSigio0kMaMKCQLcQacxnlYMzkrBGeSCrBblUblmiLRrTdcRmS8kjRsCs3PMhfmwKFkvJyfZMtDDgk6wXpWIv-C9NHZhT1iLC-wVPSyDr57c7C5bjlzYBjTfAZyakvB3z5Rs7QgiuEUiyaQ9Thodk4Mfj0fwIikgKisgLiBnljizm0MBHIosZA1TDEdU8UA1JxgvSmIjYVBQWMkSw9YwNitOSmPUXpiXZbwRheJ30VHoXpyChoNmIeGT8bF9YosRJCIWLyY06OckVti9b48mphWdYl4sYA+KbUlYu0QOLvZBKYx1eG8ZIDvGPiGAH46yAABkVmAEt0ZkFclwIzJYEuydHCsk6KQBcElOghI4lJAUJzEhCfrlqWtKiEwXEibPC8nRxR2-SxRUMqxHUSClxS0pUxJnAsTRlPSxSQUNFaDAzE3E+YXxIEkLLfFRQcEHZPEnmD4QO3NZQ6IKmYEvJ+y5YVVzkUHFcQ3S+pccP8FKSZhKk3HmYjsmaN908i52HZLiWzl7lr1MxNUuvp3LsJGi6ydaOJZ+w4uePLRWouMnYj0liy5YcpOKHYgVw2tH+mnCUnLKWYYg0YQRG9CsSIJFE5xfCtNo2pXR8i7paSsREKTSmxtHoXCL6QxKtFMKmLvyMRXayBArQXJkCEnGJ82VvDZJMyri6q1NiLgHlQ4BJmJyNQ3nd2DwkKzQq4uHKniSZ0lU4xp+TqQVcsgZXLDexc0DceKB3FYjOx60XUT2ORwKwn+h4vIRzg+DBAW+okg2QbIqCIS0xDab2eYtdVGr3VktPcX4EZAbLyw2491bzUbCVs+KsWNMekp+Z6Rjl7Q7oCV1EkXLBBYqwoEVBxBJriV9AFNadFFJpwzOok7gK6IjU1ShkTq1VW73RkFI5S4uRvoEEUXOqNxvylqWcygmMh3FZ4cTpYtNmeqXV6sI1UJL9XCZ9xQIINbiG3FCSw1wmUtbFjCk8TY1BEeNYOO2BnKOAuahQGmtiAZrE1a64gBuvzWxgsIyigwCQ1nXfp51PQqtYQKgjnAR55gIfmFOCAWTyOok2bj8vdVHzi4ggYQATg-VvrguQ-NMS2zfWD9f1L6nGJ+qgj2qG10alFs2tDW6KqQz0IleRP5SMgJltEz8d+L-HgAmImGt8dhoYllLC12a6Ca6JQ0QbzeQxcEBiE7m1rOIj6shdwvJAwa-YYU+DS0p7Wv9kNbAP9YMow35LClJSvDeSAmXCbSlcYoqV5OLUkNKNtSwTEFFo1eB6N-tVIBq0NipNQ6SyE1YByWR2lN0bwLTSiBGRlDxV4HfTd+WKR3ojN9CRZK0krKMDbyvRFauTBSDGaCwpmroXUUs0Ma4Sm6Beh5vJoObWFXuXzRCzvSBa7NXmrEU5tHY1AxAQ0AnNCp03+Djpt5V1vQFSb4BGptmlEEil1WCDZuGmvLZ5tK3eEd5JinicFyM05aLFFsGcOVujhNb4FIq2JXqnK3AYgtYyZmTYMK2dCVcGaq4iID0ptatFSZWrdUHBZwJAtdWpIe5rs0qqehum1zVFqGzzbDA3W3oZErvkDD4hbgvFSsqvBjaYup8ALQtpM1raZWOqp6hMN602MSGs2xqZFou0ysNtW2lCFYn63GcoUQ2grlZBO2DNgom2urdNuxwJaPkFiBFaqqxFPKihqk82jOU0nFoigvCq5EpihWxKIdxbFladtZ7bLnQqS6sfMK+q2AUd3sInfaPaH-CC5zQCNJ9usS3a9Vv2-gBCCK6jboloq7gNjq-IQt1YJgfgD33v7+DAUxfZagaxSaqwTWUsXsRrzG5JUod3230PdQKHPLUVBLRUBiuMj87K2J8TSKBl37DQ6qdnbnvyO2W1ZABkDfUdtUrAZibBhQFJIAhcC8Q4KpAHJPpWZkFyHdcu2XlFiq6MdqQ72W0cTodH-CxZ5StgGbSV0s7cGPurXgxA50Y7cdQOuPXL3PCuTGwNwf7mvTEGMgAAnCcBm08QxB6SowNf2xw57l66StCZHBGjc7JaVvLGtXkRovoBwLgZnE5Mlq2Di9y9fQD5x85WQ0AQ+rdWwhvVpxK9KccYYzIaAT7q9xsf7EpKVzLIXAPkW0pwPumxBZ9Sk+fZuCRRZ63Ni9MQb2M6CiLxFlyGTA6qW16qsR32mPRCBP3L0z9SfAHZzvx66cRFj+pgNSTB0c4OeqQaFdUCKgngyAT0d2AuygiNhWgjIH7pBj+468geYcYwGSjoBFR12RwK5b2oMB4JSAoBgZqABg7+FSR6MeEIjQn0QhvIPkP-aADi6gwUD-AGIBQf8hfqYgZB-rrEtaDHA+ap1FiAOGjWN9m+TSX9WIQ4OS0mNhWZ9cBqA1Or1iIh3mgOGwO4HMk+B9SO7Dwom5IZwO9euQYoM+Q0xP6tvhAh0NMH3ebEatTPp70pxwQOh7yNQfx62pJEjUaw95BH2aGS9PEjXYqCUkI73qSO7+uFTYOsrMx+unfh8laBm6sDluzRtNHVGA7eugRIPVWKp21CI00+b3pSXhLvBHI-2QA-wFbVUgoDQIGA4TzATwG6lsMJAzkYEC6V0DNtLWjOQaaxGwjge9aMHqSN3sUjimzGsl0-JEUiRySByHZiTHvYaR5AWSNBB6SRdcQAB7fujEN1xHwOPR5ZBbqagkNojcI6YpgP7nXlzwWIrCKXK1SfE6ZS0yEaFpGCQjDjDs7AU7Ni325zjVmziHTNxlc4G5AFLEW2E8AvHYR9xtYX3P2O1gtZ-gkivZjBFbG4KWqGORFD-3J6+9-ffQPbtAAAAdLAB+vnTqJ+DMgYIO0fRzv0IGxCNCAPuSQKHGqSfNMFCehU+dYT8JpEyifekE50TmJqkRKN4AnhlkPQLCMydAAAAvQFoiYFA4r6TRnZYz0G5N4m9IBJrvCAeJM1RUInqTdEIEMBZHNwFJ1E3Sab4YnBTIjGzqPVGNWQWAelZQHpTy6TAfOaYPAGSdiXKnaTTANUwyc1Mrc9KepnUoaaq7in-IQAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}
</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:green"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      (section&nbsp;<REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:green"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), 
                                    frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section&nbsp;<REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
    Why does
    
      <span style="color:green"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:green"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:green"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:green"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL type="a">
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <kbd class='snippet'>function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map($\langle ?? \rangle$,
                      stream_filter($\langle ?? \rangle$, stream));
}</kbd>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:green">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:green">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);</pre></div></div></td></tr></table>
      and
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:green">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:green">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:green"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:green">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:green"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:green">
	  (figure&nbsp;<REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure&nbsp;<REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      
      
      
      
      In section&nbsp;<REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:green"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section&nbsp;<REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:green"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.87" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.87">Exercise 4.87 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section&nbsp;<REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:green">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);
</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:green"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:green">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:green">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:green">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
</span></p></div><hr>

    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' style="color:blue">[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:green"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:green"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:green"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:green"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
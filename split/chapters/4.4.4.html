<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:teal"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:teal"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:teal"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:teal"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:teal"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:teal"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:teal"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:teal"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:teal"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
(define output-prompt ";;; Query results:")

(define (query-driver-loop)
  (prompt-for-input input-prompt)
  (let ((q (query-syntax-process (read))))
    (cond ((assertion-to-be-added? q)
           (add-rule-or-assertion! (add-assertion-body q))
           (newline)
           (display "Assertion added to data base.")
           (query-driver-loop))
          (else
           (newline)
           (display output-prompt)
           (display-stream
            (stream-map
             (lambda (frame)
              (instantiate q
               frame
               (lambda (v f)
                 (contract-question-mark v))))
             (qeval q (singleton-stream '()))))
  (query-driver-loop)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBEZAjzajTGyo3UfIDNFei3Rao+-NaPuwQ9gh7EECDjAkQlFlBogTQOKCBjhCWYPiMYRJE2FuCDiHghIcaO6xFiD+EwsYESxTG+DjE2YmgfIEGEAlUR0YlcK5DupgDNhVgiwSdFzFtjAhWXd5OqDcxdjbAPY1kuOJzGtjlhgjaysJ3wA7oh6urDIEphXErwh6vXfHqvFnEtib4RLaypig9boYZg1BeQHoHrHCMOCaY-iBmORAHihxC4v0XYGv5XjQAYadrpZ1zHntxxWobsaANZKzpxxE-D4LOj-GKiegAEycdOJKZgToJGpadFBP0aEIwSMHTcauLGC7dD07yOincDm7wVtR-1NQZZzxrKj7EOQhpt6jjCYhXI23dlkd3mCaBEOB4xDvmO8SZ1pxIOazCJCtiwTLAU44CYoDYnzjGJLE9cRSJ6AcShhlYniUlEmZbjHMcAyKL6KhYESzA5iEiQpN5DCQ-AiQwgGMXkE0hLx6lagTqnaYISrx1EqwO9xdGWjYeBfInlCK4mP0e673Zns5KKB2FKx6SGsethj6fAa4a1UcokJMkoclejQMyfgQLiw8rYEnK8U8g-ytDYeegGZgSyjCw87UhE0ACKQAASUmWwAAEFwA4AKTAACURSkAAAPJn1kAEkHYhD3wBmAfuh3DAZgjMmAThxXxNrkZOKrENqQXUrsee3skRSmOzEuJIJOUiTt7JMgSoBJMGBfM5pI8dqe206mCMCpRU0qeVKqm1T6py0zvuNJk6TT6Aw0ywII3smxiIptgKKdzmmknQt8p0hLNqNfR3F5Ba0mbp1Omk9TBGXowiHqMTr0JcxMpamv6R+6TAcg9Ez6YhBBmEDxqE4ywL9L74tS6Br1RaWdJ+kLjG0uUrtkURIBmYJIAABl2LUwsoB4T2MJEW7HsIUlARBNISpmkgCZK4K2HjKZmxE2sapHgMlOOxsyBgzMxgF80+zkyfgTYxsV8k0Bsyr2XYOmWRK2ixdh+W0KWTTJlnJ0DezGFJrZKijtxRZXyOwJlFChUzYpmdZWdh1pke9GpzpSmZomllyI6ZHAjMtTCJH3ADwMgeMKdzLJ4Zkh6HIyNKG54iy9BmQ02TWBw6uRZZsCH8VtE66kkLizs2wK7OkDxgSukXJCXHITnxgrhKnA0LB0eFzkRh8aUwC7LdmGyTeiQiYL8LSTjgFgmQ8sc8T6S9Q05xc3qQnzC6qILx3lI4QuT3HiynuYgAOMZCmikFRAwwufhLCOFbJOh3Q0wfRVLHppmxFYuyFNFKDjDApIsfRqEBXESx9GsQRuYnP0HTythNwuclvDf7RwUpHXa8dWV3lJz-0HcjFtfNKbbRKeKUAgPkmHlPC851Ah+We0SEpiCGzgFiAyF56xDpAv0-np0KLFViD5s8loLXIBIcJ3YXQpWpj1Xk29VeUfHUsJLRn7ybBWwgcZoDQk9AUKC4h8LJQvItDkh1QHiOPTwCY06FRsCBdPKnm4KYFSgYhQvJfLwYkFAU9KDH19mY9MF8EjQYQqCB9jRkOCxwXqC3jSLjAYJCOQ2JAW-TkuY892OXIQR2BDgxCuBYBReK0L6Fns+DMpmwm7cZK8-FuarFvGIJFFJCvynhOWQkBBFIk-IPr3yC+8FxbXJcXi2Uk7j8wRi7cThN3FyB9xLiiXMeJ6JvjWhziy+Y2CEZQl-5aoUYnCF57OKU6biuRWeMiUq8bxcStMYAqSV3BqCbilJe4tppgA6FmNCJdf15xfjw0nrdcK4vPYOKLSWCsAaBJFHj1QJEuJCYECaXYR4JEndpdJJ6ASculIi5yM8Uwl+KVJ4UuwHjJ8DMJzJLw5vJDkNwLLO2VMprhsCmBGTGQeMowRURLneUvmbMsfHsra4wjH5rPI2c-NRgsEZArsooNgTyKYSMmgGPZZqPpz4NascyvGaxOXa7ZEZxAP5SuGwicSJ5j9KYGalch4zWZnQdeLrP+D6yFgeykJJnV6W8T9JxHYcOivgliTAV3S2jk2R2WHBIVJCPZQSqCCyT4FlY9FYpOXHGKfRMCKFtDHCbLtDldWDGAyOhVGzyRmkoiQ5P+a0q9J4UHGWYDymFTbAFUrcAABkpMDUkKQ4mamtTXqeMnUFjLBXUD+pvQiYENIelEsxpg011KqvOkzSoWK0yoMatpHmrrZN0TaRKqlWyrwAh00YMdJtVqrOxF0trv9IkYhi1IV0kiTdLukmrwJHwCIlTJenWj7wfff1daMlpgcci4ar0T20SH4NjV6quuakP+lRj9RZ2ehDCpFr+kvlNqw5cP3xULiUZyqt1Sat+lay4QzETREW1En-L018Kr0X9O1EAz5AQM-MreQLWWhvVqjP4WyPBF7QOCGMnUHiu6nlqxlRIZUamqpkTrm1HqoFdjJ-LOVwxv8ulPcEbVFsepAq42Y-XtDl0JInknLkoFHYbgWVRbItPnKPUkAV5vCtefmDrWlVWVIKptSCr3VtrJ2d6hYJdxYQfq52X6jdaOISJIqdV-AsCecrsCFNrJKGA1OqiSEXjEpKGD4XN1MAwy7ZYcwaVclOn4EWhEU-gRjP7npA4pRPK2IGvX7RTiNf-AuD01XAGRMN2k60RAycgxrXRsPcqBjIjVfCb1ME1BMzy43PSk1j7C4hjM0DKj6NpgaRBjP3VnlT5oFX-PhPQ3DJGZhDCKYcoPUCRppVsLZbIC1Yoq0gBGwaZBuXUkbCVAkeKRJEo3YRopD02jZnSk2Ma2ZXo1jXZHY2OSie6yu4DxsSB8b0g+QATZxoTU+aRNRkC4r8rAiI0nN0iFzeGPk13C5ydi-bmMHYhsyhSTGhYMRug3FrstRLA7nMuI2TsDuGM3DR1NoC0iStp0sretIq19IVAQpRbqdN6HarTJNGtyQJAqAnTyt9AK2FtJKllTKp1UuqU6rSD9adpQ2-afKrE2nSJNiNLrZluTz5yNwuQXCeBgK1UzNN9WlTTapa0abDN4KzrdIDS0Lq+t9qmVXKo4T9aHVcqgSZZ0i3KiFtqqs8lNBW05A1tteVclzA2AxZaoj0I0fnIuWjRaRAeH7QhH+37LBix0Y5XdE+i-ahAPHAHV-MAzA6vmaeNcuMBsDw7JCwOnLTalR17djCXRbatjrxC47Uhyct-DDrHAk6EIiOwRlcPWZkzRAngG8OxEbXk7KxlOpnfThZw75EuUBCnbfOh2E68GZEFgABs535zGdWsn7dQANlg6EdwGxMTluUrYRFdkhDXW7nPbrrrRk7OXQbJjxa6dQxukNYTAUBvqC2PsUYFroxi0BSdz0S-kvV13ujG0gW8IvW3KhXrl20RA3cpFJn04Sd8uhYLTqV3LD91qu9YqHskLR7tdjKkeH6I5kMjpRw6xGPQm93vqA8se2UVjrp0nQXdiQFSMfyi0c0g9hu2HbHp1CV6i9GpAvdGzaTu7JajbJTBnoLb7UsdwemQfTiyis7doDkcPW2q9Udrs13a4cEuMrhO7d+wLVvWaB71s7LdZoWThSo+B8rmNrojCUK1JKr7iJsauRTIrsSrQpF6QOvQ3oE0FpqAHbFvVuoX3RE59CgLvTUWpCTBUEAuwRmrD51stX9BCjUrY3sZUgnGVjRIQ5y3Zkp5pyu90SDEcrD7AZBo1SOPtUg0hn9u0dAaeioDSQ0J4SUBcsIJWGJ4hwNEReV3EDf6hlSmHcFV2qjjix+jAWIMAdM6xQe2jJXirKkIlr7LR6SgmPYlYYn7FkjejcLQac6jJDSM+6IvwbM7F864BcGUChwOoAirYAATifC9QZDYIgVcoFqHUxlDGeDtRSFVQqBNAykZofRAuUqBzNpilRfRCsB4kiZEfSkTYF2qKBE2ibcqGgBcP+bzyiWg0JoZKYmG0+thnagCIFUEMtQcY74XuhOhWAUahhD+aBT8O7VAjOh4NJoCkOY7-DYIrWfcrBFPKlAJcRreAcL0eKPy2ong2foyOPL8MOBIQ9fuvV-hpADyrIw-uWQKdYQC+8CMQHd3UkVw5QOEMc3AWHqrYbHU8FsBQ5NH3V2obI20Ze4GkHwyaozfRFGxdGKQfiZBTbm3EDoI+XhjcKFi2P+cpOoAItpeHd3GAtjMNThvqC8NLt319oTeLcLMWZ8wusmubgt0xCpbEYVxiPhts0QZbStVWnrRyreN-93Y8x0YosdxYSQVjGJFtjYcCAbHjj2xjGZhBeMe9YTWx9qDcbHn6A7jCm9IDCeRN7Hl2UUPicXWRMom0+mh1Q0ZH+mj61I8BjUhcat1jKUD2wAoeep6kSaiDBARGsxXJEz7RJduZg1pJ32uiqJgmJLTgBGMtHE2jExQEMoAA6WAQrYOvYiPH8AQpf5pwdRoI0UIxkJw0pjhAQmi04pxtZKaO7SnpJcphUxXPwzzcVTUbS8ZPGpInQ4eFxQgJoAABesDUAHKaiA+qrThEVU7gY1OgB3TWppyDqfBNw4GjahLosMDoAHhVUmUd3VptEj2h+j-y9jkMZc6XixjrRw41MZmOHaTYtlXtdTx5P2g+TXgFg4KctHCmXtfCOk2aEZP5DpIZZggEWcWIBnXCItZigwMzoJnUEu7TmFbA3D7G+z5AO8AHveSIcxgvwUbJBT54FjezEx0SBJHo6cwcz-Z1cyAjPItCbUo50w9CbsMAjJaxx83UKXjSStMobO0AMcbcNYmLNyZ1MyCqQ4ZmRjWZhwOudEh5mbhOJ7Y9OaSptZMK+QA4y92RNuHYjR5+s6JJuHuwHj83UoIt0RNQWoTxgD4-cC+PVafjtW1yGPn+NGQNjxU06QieW7xpHSuYvrHSQcBoAwLo8qOJ4cPNgjjzuJ-Y0lAYDEmYa5Uai9ifotaHY19CSk7Afcq9qJ9CjO1thEbUIsFWjZtA7tBbPFCwI7J2wJyfrpzJSz5ZuxgKdUM1m0+dxylf8r-OznALDs0U1gCnMzmVwc5zxmABHNLnogpzPAD6eVP+m2aAbRmgZnKilBDSpAQ0jhNSZ4BmLwqt3M5nsuKnfTNptU4fpi5uX28nl7y1GsiuGkPLChWK75eMwhXHLtpu5XFZYKJWlMXl8qD5Zcse6ErMV-Kz2xcwOXrT-pzK+5ayvW48rSmAq-FZqtJXSrKVlqJafSv-Nqr0VpKydC2q1XXLxVlqw1bKvBWOrlVjK3WyGu5Xkr+hiK91Y3A5XH0yVnQEAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}

</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:teal">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:teal">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:teal">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:teal">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:teal">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to 5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:teal">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
(define (copy exp)
  (cond ((var? exp)
         (let ((binding (binding-in-frame exp frame)))
           (if binding
               (copy (binding-value binding))
               (unbound-var-handler exp frame))))
        ((pair? exp)
         (cons (copy (car exp)) (copy (cdr exp))))
        (else exp)))
  (copy exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26Q-oe5xDAxxQIBgeAkFQNA8TQYkaoLTzUmMNgZAYYhcPc4mPgUShAdx5JUnSBQWDIIxKCl8JQAAHw14yUgYD5Ool1XpZiLWddSFh8HwDghBVtXNe1v1dfSTJbelu7ob53XmDECRhAYbcwUlygdj6e5VuxwLdawoPwgAMlj3p+kGGOR3ZUPvfdg65bSd7PpT-qgf5sPff90FXasuhc+qib6fMQxfEVq2GHwYXK4+12ZYTLaiKN-lwqzouLWoMQ6A+uhA97qjI9Sb2S4D8vQHBIeR7HnS9oH5fR+Ice9Ybi3-0n19Au7pMhiT-Qe7VyZ19r4G3GHred7Rjup8Lk+7Uv6W+95zjdeNIQZwVGUGwb6mU6AvyPoXL25Afa1FLjuIOVl-47yASA0q9Bq4e04sgwBJg0FgN3o3A+dtIGy0TiMG879iFf2-gPHBDBUGgJis-fOyxj7nxvJ-a+d0B66zBhwBheCmHOAgWwqBM8YFzzLogxe-CGqMPQXQTBA85GCOAcIrK9ciGiNiOwihp8qEd24VDFR31SbyKEYok6vUdExD0YMThp8Y7f1pgAMUgAADQALIAFFmiBEICA5Q-xwRZ0Ed6agqJwSgEcpE1Qi8QGK2EOQWSeByAyC0KQNOKR+Y0n+Dk9QIgODCEaLTVQlBKCEEMI0EAYg4m0jQLkBQwB3CJGCQAWnINyCoChfDAAAFaGHaYYEBrVgApDyYYYAAA2HQ2A8DuO8X49aCh8CVn+JQPooB2AeC8EzJQiSWDJMavgYQvgCCOA2X0Wm65SBaRiRQKpad-gWzOZ5YG2yuR7Mcn0Go6ysk1FqLUNAWCPK60Ock2xOMEzQNgX7eeMjQm33CdUSJzhlG32BO9I55AGC3NzpkwwULAo3GxFo-ezdW6524IY5xN8YZomxcc15vhiWFwJjs5QXgz76I-k43uxj+6Yt1iJNlZDYVSIQUbKyIk9bMC0KvDFDLoVJBFnDQggR770DFV3Dh-Kr6Z2FakN43FUQ-Hhhq4gWrwGsN0eI4ucCEXStAMZIo4ITVovoOa9VmrDDovpXzE1aqNV4sCMnQ+YiyEBwYIEGQC88QBuwfQP2FrSAMEpDqwM0bY0L1JDwzFQbU0ME6BPEhkaEzZsqAvHQNNeECzaLWS5mbs6z0ddI514JjDtG3sEpVfMCZdsbcE12YRX5RrLp2htPbiDgm4EHMI+blWDunXKqgxBV5EvzrEctm09V2mcYuvmVQ7kzg+Gu1eI6hL2MvYezimrT3yvXdvSgm6jajtIQmT+C6TFGpFgoTQuJl1NvnVe+1ztqHfprsq8F6wH3nufZesdML5YZCyF+lxdbGpfKhSqltki21SqllZTlXg+2cQ5dh21djC7z3BCR2d1Je63qml8k5ZycPXq4bW39GhAnUG5KiZtRdW3wvbURxevGQQCf9cx8wYTU1Wr9dqqjuHyEOP1V-WTwNSBiFfWWu1ZDDFccTR5ByxadNEqIO+nd2dwP6CsyZuTB4Pjmbag5pDu6RgOa0+tFz31dP2aqaBshN5vNQ1BeYPh319AWs7oGCVBGwQWqssUTBtMs6MzkMzKAcBEDIHQFzPEP8PKixrGuhe29KzBeQ3rSMwtStnnFm1GOylSiMalspZoTtc4d1a8CS20lCEUpYXvJuLcc7txjtwSrUwVhdeNfQM9KDLFgN686UoDX02LeYMt9RiiKt0Cq51ouqiFGrZa+tlop4ToowEWdwTMiZvHd1pvC9F3FQbeu69hDj3DuzZMkXD1ZqFwKetWtj7V2fhA+cN6y1YPftHedPN-2TLyDg5WKUAmWctyo7xaAj6hKO74T0tMCFuKWVE9dVeJ7SOi5AeHe9jHkOFz07zlOy5q6FXPr09Labf3nvm0o73Prm2SMHcR4qZHorGfyWZzGoG4v-sqUHoQPj0nlPC8u5J1lDWOhaH0PJn1imRFTZaH94naFo3jbRkS-zPPKZm6q0rpoLRSDmQXjZOyDlnLUl8OPcgcN3nM718QXy3HlXa4Nw4bgduhIDijp1BQaL1mvVvlHugkxsbUbIdr0N1Ak80BT9j5EMeLNAXIs+fJwp9B-0UIQfA5RU8MvT5nqCMR3xWoyEVXX5WwkU+RJTKnsZ4aIxTYdg89AL1D7QmE-FBOyBEoHxbkn0w7fL5X0UeT4-5CPzBAPx8BmauyufpqrvzvZfH4Ylt8eCHT9sGllT5oY4NRhgoi+Q0Zlgjp6srZeyTkXADyUC+AkBB7a7VQ5jhYDxW7Cw24xbqqGB85VZZ6BRmZ25wFBZySlDgZyTNBYQ9767Hp+Y6boFhCIGD4ETQHWK1hEr3quZEoWqkGO4YaYqbbQ5eog5G7w7OozYRz2qUCkC1gxZiz66Fo+qhq1BE5MHn4lDB7laiEhoZqm406074GfTyFpolqSEzaGrKqbas4jpkHYzx6pDroAa1bdrAZvqt4riBTP6hjkhv5V4GAwYuZnpc7jyXprQrCBSqEG7OZwbuGlovqUzaEOGV5Z6xCNiEEPpSxUESgurD7CGfTRGc5PoeEgacChErDGHy6yxxF+EnpyqxFozWGxiBQpFBxxFMSFCOERHCSFx6Hs7DrT6+YBFpEvqXqZF-bVEQE1HhaNgOCby1CMhPCAgAB8oA4GJwEWaIoIlKDAgx98I8EhbcVqcWtmqG+gqxSwTO2Bc2PAG4+gixfqyxwg3AlBxxD8EhN42x3CZELqQqS63IjADeuCe2YC9uRh1eus+hzidRKg227WL6jIrOqRG6HcPR2eNWphQB5hQ6ecVhrqWBqGrqawqu28yczxzc-Aai+CqIi+-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-S5A1Y5JnUmg-9aEM7zjHAq8bjRjIjDQ-mAVCIRQZ1fM04WIxD11YIiFsZbFDdCG0+vGGJOFQbqrDKS13AudG7jj9CQdP7hQ8HSMB7yKFrVrpgKZ6HM79CU1OHsQtdRDMH48NMXVocYgXwD1IOCZu+IJ8YhAYH+l-rwFSjoFajeWHMmA2jAJ48FApgDA3aHwZUNwpA3KciXFKGisyshiSnotsuRmCVZiJE4Q3NDAvNptOt6nunfw18K4zQpnt2D4PmTSNwtW+KWg4aBsumZ7ygyglNGQ5WRgMeHn1zjMTN+gXSygqc4I0SpQ4Xedi8htTNIXNbfo4Xc6rNrUkGF5lqFS1pKXYgx7KZf7GXQBzw0EMjgYpt6t4IEI6t9nuKxgTnEhWr+X8QQBuXme3N1g4IPmBXuImSCgwXOmynaQmx-m0hkX4GukAO4KZcw3oA8cWAqENeH9aGp8w34QWsbry3-X4QWLi8qWI3BgW003KF4IqWxkpQNlknM4MnMU8n3Kw3xkzQC3xaNN-Gq203s39xMQ3W7chucOFZfXq02pZEkXlXTNXXTAZAvXB3Fm-318RtH30SRnJ942qx6eBYwavqIiK3Rtq4CP6tYPPX2rhdWQaBK3rXc3bq7X5PMQuBTXrKkkoIDG-mY7tP4PpAgk0hyOWEd3TOXXEIKT5xZcUPq0JdxPm3zPkgsJPXtg0EyOptMPK4kXAA5Lzf5uV8r3N8ndlzrcN51yz92qQKyvr0s-ZSY3Zh9Kp5uFtEbwl1eLRkIFG1ZMEDzQ5DpFZBaMWDzQIRwPCID6ULz1b7WAbw7jeNb+L5l6z4JJZ7qxL6ygH2QAixg6H9H+H9b1bS4Hew+8oE+-O71KGh4IpugQN5Ji94JrFgr2G3i8X+rkolTDpZwX97FlRzEFqxn+sFn9QJoHEXn8Em4Ll4X5p8rl959GX0zrRqlnOkj1Su3LFhzy0Oqmn6AEb7vP7nDN3wX7Fl8c4akFX6tjPxEVEWq5A0CCuOucjz1j9xj9qjPz0b4-n24HAnbnFPa0v-XCv2v73-LQFtf4aOUYf0QmFyk3L5YQtoGqO-sYD9ix4aUe6LIKAJ77gC6CFnfYmEhTpHdsmQA+QHAIf4WYo+yAo-upFb6PsO+OfWsONxmBpNNwuA+2tPnngED2+nfNGO-yJRC96C6qa+APxdxtU-++8ZnmAKwFud-I4RHIijz35clAoY-BjKfyn7D9WB4ZVhvUTIQWp-IQHTiEARICF9YqUcQ4iPy04VVWBUfFuslioZe5-8c-X7mChcCqDQ8djFwG5XHgsDCAA3PAnoKZw3htByuAweqnbp-4fc5ZcweJ1srVI0sG8e-tpDKiUB8AjUBqAMAqCDAN+JvCwcAWkEOCwu7vKqD5miHFoQhMUCnHEJK6eNz4tgjot-0PqcR9Y-QBQE9xIBsUKgICXwBIUMBsgahtTOBIYFJAaDFuRgBNOXyaF1C-YrQp4FH2AHQME0TfAwAF34LlDKhcZHofUImHvQEInQm3qW2mAzC+hpIDytUEyTWwU8qwzodwFWF6w2h8QouHZgaF7cDh-Q2fkMJGBnDRhoxAVpsLIDbCLEtQiQhcOJBPBRhzoe4RMTKHzCiICaZgkujmEVCZAICVWPaxLzUhEKYIqgIjDlSBB3oKsRERUMHYWNLaWlTiLCIqTbwER5Q5EeUIG6nCQRe3PYhNxvxXt+gOwyMM0MGCuo06JInDj8L+jgj4Rfw3ruyIWHsjBUYnKDn7CFCztQQCGORPsKoBUwVq2MM0kTDEAWlpRTjRgMVRFEYx9qU5QuE9FTiRty+fIkmL9GSTBxlRAMQYXCLICMA+m-EJ6PkSegO49R4olUcoI8i8RMkpokKEjV4iij9R1MWKhDDC4yAkwtQaJOX1CR+io2+g9oJ0BwpiiuIVAcIOX29Hnl9iUWTCNGJwaxANsF1NigKMpBCiPCboqMR6JWpR9NBB4CMcbHjhFwsIeovbo6JNEMAzRSNG8LxCWHOgbwlYr4ehGNGqo6xhPRsW2LjZbRWx6HFehIyj5Bi9g-ohfrHQ4DhDGA7I+ZtNUOKvNmR4GJKuYDUAmAvAxaRgKkMEzbjnA3AJfrmKX6ejWygJOsfLhpD35GQ1YzsS6P0AHjIxu4+gGh2WFoQjxK1VUQWRdHniu8Po4MaQKKDIlMgUfScZIE0QgjaSfEUZnfjdj2jzAvAaGs1HhgliBucvEAdGJXEuBUoeIpEd0DZDdAjh5IRsKG1Sg4g8JfgTStvWpAajwI44fSJMVQzRdDAC-RCavyJAtxkJkowEt0EZBoSYJlExMTiHCCRdUs0XboO7CnGgACaAACR8QMAAAguAHAA+IAASgTUgAAB5OtsgCBDDUB4MtSCZkK0j4kSxTo20VjGOHwSGoLEkySaL25YSWJD-LIQzBslJBZ+WEzoAuEfHvAfM7kzIIZOLDOTEK0k2SQpKUmqSNJWknyZIHlEVA4Yjkoyc5OvEZ5YqWE2cSxIYBsS40SUh3EvCcn0BhkIIoIZim9AQC8pNJJKWZL6h5DGMKI16OCK1ZD49RlNcYoyTXFcpNx-k0IdqiamWQDiOIpIJVKWH6S1AnU4yRVING2dwsEkr3hO1YqZJGQAABmmIDwagjkGNBkCiHPdq+TjQYJdA2lbYHA80oEDNIOkUj1aeID8QmBOm5BDpZAHzATFWk3ZzEOokaCdJ34xRqAkEaqVhGO4MYsIb0raQQk+ki8XpHAHkReUCCrEnp4oVINUGyAbTTSgJAGWriBlmhJistdaQInellRPpSUR2pigmENRHInQblLkO8L2oOo6gpEiTUwqPS5E6BAIPtOxlZRPpyDTnloOcF+g-ehxQmQwGJlsBuUW0Gfr2NQrEAiZJMonv3zZmmClBlE3mfzO5QzSMJXEYgFUNCDNxwEhgpUcePxnKp5ZEsqqZXS343YYspRR2FXTDFZAlRD4MhtMCuhoVXUcgtCGaVlHnRnoCo8eujFOoERAoLAaicGHHAZ1SgvoqMBnWaD6yBZZ0FaJaKwbag5uTs50NPDxzFi6wLRUoBHMFkVVM8a3DOZLIfA6k-oENYgCwy3qH5Awuc2LAvz5FONhY9ee+H8FBnoxTwg0zica3VFAgLRL0RUWZzJjeyXQ1edUdtxjb-FbCdAdmrWNvEWjn4Vo58S+JiDNyJpAHMIpGH1A5FKZp4VvJmzwCQgd5K4KUW7NdnRyu549BeX3PkEJhB5YEAORqGpkOBx5XYkUYONiBTzToM8ubtBFQjUxUSc-UfI3PPqLyBBK8pwvoAqBqzUg2qBedrIkaRBQA283eeTLISjjikHXZeZREHoRl0xgwJUafPfH6kShHkO+ULQnmQScKe4X8DrMoneijuvoscSGKZxIL-RoYjoDALIV7cIYhY1IJTMIAJoUxmdH+XGQFF1y-UDc7hWO3IUFiExnC6LIQDaFajMFNcvFDHWEWPAZFY7NkJ6NgVgAd5kIDhcnMwg8KyxRYzCKSHL6ELcQXYhsSMPQ4NjSQIs2IGYuIX8QQBViueSsBAG2Kn5zodeiOJoXILmJqQGaSrHgz0d2hpjAKkEsCIyoNp1g8TsAngkiIlZsVQxErI8onSKciS44SUyW58o7QKSvbnbzYDEzfAsFEgbP2065KEZQIo+jTVxC4pAlM0-cYH1xDjS3x+1VuVSGAT9BGAM0xkJDJ2pyJYZ4CJWbaW9JjyiF0ExkFTgcVdj7x-Uo9p4reBxK-unSoQJjL5B2KigrSgGJdMDAOKJl1Cv8eXzJHuCki0nJpfDIEQU4Vl3ShGV8JAnTjsJvXPZZ3nvwuIJJwUhgMpOsgAAZHxNpPomZBlpxUyQCNJmlEpxpFCsuaqAQkyg4YLkjPOX3smwq4EYK+FW5OikeS1lRKDyr5IXCoqgpMkz5T8r+VRSZwDkv2KiuymxVOReHOkVeFSngT0pmUtFRssKBOUNpBUlEfCCb4MqUREIcfovBmmcryhPvBfrnkpUdij2i86lSCLqlUAGpV4HpQK0ZK546lG0i5ejAhVL0h8w0qCRtPBWSrBpysv1P+gERG87xTSvHHMsqmPLEKnI7EQqumBUKJirqGleiWqE0jehfhNil5KJSzLTJi81lbGGZHir9VFq+PlaoDXr1qyAjEkVXNOXmqjeNq7ke0oECtBkQjIEiZYPDVB8rIqhM5fH3AJQrF+GalCpqKZwmqXGBag3jmp6CxqURs-dNQ4H0CFC-VTSh3PWsJH+KYp8MRaI2NCWoTz4jY1bhrBOzRZeJVS0oeEMCCjScZjAayV5LWg5EWJi0Rda-UbDcSgQTK8sOxMXVT1GwnnN3M+lnVgSUR-bFfLyvxHdA3eZU4Ve9CLUNBCoOIG9QlPynsiqKsYLnmVO4DMjD1kMmcF5NtWyCB6eCi8h8GCANQTpL0ayRksIlKtJVjIRZWeD+7DLyQy62FX2slVmyh6XEvwIyG3W4h2J2U-dYCT-XHqTp7I89STkvU4Ttggqjle+skZPrr19GjgHeoUAfq-Q-0jaT+uuZkad4FGkkcBqAXYxzg+C8wBkJOnBAT14CRdaEsCVyby+km9VYuqj4ZCvJwXMqR5XU1lTNNr65KVBHA0zrAN0G2FXpoCn0BwykUNgKVP02hsPloUlSWpM0ngAmIDmxSU5oin-Kv1+m3jcsyti2aLN7wcMoFHBAYgUFUGI+sIApXqrYNJtadZBv2mmbYpGqqzYCQC1YrGQHyr5b8tc3khstxK7zYcQaVjD-NNmrFSFsLhhbSM3aohm8H6Rp4GCRIzYk1oUqEl6tD0EgohSFnwFUlVqGcB1pRD2C-axa1wb1p8y6wiGVTBrc3ia2hK7MrWzER5BSLTbOtc244T1qCw+ZaCq2obV1tipjattS28wDUDEBro-Y5q9bdVM21pcB4lqbiAJiSEjbuS+QkYItsi2cR-MCgOwftuOGHa0uF5erfgDhmDaSOyakkaErq30AZt2FUHcEVjGLV2RUfIHXDNoJw6iU6OpsbEHzXmqUicOltdDoeikEqepbTte9BcRPql4IgHmjjqaUMYUdGeIFcqmm3A7wEu2sHRNNtWQ7-0sJdnYJj52A0yBxyl3I8MpH3sXhtIl9okTKxaBq19VQknzpAUpAYdwRcHQ2pQgXNrmLO1Hf1oYTK6idSuwwCruJ0fdRGO1bkXtEp1O881CaunfsOV2s7-WK04gGdv1xr5OdKa44favqn2sdVI9IFiToaBZKhCMuhqOatO3na5d-3Yna4pNqzQpxp6-EevWl4Q57liepEV-I-nRdwMGuzfIjrjVQxKdLvGnbbsLXcAI9WgJ3SwTimed9cZM4tb4Xu0l8khDuDOrXWY4WtzU7HRugv1oHZ8nyHktXYSMnB8NZVDq33X6GdXGR4YJgfgJ9E0j8kuo+uXOqGTYCVSNl7UKmHs0HEt1Kws81xZ7m8EuBeIo0UgM0D71EDQqiAy7GnpnHgSv5foXUqhh-Zk7BId0SnRfvoEMQS9oeuXQxk-3EDIYAbY1jcFX4NNahjIAAJwnAB44B2po8qMBrRYDPEWoY8qcaZIVY5e1+kIMDpfx-itRAcC4BQoLTX6hQOA6ykV6K8rIaAGgw+tYggbYw5Bwnh8FjkNByDaByJMrE5E9wHcLgQ5vJRXDSMyDKB+A5yM4ObgUyoBvXdU1qHKzOgRSkpfPpHgQah95Or0fnpRHv7+AEIeQ7U0UM-7Gssuo3oz0KV6GmAcFKvcqlgGKYo91QQqCeDIAWw-UhXVNYv0ZAv8-czAVftYbcARi7k8+ugIVHK5HBRVaG6vP8icORJzk23TtGOPHjwh-iTB8EO0hSO6swBi-Jpe8iCOgAUjmzJeSsCYNg9E1xwKRgPRYgDhAN4QyIcWmi0SFWg2GooMpoETSaNNOm-TVaTvGsHPI4RxwzHSiOgAYjfqX6mvFtkxAkjuR1I15MEC1HRAExlI35FKMiaIgbEBgysJEN085jhzI3r5i7yMxNjeRqeuwdnGurZVjqq8FPo3xFHzlT8hfQAiX2fRWg6+gwHvr+jXMncXw2nfHzvFzp49oEu-XyuXHGI+i4mgAoSSECGBHIysOw-wERnGtWg7hy1a-y8OMC-DxgGvIEf4DBHQjrwQEmPQ4ZAghZpemtY8epC-GHls4wE5Vtap69zltx8ePce+N-QuGY1H9S8c4rLMnczE7dvSfKyGD2qDgGhn7A6gMBCkwgDgKQCQMFoiAOuVgf8TXnRYRBbDQEu3O2Ryjj5PWPk7gv9pkJ25V89ULUDTnShBTN2EU-b3FMMzF5Bc3IIQFZQvybEVoyRgQe+KpAnBDg0g8WqwjWnY+ugt065WlN5yZBjp1Y4nIaLz9BDpcl7QCRtOF93YPh1IOasV7bj9ArigADpYAFN7qv2FUZkDBBeuOeo5rs0zxoQqDsiXo8YGqhxmo9iZrIcmbnlpmMzaspgBEJzNs8IxxY3gCeAdw9AsIHZ0AAAC912oANM40czNNnXouZzfQWf7Ow8ScJZ8EBEZjozo0wqEfaGCfeCQnNwiZ0c9mYnPosBejlFJMRh5rKAeaUbSYIrzTB4BKzCZ2lWOZbO9c9zFfHQzzRYDHnTzPvOc35CAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:teal">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter 2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
  (let ((qproc (get (type query) 'qeval)))
    (if qproc
        (qproc (contents query) frame-stream)
        (simple-query query frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPI+QJyAUBgNBIEQGAqNhyF8WojDZDqutqBhDFJKi4njQMUjSDJ-zxKYZi4yMBuEIbiSeFdmiwuZeusfDVyeQEAD5qUoBqmpa4g2v67rBnq-omqI2bdr056iiuwbhv5c4OI86otFIDhyErYh2sW67eu4N7lo+0bAsm9JMm2ldSkhla1pWDaNyGfobse4zCn2gEjt+sgAaBkHOrBlHhqeJ6XpiAmjtuxqEO2z6aoLY7ToYGROsoG5sWRbgwhh8aXB5qgtEYJmFCME67oYfn9EF6k2e+8xxcoSWhrlxrZdOoSxoSCbUnh-8dcEpHQFN9bPLoP7SeByH9DxrbpZ2vGGdADWtelvX5aI83JjTcK1dE25gZYapuLoMR9GrUhqHFeizzrKDAqw+PE+QqsGODrBQ9ASORGqMQGEz8V9CL6OxANwKtqrku84LhuY7LhjK6jxuRaNlwbxbmuwvzy5OP7hhqm5igFGIOPyATpOvcn1PyUCttPHL7O5EaxiziH2rzGIAAPSXBnXpcc5T7hN6n2vRZ4TH4ojzuY5nufs9wvlL8XvPd45w-j7HmQDBKSggumCU+XAuJUE-lvA2jZ+6MlHuPK+09wHQOvkxQK8DxJBnVLUS2f8Lon1nlnM+wgoELxgTbXif1GA3D4qoDuxdW7v0YdXHakDKBoO3uFPAodDAL0UBAGA8AkCoDQHiNAxJ2acUmsYNggDiC4Xcs-D4ChKA3x7p5E2vAFAsDILLNR4RQAAB9jHGVkSdEuBj1ExFMeY1ILB8D4ABnQax4Q7F+jhtNNxg8f4yNSMwMQEhlrbjBKozh7I+j3Brt3BMk0sLhPCAAMiSb0bGbiRyROBoE3xBc4ZbwyWnW+k1AnBIYKE6xVk6Bb2ql9YedVfC6OcQwfAgDqlT0KcvW+W0A6GO-nk1IFpqBiDoFPO2nTYiwwCeQIJg0KnhKskMkZYydJN3qeYJZozQFDUaY4s2hiqJ13STeHpSY3FB0HgXTZKy24pwmTEI5Iwby9PUWzPxP1UjGiEDOCoyhOqlXoPcw2cTpmzJCaCSpoBwRfLtiDP5s9Mp0Fqe88wMKfkmH+YinZTT9k2NfI8wYJzjlnMSRcneBc0VwsxTFFhiTDndOJXaF5ZK6l72SKkcBVKEWoiBVM6JZT5l8wieCTlvzqXOGRQXUVGLuVlUMLs5xvKGVPLOacu0pLVbrJcNK+FALGC0qFUJAl+hnkksNW8vAAAxSAAANAAsgAUWaIEQgnVlD-HBKHEG3pqConBKARyvrVBQs6roshsk8DkBkH9SJKQtE0n+HG9QIgODCEaNIXomtCCGEaCAMQQbaRoFyAoYA7hEjuoALTkG5BUBQvhgAACtDAVsMJ1GOwAUgJsMMAAAbDobAVrbWOudcQBQ+AgZZMLlyLwAilChpYGQhgjjhC+AII4f4lA+gZvXKQLSAaKDZsncu1dXlyBTo8DOxyfQahA1IFbYgtRahoBRey8pjUF3kCVZokpMyBUQoWVCr1wZqi+olWstlwJ32Lp3VvP6hgv0JkVvKnFLS2lb24Gq3FLKX2QbDeQJd+AV0IcDA-Jd06sYqqZWavpbyBkMBEsR19pS5n-qFVZES2sqCjtAZKrVwKkgMEPoQQIbhnCMbSZRrD-S+OTTeNxVEPwhMicMGJul+Limgr-TuADeNCjQvoPJ5wimD7CeIKJ+gvGINycEyZ0gDBTM3UNfSzRoT6OVEhbNS5fHrNKaAfQeDanliBVc4EGQkLSReaswZmzwnmpsDCU59TLnQRubCwBnQ0mIOyLaLWdd4mf1gvKaxtRVljDtAuu6yzHNSNldy+66xwsksJgqeCWrFXiDgiFkKsIkWOZtfXZxrQKyAuJdiEF5VhLqOvN65xKou6ZwfC4yshrRqJsrZmx5ETC3mBDdASNtRjXxuaJeT18lMnUijs0Lifr9XwmHcmRpqaCM7vgY5pNTqHxBvcfGS95zIKntZBO7R87ZGL1Av40x39LHtNsahewC9VXOKkfh8oLw4mWso68J146hiNvmExwRojgW4yaMw+c3JIOWogm5Dy4nDzHvMfBTDkrUKqfUBp2BvHYstUxeU6pxLR2Exk9JVzwQpAxD7bxYLwMZPmWaogw5Zq4v4NEHu-T792iEaq9e7Ng8n3Z6x2139mX6Ttei620riX+gjdNcDDeM3O8cOTXjvoITGj-uM6KzuITVlijIpw9QsgtCQoMN4hDchyD3eBmQZkz1SZaj+stnHvYCebY5c6PoMPHDwiWxjzEG2zvZ6Z6oDnlYpQCFtSFH594IDxlZ7IREyPBfUhYV4sk1J8TMYN7mkUUogeBN0P4jeNvtMXo3m76P56-fg-0Io4MEfum6ZFC2hPxfS-YiR576sQD8fhDggpxBlTMcOCUCyr7A+UeXBYQPtwT2ptMsczUCYLwzVGAWmLGJ9-2lnDcHK6QXEWef+uIkeo0jYg+qgbmNI8WjI0+CsIe+gQB9m5CX+qI3Aa+6+MQiBkeGCt84BkBGQaU6kMgu+uk8kVs00NsR+YgJ+Z+5sAkIe+B8WD+nEvAxgY8MoB8xeUuJO-29UViW0bezBHkqU2sp0OIbI3QI0UEjY-CQIqU4hZYvgEWXSmishYEwGGo+k5BmQoAzQhgB+b2HBDARIrSXBsC-mAg3QjIAhJeOBGubch4fg4QpQ4IfuuhoA3QviJ+oAAAKgABIOoMAACC4A4ADqAASj4ZAAAPIAByyAQIpsJwOGMgkgagzUbgH+-mXBNCXCl+ZQbBUch8ORQeW+sQpQIhRRB8g0KBzg8G0+ZRMQzQIhnQC4tR-mouLRmQGRWkqI8G+R-hgRIRYRkRMR8RnRkg7BFQ1Ry07R7wJRSQ+RIhvsVRxh5YphDRiymR3+9ALa5s-uBc3osx2xfRCxdAeRsSgY0s3MvMisi+DeOih06BKgfQqOr+PRWRriDxlkd8msQeeRk+0wqR9CHxOx8x0+eR383hpAGQwMuQDgMaQIAADMkQXDUI5PRrCc1IQK6uzlitQIMLXFifCXbNoECDCRwH5gidoAANSgB4h2EJgUlwn4DUmkCi6kbokOEkIoLELzzMnYm4kc5ZQEn5FYSuHY5YQCls7CmMAEk2h2jgLYY4aBDtLAzgKpDVDZCwnmHvAmhYkyn4lmj3oYnSk4nU5GlJTkgFxyzAyOSdBo5u6jQ8HGwOGu4mal5+ilCcnEAYngLumEABAGnml4kxSil4zNCd4HgBmNG953zRm2kMD2lsBo5bRu7uxj6BB2kOkmpnLpmxnb5Cb+QqEJiJnJlo7MlCHmAVCtShAtKuI+45yvxnwgFQQ2lZlJk5lLwrADiF6bgPjOn9jCiu7tAZ6oItCTCDnOiBQnS1hMRZjPjRjoFwIIJPylxIKLyu55Hzl+iYKZJjgajPHlFeydDGBHlNHsgdnlmsIly3K1iVyPjMRYDQQUQvh4x8pYR1joGlBlk5lpmTmmKXkPqdkpm5l2gPjoHNDEFRg7nkTkgBS3y-mgVu4GGcQV7LRV6ED4CiZ-Avw8nJwXHSEWGFxrmrlMLrmMDIJ4XzzYHkgDjwIACE6huCkEK4gUDgQouI4BN5zC7c-c7C55iop425oA8Fi5nkw5fZM8bAk5EQ6+eAkIilK4cCpFQIiClFm5wlFC6CbFt8jFzFEEeMpQHFMgXF8BqCglDQo8LC-FKE0EqETesYpkR8hC1Fb8nQ25YlkY+oA4NZhCqQgKWl45m+kQoAClSlKwgUyeqa++XllEUELpLg6FblZ8WltFhQ5wIcfGJlZls+hAe4v4rZJZ0ei8sexBKee+Se5VMVaeo5WQ+V3AhApIuei8zebp+Vnp806FAC9m2FKmuFDVPAhVX8bVLuTVnVcZ3VmFfV1AA1v4g1IBYVYAilkIbVres0oAKSWiSB0Z41lsOVcBs+w+uM6+w+pIgJV4B13FAhJ1GBzoAh51llq4m+Ns0VCeqFHymJjwi2u2ds+RBWWmCWS2oC7GsJiOHkbwfyrBYmlZlxLgZOlZOum2WJx62pHA-1mugOZytEOpkwlsLWnQ9pvgASMJHWsZzQsuZyiNVZLgVOuI+GzJaNECiBEJoAWBX8oBxFfy-QjAzJjIqpW83J4omprilZTEjYB1ImBBjIumV18BLNEs-xT1sQkNZ4KmgK3NQgX1H8ytmBtY-+E8MCjJgYktZm0t2Cb1lVZe2hbAaeSiWgDAQBTNhOvg+gmtvNOpF10wVBNBUsdBptUB02ju3hgxDA4R1kAAMg6gkTbaiXxsCekcyfUYrUkIRcVaqIURwWcbGRUZMVUYNEndnTbF0QuIXUjeYCXdrf0XDb4QEWHZHdHRMTOPnctIXQ0TXdcedCIM7FeMsXQasSYWFpsbrVCsyXsadPCF7YUH3WIRKaDRwOPXdPCDTYIOabiG3Snecdpd2Q9qoebDcVQHcVeHzYTKJXpHTc1NrUzY1ZvQCYvgnRARvX8andvcDoftQAoK6sDE7Qrc-VvcgqIXdPkdcRrEfUCaVafXjJ3TiYQuTEtErFHKCacb-bka-VPRgZ7BfYXSg-8a-RmeA4LW7B9eYJQL4CQDGTXVGf2R6ZbGmTQ+jC0KQOZAGVZLZPZE5ElbZmZurYWOyGQ8QL5OXS4G8JLJQPBk6UUvYZ+fQ2QTeG7mnkw8ECw1Cmww5M5C0Fw+ZrwyI3toI74rwlqvwnIIIlAHAIgMgOgBIniNIh5IojWFxpChdJWKtvYXIgovbVYokspKUDjlIM6JGSbAUl486ApE4tJNinsnedPMhpE60mkEE4atwE4wWe4bJhYd8lynqm4t4y0KeNXotrCmKrKoCgBsk8pAE0LX8Jk4itkyE7kz8DquKiU7DmU-49tdcqArU4qOXnkx0z9i03QM4+U9tXJqBvQMZqZlo109bXYwuKMwpguEptw-zizq04qBU-OmQtM2QaRqHFuFBvhjBlPHBm4ug1eJs-hqjYkmc6uGsww9luVnlsE90-UwuDdtEzlu1l9sNqcy0IMykxU5jts11Xk0C6U-88M5NAxs8zM3k9CwM0M205NIabToajk3Ta7vbdPF6ks1M9c3884zc4UK5nE+-PBgbpLuwskwC4w8wwBjZHZGoy4PKnbOQAfLbK8x0FoHo47lcmvUrA4NwBS0JL2S3gnAoKBmTHs8iLJYaCvGvfZuK5K8DNK4K2LhLkBOROJaK35p-ayW1Kq3QLKw0O+GbdAUCLM1y9izzqjTK0S86N1U4wePQMtiPUiDzkc5IGQPBna267EBS-a89Tzk6-IFsuMjK4+erv9hxiwlLUwbpqUDGwxNXqI6MIHSk7EM0AeaGMsK+UuQ0GZEo8rAy+w+ozafwxy3TdVDmLy3xiS4AmSwGYYEk-886YFIrhS02wWaUNbOs-Gf2Viwg-Npbl2y24S+gfW1E-Bhbp20JmEGO2-b-Hk-M0Zos5ozw44625Ix7qTZi-Y1oG7dFr5g5r89S8ZD0-u9PD5rZvk6exC36KZIO9e7Fp0AloYgu8Q0lXk+8w1gu6NDq5dqQ0NJ80891sa9MOxeBOOP5Nq5JakB9ttsDf0wduB9ObfJaw43Np9j9d9m+2IztMkzB95fm0aMRVh9tmolEzLbGBhwe+R9850y9pwIRyuDq0m3cvR+ElE6h4qIFJx0KlE7BaAHm1Of6Oh9+yB-VugRbjhz80xyx1mPBY7hLdUqJiMrUIyHftNHHRBpOw4Jsj1GqWrlG66abPoEZznTbVQpjPp2pxqNwHp6pypup5NnaBZ8cGRKJVlYftyIwKyeirqoipS-+3B8B487duaqJzId1oyO8wx3bJS0J3yoB9dpJ9E2B0ZVZ05avbWUYL5y0vwNU6cfx0h3hxMIG4UIYPl-50V3UfQXcD+365FWZoh79WIytmShleJQlSZ6+pSkU1kzC16cCBCv1zKnqhE4qqSovhU408U64kN7GApBCnNxNzE1N+apBbHUp950uz8GCwi7qVSMeggtOi7T4uSI2N2HqLF9V4VwN0F5XIRr4JqzECpwZ6EIyI5x97eNyHqK9xDpyw48eva464M862G2CNd829KB9zD9S5+6825j3Ju84zXaRux-eWvrR9PBxrixu9c7rQj7WxBrMz0cMpD6j0dwIO-IyDj-oH0zOAau+wSwD5spNwuCwozxz78+-B++nefHOST3t5z3yVUw96i6s1u+SOz+t6L3cqt1inL6cyuPT4rzSu3Pi8k4CSxzqPngXGT2N4F5LxEsk6NLLwqvL-eUb001LJbyrysPTzb-N1E3e+O47-8-o7IIY7OkImY6IpY5YDY+YCUruxfjXey9grOcQIj7s1qsXovHBtwCD6zzXS1sWlheUNzFqp1ugZ60n4XM9-z6ym9p8ooJnwa-HzIBjfytDmCDIFZBn-q8tKHODerB6wisc960rPkSFu5g3-SUI17Da89z32nylqFkrNwMoSX7NsG+D6G8ttX+P59pPwPxlrH+HMjyqK7zo39Sv2COCJjx1twHv+oqLlC6LK7+-DX57hUnz6PVf+-G3y4Mfym50zfzXWTjfyvRVl8FQYJgX4utOmZvbdnbjzKe8zsEGejlRVAEC80ykA2frY0cD-8I4rtZBH+zkpjZEq-bJWIvGL4RRiKm6YGCl0AGVgIeKyRkEkWD5hw7gVFOXjDzJZilMYDA5OLWFOxID1Yi8Dnj6w5pYD88OAraLRU4FixuBjbVsoUAF43hhBNAjRv-BDbACfslvRgaeWT7rASB0vHARwBjibojAyg8INgm0FiBdBp4JYMNywi7NNyrA8+PO0LjqCyBGbZoEYN0EMDwgAAHmBAXRjBDCUwRmxiDl5FGm4cED4ScSgAbgdAVdAbh0R7YmwIZWoM0H9R0lLKfBGOJxT0E4phYdJbHIkLPp0wUh+aUytJQmC6ZTIgQiECEPwBexfS6raIQl1iG4l4hUKUAEkKXz5C0hrg5oVCisidDkhliVIYUN8Er1coHPV3nL0wHWk+MTjcpE4mxBwCVgBcKrkIHSF7IVB-3UTjgK8TPZ9B55cvIM2mFEAe66+P-thVvIKDKeZ7F6HoUt6ZJXY2wpfLMHSS+DLKehXzmBX-D6CFSWQQYUJxYiChhyTjTJMQMEyf0gOZwlZAbEd5lCxhKjOgI4nKDUhLeCQgHl12I7rCVaZHCBl7D1wzhYBkA2MIFEWGuIAGDAvATAgq4NAAG4gr+MiJrYZUBeUw9ELMMQGyCLeKGWlJbwIqp82ykwvYYyNdyaCgSfGQkcsOcSrDjOvHR7GZ1cHfkCW+w7EIJWOEACwRIA-5n4O3xy8bh6SaUc9FKDwQtopg5OGqKaDUhXhRED4X+CKGRscwuQhoAOABFR8okpA5Ufvx64FsoRHImEXCJEAIicUlbOzish5YLlURroikBiK3iMgYBm5BTruVvjCjiRyg0kdfHJFFBKRDEXgTAhpFwU6ROAhkTMP5HOMvew-NlEY3kBKBTGIiCxuIgwCyD4kSrGgFKyr4OAXGHuKHEznr5qtwQwmD+sqxf48A6x1AMmB-S-orIamMrY3PDUZRZAI2viAqP2IbHFivuEKdMC1jmDY5YgcwVcPgyKAtYOQa4mIByE3GT4WsGEPcf20PHLiIUkkUEKeNCTnjpgLWTYWwGxyPjnQW44lpeO4iGBXUXUbHJ+O-GrpFQb42IC1kLakA9xoE2MEBJiAtY6EEBVgIYE6ywTmoLAfhCsCgkjcdw4IGkqeNiD6Ab8oAF7odFADss6SAE9CS1grQ4T6Y+EwiafXZYVoCJMQciZeLhDcAGgeE7gLRKOjstIQjE0AMxMwnAAqJBgGiQYO4lhU+JAkw-gAFJhJHEgiWJOImgBpJkko8ZePEg4T5JXEpSdghe5qTMJTFAEJpNElET2WhkhSfpMP5uC5JJkuiaAA8ExA9JF4zCW4KMlsT8Ytk8Sa5MclSSIQB0GyZxMUnssjoPkyyX5LcnsTPJSkg6ECAsnOTD+DFYSUpMKCn0YgDFWIBfnTD5RiKXYiVvWJVY84GBgIFcIrDmCNU5xBU4sdlL1J9jux+U7PmyhaQsAG0JgMRsVJWCKxkQRE48RVOxxk4I26EooLlOVYNSCwp2QgTVOGn1S0UshDCVD0vHZs983ARaYNLupzSIQkAOgD6lIZrjNp20pyWtJWAwSqAEBWAJAD3FISzpq0u6sdM3QMAHUp4pCQ6mukYEWssRcgLEWEnvTYiRo56NVKpBTSBxLJPUhkyKkAgSpGgJWERKEHsJAZZMGaf9IEBwzgZBTJnmmPanTBOp0MycT31hkVT8mzABLmmBwwX1kZo0nlMrANxe5uCu9BMBfXHhqh-ovgW8g2kBjrBlACcTQIcKvBkyhxHAEcRTKbH2sqZoSBEEUGF6cRpwWIMgRQM6b5Ewe5Axfp0zXxd158+Mr1NYKepkzKUrgolqrMzzqyec+AZqa1Jh5az8ZlKJgUSyBFOigBkPb+I2CBHUFjZimO2ZQKBBSzCAMspWeMmJkGMFxxjMscInMZiJMAsgkRhQFMCO12BMUG4KQDRxKlKG2iXRPom-5i90aeNa2pTUVLpyHw4QLIQwByFtDChac5snnJtilyeS8uR-IoBuDAcYMWgRzAnBjjiiV4ygZQDogyAOMjAQrduYpP4R0kGe7c2PP6hcL+oEh3QuktWmUAvS-Q4IbHPkI4EB54gpDPWCXCFbK4N5pcUzJrEIkRBoIAvfIZ0PBAQhOhxaOucYAbk9RFYVMneaQy3kTBj51gWKiIL7GSAgOf0GWAbhr5mdv5SeU2KQRUjbUKk38zakkmfL0xHxbwhnuLgArGIJMrnLIN-PCDmSJSlnOfDApiQW0-c57FQPQBOjVoZw5WD4GVDjlo4-5D7AwMixDKylMF7eCBUUHyQdIcW67T-LArxpkQXCp8uknfNxCfyMFnbZBfnNEqecmhRcy3qhnibMLg2rCwFMgp6Grh-UOQ3hUwDIAywycgi9hZORpIMLYg8IWSGRA2grzXaV4j4NjgNzlT35fCtRZnJMjbUsIFCsgrwohAniHOEKLaN-M+F0K8ZVi1RaQAtjQQKm+QuhUngADkOQg3MfPCXPk9CfQgoa7W-mi4VFP9fWnvIF5QKp4KczcFtCAKzzzml4oQEtKhTBBshDkHSFsV6LZDmSy9WwNBD7zGKMFuSrxU0rfm7y-FFsBhs4pyWpL2EN4Fpckp6WI9WZ1YKrpzLRkpxFWHgbhhQzAGvoUWYmeRtbQJo0LEU2OFhZMw3Zu4iWisYZezLGVRNJl7qNwA-JjK2KgFTC6eIsrIItY-cQsCRXEzVKnK08JmRHogRZbMAD4hy6ZRIzoqhd5lgKdMoOUbAazrhQIFcHL0kWPL1lfOAFR6RpGziplmRWYsrjiiQy3lvgVlp8uEyIqYes7OFTuT46FTQV6kE8ZbE2jpJsVRy4wMio1YYYcZlK7hjUWVxBwbYIK30RbVCSAK4yDKpFZbkMCsqiV7K9SLstGXUBNAUTLlSUFwFsq9kRLCpCKo5lirxltYL5W4AEXK5TlLKzpZjBlXOJypOKplRqyI6UQdWjywFT12CyXjblPo2Jmhg6TpljVb5YSOhxeU7cWRJxMqKfiXTAwBgFQQYD8pwGkNyGTpC2igRfkkzhAxxXomVFRoBraZJuEYGf3Eb4qJZP0EGXbETgHtGyGA6UF6OWjxwGAyaYQBwFIAGwKURAV2nGttGhcXc5qvGCpXIpkVq47BQ2vapMyeV8RelVSgZXHAyiHAeahwoWsKUlrlGjlNCM0FyCEBXa1lPimuStFatUROraRoQB47NdNEWESda7ToYrr2Em66BfmR+Hdd3yLqwgD8KU44C91KFVNSHxFrTEK4beJOaIX4IUqS87ieBVJRsJB1duks0-IECQZlRx4VRBnh6voAGwdWVRCuHMVXXoiapVhIEAPXWJhYoNQnRsB3KYbbI5igDRqBjOegz07oOICpZ8UXqNRq20wQqARtZwga6AxGhQLn1jAOKqNt+RSWhtVIzhMNbsAHiJygiZUcMHwYIMDAFKAas6sNIipNM3qMhVa0NQFGLV+VULb1h8e9ZvWg1vdiKcG22NMTWK4gNiSmlDVzUSCsbtaWGsSIJTw26xug89YgDRtI0NByN5m0erCSs3oMpSsJJjURJY3bIBSHGx1SRzgrfqPIvqwzcEH-VyKqNNfRmlBptFxkAt4W0LTbAC1zFgN0a0DaLni1UbEtnxA2Hxr-WYahN0xdLWCQB6RQ2AUaz4rNNDrDEIiUROIuACYjlbQilWsYjHQY1Jat6nsZxCVrBKnYcB4IDEOGquSRqr6Im8kFloE1YlctxRGTa8GIrtaq6jIUOuHSjo1byQ82huk1sxjMlXNp9GbUnQB5RVetiPSaKQLeANp4+c7H+d4jO2i56Ox24eF2y-7pJLtUAjmBbhu0ohk12afInIxMxLy6MpAz8SdrZR3bZl21Mzo9tfn0d-tt2s7fdpGBg6VSLXdqCkAB2mB3trcxCnmW+1D8agYgLjMtCdrQ7gd26n7XxgcyhlLlmOmHf6sx0pbxcCgBLkDqkEY6PtiPY7fgC1KvaUdXCIzTXyO30BkdPKDnfhxaqENzYNsVnVqRe187h48GQXfOyPI49o5ZAdAdiOrz87D2dAfnXLtEV0xiRgcb+ORvBCFLshCuoAtjnF1GsdOHMf7Wzq+JI7pdXOt2I+r+127AdkOt7ZZ17Z2LiY-0foGTCdiL4TdqSodp9jd2mB9Aoe-Dg7sDgoR2Jik63RLoR0R74MSe92NrqvC679YecA3SUqsiB6ldv4pHTbuJloliAOOg9gG23rc6O6+9UBpDPvoQMDoui20ZjT3ZnguMiu--OZ1L246O9CS5lcmKnAlxfaRmxMeXLT3+DqQQ+yQLQTEJN57K7hU2DHpTHcCiGO8A3WUuN1Yte92ObHVxmL2TDqiHcrNR6Rrr09SdNOcnSurQJ0wnZXwFgK7MVmKDz+16lwAqv2UsI-ubAKPfrEnAEia9txOvX6BjyExjIh8EwPwGniaRCZNABxpZU-1cIB9ccS+GJOVqgSkDkWtaSWyZa-EmyzQN-UqolVaq6mPtafX7Vn0jVKFi+4yBnqAaDwDd+B8Vc-1z1b7Td3ABg8qu3gTSqQNwT5X+IpiMgAAnCcALh8GuoI+8USIZ4gUwjNY8P6LLG4BGtROpq7xB8GU3CdYOBgFwNgiRIQjpgoh12qEtCVWQ0AJh6zaxCPWxh9DGC1Q5mNehSGxD1xX1PomuIBx2ELgBiZ5hXBsRyQ+hmQ04c3Aw8eDiOr8RTBXqE0uoJNe8hT343f6gGNdGg41DoP8AIQ4R4mkwFJqb7L22+oVmwCJqRHODBcHlakCdrVBCoJ4MgI4hUykNqebNRkOisxWqrk6u6SA3QEKjHyjgy9JiAOFvSVHfUq6VBSpm0GrJROVh8EBWnGN9icVbNVJbbDaOgBxjlEsWSuCsMDKldCBY4OoeDEsQBwmGr1XomaiRqeorQNQ9FqxJBaEtqWlred2OO2HujFRk4aQ1AADGU8dseEGiJiCjGFjExuYoIEOOiAvj4xvyJsfipsQLDeh+wyYoBMMSgCY0QOvwihOLGhOvh32FA33pgN09DewSqsc7260oD3yTNdPFaAIGDAlYZA0ROcZ5LYgeezvUScn3H5SDI++-J1xrZ+b1YKuoQIYEcj6JSj-AGo60DqOpKdkDRoown2MD6AeTAgLIR0cfLAqVdwBhBa3qta96ECQsKfafjIP4amTu22+Niddp4mM1DjWk5GPQwkmyTp9Ck4j2pOu0gCsRxqHya6lyFJAJqfhggR6XMGsjpu7U5olaAOme1h5a2ipk-qUkUlSu20x0rsU+mHA6u0RvBhaUJHBIviIo8qdCUoF9Ah00AAAB0sA4WmBm1C9UyBggMsRfQRMCmTk0IRhqFD0ewpk0TgSZp2imZOJpnDpWZnM7WSYD4BuYhZ4vNGV4Anh2EPQLCL2dAAAAvC8DECzNFBVZ7Zzs-4vQM9BRzZZvSBWZFT3HjA1UVCPnHZPvAuTm4FM7meWj5muzNEtxZhPIDZCWA2Q5QNkL3yTBQlaYPAHWaD17m2zh52c8efWmG7zzl5688vWXN+QgAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}

</pre></div></div></td></tr></table>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:teal">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append-delayed
      (find-assertions query-pattern frame)
      (delay (apply-rules query-pattern frame))))
   frame-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRFVityoIEOu0B8fWTYaFJ2hybjOEcD2nWXULcqQOfaYWP8Lo9tDf0qKdvXqU9pm0Iw7gTawPbfT9x1nUD8rIPFuKI4LaL3Y4D0VVJwhgxkFKGHIXqwdm9K-Jc4H88Ln7i7m+2ouRTPBBVYMOEr3KZEb7PgxplzV075vEN6euaH7nPW-Bjus4HlqAqM0fu7r4novnjgVQ4SN2HfNvq43thS5FNstgK8tt+9UBd9YxfEWipgAA8qVkU+mGxkvlAvnvD5oYH0-nvOWALouM05pvxdHvQe94l7Ijvg-VeuAODETAvwcCT8FgUhAZvGme154gRXmvC+f8AE71AZfA+ltQDYIZnZESAhFQeGgfwR+-8q5nwEGg8+xD+yBEuBSRM1IsQUyiJPJuY8gHvnngkFQbD3723DGAYetB2HRggDAeASBUBoHkGgTQEDr762sEpUQcCmBANdDnMobBSAfzIeKfAbAPSjHMZYowAAfZx24dhgmbo43QoBXHuOsB6NC7xCDeN8W48ynY9jeJkcPDs7pgyhiEMNegjjLwxHiVY9sOxgb0AsboAAZPkpctxclOIZqQdJVRgwxMgZYTsm9Qll0-nEqpiSODJPAqUxWhBN4RyHrUugEg7GUDKpQOBPS96NNIe2VcMNMSWPAanPRXASzkGDIQPewwpnGBcjsVpPgOmpMZtpNZGykF9KWUWVZ6zNntVoEMwJNo8kZV7rcK8syjKlPhuA2JJyblIPHiXbZzlmkfM6nMvJd5LlxLUoGdqIhiDiGdoMYFFssnWH2UkkaXTGawuGMURF-9A4XNiXi+FGYkXx3ucMp5TjCKvL1DId5bzPnzO+VfR8ZKCWUpdqI1FDLZBXghQsn5AydhP25USws-Lml7JYAkg52L5mKwlQinlgwSUDNVRSqVbpqWPJlWQsFDhjXePhhylC2rCXIuoICtKhqZksvBayyFiyHQADFIAAA0ACyABREIzBuDiGIMpCCw9ijCXIIWCCoANbRqiIzcQdjWFswdCwXAiZipRCsB2Uiylc3xkEOMAQQRZFLkpNwWgQQQDBgTWRNA9Y2DAFLOYUNABaFgTERBsAkMAAAVrQdttBxA52AFYfNtBgAADZkzYA9d6-1gamBsEoFMbNykvRlgrIomMyaPSsIzpQAQEhHQkGUhUpg5awgMFinGl0VaN3kOPaeg2LByGMR3RrGIIkphJhEtIaQaBoU7H3awh1YoMXyraYcnF4bamRpVNGjVordE0DAywDgN7N6JloBBmgTI5APJGRwMZNhN7KFNV8u8sSMNHpPfhp8LAXxbuIBWG4jKhUupFYs2JOwJKMblQqrFKS4MSRpBSFd5zUOPnE3fbgzBVnUEY1RtlvGxXWG-KTQsgF5OKdoCir5LzZVQeE+0pVFjlBS1xdQbTgxdO3wU0wJThBNVodjLZjgemsPMH1M8+lzSOkcGYLgI5TgLXRS015xzDB4FZUY0FkLRydAReRFF7zc5OlsuM2QxLQkjl5hqe5jx040rnsE6ZmDFnSCKyUjOfgoa3OPnTnVsrobHHNgC7lkaEFWsNaYBBfE8yCSpZoH189EmRi3Lw0ZvQxgkgCqZdxmjAyRy3ruVUKbSCOvPUW6UkbHJYmKY25J6bO2cvtmFQd-pxXrAru4KQPS432v7d2yZ3YkpXujbieIegk2pNbNexdyDH2HBXahXxgJn7UVopB5i8zonlWM1YxWJrKEf7Q9mwtwLPWUeDZyHk77KP6MSBh4t4VEONNcF4MNJi0qsc7Pe-D2DSOIIFFp8SmTKEI16ecwZ5TDOQVGqdbSlb7n-7Bhm9lrrjrONGQp2Lx86suAMElzIJ0nXsfWMiZKDXXPoprb+xL9XVa3vC8ZXr77x2Vdq718DmgV5LcchA9YfOMh5OZLh9BxVKT5OKzcBc6F5NeGMgpJTcmqCavsIwTPZpF96qM1wNUaQsbaGJ+TwIEWKRJwzjnEDNhrCnFp-j0YRUypXf-3z0X+odD74MNgXFn8iCtkR8kVH9+Ze4nA3JgUop2TAaF84UcYPow+Fh8EVeHvkMoZGCvIP6fM+R8WFDwIjjsgp-WZn8YVc8-N9b+j2Aof0tw0Z4gkVx8Bmc7jFILasEFpb6e6-oDW+yhjSgHlOp9zcYMwVi4NSbSEsKKABcUgwyg9WDAekre4Bek78LUe0-CcYwWzmdgMcS+Y+q+0BWGbCwBhYVm++UMmB0i0yWwCBUQSBpEogfs-MSeUIKeae8onel+wY1+t+tIVM4+5BKBn+j4+ASkq8bkt8Vej+cSniZiq4Pe3BKEvs5o7AukuEC4BEawe0CiVEvschiU1YKWxBY2CeVC0goAcoewSodA5+KEWcd8HA2EYyQhcBWU-oC4IE4hFIuMsOdS48k01YugHgEEAexhC4Mi1+oAAAKgABJ+ocAACC4A4AfqAASkEZAAAPIAByyAVE8oXQ0KuAGwiBOBgweGaB6CYCseZCvB0w5hghaBR+RgHg0hFRPgeR8WVRne0hc4ZUjRP432rR9gKyQs+RH42hwRYRkR0RcRCRKR4AXRGw-BIgt8DRJYgBTRPCo+wh0hd+shFRlhp01hVRisHRw6tIgesSwkQgHRBRyxFgRR+8rYZC6xaIGIhGPMhetiGQmQm+3+bGf+vRixISzxCsoQFxeIB+EMPM2RAi3xIBSxvIlxwJUKgRDAdg0w9YRAWaVEAADJkbEiJBrMFoidTsGuQHTm6OQLID3HiciaqCBAieMHFiiaMKAAANSgDyCmwuTUlImUB0kMDfbpzYnuHMJbxMJFzsn4kc4uwknCHAw+H47Awins6EnxwknnQOBPzmrO5Hb8Cbz8m5TWAqjdiImYJ2EmB4nylEm2okkgR8lyk04KnimkmmyxK5DTAaxzjsYe47SM7a7uHu6Oa6BHgeC8lMA4lPw+ncC1gmk2lmnUgSlHjl5YHXAe7+kAnXBOkcAumiDsarge6Gj-SpnpnsZXjZnVFcIKSOamzmwBTMDOmun6njCSHRQiCFBNikYhJ+5gyEJnywF+SOlVlpk1nXFVScQyDiqV4VQenJDVSlZ54oIKQwjjkNCVlpSmxyQKRbS+TWZYI4JTxjx4LELu5XEuHiTNIei6GNT2R741HnxzhKQXnGF5k1krx8oejrQNC9AvTIzrlHlenAzpTWYeD3kZlr7u5zmuLFS9n5lLadQVTWYhBJ5rnLnGDmwVnNIAVum+mmE3x15FAcRYaUCrJvgEICkvwHm2E-j+gULkLbkty7kNIzlEGuDVTYIACENkehzUqMnp7YRAHEekpBQiXcdqYiVFEit59QM0B5HQoA4Uq5201UI5kQM0c5c2++DoUEalioWCVFW5wi1F1I+C4lsJCFQu7YzFrFZ51CSZ3FuAvF4+hFvUolgQj5E84iv0L0f0HegIk4WFjCHZz8xcEl0lPk2wQ5jZDC1gymBldFHChIoAql6l9QLkJ+tBme5ZMln5KQLk9Cggdl1cBl9FiF6pAyVlNlq+3AuE3AoMXZgx8eDMSVJaWeyQ3hNB9VneU5DgZVPoOgxexCne8lQMTgUlNepZMCOF3AeFBmBFHVoQlVHCvVFekQFVfpQ1WVQgo1415Ak1oMU1sBsVYAalUEc18ZC1A1hSXegMi1aexVK+lMk+TgC+i0k+Og91-UV1fF4hd1DlgI4hT1n1TQ78xZIQdVKeGFyy7JZQp2SCwhQmVWiOENwwis7JaOkW1AiKvBKK7JwhpqGN+uyIIpgSDGGNJR6KoOkFYORk2NxZHghybOogLpEgGKCJA2ANxScuzqnUFNINRYNOekmGYN7JYBaUEBWB0JQJhBHCpFv4iKrA1I7JVJmpe82pb4upISGNpse0V1imKBIE7Mr1tlmBhRv1HmJAs0-OISUtgYuJdZz1-0YtGCrJzSGtyBlBCeQNme9BewrVJiIwHA0BtZ0w+NpO5tMtBp1tKQTBLB1IdxMgjtFBCyARGwQx4RsRSsAAMn6mke-nsJiatjkWQeyecSLSRU0qUXwRUVXrwpTSGNMfUUIPneXSsS0dMW0Zbc5l7IdgMt0WVHXcIaEUnanenVMe1DXS3QXRXUTVsHcfiQwjIDzGsWwZsVYaFrsYbRBOyQcaiAhKHa4HPQKNKQjYievXkAhPWciOznpHXYUbCePWNrSOvA8diDzLLc8JvmfVwC3X7eNIXbCVvZFLnSPfXTCf9TIhGLUgopGEolAHAIgMgOgJovIDoo+MYqlJJkcvwBMGbsTQYkYl7V4l8uOB4ATpLI0HGRMu+Hg40FTaHJhL4MRmVHyvqiRmRqQ94soGg8WceDsFymqrqgLmyvgwpDNI3vQHCpKjaiEjimw+OHGVauqrw3kvw0g3Q0KW+KI4HKg4QOg1I3En8mcoDnwxQwI4BDo7cuo5o8QzCrZshtQA5k5i5t4go4I1plYz0mVLznYxIxo+w8YaBuwAeiwPYwY+nMPF1L44ethnvLhiw4bX+KE5hgHVE-ga4JI+YyVvVuVuQwOIY2VM9mQ6Vv1v9mdl8qw541ozsCjgE5k4oxnJjkjskw0HGQJhk8tYI407UyUyk9YKaWo007KAGNze7l7e+DzjFnzoZmysU+gz-ckEFmRqInhhLlLnkhM1uOY6MHLEcsrKrOrFrIMsMCwLfC8Fk7OCMMbCfVzcGqTriMoAs89HJdYApuQGwMhp8ME7iEpecC5K-Q808xQC87UiyECTc9dB+cFWmJw9GGNUOOvP828zTEYHtJrc7VRIo8c0MwhvE281M4CCtV5hoxENQCY9E5FAhuExsKMHhpi0S0YAs1i-1Dzni1GLo+BLC4ea4XEuJnyoi5YuzB4By+DI3lSOBFy149LGxcC2lR6Wsw2AC4rCrGrJrGSAMo9nwIc2fRHAVfCLRmBKRnAnM6GbQMsztC5Mrgs-q+w4YfYNqNwgmYMziBEEbqrma8s7S6BH9rM+DHhtbqa-JgSMs2c1k43nZtY64yM+420+g9fS0ozQM8gyMDIOljFj5nMEUwpJ4yK3QrawmwpkIyw6m2Y6s5m55hlpQbm2w5zQGzkx1oa35Hc15mwA9k9nk+k8Nu8wlQ7eZTJIFWuaC8OdYL9idltnoxYpuPOTce2Ciyg4bgOwDllsOwkGW12yjBpUaVOzSBYoJdrdi7a6u8I4O7O6QL6wu+xEOfxp-IJXa+tmu+1KIq200C5Du-MoJUZWbBKxxckJlYI5W9ZtbruzO4swe-O548+0hc7urT0tctQiBG-hkQgyhDM3AkQDo3MKQ5rmOyDl2Ch5XQwfUNa5EIhxB9IMoPBxwPhwZusnMFeJh7CIjFJZqwMrQExNSJyeStaoHP+zTLW5W9RvOcocNiBDkwU0gux8+7sndvW49r4E2y9i20mdh00CEAUNPQxxbcx6o4WBS-a9OyY69jmVDMp0x36Gp-0S1lJ++FSxlc5lp0Jztmqa4CC2+6J0I1UPitw2IxU4CFTSNFwzqmIzQzSmajzNI8ozSa590-o-1J5ykjIzw5HbQwF4tCEDB3Z4Ve5lU+Ux4xG35Fgi+jgp+iTtEkoUad1FtPx4x6RoZ6F+px3C+i4WB0h02CBMR6R6cnMMVwdmhzQBO3GwHS6zi2g-i0y11KVAa65PVyN2w-61U605Znm8IenHy0ClLF1++HJqG6bQk4kxN+W1U8Y9thl4aWRTXHlEcyg7t-ivQ+M7N6bDo3548ue2d3cnFym6Iss-bWQqItt4I9F25-ty1Ddww0o0Ct91Sk9+M4qMtzlSFz5-HBd0s7N89Qu-JKXrElU956x-TuGzTP97Q+e2j7I7F-50U+D4W2RSI5V26LD5Ys6+D0B87iA2hmA1GDGJA6ojAxojmLB9FHstGw-pGwc+UozeW0E-86S7hsoD17N5G9TU2pC0UMPINtZqL+S+Ly+q9+3bdnFvW5yXLzC1DZVj7sy4rDL9r0IPLzjYq2hlgcQpE7gMIXlqFrgMoOFur4+BGhi3b9q0lo76AFoTdq7whv14yyY7b1L57-lt74Vil81sxtMAt-at+IKx7ykqvWe6Ivjgn5Dd9qe5bOeze5G9DQb3-K-IzHH0zVbqn-yxn1snn8XbLoKkZDe5N8bXhc3LixMANyY2w5G4WbT379zpp+vHuV37X1sFmb39Cg1v+HwR6Jc8QtW64IMcDBfGr70HtJenWw223x30gpaVnZz8iEE3uQDyN3M5KYDMfy-GlNdlkcQrdyMhS+LcpaXh1yzbIEQX3wbrf3q12Qvy-1eO--v067eUt+QfPbrQxP7XlxexYaYMP0GLjAc4FSIjDSmbAMx4BwYRATNEPBNAPA38GPoPwaQX9i4vrchNALb4isQgaAxAcf10AAAeP8PwHQGCJMBIrS8lK0iAQQgiaEJjIQFPQS5bEQnOgJhAJLSBAajJQalvlEJ1prKSAx5M2CZL45Y0TJUSpIJ4pF9Nw7MScLLGlYcCuB2RDWAGFVz8DhgCiUiDaREGMwxBygxgM3FUHUCxBCgywfvhUHSDmB-rZmGHDv6A97UAPatkTFS4aN2kaEZkLAPqCxJ9OMg+-i-FQ53t3sXYagReToQBDmYzIT6pPxb5jxA+BLbbBNwvIhAAeCeVcPEP3y7hbgzA0SnkMY6k0IhW0CRFeFcHAdFQk5DRgnnX73YJOmQplnCxSBsDqhsrQgIEiHCDIaUgNVlkjFfZHg9oNVc+AP3wRHsYhtxSoRfE8EP8MELrUIV-w9Y4hoqDQ5Li-zQaBCnQ7ucftCmx40pz2Pg-ypL27IDJ9hyQo4Zl0VBhDKhhA5gaO04rocokRQiLnmwOEpCt8aQpgiAKyFbIchCXIYY8gKElJwBLAxqnQGmKrhMBL8GESWXCEwxoRypNQS+Ts7iCJyQ5NBi0PSRtC9IHQ25F0OSA9CLhmzAYUGHyFvoIOtyU5sB3GGAhJhxCECKu1mG08vy7YcIUsOP5bDVhv1JYd-22GKgQOewpIUEPuFuo5EoDXdMoigZqJYGGAQAV3gLg-NyAfzNDACwwZe4zMhyK5ozG+bPMy+LvFCMaN+blF624wW5Gozeb25X+VQ2FjIijjqiTR0LBno1xGgPBqay4fHNvliBAhdOxgamtaH9Gz5qgQY+6tTUGjhjkySYQEMGKMDU0OkcYjpFGJ9E9YbE9gfHNmNECNAkxrrcCBBGtjBpJA+OUsWoALHRiesbA8MWwMTE1jk+-CMgp6FoCDYWxXAD0AonqCFjqaDJOMcYBkAv5QAEgEENkAOZMlT0oAPsT1nbSDjUgI4sca8VAAHN20o4owLOOT7wRlAyQYccoGXHPADmUEDcTOKbHFjgAC4tMEuPHGrjYqp4rccWIACkV4-caONvEHMnxD488ZBHuiDi3xh4icQnjHE-iIILFdIP+JvEriDm4E98aBJoGvioJR40AHQKMAgTMxyfGgRBN3GuAAJH4lCVRDgkYTixmQRCQePwnZA0Jj4yCJkGwl7ikJQE2iVRNAlMUrxd41wM8CMBMVjAD+B4IhFdGPN3REaY-hkEVCEZlwPoN0ZaI9GZgDsAkjUVqMzCkYPQ-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-6oAvFpph8a-1kqoTUBpS2uBHYogbVWFocm90RiMReIkkVSKmwKtURKreMVSIgQGNYW1zc8BGSlafi7XNdRBHQjqqTh6WvmgaRag5aBNNJfLbMT9q1cjSnWkeiBAq3J006kxNYItv7oZ1nNZ8N-HNvzouFEq-Wu9WJ037fh+0-zH1hwqiTnbvsq7E7cTDNaRtCVpucvn9lu2IhjVmstlg2vdlU4iRwgKwKdu1HnaWVXYK7alumGXtrYAOsgPdpxWOjQdGqmgNbkh3Ex3twhL7eb3fxMBgwkmIQL7SB2w7Ht329zE5lJh04sVjmD7Ytnh0nDVcbAYwTDqVVGRqd0KE7ZQD1KvayAI3G9aiALm-aOd0qfnVgN6bc68gneVnXqWtyC7421AKHQB34VLrfaN2mXXdsF33BF5W+EXdKEWQ2a2cggBQQrp0Xp8ZdbO8LdnXcyQ6TdPwf7SjuHV3FedSMv7bQFl0opkdb2rDh7VWUqhEw7wT4JqG2lAgDdxii9n9ld3Q7Q9cuk9Xbt+h7jbxFuiXZZ0d2y68M4e+Gerqcia7qY4CHXaIsViB6V1Cwf7SbqslYksdp3P2bboNCRtJ6PIR4unrZFZB-57EHXA4Dz2k4RI2O1WcutJw3N+FQIcOhsFYICh-qm8zJv3pvyR02CHeNysYXlDR7AgGerPRRpLmUAJFjMVvfjnb2SZi9NwuYrrLjaeqtZnXW1iTttLk6TV30qGBjP-AehsZ7fUAcMH9YPLAlfKFaKIAr086VILkavffT+GNAaqbxJoHfAzB+h3wgsZzharjaiVX9VxXvakAmBvxxxqQrQQpQv3BTGYfKhVgCX9D5wQgT+p5RcpWUGMx9g+i0B5XMaz7twC++2DrrwPnK0+uewZl3vxy0HnltcB2EaSxDZLKxkgECAAE4ugsSbg09jYIfbBDZMNQCOtXiJgygygcLfOTBWfC31fqkFtVBoAMw0SZIwIEIZkAUKKFisNAAYas3Yigqfq1wNocKFx0jwQhyQ9GgcST05kEiGgOuOd5hRdhxgaw5PVsORARunBx3WWJMV+bT6tNSQAzXtSnJ+N7+oUJGwz3UGl9c4OmqEYMlr7GD0BSBcEfpqVBGa2+4nQCusC+0VQ0cZKKMECQGYg5Y69dSBC6U9KFldim9EpGHKEBo49gjoMfVNjVQ-0JR6NKeg7kGZ4BwsTQ9oYgjtphj-ylpeup0UvAmjoAYY-OM6DRb3D4hyQEDEMVsLYQBapFebGqiSqb8MqrgFqrmBTglNrgWLXiQbAZblMSW+Lfl0OP5r2jxRlvo9nbn8xej0mN4UYEGMzGRjHRAMPsc0ifHhjJsdYyjCQotrkgHx-4+MeMXrBY6Cif4wCfzUeG2CR4SerXrpb16ADi+FY4et+pgG4UhcONlOBgNph4D58W8egydlJMUjh6wk3QGbgR0R1MgD-LZw1aqjV2gYWgBrAcQFG-QB3X8FOEqM6KaG1R3I-nlvSgHGjfoZo60cK6HcOR9euHVSaD00niDE+gUEyb23NJWFh63E8MHxPvgaTcpijMSYQMrjyT5bPdftK71HrjFwtXhJEelBV7b6Neh+usM3grjkTt9QGV8FKAnFzjP4a00LUvrvxYDTkN-K-Trr61ASB5dyVQedw1GSwVpihTgRkBoHQAAAHSwCRbeA9eHY7gAbB0hZ9o48iXOX6h6HGYHRvCqaPjN5HD1SZnVSmbQMZmszTZKVevHzP55rg+AZKBIkXDAwuzoAAAF7zQjAGZwIF6dzPtmSTi4IcyWf+hlmIIFZpSBHD+h4AB+7Jzk5ECTPZmigE5whQBIwXJ8WACgj0AoOIAKDM8MIChYhAdDVnEz456VXmb3NLiDzxYo84rBPNG9zzx9ecybCAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(find_assertions(query_pattern, frame),
                                  () => apply_rules(query_pattern, frame)),
        frame_stream);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:teal">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:teal">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:teal">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:teal">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:teal">
	  figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:teal">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
  (if (empty-conjunction? conjuncts)
      frame-stream
      (conjoin (rest-conjuncts conjuncts)
               (qeval (first-conjunct conjuncts)
                      frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                         frame_stream));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The expression
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPJSBhiAUTRcTeAArS5UX0YgAA9CDCKi4njQN6vSTIut6sIwqwDiPKqUgPgYNqOvGvqhMGhJAzmFbJrOaaOo8wIFqWlFDG2tbApvHrVqmmbzHqxrmoYbjDHa2r6DOgbApGjIsiunbzlulw5oW57XtMD6oMCra-rTAH9vMQ6Z1BjrTphz6hpcS6Jthva3pcGoxCoWoGHaMhfAh8kof6QYYZu+GXEIQJuO5LQKbjDaXGh7G6bxwRSDEBQ6EoVHsfRjm-zOqbcYLFR6Fa-Bqn0Y7TEMbg5HIBRiAYD5Ag186Mc81IHsoFq5fppWzZOqYZlAdXNe1yhdYUFdmjahW6FGI7LZVi26DB4XrHwgjiFwomSdrUhyeBmdlbBWOwhQvSVjtrWdf6QScekW36cMW35CUKA4EQZB0DxNA8RqmWQ5rImjEoBRKG4Yg6ErISvtSYw2BkBrQ5oOgxDrhvrfkmIPgb5TmhGjXiEHyhh5t3Ltd8BQWHwBdcJnwxl9Xhd8G7uhp9nwOWhb+emkNxb6A+IQkZMNhyFK96x7n5TSmrhdjRvp674fzKPefpup8J4X2rKQag4pv7KHvo-f+9cX7OjfqeBgoDwF-EgdAv+s9AGt2AfVC01AxB0E1kLI+r8WhIPwYQ4hYIAEnxwc6SeqQ3jcVRD8K6h1DDOFIQg8hPxmHUFYQudhxA3BcNoc3ehipGEMHvivYQ5BuGKlKPFLWgMtwaxYPIhg64KCay0PNI+Qck5FFkZo8gDBV7CHJs-QOxk0ISLPqsC+xhSaOE3nAxxsREE-BcbWNxRg2h+OUKnZgWhqGnRsdgzxMRpHsA8F4RRKxvELjicoBJ4igEMIviJRJI934MByRkyRKxpEaEICCFmYiPFkLKWwcm78Ois0Bg1XqHCqlDyiUYq824Zx72QQxU6D8xARI8VE6JoBTKkHMlg0ANk7IOWctSXwQtyDdU8i4BpRNfKZ0BoIQg5So4OG4EM-qr4Bz1UZtQBQAjqCVlUebZEkwBoxECrU3Elzrk0DuQwNRyJjn8x2jmZ8-xzlMMUIQfA5QfkPIcE8qCMR3wiIyEVTZTT6YWPwFY-QjyunGJaN1LQIgGotwPPQah+g7F6WaTo6e+jTo4spQRE5uK8WxGaRI0lRDm5gkeY+WI7cCkY36WeGeh1kXjK8etFUwrayXyFtyz24rKXNDHBqMMFEXyGjMsEbFRzZm2Xsk5IG9N2S+BIOsvZBzqo5l2tLTiPSGB9I3iLPqUTnmBQcgwE5Z05KlFGmwOSzQsKopntHL1-MzqdMZTEB1TqBmexnN6mGYypa7PyfwwRLTGYiM4U-OBbrIYG3qo7WsXVe4z2YVm0g2imaGLoZMYyyTGkVvoMIKtcqRkdPrcZUy5bfZtvYV6tgNDRn1tTSa-Jvjm7BNnqretA1QUNSaibbWgTp3uIbhMZ5-KDaqtDOSDVILhT6HqvfBa18wkKuflu+F0xAohuxQec9oTGpXrgQnBx-lgXboRVfAQYbn4yolKAOxD6AMvvJdewOn6VyLpEkBx980ZyAY3nCuxgVwMNyA0xQoh6f3+gNpOtd-jo2DWfUTcJs7oOnxwza3DtrGwOEoRqRkTxAQAD5QD+pOHajysbu5MdEYQ2o+gD6a1OZTItqR-WienksJJXGfoux4BufQgnOHCeENwfjDB1MEI1PoG8YmRGTARGRED4VdmGG5IwSFt8oG-1RJ2ueC7j31Snf4mxa1Xh-upO+xkHngkOwo9y5zQE71SaXY9QLG6A52L9Up2Max9nN0GNZoQjr+DoMc84elT7kMQbfZui8pGijpds1lioDmYGnRUau1xM7StJ0RsFy9QtnMTD5Xh29UrhpgveMwIW2WYG5J4T03218htVYwTFLeK815HwlbEaRKCIHTZy3moepGFKgn0KttB62YFL3m-+DxS2nHcYPbatNSDUnpPzfOqCjZLG+EZHdjFWKbFMUbN2PUAWbOZfszN3L+gXvhd-QN6UzHai5yBDpvTmnbzcj1OD3rGy+0vZZYqHqhKB0kvkFykhv250I41HOhxOyJ1IMKQ9hxYsEx1fgxvCl9i+3weEaIzbc8sfB1PpT3m+TmOQdp6fAajYN6MgfUL7lCHIljvJMx47O8EPS6G3NnedaN5RKYoFDe46BdIP2xwYbmCilrUV+rteCGjda0O3-JXC3IkrgfTbk3MVmdy4cVjmDOoYi8fMOmv9X87edTNwNC328rfM8-lNn+R3LenY6c7vtMegcbcYB70dXvnc0dtXgQGuc5CKAgDAeASBUDlzQMSSunF3ORm7qi6oA8bH0762kXgK8yBHxiAAHx78Zdzjsm-d9AH3gfqRV5r36LAoeo-+9+m+mNL712TXFvIGICQbbxu0MoH0e4Yh9biwuaplvAAyU-vRqbd-EuyPfzAxD65llPTW3fC1H9SPfzfMjdu0PBMZ6qcMvMCejq+8h8Leb+CYW0REZ2j+teqQquI6s+r4Aqn+xM2+D24ICBAB-uLgCBDuieLmyBBsUBSYQwV+0BQ8pmPMMseBmeSBywVMIwN4FBc8-Ilmq+-Wk2aeI24BDBkWqBW+P+GBqebuzg2BuyIhIeZUCer+fB4sJBdoChBBpmOMEhQese1W9udBhBchkB5BpBLBVBu0uy9UruUhXObc-B6+X+6BDcVkZhcef84hJqDhmhs2keyhVEjBgwN4Shi2bBOBVYD8qCxu5hGeDEshO68h+hdohhARWcAAYpAAABoACyAAos0IEOUuQMErMs0sGNUDcvQOCKAI5AIqoLMqYvIrJHgOQDIPorfikIbDSCCrnOoCIBwMII0FnKoJQJQH1I0CAGIBUbSGgLkAoMAO4IkMEgALS5EDCNS+DACtSGCzGGD3z9zAApCtGGDAAABsOg2AeASRaRmRg0Cg+Adyt+-wd2ecxe1R5iL2BAbiNxWcOiWkZRFAfUNxoAzxXk5AfxXIXgZRfQNQdypAXGxAtQtQaAgRp6Gi8ikRLyVhG+aBQhdh+R6KhRdAxRdAzhvMjx2iv8eiZAYWXhBsNw2IwBfSxm3AfhXmqhJqRJL2yJaOoAdWd2ZBTBBhpBjJ-OT+qQNO9BURCYa+aJghO4v+8GF6r6QsBJMs7OrSOa7SOhopm0MRyhApcBcqLCzgbCypnOM+apKJ7+++NhGJjcIGBE4IGa+pQihpua+JTJvMlag62aaWHiFJ4sDqgQMgMyeILpMsbprSHabJgUvplQMypI1BnEIZjMQ6iBJp7JkZ-ptCOg2pdUHcxGM6vB6pyQH+1h6JUpGBMWCpnEdWMWVG3pCY424IZZ3AUGsZHkMWrWcpwsr+sQuhGpPJdoXmzZ5g4GIWJCUGNZPZnpxWA5LgLWsplGo5RB4sLB-08JRsy6uIVZ853ZBZ7eS+76QZOpZ6BWw5SZEm+ZF8MmS58RJhE+wJbJ7J4pFpJZmJ4Id25ZHknJt5eZpptZu2L5wJ4IjZHiU5QJ8SH21iXpEB45hmfJMBK+vMeC+yFSpuEFW5F8Ah3+T5VpmBiF1AlSJR+5s06KHOTp4ZxBmpi2wF3qX57JfhcRBF5gnq3qRAp535beMmzF9FQM+W4aA8HFY5nMV+HFwFLWTFq0-FEsQleesgOc9xBcpexcFeZcOgNeWZTApApa3Uh+CYayN+JaxAsB75tw9yeM+gNKpJ803AmOj2kmPpv5ExEKUKgMAFpGZlkgZJllmKPQPuK5l8TUkKRKvyWlbe6F42MgVk9l-lbaTlnF2ceMxJuiblBiMgQVaIoIgq-pYVoAgZwFzSrJyVreqVC0fp2K3AMZxhJq7K+OZKCq+VkFhVM4xVmVGZBl1wRlgqHMCGbwhKyZKZv5TODEAFss8qQsMV9U-VIqe2DEKVaFRZkpYIWusy41tYb5CMQqG8cq3Vk1Iq01fhqGmZAejgXwnC-cxKlYnK5KdOdVEs3luyYaKcXUouV10MuegBVch1+AxgFiUcCVBahQNlCYWEKc2uu0jYu+WsxsuIHKBO1CjIl2gRdW91Cec6zq01WESN9EIqy5t1CV+B9KCVzwf17MehIwKcMVKcQGeN08BNXZRNgYN4pNLVGyBKqWp151V6HhyNnQc6LA6w4Nj1-1gYHA-cu+RgHN4QN+QtYgItp48mPCWECNCVotJ2nNKOllvNp1EqzQktItSN4QAAPMCM3FLaoFtbLX6G-FMjquCAACr4D4AclCCvZDId6hZNg4W1DNClEADU1peKOsTeQo1iYtoAPtg13tvtxi-t-cgdptDaq4ky0yNtdttsxAjkfMYgLt7Wbt5S1AHtsyIdEdScUdIxMgQdyt4QodVkBdTWsQxdMdMtV5zJdt0k+BsuHhBa5IaaLcMidt2Il1K4VmNmStO8KtLFzoAqMmutNdb83d6I2INdhQ06R1TerN0NCqFONdzQCeI4l+IwU9rKswV+DdC9Ey1IQ9REYtNodoDdqO9GKwA4EiO9YNUWK6UN1VI1+Gi9ltm4CeVktkq85QSyJ2ntt9QKkYmqsYjYKcjId1itMGsYgU5W2KONSNyDVNPOaE5NzqaDmsfKd9dGZ5EiPdRAD1rcjNTI+mrdHu7dQRbAHdSIE6s9vdpD3mbKJqSD6NtDY9ioE9P0w9a8Ztq4M9lYxD89eKS9H1K9b9hOYIG9BEW9HhO9W0+9ekpQ8EW0MtGN5258SDF95dV9WQN9tG5Ehdgox6j9ule+ENq979PVKw2qP9NDcyADIgQDO8FqCB2yxjoA3WdiUDCVMD3F918DfoiDQ95NqDpNGDV4WD8apNoD5EV2tNGyTDJD3lWcBeslJeRc5epcGAKld0qQHyNy3yvysK4lD5xZPKeq4IxTXyxAK1DMYCnytyWsVy5S7ZmCjy4lfhvKUsBUzTJTxlBYsOwIu26YdZcwg1sQcwq4ti0wdZHI0zMQHIczLKdZGEyzKmB4azEzv5PSWzPSuzCzv5i+bAg1Zzzo8zDQdZz0ORvgg1dz98r2io1zJiv5DjyzDjsYbzhQdZNwu+XqLAhgAFALqgQLucKwvzsQdZXtWzsQ+g3U3Avg4tnGayPtLz0LMav5sx8LMQiLyLqLoAaysxoAmL6zv5cI3ADQBLZLRLaykIZLMQWLYzO44IwAeLBgSLdLHGxLoAYA5LezbLAApJy7Syi7y2ssK0y6ACy3WeJPC+K-SzvSixS2ywAISSiKvcsSsAhougCatAiqtCtgjgh61is6vKsG0xDGsnNst60Ah4tKuSugAOs2tyu-nsYWuEsuucbutqumvsaOvUuFDOt6t8tBv+smsQjquct8uFDhsxDquxCaXpj5S+Z1OtPQpxVI2AgrhUnclaY8CDP1PZsjPpuQ6ZulPor4AsCtQmDCx5srAFvIi8sbMlutODW9OwolaxhVvDNOZpgRQZsdvfKp6jPjZ1l7rCCDXTssusrvNsuQB0DegCIPPUvLursmzzsLswu-lgsMCwCQDLMHtHs7u7usumsHvpFbPXvnu7t1kABy5Aj7nLz7j72jScFbVI-bHag2yGHNTb0wLbvLW0yV3Av74737AgkH6hM4zqQHDQIH4bvTF4xbVyQzf7N8O0gRbyNaGHpbZTdA-yYgGFPVryiFuI1QumMopAdSK9rU5A1Y1mYCmgLOaEv77THA1CXTsK0TRQQyZHCIRQcFMs04WINjMjbGV1OOLN0j5K0aZSqWplo7A70hHN3AJ96HLTY7cHuN97hQSnIgKnBHWbzStb9bKsmnC7sHA2X8KN-HsQz91j8n3KmcoNe+YgXwPNQiVVMjAW8YhAkn5KQ7+eMlReclOTJcGA+TgRXVFApg4cIiMUNwpACSNu0130nem4u1wRJEnih9vZWQN4GXTyodDA4dddpdhb0F19eXfwpmymuXYCJEwFExNwq6NKWgnpYC-c3DryygygHeGQtcRgxyg3RLucPt+guRygO94IpRpQC3p9YdBds3BnzoC3gFvXwyMV2a-R4FO3JHc6gn+327kQ0EAtLgxdBd4IEIBd7X5ixgXXImBbp38QJsx3ZXsy1g4IwFZ3uI+iCgM3-MmX0mfDQyBXsy-qukJkF842kPoA5+WAqEJ64PY0N4kP4Qfeu9PhpBWPBr6kxQ8IK4pQNXiPN+4IxPjaQ1jsuRM4pMHwZUqXCSkPPaBgCFOdeFHsiPyP5mMQz+oaRFjpXCWPtgZES393PtAPTAZAwPW03qYv1d-PpRlXHhIBaQh87KIv70BPPtlKqvBdMvQPNXmPAKIPB+pmIdKPRQ8IskZEQaH35MkkoIg1QyEHTvsvpAGcymx+B4FvUPAPEImz2mu2CvoPBjAfx8xvcv4v0ixdAfpPsyAA5OHUMrd6nyj1vUPtHdV5D-9576TJHPoEXxK1dWcwJI1CwF3ltKXxt6uHWUIDO1ZMEGHQ5DpFZBaMWGHepRwPCA2tBKUEH7XxHKqxLHXx75ICukD54o71P+TCP2TMfDeBP8W-P0l5HPtS4Ix8x8oKx-BwxDWh4DmitGD16jhdz6f0n43xf04WrML9mkaaf45zEAWzv+sHv9QJoEBkf8Em4Md6fzjpw9BeV-BTHWWJ6Nl1etJQ+FdCAEqR8UhAchqXyXgrJuov-E-rANcwc94Ct-TqLANYZQN0U29IECuBpKgEX82vR-iRXwG0YBmx-NwMTBORxQNAJfUfigOYBoDGY9Ak7ubxoGGgMMRAxRpT02ZJ8sIW0LgX-2MBtoTkx8PwhIJzSMCAUjXEpLFQLD4F5uBzUQfIEkGKDhkymZpMQPUjv8WOX-A-iKlh42xAaggk7C-0vb6BjBn-b-utXkFuByevA3qCoVn7bNNwBgmhi4KkE8VAUYDSiIumMyADt0EZX8hALcZW5oBL+Pgbhm-S3p70vUfyKJ04gmwSAp-AqhfGDQeCk+XMQgF4IcYrQ-68yI1AgLaR3RMYZqYgF43Kqul6A3VF1GfzyFFCk+WMdoSoJKFXQyhhqRZMRTqguAuqoWeoewV5hd9tIZUSgPgAsRawBgFQGmB4JyGZCZ4mAynpMJ0iUVhA0ghgVMKyislMBT1K-CMPayADyGnJaoNxH7iTUWuyEWhueByFYQbcGNc8MBRYBXCV6NuUHJ8P7g7Ur8HwkQE3hiqAjrhpHZnKCOBErDSCkIv4e8N+GkdqO91F4XnCpo5C2wngFEQzQaFVxmaxnFEQtVJpPDVMlwoETcIJFTU1Y+NchqYQfjZDy+hZCUmR1KGzJieW-dZFwXASsxehqIzWNwAcAuM20oCBgB0WEAcBSAa0NQoQHqTLCesnkNzKkFAThC5RPmSHLCLEBvYERDAJEXA16hUiqa3jZJn8QRE71p222aUIKP6TVpRR4olkaTVIyuwiA5MdUQhnVF4Ngh+oRdG0LQwIMDYWEXINKJq74DuAAY8mJ0KMJZgkh6GQjKkJXBsQrussQMbAPIZpwNY5-EgESgqDPMRMhgNkFmPIC+BiYhgUkDkIr65ioe+YwsW2mLFPBlMYgq-OWNsFsZw2qYhQOmJZqVicxjsdOAhCMCBlbBF7QoJ2OrGkhRq8qOjv0G+TDi+x3AYcdrBLEMidy-4QMknznE1ivB9Yvev2OjTNjOM1QfRBwCY625IwBYkTGuOJBPABxioXcX5idi9jyxjdIAt2LTEyB749cFgX8mpDTVXxVAQlA7Cdh1w7xLbPVBMBypvi-xrYwCenDP6T1nxgkJPv6l97jjDxU4k8VWPY7OhlGcEgzjeJ-H9Fm4-49OFBLTHQEnYRhcYbiNxzaju4lIUEAqhRHyIrSRIp7L5nVGaiyRiIxgMiPq5LheRjEBMWxJvxmiFMsnfETxK4BcQqA+o3BnWN-FkBGAALfiC6IhEIjj4jE6SfxIomcReI+iBSSFBNq8RZxUkvid+ICaU8ZASYWoKUST7ggLJewKycpkCSdBTKxkxieECT7QM-cKg2kZhCoDuSRJeIttEKA7R0SSEhkySUxPxq+8imqmXiOEHPy5DVMbk0QXJKSAMBFJJtG8HFKvHTAbwbknKQ0B0nyT0p+kmrtlK04EQto+UiqZg3xpeDbJlkmdimKbwcAZhjASCZpWJH+9uWN4-1OyLUAmAvAXqRgJsNF57DUQ3AZAeFOQHMTyQjYDKYKhpDDpGQRUtKRlNYFkxiSVpUafQGs6DjVwM06kQmIWliplp5kxqRYKKAJZMgymY6l50kBZRIJJ0pFMOnZG8BPqVwnqC5PI6RYE+4gvyeyNSiESNYOINkN0AXFzTfMozVKKDLLC+AyqRo2HGBBxK1B9IimTIKfUMA0iZQaAokHvG+lrRGw3QRkP9Lng65IsSo7oOECW7E9T63QKWK1NADW0AAEukQYAABBcAOAHSIAAla2pAAADyj7ZAECDhq3VJAagL1ONJByrTiOJknIe9LaY4zvpukqHkDM+ndRGB0sq+CrPkleCgZnQBcDtPeDAUDZmQKWVpCczScExLMtmZzO5l8zBZws02ZIG1E4ytZlsmWalLoDTUgZkEjWQwDxn+lZZx8TAtrLoDrE4J2BQIt6F2GeydZssjSdNVbE-I3xBbRlIxI7wcZSsA0tJMNItnFguEmcyyCpnwlJAk5L-GQBLPBbGzToickyZnEZm98tYuQBwI0SBAAAGHjLshqCOQCkGQeYbgLKjUBBg50AeZfDbnaAgQzcieeOILp4hyZ4sGea3PHHAU6svcq0SERngoiZ5tSXCvbhHmo1VMVPQalhF3lDysoI8yPqV3ZGBBjMm88UKkEVjNzCZvmc+VzwPlmgoSfc9+UhRigjykondE1N2K1iOROgCSI4SuAFRKjMB8WB2ncA3nfCeRv8-ef-NTB2JpE3ouBVhBAUMAwFbABJIUN7ZJxcF+ChJOGLgFSIEBaQo0aQvAXZAB57IioBmNCCOoPYPIrEfjQGi7I6FBCrqKwwF4KirR-CgRUUAfrtBnJKIh8J-QiyLl1K+lOxL4wIjPZ2JYIt2T8jgZJzDRsihMCwFNHgRxwC9UoBZKjAL1mgvChJMpIiIsB3RGYFHkotCaRZg0-ktCKUAsVBinkOPdxZdEoVJZbYXNBRVmCSZnl3FyY9IR5FElBTu4EKURH8FuFbyMaScsXKxJNFAgXROow+JwoNHkgBwbEw1kGHVDyh8MgUBwIHRKl8QTaViiam6L2n7TTwWiwunhkXRKjTwcKBdngEhCdKVwz2VJcaI4nqLuJdDEyd40Ch5LkZhSuoLGFKClLS65S-iC8JqkxAqlpaGpSj2gioR7RfiyJfEvFCJLhlB6b9AOGYWpZUg70epUETuG8T4mkQflmAE6WQgoFBsBqfZKakHLwG0YR5eLG2UUihl2I+jFpI8gzLcQ60wgHuF-CzSjR0Dc6S8suklB8iF0xyRIqyCgqIOpIDyQlWinCLQVLim2JEuonaIPqnCOJSip4Dgqop3kxUXSMIAlik+eK4KTEqJWPBqVEHNkESNuWgB7lmKrCNiqR4X4-emENFQpiBVzLMppBbFQVKc5irSQEqmIMKvWniDtx+0lYOIOlWLLFQ8TZTM8q6J-dwlhTfuY8FnJudSxjIx8iOmPJWRm5jTIalAnelcIX5OQvwi-JiozzWS9qxcReV5J2gnVUPRvmwDAW+AP88iknioNoqkFvV5DPDuYmbkMLeJU072ZNLYEQrYgjYKBNPn1XAY7508B+X8CfkewX532XzMKtOlFRKUcq0qXGrLnEdFlbwG1SRVTUZYX5MqwoIdOyVGii1L0tKOpDsnaqEJiWOHiGg37kwXVnlJWIeMYCNrSMd01qY9LglqZcSsy4tfEUZm2yGAPM6yAABl0iIs9GWwG7kVVq56auufGvllXVFZbsioN1F1lJA1ZrsjWcTGblHrK1+s12YbMPWALXqnEM2QuAfXWyjRK6tdZuvAAuyZwd6ttD+pDk5CU5RnQYIyj9mzqA5Qcq9T7KbWxBwQzcyOU7HhAv84NAEk+RaoHkYb04-fCNZRzfX1yk1rFa7nBNTlUB05V4Zuby1KyRr01MaiSeRvxqVyD14G49fE2alNRjcpfDaZHC2m6SNJwMwSJBuo14S6N0wKFZxjsRQaUsmYtCSJljkFz9h7wITe8h40ca1VKwG8Xhx-UVrRNDcrHBE2wnkMB1gm0vmJtbGvzIcrQVtkCBhmrCtNocqzaP2tRnlHNDgfRSjMmUjxOE-GrWNZtH62bsJymHzR7FOEdlV+5msiTSNzUXrxQBM41f+OHykzPFPeEBHSMy3siPgwQeYeHPUUayZu4ctaIug1kpbjZPoo0L5mJlAgEN5YfGTVu8YprEgd8xNMVtbGIc9IOGoid0E77hzCNGsLzYVP4A4ght8ciOa2Ocp9tVMxs7gDeKG5TIZcxs8TV1ijH-LAiBWwIOmpK3Ky3VkMytt7MZA1qzwJFfNTkqEVVbiV3s2rQ0CJl+BGQTW3EPjJDltbfMK2zrftp60AgF6-WkGYNsWoEbZtCTHgBNuB1obQdUc-jmfIHlLaiW32mXDPLs2o4HFiTAFeYAWH7bgg6mzqDVrS3RrCdSfHHcTvK3KYcdxssrdNpipU7w5NOwufQDWi7ait02g7ResZ0abUckUNgHHKZ3vBGQK6+2bzP5lCygN5IYXVzNF1Ozt1WERbQYCJZrx+dGmoIZRtmQYgdVH6jyGToHmsaWdMwvbTPOo6lartqoqkMrsPVC7WZq6jdVuqYj-q7dcu1TM3MR28tLdD61HIFHBCa7yGoMd2PoGRgnRwtZEtLdYyD0FhA9KQf2IIzhWITvJyEycceOzEwarwHmsmIhhBjR7loEegOCHugmJwigN4-3c-OS5PRs9J0KPS9BRi2J+etUrNWjqmiFQIQrfKyOnsjiPNo97sIdj3OICExWYzKPiRtsk13jpNLAxlHJpt7310ev0ctIOtEx96iYbaQTTIJQ1wQWpD09qbOvibi8lE1IDfW1PE04M+Qay0+v6kL1IgUGFm3aM3r-z4AO+sydveuyhL97+JgRHqCYH4BrDZRCYh9B6VQXf6ihtSvSM-S861s2EfnahOyIcH79Oqhs-PXrEnCIMpNac8fX6En1+gP9Q3VmJpH-ZciZ4J9ZHL8p+on09sasVFhVJKGVhgDg4uZP0IZhUALlzQGA6YKAz98JUajA-TOoAmbKsk5+4yPFuglN6Jt4IFg04IGpt659pfQamIbMFvCcA801ZOXsMD3NGQAAThOC7InmBYo-dwy0M8Rnm4m7UfojrjcAfZ+GUIXww+APbWIhy49C4BvwdzRFQ4gwwWP0DJ9k+VkNAN4bG22H3lMimINoYX4NjWC2iwI64fXLUaBEXeFOdAWPguBSW2VOMcEvCMqHDDKc6Iz-W4A3A0BQR9kZ0H9WBrS0+mQrQgYk1XVBDGsYQ6awKMFiijDTSQzXC0CDq3efquo2pXkOBF-B8+6oIVBPBkBV4nCc7ixIc2MhkBW8VAegNcEfEZ4vR-gLdyODEbrtBgCEoMbXaE8JInCIWjpFEVBGIQsxA48W24GgBS+6yQqDEAOO4thOK4PYzL2s3HAfGSQliAOHW0zC5hXqHYSJlaA2HDOOw3HdWmp3072drJb4+DoHCrHJGJsDY7Mi2Pcp4QARoKGkbcPghLjhx42YIE+OiBUTBxvyI8f8MRA2IW26YHsZRPYmTjo-MjMilzjYmcT4OoI0foU3UaZNMTMyexgXp3HR+GE1lLgZvj4GS+GkpbdQdthEtW49fGIE-v5P77+406rfQBL6kRibUWOrikhmGmGBHIXeOYz1UbCtAxjbAiYxwKmNHr5osxugOcdDqLG+UUDIJmZNx5lomjIWzk60EbJcHZTRE+U17r9GF9OTPJoWHyadO2xrT08QU+Qd5aimpYt+pvmHSf2DU3Y1QIdt0cE3J9Nh+gJVQAB0sAxOpTW2jeMyBggwPc-WS0JZPI0Inh2ZBCeMDVQEznJpM+NJTP7T0zmZlhUwFmG5nveLk-3rwBPDHwegWETs6AAABeaHUAOmYE5ZnmzPyPM2QcLMDmreScUs+CHLMNM0wqEaaNxSEBqmu8SZsczmcnM6tQ+bLcgGHRYBh1lAYdGdpMGT5pg8AVZjPVuabM7m2ze5uwZgSPMnmzz-fec35CAA')">put("and", "evaluate_query", conjoin);

</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:teal">form</span>
	<span style="color:blue">expression</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:teal">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:teal">
      figure <REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure <REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:teal">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      from section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>
      and <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>.)
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave-delayed
       (qeval (first-disjunct disjuncts) frame-stream)
       (delay (disjoin (rest-disjuncts disjuncts)
                       frame-stream)))))

(put 'or 'qeval disjoin)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPJSBhiAUTRcTeAArS5UX0YgAA9CDCKi4njQN6vSTIut6sIwqwDiPKqUgPgYNqOvGvqhMGhJAzmFbJrOaaOo8wIFqWlFDG2tbApvHrVqmmbzHqxrmoYbjDHa2r6DOgbApGjIsiunbzlulw5oW57XtMD6oMCra-rTAH9vMQ6Z1BjrTphz6hpcS6Jthva3pcGoxCoWoGHaMhfAh8kof6QYYZu+GXEIQJuO5LQKbjDaXGh7G6bxwRSDEBQ6EoVHsfRjm-zOqbcYLalKECcgFAYDQSBEJ7I3IXxaiMNkKjYDXicMUkxYTb6xsMPEphmLj1c14QGENp4V2aLCtvN6x8NXJ5AQAPll+XFeV4hVd1-XBg+f2EO193jL0tCQ9t+3SRxwHPKFsgOHIStiDVvXbe17h44No3IYxzzUlG-8LZXUpC7th3LaaHgNyGamo492MvYBX3qi0UgM6znPQ-0WvE6edvY9iTvffD-pFaIi3+XCvBAcMUA5EUCAYHgJBUDQPE95qmXiFwomjEoBRKG4IPKyEr7UmMNgZAak+aDoMQz4vhurdli-lOaEaFbEA-pQL+RQFL4AxFie2vgFAsHwAuXCQDDAwLgQufAT86CAOAe7FodAb5-zLotegHwhBIxMHrUq70Pif2UqUY+PxjSkLVsoChmU6DAKvng0BqxCHVlINQcUzDWGdWoSA2hLRTwMD4QIv4QjyCUPYaIzh+DnT-1SBaagYg6AKCDmCUR3DYh0MkRorROihYcNwSoxUaiiEiGoKiH4V1DqGGcNg8R9CFxvG4g4hcTjiBuFcUoyxBiYg2L1rA4Q5A3HOlKPFbOgMtwKxYJEhg64KA6N7qdfR48J4xHCck8gDA4HCHJtkmOV5r4hNADY4wpNHBIPPmImJEifi1NrPUowbR2nKGziQrQZjhbYOUVUmx7APBeGiYqIxPwxnKAmUEypBD6oiUmSsaZC4VkLK4Us9RhBCAghZoExpVTSjKzYOTDxHRWaAwar1ZxRzP7DJybGbcM50FSIYqdeRYgsnHOGSMlopBzIWJsnZByzlqS+CFuQbqqcWlniJr5HG0tOJnPJsibg3z+qvgHPVRm1AFD2OoAPBJyJJgDRiIFNFqT+GEpoCS+m+gMV8x+UBciz5-i4tSLkJq+BygMFJQ4clUEYjvn8RkIqlzT43OKeioVzzY49S0Kra+B56ADP0OUgiNy0mAMyUy+VWq0JYoVbkte9MGp4LVdo3RBq6CTDZezE2qQRIfLPEAw6EqqmGPWiqN1tZbHKrBJ6tgTTYzNDHBqMMFEXyGjMsEO1VlbL2SckDem7JfAkDhWi6qOZdooo8q8hg7zEEiz6sMilgUHJK35mWpYUzQAVzks7ZuUrrkHgWt8s6TyjXAlBMWp+pbRidtrd24JyKU4eNsd45wji7n+JcVQxpFaS7i3qnLWsXUX5AK8bcxmNKtbZPHcZdZVyd30Dtk42xvzHnBOMqZbd+hd1Xs6Hov5wSpaTskW0oOPTgGGBXeSLlDUmqUFxD+jpoiJgUtiIFSNoZyQxs5cKfQ9U9YLT6Y1W1UHhUx0Cm2oBwMZyYY1ThzglT-Icpg6K4hAgiP20af6iUoAY4EaZR24jzB+nYcaWEcjXCmKChQ8sjGTH2PzU4xfJjuHYyBXo6IpjgmcxUZFdMfD36um-qAb2xGDGiYDJvcLd2FGVxsXzY2BwJiNSMino2n6JwC3mCLe8yzAStFa0wTo7FlNS6myyJ5-xBjShNpWC2g8+hXMuPc8Ibgzmn6Rc0RqfQN4AsTARGRFj4UU6GG5IwPlZCWHyLYYZtawGIN-v0WtV4tGf7C0ZOV3pXGsNCxK0pylvnUgPTA-bTTkHePev0nZzIMc1h7KDmHXLxb+ByIUadeTTXSP9ejmanLQgpsFeEc4U6cSet1L-b2ieumSO6MM2lx1oAkPUbvte5gQsZtsNWX6BSoIn20aYRUQrCjoGwPgdggboTeHyJkRwe7Ijjm9uezuaRgiPubaysgn7-5jn-diM0Cu-l81fpmVyeZy7gkDUbLKxksyvBFPwCU7BTFGzdj1PVyb+XQdbf0LK87FnMFuY1KvIEcWGAJei7ebkepzvqZrKfWVprphKvG5ays1qNU04A9KKztRFeVInemqdmy8eVONoGHbrrEGarQmx11fiAlLseQdyXXD1e8ynVZxbF9APVfeAIRBjI2MO90WJo9JnChWe+6gsTXu7sI9QUMqsDFhlMUCogz9GvJHQ9kbDorYOnf46ggHsP8CxNJ5Bynr72ekeW5WGxvP2cC9sJ9++ypCqTM6hiI5lwU7GF3cr2ny+GfyRZ5QTnw3reNup7KkXoZK42MD8Z1lQ3vuuF14E-m5e9NV7ryUFAOAiBkDoH3sSQ+nF6oPyfm26o799G6+SOXXgsCyDYJiAAH1v8Zffctj839APfx-qQ4HwP6Io45b+H9+h+aU6Y7prrrkBiASB2yvIWKUB9D3BiDnQdapLNyn4ABkqBvQrcp+4k7IcBzAYg8evMACOiN+q6zq8BkBDA0BQS4IAW1UcMvMReA6aQWCp+ZBm0rcREyOhBMs9UIeb6n8VE12+BlB1BeO4I-B9BTeTIiWAygev2bBywVMIwN4W0XBn8DqPMMs-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-NhC+KdKxKaVeMdqalEl-10BzK4IKzRKWcYNBz9K2cBK+yzWXGriZKTlhpZKyKBUtKhz6zBYXO91wDRQ0B4Icwz1sQcwq4Mjnze5HIvzMQHIALzyXzGEoLTcB4EL6YXzryMLry8L0wXzfmz1fmzogLhQXzz08xvgz1+Luc2LkLe5dDoLdDsYOLsQXzNwsBSsLAhgTF9LqgjLq8KwNLeSe5tdMLk83U3AvgHtvssK9dxdoAXL7z4I-xfLMQ+gAroAQrPsoAsK-xirMQkrXzcI3ADQ8rgrwrKroAkI6rErZL9FwAsrBgCrSrXchrYA4rmre5AApJa3q4qwa7Ck6ya46-ReJHy26zayK4g0K2awVQAISSj+vWseugARtAghsIt7mJ2uvRvKuwrJ0xAJtotJsAiysBsxuJ1AjuuhsQjewpv6tpugC+yZs+sFXey5s6uFD5uVv1s1slvghhuWuGuFC2sxBhuxAxXpj5Q1YnNrMCoWqS2Agrjal2ncCjsMpTPDuu48BPOnPjuDX4AsCtQmB1YAjTsaB2rKtQurtrPPV3NCoXgxzzsvOog7QRQjsnsDwD5vPQFfPwbCDPXvuSuyO0t7mQB0Dej2KEs6v-uAdgbfs-tSussMCwCQCgvQewcQc-t0tUBstTEwvQdTFIeyNfMABy5AuHlr+HuHMTBES7VI17N2TCk7e7KwM7wotrW0+1c7j72cz75HAglHE+paU7dHB7DHvsdzF4K7BKzzVHLWaY0h1KlHgqdAmK-MANNDBt1K1QvOMofcvg3jrUmc6wyg-CmgHzq4lH5zHAAyD2ZK3TRQ3yinCIRQAlMs04UCVDGqd1ptl65tvjYIRqgcIg+gMnE7VtqTuSXH0RHT2H-uY2vn-nG7W7O7iuqDInqzT7oXYtlnsQ5DYFOTAyDzNW7NYgXwLAjiHn1D9W8YhAWXtqkni+UzAVq+W8G+u8mASzbwcsCxM4pMHwZUNwpAEy5ev1F+V+m4sNbRfwDq1cSDel-R+DI3HADq7d4IDAO9fsfda9dpk3WQfXkwTsE3N4m3rFPKNwPWuqWgFZK9rKS1Cxygl+GQp8RgmKygygBrq89d+gl3iD4INdpQH31SHdi99dl34XzoH3zFZ3wFKcBZTxFpZ38nPyMPB6kPzw0EwzLgB9Yg83EI7dB3hSxgx3WsM71nEPYGMP0GW91g4IrFhPuIvcCgr3-M-XaQjj3yQWSxFcukJkhC0BTPoA6BWAqEqGmFWQN4TP4Q9+O3IRwvsb6kxQ8I43a3XPOB4I0vJ6L1QsFApgJMtYnXWU3XEyTP96BgfBFdclnUXPPPGWMQxBhGW1IZKltPCBW3ZEX3GP9dlPTAZANPW02lwvm9LG5vNdS3upGCWCSlNvriEvu9q4-v7drv1Pa3Qvo63vm9vPRQ8IskZEzs8QYGOUoIz13yLHkg3W1PW3oWyzzcevayK7Bf5M+zG4z10BnvdPeDWQwv+fkPbvpAgkvPNSTd785f8kSxAA5Et98vN0P138t4fXbzLa76TKQOTLP0q5jZZY4zooN2twv4D6uF80IB+1ZMENvQ5DpFZBaMWNvVFRwPCA76UJT+v7WHPzgjeBv634X+7wYhn1X7f2TA-yEU-5X23xv2dRcDadqwOWfTjOEQQ0oPAC6FaPT1kqiV2EV0ZntvyN7wDnqIfAsqGRgFpcYgM7YAbpzAEQ1GYUAtwMTxgHF92elvGAeNy+bS9DyfhZggFjIHbcrogA0AAv2gTQpuokAnpG4BgEDRgMcAh7IgLya8MAuiORkCuED4sESC6A5MggN6iPhYgjzYgcYDthYo4oB7dgcgk4HcCF0pA4QUpjkxiCymCvaFuNxditwiBPA1QfZT4xi87QVghdMTCxRjcS+NyBBgryRbmD5A1g5wbWm27uCgmCvPAaAOoCaAmMbPK2IzWMHwJsB7zEIXpzCHgCGIug3gQ3x+RkDXB7PaIYNQYYrsVBfg1lJRkjD6hgMjA4QTBkCg0DnqUg8oQoPOxcNDQ+GXqBji0YywwMJAPgUvzxStoFB43LmIQDf6ApgUV0RhimghTKU6omMTNMQCqYbU+yr1C8ogKWo9DwsiA8bljEGHMCCmowpYsmnBTN5Q+d0FwC1xOxzC2hqKNwMWDKiUB8ARSbOAMAqA0wFBS1DoUAmWEK8T+VULSsIDUFXDtIZUWVF0OR4TdThSw+oawJtLVBuIb8AevwnFDW1zwS1LCOXkRGMR5h5gFgNCO8bl5mc2It+HdS2hYi7EBI1isSJhGQNDc5I4-HdRvDUjSRGIlwPSMgaqcg6qIuRnWCX5thPA7Io2qxTc5wjgcXASPO6m4BG1kRzcKESSPfjsifqYopWqwIyLyJgRjtP6gUR3C7DFeUhQUq7lIQCJWYuwoWtwAcDFM7YfCBgNcWEAcBSAa0KIoQAuQvDuGnkYTKkD4RkCLGLuKkMyOJz4iWRjAJpr1HlEa1CGjtb0TgXfYuMTRPVM0fIgtE79rRK0IMdIwCYvV7ReI6UWJmZGKDOGVGYDFhAqFOjHaWEXIGmIGHCcSx5MTYakSzA1MRG4sFgaZkQwgiKxMA1gTPAVgCo9Y58fjg4EPJ3UZAXY5VAxn9hnwI49HXsdSEiLpoBxVAIce2Jp7zj6eP9OWLPGZ4hYKBacPuP0AHi1xDOKwV2CuIVjhdbMM4p4kHGHGzxRxs8SOIuJwqTpuoyqO2EKGvSggoaM3YUZEk7ziioIhOX0T6IzGsjBGvIhUSCLDFgRViGocbgKPZGfikxfIbbrxF7iMB6W-EZkZmN9E4JYJHIk+gzFnFkBkJIUOOrxALhUA4J-Y+pgrxkBJhagNdcbssWokftmB7QToH51IlcQqA4Qcbnw0bwl8lRmEDiUF3-pucGAz4ykK+PMTET2JX4pWtt1WH8S7C6BUvuFk-HM9EJ+EhgChLjo3heIm-Z0DeBUlxDFQakpIBpMIlrcdJhkkBltAMkJdtUStIYfRL2A0S2xx+DgLcMYDzj5W4tZuAq1swVwcJKgPoHMiViMAvhJvf4aiG4DsDJJ7A78eSEbCaTLqNIUNIyGMkES+IcdaKWxLCnOBuAtkgiLFJAmO1EpIaNKOpColOTGJFfdcSpGpCuTJA8OQ8TTxKnipQ0AU3gBHWhE9RWJSnCyk-jO7mSOJAU1KBeIVg4g2Q3QYuPFJqxvNUo40ssL4HWqO0uc4E9ULUEGwVwfuhgRUTKC4FEh0EPUtaI2G6CMgtoOkmPEgTdHdBwgX3aXj926BSw3JoAHOgAAkpiDAAAILgBwAUxAAEo51IAAAeVw7IAgQfNXGpIDUBKwIpTONKWRKWodSzmu0nqUhOZ4jSup3UZwTDOIQoz8JQwkaZ0AXA5TiErFAmZkGhlaRb2XsJfq9PelfSfp-0oGSDNJmSARJu0rGZTNhl4Skgd1EaZ5IxkMB9pdZNKTggkLYy6AkJJqdqJTjeg-hnMnGXDOwlLV5xnYqgDOy1SfjL8PsA7GoBMCk41sxM9hJrMshNwzxSQMidgMnoZSKZ1whWdzLk7YTkUT08-mxx6onEgQAABgcwpwagjkCahkAeEoCq81AQYOdADlEIHA7suIOHNyCRztA9dPEBdPFguyI5m41ijtl9kfJ4RfwQUQiOjkg5BBMUEOd5PCxai52zcFOYXLKghym+uc0bneO-JBw5a5eVINUGyAByjpNWSuUHKLlmgeSfs7ucJXgEiTQ5TEFOCuOziOROgEyZYU6OuxujlhMcWJBdUzm4jdhg8g5MHNTAjYlJm4dYbGGv7NwJ5DAKeWwAmRljdJhQY+afImRVjyBqiFoC0KbGO1r5089ubN1YEVAVYoQYtPIMID0Rs5S4JWVBHHmBBJ5b8zkcQxdFZyuoMmQAuk2Ykbd3xV8OBVeAuhRUkqMcRoQREJz-iKRbMgVII2FF8idMpcFgIgwjG5JSgVEqMHvWaCvyz56Y-BVSOzHahee2ClpkgXzGcSCIpQBhefNbgPh-87IMBSfLfmXR75q4ZoDQuMDKNn5Btfha2Ps4I0Hx0uZ8d1QCQ5zZRnQeGT+JqxhjGSvoghWyOQXYSmIA4b0XGyDBrTIIK4ODHQBbqmSMpTCnEQxBcUEi8pkHWIKeDIlHBBJl2YDG6NPDCoQGeASEOEpXC-jpReC7xoBKwQ+KzFdishX+KsWUKns0oRxZpLrlLh8pMQNCVSIwkoRoIqEI2jvOgmmKElJCnMSUOQwGAv542VIO9ASXASNaytMJREpWCBRHJtxcnohlrFqZS45SwBcKMqVFS80FwjyA4EyVmTCAe4X8HFMdp8NKJDEyIf-W6U0SmJHQLILMrnakguJqpWSa6OVGzKeF-fYSeovAYuIc5OyngPMpkm8SjlmEI2FBNUWqwLlmix4IQF-A3LxRoAdpZCEOXIFwsJy7nhgTkl+c9lFfKZWvScX8RtJFsSyUUG0mkhEVhQaFbiCyVnSEVuSxUGdJRU4qVg-Tbbuso-aKiXUAcs+ChV6mEVCExFaUlSqsguywabwFhB1NcQuzCRt5d+Uo0ZH5zKaC1DlSsIF7rcRVHKyRSUCladAp5vgSKqDSGGGlaIHchudowrq4hCkLs7lVFLv64hFZhUjWgThqwsIf8-shkECECABYs5Qo1uewg5VU4as6KpKRKgkGrgHVWSrKWbLk65KWVZ4W3karWwcrUVDQPVdIyTkJgHVpU97hVJ6XjcapjcAjBrzJjcqOK5MP1YwADW9oIGbkxqSOPDWtSTCj0yQM9LekMBfp1kAADJTFQZQ2NgN7OnGQy2WLs06IrIWUG1EZbMioN1Fxk8zxu6M9mXbEbVdr7U23MmRsgDmnQZaI6k1f4mpkgjaZJa8tZWpZkzgMZxMAdSLOVlNSlYkXQYFqj5lNTUMu0wWeWAOkizA1KfF2ZLP9jwhsBe6kcWXOBoBzL1s8S-qwOpRrr7ZuikESrNPHqy0FAc5VgdmpTqqKVLs8uR6otlaorZUM99eBsdkuSmoIOBfvoHdVIS4Jo0wSBuojg-qD2K4JZb7BjgqyfOdsXcbLJtkAicZKG-CRBq8UrBbMb6sdchu1XIFYN-TBVBIyakBT41SGhfmhsXEGrl2rQZEIyDmlvDGNX-KyFxu1W5oDagmhwBQvAjjhxuLiBDdnG43areNHG7brJvYRgjBkv-djf7ACn1QMZ4oQ6UKuHEv4zpQ04RXxMGn5rlFHkD4MEAeHiyCFGM17uLNKzQKTNOcw2agopA1YTpQIAWULI83yz7UhDRsFdyBTe5DZ6G3jhPFvWXjugx-cWU+oVjSaGghUHEKlvC3paFApVWMFhENncBbM0W81TODi23jihlEKCOcAYIOdbhgQKdW5uRmCq9Fy7NKYyG9Vsr3otqoDN5t2mmaRZeTGjMuyC2pwO1R63ECevtkDMxtVIcrd7hTnziEtscJLWNJS0PqOA+WzLUUGy1bbwQF6+cYVr9BYRQNBgA1ktruwraONDQ-peRAc3mBHhLW4IGRvCnhb6eGqvzYJIlUvbvtnm7bi9sNlhbbZEW3lcDvFmg7yN9qAaE5ua1xbVO7mvzXauXbwI5ZYOt5nOvpl-SAZwM8AExGx3fTcdTMqtcVvFmlaDW6O97VtmFylxwQGIXpQ1tRS-Cp13KtaPDuzgpykdbWjuajqpDU7G1jIOdaWorUE7yQIuhdWTorkBzKdyrQXWOrp3iwGdXgJnc13oCtR8Abc46KYEVwGbVx5m7Jjrs6jG6-aVsfXQrG25tQtdNq-xDOFN2vY6AYMIzIisk2Jr6Mxux3c7r4zJ8f2FuwSMimy0SERA29N3XP2erW7qgknH2cQEJiswTUHI9DXdW-Vdjf1q4PDb7v7DCqw95MAmETDthIaXBZ650JmoakeT91-TWwObwlWl73J6GxRlXtgho4foKEBoP7pxhB7D+oe7dAmvD3cA89WgaPRrkxlXcDRjokEWxgLLMxT4iAzxRPDy4FciusuaBkLACkJCCB-eQmRpsM2ThWmm67De4z9AZ6-QPUEwPwCASaRbsNAU+Kg0FxsA4JZ676mKOFa2S6GT+37T+1BTjDcJbueRM0HX1JCIhWQhtLXuzWXjSlfoZvZkG6bt6poQegA+EMQTd7RcWgXvcB1AAIHkh7qSTglJhRPQeIJLIEAAE4TgKcYlhrHr12MyDBBigyrPsTX4Pg-e0bc6IN7CqPg-m6pZRAHAuAcCHs5g4UHIPkwB+A-KyGgDEN7bODsaWMIIbW7sH5tRQQQ+hpEm9wrxHYrgjghcBqsZqWYeRTEEUN0GVDiuG4FwMEMBSpVGsWVRfq0TObt9Bupfv7rgP8AIQ5hmVUwAwXIGEUqBhfrnzYDSrLDQ+3mI4LcBoGD1hUE8GQDgQuJwO-GqkK0EZBaCoUzALgUEabXyJjAoR-gPNyOAvqBtBgLkpEaA6S8JILiL2jpGYMyHpW-xNVikbYHarU4hUGIFUZla2cVwMhmftquQ3HALsKmFiAODi23D7hSsX4VrFaAcHYg-28OW9pB2Q7wtyazo-IYHD5GvGYGIo0sRKO6J4QHo2IBUaaNVGmQYOwQMMdEC7GqjfkbozUsiBsQHtChmg9XxONqsF+g0ZKXVnuPNHCG+h-dQRs3Vp6emFE72HvXaOJr8pl+vUafFaAP68jz+5VjfEvk57kNh5eqXXs8n+Tqx4ypZvRiECGBHI1+aoIVE7kCb4jTG7QUkdSGpH5oF+ugA0a3rZHFBvDRphRIm5wnwTdUt+FmvL0jiUTSuhmpn1xBIaQTQsfUUAmZMCNAEpWysFCdtYwnP5KQTXW3ORgnRbDR4w3Zl3lMFhh4MplGGuJ+iyTNx-cCvDbC1hao4T9GVU2CFNN2D29reooLZlBg27h0SMDUydHVMvRNTVp2OO3o71OGGdpADw2ejQNEsZTNuyTikZCMD8wp+gGjQAB0sA327dUwDuEyBggNPCuIK31bko0IIhpYkseMDVQQzSGsMxFIjNeLozsZ7+fGYFRJnWJ4WXgCeBwQ9AsINZ0AAAC9hOoAaM1ZzjMDHEzHfd-T0BbPpm9ImZ8ENmeIDVRUI00OypiexObgwznZhM5WetaxY9y5AbeiwG3rKBt6H7SYAPzTB4A8zHR2c2Wa7MLnUzkq1c+uc3OX8hzfkIAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      <kbd>Not</kbd> is handled by the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (stream-null? (qeval (negated-query operands)
                              (singleton-stream frame)))
         (singleton-stream frame)
         the-empty-stream))
   frame-stream))

(put 'not 'qeval negate)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPI+QJyAUBgNBIEQGAqNhyF8WojDZDqutqBhDFJKi4njQMUjSDJ-zxKYZi4yMBuEIbiSeFdmiwuZeusfDVyeQEAD5qUoBqmpa4g2v67rBnq-omqI2bdr056iiuwbhv5c4OI86otFIDhyErYh2sW67eu4N7lo+0bAsm9JMm2ldSkhla1pWDaNyGfobse4zCn2gEjt+sgAaBkHOrBlHhqeJ6XpiAmjtuxqEO2z6aoLY7ToYGROsoG5sWRbgwhh8aXB5qgtEYJmFCME67oYfn9EF6k2e+8xxcoSWhrlxrZdOoSxoSCbUnh-8dcEpHQFN9bPLoP7SeByH9DxrbpZ2vGGdADWtelvX5aI83JjTcK1ZcQxqjEDhKCy32AA8DcCrDY+4T3TeDnA8FDwwvfkJQoDgRBkHQPE0DxdnOOIXCqGIWWFEobgLsrITYdSYw2BkBhK5rdy6DEWvKDm+SYg+OvlOaOHGprkeB+UhT8AxLEht8BQWHwBdcKn5fV4XfAO7oSf+52lo6CbsfPNSY0hBnCplE60r6EP2eWlPBhL7tkHb-Ie+6H7huT8HlS58GDVlINQcUH876ZR-tPABRRShd3Xl-MBfwIFfygb-Y+p9nTj1SBaagYg6AKAumCGBT8EHNTcPgwhxCMGN1gasIBbxuKoh+MQWOhBAiUIfqQ508CX5MOoCwhcbCOHEC4dAvm9dMH0NiDghgnUV7CHII-XhoB4rA1DluRqLAlEMHXBQIhf1DCH1pnTYE2jdGr2EL4ExeMrx0LPpNYw7QLrKCnpImRMQ+E-GcbWRwU82h+LcdrauRC7bGJgX-LBio5HsA8F4FRipvELjicoBJ08omeNAHIkSiSVjJIYLkjJ0jHG4MIIQEE3JUR5KHi1NgNiEEdC0ErS4MURGcPDtwjxmTTGxm3DOXewCGLGK-mICJ3TpFZNMqQcyGCbJ2Qcs5akvg7bkFjrbZ+3ctC+XTlgUOghyn1JaXQbgozhavgHJNDh1AFCCOoGTTRyJJijRiIFOpuJrm3JoA81pzhjmnNIGMoC5Fnz-EuRfRQhB8DlG5r8h+TyDYxHfGIjIRVGnV2OQWBgVibFPN6c9NhktlqNwPPQMJYI7EEVDnotBhiyDGLxZStCZz8VmOpSS+Q1C7bHKDkxV5osgEiSGWeGunDUVZNiKUIVG9X70ElmCMVbAZ6rmaGODUYYKIvkNGZYI-zQDzPsk5MWcKXCUF8CQDZ7zqo5jOOXDy-SGCDI3sYkRhhMkvMCg5ZqgKXXsKWEkq2005IYwPPodFzSqikA+N6vurqj50NZdMB1TrhmjGjWcsNfr43-12fs8hAihGd3YR0v5xS6EiyNskVIJ1axhqrs0phRaOF6MCDdCZdCJXJKaTXRt7TZXvBMSUv0pl609voMS4tzUlWDroWFO15hyG+Nce4uubrpGjXBZ3BQmhcRLv8f3CYLzYiBTVaGckmqwXCn0JNTq0aPihJodPQ9UEViBXDTXSNd7mBaHJQenas7z2gqPUi+gVJP0zmnsK2sjI8bvqVgeL9D7uVPv-f-PlLor2TWlQxeDUaIOSKgw+YD-oBXge1nXQj6GQWRi1bGN9L891uOdgRTh+GkOUHGau1DTcqOgDYraiKoGBAODwQQ2ojJU7TROHsk1wJQSOo7iJyhYnBj7yIec8kLcpoIzU2ImRpRrbox4JjJT4cVPcGTYp-eymNT6BvLpiYCIyKgAE-sww3JGDQuviYSBqJOMDw3Zh1ugTl2H0RbERsT7GSMeBven9xD-PAuEgKyaxBt1mqGiF-dKG8YGaDbGNY5SLo3Q846-gqDv4MoQ2x+LyHJETETVOUrXmKtQOMeozLLj91MrpqxkJtWON-t5YBmj0Z0xabft5z+38amqP6foSbrWYqGC3mvMLlK5EgOQRwJbpaPE9YUqCfQW3wE3182VFbK81swIlU0QNmR-Kudk+Q1J6TJHuqgo2HFjJXvYvwNYw+TFGzdj1NF5r5WztoL8-oHFSWVBCelKJjU2cgSWYYKZqhPUQdhCYvRrZNccWNaKIS4rncT6kq5WCbH3AMcqbXR2udMnaoLpfkU9766oKBQ69hkVzH7GjtGJWptJaul13dmY2IDOnvM5cOQpHv6y3-1Go2DejI4Py+IYRmdaHyRI6XldxBvONfv0u9vQdG9Mm44FRvRneaX4nZQZDmbium6jT16bteWuHc7ad1A-XZvIkrjg97x2PmodlQ3trpu+KAM6hiEzjm+ahNX126LqR5aoLu9W4b2ti3ffLez7YlYcG89h+-lryJ0iY86-CpnE12c5CKAgDAeASBUClzQMSedVbMvt07vWiOh8K0JjhrwFeZAh+gAAD5T+Mk4k6g+YExBn3P1Iq8179AkWL6fs+-Sj4RjA23snJrMDEBIZa83imUD6PcMQCcUupCwkvgAZM-3o2Mh-iXZDf0-R+ZdAN0yH05wf1v3P3kSO2KXBF02qi+lkw9x3j3gPiX2AMrXfxGADjF1zWP1wRswVw8Soi01PzAMv3Z3BGNx0nTn2XIP92u3wNfECi2hvEYKTDC1Vlk2oMj2QOWAYI-xvAwIHjZgT04kmlL2m3QS4OPRAKIMGhILrislEPO3oBgKEI8gUPDxjkLwkP5VQOYLtF0LNkwLYP-zUPL04LoO4IFX0LsxYJu0oOwKGVAVOzL3EPMMkNQJP3IDPxkIgNIJD1TzoGUP2T8Pzwu00NcO0ITCsKsNsLsP-2COcJijMO33oMsN4JYP4OG1rzAAADFIAAANAAWQAFFmhAgKlyA3F9VqVgxqg7klDQBHJBFVB9UFEdFyBZI8ByAZA-pv8Uhz4aQwVs51ARAOBhBGhpBehNZCBDBGgQAxAmjaQ0BcgFBgB3BEg3EABaCogYNLXwYAAAK0MA2MME6l7mABSAGMMGAAADYdBsA8BcjCiSixoFB8AgZv9-hXsc4m9WjLF-tfACB-EPiJj9EtIGiKBpiPjQBvsvJyBoSuQvAGi+gaggZSArZiBahag0AVDzAb0LFlEtDDYR9q1PDiCfC5CqiTUQZvQ6iAjYiOZfjyAaUDFJB6UgCLDUDFZ4CFM0hJ5uBoiPEjCGT8S-sAdCSudbhgZXssZ0D0ibDBTBD9ksNRZ2S3DiTQDvCdxIChU4s0tiFAjZMhV2kxFOkt8AsUidC0i7Qbs-8OYRDx1aTWFi0TS9tkiOT1TpCL9ySpEetwQC1nAnTRFxEDTjDx1hcW0epxSBUHVAgZAMFZo519le1J1KRVSIjAwYzKgMFSREzZNkzm1OgSFwiiSMz5NYyMEdAsD-8nEssmMoz3CSSvCvStTSCYsQyOYOsYs-0CDoyjtwQ2yhZ6t6TOIYt+s9TwkgDYh3TAwBTMDcz-8yNdS8CuMezLSRgUN5yOY+slyEtuyLSEx+CcdbUlTUg0sd1OsgkV0ONm4QDTY-1NzhDUhb0atxyiyVz9zjZtMshDzFT7DpTCSSye9PTwCWyKTwRXt2zOIOt-zizAp5twKETwRByxcHyPJfscU0z0yXBZyBDbTHzmpDlqAqlXTzTpygLSTNS3ypEyDCLiKlDhyPJ2VnTxFMKeDZTrTBTULzAM16zIirTvz5TDCuKXAvUM0iANM1TPy7zxKGL1ZqsY19AZLVy+KRgZLhKxp00fVFLpibzUCbw1KBM68ZcG9c5m8C429i5LBu8gEa0a545h9Ax1kv9bK8KPIOtNF9FJ4jFuBCcOdNNeydw-TIVoU2pQ4kKetPK6Uo0fL-jLdjz7DlioUYVHl78GyNTmywQZB5DgrkqTVILGKqTIrWSo0lZUqExMy4ysrQAEz4qFyqSMKZAyrSzo1yyqqczaqOZ2VydOVf1GqHK0QyysyqrKzXLrhJTClRYtc3h5UmqBrAqedawkL4c7ZiFZKe8Fqa4N5ZqbKKKMrjsGIrINr8rzANr+15V9qRVtqrCtqqzE9HAvhw5e4ydKwKdf0M9-K9KWDY8cSxZ5K5AD53q4w1zBhvq817r8BjBsVcUWSPtCgPqEwsJ-qiE4rzhGxr9gYzyMsOUyViFGRTZpN9l3KWSjBs811nVtqn9Sb6IRUjzYCFyWSaC9QlYWTng4agaVLBgkbGIOrOIubCMGUWbIg2bJLTUWCubbqK5Y4iVnrXrH0qaqxOg10WB1gMalcUDyqLoxBr8SaDdhYv8OBe5tbTx-VVEsIiakD5bjaj5lbIaHFh1gRNbtb4DhYAAeB2w21QC6k2v0eBGZXVcEAAFXnjUSEABNGTHwSybEItqGaHBFAAAGoXMzF6oI4hQbFnbwhE6lq47E6esigU7e406vbJg7FplZlA7g6ZBiBHJBBAUI7wko6KlqAY79UE6k66YC75iZB07SbM79UrI2687ChO6i6raJb7V55pJGaK9s8PtyQwbKx5F55sRAbpg3MPMdbt4ybFbwtks0q7yM6h79JMEl6iA+czFXEHqI4ZaeqaEO0j7mh4CRw0Cbpe6j6vEX7i737slqQN6iJe6bQ7Qx7eMWJBQr1G5n70at1zzsbKdd7ic-bNx4CrJbJV5yhlkDdY64dCgL1iNXgEcubGQyMuaw0dc6MBV3MhBmbJ5GaBbJ5xcJcc4aHnVqGiFHxWJz14bAxG5T6V6a9rKs8DcZ6Ddqa56kRnsT5eHSHXcX1Yh16qHnbqaJK-QtMD636CJ4FJH0RsR37L6Ibr7YG3qc0etH7s9n7XZ1G9JSh4ItpjbqbbtAFKGf5-7daj4bxgGVwdQVwBwIHnKb9MbcRDHVq8HJdEHN614UG6A0GRAMHt5LVcDiEdkQGgNZGGhGxCGgRiHiaANyHUCnHWHYtSaCmGGJc+aWHxbsGbUcGuHZctHl7pHdkjKCwTKm985W8i4O9sAfqgFPk7kfkZceVlLPzgL5tlZwRenvliBjqXAJn7lgYbkKlXz0EnkhnsL+KeVdkCpQEvk5nYVjLGR5t0x4K5glrYg5hVwSnCh4KORTmYgOQLnel4KMJbnjMDwHmjm+z+kXn+l3mk0+z982AlqAXnRLnYh4LuJDByjfAlqIWoWQXHm+ydVSBbmkXYxQWYh4Kbhr9moWBDAkKsXVAcXs4Vh0W5NAr46XnYh9Bk5QBfBwhCZQB1lE6ATQBSX4KNjKX6YaW6XDpGXQANjaWYg2W+y4RuAGhqXuAeWGX1lIRBXWWEXArgBOWDBuX6Wjp1kwAWXhXAqABSZViV2ltVvlnVuV7VsEcEcSSlg1qV9V5+ulhV81gAQklCtdVd5fWWdaBHtY+cCpdv1bdeldADdpiG9b+d9YBE5etaNfWRdqBENYdYhAOn9clejdACOhDbNcTYjbFfxgDdtYOjjdDYaHgsdeVb5cKAZZiEddiHjnTHygR1mf6axWdsBBXEVjmG4EbY0Xr3rfeAEC7b2axXwBYH2JMA41bZWEVmRF5aee2b6amf5PWYRVJaKAHazjTEEz7Z4Dncmf7XvQbtRyO3gtPWECWpPZXcYYxb7MgDoBpLNVOZvbvaLcvbDfNYJYYFgEgFuffc-YvcvcxaoEJaKJeffaKL-cYfgoADlyBIPlXoPIOHGXpe2qQB3FsW2AQ22NAlZeWtpGrO2d3dnJsjytmbl5293mB35nUJ3pgp2cOl2Lxt3SPd2iON2qDDkPkCOm3qllZRkQLSL2bAx3kGBqh0cZR-pfBr79jAZ1hlBQFNBz7VwB2FmOByVlmHBwOiheP+kEQihpcOZpxF4gnuVtqSc2ojOKVmUisRB9A12qTFH266ZUPk8TcAGmVzprPbOZdHUR2x211v7GOdmyZFtyaidYgoGAmb6ca7ZNmEcoHI5h3WFuqouioDPCBIvKckoM5ZB69vi84W9C529MBrLpqKBTAGAXEPgyobhSAEkQ9trR9x9NxrqkESJ9NP6+CWC6vnks6GAc7OZU7u6ZTBh3GWu-gg4bZmvHCxu1r4cFAbhMtPKtA21QFe5lGsLBBlBlAx8MgMUjBTlNujXs5E79AKjlBn7wQ47SgLuf7s627TuNPnQLvByVugV1LRFNZ06F9e4AUxkfuIyPvnhoIan+ve427wQIQ27lj5vjBFuepFZeP3uzUfvD0s7rBwQ3v4gMs-oZZRl6uTZpoTvAU2uoDppdITIgF5tcfQBX8sBUJr18eEYbxcfwgZ92uWDmfQBPX9Vih4RLYhvCe79zuefjJSgSuKiZwKuYpquElcfjJmh6eCKm66Kf4qeafnMYgJ4iFMU2lmLTSBfxuyIruIfE7EfcRsf+eM1me+7aeig46+vuTBlACmKgy9eOfc7Vw7e27TemAyAZYrDLeieg4E6bfCh4RZIyINpMebFJJQQlrRl8PJAsffeS6jMrlMZZf8lt3E-o-nmLMjstpcfAGshmeE+PuffSALZoI5FO79fLZwQAByPr0ZMHxv2nx+r7rumxXHjH7P8r2sUgGxFxAfvHr8gSNLFgCfLaIf59iDvsoQU9qyYIbOhyHSKyC0YsbO0gDIKZg30oU3-n6ftxlgw-0vpPivmRSP7Pg--v+1v8fQE-rPsvw-0alwKT6sdzOTmcGVDhDwE0zNQgEfnUiIroIREbXeCkAOV5LVneIuH+KANC4xBFYb-GTp-0Iwtpf+bgZHv-3G6p8TYANdhGAL7I88hY2eHkoAVAEX8Wg7CF-qAGn5LxVkscNAW4jcBYDAsBgSaBAJAH4Dws6TOzmYyBArgHeiBLXtAJdIPxyB6GLZugOMDLQzkcULDrQJWz0DGBJpTAeIMNCBRqUT9L-OMw3Bk95om0D-D-yYHSCY0YQRduxSyBGCTSg0M5NgPJ6aC+B6kL5pbCsFuAbBPqG2A4INznckBH-agJoEIx6C4ErzTcF4O3jwCyWYIXwbJ38Ff8GIyg5gQXy0rkC7BgCRGrwJEbbspB7g17iNkoiboyBXAo9HBUIFLVBBvJLXmoJwYpN1BAqERI9hDiyYzUJAFgerU-JYRQBlsLaJ0KMxIt-+kTQ1EsmNLiINkzQ4gEkx5qqE5Uu5UAf1R6aYwehQ8G8IsMAR9CREAwxZLLl14-QXA01BLBMMaH-51+2kMqNHGxTAwBgFQEGvgLmFjCWB2g44TpHUqXCKEWkGKBhVmFtC1mIwPYROTUGHCOy41FgNUG4i9x9qU3JcArUupzCsIIeamueHUrAiRA19EPDDhBERwrqH+JEaCLvyIj0RT1SPNiIxG3CWCRI3uDNzJFiBhOjAEhnCKYZsM5hbYTwHSPFrqVTOgwOkRbnpF1gvhIQgSECPxF9xORDEI+KyL074UQErQ4Hh4SbJ8d+h3PZQt000gUcaAGKdYdyJpxRMQqy0EBAwGGLCAOApAA2EmSIANIbhqTTyEFgcJYD4G+DLdpSJ+yCjqR3MbJuwm4BijcmCYB0V-hPYHZpQ0THUV-D1Hz9DR8o8WiY3hyEAbElIrXJSPYbVDRslotgY-gWFFCLRAnGZpjFyBRj+e5A7gNmJsTLCuBlTajJRHTEi1KBhAEBpwwzGRizRAA6geyOE4dxKQoIGhHSKURSJxayuBHN6OhJOiROtI0bpCI9EVjvRYEGohqEtjsjwR22LgFxCoDuiWaNsXiH9EYBYt+IMYwkYKKPidilx9DagauLIDriQontXiBDEXHcjtqGTdSDICTC1A46dfO8XsAfE2xAknQGzpeM7HhBLYhDePDgOtG8QfxmfJsUKD3ZtjuU54hcV2OXEASsIQE6nm-jT6hpvxLgiWMeIVinjrCdoICREMVA3hvxeE9COhKSCYS+IntLaLhP84EQtohE6iWhAqY2xwQz40Yuj3FGqE+gaSZqIwEeF-JeJ9AbgLQKgm0Duxn2BHBuMJaKoioR40iRJPv438aUUifiScgc4vs-QIklmlbk5KniJqNIJVOdxYmvjM+hmcno9UjiSAY45sfkeRN0nipqBvASGiCLYSfj+OFY+fC9355ATx65gVKNrFOg4g2Q3QEaGJK3Yo5xAkgAKWWF8DtVaxKOCceqHEx5ZMgP9QwNQKckMCiQu8FyQbEbDdBGQlEqgHDi0ySjug4QK7jzx-rdBGcUcUAAHQAASRRBgAAEFwA4AIogACUA6kAAAPKQdkAQIfGtZSro2TlJxiGSSpNEnA8HJ8zGULHBclri2uvk9KTYLcEnDQM8048RQN8mdAFwo09SttMyCvDiwzgYxNtXqmNSWpbUzqT1L6n7TJA1IioLHBWlvCTpG0pINtV8m+x0pDATKXGXGlHwyCq01EMcXNiKj9k3oGQUDNenjT9xDI3kdLG5i8xFYlKTsWPkOh501AJgLwNxKOlrSf4qMyyMZk1jHjYZfIeAcNLUC4zocMMq8bshqlb8dsuQBwD0SBAAAGAmrJhqCORCk2-RXpUj9zUBBgCcXmUzJWpokgQDM4GKLJ6KJ08QWkhMJLNlTMyyA6lDrFzIcJzjZx4oAILzI4ExRBZFNTGOCCIF8jFZessqILKL5azpu3klwIEF0wazxQqQaoNkG345SEcZs2igLLNDoluZnspXt7My7iN-8csYGI5E6AJJPhK4YqV-BYG5YQ6dwdWaiPVH+z+Z+s1MHjDkQdD8B8crCKHIYDhy2ACSboVwKIl3NAgYciOdhKyApDM5lYx7LWPzmFyEkks22QtFaihBHUsAt0QrQhHzjJpwcjmE3Krk8jvGVoyUURnLEa9wG7QD8XSMnk9ZAoLlPGLgynkUhexjo5EU9UHHZNSZJYxUIFBYDP1fRdMUoHeKjDv1mgw8ouWiK3lUjCR8Y7ULT1Xl4wtMHQ4CWhFKDXzi5H+IjKz2-nVyw0KfNCM0HPnGBqx1TRuRXILkjz8BjYqWqTjAlQpKEfwa2ZCNPB7yex9owUZvJxHOihxfcveUxAHAOiue57YjCejoBp0yJm4p0duLvlHx6JhQDBVeKOCqTcGm6SUaeGeQRAJceASEAIpXBfYcFQIGMTvIPgsLRxe9L0TgrIXgRxw8chwNQrklwimF-Yu+bGJ3EoRoIqEcMQVkoFEo0F84yRZpLyH6gBwFQDuakAfgsKWRLNVmvwsEWvoBUzE+8ae38g1DnFqBGccKLYBELOGAIziEou7o0Kzxe4X8APIrE3iJIhk09k+LcVBCGE74yweEra5c0bYk0SUYQFmiqSSgBixBR3GQXhxUF2SzthEtgnk9MlscwgCNGnEIK2oSCiGsUseA1LO2bIbsaAEcWQgMlKY0NNkvCCv55hfS0kJbGCW4g5JN4fpWXMKCTLSQ0y2IGMtCWeTcYaklYJRLmVqKVgjEozK4pfHuL2JuJVIJLNljsYR+IzHwuxkOrb9pmy1W+A5L+Sty5hVhVuTN0VkYVHlvIgFoAtohuzgF80cAWwHDm+Bq0W-HfhN3WY-KOAmRARux2ag8zHgkswSQpJpkaT6GWCqkLfE3zwqJQY0B2SHmdk-xW5QOBHIsqkkwZVwiyuSUJJIknImFbwO5Xr0xVCBsVD3WMKirYbyzAwpKlFPpO0GxLElkqe7GwDfGjo++ZAGxG8v+ILYAYjAVuXhLMlRxLJ-k7lXpNwoCYap50hgO1OsgAAZIov1KFUcyFykgSmZLLGk0rMFvI6aQ9Ocn-TLYS02aYNDNVvS6AW0+6TtOxWnS7pM4D1c6rOkNStVuq-Vd6ptVPTlozq-6XMIRnudBglKT6VZO+m-SXVrKv0OCElkgzTo8IeAfGv8nGzN+2-DNXdHhBtyhOEai1VeKjXmxEZVAZGVeElm8s86QnJkscsRVEy1xe88mSasknb9zVxMpIHvLbnhxt0O2afvJPFWKT213IvyXdG2oIyNYtateiyQbWxho1VnZaE7AhlUzXp1KvtRNJZrzKrwnsUtT2rHUD8J1JM2mfij5puxGxoq0ddP1JnTrGo7srdq0GnZAhUodmc1DXAf7gh30YqgftagrFvqHAx8+RVOMz5DrFmAGwfjf0fVuwbYIGn+L8MGwP9r1gcNKQSsenihspcw9yYPgKkCEd8QCSUYRt-L-4PgwQC4VDKygid0pJ3Gja6tYEK90pOG5STwqEUI48pQIRNeWCynsbeMjYLbjMk1zKSn1Ykd+jmrug4g1+jGwtY1CA0NBCoMm-VMpPk0KBwqsYLCMpJThGthN9sn1YxvE3sMX51TOmvp2jiBBsVzo+jR8vJAFQaVjIelWeD15EryQm6VjSUppUcaGwXGvwIyF424gsp-0wTQjn02a5FZ0sajs9Ck26xugVyjgOpsU2rt+AKmtNQWuliaa-QWEVtZ7HC3vxItgcOHKZptSBKPILwxWcEC3UPx2NeGo5dvwY0vT6AH8+aBVoa3sabYLw5SY1uOnNbnhwgSGU1pV6MaDYlGqzWJro2zSeteMuHJFDYCDbet7wRkJqsukdSupvU8AExBW2tS1tN0g1dpsY26beWa8BbXjKPK1jwQGINieZs4htaEVbs0aGNuBiKzJtj012VCuJVbsTtnq5bQGu1V6rNt5ITVf9v1WMgct2-I7Qy2+1mqipLiq7ZhugYZY3g+xE1P-zW6AUACBPONOpTIzI7WkaOzESMGx2TCTqYiGcHjpRC+odKJIu0MTpu0-RTy6WXEBCxR0DM40dW0fnTu6ZkYWd+O9nbyJLk6V1KfWXnZToJ006a5WadSjUDEDVxloo6-ncD0F201umoibiFUhriK7axyumbqMgUB-Cs0EugndQOR34AXZFO0wGunQ36wOdEXC3dUnt3e1gh1uu6DbFN0uy+sjuhbPQFZ2W6U1kuO9Tf1wzRp7d3uugL7uvIoQX2Lu59bsmU1kERA2df9dPyWru7XVRqjmCzrN34yUgEeq3QzTdi26md7UXPajtF1+7LYJkwBMTH+j9AyYTsSlMnqD087S9KIfQOXsj1Tq3YUeooJ7Cz0e6ydJewwHnvb2t6-dPe56DHsEjpx49S-KyE3vFUwtc92e1js9ielbdmkUc2sXBjV3ADN9+A7gO-Ti5fBlawiJLnA2oHRCUBkebkJkHg2BxJwgUOdUjKw7GQMmB0YyGwhMD8Aa4yoq+GAmaTf1b9fijUd-WOzui1W1EvoZWEP2rKYgBqTYUTN7nNAr9sQwIakMg0RxFVUsKyXouwRCrGsU+mfalvBCoGAhG8JPYHsX3cAyDcQy6tJkbA3AGBsLCmIyAACcJwfZCwa6jiajAxo2TNwd3RVrBEE+D4NwCY0WiChBPD4D5u1BAYBwLgL-KzNtGxBBD+gevvXyshoBtDyWhMWWLxhqHXYaq2MIIfE3Cc-ofsZmAHCPguABWNVLMDWNUM8QKYZhkQ0g24BMGh9ULEtYCq6ggra0VCKjffpt28ip9c6ePZ0CBX+GF2+qBfYBtOS+HgVTAUFavv-yuDUgo66oIVBPBkBV44cM1C+qpCtBGQCglZMwAYHpHPxUaX-XQEKhg8jgxa4hVelRJ5HBEAJLnv2RfF2x4QxGNQ+CA2IDGshxgmgTf1th1H+WAxvyLkqcOQsKYNnKPjBvv7HA+MKTFiAODE1nCJ+zUAbT1FaCyGGgd24GFVu61dajNGFPY-vIHAtH9GZqTnupHDgG0KCITGIH0YGNvGmQi2wQDsdEBvG3jUx1eWxE8XTBXjvxgVtPw0qops4oJyY-vNMO+w8YCMhdVeHf3v1veo6+iX-rtgAGf1pMlODAa9hGsm4-uuI4PyFhYGLJOB-yWnGGxmahp8lIQIYEcgT4sj-AQowIGKNAhSjSgyo6CRqN1Gs6DR9hukz+pLqgQ3QqgwP3v5kne42B3g9Sdh2oE0TQezE6qOaStB3RIpvkgYHxN9UGWRJ6gTLoxQsou9D++GVWvnWv7kTopj-er0FAM8a5EpmxIaaW6LHbBB650AqopO8GKmtgW04Ks9PRxKT0m8MTop-qmwJ9cjAvRhttTx6V+lB-HDBqWrOnuaWAdI4sfr6PD9AqygADpYBjlMapgPgG5jBAZY4Z2lim2eRoRND+qa48YGqhpnR1GZoGVmbUm5n8za6ws8WYr6fjQ0vAE8EfB6BYQ+zoAAAF4MdQAuZzTh2bOEyASz4B8s6OaD7PRqz4IWszvxOCoQ9k9J94Eyc3AZnpzRZ2c92e5Z59Aq7RKyCwGzrKBs6p7SYPXzTB4AGzQe-cx3M7NHmZYJ5yIRCHPP6pLz8hG88WpXN+QgAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
        
	<table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
  (stream-flatmap
   (lambda (frame)
     (if (execute
          (instantiate
           call
           frame
           (lambda (v f)
             (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPI+QJyAUBgNBIEQGAqNhyF8WojDZDqutqBhDFJKi4njQMUjSDJ-zxKYZi4yMBuEIbiSeFdmiwuZeusfDVyeQEAD5qUoBqmpa4g2v67rBnq-omqI2bdr056iiuwbhv5c4OI86otFIDhyErYh2sW67eu4N7lo+0bAsm9JMm2ldSkhla1pWDaNyGfobse4zCn2gEjt+sgAaBkHOrBlHhqeJ6XpiAmjtuxqEO2z6aoLY7ToYGROsoG5sWRbgwhh8aXB5qgtEYJmFCME67oYfn9EF6k2e+8xxcoSWhrlxrZdOoSxoSCbUnh-8dcEpHQFN9bPLoP7SeByH9DxrbpZ2vGGdADWtelvX5aI83JjTcK8DV94vfkJQoDgRBkHQPE0DxdnOOIXCqGIWWFEobgLsrITYdSYw2BkBhU5rdy6DETPKDm+SYg+LPlOaOHGozhua+UhT8AxLEht8BQWHwBdcLb-vB4XfAS7oVvq52lo6DzpvPNSY0hBnCplE60r6FnzuWlPBhV7tkHN-Ibe6GrnOF9rlTl4YatSGocUT63zKL-bm+ilKMvh7Pp+-hfmfN+l956L2dM3VIFpqBiDoAoC6YIP57x-s1Nw0DYHwJAbnT+qw75vG4qiH4xAAAehBAioJ3og5038D54OoAQhcxDSHEHIe-Pm2dQHYNiBAhgnUB7CHILvKhoB4rAzDluRqLB+EMHXBQOBf1DCz1pnTYEEipGD2EL4RReMrxYKXpNYw7QLrKDbmwzhMRqE-AMbWRwbc2jWOMdrdOcC7YKI-lfMBipuHsA8F4QRioLELm8coXx7d3FmNANwkSfiVgBIYFE0JHC9GQMIIQEE3JUTRLri1Ngmif4dC0ErS4MVGFkMMM4RRHClGxm3DOSe98GIKLPmIVxpiwnhNMqQcyICbJ2Qcs5akvg7bkCIbbfe5ctC+WDsnDy2TNHKyacLV8A5JqkOoAoOh1AyZiORJMUaMRAqzOkY-dZNAtlFPKfM0gzSgLkWfP8ZZK9FCEHwOUbm5yd47INjEd8zCMhFTyenQptUsrqLmQ4d2yjCjEMlstXOB56DOLBNogiYdpFALkWQBROyqmQoWTi5RqK4XyHQXbIFQcmL7NFnfES9SzwZzIX88JsRSg0pHofegkswQMrYB3VczQxwajDBRF8hozLBCBVZWy9knJi3eS4SgvgSCjNmdVHMZxpnmBqQwOpI8FGMMMGEvZgUHLNSuXqkhSx-FW2mnJDGB59AAoKVUUgHxTVV31XPLB+Lphap1Q00YrqFkOotZ66+UysBhzGQuWh9DS4kNKeUhJWCRZG2SKkE6tYHVpwKXguNpCjk9TcRwplAT8kZ1zSU9l7wKm6L9KZbN5b6Cwvjc1HlNbr5hQ1S4ZBVijEmKzgajho0HmlwUJoXEvabHVwmHs2IgUBWhnJMK+5wp9CTU6q6j4TiMHtxnVBFYgVHUZ2dZu5gWhEXTp2lg-ydzZ3fPoFSE9M5260trIyPGR6lYHlPdu0lu6r0dpXCO1lDEv0uufWw19D473+ipU+7WWcoMUpzLe-d0xD0H0ncY52BEyEQd-ZQFpA6AN52Q+RJd6qIoPoEA4KBMDaiMk9qbE4Ea5XAlBNqkutHUH0cGNPOBizyQFymgjfjzDOGlGtujHgmNuNlN49wX1XHp48Y1PoG8YmJgIjIqASjkbDDckYC89eJhX6oiIzXYdq79F2L7bPL5sRGy7sZFh4GW7z3wIszc4SVLJrEDHQqoatmp3-rxpJm1sY1gpIujdQz2r+CAPPli79+GPN-rYRMb1U44vGcS2-BRIiguGKnci5ReHHFpcI5e8lS7UPpmE0fEzp9z6ZKETU-QjW8sxUMGPIe9nkXcIfv-DgXXE2mNK-pdjO4hvPw3mZsqPWB59Y-kypo1rMj+T02x5BQSQlsMNVBRsoLGS7YYKC2eTFGzdj1C5nLCW5tAPM-oUF3mVDUelHRjUhhGRKYYHJtBPVrthCYhh8ZGdQVZaKNCmLpcF7wpJWCIH3B-u8cHVg8NkbkHxP20OqCgVCsgbpThnRDbRiprzQmihrSJsrHR521jwLu0H0+xepN19RqNhHoyT9LP4FQfbaR8kn2+5Ld-kT3nx9FvjwqSPMJIOqUj3p5jg+M2AEPZa2zvOo1hdS6Hvz1XI31dvxF9LtxK5P0G8dqZx7ZUR4C4hdMa9ZxYgM45sgzrRuMma4Njr3rYvM0e+t+fE3y3qe09J4H5rxu7dFq9ebwDIdZByu+3IRQEAYDwCQKgROaBiRdrvkXEujrqhVw-imhMcNeADzILPGIAAfOvxl9EnRL7X0ADem+pEHkPforCs7hA736SvCMP5K7Y5NZgYgJDLXawkygfR7hiANsJrCZeABka-ejY1r+JdkC-J9j8Z3fMTte8e+fTeQKfg1Z84-BGJ6qX02O64nlPGeZez+pq3yMAO-eMfj8gapqzqYlRMJpPtPjwqCN0hLjpFMpGtASHmbP3iAVSltDeKgUmPZqrGxvATHsAa+IFOgXaD-jXGzK7pxJNJHvNlTkgfgefovuATflnFZJQTbvQA-mQR5CwcHs-qfssAQdvmgQIRgStlgUflwdHqBu-nwSgUIUQcIaYqIRzJNJbqNtQZZrQZ-hPpfgwZAQkuCCoZ7s4OwZGgYUHsbjwVIXOjId-hgYQYgSQYoZxKYVHjFLgTQdIZ-nYepvIb-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-12zT1Q6APd1xG2SgMiDgPjzKqAHwKTLmPLr-2ObvYINAhINXVO5oNUoGPENuYI1xMO6QqEO6qJNQPkYv382BhUMr20P07CWM4p6Rzp4xxZ7xwYAyWpCrInKbJaWM5kp8UXmjUQE7jKzgjVMbJAzTUuAdOnLAxrKpKbnAI7KNMn2EVkrhoFTHKdN1MFjfZAjtbpgFlzCdWxBzCrhJOFAFkcirMxAcgbNVIFkYS7MyYHgHNLOmU1InM1LnM+qmXD5sCdUPPOibOxAFncSGDRG+CdUfNfMvOHOmViqkC7NAuxivMxAFk3Dz7NQsCGDWVQuqAwvfYrDgtTZgjgje0nOxD6BELcC+DhCEygAjK+0O2gCosFm9FYv0y4ugD4uHREugC9G0sxDkumVwjcANA4t4sEtHQjKQjMtksAs7jgjABUsGA0t0uEsjJgCkusvCsACkYrXLtLPLDL8rArcr6L4kWLyrkrvLx9+LQr6LAAhJKDqxK6qyMqa0CIaxc8K-rUqxa-SyMobTELa3c-awCFS7q5a6APrUCCq0axCAdI69y866AEdG65q8G16xy-jE61KxGwG+6w0AWca2Kwy4UISzEMa7EApemPlO9r07U28ozjjYCCuIrHMNwMW2coU4W+8AILW7MzFPgCwCMSYIRhWysIrMiPS0c9M3051V4Z8qi0UM26W3M2mFRo2zwIOyW41vM2i1uKZQusIJ1Wu2O5Cm86ZZAHQN6HQt8xy3uwewqlu9u8u+CAiwwLAJALs9e7e+e9u5C1QIi2ESc9e2EU+5CgWQAHLkC-tiv-u-t6N6QNtUgTudaK3dvTC9v0tbSlU1vztkyLvgdNvIfAyda6owcNBweEsjsXhztrIzNVpbouLTtwGgW4gTvbIODcBNItPqFZP0NUcMDVB-Yyj-S+CyMjGAzrDKCPyaDE5XgTsDMcCIrDPgr4MxAMc1IIhFBbZH7Ti9yONgjDXM2wpw7yMYKlbnQiA6UYeTvdbs3n1Ec1MofUZrw43fuxB6eDA0epVtsdumCDqmeQeWfHxI3Sdf32NyPFVOP05A0L5iBfDc0MJaf+dFTKeEB+cI5JSVPf2BZvAjHaUepLXUUIweqcViyMXJdFLBq8W3XLUjBZdk0eTlZ5cojmqFfMd-gFcY3jmJe4gfMpf1NpdFcZdZCldnVhWMUtf5fte1dbTdeY3lb9dVf1fDU3gjeRo1BiDpzLSGKkC5IhrpfDchrZdzu1AIWAqDcUN3UlcbdlfmBNIKDVl7d00nVHfhSY5EImD8AZyMLqek5Wk7cFJPfcBr1f0hdtuEIRcI50PUgl4cCUBZS+wKXpdYQ0tMbTR+FJ6FOiUlOZ5xwYAVOY1NUUCmAMCGIfBlQ3CkC+KW7DWV7V6bheFE+TCWxeE3gU813ggMAR2cyB2V30kykYG082zk9-wkSbcdE3BBa6VaDWmPyVwCPnmCDKDKBV4ZCApGD0eS+qvfa+36AxHKDH3ghe2lAa9J3h0l2q82eKga-Fki-XKbdMKayUkt6Vz0dmo2-b3m9nuRDQS1fl0l3ggQgl188onGCC89SKwMcO89ALK7Jh3WDghm-xCBZ-QyxNLE8mw0Wx+Wx37TS6QmR3ztax+gAb5YCoRrrx8Iw3ix8D515jOF9XK7LWtxHFDwiWys8q-l-q-V-GSlAY8xEzg48xT4++KJ91oGCTTwWIU7yZ-Z86YxAtxw2oUmkSkXxF+2BkRa8e++2B9MBkAyxbRBqz-12j9e2M+4l1In6T+U4z-l813aI78l3L-R919l-NL19L5Bw+059FDwiyRkQbSR+aKSSgidVNJIeSBR+r9Ke0mFZJjB751xA+EIY5opkgLr9y+JjO-oR0v6ACc+3CcuggKT4AByRnk0jd5YCUBTPWOiz1j4R9-+uIJbponIFx89ycCUnnX0oHSc-QBZIQOuysjBBw6DkHSFZAtDFhw6clDgPCEp7QRSgEAraPQLq5iCkBpAC2NJhEHb4xBN4CQR-2x61hlugPXjtWAMyCcZwbKUhB4HFIFcqBA-YBE90thMC3ag-BEtwEP6qkd4H3UrIrHUH8ctBUGI5HoLcB29quQcG2OP0e4kIJMl7avkLD9x4kT8T3ThKZBIQ1VzA5AvuEMiISuDjEbgAwVZj77JIC6FggwQ5ngapUj6QIFcHv1fwT9CqaFafpkOQxTM3BxgZaAsjigaB9AMQnrHEISHikPBZQw0IFFRS5D1IxzS2JtG3y6DEhVQt1GEEJIrUDOlQwaMHyAFp9OhKjXfF-w+Cp95oAw8UpMLNQ2xZhoudXo4M0HUBNAUGJYV-FOabhNh48aTu1h2ECc9h2ghiM0KSGwDb+YQrwTIMxinCh4SHCYdULNSvYgmI6UIX4IcyBQCygQ7xnrn34zwwhN6GBtGHaFUpGEm2G7mxgVQkBkhHXEAfahMExIxmmItPkCwK7ANpU-SMUiwlGTIjiAATY7i4Hmrnc-B6XdEZuBxHzRpufgm2HiMYQEi+k3aEoT9CpEcpPMFIxEUfm4HaQyooPM7MDAGAVBBgT3dLmSOSHzDhROkTbpKJQRaQYo52GUR1y2jUiqskIxThzFpLVBuIlceOo-HFBo1zwkPTGJbgtGk0euX5I0bI0tzPZHRlcYaltBYCuil8m3T0SICdGgZfRxopfLKIwKBiS8vVcwGGJ2rsdkGNorGiQ3S5thPAcYhmptw06mjhsXADmnSisF40rR9qQ0X6JNFxihquY6mlEIvIPxURtXLQpCUY74iq+7BTGppGYB2wn473EhGWLgTI4QGHlepKQAYAVFhAHAUgAbEjS5BCAK3QgM4xHRViwhwTe9LOyjFiATsXotjowGQbsj4xpNaJp-mXHH012E2UoA4E8bLQH4g45gSOIbEM0lGb2ScS6KLHb07cy40hi-VvQjosI84tDDPQTBYQJxmidbtOLnj-jxmTwwJnVl3GUNIhK4NiLVxAlPcKxLQIhDCjY4lxKQoIBatz2QhcQqAXYusIdnez7igQy49cZdRngpi8a8uPcV6IPHgRxwlsdMXGP4TsIbxLwzWGQEYBQt+IJE58V6LnjMS8JgPXiH9E4khQdavECGLhO3HDUwm6kGQEmFqBe0k+8kvYIpNZHtBOgOlKScxPCCWwEGMQbwakCrG8RdJWIjTqhNI4YTSUEknCSxLxqGS0U9qEyVn03z0j9AOk3oRLA4kKwxJ4zEyQwJWA3gdJAU6YMJO8lcSdaW0fyaZwIhbRgpMUtCAzXCFxEVJVRcPvqM4hqATAXgZqIwEVHlJ8p9AbgDEJskxCGaHOd7BFPqo0geUjIMKUkB8l8QdaJUqSYVLoCfcL2aEMqZRNq5VTuUaUOSQpPXaWwpMafLeiDzB7mwBIYk6qYykQm8A1aRo4hFpKY77cLyaAqKVQFbpH5Uo2sU6DiDZDdARoBE2dku1SgHSywvgPKmtOpC0TEiGoSbKbCTqGBEJS0+IUSEngrSDYjYboIyE2k1wqJmpKsd0HCBa9q+SdboPThB6gAraAACTCIMAAAguAHABhEAASlbUgAAB5X9sgCBBQ1MaGdJqaqOLDOAFE9U9qdJPS4LT+mMoIhCtJEn+Ddpb0yYW4FJkPoGZHE5KbtM6ALg2pL0ykeIEkCto+ZbMkURzOGpwyEZyM1GRjOxm4zNuzMumazLVFkzOZSQYartN9hvSGAH0x0hTLnhwUxZqICYubCbGRpvQ1Q42WrIpmCT0u0sbmLzEVjIpmJVeQ6DTiynBJcpJM8WRfFdmWQZM7EpIIJPwZEy1APsp7LbOknhpoZfAzDhZUKJAgAADCxlm6Z04kGQCUeYONzUBBgy+TOeygcCJy4gBc3IEXO0C+08QgMwMHHMLndVSAm3QrDUEcj9jMxGY80SXJGxGCYouc5GpjHBAgisItc7uWVFznwDaeiEwIGJlbnihUg1QbIJnO+nvZh52cnuWaG+ItyV56QnOXnKYiRo5YwMRyJ0F8SaiVwwmOcbSLCx207gzcmeX8AbFbywKa81bNwk-EsjYwwgzGAfIYBHy2AviQCReAbrfzf5viZkUBJflITCAm2G6cAuPkLyOAgPCoK1FCDaoL4W4iidTVGj7zAgh8uBfhKsapD+xDqXZN+KKADg7EmkuMdBlIUHoqUqlcxm+OhELiKQhE1cY+NImbjBJDC9DFShYB3T1QtQNeqUHklRg16zQWBX-IfFBj+cLAV8dqBz5BMaFVFNyXWCPHsgcFP8uBcN12QN51FPxTRZIum7TCrwzQERcYECbkM6aGikBQYMQnmShQ0iTemUnvkljOgdsk6VSCIn3E1xMYq6hgpIZMQBw+4yvpuxgzzo6AQdRqdxLXG8THxc8BKYUFPBcLS6Fjd8dZiMlnx46bAEhZCjwCQh8lK4I7DROIk+KNxfitxdJPMaBRglYEe6YIo-nShIlEU9uchASXeL2FsSoMe7Ggg9K8w9kyLEhJhQtKlw2YrhbViYUDgkFMWVIDvCSUc0zR2EpKZEFAB5KCltCz-PESGnpTGFlEUhYemQkxZhlWYuZamIoyCiOYDgJpb5MIB7hfw5UjrrJIkipS1JWIzZapOGnSYKFWQG5TW1JB6S0SDk4ybNBSUlBBlMOBxc8lQT3yflPAO5f0rT7KFMlhAEaAxIOVtQIVTi6gNCt-AwrypKysAPkshAOSsINy8IBvjvgkq-lWIy5ZXSiU60bwpKkKYUAZWkgmVsQGlbiGaVRTcYnUxUFFNZVtKVgSUm2G8rSmvT+qmc2WARioHNMb8BGKyHHO6ZdVN4C08pHHPdFjD1VEYlwLXPOzqq6R+fIihgVoiLzjFRwpgWwCPm+B00clYgDX2kzU8MCWqwHochRJxz4FWYlqUHMpndTMFHigQJvF7wZyGQQIKedjUtxzyL46qy7O9g5WzTapeQ1cHGuaVeqRJbKlhc9VVU7xA1QgYNXyHTWFBfVAS2rnGv6nq9nlHyuuKNNvhHplBZATRLqopIdYAYjAdVQwPGmSBJp+00tb8h5SkFoZUshgGjOsgAAZMInjPWxsBU5bGMOYizjnkyvJwcqmR1xpnriKg9Mg2ZbCVnrrBo869WXQG5nCzeZeahRNqqFkzhj1e6yWfDKHWjrx1is4WSzOWh7qDZ9s82CBWQXCc-QWsqaTrL1n7qDefocEHHNNmnR4Q+DH9ftIHm8DM5oGu6AIMQmHIX1i6ymfcpd7vqNYzsq8HHPpY05XVeaj1TWxQ0hzkUs6k9fusEmA8ykY6EbOQPqEqDqOxG7cXtLujDUHZmGuoSPTRK4bYwDsuzuTCWhfo2o-M+jfWrRTeqSNvKlYJ7CQ2ZyFEqajiZRpxSEM3YdihtHWuW6iblueEljY1CXmztWgfbIEOdLlFiDwQta8gaqioqGaHA-CiCJbGo2DMNNFAhjTprdg2wbNF8HUfJoY1zwVNgccVWuuITigvpBqvaa3n+k6KS+iKsnv0K2lUbQegQCOaPMYBvSVe1s+gAbBHRvSQtbUkhYUvey-SgQf68sJ9Ly3mNGwUvTpHzjam6axIa9SDXdBxBcCMtdAODY1Cs0NBCozWuIm1Pa0KBrKeMLCG1O4CewqtU8i9a1rq2kNFFZyzGh8GCDAxa57HNLfqv9WByRJjIN4CqtKHRryQ2WumSFoNnOMfpfgRkCVtxCfSDZFW97ONr5y1zpYOHPSI1t1jdAFVsG6WJ1vHb8AetwGj7WbMhxDzM5o21VnduPgPbA4PwiCWqnOWcQVRtc4IMlqH6taqB7qvLSCrEbw7JVeWm2CqLanpbVZmW5UcICtmE6Z+KO0aAtqS21aVtdMgnezIPUxrZ2Q8UnQzqXaDqZZ6MzGTjPABMQOdKMrnfLInXDbWtIO+lizqR3vBXsgUcEBiHSn2iTuJOgjWtvJBU6ltBc2neuo9WvZIobAZ9XJsZCDrh1Y63neSCN13rhdmMOOWLsJYS7510uqlLLq8Dy788yXfAPPMq4uc3NgcMLb5090ZJ-dMteaP5tOg2w3d88irvQFa4ucOsUeopCMKjoWaGNYGV1P7tj10Bo9c5FCJ1JD2sbw03WuCiIHDpJ761nVcPYzvzwtd3dfslIJnsHS569NvugLM11r3aVxuLnfwdWrWzEx-o-QMmE7GRQl7NN8GdvWCFH0jDmNbsbPUUE9hV6I9zCdeK3om7j7uldMBvYJCmQF62BVkIfUeyCiGARi1eijmxjm6Ao8Uk+n3R13Y1OzONV4MJgdCf4rAHmWaMHM5v0Cn6heb+4PgWsVAdrQeUsKaUlLn5Wo-9XaprTeN6XNBTY0+pENgwC3qoC9HA4vepss3cAP9pNGdlSBuDxDfmFMRkAAE4TgkaXA11Dq1GAxxbGEgxOnfV0Ia8HwNAzOPSV7kPg+WrMGkoMAuBd8Sc5xoUCoP6AMBGAqyGgGENfadlsDP0Hwa7JyKGgVBurWxz+h+xmYAcOeC4CZZJUswlimILIYdm0HNwg6bA+1B4gUwXVlqrqDaszRoJFt3u-WOl3X2doC9nQK1eYbtU76UDDGn-qYetVMBbV07RsNUEKiuCAsjIcEOQNtiFRfI06o-DEOECPxPiEjfaOtv8P8A6pkcITkkZnC6CAsr2P4TRXSOsHpgfB8EL0WKNRp8kwQdkKv2qALdGWxRr7bNobDvZWgjIBoYMmYDxCVhSQy4hnHSNu8jgCGlcIUeKMlGYjtTL4ivTCPJGhjtR9Jvvq+YGdSBb+1oNIc8irpatYolgBKJJ09QljPB2zkroR0Dj8deOqbedh2PcKtDRhrqBCERmtbBAWx0QKD1slPFVaxANAKIega7K8YgxqY0y1CP9TvsPx2o1ZHeMyHLj1B-acigdlYbEp3GwmFHWX50ac+OmFsWvHbEZxWgeE0bZWG4AMBVWecQDaUfTiLGhYwPTtQAf2mmwg4Mx1+rEGiOxGyA8Rn4RlI8gdHUgdG9IyeDICDwykjvdbU0aBAtGmhrJrSS6m6N0BCovR-o2-QMCfFuTh7UAJX0LKqS7Y8IGDN8aZasnQAoRnozUcpbycBjYJ+Yxb0WPHBUlTCiICxAHBrH8A4o5qPcfqH5GGgWOkbIjqONK7atpx5YwOFlMyMFUCp9SGUglowFmF6pko21LuNSjdTQxvyGad2VsRodoJz5hTAhCAmtTDGsaDVK7aAm9T5jbQ1NLxhQnb9MJ1uO7LpgInk9CUlE22MBQYntxWJqwXicAUERd99Qkk5XAmnkmmtlJmrJk3Cism39GAxUSrxJ2lIV2wrAAEJ0JuIJO-gVZHHMXRwNl7cAGeDgSkA9qmQFw3ETRm5yJAoANGfgAGCdU8Q3ByYIIbiKBmhSaYfs3RsHPGz9Ah+lgGOfRaTnKA054cZufBDzmESc8Ash0UKhkBw6aRAAF5nx12QcM80qaDPVRrzye282qKMCdAz4miAsi+bfOzm4iX5xcwsSTk4WTzEFi8yqenYwX61-Boc5KNHMFlYZMRHwMCysiIyckbgHIlZFgCLmCy0ACRI-GEASBw6IRC0KAERldNuAAAdgAAc4FqyARZgInBiLmmuC8WHvNtsnzEIKi8EgAt0WGLhgJi3ERYs-nTKf5h7rRbiK6CxAsiVcwIOsD4XlTUlrADJc0RyXtICFreMhdMoqWaL4dei9as0vh0dL3AFALhbwsSWrL0F+QIMIHNDmaQJUPau4E3CUXqLaluIh5cYveXWLplVC7nPfPh1ML4l880FaIshXxSYVu8+Rf0EFl-CnbcOtAD33ggAAIileFbsWB4nF7i3RYEwQAD5nA3QNlcguXnpL+VtwIVfgsPmlL4IMq6YAqtVXarul4Vvpb+jh1jLplgC11ckvBXKhA1+S5pacvDXRrHV8EJVfDqTWqqAAVlwunnArUFq831bZOwXwrWIMgFFfFSlXyrVkPa1ZAOuXs0rM5j81ldOs5XzrLGWy6RaKsjmSrplK2o5H6BeA6E4dEdf5nDrvsprz5zev-sytdQ2r6cPcweZYGgBiQpIH691cIu9XVrN5oc0NYLJg2IbUNqyDDYG1WR4b0A6a08gMvh0tAagCJcoCfjfm8by1i60Teut3mNrSF4a+TduCU24i1NuG4ueJDHWcLXN3K4TdCvE3+bt1tcykAeug3wbItna+Ldpt1XnzU59K+hc-MLmlrctnAADfstghirSQgsmjP6DuAaghl8ECOpeQpBdbEIZc87RVsbnvLcoGGTgoxuHnuAIlk8xZbOs9WbLl1taw5dJumVbb6wegPFadsu24WCNiEDNcTvzXGoZlqyCdFtA1A7VJtv6xHd5skWLbjlwWzbbtsJ3Hbzt3gK7bng6B-Lstou+bZuuRXVbMV2O1XYdvQ3k7bt8EK5cTuJWvLzF8y5ZaLvF2FbfN+CxFbusd3hrH1jK3OeNv030WAAdTPgsBeAwSOFlZCxkghPiY9sOwTbNuR3Fb8Fq2wogLIb3SAW9ne+HX3ujH+74AcGxucmJ+Bw6NtQgKAFhn9Bv7+5w84XfDut27zMd4VjfbvteBd7cRR+4fdTtwVhA6yCJfVDfjh1PRYgQC30EjBH3frwDs+9PfWuIXNN19ze9vagcP2D7i17gHiGlsy3Q7uDk+5PYKvn35Ll94a+AAE7dxmrcRMIhse-Or2IQa9hfWwSsjgB1AJxEdUIE3PHmgHJ9kB4NcUsFkOH8gfANw-BC8OV7l7VXgnJLzh01A7tGQOHW0dFy14OD-G9ZfkeEPNrSjzh6o4-MaP+HoAIS7Q+bt4OS7sltu3PeivsPbHajhx-3YgdkPoH4IWB4tdceMPLHDlth2xeihZSdr+5jY1VHgf0W9QyNqyL+x-tnwH4ogcAO1aPMLFZHFj-B6XZJuKPTK0AWJ30HidtseB8D4x22Mrjh1dhQMHu4U5WtT2Sn-Noh85fquVPJA4dBJ7U+ofB26H49txx048dK3273jmJ2JP6dWRBnSTgR+CGUdcP7HfDsx9zf+vFPJnF94G9bdMqIyU+r14gGvboQwFlnHt1c+ucNtYyIl5gcABpMCCdVDrbTnmxM7sulPHzBZI55kH2unPzn-dgYEg9BDnwmnJgeIEhc2em3InCCbp8Nd+ePMTnZzzWJLZcf0PzH7T5hwQ4cuz2VbMzw58c7iLVWAXqL+B4E-vt73KHwLN59s-cefO7zcWYQDabAfot07jt4C6Bf7vsu5r8gEy1nbCcYutnTD-qyw4ctMuWXZThm2OiZtWROXIQbl4zdms52TAqgNmxzehcT3YXHWXNcy4YCsu07SrjO3y4Ws0vlnPLqyJnYUDZ24iuduUAXfCfWWRXV1zp-BYlf6upX6LYF0kRQeohwXAnSQFC7qeIOfXudv11ZHQeYOfijzWl-nngxCBDA4NzcHkYqkGbmjDG2IW0buELrRTa6cU8kbDp9HSG8DRimE2xFuGSLtZ0A52d1jdmHdP1JQeycbaomazVg0tx9RlMNn6W+JxCZcOcF25uQmQaw6xsnDoMMNN+yRs6Hv3GRiE93ApFWZoCApz6g7tgJifPrjUu3cJ7dniOxMY7t2PSQkT0yoDzLmgfb64QcOeFCJq3ZB1ieAknVZZ19m+n7eCDPf7CR4yB1-agdACvubhdKCjoxQTdJvSL+nAW5ppKj236OCgBOXPB-f85GoCciNroCbsWW0weAVuyB-hfgeipggKD0XJg98ddhb70DPB6LmIfG7J1jFz6eMB+QgAA')">function javascript_value(call, frame_stream) {
  return stream_flatmap(
           frame =>
           execute(instantiate(
                     call, frame,
                     (v, f) =>
                       error(v, 
                             "Unknown pat var: javascript_value")))
           ? singleton_stream(frame)
           : null,
           frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Execute</kbd>,</span>
	<span style="color:blue">The function <kbd>execute</kbd>,
	</span>
      
      which applies the predicate to the arguments, must
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      the predicate expression to get the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to apply. However, it must not evaluate the arguments, since they are
      already the actual arguments, not expressions whose evaluation 
      
	<span style="color:teal">(in Lisp)</span>
	<span style="color:blue">(in JavaScript)</span>
      
      will produce the arguments.  Note that
      <kbd>execute</kbd> is implemented using
      
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      and <kbd>apply</kbd> from the
      
	<span style="color:teal">underlying Lisp system.</span>
	<span style="color:blue">
	  evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
  (apply (eval (predicate exp) user-initial-environment)
         (args exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rMg7PquVzBsDFrVI9Kcf5WkTaqNN8cYV0b4whAE4I9OqE-YVFGOJE0IPNFAWcYnoBnExfg6t49hNtX4ylaE60Svkqn3Jk7-u8gHnk1E4U2k+8YMcdPEzHlU8k9E0UzAcxmU+BllJ4DeOxAGIwK2MdG05xYgp071Czjvr0UM7UyM9E-EzOCwCwq0zM+0Q0-ATVEeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7jc4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEI86C582E++qwDKLTDQQoKzmaeRMMwpqQDKcJNJMoH+KQKQIjQwGqVcvixxRuJpqEOS1GIaRGRi6Y0SOS4Pqi7ceM9mPVD4Ki3+HNFy-RTyG5uzfoFvEExhP8985LRGUxAiw4Ei4jIndg3y-VDy2wt8zoBuPEwq9hFqCwFcmRLc5-jq54BFJS-YoZmPH0O6jOHoGGlgDvNLCU3nrOpa3oJqrM467q3oErUpsEPeC82BNOpa2S966pKEEcwpqMGc12Jc-GJa6pLEB7NvnWIhAG9a7a0EGmi0AfjToyE6-4Km5S+K2qRq-hiuNq-63NAa1836am8YJpn8xdhOO3EpLHYfgDBW-qfI8sLWxGUW1q0C267OG2yhCqTa1EPeIZqmxtGy2aBuDNTy7-WYFzFq882a4GltDG-mBq5LaNbPL2mW4a1OYBk6-O-y8W4wCwLm3aFqd4Ou42EpgAORGkzjfMPs2ujlXvBmWvqtTunNOgDOKD9MCvCvHo2pJD3NAsAf0vnTW72aGlnXlT7jkCGlYgriIflSQx3D3jPNbyhCbvToQcHvMb4dZ0LuaslsRSTskfge-vi3xqAZEdFsQe+HLLkOUOkDUOHKjI4Sxj-SPR6uYjz6JuMjchGt72S0JvAjRGZv46tvCesNBCJ0scwhseUAgKxRccuiwhKu8fLvCh9CNvCe+ssHet271vlotDCfkdCP5BMeHwAfFBnjUjqc8fCd9L3xz4KmCeHAWeXlWW1SQpWz6gpkNvppSe9hCe0hAV8SZ10jcewiur-hWyJ12cngOdOeaeukpORfAkYQqbdl4kbijW+sXHToxcacODsT-gnQ+6lf-TxdzTgtmu5fsX5czVFfMBld1ezgQsbOx15dxobiKdUMqccdRFFdBpNvUb1ByfL0GKDfKeqfXRpc6h7uZc+SWcXFNeWK-2xflezTkSOLmWswez6cRfbkEGicbjGf6UXLBfmencHcFQWXEUBW0iOLcP071SNS8fDOrvrgGf5ixMRfdcXWPTaV7iHhXhZvNp1QNS3j5UxEJSZc-d2AXH-e3urP5CWcg-chg9VSQ-ScSpwuxEsImU2efhxeMBdjkDUDJj3BRoTCjMRfDOfdTOY9kvIeU9qtZOfhjAVcU9dhj4uczPTrxS-zad2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAG+q5xWYSwixiKByhFCaCmADCMBpJ8c2o29Cn2-BuFzEPCzZSxtiCOgyAW+iBW+zPTpO929sLkWvP-rB8u-DhwJm+kB+8B+zqR9sJk+DL+HpH-Dlx9KhKxgYiy93BNVY15+iDY1nkJm5AFDx+2A8CaCW+2AS5EUxECTWalBF9WxYjm+1-V+0fMb1Lp93BZdyX0TN+t94kj3ZRnfPfHZj+izAWHc8JXmP2R9t+x+V8ioEdWK+ZF8D9uz0RL+j-u+D1jAT8fCCwH8izPkRxz9zJTSJ+TDO8+Xnn6ggW+VoXq70AoeV9d+19r-IUpEN9vyb8vky-ILHH077r9ckOfSoFvwf7uxh+QA-futkP7H8iEZgdIj30gF99RA03ZYBcXdRgDxqW0b-gRSdD119G6QWdL32gEP8Ly8-dIAXD36m8QBq-cAXAJhYX9B+YEPfnGmn5ndq2KA0YAukAFy8R249C4hcSIG-8agkHOyIIJb5gsl01bGgXMj4poDV4kfYgV8XYFzlgKflV-u8gOryANelCY-lNDYAtdEyBQU1mpEyAWD8gNiWIGYP66ZRWsiHf0qEGcEod-SsQEHiwFx4Q9QAUvX5M1CL6k9dBbxUAAYPIAa87UBcQITL3gESlqERfcuE+ALjK8rYcQqnl8klqYUkyRaWqgrwkiZC5EyQjcB4M56eMKCafUoJlHJBeBDE0LO4BoMEYXEMMzQ+JjUK+gNEMM8SWobKhib-pOhdQw1h0L6HdDRkvQroYa2Z6AYhh-Q0YVMIIauQHybQpgACXRYr9VhYJeJhUkkarDsiYJYZuSWqFjDvA+wlIpoG2HvdU86GGYN9xmbN5IceIHHl61fTTZEGIwa4LtBeGfFGkOlJQj8FsCa8tIdwRgPgV6gDB8ggzNnrQKO6qI7h3nWEVskzpzCvA-iU4UsO6LpofhzxLQeENRGeAOK0-OZKEBIC6V2IaiIEfZlBGg81hgFOZLEEhFmgCRlyAkdvzMqPc4RKPcboiJVh8ILiTIoFhZ00CCiMegmWfpyKRHhDuQ7A5-pwiA4M4oRvHFPkfAhhmoWA-HRqBwQmDTAigiMOgF3x1GSA9R7EOgPXweH6sDRInI0SaPsAipy43XYrv+itHYCwIhLNUYkE1GVIbR+oj0RqIXS85XRu9IID6NNES5YWl4LUHcAobfJdR+ow0Y4GNGuozRDvUirzl9ahi7RDos1k6K4qBibEmfEWplCjFmoCIoYxQJmLNHlwgxHwQsdXFNLqjVBygXnPGR4Z+jCI0wVQJWCyqBNsuDhTsZpHNimBEgHLRsWXRIB25WMf+AcZ0CHHqjRxiQVMXngbGLjfW9ibrsWJIaljYxSYxBEZAjx+jTGdYggDOPgp+iFx-o+-MOPPatjhiwjDgiBBxgSISijQrAREPkCXDniWfFEacPRGLDCGKw18Z+IBJPJ4MBIokWf0975hdhiCVYeKCBhglHR8gLUK5DupGCWR3sNkZoHgnATAKKo9UG5hXCoTDBrJAidhI-F0iviwzayvl3wA7oh6HbDIEpjokrwh6wPH3qvDInvib4vraypihXa3D1wBEvQL6xgkENnA-EZ8ciC4k4TKJlnX7tQXkBWtw0Ck+CSJwIkoTbAaE1krOmEk1iegs6NSfpPSAaSiJWkkiUCz0lkCnI06IydZPcrPFLOymeiWMC56Hp3kdFO4NTzPHXj-qLQ8bnjWPH2JwSh8DXpMByCYhXIHPJNvz3mCaA7OXEuzocJZgFxtJIOazCJCtimTLA5kqIayQSkUTopcUxicGJ6BJTcRCotKUlDJYsTHMVgyKOuLNaeSzA5ic8VVN5DCQ-AKowgGMVqE0hFJ6lcITqlRaWSlJIUkQMrznEjjLeX-f3uaO8SZ0e6yvePrNKKB2EFR6SbgZBLGCfAa4a1UciqL6mOda+jQAafgQLiW8rYJXJSaBLSJqJ4+egSlt6yjCW87UXk0ACKQAASUmWwAAEFwA4AKTAACURSkAAAPJn1kAEkHYib3wBmANemIWKXEmynEBcJVEmZj1OKrENqQA0lCSJ0mlHT4uSM+gLjKImWdJpMgSoEVMGDxMKZI8RGS4MwSZ8ZmX0n6f9MBkgzwZkM2magMJl89GZyM5CWTOGaTSVx2rI6bYBOnc4UZJ0LfMTISx+i3hvUYWPzJQ5MyUZaMwRmLI7HyBE69CeCTKWpr+kwpcYSKQzLVmHADZvg8aoRMsCazsBcMvKebMp7qyhZdsuSY2nenociiJAMzBJAAAMuxamFlAPCexhIdPAThCkoCIJpC4c0kL7JXBWxvZ8c2Im1jVI8BbpGEZOQMATmMB4mn2EOT8GMRKBVhyc8Tl2Gjn+Stol3aIhcTLmRyK5ydbviCw+b99bx7yUwO3CLlfI7AmUUKOHPOmZ165HnKOTtOhnOkw5micuXImjkpCMy1MNUfcAPAyB4wQvAWHhnukucjI0oNPoXJ6EvDh5NYTzq5ErmwI+gqPIHpaBw7jdF5tgZedIHjCA9Me0gsxqYCXkrzgW2na0t4Ne5hCmC8aN+XfI-nezxpVgCYFqLSTjgFgLwrYV+JZi9Rb5981ecfzc4-BtoAcK1PRDpi+9Vh3lBvmWT4SkFRAeIzqFfzsg+I-xwwzEXZU1kkLJofCUoBBMQEix9GoQOiRLH0axBEFH8jCRMNKDsiI4NrJQdHA-y7YtoVEkkQAtEDvyH5QolCC624WyL2iOnNSLEHYUOBZRf887ootXkRcVRYkx8SxAZAZ9zh0gTWd+MfrgSJILIgCQcVgUgS0g7scCZ6x4EN9T+OpXKehIxGYTThJ0eyVEBQpySHwslC8qgvunVAeI49PAJjRiVGwfxUwyhS2VsXppAlVwghWBN-EuLtp28t3h4u0kNDW5WA-xcYF4U1BJhwwlSFvCqXGBEJKUIRlCQKXFyCKtC-WJyPdjgKEEdgQ4IEvsWAUXi0S2JekuOzOTWJrkh7hLDcXgV7xsEoCZIJaVzl3JyyEgHkosn5Au++QH-slIVE0T+utUtifmBGV1T2JcgTiesoly8SeiG4wSdQV5wlTVg0y8SWqFGJwgM+aylOpsueJXK0FGykSdBIeWGLnllAV5T-zeVyTjAAyzGl8rEG3Kw0588bj8t9bLKLSninSYBjWUvzyBaKiXMZMCBIrsI+SkrvmNKnLASu2K4pR8DBJOS9lYy64QkTsDeyfAzCQaf-MeEG5GVruNDuHPh4bApgPUxkCAuGY+4QFEY5OWPgFUWj7Wu6O-MxmFUicWCMgZeUUGwJ5FLObzQDLKpVH4NasDK72fFOo67ZbZqM0AOVPWEpTM6UwM1K5G9lJzOg68buf8F7kLAQFISTOnivSmdSAuw4N1fkoKmGqcVUXJsnysOAWqSEIC-1UEBNV4SFRbq6qbRJcn1Sog0CEeMDzpT3AAO-czRGPhDVWqB5QY5qd5KmnasY1HU8KJ7LMAfTvptgIGVuAAAyUmKGXtIcSwz4Zr1b2TqA1lgqMZvU7GaTMsD4zeZ2M11G2t7XKRuudMyoMOojHjrJ5N0QRqzKrW1r61PM0YHzJnXtq3ZykYZtrIkZ7i1Ios88RLKlkjqMVnbb2QrOvH3hsB+63yTXM5V3Bz16ozDpqtQZrqR15imZtrPwCdi9Zaka1SLX9JaqZ1Gat8R2tcr0JHZCM4daBsckqi4QzETROmt9UoS0ZharWe2K-W6zux+oGidXCMjbrVG2oxMSaL2gcFqZJMpDURPtnkrlgx4-BsOoo3uzKVP5ZyoeP0Wpqf2K4M0ABxQ1izB5j9e0OXQkjLSWe-7ajrLOhgcaBmRaPscasE1bTmFUE29nBtKqSauN1HHjYeO64CaSAGMYoksyI4sbrxoCvoEdOyHCTkeQ4vVNdJQwGp1UfQe6dZvbnLIVAQpOnsTMxFHSrkxM-AqgtM0Z8yNGCugZnUukSRD1-vS6F5oFnKR2BBcTFquAMjOzKUfoiBk5GvXzjLe5UMjQ+sSDSaeg+QVBPH0y3yyxZ3BIyBcTI2aBjxcWzufdHc28azywi0CuU2c3U9TAM6jzT2vFULTH6KMq2DytkCttnVji+iBcD813Bj1x-C6f7ythhbsIp0mWTFvNUWAat7WsWSlrshpbpp-vO9aIGy0sBctJkgrRlpyLhy9tpWy0HXPDmVbEa1WhLcnPq3jKo4TWk3vT3a1ClEt2bbzRZoZUBa7lmEXnkBoC3ddXtZGyLRbOi3c88GAO0Hb9pZgua2tZGjrRMBxkBaXVj9CoKrJdmDArY869mcDNBkQzwAHCXHQDPx1cyG15W4mddo5oY6PtgwM8lNA3C5A3J4GV7TqoHl9J4dwyOOYQ081DbkR6O6QOxDbU47K11autUTrSDzrxd9arKeN11VuiadQutdQzr4RM6cgLOw5rQBizUA+5STXRhpqM0WblK2EfXYhDN1VkWQhm9Ud118a66nVd0T6Pk10a6biAzut3Ceok3pqA8Zu13e7uegiCl61uxcY2ny3hEYO5UL3dR2iJ27MolQ-QTYB119zmmBuyiahuN3rEU9iELPZbtRiNTdOm4xgNGLLFEbEY9CKPZxp9g7BE9UTHPSdGD3ns9QfAxXSLTyb27boY4HPRWJr3JNKlGpBvWBjD2S04OSmCvVJuwmJ77d8e5ZN02kgOQ09vGrdehu-VYa1IOGwPekFWqrwx9ZoWfci1U0GsA9xKohLKi8mtTfJlK3NqSXzXn75xiE6pXYlWhN70gA+xZEPoLTUBUOo+9jQB2iJ77NBJvObuxzJSUzDd6ol+I5WX2YazsqkdfQaBpCTBUESgZwaeioDSQyB4SMxZRP9WGJLhwNeySD3ECaBqNNbHcOD2qgETf+jAWIEAeG6xRMOjJXiqfpak+S79nyg0I-pHisNX9e8d-bQYW6jJDSO+6IvwZG4kC64qU88OMBsCHUJIAATifC9QDquowtcoHBHUxlDxowtQQy1A+BNAm62EagorI2bYRoS+iFYDxL+zkBgQTQ2aDvZ3tyoaAJwwdvPJkKDQthoFioAEVRBbD2hikKqm1l7oToVgFGoYSf5aLfD2s-w8Gk0AyhHOth4zQquNHKrkDCIVzWAcXHUSPyfot-QVq3zSBFVKRoQz-uj1-gCjyR-DDgVboFxMoYerjpzCtgbgAOl4MPXeCDn047OYwX4KNkgrMzutAkWo4UKzqsAaGgx0YDF05hnkjDfcMY4Fp8MyHdRktULMscJitb40JbTKL01ADLGYaDWtw0Fv41Wxkup4LYI5xq6whFJ2oZA8QDD3fMHwT6-UB4Y3A7GUaXRpKm1kwr5AWjCvF47sfYEeGGO1Hf9t4fdiI7qetPTELz0Rj2g5jywNnXHPe0w7od7msfDCYf4hiFjxoyWr9OJn-aGe8aR0vBL6x0kHAaAFwzJUlFGQnjvxlGs0aSgMAaTMNcqOSZ6CRHzx9CbWT+uMhwGnIgJyvTa2rYoHtgXwpQPaDRmVaiDoAWwIjWYpBid9-7O3MwYLViz+4q0NbpouWCdHujK4Xow1tpWHxzjdgdNWMepIrhygcIeqHxoEj2gjj+qlLqcaW6XGHA4EG4wrwNL3GB+7sUbOaYpB+JPWNuViQOmP7UmVjhp41dR2+OiRtjyx9qCVIBPftENm8ThHPzlGgn3N4J0oHTyhOII0TDfeE5okRPEyrkyJqLXVmBMwD6I3p0Yr6cVr9c4QGJRDtYeMAhmdjjA8HXieyjRmXjsZmgXKMa3pAWzrZukyWuLqMmWTzZzExnnZOWhOTq+7k7eSrj6M+Tf7fxUKc+HSQxT2BsCJKdcIi1ZTcyeU5uZv2sGRxwU8Uc9qwCGmD9d7aKcWa6M8cWCAAIQpDkheeGHcqI+c6CXqLu4AWQEkEYDVIR4ogQ0kDOjkupQAQM6gFGmiI8ArDi4Bw0pnrNw4KIV59NTef56KAddpQXJNbmfPkBXzDmYCx+a-MnQWCohJA4wENLaYAAXjMFck+QELAZhs0WlQtAn0LLg5QDIBmBmgnzL56OYRcNKfmNMJ0DLP7LEtwXGLSFoM3XFYuV72LH-enr2BwuM1PpCmOUJRfKi-TvwsIAzOVFgDfmWC0AarL8DGAupDSEmLEKAF+l5VNAAAdgAAcDF8qFJcbNPhZLf7eS5T0wv51lL4RVS3GBXCGktLSqugLpaUz6XSL1uci1qENIxdPAFkf8wwckuBnXLl59rv9GvO3nQrTwHi9bn8vqWgr2l0K4aQiuaAUA4liS85ZSssX0rsITKxhesyNQALNgIUr5clr5XArmloq2FY3ClWLueFgi++aUxCWkrVV5i63Xct2Hbzilh89bmExF1DS0AWekpgAAiBl63EZbKAmWzLmlpIAwHACLyv9queC2NeQtuXarRpti7eawttWNw81igIteWsbg1rkVxmtFc6vZVmA8VxIIlacuIXqrKFi6-VY4vZXuLt1+61-o3BLXDSL1zQFlgACs4lk6-9fGvnWduwNj-o1ZXDVIgs64FghDcesw31rjNAa-xaGsbgRrf1pi2dZwCTXFAnlvEDNYuMsERSB4M1DkApCGka1HMQ0ofVevhFHzoxbyYJeNEQAHYTUSC9Bc0AipwxOgZK6jbSvo20L11nyyzbZuyhOb5Ubm-tvKh82d2b1kYxRcNIKANexAWsNcGEvI3qb0lxW2VwxteXQbf7NW+zc1tKZtbvN78yKkRtiWrbLlmq0rausNWCg2Nlq3jetys2XbkN927reJsC2+Lb5oi8NZIu+2AbMloG8rYwtM2dQLBIGWaiCxZQNLbt1iDYFjuS1fz7pZq0BZKuD0Ppb8iC1BdcmaB7LcFuW6dZtt02Gb3l7Cznbzu0APrG4GtcXaer83Ja71wuwVy+sJX+7EMCeONlGso2abHdrK1xadvW5c7MIPu+PcHuEAS7J0LLBVZTsK2l7Qdpqzjdas92N7Bdrm0PdLsbgOr494KzpZKvz3rbqV22xlYzsg3g7zV3G7ddJsJ3BLJF-W+EQADqMwUoIQDjBPVyoYMmsKNhft+2Jr6dwOxxazu3WwHjACB1A8NKwP3jt98AGzaAuJZ-ehpMUl8c+lmovjkt+i4fcXvIO5LKt7u9bgwdYOcg0DpTLg-gcj2t8YwaCGbdNISdyoNQzwFRe9SOAEHqd9+3Vc-uY2V7uVxmiw8gdsOcHcDwKydB4De2fbrdhezbakeXWGHmd3nkpZYLgA2O2QHa0pikyZnhLwDyWiA7ui0BDS4ATXqaFAA1rhgid2C1TcQdo27bMjryzdZMdmPqAFjjcFY6AcXcMW7BDwCI4UIWZ0oSHfFtE+2ASOj79Djy8vZyu3XTHzAEJ4nbCfWPvztlzR7Q-bvpOprJ9kO7-aCe5PQn4Tmxxd0UfYOYHqjyi948kd6P7bjNox7NcZrQBngYUyG5BczMVDbHG4LSzRGFvlQz6oAVSwBboti235X+ngBlnadpOA7Bjji4E42sDPvUQz-Oih1vtRPfZsqQ0kNzghX21ndDjZxk4atyPbr-TkiWYBAsHPRnoAHgM3a0fy3rnfjlB5je-tn2w7fT3Z88-KjDPDn3DnJ+Y-yf1PUnNNzp-4+6f3nmb1uX6ctXKgrXRAIDikI2bGfl3-zgF8m2DLNsiBwAPvUwNEXhtXOynNzip1s9Vuov0Xq1rFzi6Oe8PMoEiX5Gc8mDZhuLcLml7882eyOsnLBNFyPBhssu3Mntkp9o9fv+3BXtzr+6fdDu3WxX0gCV9i6lfcOmnyjlp3g+pdv3j7HF5BGMBp7bODbzEI2+VBot0Xb7Y92K5PZ+tqPSnqVo1x-xNdmuGXFrsPf3Ztd287XhtmK+VBNueozbpAC2-y8NflP6bt5j17YHNfhF7X5UOK1PbadjOk3n1kJ6m+NuzBB6wFg10WgRd-OvLcbhN2J3Zf8OZ7L6Zyzy7MB8vuHUaPh5y8Eft54Qoj6Req4LfT61CXRYYHQDZvrhZjFi607ac432cHThpp09cduPumHjAugSPeQXOzNDziprwGfpPPaszzqu2YgmaBNrm0Du0Tc4u8WK4GCAMppzYfAQOYtvhTPGZmrAmaJtWefijUrY3sZUgnGVjFNL2-oADuY3kjR22aCav52-wLAaJydFEOXJEg0Tz2t4QPty2KIeAJe-+-udAfaAIHsD5oAg-ewoPvsmD-vaRuyuqzDgdqEAA')">function execute(exp) {
    return evaluate(predicate(exp), 
                    the_global_environment);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:teal"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:teal"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

(put 'always-true 'qeval always-true)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-JwPAOOcQxQDkRQIBgeAkFQNA8U6i4UQ84hcKoYgjEoBRKG4Yg6ErITApSBhjDYGQGH6mt3LoMRhtGqYVlKakRqkZ1mlmuhyAUIaPk25SFPwDEsTm3wFBYfAF1ws77sehd8EW47To2yhrHGyatpMzzUmNIQZwqZQ2HIUr6F+oGZhaU8GDBugIZMaHYboX6Aam5TDtSatSGocUGEhzHMux86-supGfiJkm-jJjGYcpnGWkB-GQYYC1qDEOhTrR+HaeWhdef5wWwWp3GEaabm3m41EfmIAAPQhAjcZxhedUpRZR+hFecZW1Y1wwteljm8YO7noYe4RyG1xVSni4gGDquHbZYe2GHXChTq0UhDHh-C9OmT3vce4RfGD4y0Imq3FQJua2lrRwzr22WSjphdjHaCblDOlP89dj5BsloPqf+y3M9iJP2A8LxHe27OGHr5RG4t+Oa5iJORKb+SW77zvOet2aNEIEFuVRfvEfHtho9FjotH0d3GFV9XiE1uHK5lkO0O3GdPoYF6g5hsQK4zmXu9AUzSHM9mbLshznOpXw0fIFXPJcRfBt8tNwtXoIQgE9o7Im4GfMIVEByzXVtQBQ1AaCVldqvFeDhJhUViIFOeuJYHwMQcgy408wGCFIOfIC5Fnz-GgaDRQhB8DlDdoQrWyJ0FQRiO+TeGQio-2XqvVu+Ao6oLoP9WOq5VZaBEEtSaB56CS30KIgifDfYnUkGQIOLC96h2mBAzRWiih8PjjIgWE0wQsMfJg+MgZZoiWPgxUYNI2A01XKUGxL19ZoxMfYrh19a5BnVKGZYFEXyGjMsEIRVlbL2Sci4QBlBfAkC-kAkB1UcxnB6gWYEoIGBHxPvodehgZYYLiJYlwDkeakKDvk7upR0iZDks0LCPChpVEDjOM+eS1ZhF3gomIB9smLVyRrNpFSOmEC6dXf+6TOJ6wVggo2C516m3NntQpUEZqpEoKQWseSBrLwVktE2PtAiDB3hM4yutdlDX2Ys9xF9Noy2MqZS5+hrmHM6FLS+1cwpTL6sjXOqcC6-QKdXDB1CloKE0Lif5xcgWsJXIFMcGp-KUM8sKfQs1oYfDmswLQcjqYTCKdMQKTSV4HixaXXFnj8X-S7siyMwSGz0CpC08le1bFnglKAWOJKWUzgpcQPFe0um0pXGC1xdjeXYtGuy88QlFSBUldTGVxAmKFCCdGWOxK-lFzTvIgiQzsVlxMXcygwrAaqtSWqtJEUmUCAcOLDUjIniAgAHygFqWwE4WBAF9KPvazW-Naj6G+pvOV6y0gZCyCGpYzcPUrgaRufQ-qzaBuENwX1i1k18w1PoG80bJgIjIlygBTDzCGG5Iweh6Moas1RCauVYLoW6srnK14trdqjQakCJtBdDWUrRvWi1MRw0CshcnPOzahU+P0u6yNsc1jAImicit2T+DMxrVjdRZK+U4oFVSqdIi9HUhXVW9dFM60CVuCXHVgKel6INfy8usKC10somw4dJT5a2vBme2tyyLpXgUqCF5360a-qxndB6T14bTp7tzBmpNyZ-u3hnO9QGdwIaZkhiDhg3rQZbXe5oHr-LWsAXrNuHcVkgqgo2SOvhGQUf4YIyuTFGzdj1IyctQhV3VvPfVfQdHyHsPbVm1NXbMlYr9cdANOb2NhCYlqlay86O6OdOIpdUjKxGLkXJ7gomNTAq7pM71pbv7IyHlRruGDAouwYOKjleqrwkpsYszeZsUP3LvSsIz3yTO9XMHrB1grRqrPJI2F6jISVBZMcq4OXzyQOsg+9WL0WwO4ag-+T5L0ZYKc-S9XzZHkaYY4OBtmw8poYMS+l5LL19DFddthymSX8OXxXCS+rpWYq1dOV3VT8WdQxD8xkmZoHePIappZwGlWZPNeenY1GY2cN4cy557zzyFudbKt1z5vW2vmutbVUzDUmpKCgHARAyB0BdWJD88ws15qLR4dUdaldrOfqOrwB6ZB4YxAAD6-eMvdzZz2fugH+4D1Ij0nr9Am5tMHAO-QfcyPDArpnubMDEBIYQDAD7s0oH0e4Ygw3vdSFhV7AAycnvR+gnIziOdkBOMeo-88kVIIaftrJJ4TrHOPgMW3BCG6q5xAHVaev0tIKiOfkkCnMXNSYYPM4yWPGTwW-pUXDRjnnuP+epZ0pMwBuvZtS4sQkQMsubzm-ly2-kwu0eG+23D18Muady7tERDONvbus9ucwMDjXp6vad1zzXtRec7n5xt-3zghdDc4pHlmS2MvG4-ablwlu7Tp5W39F9aTAHx43U1h3aug+p+pyMG87vNqe8AbNDrUePPF+WBr8gmPQ-a6o+COvCfKYx8AV3gvMVRdZ+mp+zPQwXeV+z9XtH-e+NZSLyP0vY-J85-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-ggwHAhPKCTiswmgomSUX6dA8ZgVKA8gwQt-YyLjumLjuCHMMdbEHMKuO7UULQxyAwzEByMw6prQxhBw+VQeNwzQ18QfPwwfEI2HF8UjmwMddI86Cw4ULQ9xIYMfr4Mdco6o-Izw18ZrRw5rbGAo7ELQzcPjjzCwIYH8SY6oGYw1CsIY70l8Wtfw7EPoCrNwL4PlW6p-BtfRqAPYxJmCOCKgc4zEK4+4546AJ-KgaAL4-47Q3CNwA0GEzExE5-JCDEzEHE18cACEwYG4yk66pE6AGALE9o4OQAKS5PJMeOFOfzlMZN+NlOBPiTOPVOpP04eNNMQgACEkorT+TNTAIXjoAvTQInTwjg5XVVTAz7TPVMQ4zkjkzAIITbTtToAXVQIKTXT4ILq0z4Tazbq8zWTg5LqyziThQqzQzRTpzRz2z3TuTRThQVzMQ3TsQNZ6Y+U7a6D4DFDBYLlgIK4zhYRaaPAZDGDq8BJpDcC5DkDMU+ALAOBJgpqALKwQLyIhTvDYLPzx1Y+Zi-jRQ3zEDELaYNq7wAghLrsC24muOtDiKtQx1dLqYN9HtDjg5kAdA3oCCajiT7LnLcS+LLLrLgTVjDAsAkAHDIrYrArgrxjVA1je+-DIre+0rLLtDAAcuQGq7kxq2qx3QRJ82S6C9CxgxthZSi9MGi4U7LiudwBSz7uDJC181ixAxtifOaw0Ja1c7ixeEa2Ay66NgSQJUkvPEcsaz87C3g3QOAqQncbRdgpg4wGqKQPPM9gwDgeQNWOWsTJoCXauHa1gxwJLGzBonemfLG0cEUKRunfGIQBXfFc6jxYGOppIlPULD0uPEuh2c6784PolWdXona6axLe24uiIF22G0S0efC4i6YMCvzb6zC66-ZSq4UOPXpdImzehb5tpQTmIF8A1Qshu5XUVNOLdK22CCS1-QWD-UWa1Bdh1JgNEbBRQKYAwHnB8GVDcKQI3PVrRR9l9puGPr+5MCuLMG6f6fLsB2DWfgwOtbtDtbDdHEBzDIzBwAWvGnRa7n3ShyRPeSoIoDcMnMoloLTgh9na-SfsoJ9hkINPoEYOAsoMoBEw1BtfoJR-TuCLfqUJxzfGfhDRtZRyu86JxyqWRxhS4BvOAQEcDmtNG+fHJyMVJ88NBCpYGDDadeCBCKdQgYR8YMR0GkC2W5J3EnJwSkddYOCHh8Z7iAHAoGx6Qn+5yVkGfDXNxx6rpMDBisBi56AJTlgKhOik51h-Z0TuEP9phzeC5+EKM2fsUPCKBwYLLj5w2eCHF+cvh2jC+zOO+zFF+43C548gYGPEtcaWzD5350WjEEdJLo6fke5tjFF7YGRNx1pxtdZ0wGQHZ0lyMo15DZV7fnB64UfOzrV30Q1w59B6IgN6de17Z8C8F96Y12Df50UPCLJGRA0vEHEjlKCMdWfLa1tzZ51yBysEnFhAV83NZxCHw+msBt10Tr3SFz67N8d-50nDDU9wl+CAAORwdnwae-dvfweXVw0udWeHdvu1ikDRx5zQ+OcRrI6nQAfzew8LOCsBMQhCDCDHXgjBA48OQ6RWQWjFg49bIcDwggfQSlBXey6o9Vw3h08HeSCkm2c1ybfM9Icu6M9-j6Dc-td0-h3puZvKDZszhuLqweBuajLw82lszryucY-giy+ojHWjf1Fwzy-MtFBAtC-rAi-UCaDKpHKS9uCmfS8needs6S7y8Je0Nxf-HLZuHW9qwW8qQtBqzh2o93TvwqzG8FxuDS+gporFdfW2nYzy-q0W1Hnc1AgrhDdfQ1c-lOn1fm8WqkMm-GDY4QJxQaC89Q9QpvzMC+8S-+-ArekR8WoKrR910pd8MJdYSy4l9uah4QJVxj5N9uAt8VLoendp0s6zYceiP1-yCl9d-nwYd8Ix-qS69ZsG9i8MQeeIxqXV8ZZa+KPAYz-6+G-i8j9S-3eVIu8Fps8CObiT8x2gsZ9j8Ekm30pULB9W8-QR+EorFfH2+r1i7DfO+EDmI73vrEoe-khzgJabInEhICB9G23uRpC7wS6y4bevfOeuvEXpRIX4rmAooklAHEAt6flcwGhTBLy8Xya5KAd-wS58VoB8AkapuEQE60n40Sd3nVy0IuBcBpqLAcAIyTE9tIZUSgPgFbiuwBgFQQYPgIgHsh4kolF3hx3YE6Q8OfAnmJ3w4FZRNSgg1TmnhdxMCD+3-Jii8VbIsBqg3ENaERWJjigkq54AgYGCwj1YjBvlRyh5G0EiBU29WATDoOey0VZcNg3QUTjw6uC7BdiTwWtFoo3gfB7g7AS4ACEJthKkucwewTdomCXAbYTwBEIipBD3eMVfQahy4BVhiKkQ32tEJP6Xo7gAQlIYYPSE0VuACQ1gZUUJgwxwBSg2Bq3g3JggqBqXGPEG00i+4aAtHKgT5T0xL1dytiRYgAWEAcBSAcqPPEQAXhiDU6YKImOb13ptpDWAQhjI4PYrVAwhj-NWCULcoD0MqwQxYWIHpyMs0M0oZetjiJgMB+hgw0ZOsLdqEZ8OhAaOCENqwBC-aOYFFGCiIFwpT6qlRNLkFuHzcI+qFUYcFwj5P0KEt-GYYHXXjb1AB1Q74WMO-7h1tq-QBQDzFHbY4Kg0MXwKMTZBojyAGI7HIYFJDZDpGRgWYgl2xG4i5oxIJ4Bhwb6olZia-Fxsx02SIjkRJASRGSNGJMiToCEYkUJ3R5FB2ReI0kOJy-gBwOAGbBrJGBxGYjuAAoikfDwpokjm4so-EVSN740iRghgOkT0mdRXNqgoo-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-1EGqDf+23QAYy3ghxD2-BfjPpAP59jqWh+fjRS9SNgbgvvDRuiMZAABOE4Fnp4joi397ouwyowcMIyEE32D4GAf81goKa2eXerwrRQuAGyLM-zYUAsM4j9A33b7lZDQCxHlNrEXxbGHCOc8NR2eDeTEGSMobMGAcEsdaLKJVwXA0TO8iuDYjkhMjbhnI8CjMNc6XDOIk3R31SDTrqghUE8GQEehmx+WX6qkK0EZBe9cMPvP3lLyEL0G6AhUDTkcBrVea0UShdo1yxGbqQzYhVPXLvWSMQhUC6xi-qX1ACo8v4Yx0AOseCbcKVwqx-nsHtaDHBB6ptFiAOAk1cCeBPMYQPwN55caGg9212HVsG2jbWt3BZ42loHAzGmacxmLo8RvFox4QM8+faozWMHHomGkwQI8dqD7GYThxitr-zYiJHpgqxoJsie2P59ik8khqMifWPxGwj9hnEW-q3XLqd9V4ag1olONyr2FDBtGEwaGitBVxemvg41AiZTQA9R+tk8-rWi2S79pa7iTnnM1WqhKQgQwI5G+zNH+Ars79b0bRX9Gi+gxgPsMfRSjH+A4xyY59sahCUD6mHPk-8VkPCnixopmHaXnpOvqmTbQ5ePyaPoaUDAnJ58lcx5O1q2AIKsFdsmzR0biDtu7IV3vUOBNgVOI70yhTPyz69unpsM0wCrIksGj5+yIxIP0DaSAAOlgBOUprscdxmQMEDs4ep3G4TdBGhGiNn4ATxgaqImenXfcUz6ZzM91uzNMBuBeZ0gHZywi8ATwVcHoB2e4AAAvH1qAAzNFAmzuZ-M5wZib9mC0WiMs53jaNM1fiaYVCN6klPvAZTm4WszurHNtnqmt3Qci-isgsAceygHHtj0mDfc0weAas8Hs3OdzmzbsccwMz3MhmceR57cqeYp6zm-IQAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:teal"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:teal"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
  (stream-flatmap (lambda (datum)
                    (check-an-assertion datum pattern frame))
                  (fetch-assertions pattern frame)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlgHbgGJQ2KBiFEeCMGKAAMygORMLk0ZNobPJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMjrDabMoaHiIIlwKuk2qMISYAEd8CwHFWa6BdbJl92M72CTDx8YPKue42CduJwGS2XK9XlNa1-WD3acLjM6AsVX3V6mGkicZ64R6KBRGW51fcYMj-KxSBkAAiAAqKo3ygiDOjWB9Cz-ShKArfBmQXDglFAbCVk-ZJv1-Wh8A9WDgPSE9S3LbDcKvf9iEAiimHZepyFwNNSPIz1KPSKihyYEdCGkYVAVFGhBOE6QunqbpQDEWgmBbJpiP9fcBBA4saPPCQOE0S9qjkMiWLYpoOLTDSMn40ApNHAQxKBIwJNswQhPs2SmnkxTlMIoEXKvDTEMBXo5LWULjGQwYXiUhhwLo5R8OUCY53wViVKI6gSJM3jlKo7SzwS0AGIA0QgNY4KUgs4yeLfayBLc6SHIyholNId0oRkRjmNyuonOSK5IlEMDdJwn1wkiJLQBS0Q0phPr+oaEqmLK0yzOSbzRCUlr6jU9Yb00-LT1o6t9MMzruLWzzGmqqz+Ia4d7Mc1wAEh6jajqahyt9EjexaBommRBtGgzptS1iFv+xor0u3KYUQv6jE27a-MBD7AvXRtkvByrGgijbwqQ-oUIEKwwlIOMZDYZ7AhcmN7tACD-3QzCIKPHdUJZ7h2ePembIglVYtINn-o8QXRlIHmLgUhgo0iNhlAggBVQgK0ISgAHcaCdUZXWRFVityoIEOu0B8fWTYaFJ2hybjOEcD2nWXULcqQOfaYWP8Lo9tDf0qKdvXqU9pm0Iw7gTawPbfT9x1nUD8rIPFuKI4LaL3Y4D0VVJwhgxkFKGHIXqwdm9K-Jc4H88Ln7i7m+2ouRTPBBVYMOEr3KZEb7PgxplzV075vEN6euaH7nPW-Bjus4HlqAqM0fu7r4novnjgVQ4SN2HfNvq43thS5FNstgK8tt+9UBd9YxfEWipgAA8qVkU+mGxkvlAvnvD5oYH0-nvOWALouM05pvxdHvQe94l7Ijvg-VeuAODETAvwcCT8FgUhAZvGme154gRXmvC+f8AE71AZfA+ltQDYIZnZESAhFQeGgfwR+-8q5nwEGg8+xD+yBEuBSRM1IsQUyiJPJuY8gHvnngkFQbD3723DGAYetB2HRggDAeASBUBoHkGgTQEDr762sEpUQcCmBANdDnMobBSAfzIeKfAbAPSjHMZYowAAfZx24dhgmbo43QoBXHuOsB6NC7xCDeN8W48ynY9jeJkcPDs7pgyhiEMNegjjLwxHiVY9sOxgb0AsboAAZPkpctxclOIZqQdJVRgwxMgZYTsm9Qll0-nEqpiSODJPAqUxWhBN4RyHrUugEg7GUDKpQOBPS96NNIe2VcMNMSWPAanPRXASzkGDIQPewwpnGBcjsVpPgOmpMZtpNZGykF9KWUWVZ6zNntVoEMwJNo8kZV7rcK8syjKlPhuA2JJyblIPHiXbZzlmkfM6nMvJd5LlxLUoGdqIhiDiGdoMYFFssnWH2UkkaXTGawuGMURF-9A4XNiXi+FGYkXx3ucMp5TjCKvL1DId5bzPnzO+VfR8ZKCWUpdqI1FDLZBXghQsn5AydhP25USws-Lml7JYAkg52L5mKwlQinlgwSUDNVRSqVbpqWPJlWQsFDhjXePhhylC2rCXIuoICtKhqZksvBayyFiyHQADFIAAA0ACyABREIzBuDiGIMpCCw9ijCXIIWCCoANbRqiIzcQdjWFswdCwXAiZipRCsB2Uiylc3xkEOMAQQRZFLkpNwWgQQQDBgTWRNA9Y2DAFLOYUNABaFgTERBsAkMAAAVrQdttBxA52AFYfNtBgAADZkzYA9d6-1gamBsEoFMbNykvRlgrIomMyaPSsIzpQAQEhHQkGUhUpg5awgMFinGl0VaN3kOPaeg2LByGMR3RrGIIkphJhEtIaQaBoU7H3awh1YoMXyraYcnF4bamRpVNGjVordE0DAywDgN7N6JloBBmgTI5APJGRwMZNhN7KFNV8u8sSMNHpPfhp8LAXxbuIBWG4jKhUupFYs2JOwJKMblQqrFKS4MSRpBSFd5zUOPnE3fbgzBVnUEY1RtlvGxXWG-KTQsgF5OKdoCir5LzZVQeE+0pVFjlBS1xdQbTgxdO3wU0wJThBNVodjLZjgemsPMH1M8+lzSOkcGYLgI5TgLXRS015xzDB4FZUY0FkLRydAReRFF7zc5OlsuM2QxLQkjl5hqe5jx040rnsE6ZmDFnSCKyUjOfgoa3OPnTnVsrobHHNgC7lkaEFWsNaYBBfE8yCSpZoH189EmRi3Lw0ZvQxgkgCqZdxmjAyRy3ruVUKbSCOvPUW6UkbHJYmKY25J6bO2cvtmFQd-pxXrAru4KQPS432v7d2yZ3YkpXujbieIegk2pNbNexdyDH2HBXahXxgJn7UVopB5i8zonlWM1YxWJrKEf7Q9mwtwLPWUeDZyHk77KP6MSBh4t4VEONNcF4MNJi0qsc7Pe-D2DSOIIFFp8SmTKEI16ecwZ5TDOQVGqdbSlb7n-7Bhm9lrrjrONGQp2Lx86suAMElzIJ0nXsfWMiZKDXXPoprb+xL9XVa3vC8ZXr77x2Vdq718DmgV5LcchA9YfOMh5OZLh9BxVKT5OKzcBc6F5NeGMgpJTcmqCavsIwTPZpF96qM1wNUaQsbaGJ+TwIEWKRJwzjnEDNhrCnFp-j0YRUypXf-3z0X+odD74MNgXFn8iCtkR8kVH9+Ze4nA3JgUop2TAaF84UcYPow+Fh8EVeHvkMoZGCvIP6fM+R8WFDwIjjsgp-WZn8YVc8-N9b+j2Aof0tw0Z4gkVx8Bmc7jFILasEFpb6e6-oDW+yhjSgHlOp9zcYMwVi4NSbSEsKKABcUgwyg9WDAekre4Bek78LUe0-CcYwWzmdgMcS+Y+q+0BWGbCwBhYVm++UMmB0i0yWwCBUQSBpEogfs-MSeUIKeae8onel+wY1+t+tIVM4+5BKBn+j4+ASkq8bkt8Vej+cSniZiq4Pe3BKEvs5o7AukuEC4BEawe0CiVEvschiU1YKWxBY2CeVC0goAcoewSodA5+KEWcd8HA2EYyQhcBWU-oC4IE4hFIuMsOdS48k01YugHgEEAexhC4Mi1+oAAAKgABJ+ocAACC4A4AfqAASkEZAAAPIAByyAVE8oXQ0KuAGwiBOBgweGaB6CYCseZCvB0w5hghaBR+RgHg0hFRPgeR8WVRne0hc4ZUjRP432rR9gKyQs+RH42hwRYRkR0RcRCRKR4AXRGw-BIgt8DRJYgBTRPCo+wh0hd+shFRlhp01hVRisHRw6tIgeEYtSCikYSiUAcAiAyA6Ami8gOij4xiqUkmRy-AEwZu6KvgYgRiJiFAZiXy44HgBOksjQ5e5Gky-xjQHgzMYcvgxGZUfK+qJGZGEy74Xyygrx1R0sOwXKaquqAubKAJCkM0je9AcKkqNqISOKGJ44oJVq6q+JeShJjx8JTCuU5JgcLxhAbxNJcSfyZygOBJkJRJgEfJtynJ3JIJMKtmyG1ADmTmLm3iTJxJWmMpPSZUvOCpVJXJmJx4oG7AB6LAipQp6cw8XU+ph62Ge8uG3iC+W+dGgSDGaJe+9Q1JkpJW9W5WEJA4wpZUz2qJpW-W-2Z2aJCk2pPJOwKORp3pzJGcmOSOrpDQoJAmXpNePpSBls4pOpxhOw7O5AdOhmgp3p7OpOzJs4IwLIaG0W8p-OlJbK6J2ptpTQQWZGoieGEuUueS9ZbxWZk4ssDYRyysqs6sWsgywwLAt8LwPpZZTAxskh0UxZFZyg7Zz01U2SBcbAyGnwppuIMIO0rhAYNOkB65m50w25rIAYquB2xgyMBanEMg2J0Y3AlAQ468tSFZu5qMHmP46kyBlBIEpZzxEaDppOO5jZ-09CRQrxEQ1AYpzpjQEalpGwoweGoFcFDQ7ZYFW+POXJ0F-J4EO560jO2u6ZpIdq74imXB7MHg4moijeVI4EFFlBWZ0sehAg10N5e5owcsi5jMKsasmsZIAyj2fAk5xZEc15zutGYEpGcCrZ7ujmtAXZNM+5yu7Z8lpu2ohh9g2o3C1wAF5Zhu7Uxu8mBISlmFyQzZsl4MeG1ualJlEiGJc5UCyp0pOm6pMWfOBZlmoZbxJRHxjA9q+l746WMWPmcwIZjl24dCPxwVnm3mxENpPlzFk4MVMgIVCmXAlBiVGJphN8xJfpHWSlLUq5d2bAD2T2AZnpw2H5ioLkrFpsHFJV7SxYJ2W2ApFim4e5yQLkQVOIEQf2pJbVWWHVCQOV4UCkW0vkioe0hlNIFiZFIER4vVs1g1AOw1pAplY17Ed5-Gn8ZFfV62c17UoiNV4kce-VG281oipsrgHFn53VzSMZBV1m1uq1wZ1VigW1KQ5svQ8Ie0RAfJ+hVEb+GR9xKEllHAAN1y1CMgKJmurYxFXYcNmJWlCo9QulkQUNBm6y0gygENWNpycwV4yNsIiMoAklAytATE1Iz55K1qgcHZdKawTVBV1GXVX5JEw2IEfpQZSCjNLhCNHx92j2nxHpL21VR4qNR4IQBQDCcg1NpGfo7JhYKFF1vN7VG180aFVNgYitdN9JP47BL4z1+B-kzmrVa1jNm4hFd1DwuymmdhZJuJFJUZgIUJI0OJOqFJsJNKZqPMtJrJb4ytXlli1m7tKSdJeJ1IiJouzFXC7+ewDVFN7mMZkZWpvlfkWCL6OCn6JO0SShdhqEK0KhdACttNwd8WwFLh-1PS0N0gJd+Ntd2NMN3UW0LhPVqVwF5lgQEFQgUFUYeFXUpUilrkgNTYSlTlNAMZyZ8Z2pflJBzG0wNFE8UsvVcmHlmpdZaFxgjluVzlIp0NYp6dmChdoi-5qVopAKCJdZSVpsfJPtjy+1l9+KMdiVoiSlpsLk11ydDxxJkdLtx9LU99Md+1-9VKcJNpiovVYDvKE8EVDZUD2pcI82sSMZnt9N9Os9GdawwDcJ+16DBtD9IykDLpqVBDUd+18DbxjZY19ociJxu6yilxaiNxOYYN0UeyDA9qD+89NAE55SXDTAe9BGi9r5aG+exCuGygXdSVvDoEKSEETaT5L5w8g21miFUjz6J6H9h2VOSjz5RQ25whQmVWKSuAis+jKjtSaOBuCGGjyFOIwheWoW5joA4Wuj7mQFL6jjcjzjOIygWhN2j42FEwuFYpuATj0lSWrjhWP96Oojy9QK349FkTCjiTaU+OyTSC+uyy6TW8OMcjJjPuyC4MiseTNjyIeTdF22J1cjpqJ1k9oZiKlATBXmOFA9YpGJcjV4tDWRat+CXTTS5usgvTqDJA-4fBHoIFxCRVc282gtWwwMF8OjvQe0l6XmZVIt-dMFSCIEoN0KJpxCRGNKI9rZwhOScJpz1lOTZIxCRDW0OIHC+grggxq4RBQT3OdzclsBczpeCzDuRk7z7DUCdekF7TOzgOlzL8I9HoxY0wgzgx4wOcFSxzjyzYDMSLwYKLM0h4TQHg38oj+CMdVzbd0jcLbTEpkpmLKLxLugAAPH+PwFi4Iji3HQYTLNxRBEEWhExoQKehLrYnzXQJhMGuQNICELGgANTk376iF1q4Ck60ugDSv45Ssytb5yscSk6stsu9mcvcuUDnxMAawXnBiCvDAKKkQ05iulqMzKvqsz6asKuosjLNgquKz2va2MDNxat-xt2NPQmYT3OUNwmzNEwp1cntJoTMgIv1CxI62UlQvFzw1ND22g4utt3Ol0KRvMzMjb1NMTPNwUthPbaRUz4hAx0J6ri0toW7i3CstoUVvU1LYXSXMSJXg6s3USXbVpivEJ7rPC16TbN4XKUpBcX9kx2KwqyBJDiDI0oSsC3XkTUoxHgzXEIgSzUDNINHguQJuPObz3MoUcLd2AgXxkVHsYKLtIyEz-M+VRtOju7bvwi-LQ3BsImhvFxhuuBjMTD3sxtz33XnyU3NvEvQujsPWI1RI1uLTZu-u5syBwUNaFtjzDudPalsvSyVsMzVttt74eAfSrg4svwYfBCl2Bgts1BtvnQOCduKjySKjVR9vlLpKDvFsdPZPs2uDjuRCTu8WEAztBiVtvqH1IKzldtIzLtTWAhrubwbv9NHNfWNC7vNtnvEv7tgIntNBnvfMcJXtmw3tEXtivF-uPtvEyLHFoanFRgxgXGqLXEaIYDAtuEKbkAbkUBblvk7n24tLe4ib4XnkQQudufkBTAVNfzHnuflFlXjC3Iclecy5bCmoEUyJRwRchenkMNUSHIPCHIQTLj47b6xBAiGiBC5fWgFez7VDFe2m5eDQVehATTVc5c9YdL1cdJNcpC5c2L2D47deiCNAleuC5fWzBqSD44jdqADc1c9bccVfceAiDfGC5f8JkGei0CDYrdcAegKL1CLdGC5eSv1fGAyAv6gASAgjZATnSunqgB7fyPgQQTtpHepCnfncZCXegDtpndGB3e5fwTKDJAnfKBvfPATlQTfe3fTcKPADPdpivcXegATlgA3e-c9YACksPQPZ3CPE5aPEPqPCj90R3WPIPH3DM53UPD3AAhPxMT-D+94j6ADT1RBT81wo3S5j-T6D6AAy0YKz51z1nS+kM9yTzjzz1RNj5T5BJkJz8D2L9kHzwTw95kMLwD64KLwzxOSr4r1LxBFT7D4z64M8EYFT8YA-g8IhKl65yeWI5mIexkIqIRsuD6Glx55Z5b4XUFzbxGpQB6P2hmBtQ7-UIRriAz7V67wNpRiLu+VrYCF75F7byrYhJHJ7xHySVUBayBIcrl6xfjqxXd6bUtz1pAIQFGo9gVyX2X-z4X-UMtxSGQbAJABV5t43wXzX3XxUhwH6vV5t36m34X7l8kSwMkbD0P8kSR-9B79+aEGn1ysS0HykCHwz28xIvH+l+n3Cgdlb8F58Fyq2Qv8kEv88El-NDP9bwn2SgdtCsWT5uf+v2eXiKawjkzbezf2vIJGMBIEW-2h8MWMQAXA9gQ6LQ1+nwVzsGjWpxciA-fZIBLmf6dBAgcTaKG1CDaodtswhXumxwhbgQpYstQQEDDT4RpQODrRfLP0dov0qOOA3gHLRAEZdKyvvf3mQBHrb0aBG-fFGc004boNm5VTASOxS6F11mzBX3rpnBZ4VuabYbgDwLFLJ8LOmYKzucRURXF1EmAJzl+UYBdp2o9WegG6CxAMB2MT8YxpEjsQOJ6mgdcYPDDTymoO2pgiqLoBVYcA1WTrUnCYMIRmCtw6NYpHLk6j6CbmHmNgFiE+LYYRg+oAuDnBTZC52wXaYgLYjsDPE5AS5YgMQAR4KJpWMgSIQnggixpvCsaCVh62laRDoBTQDIUNhCGS4fBTmSkIq29Y5wlyl5GoS3HKGPZCQL0QYnK3tYQRII9rJtP4KUiBC5ghGWAQ0MXDLlbBjMbQGfg8aPhBhlQUYHSAlwGD02cwtPBBHlBZ5kgoJQ5HMNACFIsAf0e8jrjBxGQ5hugVxB4MFSHDVcu5ZnozADwo00wq4TYQzB8KrDUyyTF0GQA4CaCXYOg9jIsKaAhA9h1OUVvmWUybDthZNIwOKAaQ84N6NZVIRcK3CIxvCHQ6VlMMTB0h7hl5OEd3F3LSsdhgQWNA4LwbIkoRCGDUrCKOGesgQBI+1qiJmFr4KOWItsvCJxF4jXACENmIjEuCmBHskEVrnUJd4bARaaItwdni7yAxfhsoGfoKNJyBcJo+OQ5BiO7jUcsRp-WkQwGpg7DQScrFUUsIADkarCXG0P1GaiUQPrZ1nMO+xTDoCMgaAvMK7B7wjBkQVcLaI4FNkesgYTPIrAbCqt1YwsPYgsWThlM7AA2cwS9HxbcinBtwF0YbE6jRi1RGo9wYMPpHRirwcYiMR8LSgQFGmP-FKFTQAHHVwYPmMsHznUrzDcywIkJB7jTy5dyxxKN+KSJhEooPcHAwjDmL-75iyKRY0NCWDqF4YPcIotYXEhRKljqxPWAPPiCJHjIGk-YzvPJmEagBMC9yMcrfC7EliPcxVHatYFrHSp+xe5Gaghiw7EDXAIDYkZMmhHVkmxjmQikYFS7FiFiQgdsm7GxCLiJAy41cT2NNZ9irxi7FyIQLhLpC6uaeYGOISjDdilID4y8hIlNQKY7x4Em3NbU7x-iaU6Q1rkBNAl84Gil5RCQeP-GPC2xeY8gA9jIrPDh8gMJCY8g4GHJ8J--QiQWJLjvi8Mior8dwG+SYkMaFZO3rxxglgTMJpQhqpJ22CbiwS74XcZ+Rci5dxxc7R+qeJEnfj+JPkPcj1UcxJ1n2QlCQHwFLGFNrAwMKsamVXC6TRR3HdSlOyHICUFIjY-WA7nUkzkwuqgvmppKGYfEdJV4tPD0xcnuCjJfuPjvxRHJkiOGNALJhazE6IDkQHRSoJQAzjTA9QIgEZleO6bWTNJjwnAuMI+bzkBAD4gMS7GAoOTXmtwQKRtVLGNNBYGfCgM8S8nLNXIAnIQPnA4BFoBA4wBgDTFJROgSycUwDk1TdyiTV2hdChOQinhjw8ECnRzEURIRnUyEFCGyKxTDqVSDG1U-+LVI9ENTjJB+ViNZhCD1huApOFeHynER6dGqQk5ySxPA60xmkwMDaZGMZT9jlA50hkf2L2kCTAOt7OcXRwM7hCtgN0j3AEQ2AmBgxcWIgFmiogAAGTIrEhEgaxgsv07cW6HICyAe4v0+sP9NGAgQuG4wP6aqHtbyBP6zSFGdMARmqhvs6cMGe4WYT5MXBz8H6ajKhm2oYZ5zQGE8PGjXAcZgIjnC7BhnKjvBjTZgCiWJm5RrAKobsMGJPrT8mZVM6kDDL2bGsIZlM61hWNXiwzTYsSXINMA1hzh2M64wDmm06lxTJaTGF8ETKfjLSRZMs+ODTOlpii9K7kvFg12uBKyOAKs0QOxn0nfjXRxgW2fbPYxuSjpcdScMpNen7k3ZqsgWWYPnEiBCgTYUjJWOGlgwyZI0pqUJWYDKzA5+8HtgCM6mnVzId5UrHnhQQKR05TkAKII3E6BBbai0LBDgn6ktxBp042OUXPqAuQPQuhRqPZDgoeAk8k1OCiEADkOyhEXcfah6GvHfUdhJc1Nu9h0m6BppXcx2bcAqhhJioCcu2YHJ6YDigQIQNuUpCLk-VBik80sfOIwEcQsMLTAzG+AIQkyX4sc2wtP16m4JqQ+CHOUQVcDVRsEVw-PuzTqqEAtWK+SmNtInjiI8CNfIwDNBrnED9paYcVJXhmgfl8CDoKCDAumo9SK55c4RJXJvlHNAFK0vTvXIQXPym51CHWUQA-mkET5vUfNsYG-lApf5Owl6H9A7yAgfZD8IhdXDQX3yl2Ck6qKHIYTWBlMaCu+bp2ebQLYFdc5pCfloKZ55Jk1V+Y9VBaMIY5n7dBSpJUH4KFWn8wRNwFwjcBQYPzQYvHkeE0ES0JEjmMIr0Wzjc8DgVRT6B0DF5iEneMBZEFUXjzUye8uBE+VWTHyzFoQDRRwmsUV5bFKwNPI4oPkuLxgQMUGG4tgKgB+FUELxVgWuB2KthfebSYDHUW3DFFekQhZPicAuzAgk+HQJktcApLlF9Iuxbkv6jiEclJC+Crp07yGKU884-jMGLKCnYOOjkr3GZhZyNLhgQY8YLZO-CIpeCKKHGcIVNQDKfBTM7KQMq0npsuMnUYZbcJrGiAVZEgDFIIwQid5LBRkGZfOJv6YYcZQc8mZgUKILjMxMBJ5pnULqIpWA1IHGcjP4AHsn4fMkJAMtNg10P5jFGOOzHyWEL9lyxCwMUsCA9LZosI85brQGW-LXAhBDhFjNKLvylFry9IboroKpkGCHkmKhmNGCk5Rl3jIFZcsFmuimCLBaOmwXyWvKoUgRUIuEViJKwAAMn6jSIJ17AIM1bDkTII4yCi3yx-potvZlEZid8KvLwluF1EBCPgFlbypWItFpibRKWc5i9gTCpC4qnosKuEJkqOAFK6lZMRlXRQBVsxIVcGNZW8gLAwhdYvkCoF4CeYaxNgpsSsKhZdi5SiCDjIOKogEImnM1QKHpmMw7VhqhCI0xv7CqDlHKwzlsENXrwMQhGHmFcueCb4tlkq3ZeND1Xsrj2PMbIgIklW6reEscxpgZmi7TBrRXy2NSNJkLUw5GgankCGrjbrtw1aMWkICPryag+qRQDonhhzWpr0FoKwEG-m9U6qbRRyrArmvQUF9VOBoXeSiuzVHK81hqoWb+CnCh9VCGwJlAlOjEQQgqqKiAuJX9U0BJ1RARuY9FwWpkM14ApdaTmgKjqDQneddSEnykNqjlEiftaiCKn3LZi7cHvBMu1FOEFks8mxYUucLpqb8zAXoosTFn-rZiqQzKYMBphNUKi7cDonnL+WF0HCVEC1dsVCyQai5e0KIbLABRhTDVB-f6M6otALh-RfRagParyArqBofoXSPhr-VEb2AajOPuKOA3UBX8CPVDVzKMr0aCVN6lwsPOvapTkQ9ABsEvV+lrwKiuy8df6DQIgR-lfS5TI8uZpCTwNritlVBtcB7RYNLwWYlsT0g7FFNyGs5eYBY2Sr81WGxaDhtkJ4a3VwYqjWwBI2BBo45G8zeMEs00amgwMHGYxoZ7MaAUTMsdZxoemExVJ4udKQZobC-qQCIItjfMJ2WQajxHMaKVGsg2d5YtHRIDQRsIA+DEtbG5LX+pph8af1YUoTQIUy2hbUtTywuiMgykpaS6SqqIjEXiJJFUipsKraMVq0TEQIwMDom5ueBlaQtSfSFe2AgjoQUp1-QLTsvGV+QctAm1GflsA0yblNpW0QEIBZUgQlVKqmlQ1uGIrbaVLm4MR1uyBdaWV7dIRQNtqWlVuB34ftG+XsoTKuw9lb7LNTO3Ex1KYQ-ck7NNxW5zajec7YiGYlPbZ4nUG7equWSsdrYn2zMI9rtFRJ-tPGskGrWB0PbLtzSmgC9uuzQprcsOr7WDu6ZGRId0KESMGEkxCBrR8O3KZdIUplDfMeZMqaTrqbTzSd32CXGwAtYY6EdMYhwNjuhRnbKA-M+7V9qPU3qJlrHbnaDsF2a1LFB7Q1Z3g538zrcwuvDDLoKHJBF11ou7dQBB3gQ5dv0GvteqFCLJbNbOQQKq0V1HLMmKuzncVpUHA7TdPwKwKrpHpa7pQ-OzZnpDR2g7ndIuxFXsGsWqh3gnwGtTzEN1oqDqf2V3VbtoA26r1dzMdRrsCBv4LdUu97a7rwwJ77g4I-qHbupjgJdd3oxWP7uXULBrdpu5PqDKYB47yyGFFafmoNWVri12IBNWWsyCsiqo+w93EOqOWw1i9+O-dYyPl1Qw8VGwVggKHfgIjvSvem-OxotAd4qFxheUFHu-YR6B1HIXXb6IN0t60V+OXHZJkL0DI74GYP0LJJYlyNeqTmUmHTj30SI4KAg-8LC3VIiDbk2Y3-gRKIl8oVoogXnUKBUi7sq9wamvVpzr3bht9UQ8ssVLhSFxyyaFZ-SNN+V5w34F3fNkZImB-z-53k4ck-n9D5wQg1EjsaIk9XMV8OzcfFfmvU6rS-hdKl-duDT0Z6yNEEDA7ROInZ6V9ue0ANQcf04xMi8BccsIDJiTcqIAATi6CxIJukgAg09v4OcHBDga6NA4noDKBUt7NJql2HoBKaWF4i6qDQAZiAzjprgAQ6Tl1G6jFYaAfQ9Ztuq+bAQWh+kQob06aHRDT2StRIZ46Vq5kEiGgF93cZhRbqawLQ-mtXiJg4hTGFcVoa9XzLJASy+1Kcn42v77dzOtPfbF11zgFlwRyPozBz0SB8csRoI5UEEab73M3EvnJ3pVDRxkoowQJAZkaEXyJ1IEF8W+OyMlgJGSke8oQGjhtCOgnq02NVD-RFHo0p6K4b1loLDAEI7NUw493bRfcqjCiaAi8AaOfchjJsaLUYFMNWjW9U4WEGbAenmxqoYUm-JFK4DpS5gix46bFqZnBakt6WlLXnV2NFzWjhRlph0aZ78wDMSLYWBoeMADGhjLx6iH+oDDbHNILxl49Mbuo-VjDKQZ498a+5jHXlCiYE1Mb04eHDVQApoIGpLWp7f9W+eYwHpIVAHhgIB98FOAgNph4D58BHt2VdFJGbR+IPA33rH2yEP85qPzSoNmqBhaAGsBxHkb9CiaFx5RrtUuKqAriRjNR98Myf9AqsmjhFGavJ1k5UR9J9Bg9aSavzkmCDVJg7WQhRMQE6jpJDE88WxPnxRTe8V-HiYiYM9uy844SOVr-UprR8585nUWq-15snIheWxO903zf42Mf+brSiltMKwGuPa9+Jp0TW5E2Nppn5b2pkQjHO9uonAjIEQMAAdLAJFuNVCANjuABsHSGn1nc5eu5fqLocZhtGWmIYroMGetGhnMp4Z-+VGZjNhzwp68RM-nmuD4BkoEiRcMDBrOgAAAXqf1ABRnAguAuMxFITPqioDKZ5s-DBnwZmIIWZpSBHD+h4A1a9Jxk5EFDOxnyzPZukK9zxrujVWHoVVsQFVaZ4YQuoxCA6DzOt65zZZ+M5WeXP3dIILANcxua3OerhzJsIAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:teal"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
  (let ((match-result
         (pattern-match query-pat assertion query-frame)))
    (if (eq? match-result 'failed)
        the-empty-stream
        (singleton-stream match-result))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26GCxaBHiBEBghQYSlQUZsEwbJ4QqCpzG+vJRsnsZJ7mcYCGSd+6mmMC4XxKDdVahXUp4cRwYufRnnKD596+RXZpeK0JIGBuPjVDOlaTt6i3du4LWdYBu7pD+h7nEMDHFAgGB4CQVA0DxNBiRqumUgYYw2BkBhiFw9ziY+BRKEB3HklSdIFBYMgjEoBPwlAAAfPPjNDj5Orj7PE5iAui9SFh8HwDghCznP88Lv1Q-STIm8Tp2DpT+4xAkYQGG3MF4+19k+n7pOE1DrCx-CAAyBfen6QZ55HCeGuYMQe9d8x291rvp8DUPt8H4fQS7qy6F16qJr3lxDF8dP64YfBI5vj6j+xwKtqI8v+ThV7p5VIFpqBiDoB9Ogo8AFUUCqfcgA9agXx3GPKyYCIFQJ0ntYBGDIEczDs-Wu-5YGvl-qvfQN4-5JiPpMHBD8mTgPwdAq2tZv5kKBivEYN5-450AcHTiodjRCBnBUZQbBvqZToOw5Y8DUhn2QSPK+oBwTCJYWIiRpV6B31ppxNRoiTCaKkYQl+JDm4cOTlwwYVCKG8MTnQu6wD9EMA0ZImKaMZGxHIdwmhdiHFQ2AaHDWLjDFuOcJ4mIcj+7nyUWglRwTXFaLoDo4BCTQlJJMcQiJOMEzULtHksx9j+GpO+qTBqiTjEePXhY3JtjfE0Pnvw52AAxSAAANAAsgAUWaIEQgEjlD-HBL3EJ3pqConBKARy4zVAqIkenHmsk8DkBkEbCeKQQE0n+Bs9QIgODCEaM7VQlBKCEEMI0EAYgZm0jQLkBQwB3CJEGQAWnINyCoChfDAAAFaGGeYYCRrVgApC2YYYAAA2HQ2A8CtM6T09aCh8CVn+JQPooB2AeC8B7JQ8yWA80avgYQvgCCOBRX0Z265SBaSmRQM5m90WEuJV5cg6KuRYscn0GoyLSCgBqLUWoaBdEeVDrinm2SokKKHrE8uVkRnBmqOM5wKSGGivIAwSlusjaGHFZwm42In6mLfh-XW3ACm0PoTDNE708VqtrkSnVliCYYuUF4IYdS7R+P8UAhhocRIOpnvIxBMTL5xPBCJMOzAtBYOVZanJxt4aEECG4cJ1TZGcLNY03esahH0G4qiH4Cak2GBTaQtNliEFIKlSGmVoBjJFFUbmxV9AC1w0TcQZN2iLV0zeEPQt6rAhr1LV4zhI8GCBBkMovEXa9G5qjq20grN6DatTcOyxo7x3KNJI4hhPa52JoYJ0GB5iy0JnXZUZROgaaBNSMYdojNBn+pPoGytKCj3j3BLe2spKY10wJp++9n0x5hDgSOy+H62hfsGeCbgQHp0eX-aSiNVBiBYOXaQ2IJ7NrusKcUhhVQqUzg+MhrBXdgM1KwyMWD27Y1JsI5GlDHM0MJzI5hlwdiwjUZDqkFDmhcQIYfbBkD5bU4ZEKRxgJPrUgSI+EhqNHNSNCSiR3LI7GmnXsamy7Jca+6Stfco8EzqvA-s4k6zTK7ImgZ3AZtl0HqQAM449NlBL7XmYs5YjNACr2SYPYQfp1BuSokfTpoNijq0J3Qb5kEAWlVwfMCMwt7bi30CC1YyhDTPMOY8t9MQTGK7kZcGaz1sWXAOQPaQHL+giAsdXQGtIonKtnOK39A8MnssNeq252pIwqtNdo2VirPWhMJhvD1rNXGTqbgTcfYLL6lEJqssUHRQrzCGzIIwU2-FeJ215hjXW03dsfQ3sMpMtRJnKxUTIE7whdImRaO0To+gttcSoOEc7EMMMrGaEE76j2Xu1pWCrBmTMWZsw+PJp79sDt60+yA9VG5fsVyXrDrCWspgzB4FQI262QrmxvLxSmdbYw3lR-hPSRRVvGw2+bLa+PSdk70ltEnhP6cNGpmjpoF2rvgjG5xYtrUOCUCyiXfoCh9Bw321hOG3AniAgAHy8tEzTPAvd3ZyE9lAOAiBkDoADniARHlo41mQ8oxmlZFOcOLpGSOhuzyxzavPZSpQ7MJ2Ul91Oh8HfOgUnXaSmTX5VKIa-d+aQPcAO4Kb9nKlYfOIqYFz3ioVankXe8Zg6j0lSJN3QM3rvYdpPEWE5L8eActCT3noxcea0R5z6HPBJGi-yRLz8Wv8m4lV+dG75PebnAtrbR26R9f0c28702m+C4Et98z9n9vsPVVH0d6AAmvctzWvxRqj6Wqj505ZzEVVznfCb+Z7GNvioO-8cAwA+fQ+z9GAgwB2TDHoG5cpi0LPkeOeh0M3Pr3jeFyf9b6-6vVIP1AfIoRPH4YAyvAA6fGvSLfzDPEAkoQQSLffG3DoLQfQeLedRLEtHOcPV-LfVcUdYPNGbVbLJ-PAs3N-VYFoUgcyfTWyeyJyR+XwaBcgOGTyFwVA5DXyLzWNDQfpffZEbgMgoSAcWeTqBQRVZFV6B+DAhwSYbGTrQMfgtgXERNagSQmgaQpfIQwQcrcTHMZ8bZYUfQHNBQQgfAcoGQy1OQugBQqCGId8dtDIIqLg9AkZO1QQ+Qgg+nVWRmXtLPA8egEjQ-K8EZNfSQMgbVZEAnbfFYMgnwuI+LQI+QZhMEGIx8GrJ9MdIGVhT6JNFwqg9HcNNGZPRGMEAotgROQnZoMcDUMMCiF8Q0MyYIWwqyBghyZyF2WNSgXwEgDgpAgQ6qHMKGZbNEUEI1PI7VBNQwCgtabTXlfAfraY1tJYBPBXTIOSA2eHNwz6fDVrcrfQGY5-CPRIlYIgyOEg0YA4irY4uY3gumIfHtEfHvItHA8eCPH+C3eRUgNhXY-QXdPtNtQdXAl-Sg4yMA23dAwE+dZPcgsEoo2IUyGOaE2dPtQ9TfBEnnA3JPa-IDOY7GMQ7jcw3osOW-UlBTeYrI1UcCccfyIwzyEwkVdYOjYjFvcuCYRQ6YQKf4-Y1kuTaBBTTgCPekyMJohsJdAQPkiNBOPIxkOtXklrfkh-N9MIYU1-JiQUJkoA3IjxaUsePI+wutQKfU8uPIzUwwsU6MY0zhK-ckh9UIvrIjAUygXLNUkUlcNiUYxsBwPBWoRkGXAEeXZTE4MY4ECY4PX05NCBWofQT+dtfbduereMtYhvZTfWDHA8fQKM4tGM4QbgC4hgHMphWMm8FMhxMiWtb1WNQwbkRgSwgxfPJJJ-Qk7Usku9CkxpLkxwyU53V0xkM-e-VDI+C0pQvuHjUkvEjkxE2IUodM2MNYXzfwowOst+fgEJJsqRaIpUoc9k5jC8UIooWsoQNcxs8vN2ASW4Bqa-Q8snJ0+jYc2DfxQoRo607k74uE1PM8gvfvC-K8BSS+GPdPGKA1LJRpZnDvMvH8r-NCACncKCjJUC+uWhUI5oEM8kc4asx4pPP-SAs3bGIWRlEWJzTwkcwWXs7sPUAc1chsjc88pdJaRlICWIH0m+aMjUd2IEQs4svM28bkPUZiscn-NAz6Tws46YPwpmU3IItIvizoWY6UP00Ie47E2GJPCA8LBEr4x1K8nI5OPI-QQ-f48NcfJLX83A28hoCPB4ziIfZvQU--fCqCRsNGRkf4+ymcKpMPLE8kPBP3BcDxDy-yzEtGOYmWThNGVSzg0vUpcUOi6CxytaPypCgK06BC4xFKg-FYf49K9xU6eeOYxIj0nUGIMMp4yUkReKpJSfJK9i-ygyoCzckCwPHDIqlEz6Rq+ixgLy0E04lcYqnAZXB+VXeQJQDXH2bXf2SwfXfeH4thcXbShMdg+WSgX44gKKhfXSpfCIrVbgMSrS-qSzMEBtcwywpmXuaDUInaqIvaxlMKiTbNVIO5CwqwnQxM59YNHcGQKyZ6s6oeC6prcIyRdfKIjA-bM9Cdb60AKdTLOLB+PfMGxawMCGjA7gLdB6umZIysGSkjGQcGiYjdKGy9DagmEo06N4co-GqzMm3qWzCmjmJrX1XUtKsaJGmbT6zmBiKyGm2sYzDyHmhqemwUtGfbM1EWmyg3RwL4PnOaaS1IkjT4w6yxG8Aa4BaUiWRW8kbxQYVWhhe9aWhqFgQQ-mAkiIQoLWzhLCCGe684RsVFBqCc3EOW4IjmRkdCsMxffmIwFqhSkgiXeHFK32hicTe+WNCGfy6I-mZ4c2uMdzChaWDGzicOq46mSIGO6kv8DAqOjaySgI7G+WlvH2nqBSlgdYB21-Nm4ERmMQVFb20xYDeWDgVqWu08VM9Y-GLar2wO4u5-Uu4wKOKA6fJumu82QO8IAAHirubvNlbpnNnJoLoPBAABU65Nq6BiVsteBUMmxYDahmhJkABqf7FnEuWaIUffMe0AI+2zQ+4++nU+1qc+r6ASuemIUyWg1o5e1emQYgRyPQsQLexjHevzPelRK+u+snB+q5GQC+n28Ia+qycByymIKBp+2eiW8wXKeqgPUxU28kYBU3YeOubETWlYYBY8-vIu8mDrZ0JTerMeyylWLPIhogQyuIl-cRfAGWge-Ol2wU6yyy5oFKjeLaBh7fWYChWe5B0AIRustLO0Mem0O0dB0c0AFiLUgwU3Dee2qOEkp2lIvhvLBUj+zcFK9ougWucoakFq-ewS1iBkhwo0Xs97IEdWr2j02MQKChrO3WCOnxgGcSsI-mKY-xh8VRr02OhMQh9EEhjU0Y3BOqlKgysx8mPBpEPW5hmJo4iuxxvMBhbx7u6hqk4SD85TOu4hNu1cJhysFh7EZB-Wrh46Z22SgRgiIRlqkRihMRvSUoeCLaVunqV+qPbxoiOBpRrIFRz0iBjR7JysbRyeR2nhnGhm7sooFo0xlq8xyxkQax0xAYjyng8JhxutRsFx5rAjV6dxuJzxzhbx8OwO0J2I9h5O4Ox5uxl8jCi2yxaJ4h2ZpXWQYa7FL2TXX2HXDAGavudQzQ6gbQ2QmIobbI3TJRXQ8EKFqQ4gPmlbCQ9F5mcwjgLBDPeF-LVLG8DIp2AqbFrQhqFXRkJRdMJRcEOYWzWIOYVcJ5ooBljkZlmIDkNlnwhljCblzMnlWMdlwoBlkeIVkePl+lsDJMzIWzeVtgZ0MV2IBl7iQwfpcgXwWzDVrV4lRUVVnfMDdZ7l9Z0V-lsDU2VQA9FgQwaDa12192FYI18MqzA+oV2IMXbgXwcIIM0Adgo+g111hl55T1mIb10AX1uXAN0AZ5KNmIENsDOEbgBoSN6N-19gyEBN0AJNqzYAcNgwKXKNv1+XdgsAYNy1qzAAUkLfTdLdjerZzbzeOvEk9frZjeWqlF9areOoAEJJR23i2M2y3QAB2gQe3ZWrNx663h2G32DJ6YhJ3pgGXx6ARw2O3M3QA12l2W2IRZdZ2fX53QB5dd3e39313U3ChN3R3ZcgQS3z3wQ+3C3Y3Ch-WYg+3Yhxd0x8pey0WqXrCCwI7AQVw9U3UBhuB-2YXqXhrf2U8eBKXoPAOYp8AWBvkTB+yARQONBbCY2BXEPkVbMzUMjXXycCOYPLVxMIo-3yPPyRFOK3WwQGW6jTtuAWPUxAm4iGXIA6AxlejmWeO+Pl32HFQGXHXYBIBuXxPIBSORPGOIRHWukhXFPZOROGWAA5cgdTwtzT9ToZ+nODqkKD6Q5xQOkDlYMD4Uf1raPGyD2j-RcTCljQnF5xEg8z6YSzmN4ji8BD5zgDhztMMMlQtQ2jnQhwYQ8rV9fbYLsWIsmUUgVQ46b5cgasWszqTQNhtCYzhqDQ-pFUwl7w0I7LKLo4IoeJ-J+MQgJZguwU-bXO6rwxzL1cfg5c7L5DsqQp6R3z6FkziqlhRRw-FrpGNrkZVD9D0wBSrrtr1z4O1TooHRxZ5prBGmO2yeMQL4UusfAxtIgcyrhr2SwLoayjoF8arXP2TACFlQegVat5GcO9D4MqG4UgV1DWd6urdOTOMW2Kv4Ohc7QrGhV7hQ6+hgW+1BmB8D6xAH77jgX7mHL7lGGHprO5G4MkjVLQQdUuHLaL5QZQLejIY3IwYQnHht92I+-QN5ZQI7SZUocESZfexBo+inubv0WnmDVa2aEOsMttE5C+9n1qCLnLAX-tSQXo54aCL5hMKB8B8ECEcB5HtVYwNH2MsD4r7n3ogXzk6+6wbnROjyNX3EI2UXbLN7sp4387cEZTG7KPEVS+Y30AJeLAVCUwkTTuG8Y38IAuElmhd3sd9SRbIo0oCH8n8rP1v3q34vCmigUwBge7mKJ711M3v0ZoZ3nzPzaLZLO3h3ysmIA+L+TA3vMy4P1aSYR3+emX2+-XpgMgUXLaMgovuhJB7PyZUHlqyY+M2woD0y8JH3o+wnZv8Byvw3oPt3-Q+vhvg+0vwoeEWSMiA2eIXonKUEWzbLOzkXg36vkvmHWeeHRPhvfXiEQVgsy+WvkP8Zsf1fnnqv0gQSR30-PntqXf9HcEAAclvuy2l9f9v7s0x6fuN9hpcEr53pSA++IAdGyVq1YymH0D7puC2igDmeV4BlkIGuxWRggN9ByDpHQRuBiwN9X4hwHhAl9oIpQffrANrDADn8N4OARf1JKG8iic-NfkH0oGZ1GBgA0gb6w2rJdUuygdLp5QYj9oPAiWI4q2je4qE4CgWKbOdkQGwF0+ySKmPDS77JYpsnHWIGBw4HrAuB1ATQHkT4GDI3AGvQQYQFh63Zc+n0cQcXgZaLYYMrfYPO3ymy0D6YhADaqAMISsE4Y2ggQVNlbIGAYCafDPLYK5KnN4awjIECuCSbWDD4+fN4goKEHvMru8HRNPwKwFDwyCcUHDk4KfguC3Bug-+isQMExCTSgQjpvLFRYbhw+iBLCDTnkA6DjASQ-Qs-jNTxCqhyCEQpv1uwjIgh6kSVudgaGJYmh+hDMm0MKHqRVBaXDQTwNppdD4cAw3BofiUTDD1Bmg0ot0LcBB86+tgwwVHitoFDcGCHBIdUOWJ2NXyjJLwe7i-h+DHGgUcwbZlCHGpTh0Q0UpRHOG2lW0-kcrj0T6ImChBldbflmVMEN4tovwqPOs30HmNGCXReQYWHZDvDDmuvcwELVdL6C3uWEAEaAUzrIjqCQI+bCog6JMF7BkQiEXCPORLYEmWkGKILkagNQBgFQHWp8PAGBheiJABEUdgtDYD-+ggYQEkKwHaQyopFDwbSIKwUICRCIjBoWCIzQIuo6BTEdbWlDbMh4HUBgLsmEAcBSAa0JxEQBQI0iVwRJCbEKNWavBeycsdFETGejix3GraB2JDBuaWI5YYEeVBqFCKlAHAMoibPKKQFKjgRUOfTm-Su6EB98osDxE9EyIvkGSWopEdEN1EZ0sIuQH0UH1sHcAox++FWtEJiHkRjmloqJs8M9KfNImgYeMQiI2rC53oqffwiEgkS+BYyhgNkBUFLHIJDApIL4S73-BTpzsVY7VjWOJBPAMy5QrplOiUERsSeq1EXEWKZgtiyxGPQcURB7Fddt8I4tsbhmzTQIyADcaQjOLXiVjIwrYoeLWJN70MmxxeFcWHHbF2CuxlGScWhEDLy5qgRsJceUnXGjj9A+42sU8F7F+hzx3-ccQ0inRqZ8mA4wsTIAkTZwcOuhGhgsT-GY5GYEaQIO9CziQSFAJsQCeF2pBzjMa-4xGBBJFzQSRc24zuAWJv7F55yRghcQl36DLjbxsZOtKIx-GCROOr40CScnAk4SMJhY-+DBK9SXdeA-dZqPDARxvcoGQffHMKPECSA0JUE7oGyG6B1jnKvZBjqlBxBiS-A6NbMY-A3jsd9IGxZVkIw2qcTXBRId+NxIIq9lugjIGnC9nCrCZtR3QcIDT0WwyNQA3QJ2ALlABL0AAEl0gYAABBcAOAC6QAAlJepAAADy6nZAECHdpq1JAagA9JyNRDaoKcdAc0ftnYk5cZQcMBHFjgD6CSZwWkpoVFIvKxS7BqUA9JkEikki3YrIgqZ0AXDMiuRDFfbM5NckeSvJvkgKUFLKlCSspHIkqQxTymV0CpDErSQwB0kTo8pmAzqXQH+SUSiReGZqMVOLC5SwJSQeKZXRwmvR-xYHZnFrC3py5DyagEwF4APSMAqpgWDaZZAxx0SFpHo3sT-TNgzTqp7wVKWtnik0wHJuAwWmdTWRAgAADKGWAQ1BHIY6DIBSKkHGJqAgwS6ADMXQOB3pcQcGbkEhnaAj6eIUyQmBekQzCJrIgmL9ImxlJJYI0FGSIOkHMxIIEvPGPDnBAWDhW2QcGfjOBn5lM6gPASYEHjJYzxQqQaoJTJh76T4OeMoGTFBBlu1f6-0jgKnyiw0yko+DBhAOIaiOROgrqXkSuCiQdRGRdaUoBjIFkax3R3MnwbzNTB1oO8oYgwcrIpmSyGA0stgK6n+HRDnxhQY2abNdSJjchr9UyBmI+aKT2QgQKWTLPZmQwsKnECoCQBECpAohhAeiAj3Rip0oIwCG2Z7IFgrAtRish8OGJz4mEIMD2DWOHiNIEQroa1VRkGKtKJyKQ+okWEaNi4a14pOc98laOUm0k7RLOUoJdijDINmgUcs2TbFagGUWAgY7UI70OG5N-QH5JEa9gIilBm55sihAnM94jz5GWQB8KhT+jyV1qmYl2RnUnlTYc6QOIeCzAsLJo-gOMsmKeEWmST4OBo0WC9AlhpyPRTEAcMLHHYKwIIxTBYg4HPpwSzYrcuaP6KNHP4pxRQfeRfIgaHC45P2U8PYTiJ4BIQYClcELCNFFzzoxoy5ofB-kJ0VgssKBTfPY6GzH5MDZ+fxDTlfyYgfo06AGJQjQRUI1MXWfTDVi7z0YCC7OhhWDEmE-Z-hQOdIh-nny2cadUBeAqQWcJjsewU7PcPFIVz0xFC8+dQr2wvCfZHkDBbiCpyPY9wv4cOcTJcAuN1Il2XhddnN6qL9kpQpEndg6BZBCAci9KRDAzLfZMIU6aZvPXq6byuGxaHeQYsg7yKo6Ji1IIrMIB1jzsViyOFvNsWPA3FkHNkKnVAAcLIQziuHFmQMWLxl43wzCKSHOxSKsFuOGhBEqtkNA8cpIFJUUHiUyKacp4uTisBpzpLcFioNnBmR4VaLNJQBAGVnDZLQI3uSLatDUvfQvTMWLgN4OInYnhIXpotbDF7KQmcQUZpFLpfWLqyu96kdoLpS0PRyIC2A0s3wHNQxZ2D-u4ygGaxKC7IED0gs-IgDO4BODYpOy1gXAqxiHyqQ4ifoIwBemMhGZvjDWKzOkRdKmIrFJ+ZUSKiE4slOOfQLsvmlxTcFbSs8IX1OUnkulGS6YE4MQUZ14lzyo7JotOznZ8JgI9qjH1YFeyEaAK85Ssqtky0BcQuSidmToBPLnCVRJpA5LqkMBvJ1kAADJdJgpak76XhnCk2sXpMUr5QfMUVlAOJyU+6UkHSkFT2pmyplWdLsIZlypRUxlWLNDp0xhVC4UVbVJcmkqKVVK1qZlOSnIJRV3UvkW+MLFDdBgzOXqTiv6mDTOVdhYFQ0DDQAzxpME+EL2N1UwSIQ5M01RwHNUi58BG1GLqquZUeilplElaVQDWlXgLl-rQ8jFzVQvSvZkHd1dTEun0q+Vhqx6fmNy5CzQBHyg5XsqhzCTBInqmCd6oAl1MyG-MGNnWmWlaqSxG4jAtNMOkXlPlAq+KcaqvCvjXVAM7VJWqxyPTEi9zSiQJN2KIqyAIA1geaLTVrRGwrQZEIyBkn0jPojA8EJ2tAHDEM6Q6hwFXNtFKxi8xaPFg1ETWgC+1OEuwXOukSCjGBbaliRUrFgVA4Yi0fHMMt4nGT7ELcXPD9ivVfiayguQIDdN5mMAtJ5PHKfQDWhaitJi0ctV+vvmNhDJQIfVeWF0n-q7CqjRsLj1oIEIINaa9zmTmtXoTugI02afQEdXvQZ1DQQqDiDQ23TMNCgS6rGCwgQbpcDbGDYzJnDwat1Bw1MSMXFW84n1DUFGS9HfVDLjlAgWKYyF+UdLks9y8kD+uSlnqvlGcpxvB2A0cET1A0sDUNNE1QbeylGghCjJwmIa9IyGkSdsBUQvTCN2G8nPwDw3aazVOE4jX6CwgvTyNMbJTSwhU3tq6NecqCJhUu6UjNlb8BdBBo-WjS3uIaiDYPIbwuafNn6wVTDhc0ebfNrI0LUFs83oa7C2MD4MEApFBbYu768LeRXg71wOpMWhjiSoak+S-JgU8AExBy2eS8tzU6laRqC2Wb-WGWl9W7DsaBRwQGIHXoxqyzsjNlvSuLcxtc1saOVAmvUelrYBDxGVjIElWSspWFbyQo2+VeVvhwWaDADbGrYyvq3cKmtR6xZm8G+SyFjiwyspscVZHSkNtD0fQcBO1rHbes7aGcIdpRA5CTtnCe2Zz3UyLMNWm2mwttvVVKszt+2ncs9qO1vbWVFsxrKyL6w-brtZ2yuvdqaw1AxAyGIeImr+2uyAdD2hhMCVEEfDGsldRHU1mywKBH8YO9VRDo2obb8AbMq7RN03Xtrhl62+gC9oLAAlqdD0SpogQPUi4MyROtmX1lJ3wjOdapW8lOqRUHb6dKIOnXQBp2ukCc2fFnMzvehNJcN4IJATfT53dq6a1O4nZBsu7PbVd94lIKLoUpS701724krxhcTa7ZCIOibulLhXv5CJ144tXeOZyK7gBpai5mbrBAu61SqardShDTYNsNd7Oi7cbsMA66tdgehneLsl3BNaNd0WXagKsgO6dWdsbXarsC4-TiA0O9AgkQ90U71Vy02ib6tXAuNZck-fsA2KOIIrE1UOmHV2sd0iEa1zoTFZIGxU2q2ctgCXfPXr2C5GADE0hcQpsnKYvdRQPXXtFl3oCFdZe1gbZgr1aBk9etOGCYH4Bo66u7VR7AOlR0IjuAyDHRut1Q4Fptuy3dgSlzUHcCGqFU8nSxMnBeMvVuenDsZAL3GR4Yc+9AppC-LijPo0jfimwHNE1r2oVMUtlOKBGVh19eS2IDZDsidEABVAUaKQGaBzCj9aMfAXPV6azQsVnenFaQqT5qTAmg+qPQZvBAwHRheRUfUbi0BV749oAPAwsLGihlGwNwVwXq1LGMgAAnCcGAR0HtWaaowCqIYSsG+MXq8ZJnA+DcBYtvcrUWUw+BianwecgcC4HlgfT75hQbg-oGf7P8rIaAVQ3ptzkPC60ChiiZ3IaDcG01zMI2IxNgn-xn8LgeNjDUXkjF5DPEUsQYb4OmNuANBgPfqwEmdBZl8y0whAgS2n7MJldPXdgeOruHtW8ywg1CTXXj7hCMykI0wDWrT7Y0Sw1IImuqCFQTwZAWuMWlF6cyqQrQRkGkJYLMBXBiR37FSk+gpH+A0vI4M6sE0mFuUGR8ZMShvkfpeF0CeEKswUPghnkXRnYVUNACgCOChUGIF0bDYIgLFMQBQywO7UfLjgajBxixAHDwayRGcA9OyNjKtBxDRQALeDOCC1aM+bW+DaRXWPJijh7UdI4016K+8JIxaJutgnzkdHhj3RiDWyKpFxsHjIx0rj3LYj0a9Dth7VhCDePxt+jzy92ACfeMrh9DDEgtV6rz1BNdYW0lnJMcd1fyn9IiF-R8s-0GAADf0BtpQStlx70T1IJAw3pQM2rlMdCA4a8Mxo7khAhgRyJnHKNGN+tORvIwcvSGFHMhTK0o6YToCDHr6VRzIqcx3JnN-hY+qY60BgxEmO97Bsk5kQGjz9cQyRlPKieNzinzmMmKUd-uxMxtKChOvoC6n2m7HpEZGvo8mp2ygqo62RgQFThyI0gqijIWKQkqTXdq4c48Y00UtXDmmxFrK605CqKHQr1FeE0TBmXb2N70JPpgld3FGKJGSDihw6foCAMAAdLAD5qXJMwyRMgYIKLj71Rsj2ChNCMofiRnHjA1UaM4muf5xnEzyZqpUWvTOZnfsWZXgCeGfw9AsIjZ0AAAC8fOoAJM5sdTNDxaz1-TUz0E7N5m9IBZ8EHUa4YLKTgqEfaNSfeB0nNw5Zvs0wCWIZnBzw7I-lZnIA30WAN9ZQDfWuyTBn+aYPAKWaRXLn-Z-Ztc3Wc3Pyc5du5-c4efwHjm-IQAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:teal">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? pat dat) frame)
        ((var? pat) (extend-if-consistent pat dat frame))
        ((and (pair? pat) (pair? dat))
         (pattern-match (cdr pat)
                        (cdr dat)
                        (pattern-match (car pat)
                                       (car dat)
                                       frame)))
        (else 'failed)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26GCxaBHiBEBghQYSlQUZsEwbJ4QqCpzG+vJRsnsZJ7mcYCGSd+6mmMC4XxKDdVahXUp4cRwYufRnnKD596+RXZpeK0JIGBuPjVDOlaTt6i3du4LWdYBu7pD+h7nEMDHFAgGB4CQVA0DxNBiRqumUgYYw2BkBhiFw9ziY+BRKEB3HklSdIFBYMgjEoBPwlAAAfPPjNDj5Orj7PE5iAui9SFh8HwDghCznP88Lv1Q-STIm8Tp2DpT+4xAkYQGG3MF4+19k+n7pOE1DrCx-CAAyBfen6QZ55HCeGuYMQe9d8x291rvp8DUPt8H4fQS7qy6F16qJr3lxDF8dP64YfBI5vj6j+xwKtqI8v+ThV7p5VIFpqBiDoB9Ogo8AFUUCqfcgA9agXx3GPKyYCIFQJ0ntYBGDIEczDs-Wu-5YGvl-qvfQN4-5JiPpMHBD8mTgPwdAq2tZv5kKBivEYN5-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-wXbyKkBsI-6fS7p9ptqDo5zuFUFx6h4F4RGzp9qUhl7J4p7hH6CRHzoHpMHpGK5jacRO526kbuHYxz7ca36iHO53qkoKZrRxiWJsGhjkicGX4GAirrB0bEbM7lwTCb7TCBRZH4Yyae4MbQIKacAQ7+QX6DHv5LoCCjF0YJxkGMh1ojGWGyYTFvphDTGFEriVEkHJxkFF5bFjxkGv51qBTLERqrFoxMSFDtHzH+icIlHu4PowHrRjH0aoZTEzErhsRyGNgOB4K1CMhPCAgAB8hhmQJw8haIoIRqDAoJjOGo+gn87a02eOymGJus+hrOym+sPAphqJxaECtQ3AjhZJTCtQaWdomJEwCIZEta3qsahg3IjA9+BiVOUiPuFRV+l2dRAmnmLxjYQGjIdu2xfx88jxRBfcPGNRpRsGdapQRJsYawvmYBRgnJb8-AhORiqISB5xvxfRzGF4XxRQHJQgepPJhpbsAktwDUpRlpxufW4xMp-RdCQE5+kYXBQxwRKORG6OvJ8OWeq4Ckl8sOGOMUBqWSjSle9OlO9pmeOcXxkZO4yZxOjAcZ9ctCXxzQym-kchwCTu4eSeiu2MQsjKIsTm-+R8TEjY3Yeokpup3JBp2Z2q-+PpCxqO0oYJoQjI1JN8aJdJzZZ+8piRx2-+9hzooBTMp2kBeBt43Ieo3ANJFJoQcRRRB2yOie8ugR-UuqTpxxKopxMBWR4aguSWwuACs5ekEOY+dMTuHOZpARlZUEjYaMjIWRr5LCVSd55eTEeCf2C4Hif5hGgOOGPUtY7hMsnCDxJZnhyOWZ1OEeGhUEIFuZYFp0qFxi2FFuKwWReF7ip0YO5e95AJOoMQCJoeQZaOdp2ZNOa0WFUFpx0ZoZZUBFYOK4WRHFKZjAAFsRFFvFBx4UeAK22KXsm2vsO2lg+2+8IRbCcM2JA+8slAoRxAO51wJ5Wu8BWq3AM55eQRa6YGdyd+D+vc0GXx+liBhljKcFEm2aMOigFlTMR+2JFawaO4MgVk5l9+7lD8xmHkcBki+uiBRe2JZ6E6vloAU6mWcWD8ZukVJlp6SJG6sVW6TldM2BlYS5JGMgUV6V56sVl62lokJ54aHibw9BRVVmVVDEtmNVHMTWvqpBHiaMnlz63lnMDEVkDVvUwV5gA1tYdB8mnVqVFG1iNCnVT5xRjgXwxarUUcOBUB8mh55IV0NCVFtFtxEsG1TRXWgwO1pZC1+AxgjUk+-M5REQhQm1nCWEEMjl5wjYqKDUipuIi5uBWCjIRZClFVdwEs2Fah5MtYHWW+Lgc8UFINteTWEMoFSB-Mzwd1h1U1ReSNCVLg8Nyh1MkQKNk5N40sSFsa854BeV31zO0NPUINLA6w71H591a6jMYgqKRg0N4Q8sHArUrNp4BJBh+Mul-MbNpiMNnQex6KdNK1-uKeXNLN5swN4QAAPMCMzTzWLfEaLjwZuOCAACp1wa5CDErZa8CoZNiRbUC1DNCTIADUtamBJcs0Qo5uCtoAtttmNtdtqBDtrUTtX0eokwLBre7eut+tMgxAjkJ+YgJtjGZtfmltKirtntwB3tVyMgzt7Nid7tidrpsQKdvtvNHhsauUoFpx2FN15Ip1lYw8dc2IB10wwC1pwuVN5M4NioSm9WCtOdKs2O1dRA+gOdIBZ1S1c0X1a1kxj5OdzQ2FG8W0ndmBswFCBdA9oAU9nJ9J-47NNodoBdPZrEhxV+p2G8b1Uc1Rn1q1eBjR0wWtwtxC-BdAtc5Q1IUFVtu9Txcxb+RoixGMusjIe1QtAJsYgUjd6NusCNIDAM95BE2NDEiNushBTxbRjNCYp2vdtdYl-1jCECJdAOpiPU5dSInhPd6IaDGFK4Dda9wN1Nl9wkgZuJc9aE3dVdxD-dqB96i1x0o9y5E9BEU9UFM9FC9DBEpQ8EW0vNPUGtNuwDREm9f4ftEwcp5ESdRQA4h96lk8H1Ut+VLVLxIBbevBZdKitkD9IgT9piEhEFo+CjoAzxH9DQjYEMv9Wx+1BxgDnCwD8NwN4DfIkDsB-MThXj8DshCDqNQ+RDNdKh6Dy2D8q28gSgG2Ps22-sGAGD8+e+S+DUR+6+Q2xBumSix+4IiaaTB+xAQ1kNC+6TzMt+HAWCmOyB2TBW2Gz+TSBU5TxTj+BY7sQISi6YSi4IcwtmsQcwq4KBDQvTHIAzMQHIwzs5vTGEEzJJB40zPTYGI88zI8SzJuYG7comtm2zmQzoIzVeYG3Ehg-S5A0hdsPEEixKiohzhQvTWtEzWtsYdzsQvTpsqgB6LAhg0GHzXz7sKwrzMQvT1t8zsQ+gcM3AvgHNMJA+ttNzQLwIYGzyYLMQELULMLoAA+zyoACLMzYGcI3ADQ6LuLmLA+kIuLMQiLvTwAqLBgkLpL0JWLoAYAeLyzVmAApHSyS9C0ywPhy5S6ANS2BuJGCzy2SxvNC-i1ZgAISShisMu8sAiwugBytAhSvstgjgiK3cuKsSvK0xAaubNWaK0Aiovit8ugCmuGvCtWZQm6sYuWswk2vStatQlmtEuFAWvKvMvusuuasQgyt0vMuFA+sxAyuxAqXpj5Rf2FP77UCH5JXA2Agrh6puoDDcBxsVMrYxt9lZttMjL4AsDfImCUCdOpsaDP5MuzOtMJslOmqNMEGItFD5t1vtNGlpgRSxu1vL76KdNIs7i9MtHCC2bDvNuYH3NgaQB0BjKiEDPTuztGsTvOjvNUCfOwCQATN-MbvjvLsDtat-NdLzOHu7vLu9MABy5A57dLl757Ejy7ubVIrbvbixIiCNKbKwabwoPrW0hVmbPbDUfbj7Agz7gHr7-5MDH70wX7TLZqhVvuoH9FIi4mtFO+iHmTdA0+5Wr62JO+L0aopAuex03y5A1YHJnUmgLDaEiHe+-SOxtTgBXx2WOHRwRQxNdM04WImjFNkx2JpN3HY9YIMBae2p6HSbzdy9PAAHSHLCCtPjRQInSMYnlqb8xbpbINkniHzisN8nhQx9GjnDWCNMr1k8YgXwtNAu59P1QInHhAAny5nbEl0TUl8TW2fsmAGDNVFApgDAd6HwZUNwpArqGsXVdW6cmcZqIXAd1BhWM1pSJE4QbtDAHtedad6b01298XfwdCxJkXWXHAuGsadyNwzuGqWgg6pcOWuHygygJtGQx2Rg0+NXmL7stt+gbyygG84IkypQ3XK9KiVkidHXp7fo3XMGGls04m98sabaJyztE3rUWHOWS3-akgohzw0ESDgYKdmdEIidxXaqxgZXdJabzHs3ohS3Axbt1g4ImNUna3uIRsCg7X5WoXuJ2WGtvXymukyuIql8H3oAS8WAqE1+ImncN4H34QBcqWEPr34QarKii2n3BgW0AP8s4Ii2xkpQXnbyM4fnMUgXrqH3xkzQoPPm6emOAPQPLJMQ72n0xebapekPtgZEvXe3tt53j3ZAz3qPp+L3q0G+ttwP9aCdtt2FyJmJz+BYvhsuyWkP2dq4kyHtnPTA3P6X69-PdecPgvwvhQ8IskZEBs8QohOUoItm2W-7D3qvpAgkGt9OWExP1BnPEIczVJl8vPq0W9WQkPlvc31vgkwP9OKd-PyP4IAA5B7dlpnRH4H3ZpV77R93dyr3eqQObin7y0ecJnVp3B9OF5uFtOnyN1eL00ICO1ZMEO7Q5DpOgm4MWO7aERwPCAHdBKUM7wX7WKn77jeIX77zUU93b-d3N+rz37IyP8nx39C+VaACR2R8oBRzOGjP2h4IlroYQKFznv5pjlNsrPuxCBvxnsklTEldeeElNrp7EGmzP+sHP9QJoLQYmsv24Jd6vzl1DjiYfNv9Qb04tjBmxcDpL1NgH4Jop+6fQhH3jhhL9BkbgF-gKU6KgJzaB-F-pfXsbiczGQIFcOL3-6HwGefhZLIALlItNH+xgIePXjiiVtQBT8cAZAMSzP98BhoG4qgOIRdc5mO-LCFtAf5QDiB-WcWmag4GJZkEM+aLsrhGTT10eqzVgfIE4ECDT8xJEQXw3R5X9yOt-Bfo1VYGmE5BuDGAkokUE387+i-PgdAI97apABr-ZXI9UYH1x-2RA6QVV1mJ+kOiZPAAa2iuI0NTKVmH-qY2IQS8P+zg3ejY3oFvFW0xZNknTFEIkAYBmfWrFhE-6s4toMQlvNfXmyGM7IghIfCXhvISEwhxASxtlRnTQJGMEQrbn3GiHOCd+N4eIU0CDq8EkhNkFId3npiM8MhXkZqt7hyEhDOIFoYsGVEoD4BGoDUAYBUGOrODJqbGMQp9CmxddOhVUO7gMIZxaQYo9ZCYZELRotCy2SAqfppAYpdRC8SQp6tKGMZDwOoDAXZMIA4CkA1oTiIgHnmGG2NPIgpVIB1CQE6NYgQsImGIBFhvCxYr0f+q2gdiQxXGliOWGBHlQah0y+wgKocO+jHDS+Zw1fn8PvYt5cghAc3KLA8RPRAmijewXcLgHqpTCgA54RDQWabgkR5uOIb4O4AkiNeJgqxv4IBHIMghgJRBiExUBXCX+U-EuP0AUDk8wCISa5nSUMBsgKgfIoeIYFJAjCcSHdKdDvyFHnNkEoop4MSTYECMp05-NFi1w0qcjuRTMGUb4H5Eaj3oCEIwCqMk6YEdRco0kK1XyGEd+gy+M0WvEFGRhZRIosUcsL7h0MpR1BO0WHGJAKi3+SoyjMaLQiQkfW1QI2A3FtGOjdRgwL0fKKL6xhgxMJDkQaKIhTpC6HHfUVyJkASJs4lbY-K3RuLZjEYEaQIO9CzgliuRX7BwDBkK45VCxjMYsZyLLGci3uHdDMcj3VK-crR4Y8pJGLpJ1pZ6bY3TgmL+h1icyGYpscmPSzlivUGDYehwB6FjjyxELbElhAZbDjlMc1DyGoBMBeAD0jAKYYFgPHOBuAoA3iCeIn7fC4GVZL+qbDUAkEaQTBRkIbDICMBbx5sU8bzCZBdD6A3AE0QRFAFE1mRb4+8V-i64yAkwtQH7qLg7Et45xkgLKEmOe7ATGC3cdjpxF4AXVmo8MfQLxFC7B92BVANMZxFSgNjSx3QNkN0BdGCwv6-bVKDiAol+AsqzIzpsCMViiA1SomfroYA2EygIBRId+DhMInXi+y3QRkARNQnMigk30HEOEF66LZ+u3QJ2PONAA60AAEl0gYAABBcAOAC6QAAlHWpAAADy57ZAECD+q7VJAd4o8UukEknIXx8I8URhIahYS4Ydko2C-h34kTXJAg2vtpAdLPikgA-EiZ0AXA2T3gd3EKZkDmHfj3gkJV0SpPUlaSdJ+kwySZPACRTJAYsCoHDF8nzCApVADydiRImITr8vEhgPxInSBSX8NffKfQH+QZilswCb0CQL8lGl3JDk7+ljASmITXo2YtNpXi1gm1oSlpbcS6j3ExT-JyWIaZZBJL2Skg8I1UWHTNiTT2p1U+ETTGUkN8wODgNZECAAAM8JYBDUEchjoMg-QhAcYmoCDBLo50xdLtO0BAhtp90q0YnTxDwVLEz03IA9NIB3cCYJ0-HItA1gBA7p+-K6ZBCKFEiIQHgrCM9LBkxRrpXvSWNlyIkeRAgmJQGX8FSDVBsg50taO+FBmXSEZZoXlOHTOkcByeUWcGUlAroMINRDURyJ0FdRLCVwUSR4RMNVIG07gAMjWHCLiCEyKexMhEf11nh4jShsYVvqYXpkMBGZbAV1GSLX5xiig0s2Wa6nKG+DhZpkBkcEwJqBAGZTM3GQVyn4VASAIgVIHgN+GjQUYZMXGlBGAQqyDZAsFYEcXZkuC24B9doJ0GRlkwHwBI14pYg0q1grGb9LEbcIbBf0WAHw86M9HFj-14RwcgMoCI3jDsB6pQcCVGAHrNAHZcsm2MtTREYi960EWkX6CiTRDwgYI7OfLIoS+zoelcqkUIKvDNB05xgGkUyN1nEB9ZOcqbFP344sw78yaP4N7PRinhHJn5COW8KjmWwXoEsYGV1P+Eugr8wsBHmOxeKBQHATtE2CFHNiojTo6I38Xu0KAjy55CIJRs8RdnSTTwr+CdngEhC3yVwrw6OZPOOjTyhaR8wCYnITBLzWJEETmevLTqbyzYQ81UbGB3nWw95wPaCKhGph1otZasIBeTHjltE5iA4E2WAXNnSIj5s86mMjRvl3yVggUYZBBJHZ2DKItw4YgzCRizy35GNRBu0I8h-zcQb4nCXuF-C2zIZDjdHuBL2CQSd+hC7hSO2JIQYvZhAFhcjwhjEkpJmEKdEoxKD0w1YzMSOP3OLSDyRFmbVhUjQkUPDpJhAMUTv17mKLzqyix4DoszZshcaLLMALfMhCaLcRB4ZhYvGXiiy7FOi5HgwoAX8QbwIipWdME8WkhgF0wNxUwvYGBiD5KwdgX4r-HOhsFxJPhfslu5oThU0ec6VnF6LQJQuuTatKkvfTbTSmLIhahhPCTbTsSZqIpb1jun1kil4ovZipnqR2hSlyPEvmwEZm+AlKJTAfrFzqV4zUZ5gHfGqm2mGz0YH4+aZh1AAASkawkqkOIn6CMBtpjIdGaAw1jYzpERSxsl-TcUoT1iq4QJVvP0BDKPJ-ixUG8HEQFLksUym0kUoOUrAxlcDD6QmHWWf5HxnCohVBISIwTKh4RXzhPwGXJUzlMyvGf4rgkLjSJz3e5Q+PsRKTJAiUjSXpOsgAAZLpGZNhJsAjpeGKyZ822nap1px8pyZhN4kdSgpXkrKT5KHgYr8Vnkt-lFITznTtUTWSleTPbTxTIZak6FXCoRWZSZwxK+lZisKkvjsSvUxToMErwlTxxrkiqeWAEnVTvFioMNOdIanlj4Qqo4VUuIx719ZViEpvlPx3ykqsVbC5iRmL6lUABpV4WZT60tK9L6VAyzNjyoWnHylpaKrlWSo2nsjaOFM9PrsovE6q-GiEvlfqqzGGrK2ZDfmEyzrT8qtS2o3sYMBamrSHSeyzqdTEuUERhxWq6le6rIC4hPVcDZth4zbE9zzCDUN1enz+HAr8ZX9VoMiEZB0SshqazvlZA+Xp8ZCk5MtQ4GTngRxwO-YtFU3zVfLC1c84tcSSbXSJVh2qEftmunEbCllOUxaLhKqU3oFubUcSRvmh6SL1euEzceYA+DBB+hbUsqC9Fcntdt19ANaEcVcmLRwpbsuxl-VElAhRVlU-dXVJfxWNGwtXNvAQnCnAqoOxuJVY2O6C1TYpcqzkQ2oaCFQcQv6qaXQH-XvRrKsYB3gepGXDjn16MqwrBuLV+D36tC2ihusCD0qvhe6ypWPLzbWqXAQII5WeBvIDLd6x63iVOsI3nqKQl6vwIyBvXiqqpNGx9V-QQ0EJnpiEj9XpC-VkTtgKibaRBoUCAaW2-AEDYJrVWNTdOsM86dwHg2JBEN2G71ahtDnobUOwgElXdOCDRq5esG0Lv0rPUyLYgpQWYYZv03ElZh4Uu9bFKaxWbYNNmsDWtEw1br71OGvFWetWV9l64rU+9f22ZXJTdJBk4yaZKYgBbtJQWtKaZKfGmFwp8mzFj5t03vBd6BCjEPEum50wzNySvDeSBc3Ybd1eKlZdRO81sAtNHAfzUlJhXwqMp5IALVVoRUxa7F20+LUy0S0YqUtnCcEGlvHUn1eMKOb5KvhsIzrs+WQGwnd1uJvABtKIVfvmPTTVy9CvWdtDOEm0PRjBC28UerMax3dQ4GjE5lNoLAzaWxncMbbkJCpbE9tD0Q7eKIVlTdaKfWC7SiDW2NYNt21BbXdxqBiBkMQ8N1UNoSk3ams0RTfjsPW1-b5tW207T0vKwKBvcV2hKZttu20VJt+AHGStse1FrvVw2jRqjoO3Y6y2Yir1RmOJJI6cZfWXHdqjJ1SqpyWgT5WmrOIEZ+tl2inShAPmjrmxNMYDeCFL7u061E-JqvQG+TI6H1GDPbYLv0APbTAINVne9FC67aUg+2wLOLrx0783lqwQfGGJtE9jhRVHWMDztp23FFdYuuXatt9xS7BIzOooMOJF0k6ltLiI3Y9sN2GB5dexXXsblN38IOdFfWtXmpp2p9bMVuoXbRQ+3HZ0CvajHT1N9X9SA1V4DhVCRd0NBqlZhI7NTrdVB7yuPu83DPgTWxhAVCE8cdgpZ4GEc9i4xsdAsgX9dlM5upEATrHVQwOdVfbnd7vrXcBU9kMWivDBMD8BxhNwyGVkUB0BYu9a-fecAWPpmci2BaKzi1Sn46D5+7FUKejrbGTggGEe-1diGMgx7jI7e2roXk2EiJthn0ZequTYB-Cs9BgSsFTBhYmjr6Z+4zcu1qFd4hCvEK2c0Gn3KCyCTfBEcI1mjzjc9S46BX6ELKiZ5Obuu6Bzpf16DGqXupPV2rTW2YwDKgimPCUbA3AIBJzM5sSiBAABOE4MAlQPXNgVRgC4QwlwPnNgVzMI2FnGb3UNsRjg1sbRpDmUQBwRGqUPtKoOFBiD5uMPmHyshoAeDom+g-6T9DsH1eHwAuWwauYkHep4yTOL1P-i+4XAOLeKoyJ1kxB2DpBqQ5uBBrIHbdpza5muuBhNLzmrS6-BAk3Xz7px4o03SAfE2c6DDLSpgJpQb1QH095vWw60s7bAIDBqQN1dUEKgngyAtcYtOtwmUCBWgjICgb3mYAQDPDgkqlJ9B8P8BM6RwDVeSAHDcoAj4yYlAjw-TcLoE8IF4kIfBDPIijUnIgaMon6D5CoMQIoyixPkrghD4-Wna0GODWN36LEAcG+p6F9CD0mmukk0aoNZaKZOm6zfZrc31k+jVjVI-4fOoZHVW6kYtFzWwR+yCj1R4o+FMEA9HRAKxoo35BaOhy2IaGlYMsa2NlG013xL-O7C2PbHX6sQVQ6VJDX6qjVvjH+sqwHoNHU+2uzAjvugR77dlx+0-efqZZnZvFuu9460Bgxf74Jxe0sRuP8QIM6FcWLYkIEMCORM48RvLMVqpChGgQ4RqgdEcpTGAyplRt2kkcIL2MnGQaoEHEMb3drwTrUb-VCee4wmOtliN4+bi+M0BjsYJ5rPTr2HtQATPrIE1P2qnuLzYZ4riJ+N1WTkOF6kLhXEpv36QVEspnhW-yEVZAxTWscudQQcY0U3+y66dXoooVDwWYbMD4PJnVMSmNFup1IFhGnVLw8cWEDU2oOGUimNeuEk-bEBvAan3Ta4QjS6YXXem0IW0L05EtXDRK3+sSyCU7E8Pp79AYfA8foFCWgAAAOlgEM1hqh4nRmQMEEZOAHcWGLDfGhC4PxIpjxgaqNGbdVxm2pCZ0JSmbTOmyMzvQrMzb0El2LeAJ4X3D0CwhtnQAAALwvAxAUzCndM0wEbPZm+TeZ3s3QmAJFnwQaR86m0pOCoR9oiJ94Cic3BxnhzmZsc4qzd5WZyA7tFgO7WUDu0R2kwMPmmDwDlmvlG5+syOdejbmoWu5rVvuasiHm-KJ5pvjOb8hAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
  (let ((binding (binding-in-frame var frame)))
    (if binding
        (pattern-match (binding-value binding) dat frame)
        (extend var dat frame))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26Q-oe5xDAxxQIBgeAkFQNA8U5mqCxaXCqE+j4FEobhiDoSshMClIGGMNgZAYYh+ZoYmhcoKYVlKalKGF5Tmmluh3sF7W1eUhT8AxLEZd8BQWHwBc0aMa3bYXfB5YNj6jGNymWnF9WTM81JjSEGcKmUNhvsyuhPeFv2Zj5n4g7oEOTHD0r6GjkWfYl3WA5OlGOAYUPU8jjPY6KUpFZ+MGC6LiPUQz0XfZz6WLWoMQ6A+pPS9N+OF1b9vO7BVXG+z509cD+huNRH54cIQI3GcbvnQr08GDeKfnBnuG5+IBf0+HrOy9WXPw5t4RyCXxVSgJg6o9Plhz4YddMckMhDFL-C9Ome-H9t4RfA-sZNCYtR6KnHjLNotZHBGxjj3SuC5jDtDFsoQWkDkENQ+ALQe79VbexAUfWI4D2AeC8JfDWvdGpclIQffBzdUgiTIfJChDCaFNzHrnDQhAQTcnrrgnunC2AAPgR0LQ+hb4K23vPQwi9cEj0pkAho24ZyuxOr1d+30xA4K9nIghMRTKkHMg3UANk7IOWctSXwSdyBw08i4YRAtfI01voIQgXCAHIm4BosIVEBzSzntQBQ1AaCVgarfMRDhJjYxiIFARuJ-GBOCaE+m6cPGCFIJooC5Fnz-F8RPBQhB8DlFeskqOyJIlQRiO+XeGQir2NEeIv+7iImfy-oUeGiNhAK3Fgeegg99AKIIuI5+hstCkHfmUlprSGheMmVMpEJSumVh6R3MWYIymPliFLehQNVG1lGDSNgJtVylBErshqbxEZgnnjU3Rx8xwajDBRF8hozLBHCXQKytl7JORcM4ygvgSC2JcW46qOYobQ15kohgKi0bv1noYORUTAoOQYF4-Q8LdGlHSJkOSzQsJ1M+lUMZM4NHou3mEORsznRQphQxd+88SXpLheSvBvsnElIoevIJm8FyzykTI42iL+pA1zpQUgeyCX6HXhIueT9AiDFkYfW5+le4iM+tKvla96BaJjnI4ypklbqsnjK0gqLDkf0PndCFnF4EQKQdAjOCLD7Y1yQrfJ-y7VQJQY68pK5Ar3NDOSJ5OThT6GluHD4MtmBaD6arCYUTpiBUlUSyNmCY2rJ9ZwfB-lskJsqdqgQKaZyqzOYyIByaDypujcQWNxsKXZpXK605Dsi1RuFmc31sZAqtpLWjJihRg15v9CK21iCvWfQGdE3exbq3YMzQ2rMQbwWNgcP3DUjIniAgAHygGxWwE41qPI0vlquhe7daj6HdrvQGuNkipD3Zew2SxyF7pXHijc+hT3SPPcIbgx6GBfrbhqfQN4r0TARGRUA4LnGGG5IwQpycw51wZqXF1obpZjvQaXNarwC1a2FozIEmHoFRqwasnVat+2bJFdLGtmhcTEe9XG5VKrX2xjWK4sWCq4PQv4IXFOyHtViMrTOsjXdmPyLmbBoQvHEPF1RO-AmjGJ1zKvAy0j6ak4UfA5krJkZnmJpoxPd4zAk78aQ2nKOfCrwKVBFKgtwdzPybKoYJ2dtsMDPAdXBqtdLOMNjLZnc3mnOCcYK5m27ncEsePnu-y0GOW2uIcoahgrnVQUbI0xkSWvCNXwP-UuTFGzdj1IyaT8G+O+cju-RpumVB4cAz+wjwJQTQpPQbM9wHithCYkmw1S08v+EnS0BGXHFnLL6V17gDWNROvweymGdjV4sNS-g7GgUCbNtOpOyVpy+W72kfvbRQ2Vhzatc421a7a3CyFeSRsaNGSSsu6ss5FqF2xDXVbCL9tTpPbM+F52Fq0ZyJ6yKvt8WFsUOC5V3hK3fbYw+-9u2L2ocCcs59gHsiVySpRxZyOL3FX4KpZas4sRD2w1XonOToWjGraggjtz33er2ZM456HLmGeAJO31ynIW0cOwJ77InDbwp4FvozOQzMoBwEQMgdAXNiQ804hhyM8s6mzVQ8K29ud0g2zIKh0AAAfA3xkMNivV7gmIRuTepFtnbfoVmvaG+N36fWGR-xezOxy6WzAxASE6UooxlA+j3FWmtozT8P0W4AGRR96P0BVjvxLsmDz7z3EP9aGw1+SLZIe-cMADwfcEV7qoTQ5Yjl2btM8W81wmLaREvbzd5i3DrV21ZURzz7vPBfUvgl+zpPazi+-o8i4718gU69JiGPHkDk+ov8lLxDof-PR-LHH9Pm89eY7z8Vx5aWPO2eHZju38Pnfaj57s4X-fqPI4l7Jy4K-uOYrl6z9RrXE+7Tv-d1v7fziH-OaysvkfmPiKp-jPnaHPndM4tLDjv-g7kAavifuQL7mft3tdsYjAaFrfs4hgWjs-tXggW-uvpPqAXPgPhyjgXjoAW3sAYQSMBvrPg3jTHgAAGKQAAAaAAsgAKLNCBBcLkAoLGLiLBjVDcr0DgigCORBKqDGI-zkCyR4DkAyCjLJ4pABw0g5KMzqAiAcDCCNC0yqCUCUCECGCNAgBiDSG0hoC5AKDADuCJAoIAC0AhAwNavgwAAAVoYI4YYOHK1MACkBoYYMAAAGw6DYAsHsHcG8E1r4AhLJ7-DZZMxKByG5b-wEDQIJG0zPxaSSEUAmEJGgCZZeTkBFFUKSF9A1AhKkC7rEC1C1BoB34nzvQPwXz4Gv4Jje5IFd4X497CHqhiF0BYEcqpHDIfSjIUaSwio3DYjl6tZpCGzcAkGMGQEjEtG-wDYv5Tpa4EzZZT50GT6b5qyTCN5K7bK3pbE4ydGpCn7+69FoHginJpo1qrLDEQ67aSL7YCrwEdGbREHgEN5p5N7GYbz0Bbw7x7xwHUEEHXG54oH3GZxDbghcrTy8qfGQlvG8waqSJyoXrtHbEJhQqBAyBGJ4hkEQ7YmyqUiXGBREmVBGKkirEUnGqaqdBDwr6-FogtbElGI6CnG76pDKY0mIHIF3E7iF7KaYmcRKZoIOrMbH5a4B7giSncDMZMm8zKYaYvFaYa6k6clx4HEAlb7qmcQ9qzoZryk0G17T5qlQzOLqbPFzqWkwmBhHHdZ2le6pB0YepCnOn6mu6ZA+omkCn57rCiaabskEZTFa4BlZBunb5NHSx7H4kEmBhdGinn7ik97ZZSl1S3ANTJkcmplck7jgg5mqke4ekQ7ZZpEAIplXF-GGlf7HFAlnGoquLcIlwpkd7dHwlZkPECLUA8LOC5nmDiJ7aQnCm0GDBHE-4cpordkgH-FxkMHf7BnmAopopEDeJWlpn3pu76Dbnkm8ytqkpHkKnWkjBHnrkuDqZbkmHRkJg3jXngqi4lLi7yBKBS5syy6cyWA77mDe7iqfRww3oJg2JJ5iq1itl5l3BhJjGvxjLcCNI3ZxiKl2bImKAFJFK3zghE7oQRzjFvzIUDbA5VnAlar5KFIiDFILZiJgV7lwlilrJWQ2HYU0W4XHmmkLIIUTH0Vh7oWRo8kyDcBkk3l0wLa1n8U16Bh0kkkiWgCMnkXcWSUgLjYZoyAMUlkzjCXcB8kwXXD5kMCbZM4XKrJaXNalkmW1h4V1ZJzmXiXSzWWfRowWXpk9FBYMRWTOWjm3k7Joxar2VdyuUCWXkzmT6uX8mwyOBfDSKtRjbyArJdy07Z4io3jC5NGtoQzopw4yUuBbQZXnYxX4DGCNTuIvxCqFCpVa5YQQxkXnCNhB4NTem4hqWJWDyMixYAWiRGXZXl5OqwoWVYT9U9S1jukL4nkvzD56hiIvzPBVVoVhWzWGxcUeQQxnLjJzWRALX6k3jUwGV2IjY0VtW9IWkM4DWdBOosDrDNW5XVWElixiBB6OxfbeJJ4cCtTPWnjPrLw8Afo3wvwvXOwXV6jezXWlW0J+jNAfVPWqBA12zeIAA8wIj1X1l10WFcBiby4IAAKubKADcHQL4GkmILwNgk2B2dQLUM0BIQANRQZSZm6tRCh1nnXhD022V00M1TIfCdTM0yAALfWTAKL6KGK4340yDECOQk1k3kYU1cJU16HGKgD03HaFC82zQs3w2g0q3GJWS61q2xAa382C3o1RVojmzSTTX44M6oWxBFWVj57mzYgpUrAwZwba0g07lAI54Pr9XRZxwgJO1ED9KqY+xhwlXHQnVJVghzaG3NDl4jgGkKps2G0xCzDT5C1p2gAJ0e1ERs02h2hC21YDqNqhogJJ1NVur0YJWnVJw4bTCvKbjl6fJ0C2zlAWJfY00l05i5oVJGh4YQyMhZWA1vbOiBRlbLUfTTWbUrX4VoTrWwpT0PhUbkRLqLWBhB3ogu2+wHVMhAbW38623kx215gJbizB070SxDru1CCe09Te1drh5+2p0EQVwX3b2h2tLIKxVR3dLtUZpx0EQJ0M5J1bT+1q2lDwRbTfU9QB3HyT352vXew3jF2r2gA6hl0GAV2QXB4tW10x0N0NBN3a2t3t0iCd3OxAp96OLoODr90NCNhD1Agj2Z5j2KgT0e3rX9XL2SZh2L10q8M91r2l0b12If3O05USxWpvkLYfmS6swy4cxczYCJmpDxLcohK0UFjvKPmMW3GZlrIOBWQaOJK+U8CdQJLUBaMBJcLanRqLxlIXmNnhV2jrJWoFSWOaNJJyOMgB7phKlzC2WxBzCrh8NFBKkcjBMxAchhNUpKkYTRN-UHhxMBMYVKJJNKKpPfwYWxm2WxnOjhOFBKncSGD8G+C2WlPlOFPxMYVN3RNN2xhFOxBKk3BB6oosCGB4VtOqAdOMwrDNMxBKm01JOxD6BwzcC+DhAAg7o2L03E2gCDOWVgjgiOGjMxDjOTPTOzOgCOGgALNLNKlwjcANCbP7PbOgA2KQj7MxCHMYXADrMGATPnPbqXOgBgAHO1OlkACkjzZzUzrzNi3zNzizXzKz4koz-zFzEFUoUzYLEIAAhJKJC88wCzM280i0CHC2k6WYjX86i9C6AMjTENizk7iwCOs1C4C0S0COc-C+CFuvi1s9SzuiS3c6WVuhSyc4UFS+izYpy2y-Swi48284UOizEAi7EKBemPlHhqY9Yz4wWDPYCCuDMfsb+hYwEt49owprKyZpq1Y1o+IvgCwB4SYJQIRqqxoO8q8wk142Y0scuboxeEAvK0a++WmBFHK-awq4FZglpn43ZkqQGsILZSG0s2HS0xhZAHQN6EEhUyczG3G-8hG5G8sxCD0wwLAJANE5m9m6m5G601QL01wUk5m1wQW2HUqQAHLkDVuPO1vVvwN6R6tUhuvnIOZ-bnUqsrBqvCjotbSaXcDtt+umYWutsCAjs86wo9vTB9uvOgGaXexTudvjsHqD4dlxI+vut0WpIaKGMWWxIMAvRqikCCLHQeHkDViwadSaBf1Xgju2McCDwlwTJDb7tKIIhFDg4anxiEAEN9IWXtKjbR19KTqcJcb6AjviIjXc1TIrss5dvIPz1FAQdIzQcLImtmumBOrZ0GvavTt0qVuFBV34OgcOXLp4ZV1iBfDXW8r-111FTTiWzkddyeuyMFjyNfmKPsyYAYDdV2VioCEzhIIfBlQ3CkCkLeZuX7m66bigHSfC3kKgGoPfSkwPjs3GIMBc3G0WEC3qtgFZCKcELNAKdqckTiU2E3AQLDJaAJ580ZKhWBgCHKBk0ZACz6BGCeLKDKAXOMz036AudJ3ggSGlAhc5163K300ufEfOghcVkOfjVNE7xGF1lM1iCeJMqZdzQpcpuRDQT3WBi6e63ggQi61WfkA2d1wXpqv7u5c9BeKRIc3WDgjiX1dMBkAKCBfpIydpAHkaIEJhd7q6T+zhp2YDegAx5YCoRhr7mBk3gDfhBG7J2GfderThCYvGLFDwgrilAGcTdJ7gjbfGSlAXIUCmAMCicxQSekIDf6oGAtyU3DnpwTdTeQYxAZ4ezjnokHZRyLe2BkRhdlf03tejJddbRor-cG3vcSE6cM7zFXrvJKsTm-drdNdwdxdRcWOSAepg8GcLdMpo8nEq3TdFDwiyRkR4rxD-I5Sgi2UaLDvU+4hg9KejfqMfp3fkL1cQiJN-p2YQ89eF1ZCLeM84-M+dcA-gK6do+7fGIADkXNGiJXCv03Cd6XWtA3bXTPl3tYpAACSCevvXD6H0cnBnBvpLabSpQgobVkwQnNDkOkVkFoxYnN4qHA8Iwt0EpQ3PW05vKDk+fvovqXHXpAgkb62PqXZvuvcLf4+ggfEfHqfve9l717ygt7M4AVc8Hg+2ZKhAvXg5z3Ucs8g36bveT3N+VMCyKPi8xfKHhQarKf6waf1AmgZycq2fbg2XzKefrPKk2ubD28JfSp23qp8PKiiPxfJnw2hAe95vVsVicM7fKCbgufa0rqBfJck-CaTDCyidQIK4cx4-me33EJqPk-VGnjHfxgnSXicU1rc-rmC-S-+2Xfq-Pd3au-oDh3iTsvWEW0Wfy-a-qiiZTexQCAA-bGfka698mgElJVnv3UgZNf+8gQAZAKZTh8YOX-dSI3xvYt8M+DEEbnHFqqf8vsdfKNjuGwHN9W+mfZATnwF6aI3+JxcPkQMkot0LGV-VARkhzT6YQ0D3e9APx74JpaSGFEfpQyRxH8PY5-INH3UNBJpt4cWcKH8gBSfRi+TnO9BHgPCr9ZeBVQfuHxIazxW63ycxNX0AouB-kJAWhspQ8hmUdSKgvKrnHxQ6DyE6VRwf7D0HbwDBZiQ6qf13z356AlyUwrfiaLO9tIZUSgPgEagNQBgFQQYLYMK6mClBq-YLsEJ0jiUohqKNwMWDKiNJEhdgraNYItZv8960Bb6DkLiGipeyzFXPlZG27m1bE-rGgB530EYxFi0ochp0g6gMBtCwgDgKQDWi-4iAQiQfkOldQdQ3+Q6XDPqyehZYiYz0RgNlSaH7UfaIqKYUnhDZDZSgDgNoXnE6HW8ehVQ5oQDCGzNBcghAABE9BexPQNkA6XNK6gcECCGGw6Gqh+hOEAJtBPfbgC8NW6T9hGGDaQU-S1yzw6G69fUp8OL571ea-QBQO2RIA0UKg4cXwHiTZBwjyACIzpIYFJCqDtcB5QwGSVl7IjURMsYkE8CYEfpwGZJUgRsz85ipIR0I0bPiLxLUj3oCEIwOSLw5zJ6RaI0kKtRMGjIOAV7HzJGBRGIjuAHIwkUb2xG4jyEoo9EcSJWDvoNBZI2LpSNebVBeR-QLRhyP0DSiiRSov0JunRYQimRREMkgmRgyMioRMgcONrGtapJH6+pS0VQERhRpAg70T2C6KhF9tjG1IOchDgdFGExYzoyEW6MhHijAyhosPi+jdzh9VRZAPkRqMFGoj72iocBuaOI76id0fop0eGODFGiGC7ok4nvV4ijJGAbTfiLxBFFUAqYW1Owcw3UgyAkwtQCQrL3BD1i9gjY3Qe0E6BQdKxXEKgOEFl5D0Yg0Y1IKMN4j9jyEwHGikKD9aggM05Y3sZnGpjDj1BmEPsZN1jx+IP058I5EwiLFkASxIUOGjeDHEUjnQN4bcbqMVB7ikgDAUsXDX-59jTxYdLaBeKfGqZqYU-FsQ2NDbgjZoHAMIWFnNHjMhqH6Z5umN3Ru5ahagEwDlhkzJDF48E+gNwDn7zi5+1MbGI2DvHGVqkhyRkNeIPF8Q4aKEnsYhI+QY802zoNCXNRBw7FDx2Eg5GlDrHfiCB5cCCTijlHUg-xkgLKNmKwnXJDktQ3gKVWajwxux0JMRrnGl4PiWyP7TiKlEDGujugbIboBiPSx4YmsqUHEMpL8BKUJJhGMCCIXXRYo3cEXQwEUJlCL8iQrsMSWtEbDdBGQ0k2rDnlGHdBwgYXbbhF26BWp-xoAHGgAAkuCDAAAILgBwAXBAAEo41IAAAeWrbIAgQXVTKpIDUDpCtICmMScWKrErVMRQkhqCJLhgZT9xJfeSflMgEZCQhQmfCVP3kmdA+45UhTOJRqmZBUpmQoTBZX8mBSQpYUyKTFLimNTJAx7CyWVLSkoYqpmI+SdmPykMArJJJKqU73qnOAfC5owIc4m9A38FplUx0fuKylYw7B4Y16FaLVYDJtxZNbdMdmgnJZUUjAUiVqKoBk1h2W0pIDtL5AUjJahElqRVPeCFSnpBwleuCh8lu8O2DgFQkCAAAM67DlDUEcjGUMgkQ8vjFGoCDBLosMrVMDO0BAhAZqM+yjUXpp4gaJCYTGbkDRmkBxKBMKGXnHU4kxfomMjfgjMghlCsIR3WylhBpnwyyoiMoXlTL+AFjZJHkQIFegpnihUg1QbILDNsl4ZWZCtQvsezNC1FoZkszsnTKSjkg-kgQBqI5E6CkJYhKwZySUJUFAJr4Rlcmd5n2EKyhyeORGSxnAR3CWM3vD9NSPVmayDOk-N8TEzVkMANZbAUhM4J75Wzp+cWCSQ7I9lOzAZtQioDCNCDQoi+7g0aPnHRjoSoIqsuosHK9nooiGnkdDCOL1mdoXc5dTsUZ3M4jQHw4wwzFrigrEB0G1w7gSXMYZ4YWA0w86LMNeij1npPwnWcsKTprCpkpQesVGDTrNAg5ns0hOcIdgsArh2oabvQyWExl2eGgusOsPZDuyh5zsyJMt0HlOz0q0A9jH9EuoVyVwbEMoevNTlgjeZsMI6p0mnEFIF4fwLmWTFPCtyMJdcmYQ3JWiDTm5mebzK3KYgDgphm3cNkOn9R0AWat4w8WdFfmjyZh3sNkUUHvm-Sv2Ug6uSMJKGnhykqmPAJCAwUrgMsz8oEOcJejZVYFiw9uVrl-kGT1QtQA2dKGAV3jb5XAaBTEBHmnRLhKEaCKhCXHbzJxgwT+SfTgVcDKIA4cOVxlSDpxYF3Cj8dtXQWYLiFCYL8W2J-EILKIDw2QR0loU9Qv5S6BQRygcDULQFhAPcL+ATllDaxEkVsboRYklAhCzEjsR0CyB6Lh2pIAcS-GXGjiyS5E2IBXHPnHt5YV86RDfLsU8ADFc1ZxSUMIAYjZenCrxU-BKq+LHgoS4dmyHQnvMwAGCyEMuKwh6LwgMeewR+lCUl9tFAtEBYRNW4ZLXZJHSfLktKWxB8luIGhf-1ZEUSVg--UkJUqvAfjw+sisxUUPoSwzPYYmcSf6RuIVDDGvSiMt5VhnmM3gYcISYvFDmYjQCoc7kbeRRnZDZldg2Mqt1ohiyt57i0vp0A1m+AbiwFHbhxJU6T4FltQo9pV0BmiyyYxE-0T9KonZS1J+rMOPbhhkMgMZYsQ2ILL+DCyo4ocwrPViAUFL+JRUBRNUsKX8Q7lmU+hZMrPCo9XlMmUOS0sKCPKAY+MwMBCtBXBdTF7YyMexNcGGodeZAABJjOyGIrGAyKobHFRo7cTAJ7oz9MCtxCgqEyPkjqQwHCnWQAAMlwXilsT90AnN6SlMBnvx8JD8uwblMGkVACpVU2XiVKGmdIRV30ugNVIGm1T3lu8ZWRNTklqrmpSq9qQFI5XcreV-UmcKVMVWwzRVj0lVZiP2lodBgAyCaUBKmkzTlVl4xUI8VhlLT3R8ICkU6oZVMyxlHAb1ZCI9570j2SqsVXAttXmiDpVAI6WplhmvNjslyjVTcvRhRrqYr05Kb00jXWrW5tQ6RPkgLjm84+0fCPPcrIncNUxMa90XGutHYgVwzDHdEAjtWcZYRCYi9GtI+npToV20uBSitjDgSI1lqstSSorWZS4FEbatfmL3oEpiVevMdXr2ekKTBIj8-Vq0GRCMhNJZgz6PH3BDzrzeoKfUpuocCdzwI44WXkWrsYLr9e0fFdeGKn6nqo4+Q9+PHxnUhiulUq+GItDHGYjTcDnAzmOKW4G5c4owxyYWrCGBAe17MxgPlMC4bSbVUEV1PlMWikSc5tc-VvZKBAuryw1k9Deg0bCucDEz2UiautnZfx-VQY7oPNJGn0AQ170Y9Q0EKg4haNrUugAxoUB4VXWHPRDdwHAnEb+ZJKRDauo2RTzS62qjyB8GCANRMZL0eDastuxytrVjIOFdMvTgAryQKGiyb+utUYaKQeGbDbYmlXTS8Ns0vTYRrwyCbnsmM8MRRr0hUbFJ2wYxIDM41MaigLGmjS5q9XhjuNsYFmbDP40XNrNZmWzamNqziawUmixfMIAtUFxggMGl7oht67XL0Nbi9OoIFi1pr0N4fNITdII2WDzAeWxDQhro1IbyQ0m6DWRvk0WTSt7G2rJFDYDrSytTWdlV1IilRTYp4AJiG1tCkdbepfKrCKRKC2vM7YzW9je6QknggMQrXQrcDCy3XLFN6tKDbJpRk1bpV6ahrXhjG0arWthqzlTyu63kh2VB23lXhI-SAyRt6LHbSKqckipptXgWbdFoor4M3gHhEpLnztHFksRgZDFOJVbRvaHon2iym8KS72lp0gVd7SiG75faGypgyfH9rm25x8GpTKHTowxT-q5uWQRHZJrHIiZC4KQNHbHRZRzLp8OOpouplR0PQYdFlH2WDshnEAxAAsTpKWox25CydLKLXrUHNmiI2dZQ0HYspJoKAbBJOuwXTqgn0APC+AEWYDuh0Pqa1ayr0u6lxCy6dGqu8do4u+Xhjw+b26Xf8oh3q734hu91aqgFi3rhMxKSHUDuN0oQ02H696AmRY294RAnNQ9dH1sq67qgnrZxKjr11ajCd1O+XfmMx3V0PUVOuiuHpw4l82Mo3bGXGIFHwiL0AyN3SSot2RpI9YIDPRSl+mibbdRQcCb7pFmU6A90O-3YYCJ0UpSerSe3YJD2hO67eVkFPXr0qaE69d3uhnUztEQzIc9j62tTSL9EJrVwzaqvf2Cx3ooiVpamoJ3rPylrGug6uCFxIAmrqhGAPK+JxNaj-ieJQEpcawoi57o89SIKao+ruhO6Heruife7u4BT6BY7eiHPDBMD8BlBQwuwZKh3jcQeET+vPtwDTrUdaOM8BjoQ2T5Xsm+6fF7NyEyBB6Qxk4CerGoH3WtjIw+v0Pftc6iJNIY7LqKImzrgG2Az0lpe1CpjbM2RJDSsN-oaUxATEhglwLxFjnNAKBoBtGB72VRQNF9W+hlewvYT76EDR+1MSfv4AQg6DuAs5OfprBm6j13AAQ1QLGgHpMJ1iAnWU3hGMgAAnCcB908R4Ry+2HaofkMojV1x7UZJ7Cv3pzXUftY4kOkHQDgXASeUGenMKBVN4R+gOXnLyshoAXD7mquYoqAR2GURBnD4OPIaBeGGMsaoJHrn2n15vYLgPZmJX3nAiYgAR3Q8EebrcAbgi-AIxcrYD7LDleyIDDJsgMO7MRNe3gysz2UojMjxAYQ2eFEOX7BA6Rko0wGAq37eY4AtwObuqCFQTwZAW2NIjy7PKqQrQRkA-0sTMBF+TRq1WMk+itH+AJXI4GGq02hpqinR+NqAE27Kk2xSceEEOgCMQhHC2xtgYANADm9bEhUGINsbWbwKVgmx9rqWtaDHBfh1ciICxAHBkawhEQ1FLFovTXH05aQzGQlvy1ZayN2Qj4+gwHDzHI6-yJY+pGkQfV+8NcoKNoYASrMTjezUiZluiG7NETpxo4LccUVsQ-h0wTYwicRP7Ho+60BiYzHRPbG3DsQOI9mNbWxrB9rSl+GdPg7a9S10CtA8HAwN7rcDBgEg39AuYSxLxTe-XqqRYP0qgxe6E4hFtPm-J8dQgQwI5D1wTH+l+aDdf0fLWP8hjz-FfjkXGN0AjjHNaYxsiYb47mGK3IU3HxFMb66Vy+iUxsgGgsno+YaRDg0NEStAqYJpiqjyYIOvMBTc6zxdOMpCzjgqhcsmNuPFVKbJhOCoojMLfkEKQz8c6iWUJWFkKII4S8+aooXGtySRlayFXDUYVM5mFmZ3heChGPm65eyQ-QA0oAA6WAVLe2s6TPGZAwQLrvvv2ZbNIkaEJw+gQ6MlUyjaYUs6WvLP1TKzFEms3WYjlMBwhTZ0Pt2I0G8ATw3sHoFhHnOgAAAXheBiA1nUO9Zyc69GbP4G2za54nl-C7PggQTxgaqKhH2iyn3gCpzcOWZ3ONn9zqLPnqWXkJWQWAnNZQJzVDaTA5eaYPAAOcdMPmJzT5mcy+d2Wc1PzrFH8x71PN+QgAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:teal"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:teal"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise <REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:teal"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:teal"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
  (stream-flatmap (lambda (rule)
                    (apply-a-rule rule pattern frame))
                  (fetch-rules pattern frame)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WSK1wxFhxWkAppPbI8qn8vJSziQmoG9nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxnVxeKJyMQKYMOORZMLiRHXe7Rl7w+MOGnVaAANSgeRdYkbUlO7O5j1w-2DUBYgDW0yDoYmLAY5BYACNxjI2x3u+NlFnpgVo7GAwmBMnjKKaFdIgAiNyL5QLmQjyPccdx6hT5TWvvtzs9pgwzocrAgUC4rmEWg3hiUNgQGDwJCoNDyNCaHC3gPbNYtBiLgHBMG2oj4HGhAAOZlGwpAzkYc6AbsbBdqM8GIUYAA+OHakYOxgiqcH0AhuigHhBGoV2lCUO8hBYboVFNOKexMTWtbIjsVQwTBPjRvQWEHjElQsDBSHrJsljWOuZHYQAZApoC6vq5EZOk6SgKQom8Zx-51uK7BMExqyltJqG8fxQiCaQwmgIuhDGYuF69AZyK0BI6H0RwlCgU5bAmfJkkoapMiHsFrl-v0AE7CwtC0OQMGEIFwymUSyFlmK1hWQJVh2fJyiLvFiXJalpAuTW7k0CVSUpfwpC+F5tE2upGVSeWYWHl11RMeeVUxXWtVlQ1HAQfgQWYth7Whbch4RVN-WXtVqGuveVTDMUxDiAwu6McFZmZRZPHidZHC2fZi5rfQLCbSI23tntlUcit10bY1907XtTXea101JLNerhb1PVQn1dpcTQb23R9TAPbtk7jZNbUA1lNCgw4C3kRDK07P2J7Zp9j0BulqPHTlp15UJhUOfjg4anDX0Bs9bmDcidOnltTPxp5v2k7OaMqXNIPC2DkU42zNAc4TjPE-GSP80dnWi5jvXi5x14AGKQAAGgAsgAoiEzDbiwxBMA51XFLgKrkMzoDBnbUQOeI6ECCwi5XmALC4B62lRFYgG0BNgEqbdAjjAIQReyplLcLQQQgDBTv4F2aCumwwC0G6DDmwAtGbepMGwEjAAAVrQee0OIsHAFYwdMLQwAAGwAMzYFruuG8bxeUFM-sWz2lDEA2j7PqArtdu7HC0QIEigNQ5sDzHYQMMBnrBrt8cD6As-zyqoAsLvojD6PwYxEGUyekG0jSGgkOoZP7uKx12ViXxVMFVNRVWyINuEHbQYLMH5PxYBwVexkPS0BfihJkchmo+T8jYYyygMbgwGoiOsoCZ6UDnjAwWjZphDxHjcIG801aLSWvCXG1g5z4PJu-M6F0aaLjnDSCkxcGrAJWmwpgAAPbgzAEqDHocrMhFDsb6UlqtagAhAHUBYKIMCAihGJWoKIt+uUbL5XstRQIV1ZHyKcko-hgjG5qMINw6Ra0hCmIYOA5gal-oCwsrZMMTBcD2ScBgu8oAbHKMETmag0CDozUFm45gniaY6B8QBfxdiuCiC-ijFx5YIkePsq3KKD8iJMAAI4TRIMjZxStNGU20dTb+DlgIFP4ObKxmDkSEN8Pkwp5ssIEkOq-GgF1Fw1LaUwVcOQEIEliXWfpdTpg3RGOVEJi19DGDJmI2QWNEJRRWjbNejVpmcLSvJTpYSLJhX2es6RQjtlVBmQ1OZIykIoVWaMl60idjF24KQCQLTalFI6XcwWbFJQnLGdxaw4h6DsKuXsqaByllv3lMDMWUKIY5OsMQhsL9umWXKedHRLDUUNN8c01FGiek6MXHi-Ei0gU0FRTgvBoSRSCzQZFKRjSZJbh3CTelqSykfwqck0gRUxwxieqc1lN5JYBNUSIrlpT0Yqz6lSw+DAYI3JKRitBqyqEP0IJQLgyroGUHjr8hhcLDWPNZmKzZYL2xwTNca5ZMg7WKvOXqlVjqjVdPub1J1y1nnWH7DIUxIU-kU15dioSpiiormyTw-gxkxrHnptYFUG5nSSTehWUcUZhWTkTF6FsYYIxConPGRM-gSzGBWrkaYwZFFoqDV0wIKE8btkDQI3QeiPDNILdLEykbM3spzaW6cejlSyXCJEINnbQgTvCswGtdbSGyCDYaIErhq0cFraINFh4V0ykaCEUxFajC9HMuWDdW60UjmydeQ1oxvpVFPGufAjpw6gH4qQGOuAnwvmIFEHgftW6gDkHDACrc0DgaydFMVJVh4yCbBIYccNKAMAENCs9sL2LMFdKhgk1EPBED-iqaQ1FD0FMUfBpgiGhZAzCthlDaHzx6NAB4OjyHcP7oPYfBKcGEMHl6vRjjMbpHNMfb2dNwTHQn1jEosTFstK9IAFRycU89VwK0T6UAbPgZkCGOBKFAHplY7VAgZuDl2OTXpYPEEox8gzh5pOKLEqedk9RyC4GA+ZyzmktKEY8cR6cjb6goT8--aQx7AjdFAGIYCQWUgZsEwIKzPGbNGf42LVOcnXOsQ8xudjSWfOgFCwFySgIQuCH80GAQEX6hRZixbEzZXBaHkSxeQEp6UgdZPWsXG95Rh2T0wZtLoAkaleMGZzL9NkvZ1S1R-T6WHCOdk-TbLyR3Oecm6eDSvmKthcC41lIwFGoOeHk5uTdQ13JHXBdQba5Z3DdG6uy79QTsyec+MJatXouiFiwd5ICX8vTd43NzQC25CbY+21nLwHEvbaK7tkrcWACQ9QjtiQyxZ+miQUfPau7O9cD3FETSe7jhoEUIdnnZDjk933fvMeMGjlr+XlCjZq51xUXXQCc5WnI2gYRSB-pkGwMbsr6xw8XJp7T3BPaXY8JLnT9OlRi8K4uFU68KqK6MB4NX-XNdK9GE+SIbAioAFVCANh1cGGgd6EaGRoHJoIanjCc5Qrz-nf7OIZptw+qbWlRP03LVgDNH6vTe8nHJmQEu6JS+ehm7gL7Q98Ft3uCPqu+sMAqheB+hKVRyNgkeAcT6RtE7PI2lC65e0s5L6K3xXZc8kQTYX3sdfBAkWDUc24Le88SUVV3hvCs++wXb+e3qg+e9PLFWPhM1Jv3GQLwTJgyhZ+BWH1saz8+sePmMjXgC-CqSyEr8XyCi+t8r7L4LdcOfW-58P6Npfu0V8st8SIQoaHfKMX7Yf5fpeTNVvnZuxdH-RUdbGQFtSdGEOLNbXLVpCjQ-SnSAhoe5cMJgNnZIOrH7BrTXDNLsL0KfFUDgb-QNe-bfVAxAwWHAwrYrKrPXYwDwXARRYCGgowEIC9RdKfAfVbBoXoJHdAunJrBhdcUvTXDwVg7dJdQNCAvCbSf-S9eFBwSnTXEIegjA0gznF3ZrGQwA9tJ-XfPhffBMUCbgSgYRU8DfIvCCYgs-EzbA+vWCXA2wmCafAgh-EyL-FwqHQiXLMfUAAAQk0nhyIyqxFwxSIHcw+SxAFyiBkHYJL2iIcISFACYIaAsNPzPA6ESNcF4IthALAKPFEAgL0FJ1cGvEU1KMVBsOvxgnsMqKcMIJSO-w8KbXIIcN8P8KoJI0BAIwAVwHCIpEF0rySOSBiOPziMqPuCRwmKMAaNHWiz0P4AP0TXMMUUsLSLWCyO2Fyxf3mOsHURSLcO30JFABKLKOC0FkXHoKhGkEXAi3WL+wxT33mLMKHCPxWMaN6GoWkVCJ6MZD6KiO4AM24FB1SNXzJBcPFwuMjhl1lEtmqCuMVDIyggcH+LXB0EVDoJcPhNQgDX+I7XqA8AeKKHc3AWMMSlMORNCCBOmPqDHUbxkEBNxOhIJKECJKMJMN7EBLXAMwaKMGOMU0xJ2HXBxNACUlQkFNRLxPhzCJ+MiLkLpKcAuyKO0l6npIVKKK+N6JlLChxNVMVMaC1J0B1N1PqAaM42CBhMuIEGuN9TFUSlggdD3DBAtD4RBJnWuD4WUGNFAHlGEzFR2BHDKA4XKhdJOjDWYUuV2QFQchHHxTiUXkggsVTQ+3Pw73ETBmvR3zrE3D3kTKAIwzZThXITTLTRhDRInlJUUVrQkBymQJckxI1QE2LJ9N8THA+TAX9JHGUFqQYA+X5w9DxFAC7I+W5OsMkz8QYkLXGEzDjUCkbwX2TUYmvQiwzXVPcWDiSS9GYxXIiMF0HPAQpD7MNKKLWm2nwATO2lYGpGvUPNJ13IaIi3KylKETsEdBVwhLhIlPlExPAiJw4Q4EHJzNpQkBkHPNugnLPGvNRxIntOpEdPYBkBXKfKSSRRWlPOmFz34TpIpGDKAkYBInEP52QukQ-XNDgoQyGyo2MzWDMy9A-Vs3IokBiQZQsgfEoIRyqxYy9L2CV1oB0LtxED4Q4D0z8kwrVT8VHIQy9C1KwvvJDVpIQ10A8GXEXCVwQ04gdFAAABUAAJA2DgAAJRNwABkDZkAtJ5Q-QNkNg-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-F6Az5z5K29TQWAPwL5Nci+2+EvikCG7l93CZ-XBlX3V5S9a+PfYauKlZRjUf0r4Kah+FmoYBf2wKPugPXIBD15629T1LJQo4XQR6i4QRP3VbqDJjOoQZuswITDT1xg5UPaAvWoEpkVkvUd+p7lHKMCyBFAu8MawugPBekqkIZMYFUhAhMWvSa0PIKMDWglBh5XpAuDUGMNNBMg0lLZF0G2R9BKQXpGPyGRj9Ggyg0lG7jUBDI7BkgawVoNJTh81B4fQEDYJ04REogXALsLQFXA+C-BD4eoF4LsiLh8wug4wDIHdKgAJAIIbICXULDzxQAYQyPHnCiGpBYh8QjIIkNAB5w4hRgNIYuFUzKBkgMQ5QDkOeAl1FMhQ1IS4J07ABMhwGbIQkNAAl0wAKQ4oQAFJmhFQuIW0JLrdC6hxQnzFEP6FVC8hhWeIQ0PCF+F0g4w1obkPaGtEtIMwgwTpze59Clh1Q0AB9yMDrCzBpKN7gsLKGuAJhgwvYVpAGGzDI8mQbYZUMuHZADhxQzIKcPKE7C8hbwl4bcMXA+FmhKw1wM8CMA+FjAzpB4BeDjzsDB60HCVLVwyCKg4EqkNcNCPIGwjsBkI0QaiIkGThKAXYMuKBhYqIjsQuIZYdoOxGDJUE8qd+pi0CBiCOBo1LPFCKYEwjaW70KQTol6TQMhk0DWkUaWMC9JIAhAf+HbAkDyChRIo95HyP5GitwhQQ2AJADUHyjIA0o-kb0iCEGxdBGo1UUaV6QAA5FgHqOaEGi9R+-XHJiI1b0jWR17eEekGJHMgPMzwPrgkStFoi2RMMR5MyPEHOcwajUROgiPqBwJHR2QNBHJxdEUj3RwwR5A-F7quicRIiEejako4ule6+BPzGMAkAN4y4HweKMQA7BvIDea6OMWhS4ERleBN9TXEmNsidBAgircZGWGF6387ILpL1s-UC5pRFcMLQQHSQjFWwrup9YsZGO2TH9OxpVbsYOKth4iCRZAUNgOIjHXt6ut9f3jfzbGv1skeXUSDBBPgrcTEq40rlpCOy3UmxgeL9JLBwETU3w01T8JgGIFQwXOu0MgH+Qmj0B4wWIBgGil7RKNbA6ETCJ5x7ZMZ7e8qQ8J+IgJY8OAOPVnoTz-FN5Kcn1EINBIXwSwxUGcLEC0ggQjB9QHYWCCs1FxmxiAkPOwCtTkB11iAxANoQ+ELAyA8J4uZSopWUoI8ioTPPCTqMaCLghk+PVritDMSUggK+POuvqn4mOFuJUo-QEjgy4ogSIHPSPEzxQlgJgI6EuYHAiTHCTqM9dXQFj20BWkJOdYFSZUFGB0gbUX49iIZNLKOQ9gUJZIDSQuiGThSCkLADjlALWACyvUQycxBwg0ZBBYMVyasIcjRpSy4hGySrhXD6NNOD4xqLUhfF7g3xaKEyVC2Aw+1YeftRiDZKUj2S1sTkufGHXZpyMqJyqJjNTkUrSTCwukj0HSDCjJ1cpEkUCYkUuaM8IJh7F6plKk7ZSEy3kpHkCGUo48Sp+k8QoeAqmuTQJaU1wC5E9jU5Lgpgd5JHiMGCSURGwDxqVJ5YpAaS64WKdCRUmR4dBhzHROVLylg5XJs0niXpIYDC57JNJfHpVM2YOQAA5DjxtQc8bpp0iSbzyAqGTFUuk-8oOSMmShAoP4yIGFE+mwD6gvScONjxQzY8dUFUQVAlH6zY9oy+UjwOtP+kTRuyCRQ8ADLYFzSPkC0nZhNKApIzRgMwpUmDHRnvTkZ8QiDtmLbBwt8xfokvA4mHjmJiGSjYtLwKnQSlgZvtJ6EvmamyMEyQaW+nAkpm5iaZ-DemebASiCTqG7aRaZZI14gD20pZXpL1Tf6IJ-I8s7gDLMCCHoBEEHXcp5CLoCVBEDMhKEzJebxScanMkmCujizpM4Rq-LSIqGHaNSLqWU3mSIhXRs4oRxs4CEIGTpeg4EeswulUENlPhxZobCqR7O7qCw+x9s-wgwInQWTAgCM2dFqVDnmIfA9dKkamSRJpzoZvs-VABKWlYC7wZ7cXEYNLJGyw5Gc-VJiRjm-RxcQs6meQDeT8NE5RwdcHXJai30LojcvMc3NpnH4xZjMnaW6j3SayzSHcu2b9BRHezq5Y9FJr-0nqvUmZY2FCErPYkNS1ZF1SOZkWT7JBXWOskZg3zrAYM+07aCzgKVnRszoScXBWeYwB6ToBEyDXOvnXDoWJS6p87-gN2RCGcoxpsjbuWEvnXBr5yQEQmFzvlFzH+-aRcDnVQazE3Z3EO8a8CjFfzj5yIEqP1njCkBdUGELgAIBEDLpz5ACrYKfNNkq4MFGeLSTGPwXE11c8YbMg2mIVyogYv80gFLI1nhsXgdLCgCtX7TZciAL-IQP2A4D-pBA4wBgJJFeiGogKjCi-rkWtltNxso5bwjqwcK1FM+fC9wqQWiYqK2ibFDoiKwEUkchF7YEReHHEXENXisrV0NwCArDFf6Y+D+kn0XmvNBC0sv-uXlnQ2K8ZtwFdMoG8Wyk90P-DAh4sFhHoOcIzaJgEqDTedZuzJUCNdHygRND87sSMo5VcAVFu81RbvOornz7FH84k3RTtj8YCBSyTJUdgsApBWL1a9VakNuSiL2L3W8RSpWkq0V1jkQtS6UoLn5wtLXiFnQAa+VhKWlmeSc80pCS-LkYkSVSlQFhRGVHBAB43IubkQIpzKvKe9IkokvoARMelMy1pdvn5LjprgKykUkAsiCpLLpnS+pbKQIqAzAgh4c5bctcCXLfi+FLCo8txxhQHlGbR+ogMxLnEhlVCh+H+jhgNguA1IChSTAhWDBOyZMvcpGVvJdcRyGrepauWfJehnlMpXcjsqhXUBlA3ytdAipILiSUVK9cEgCtLKQtZZfnaCiRTpAkrG4z5bJOpRSocAAAguAHAAGw9KGlSAAAHk9RplOVqIAq6WorKvgnFfeHcr2U+lTCorMBF8p8IpVhVUsllWqoZzoZGeQYPlQ8qYk4q9gWhZguCSZUfK8VCVdAhdIsr2VnK7lXyoFXGrGo2VdVXQuCRKrO6FnLqgKGyqCU5swlWpQkWKgaqAwA1PIMAgi654DVmql1bUplXiTiqBBDEHAnpypLIeuQvXMCpHhgqI1JMZNcbhnQFUHKxfenJT0iJZqtVrq14pwsSilinxBMmQFiqCoWAVitKoqrSHjUUhE1pfYyMsL0RxquxQgTUKwyKBmq61sK6NcCXeWAhPSvdKKvWvzUVrryBfA0N50vY1ruyI6gmU2uKrqt6AA5UkVpFoqkL0Zi4N1qurFEutBYeSPdXopKWlkq124aYB9LJmbqDQmJS9UQGAoudyW6MxdaiE4U7BsqAeFZbKqIg884IUlNZJRHcm5FwNAvXxPQBQyjhA1paakNlSolIbqAkkSegBtMISq6mS9DVhJS0heraqaG51Z3VIIZp8JmdUaBKtpUBiiiHqi0HxgcgSrg17AHBnSJfS2YoZZGtjWwEw6AgVp6G-sp6So3MBNotGrdW8T3nO5v5NAeDcwDApOFUN16AtqIIbU0AtIx5eMiIkXJrAsN1VQDRprw2mZxKVGL0MRp9V1VjNFG0cmJtGibhiq9G0nIxtIpUY+qLVYqhxqeVcbmNzVcYHxoE1NB1wHZYDG0Ps2bRHNtoBeSEpMzvFbxh8GhZuBQylr1EuGi+bQmdCkbDVbq0snqCED+lcNmJfLaluSnCbWBJWiVdlsjVuqTMCmxDWRuU3VVqtAYK1qOXoi+zhNxrS1Ryq5U8r+VGVNYD1utX9aBV6K2dBKo9JtCOtpWx5NE0XBaYqFK0Ere2TTSNp6tSm-AiprTRLl2togArXlS9Asq0qJlCLMdqMomVxt1wULZ6Rm0BVz1FkBbQ2EBU0IA+byD5GtDLgS0aGX0+QgIk4nSIMmn2mKCIw86+L-trAl1MDsRDsKcJGKXdBDsVQvJA+HyXnF9vno-aMtuwSUD9sVQZM0dIOzHbKtvlGpnUjcD6FYHR0zjQdsqhHaTrk1ekmAMEDhEIH-JE7xJJOgHWKjMRyIJwZ8j1MTvB307tJ6C5VGwD-ns6Ju4C4XQls+2UAU00Omcc+t-VY7CuiukmOrtO6gLUitKzEnLpTRQ7qAVOthR+sIDG6uGNBE9f+SB1G6Qdmu8YjKJ11SbOI8ecISDKKhW6yZBnI3fLvI0Ja0dvun4JTpiihsf1QoVXSjuEDB756BOmHZdMpVayXgHod4J8AHX05Pdta-HdHrIBB7aA5uhImHulDY5yhbQgPQbvJ1R689Ie3PfnuL1FFC9wuKKK7sjxgyPdK6wcg4Mp2+6s8K0IMMzpYb30ndBoCznGp5AdqgQAyzIENJSBj9VG5dB9WTJkB96Wdp6yqRbsd3JBqVGwB0t1RNLOBapRwLfdgpgq773C9klHCEHlB171M7XLdTWGb2ORKAkMhyBnu7JDJl9IwHvZLxyr4SWGsi9ppex7HSAc0-OhIkkX95bi8RtNPcUZwpk5im5LchWDJlEDK7w9GUFCKPoTXYhqIk+6iH5V-0mQ1c70TsCw0GLIGVijyvsEvgSHEtH+EwPFRvuMAwKUGedTLo6H7AhBe5IspGENUgZb8oK2+k-QKCpJcYr9OB2-Uuo5AP6uD-c1uW3rUYL6CZQyGQ4gerx+gM0WIASo4O1agAAAnF0B5xWBTYoLbqnDsMN841AtKhMB6DKDKBatcipyexHoAmbd5Li4DJpv8Leh7+RgbQzICulXSioaAII95ucWxa9Evh45Gsm0XGBtDVhu2JhDjULQEiNAAodx1qyRKYjRhyw3GviMR9lAmhyvcYc4UVlJA-7Qg8lAQ2oHpQ-SiQ6iHv1cbioogSsmUex6v6xRddJo6UeUbE4RVviSueYlX0qhXdLOUYLRESgiSkVO6vJF6EDkGyh5Js1eMBCqqu6OeHQIahFhAJXwxjoonyX0kuLDAXICBXw4uDzinG2B3sgcmTJeArH8hpxyqKsp8NZHJAQBw6R9NhBc5WmnOEArRuwUzxRw+CuYHkhcPGAVtEYFLVVsq3CbAKdapxZ4WAxbHjCOx+YdUn2OZ4-+xx045ie4xkbEtBC245iYyE1jbiahGTckAxMEmChg5dYP-QfAUm7jSA2I5VR7Wtrx9PyrtVkCSKkza1GbIgzDBIMmQ8kFB+E9QeWFiNPW7exfYKboACHj9tKpfXsHPBvF2lZIApmCtoDBhMIQxl9NusdDTGtIsx4OfMcCprxCDhAFY1jzWOcF0mqpgZR5Ln3r1V9Upo-TvoFDelOC5eXGYMd9H8m61S+G0y4Q9L0GbwbQsRhB2nV5Vy1wJEfa2rH3YG10I4btbjl7ptkstoWsdQ0VjrFrrKUVdM4gJd25zrA-5K6RCpkCMGAAOlgEK1jihAvx3AChjpBX64hjwiApdgCO0xRjSXZ6P0YSir7izga0sxvorNVnX8lQXVHWeOmYVrg+AFnAkWoy7NlAAALxhBlCKzgQPtaOYIL1mqDTZ0AEuZbO442zi4BE8BGeg448Aqp26OqcwjFnqzG58c3SGyFbSdOHsIqF2Gx7EBselpGEFdIvDXhuzhZxfTeZHO1mtzj52UZHhfMOQ3z1HT80NUPOVQgAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:teal"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:teal"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise <REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.86" href="./4.4.4.html#ex_4.86">4.86</a></REF>.)  Here is the
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:teal">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
 (let ((clean-rule (rename-variables-in rule)))
       (let ((unify-result
             (unify-match query-pattern
                          (conclusion clean-rule)
                          query-frame)))
   (if (eq? unify-result 'failed)
       the-empty-stream
       (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgx5Fm1aMmGSukzraBZMEcZeFKgTGUFMbiugHDpFkFYHZNRglaF0IYHwFgTKEFaNYKQvFlFjLvASVSwzsijJ9kYXOHJ+gGJSGkaQyzzJfMUBUcYQT9mNF+TSVKiJNRgoMLCgk-zEV3PwA8p5BtHJjIMGUFFecLAYqxbgZRz48XIqJRYVKpdrnmCiKqOmJLKCPLJWMKwW8dglJYNxBYaxhhkGIF1UAEpCAwz4CcM41B5RKEaldUAoIgLPCumgVVm9Hj6P7F9PQqRowQqArQEgOgmnpm4dyJYrQ6DGo-oS8w-zGCs3ypKO1oBaUH14rq-A+qsw5m3Fao1Jr9yuvtb6-QAabVUupeYVK2rqBep9c+CNQb5n6MMfywomzDjED1nHDNWUODfwAFT5qLVhXwXMGTJDIOLPVlBPAVDrRPV5vgtltTyPmhwcaE31vmLuXNuAvRrCLHnYQfBFXts7WaDgjr27OsaC2jkqlZ1s0lPSgkERQCfA+IumkWzk1dqrDqptfaGJTXzSO6NY7FUHunaAFd87xnRtUQ+yQOh11503durKVFn2qKTYa41B5n2Mo5KBhl1IFG-hYAGOtDbQAntMrxa8T6LBtvPeZQ9C141wdPUsAdQ6CCXppNe0EGG1jsHNK+yUqGaQfAvM+Aj+aCV-rzoizSuHYajEQ-5DYLHWPRsY19PN5l3Kfq3bgHdv6877sAzoLDx7vWUDuHhsjHbRPAaveOsYcnKMzoYE6t9qGACQed6NejPepgVWBTMCY5IixFPHkPrH43Z594lyNEaLLZhlEmpMht8OZgD1qdAVF4x+sDKLwOgGiyZaOBxOiEBlXoBItHVFnDvb0bGtBq2KBqgJ-52XcsBZjQYvTQZ8rw2HCViw-zKswZq6VlgJwegJF7AAVQYMkPJUhxA8qshTcQ+bkrlosNF1S8XEsyoFFs-rfLMMcHTaCg8WyxUODm9ZfNfQis1qwlsxQQr1uKF5Zt0FvR6skGHAedxhi8j5WjqSby5QkN8XGapRFT25YvZQzU1G938pAhBWsPQd2DMA7e3g-QoOHtAhycKaHAOeJ8RB-94EEPmW7gR2j37WPAf5UoJK2WyxZLPcJ86dHmZu2fYqGT9Yv3vbMAM8TlZYXnM0-5usV572uitcBcDVHIJqffZc8cWWqblaAWOwZt44EZlIZJ192n4zbn3NZdizn0naTaY+T0dYaXfCkf3gCJYQu9e7qJTQ8g+AIs0i-ZJn9jWtl5AcLjtZBOOejPZ2Lm3FuPTO7vdRnQjXfD-L4LxD4weaUWlV2y5Rrv-Ig+I0SqIxm7f+efe8jUPPRk-Ls-8llsecU5jN7iaPmK1fsopRsRrqUw-2599F8bHoC-q++YM5WDOZxSjHbzWg-tgdC7+F78nryncC5dwLt3tPmfmWH3T6kpHcegAAIRUYM3Ooz5vl0FT4KwpISX5Qo7B8CJH14j8w-xaASP1Kh+i-J9wK-vg09ZVIzr5YuANgmDcwSHYRa-8orH2PyBAnyAKnw91vyVx91UiX1X300MxdWfQdR3z3w0GS2p2vw5Hj2c3P3BwJWM3wPMCVxDVpS9kZ30EH14jn00182-ReG00ly7xlxZFvyFyVyaFAF-3-zzlUl6DD3zElF6HXWfy3w9E7yZwoNwCoKELcRMkYDHRQIPz0EUHg0UBUzvw1zNTplp3K14MWAEJRX+V0P4J0Hyw5HdWNyUJUIngMPUJRXhTeBGWUNzz+S3VIK720G+EUD72rGB2UOGDUKILznsJkiUObRsLEO708O8OEF8LUL8PUIpE4KLTsM9Acy7lAD1FSOz1UKjRpCQPkMoH32S2fCcNc2-wtF3ByLKO-zkN30KNQMP23FKIwNYyaInmqPKOpTYJSKMJ6kEJkLNmrGBAIEIC0GJGzASD0C9gp3aERS9gqEMHYAAD4JBeFxdpJggMRIEhwZiz4bYNEtiyEtEgxghQlngfxgIyAK4OUiMudIdZENk4cPYTkNYNk7jykLVZEk1OVq885CszFeJHloxRQrcwwUjDZdxHiuUwAcIjhJU-ooA4BEBkB0BbhPBNUO8rxIFAwZwMhelfFd4vgfgsSRBSQTQ7V-lAFMQ7VgjkxXQKT-oq0a0bIFxT8UxJZB1pY6STQKhcTcizDPQ2ICJ0IBtk5CwGTfg44hSAIFJRSWREI+SaTPRPt5IRSSJ6TqV-lJTB0VTfJvEFSGA8SlTERTxpxxFxTNSt0-gJh-YzxzSr4t1DT+S4VBSo4Y4xAS4E5IkxTyQJTrTC53THRB0Il-YfTjjFTqVgjuYNSiV-lDEcI9BuZeZQIBYWAUlIQOjOikyNYeSWiCQIyiVgiwE35yTLTtS2FX4Uwjc-5MExFCB0zL8CygjPQLEYy-irS45WyDSjTIzzY1Q2yXDyyLZuznSCRgioV9SLTYyJxdloxRkSSXRwkvTQz5TCxeSnTMzo1W5pZ-IhYkkGz1y8TRzfBaUSAWstJOtutaBetAFowmB5AvYXhxBtSARmARt1jhRJg5yYgKh9yT5X8NQcgEgY5XoCdPI9AYhP9NdVIvz65hBgKRBQKEyfyJxCk6Exs-MX9tc3hZovDHUwKGEILGAoLflZM2p54HAXzsScoNZILNy3MIifhDTugxAhw9A8yOQco+ZZZBYiKGB8UOKaR9z6LOjwlmKTgzSAxIKk9aZMxERHYE8-YKBIQAt-kFLnMB5GcAwlL55jyXTA96VhDNdmsjU+KOsusetakzYWFjsnyZyVBoxRsYsBj9FtzvhdywUDhDyn1VI8kukhZS5bVpyLVCVUpEUqLmAILuh6lClPLGyNzGs3K2ShZOl9y4rvKPzxxyyAzi5gzlzriRz3i5KQSz8IqXQZ464y5G5yQMrXUtSFy9AKr+5kJXRvLXVaUGqmq55NF4q8T29nhyziyAovLHS8TXkAKfgEhmFWEhq5ERC6YDLqRhCJrhESFnY6y5rNcaRVIyqor0E1rtjsECEyg+ShDMLzctk6k1qIQ2SHAQ1dqrray2LjrTqUUJr1LkdHrtQ2SSKM8PQvrMQ2SG9zqtq3lRDrTZrGtOlREhx0yP4TqnSG8lq3EtlGBTTJQHBFi2AViLVeB3Ekq0bbS309BkxTUmViqKklhSa9L-kQrmzEVCaBw30KgCbHQibJRZFqbNgfMr9TZ9EDh1BZh6AZS1SZgGzxrsKKy-49wLrs0qSIQjgOAhqnroFXQoDuEmEWEpaOECEQ1abeFiD7Ku9QRBaEwhVVSuIxa9qRF1rnrKE+MWiBbmQzaRbLb4ghZDFIbOiBNobbbVaCExMMLaCtrM8B4UJXaDJVzfTWN-jZRpSLbI6WTGQ9wStgjdTZT1TSyCt-omZ07Rb6gyIFwU67NUpcbka+bMTOylEcSnTR85a0YXclF7FHFrFqQtkB1FbAFTbhaE65ShY0ZqDQBUa2ambJRO7Wb0b9AO7B6dqGq0YRKaRGLcSWLJLEzhNJMKhGapwx6Mr+rhQhz+zCrf0tY+cPqz8atdrPZ8qokarBK+TMrnzrTTS7aHS+S67fxiB-JKKGrn7zw2TWrRrB7TSk6dTsDf7ZxC7k6eThdvL11VJ-I96srrS863awzvLXlgHIHQHkcUHE6sHWqUVdrcG5T-7oG+TNzXrN1zB3Fsrs12I9Sb7wza7f1MGOT-746GGxiOSCG85dqOGM7rIE8yGEreHEa3EdhYTfozhETLgUSbg1UMTpI7kz9piir2hHy71lHrcXLlZ4zwLuLUz0EKh57AG1HxBv5cLbApQcIhhGsDGiA0zjGHEfVKH3FI4pqrGCLjwILdi1EpkmY+BexLH8KbGnirKGFkyOdeK+BfGV524IKKgu5fsaLnGfGzGc6MFV4EnQAJ5knPImKMgV62KYn0m4mO5AmN4H6AUdYz7yqxAtLYmzFamAEfwGnft5K1R-7eN0nJlGZZR-JexmmwnT42TNLsFunj77jnxeMqm75sYhjAdl6JK2K37JmMdXxXGTJHrp9VnNCWl9BNmzY5m+9rA8hvyOd0HjBfA9nZjs9adYHDwtl3pJrpqCminzxDleE8aTJ4yPcsGRrdzfHEV-nWc+J2ktmOcQGhYlcv84FybYl9BID6EwlIWPKYWrm4WYkhtdwkWK6Bq3CDM3nlmjqOSAXw9jHKxrBdn4XzGZwgRLQJZyIqE70CBgQGW-ggrLTEVfmicQWXt4bUZKWCm9Ko9WX6XD9-mjAAAef6Ol9l8PEVkPLdM80y3oAAFQZABQYDBiSRRGgUARrRqElFSl6FAA8EdruQB3kMZYXCoQ8AAVNfNe9uJCtd33fw-kVajxMp6HVc1b4GkFQqBD1fIQNd2WEGNaDDNcf06JdeBGtclajYdajYtZJAmjdY5YSXxqZMUBAdIY5MucgyOcNOlAZHFmpc4sGMFptcZDJck31yxc9E+Mlevy1OLey3Fg4uOYWaJdYuwXvuv1SiwfK23Gbe9v+W3AzZaMHarfElJcv2mYVcHqfzeu01xPK2ec1tYSWd7aYHrfMG9erckKDE63pEdVvPIhNaXaDvt3N1bTlu0I4G2Y91er+rpidpZFpyhYgo5wEu9puVRec2hZ-avYg2XZpdGpLZKVGTEbxc-KJtzaEfzZewLYrSLYyEg7LeYZRRMnfcPdrbJujVDqbbnca1bfQ-bfYs6K7cR23dXv7ZLvPYXGHcclHbc3+XMwnfJZe09YFNw9naZfnd3AzZA5i2jZI1XcNPXatE3Z7ckr3eVfPKwfMtPYM0Y8ZDsvAcIHfOBuDpDUuo5wcCfaJxfcI49Fw8-f+e-bFwXr-U-bReA6RrA4bdxIw+g76vEZhM8jhKlXOCRKuFRIwEUYpkAvgpAusGQuIskQpvPgOJQt6F9lC8Qv-mGYS4QuEFAvgpUDrPVMgqi4RdkWkpmzltS7C68bFocE0lhW-nXAAQsHXD-V-ZpG-k3Fq-ME3Aa8zO-k1Fa641YGfUa4JG-i7B667A66q7MQdF4QAUm55GpQG98G-kmxAkcoqCW-kDBiJXm4sG-m9da+9f6867MX33lAmDyAOCGGO9O6ODzi2-MG-jcB64sCmIqGjFNBWMfI8A29u4yYDF6GWke-MGe9AFe+WNAEfOWmB-MG++LQB8VXmOB7e7B9ACLUh9AGh7MWAFh6B5B+xqR7AC+8O9lF6AAFIsf4ecf3vQBifUf0eifp1HvsfEeNHzRXvCffvYCGfyemeV8WfaffupWyeXvueZXzBWfxuiepW2AAfGfQfHzJfRe+e+gljBeEfZfQAViFe2elepeKgCQZfcfHyliOAEetfehl9YekffBcfzBl8LBpjYUVtiugLSucp-n2AUUxYi9QsOhnekuyv3bHeP6ffEv0vwv8naA8htplVFaPelA+LQeuvffQ+AEFZpLvuCQSu-fYTrt9sk-QLpTx6mZv5A8AFA90+-3tuzFIAGA2ZCoVvzBq-a+WFy+K+fu+hLvYBIBWuO-IAW+K-v5LvEoevB+++-3v4AA5eQcf2Hyf8fnjzowPsEYPtL-PuhiB0l93vOT38dXH7cGJ4YPPkINf+sxf4gTP0PsO-CC8Xczfjkbf0H1PvjZf0rgv67EyWC8-pC8ClCpJDRXx2C-HLOhIC4BowiObaPICyAC0cgzCSjgJk-7WBMuBAIcDl2Io2dfAv-LsOGAJA6NQE-gHNrRzYq+Ml64lHdgGBqzVBja8A-3lwyZY5w-2VA+OpKzQHmAKBTOKgTlAj5R8hAI1PMgwOP7JVR+xKaTlNS1oEDzwW8J5laCBDYw8gJcEgZJQcD0ZmSYghsNdgkZecpGvnWRtcEwBBdp49TYiEIEoC3wwQ9QJICQGUSfZfGk3VEOiAVhWDfiLhCEq+AcFGB7WlAR1lSVTbWt7BKwDTHpVSi+CFcCSauKcCSC7xuKzARuKmwI6yV2gGUagCiAoDYlQQv5agNQER5HAPAegBIToVNaGFTWJrXsFGwSGCCiUvQKxJa2BDgszYZcIaHOVjZAhfyaFZoYDjqHN8TAxmG5uIEaGJs+gUbWaOEI+CRCOanvX-u0J9R-k3BQYAwP0QET6IJh1oFgJMSSTWDpElSVYTYWDBTcUilMJmKsIyI6gbMgPGbqFF3CrCjApeBWBcJ54cABgYJdsl7xyGFJTQ5oe4XVSHoGCMoF4EwdZHMHKJNh0aVKHoBNJhtzkLIA4XqGOGcgZYzoPiseFriJwlIFw5FD5kML9CPAiw1wJMW3BpUURybHmpG08FYMEwSYInEuTLgrlnhsOaYQFlNaeCsRywp4c+DxEvD9wZraERYDDA1QfMYVWECwm2z+gAESSA-kQC1rYjHBLpBFNnkBEuEJhfQbrizSZi4iXhqmC4aKPqFLCSAqWGzEWSqEghZReRIMAAHJPBSSRNqaN1FeDXWc5VYb9kWG3wSAc5R0SDzWYU1PizoWwT0G3Auiyhz6b+F1AdZGoHWeSYcL2H7AwYHWpxYNMZjRT8i5yPo68E6ME6vhfRGo8UcsICE+8xRCYxyGmIqKpikxrPbMZqN9GINxA4AyAdQGgHX8NKvsL6OXCRQ9MKwYI9UmMhsIBjWxmEGnPkxDLXExkzAgFOLErGVhqxwgZhKM3rGZQqwrQgKt8klFjlG2xnb5B2LMSDAKgJIrksuMUALiTyrhRQOWNAAui5w95L2PXAbFVgmxv6CahOSUh4pF0l1fJkOw4AopNxZIuERSKRGy55xEWXPheI+BSh9yDgT3seJjCnjzx04kamlTxQRZVIrvDkjoW642FEUTRE4JBN9B-l5YiCJYFOPLgYS0KwaZsvBPIg6FhuyEtCXhMAloUUixEpjplhHFQDxxtYviKYSNGIpaJjIQcZpAYljiJx-kCCY2JVFFJKUu4qPOxKfFIdcJVYfCckkHrLVJadJe8dBQ9Dfx1xanTku+JdAwSlqINX5DtR9jSFYO44GylpO+TNjkyowdse2W3BWSBSB7OXL0EvKWV9xX4hEENmjDHZtOyLc4vU1VovI3RBJcKiuPbIUpgpdklVrrh9jmUryN5PsYNk+F2ByEXkoySeGkmXZ6goxYGFUB0CAQDmZkgKe5OOxNjMsEYy7HMMSQ5SbSVWeoBrH8ndCw0jVXyeQiRRVNKsV-XIJFTlz3N70DAFTlKGKCUBZUBmAgCQGVw9wSkc5OqaOklojIlJeneuuPg4Cu58cOzKKQkR9zgcl8AedfKuiDx54epfUmSINK6gjSwUVBGvJ8MUBzksCyOXHDJWvY7oJqQUncfJ25yjA6AV0p4XigqAfS5yoUl6SJyMohp9JB4qLMjXA6-SkUh48Yk6FOTuFAIy3DmgcHgwIz1uvoA4M2gKmNsZEyMmmqAFRnRh0ZdwQwCkRQkscu4g4rGisRhkJA4ZhLAmUjIxSwzxIFMwSuUQZlSgMZIQiOGECZCgUOZoIFGZ8DRmczMZ9U04YLLxkcz3gxMrMWTPwSsyBMVMp8q4D5kWRhZhM-QNLIxmGBBx1KZWTTIsy8gu4mbHDkzNpl8AQI4IOPihViGqJLZGgRnE7FaBOgMQLs2mdv0YAbjuZ+iB2UNBnDOyJibsiYmsMprBynQeMumgKXyiqzsw-MjWRzRDQjtzZo-ZWX7Kdk0zw5tM1yO7JNh6DnyBLSImHX9DjM-BAqfGRoCoLv0l+W0v7KARWngEy5pOH9nAz9yLS188BPaYOULkz5y5VUY4oEQFKJZXAswIoofhuln47pq3SuetJwHChh5LAUeQ0SUIzz+5VcrGQ+zeF8E+iYnVFNlD0ImEUiRuT1IlmnlYgbC2hahs2TfyJZnCRoxij3mQglyGwp8iuQPJ-a7Cs8owW+YcKyKjB+5eMheYEHqKKESiGgP0USmfAAK9ZbGR2YvJAXJYmi4CmBd7W3DQK2ZtnYDj0W3kCFDxMqICMkAmCzBSp3iEhfEAqDHjX5x49Fm3Tlpjy245FYgBwCAVLzFClCmeWQrEB0DW+rGahS3Pqn0KdKTCreQfNYl7yo5LpBZiMTGLmyUsDRBhcpSqZXEEB6+L2CvMCjgciQ+op4bfKqZipA5rsvVPBj1Riy72QfTumKgTTGLvUuTeqYrQ7kb4Ma+tWboO0PH3ZvYlAOtImHUVZog+eqBwEgshCtzykIyPVEYEMKDA3UCGb1AKBGKgA1WAACUSiUAAAguAHACJQAASmq0gAAB5cfsgA4Bl13E-rA-FVJgzu11FI89efVOUVrJAIailhXjP0XuKvYGEtKVbSaUpF9FvEQdJwt-C-YelPIcpelMOCLEsZiS5JWkoyXZK8lBSwZUQHqXex2l1UsZU0vSb6LM5rSzxUpm8VNLwxHS+IPtHNluwSl92EZZ0rgWBAal4HQ2X7M94lZ+5KIZYsHnwXfQiFFypSE8raywx-Z1yhIswNKUypPlayq5QwCoJbw4lkyygJkvawAAZRKIUtWI8hvmZsIFSd2CBCwWFNyhtnUtaVVLF5zSxZa0t9CYqCVgQLMUMsHRkrhmVK45AQCFi+NoVsKhFeAAWUXgSVUoMlesqxmGzWB+gErJstkXbKvFHcfZWzIdhWBjl7ssMMwKFXuy+gakyVQQGlUTEwwVTWCtyrBU4q4hPQ82QTitkPLWMwQUHsHlgo8xNiwQYYNqoBUlZ0V9Ks6OSvBUJEqm1YKalQBdF6B2Ffy51RZxTnpM7lhquPthwM648Q0fK5QPDITmItzl-SoWN6uqW2qeFRKZWZqqsDxqixyZH1RCs3J+rc5h4sqsYKLFeqixc+AxalmrnEA94MQBwJYpMklqWAxY3oIWpdFOVVE1axgOVkDw2E3VWXItY2obVOiy1NMrMR2pZCtNVa+YvNSHLcVvBWloKH+VjK0WpsdF4Cy4diGVKfJAlpswYqMVaAgrZg+OfFf0vGQTV51wOE9Wli2T+KOAIq3ZR3BPU+4tkiQs8n-X6Xlrb+3+eVUHL1QHLVlDAVVU6DbW+ADssGb1H+oqViBANCQWxs+kRT9KFiiPF9YsgvDvqR1ck3Scu3mHKwwQRqawOMCPWqKbiGhMxUvxYUOALi-wa4hsnXRnrVFC6sFb9Q5DXrvUDgO9awj2WMan1ctZDX-XGA0zP1bmb9YYvA0nEpVNM4DRYFA0JpBm4mk5TZ0RRWrFUSGgIChodXlqk8QMrDfnInCVTxgRqA9TkMOViBQ5mxE9bvKVZGguVVgIzf+qzFWbDNj67yZ+Uqn9LbNkG-iq8lw37r31hGhpe5tGX8V10s2XAIBOM2-gHA0K6ZVkpyX5K2V1IKLekpi1zKkV8G8LYhtB6Mgwt-69Cg216A5Zyp7-PTTZreK-pvN+Gk5H5u9jEbB6IW6zQysi1JKYV8KxFeumZUtbUt2eJTcrKy0OrctuqoMAVtnUvMtaP4baOBUCqhzPik25JtFQvBjangcVdJjZJ9g1D9EnSBbWWDnGlJ0m-0tbcrERAyd4s42wipNvMnTbVtwzR6sdsW1nasZK26pM5o9hnQAIrwE7dwKW1Yy9twzSQECEgRShPVd2+qQ9v23PAqqXiUyTtvu24pLtv2JJAkGalA7wO32vBWIG2i0B8ojUhgO9vrLDr-VS6t4DJ023eNidJ-C+ZCxpkpExtGO9ZC9oHg46hYpO+GpHhbXFrHqpOrHQzoEqEjRKFOlOVvGk19gDMDrVnY2paZo6adb-M2Mdpp16AbtW2vHbnPMlHa3t4FeXdwMjkG1r5vMuOerMRkCrWMoup0dbVe0HAcdcu1XVtsvzTqI5eBGkMrJl2Y7Ok6u+shbrN1PBmdPO1jDbtSySRBdwY3sEbvr6O6gtOm37diWErqENNAa-VfcuDXe7Q1SxTkSRnWFLAg9JNfAH9qiH9rjdmEjBQSCkVEAZFCqtgqiOnKF7RipEWRUQQIKl1eEdugkD7r91Co+goYkXQuRz319w9zAKXfomWWJDOp+U+qbtXB3TBIdl+DAs82kER85BhTYlru0PE8Sax7DXpYrpDnLhVIgajQEaq6KJ7XU-eoVC6Dan-gOpLoFouoB5Bz4UFT3DIDTje6dsIpRQbhcmuPYWVry4gRLPLlShL6mJbJdVZ63Y4A5pFVekvR-KBHIrJCrqJvVsEF0-6+JzmdvchkgSd6AEcB5iT9hwBbIkgZ4tbmDA4AABOXgHFleDpQZqsiu2cQYSzLdy12gVwBiAqCebQaE1JtsbHNzyTFU4gO9JwHk64G9Axo40b2DQBCHJNNBG9qDV8C8Hk590mkLgZoOFR0Qhs1yJfnEAQ8kmYMpzuYFkOGz5DWoCoNgY4gkHluGq3AECRKpH7aweGtfRHPSY+6YDLevsCYfW5mHED-wZA62t-KOHgS1oK3L3uVhSS3gnq-KKBrCwsB6Q1YDob+i2R7wHAoEu8gsDPH+GV56CI-QwFA2JtuA6q2jdpkJhhG6+twoMNWFZZXZzcvBv7stAh7+GjxRYp8mkdADlH-uWAlFLwYdHFq94mwUTsHWiykZ31mUtEBMBykc02jaWBzfpv7huaHN76jWEMZ9ykYcjfePI7AQKP8EmAYYW9hYFKP1HyjE4cLbptyl1HNjDRh-EZUbyYaOQGxg41UcbV+BGFRwA4+UZEP4zDD63ctbAOpSGyd9Ce2WC8s6ItGB1glY-UwFP1eqr9iqW-bsER5Hk9Z6eveBuKANF6QDQci1PuDklzzxwj1ZkAcCkDoggjQqXxUv2iMcBYj4ExI3zA+AgjUjh2e1hkaTyXU5t7uL4xwBskd7PVMJwBHCcr0vGkTSed7PGM73knw6QJ1k0Z2dALEwTJTXHkeUPHmqHVxGihZmuxWXGnR9JkfJEZ41MhZgJqjgIsllhA4GVayGrcFrlq1FWEQiu6n+mNMILD8Caxedfr3QQwqNSkYCNmA1OcpbTBIPhd7lqXIEFFFFTLDgsPntkJFi49PeMA1hOnnaGyPWRXuL1ByLTQizNv4b5PGiSFegF-QAB0sAZmyNYS0yl8AjUkxC1C9yF6f4BMAhoMHMY+BYREznq5Mx0tTPJqMzWZqXFKFzP5mV5owMgGFkvw+oGaFQAAF5P9QAGZgkPyutD5I8z2op-cD37Psjv8ZZ7SKEZOZYRbM0QOkxiaxM9Bkz2Zls+ObbPk8lRRPaqNogdbUAHWJhDYMaIPA7Bqzxarc82bHME49zRZtvn2AdZ5ATzZ59VfOZHBAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:teal">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:teal"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
  (let ((rule-application-id (new-rule-application-id)))
    (define (tree-walk exp)
      (cond ((var? exp)
             (make-new-variable exp rule-application-id))
            ((pair? exp)
             (cons (tree-walk (car exp))
                   (tree-walk (cdr exp))))
            (else exp)))
    (tree-walk rule)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgwt47BwkcPgJwzhQDgIgZA6BbieEePo34vEATMEDDODIvTfG7y+D8K8gIQQmlzgSfo5htT3N8KlB0stXQvIsI87GtBkhkEUDZBcPE+IS3IgmJMHyTQVBOQYL55g3lvDYgRdCVkonknhaAR5+zcADxQgBBSaLk7r1hZixFMldIWUJSRT5edzDYr+BS8y8lUU0sQqSuloByWnmnOIwsmKGVxx5UOY5DBTlks9IXGOYgS4J0icSjFnLBW4qlcXXFET-YKq0aADldLyXc1pXSx5hicJ6G5rzUCAsWApMhGUTFnKaTmo1tC+1DrfC6rzuSsBb87lKp1Yy71KZ96v2fs7MRhAbUGBhWKuFnLyUWMNXnZVRj9bspjRKxEFtfVGv9XHLNJL01xo8coKYbL+V+smNGUZ1yjnhLlZqlk0KdUxrtW6x1I9pb+SFkkyN0bTmxr1TqkgJwtTr16AAVQYMkPJUhxAxiYPIL2LxxA4sOfgZKbtEklqrTECoPaT7CD4KAPQiJfbCASDHV6lBTUxA2HeGJJ5t313PZe6wN7GB7sKXQiwEQdW4A+C8I9J6kWnEULYKU76GB3qohYPCfg2rzwcKuyBegcoa1va2ttDrvbMAYFKE53QxAitdVhiwOU+ay0FqhxgUaSOkYnF+zD9GHXhLFYR3lAZb1FhpKpTNaoQXXjGGdCgkISOPMdv5AeuGAx+xEwOh1qVGCs3ypKHw5hf2fAAzB8wLAR3UYYL2Sd07aCzt2GbFhigsoY0rVhH9biuYdu+F20ZPsDh9vGaovJXShalw-vCx53JcDwtSpqatByUN1IvA03zUbm2nKY221unaDlnSE-Ur9LnSnufkWbHFA8i6x3VfWiuorTn3t46KcgLpkNHJnnXMujdyTZftcqtdeg6v92Qq6dz9rUo1ZdB1uemjYuwsGcrPLgb37ufvYe49iImEsLYSGuR97VR0yU+3FTOg1Pqb-QB2bwHpSVhIWGkVBCPMclUv11D3QRGnewQQsoo3qQaf-VlbTsHDjEEi07CEAmsocFdddn7oizuUKjc9vOB2+MPn+zd9BJ2-v+Wg661SIPMT-Z2wSV7WnUcegm8Gv+eg6NQTu5AocNqP5PZjVj3wUQ6duLg4wHlkoHCGHYAAPgkLw3g7ikvfGZ-7Wsko9DJiaembhgXReyz80m7nPIvkha6D0QXA5JA6AqPzygqupwi+fGLpiABIXw9mzYHHULMegBLWUzEjTNoDRJCccMYqtz7v5iBAIcIGzB4bI204fZ6BbrDJsENdQF3hrrUrVBnMaC3CYyDW64rb+HZOyGaI-rR5jvhzfMnj4ngyg9DGTZJ1n0nJ3yfQLkdxn9e33svIq3i-C+eiWNvLW2n5TNkXN+4mRBce46Pku8npal3js1YY77KIfVKbf1F74yfv9HUqBax1EU2ezGUJrTWVmDcG0YODsc6wsWO4N614kcDgOfLcJ5ZUn+IQs0YHl8Ezx0Qv1fn-+o57XL+1ci9P-+x-Ae12aMCWbqOGMePwbGJwHGZqX0Z+FQOuwuOgbmcWCS7ieW+aV8KB5WHohiEmKWxOpG12nsxW6KtqJeecsKOW6+Qqr+YOmBsK96cG-kSGNaLowq54cOTakOFgPKQK8Y-keg7Bs4c+FEsW-k7mWOqk-kY2zweWU+N+BepW4yvBIhcO8hvk1kIh3WXy126hI+9QAhXBLaOhNOxYcCJkeWXeChLeSh96KhksuKAhVhGhs+Dh2hFBrB7WX27ELhWghhhY7mIBFgz2kUYAiyv0qyFwGy1wtwV0uyysbYVWegXs4yqkS6ZoHAhAVWMhwoJqnkegFGVq6CFQwBWBMGX8Zis0YGSm16nkQwJehRRA1qJRDi0YEh9CCRIGCQ1ReGtRDCqGqR3C58GiqGvYVR4GfRx4oSzw5GlqTR6CAx2Bw8GCq8oxXgOSqCnk9ijifAgxyxF4qxfAFQE8NSZmDCEBGQ7GIquxSxpiKx7caxm8OR44uB-GThYg0mexdxAYDsbxKWACP4nxpxMO8IahKWXx5ywxmk4hQYeBfE0xwocJ14Um2CyOtxsSokr4yOVB42sQ2M1YwIFxVx2CDB5RHoz4IR7iP2yyHypJEudM24lJFheJtAHwwMO6-McsZRJua2mYoWNJzo7RUQcG70Pw3Ri2BGUBQ4Dgy+8RzwJqnJYKC4yBXaEJ4goWIhKpKW7SJkApz8DhQsepTQPJAe24Rppxep-2hpnJxpcCvJ7Qz45ppueyXsuG+GkBRGD2BpFQfwyBeQlY1gdJ9p4gBAwIloSpjIVCGR-0M4QI4Zvp8mcuoWCpUK3ppkZ+sW-pbJHqnqMZYZ8oEZ-+oAAAPHmXGQWQmWJkOnpr0AACoMgGLMhgxJIojQKAIAo1CSipS9CgAeDkHZ5ZH5QTR8BVqalGAeAAI9l9ml5PKDnAiHpVoJmJmDq6a0A9B1kNl8DSAMZAitnkLtklrCBdlBi9mgD9kWDEhDkLmFlUITm9innnmzkkjDmLkZk4nPC-L-KAqqGGEOHTYwbMkZDSgMjixBkcgmSX43k+kZmu48aS4yJjnnnYpirAUlIEEzk6YskElAhElSkkkxrLlYapQiHsDmjbiIUYWPLbiVkYXEUW6yJjnzC7hLn+7qZfIHYnKkWZFWhB64WelMAXY0irlah-lBiTr0hKaAIOHdkAE0g4515upwZ6kODUmKncGcqqSQWWmamoY2lBFZ6WnOZGmyXY4vb0mZgnKoWgWmFr7Kz2Hgq-nkTQW4D-nUiAVWWjIxqwVnHKyQWanOXi5uoN5S4UWkbIVAW-LiyPl3z4lDl8XQGUEl7EUOFcVZj4IGmEVuqPIfAXjUVwHpm4CZUKaAL0XiQZVMVYlvmsWgC-rsVAacXRmim8WSn8WBSgHDprmFmGYMASV4ZSXkTLoTi0HngbomV0617eVP5fbHCywqW3YXh6meWnLVXBklXMi6Wyx8H-obXOiZ4YXmCGXak7XrBjV2YM6rWWWRVLXzJhGeRLIrLnDrJXBbIYBykUwag5AXoiBXqQZnJnw2wjG7pBhnpfXCCvQInjgg2vraDdEEBDg0q3qSItKYlLBcYChwZQ3fVvp3UOCaQvLfzrgAIWDrhtp7UEjfybhE3mCbik36XfyahU2wzdC0341mJdiM1dgs0cjfwOi8IAK808icpk2+DfzRwHDpTRgAJi0S1C101mLCVU3CVurC0WDfxJCWgTB5AHBDDq3yia1HB5wq3mDfxuCM0WDJEVDRimhc5LoeBgygBG0f6yi9DLRm3mAW2gBW2c6gBLrLSe3mCO3fwABUbtx6Xslt1tPtoAQd-tDtctztwAodHtXtbANtoAYA9tgdZiAApEneHZ7ZHUutnbHVnc7RkWbcnYXalVbfHT8QAIRmgV350p1p0N0cA12s3O3Fl50R3e1LqlnmAd3c1mLFlsBu2V190lkcAF2119Ac490F2T1c6D2l0-Ec5j0VAEgT2p1R3r0r2z29B12h1R2+A73mB10WApEvIHgY2fXQ05SansBfJiwGwiTDB31Y2TG2433TWY1g3Y3nG0B5DbRAQRpP15wv0xDe300f3-0AIKxcaO0Eh-0-V3UHhYC30vqf1d7v6aTfwbZsySgAIENbZIP7Wq1mKQAMBsyFSS2b1UM0MsJkPkNO0-G62UCwCQBU3sOcPMPkNq0aB62JSM3sOJR8P7XfwABy8gkjod0jkjRVLDP97uHQsDV6Vhj9bAz9SgqG3tZpsWKDIQ3h5CyjYIqjWD-9je7EXa4DHIkDejiCqNGw79Fj6jxjEa6DJklaz6oNqD-RQNSSGiapE4T6+UX+gEJAuA0YcV208gWQ5uOQzC6FWGhjMNKg4aCNNG+ldKgTXY4YBIzpvl-ggKLV0BwTYBvRpTxGpG0eeGBRajADx4W1yBj55gqTGj5VJOtT+gqTOUQDIDQgLT+17T7jVp4jFgTV4prCVT54W8IpVoQI2M-p6qHpHGXuxT8VIq6DCyONyyf0aylwmyGAr17igJxEQglAt8YI9QSQJAyiU+wTvNqI6ICsDzGwXyVFjjsibz45QYlAU5gCc5L5r9GSlVskBA+4iuaVKNyw4LJ1pxs0SQu8FGzAjcz5gVAeGU1AKIFAKGoIe61A1AkdRwHgghhLqVvQPZjylLXKQY95HgWL4zdKlLFQl5wIOpZsZcQ0o5QLn6ySfL9cRATDJghu5l7QbLQIp5vQfQp5iLPMHwKLIuL9gTXLLCfLGeUrBgvQpxqrrCrgCQghhSjz0ilSSSRV1LgWNUuZlMTMZroAeoWAxuc2JroUu4ZrRguI0Lsi7roAbdQYcyHzx624dr0ZAwVrfqZzGUF4Vz1ktzyiZrvWzrEwh5wS4EdrDrTrvg7yzo+mTTGqJW7rcKmb1LMrHgur1oLABrwbGWhbD5mb5gPZALqh0syYub1k+bSkPr05bqjbp55b+rILMLPahrQI+445jr+cWrE7CKqjQrVavQ7NfL79c7FbJACQ7z1rGoyuI75rs73LfQDNmuTM1bo7FVSw7ry73Lq767jrXqQLO7gbvQAA5AC0klKy+7e4C8+deWazq7CItrfCQFWoB17WSeUlLs6M8z0NuCB0y26t-F1JOWuZOXksOL2P2CwGh7CVYGGO84bo8rq4O3oLB2e8R9eEBwY-+3q5W0VSFlR0RyRxaLuIx+W7B88eILE-E9QIkxeJJr7F9OXJlsa8mzUKmyyGMoGwhymyRAAnWmXA2kJ9k3Yzo5x5WNx8IMwv9vXAJ1WOq0JxuxyOSq2xJ3Lt-IMKyw4RCjLDm2MrRzqj7Ox6ACB3OAul7Np5lFWEJ-bkm0EjSrZ67kpVsSRYDnnM25Cjm3J4nEpLZ-7rfTpx8FKD2g4C-c5-OgsG5-xx58gcOzF-cmjkFylaGwzYG6FtuJl+XL6PuvLF8+V1WJV1+pC7mQ-YV+aAu-6OGzSARycFl-V8klC81wNaG6pwkxp7x-8SV9uwNwuEp+2rKMN+p5p3x914Jyez5j7GO3Z-yQV05ao-F719+jXpplZg7lyLSetxdhUc7eZ-1cCi22d4oNXrtkd67ldg52ZbZc8BZtVut+iTvKFiZxyJ8zmADzSH1h1T0DMmJVOjOiuiQV+OIF96NQix8ZXmMr956P9+t4GxSVj7mcJZlt1cZqZh2-D6AICdAkj4U88BhyQNZIQPkmiBMDoIBPoGj2B30tGJZl56GzT8OKcUaIl3V7T-UBrGz2K+kvoOT+QvpwKDsCUiwNxAsGsMMAnhOH1RKIQDDHs2cNQPKEoI1FdMeh8MrFdGgKb5vG9eOP2F9HoKkG0X4HQCQEgcJ1Lq0I787y1qACQ+rom8GrxLb-gPb9uNuG72uc7wZw6kD-oKH077Lm6lHlWDb3b6RzH+H454Ykr4UOMifrAbipnwDqw30EHfnyHSZVzAyF+QH6wp4BUHb5QBPN5XBm1HkPnw4Nb9QFX5QDX0x6+H-l6GsI94SEBs3639Gd75KIJQSKpOP9tl8vJZNW7mY6n234nx33X3cKRyP+ZIP1DkBsv2P3hpturpP3nNP4f4Q7P26vPx9hpeSbuKn6dXJXP2Zb4Aor+Jh5393+v85deJP031NKPyGoLQ1+gfLvqRz7758d+tIYfgAPMipUZ+J-C8kQC9C99c+-fcoK01CyaQ6+3fULN-wKq-84ODqZ8BAO35QCnub2BfuYDgz78gBSfUARvx768hYBA-R-kP2PT79zQCA13PW2zzIDxILAjAbwKzyhY8BDAn-usBm4zkBBLfMgQeHrbX8S8OVFAUsFT4SC2B51DkPTjOpkYzY0tDQLrz0DrtvKWsClp+QBQdcsq-0CvgChJypQzgobfKPDGHDkFHkTgzDuQTB56YEghPGHuDEswt5Bq+fSnpoNpiZh9BhAXXujWmry8W86Agvhn3MiGBeAcGDXg4FiGK8khC7GwYoCwgY1VeHADIXTyyHuDaeWEdxIYjyD5Ro4pIKfOoPR6hY6hBA9YKcSqF4Y4qU+PQG0JqGjt0e24boUOQ2K2JqhHQ-AgMOBDBNnw4w0dq0JGGEkwmi1JoUaXR7t9YWlKCoE6QEQuk3Saw8yBII2E2kGh27SoXMJBBNDkcBw2WO+Qpju5-wuQI5JDz1LwEeqExYoJQD154YCAJAcZNXBKRVoxeu-JNiMn8438CQu+U4fvlOHaBZgi1R4TaRWoB5ph8A8-lthLyPJGAvVKUG8I+HdR0QcIq4UlTJ5-CuhUIgQtMPIE1UJq0OLdqMBBF446YoWOgIoCrSMlzuFQJkVWhx4PcKRigoKvjje55xtBbFVahyKE6OdiQ2YBICJ3AKAQQI0YEXAcG76yj5A8oqUAcAb7s9zkIVLuIG2VGqj3gdwQwFC1K6ORFRcHdnDvQlFOhpRvRPUQqKyKSiVBoILuFIJYZ5w7RaoieEMIRBhAmQV6D0c6IqAeiDRLvBCjqLlzBj1RRo3MiaPwQuiScFornPlFcB+iqUcokXJGMNFEC6UiYr9o6PEhdxUCEFB0daL4AgRwQOjIGhizCHtAyxGgXDE7FaBOgMQTYqUZAw-SAIEkupcsQ2KtEGs+xoYypAOMDaBYoWyYlgKmPkjpj9ArqciiWPXaujcxdYoaDOEbGSiWx+YrJK2JNiW9YebpbQN8GQj+hUSKwPYaACqjaplhO+aakiI4DTDoR16RUksPhHi9UYEIg-sph95y4Km+gJoReMuG7VjR9YlgLMHVqGD7xZI04bFn-EzVdqjnToCuMCCUAwJBZBCUGI0AAT1g6PZSqGz4CLAiGZ5OXL0Dwn5giGULP3ksDQnniNARgQNspXMBji3gIyBCbRO-GulwCh6PFMeIbBUSYJRpRiRalGAsT7W+oU9NuwvG7sEJrgUCQYILLPgWJrot1M+AkmKSHUUkkCchNklEcFJrTZjNuBUm6T6MxlKFsRPwk6BtWVPKMEOQID09SI845IsE1Cz51cxgWa4dPEVDfQJgswXnp2yF4zAKgznKic5yvHUg4MKEtuAhmIAcB1JSElCWRxYCsIqJPksQDnDdFYZgpL41auFNkyIZcJZkywb4HDwK5cy2FGyVoD7FGDZJEUuTI5zIBslqh3sAojRPR5Eh72ZXGiW5PEAa81xzYu3l-0D4ajQp01d-Bryr79TowJxV8efi4Eoj1cWKeXLgFpYHBHODUtznX0TBNS2qi-YgHbwcDtTIQkhbhCMjt5GBqWgwWlnbwFA2TQAtZAABKJRKAAAQXADgBEoAAJVrKQAAA8pI2QAcBZSVJIgLrwmB+S78m06SZhOCZ1TrAq08GSBN3bdTVplXUGYcDhmBA7O3U3iLimSm-hTimMnkCDOcFgzgmd0h6c9NekfTvpv0vGcgKRmC8iZqMmKVBnR7dSKpq0ygOtI7hMzYsfYFGQwH2jzjN0upaoYTMw5gymZkM9Hn2OvTliX6dGC8SiE5zkFdeQEZIF5NFnC9wICsnwbDEQkGZYJkgujFuUiF60cZQsCWQbKLF6D8AlmPDG8HAiQ9nxVw+9CZAdHWApAvEZRFhNBHUiZIoyFHG6g4oHx-eTQk6lQKn7klsirqXkaRl3yQj2h8wmEWpUhkIi4KdMPIMiM-GShHyjyPCW9kfKpQ3ZlAD2bgGUQQSxhFIhnIbhjm39yk-3ViWFQtCtB3ZnsojmHM9ZFyS5yiCkhHzbSpQ85HwaqkKJqqvjO5rcsZI5x-EHjeYrJasGsF2HK8Cqks68So1vFviE5OFBYU+NPGLynSWbIDEiL9bcDQRZ-BcppJNkkiN5cOckalLSlLzLZ3AQiYd0oG+yRkfwaDPtR2BB1v5XycERvPjk9CHxiw3iCnK+SqRD5M0rOToDDxe8CoI5c+YYLqGGSLA5c0FDfMdaG4nW-E+PvZx2HnCQFD8l7FSKAyARbZSBBMCyD+DQU4WkM40l-J-mn8PQpk0ieZJXwTUT5-IvBTvPKD3y95dmD7sKEYBny4pigXAYwJCmrUcJrXEiT1AKnfJso+U8icHMoliLd2epAScxK7hPzOuuCjid8DAz+x55oi4YOIptIaLsgBRBvoGynmcSDFc8woIoEYHGLLZ5gehUHQEmiCtFeoDHtu0cW7shF8CuKfJPjH7V5JE8VSXnACWsI4pZXEJXfJpBldwlyCzlMZNzLMLZFK0t4MEAxAV4BKLUvxFMjtj3YmAvYYIBDVwgQx-gJWYIMEwVg1LvRlQbYlWhqX5KKkrrV8M+HqW7sEOuAD2dGEqzXgwwULQ2PfysA7it0KgVhDzGyXBAAp5HRKcBMCBzKEpj452SvLMbARswswYIA4FaDJgmUawN4PlDGBjLj801KJdVNynaLOUFyuKYFMWUGZklP4YCHVKUibLc8NSiJZygylXDDp62OBawhylRTpFiiuXKOLx6sFLm8yk5VQA1jvLtlYyr5aVKIDlT7JFyoFagWumkzKAb08dAABlEof0habzl1JAy9awQc2Q8uXmvjoZ0IwCF7DRlQZA2iMw-l7F9AUrGVGM5AVjNkBWAhYDS-Gbig5Ukz7pOK-FYSppkXg6ZvKggJSr1nBNpZ3TZJg6lZn2T2ZnMzlV8uZbBABZrYsMKpNVWti+g13B2FYF1WSjcOjnbxhyotkSKA80s5cXLKww7Kd65BbxtMqsAwquStqvSkbLJUyrUsPqq4Z1MATnp0mUKhKfFKA4Wo9ZmEnqcYM1Fzp5xMsjQE6vAqclvarqRVcoBlGfAVRIuNmPTLFmoz7lsay2VquYy5jrVfKqNQsrLXGVsm2lecSGv6wRqgOtauNQOMYLTU94UDDgKNK+61qeZrakDrZgDy9rGAmco-tnLlzVhYa1gEDh2oNnxq7OE6lkFLwjRDrO1zazJXSu9hJDhJiaz0BK20kdTKQ2IT0CMn2lWz9EYINclUD5kPjYZOM8ZL7NWlJCX1f-aartI4DqrQBG0l9dVTgzYth0HBHGfGtsZZ5DV645PkGBxnmqnQY6mkIoATxV90OfMhDQkHqJupQsOMioLmJA17Kosj6gcSZRrkjythvlenq0ADVPrWVXq7Pr-QeUOBnlVSpSDUqxxvrWVB6h5QHI5BwYf1y6elRzP-VczeNQG6aoRo4LjA+xkG5jNBt6mB9SlZqvsUhuQaobYNpqggJhuw1qTt2sy49JHSk2zgZNzasjewve67iJwzPWjWuQ1neIX1rS7JY5sDYC8A1ghPmXZzc04yPNDMqDPzxs0+bHNMGO9TRvA1hNn1nms5So0ZBFrNZv4BwNivJnvTPpP08AFjiS0vSUtVMolbhr5n4bI6sW+zXfhMqqRegfyCyZRup42aZlYy+9KFusDjAIt9GjjUNJi24ApQFKxLaKtxUEr0t1IbFb1sJUOBQsBm3MUVopWlamFFW3dbxR-DbR8iMWVpVLhiwWl5qA8BbWWEyzVjVErI6pB0WeCdJ5tTwNbqUnR5ciOWQyN4LxTFqbbjw22wcUsFW0HbUE6227U8Ae19DHIz2qrYiTOgARXgd2zdUtqPUXaGlkgIEJAilCLqQdr4vbZduVgNYvE33M7Uevh0NKkkCQaXrDtWpg7HO822gMcuO1lhkCTa7ca0rm1iAgdbyqnSdrUWcl41ULAnccqO206SdXhBgEDqpz9kR10Kn7MTqEAc6udtGYQaXjJ2SjUCKGn4oh17C86EpAJKnYTv81WbbtSuvQO9pJ3brydR6+bFMw4iA78iGuwZru3BWGdl0KY7MP6LzWqjlVnKOXe2p+xG6AwTuqnMuoHF2phBuY1XSzv+366DgXO9XQbpJ0i6Zy4up0Akil19BkOsuyFaOqDGA6ldnjM2BDpQw9otdEuqWcmsdU6MjZGa1OtOw5AC0ntse6FSntRZtqq0VXZJTSGRW2T41x1SFqLvpShrgQZUuyUav4mYLaWgWD3TSDD3rstgke4MLQCw69B7ddDCQPgEh3MAk9LpICAnhR3lNPCSO6YIvtvlZ5RSizIBiXFWZDgQ183HjnDnUA8h094e5cJpSz2yyc9LGPPRzntTex59RyJwU3nuEuhWmx+lygbIrXm0MgGw62oZPx6-7rlboidNDxMzqkNA6ZEgKlAP2jd-suHRRs3tr2oqO9Zi4qj3vtT97JIQ+2A4t3+Ix7wszACvQAlwNjc+I6DMKYuj90y0OAAATl4AmRpaco+vTtsYOvAJa8a7QK4AxAVBmZPsk7m0oxB8a5KxC49OIGjKcBEB5gJgyqL0BPsn2vYNAEobU3jVnuoI3wDIZZGmjjYqc88eweYPSzCo6IaWa5FiziA-aXcIeS-wsCaHODRhrUBUCSBudNDIa3iH0oGUugpw960-QmtfH97B9qGvsL0pVEeHJy4+gBG4ZCPWgqss+xHctyrAV6T0DAKXT6RYD0hqwwrdZcQD3gOBUu0YVzu50E58wPgSRqXVK24CWrqQB2QmOkdoa+tWu1YUMsOEn6aG+gy0do7tyy5Od5ly6Mo6AHaOu18mXyVo6x2hV7xNglItQ8PIOzgb6ewMKoMzxFzjHJ+bm8YHZqC2BbH1GsZY9VWqNpHWSdRv1j-FIlMAww4c1oy7QGN+0cZ1mlnv0auODHH51-YeeRo0P6HZDlxq490YSnwYRMRwB4+0ZUM2H3jweeyVmuTVpqsMOEu-TOVGORrkFz+u4Shj3iYT8NQBm4jvX7RfLx9xHVltZJRXt71xrk9yAzgEXjgfszIA4FIHRD5QpdjGlRjkY4B5GCjtXSlegk8PJHVeE5Co4PyUrracJXrHEyiZb2LMCT9e4k1NoZFUdEjiJpgK-txO7B+TnJNE3-u9r9pHOeyzalPiOUsgWlWRxpb52si6AZS0gWjYafqC6BkhblczM3OLnjyfuHC8pMCJ+4wLDE6QA5YUEh7jBzTWgXQIgZnZiTaRuPSPkzR6BjzS5bctkeeXDPdzdwtnf07S1Lgr5R5tpruQxoFCsnEjT7XnnoDvkAAdLAM5pzW9E5jfANcgax72e0I6d6UjAoaDA1HWS-8A8JmcXXZm-JuZtKQWaLNkLrQ+SMs2uyamjAyAPpWLPb1CzDnQAAAL2cbmACzBIbpr2evTlmigltCoNOZrPMY6z2kfYx8CwhOtog62yk9SZ6DZnizUoUs8uebpHtna1UbRJOWoCTlzJGwJ9geB2AtnoVp5nsxeYHNXnC+fYScnkHvOPncOW5kcEAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}

</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:teal"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:teal"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
  (cond ((eq? frame 'failed) 'failed)
        ((equal? p1 p2) frame)
        ((var? p1) (extend-if-possible p1 p2 frame))
        ((var? p2) (extend-if-possible p2 p1 frame))  
        ((and (pair? p1) (pair? p2))
         (unify-match (cdr p1)
                      (cdr p2)
                      (unify-match (car p1)
                                   (car p2)
                                   frame)))
        (else 'failed)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26Q-oe5xDAxxQIBgeAkFQNA8TQYkaoLTzUmMNgZAYYhcPc4mPgUShAdx5JUnSBQWDIIxKCl8JQAAHw14yUgYD5Ool1XpZiLWddSFh8HwDghBVtXNe1v1dfSTJbelu7ob53XmDECRhAYbcwUlygdj6e5VuxwLdawoPwgAMlj3p+kGGOR3ZUPvfdg65bSd7PpT-qgf5sPff90FXasuhc+qib6fMQxfEVq2GHwYXK4+12ZYTLaiKN-lwqzouLWoMQ6A+uhA97qjI9Sb2S4D8vQHBIeR7HnS9oH5fR+Ice9Ybi3-0n19Au7pMhiT-Qe7VyZ19r4G3GHred7Rjup8Lk+7Uv6W+95zjdeNIQZwVGUGwb6mU6AvyPoXL25Afa1FLjuIOVl-47yASA0q9Bq4e04sgwBJg0FgN3o3A+dtIGy0TiMG879iFf2-gPHBDBUGgJis-fOyxj7nxvJ-a+d0B66zBhwBheCmHOAgWwqBM8YFzzLogxe-CGqMPQXQTBA85GCOAcIrK9ciGiNiOwihp8qEd24VDFR31SbyKEYok6vUdExD0YMThp8Y7f1pgAMUgAADQALIAFFmiBEICA5Q-xwRZ0Ed6agqJwSgEcpE1Qi8QGK2EOQWSeByAyC0KQNOKR+Y0n+Dk9QIgODCEaLTVQlBKCEEMI0EAYg4m0jQLkBQwB3CJGCQAWnINyCoChfDAAAFaGHaYYEBrVgApDyYYYAAA2HQ2A8DuO8X49aCh8CVn+JQPooB2AeC8EzJQiSWDJMavgYQvgCCOA2X0Wm65SBaRiRQKpad-gWzOZ5YG2yuR7Mcn0Go6ysk1FqLUNAWCPK60Ock2xOMEzQNgX7eeMjQm33CdUSJzhlG32BO9I55AGC3NzpkwwULAo3GxFo-ezdW6524IY5xN8YZomxcc15vhiWFwJjs5QXgz76I-k43uxj+6Yt1iJNlZDYVSIQUbKyIk9bMC0KvDFDLoVJBFnDQggR770DFV3Dh-Kr6Z2FakN43FUQ-Hhhq4gWrwGsN0eI4ucCEXStAMZIo4ITVovoOa9VmrDDovpXzE1aqNV4sCMnQ+YiyEBwYIEGQC88QBuwfQP2FrSAMEpDqwM0bY0L1JDwzFQbU0ME6BPEhkaEzZsqAvHQNNeECzaLWS5mbs6z0ddI514JjDtG3sEpVfMCZdsbcE12YRX5RrLp2htPbiDgm4EHMI+blWDunXKqgxBV5EvzrEctm09V2mcYuvmVQ7kzg+Gu1eI6hL2MvYezimrT3yvXdvSgm6jajtIQmT+C6TFGpFgoTQuJl1NvnVe+1ztqHfprsq8F6wH3nufZesdML5YZCyF+lxdbGpfKhSqltki21SqllZTlXg+2cQ5dh21djC7z3BCR2d1Je63qml8k5ZycPXq4bW39GhAnUG5KiZtRdW3wvbURxevGQQCf9cx8wYTU1Wr9dqqjuHyEOP1V-WTwNSBiFfWWu1ZDDFccTR5ByxadNEqIO+nd2dwP6CsyZuTB4Pjmbag5pDu6RgOa0+tFz31dP2aqaBshN5vNQ1BeYPh319AWs7oGCVBGwQWqssUTBEWXAVBICIVI2rkujRRmTam2MB6UECA1RynRuV9RXAOKLm4HzYxWAOBtnQSa-Qa1BWMV1SC1iYlmZ80ZXWvHoFSFgjInoMBehDGLVNMaQwIoFMb4kgzqlqEN+Sf1OjGHWypdkZWGAVbYNyibz8WCPmYlgaCFEXyuunnijcMXwg7f0nt4g5XKs8sGA1rWr33tHYvqfB8z3mgyC28QPrOZyQBULqVt7B2PuxcNcq+GiM-ZCjxfge+fw2uo06LN3Oa1GxPXG0TZ6jBptyPxwDJiA5icAEIwLBnHGtOMZCHBClxDcPiqgzorWsbWXnu1uDPdjKeKnjEXWFGu-k4U+g6tfTYJMSIekih4EhOrlcRPSck-OmT16c2Ffi6AtMRb2uGejnAuOV1pR2cyE5yFHnlOReKhO6dJ6lNLvQVQtTV1pkEbb0GJT8mRv-IDc8rLzLAecvgLF-l8xRvnigDVxrlYgVQlJlqOCUPkYbup8LijgPOOyax+pv5cLeAs6MzkMzKAcBEDIHQFzPEP8PKixrGuhe29KzBeQ3rSMws29nnFm1GOylSiMalspZoTtc4dzH8CS20lCEUpYXvJuLcc7txjtwLvUwVjT+NSN5gKDLFgLn86Uog-01H4AWo-BgmZG76n0XVRCiz+j4vy0U8J0CsWPUYozvOgbvZ-XWTeC9D-RUS-b-MAhDR-IAvfEyIuD1M1BcBTa1c-SAr-H4ZA5wb1S1dAuA4A50A-f2JlcgDAlYUoAmLOLcMg+7ObQlDufCFXBoCFXFFlJg53FYJ-YgouIDYdCAygrAhcfgvOKdS5VdBVZ9PTaWHfeAkA82SjXuefK-EjQAogxUEg0VQQjbK-bQ51HgzQweQgPjaTZTZQz-STVlQfDoLQfQeTH1RTERbfFoeA5gtCaNDfNGIlfzGQymVw7vBA3bMyYIBeGyOyByZyakXwcecgOGd5YQ2w4gXybjZVKw+whwbgXwoSWrVIDVagBQNFdZV6W+DIugJXTrVTKw0NAooohqGg5ELIizY3UAaXcPAwP+RQQgfAcoEohlMoiow0d8K1DIIqGwjvMJDg5ED3FghoAvEQEWIAg8egC9Lg50MJfFD6Rg6Y9w2YooXw3YvY2IeTJY+QR+MEaY87ajcVVIWVZ+TVUYoIoQu4hia-ceBDB4tgaWIbZoMcDUMMNoyokIzcRoxeWyeyJyFwErXwEgBIqw6qSHIVZVTw4WbwmLdVQwOQ7vRrQKMzXw9EoLOSUocDOSZoLCcYuw49PzHTAksILEmYjw0ESlfnK1UYakgLC1OkgIjDTFK-HAr1VAxwgggw+AiOe1UrAXCkz6QtH1UNWoJg7kp4ooKA9vOwmUkNDNFwwwowqU-QdUtNEtBU3fJHPmK-UQkdek7GXIv9ADPvbtYDN9QYvPNnS3f4qHMPa0kBFzM9KQ8eS9FnE3fPMWSk5zODX00tF9SmY090nPQbBsI-P6UMuVKWFkxkV1XUqksMp9P0kDTgaMprWXEVIGFk+wpMoOFkp0v0QKTM5MmcNGCHciMPSo4SIMn4c057e9SQ7Ml9S9PM+Ahs1oqHcLRsBwTeWoRkJ4QEAAPlAHAxOHS2BCZI31HPvhHnlLbitTi1s1Q30A3KWCEJJP3x4AexXL9TXOEG4BRIYFPIfnlJvD3O4TIhdSRL5kMG5EYB6NwX-zAT8KtMLPrXtIEIFUa1iEbHnUZFEK7I3Q7gHLu3XVtPNJA2t1nNQ190EBMMLzfKEGbn4Dvw0XeFLJPSgtgMdIZJYKwo-Nwrf1RCJQHXEOHTWLQk7J9O7JkImHO0BPTDu3oWoucIsNXAUjLh4tPxinJStiMXWxINfxEr4rVme0Ep3Gku-NErX2oUmGBxQsyDLxfM4lUKUPE132xiJ1OXOSBBIzY1ZRjiYkbG7D1AgvfJwq-PvwZiWhMpaJUATJvPPMZiBCvK8o1FvG5D1HcsCl1JZUOOdHmJTVOJWIQ1ssxOlDHNCHpNSNNO-30IMtFILjIQJheJsR211NlTQKUxtV7gir0l31St0ugNXPOPUMJwTLRkZF1JgKflOi1P7PJE3mXybmflatPVUoVLRnpKYkCnrPCwHivyUucvMMyuxKgm6rEoXGfmmvwp6rUvKt1NWqsRYTKu5M2s6p1BiAXL5JvxP2UtkuDm5OxkWtUpLOEous0UGu3xXF1IepmsYF2rVnpIOu73dgr1vir3kCUFrzZgb05ksBb0ixnh60+jhi3NAHiOWwlPBwmsxWoNKM2MkDIASvCuuuyorQnSaW6N6KzlnWeyxsJW4DxujKg09kP3-R6IWIaIRoS1Ex3BkCQS6KZr9jJscyhORUppxvsIRsrTjU5tAATR80mJMpFrFPHRcxzQlrzR-WVROMrGWLqpkFFqZKVu4BrRNPI1uAajyoFzeERmNgJqzQnVNpnW4HNufX5qLltoV3PHlt7xE3gTBGGsXltrIw8ltreIttduq1Z11V5SyDRh5OR0cC+D9VakWI1rOIvUMqtpcBvFpoXJrOm1TvJGvUzsmtjsxwahYFZQhktIiEKDzsLiwnLu5LukbE2QangsoFxC701tXkZDnKhtEmNv11nyWoSu8IRujlUqHoYkgyzrm3WqJSK0ru3TDs80GFL1VqPWnrRLnqrsXvTtPhXp0tb39wWPbuTtgLHp6lxvWGbqyurqjW3jEE2SMDHvCGWw4FagftPH3M-3xj7um0HvPv8JYEvsTqVNWGBDvofsHvCAAB4wG37HctsQHlSWhSBzIIQAAVS2UAG4Ogc5fzXgDdJsEwkEWoZoaJAAakl1mP1lmg50fqIVHQoYY3IcofItKxobtwVwmB+OQdQfBAwfwD+mIEckEB03wekMIb4xIcXlAAocYuodalocgZkcXismUbkbYYUY4Y-ujr5lynWpLKWorvJELsrH9ktmxFzpWAHgorof3nHuCpApbJuLSB3Mga4MvyALMaIH0EYpiB7TjuOmPtir9Mqq4OaCWtTi2jcb2NmHPm0cYvCffIB33SfptDtG0fcqlxq1ly71TibptNbsTo7sdscaKGBNsatislsgtnKGiKIVIcyZzCbNdUbAhkZGzoN3zKrMLhsYhhnvsLmzIr2L6Y3sGcafIiHO3oCK8YscOp7qZAfn0dXyIR6iMaRF5M8fRFmfmpXGsaSb-vJmsy6zA1cafvkuma2Z8dmP8cx0CZirqtCYInCdUsifPmib0lKHgi2g-p6kQaMJsaIlSb-E4auKaeyYMFyeRtDhbrbvudXgDLmJQdCMMbBLoBqZEDqf3jhNqtXhSIHM4tjFabm3aaTJzs6uObIV6ensHoGYJ3KoIhGYntpYBnGcHKyama7xmZizmdpkr32RZjr3ZkbwwHmajk6kKJoGKIaIcB73iwkThS9rKKsnyIleoHWX9vMBVbqMm3-Q4FXjP2mI8xcEMUuPdgKnFe1b5d8rLnTFozmAY1iDmFXCGdiFow5AdZiA5GdYitowwg9ePIPG9dtYnQDn9YDiDemFoydlQwY2jcyGdBdZiFo24kMECXIF8AYxTbTfOUVETcXJ3HBGBI9eBNjDzdoy51UGLRYEMFnQrarcZhWDLYnTIf9diH0Dhm4F8GfpnPiIoZzabYLfaVbZiHbc7e7cRtAHaVAH7Z9YnThG4AaFHenfHfiMhGnZiAHbBHBGAGHYMA7eXenInbABneDYLYAFJd2l2u3D34iz313QBN2IRxJW2r2V3U4u3Z2C3zcX393r2AQe3QBzdl3P2t2oHL3f232YGYgP3T3QOARh3X2b3QAoGgRgPYOIQpzwOx2kOZzoPH3wQpz4OF3ChEP-2J3CO8OQOIQ6dd2J3CgyOYg6dYh4b0x8oEytXJX6jkVB7AQVxSVPtuAOO1WuOGVv1zXajOO+iCxm4WB+kTAX1eOVh+PkRD3fWLXOOGMTWZWLxXUhOpXAa0wIp2P1PhO3iz1x4fL82wRaM-jM9uBbPUx6Wjik2J1IA6AIlW6HW3OPOYPnPnRy2qBK3YBIAPW63gu82-OXOC262fF-WYuIvIvaMAA5cgJL3dlLpLv5o4tj94AQPThqehHjgEPjjQeww9rabWwTkz4onBMT4ziT0z+hbwxT6YZT8rvdLIbW-w-Lsz4-SM+cjeIh3EHr6VugJouaAOBG6ol6NUUgNgXwY6fpcgasN8zqTQK5tCHrgowJbsg1mVpzhofzL2hEIoNGpdeMQgIpk+v0hGqKq74JsEHbXjQvEb7js+lhlgnrwr1Jp7jCpGV7hlGTuT0wBK3xr7s6usiehLhofJmF+784mmRu0OMQL4QB1AuF59CCi7+Hi9QzgG0T-l0G+vDmTAeZ82igUwBgbtD4MqG4UgblORVmlDRWZWQxRn9SoQozU+dn8IRhhgZh+RupDhtnsxEiEB5oEX3-WhAtRQG4PvfFLQcNA2XTKb5QZQfBjIDvIwLItX8dxmCh-QLpZQVOcEaJUoU30AUh1Riho36H2MU3udDRlXnzS1CpSyp38bhKo7131u54aCG+hMQX5R8ECEZRppOX4wBX+U-j73+IVuz3pXRh6wLPVeziH33ETJBQQ3nTJnlxl2fzEB838DXSRA8FMuAv0AeOS7EduNtDU+Av8IH7QxBvwD9SVLQvgwLaCv5bcEVLYyUocnrpGcanmKOn7lAv4yZoOXVISTfjM-Cvqvp8mIGfduBw-Akq7P1adSsic30Pih9PpgMgLPrvizTf6+NRpf6JAXu6jfDcso6T4qkRFv2R1cK-5Rg-zPz7ZJrIfEhvxP6vwoPCFkhkQyScfVlJJFBAMZ-MVXSQIU0z4c9S+eRB7BPyELp8IQfrS8mXBP6rQ0mP-HPt1zAGH9SAgkS7CQUF5n8Vw5vAAOTMN-MwfGgaQMYzK9aGBfF3oQO7SkBWUHA69mnSLh2YPoLPTcFtG4F29GSBbIQMICYbBAmGDkHSFZAtDFgmGPWDgPCG36lA0Bwg2sJwP8I3gRBMAt3kQJIFHkNB58PQcCzMEH8RBhtDyEtxW7KA1ukPXqKGg8CKYCSufWfmYXASxZKBVnCEB4LAQMY1+vqERLFgO6FB+Otg9YPYOoCaAWSzg4JG4E95uCEBu2Ffp9G8FCFaMqWOdDfypTtxYs4vFoOqmsHmBuBu8WInDHiGuDYsf5DojPyIZz9BMBQkCq0ze5EI0ycEXIZvk+hBCnCuWdVKC3NYuC3AcCXwnFFK5lD64FQqoYkJEYckBhjTasm0KxY98-WPgrCFtA1TDDjAfsbIjSg676AthCQnYa5nYorgQcywq2Cb1DbrD5Axw0YRZnOF0xAeETHvpENW4xDHBtYEvjMADYglLhbAMIa6zLjvDohsQtGDMKJTYCiUBQ6+E8NroAiqu2wh4c7xjKURrSd-ZoZUUChZCGMS1ZkpiIWHZ5KI2I-PMUKHL71zArdEgG4Pdpyt7sB4NwT4K2gZDEC5TPLOEQhJRFH+kWdOjCWSIasXADtCzrSN4FRwHsrI34RnQGFPD2R6qKphEUhJFD1+YKIUfQAtrVI0sG8EYdpDKiUB8AjUBqAMAqBfYBhdIvkTSJqE98FBVUHzMaOLQ6iYoHBGobwK2jCieyBQkoYWHM40AO8eWOug4HRZ+wOoDAQpMIA4CkA1odCIgNYTNHNl2i0-H-MkNKbDZcu2ybXGZVJyTZycnTeURjAJwDkpmxOZbA53OaBieaP+UMRIIjEEkjcGlXIIQFZSu4bE7uVlm0WtLkkFhKYgzAmCwgNjWULIhYfbRjHf9khbY5phSwTAWp8WkzHsYGH7FuCvRTA-oAoGLR-c-YFQEBL4HlKGA2Qm49NnAkMCkhzRfA1xgmh8H7jtxfsI8U8HhEPYomCaIESOz16w53oa4rLBuMjAHileK4hCEYEfG+M9il4w8aSCdrVBMk1sYosBOTh7ivxV4vWMeLFEoYXYu4jvtBIQm3jjB94t5gBLQiTkyO4EsgJBIsRbj5S6Em8aINXD4SZy+sX8URATQ6NOItEt8TIBASqxSuoJI5nOKhJsTEYcqQIO9BVgCTVxynTItSGl5q1eJ28fiSuKEkrjc+dmZiUYI2yHlS+7xObv0CglwT5SrqKJq+MEhhDqJf0KSYwCUlyS3xPcYSYKnmZ3d0clIUEAhiDzJIrqc9ckFrl1w64+cU2A3EHhXpFiMxjOVbHUCEJRUi86MZyXWKwkVIyAjALnPxGbEC53c3ACKfmOpxnc+YvETJLFIdyHCqAyUvKalNDrcTCpJvUHHsEzwfcSgi8MqcUh+FNAWg7QVrLxHynGwfBbTY6keXly8QnsIUw+mjmFj2SPgCGZqVxAKk+5OpSAxkd1Mr4JxxRjI5yR30ykxSGAcUnnDeG6lPjnQN4BaZtMVBLTVUq0r-htMAloQtoO0k6VeGpiFD085UyQUuPjoo9JAmifSe2xHoPZ92Rk8DFVQ8hqATAXgYtIwBtGCYgZzgbgGUJGllDXJqYqkKtJjQjEvijIfadlO5z6BwZBUkGfQGFyRcrwkMwZqNXZQO44ZNIBGT3xqmZ4fBqk3bA9I4D6jTJL02GZ8TdjpTOIvAYwNmIqBwxcpltAPvSPIGbCqAjEjyKlBkmCTugbIboIhLckJlLOqUHEOLL8Aq0pmPlQKRBBezgZLe1IJcc1HhgMAiQLcLmQ1TTHdBGQ-MpmVM3lzdBwg5vVLBrO6DuwaZoANBgAAkfEDAAAILgBwAPiAAEpoNIAAAeSS7IAgQ3dLOpIDUAOitINFLmVlKNwnjWZDUbWZzKRkd9hZSc0YY6JcopynhwszoAuAxnvAfMuczIJHOLAuUEazs12R7K9m+yA5QcouZIHZnwwM5UcrOVQCykI1hZZkpObrPLD6yU58gzOfQGGT6StRmKb0LsKHkEUkZcc3gUpNehsT+O62Zyfg2nIi5fpXKAGaXN1HaoV5lkY8tFKSBG4nxMgcOZWwLlEoZ5hUlxA7OUEFcmamSRkAAAYBumKGoI5BjQZAjRDQzwZNkGCXQv51+BwI-KBB3ygF6k5RniHxlkIwFuQYBWQB8wEx35P+cxGFICCAL-BMUagJBB5kuAsIvfBjFhDAWYKyo2C3AWFOskLlAgG5FBeKFSDVBsgX8w2VSGIU-yCE2CrukI0-kCISFWUbBUlGMaYpYcf2KrHGJXB3YOotI5Ckgq4VyJaxcQDBWwqwWpg0Kc0+rDKNjDqCHswi+HP9kHGEAdOLBHRYdm5TSiDFKQnUuSPZbFTjFH2O+d9OhrcK84j6eFieLZqKsWKq8GVF-MFEeVY6rMkRPYpPGGJ7FTtMBRwSCVIS8+dfPlHaFCUd9aMnQCrL4BhrfDChXPOJUwsFnmBqiuKO+YwrJhozD5Y3UALjIJxGUEywCfoIwDvmMhqFucWhX8HoXgJ7F1lTynQA5xEzRiHQ2MLbntwoyilsci6W8GAQBLtUVS7CvYt2mKgylaUqZn0q6Ukz1IZMyQRTNQpHkpSVPLQaynCWy0JlNSphbtOplPS6Zwk-QAssZk3zJAjsl2QwG9nWQAAMj4mDmaU2Ar8tWmfKcWXz25MU2ebgrKBsyk5McmKanMbnpy-Yd875cUsKHFyFwkKgRXTU4iwqvlk5XgZXLuWPLnlDcmcOCpRUpyTx8857kjHWxdyXpPcvWXGgHkXTwQd8kecJPhBPjSVZyghd4o4B0qVxqgpcdUXhVXyoZxU+eaxKoBLyrwtSsjiLlyVOKCl6MXlYMxPmfKeVPyo+dfIcUuA-UurBqNwNRnbL7sxS8XCLMEgEr9JC8oVaV12bEsxVsYQleuMESkTl6zUbedHMGW-Lr50yvSEZO5VfyiUTqpVVdPKp9MlJKqxImui2VkAuB2yvVQGoqVpjWgKnIELLOpGfQzBhbYMhqu2UIlipMahwKnFLFCE1VO3ENZwK1WhqI1+kwoZmvATuivV2y-wv6tLVazmlHMxaNNKiV8zz43UxvhrBfzRZTZ2S1VfqMCAOrSFjAIFQXLWjWkk5i0UdQiz8VUhjZQIclX3LjSjqByjYdXig2fSDrnpwklririZWyTugg81ucPKUnpqGghUHEIerLnHrR5YQrCAXO4BGS111CmcAXP1UcUJxiJBch8GCAm1AFL0IFZEqllpikZjIEZWeA36tLyQ46mUHDCbWKryi06xsHOveQcze5uIfufBtZarrEgz6pxfqp3V6Q91os7YL7S-nsr3op6ooOeoPWka2VJ629Q9jvkPrx2T6jdWAoDXuUCWn6hcvaLAXBBN14CUdW4tuJfzDeU8nqRtl42ibR1Tw+0QXLE1Hryido4QJPMU0Kar15RbGN+oHWvr-1MG9TTvKU1AaqQVsVTRpss7orq5Psv2YHPABMRLNns6zXXJeV3qp5zGw9qZoE3fopm4IDECn0RUeQpNjwQDYUG02-qBEemjmVKvcqRQ2AEKz1YyHRX3Knldm8kElsxUubGNX89zWR082QqQqhcXzaRnrUFNcQbwfpKUU5IKSdyVW6WkmXK0PRaSCNfRZPQHidkGtKIGERiQRpmLWtv6OHimwq39Eqtwm6JU1rq1EVBtjWkba6PPi1bU+AdK1IAhSBDaQeTWk8b1qdo1AxAa6P2Jqpm3-KWtTtS1NxAEzpDutwSubd1rtE6YFAIog7VM021Ljyt+ABhR1pB4lqrJo2uHu9sEy-bP6vw2tcJKeEvaGF7W+gKtp7L-bKJZTFNQWrLr1aIdjW6HShEi5A75JNMc9UvBEBMNNl3AhjKDqM0LlBtr28BFNs62fb5J32-9IU3J0Fh9AdOyMmssyBPDCJGk5biRO-EbdYweO7ZYRRcyM6GdK2h6FyXR3vQPcS-AwOOxJ1g6ltDCYXZ1qF2GBIddJAASrjF2CQ9oWO6QVZF52hrM2K20nYZwHjbaO8BxQqW+sNXCTjV7E7EOtjab-s1dDQWvjFjh2arTdiveHZv1V3Yyigxy2mfquZYPhbAku2IJ81mg0yt1skn3F7g1ngZUdRQDXVrv4AQhZBuOt3Wmu4Ae7IYJ1OGCYH4DnaDFJ43UidsaGF7-CaxfJij3wBo8cejtJcaCIcH3U85lO8XZOECgCrF5pqv0A7qnLGRm56vOwppD65dQ7CjFIKoCMKmuq22lYKmN20AnlNZ9lUvzpyMiJ4KqA+WZoI3s+EslVBWXcPa1Ej2nLo9gzSfq8oO5J67oWO7feCIYjp7VSqa-XdwBv1fCc9jYG4JUKzZbjGQAAThOADwv96bQPVxLzCYpADgGI1ZEmVgfAs906jEa4y-ilN2xsuFwMtifnTrCg4B-QFQKoFWQ0A+ByjVLg-XOgsDek0Fg0HAP6rJsmScyauJ7j+EXAU7KWiuDYjkhKD88qA5uASof75dqbLcYGqSXptUln0B+D+tb0GreBGuq-SnqXhsBklwh+-UPi0Dw6oBchoQ0wFhrG7MURwxTF7uqCFQTwZAC2H6l95RqqQrQRkJMJiLMBKhOhtwLlLuQiG6AhUYPkcE5VQbZc-yYw5EnORAdO05U8ePCFKZYHwQ7SMIzwDuGKZSl2y95C4cnZhG-Iy+mIFgcsF87WgxwVok2RYgDhX1+ow0cWhU3yl0j06oLQ1H43ya5NU8iyqjPIMJivDtzVuq3wkh+pX6a8bsckZ4hbiIQYRno0yA02CBCjogHoz0cSOAk2IxBooCEeGPhHuBvmUYozGmMJHWW7Bl6a6nnnCq0IvetYqkdDXc69iw+gBKPsTXi4H1S+7Woe0CK7S9dha1oHOgj0nLA9X04xFk0pFQkkyQgQwI5GVj6H+AzCgQBYaBBWHphdh75Y4blzOH+Arh9w9DIEAdNc4JsubRnt2O3HqQ9xgPWZKeMFayEOxwtQcfHhHHUZVMUlnNlONz6Ljva6UJ0sOmEA9wv4PldcQTAO7llGeVZUIRum1TZRjUrIDScE6kg2pc2VnakEkU0mJNvw2ycLG6JY5HgPJngHSdP0TSkxhAY8T4PFMY4pTn0JU4JzZBFYk8YAdXJCEFMMjMICaGaUXCwhKmO+Cyw6etNwl7F1ppIafbECtM5TNhtp33UUE2EOmLpioK6U8PZOZ53YIJr3VQKBn6BfdAAHSwD5KiVfsPIzIGCBZ94907MdkrjQi4HZERh4utVCDOaqQzjosM9jMjPRnrVcZhM7lMZG8ATw-hHoFhErOgAAAXheBiCRn9iJZg0fGeIHtRO23ARs6mb0jpnwQ9R4wNVFQj7R3j7wL45uBDNtnXoZZ39pgPEFMMWATDZQEw0kGTAqBaYPADmb53TmPxTAds3Oe7O+Cl4S5lc2udUEDm-IQAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:teal"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:teal">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:teal"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:teal"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:teal"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:teal">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:teal"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:teal"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
	
	
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
  (let ((binding (binding-in-frame var frame)))
    (cond (binding
           (unify-match
            (binding-value binding) val frame))
          ((var? val)                      
           (let ((binding (binding-in-frame val frame)))
             (if binding
                 (unify-match
                  var (binding-value binding) frame)
                 (extend var val frame))))
          ((depends-on? val var frame)     
           'failed)
          (else (extend var val frame)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-IuFEPPi4gGBYapuLoMR9GrUhqHFeizzrKDAqwjquuQqsGLTc4OI8pqRGqMQGCG8V9GmlqxCEuJ40DOYlua2bxqwSbzGW2b5oY7aZtatbApvI6LrC-bLk4m65uqBg5HIBRiHa8hOu60A3o+y6NpcNtPAWkb-sYs57tq8xiAADy0EQvp+kbcK4P6KABqj1oSQMsPqxqdta5HhqXUbeusbgIb26Q-oe5xDAxxQIBgeAkFQNA8TQYkaoLTzUmMNgZAYYhcPc4mPgUShAdx5JUnSBQWDIIxKCl8JQAAHw14yUgYD5Ool1XpZiLWddSFh8HwDghBVtXNe1v1dfSTJbelu7ob53XmDECRhAYbcwUlygdj6e5VuxwLdawoPwgAMlj3p+kGGOR3ZUPvfdg65bSd7PpT-qgf5sPff90FXasuhc+qib6fMQxfEVq2GHwYXK4+12ZYTLaiKN-lwqzouLWoMQ6A+uhA97qjI9Sb2S4D8vQHBIeR7HnS9oH5fR+Ice9Ybi3-0n19Au7pMhiT-Qe7VyZ19r4G3GHred7Rjup8Lk+7Uv6W+95zjdeNIQZwVGUGwb6mU6AvyPoXL25Afa1FLjuIOVl-47yASA0q9Bq4e04sgwBJg0FgN3o3A+dtIGy0TiMG879iFf2-gPHBDBUGgJis-fOyxj7nxvJ-a+d0B66zBhwBheCmHOAgWwqBM8YFzzLogxe-CGqMPQXQTBA85GCOAcIrK9ciGiNiOwihp8qEd24VDFR31SbyKEYok6vUdExD0YMThp8Y7f1pgAMUgAADQALIAFFmiBEICA5Q-xwRZ0Ed6agqJwSgEcpE1Qi8QGK2EOQWSeByAyC0KQNOKR+Y0n+Dk9QIgODCEaLTVQlBKCEEMI0EAYg4m0jQLkBQwB3CJGCQAWnINyCoChfDAAAFaGHaYYEBrVgApDyYYYAAA2HQ2A8DuO8X49aCh8CVn+JQPooB2AeC8EzJQiSWDJMavgYQvgCCOA2X0Wm65SBaRiRQKpad-gWzOZ5YG2yuR7Mcn0Go6ysk1FqLUNAWCPK60Ock2xOMEzQNgX7eeMjQm33CdUSJzhlG32BO9I55AGC3NzpkwwULAo3GxFo-ezdW6524IY5xN8YZomxcc15vhiWFwJjs5QXgz76I-k43uxj+6Yt1iJNlZDYVSIQUbKyIk9bMC0KvDFDLoVJBFnDQggR770DFV3Dh-Kr6Z2FakN43FUQ-Hhhq4gWrwGsN0eI4ucCEXStAMZIo4ITVovoOa9VmrDDovpXzE1aqNV4sCMnQ+YiyEBwYIEGQC88QBuwfQP2FrSAMEpDqwM0bY0L1JDwzFQbU0ME6BPEhkaEzZsqAvHQNNeECzaLWS5mbs6z0ddI514JjDtG3sEpVfMCZdsbcE12YRX5RrLp2htPbiDgm4EHMI+blWDunXKqgxBV5EvzrEctm09V2mcYuvmVQ7kzg+Gu1eI6hL2MvYezimrT3yvXdvSgm6jajtIQmT+C6TFGpFgoTQuJl1NvnVe+1ztqHfprsq8F6wH3nufZesdML5YZCyF+lxdbGpfKhSqltki21SqllZTlXg+2cQ5dh21djC7z3BCR2d1Je63qml8k5ZycPXq4bW39GhAnUG5KiZtRdW3wvbURxevGQQCf9cx8wYTU1Wr9dqqjuHyEOP1V-WTwNSBiFfWWu1ZDDFccTR5ByxadNEqIO+nd2dwP6CsyZuTB4Pjmbag5pDu6RgOa0+tFz31dP2aqaBshN5vNQ1BeYPh319AWs7oGCVBGwQWqssUTBEWXAVBICIVI2rkujRRmTam2MB6UECA1RynRuV9RXAOKLm4HzYxWAOBtnQSa-Qa1BWMV1SC1iYlmZ80ZXWvHoFSFgjInoMBehDGLVNMaQwIoFMb4kgzqlqEN+Sf1OjGHWypdkZWGAVbYNyibz8WCPmYlgaCFEXyuunnijcMXwg7f0nt4g5XKs8sGA1rWr33tHYvqfB8z3mgyC28QPrOZyQBULqVt7B2PuxfdngLOjM5DMygHARAyB0BczxD-DyosaxroXtvSswXkN60jMLQnZ5xZtRjspUojGpbKWaE7XOHdGfAkttJQhFKWF7ybi3HO7cY7cFJ1MFYbPjUjeYCgyxYDOfOlKDT9NsuAFqPwYJmREvWdF1UQoxXDPlctFPCdArFj1GKJJ3QMnevdabwvcbxUKuzeO4Qzr23kuTJFw9WahcCnrVK5d6bn4fvnDestUHz3dvnTS-9ky8gweVilAJlnLcif7tzcJR3fCelpgQtxSy3Pz3nS67j0XIDw7ncp9DwuKvecp2XNXQq59enpbi69-b82lHe5c9VyRm3sfFTx9FTXjbqux-OvLyPwehA+PSeU33k3knWU046FofQ8mfWKZEWLloXu89oWjcLtGRL-Pt8pgfsn3vdtmWCAvGydkHLOWpL4ce5A4bvLrxv4gvluPKqr5b4ODcAX5CS1apAarUAKBorrKvS3zAF0CTCNaqar6hrQGwENTp7IigEWZATkQDaeTCj6B-yKCED4DlDwEMqIHIGdYqCy6+YZBFTr7E5hLF7IiUyl4rDwyIwpq24Hj0AXpcF+hhL4ofQ54cFH757TAX5SHSFFDyb8HyCPxggcHnbUbiqpCyrPyapMG3617aEMRq7jwIa6FsDSxDbNBjgahhjXaDYND36bg4GLy2T2ROQuAla+AkDf6r7VSQ5CrKon7Cxn4xbqqGCd5k6NaBRmYX6hFBZySlDgZyTNBYQsGb7Hp+Y6ZxFhARGcEERBHWK1hEr3quZEoWo5HX4YaYqq7h5eoB477R7T5e4Rz2qla1gxZiyb6Fo+qhq1C56VH6FFCu5E5dHJrBppoZr74z6z5pGfTdEholr9ES6GrKqq4N4jq5HYwQF-oAaU7drAZvq0EriBTWGhhQ6EHbEgIuZnqt7jyXprQrCBSzFb7OZwa3GlovqUzLHnGRg3YNgMEZEPpSyFESguqxjPGAkt5Pp3EgacDfFNbEEipAwgkvEnpyrAloxHFdaFyQlBwgkQ4EG-H2F+hPFm7rHPYlE3HQkvqXpwle4EmgBsThaNgOCby1CMhPCAgAB8oA4GJw6WwIoIlKDArJ98I8fRbcVqcWtmqG+gkpSwteSRUuPAD2opfq4pwg3ABRapD8fRN48p3CZELqARfMhg3IjAFBuCVuYCl+WxiJ9a+x1eAqKBMQjY86jIDeUJG6HcDJd266ux6xIGrqiRqGrqaw8+28yc5pzc-AmuGi7wqJ1xj6TuhxeR8hZpQgMZVpWuDMAktwDU5J8haElJyZbe9x52dhLpd29Chu2uy+q4CkZcNZCuMU5KVsRi628eBuLZe+9ZV4jZO43Z1prZgu1CkwwOvJqG-k4WA8A+ve4mEu2MjYLK42rGxeMcTEjY3YeoHp0ZlpcZiiRKLK+BrpDBOpGpjMQI2plcYpGot43IeoJ5qmzxLKchZeCMkZIsShghCG254R0obJoQuRABfMk+QMQ+0poABMhhNiO2zxsqgeSmNqvcb5ekEuIFnEqu7uMJTRkRUEjYaMjIzx2FM4LCKFlRTEm8fOTcz8JF1FY5PUtYuRTEgUaMKxoFZuQ5OZS+C5zRUEVFbZC4z8XF8Z9FJe3BnRn0IlViZFasuRqF3xOoMQApNR6u8uw5vZvFeF5IAlo5KJzZGlmio54l0wzxBl3FjAslHelRCl9J4WyOt8qO8gSgGObM2OnMlg+OkWM8PWn0cMkFX+y2bR4OM5mKaeCBYhkgZA-5r5lRLR46O47qZBFBIgVBBYs6z2kVhK3AsVilAppB-6KVfs2BkFCWomO4MgSCyVlBWcZGHkohoC4h0VW+kFlacalVoACaPmbBpyrKMgrVQpOaHVeaP6yqihlYAhKhLV8VFag1VaHVNa7F5G+ZMayJz8bwiMxsBcCVYI4IMFtYDGG1z6jm2c+1UlY0M18WEicK8CYIaMMqa1DEdV5gZ1xhm1X0FMl1LghimJGFBOjgXwfqrUX5E1yhF6i521n6gOdlUGR6rxr0c2MWfF5I16eVs5AN+AxgjUfVc2mxEQhQKNhcWEEMzFUMjYmyDU-plAuIpOk1q8jIfJXlokK102gl-5Z+kF0co57NDEkGApEM9FRKRW+N26cYhm581M3Vc2IJQtc2zwBNYtUNdoktoVqxH5qVtNYNHu3NPUMV6wlNyNitWa28YgmyRg3N4Qy2HArUZtp4CpJu+MLNiNbNutV+LA+tINgxqwwIJtZtbN4QAAPD7TbaoB9fbX6CrqQOZBCAACqWxQVCDnL+a8AbpNjz4gi1DNDRIADUYJ6ZpWs0QorK-toAudDGOded0h+shdMgrKdt45q4pkUdD+4Icd+Af0xAjkggOmKdbeadfGmdi8pdld+e1drURd5tRCo6ZdVkw9whMQY9dStdYdVRgRPOWI9FKJgleN5I6NlY-sls2IENK4A8GZNqOt5M1m2JmhaQsp-twhKutuB9RA+g89sQPagNx0mtP5dx6FwhzQglqcW099RZsw589db9AD5pAO+6FtNodo9dT5hQLEgoxBpOqcFNOx1NINdNx1LpRQjhk9+8VktkFs5Qb+RCWdSDOYhBdBDQjYEMjIkJ028JJJhcZ9W+0tbNnDucaZRZGMucMtPDAM1D5EUOhNZCpOz9R9MNTNTID8m9AuRCPUO9SI1RT96IMj2lKwp90DLtl9Dx0wd2dmIDaEj9+9mjr98hH9mNX935U1f9BEADo5QD58pjBEpQ8EW0dtPUXtFeHDREcDf4K9ojjJI9qDBg6DQVocVNNN9jq8hjDhzdm429LhdAZDIgFD+8Pht5q8-+DJlZdDFIAJc2TD8NLDdl19CYHDAt3D1MqFBEAtIR1MoTTJRtLgUjljeVtMKO+yLMmO7MOOGAcjUcnUMBNAcB2BDg5OV1Dq5VqhIBi8UB4z1A6yz1LgyzmBk2-6HAq8iuHBHm31e6WQah7sBUYzWzvTV5Zc6YtGcwDGsQcwq4fDhQtGHIDzMQHIzzb5tGGEHzKpB43ztzE6Ac-zAcQLBeE6TsqGDG0LmQzoLzsQtG3EhggS5AvgDGKLaL5yioiLMQtGjhHzjhsYeLgpiVNwmyxaLAhgs6FLqgVLjMKwpLtG2d-zsQ+gcM3AvgltPJX+udOLzLE67SbLMQHLXLPLoAX+7SoAArPzE6cI3ADQYrMrErX+kIMrMQgriVwAIrBgnLKr3JkroAYAsrwLiVAApLq8q9y4a1-uaxq6AFq7teJGy9a6q6nNy3K4lQAISSiuv6s2sAi8ugC+tAietmu7UB1WsBvutB0xDhuQuJUB0Agituu2ugDJvxtOsQhcnRvivps8lZteu7VckpuKuFBptBtGultFsRsQjeu6tGuFBVsxDeuxD+Xpj5QMGbMTNYHIps2AgrikqfbcA9urN9sMrfrnMYG9tpUxT4AsD9ImAvqDsrDDvIiGu-MXO9sMaGJqGktFBjuTOOVpgRTdvbvjvGFnrjyXlktgi0anHCAMaPsHv8NIsTqQB0ARLU0POfvfsJtvuKi0Z0sMCwCQAfMgdgevuAfAdUD0s+L-Mgc+LQdvu0YABy5AaHurGHaHfjb7Xb7wAgR7DU9CA7AIQ7GgW+hrW0-Vo7F7cBOCU757M7l79CZ+q70w671HxzLVV+xHV7cunx-JG86duI-HUzdAuBc0AckFaBL0aopAbAvgx0-S5A1YZpnUmgVjaE-H0BgS1J+z0zDTMhOmt1CIRQqtpp8YhAODWtdxkFPBn539U1O2vGkZ+g4n-bF9b9PA9HJHalp6cDrnEZSMnnDKzci7y7-5Pn-HbHvNKHhQmDsTtnP9bszJDBmDYgXw7tAe8Tz6Hp1nKXU1p7Dlk7fTrlWOHMmAcjG1FApgDA3aHwZUNwpA3KcipVKGisysP1ZiJEXtYDvKaGp87XyBZdDAFdi9E9PXFu18K4zQ035itCBaigNwlO+KWg4aBsumsnygygKdGQxORgoBu3ErjMud+gXSygqc4I0SpQN3oAWds9udl3CXzoN3c6BdrUfNA8lqFSxdn3YgUn-5-mvRf3zw0EEj1TAPw94IEIw9TSq3xg63fRw7IPv31NQPo3i81g4IPm6PuImSCgF3OmHXt9Ls-m-Xi84GukPu4KZcFPoA8cl2orcLQ3doFP4QP2hiHPIb6kqWlPn2xP4cy24IqWxkpQtXXSM4jXMULX3KFPxkzQJBqQkm-GiuDPTPRpMQ7O7c2+UeSFQvs3ZEd3cPud+PTAZARPW0sRHP4QudzPhQ0SE3elwukpiBBY4xu+2qPP9vq4Tvw95vhPgvN4NvJP18pdDvsQ8IskZEKR8Q1NOUoIDG-mdHkg2DhPDdtPkBD2Cvte+PEIfzWpZc1vJP8DWQHPqff3FvpAgkl28ei9hvK4d3AA5BXf5jD633X4xltxPRT3j-H7iN2qQKykPza5DbM3Zh9F15uFtKP696uLRkIE+1ZMEOXQ5DpFZBaMWOXT1hwPCOOdBKUPn7P7WMP1fjeHP5X+n5b17XH2n6yif2QJ68E5f75-fw16f9y0tR5Kp+p8oJp6RSMIaoPAimOIqT1V6L5wEsWJvnewhAQCwEDGPXr6hESxZjORQYdr-3WD-9qAmgEEqGhAFuAgeYAzPrth16fRoBteWjKljnQu8qU7cWLLfxaDqpv+5gUfrvA-xwx8BwSNwGALtIGAHc6dNXoJgYEoEGGXnIhIyBXCCVhSbvJAV7ygHqp1C9BQjr5wIHGA-YF+OKJRzYH1wOBXAxTEQIYEQ5AoYSQBiLz+YwCsIW0YAdwPUGlEr8hiGwYpjgRgESBTQOmOFzMHqRQWlg+QLYJcEWY5uHgj3l4IkiYCNOOAwAb1Bp4zAAWThcQcQx2zzxwh2A3AWjH0E8CS+AWBgbN2VLE0EhVsOjmoICHbd-IFxe0iLnIGKDDGgUKgQxmkGu8OcRgn4pRDoJPFmB4jE0pxGpokBeB4-bOKkUUEwCtoFAn3IQzyxP43Cr+RCmChcA9C-86zZQZtTKKKCvqRcQYYQEp43hRhd+ZJnERIbP53CTA-XrMKWFt58mlnTiFv20hlRKA+ARqA1AGAVAvsqw-oeyC8JVDNh13a4TpB8xPDi0bgYsGVGLyxY1hW0I6je2IEsDCw17GgMTjywk1pQGTP2B1AYCFJhAHAUgGtDoREA18rwmrBUI6jED8Gw2FQU9HGxExnojAFhuqlmy8MGS7TbZJSNTiPtnspQBwMiPNxoil+mI-YQIwBgTlcghAVlCdlOhPQlBhJSiNsQ2FYk2GZCLCEKIf7nwGB3ARUTAyyA5CCmtDW7IXAtQFNxGjItUYjkuEeR9Y-QBQMWhC5+wKgICXwH0UMBsgbR6LOBIYFJBrDWeRgBNDAKdF2i-Yrop4EEKsFuME0aAitqd1hzvRLRWWa0ZGGdGbdzRCET0fP0A5FAfRLo0kCdXeSZJrYcBNMcnEdGxjfResN0W8I9EOjKeeY4sQGLyEPZgGIYnbJySrbVBsx-QXMYWL6KVj-RyY50I2J5JmjIxREBNKvVNIRiLRMgEBKrEo7OEr6BmBMOOKoCIw5UgQd6CrGXEWj12izCYN1QnGLj+xRPPcaTxMajjKeSpWniYUU6tiLEtovoq6mAbHjQxvYv6DuO3hLjzRq4hMT3DXGCo5GjnVKkKCvaggEMcibgMkmDj8jqspI0bMyKBATYpsiNYCeBKfKLZoJYEYMOOBgG-jBgCE0CXSIFE1iKkZARgBS34iiibE4okCVQFwmQwuhHkXiJkiIkhRQ6vECiWBOFqQ9AwjDEXqDj2C1BokMA0JEmF4lBCWsWQZiVxCoBPZa8jDZSsqTqwecJJ4TWICrnVp+x-xlIQCXcTEk4TEJQQqOA9l4hxwE4ekg8PoFAmU86JhEhgMRNDo3gDJoY2MDeDMn2S-QFk1VNZMF52SfOBELaE5K8loQWmQQgSTxKfbQjqQs0DgHcMYB7iOWnNB7Pq0fHgY-q5gNQCYC8DFpGAPwkRJlPoDcA2BYktgWxMgkCBrJq1GkOYUZCuSGJfEUOnlMolMggROUxSSmJWAFS5aLFdlIxNKlMFru3E4pDEKGKTlMgQQoGll0kCaJRxeZaqV1PMJJTVQWNZqPDHklbV2J2cBvtYIkmzTxAkgV8SuO6BshugJY8kG6UZCpQcQ+0vwCNUZGXlUJq2UQCGXhYANQpC0zgUSBbhLS1ojYboIyHWlpdGRck7oOEDu6pYHuoAboO7AimgAY6AACR8QMAAAguAHAA+IAASjHUgAAB5NDsgCBCM1+akgNQACK0iogiUlUqiZBV4DzSZQcMJafRMp6pRJsVMlwYCJuEjYaZhExgfTM6ALhsp7wHzJzMyCEyGpCZSCtDNhkIykZqMjGVjL5nbTnpTMombmUqmQV6Z0U56QwFelxolZm-ZmaiGGSji0sA8b0BoJ1mKyFxhEsmWsL3GvQJxw7dbKBJTrclS8KUrlOlMFkszwE9syyCqQIlJAyZzkmQPjPpY8ySZZs32YhJpgQzd+-nBwJkkZAAAGYTpihqCOQY0GQR4YIMgGTZBgl0NOWrhjnaAgQUcvOeeOHp4h2pZCIubkHzmkAfMBMZOebnMRtYRoRc+ATFGoCQQVpcQiENQK7ktyM5BCduWXybkcBvxApQIJKQbnihUg1QbIGnI+kME+5C+AeWaF5Kd1U5AiVuWVHblJRd6mKWHH9iqz4jHi9qIkaCODIJ07g9cuRHyMXlSZl5eHGIPHhlHnysI+8+HP9hGHVDnJRQN+Ydm5TbDqhD8kGXqINGzjAwv8j7FHM2kOAi6VkxiR5z3C-hCpYCjwqUy4mCSn2-E3qUJOVIiSEFo7UkDAIhi6TUgRIwgAmiakvZMJk2YWOQXvh-B8FPAJBXLRIXm4PObojCSpJoV4pMafqBhYQF-DkKLZxrMAJCDEWsKsI5CwyesP0mELa8MC2unAuqnqiEF3YhoLZNJDfzpgCi3EO5OsH1jmpKwawZor8nOgApypIKX1KelaE05KseDOPFJ4iZbqdi94jKjTmLC3gwCCmSIigVgieOUCzMUXOLy+LSxKGF2I4jtABLKei-NgBVl8A+UDqjAozKfCiWhS0CuKKObPLJi1SfZknUAK1N4ZLkGCwCfoIwCjmMhx5gjORNPPARQLNyZ5OgLArMJFQhsOipRfxByX0StFioTxWeAN4lLMyUC7pS1M-4I16Rnctpc0p6kYL+pJQQaWwGEmSUP+T-LJQ1GLwDKylc8rRSNIinjS1x+gSZVaj0IRzJAkMmGQwGRnWQAAMj4mxnzLE5Y1QOevKtRsyw5yCjQgmApkNRnprypAjAPplyy-YUckObko5nbSuZzyolJmP5kLhgVnJN4aLIuXXLblMsmcICshW-LIKVstzkjHWwqyJpasjWZiuGXTA9qacvWWuPhDOT8V+y0Xjv3JV7j9+aS0ThitJmITLZo462VQFtlXhylVbUvOkueWrLR2ocvJfU3WwByppcKtlS01Cl+odmDUUfvoE6XmzwJO0wSByrXFcrJx2IE+mgp5KupsVVowRNeMGBGy3ZxM5VaMplVy0SVaER8WgThUqq3lctA9rU2PGhTZiyy4flaqf5UT1V88lQa0A3ZAhTp8w31WfysherR+fhFBfkpDU3SIIMA+Vfp29Uj9P+-qg8UEODUOB9AEImkq-3dVfjrFDMioHDEWgGT3RAsAHh5I2n2x9c0WH6cOM4gfBggjwk2VlBeg-KeZa0bYs9MWg9rEmygqkF9KBCErywb0ntQyUbB7co6z6C1WVD3Ecd88NKt8d0G1kKz6AFK80bGoaCFQcQG6oWduvegZVYwWEHmdwEfGzrx5M4HmQGqfKFNOhApVtYEGeUMzS1i0kJUdO7airGQvS7xdqjqXkg+1VMitaKtlH0MGCo695GWvVkTrNZ4G6dcUsSA3q31S68jvIVXW7Ttgi8KOceoUC7rD2-AA9bhoZX6zQxWEKOZeolbXr51Rcg8Q+u1HIMTR5gf4UXOCALrveHapAlWqFU9rKFpQNjbYp7VBD-hPMi7txszFibuNEmzdTxqggvr21cm99d2sk31KVBVsY2XJtvaIrxZKMtGZjPABMRdNiM-TVLLuXnruN1Gw1pps43vAkJhccEBiFx6jU+YQmx4F+sKCKa31XaqmasqfKRQ2AQKtOTpvOWXKblRm8kIivC23KKpD2KjQYAla2bgVDmshE5tIwlrkubwfpAgXKKHjZSeW7qvDWy0PRsikFT+UFh8wlEStKIFYUFjWEALKtrm3+KkGS4osct1BPLbxrsyFbmt9VeGu1tK1da3hFW77pihKKDbatZWhrYDjCKZiagYgNdH7CVXDbO5o2zMZam4gCZPhM4j5Z5heFNbYaVwnTAoEhGrbGRjWvmgKWy34AZ5NW0wP+SLXmjSeWW+gB1oLB5q3tD0cOgNKe3vQghN2medVq+1Tb7tnxYZdGs-6JkZwYOz7XQHe3g7I+-DP7YJBpj7ql4IgcupDqf6HU3tt2pAg8r5jtb8dpklIAjse1cNjxvGtrWToQKTaHtJ40MrJPPE5irxcY7TuCSWVKrIS9OsELzoqIo7OCWvRLYa2J1A6rUgCWnVNv51C75CguvaOjtX5Rqudn-TFmTvx2nsB4C24nLITVUHjNVCY+cTqo50iF9VSOooB6Ox0+rtdG3NNULxyKmKGgOysaVFImktNbAwupSWFNai7LXd+y6mJdlgjNBwMKEBoILrujo71+WOlXTju4A27IYKlOGCYH4CfCHOklDzmGiEGp7uA89TLtl3NR5cHFoUlIQAP0pczM1VOmMIFCtlG6eVZis3X6HhjJ7N8mkQTl1E3xv0HybAKiXaoMCVgqYPLLyYQ372UKiykwl-BsyoD5ZmgJeyISCX34PzPG4Ul3equEZ8hFe8ytAeHqhjo7Z9aQp6srpGKKrVd3APfVEPPD8lGwNwTgVi1tGMgAAnCcAHi370Wq+3bcEM4gv7AMnKyJMrA+Bx6h12xI8RBtYjlCDALgZbHHKHWFAv9+gZvs3yshoAkDhG5Bkxr9CwG7xEo1MTxFtHqrJsmSd8QOP5RX4XA0rLqiuDaaxAv9eB3-Sk24DX6GEOB9FptM6BxKEln0B+G2or1fi1hKOiPcRqXixL0W7B6PUfrTXJ8hD8SpgL5U12YonBbgO3dUEKgngyAFsP1NTUDVUhWgjIHQe-mYCcD5DIcu5BwboCFQYeRwJlcBuIL-I1DkSc5KG0Xh+praa8fBrAfBDtIPDqg2wfks-7vIzDoADw8K3M4rhYD5vJVa0GOBhMiSkQFiAODvV3CHhxaYQM8OVUgHCg7mhqBxvE3SblNxeCI6EwHA2HbG1NXnhJCcPPp4QJIqg0wdZTuHAj0rHmYIGSPsl6jHhvyFEdaFsQ0DDQNw60elaj9GC5hRmH0aCMMlqD0Uw1Zyrr1XhOJXJeemEah1+TW9ACdvZ9FaA96+9A+w1jfi0VW6R+c6ZfZFNX2JTjEzGmiU5jRJCBDAjkZWEof4CaGBA2hoELob0GGH5JxhkgqYf4DmHLDRUv6OUzQVqYOiYh8IwcZ90r7opJx1LQmAWMrLlj48VY8qqpgAnqUmxv6BKxvyequF-4uhXwseAITTwFs-CgwXJEwTKR766bAhJVoRMzoK0UoytgghDqTijSxRe5NIntFyJo+6QoScQlHAR6lZbYkSNPC0F+GeAMRZCBXDLloJTI86FSLGXtweT1JoxoXHJEOHWRsYdkSyd0XwLgJju9k59HImB7UIAe2MKZBUnDz0YiptqS0P1ADhMskZHLOAh5NUnXVkQERaAHFPHFHN2CkKTaeJLCRdR5pgk50DJnTlwohhu3c3x+H6BDFAAHSwCZKcVfsBIzIGCBE8Q9MrcVsgTQgIHZEqhzGjOjTARmlVUZnWTGeanxnEzxqlM2mfkkmTeAJ4K-D0CwgNnQAAALwvAxB4zRQJM0wHuGpma+7ULltwA7PZm9IuZ8EEUeMDVRUI+0eGlcZuObgoz1Z-s7WYDZF9EqKSYjOXWUDl0n2kwZvmmDwDFmody56MX2dehrnhzsApeOXRYA7m9z+-Cc35CAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:teal"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
  (define (tree-walk e)
    (cond ((var? e)
           (if (equal? var e)
                true
                (let ((b (binding-in-frame e frame)))
                  (if b
                      (tree-walk (binding-value b))
                      false))))
          ((pair? e)
           (or (tree-walk (car e))
               (tree-walk (cdr e))))
          (else false)))
        (tree-walk exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5IcO8JuC4oFBiLEIOQSUxAOigHaOQOS+BmBsFIMMTay1QCeVAAYEMFJPJoFCabT6Z1+SRT0PdOEgw7B+kYB0EOSi9Ezznok6gySQ60xSMY0AJAxoxE6HksIREx7qFiTIeJ35npNiyTkzsZT8l1MaSkkwLTymSmpDEuJgwXTtIPhjO8T8WigT0Lo3s8VIr43GVkY479-iAgAFTzJkCs-MoQ7zVWoFFQgW04mSB4IMI56s0mhGmaJDw6zFnRNINUkeJyVEthPnMx8Ho6aUHwIE65tyThHEKU46iJSOi6Lpl+IpIKGodCqHTaooB5CyAuYUaZ7S7m9IeWcgZ7YNLrM+XTcIPy9DooBUC4pMLwWEs7jiKF41OhwupaABFSLyJ1iZTS+YgyQzZLBYy6ltR4WYkFTYI+9BvB9COc87F95oIyCpdYK5eLHwYr0limpxycWvNmXIaxWQCUpG+b85VoFjinDpaChVYRZCWhdG83V6z+hdI5csVYehAZStsSsHwMrhzypME6jlQaXllHtXq-1EJ4WIrkMi9ldM0U8uSaqvpGr+BaqJCa-VkamVGpJYm5xZKLWUpRQASDpjai44DM2HSwGW4NdNXU+EbY8yQabZU2gDc6+tYQZzVs7FUOt1gWUxrZV2619hK1lHaYMP12aBUtJFUOzEd4cZ0GWOQbxegWBWq-GwMlgJdn7MWNxetBTD0HLHTYIie7TiAhiPlYUl7QgFPvRKp9V7EWMGYD4FgKYACqxAorMMYs4CxEEmjOHWQRLZNhF3KNXeu7xGNplgasf89aqh7rhsmVUaZrjFmocrOsvQB6MhHvzNMuxDjAWEdfMRu94rGDCghObJ+HgYg41iCBLIM65W6K-M27jh120jnrs4djTiYg6CgkuCZEnOOTDSV+HU8mpNidKhxqTUEbR6FU7ofja0XR6cmDI8TmndCSBiJIDxoI9BCcGDZp4BmGz3Ls+GM8NimCgnU7DASTi3OyZ4yJ4Tjn5VKbWs2tj5n9D2eCwGrzTmMZ4HnAwDxcUoBwEQMgdAfAeCRIpCoaCoMASymUBIx2o8FBKGHJGWIzJnUFOTn4Z1REHjonq9Ss9ZGDlviRH67a1ZkSols8yQYpXOnUta1IXsgYqLZnA+UBriLrQK3TLN58m4SvEDKy1hYQm5sbgQR1wlBTCu6v2xto71Nxu7YiGaGU69lRLbO6wxG5pHuoMRdtibhKpuraZo0FmhN8Ek2O3TU7K3sa4xBLqvBiNQfXe+7dqQc1FudYw1h+c7qLpJVyqCZaVD4iBu7YSuaACgGjffUym7k2LZjxjmjk7y38YpyDqz-2q9y493KGNpHtPj41UZ+D5nuq75bZ2-zqQP0weFAh-jaXiOJe-cpIsWBmCEfxCW+guE2iasCT0Lg4H8OtzKl52V4n3bRZ7T9ZneRo2vtlZ+3TCpX7sm8gA0B6gIHk5wkZKoGG4hnBnc0AJaDh8k7a4NyQQYbCq65oiPDSgLBJohWsz7KPxBDQoq-Nr-mSeU9jCx8IGPjBKFzuHci+P03WCLH0k4tPX0M9Z7jaABNok5DUZFyH54lFrrCE7STumvnZRdFK6sWgQo9BU6DZRPHS1vCZ37xbwfdM2HL5XykXB23x8Pb6P3g158FjA36wjWephL0FOP3K1bfm+in47072nRaGXJAr6OlI3hv0Z--YB4Dzg7zDyLDkQVTa4wbMrqJFxW6KA27aJwx0Bm7gpfjMKsKl6Zysy5JM4lByBdJETNrB7FZCJyKl6wGcIIHr5MpQHaYjiZwIwiKoEkEhwIHh5FwvZQ7Myw5G4czi7OYVZRAwT4H65ayEz8ydA84O6Ghdpy4aDFZCF8zFhiE0604CHPCyE6wd4KHfYjJJwvbs7BwIFpJV5KAsBDwjy6F1w7prTP6wrCrRqV7EpLylzNxc6VxWozBrTKEG4lwrygyT51z9Djb8rMq2Hv6or+gOKEErzGBUHkSApjoeERFly+F+CMEBEtKGFX46YJHEjRHN5jpfhZF+DRGBGhBv4oopBfg6H062xT7dq0GJGtyVz+GaELrCqejTIkD3adCLKTLHAAB8oAWBVQ5slBHRb2MKegB0qS7K08+0O8ExoIGBsuAxO8LSuB3qegoxAoMKgwIxIIYxohLokx-ag6NMZIScdApkxAyI9iB2V4isZ81ghhZhKEZRreYRTW+8iy7O9RjIhOpgxRh+A8xhw8o80c1RdcY6BSWBY6REMCI+Bglx1x-Y82m4i+XhPx18B85B9aFxOQSJtx4GmcT8uh0+g+dRThGcLhB+pRLe6Sq2JYyJh2BCmuwaZ6PIM2pYKJlY8I1Y7oT6f2F24Em2MuHKbJ-wgpXJr4PJ74HYVOREgxrRZxLBK2YuQ042aS0yZUiy-810zIgR0y9qDAgKuJVx+kjJdx9AumgCcIc6bx6YQKnRKSiyuxjp7qOqvcbhDYHhZU2JhKw+9eY+zAu+bppkMagwmx0onQ8B4hzBZ0L2Cun26p0xa0T8GRME76Hh0MnBzJpgvp3a42sZBWK292SRiZ32Gp7xfqiyHhJZFo0RGhZWgR92vW52cqegtZco0pmQYhfqCBgRX4fqWhyp+MEpTJGuN84haSzZXZrZOmo5FpLZPOLSHh854G9Z9u42vpqRCK1g5srBYR62QpV2ZZZWU5YxLZ9ZHJ5pa5M5S5Q+euKhB5nJY5Vx-WG532W5zRaEYAKWsUbAGWnA2WvAYS+WHUXwjAMEMMPB8wAeZKfBMgQ5Z0T8WOc+9gC+gwPpk5yZDYgMDMxhdeXQ84X8VOqFBOGF1pfZfcRcEQ2kteRSDe3oBu0FF8AMPI+AKYtFBFDF9E6ms+i0aFK0+AzFSyloqs7FoAUspmBAPs5OOuQl4WOFvQYsxs4l6sUlW+ygO+k+8l2FOIRsEs4lpsiFFIqZjol5tAt+wluFaZscdpllUlEQNlbmHaClvBFMV8zlI4KYNlD8Z0NlN+FonlYWulNcP4ZQs6hZEogc1UNIFmgZE+gVSZmIX4Lo255sCRoW2i5ZIVtCBwaVd40V1AsgyUclEYTw+h5goQyVEW6xoWlFtQ0yYURhJhSg2+QZQoiyCprGmGheZVtoO0YZwWUx1VDYzaM50ZNuvFfVLZi+fVUwVVnpxCBwoWU1oI0Rs13mFgC1h+LoK1xlUVMMfmo+bVCV68A1E16g0ZHgVIYwSVi1IssoOgIwA2ioqSZKWQugz11oixTOkWPV1mfVL1mQF1Ma8W11xVihyuH1T1wwQNoNoAAAPPFI9V9ZdY-kzp-m7oCAACoZAYbEBpQULuCtzJwHKwKdBEQMQADUNMG+TW0Qug3yOu41ZgNNX8QIoANNpJNghgDNak+AOu31EhQaLuX+ONeN+AMgjEkopexNvxpNquPQFNHNXNdNvNUmTNcNqSbNKYnNtNG+6tjNAtzlwyEBZ056iwF5b5A1FVy62h223QGQW0d1hQd4JpWtvG8NtJYQMxWBWt6NrJDujtHCNRdNX2oYRVWm8VwZBZ3NREM5ZqgKOoLN3N1gBSOoQtqdoA8dlxiE-t6aJtB+JRaRxKpWidWUzVIJ0dQorhNgmNawNtQIAG6QRSPu1YlNtpJRwRrxly7xoWiyGVgNqRHKX47toWM1Buc1eZ9a49MBK1ndsGrR91QeDtuyztX5oFYg05A165jd1ott2y9tygwd69p53tbtud41ntw1I93CGSRI51Ad6OpWJ9odg+hVsV0m1diV32T9yuCdZKydj9pJBSFaGdl1ntf9tO7tM4j9BdQtC9Q6+thqpd225dTVg8VdJ1u+td1g9dcNP+LdTibdiogePSWxQoYeAJSDrKPdNg0y-dgKg9tmw9TKo9ud4941k93m09was9cqG1TmiD4Bxdy9Qda9WVjZnoyWPsqWni7AmWXAOWGAm9PoieyeVAqeReJA5WZMFwl8gMxeQI6jBevlFIJjmjYwSeJEXOm2-eSiymYCZQ++yG7xFjlAWjsjzpPIZSuFGo7NNgGoQaA+KQuFeoAT1geowT2JuFjaEToAja0TvjEch48Th4SThQuFPCcg7N2T1KITYQuFCGYYcI7NxTqgaUhKBToQuF9dET9dHK1TNguFG0IwrCHgdAX8rTww7TDAdMTT1guFVN8TNgegMMgwNpfRoAAeNNlTAzIlJGhkIz1gYzEzZgRw-RAehkoAczMTEcmygwKQqzOz6zmzoAKyOz1g8zuFwAyzgS4zJzUzAeYAuzyTyyAApHc8c5Mxs9M6AO85c6ANcxHACiM986c382SjaXs8sgAIQnBgsPM-NnPwuArQtvN9CAgI1fNIsQsB5I3WDouZMRwI1HDLPgtPOI2AonMwuYu9E4trOUv9GEvAvLK9FkuHOhAUu-MB7sssu0skawt3N-OhC-PWCws2BQVlIQiUbRAaMeOF4yXjXHAtIbRbQai2JysF7cWNC9yyv56WM6uQTUAeBWTBJGmqubQZ5TOxNauWPs3HT77zNhDuOeNfS9xYD6vyup5XlGkLO4VWHs1WHOth3NMRyQDEDjR0SlOHMRtRvDwhuhsLOAjdOSCwCQAROpvpuJuhstNaA9N4TxOpt4Q5th24UAByqg5bdzlb5bUDobMrbjdrCr9JfYM1KrdMarBuUzOoQlmrBrLbvrjb9prrYwV561HbhQXbPyvzjrho-b3rY7T5k8Qx5CitI8o7RruQRjFCV8wlueVmUKjAcgcIWmVkqgagFx0QQ8b9Qam71jWQQodjOjvDYQu7h4lQYQZtFINqPW39Fcwl-px1ml7VgV76cJ-mm7lEV9yDK+m747LNr7NgEHBwUHMlJrZrFA0ZWdCTzbPry761pbNgGDwJI8-7-xbR7xTVOg1U11sO2DHVxp2Ilt5HOGOAMj7rf5CjgF3AmAqjdlEYFAkg0chgr4G0jAr8Qmwl28ng3g9SYVAWHmWaf96dTjedUnWebNkg1N9NGtxtx0Gnf9REBn7mHy6m2kG0o8eOAkgsUQUmN9h+JkpA7gs8xWBgMepApAELDANN7Znn5dgIDEBSgX2dQIutNNTnRHhKgX38fN-C5sbMCkzNdnugJelCaXIhSXUwJaI1OIhtOgetgIJGetFn80sg1nohXbu7iXw8aXB8hXJggIUlNXI8y0LA7Zpe0n99HXkwLSwXWBJ6hQf2gMFCZg2wtaKz2Tedo3ZgQQdSLoM3oAqLQIpiKngSOoo3AXpikhAnJkloInlY4nr8o3XaREegd2itcCm2m343JxjxrgtmhubMxuPXzSg6wXxXNNLX4w3g7XG39BM3rNNMd3DEOnM5Q2+0j3MlcOXBi3qtHKoPet33bX8n03APnXnYnNE3oQ4I3Eg6uBsww8JGqTaXmr9gIJbXwtQ3CwzaJ3wuLXJGcTOxPI-3kwBdM3ZPSXP3jA26taf2+Xr3fXQIAA5DpxQoV6L3z7p0bTrqN814TyPNHIwDrkr5MzlQsH7U8LJz4DqKr1FxyrhZJOzYCNksb8wsKGgtSBKsbxBVkOCBISWgUgz7ryOMr-Fi6Hr5zxT790Z7h+Tzri794NCyGnoJ7371z3r-tWIOe5e6QNe5aH6vzJFOzCQV16wpd+rrkDokL4bxn5uOzU90TFGDokh9YF2zH1SHH5QEPNEUn2RNSHV6n1TykH9gdKnznxHKYnHDvXtG3zor76zFH84Kr-KH7jDHXynzogYfYdAnnwgv3yigw0qwNYsi0uD731D19HLCDln3DEXXaYYLh8n1b10Gwosl2yP-CGPxPw3zLZQk3wCfkcv9WAF3E0L82jqPDMf7IKf6gfFsdF-3r4-8UCZeZvt0mg4r990qTd-swCAEJg2EqxaSlvwAa3oK+V7avgnzlSDdWkzaCAdWFL4LM0BVfGvon0AEp9WeaBPfgBEQG4Dn+ioTVt-3gF-9AipRQwn3yoHZ5w4yyLviQ12jDZ0Q-fFgd3RbwVE4YLA79hKEALPAp+6vBPOsWz7C4dQCg6nvgyMRN1f8XuIPNmXuCQY4QQBKhlRTOhphb8lAxYGnzwJ78heqVSwc7k-Rf41BgID3H-kRTaCIMdlVuAYKVJRIreTGOjCwi8CsIOgwYPKnv1cpco9B0g0Ifun5DW8pK+wU-j4MrDXQZBuXUKnoGMENFBBEgnQQyTPD641BdVIFEQy6CLhJAPiJxFkEYC6JuYHCHXCkK+Qz8ZMTfOhoqneLGZtS0WSzFcUyoFC5q1DH2mtHaGFpgU9KDoFTgKQkBihMmMoZJEqEkEHMc1OUm8UWA65jM9ZYzPvxoYjpxAjQiwWYNwbKJm0foFYaj376DBjhOuawfsOEY0k8i7hMQS0VEaH4LhqfIfvTWyAsB0+QBevMGBKaiE6AzyX4RUwTB0Bzksg7rgCLW5Ai4QII-gJMhoHrFk6UsAgT0V+a80PhXwkfFRD+G2c7AjwSdAYGRE4c6a0I2EYwmoqMhvAWQC9mBBxGEjBgpIroKCLT5+1IRQvRkdIDhG+8P+CESESiIhYxBlo1I1PIyL0AcjQRkyAgdSlRH9F0R+ImcFLA+jmw5Rnw-AGGCMBWsjGDnTlP-nVF+ZIgeI9riqMkDTto8ycckWdDVFaB9RKo3wIaJZFzEVRa3aErYMFFUjsgIo+QMCIOBjpk6UQD4aWxlEEA9RsoA0R8LtEYjkI9opUQVUOpYjvk9JXoIFViycQJyK1CsvaSGEaZJMFmKzJlVix7VUhZmHMQV2GEUpSkwuIDop0fAMitACw7zAiIUjeArirTTdGsP6wbDaxaYvodkOcDrploLYrQJunXRdj6xTmMIf-j6oBd8AWoToAxCF6AgZxhIOcYgMqRlARxoAVMWYCF791dyrozROGD0DrptxlYuMfXgTHFgkxFcDcamLHHypEBcgt1MeK2A7BHxPgLce-2tHNiTRQ42Gi6GPFSi6YLoLcYBMKD9jvxrY2Gp-y0D69Q2OoECcSJnpzVfei42cR0Ca69jk4UmLIOQEgi2ioKE4hJusQeZBisCkVIsKMGiisIriMQ3wSTFokwhBgI-DcSP3THsppkkE5Su3k7zgSnAP4jdLDWYl1jyGEqRoIMEQn1pWJPYsRpxPvzUZb0S46SNgLCBQkVitgz+jhLwn+jHgW6X8VxLPzkTnAhAYqhxlhhHiYJhEiIAL2gkkg3hriMMTpLiTSoakYIzEFckWSuJHkzkuEGpSLHJxy6VhUAKpNKChc6Abw0yePyOQohzJtYNye8TiSLIbJtpGYlojiRmBgupiULnEgxg4TQA2NAABJ4RJAAAQXADgA8IAAJWxqQAAA8uW2QCAouqd4SWgJNewPpdWMUgcXeOErGSrGwKGGJ1ObFrd7JEU+AYkI6m8TM8iA+yeoF1QMTdWUlGaaUDamiTFYwlAqUVNKnlSqptU+qYtInSjSEh7UxWJNOEr2TbREUyQFFIlinTLex04gHZG0ksAzEzUjjCtLomWlJp3UwicaKtEaitoT6VMe4D6LT5vEIYKKNRPekIIgZv6IiU2KcDdTS+LU7xFDImlfiEZCWf1DlPsC2BZ4S7EgH4kBQAAGVdkwilpiw8ZXwjBFYkoAHB+MlMv0ATMEiApbe+MykQVBpo8B+ya0VmQrCZmMApKT8BqIxBkxKdngsWXmegiu6VhaZwlZtICB4HNpJZc-V8LTPgamdQI-aTCXYAOiizHwUgGICSjxlTJ3iystXDTILQDFyZZs6mTLLpmBEACdgMYIxHUCvx6hhQFKYeKn6QkMcYwYWXrImRqCbZ0s1WWChhI095BNgplE73WL+jnZrs04VQNAlDAnZkgF2XIFfhXDmkHKCpA8KeE6iU5MgeORnKNn6o3hQHSzIoFryIwJksWfepjJNmZjosHQksV0IBq2YCx0kolIEnaHLdg2rxSFBNAFr8S2xnQjsdFniwSSbA9cvarB1YGNCtE1oZvGHTwArI15LSTUs3MBRrC8xgNGeV3PKKDDm5fckYaCh9kkAmaI82GvZinnti2ynY2tCWjrQrVw5VYuueoG6lCDaGuaYMN8JSTIhcg9czud5nmqrz15EKNaKhOXHoSv52w72qIKOrVjPM+87zOIK8EUgL5w8yCUeOeSLA20bEvyYwwUloTlJz6CiCQtXHWwqkiwXBerB3F9UHxB4ptFLFg5kKK5CY6uTSAmQ0LbE+CxYfuKaF4KTxSxdhVXKKpcKsgR4ttDwobnWAwFKyRhQtCfEsLtgEcp8XQuFyYKR42C-8USLDr-j1YycmwFoqvmo8aFsEwfJ-0MVTy6Y89RAVAqUnhSpceM3wD4QtBp94wBiVxWvAnKAhWZZjTWBlA0BcFWZwlY6KEvUy8zrooSyyd11ehugIla3Q3nIBdlwhwKI4cEIgOOiDJjZMYiPOu1YQUzJFrMpia7w3boziApSoPu3PHHsT3ioYbIFcVZmLIdZa1ITAbNyChL9S7xExXJNX5BoTF2CoSfDMqUSS0woYYyVGAaV4lQlRisIFJNQV+TelrkM-NOIoXC4XRKgh8sJzKWlyHo1pdIdSKaXGypRGk+wFpMNEbEh5I8OSUqNykbTJAFUv9AABk8IDU5YqUFJlFxkZPTVmZnC+myL1evUrocGAGmnSheI0-qQmD+WDSnAvvJabqhhXqYEVRS1yD0XV4PKnlry8APtMtCHTUV-yipcJWNEodb21Kc6U9PO79SrpGqaKbdIkl+K8Zj0w0eCFL4UrLlCsm3kypVH283hueGFQCoIViNfp6ortk+maW-Np8ueeaKzL2VeoRliMp9D8oJWwrKlDcwyVhOMKrhVeofMpQtAVWYyHJ26H6U9OsyiqrWLSRhv0THQkrVcWI0UeNCOmrTLSwyrqQ3LmVBogx-KvGZnFdXNjupzrThk9I1XKEdlQfXVUHzvFGrG5h-S2MIA8n2BdQEQiNW7xTChrVeYBZRHGpIABTT5MKIXjSC1VjAdVqvKNU6MQHZrcgGQ34imuD5Br7RTikFbDEfAxS0+1khCMeNm4BA9sh4pKRqsMDZIxg80yCFZgintlxptAXRIYQiktrh1meK1NMgSmApLp108dfdOEbTJnOX6OsnOqNWTtB87K8Mf0iBBzrmVHwzNaECoyPI7pzqs9Y8GIoup1ic6wYEGK3U6yREE6q4k6NtK3Di6AiIuAOrsCoq25Y6mJXUpHYVLFk4y4JVGC6WYhp1-UltadIXXxSakiyFdbSpulEr+hm6xwO+uA0qj91JOQ9Y5JqTeVuVT0i9TYCvXHrGVWQO9c9NfZKy8ZL6iFm+rrK8zv1sC2NIqX47xDgN2SVGfRM-Vp9ZVc64Ra0n41iaRNiA-jXOrXXOr1Mcmz9Qpo+m6JANQ6z9SBv6mqaYQtpFDHICdUfS-WDyraZVOql1ScVmIUzWVPM27T3ltPT9axqmaZAjNMID0ofhN73w4hQQ1FXsvU24SgNvM0dTprg2917SrmglYskxUvK3lgRGLdisWTMagsQYyLX8uSmQK9kGE9BWBUrojw0wVkdPOgQdFzxit6ldEgVuhAMEwlCEMrYYIpB1FKtIgUwdqOURXD4uUCPLWuAkCFbG8xW2JbMVK1wFeK6JVdL1ooDVbCJSg4bVJTqJjboQLW4Su1vUwNQdAoMLoDqv63q9ptnCeXp0GlmRDFE222rTNvq2mhS8LAGtVtr8nLa3hBW6gIbKa1Ycy1wagbZg3y20BxtCCJ7ZPHoVrUVRiA+7YbMa2faFt6Q0Hc1osVd5QYYa5Xp4WESrYvt4O4gF9sYLY9Q29agMWbCvV8gnExvdNWUvZpA7M8Xys6GNoe25B5tzWl7faLe2kdutdAL7VGCp1YdnRak6nm6OPYejaR3oslX6W2U6qEiLOvoMLsYKGqnRTqO7oEghbk7gdjcBnajrFE9aFtnaKXXw2mpcbIQOO03mmoF2E6GRPWinSxjvCrbisa+cXa9vV4iqtAYq9XaCBBlq77ug2soATvDWm6bOsO2Xn-w9WEozluEr9ZSvnqdJHdQUrCboE0kB7LlL8p+aFywKS7N8Gu4NaKBx3m98deuoPuzXd3ypSdBWGGCGHsSHbAOD5I8QLAO2p9xJG+ajrRxZgMd3FbwogfH0vKzSadAYjuKPVNV-Tbd1KK1V2lhj579c96PsHkOeBZ1QycgO8XMrswOZTmxI-BsoAr1JsceTgzQXDNlSMAiIDejAdEXt71tQ9fui5eGJflMp5SO8XhpjseBdgcdm+kgVgN11FYBInu9mtfswEdohiHE-3AzpIgVNFkAATiqAroJAX+0wpSta0AG10JTI1ZZmWi+BBgmeV4mwMdEkhXi88wJM4DJREyDh5THXML2F4pg0A+BqjVsJ40cosDqPQwJsLCBYHIDdEOTsaOQjxZnA2zSSo8MXqhAqDxomg2sEGAbRx+WBjVeoFSXpLng0oQdS3ov2ETz9LAZPfYhIwCGKmQhtPffuLX67JQKS+Q+MAgrZ7+OZA6kJ7qpVUYZ03gdIDSATYZjY1iyS-r7haDj8dDhKvKMIeIBUZCuFQXlfBuJQhRGAxh6Nkt1vQ0gPqzGV4qQcBCGQQjR-IAaAFV6B4nDoAEI0s0-YtJSD33EtUaCCK0NzAcGXNLutwnJQh1QQ0QpbFyKr5fNvMwTfJuU33TZKofCg7mg8NeHh4PhwFO7GXGMhwQLQzcYAZKaLNYj2zOdZKDyPOJujIRkUKkbgVwZf1hQII4Me2aRG5JDAKY3Ef6HsHKVNq01V3rt1PAQZG+JI7ssQmD7Aww+0PhPsCTz6CAELR3FKNd1w7LYccbCecsj3hiyJWsv9fxwSI5A6AjEOTjECowxqHElsCw3qqv7WGb+dh2QPofsTOHXD4Ww-sww2NJ1at6eq4zcfD13GjVExHeE8cPzbHw1exxkAceuPFwEdhQqfacamaO43hv8kfFIBJhqDgFtSu2kXDjlpyE5wVEuoEgiBaJ-UbR3NGuKQVBZOT3tCBV3E0P9Cu6aRqnJqRbkKY25PQz+VTi-AeBc15YsYRvgKQziR0qdIiIyfTmvw75OmDwBQeLolpxj1KGYngQk1BoCkWphOUoKzxzcrTJc1KmAJzkEBLqCFFg0ujEb2m3Ze-DGLYb0PC8GJegRfdYAAA6WAMTXavrzZH8A2SdrnHp2ZrMs89aXA0CFqNFUwQEIP0zqoDOJCgzwZsMxGb-njAWEMZnnuZLdSEAZ08WWpM2krOgAAAXvO1DO0wUOxZ6zLGeJO1JGzSZknCmcBBpnZA+YOtDcHRJvGPjPgAM5Ga6DRmOzSLZnssi4i3xjepAY3uhMNDC8IQeALM7ssnNFmZzZZuc8m0XNAgPAy51c-bz7MiggAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}

</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:teal"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:teal">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:teal"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:teal">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:teal"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:teal">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

(define (fetch-assertions pattern frame)
  (if (use-index? pattern)
      (get-indexed-assertions pattern)
      (get-all-assertions)))

(define (get-all-assertions) THE-ASSERTIONS)

(define (get-indexed-assertions pattern)
  (get-stream (index-key-of pattern) 'assertion-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKlYFDjS2WkZLkrNHRUug1MScwrCwWCgjixx21XE1QBhOFNSRcwirCOQZRKhKXBqozKBZNk0sK-1-ECJr7FK5xyrJLyXO6vBIXbBqzzUWR+FieVexOQURNRCdQDoGVwm7JplqaQUZMymgtoM-dCI80BhlGUAdjofLrDAJS0VAaI4ggGB4CQVA0C5NB+QhMo8mUVQi1wJgGDYpxCG0NRYmENbjtAEHhlidwHGyUh4ZEUAAB9cZ85GVDmrRMexyR8cJkH3A67wQjJhHKYzFGRiorHhAeyagcSlQ3E0cI2CYTwXzh0gAT0eFNGPJGQeY0WRAAMgVs4rgZkQDNICW+c557BiYQgFoYNXEYrPW+YFoWRfZ4KDdiBhuqsXXNsaNHKBXShwdto35ZN3SVYuVD2ZjAqnZB4M6HITRCDtwgSR96CZd5-h+bWS21AZ4Lw8j6OGFjh2ucZH5s5j2aXZptnyYT03-cMRcXm4QPsb4h6nazqOS6YNjvaDkSkfrxdG+EYPAcLkGipCM8OGITx+CG6hjarv2QfN1PhfT0XgvH2OmCnme58IfOna3ye3j3lrVDLt2F4ePvVbru-lQrofh6P-0J530-Z-Prvr6kW+A8fg3QB8sX5TWBioIcGhjQf2nl-dsv87TV2XsnC2a847W0MpA8g0Dd5wOcIfMBFQsE4M-vvC+rsn7pn-rXQB-dgFB2buCJ2xDcQwLPmVH+8cb7VzoSqQejCCo2AAGKQAABoAFkACiOxZC8BnsQPEpJdYf0tOQdspJQBRTUToQyM80ZsH4GZGw-BcCpGkChHQygibijxFYpI7BvBsC2JEMAOhSCkF4HQLYIBNDaIlGgNosRgDVAUAogAtPwdUHBYiNGAAAKzoGEugM8YbAGUDYugwAABs6RsDCLEVImRDBYiUAHHiTWeIvA1DqK9GI8Q9HuAMUwGmbBGi2BIOUvQLj3zSGcpoxwniLGVMoK05GNB+CgCqcQGpUU9BWjKeYq0aw1hoALtNEGDSDEIL6EvJOKdBZoIzoZZRqZCBqPwWCR2hCmQLUafwJgAhHB2zMXQbZSMYTsjoJfd2ntDZ+F4ZQ0B3Mbn6PuS0xobzq5VWYFMuolwAF8PoU3YeazwFMGOpC3ZktUFW3hsFY6qg3CpBLgQ4FOyBgQ04LwWQVRnCYuzACtWlyR7rJUCKFS7ZsRcGpQwWl88uF-yQXsnF68MGExmKSdl5zqBcqpTSiO1BSWF3ZZS6lDzZCGAFYgv2aD0XLCOVyZlr92CqukEwWC9LHS6tkLgI5h0mHXPWoLblZqjjoMrtwnVxI9W2o3hkZlqKeagwOLnBRlqzYoNXrisWhlGAho6Uq6a0Lg0jg6QzLovdq6HNJHG1NCjSR+FFl0Fujrc2huYGoQQxTc6kFefHKQnqGUP0jAwktZKVi9NmkS6tsd01UJ4arItRrHU0q7VWkudb2YZsXtmQexaHVkpBsUlICoy1pqHZmrF10n7zquYulQM81CEvHTWvtm7sws1GEAlt8M7g60ddTNUcKtXaovcKqNoq8WGVhYmvIybYXhqJOnUkP7C1BzbYXWFzSRkQpfeSx0jKQH3v3UwZIcjyDqngS+xO2KP3upjaSNDwtMMXIg9NZRLreUKsIIBxDraF2F1npoSdHrBV+0ZfwoFhdIqoekMx7gdhp2NsdJesYgnh3tsfEepjAnPH9vY6rcTZG8ijt4-x8T57KyAKU+CQNetIHcG5dLIVuGDkvm5cFOY+c9NjI4JwJgfIPZGARtBda6ITgynrmpOsr6RMQNnvKEQCxSRWdun2JonMojXK2m9eIUA4CIGQOgP6XIWV5EhsOKtRzc4Dnk2+0GnhwYZd-NDWGQcfILE2uzHyOwUaGzVhVjEHUTLkPLp3KS2RvlMA9vrer8s-A5c+L5Im5q37b1wfvBrtoFjFdGxOd+E2WrZcILlmrI2WHeDYXg-l5Xpu7B-O1qBrDFtYYwYNtbYdaXt1PfLRrs224517X687tpatsuoBy5wsqeV8po7dvbs2pWcpXJR37y3VuvZG5s-gU2vgLGTbrVUtymmPMNi8tWHF3KbGh9B1pGPxWARe18N7Kby2w4svt7Ea6w3U4rd2idGPdgraG7ZEbAH-tw8pyudnZ3mcXZUBijnFPZuC95xD4nI2iMYaW0LzYCwiMQuK4cVI3AKNyqo3S-rTPcuY-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-iDM6ADC4SBC68ySKSHDZ8-C2CwjZIGi1k8BnDfiMs6Cz86AMS-i4CxiwMdi2s+S0MVS5CzSySwc70GS4i48wMYSMc8y2SFCzc4870Jy5IFC1IGBbeGCO42HlY8om7QSOZB8vCmwH4B46Y144yPOtKxo54+XsCt1u4HEm8LWgq48Eq6UA83EzK549ZYypvoMzMGqxntFmCPVeiE68wMfD4+nNmtYWsNZX60eDPbmUM6SJAIQKoj-oE+G5GwSyG48Nmj00wLAJAJE0mymw6-G4m4IL05Igk0m5IpmyG9mgAHL8Als3NlslswPklSu9QeuyFuDbzyv4iKvJCq4POLXyENtet1sbQ9tjZ5FjWmubDmudvNouP-j+DWvquNsTzzo2YK7qo6uzuZ6EDZ6aBuVaVLusBMD7jSBJ7h1xL8BDj4kaApAf13gNup5yJ+H2NV7BuzBMZbumAzAqmFynhsi4NBlaWHXOrHVBlEEInsB8AzvOv6tu1+CZ2SADv7mlya2Pu9DAeGANvKKUCGvGtRnQfTsruR4smDWIdSAV2gkmG-0lwBr1SNWaCYiXUg4AdtWEiftm1kenqutRbePflxafSJY-SYBb2mWOBkBMAhpqDDQwjSBwrClaUsxowYyMpSe81y6J0DyAIKda2khMCs0G3q3KvwNqfrHKeqezzYLoQcXTSBIwigyo6pCaq00wyzGr2RLECE0jBZbZCB7EDEDrNbRU2tmecJ2kgaLBYaLk061U1OdFtliBdgYaD2dmd5A8ruKwZ2eaAbtRnPuJc-7dAkSVXZiq262khki60Wf3KMDWfCFKsZf2g-5pex7M1CCkh2XTtyAmFmKLRMbSdDCP0dcrGGTbpuSs4bIvgdegBKxYB0TcCibwMdciD4yGcqgzfIsORWao0LC6cjcGQhYDec4CeRJngidlTidwo9cZg7CTcqBS4kbzwjdjfnGSB1Z2zt6Mimoa7Xd8Z8Tjep2GRFdU2ZcKhtfrc56tnvd1cXF3caJaddY9ZexPdlRZl0qLdK13gQ+61-euAOCLSMoIEzd1efe9C0hmQCToHVcQpGTEjWVMaqsk-o-SBaSo0k7MQndKd-dkjxP7Evj1wdf53A9SzdvU9tfFAkQk6q08+reGQADkrNTGBXkv43d0KXXNHXTXaPIa0gEKqv3zQVJmCxdssnT49cGvkXeuWFIQbALN7QLNkUrkmcVQXYLN0F3gtI9wJEP1JPunhv3PHvzXSXNPWkBnLPBvI4aviDgCXvKvQfUz+1oAx7p7xA57Q7ZB6qNQVGiBnXqGstV3NGRmvX2al3LU1lauP22ZRmhHkgSrMfwYcf5AKQWRSfCiVQaXqfinluI2MP2fFO2aVmhaUPvyj3Rm9PuwVKUfGvF8zu9m1KyfVQqfTxWQYcGfS2-f7xfdKlFDhI5kAN3Wvf3hKl8P88-fgJ0rk-jAgsxuMoSrI-XyY-dfVGjf+-sYRRK-8dm38TvXzEXmMQ9fx-amNBjKE-n-qcQeZvjMB2Bysn+DkNJq-w-5UYABOeAzqAKAabcK+Z7avgnysqv9Ni8A8uKXyGZICq+NfLuNfyn6c8ge-fD7sNmqqP8KEVPI-jAOYx0kGS6RNvlSgKL30s0WFLvm3TazQ8MqzA+gfQ3v6SMh+4jd9tNB-z2Bp+WvLFBgWYG9d647fVnA3QswkN7cn+QfkX2Bg0AxBnucxjZSloSDcuwJaQbwDF7JUZBw2RQVSibof5Hcu-DsLoOaI0MRBeQcOF2GGikBKAzSZgAYA4CGAjMzlLQdP024uDxoTXbwahlt4uRhobePwZIKbQXBTKegu-iHEdT-pWAKkGGNzWM7Xgb6f4ZysxGFJdk-wTXdwGkPDrCkrSpQmGFpXrglD2AWgeLhUFqHpDN2P8JofUP8GAI2hVQ4oZUM3a7s2GBQ2pIvWcrhw5QgwvaitXSycA+8hgQYR5SGH8M8hmxVIXUIyFzCpI8hCYckMXRwdsEKuJQUtTDLN1qKh2JgPYjYDeBpAx4V+LwEVzMC766RAzIvwYYzBtSvQ3Ur0JYAuA2GBwmarQ22pdDNACdQNnUQWBEAyGgsSBGcNN6XDECfgDagA1RC3CKhqwloR1kBFL0u6wkdIkYJYG2gkYzENoMiLkG8C-ARIiFKYOMGYjUG3dO+ttW5S0MOi21ckanyj5zR9AsQdPvYBNQcBKmwhOgL2F5GlNU4dAVaLEOBI+1DUvXIUY0BFH8gkQ-vTYiA0NTYD+inLdkQtC5F+kZR-I9QByMojZAVR2HJfDqMFiiiuM6yWOA4DpiR5TRhovwKaNUBiiDBesSUWL0dGiiFR5ApUYOiNH0Q1RQxVgGYhtEikiwwowwB6PlFG87wAYqrPNE5GoRDUdBUtHqM1G4AZ4WMdtgHk2haV0xggPvISnjGYx4xTAc1lnhzENCv8GYgsRqMWi1i0+PtVMX7wpyoFhsQY60foFtFhjZRhgcVCAybFG9YxeY9xLnELEcjix+owOPGIERb0-2LAcGLBGJABUshuIB0YIHhEzUtSvUQER8NRFfCeq9WcYX8JdGTJ3hZ0AiC6F65-tMhR2GiKAAMQxoER3okcYoFLGCANIgIlshiLXGPjjx2wwuGpDMQuA2mGkNSD+I3HDDxRX+Zhpt1wCPx-WaDJ4Mcnglm8DO+wQ4GMDAn3jjAiEr7v3R3Jtj-MTEHCVeOmF+k9QshJcb2iwkPiIJ-DAzrLE2LeZRuysRiY+G4APixegEhwMBPfHQ1Fw3mbAV8EXCcShJDEfMTxLfHqRoaXmYwGJKXz1xRJxo+iBtQH5KIUJjXJwRUGirUc5A1AMcQtHGZDVNidzWMdumNp5BEgbwOoKhhcDBD4E9k5wH4BH5YSR+G1LcRtBAm9NL8Mobia+K8ncAXJ64n4K4OoBQd42gENyceO2peS9U4oA-AFzglAh-WvXVsazh0neB3BLgWsZpD4lxSG8Fk8SmkPCHOR2wryPyeuwWGjgoJcY-UcOKVaj4HxhNQYsrSsnTJbJJU0KTRialBR3wL4yqRtVL4i1pJnUyIWiGcxAS6JWoANJlJkAjBPWuFMxDKAAAMoxJ2FaCijop5pXI4jOfHICGBpY20toEQCWmEgHeC0k6WkCppcgjo1cc6aNkunSAmuyaDaYdhM6IhBh90vPmVH2nGT2JW3VVpsS+nz8fpKrHagXVvHTTCpNAWQF7DenGgVArAcYPNLLK9RgZ6GTPiwDYDtVRaW0zbN9OGj7TaoR9R1HqOYBRQjgcKGIZYRMxPD7h4qeHN1VenlClB6M3aaDJrZhY2JT4eQXtmYhkymAFMzwHChJFUj5JKEWQOTMpnwNSBcJNQcqW2oCyhZcKc6dDPvEMBuRnQbrFn0sFA1IZU064aTMlmCzpZ1UkurPyImGY8RXwDBgcCOA3j3ppVaaXSI8JJVoKDAf4ViJCL0RtSu45ofuJ+EGzPZXtauO4GBEXjDwmdBYHBOLCZ0dgSs6WZ+NaHUj5I43Bki8O2rcyrZuEvbAnOFm6dnZc3POXCmSpACywIA4Gh7PaLCDFZxs5WayK0kHUyJJqCiSXlpS4gHZ2Qn8AbI8nogdxhIT8f0N6pHjF6MkLCDuJRY5g0wd9KwmcnVpSSPxnw1ob0PkLKTeg3cqqWYDQYMDniBmH8NXnJI2ByQx88yG8NRF+zw6Q8w8UcCDk0y-YE8vcBHLWAMzFg9NBedDQKFrzTxe45eaiMIIkQAFrYGanLOvHrDPAt88onYSwgcBNZKgeeBvJHn8NZqR8k+Y8CRjqTkpZvIIsJBeGeFm5swlcXeI3kTDi6-46aEQDfkBTeAvYXgMhHck1T+6sEjSb1wwWOJtuwA3YHbMwk0LBQvXJagxMtnUKRApEmYfOIeQFUI4Hc6haqzoXALCJh2PgKtBEXkTwYbcyRYiFoWqtew7kp5mAGPnkgBFDyJiYahYkjZmItCsXhQvnkBSBJfopfAJMFDiypAVihUAFK8x2KIpswLzI4q-mPBVJBnVhf6yj4gxzpmME9LXWcrIJ9GhyKkiXHxTzSdBIoaePQDpSqznKjKVWZWLmmbY28aSmqVNxU4qhMlYvXPp4ApmNBeY7s2kAZw4yAJilUfJdvclCXnTnJEfIxf1NaUOAFQ9ClEPVGnj6AXA50mULDMNjwzcQiMmjKrMNK9QXF+UhKWvzvCzKApQUjpWvKSW-hsy-SkIHjK1BOKZgUU0eSeNmU+SmFmC9hUhLSkt8vCwnCPsjJyWSUtlgylGUJIyl6TspTYrYnPIVCX4UUs0zGgAAlJETAAAEohQAAMpImQCEgOqqVOQIkB2XlSJJigHuTVPoDMA0hXACaTxLF47QvhdmVOOdMRX9SB+uKo4CuEJXEylKeQUlaMARX9EapAKoFaCohXgAmuuKjFZwAJXzSiVQErSrWK1EgdR8uKnKRyocycgnMFU6MVF3OlJImxtIUvsKo+UAzDIMq2sU7waWJ5vl3KrFcis3nOV+V9U9tqPiGWctlajSnZXctKoVSDZQ0uFd5O1XWrN5asiODY2YAa9ApbSx1TwwHH6qmxUeDMQ1L8UwShi4qflchw-h8jDAloE-hELKkequl7SyaZvL2Uxj1mS7ClSsqTWqTvS3q6cVH2uXuqNeU0gyVpF7lBA9gFrQkDtAbi-4jYXvUkAWoj6AFV6FaogOHNOTPyKcLq29jcq6Xxq1exa+sQZ1bU0YEhzRftRCyqklq1ZIMDlcaGcxp8ReskoeHjFxjrYAsy65MWSjUDtAvBsawmS4A5Wtl911AY8OkTnUdzHJp6uuvVA8yEhRVjmW1Feo7y0M+lCgWGWeGfUlqR2WORVUWP+CGRn1sq+Mc2tmABBdopwQjCesIDAaORBFMsIz2g1+BYxzna3O2S-X1i+BtI1zFYCpXaT3BsgHZfuKPV5Lel9bJFTQEJDrKUl88KZSiHPVLBOA86yVTet6h3rbMXAMVQqAlUUbRGbmIIKho-VEbaxP69yH+vHEAbSQqquVXxvA3yh4l3gWDQtHg0ZhmILSrIOs0E3tl7pmG7Bd7LEZkLnBbAQWPdPaCjSHJ0GtPqEufXCKKcYQ6zZZoM5hDn1x60qc4CyXOboNrmrqceB3WEav1u7I9TZumUbQ3YMatzS9EJCMqmAAAQXADgBJEwKzGpAAADyJbVlSiGi1xaEtSW1Lelt8mbFn1yG9ZmFvM3OBc8q9UkCyE0l4bxkxmi1aRt6B+bmA90wLYxstU2leopWwlTKGi3MrIVMkPreCshUFb2J6m2Md1u5Vulq4VWuoDVrUZGESOCoEUHEgrzUEGxj9dbU13CIrapoeBaoTlUgJZLVMu2soK8nW0dCVQW2yYUGhwbZRVtwKfbZEq65XprttW16DkXu17aLtNU0WeNSdiqYvtZ2p7TVMpH-bHUVoTQFWkFjuqftJ4v7Vkp5QqRMMRsOHdtQR2hC+MsQcdWjtXpg61ZK2ygEjNO1kAoyuajkWnxwYk74E1O5+tCXJ0LQDOhOpGSduoAPbSdKhNnVNHwIx1G1fanbVzrKCc7CA7O2tP-PjYM66enMOTYRnYAs0+davayszpfVb17tRO7qcoFF1k7Jq9Y57U1RMJA7GQHEzXdzrF6XKOF7Yg9p2NDGRrL2toBXf7k+0m6hdhusXYOoHG0RDm6zNXSzt5STxndHO13Tzru4qSddA45lDLot7BQHd5TTXertdbrSGAUOlXAvinW66apBqgNUasAiMKBiePOMC9rGAO7piSe6Hb2rV488edniprVoEyn6ScpqkwXpzleVZSS1fDLUONzIiKlWYnumYJLoj2BAyQVveXZIXL1lM-AkOqtAntjKcrnO+w+4TVLiJI7pc8+4weFO7xUcaOXKejjWjVm4D4+JlMle7unHEQkYmewQIGttC57CYXAN4IECNhOQm2FALLNBxDLgKqpey7mvCOmbGiG6A4dfZ4rtzWCLGggPWTsH30oCsiTvGtuA1r1vK29T4yHNukfb96HoMuiA-gKkgj6PSbqptX4AwOoDlqbrIIDCHswVNSmMoAAJzmAnY5B1dB8oc6thHUdBktSwDMSYwJ9ddRgY-TUDWzIFtIrCJRrNDLS66vQOg9wHF7i9goaAGQ6Bvkj8Cyw4h-sSnLEOqRKmrBtRBjH5WBx5CNALZqJWrkr1JALB-lZoaIZ+BSDO8NQ6UzVlHByllSngtnF3XH6KdzlSXWgcH2EYylpTBw-bGj2j6NeFPbwxUtcDuzp9ZKP-lRjH2TdCA4GwcA4BpgRwsuZa0AHsBlAX9GgV-SI1P0eSMAYj4GgrqYHVX0bNwCyRI2ojaSTyc0yUvOHXXEOkgwkjR6dkf1SMR8xkBR0AI0aWZbzzI4h8Pn2r2Dag6G2GuSFhC-XuDPBqGYzcIUGN117N20szS5s80RaXAbeWY7QywhlHv6P+JboSGqNvVXIohqQPUa6NNHn1wQaY9jNOONG0owxnBQpAUObATj1x1o10vqIN4to1xm43xpMMfLQ1fqy-TnuDWZ1+jFe5SY-onh7C61U05Df-tejrNcsUqvMgEduV7BC0cB1vTlPMmMJSFW9cIiEDoBRQMYrAcDajI2hpHCQGRrI1AJyOzw8jJJ-qMzSKNb4+6rDGCYnWL1onNoGJ+vR8uxPTaqq1Pd1RCdjhQnAp8Itk38iyBwnNKDzRE5zD+WArYt8WxLclrS1QqYSngNaY6mGnwrn1PKniSiqOWFUj1kq3ruysY0ADoNBpxQCSrkCoZaV+ptlfabJVlbxpWlLLSqdy3qnnTZ4DlVaZWM2mO8zlcTYZIfXirbUkqm3isaU2xBrM2RlQO6vF72TuAnigADpYBrNvuP0hMdwDtBFoyB7Zms1jz0QpDmCBIwVXthggEz0R5M7GtTMRSMzWZzWa4A8F5naeRgdifgEHDyFTgzEbs6AAABeU7UABmfnzZmTUuZ-M1-qLNDm+I3eMs6SC2OMBuodEPADkQJNEmnwyZic4LCnMdn4W7PYDIYmCjuAWaxAFmmbxMDi8wQNgGs0mfDX7nFoh50Niee-TnnLzTvRc2lCAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
  (let ((s (get key1 key2)))
    (if s s the-empty-stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-JwPAOOcQxQDkRQIBgeAkFQNA8U6i4UQ84hcKoYgjEoBRKG4Yg6ErITApSBhjDYGQGH6mt3LoMRhtGqYVlKakRqkZ1mlmuhyAUIaPk25SFPwDEsTm3wFBYfAF1ws77sehd8EW47To2yhrHGyatpMzzUmNIQZwqZQ2HIUr6F+oGZhaU8GDBugIZMaHYboX6Aam5TDtSatSGocUGEhzHMux86-supGfiJkm-jJjGYcpnGWkB-GQYYC1qDEOhTrR+HaeWhdef5wWwWp3GEaabm3m41EfmIAAPQhAjcZxhedUpRZR+hFecZW1Y1wwteljm8YO7noYe4RyG1xVSni4gGDquHbZYe2GHXChTq0UhDHh-C9OmT3vce4RfGD4y0Imq3FQJua2lrRwzr22WSjphdjHaCblDOlP89dj5BsloPqf+y3M9iJP2A8LxHe27OGHr5RG4t+Oa5iJORKb+SW77zvOet2aNEIEFuVRfvEfHtho9FjotH0d3GFV9XiE1uHK5lkO0O3GdPoYF6g5hsQK4zmXu9AUzSHM9mbLshznOpXw0fIFXPJcRfBt8tNwtXoIQgE9o7Im4GfMIVEByzXVtQBQ1AaCVldqvFeDhJhUViIFOeuJYHwMQcgy408wGCFIOfIC5Fnz-GgaDRQhB8DlDdoQrWyJ0FQRiO+TeGQio-2XqvVu+Ao6oLoP9WOq5VZaBEEtSaB56CS30KIgifDfYnUkGQIOLC96h2mBAzRWiih8PjjIgWE0wQsMfJg+MgZZoiWPgxUYNI2A01XKUGxL19ZoxMfYrh19a5BnVKGZYFEXyGjMsEIRVlbL2Sci4QBlBfAkC-kAkB1UcxnB6gWYEoIGBHxPvodehgZYYLiJYlwDkeakKDvk7upR0iZDks0LCPChpVEDjOM+eS1ZhF3gomIB9smLVyRrNpFSOmEC6dXf+6TOJ6wVggo2C516m3NntQpUEZqpEoKQWseSBrLwVktE2PtAiDB3hM4yutdlDX2Ys9xF9Noy2MqZS5+hrmHM6FLS+1cwpTL6sjXOqcC6-QKdXDB1CloKE0Lif5xcgWsJXIFMcGp-KUM8sKfQs1oYfDmswLQcjqYTCKdMQKTSV4HixaXXFnj8X-S7siyMwSGz0CpC08le1bFnglKAWOJKWUzgpcQPFe0um0pXGC1xdjeXYtGuy88QlFSBUldTGVxAmKFCCdGWOxK-lFzTvIgiQzsVlxMXcygwrAaqtSWqtJEUmUCAcOLDUjIniAgAHygFqWwE4WBAF9KPvazW-Naj6G+pvOV6y0gZCyCGpYzcPUrgaRufQ-qzaBuENwX1i1k18w1PoG80bJgIjIlygBTDzCGG5Iweh6Moas1RCauVYLoW6srnK14trdqjQakCJtBdDWUrRvWi1MRw0CshcnPOzahU+P0u6yNsc1jAImicit2T+DMxrVjdRZK+U4oFVSqdIi9HUhXVW9dFM60CVuCXHVgKel6INfy8usKC10somw4dJT5a2vBme2tyyLpXgUqCF5360a-qxndB6T14bTp7tzBmpNyZ-u3hnO9QGdwIaZkhiDhg3rQZbXe5oHr-LWsAXrNuHcVkgqgo2SOvhGQUf4YIyuTFGzdj1IyctQhV3VvPfVfQdHyHsPbVm1NXbMlYr9cdANOb2NhCYlqlay86O6OdOIpdUjKxGLkXJ7gomNTAq7pM71pbv7IyHlRruGDAouwYOKjleqrwkpsYszeZsUP3LvSsIz3yTO9XMHrB1grRqrPJI2F6jISVBZMcq4OXzyQOsg+9WL0WwO4ag-+T5L0ZYKc-S9XzZHkaYY4OBtmw8poYMS+l5LL19DFddthymSX8OXxXCS+rpWYq1dOV3VT8WdQxD8xkmZoHePIappZwGlWZPNeenY1GY2cN4cy557zzyFudbKt1z5vW2vmutbVUzDUmpKCgHARAyB0BdWJD88ws15qLR4dUdaldrOfqOrwB6ZB4YxAAD6-eMvdzZz2fugH+4D1Ij0nr9Am5tMHAO-QfcyPDArpnubMDEBIYQDAD7s0oH0e4Ygw3vdSFhV7AAycnvR+gnIziOdkBOMeo-88kVIIaftrJJ4TrHOPgMW3BCG6q5xAHVaev0tIKiOfkkCnMXNSYYPM4yWPGTwW-pUXDRjnnuP+epZ0pMwBuvZtS4sQkQMsubzm-ly2-kwu0eG+23D18Muady7tERDONvbus9ucwMDjXp6vad1zzXtRec7n5xt-3zghdDc4pHlmS2MvG4-ablwlu7Tp5W39F9aTAHx43U1h3aug+p+pyMG87vNqe8AbNDrUePPF+WBr8gmPQ-a6o+COvCfKYx8AV3gvMVRdZ+mp+zPQwXeV+z9XtH-e+NZSLyP0vY-J85-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-ggwHAhPKCTiswmgomSUX6dA8ZgVKA8gwQt-YyLjumLjuCHMMdbEHMKuO7UULQxyAwzEByMw6prQxhBw+VQeNwzQ18QfPwwfEI2HF8UjmwMddI86Cw4ULQ9xIYMfr4Mdco6o-Izw18ZrRw5rbGAo7ELQzcPjjzCwIYH8SY6oGYw1CsIY70l8Wtfw7EPoCrNwL4PlW6p-BtfRqAPYxJmCOCKgc4zEK4+4546AJ-KgaAL4-47Q3CNwA0GEzExE5-JCDEzEHE18cACEwYG4yk66pE6AGALE9o4OQAKS5PJMeOFOfzlMZN+NlOBPiTOPVOpP04eNNMQgACEkorT+TNTAIXjoAvTQInTwjg5XVVTAz7TPVMQ4zkjkzAIITbTtToAXVQIKTXT4ILq0z4Tazbq8zWTg5LqyziThQqzQzRTpzRz2z3TuTRThQVzMQ3TsQNZ6Y+U7a6D4DFDBYLlgIK4zhYRaaPAZDGDq8BJpDcC5DkDMU+ALAOBJgpqALKwQLyIhTvDYLPzx1Y+Zi-jRQ3zEDELaYNq7wAghLrsC24muOtDiKtQx1dLqYN9HtDjg5kAdA3oCCajiT7LnLcS+LLLrLgTVjDAsAkAHDIrYrArgrxjVA1je+-DIre+0rLLtDAAcuQGq7kxq2qx3QRJ82S6C9CxgxthZSi9MGi4U7LiudwBSz7uDJC181ixAxtifOaw0Ja1c7ixeEa2Ay66NgSQJUkvPEcsaz87C3g3QOAqQncbRdgpg4wGqKQPPM9gwDgeQNWOWsTJoCXauHa1gxwJLGzBonemfLG0cEUKRunfGIQBXfFc6jxYGOppIlPULD0uPEuh2c6784PolWdXona6axLe24uiIF22G0S0efC4i6YMCvzb6zC66-ZSq4UOPXpdImzehb5tpQTmIF8A1Qshu5XUVNOLdK22CCS1-QWD-UWa1Bdh1JgNEbBRQKYAwHnB8GVDcKQI3PVrRR9l9puGPr+5MCuLMG6f6fLsB2DWfgwOtbtDtbDdHEBzDIzBwAWvGnRa7n3ShyRPeSoIoDcMnMoloLTgh9na-SfsoJ9hkINPoEYOAsoMoBEw1BtfoJR-TuCLfqUJxzfGfhDRtZRyu86JxyqWRxhS4BvOAQEcDmtNG+fHJyMVJ88NBCpYGDDadeCBCKdQgYR8YMR0GkC2W5J3EnJwSkddYOCHh8Z7iAHAoGx6Qn+5yVkGfDXNxx6rpMDBisBi56AJTlgKhOik51h-Z0TuEP9phzeC5+EKM2fsUPCKBwYLLj5w2eCHF+cvh2jC+zOO+zFF+43C548gYGPEtcaWzD5350WjEEdJLo6fke5tjFF7YGRNx1pxtdZ0wGQHZ0lyMo15DZV7fnB64UfOzrV30Q1w59B6IgN6de17Z8C8F96Y12Df50UPCLJGRA0vEHEjlKCMdWfLa1tzZ51yBysEnFhAV83NZxCHw+msBt10Tr3SFz67N8d-50nDDU9wl+CAAORwdnwae-dvfweXVw0udWeHdvu1ikDRx5zQ+OcRrI6nQAfzew8LOCsBMQhCDCDHXgjBA48OQ6RWQWjFg49bIcDwggfQSlBXey6o9Vw3h08HeSCkm2c1ybfM9Icu6M9-j6Dc-td0-h3puZvKDZszhuLqweBuajLw82lszryucY-giy+ojHWjf1Fwzy-MtFBAtC-rAi-UCaDKpHKS9uCmfS8needs6S7y8Je0Nxf-HLZuHW9qwW8qQtBqzh2o93TvwqzG8FxuDS+gporFdfW2nYzy-q0W1Hnc1AgrhDdfQ1c-lOn1fm8WqkMm-GDY4QJxQaC89Q9QpvzMC+8S-+-ArekR8WoKrR910pd8MJdYSy4l9uah4QJVxj5N9uAt8VLoendp0s6zYceiP1-yCl9d-nwYd8Ix-qS69ZsG9i8MQeeIxqXV8ZZa+KPAYz-6+G-i8j9S-3eVIu8Fps8CObiT8x2gsZ9j8Ekm30pULB9W8-QR+EorFfH2+r1i7DfO+EDmI73vrEoe-khzgJabInEhICB9G23uRpC7wS6y4bevfOeuvEXpRIX4rmAooklAHEAt6flcwGhTBLy8Xya5KAd-wS58VoB8AkapuEQE60n40Sd3nVy0IuBcBpqLAcAIyTE9tIZUSgPgFbiuwBgFQQYPgIgHsh4kolF3hx3YE6Q8OfAnmJ3w4FZRNSgg1TmnhdxMCD+3-Jii8VbIsBqg3ENaERWJjigkq54AgYGCwj1YjBvlRyh5G0EiBU29WATDoOey0VZcNg3QUTjw6uC7BdiTwWtFoo3gfB7g7AS4ACEJthKkucwewTdomCXAbYTwBEIipBD3eMVfQahy4BVhiKkQ32tEJP6Xo7gAQlIYYPSE0VuACQ1gZUUJgwxwBSg2Bq3g3JggqBqXGPEG00i+4aAtHKgT5T0xL1dytiRYgAWEAcBSAcqPPEQAXhiDU6YKImOb13ptpDWAQhjI4PYrVAwhj-NWCULcoD0MqwQxYWIHpyMs0M0oZetjiJgMB+hgw0ZOsLdqEZ8OhAaOCENqwBC-aOYFFGCiIFwpT6qlRNLkFuHzcI+qFUYcFwj5P0KEt-GYYHXXjb1AB1Q74WMO-7h1tq-QBQDzFHbY4Kg0MXwKMTZBojyAGI7HIYFJDZDpGRgWYgl2xG4i5oxIJ4Bhwb6olZia-Fxsx02SIjkRJASRGSNGJMiToCEYkUJ3R5FB2ReI0kOJy-gBwOAGbBrJGBxGYjuAAoikfDwpokjm4so-EVSN740iRghgOkT0mdRXNqgoo-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-S7zwV6IdKe7eFsrCPbxU5dm-UXrFm5CZAo9HuycIFA+ndrc1zoftcZAGnf6hoLQ8GCTGXj80EDC9A8bOrqwlDPGlEuepWBAMDLH4yAiTlQDLnNBYDc-ZVBTx8RH61otk0-TGqkV+giMkaLXi3rb38AIQbB7fgv073P78+x1SQ-PxopepGwNwX3ho3RGMgAAnCcBD08R0Ru+90boZUb6GPpCCb7B8Ff3WawUFNbPLvR3oDgXADZHGdZsKDqGcR+gb7t9yshoAfDfG1iMltjBuHOeGo7PAPJiBBHmNmDAOCWOtFlEq4LgaJneRXBsRyQER0w9EeBSqGSdxhnEXLuuU4i7l2ybNGhqQMdrshLe+-eIaV5sAblhRlCmfi717cajBRpgFWQ-0ZIO+qQRtdUEKgngyAj0M2Py0PVUhWgjIL3rhh95+8peQhPA3QEKgacjgyaszWiiUIDGuWIzdSGbEKp65d6QRiEKgQOMX9S+oAVHl-HmOgADjwTBEEVvCN6H3D-PW3a0GOCD1TaLEAcExq4E8CeYwgfgbzyI0NANtrsTLVVrq1cbuCfxmjQOFWNM11jMXR4jeLRjwgW5Pe1RvscuPRMNJggH47UAuPomrjFbX-mxACPTA9jQTPEycfz7FJ5JDUPEwcb8OuG7jUKQVYOqzUYGrwWBgdhD0bX4L8DaMQg0NFaCripNtBxqBEymhW7F9gp6kMfp32sTuJOeZTUqqEpCBDAjkb7D0f4C6yj1Yxv5RMaL5TGA+Mx9FHMf4ALGljsw5lEJQPqYdJT-xGUwKpjXym3tpeB42yt5NtDl4Upo+hpQMAinnyVzcU+HW812dugbIboASJBVUhxMZ60M2WF8Cfl9JXaMCJfkdQ1JI0vHQwL5k6Nr6PDEg-QNpIAA6WAEtV6uxyfGZAwQOzlfpibhN0EaELw2fmhPGBqo2Zxtd9zzOFnizZW4deWcrOPjKlvAE8FXB6BYRBzoAAAF4+tQARZooKWaYDcCKzpAOziKZ6CTm6zekBs53n6NM1fiaYVCN6mVPvA1Tm4dsz2YXN9mBmt3Qci-isgsAceygHHtj0mDfc0weAVs7btPOFz5zbsC8+4yvOBMbzkpe84+Yp6bm-IQAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:teal">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

(define (fetch-rules pattern frame)
  (if (use-index? pattern)
      (get-indexed-rules pattern)
      (get-all-rules)))

(define (get-all-rules) THE-RULES)

(define (get-indexed-rules pattern)
  (stream-append
   (get-stream (index-key-of pattern) 'rule-stream)
   (get-stream '? 'rule-stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKlYFDjS2WkZLkrNHRUug1MScwrCwWCgjixx21XE1QBhOFNSRcwirCOQZRKhKXBqozKBZNk0sK-1-ECJr7FK5xyrJLyXO6vBIXbBqzzUWR+FieVexOQURNRCdQDoGVwm7JplqaQUZMymgtoM-dCI80BhlGUAdjofLrDAJS0VAaI4ggGB4CQVA0C5NB+QhMo8mUVQi1wJgGDYpxCG0NRYmENbjtAEHhlidwHGyUh4ZEUAAB9cZ85GVDmrRMexyR8cJkH3A67wQjJhHKYzFGRiorHhAeyagcSlQ3E0cI2CYTwXzh0gAT0eFNGPJGQeY0WRAAMgVs4rgZkQDNICW+c557BiYQgFoYNXEYrPW+YFoWRfZ4KDdiBhuqsXXNsaNHKBXShwdto35ZN3SVYuVD2ZjAqnZB4M6HITRCDtwgSR96CZd5-h+bWS21AZ4Lw8j6OGFjh2ucZH5s5j2aXZptnyYT03-cMRcXm4QPsb4h6nazqOS6YNjvaDkSkfrxdG+EYPAcLkGipCM8OGITx+CG6hjarv2QfN1PhfT0XgvH2OmCnme58IfOna3ye3j3lrVDLt2F4ePvVbru-lQrofh6P-0J530-Z-Prvr6kW+A8fg3QB8sX5TWBioIcGhjQf2nl-dsv87TV2XsnC2a847W0MpA8g0Dd5wOcIfMBFQsE4M-vvC+rsn7pn-rXQB-dgFB2buCJ2xDcQwLPmVH+8cb7VzoSqQejCCo2AAGKQAABoAFkACiOxZC8BnsQPEpJdYf0tOQdspJQBRTUToQyM80ZsH4GZGw-BcCpGkChHQygibijxFYpI7BvBsC2JEMAOhSCkF4HQLYIBNDaIlGgNosRgDVAUAogAtPwdUHBYiNGAAAKzoGEugM8YbAGUDYugwAABs6RsDCLEVImRDBYiUAHHiTWeIvA1DqK9GI8Q9HuAMUwGmbBGi2BIOUvQLj3zSGcpoxwniLGVMoK05GNB+CgCqcQGpUU9BWjKeYq0aw1hoALtNEGDSDEIL6EvJOKdBZoIzoZZRqZCBqPwWCR2hCmQLUafwJgAhHB2zMXQbZSMYTsjoJfd2ntDZ+F4ZQ0B3Mbn6PuS0xobzq5VWYFMuolwAF8PoU3YeazwFMGOpC3ZktUFW3hsFY6qg3CpBLgQ4FOyBgQ04LwWQVRnCYuzACtWlyR7rJUCKFS7ZsRcGpQwWl88uF-yQXsnF68MGExmKSdl5zqBcqpTSiO1BSWF3ZZS6lDzZCGAFYgv2aD0XLCOVyZlr92CqukEwWC9LHS6tkLgI5h0mHXPWoLblZqjjoMrtwnVxI9W2o3hkZlqKeagwOLnBRlqzYoNXrisWhlGAho6Uq6a0Lg0jg6QzLovdq6HNJHG1NCjSR+FFl0Fujrc2huYGoQQxTc6kFefHKQnqGUP0jAwktZKVi9NmkS6tsd01UJ4arItRrHU0q7VWkudb2YZsXtmQexaHVkpBsUlICoy1pqHZmrF10n7zquYulQM81CEvHTWvtm7sws1GEAlt8M7g60ddTNUcKtXaovcKqNoq8WGVhYmvIybYXhqJOnUkP7C1BzbYXWFzSRkQpfeSx0jKQH3v3UwZIcjyDqngS+xO2KP3upjaSNDwtMMXIg9NZRLreUKsIIBxDraF2F1npoSdHrBV+0ZfwoFhdIqoekMx7gdhp2NsdJesYgnh3tsfEepjAnPH9vY6rcTZG8ijt4-x8T57KyAKU+CQNetIHcG5dLIVuGDkvm5cFOY+c9NjI4JwJgfIPZGARtBda6ITgynrmpOsr6RMQNnvKEQCxSRWdun2JonMojXK2m9eIUA4CIGQOgP6XIWV5EhsOKtRzc4Dnk2+0GnhwYZd-NDWGQcfILE2uzHyOwUaGzVhVjEHUTLkPLp3KS2RvlMA9vrer8s-A5c+L5Im5q37b1wfvBrtoFjFdGxOd+E2WrZcILlmrI2WHeDYXg-l5Xpu7B-O1qBrDFtYYwYNtbYdaXt1PfLRrs224517X687tpatsuoBy5wsqeV8po7dvbs2pWcpXJR37y3VuvZG5s-gU2vgLGTbrVUtymmPMNi8tWHF3KbGh9B1pGPxWARe18N7Kby2w4svt7Ea6w3U4rd2idGPdgraG7ZEbAH-tw8pyudnZ3mcXZUBijnFPZuC95xD4nI2iMYaW0LzYCwiMQuK4cVI3AKNyqo3S-rTPcuY-orqnrXdXlMZY8IAbzOWezD8tIAKRzQrhUijFZ2sd+CcDGVz5XDBUoBtbrwORELSh+GN+mLCssNCxHOWUpgiPSgmDWr58ZvvPAKmpeQcPFBI-R6IIHvj87myQVsZuMecReCUBTFH65quiCx9c5IeqNKRhBEJErrLyjwWV8IEIXXWOpBcFSCanLj5qAl24ATziyjUfPIcK8mPXfu8zGN7PufUgKMrcH49kkMeMJsfywSn+9fPDCAJwsXfUk5t95JPvw-d4djnRdPmISUFYz+XaO34KYUIrRRoE7UgjR7Bu4V91M2Lpk7PruDIboZlSnQGbrlnHkjDxsbhAXJjZAsNujZDsMxM3irh2tJnxogV0NAZ3qPpIKAe1r+LythDgfxtyvgdriik7IDh9tKgbCDurmDs9szr7PluoCOIZlDCriqi6uqmsIzoNhbrMDNnwUbAIXKnNibp3rQYTH5JIdwNIWqm6iIczshoXLNrTumgQWtCHioMuj-qTuulOtXuZEjLfoeOlPnsjIXgesGGOsSjduYdpJsEjJgUbNgc4T2vhvgYNrYUWI-uOOiD4YSvDKQSODKOKl4arlJr4cPkOj4IEeZIYXqrpFEd4QkREWeF3BYWWEjOEaLFkTJL0A-iWOKp4QdroUQX0EepWi4bHCbgEZoeZApLpvVEQA9msDKEiASAAHxXSszmA2YkHdFXaHjcBexCY6T5bbrTGGxdDmQoGszmToEfjcATERxRxrB+DjEGyTHCGLgzHNwCSgDAGlrqguCl4nywL7xyEGEOGmE04MJx5SD1RFoyi07HpNG1pqxlHb5+YQyxArovHdy3piHiHDGjDio7Boa5yarXHdaBBbYPHxGdq-F+F9qEFL50DIm3FoktSvLJq1FL6ASqaNF+EtF8Q+agAVHvHwZ6zHxEmnbYyj6WQvgsknbDRfIUJMqj4k4bbMA8k7bsmcScnpzCmsm8nfICmcQ7DbrpSXFkqzY85fqDZrT1TgoyhQZt7ywyT1QgSnSbQEmomimijcDgp0ldGHE7GHgmkHE9GGDGl0nVGZYq7gqL5fC96IkQyr4xDr5Ljqheh+DbHZxrBQG0He6Ooi6mzg7GZ+zJon5kEj70RxEEqg7Ub47kmSCiFaHTT3aTFJFi7Hj1RdwyhxEPYdycJBwEEyQPatZuxZHcDVk1pNmUKSRkH1kohIxdwFnpYHbSkWkJlrSNl8ltY-zDmkLnwTlXz9bmRxHTn3HfwdZa6DbempEeiSA2YMHzbjYzlskxqamubjldY-zcmHmyn8kLmPBxGXkrkcJrl1m0GbltGCJPTRa1LvTxZfRJa-QFBpZBrcFGycCJnZiu4azSAjgDnQiwjMCI4T5yBT5+Bem0GcFWoviSrF6l4mq6wFp1FIUvKoUwY9l7qjzvagm4WCzR7gXAkrxmbpy4Cbw4Vl74USaFzj5fyT69Kq50VMjeo2qq5+CGrKYVCt4wZ8UYUCVHpCXMWgD2rkXkbXL+kDhr7D64D8VAZnhyV+DpAxlkrJmmwtkijn5aXZopkjgFrrRmViV6yWVGz5HSUjYMVpwkhdz4rGVdy-oVAOVn6npOWubULXpjD5EGXaEkCYgRwwyqXqWnonm9nVyLhbk2bhHRD1YJVzEIaqwpX0GRWUCMDNL+5PK+DoWiC9CJV+zMTpV2xkU9QbQVIglgkD6BklwyhKlAV6TwVR4lWdYUJRmG5aVyzfIDVSS7qpUlUdnT4lXdAVVZU0D1w1XSQMbkaTXgFLWzUNrzXJQqgbWwU0C+n94BlD43YjVdlRnuDBjMCZVAlMi5yaCax9XlwZoGTeAwyPU-jLEZgLDMQI69VzmhnfhHA0GXWFVE4S5vUPU6BPVuwZoAA8GI91H1wNUJ0Jz+T4pIAAKh1JVCEG0kxvgBOptGyOhmsDsBogANQXF4nqBaB6iwYjUiBU3WWU3U1z4kwwz03cCfX3DX67DW4v5Y0424AMBRTBB8aE01pbTiiJ7kBk2GSgBU11EzAc2+K4AM39VM2GTBSK1s3d6q1c083hXTRWS8AdktkA36GuZ5UDhCwdTsg3WzBOz4n0wA2jVejuGzA4YLFu2o3fXa5212BpnkmhpRVaCxWtXxXm7K2SB3TfJ4Q1ww0e0x1SDPCqw80p2x2mn0yoSM0RihUo10nlFpGbg5YJ2NXGEKgtUnWxye0zDo1J1v6EA0wpjOwULk1F157BGVFlj1RLUyhpW9WpGFHVwu00ZLVTWq4zXelj5rVjVT2Gxb7F3L23UB3MgO3vmdVFxRzm2cLfJdlW0og22B0b0wE17L5XGu1nVA0e2MkzDe2sxJ1fX0QzYrYn3B1Y6h0FXh3V1BmiF1Fx0UIJ31y+0x0LAUT1yfVdl+0S5j0hVP3yGLhG2AmCR60zBYRl0awSyV0R010uaxEC1PiW2GRhQt2hAA3-7Fk1pe4oP0l2Hn2zB90lUD05FLWGZtEj1+xwMT1u0L12y4m5kT3rUzWd2CQogZTVw5bv0pXdK6wxZ1IfQJbfTJYYBb2h6p4R4IUV4x6aYRr7JuWv6GQp5p7kBlI+U0DGOaMsCgneAlxLY6MzrZUIpjCb6cz1SWPp5aPAqOkvi3jZovDWVSAvB3gCMzDZpViBOSBVghOL7ZqMSRPviPgxN+NYVoIJNoLJPY5YWibWWia2ihO9DZrZRyL8CNDWXFMzxtJfAFNSDZro2RPo1lg1PEFYUwiayobuB0AFptM6AdNbSPDNPaVkgU0JNSDcCcB+CNDqxDGu5U1VODPZphKjOSDjOTPTOgCu5hKgDzOxNYU0h+CzCrPbPrOu7kjbOSALNYXADLNZATPHODEbOgBgA7MpPAYACkNzRzUzDzrubz5zoAlzwGSYozXzJzCdUzuzwGAAhKaCC3c98-iDM6ADC4SBC68ySKSHDZ8-C2CwjZIGi1k8BnDfiMs6Cz86AMS-i4CxiwMdi2s+S0MVS5CzSySwc70GS4i48wMYSMc8y2SFCzc4870Jy5IFC1IGBbeGCO42HlY8om7QSOZB8vCmwH4B46Y144yPOtKxo54+XsCt1u4HEm8LWgq48Eq6UA83EzK549ZYypvoMzMGqxntFmCPVeiE68wMfD4+nNmtYWsNZX60eDPbmUM6SJAIQKoj-oE+G5GwSyG48Nmj00wLAJAJE0mymw6-G4m4IL05Igk0m5IpmyG9mgAHL8Als3NlslswPklSu9QeuyFuDbzyv4iKvJCq4POLXyENtet1sbQ9tjZ5FjWmubDmudvNouP-j+DWvquNsTzzo2YK7qo6uzuZ6EDZ6aBuVaVLusBMD7jSBJ7h1xL8BDj4kaApAf13gNup5yJ+H2NV7BuzBMZbumAzAqmFynhsi4NBlaWHXOrHVBlEEInsB8AzvOv6tu1+CZ2SADv7mlya2Pu9DAeGANvKKUCGvGtRnQfTsruR4smDWIdSAV2gkmG-0lwBr1SNWaCYiXUg4AdtWEiftm1kenqutRbePflxafSJY-SYBb2mWOBkBMAhpqDDQwjSBwrClaUsxowYyMpSe81y6J0DyAIKda2khMCs0G3q3KvwNqfrHKeqezzYLoQcXTSBIwigyo6pCaq00wyzGr2RLECE0jBZbZCB7EDEDrNbRU2tmecJ2kgaLBYaLk061U1OdFtliBdgYaD2dmd5A8ruKwZ2eaAbtRnPuJc-7dAkSVXZiq262khki60Wf3KMDWfCFKsZf2g-5pex7M1CCkh2XTtyAmFmKLRMbSdDCP0dcrGGTbpuSs4bIvgdegBKxYB0TcCibwMdciD4yGcqgzfIsORWao0LC6cjcGQhYDec4CeRJngidlTidwo9cZg7CTcqBS4kbzwjdjfnGSB1Z2zt6Mimoa7Xd8Z8Tjep2GRFdU2ZcKhtfrc56tnvd1cXF3caJaddY9ZexPdlRZl0qLdK13gQ+61-euAOCLSMoIEzd1efe9C0hmQCToHVcQpGTEjWVMaqsk-o-SBaSo0k7MQndKd-dkjxP7Evj1wdf53A9SzdvU9tfFAkQk6q08+reGQADkrNTGBXkv43d0KXXNHXTXaPIa0gEKqv3zQVJmCxdssnT49cGvkXeuWFIQbALN7QLNkUrkmcVQXYLN0F3gtI9wJEP1JPunhv3PHvzXSXNPWkBnLPBvI4aviDgCXvKvQfUz+1oAx7p7xA57Q7ZB6qNQVGiBnXqGstV3NGRmvX2al3LU1lauP22ZRmhHkgSrMfwYcf5AKQWRSfCiVQaXqfinluI2MP2fFO2aVmhaUPvyj3Rm9PuwVKUfGvF8zu9m1KyfVQqfTxWQYcGfS2-f7xfdKlFDhI5kAN3Wvf3hKl8P88-fgJ0rk-jAgsxuMoSrI-XyY-dfVGjf+-sYRRK-8dm38TvXzEXmMQ9fx-amNBjKE-n-qcQeZvjMB2Bysn+DkNJq-w-5UYABOeAzqAKAabcK+Z7avgnysqv9Ni8A8uKXyGZICq+NfLuNfyn6c8ge-fD7sNmqqP8KEVPI-jAOYx0kGS6RNvlSgKL30s0WFLvm3TazQ8MqzA+gfQ3v6SMh+4jd9tNB-z2Bp+WvLFBgWYG9d647fVnA3QswkN7cn+QfkX2Bg0AxBnucxjZSloSDcuwJaQbwDF7JUZBw2RQVSibof5Hcu-DsLoOaI0MRBeQcOF2GGikBKAzSZgAYA4CGAjMzlLQdP024uDxoTXbwahlt4uRhobePwZIKbQXBTKegu-iHEdT-pWAKkGGNzWM7Xgb6f4ZysxGFJdk-wTXdwGkPDrCkrSpQmGFpXrglD2AWgeLhUFqHpDN2P8JofUP8GAI2hVQ4oZUM3a7s2GBQ2pIvWcrhw5QgwvaitXSycA+8hgQYR5SGH8M8hmxVIXUIyFzCpI8hCYckMXRwdsEKuJQUtTDLN1qKh2JgPYjYDeBpAx4V+LwEVzMC766RAzIvwYYzBtSvQ3Ur0JYAuA2GBwmarQ22pdDNACdQNnUQWBEAyGgsSBGcNN6XDECfgDagA1RC3CKhqwloR1kBFL0u6wkdIkYJYG2gkYzENoMiLkG8C-ARIiFKYOMGYjUG3dO+ttW5S0MOi21ckanyj5zR9AsQdPvYBNQcBKmwhOgL2F5GlNU4dAVaLEOBI+1DUvXIUY0BFH8gkQ-vTYiA0NTYD+inLdkQtC5F+kZR-I9QByMojZAVR2HJfDqMFiiiuM6yWOA4DpiR5TRhovwKaNUBiiDBesSUWL0dGiiFR5ApUYOiNH0Q1RQxVgGYhtEikiwwowwB6PlFG87wAYqrPNE5GoRDUdBUtHqM1G4AZ4WMdtgHk2haV0xggPvISnjGYx4xTAc1lnhzENCv8GYgsRqMWi1i0+PtVMX7wpyoFhsQY60foFtFhjZRhgcVCAybFG9YxeY9xLnELEcjix+owOPGIERb0-2LAcGLBGJABUshuIB0YIHhEzUtSvUQER8NRFfCeq9WcYX8JdGTJ3hZ0AiC6F65-tMhR2GiKAAMQxoER3okcYoFLGCANIgIlshiLXGPjjx2wwuGpDMQuA2mGkNSD+I3HDDxRX+Zhpt1wCPx-WaDJ4Mcnglm8DO+wQ4GMDAn3jjAiEr7v3R3Jtj-MTEHCVeOmF+k9QshJcb2iwkPiIJ-DAzrLE2LeZRuysRiY+G4APixegEhwMBPfHQ1Fw3mbAV8EXCcShJDEfMTxLfHqRoaXmYwGJKXz1xRJxo+iBtQH5KIUJjXJwRUGirUc5A1AMcQtHGZDVNidzWMdumNp5BEgbwOoKhhcDBD4E9k5wH4BH5YSR+G1LcRtBAm9NL8Mobia+K8ncAXJ64n4K4OoBQd42gENyceO2peS9U4oA-AFzglAh-WvXVsazh0neB3BLgWsZpD4lxSG8AaTKaAExoAAJSREwAACC4AcAJIgABKmNSAAAHkS2yAQkB1VSpyBEg4Q5yO2FeR+T12Cw0cFBNoCFU0hXAZzEBLF47QvhdmAAREN6kTSeJA-aaUcBXCOS0QTXFaaMG6mhTLSWlUqeVKqk1T6pTUlqZtLkAzSuAc0nqc4D6kSTFAWlaaTlLGn2ZHMtqfqfIUIzzTnASSJsdZidiWgT+30tEItMUB0ShpJ42sVHgzFKtR8D4wmoMWVpWTpktknaZEPnjwygo74F8QNI2ql8Ra0ktGQtP6ngyUURUh3p61wpmIZQAABlGJOwrQUUdFCMC8Hz8yo5AQwNLBZmjYiA1MwkBTJ5lWjzEVNLkEdGrgCy2gvMhwE12TSMzDsJnREIMIFl592ZREYacxC26qtNiystmcNA5nc81OUfWQF7HlnGgVArAcYCzLLK9QdZ6GTPiwDYDtVRazMzbCrL1mcyZI3+WQMwCihHA4UMQywiZieH3DxU8ObqnLPKFKDbZxGc+BzJrZhY2JT4eQXtmYh6ifZfs3Tv33kkoRvZTAX2Z4DhSUiyBp3NQcqW2ppy85GcimRZIqAcBuRnQbrFn0sFA1bxpVdydbUdQVz85-suuo8ICxag66vQDBgcCOA3iFZpVAeXSI8JJVoKDAf4ViJCL0RtSu45ofuJ+Gkz55XtauO4GBEXjDwmdBYHBOLCZ0dgXcjOZ+NaHUj5I43Bki8O2qJzDMIgUETnIYDpyC5mc2PHNzPnvzkqQAssCAOBpzz2iwg8ubnO7msitJB1MiSagokl5aUuIMedkJ-CkyPJ6IHcYSE-H9DeqR4xejJCwg7iUWOYNMHfSsJnJ1aUkj8Z8NaG9D5Cyk3oMgsGlmA0GDA54gZh-DV5ySNgckNwvMhvDURK88OlgsPFHAN5gcv2AQr3B7y1gocxYPTQoXQ0ChdC08XuOoWojCCJEDRa2BmpwlB+MwxBauJvqiLyidhLCHXMRIqB54DCnBfw1mpcKeFjwJGOpOSlm8giwkF4Z4WgWzCVxd4hhRMOLr-jpoRAORQFN4C9heAyEduSeP7qwSNJvXJxY4m27ADdgI8zCWEsFC9clqDEoiXwENS4T5gui8ieDDgURwEFoS1VhEu0WETDsfAVaKRJmHziHkBVEpYiHCWqtew7kp5mAG4XkgslDyJibkqVgjZmI4SsXkEvIUBSBJfopfAJMFDZypAYyhUAFK8xTKIpswLzLMqUWPBVJBneJf6yj4gwKZmME9LXWcrIJ9GhyKkiXHxQsydBIoaePQDpTVznKjKauZWJkDcy28Ty4aVNxU4qhXlYvXPp4F9mNBeYs82kAZw4yAJ-lUfJdvckOUUznJEfPpTjMRUOAFQkS3oPVGnj6AXAFMmUMbMNimzcQ5smjNXMNK9QFl+UhKWvzvCUqApQUlFXQruW-hsy2KkIC7K1BzKZgUU3BSeMpU+SYlzixJUhLSkt8vCwnCPpbM2xt42VuKq2UJIyl6TspTYrYmQoVCX5kxZKJdhTLukorGFzlKGcONhkUkWZDzZWrCo5VSrSqJMxhfjM6neSWZuqoCaTJrknQb2m2DXoFKRU2qeGA4g1U2OhmCBjVmwaJUMXFRQzkOH8PkYYEBlEzbpXqtFciudW2rNlmwWMdqsdUJq1eSaniS6u9K+rpxUfcVZ6o17gyDJWkVBUED2AWtCQO0BuL-iNhe9SQxaiPoAVXrVqiAu805NIopwRwbGzAEtRHzLX1iDOHamjAkOaJZqIWg08ta6pGwvTjQzmNPiL1klDw8YuMdbAFlXWaqP27g2QHGv0m7sXprZYGR3hn7ndLpnARdetI7x116oHmQkC9IcycgnMN60Rm5iCDOdrc7ZG9eWpHZY4npKq-4IZBvW-T4xba2YAEF2inAvpN06gGBo5EEUywjPU9X4FjFfrjZZ4X9fWL4G0jXMVgJSnkDUDtBmAAso9UsB4BfKUQ7je6TQEJDMqHl88MlSiHSILrSltGvEa8N6gPrbMXAZ9QqCcwfTaGWKhQJho5V-rW2c+QDUWOA2kgKZCGhaBBsdaBB5Q1y7wAptiBIaMwzEBFVkHWYYb2yAsnDa4sXliMAlzgtgILAFntAD1NGN9acoFwsyT1cGs9b1zCGHK31BnMITeuc27S3l3m09b5vRlnrXMxG-db+vI12Ygt7YG0r1DdhAyXNJpA6ZVOql1SGpzU8ADJGS1HS0tp01qYkyfA3q0N6zeLbZtzyr1SQLITSYRoqDuanNVG3oGFtI3czIt405jZiri2eArNjqmUMltqkhQAAMpIky0og+tg24bb5O1kszitDzUrTqrdLVxKtdQarWoyMIkcFQIoOJBXmoINjH6O2pruEU21TQ8C1QnKpATeWqYjtZQV5Dto6Eqh9tkwoNDg2yhbbgUJ2hzfrD23naDtORF7cdtu3DSSRcmJrqpj+3Xb3tw0ykeNQZkMBNAVaQWJ6oB0nigd0Ox1DyhUiYYjYSO7aijv818ZYgk67HavSh1zrNtlAC2VdrIBRkC1HItPjg0p3wIGdz9aEjToWgGcydFsy7dQFe1U6VC3OqaPgRjotq0VGJI9Azr52EAedtadRfG1Z109OYUGskKbxZrC61e1lDnR3npmOoXt5OmjGDqp3Dq-V3ytbWCX13wIzdzOmYKsVhJtihZIYqNeGMva2hVd-uX7coCl0cT3dAuzYZNXrG0RDm6zHXZzt5STwvd4Oi3TLu7xy7h4iuyrdIBV2SEJVaK8pu7t12usYdcOlXAvhnX1j-VJYo1e21Hyhq8ecYLrlehd3TFYd8OpPWrx56C7VljWrQJlP0k5TVJgvTnIqqynlq+GWocbmREVKsx-dMwaPQ9Fj1W8E9HpAda2r8BWhM9y1XcpwDeCBAsd9w4aXEXR3S59hzA8Kd3io40cuU9HGtHOtwHx8TKq0w3dOOIhIxDVMMwvRmGL0ZgrpznFXE5CbYUAss0HEMp4HBlcrua8I6ZsaIboDgd9qyu3NYIsaCAW5OwE-SgKyJO8a24DJvUqu71PjIc26R9iPvBCx6YD+AqSBPpKypAa9ZTPwDgdQHz76oMIezBU1KYygAAnOYCdjUHV0Kqhzq2G12qRKm5algGYkxgz7e5zxRsZxuMW0isIdGs0DTMHlSAmD3AcXuL2ChoAFDSm4Q24vFTSH+xV83oEwa4NqIMYUMwOPIRoBbNRKwClepIC0NQydDRDPwJQZ3gcHSmc6o4MCtBU8Fs4JGi-bTucpy7R9KmwjECtKbOH7YwUF3RTz8MgrXAs89PWjqgFVAiDk3QgFBsHAOAaYEcLLpWtAB7AZQF-RoFfz-4p9HkjAOI1BoK6mAneeCzcAsmSNqI2khCnNMlLzh11pDpIMJM0enZH90jEfMZEUdADNGlmTC8yNIfD4i69g2oOhnhrkhYRf17gzwahks3CFhjddOrZths0+aAtLm3HOryvlYQKj39H-Et0JC1G3qrkSQ2YbsOk8ejLRm9cEFmOOzzjzRtKKMbcUKR+BjwRo7ca2Ya96iDeLaG8d6O0NzDKq8NQGuDWAQH93eQY7XuUmv6J4ewxtT-qyDAHXo6zXLNGJ7yJ6S1haJA13pynmTGE-ireuERCB0AooGMVgFButkbQMjhILIzkeiN3TekRsUk-1GZolGt8fdVhjBMToV69gGJmGM3uVVFicTC2qqtT09VQnY4MJwKfCPZN-J4T-+h5sic5hFSxtQ2-Le1IBn2qOVTq3NfquGn0BmAx6j6b12mkvTU4Oq0GR3gM5bSVwZpt5Vac1P9Fhpyp4bedLPAmnut3gLUw9Lz36jkOTur4NJvHFPq3p5plExmDk0syNNtIUvgGcMmazDI8m2saUd0y5GYjnq8XvZO4CrKAAOlgA82+4-SUx3AO0EWjoHtmazWPPRDkOYIkjBVe2GCBTMqA0zGZ7M7mac2RrCzxZowOxPwCDh5CpwZiD2dAAAAvKdqABzPz58zJqDs7Tz-1lnhzfEbvFWdJDbHGA3UOiHgByKEniTT4dM5OcFjTnFo8LdnsBkMTBR3ALNYgCzTN4mBxeYIGwA2diO7n65rgDwUWZnNHnQ2p579BeavNO8lzaUIAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
  (if (rule? assertion)
      (add-rule! assertion)
      (add-assertion! assertion)))

(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (let ((old-assertions THE-ASSERTIONS))
    (set! THE-ASSERTIONS
          (cons-stream assertion old-assertions))
          'ok))

(define (add-rule! rule)
  (store-rule-in-index rule)
  (let ((old-rules THE-RULES))
    (set! THE-RULES (cons-stream rule old-rules))
    'ok))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEYLPUcoMhRV2UUgl2R5dEWhTForID8zpplDIQDmehzEyH0V+Y6DjGFFwcQAoBrilEGJnnPV6bpXGGlpjYAA-O-f4fI5CMVUHCL4WiwQmBCdYIix0XRBLNngDh3hNwXFAoMRYhByCSmIB0UA7RyByXwMwNgpBhibWWqATyoADAhgpJ5NAHTTafTOvySKeh7pwkGHYP0jAOghx8dPfaO97EhmoGMkOyTQjhJIGNGInQlk2CImPdQAyZBDO-M9JsIz5njM7Js5ZhyTkLKSXTMIRE+mkD2Qc9JcybmHyTk-FooE9D6N7PFSK+NvlZGOBEvogIABUwKZAQvzKEO81VqBRUIFtQZkgeCDDRerHxoR-miQ8NC0FjznnosGC6E+QLHwejppQfALT8WEpOEcUAqzqLrI6PoumX5WXjU6FUOm1RQDyFkDiwo-zrllOZcSrFZL2waWhdSu51haUtIlccU4PL2WcqVcozVDUOj8p1YK4V5E6w6s7jiV5oyOWGqVbUAVmJ7U2CPvQbwfQ0UYtADK+80FHGiusHi+Vj4iXUn6R62VLYKVyDyVkRVKQVUGCDaBdVzK9WdG1SkWQlpyWAujdC-oFydXLFWHoQG4bQDFp8N64cjiTAFvNQ2lRkbc0xtrRCAVQq5AirNXTcVbzJWSlDU871M4k2xvbTqhNaqmUstKWy-V2qACQdMs0XHAWOw6WBl2NrppWvQe7q2+rrYWndoRR0EqpR6bd1hjVdtNSe0Iq6rWnMGDWiddqllOpvZiO8OM6DLHIHUvQLAM3KLYDOwEiLkWLG4ju8JUGUUPpSetFNQIYj5WFEhsJ4hXWMEqae0A2zGDMB8CwFMABVYgUVmGMWcNkiCTRnDQoInCmwX7lF-oA3UjG-z6O5MZetVQ91W2-KqP8ipoK+OVmhXoSDGRoP5n+YU4pzKpOvhk4CdDbr8zmwiIuPQrMnHcKdgDHkrMUyhIhrpqQMRgww0fPurQRmt5SEMNEWIOoAOGkSAEBY+nPNOY+UXWzsNJBopRI52smJ-mDNBQF0wtrfFQSrfssw4TASWcI16-ZGM7wVMiHYR4zzPWDOxWavFoKKnFcxfs9WiWvwMBnWmsp4SShyCy3QXLSdDDzLGPyN1r4YiSBCzDPQ-W8ONH0QmiII2HPjZhN5ntNgYv7NBSNsL+zkQS3m5NxLuL-TFNII4OwcoduQTc9kcDWGwj5Yu0VwZaDqQDdoHZKIl3WMpGU88x7GHGivcKywL+J691neIIMX5xwAB8oAjvEYtKwp7E3ztvceHG0At7u2Or7kXHrdgxbaOG8QQndn7HaL+QditWhlrOGZdYjQdjXGJemzZud9mfkAep4tpZK20rMvW+FiWHPvDEHfWEf5sOTuWg8Xdq7BGbC3ZRywb7QIHH-fe6L0IX2Hsq+0Wrx4QPzV7oceDswRxocS-h9LxXaOMf3tCLUMkSdbFjBG5F5zjsCsxH0PFj6WAsjFIACoAAk8KSAAILgHAHhAASgHyAAB5AAcsgZlbWqjm3wPYOpCPfuKyF04QY1TQTu-mM74nsNIuc6WeE-LI2Eyg8zvnkXSyiL5fUNGhvMjnBt9KDn579AIdmq-MH0PEeo+x4T8nrv5T7Dl5hvXxHMJG9U+FyX7vs+Zd6H55tiLTe61AlB3rwHZt-egBH5IaP5GAAyeEU+gDTz0ikmfAPDHx1kZfClheF4jE8NfLLZBz6V6r7V4z6Wh15dAOIf5V50yt6z7t5v6uSibY5nQ97RqQGD6YjD4h4X7X637T616s4JjoF76TJrQy6sKLCLCygHBIYK4A5b6s4bYjy74r5ODHpy6FCAiq4y7gj1oNp0GXayaWZmK648G+54DzgMDVJxRQBwCIDIDoB8A8CP4SgqDQSgwAiyjKASIe6yAKBKDDiRixDMgXLhLJx+AXJEQPDogmFKrwbyYopvhIg1rbTVhbb7SgjlCDBaG3J3JWFSC9iBhUTZgMblCmFCrWgKzphBHPibiaHEDaGWF+bhhnigTBEbgIK2F3LhJqHRogQXjgRxFDQ+FJERBmgyjrzKjhG5E57ShCjxGJFKr+FRFMyNAsyEz4IkxZF0w5GRHYy4wgjRp4KIxdHUwlFNELBzRhF2GCbCbziloXRJS5SgjLRULxB8EcFhBzSeJwheHXZKrjF+EWxjwxzTHZERH4wpxBxXH+yrzlw9xeFCoJG+EwELB3xnE9EXHRrvHFHPGlGaKOgfGFC9H4w-S-GNFHFlGUEYJFFVEzHoK7G5GaACR6C4IdEjFbjKjeHPEbE7qix7Q1qZzyLMjYnaEvGFBEYka8iUbUbUC0bJxwiMiqAww4ZfHIkyAsZBa9LQm7HCCDBsJVzM78yUAsCTQhSSDzHCBc4pBfgInCmilUDimSkkD8mMCULvq27iB0pb4BGsCLD6SlISk+yokkDSli4U4IyzwqZskaGUTXRSm4mbFCowwCSGlaGrC0D1H7HmqUTLFLTeCZwOnek6psKOlOnOo+xKAJEekVF9BSlo4WpkxiyOhQQ2izKiRyCmAPrhLAw1pRGul9CWmZnklHHNa2qalLbeBUl8lAg0k0bOB3jDxUGskIkfYO4qGzS9DuGEkGZwx0CkmcpfjMKsJqmZysyLLnFtabJER7pIm2klwiJqm9mcIDlhlKr4mKA9kIyLmULLkhwDlckUg1H9HMxDHol2Lgl-7NAJIGaGEolayEz8ydCPE+ElkpAgkaAaEPl8zFgvl-E6rbJ3nPDfk6yZl-naFdZFw1E3HBwDk+JCmDzDyjzRy2yVygbcpzq8oGqOqdoipClhilzNz3FoX+phBfhzkolCKEV3H1F1z9A+GJYVnc4U5UUrzGCpliTMonoUXPCsVly0V+D7kMVLJCm5m+qokLmRDsVvqgYzBrR8XEgcUyB7Zsa4V246rkWREwXXbbn8WtyVz0XPEqXfr26ej-IkDlGdCgoQ5m7347zp4Ipdl7QWWIx0jPkHQTJD7GbTJzweVvnWCtY7wt6U4louUCj6qDAbmSBhXSjPkuh+VGjXo0yO446mRE76T9ghGbhrFRapDakRAwUdikV4qCWgo3F6WMg5Ua7nwLCIUjyFWCX+VhCBWlAnoPKUHUEGBpXIhFLpFXiKwKU0UWhoVrmNp0DdUZV9UMaZxPzaXhkNq6VEUZxoU25qX+pTKBGlhZWZFwkNrwY8ibWZUZGvjwjVjuhIbNH5FgTbUELxDXb7X-BXVTW5KnXvgdjXZEQP6mUpVnQ1E-FjHPE+L-JlSgr-zXTMiJb-JRqNbJwTW9WxFL56BlSi7mUgiuX6ow1RUxVuUHDQ2i6aXqEollSjV0ywyuldDunMCxmlq5r9mzqWXjIHmQW-WRFgkA3aGkG3RCZjBiVplYY8WzKxhyydGYnrHBlhCvnM1HmRHlECWoJPEc3lYU41qgoC2y3w4uEkkK2i7lFOF5HiXq1yivWZCPE1oDn1ZrQ1pS2qGRFPUI23U3za0+K63G361pl22FGViu17Gk1AV6Ae03WQSa1Yna2jXCWCrWDmzHkHYxGe0O1wVmou07Ru0wSHXPVe3J0+2FAC1p321B3iVa0+Fh1GWegSE+xSE1LsByFcCKGdIdlxg3kwx-4skzpRAjjW1iBPzzF+n2ABmDDE1O1eUNiAwMwsD6mrJGlfQG47o92rH92AIHLh3WYKxj0GldCSlXkmbIJxkpjaTj2GnziWJP6Rmz0Bmol-5GwSz4CDBSzT52kL3n2c04iX2omDB1bIHH1fRRnKAxn1H4AX1dmqzX1NKHkShPy82p20AFkAORIQOxww5QMWj1zfQpkuFvpP1JnxhGL+2+pmKoO+pH0ShwP5nDXoND3EI-hlAyUd3OCBzVQ0i6Df2-3DU+EYNMZuhL13h8VF7oisPkM1wHCcNJx0PUAAEeC8k-6HSD2hCYFrR7o8NSNL3-JhRKBj1IWU2ekWigoP7mxd2SOuGKh02El-57qu1GO+r8IZ6SN62BmSNTAyNyWSJNgKPINMCghKW2PF4WAOM1UuguM0POnk1MNU20XJ3mNdr91UhjB8OyPD2yg6AjAGOZATIzpZC6CJPWgTkzF7p6OeFmOvrqD7mlRRPf1NVbLxTxOJNmNmAAA8FT6TwwODXaZTlyVZ8ysmAeGQgmxAaUFC7grcycKKsCnQREDEAA1DTE6W5l7rSrsdU6ABM1-ECAs5M5sdM7oLM00wfA+pSe04CJ09QAQDIIxJKGqf05VYM9CZQCM8sxM+LeYe5mpPgHM2E2YIsymCs-c+s087sZk77gig4YsHrUpUk3IAnT+sIwkd0BkFtDE3THeONTkKC+E55SelMm1siy0+cVodCxwnoPc9YCIwwzoME5oxXK+cGURK7ahjqNU-c+EjqH8-c1S2lYhJixGlQ4UwmWxiJdqVoahio3VaS7GbJTYG02sMnRRsQOkKsgydWKM9VTemtUtikP8go6Ctw-o8Jeag1qywozY6iXYyTTuvqz2S44q+jljo4ziDi4irCyXT9RSEnW4ZrZKz6mC4PRC1BVC3awZoDSqwQN1qy-k+66izq95Ri3S6ejkT6zC-i5sUS17sK-URS6elS8nTSwhFGwRuEquoy4UwU3IFixSbDUizOK8xy1s9y0q7yy0vy63ecEKxoyK6RaEOK6C1KzK6UnK4qC2ejUKJycZejsqyemq5Ixq5JQo36xBWi2QXq9Y2Y4a8Xsa42qaxY0u7-ha+xuxuRbG3i0vVUuXbFGwLIZwAobwBgPXQsPDCKWKWMMqSLkolMlg1fCaWDkCDewqZQCFIQ2IJ+3e8NmPVkEKHEVKU+2tMdPGTxhTv+4qfe0e8yoDMkiPRqEszYBqA2uwSkCPXqGh9YHqJh2uSPZWnhyFQVOalh1sRHIeKR4eIR8hxHDwnIEs0x0qpR6ECPZxmGHCEs1x7Emx0RxHOK3h+KxR4J5EhtCMKwh4HQF-JJ6-suAwHTOxzYCPWM6RzYHoDDIMHCKbtDiyRM2lKACp9YCPYZBp9YFpzp3p6ACyYZKAEZyZ2CrJrCoMCkFZw5zZyyRCg59YE5yPcABZy0tp551DrZ6AGAI5+J+CgAKRBcee6dhcskxe+fGfReyZMoacJdeeoa6fpeAgACEJwWXIXiXtlLJRXzKeXDHkSNT8XpXOXdT1g1XhQI9NTRwFn2XSXoA7XzX-nEckO9X1n3X0OfX+XkOHXbnoQXX5XoAE3Y3NX4KBXQX4XoQtl1gBXNgTdySEISm0QX7SpkZZjxwSyG0W0GoBS+3AHkhu3MHV3cHk93oyIHgVkbSjWp3m0b7YXxH93378DkHpphoK7Fav3h3X0vcWAe3t7D3h1mNPII9zWSzzWTn81qnEckAxA40dEPHbnGPWPw8KPqPzngI8nkgsAkAeHpP5PhPqPI9pPeEpH9PNP81I9ieqgieQXbPiexbmxt36YIP0Pf3URJYTcYTJ3dMZ3qJYXOo-9l3gv4psPfPhgAvB3YwadhJ4vhQkvdKtlkHQPKvAHivDlSccpsHQvD7qpJLh4f+cpQ2rKjAcgcISbVkqgag410QQ88bM9oPLuQH9xoHppwPoQFCV8lQYQ6iOO2IQLzb9Rf+ZN1Bybw1WGMCnVZvYPT3IbBLafavMdRtFbyfHVpS+6Pvj3lY1AL3b3gwWfJf6vFjzPZ6jbajI8MfSD0H-PKjOg1UHgLM0ZITWjzKWajhLfFcEIh74Px7VdZ73AmAV7aYUQJklo0chgr4G0jAr8V1m90yng3gRylDODS4oE5ynxaSboG-3mizkg4zDzMzzzu-bLZ-TVqSYCnLB-460+2kG0o8yxAkgsUQXuYbNVEyEdhYCzwNCBgfkqQFIA2cGAEzMbJANQyAgGI6WBiKMw+YTMgB9fJVIgO-iPNLGd4NmApDmZ-9dAlvOmiHwIEE8LAi6WJjiG+YrNAQsmFZh-3miyBv+z5SXuQNmDDxSB5-IECYEBDT4KBI8ZaErgoSb8MWYgkAsCB3iwYS2nUHkGIK2CbAt0lnJjmyzEFmAgghyF0BoNACVcgQlmJquEjv6KCIMlmQtOEjn4RgKAkgJfpWFX6vxJBAFFpFCVgSYISYig7YCoKKCuBPCaJNmBiTGxqlzk16dLIwImZCDxg3gJXDqHkQaC3mNMJKssyv6u13CB0N9k92GJ2JdBdzBtAxCv6RCRBd-HQaOSCGTBOwCzbwTYHBDcRr0M5LgbsUgy9AlmFCS7vYCQoiDgkrxCICDmCEgEhBsmEjpFR5CxDghlbDQW0MIFRDGAIGLdM0W+ZlCjBQIAAORX8KE9A1YXMOv4bNb+YgwQQ0NsEjhGAuxaOMcPEEzIng2-HwDqFOEtcieI9SSEs0BDzInhzCYUD9m0wiELEIQ8JAMJuFHC8uTaMoLcP3yFDohj-EHu0N2L-DvAgIl0CCMmFIUQRATF3m71IAe9LQeZeGJFHZjLlN+6COBHEUMwgEHhVzdwZzELyRkshUYQzEH2sCS9URVIdEZQCHhKV+YOI6kKQLxFdC5Bvg3hnDCWEj1hCPbXaKiE8KGYIRrMAJrcPlBMkYY7IsiNSDxHwV8q0CMkUSIFHao1WR3DNlxRXTJ00hfgqkeeRpGaiVKe3DkbIC6BsJQUkvGUfCDlEKj2YXIiUSpS-CURqWEGEjv0JWDXCEI2IxUVaJHLqkjoz-YvpaPryjkj+JbD0bqNOBNDDAsg98iDwjHWjRywVWMdWAQGMj3eLIzEQQx9ElpMxioOkc5xzHMjWRWI5gIGJMGlCJR0YlIDOV9EZCM61YS7qmODG9x7ca1IUukIlGiovwQopZqkL2h9izROFE1AOLWhSiscjrCUE2WeCGY2G17ZscSOP4IQ1xJbdtuZlrJUZ6yzpAIRzFZILjB2H9TWIg0qrKj+GPoWcgKJAIuhNxjYoVMRnaY7jAQdZOkrQxNH3BnAc-VuKeLnFiBQc4wFhF4FYQdBgwgjAUcuIXHKiIM82AQWeKAkQS+8SOInNdCXHXjDkf4y8a6Ij5nQn4HgWzF7n36pEsghbEcCY2bFXUKJjiafERNKRJsrqSNYiboD-w6gGJOMNifRNYkksXCnEr3H-hdACTuJSE5wCJJJZDYp2NEtxr-mXHEoZJ-jMSYE06oySzaskv1FhJybc1kovE0iY+Fon74lJgExjCLzPAokdxCjQYCQC7ZdBFwkgepKUiyCMB9E3MDhIiWgkBshS+mfsQG32z88JJoNXiYTglJas4Y3+YvEO2tbzBApTWTCuynuqzpbJyWByZJGcnLkIpv+D6gg0WC7EJJILCSdW2HaTihSt4xYGaSVRfg90foXKXfwlGDAapuxB8ZqK3Yjtw2DYGcQ6lMrRTfx7kvEQE3IIp9DSwYbjs+ToCeoRpsSBMHQDKw0CkykbKWCAUmlwhpp-AX5MFT3S0spYpYmytDkGmF8ugy0saYrjXREhtpBLJ0kdK6AzS3Ei8RkN4CyCu8wIo0wWBNPkBTTrps0nqQsAWlLCrp0gNaRCM2lZtzpO6XaThmWiPTxSV0vQP9Jmm-JSxSqcGeQRnBSx-m3WE6fgDDBGBPuNZAAYmQbLYzXSBWQQuQW14qlk4t0p-ETNlAkyisMuc4XPAZkgEpy3Q+6Q72yDQz3pK0mgualpbW5ge4MrGSviJyb4UZ+cAHJ2ACbx9DStKYXr0FIYpEDJoATiI7RcZA0KcsU0qMFKkn6NFJdjC2g2Fikap4p+qEAjLIOAyTVZmUxxBtNYJE5JOQGfKfxN4n75rZGk0Bn+3tmSBHZjTADIMHdnqysJ6rCDPgC1CdAGIUgsOYSAjnBUdkZQf2SrKcyrNkx6rSOt0KkD6YvMKc5qipNlmKBiwCsiuInMDl2NgqPQ5sdnO2AriS0qspYU3h9laAgMLoLzIjLpgug65bcwoA3N9l39W5F0ndDqE7kDzV2djCEYCGjnSREJJk5OF7n9zI56CTdZcXuhC7gy2sns38aMGiisIicoOMbIvkaCDAZRicmUUHOiwU5fZyZDMtaR7lNzGmx8rQPyQPm0Aq+RPRtKfINlzTfYd8q+VaQQGTzY5nxVmSW2JbzzRZiuYDD-KLIJZ8JT+WzKhMRpN4bZf+cgsLJxlbQkMqs9wFDn2J1IQwUUHeQgqjBYKyMlOT-AXg9l0jn82eBvEAQoXmsMYp+DxH6BICNJmUAABmN5FwGojEBAhQTcG5JKABwJxAThYXszQUzCg0o0gmY8BDZOISRawu8DT4n4PC5LGROeAySPEBI8kcNg5TLzmxGWJZkbgJzaLBFHQStg-wCYnZ3GV1FnKTljQaz+eWi9UZWCEXaNjmfC0xa4uEWJZGydgMYDEjkCvxMJSyKZD5OgknpwkKijxcxJ3HOKBF3i4ts0TKnFtfhzYt7AEvUCvwdQ9U4MhkskCBLX4zU8qTyImKdSeW30-JYUvsV0TYFEoYMFQVKRSASYO4-WV4zNR+KZAmSoJQZlAzeTwwvS0Vsqj5bWxdkMk2tK20KBfg26ylE9ExVPTA0gpjExhrrPFHIKopUytaB4FQzNZxa4SMOXenFpEQqlWSlicsr4niUPARU0younmUaVvKs5MwIlJOU9Kcl3mLQS8qKUcNSlDaIiActkBDtt2X8oYP4oKWnLDM0sl0gnzln6lEYPyNSeoGQWOLleWs-KasvRBtLf8TObUoFP0HI9SKGFWZo3JfxnKuJFytMoVNflvz3W6ynOZqX6U+BrQi2cMngAhRsrmKAU3iUsrJUhTpJiKj2UOy-C4qTZayM2eahWQTRnmxKoDDRJHnazzlBU12QWkXQqrrALjNqnnMtlKz8kNKgVROLvRakWkDS6gs0tyDWgCmr-KRua28asr2VXKNaBPPDkdBEJ3YycQG3IpQqi+CKj1kpO+pXsSARK3uYsE9SLB+ASK4OeO1DlOqkxucx1THOdVxzRlCckNerBAIKNy5mcgZcGqeWfELZw2RQLCppDs4U1yCjNcln3TYpzZnqroDCtEZFqsgFagpJ6nVkRcwAbKiFGWr3TZqlBNcnwKGqWEBqpVvcluaDKdItz1YXc0IIOpHi9zPMo66lWEE8wTq5V8LMecFTjVTyAmcpeaA4hqVHyARC0che+w-ntLz5-PUMNkCJwOIJFsoGxdqvfyE4alKNCnNOt-mZlQUD6V9b3IflHrJ1qrDKPTijAXqcgCBTAeahPVYrgVr66Bf-OjUsygqrxHiocNhE1KdiegYDVerJyIzQF9gBeYIWg2uQrS6MouHKWIL2zw1wK1BdjMl5IZr1tlfYtuoQJ7qyF1OZBVQqzyv4yNv6j2RvNnl+9kNxwvQD+tY0aS6ZIGZcVRq0A0bV1oIMLien2mNLDp3M58uNGtHPyB8wmr-JQpXWFBwZpG7RJnE030Kx5o1fVgzOllAUBNJwgETbLE3k5+elsYQJVnsC6g4QVBITQCP3yAgkNtwj7Mokc0kAdlpsjZJ8RpD8bbhHm2EbZuZmvEAtuQHCQ8QRGibzNdS+4FICFZpgrIxpccozLKA5a76klTLdCD3LsSNxfZVxrpSK0iAxy5WmCRw3K3T4B4TfNcBICy1fQSty4tQfluUl8U-0bWigB1qwk5KGtyk3Sn1uhA1bFEWE4pXgKYQyAdAoMLoBFpy3LjhtnCfYZ0EJEWTatQ2sretuUkUIWAuEnbcCpm28bMt1AGIOhtoD9ae40W63J1vS3Naqt3oa7cQFu1ZNU5C7RXMFQu1XbKtN2ibW9o+1ga22lmiLXxRe19Aod+5KoeGTM3W4zYX2PkKUieE+aARSzP7SLi4VnQ+tl23IONuq33bJZj21RkPBHiE7XtlOyePBtapszIZnM56R9K97mp0dKG3ra1uK3U6imCOyWcqvc42c8d-2xuC1roAfbYZnO6rceiSEmtvtksrsMjpeEpg2dxw3jq1vx2j87wDUBbSiVDLJaHtWEyTegpZ06oQ5kOOHT4J8p5bwdAIvQNrsW1WayhsOhdTYBw3kA8NRWc1kkhl3YY3dHupXOqtVWfUd4-OsILzsuwK6iksmN4Wjpt2wilm9ugSJruEbz4js228qcuIFpswcY8CRcQKKpVy4O+XfHvj-T76MheN5YjESC1MilBidEejuA1kxnUbPuhaM3YWlhghgikzwdDH2HMnPB7mNen1ZIz-UtJlAhePThdPbZj6c5RPd8XuM-FkKfUjAIiJXrzFKVwQPy4ErPN0BgKxNG7W2c4Lawrtw9qOUUMjtX2ViCGyuuParsGAX78xNoUfv8g2jyi+OvOUAAAE4qgv6CQCRFiR778ZgbIuG-rE3DZlovgQYI+y8mqirdvgCqWEHpXakacpwdhUMpVm-7uOegZYcsJTBoA8Dfm11Qar8k2A39d-QwNcpIMYH-95BOiDv3FngJTAkB0APZ1vqforWlB-9Nx1AO0G1ggwF-aLr-26ct10SWJPEhgjShesde1HMuJP0sAz9UeqJDEjiTjAEksewmmMF838kRDyhmZcnqLgBj2YjumIMplfTeB0gNISgUrQc2gp7RjJFoPKIMNKjcosgBgspnoEVAN92K0fWYdEbY89B8YmkGk2FCgZSDgIQyOEZTGBjQAtwnDG4eYPhGRQM+jg4IeL5QjHdlsI0MVKIPsYE0wE93clD6wQTnyGR0DPsAgIE55kRCjwShOAnXQSjQ7BNCFEYDmG-D+g92DHMZDghJl1gUI+Eb6ODpc8zgMo1ZT6N9HEjFZbdm1MKC9HRj9nGI9AoYCzGEjFrEA5vnk0nTpNsu2TWbnFqRCItA8nvYGD71CabZ4Oaff-TC5klEZKuk4XHDnm4bwF9BdeVLNnFXs+KOQOgIxB37GGik9m5XpbBsMHqHR9hp0U4fDAuGfjxSRZh4bRxqtJ2kaw5DcZOPb7O+Dxvfc8fxpyMDhEWw44yGOOWxC88J0EGcfH2XHiNvSFCR4kqN7zQcm-XdbSaSMBVJQlJ7RPvMGMQiyjVR3ILSenycmaT6m-RLjj6zqaQpruHk2euV6ZA1NgxmGufjHwx448SecAIljlOR4FTk+O-CDnU0m4wuUprk12JqrPD74vJlkw2u8RmohTfCobK7kZwSnikepyAqCnPyX4b8ypzEM6dwKanmxxuFpDZwdMGbMTDYI09PJwCOGpAEW5YfNj0DUqAAOlgHpMHSQJEpeZEriP0OdrO3mHdDgaBBNHzDiSKoGGcd2RnF80Zt+XGYTOKakz+AFM45lCqvp98ByPdIQEGAAAvfXqADjNhAhpXQfI9WZmH+0dOrZioXLmzOAhczojfM94JuCSUPjXxnwJGcTO9mazpXYYZEi4i3wnhpAJ4c6sNDLCIQeAQsxGe7NVnlzg54nuuaBAeBNz25jfaOZFBAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
  (if (indexable? assertion)
      (let ((key (index-key-of assertion)))
        (let ((current-assertion-stream
          (get-stream key 'assertion-stream)))
      (put key
           'assertion-stream
           (cons-stream assertion
                        current-assertion-stream))))))

(define (store-rule-in-index rule)
  (let ((pattern (conclusion rule)))
    (if (indexable? pattern)
        (let ((key (index-key-of pattern)))
          (let ((current-rule-stream
            (get-stream key 'rule-stream)))
        (put key
             'rule-stream
             (cons-stream rule
                          current-rule-stream)))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-JwPAOOcQxQDkRQIBgeAkFQNA8TQYkLhRDyUgYYw2BkBhiFw9y6DEIxKAUSghLieNAwG9IFBYMhptm8JQAAH224yBo+Uhqimj5NpiXb9tSFh8HwDghA2uadr2v1loyf8ZrmsLeoLTzUmYMQJGEBhtzBU7KB2Pp7jEebAoGrCwfCAAyRHen6QYEZHdlIf+r6sDq8xlvIBRiAemHFuSP7yAB2pgdBB6rLoIniGq858ZcQxfFW26GHwEbGeJ0mqIWhJAzmfQiI+-lwrZ36GAtagxDoYm6FByWqNhynqaBkH6dAcF5cV5WdLTVnLk4g2leIFXBs5673rO19ArFm9naTUnJhNvGzY8i2jYYXCSYxx3ydRkYbwlzape+ziBuNIQZwqZQ2HIUr6EF4ORYpqHAdpncwasuPrcT5PU7oFmvb68xC4TkwS8yxgOa5+3HozhNXbtdvm49z2Zerhhi5T+v-YY9PlidtHxbdiO5qjmWBurI7xX72vB9RUfYg17OaZ1-O9YX6gl4H0vy5l-fD5X0ubab9eYnHsO3c793Z+98wz7+Zek9XsqA5v4W24n8ObsEZR2kKAAAYpAAAGgAWQAKLNECIQZOyh-jgjZsvb01BUTglAI5LBqg9bJ1WsIcgsk8DkBkFoUgWMUi-RpP8Wh6gRAcGEI0UBqhKCUEIIYRoIAxD4NpGgXIChgDuESCggAtOQbkFQFC+GAAAK0MBIwwydJrABSPQwwwAABsOhsB4AgTA+BC0FD4ErP8SgfRQDsA8F4Rq8glBEJYCQhg11hC+AII4SxfRQHrlIFpXBFBuFY3+O4zxXlyA2K5PYxyfQagWOoTUWotQ0AVx+gNZxJDf6b3+jnHeH0rLoODNULBzgT4vzRETFx5AGD+KZlQwwOSQ43GxI3O2PM+ZM24I-YBPdKnAmqa48JzTM6gHisQNxMShgAKnkAyWHtcZz1SCJUZCYBp5O3nTXe4IRKDWYFoI2FTK4uD2cQAAHoQQIbhnBrNFrMu0wClkDNjvQbiqIfgXKucQG5acg5jxDhsqm+TtmFNAMZIo4I3jvOcJ8y51zDDlP6SclQbzRrwrqYEdGatW6BhBgwQIMhdZ4mRT9aF6KrkMEpHctEoICWVF1qSL6vc0VfNIHLNgqsHYArGfiwlusdCe3STHVIxh2hWxQTS2WmztagtmlZMVtZvHHJ+hMwabQlWSrBmEdWIcdbgkVRK5m3BtWks4oa7x+yqDECNk0oOsQeX-3vo8hZzKBlVACTOD41qjYPR1bilwYtTVupRdcr1BybVW0oHaj6-rHWBmnmEENGTUg2s0LiC1WrY1CU3ukTIfqzX9VSMnD4VrDlRoLbqsZr182JpAcsqZdjf5-yWprEFecwXglscoLwKrOJqu7V4KV+rB3ghNZLZNnFB1uPwB45td9BjT3rS81IGgkHUG5Gvf5G9AVtq2R2+Ves10gk3UiydHl0Fsp+Yiv5OL42BoeV3Qt5gU5iBjdyndYzH5LufiihyctSBvv0EQONn71mpDzVkEDz6XAetLa+4D3Cc0hzFtB895gw0AaA9BqtCYbxobONHItw9NxfLJtWvdsqdxfKssUcuwriPVAqOc8U+heLkfA-so6k0ZkjHY+EXassF68cGPx55KKmMXIYESXmbGqDzUbN0RkYt2NMU3sJ7o4RSjgjo6AZo3RxM-VSlx-oCgcRsm6KSIWjYGpAlSuZssvgmXkkCrZsCJSNT6VAJBvT1JDMioJRkQOEajYcdbVvKjqsfVRqsqQILfaPJvCTrwG9dBshBbCw+51+wMswbiEFmdc64scEy7LSDk87S0Vy1MGYwI6b6zYI5cgvg-pxeZjVpoodF1zLtMVh8QraqVIak1JQUA4CIGQOgLqeIiPmDGjWa1usraVmQxR9Vw1RrjRoDxhGylSjUg+spZohMBa7edApG60kr4dJ-u07mvM0hM1JtwZbHWVKyz7kfeupM9stFPFS+g3qi4X2+7vV7R2hMpwPu-L7W7Ja-fmwuN+HAP51zh4e8HzpjurpuYbCtZ3FSlER3LXHlsVZLboCtiHryRBlPoHC75vy0sE5WET-70K6eMwXFepnFOqdY9llk8gP3zvjNuJMtmW4hm1PqcTRpz2IVXiF4V3wCu9KKkx4qbH6rxXeJF4Tv7PxM2Bw1UastkaVbvrmi9ynb3OsDUHfr1nhuFyO7B7b6nKzyZO-ki7+lmc+d29WLLY9G7Qfw9F8e1XiOOhaH0Je+F17bkIxtyt-CBF8UPYDk019VvrCp8mBDsywRdY2Tsg5Zy1JfAq3IOczyLgY-Wt8kKmWUf48OG4LnoSA44ZHQUGUixDBJfIkmELW+Ico+YuoP3mgg-h8d8EIBpNywKL6h76kYRhB8DlCH5U9vdBR9QRiO+H5GQiqN7j+gkZI-0-q8KBcrQIhRqU4PPQX1iuCLoNl5IMgTSb8f7Qlz1vzvwaEvRf3kDJzBBH0fDA3Cz2R-muTPyD1q3gIYgBxVgrUQM5WQM6zHA1DDFX2jENGL03GRCslsnsiclgwGUoF8BIHr0EEICQV8GqhzEIwY3MEzxGmz30C+UMALzH0Cn-Vz14MuSWAN0gzkmaCwgvxJjgxnAQz4PzxaFt2AL9C4OHjPB+VGHgyX1EKQwLxbwGWJw5w+W50T153dxWyFlyTa14K2xJnJTZUxVqGexUJWxwJiDZwWzjycIxWpRT3cM8N81kP0D8MpU6C5WtyCP8w8mJ2Nz9QEKgnX1GgUHTR101WC1mgmDH1gNVHAnHH8mfAYWFH0EyXWHDWi3J1NXmhWEClCPkPN19VNU4FeyKMjBfBXEbEaLBk0NrEZAhQaIPFLW9XLWqOzVaNtyYkFFKIGlQK0Pj2GPDVmj6IfFyOEhDh6I+lWOmJzGKPWP9BDniNNz1wAIWhGJCyjStzCEmJW12PInJHOHCkbAcAtlqEZCeEBAAD5vM3oTgODaVS0HtXjSdXD+YflSsa0shwTxDfdJCVhpCNx9AQTEVFZahuANCUSFYNQKtoSmYJgEQyJwVpYBlDBuRGBt8a5P5S488hYUiEjgEDibNY1GRjcmirjSZ7iW0s401aCMijUC0IVSh4S-Q1gmCrZ0ZySeZ+BUcv5AdFjPV2TxjsiLwziigyShBpSqS0d6oBJxd+TTiQC0JMNRiLdo0C1FlHj9ij9x81tPsQd0c5oP8FI6Z7TqSh47sn0P9tdkdJlYdk8I80IXSdxfTZTL5PT3YzjmhIN-J2CZZic3cwVXtrNAcBBwlGRp0RkEYmJGxuw9RWSpTKSwz64mlwkgJYgXjGZQTQhGRMSqzUScS8zl84wxlQjwk1DnQH8JTn9KxX9IDbxuQ9RuAsS0TQhDDYi5t-tVkrDSs1V5jax9AADQizkLDUs1cjSYhXsjCUVidfZ8ckzbcUz3gBAA5GRQi9zrZbtJYC8mILZrtuYf4LyvVbZbo3CA4byXMQ4A4JyG9-tQz-Tb0MdDyoI7zPTVj9B-yHSyoIyU8VxQjIL3SYorzNoC8OyYizgHV4z2dUz45izHSkjyRQKXykcR43SdSsoYLry4KHCwicLgdELv4R5AjXs0K2j2DBsTlhtHEWpxt2optLBZss5KA7DzlSs69xJ2Q2sfyxc7hJdv9GluB2ygibC9V6tN9t8n82Yx0zj5Lf9FLZ0eg2LTYJMN9FAt8d9h9ITKNc4oCC4zKNKgYtK8sv9B45df949Ss+UGUZBuASV0NqCTkVcPKVLeU6V+UfLQBnNjKfowDeyIDfUZBPKwrvLuBBVpK5zyZwK3hH8W5PzQqdxdlMqA4x1UUMCVY8s5iiqR4A4rKIsbKIKGJYsqqtCEsMNmrax0CcqGqtDStH4artyfoJUvhEVJoey+zfVkyoJAobwjKATGolih8KABZJq8qnVBhZr4zHBhrJkWBVc5BullKIhChVrAwsJ9riYPzzhGwrFJleTcRltxqo1GQYzBKZKJclrA5iL+CqwGJQM8ieAkTPTvrs9nKPr7y9R48PrnhjqWy1rIamZQamZVi-8obIgYb-qbxzrGI4zjDzlH8gYHr4r8cvr6IhybF1hbrgKTq0QrYxArEjAvrwgJKOBJp6bTxYSDcsI1UsaGam5gbOgbjybjAezgjmgWa6bVBea7YdUAAeYEWmtmgW4IrwloUgcyCEAAFRujFzoE8VfV4FtSbCYJBFqGaBwQAGpwUjTDpjohRVcgbwhLaSqLaraQCbbJo7buqJhFdTI1aS9wQtb8BGpiBHJF8xADarijb11Ta9ZQBLa1TCh3b+EZB7bGa469YrJ06E7Ygk7Pb2bl0UVcpwbwLPSCKkRjDKdgYbpsQVqVgZYNTmcSafq9Rajphc03opbboOaCIidK70RsRs778tr8ARqxAxqibyctzs7mhPTMYg1GbB6vMxZ87F6Z7yTcTO6W6bQ7R87yyMwVwBxltMYbrUj0jCa38o1W6GgSDN7yC6Brpygq8m4za97WJrSIVuiPrGRGiea2LYxXN16sbwaUaEa0LP8waeCsaYDCg2Jqb3Cq6iBeCpicaUUiKm4S7iLSay7YhNrKwEGa6qa67ST16gbSa-rnR2780Hazje68H+7FyQChqR7jpx6L7J7bdlbg9Z6JL56+bOGihSh4Jl6BbSb+GuH16iJGbt6shd6uSdQD7Sij6JKT67rWHICr6igb7S69ZbIH6RAn67YGCnzm85H37YxP6mZv6Frf7kH-6Q4G74biZgHHG+QwG0IgHIGobX6YHHi4Hlt8GkG7j2LZAhsHFmoxs2pJtOoMBXre9p8B8Jc98R9cNwsZV6qyC9Yrl4nZ92t-KeA+8EmGBp8kEzTvtkmA0usN7oDcYCoCmcnd9OLay6Z0x9U5gSrYg5hVx88Wn6sOR2mYgOQumOz9UMJ+mAaDwhmemCqQYxmQZJnph9UoSSqoTnRumFn6tuJDAkFmsSrNntnPFFQ1mGh9USD+mSDYwjmih9UbgrE5YWBDAx0bnVA7mGoVhLnCh9VzaxnYh9BzluBfAmafi69LaDn3nYh9UJFvmYhfn-nAXQA68JFQBQXhn6s4RuAGgYWkW4W69IQkWYgwWYh9VgAoWDA-msXvj4XQAwBkWpmwRwQABSElzFgFiluvelvF0AAlurAq8Sb55l7FzGAFlFgqgAQklD5bJZZYBCBdADFaBCFdpYhBlqZclYFblpiAVfWYKploBChf5dZdAB1Y1a5f1S+JVdhYNZ+ONeFbpa+N1fRcKH1elcpbtetcVfBBFZJcpcKGdZiBFdiFEvTHylTPyeyeoDn0qWAcBBXFaRE24CyZn3DcSc4uDePNDcTYjcCvwBYAURMGjWjZWFjeRApZGbqaTZKsfmgK5aKATcKbZmXwihDdrfqerls25bBH1TwNqBKq7dTDcY3PbYhEgDoEwVoPaeHdHc1YHcVGuaoGedgEgH6aeYYAXerencHfBGXdgTGa3bXenf1QADlyAD2SWj2D2xG9JU2qRm2k30Cgdny+aC3pgi2KWxZEr42y3B9W2r2BAb2v26KZxs8n2GgX3nXK2Lx03Cnv3-jW9jbcQ-3k2Cx99O9AMbLStJ9qgGA1RSA2BfAWGFFyBqwySjpNAGG0IEOim0iOAjYymHA92GhX00OjgigUGfppwsQ1HfVSsuyn9z7+yAC10JS2NP3EOYpSHXaQCKO+4Hb+3ChBORBhOw3M2CweYc283vrF7IOW2APkb6PCgVG0i+S+PQsamQ2T6xAvgWBPlwC2Gip2PCBOOK00xQF62wnRtWoJsOpMBXrsqKBTAGBxUPgyobhSAh1fTaqVo1pNw+qocSJkDZhH0N7wvR8naGAXbc6U6RMkvYu-gPYVxmgYvF5cu8thEbh1V6ktBsVuM310PlBlADaMhFsjBO86u4WGpLb9BpFlBMZwQcFtMcEzbM7Lauu9PnRevx1qvl9orOJvlOF7bhLjoUO30luXC5vnhoI4Gk707wQIR07SvaljAKvXDY3GPZvaClucinbrBwQ8mzvcQqEzNX0IuO6nuVxtNINdITJBc6YnvQBkYsBUIyiIMO6bwnuBNtpKnQfANR85W9Y6N4uDAxZfuJKdNPuDdfPpEZxAuYoQuh1XvRSDABpQ9T005fv-uiSYgTs5DI2ec1ywfbAyJtNdvLa7umAyAzMke9D6es6KecF0viLOlHsBYE9Gc6fofHaJOxvY6Wf4g+SHusuoegN6fHaAfIVrvVeYhpDZfVdJJQQSrX0P3JA5f2fC8ETZYsJ8ffc7uIRRmMS6ZOfoZpHOvxfDe5u2fSBBIAftck7nfoY3u9YAByF219bboPr3g7arz2p7277XgL2sUgVXcVBP57-NYmVadaMWJPqd-d+rIQYQZ24IZ2hyHSKyC0YsZ2vreEQvaCUoa3zP+PoVv8fQLP5Q1nh75ArXo31XevsgRvm8Fv13vklv6Sgjoj5QEjwDtAq5Dwa9fQ2q4n77Mjf3-VBf7BbgEXhFW5MjWT2IWN0f9Ycf6gTQVYzFGftwC7uf03r7qnuf5f+rOjE1AXh7cEy--LloS5aSrPm2Gvc5U-lBNwOfnSVmKrpjaYeNeGRlbrdFI23DSXonSf5dJheNPVclv0uTQNSq17eQP-2MBAxc8cUDQM3wb7f9mAv-aflgIv4QDdigUdBNw3UijN-eWEFTJgOvQ0wu8PSRLqQOYE4Cl8eXM3tQOIo9cZm9ApgW4BYFL43+fApuD1337Ecj+k-FqvQKRISC7YO-QlnTGkGH9j+AcP-rPwd5NIIBPAr7mdWgGYN8mZ-bAVhmbJ7EOiJRQnhBiewQDcigUfVA-wMb3YEBJMCgVaWsGOCjiH-XxiSRRS0ESAgAqarujqRIkl+zuMWJEK+430aMOjcvFQXf6i9+oLgIIcQBMaEYWUZVc0mRhCqcYZCqA-3jNSKFm84hlyO+pQUry09UhpVHKjwnoyt4RB2kMqJQHwBuJJkAwCoOtVQH5CE0dBDwb0JR5l8qoeTLoSTi0gxQRkeQ0IV+gnjZUOSnggIaqn1IsAmMx0BqkVyXDN1zwfQlwFhF9Kk1zweTNYbTlGq+l9Apw7iJNF6oTwrhx0PLPcPOEjwnh0MPYU31eGPD1ho1TDjzUOEOIEa7wtsJ4H+FQM8mPHQYP8PfIAjiYpWLmqsO+FTQoRDEZQmCNY4xxjy8cA+HHniFY1hy99ByiRgYBMJhAHAUgPNBZSEBo8vQm0pT2AEkZL+BxV4CG1eEZlERRTRgL-QqEwjsadjMZKyIkq9saG0oPRkDAXjEi8+ZI-QuvyhpRlUUVIy4eyJ-ifDvGVgyiCkUKGEBD8EKQKFhFyAKjohqA5QvqNVwlCtRaA8iGYz9D1E-BWYXxrDUDAmi5+0lQ6KZjljikn8FQZOL4FcKGA2QXo5rDTEMBWZZhnGcrH6IR4BifRQMYMU8Df4MCJ4EYlQQYDa7CU3R8nIGFGN9FpiiYCEIwCSmTHrtYgWYmMaSAqoYEcO-QQfCWPzHcASxg0EMXAyhL5jIxkYQMaWLjFm8ExIwJMQAU+LOtqgVCO6NWLbHRj9A9Y2MaN1jD9ifiro3MURBJQF02OOYhQEPmTgzR8BGTchtyUajrjH8JmImNNECC5ii2C+CYHkxkB7irYB4szHOMEjvDmxd4hHiKXeyDiyAw4v0qONcIQog0K4vTjON3FUB9xd4o8W6IljHjBIS4ziBCKKYjRKQoICtP8JITgweRCmFkYiLZFnCx6vwj6psOhzbC0RDolwAKPczqhag-vCEXhPFB1iqAMohGvGKAlkBGANzfiK8PAqfCaJKEtEcsJm6MSkgDAFiZLV4icS6JsI94VjR64yAkw3bWAbEG0xSS9g3bN-hqk6ByYUJyE8IP7wkkxA3+88FOGpM0nO4YJQoO9ghPJzCSuItE1CbpNSBYR2Mf3FGHDCRIaSFBnCJiQJJCiS0bw7GQsSsBvAaTfJ0wXiFQmYmeSsuPkzTgRDFgBTIp7jLxm-zQTST8+Lo46BwDaENwVxvzOEUiTJYATIMA1TiGoBMBeA5YjAEYWvHKnOBuAX-CyV-ygZHkqQgk+lDSE5SMhgp7kwSQQN77hCUJlU+gNwFiloQ6pUNNTC0k8nNSz8kkpKWjwEa-FMgb-UemlIoqZSmpWBT6OiI8gpZJkkmc5AZIfGioFuPGFTPJiFRpTQAGtAABKwIGAAAQXADgBYEAAJQ1qQAAA8ge2QBAgXqc1GQJIDUATDiwupdqUkFEl1hQxgYLaRyOYxqSQpCPYzDtJYHNDUQTSYGQfjf7GZOgC4Pqe8DyYYzMgAMlofKVKyXTrpd0h6c9LekfTcZkgKGRckRmTCgZfEg-O8OMwgSdp0mcsLJlRnKF9YSM5wCohXGND3UTGAmcjJhlMTQZpWO8WuKoCxsP8yEg2t8TVJFSe0pU0WbcgVmWQAabkkGahJUG-S+IzzbGSjKZmSzTpkgfLCjlyAOAqEjIAAAwwcBkNQRyIFhRyr8yo1AQYDDAKzWyKxjIPrADhtnaBLaeIUaWMgDm+yqEeTNVM7JIz4SSY-wgOe7KyiezspB4CEC4KwhJzQBJPRgJ7Kd7JcCpHkQIOCTjnihUg1QdLCVgakmgCsycvOWaG8wh1XZnQnOUPE9lJRyQMsNMZMiaxsAh0MwlcOpn0l5ChSb1NIM3IuHxDs566XOUU1TAQptcmo5WrXyRI9yGAfcodIaPNGBTJKxAXuZ0CHRmiDBAuL5LGSIl7yD5-cqudjR4keQKgJAEQKkDTjxDQRqNKCN3MCBXyB5GjFIsJjWK0iigh9doKpP+EAKzi01KShCkIJMijQLIzCdcOwmcjcJXAVCVyTqIhwWAmMIUSAVKBSSowg9ZoOvM3mKisJ7Ei0axAB4wLAFF8pyenLrDCjiFh8rLmsUExMLr5M1K-leGaD4LjAcje0RjS-kbzmFZGaSsZJGhb4bkfwKichGbqSya5NiDCUCDYk4Snsb8hGkxAHCsjYevbDRoFAcB20PJhs0hYgvYmIjlCg02IKeElnMcvB6o+kcJlPCH4NyeASEG4q6LoSsJCClhqooFjWK0FQ8zBRhJ0UFENQY8gxSnSMX8RDhliticqPMUoRoIqEKBovPf740ZF2w-xYRLVFr5SiD8iUs-LSz+L1FsI6Gq4vcUYKxkiUxSclLsWdFKlCYSiciLYA2L-Br1CJbiE6mEA9wv4eqeDNgxf0UeCklhDNJKB6xhlSksoSAqyDdL42pILSR9RskMjulhk33OIrqQj1EU0i2ZTwF6WyizeekzCFZgol41uyJkyRVsseCEBfwOy+qVSzABuLIQSyuySSgcnm8kS1yhHh0qiVeS3YKy3ebEG8mkgAVMQb5Z1JUwFjLFKwFTMCqhXTAoGHfcZdNOkqT5akfWG+dVMIGozMV3UvpeSEbBJx+gjAPrP7KthI1fSFctLH1lfqVlDFa0gYquDBVhSappswaUljPBrlCVmpalSCsKDDSNFcDb5fSqGXTT-eL4zrLITj698b5QVLlcSoyyFjFpkgZaRBORJ0A6Vp+bAubIEAkyGAj06yAABlYEn0uaWwEdkooDZ-0vrCbJ1l0B5F-SsoMLR2niykgcMmmQjKBjWqXVaMs3njIXBeq8sfqluU0mJlXS9Vhq41dTJnAerg13qqWSuPdGPzBgH+VmZlPZkyYiU3M3lbEF2RBYBZEE+ECoNTWqrUesWPNXeKr4oq4Osa7FahPeHSzLxss-AR-hJXOs1SqKluRiu1khTJZ+sv6c8y9W1qEVKUqjpMiz5dSE+PUntTyJvHxqIJMsjcQPTrqDKfiEKaWRmOXjejXC3oHAXzPlIsrbVvauFRizhaT4vVB66dQirQpAMnxYihwlKoT4TqegN6v8QotaDFs7MkgcWAMKfU8zJVWfVgv9XfUOBsFoS8ic7kRSjqH1ifBvqDNnVv9gNaWBYZbl-Vwbb1G0l9MIE9UFZgg6s0nnuuZkOq5iQWTrgRtWW1Zxh6K7GYivGHYzSNDM+gHllo0Eb6NgMxjULA+DBBOhBGjkbTN2nUacyIbW6LuoY3vBGQuqsmU9JenvTwATECTfdKk2UyTVFvAjdwAAnCa8N7wV+oFHBAYgbuWQgZJRpI3UqONbQwIC3N43OrqVgmtNhputXiaw1+qo1bJvJC6qnNxqtqUiT6xqa4WdmoLJYNtIJhdNvaaSgNFUZvAFEe+JQvtLSAd0lCF4hahFrNj6FtxC6FLXlkwxJaUQegsQqVjNFTc5qYWwzriE2aRaTk6WmLeVni0GaLVC1Urclui0Ort5BWmWJhnq3ZaKtDq-LXlhqBiBrUQMcdY1rgbNa8s3ybiJukGFIZ3hI2sYYBgUAoahtF87rdJQi34BK5WW0wN9RfUQTaq4W+gGVqQ4bbo0CPbbaZjf6rbK5mW-bWbCaRHabiCdf9Q3wVKlojttFOgAduO0oR12p2omCAkKgQg8+ztR7b3xKoXaD85qn6KVrW1pZ2tm2tDa+qI2ppit-cFIB9o1mo6btz4t6LpIrEfjN17YsjrGGB2PrGisOsEGTsFo-bBIX2ooABKh2XafkCcDHR1op3dMKecUpGk+M9j-bdNpAIHfeoA11jUd0O5zjLF62LYgCM6p8fWoTWNrF1hOv0BJOlYa9+wwPfNMTtVzi7Ku0G33vdqLHqlUpyqjKaqoRUM8DcSq9KTeJcYM9YI0ZN6DTqRBg10N5wHncX350+Ex1DfEqlruxpzU6Z9XHETSL8Y0UxtYAybRYpALmdLO1nOKrZyLnmB1BE-LKpjPh07bJwrmWXeuLlmK6V1xkf3fwBJiaRmAKsbESTEXqDkWlPIkFRBXX6AtIpN9SsANP10xAy8VQ-YVQB+qkBmgie2QasSr7BFBGhuy3SBJSUE9IM-bKndzv4AQge9mghiO7rPDWpoNJVWfXIOOE4BGwNwX-ns29GMgAAnCcBlg77msVu7cUfp4jeibxRTKhNNG4CEaFGtg2LVQxngHEYFA4FwBJTtkaNCgx+1XAHwD5WQ0AQBwDU+G8E0LixF+5rFlw+AUKf9kBjNAmqwTrRpZEsZQi4ERZ+UVwsDOA1s0v3SykDm4b6lvpR24Hms8elwJ0CawtYmAdhbElxtT2mZSsVOr6DzsoPNZWstYBfbHk90g7O8jWdgzQfX1zUOBbgHXdUEKgngyA10RFLQTQlptWgjIL-hzB-7aCAB-iYwGUToCFRtuRwSteSAHCJJpDWCTxLDwNSKSVY8IA4r-ohASJbDpgrAaACz715tDoAWw5CwRCySYg1h1nuOtaDHBQA1CliAOGxlMB2ha0OWFhtcJ+GNGRmlHLhro3MbRNQVaI1yQMNSHmGtBWVupERQs1jYsCrw-AZsNuHEW2MwQJEdEDFHbDfkAI9aTYhWiGg1h8EJUcRZOG1pDUZo+4a5K-6rda6hNdno53EwlZknWPuOtilF6sRi2VoKDLU2N7GocLDwoWI13N8TUQ+lVaZn0D5TLSPjO+eYEaJCBDAjkdaOIf4ByGqQChoEEoerzEDVDJsgJIXq0P8AdDeh5kWmx-qDLKmSxqY9SFWPG71jmx7TSHB8NPbxjJeyY+v2sYfUZjteilh4RdFmbuNSRzDs6uo1ADH9O01jNRo0aKY-AjIdNZzKJQCaPFabermrSjSaabxwHPSMWvWPdBS+BG-NaZhAM1tp9tJo9PSYrWycVNomnzRSxJMlyFCPGrne0UohQQnic1TjeZoDlImZQu0kzVBAKhMzGQ7KlLLcms36H6R6J7ZUzO1ENgQ2SmIEHidxBcztTXJAlYkH5MWa7xlJgiNScPGsnc1HABk0TCZOFB-t9pvrE6YUDaVYwWcoLDyedZ8myTAcoU3UqILbGcAIh1IOOoD7lT9A+ugADpYAqNHooGG0KHzBAzM4+pFrC1HxoQADe8dI8YGqiRmddMZpGXGaLGJnkzSa0I+mY95yZ05vAE8MoR6BYQmzoAAAF4QdQAiZooBurTMyAMzNe7M52Y9h358z4IQwyPVyYa88YC1fY4cc3AxmUztZwc-WclZ28CqpCKyCwGdrKBna+fSYAHzTB4ASz0Z-s+0LXNmYNzG7bc3rF3MFwDzVfCc35CAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
  (or (constant-symbol? (car pat))
      (var? (car pat))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDcQzhmmaAEgRMx5CBVCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxwmkiueJRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2HosciFV0FwnzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV7jRVCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBG1HitaE35p0QlxSb03LraR54Um+bFjk2y95EnRWqZ1tWjT3iuNJwmdi4ONHhNlo9V6geLAh4j1M3XXRMw1r3uoo+joz6X3yEzVZnN3Rl74ovY51DhQvzaYbSXFeoM+1136MUzz1g03efIu+8t-oa3kZXsYRj5Ejg03heFsVkXAu7MnnFg5CWijZoiCe6CEXhGRGy1k0tA6vyZca5aLJlXQhJYzSl1ra0TO4ttv2wdLGSs90ruVwzpTag9c9BWkgSzOi1r0GYI4AA+UAeGqjmwY0t7ZDUDgHRDiJ7hM854nYU6EXDO9SmEZWD4A7AojuDH2yCQ7smXRXaNAASFCDBs6dBTLEGRIQfs7SYSgtrJiXzEQHMoRC9YCt8da3Yom9DlNoXztKFs8PUe0cRt1wHbd0oA6iIwNlILEHYOIfDMaOO4rzdy7XwPnRwdwOci06GVeRWT9TOTvnc50uzOCWOfXV5vrSPN2tLp7zqVh75VJJ5LLnntSMn-mu5qiIIELzgVmas1tyv-i67ApD188JqzukF9YIiO3MS1DJMZzZd8hO6IrWVWt-8YU-0xBWk+6gGB5c56D-ScvamZzKlj5H6XQDPelJ0IP79S57Xj3SWTAeM3R+UYVsq7O1ntqp125QPaV3-MioHwYaejvIfk0ZouEyWV7OKWd26qh7pbtjDl0b8rCvQwEwQsFNu20HMPs7-GSyYusos372PWTa2Fcnxabvar4uYiWRr7vS+5SW-fGqrJ5ns9fi64DikEzTdq4N83g5YaN+78yXVvQF+ZmVnv-+fPSmNAeOf-rocj-V+0alJr5prWDmw8bpZVIv6D43woZlp345Ld6q5QGQRv6FJAH1p6BIG-6vhZIGaypAEVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonB5ZiYyD15nS-I+x6AjrAp5SDB56wGYhfiAwMy2YFpFo+xfzD58H2AgqCGAJwiH4yJYx5qSFBo8H4BME47xgGJiopjaT5r3qaFfQPxnTDqLTyErTaGt44hGwSz4CDBSyqFAZfQAJAK2FlqiG9BbqOGDDqyuGLol7Lp9peEiHhylyqxOGgCmycEUhPy1a7ppgdow7OYNhiFJEjhfygApEWj1zfTbq4HNZ2FkwXCXyAwH5AhZFggFEgI5ZnqpFP51Y6GSJ0ItjNZj4N5kDVQ0i6DF6l59ot7eFrQujAHmztZWIFLDERFtEHDjHcY9HUCyDJTOpAqHSwEA7pE4hEY+BTFPAqGQgVphS452YDGhEWi1r27my-LrHbTVjIbKqtE7GPb3GKiPF1b8ITHrEa7jrrFTBbHho6j7EyB1Egk5Z-GggAnZzbHzAuggldGuIwwdpdBeKDFBY5IfEZqCFUhjAzGwnKyyg6AjBvGZCnasHxREkknWghwQrhK7F6C3EFJv5YkcYeC4nF5a5hBERZC6AkkslmAAA8lJfJwwzRWeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANT5ZC7JxRAxBqT4BCoCmgC6k5E6l6lC6GDRC6AepCo0mGiTpESfrUA+Cynyn4AyCMTTo6AqmMgMCiQCqUCalAjmnWnzq2lGkOmklZ4RmWkRnD5hDRn2kmnikHzxESjJKpLpJv4r45KH5hqLHKDdAZBbT4mFB3gh5xmslObY5bwXZEiYlcnwrjJdJlkcI976n7KhjLFGnnG9oXrybJm27Jw5LHCnA6gCmjk2DhI6hOmzljk1kzgtmDAuhOnZ7zZ0y+ZeKTlsHnCDz45okXGMj1kpBulrCFm-rEDpD3rjnVhalbmS5voDoVogm1qTF3Fr7wpfg1ngkslir-Ef6DrgkIYInPmJYO6zE4heKdkVmEFO5FzwHVgFnViDDWhFllolnwXaI36pbWDVkg61kYWB7nlhCbp4a1mtmKZwXJJbRLmBy9EDknlDkVwjmDpERv77nfjUWjnhKyCWgLmV73jqA0WaornthrkqIdFkWQWgBpqlK7ldI8UnFHkjysUrrkWhCXlxkpgGp3mFoPmKhWqSiHZCj2ryW9avnwrvnrGfnFYgl4Uza-lrT-k-GAUIkgWtpgWfFAVQlWXQUElEq4XjHmI+yWLWLsB2JcCOIYA0EdRSDRoBpjDFo+JlF6FXzfrEApjJWxq1GuF5WUCBp+okQs4dIhpKJfjHRroYwVpFVxoRW1qAxRJiEag5E2AagIr4GFBiF6gdXWB6jdX55iG7EDWgC7HDWtURyHjjWHhTW9URw8JyA5HLVrI9VQoRw4x0AkSqCQaDDbW7VpQJIbVhBiGXkDWXnwqnUKoRwbQjCsIeB0Bfz3XDCPUMB0w3U2BiHanjU2B6AwyDBwjrZbaWq6nHVfXWBiGGR-XWAA1A0g2gCWqGSgAQ0jURwABUsNXqgNqNiNlqGNqN1gkNyefQgIwA2N8NeNxwoNoAYAaN01-wgIAApJTbjcDTTUjaAMzUTaACTWIawX9VTRzZtlzRScDejUzQAIQnBC3s342gAy15YS2M1k2Cls0I2c2WrCnWAq2LVM2ClHCw3C0K2G26380RwbYa3U2i2Wpbbm2S1k0bZG2DBhAm1a2gDO0O2q16CAhS3Y1c2hCi3WBS02CMFRIQj1XRAxrFWpU+y-HHClIbRbQaiDANVx1fS9xR1+opWmHejIgeBWQhg9yJ10zJ3ZWc2jXR0pU5E1UkCdjeXWDp151Q4QhYDZ0x2Bqy5J6AxiGubjSdA5H93uYk09lnURyQDEDjR0T7XWCT3T3Dyj1j3fV3VaBvWwCQADWvWSAb1L3L2k2+3b14TjVH173L1iEAByqgF92NV9F94lY9kdsezdquLJpdhQ5dnqotwJsqE11d+VZ6JYk8VQHdudquyq79KQn9nNNVhoad-9sdgDfYvc5sEG-MOdADxaiaOgV8zx8waDMQkgrmjAgqA5VkqgagwO0QQ83ZCKzdpVWQQoFV9djdYQFCuDFQYQp+EoglaSg5ZeeD1qyJRemlfaNulOhavBCDjV7hLJgwS5Td0jYwr9a54jnKVOUjGDiDlE1AhdxdyGCjf9WjXdEBcoTxrDNgaleOGlS6bFpgdVseJxOg1U7J5ytjK6aO2I6SojF6bdxBTVVicUtinADiGA8V5sKREYFAkg0chgr4G0jAr8pugjCwbgng3gz07RZQyTzpimx0G54YUyWQnYCZkgVpqZxpQqx0OTrZRE1ThTj4jCRc2kG0o8I6Akgshpugp2IxDYJkpA7gs8HiBgrqpApAiNDAupeg-TPFgIDE4SczvSQIKYEZ-TZ9kKcz38dpyahVsww8vg2z2DyG7DbMCkHN5gv2MF8wFTCZvtEZLT80sg7Tsm5dJzezyhfpB8CZJggIuz9g+Oy0LA0zSaKTy1wLkwpSCzeG3EdMfSgMFCZg2wWA-21mTZiE4LoaQQvFLoCLZgStQIpirZ4SmTBwCLszpidJuRtAUQJklosTlYCTr8CLEKREfm6CcCHSZLSLKLqQrgBS4qbMkqGLzpPLCzdzuppzAL3gQLOo8iuLZgupyL9M4Zup+Ze0B02V+dFygmuLSZCKDEVpkrI8gLJL6LcrILJT2pSroQ4I3EPLhG7zvts12D8D-zxr0ruThQfSDJzLimRrvtY1b2PIsrIL65bouLrrZz4wHryLKKXT+gvrGKQIAA5FaRQgmam7Gwads7GQi381G9HIwEKoW+c1cz6FRU8Okz4DqCW+s-KmIZJJae6ZacwsKGgtSN4G29UbPLUSK-SY6zWyOEW7-S6LW5G1K4wCwLU3-W66a2OzJWUPO0azE0O8DVmWIOQ5Q6QNQ51nVvzJFOzFhqCxylyh0jopCwfXyCGdypzIMAK0TFGDohY9YOXZu1SNu5QEPA0fDAe9SEc0e56ykH0hq+e4pmIaYnHAgeq9MXDIB9yU0nDOu84CW-KOajDPu2RNSEe2GnDiexgme7B-We+fHdxXlqUmq-kuiPe88rkDos+VHb+7IF0GwrWuXSh-CGhxh+zP+3R91sopRKR6cICGNRewyTqD+5h0xxhsmkdGAmUBJ+zAmG6nB9Em4fnYJ3loCLNaJ8wJJ0pzOvdmp6-hORSYCG+1Q5+7uzaDC0mwyQJ4WTboDOZx+1+6egp1hyG5QgB52IZ3ZyR9ee51J26pVtZWBtVny+iHRyFj4UzRB8ZbtJR88Lxw7q+v1huoNoh9BUhWdCBkl7B6UT6AyaB0mzqMV0B1Ke6VhvpYasakI4KxzKZbl5Za4XkYGdh7074kV7Bxe2Md17CxVz4EYjef+oBtqx1M4K1z3M19w2IPyJ26+OQCwl4Kwh0MGPMflx13CXCKBth6Z3N4wMKK4fsMxx2wd6+NdDogV7xZN5nMl2hGABwt4JuBcKBGneDpKEZe0OQOYlFaQMMJtMtLEV6rIGdJ5GgGD6bAlbN9SJFHoPdB83YH6IwB0D02W6kzvJekjyjw-eEsPUdiy00tbOoHDzIB8zqDqIj+6djyp3kwhJT8j7SQihTjD6QCTx8y6PT9T0hwqR3i0KBGtmGv7hXrknz1kM1ZjaLzIFjdnneDmWkmz5IDwIMPD5IOrEjlS+mGqR4JL7WvyLDyr0rwu+XqZCL40-Jb5qJNr4+DxXj50NpeGrbx5rNql+r6EBWpz7ryzwr-wGG+AhpJLxLmsr5h7xSY7-b+lw2I73xykKF67w2TiBzyGFT-JduYUHNtBqEEfPQJ2wr4byrz76JTaORSjv79b3lnr6zwb772UJni98U+b9mpbzr6H4Wm5kduH8nPYBcC2LX5L8+4UAyYDFXxNa8fn6RUX3Wwii6L32b1ZS7wRWEO70n8j573pJX6T6r9XwYKX6BIHwksH8vx0Db63wPR0PWTyymV3zODv1kOChf0LgyQyWP4XyOJP4Otf1b7vx6Bf7Hwv3TIJd3zKCc9x+r-aPmEHT4x8gqQ6JOIdS0B-dGS5FL8GwFM5y9FgNnBFEkgyC5kbcREZAUJxiD5RhQyZcJAQM7bJlXS2qSriwGq4jdnAj3WpI10fDTdU+ncHELAPIB-cHGmvegc92b488xgkvNbCA1jxfda0PAysIIK05YC0k+Yequ9zyziCFuj4X2qQIO75gbi7eB6DEBxixBTcIA0EldwZJ6CX+oJVwh4G0EDlTcegcwYWiNIpMdQNgnQZMDMEWD+iuBRwXYKu4ugPBugOoj4JwaEMnKxghEldwr7NEBkt-JgFCVcKF5JGxgqoiEM27OAGST8fweEKKYbFmsd7f4tzwIF9gzwoqIbiCSry3kNCi4SQP90LRZBGAuibmBwiFSXcF+uHfpABzj4x5Ne-gr3K4ICGg4nKRQnIQNgbCdCW+D6fHoOlx6lCTC5QyoVJAyb9CoSw+IiH6EWBCp-B3efwXvx6wu9mhXXRYC1lcoNgGSywqpghDo6DBjh6LOjnP2SxtCc8mXOmBAIUpo8LhOibnraWyAsBWE6jTtMGDDBwhZMdAQ3r8L2oJg6AavJIejzniAiiWoAYEf8K6Bgi1svnV4tOSlj98Beotd4Y8C+GgYfh8gEEZ0zsDYiZwaIwxj2ThGgj1YdRGIMtCyAUMwIfwgEUCPxHwjpA4ItHmC2hEXsKRCI-gEiP65icEI0I9EYjRpHeA6RgaHkXoB5Fsi1s-fNZBiK2xYjPhJIzsG8KiAfCg0YYIwJtGypxwUm+AbUR2kiBEigWyoyQJ-R-SZk+4RcQ0VoGNHKiDmHw49vtAx7KiYReGQzmKJIbZBJRLI2TAOmnIajHg6zRUQQCNGygTRHwp0cSPzimi1RM3IRiiUkAepAGvQC9MYM4gwFEhs+Dod0K6G2D+igQu4sEIGHBVhhpwR3he1iEHBMxWgbIQsIFH2jvAoOe6vALWHuDuhv9LMQ2KeCIkKQywBSC2ItFwCxSg4g6vWKiF9iruH5UzvgC1CD1IyN2CiAuI6DoD4OY8YnuONhFaAzAF7D8qAX6465wwvBXcUuLnIIdkxqY4sOmIrjbiexU40El6KSqvFBxiLHYD6leJZiYRg45aK2NHHos3x8oumC6G-HASB+zYpwCOI4FilxOu48CfqR1BgSyRPlf4tO0BDzjCQg9N4UaSyCLdQcjoxgoYNeK40wxeGfsZrFGDRRWEoOfbggjomNBBgKHbcShxzFu9Y8bYt6vumrS1pfxw4ziXoGYmTiGJtAeRvvVbSsSyx4aTiVuirQ1o5xq49ccuM9H9c+izjewCgWDFAsZJ3E+xomLjwrFtBsMU8WkXDTw542prN8RRLEBfcoxjwNnnn1J7sj2JmvJPF9wcnK8nJR+Nysf1GErZSccgJZnQFyGt90OKvFECZPdyx54etaOCXpOCrHifA8PMwAs1MRLN4eGMPCaABlIAAJPCJIAACC4AcAHhAABKMpSAAAHkL6yAPLNcTvDekYJWyQgQzhMl-jexBgiEYQEMmhS2pLYmEbZKMkwwlOp3KHH1KcDTtbJ6gXJCJPoCuEpppQZqfN0VgpNcp+UoqSVPKlVSap80rvkNJGktTFYfEiaVd1smOihpkgcKRLGOklp22h04gHZC0kOpBE2gpaWdyOmQScqj4lJuaLtE6iGK8qLMe4BprJk-uIYKKDRLekIIgZ1AkfkOKcAdTJ+jUv7lDNak3TEZZsLKfQVXB+gSAgPPLAAAZdsd4BqIxDFg9scR+HSsJQAOBMEKZuM89AVDyzYzlGBaQHrqR4CVYvwLMhWHjO8CuEn4pMyZMoOME8z2WN7FMWf2InEZAQcXBkmLOvbPcaZW-GptzzsAHRhZoEKQDED3Q9sopmvBWae2plH86pPpcmauHFlKzaZlWO8BqLGCMR1Ar8RoaUk3RaJLuJOfgftDNlWChuhsqma+BpkP0lmn44jGVzGQj9iMdsyQA7LkCvxSuhHBCVHJjmvxeuewmnuV1Zghc0eScx2brOKbc9gwuIlHsiFo5wxSKEQjYmxOgFFwc5sc7RORWaFuz9hkKXckT2yYNNXuTSZufKi-DsEwBWwm4X-0KAe4CxTglMb0O-KIz+58feYB4F8lt9OgS5cJPOL6xLkiItc1+B2MfweBNhafZFr-0GGddXiBg4fOEg3mmtQSZgLFufLGLpzNUK82QGAMeGPDe5dge2bnNeH6SaxKYxQPmkRj894h6gRGYL1jzDDSo3Q8eUGhLEdzIhCJSrL5k6H4sw+6vL8CQAdLQT2xECzsYWMmBiTxJ1gTCt9M4Ypcbhjck8daFLRj08AGNGhaUg9z5i8saw4sQUkIVwKXZa0RBZWJP7uYPZaCk0hgrFJ6CUJ1gLebug2F39fsKLBEuTkvEaNAFcgKeSQqly+ZC5VOKQCTEIWliAqFgOmmABoUY12FDYDCYpJC7z9DFsFYRnEJgWZCgFRCrLlD2cB8KR4AkxYIb0WAF8q5rA+YLOKE6YTpISki8cYqwlrjDOm4+Tm4vVj7j1iz4loa4r3G0VLFXQVMX-JpD89XFadDxf8RiVaJ3F8SpNt-OSXLFUlWQXggX3SXfTrA1C2hUeJfHEY4lWwD8bUp8C5KL2TigRYBNJFj0XQuShCTYDaUCTxOnS-BYUHE7qxel8qCCoZyCX+LchUgFmb4Giz5Eru+iLKqLgtApgWZ5hGWD0W6lRgWZ9guTnnMvmuEeZ10fZcsrRavQ3Q+yu+cbjJrqAHZcIL4PQVqKGd8m1yvWR9FQZOpWE5s54CzKYmrsFo8Mr6ZJKhIgLNeoYbIKDhZm1p1ZoITWVkG1m5B9llWRbBNH4W6Ta0k6fpQBKEkgrxlLk0MLspJhQquc+ywlTYDBV9iuZLmDFSPCxUKTglASxpCpK9af5bUYwEtkco8JCoyVMKvWfKLUl4TNJpovQG0t0lfKspa0yQKVL1QAAZPCLVO2w7xiZgiewCjJZmZx0ZFSrqT1ODAwxxpJaC9oNNCkJgtVRqyaV32ml-LM4dRBabkgtWrS8psqhVUqt2mWh9pXQC1TdJ+laScRGjQXGdK0nepQpl0jfhFN9WUrrAgIFmY9NNHghn2wasVbLMtJxrlR4Iayc4DQY+rPpwCiEb9O1Hl1BcsK0WsmTQbzR5lAKuGe1O+nPtkZXEnttqrzXfSs1ycBhlytXaCSgVOqgClpL9WmitRWgYtXTFnFbYB05oiRl0ClHjQTu90zOPitrVeVhFCSMMTmqbXdrvAUaFtRBQ-x9r4x3PcLCuy3Wbqi2HUuyVOwhWGBQAlsYQLWncm5dT1EtIEEepLZQZw0t6kgPPNP4XsaQtmVcNypLbnr3RhnT9bkBu5Prf6+650eqPdJjBZpkCoadM1GmNBdEzQoacoNmndzF+0U0nrWgulXTkN90+ShWgGbapl8CG5UZAynTJrox8PO6ctIekZr5KiwcHGzwY3vSmNT01hj6xQ2iSvUiNMjerJER8aCJ-a7PAfPmwCIi4hgODX8sQ29TzlZaeqp9NrRphiVgmVFbDnC7jyDVyg31cX1w1pQ8sBGiNddM+kkbY8Qm5fDzKo1HAlytG+yfRu7ZZB41Hw99SkFY19BnNsantm5seAyF4U8sntoMDDHWa5Qtm8TaYsHn2LUGq3eTe6VRkkwsNFyv5URsY15KmUkoeLfMqw2GdjuSW3IFhqO7xbZp6Wzjbolk12BCtCmg1eVphDZ4K0mQOdYxqTwyqNpZUiqdVPACVZ2txUzrdtOVW8b7poWxGs1sK29xgqgIFJL8xtFnQCtVavWWGiq1jAeZhDJDVppcnXrxtWq2tDKrlWKqetmIfbW6qG2vFq1YYnbU2u8lGKZtsy04vjjTBWQeC7GF0VRVe1BFisT26EFRgOVNgPtc2ikONm+0iBbuSGFJqnK+JQIHtI8bas9q+i-bUt728HZ9oaxw6ftr2q7vHM4QnLG4a4CQPDooBg7FEEIyHXUQag6BQYXQblZjohHY6odScNmDjHgR5cSdaPenXUQoQsA2utO7OW6AB3ZdtlVkagDrJB1E7gN-a1LepTPSE6EEYuyeFEoRXKjDOT2kXSirx3y7M4mut-oinrTHqi2RWBrPLswK0BZd1Ga1svWg0hizYXm32o2xTCvrV2ORVXTEDbp3g4dau6UQTuhDIYrdl6iETZjOLo6EdweonR6LuxHjGZEohkQSNoYF49d3K9rKHr6DJ6OMfu-AvfwE2c0PdOs8bKnq910AzdGe-Uunq7C27ptjAS0o7q3U5Ec9JaNVUXAp0eI2EEu+MVd0LXDrdRguMdRbpSBgtq9BupvR0311Co3U0awoMKo0liaxVEFEpJnovGT78JF6-yn2ORb-Y7cO8O-ikHT2ihy9rbKvQnqd2DAh9pghxQhxDDg5WdKTQrEzo5aFDYOeC+dE4xcYsx3GQoNtc5x3aIFppre50R3D-L+q-pI6tZD3shSwwL9oqPIYGAKHPAFGJvBRY+PGVP472INMkbpWUCP78FgIP9LVzhmiVGARET-ZZxyyZqce7a3QCKun3RjpFt6FVaUEbo77IQ5eog65zqwH7lMI+nIiwas6gCcAFaDaOh0Op-Da0AATiqDu6JAR1Zfaj0z4wDJDfwi9SmOWi+Bj9DcnTVRUMDYaB5yi7NM4ApIEyO+QhvanoGTbJsUwaACwx5vAFmL4URhk4bXBJDTzrAdhxQ3RAybmjkIv9ZwCjRcKzYoBzh+Q3tVcPKHkMAh-HTtT+FtqHle1Z5TBGlBwbf9IYmcR5S0m762NfIOQI8tiOxwX1h+mva6kyMxHxgLyt3Yzt07swR9oarzRhW8DpAaQi9K9TWkti1p2OZqFoOh0C6ni8ozwGIF5oTIVBM18C7NCFEYB1GZ6itITjSF5LChyKdh32oZAWN-1GON61dlaj6OgAFjMNSoOeICMRHjDy7QDUaAUrz9HhvmBDYt2SjwbVusmS2FoZsALaKZiWsrQVoQ3XRbjDfL1CMbGPDwJjmnKY+DEMOBGhUgITY4sdmnZa1uGx0E1sc4a-9n5NhwoHMZBPQmVjW6ytAegYDQmFjVh0IC4cdETr-VwBiZfZU2xLkDjXalCVAcZAwHBJHU0LRgYICI1vEOugfcWzji4Sp9y+8iQmKk1n72sOQOgIxAya9Hwc+s69c0byytHOOnR3KLICqPvcLSAxvfu+UcokneKrJ2k+QfUlL7HR3Jm7TsXeaVGqTVADxJbDvaqnQQ9JlA5zWZP3aMNaSs8QHqkAVNLJu4q+QEAWBaI4pXywLpUeTZ0S9AwygADpYBct3wroBcfwDukgWeGIGgjVDStozDQIL48sQKpYBfT3K-06NMDP4KQzYZoueMBYRRnJ2p44jIQAwq-0PmDJcs6AAABecDawCGbYbhnCzQaaM8gdRqDB6zCZqdEmcBApnZA+YFFjcGKwCmhTPgf0y2cjPtn2aQbJmlxFviWlSAlpNcYaGTYQg8AGZrtZOYLPTmSzs5y9guaBAeAlzK5zNX2ZFBAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:teal"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"variables"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
  (let ((key (car pat)))
    (if (var? key) '? key)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDcQzhmmaAEgRMx5CBVCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxwmkiueJRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2HosciFV0FwnzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV7jRVCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBG1HitaE35p0QlxSb03LraR54Um+bFjk2y95EnRWqZ1tWjT3iuNJwmdi4ONHhNlo9V6geLAh4j1M3XXRMw1r3uoo+joz6X3yEzVZnN3Rl74ovY51DhQvzaYbSXFeoM+1136MUzz1g03efIu+8t-oa3kZXsYRj5Ejg03heFsVkXAu7MnnFg5CWijZoiCe6CEXhGRGy1k0tA6vyZca5aLJlXQhJYzSl1ra0TO4ttv2wdLGSs90ruVwzpTag9c9BWkgSzOi1r0GYI4AA+UAeGqjmwY0t7ZDUDgHRDiJ7hM854nYU6EXDO9SmEZWD4A7AojuDH2yCQ7smXRXaNAASFCDBs6dBTLEGRIQfs7SYSgtrJiXzEQHMoRC9YCt8da3Yom9DlNoXztKFs8PUe0cRt1wHbd0oA6iIwNlILEHYOIfDMaOO4rzdy7XwPnRwdwOci06GVeRWT9TOTvnc50uzOCWOfXV5vrSPN2tLp7zqVh75VJJ5LLnntSMn-mu5qiIIELzgVmas1tyv-i67ApD188JqzukF9YIiO3MS1DJMZzZd8hO6IrWVWt-8YU-0xBWk+6gGB5c56D-ScvamZzKlj5H6XQDPelJ0IP79S57Xj3SWTAeM3R+UYVsq7O1ntqp125QPaV3-MioHwYaejvIfk0ZouEyWV7OKWd26qh7pbtjDl0b8rCvQwEwQsFNu20HMPs7-GSyYusos372PWTa2Fcnxabvar4uYiWRr7vS+5SW-fGqrJ5ns9fi64DikEzTdq4N83g5YaN+78yXVvQF+ZmVnv-+fPSmNAeOf-rocj-V+0alJr5prWDmw8bpZVIv6D43woZlp345Ld6q5QGQRv6FJAH1p6BIG-6vhZIGaypAEVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonB5ZiYyD15nS-I+x6AjrAp5SDB56wGYhfiAwMy2YFpFo+xfzD58H2AgqCGAJwiH4yJYx5qSFBo8H4BME47xgGJiopjaT5r3qaFfQPxnTDqLTyErTaGt44hGwSz4CDBSyqFAZfQAJAK2FlqiG9BbqOGDDqyuGLol7Lp9peEiHhylyqxOGgCmycEUhPy1a7ppgdow7OYNhiFJEjhfygApEWj1zfTbq4HNZ2FkwXCXyAwH5AhZFggFEgI5ZnqpFP51Y6GSJ0ItjNZj4N5kDVQ0i6DF6l59ot7eFrQujAHmztZWIFLDERFtEHDjHcY9HUCyDJTOpAqHSwEA7pE4hEY+BTFPAqGQgVphS452YDGhEWi1r27my-LrHbTVjIbKqtE7GPb3GKiPF1b8ITHrEa7jrrFTBbHho6j7EyB1Egk5Z-GggAnZzbHzAuggldGuIwwdpdBeKDFBY5IfEZqCFUhjAzGwnKyyg6AjBvGZCnasHxREkknWghwQrhK7F6C3EFJv5YkcYeC4nF5a5hBERZC6AkkslmAAA8lJfJwwzRWeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANT5ZC7JxRAxBqT4BCoCmgC6k5E6l6lC6GDRC6AepCo0mGiTpESfrUA+Cynyn4AyCMTTo6AqmMgMCiQCqUCalAjmnWnzq2lGkOmklZ4RmWkRnD5hDRn2kmnikHzxESjJKpLpJv4r45KH5hqLHKDdAZBbT4mFB3gh5xmslObY5bwXZEiYlcnwrjJdJlkcI976n7KhjLFGnnG9oXrybJm27Jw5LHCnA6gCmjk2DhI6hOmzljk1kzgtmDAuhOnZ7zZ0y+ZeKTlsHnCDz45okXGMj1kpBulrCFm-rEDpD3rjnVhalbmS5voDoVogm1qTF3Fr7wpfg1ngkslir-Ef6DrgkIYInPmJYO6zE4heKdkVmEFO5FzwHVgFnViDDWhFllolnwXaI36pbWDVkg61kYWB7nlhCbp4a1mtmKZwXJJbRLmBy9EDknlDkVwjmDpERv77nfjUWjnhKyCWgLmV73jqA0WaornthrkqIdFkWQWgBpqlK7ldI8UnFHkjysUrrkWhCXlxkpgGp3mFoPmKhWqSiHZCj2ryW9avnwrvnrGfnFYgl4Uza-lrT-k-GAUIkgWtpgWfFAVQlWXQUElEq4XjHmI+yWLWLsB2JcCOIYA0EdRSDRoBpjDFo+JlF6FXzfrEApjJWxq1GuF5WUCBp+okQs4dIhpKJfjHRroYwVpFVxoRW1qAxRJiEag5E2AagIr4GFBiF6gdXWB6jdX55iG7EDWgC7HDWtURyHjjWHhTW9URw8JyA5HLVrI9VQoRw4x0AkSqCQaDDbW7VpQJIbVhBiGXkDWXnwqnUKoRwbQjCsIeB0Bfz3XDCPUMB0w3U2BiHanjU2B6AwyDBwjrZbaWq6nHVfXWBiGGR-XWAA1A0g2gCWqGSgAQ0jURwABUsNXqgNqNiNlqGNqN1gkNyefQgIwA2N8NeNxwoNoAYAaN01-wgIAApJTbjcDTTUjaAMzUTaACTWIawX9VTRzZtlzRScDejUzQAIQnBC3s342gAy15YS2M1k2Cls0I2c2WrCnWAq2LVM2ClHCw3C0K2G26380RwbYa3U2i2Wpbbm2S1k0bZG2DBhAm1a2gDO0O2q16CAhS3Y1c2hCi3WBS02CMFRIQj1XRAxrFWpU+y-HHClIbRbQaiDANVx1fS9xR1+opWmHejIgeBWQhg9yJ10zJ3ZWc2jXR0pU5E1UkCdjeXWDp151Q4QhYDZ0x2Bqy5J6AxiGubjSdA5H93uYk09lnURyQDEDjR0T7XWCT3T3Dyj1j3fV3VaBvWwCQADWvWSAb1L3L2k2+3b14TjVH173L1iEAByqgF92NV9F94lY9kdsezdquLJpdhQ5dnqotwJsqE11d+VZ6JYk8VQHdudquyq79KQn9nNNVhoad-9sdgDfYvc5sEG-MOdADxaiaOgV8zx8waDMQkgrmjAgqA5VkqgagwO0QQ83ZCKzdpVWQQoFV9djdYQFCuDFQYQp+EoglaSg5ZeeD1qyJRemlfaNulOhavBCDjV7hLJgwS5Td0jYwr9a54jnKVOUjGDiDlE1AhdxdyGCjf9WjXdEBcoTxrDNgaleOGlS6bFpgdVseJxOg1U7J5ytjK6aO2I6SojF6bdxBTVVicUtinADiGA8V5sKREYFAkg0chgr4G0jAr8pugjCwbgng3gz07RZQyTzpimx0G54YUyWQnYCZkgVpqZxpQqx0OTrZRE1ThTj4jCRc2kG0o8I6Akgshpugp2IxDYJkpA7gs8HiBgrqpApAiNDAupeg-TPFgIDE4SczvSQIKYEZ-TZ9kKcz38dpyahVsww8vg2z2DyG7DbMCkHN5gv2MF8wFTCZvtEZLT80sg7Tsm5dJzezyhfpB8CZJggIuz9g+Oy0LA0zSaKTy1wLkwpSCzeG3EdMfSgMFCZg2wWA-21mTZiE4LoaQQvFLoCLZgStQIpirZ4SmTBwCLszpidJuRtAUQJklosTlYCTr8CLEKREfm6CcCHSZLSLKLqQrgBS4qbMkqGLzpPLCzdzuppzAL3gQLOo8iuLZgupyL9M4Zup+Ze0B02V+dFygmuLSZCKDEVpkrI8gLJL6LcrILJT2pSroQ4I3EPLhG7zvts12D8D-zxr0ruThQfSDJzLimRrvtY1b2PIsrIL65bouLrrZz4wHryLKKXT+gvrGKQIAA5FaRQgmam7Gwads7GQi381G9HIwEKoW+c1cz6FRU8Okz4DqCW+s-KmIZJJae6ZacwsKGgtSN4G29UbPLUSK-SY6zWyOEW7-S6LW5G1K4wCwLU3-W66a2OzJWUPO0azE0O8DVmWIOQ5Q6QNQ51nVvzJFOzFhqCxylyh0jopCwfXyCGdypzIMAK0TFGDohY9YOXZu1SNu5QEPA0fDAe9SEc0e56ykH0hq+e4pmIaYnHAgeq9MXDIB9yU0nDOu84CW-KOajDPu2RNSEe2GnDiexgme7B-We+fHdxXlqUmq-kuiPe88rkDos+VHb+7IF0GwrWuXSh-CGhxh+zP+3R91sopRKR6cICGNRewyTqD+5h0xxhsmkdGAmUBJ+zAmG6nB9Em4fnYJ3loCLNaJ8wJJ0pzOvdmp6-hORSYCG+1Q5+7uzaDC0mwyQJ4WTboDOZx+1+6egp1hyG5QgB52IZ3ZyR9ee51J26pVtZWBtVny+iHRyFj4UzRB8ZbtJR88Lxw7q+v1huoNoh9BUhWdCBkl7B6UT6AyaB0mzqMV0B1Ke6VhvpYasakI4KxzKZbl5Za4XkYGdh7074kV7Bxe2Md17CxVz4EYjef+oBtqx1M4K1z3M19w2IPyJ26+OQCwl4Kwh0MGPMflx13CXCKBth6Z3N4wMKK4fsMxx2wd6+NdDogV7xZN5nMl2hGABwt4JuBcKBGneDpKEZe0OQOYlFaQMMJtMtLEV6rIGdJ5GgGD6bAlbN9SJFHoPdB83YH6IwB0D02W6kzvJekjyjw-eEsPUdiy00tbOoHDzIB8zqDqIj+6djyp3kwhJT8j7SQihTjD6QCTx8y6PT9T0hwqR3i0KBGtmGv7hXrknz1kM1ZjaLzIFjdnneDmWkmz5IDwIMPD5IOrEjlS+mGqR4JL7WvyLDyr0rwu+XqZCL40-Jb5qJNr4+DxXj50NpeGrbx5rNql+r6EBWpz7ryzwr-wGG+AhpJLxLmsr5h7xSY7-b+lw2I73xykKF67w2TiBzyGFT-JduYUHNtBqEEfPQJ2wr4byrz76JTaORSjv79b3lnr6zwb772UJni98U+b9mpbzr6H4Wm5kduH8nPYBcC2LX5L8+4UAyYDFXxNa8fn6RUX3Wwii6L32b1ZS7wRWEO70n8j573pJX6T6r9XwYKX6BIHwksH8vx0Db63wPR0PWTyymV3zODv1kOChf0LgyQyWP4XyOJP4Otf1b7vx6Bf7Hwv3TIJd3zKCc9x+r-aPmEHT4x8gqQ6JOIdS0B-dGS5FL8GwFM5y9FgNnBFEkgyC5kbcREZAUJxiD5RhQyZcJAQM7bJlXS2qSriwGq4jdnAj3WpI10fDTdU+ncHELAPIB-cHGmvegc92b488xgkvNbCA1jxfda0PAysIIK05YC0k+Yequ9zyziCFuj4X2qQIO75gbi7eB6DEBxixBTcIA0EldwZJ6CX+oJVwh4G0EDlTcegcwYWiNIpMdQNgnQZMDMEWD+iuBRwXYKu4ugPBugOoj4JwaEMnKxghEldwr7NEBkt-JgFCVcKF5JGxgqoiEM27OAGST8fweEKKYbFmsd7f4tzwIF9gzwoqIbiCSry3kNCi4SQP90LRZBGAuibmBwiFSXcF+uHfpABzj4x5Ne-gr3K4ICGg4nKRQnIQNgbCdCW+D6fHoOlx6lCTC5QyoVJAyb9CoSw+IiH6EWBCp-B3efwXvx6wu9mhXXRYC1lcoNgGSywqpghDo6DBjh6LOjnP2SxtCc8mXOmBAIUpo8LhOibnraWyAsBWE6jTtMGDDBwhZMdAQ3r8L2oJg6AavJIejzniAiiWoAYEf8K6Bgi1svnV4tOSlj98Beotd4Y8C+GgYfh8gEEZ0zsDYiZwaIwxj2ThGgj1YdRGIMtCyAUMwIfwgEUCPxHwjpA4ItHmC2hEXsKRCI-gEiP65icEI0I9EYjRpHeA6RgaHkXoB5Fsi1s-fNZBiK2xYjPhJIzsG8KiAfCg0YYIwJtGypxwUm+AbUR2kiBEigWyoyQJ-R-SZk+4RcQ0VoGNHKiDmHw49vtAx7KiYReGQzmKJIbZBJRLI2TAOmnIajHg6zRUQQCNGygTRHwp0cSPzimi1RM3IRiiUkAepAGvQC9MYM4gwFEhs+Dod0K6G2D+igQu4sEIGHBVhhpwR3he1iEHBMxWgbIQsIFH2jvAoOe6vALWHuDuhv9LMQ2KeCIkKQywBSC2ItFwCxSg4g6vWKiF9iruH5UzvgC1CD1IyN2CiAuI6DoD4OY8YnuONhFaAzAF7D8qAX6465wwvBXcUuLnIIdkxqY4sOmIrjbiexU40El6KSqvFBxiLHYD6leJZiYRg45aK2NHHos3x8oumC6G-HASB+zYpwCOI4FilxOu48CfqR1BgSyRPlf4tO0BDzjCQg9N4UaSyCLdQcjoxgoYNeK40wxeGfsZrFGDRRWEoOfbggjomNBBgKHbcShxzFu9Y8bYt6vumrS1pfxw4ziXoGYmTiGJtAeRvvVbSsSyx4aTiVuirQ1o5xq49ccuM9H9c+izjewCgWDFAsZJ3E+xomLjwrFtBsMU8WkXDTw542prN8RRLEBfcoxjwNnnn1J7sj2JmvJPF9wcnK8nJR+Nysf1GErZSccgJZnQAxh4TQAMpAABJ4RJAAAQXADgA8IAAJRlKQAAA8hfWQB5Zrid4b0jBK2SECGcJkv8b2IMEQjCAhk1vjDEKktiYRtkoyTDCU6ncocVUpwNO1snqBckIk+gK4TamlA8p83RWCkwilRTYp8UpKalPSndSu+dUhqflMVh8SWpV3WyY6LqmSAVeKIZqSWnbazTiAdkLSQ6kETaC+pZ3OaZBJyqPiUm5ou0TqIYryosx7gGmsmT+4hgooNEo6QgjunUCR+Q4pwMVMn45S-ub0gqfNLOkQUQp9gWwD2wVgkBAeeWAAAy7Y7wDURiGLEhnssb2KYg4EwUhl+hoZgkPLPQVXA4zz0BUXUjwEqxfgCZyjAtMtFcJPwkZkyZQcYMpk4j8OlYSgGf2InEZAQcXBkszLRnPd2ZW-GptzzsAHQGZoEKQDED3Q9t3csePmdewFlH9MpPpFGauH5lszMZlWO8BqLGCMR1Ar8RoaUk3RaJLuJOfgftBVlWChu8s09hrIfpLNPxxGMrmMhH7EYdZkgPWXIFfildCOCE92Z7Nfi9c9hNPcrqzBC5o9-Z+s6WcU257BhcRKPZELRzhikUIhGxNidAKLiRyvZ2icis0JNn7DIUu5IntkwaavcmkBc+VF+HYJgCthNwv-oUA9wFinBKY3od+V+k1z4+8wDwL5Lb6dAly4SecX1iXJEQs5r8DsY-g8CbC0+yLX-oMM66vEDBw+cJKPNNagkzAWLFeWMRDmapB5sgMAY8MeFVy7AusqOa8P0k1iUxigfNIjH57xD1Av0wXrHmGGlRuhLcoNCWNLmRCESlWXzJ0PxZh91eX4EgA6WgntjX5nYwsZMDEniTrAmFc6ZwxS43C85J460KWjHp4AMamC0pB7nzF5Y1hxYgpHAu-lGy1of8ysSf3cxmzgFJpUBWKT0EoTrA483dBsLv6-YUWCJcnJeI0Z3y5A7cxBVLl8xxyqcUgEmHAtLEBULAdNMAJgoxokKGwGExSSF3n5yLYKwjOIZ-MyH3z4FWXKHs4GoUjwBJiwQ3osAL7pzWB8wWcUJ0wnSQlJF4hRVhLXGGdNx8nYxerH3HrFnxLQoxXuNopqKugqY6+TSH55GK06pi-4p4q0QmKfFSbC+QEuWJBKsgvBAviEvOnWAMFWCo8S+OIzeKtgH4rJT4CiUXt9FtCwCaSLHougolCEmwMUoEnicylMCwoOJ3VhVL5UEFQzvYpsW5CpAlM3wNFnyJXd9EWVUXBaBTCUzzCMsHomVKjCUz7BcnaOWvNcLMzroMygZWi1ehugZl2843GTXUB6y4QXwegrUUM75MNlMsj6KgydSsJVZzwSmUxNXYLRvpZ0ySVCUfma9Qw2QUHJTNrSizQQ4srIJLNyAzLKsi2CaDQt0m1pJ0NSgCUJMeUtKXJoYKZSTHeVc4ZlcKmwM8r7HkyXMoKkeOCoUkOLbFjSFSV60-y2oxgJbeZR4SFTIrPlMs+UWpLwmaTTRegYpbpPOWhShpkgBKXqgAAyeEDKdth3gIzBE9gAGZTMzjAyH5pU8qcGEqnAyapU0iqQmHFUbTWpXfdqdcszh1EepuSFVYNMilcreV-KyaZaGmldAVV8qq7uaIkYHBBcS0rSd6gqmrSN+60+VWiusCAhKZu000eCGfb2rmV3My0l6uVHghrJzgNBhatOlSq0el07UeXUFxfLRayZNBvNB6W3KvpRU86c+3+lcSe2EqqNedLDXJwGG5K1doJPuWSrHxdkqdlaq0laitA8aumLOK2wDprV3wroFKPGgndtpmcGFZmq8oMKEkYYiNXmvLXeAo0BaiCh-gApaSi14WFduOrHVFtip1a2WZr0tjCBa07k3LkuolpAh51JbKDOGg3UkAe5p-C9jSFsyrgKVJbFde6MM4nrcgN3Xdb-RnXxiulLc2VcoLfGrKTRRpSybuPXkBAFgWiOCSSHVHukxgnUt+XVOmaNTGguiZoXVOUGdSK5i-WPPD1rQrS1pEsVDWAIrQDNtUy+aDcqMgZTp-V0Y+HltP6k7SQ18lRYODjZ7UbjptGvaawx9bwbRJXqRGoRtFkiJONBE2ddnlnnzYBERcQwJBuuUwaKp8ytdYYAzUtja0aYBFYJiBWw5wun62GN+tOloaXJ8mzDXlmw0uqJY8q-DbHl43L5mZpGo4EuQo32SqN3bLIN6o+FHqUgDGvoA5s9U9tnNjwGQvCl5k9tBgYYizXKCs1CalFdcnRag1W5Sb3SgMkmKht-U9LEtF7Y7tcrg3bTp2aWzqRlpo11FstAm3LSxt0QSa7A8W0HIQ1g14bcx8mzIN2po1J5OVI0xKclLSngBKsTWuKS1vGkCqON20oLYjTq3lbe4wVQECkl+Y2izoaWtNTLLDSlaxgzMyrTJrU16aa0Q28VbWk5Xcq+V7WzEFtqNW9bXi6asMetrzXeT5F42j9epTPRWQeC7GF0VRXu1BFisaYW7SICoyzKmwT2ybRSHGyvboQt3JDCkyDlfEoEpxfHNtTe3egPtv6x7UDue0NZId0IGHRCJ9mcJFljcNcBICh2TZ7tXgt0N9rE1nQGoOgUGF0ApV47Udpw+HT9olBswcY8CPLooip1faadROikBQhYBtdKdEcgnWzt0Ua8rI1AKWf9pEDIY31zo39ddtF3Q6Zdk8dxb8uVGGdXtwuwFZjrl2ZwNdb-RFPWgXVFsisDWOXZgVoA47qM1rZehLpDFmx3NvtRtimAPWrsciKumIG3TvCQ7Vd0o7HQDrvWzqpd1jLHXQBx1RgkdYuj0XdiPHEyJRDIgkbQwLy66KV7WEPRQE92B6Adr6jyrOrv4pAwx7uqWeNiT2TYC9Zu+-qhMV3hbIQNusbYwEtIO7x1ORXPSWmFVFwSdHiNhD7vjG1rTR9a66bHoXT2VNs5ulIGC1r366W9HTPXUKjdTurCgDKjSYJuZUQUSkJei8bPvwnVr-KfY5Fv9jtw7ws9YQS3VO1FCV7W2Ne+PY7sGBj7TBAu2GCGHBxM6UmhWenRy0KGwdoF86Jxi4xZjuMhQRa5zju0QLtT29ku14H+TrVXTG1ayZtRChv0DNRUeQwMAUOeAKMTevCx8S0qfx3sQaZI3SsoDf0wLAQf6Wrl9NEqMAiIf+yzjllDU49i1ugRlfPujEcLb0gq0oI3QP1dhK95B1znVlP3KYJ9ORTg1Z1AE4AK0G0dDodT+G1oAAnFUDd0SAjq6+1HpnxgFyG-h1alMctF8AX7c5GmqioYF00vkwuXqZwBSVhkd9xDe1PQMm2TYpg0Ath1zeAOUXwpzDJw2uOBoHTOG1DdEDJuaOQi-1nAKNFwrNigHWAPD5orw2sEGCiGA9R1Itbsr2oHKYI0oSDUAZDEziM9poo-Yxr5ByA9lCR2OPurP117XUOR+I+MEOWu6k4gXCfY6vc0YVvA6QGkIvVeXybLYtadjmahaDodAup4vKM8BiDuaEyFQUNT-OzQhRGADRmeorSE40heSwocis4d9qGQljf9RjqABLZWoBjoAJYzDUqDniQjKhiw8uxvVGgFK8-R4b5mg2LdkoUG1brJktj6HrA02yGXFpy0FbtpVKwSVPOsC+YxjEx4eFMc04zHwYZhg40KkBDbHljnUyULcaP4QmljIoU43XIPmOHCgCx8E3CbWOrtK0B6BgHCfhPyVQjDq1tXWogOtL+9G2JckcbLUoT4DjIRA4JOKlBbcDBARGt4m10j7i2ccXCXPvX3kSExomgXe1hyB0BGIGTfo+Djk01pWjeWdo5x26O5RZANR97haSGN793yjlfvbxQ5MMmaD6ktfY6L5Pnadi7zao7SaoAeJLYd7DU6CCZOYHOabJ3IU6pw0mTJToAAzbxTfFYrGyLQ+HmYAWamIlm8PDGFUYpXJs6JegBpQAB0sAyW9teMBYT4B3SQLPDEDQRqhpW01hoEL8eWIFUsAIZstWGcakRmYF0Z2M-HPjNBokzp44jIQAwq-0PmDJWs6AAABecDawNGbYZxmrjiZydhgdRqDBWz6ZqdJmcBDZnZA+YFFjcGKzCnRTPgMM12YTNVn2aQbJmlxFviWlSAlpNcYaGTYQg8A+ZxdfOfLPdmlzqZy9muaBAeANzW50NSOZFBAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
  (constant-symbol? (car pat)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBEZAjzajTGyo3UfIDNFei3Rao+-NaPuwQ9gh7EECDjAkQlFlBogTQOKCBjhCWYPiMYRJE2FuCDiHghIcaO6xFiD+EwsYESxTG+DjE2YmgfIEGEAlUR0YlcK5DupgDNhVgiwSdFzFtjAhWXd5OqDcxdjbAPY1kuOJzGtjlhgjaysJ3wA7oh6urDIEphXErwh6vXfHqvFnEtib4RLaypig9boYZg1BeQHoHrHCMOCaY-iBmORAHihxC4v0XYGv5XjQAYadrpZ1zHntxxWobsaANZKzpxxE-D4LOj-GKiegAEycdOJKZgToJGpadFBP0aEIwSMHTcauLGC7dD07yOincDm7wVtR-1NQZZzxrKj7EOQhpt6jjCYhXI23dlkd3mCaBEOB4xDvmO8SZ1pxIOazCJCtiwTLAU44CYoDYnzjGJLE9cRSJ6AcShhlYniUlEmZbjHMcAyKL6KhYESzA5iEiQpN5DCQ-AiQ97i6MtGw8C+RPKEVxMfo913uzPMyUUDsKVj0kNY9bDH0+A1w1qo5RIfIJpC2AlejQS8epUX6Z1YeVsCTleKeQf5WhsPPQDMwJZRhYedqQiaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsQh74AzAP3Q7hgMwQBTAJw4r4m10IBjFvJ1IeqV2PPZGS2pTHZiXEkEnKRJ2RkmQJUAkmDAvmw0keDVPbZ1TBGqU9KVlJyn5SipJUiaZ3x6kyc+p9ADqZYEEZGTYxbU3yev38kDSToW+LaQlm1Gvo7i8g6aTNzqkDTGpgjL0YRD1GJ16EuYmUtTX9I-dJgOQeiXdMQifTCB41CcZYCel99KpdA16mNO2mPSFxjaJKV2yKIkAzMEkAAAy7FqYWUA8J7GEiLdj2EKSgIgmkL4zSQqMlcFbGRnkzYibWNUjwAinHZqZAwCmYwC+afYcZPwJsY2K+SaBqZV7LsMTLIlbRYuw-LaPzMJmCzk6BvZjCk2olWBTA7cLmV8jsCZRQo+M-AkvzJkCy5ExM7Ys6TxmaIdZckYmRwIzLUwiR9wA8DIHjCncyyeGZIehyMjShuenMvQZkIlnYciZYwa0iSAOG8dnZ3ndcJbNsDWzpA8YErpFyQkhyw58YK4SpwNCwdHhc5EYfGlMBWybZ6sk3okImC-C0k44BYJkPLHPE+kvUGOZnKakJ8wuqiC8d5SOELk9xPMp7mIADjGQpopBUQMMLn4SwjhWyTod0NMH0VSx6aZsRWLshTRSg4wlySLH0ahAVxEsfRrEHLnhz9Bg8rYTcLnJbw3+0cSKR12vHVll5Ec-9HXIxaHzSm20SnilAID5JO5TwlOdQLPlntEhKYghs4BYgMheesQ6QE9P56dCixVYtecPJaDFyASHCd2F0KVqY9p5NvVXlHx1LCToZq8mwVsIHGaA0JPQFCguIfCyULyLQ5IdUB4jj08AmNEhUbD-mDyB5yCoBUoEwVjyXy8GCBc5PSgx9A5JAeBfBI0HoKggfY0ZEgscF6gt4gi4wGCVgRCMoSTc-wbQrkkyV5+7sXOQgjsCHBMFICwCi8WIWkL7Z8GZTNhN24yKe5Vc1WLeMQRfynpmXPCcsjYUWkEFYA-IPr3yC+8FxbXJcXi2Uk7j8w2i7cThN3FyB9xdiiXMeJ6JvjWhti-eY2DEWVI0x78uELz1sUp0HFIis8cEpV43ioSr8tUKMWiV3BqCDi2JY4tppgASFmNIJdf15xfjw0nrdcPYvPaWLsI8E0CSKPHqgSJcSEwIDUusWskJODS6ST0Ak7NKuFzkZ4phI8UqSvJdgZGT4GYSBSXhzeSHIbkmWdt8ZTXDYFMBamMhkZRgiolnO8pfNqZY+dZW1xhHnzWeGsy+ajBYIyBrZRQbAnkUwkZNAM6yzUfTnwa1ZxlyM1icu12xgziA7ylcNhE4l9zH6UwM1K5GRlUzOg68ZWf8FVkLB1lISTOm0sUkSQk4bS+CWJK+UtLaOTZVZYcCBUkJ1lGKoILJNAWViEVek-icuJ0U+iYEULaGOE2XZbK6sGMBkSCo1nkjNJRE4yf81JV8SUMiUswMlLSm2BcpW4AADJSZSp7khxBVKqmvVkZOoeGf8uoEtTiqxDdqadKJbdTVVrqOVTtMGlQtJplQHVbSINWGyboc0wVcKrFXgA1powDaaavlWdjdpbXF6RIxDFqR9pJEw6X5O5ynSCVgQCIvjMunWj7wffD1daMlpgccigar0T20SH4MdVCqkuakJelRj9RZ2ehKCpFr+lnlpqrZcP3RULjIZMq+1bqqenyyj4DDe4EW1EkfLE1EKr0c9O1GvT5A70-MreSzWWgXVqjP4WyPBF7QOCsMnUGioamFr+lRIZUfGvxlDra1jq75QjJ-LOVwxz8ulFWvpVFtGpnKzWZnXtDl0JINknLkoFHYbhaVRbItKnJ3UkAp5zCmefmDhDMRNE1a9dcsM3WTsL1CwS7iwhrW-KToi6xMaMt6ETBqQ-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-m85mLkufbyrn1zPbfs+1CAA')">function use_index(pat) {
    return is_string(head(pat));
}

</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.77" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.77">Exercise 4.77 </a></b> 
  
      What is the purpose of the
      
	<span style="color:teal"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:teal"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section <REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:teal">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
  (store-assertion-in-index assertion)
  (set! THE-ASSERTIONS
        (cons-stream assertion THE-ASSERTIONS))
  'ok)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-JwPAOOcQxQDkRQIBgeAkFQNA8TQYkLhRDyUgYYw2BkBhiFw9y6DEIxKAUSghLieNAwG9IFBYMhptm8JQAAH224yBo+Uhqimj5NpiXb9tSFh8HwDghA2uadr2v1loyf8ZrmsLeoLTzUmYMQJGEBhtzBU7KB2Pp7jEebAoGrCwfCAAyRHen6QYEZHdlIf+r6sDq8xlvIBRiAemHFuSP7yAB2pgdBB6rLoIniGq858ZcQxfFW26GHwEbGeJ0mqIWhJAzmfQiI+-lwrZ36GAtagxDoYm6FByWqNhynqaBkH6dAcF5cV5WdLTVnLk4g2leIFXBs5673rO19ArFm9naTUnJhNvGzY8i2jYYXCSYxx3ydRkYbwlzape+ziBuNIQZwqZQ2HIUr6EF4ORYpqHAdpncwasuPrcT5PU7oFmvb68xC4TkwS8yxgOa5+3HozhNXbtdvm49z2Zerhhi5T+v-YY9PlidtHxbdiO5qjmWBurI7xX72vB9RUfYg17OaZ1-O9YX6gl4H0vy5l-fD5X0ubab9eYnHsO3c793Z+98wz7+Zek9XsqA5v4W24n8ObsEZR2kKAAAYpAAAGgAWQAKLNECIQZOyh-jgjZsvb01BUTglAI5LBqg9bJ1WsIcgsk8DkBkFoUgWMUi-RpP8Wh6gRAcGEI0UBqhKCUEIIYRoIAxD4NpGgXIChgDuESCggAtOQbkFQFC+GAAAK0MBIwwydJrABSPQwwwAABsOhsB4AgTA+BC0FD4ErP8SgfRQDsA8F4Rq8glBEJYCQhg11hC+AII4SxfRQHrlIFpXBFBuFY3+O4zxXlyA2K5PYxyfQagWOoTUWotQ0AVx+gNZxJDf6b3+jnHeH0rLoODNULBzgT4vzRETFx5AGD+KZlQwwOSQ43GxI3O2PM+ZM24I-YBPdKnAmqa48JzTM6gHisQNxMShgAKnkAyWHtcZz1SCJUZCYBp5O3nTXe4IRKDWYFoI2FTK4uD2cQAAHoQQIbhnBrNFrMu0wClkDNjvQbiqIfgXKucQG5acg5jxDhsqm+TtmFNAMZIo4I3jvOcJ8y51zDDlP6SclQbzRrwrqYEdGatW6BhBgwQIMhdZ4mRT9aF6KrkMEpHctEoICWVF1qSL6vc0VfNIHLNgqsHYArGfiwlusdCe3STHVIxh2hWxQTS2WmztagtmlZMVtZvHHJ+hMwabQlWSrBmEdWIcdbgkVRK5m3BtWks4oa7x+yqDECNk0oOsQeX-3vo8hZzKBlVACTOD41qjYPR1bilwYtTVupRdcr1BybVW0oHaj6-rHWBmnmEENGTUg2s0LiC1WrY1CU3ukTIfqzX9VSMnD4VrDlRoLbqsZr182JpAcsqZdjf5-yWprEFecwXglscoLwKrOJqu7V4KV+rB3ghNZLZNnFB1uPwB45td9BjT3rS81IGgkHUG5Gvf5G9AVtq2R2+Ves10gk3UiydHl0Fsp+Yiv5OL42BoeV3Qt5gU5iBjdyndYzH5LufiihyctSBvv0EQONn71mpDzVkEDz6XAetLa+4D3Cc0hzFtB895gw0AaA9BqtCYbxobONHItw9NxfLJtWvdsqdxfKssUcuwriPVAqOc8U+heLkfA-so6k0ZkjHY+EXassF68cGPx55KKmMXIYESXmbGqDzUbN0RkYt2NMU3sJ7o4RSjgjo6AZo3RxM-VSlx-oCgcRsm6KSIWjYGpAlSuZssvgmXkkCrZsCJSNT6VAJBvT1JDMioJRkQOEajYcdbVvKjqsfVRqsqQILfaPJvCTrwG9dBshBbCw+51+wMswbiEFmdc64scEy7LSDk87S0Vy1MGYwI6b6zYI5cgvg-pxeZjVpoodF1zLtMVh8QqZYfGCJMi0xYyrVAYJJ85+hRvaWcPNAcA0pusdm6iSYQtXj0CpEpoEU3pPllk6t+bTFNvvAEMoRIgRrZHayodUzgIIUrGM3domOIrI3boCoyggQibVXQvwN7R63BjfoF9n7Cgx0Qqwh97gTxAQAD4VCXajXLYHc3bvfdM4+UAFEXzknOKbFFQ3AiBY4JNxgU30sles1tgQvEqEuCBEls8qWqeMXJIt1Iy2-hyc4WQOg62oKne234Rke2ZNEvp-zoCRpadI9IFdmcfWTNEwe3pWIz3Meve6LFoLYPTN-emIVQHuy9cvYh-hZ0WE+uw-CACRHF2Fco+V+b7HuPoz48Iwx8wKXJmU-Y0LTeh1joid5yAjgAgAAqAAJWBDAACC4BwCwIAEqR8gAAeQAHLICBJBk43vYOSDUKjrSqImlS6SNwOQTNSu+-J8x3nDOOslHEJIBvFyaYfYr1QZvK5mjGc6Aubv6GXCD8yKXkH7w4dQUCjHuPifk9p8zzn0fbeZxTa72j8vTfpeB5Dpr8H+hxcHcl736X73t-OH179oVtVKkNSakoKAcBEDIHQF1PERHzBjRrNa3WVslYyGFG6qw0o040NAPGCMykpQ1IH0ykzQhMAs0BzoCkN00kV8HSP87S3MvMaQTMpM3AgBLenWryZ28cH8dcW6ksMBLQp4VKtOFBR89cABdAQBCBQmKcB878zB1Bm0tBv+C4b8ZOvBtyu8xBHBA0vsFaKBiopQghpeCslsKsrB7BzoiBqQ0KZS9AcK3yvyaWshKw8h9BWhHyC4V6+hqhJBqwssWS5ApMtBaqbMW4QytS9SxMjShBj2q4dhhWvgXh6uKwEh6hssmawW-BqBdBPwYRRgGqRqZakaKs76c0RBbB1hsQGhjaPaDhkRChg6VhkhKy5MORchURC4qy4haRhRcshA66p6t6ERpRx6-hghHQWg+gl68K16YhksqRQBluaE+KeBAcTSr6yR1gfRkwHBZkwQusNkdkDkzk1IvgKs5A5ynkLgrR1qvkA2AyzRHRDg3AYxQknOmK1ACgZSFiDAzhyIguhogUzRZxFxNAVxNxhxgggGSayw7unkwox+mhighA+A5Q1xlSBxAu80MQ74PyGQRUWx7R6CIytxAxgRMQFyWgIgo0bBB49Avq3haE6C7hkgZATSyJ+JV4YxKJqJSIlSWJlYOJyhYItx2Ot8u69Kmcw8Z4JM1ysJ6RRQpQeyAcDBKsFaPJnKfJNhY4GoYYPxQuLQCusxyIVktk9kTksGAylAvgJAGxggtRbAvghuOOXuMsQxI0Ix+gXyhgkxG2gU-6YxFplySwpRkGckzQWE8JJMcGM4CGlpExLQaRVJzoppnJtYTSmG9pvpkxuxKKChphsK5hXRlhlRQB++IB32tYFpEBJM5KbKmKtQhB-pQBEpXmHp+gOZGK1KCMkxxkpkWZZZrKGKnQXKKRhZ0ZP0ChMR2q1pUEpxaamp6q4q3iBakJYGgYUpoY+Oz4DCfxmS6w4a0WKhpqI5wkIcpZXpCRvqpqnAxB-kU5G2sQjY65YMIZEo4KsYa5B4pa3q5ai52a25aRJ2LoM5RRHJP8R5H0J5dxsYgU75s0J5j55Ee5cpK5YyHZcRQ55JmG15iR0aBa95QBAFRphQBOOAjYDgFstQjIcO9u3mb0BeJpdKeB6FNyis+Z-MPypWNaWQ5FTp8kuFmQ-ePAG4+gxFiKpFwg3AwZrFSh+ZN4NFiyZE4K0sAyhg3IjAwJNcn8pc4xQspxnZCy+5UJcu2qjIYRG5Ua4xiFm8fZGa4FWas0tFkRLpsYawtRVs6MYlPM-AlBX8W2HRl585N5zZEwgZ1EllElNl0lAktwkyMR5JgRUFIWGlw5buQF6Ym8fcohDRc03hCkdMkVF8Q8OBT63hmRwhkyUVBhNBBEcVO46VnlSVtst07s5JzQ+enuwlMZ9B+RyZCmcu4SjI06IyCMTEjY3Yeoql7l1lmVTS4SMuSlZ20oGFoQjIXFjMJFGot43Ieo-VLamxdZ4SrlQR5yGJQMgBDJvq7VVpQ1E1tQ21xBbZnEChFRYKxBqZCYaqgpI8+JpZZyiZrOVZ-l0wB1-mHkCh0ht5h6Z1UEjYAcjIpZH1M42BvRrZTEFsmB3MP8gNENXc9EXJkxamIcAcr1P+9B+VmVVhQs4NyVJ5+g6NiVMUyVARz1dZ+NUlQ8wNm0kxrlO5ZwDqMssZjBRcBNPRX1aRWNE1MNuNCV5NhNRVsNK4pZPNVB38I8VZrZNND5Xu9+Jyj+jiLUr+7UH+lg3+Wc6ZJM5ypW6x4k7IbWKNokPloJJycmFAHhJJ3Ai1rZ51eK9WwiQJIJbMkOBERJjSFts6PQtNhOKaDBCg9tmJNxlFlGucTJBcgJwJ-tlSCW5ghJg8ZtASHRpWfKDKMg3AJKa+iJ7tCd1ttKpa-KKdoAzmXtnEl62J8gjJWds+eqdKed3Agq+t4yhtV1XJ9ZIpKsid9WTdtYY6qKrdn0hGDandJMAcgdEWwdeNDEsW5MJ5UdpyU9QpbwGJYIw92dXWFWWQw9h1b1jgXwiKk0dJG1Fa31LmIcN4nthejUDl1xptJMR9cYX6E8Z9DN29+Axgbi-hNexM3ZhQx9YyWEH9XAoNhGjYVikyOl+9ZdRsjI5V59Th19Rg-N21IxpW8MCDcNoZeW-9MNpJ19zw39d9Tqgw-9GD19J52DtekQeDo5LgN4RD9d6J5l4DuJMhqDVYnQ21LA6woD7NldvKVsYgVi8DTcOqOtHAk0Ajp4hlRhTFB43ldw-9gjdsiDbDfpHDr9wRIRoj-DqgCjt0OqAAPMCHw+I8o49vIQqZuOCJHjdA3XQJ4q+rwLak2HqdQLUM0DggANRnmonB6TRCj+HJU6qePd0eNeOBE+P8IyD+ESNTGrimTmMQhWP4CNTECOQfFiAOMaVOPrquN6ygCeNPWxDhN+M6MzV5N6xWRlMFMxBFORPj0zWb3mC5Rc3YH83dnkhP2VjAw3TYi33TCDZiUlNKOlPAX+hsnlYBPFlSOAFdNED6BVOxASo73HSMPl0HUFPNDJWYxBoIOTOlFizRPzMbMDNEQ7M2h2jROzXIUrgDiAGYwgOjS+39nrUQNRrLlFAzGbjJXKl0DXTlDLFNxuOXM5hhWxiHnX2MjrnyO03fkhyiX3SYMBMdE4NLUEkkPmlENAvkSe74OBjTPog9NS2VU-TY38241fOsNsBtM0kxlsEzMEspkjP9P3QBNw2gZ+i5pvSDO7OxDyG0v4tzOomLMv3LPPNMMqFrMEQbP81bMTwTNPWlDwT7NsNw3cs2FwtpYnNCN+k3gXOIU6jXN-G3M633NgOiuMlvOFAfMlPfO-MiD-N2w6mA07F6sgt+hgtMwQuX1QtS0wtjLqtItMxYMBvEwTHzOxCYPos4OYtIU5g-0Jh4vdMWmEs1SyAP4OLNQv5tTv6dQYCq2yxXLnGXGTJvEC64bhYypj1Kl6wFvPHUAWIz08BHS1tXHnFIIwUsG3FltZbdZ2jMm4wFRNtFtG0Fi2Z1Y7jpj6pzDd2xBzCrihvTD6ocjTsxAchzuBn6oYTLvSPUKxjzsND6ogxbsgxrsTv1ZUXd1UXOh7tFD6rcSGBILNbd13sPueKKjXuFD6ofPLsfO7vrv1Y3BWJywsCGBjoAeqBAcNQrDvuxD6ruNbuxD6DnLcC+B26I7rGeOvvQcxD6oSLwcxCIfIeoegDrESKgCYd-s7hQh4cGBIdkdEfrGQhkcxBYdjtgjgjADUcEd0cI7EegBgDkenuUcACknHtHKHPH6xQnTHoALH+q4k8HXH4nOF2tUoKHFHbHAAhJKAp2J-R6AFp0CGp4J2x3o6J4RxJ6AAYzEEZwu-VnowCHh4p3p-Z9Z7J-VvDmZ9x8p6AIjq5+pxCPDg59wEUE5xZ4F358ZxCBp9R7x4UDhTEBp7EJremPlHLjW0O+ggE2rtMK0iJtwOly8cWw-ql4NQV3W0VycjzCwAoiYNGtlw0Ll8iDxxu4O4V93Y-MySx0UGV68cVwXgO4W4V8Kd6kkaNXTPquOcIN3ZN119SR+-VpAHQJgpqdO4t8tzZ3N0Gf+1QOB7AJAMu2BwwHt7N5t6xxCId7Aluxdyd5t-qlnuQFntR-d1nqq3pCV1SD15Mn3FlwCCuI1zx2LDIH6Z98N8wEke93Tq1+V6DxQSMfV0UP9zhR1xeI24N9D9XF8efY8SDyW0cYBsHaVo8RNmqKQPqcswouQNWKJUdJoAK2hCD62xwEbB2w4Dd0UK+gT0cEUMaSJfGIQCs76qVvQ5iWa3iWhGuuZWxlD715Vyy6E4ESD996c-iRLyIFL2jzLwWFVzV6YNtWG4r0zUDQxGECi0UCa487iKL68-23Lvc2IF8Bw+YaXWK0VNOFiALxWmmKAmzHLRm61G-h1JgHmwvRQKYAwOKh8GVDcKQEOulSPStGtJuI-HHzE3Rd+m7Cn+EEEwwCEzU-4cn1wSROkc0AX4vH8L+mSooDcOqvUloNitxm+oT8oBdgoBkP-kYEcc30Rw1J4zNs35jOCDgtpjgm4xU549IsoGz86IP+Og318UXR5N8pwv499sdHj2+uv3mcv88NBHG4GOE2U+CBCGU8ItX8YLX-mblxz0v5qevxMIf9YOCGvjf7iFQmZq+vH5yx-yuNppBrpCZLYTpgf9QAyMLAKhH+JpBOWN4D-gJm2ir1oBgGdbAZz1h0Z0ipQUPMAJ1o6Z-+pREPtIhnAR8Yo0fIdN-z9DNAIBx6DdCwWAGgDBKMQJAp6VpIWFWcMA2wGRG0zH9PGL-JgGQDMxix7SrAypnQJwS59SWeBciuCS17MDbkMAypquBEFlNuBb-UPAgKAysCs+YAyFI-00ExA3S8QTUjlFBDd1X0+XfQa-14Gp8VI+bZiqQLoov8IQm7TinTH4GICzmWQGAaYMkD9k3+bAzIuExmyICf+esAAOQhNX0h-UIWAI2ar9fGtTD-s-zMHh9awpAfwuKhSGf980xMVaOtDFhpCNup3fVEICm5WRggwTByDpEvxl5gmfWeEFMWgilB7BuQ5IWpz-D6A8hwPRIT4MYqNCJ47QtwW0OaEdCvBuIdofXQp5U9lANPI3lyUxQeBr0DpQgCPUoH1E0sZGIIYUOcYrDu6nRPQqzjIym9CguXcYesEmHUBNAJ5WYSgjcB38FhHsRigwNuHrD6sdGE1GIK6QCwyMxfFoJcnrp5CbYqxc5JcPmFkZZKz5GonURYKfD9yh5WkpsyBArgca4gggjsIRS3JPhj5AdnMOBxAwxicUDQAMLIAZoVizAQEVcixHbUIylyFknNUaiwjpWWAzdkEKwgqZ5AVw4wDiM+J+lH4ZItkV3k5GWDOsmXekepEPZMjWR16PkW+kYpCim4A-Y4dTzOHTCu6TI5ijKLtgHCYOdMeUacPOFCkeR8wlwUBk+F3CVgbpVUXSKbimDyRkor4shT3KnEJBUIuUoFH1QvD7WuBd4TfSpGzVZS9xVcj8Iqp5tNSJAW4SvThjMU1hUjMWJGIAFWsaMesFUosU2L3V+o1DLUsQGdb90BkC9YKiCJ4acZ3SVIoIafSLGmj5S5kBYd81VJLFpBBMFwDmKSKZiiW5sK-FlEoD4A3EI2YQBUEGB5i9+aYkMSCKwGrYn+WYlFAMBxGtjGAIyPsTi27Yt1F6TSdETzxRQDomMIedKmgzrD5jAwWETcRS3PBr4WA64veulX0DHiRAx0UrGLAvHcRJoeWW8csx-iPj7xK9G8C+OhhHiTxYgcnFfQIL7iiGK9NsJ4AAk4M18wvQYPuIDjV4cGK9LCGuMvE8YoJDEP0rQxXEZJyCKsA+O0XjH-1uADgW1kDAXgMAmEwgDgKQHmgspCALRKkYpV+IGB54KcW4RawPL1VvxjVb8b+KhaXIYJteRCnOJsTsSdak3ckqUAInh0iJKcEiUUPImViHEteUqqimonnjOJz478dSMAqRh9QpxQsYsJYmslf6zFXIMpOjHejuAxk-wiWL0nRtfRvreNgGKzDYsqGSkmiYsPrrm5wRDDCoMnF8D5lDAbIbyc1hpiGArMO4rOOMxJRBDApvkoGCFKeDdDmKQaElBqPw7d8tcCgTyZiWil+T0pCEIwMlLDbUlspsU0kHlmqBUI7oVxYqflO4DFTBooU-sWVk5b+S0BXESMEFJKnxSyxzI2VgVLQjYVEc5UsgJVIyrtSYp+gOqXFKn6xgBpcBcHHlJanLoicuUmQMnBmj4iq2bLAyQmFWnn4G46U6aPNMa7vEJg6dNaRiRVxmZXcYYiDM1PSmtTjKAAoaaT36BVSxp+ZCFEGnukHDZpu0vnPtKPweSJY4ORZOhKOorUGGQoYbqCArT7iSE4MeSSGxpyDUPxHExCT+ImzyNQJfExqajOEngRxwQQiCePTL5LguIVAXiSGwSl84kgDAADvxA-G40PxfpeGZTPZzNjF+5+WmfTO0a8RapFMxGduMan-0B+MgJMLUBwRBC0E4sqboxQ1SdBec-Mx6EEJFkxB7hqQYTAHiJkQzMSUMykDDJUJ8zyZCMohurLqTMUA8yMawTI3hmtTK8jAHmWvTDwpTnQN4W2S7MVD2y6ZIUbRipnkwey5uYsd2YVNRa14vh0svYBLPcnHQI8GOI-JrTgnMVaOs0yDA03rF9Ae0csRgB9hmxTjuAfwo2X8MAk-U5cPM+lDSE5SMgvZjsguQLJhzy9TufoIuWBMallyxSaUdSGLMjmyypGj0qwbvXt6SA45pmbynxHA7ty05F9TEt3l3xV5BZpWDyX9Ny7eF4ZDjBHP5TUAmAvAWcyfOjjSyrzLITFGmXQDZnTSZAxecDjPPtmnyhUEefLGTlyAOAqEjIAAAz4UBkNQRyKThGybCh41AQYDDAKyPyRS1CIEMrmAXPzPGeIRGmMnAXh0qEa+NVJ-JIzcFHg+45XMsL-mQRGpWEbAfl2YoYLf5MUf+f0Mz710rsgbdKlzjSx9Y6qg1QhRCOIVmhvMKTb+eCJPRYKko7TDUoEEmRNY2AQ6WcdMHUxMSQREKUoEgtYVnj4xDCjhUwsmaZFdJkzBocxUxx8LOgQ6UyXpIDkrteFDAfhUOiskmiyB3wwgP5EalqL9FGitnJPIqAkARAqQNOPGOxlIyoIMsSxQYotJvNTiwmB8HRMFCGt2gCs-cX4pGYrBAo6tficCy0ke4CIjYFgGjLvEYzGAULU+VEpAoJgEl+MjzLUCqalAxZUYKps0A8XWLGZz4jSaxDAG2T2WbJd0uEFEm61iA6igRaHj8WCYSlLS0+gKJMqNQ2GxAPVk5O2kJo9FnisjHQx1lAwoZQJG5DzmQmUt55yMqkHjMEnoyuJcDFxezgCUGBUZyAmbnRMCgOA-G3sseSpNWVqT0ZfpEOYUFPBpL5ePxHxUxNPCC45ueASEG8pXDxKhJKypJWsv-GdA0lK4QKDsvczqhclsYMSXQCOWOzNxVy75U+JHjMyUI0EVCKbJ6XEy5lAKu0TEvokTTiA9i0IDzDSw3LWGpMgBhiwoavL3l4SkOBHJYSjisVlEEZoFHRWF9kIFLTFbGw5k+5IVkTY5fxEIB7hfwxc4WeCywFdy6VUs8VRLLllBKsgAq-LqSBVnX0zZmsklA3J5bfDVqk2EaNMsRQ855VPAIVTgxVVMTCAVmbWVqqmUv09VjwM1flzZCAS+OYAN5ZCDNlYQBVSMFGOGJkZmrWphy3lY7JvAeqdFhQINaSBDWxB-VuIR2Spj6mNyVgKmcNbCpWAYtGKtKqOWDJ9h6lcQtSPrGznznNDzZx8gtYSL-GuLyQjYJOP0EYB9ZGQFC4mCgvFDUKbFrVOXFGvLmwlGQj2dtTXMLXXyrlzOFLLcirVCBv500puYWrQkCT217c0WTLJwH8l6KbAOWVmSSGEi2cfhMsndBrUZYPZA82OQDJHkzqYS4pW+ZIFADz4GAKeayAABlYEueJde-JRTnyx538nvMWoWVhSygr9f3FzIFxBDjMm+IGH1nfV94yx4+cokFiaR5YINb6mfI1MvXXq714ANfIBplDnIaYIG2eaWy-UeTVegwbwofhHkn5cQsme2eOun59Yb8EOaaURtex4K9YVG83LUPrqPEsN18z9Y1MXlrTl5V4WtThX8qPFc1QWfNUfIZynyUpL6kvOxr-U3zo5vtMnHkIJEpCi14mwWZdIXkrSeN+IlcCLIE2xg8NZlLKe9MIZMZd5O+WuR+qIYRqrws0tjVBuU24gONGLVygi3ul0NV1SmvIWzI02LKBArQJrnZkkDix0xjmv0uCA9JrqUhhpGkQFocCYwRJUjRFApsmRebmhPm13IxTi1pYGxsFPoeptdysbuxbC4IOZpkFTiR6eaj7PUqkYTjv5ucsvPNkYp1ac51WtfC1qnENap880YnCNinG-jKcbWitXLluiTjGtW2RkJesXyp5082eFDeSCm1J4ZtK+B9dDjzkGAiOo2srVtlmqBRwQGIUcQvxfTFa81tCoWL1rYUTZKctC1tYNS20gbJtseK9bevvVMRENL21bQQqCy24eO92qDbtppUHb66A0MBm8AURglfSN0yAfml9Lp1L6YOs2AsK2k0itF8-c+phgR0oglxjpUrFZLR0NowGd7cHcbUh1fqqKSOjBpfSJ2I7SdjU1HXlkwzU6sdFOt8W7Fh1jifoNQMQNaiBhKbadAk+nQkNqBUCcJOOleoLo53mxAMCgJIizq-V47J5YO-ANUBbrE7deGW+6VDtB30A1da8THbr1alubwcjFJXSrox066zYTSfXdGgo1olPNzQ+yp6mFK67Vdlu0NnQNRJG6scQqY3PrBEDBNIteQ7uqboFxPqfoRO5XfvJSC67tqXuomCPUJ3R6wSTOg3UEL7mkEQFI05eD5I+lXhA9Du9cinrBBF6TeBW76ToMKCzSI9Zun5AnCT3M6S97uz3SQ1dyexfdpQqyPnsJFPto9ker3jLC53-5KSZekGSvW41UBeNq4PTfDgr0NBydXelIfoEH118ot-hY4jZudD7qh5h617BizYGlEt97YnfWZlNnIrfMkGFCA0Dj2CQvovu8oQHvt3d7uAy+9nOfU7wXZRdiwleqWW+TcRN0XoxYdwCqZ28HenyZ3uazGGU8ThUw7mkPg12j6YwrmLTRPp01+hp9xkd-fwBJiaQweNAf-PM2mrzK8J8zPGtXlQ6FSrWlYIA-GtiDzFqxLgXiCSuaDaiYDAcWocWQVYxzt9l04NnyBrJLrTe1+tvQDnBAsHFR09TvY-ui3cAxDuolCf11LlrF+4PEHyYyAACcJwGWM+x8k8HkdWhlQ81kumTYqE00Z-d4rBHjMZ4dE+5X8UZxSgX5+koKPex8n6BghwQqyGgE8MxaGVeOWMNoeayh4PgFSwoP4YzS5SsE60IGfMj9IuBSOadFcGxHJChGjDERz5twBuCAjQjk8zoE1haxMA2sx+RWMNngNY4V61+2-SIZyPNZWsXdSQ3-i0Cr7jBjWao-kcPF5t9RbgVfcfjoCFQTwZAa6Iik1J0KqQrQRkH8I5gAigRbgE2sYG6OFRD+RwFjRzj+KJIBjWCTxMgINSRyVY8IOiaEYhASJDjjbckaADyEbF5joAQ47hwRDqqYg+x7gV5uOA44gKLEAcB9iYAdi1ocsbsfmVaBflpgdW5XKVta3Fb3jIyP49GwHCrHhWmpfTupERSiNjY-i2IPsfBBXGjjH2QQD8dEDonDjfkZ49ioiBsRXWDQVE7idI5nH25DUck9ccQrJHzcdPTfblMn1Xh0DqJB4w7pDk4H442EkmK0DZmw4qDjUIjkWQ9kL7UhJqLg0fp4OpzQZVzLlbBkvpCBDAjkdaNUEKjDH-NYxwtRMZJFTGe8ASbAz0f4ALGljwuAQJC1FWr1xTbQyU5NAPUym3ocp5yRyfXXcmsJ-+fkxfSd14SDAQpoHjxyLJFaxtU+LrXvJ63tiSc7xq7ehrDNrY3tT26bcvjm1VybB622aYtqXyzac8AOsZPtt7S4wOjqQJTcENWz6AaDAAHSwBVajNQMdsdcWCBmYL9ZHQjutjQjuG94-Rl+u1hOBFmujpZ7fOWfjVVmaz+Kj4w2dIBmYsIvAE8H6R6DTnuAAALxR6gAqz7PWs+OZkCNnSDLZ0AMubbN6QOz4IaE8YGqioQ8YSp94Kqc3ClmNz9Zrc5OcU5ODKOpCKyCwGCbKBgmU3SYMELTB4A+zJZ-DZue3NidnzbHV83rHfMFwvztQo835CAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}

</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter 3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:teal"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in section <REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (stream-append-delayed (stream-cdr s1) delayed-s2))))

(define (interleave-delayed s1 delayed-s2)
  (if (stream-null? s1)
      (force delayed-s2)
      (cons-stream
       (stream-car s1)
       (interleave-delayed (force delayed-s2)
                           (delay (stream-cdr s1))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwEIjTBVAlYLKqcTO4OFfhmkc2KYESA+BwR3wsuiQDtysY-8IIzoGCK+GQivhyPUihDDRFEt7Ek7TKFqDuAUNvk0wIoIjCMgR5MRiQUxnzxFr4BER8FCkf80+GJBP+qIykfGXQrCMOCIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQoEd1nFEH8JhYwIlsEMQQeChRgwgEpO3VBuYVwrkO6mAM2FWCLBJ0DUcsJyEiAdRWofUaANZI6jBR8gTUYBTa7WVhO+AHdEPV1YZAlM7oleEPV6749V49omgfID0BEtrKmKD1uhhmDUFQxXoz4EIyhIENnA-EXkciGDFmiwSuIuwNfzjFhp2ulnIUeeytF6jbABo1krOh1ET8Pgs6Isffw+AljLAZY20SUyrH1jx606Osfo0IRgkYOPoj0WMF26Hp3kdFO4HN3pFQj-qagyznjWpHVx7EFo99N6jjCYhXI23dlkd3mCaBEOwYxDiKO8SZ1yxIOazCJCtiNibRdA1kjuMdEM922W4+MbvR6B7ihhcoo8UlEma+jHMcAyKDiKhajizA5iBkZQltHHjhIfgRIYQDGLyCaQsY9StQJ1TtNWxoYxcaAHe7IiIRsPAvkTxV6ijM6Pdd7szywlFA7Cco9JIqPWwx8Ex9iKMHQESHQSUOSvRoLBPwIFxYeVsCTqGKeQf5WhsPPQDMwJZRhYedqMcaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsQh74AzAP3Q7hgMwSwTrRTor4m10gnFViG1IQyXqPPZoT6JTHTcXEnPF9i0JMgSoOuMwRfMXJI8PSXeLiSCNxJkkmSXJMUkqS1JnkzvnZJk4OT6AVkywIIzQlMj-m9E2wIxO5xOTyo7k2gAlgZGvo7i8gnyTNwMnnjjJgjRKT8PkCJ16EQomUtTX9I-dJgOQVcQVMQjVTCB41XUZYBKl99tJl45qUVPkBGTzRjaESV2yKIkAzMEkAAAy7FqYWUA8J7GEiLdj2EKSgIgmkKLTSQ40lcFbFGmbTYibWNUjwC4nHZdpAwLaYwC+afY5pPwYxEoA8G7Sr2XYVadOK2ixdh+W0B6ctKenJ0DezGFJihNMDtwbpXyOwJlFCiLSWJmdT6dhxWke8NJzpBaZokelyJVpHAjMtTExH3ADwMgeMKdzLJ4Zkh6HIyNKG57XS9BmQ6GTWBw6uRnpsCAsVtE66kkLimM2wNjOkDxgSukXdsQNVMBYycZpTP9taVg6PC5yIw+NLzNZn8zRpKEiYI1C0h2BcOAwsfn4IFHmi+kvUFmWzNxkR8WhhMgOFanoh0wCeHg7ykcLFmkFRAwwufhLDNmL9Oh3Q0wfRSlHppVZsouyFNFKDjCKJIsfRqEHdESx9GsQTWfzKNGjJ4kNwuclvDf7RxuJHXMMdWWDnsyzhKEDFonPjDtFKeKUAgPkktlPDRZ1AtOe8Ky41FOR7EbkSxAZC89Yh0gEqfz06Hij5Rjs3od0XTQyiXx3LeiF0KVqY9vZNvVXlHx1LNjLx+gpucaMdknRuxPQFCuaIfCyULyusmMdUB4jj08AmNNeUbHrmOyHZNg5ue4JkAlS-+HssYd3Id7EzMeg88sb4NunczlgocmoCPJsEqQt4z84wFmKzmqir5XyAigfP1jz93YsshBArIWDTy25AJF4qvPXn4z4MymAcbtxkrz8E+0XD+dXJ-lzlhxyyEgBfJbH5B9e+QX3mrNSGui8Wn4-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-QGBPrgwzpZ-DB2YrNs0A2jNAzOVFKCGlSAhpQcYuETYUQ8AuZw5dOflOznCI85wGoufCLLn28a5jcz2wHPtQgAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section <REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and <REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>).
        
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
  (flatten-stream (stream-map proc s)))

(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave-delayed
       (stream-car stream)
       (delay (flatten-stream (stream-cdr stream))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYI41oDYLB101JbefxqvhwYRhs6IwMLQap1ECgIAUBpoCBIUFRjBRjzlG3a8gAjvg-DEC6B41mO67YbhJDWkwOF4dMiYjEOpCQfukrZp2DTdqWlDEDq74pEe5ocVxc45hhiocJyFg8ckfFiRsXJCax9TdgUojkMQlaZkxD5HMpSGxsKqp-oMm7bkwu4abe7rztBqGgCp9AcA69ZWpBaaioxFksTCImjJikRMcoABEACqhA6oQlAAO40DawwsBuLzETSdJMEEAWdD0JL9BmoA6TIyLKK5tBskk5C4KAMg7Nu5BsKenyGVWyIwqsyTiTQOnAUWNUUHVWURvlOUMG56XGN0FKiLy2xlRV1j+mw3CUEQQj1ZmjXFck8b0OstB2KQGSJfpeW9dQHAIUhjXWTZyQXiMRQshE1D0TIKGXUiR2EMBaYquBkHnc9l2FRdL0pMtAqevd07Dqtw2BK1omtU5uEyDuO1aVJ6ybO9lq4Rw8Y3bOyOiJKf0hItTC4OQhDSF0I1jRN7KBD5lCRP1wWheFUWvSigygKQEh8AlOlpdTRi9PCy22VYpAOfyWOmTIF7cLQnnNa4sPhVwg2QQrRXeh4tj2N6lzhJEenJXlET2a58tbkVnmA00dlS45suQTuUuFdbiuWTm6Vi29iU49QK5ruaCtXhG-n3irRiwzsjCI6b9LLsZDAdXMmmeajxh8Qdydh4HCZQfeKEhInqp55eXCE0X85wplXPkrGviUWR+ESkrUf00YpXlTsTBzbzzdUeR7dNV3MOyVspPk5TAjCyLtNMJNvfWOI9m0f3M6j2tTSw2X5sQVLG+PUxtu12so1iHT8obbt5OH74t4I0v6SgM9+-3+vVR0Vvp8JOf9Qe7TRkhjZ+B8v6MmfmPZ6sNP5HyfrLeegRL7jSXuPeoe86ykWok9GybtH7JXou5RkZ8cxINcL0ChGUsC31AEQCcfYBzSD2k8bI+tRBdD6A3GgjtpYcHoZOJhsgnSmR3jHSe3Jdj2BkCInWH52HyiNtcARjDZ7KF4Y5FRU45iQgcLImEnQACQrhqHi1oGpd6C0pYtk+hmYhkpo7L2AdgkemkxGBFoafPaLj8IEJ-sMex0MWoSNEv3bgg8fEEQYlnbOoAFGAhCAUfgcQLEOXwNYpgqZ0yDB+hbeBhDf63iKgCIGdBUlWPLLYnJMgvw-iHq3VUf1SniK-gUgJ29YQX0Xo4jkIS-QBiTBkrJ6lJKjkdjIW+gzKnZOOjaE0Zo1QxOCKJQsjYyw2JmeZQiqFNSSxkKsks6zMmtiMnMu0iymk+jiXsJBot65khoE3AS3FI7zkcbQ06e1nknUoIhNUSDaFajUuNbx5T0nTPUpBU6QTQC0K0UI9Er8NH8nhbPGQQLqRFSQZgoUZtTr20aNdZJoMJjg0ehi8ayhUXSA7vOX29zspN1avJdxsNanTHhrLXBMF97wzDqZa8WzmKXIaHSuuXCHkBwYVOE+t5lbj1obLPa+9pUDnomAjO94kGqvemcs0YCdXqr1TUDyoBZaeWxSExBpj-ZNwOU2CFbZXk5kcTqw08zzRcvtUc4ZGZ3XnIzvKfe3rmzHKqcdLlmqrJBrIT0YwErGV1kmcmMNmyWWusEbq20+quXJqGSc2Z2aTVugJftM2ebHVGUjaa6N9Rz7wkRMtdEuBMTYigHARAyB0BEk0Ay7mOxeSiH5InCm4pNKONjkqfAJpRhqiMAAH3nShAdjBR1ztAIu5d1hTRmlYEK3Qm6mg7HYf8m13DRJVFFKKHw4zI6kBiJUFgopWV9OsFcPyFlQAADIv2gBiCwOIn70jAZ5g+y94rxbHpVHO8ek7H1XpvXsyOAURFCwymYotfCREwbWLDf9shdGLIg-7HYhrClumjnBy916hC3rlaAAKZHhhod6OLJjR8i04d6RjP9txCP4ZkIRtxnTWP+3Yxqz9Xc8N8eqIJ2TwniPnv6QmQM+bw37so6++DNGOB0cZIFCtGz1IsYTdzQzqb1L+oWeOqTISBP8Zk1CRZInTPknM76qtQooliOkwBuTTmhMWRc5BgsDZDmho8zeCjtmeNxyfTpvTd4AohsrdQEz4sUtGb9carj4ieP2dkwVpzwn6UZbCw6rLnmrS5fRlyXjfnCOBbdC5hEYAABikAAAaABZAAoiEZg3BxD4QYyDEQM9TxpdABFVcUQGNwRYAFVrOVcDgVA1YRU20l4baiEmAQ4wBBBGW1EUgpBFZBBAKKWb+BjRoFmsAWgC0GD4QALQsDUiINgEhgAACtaAvdoOIMUwArBbdoMAAAbAAZmwIiDrPX+vrDYJQKYoGl7PIxFiWy7BAIsB+YhUA1ARv3qYMtkCvIGDTbDIrNHoBPkUxynToFOppsxEplMSnlNpDSDQK5yRC2atUfi4h+g7YApjbJhTSbhB0v+wWx9UCGxRiBM0zxr83A5CYcciI5QRXi2SmC3LnH8FflIRs0kNl35pjPJuA12TTWDctZCyAuS5vuN1biwh2jSH6MBXhsfGcsvz18svAKiOkmLd2cc-rp3JGZpB2l+eUPZlBdaeoyL2ckcRUBRPCHFOYe0ulf9hXbcadAPRcjzx3hzBcDticHXcWJfU4bVT1XyWMla+Rx0A34vQcU5V0zxH93Wxq9k3bFD+lfPRKRNbx76w6fvei+Q5EoPkr2X1JwX-VXdXxkBRX8oP+Pfz2RL8ZvdpNn43D5oHroj6H-ZwNP7KkhPmo9+cP3f4Ppl8n+IYqPbfWwHcsUP9JU+4B4JAN9XEikX9Ysp1pF39RMlNV4Jxv8z9B9n9-9JET1ADY9ECTpmcatasthPcEsfd9MGNnlV9sp18bc3c8sd89kAoKCD8LIj9JVvlToCDfMCN5MgtFMQDrBlJVIRlaDCDJEF9dNSCktBC1IMxKDuYQZ+UU8RCuD-MY8i9z0PZlDX9uCAseDmt1DJV1YPZKAvYMDRIT0TCgCEDJUH8rZLDoC6sBN7DWDsp8FjDTCYs6tCNnDqFG03pm1W0cQO18Ru00Aoc+1yQ44GBEYNwX0eN4pgNX544mA+CqCrcOBloZAQIvpldlB8VO5cMQld9Zp5pFoMi3oApS16hsiwJci6dTcLVgDsp+k5oFoihMjcA4i59tMM88oDMsRSj2iKiDDsoQYailcII8ouiR928a8+jQB68mj5C3p8czppieFZix9cBlBu8ljyQFCwZMQIZZxOiJ0ijNja9tjQAJ9UjuZ19OUvMJlqA8Z1iJZRc-cJFn5KjYVniZwRj+1rAHjqtZZXjiDejzUGMgTcI5DyQoTphcYt4QSzj8to99kvMcDJU8ItQ+wxQSUyUt43lYMQlCN60p8H8W1oNCTCiUS-NSTxYsTKBeQTozpFd5UTFVYQl308pWStUMpaEScBQwC8Sjj6I9p2FOFxZ18KTnRNcPUO4XZXiuTjV5SvMrCyTFcrNxpuSVQ2R2Sr96tZBpSmB-j9iNSXZtTnRdTL99TCMjTJ96SNwbohA7oRTf4i0VTKU6cJxpgqSOSq9+BRR71ZS7QioMgQNxgxQgzLQ5EiIuSpTFdgyzQPTbYvSmT0ImgQgIzAyohEzxpdAAAeWyAMqMzFJZIwGMBgXyGQAKAAFW1E-CTAkAGlFGnRnHRG2l4BUmkBCAClAAAGo35mkwRR1Sozd3TdABzvjeyByRVAhhyxRRy0S8yyzQBS5KymZqy6zKAkQmAIpmzWyAk6B9QhtyBuyGN+zBzSl5yrtcAxy5SJyGNAoLzZzXBrzFzoyMTsotRdR9RNSNUi15U1h6TPRdNtQNdfTgZ-ZzEkxczkz3EMEtMT1lSVy0YWRQKTDuVmkGScTRRhSHoCSfYXzVy6Ai0wzX4BNkKiLyyDSlyYygYQhoLMwhNxzlBCMPyYUqFAEpoWQyK0dBTwlwCXT8Lhh4KUhGY-IAKGMQpTRFoSKPUeyOKaYr40FnpaEjS9pySEyAFd4QlGKLSaJ3T9KSlmkMQVRn4fpFdOl6hKERpqS6s0LvzwLY0-YNDM0-zI1JLLRALXBgKJh0KnLWQeljAzELFYLlAPygrgkYCpEahxyRUYwQLHLMLLpsLR08Ljj5ZCKbIGLSLEiaLKKXoPBeQpYBNozwrqQULlk9LmL7zWLZN2LyEaZ5QgEeK8qBSwlB4hLjjRKrp1yJKPVAppK2iBA5K7QBZM16JUpFKF5lLIqPEAxTLnQNK8kMitLY1ARYY9KjTNSLKdSqjUJtrzS7TprQAbKRY7KtgHKwLMrWRxU-DuEAisd208Qu1CQMAIjJEqoupyAepuFDpCAHCiD59hdF8TiiBAovraomAYSaBIbupphqohtUCRlGozCb9VpxVaE4afrfx-C9pxkHhd98NvjjB8MgRjLXBd9dESajBdFyaCVd930abQhjZ6bCaGDHZmbHY2aUhd9j09hvj+b7BGgKbjBd8VxaAhtJBviJapamyGhRajBd9xKabxLARFa3jZwAovx70uBjRaBKidaog9b0R6gNbd8+zmbjAZANxlAJAQRsh4oBz5bzaGCXsrbUhbbQB7aMhHbQAXtvajBXb3iAAqD28qL2n254eKEOwO0AYOrW4AcOm2u2h20AeKMAF2hmhggAUmTsjrTvihzrjoTurMSKtpTu9sLt4vtuzveIAEJgMK6C7fb07QBG7X5a72b3j8z87U7W74pCyjAu7eaGD8z0gPbK6o6-bx7h7S6ApMg+6q6B7QBsg5666tbMgJ7lBAgp7q6t717u6tb67w627XBngjB67jBYiHh0osbOoobyjuEdqMh5R1dbcBBlBsbfqHkgD77qpH6QZKBjQftMkGJX76h37kRW7GaH74bvj0aiADF9qjBv7caHr0oaEFq0GC5ExDykU9ld9p4KZpBvjiHZ4NaTLKaGDIBCAJteYSbaH6GR6qGGhd8jaOBYBIAaaOGuHKHWHNbqyOHetmbhH+HWHd8AA5FgSR8O6RyRyqy6O+7BuBnG3B1TF+9IN+ngPKVugTTor+1Rz4PNP+lRgB+G9RqZF2CBlIKBvR1Ezo90HBkxzBtjTs8AnBjo8G5siQ+gV49qCmfhQQN4CQNKn7D4CcYgIscJZKwEHBxG8YeiFGpBlBwIVyXxyUDoQIM9SVYq38rqx6V4olW6Q44S2cS5JJQQLIox9Bh5Ha5QKi1BmpyxoMZC1J4wSp2QTxlY4B0BsgDuRp0IZpitBU9p2mh9DqwS0p7qzGhagU0ULUY0c8aZ0U1+PJg0ApreTB+63+zHNtXETtAkTAD6n44YMMMgDgKiegIyL8BgbiENUEqdGdSIG-B5ryD8G-Ni8rcYAxC8gKDgacnIIsBc28j+1QtEoscLAxRRGir5yFpsQ3c9WaL8ZubIkYQDYFoaZEurd7YgadOwM2OQAqYgYgNO9EAcmQXF3igKXsjwGl4iqci83F8RwEGl5gzFtU8WEyU7M3VdMUAqTWAV3C7l3mNkQxC66KPl0UP56si85FvHXkNFuYd+9JkViQIV4pP57QAKFw7mNVyoUYNgSlwaR5mK4159eUOl9hJbRSUScZVyXQH9LAYxFeM1wjB1g9edWF2TD19ukDAKNwNKS18qATB16lwNlCDwXGc5qWK5v1W57iB1kuV16QkZMNp1l11wKDGUhQ5PQVc16FzNul2Vgc-V8CI10NzWAtpqGczNowXswF41LDaDXNkyFPX1mcoEBti8stw1sF91qtj1mt51wINKJbTNy4UwXmaszmoVwxjYQect95vMUSLkpNj8NV6spm9RPZSt59OqpzD1+dnlg1hgNgZwQxTCKVgt4NgKAAckBdcj+YfedYYqlcXIdd1fJH1aogYCQl-Z9qJOipPWdGebBYA5ZdQl3z2ynKZinPClICnIYVGEQ8CmiPGDSi8kMQ8E3YEwg4PYcHw6GYXfAKXZhdw9uCI8IyI5-dwj-ftP9nCapHMWialllg6k4gFU9lNdTbbAVlRl2XeN48GG+NbfDirH47GYbI1yY8idY+fg4-wl7A1e4+XcXHMMpK3AE8EYDe+Kbe100+4DU8fApC3FuPJAA8NFig3EU64-48cSAVI07KEL4609ErUpWONT2nlH08dBbZWMUPzf48Uvvs497B8EKj2nfss5iiqBs+3DC47g9mC8atgU89yv9aZuDa5IEwS6U95CEEKndBvzy4FQi81mhdtZBi87yoCk5uy8xHy-K7chheq4y9fgClk5Y-IHCS+Oy+Nn+rqeNSk-GS66iZ67Y681s97DBeS7c8q5Xa5La4GqGcS+a6AIoW6Uc6VEM+gSivoPeMDYPy1z85lJS66VmvQVENM+4FuRyeyl5j4G4+xaBo+muH4+DYEw+9tfEs9kGrZkikeTzf7RoEe5ShhtObxi1i05e8+oG++94h5lkwR-U9+4Vn+7CkB5u-E6GEh7bKmvM7anC4YD9VIEoBOmmAAxEFkHs6A68L5lVHs9q+Q5J51b2LagEEK+J79Q4Np4lZooRPaXO4bTABMNGEsyqCbC-vSRykEFAGvVIGWxbSx2IF23CVGGuPKl5ElShzCLCOcCnwYU4hkB-HVfWH9AYAEFDLp9e5PWYAt6t6WQ8HIekGTZbmpBN6YDN4EwE3t6Zkd+M9HF98yX97oq7Byl7GN9N4I6RhD8t+KUJ4bLqUl-GDSAVQWopUfSbHxoYJDpT6YDDphXFm-L1A11N44CUFAHL5WCu6ME8Ru3z72iN+IE9-AMr8I0z-z6spSCAW2mNEb7ypd4EB6onh4yH8apmtQTmtcFoT98t6b8j5b+r5j77675Oqzamjn5GsH+CZnmkBH4QrH935IbnmehQWvjwWJNky3-X9susoviApIwTBQ9b4r+UGX7NXRLmvr-7-CwX8eyX5e83+SPJzJ3yhYnVe+DfP-jv3Gwn8D+xgYqo+lAGcR1w+fKTskC5LjJy+lfLkh-xBKQcYIHfFAeaDX4nVz+KlQELPzj7b8I+AA1-poBX5QCEWt-buJv2oG8Uh+olOtq+Q2BICagTA8YIkG4EvQuSuAoAQwM-5WgCBl0ITAIONKdI625A6fikEQGEYt+5VKQRP2QTygzqp1R-uellp0hVeNSEfmympYl99QNrGCJqG1Cl9LkIQbELVwpgU5EOs5DwM4JQ6zk1yVZNgBj3Zg0AxemyBKPnwJ4P8-SdWQwaQFV6zMVMhOPgJsiz7jAou6RfPv4C6C0IFee0QIRL3CwztbBlg5RrEO4Ay9X42Q0nrkICgeDWerjf2NQQpgrgxQELNZEwA0G4RFSA3ENK0ONJfsaAxoeoWlRDQyA+hggUdK8QEzDCGhz6HoXTn6G4kuUEw0YbDxAEOAFhYoE0r0NmG4VAmRpJoeFmUB2klhzfXYVL0WrdD2epnJ0scMEGSDcI+wyyksLjLpFVh4oToTcONJ3CdSifHYIWGe428xCINDJn9wYyBsGOSmFTIMmLD0h0epwqlIQBkpFBCwHAXbIIHGAMB3EjeEwrpBh618nE3wtMKp2UF18Fqzwr5JsI4DbCtKW4D4ZaS0HhCtgJImAZLlnjxU6EcI4avWFTjIj9ss6aEXaRFQhB-Q3AJCM8LATPDu+yQJQdtze4mw3OhI67lyUFFIQvubnZQIqPBbBcyB3SHEXSKB63cdBYQ-UmqP46J9imQgUqLg0liIlvmLQlQHSGpHGl3kxIzYaSJGG4kKR0GV4XaUtQ8YGRIGIfsG1NFXCbRr4O8HyNtZhBTsowd6DrWMEij5hmw90CGPtGgjJUEY8CNGKME5kIxCwO0acNeLqVauuAaoKQ0vJoxxcxYgQFYNR44QPe2Y20Q4mDbqUjAMLPEZEAjG6AAxjpYlOaI2iWjhwdYpMXmJbFvoBu7Y79L+kqgDcQx2nNMVGI4AxicyhGdsegPqCEZpxK4lILOIsDzjMxYLZcYMxsgCZ1xB4g6pZVRg9kixUIUhonxwrjAyeuqcoEa1iIPCBuXtVhNcnsApjsoqvTJDqC4DvQWebYQCYMGUCWc6xlnA4en1iELiZI20QmHtC3EZiohOZMCbmOAnUAGmAjGCBBMsrei6sMEgmLtELEViqxgQPWHsBha3iNgsyR8TUkzGwSUYiffAEyXqEXgsidIU1teT3EcSvx3MBXo-HBBGtTelfU3jXzWCeI9oCvVviJK967EdRdADgcf1njRgPxogYirQC+HBMbO5fB0OxIcRQTNopvPaLlw4l4TXuPw03roDpaBtiKpvcVHeNAA1kAAEr1g4AABBcAOAF6wAAlGspAAADykjZAK-HFInNcAGwVXj2BcHVJEJyYpYcxIRpaS9J6Y7TvxNYkbgIu3PGKXSBSkwt+J1Ic0OhITDTD8p9gKKSh2qSvFnJrkjyV5N8kBSgpJU3gelMynRS0QyUqMa8X4lgg8gFULSRwB0m15EJ7oRjFlOoAA5HxJmMkvUPKkk9spkYiwHFL+FAs8gGRcQK6B0ZNIQx06X2rOR-FcR-xs0tsNtN8Es0FphAZMWM3CnISjp809McmMnwOT0O8JNomtlfgAAGCUv7EpgRQxIdgSns5xkJGRyAsgVlP9MDhEA3pJgcGf6Ehka8By8gMyTQGekQzXgDAaYevh+kcjmhQY5QCjOE7HQQZ7Q64Lpy-oDd8ZgMyzCDJj5vNeJsJfgGZRDTWAKYSMf6e4ln7gyCZ70EGWKV3J-SywXM8kaDKQTixcg0wCKNSG4h89D+3RH4fZ2egeBMZfMwYdCIpknkgZhM4fs9G7BckUeo4LkmLI4ASzRA3EZUUZ2kGBBDZxs7iCSXm7aybud3eSVbMlmsyfmifEQIUCt4ORMw0Iz0fcPHiizmA4sl2Q6JxFSi5Ze3I9NxRrEOBXh8guUU7OiIpEz+WokVB8hdGTDyR70HYTaK9EipYYxoRSbAOZGlIPARY1BFRRCDOyTZQwskfMPFENBeghiJQdqP1KTj3uHYmyB4Grmmzbg8cxdDzCDlGyXZJJQPhmSRCYpk59-TijaSHnWzuOJorsUUHNHzRJwTYXGZIKWniSnRro6Vq-BFHuiZSfsz4WsCAQkiO6rI4ufvzmqwwiAo5HcchNrm7zRRCYzCVhM3l5ismF3KfuHPxGWgx4JlRECHWAU3wd5kwjOWlUPmqgvKn8+UAXOdEXz-RgIZ3oQHvkLjcZJ4owHGMeJiihBhiF1mGPHmBjXhMCvOZt1mpAIPZySawFWBgXHzLSupIBSApllbByxV4ysbclTksKgelwkhdSGTF3cXKkqO+beQfnGDuAOAiQZBP54Fj-Wl4g7KRKOBsKFFMLd3g4AkVf0dAjYxXMOI5FZEnApYsiRcO7H8hV5fYdeRotCBSLLKuin4dwBWCdinS5I0xYyXMWp97FX9SvgcNABMKQ6ui0QQYp-SrtRxWij8CIvALoKlxTgDca4CXE6AYlxgcJWIpzK5dolmChoLl3iXpL6gx1GFsouvH3cAS-Ml0G0n0n88wSoNMoKUrQ7-SIe8YEMMxIjDPSxhqJZpesOhllgOCzSpYULQcCNZr+bMsedRWg6iAJZEgefEnKDa2tPmAyn5p+W5jtQ8cz012TaNQnnTQJdHcAtIpn4LUQwe6YpXtGYAiJsZ4WZmZmGaUAoFqSSwid5yBBJL0Fay+6ZgvqU0h82eypMMUotmNAcJJ8+SdctMg7RqW8i0hsG3iQrsy4lzTZSstWITJ3g70ZpegKon3iBJvU-5XBINz2SNgjklyRwG8lBQAAMr1mCmqSvp56a6ZFOemQRYpeY+KSxKSnDTg2aUrST4EpUdSLA54+XrwIKnFLII7S0qeaFZVVScVeKwleACalSwWpQgVlcNKWE9SKgnTWJg0G6m0T0pA0oAbpOGkJLR2z0iaYJLShjNlVgk6skd0hL-TdVeQTDon3ajSqcpUYrefJLlWcBcA609+k0memt1Zyiy4pSsrJnrK8xV0iKcbRtV+rjqN4hJtMAA4yBHldq04SivYCvFHVa0ukK6pyWK4PVgIRNZ0y+ClAZ4XPNqYXGjWLT-V2SlIO+OtX-TIIhai6XmMobbVHVdMx5FjGSiQrRg-7TZfaLjXntHRsQrCNA1fhSSweUazZSNIhUAc0M8k3tUQCLlMjXeH4PsHNDLCRqAOHa+tTC0nWZhBev+IjnWsfENrRI6U3IWOOWkrpMW3Eg3Bui9atiz18y8kPQCZiU8xp3Mp9SIA3CUtH17iKUQevXlFTI560BakZNfiqrBpb6-NSdVoR4tKyM4W6TRMEk2MXohq3qdHwYxFTzV7AcdZuPSSt9AoKGx1ZUWehrtH1ygd8RBqOXuxH1nahuS3If7WFsod65gMUqzlZyX1Ky9mdg1tVbBX4LyxpVWAuWnypoOwL9e4vY0A0R+tCADS8BfVqrwCGq4TWBt2XmBSNDGx1XBsugIb2AWG01eMFQ1sB0NGAzDUhr9xmrcNqTLks9KI1p0SNUGlGfWphRUaqEQi7KFTwY1MxoNmYH9T0sBL-SQNFU6gJ3MR5ObllP6mFk5qKnea5pvm6YSFsfVhaMw7iOjQ+vzWMb0pMWwYDCloRmg81PmhMHtGqnuTPJPkvyYFLFVrBcttUgrQ1OJUEb815m1uhltc0bd9SAUXUGzxo0LLOe3q7pePHi0MbAmyW3jTstiF1bKVOW4VQSqJVIJctIqolQhPJn-SatzwIbRWphSwwmtOoFrSc1AICUC4P2N6J7Gt7lLYCDgbWO0ofzxgdtKIPbS0tpI2x2l+CM7VlGh4eF+etsr2NMM22DwJa52h5Jdo81mtjt0wh-J9qyg-blpZszlv7HwRA6UQj2-bU7OR43bphlMUUMlCECRrjtSwsHe0pMgrgZCjPG7Rjr7kI7zhrkNgEL3x3LSXtapKfGdsoAsz7t0Oldbut+2TNttu2+nf02047rBJMLGnSzLu3UAvtv+dndEg3GjqoVp2gXcDuF22wR2rDLnXkBazFCtaMHQKGLtbXfFedANUlZKk+207MwUO-pozsEmmsWdBu46VYEF1h8jgYK9ThTHAjvBPgvwWQE0jV1-twE1iC3cDrN0pl5d8aoQckHfG66+dX+YQJ7uh0-Aw9HO-3UDF93nt6USu6snB1V1NqRgLav9jLQt166ah56JHWbABixr61sqx8Umo2ka4mkBYzILLp76Hb5YKeiNVCtz3os09SEIrlqsaBIqYNvU46he1HAd6HxRqvkfguIrsJo9PlDUvWrrgJ6UMlAVDgxld0SBvijes4VPgvCZJ0keOozksP3jY6XOG+90FRXmaLNlmpKV0iJUT5jd5OuaAqUboV0qxNqxe51cms2lNAK9KEVfXi3pDODVMkIxpM0mBSiB7RWq-ZPsIdoHjfuEwN+e-NZiY8OYEYz-gwBCAX6JuXxBbr3tHR3jO96mwhWxFUkoNY98ezDZ1wibddeussKcvPu+JIHSD6JThLQi-A2dZaagPaAAE4ug4sRg5IE7VyB0R-sDg+AUTWrhZ09AZQADTmpSikK56nEZKKmg0A8q70+AUYD4MyA72d7QKGgHUO6bkEXCpoEoYooYrnofBzteSPAhlBBJfAsoO6BoAB1Fi08u-sYEMMCGTDHceg6HslpqA911IMZRMsRhTh71N++NUsNj2T7CDnhyQN4ehrJ7cUqesdQVFGVhHKgSc7PamMa4Cpm9fUpXeFVGCmg+worbtZtCwh7QYuEgaztNypVpheQ6RmXpOQ6CWq+N5UDnNkdXBNkL5e+K8cxhH5KGAoL2bo6t3y6gAAOLwJXUYG6Pu1Oghi1wEodo6tqo1sIU6lqN0FAIiplQcnsaEp6c85gWEX9Wk3a0oyXNoWqLYlo4KbGIBU0Bo4ySaN+sOufYCMohwUMqArActasiMZ6NFSco6xkas8e6NCw5jl3XQXZpSCdHPjAdAY4RPRBAnRjWghw7ROeiJqU1p4lULtNKRTG3dJ4r-RCLNhYRAD9RkA63VZBfL59Uag-Ogeon97ep7CAxLZsKX7EVqSYWgBFFnQUwldrGntYUc2VWc4upR9iRBFVCMmqjDGGow3LUorUCxNFAk5iboDEnkVjqmRHsAMRIziOJ7SNWieGA-7CTSIYUzyWANIg06eJm8Q-pdU6N+osO-Uo-sjGkn1NsJw094wT7nDTTN0Lg4XuPU17V18iCibazt1vBJgoaE4IquSB6HjdqTd8Xaf4AOni9gWY3YrpSO9g0jd7QCTIHfkAAdLAIFt4DEoyeGRJmEaxH3e1U6TUVCKoYYxnHeQaGUrtGcjWxnue8ZrCUmZTOezljGZs9uxOUThV3QZvLkvgGUAAAvGEDvSTNpNUzRQdM7gEzNamze3ZvM5dALPJYsjjJaGulBdZ4AaTCYek5EFjMDmhAQ5kc5HR3ZCcpyxoKcsQCnKViYQd7dKIiFLPWByzWazc42e3M6dFsgUfcwZiPOYcpzQsIAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(
            head(stream),
            () => flatten_stream(stream_tail(stream)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
        
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
  (cons-stream x the-empty-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBEZAjzajTGyo3UfIDNFei3Rao+-NaPuwQ9gh7EECDjAkQlFlBogTQOKCBjhCWYPiMYRJE2FuCDiHghIcaO6xFiD+EwsYESxTG+DjE2YmgfIEGEAlUR0YlcK5DupgDNhVgiwSdFzFtjAhWXd5OqDcxdjbAPY1kuOJzGtjlhgjaysJ3wA7oh6urDIEphXErwh6vXfHqvFnEtib4RLaypig9boYZg1BeQHoHrHCMOCaY-iBmORAHihxC4v0XYGv5XjQAYadrpZ1zHntxxWobsaANZKzpxxE-D4LOj-GKiegAEycdOJKZgToJGpadFBP0aEIwSMHTcauLGC7dD07yH7pMByCYhXI23dlkd3mCaBEOB4xDvmO8SZ1pxIOazCJCtiwTLAU44CYoConzjSJFE9cRSJ6A0ShhlYhiUlEmZbjHMcAyKL6KhZ0U7gc3eCtqMoTATGJwkPwIkMIBjF5BNIS8epWoE6p2mCEq8TkJEDvcXRlo2HgXyJ5Qi6Jj9Huu92Z6WSigdhSsekhrHrYY+nwGuGtVHKJCtJKHJXo0B0n4EC4sPK2BJyvFPIP8rQ2HnoBmYEsowsPO1HJNAAikAAElJlsAABBcAOACkwAAlEUpAAADyZ9ZABJB2IQ98AZgH7odwwGYIdJgE4cV8Ta4aTiqxDakA1K7HntTJfkpjuRLiSsTlIk7UyTIEqA8TBgXzEaSPFqntt6pgjNKRlOym5SCpxU0qZNM769SZO-U+gJ1MsCCNTJsYvybYACnc5BpJ0LfNtISzajX0dxeQTNJm71TBpTUwRl6MIh6jE69CXMTKWpr+kCJcYYifdMQhfTCB41CcZYGel98qpdA16uNJ2lPSFxjaZKV2yKIkAzMEkAAAy7FqYWUA8J7GEiLdj2EKSgIgmkL4zSQqMlcFbGRnkzYibWNUjwEinHZqZAwCmYwC+afYcZPwJsY2K+SaBqZV7LsMTLUGWdYuw-LaPzMJmCzk6BvZjCk2MlWBTA7cLmV8jsCZRQo+M4KZnQlnYciZHvcqc6TxmaIBZciYmRwIzLUwiR9wA8DIHjCncyyeGZIehyMjShuenMvQZkO1k1gcOrkIWbAh-FbROupJC4pbNsDWzpA8YErpFyQkhyw58YK4SpwNCwdHhc5EYfGlMBWybZ6sk3okImC-C0k44BYJkPLHPE+kvUGOZnOakJ8wuqiC8d5SOELk9xPMp7mIADjGQpopBUQMMLn4SwjhWyTod0NMH0VSx6aZsRWLshTRSg4w9ySLH0ahAVxEsfRrEHLnhz9Bg8rYTcLnJbw3+0cKKR12vHVll5Ec-9HXIxaHzSm20SnilAID5JO5TwlOdQLPlntEhKYghs4BYgMheesQ6QM9P56dCixVYtecPJaDFyASHCd2F0KVqY9p5NvVXlHx1LsToZq8mwVsIHGaA0JPQFCguIfCyULyLQ5IdUB4jj08AmNEhUbD-mDyB5yCoBUoEwVjyXy8GCBW5PSgx9nZmPeBfBI0HoKggfY0ZEgscF6gt4gi4wGCT9kNiv5z05Lj3Pdi5yEEdgQ4JgpAWAUXixC0hfbPgzKZsJu3GSvPyrmqxbxiCcRVgr8p4TlkJAdhRxPyD698gvvBcW1yXF4txJO4-MBou3E4TdxcgfcVYolzHieib41oZYv3mNghGUJV+WqFGJwheelilOjYpEVnj-FKvG8SErTHvyIldwagjYqiW2LaaYAEhZjT8XX9ecX48NJ63XDWLz2Zii0ggrAGgSRR49UCRLiQmBAKl2EeCRJ1qX8SegEnBpVwucjPFMJLiiSb5LsDIyfAzCXSS8ObyQ5DcYyztvjKa4bApgGkxkMjKMEVEs53lL5tTLHwrK2uMI8+azw1mXzUYLBGQNbKKDYE8imEjJoBhWWaj6c+DWrCMuRmUTl2u2MGcQBeUrhsItEvuY-SmBmpXIyMqmZ0HXjKz-gqshYCspCSZ1mlKk5iRJCTiwr4JXE95Y0to5Nkllhwf5SQhWVoqgggk0BZWNhWiTlxmin0TAihbQxwmy7dZXVgxgMjAVGs8kbJLMDmJFJxK3kKpJrzJSFptgPKVuAAAyUmMqV5IcSVTqpr1ZGTqHhk-LqBrU3oRMA6lnSiWPU9qa6ilW7ShpULKaZUA1W0idVhsm6PNPSl8rBVwq9aaME2mGrpVnYvaW11ekSMQxakA6YpKOknTNV4Ej4BEXxlXTrR94Pvi6utGS0wOORH1V6J7aJD8GGqmVSXNSGvSox+os7PQiBUi1-SDyw1esuH6oqFxkMiVdas1XPT5ZR8BhvcCLacTXlMa0FV6Jenai3p8gD6fmVvKprLQDq1Rn8LZHgi9oHBWGTqBRWNSc1PSokMqKjX4ze1Fa21R8oRk-lnK4Y5+XSlLU0qi2TUsydG1-mP17Q5dCSPZJy5KBR2G4KlUWyLSpyN1JAKecwpnn5g4QzETRGWqXXLCV1mEk9QsEu4sJy1Xyk6DOsTFDKFVNIfgWBN2V2BCmhklDAanVRJCLx4UlDB8Lm6mBAZJsn2e1KuTbT8CLQvyfwNhmtz0gIUonlbDdXr9ApGGv-gXB6argDIcGtldaIgZORA1ro2HuVFhm+qvhR6mCagmZ70bLp4ax9hcVhmaBlRJGxWfdG2kPqzy280Cr-neQqAhSwyMmYQz8nrLNZj9QaVbAWWyAtWUKtIKhval-qJ1mG9FQJFCkSQ8N2EQKWdKI2Z1+NZG6mV6Ko12QaN5konrMruCMbEgzG9IPkFY10bQ1TmzjUZAuLPKwIiNCzdIis3hiRNdwuciYv25jB2I1MoUuRoWAYaANGaxLUSwO4jKMNk7A7rDKQ11TaAtIrLdtJy2zS8tfSSTbBthm9Cf1HUwjTZIEgVAtpuW+gFbF5VLT8phUkqeAA4QtacpbW1aSKu43bTeNiNerfFuTypyNwuQXCeBjS34z5NpWmDdJs0SybEN6m35XVukAxbR1zWk1fyqFWda0gvK3bcKpYmWd-NyokbVKrPJTQJtOQKbbXlXJcwNgMWWqI9CNGpy9lo0WkQHie0IRXtqywYsdE2V3RPoz2oQDxze0PzAMn2r5mnjXLjAbAoOyQp9qS02pode3Ywl0W2qI68QyO1IZHLfxA6xwWOhCODsEZXD1m2M0QJ4BvDsQy1uOysfjop304WcO+RLlATx3HzAd6OvBmRBYCvr6dqc8nUWqe3UA1ZP2sHcuurVJblK2EcXZITl1u5z2n6r4ZOxF1qyY8CunUJrs9WEwFA1Kr5T7FGAK6MYtAbHc9Ev5L1ldiQGvO5vCL1tyoB65dtETV3KQsZ9OLHaLoWDE6Jd96qXdCKATrFvdkhIPYrvJUjw-RtMhkdKI7WIx6Ejug3QHhD2yiEdJOj9R+XDECL0gyoj3eruB0h6dQ+elSMf2MhW7o2bSW3ZLUbZKZ49Bbfagjs90yD6cWUanbtAci+7wx9q2tQmobXDglxlcC3bv2BY16zQzemnfroLYgtzdHSohLKjkkUbXRGEoVqSRZXySV1XlIVjvDsSrRM9UQUveXtY0FpqAHbavfOvH2z1poVOm8I3pqLUhJgqCNnYIzVgs62WD+tBRqVsb2MqQTjKxokIc5bsyUo0yXR3t4iOUu970g0apD72qQaQd+3aOgNPRUBpIaE8JN-OWForDE8Q4GlwvK7iA390+iqFV2qjjix+jAWIH-tM6xQe2jJXirPtZUKSg1sSgmPYlYZ77FkFejcOQac6jJDSw+6IpwbM7F864BcGUChwOoAirYAATifC9QxDYItfRDuEXUxZDGeWtRSFVQqBNAykZofRD2UqBdN2iqRfRCsB4l0ZEfSkTYF2qKBE2ibcqGgDsOubzy4Wg0MoZKZ6G0+5hnagCJXUEMtQcY74XuhOhWAUahhO+aBQ8O7VvDah4NJoBEPw7PDYIotacrBEXKlAJcKTUAcTF2L091otgwfqSPnL8MOBHg6fsPV-hpAZylI9fuWQKdYQZ+8CMQFt3UkVw5QOEMczXUCR7QVsNjqeC2AocajNq7UKkYaMvcDSD4CNRpvoijYWjFIPxJAptzbiB0EfFwxuFCyrH-OUnUAEW0vC27jAqxmGpw31AuGl2Bu+0JvFuE6LM+YXCrXNwW6YhotiMU4xHxm2aI4t2WgrY1rpWPG-+7sKY6MRmO4sJI8xjEi2zMOBBljextY7DMwj3GPeEJ1Y+1HOM9z9Alx0TekHBNwnNjy7KKExOLpwn4TafZQ2vqMivSe9akKAxqWOMT6el8B7YAUN3VNTeNuBggIjWYrkjh9nEu3LQdX2xj7EHnTLpFox1mxhgdAA8Kqkyi26FNHRro68vY69GXOl4wY-UZ2OjHxja2k2LZSbXU92T9oTk14Dn30HXRvJ03lNEpNmgaT+Q6SDqYIAanFiGB5kxzWYofCuT8+y0XgQiGWc8ayo3k3an6N1HE2pExQB0oAA6WAdLW2vYg3H8AQpf5swdRoI0UIxkGw0pl+MOAi0vpstf6aO6Bn+JIZsM3nPwzzcozUbS8ZPGpInQ4eFxQgJoAABesDUACGaiCOqCzhEaM3abh61mEzTkJMxuBTOiAi0iLHqF0WFOin1w-p8M82aLP-M2aAbRmgZnKilBDSpAQ0jhMXCJsKIeAdMzSrHP5nIzrZ6czFznPt5Fzy5ntt2fahAA')">function singleton_stream(x) {
    return pair(x, () => null);
}

</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:teal">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:teal">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:teal">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:teal"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
  (if (pair? exp)
      (car exp)
      (error "Unknown expression TYPE" exp)))

(define (contents exp)
  (if (pair? exp)
      (cdr exp)
      (error "Unknown expression CONTENTS" exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4PyO26+OQCwl4Kwh0MGAcMe2kc4G+s8GV3xzl4wMKI4fsPR223V6+NdGVyWzXAcMUVDpx4gelO+pLi0KBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgGt6bFl+pXpKQHoPdEIViH6IwB0B04ibE0i3YEdyd2fZ4l3StgyyUtbOoHtzIAdzqDqJd1add0p1ikOZ98dyOYCljtSJFC9wdy6P9997B0-EN1kBNh6g7lnvErD4lmvYCIjSj8jXOXeAmREmD5IDwIMPt5IOrHpaDhpCj-mvyKD8T4T9OWUFHhcBU2ZTlqJB4JT5iXd50DJeZQ2Fz1Zuktzled8lmpD1TyD7t8T-wIO0SBT7k2ZakLGmL5z8mhZitjz3TF+Pz0JSkEL3pZr2tBDyGF9wr+5brxl5iEfPQO2-j3T1L9hSODz+T+z4+OLzt7bzL5nqZMj-LzrzpgYHL6BAxfzxrxGfYBcC2Izyj-e3TISYDLTzHRcfb-eEfuXZI4Y26FH-L2ZXr7haEKL8b8d27zT69yT572zyjy5RMjlsr6cCHx5nK76eHzOIH1kJ8o34OoSYScn6VjH82i3y78zxCHK7n3rqxRH2UJDw7zIKb6FoLxb6EHeJtVoLN0STz1+GwHx7j4sJZ1WfFBkImUzkRJv+pzEPlMKC3p4mf+2y3haXKlaUSQpSqmqs4Bwt4JuGpSj1pUbmd8v+QLNxYz9xv9BurvJLDD0fATYqgWaCbvmmAGbgmecPO1gfwiT5hyqo3JLHAMrAo9na1-OrvmHNhPwPAMQHGLEHVzT8YmhJMgSnxtDvEiByaXBurj0B0CSBkwcrkOWYGqlaBxAhgQ-g4G6AYmLoPgZMEcJCD0G72EylQLeJsDqeu3SQY8UcKgkDgVA7IlII67OBCShA7gaQPKZt9qBjvK9vIOYYRVGkaHNQQsESpXxoMKYXFnGUXi6NGQZ4DlKzAMGggc8h5VQouEkBzdk0WQRgNpm5gcIWU7XESrlkXA-t9evuQwKVC0E6BrcMQsQS6gfJwwXBzlP3mdyEHB9Ve7dDoHrlu7uDJCng7wVJASbOCPizlPXERD9CLAWUogmAkIKr61YQusaD1ihkg4RDY88wQklUNKYIRIOgwboci085+9R+gKLzOlz6wL9PUAw49rBwNLZAWArCRRtWmDBhg4QfGOgHTxWFrUEwdAUnmYMBYbCT2oALYWsK6C7CJsE7Qkn2Slh994e3NOYY8EWHvplh8gbYa0zsCPCZwNw9PkqROE7D1Y7xGIMtCyAEMwIqw9YZsNeGnDpAew05udzniHCQWfws4fwAuEQsrhCEQ4bcKhpAjvAII51MiL0DIiYRE2PvhMjuEzYHhCwr4Z2FmFRB5hLqMMEYE2h5044MTfAEyKrSRAPhvzKkZICfp3oD4txTkbKG5HzDfAPI-doiwRH0jHgRw+DBO1xHYNsgBIqEXxibR9lZRrrWhhSIIAij3sVIiUQyOQiSiPoQxbhinitQSZegW6KgZxB-yqD7cl9DIUllEEYMJBOgiYkCThEui6+WQyzCC0UGclamExe0SkJn6XCtAy0d7OdVX61DeBMQqcmGLKEz9YOywBSN4BjEr8OS6YwYMmMdFndbyfHfAFqA7p6krOgIEsYSA7oTsx4z3XMccK0BmAQWt5awIqKkBhD0xzYoTIoPQaKBiwNoiuA2PzGPF2xC0FDF2K2A7AWhPge0UcPTHRj+R2Y5Fl2LJF0wXQc4tcYUAXGZilx--DkqJybFbilSOoTcT8KFS-kJ2lY0sR0A+ZGDYQqpLIPlwNFaiPqFAi4mjV1HwZbBPYUYNFFYTvZauCCICY0EGDwcGx8HAsZELzSxi7qi6XNPmh3FOA9xq-cCVoHNTNcYQEjVeuWkgmGCzusEmdDmjzTFibxu-GwOjgQwQtmyT4yCIaMInwTzG94-3LIDEHBgYYNBJsWwIByxtDxJIWDhNzFGPAwedvV7rCPz6X1g8E3ESUTzElzlnymQo9CtkHLwYxysHYgbDEkDE8UQnEsIhJL9z7d80fE+SXITCH7czAMzXFvrn24YwnxoAfkgAAk8IkgAAILgBwAeEAAEr8lIAAAeT3rIAksOxc2HaX3EzJz+ROXSdGPDExNCArEjSRxKQlpoQWgkhKQp0wmRSkpUHUAIJPUDxIQJ-oRwrlNKDhTcuisGJo5OcluSPJ3kvyQFKKnh80pTXCKYrCylsDBJhohKVpNL46SsprbFqcQDshaijUd4caM1LKn0AopmYmKWwL5EcitAudCnPaPcDE0W8s3EMFFAAmlSWuJMZaSwET4ZinAMUmPqFNm7bSfsU0o6SmLNF2S8Cq4P0CQAW5JYAADJAyYT2kxYXbJ4Vh0rCUADghBL6Q9M3QFQksd0mRo9MEgKkeAy+NaGDIVgQzGAjhJ+A1EYjdIIBVAuGee3gF-T3xKGQEDF0JKYy3SF7dBh0E97RMzRd4OwAdDRmgQpAMQBdF2wtyX0iZh7X6R0G2IfTWZP018H9MgGW9X0dgMYIxHUCvxghBvOHCYLK5o5hSVeFGbTLh6lDuZLLdmWfX1wzi92MswkvSOFmiyJWfQ8MjrMkAiy5Ar8F0J50xwlJxhZvZREbJNmvwwZP4iUMGGeEndkQuQUoXIJ+LplBZMgXWabNZQ89QuYQmfqH2sA5Y6xZQKgaHPaG88cQZBNITZnqyxz9JUQjwHEPoH1F3RD5GKYnNLINh05KvJSZ0HrKeISx9WeskRDtl6z4x86DwA0ImH3YRh3yadISRn7ljAUniauQHJ1Axy0W3cs2W0R+5A8CATucgvPwApncB5e7WDr2KtGJpEYoEYMakwmLWgZpfeZ0TEIzksCEhHokMbnMxA5YMh2LevrhS14TR1SKEjkrXJgj1DsJOE6wGvOumMMMuTQhFmEOtDppe6eARGr-PSSW4t5ro+IdnKSRPzvREsnEMfL9HFychnc-3BfJHiwTl5j4Y8YUBvnPA75cLe7PCzeKWygxyguCs-NfkpccsLsnHFIBJhPyvZzlJ4j-L-kQL5g146sbeOS7Jyz5aXHhsguG7UCD5AFcCkXBIDGkr5NBOnosGl7XS2BRY9TlWOkjkTikTC2RbWKe6ydRF6sFseMTHGdipYHciiVbJ4Z9ilgTZGkEvMWCqKYpmi8MDQVJ6BiLR1aeeUYsoAmLxFpimaaTTAC-zEaY4rvtou2ALAu+aioTIIsvlIKXQpimtuuLdBiLwlhQIJYguXGidvhD8umKJ3VioKLxjxbKQoo7rqSpAYM3wP5gSLcSnYmRV2AUsZApgwZ+RTWBlA0BMZHZbA46I7PeJwzro9S-YVtl3jTg3QTSo4XWzkAiy4QXwPAhlQnZZNulTMymRBWgasJPpcPMGWBJnY+oox00uDossSHeyN5fuUMNkHexgz801Mz4urnpm5BHZNWYbAgqIlLoiOQKWJcIrQmHTiAaS-SaGDilRhtl1OR2U8psB4SfiMMvnhcsYmTMZFNYoTAqIhZyYQmiyxmauGujvLdlTMskTRPsB0TXxtyxiTdPsD2SnJkgTyYqgAAyeEQKQblKBvTOi9gM6WDMzhJT15cIuKWMASmXTkpQmVKarxhgJhKVjK7KcVPiQcr3i3K2Za5Hh5mDKpOK-FYSoamWgmpAqqlcsqcAxM+RgjA4BTg6mviup2kiWH1PPFREu2Q0nkeCBj4qqeRztGLtqqyC6r5h4IJ2WIDQYcrqVEiswXNKZGLShUey7mi3jQbzQ8l8y4Tg8uOkU5TpcErtjKt9XXSrVD4-TKuCLZ6B7l0UlMUJNdazStRjIhaSyPQqGU3VgKBVUsK6CEixp50yKTGpWVvEvl3yXUTaqDXRq1ldq38s-lfJaiw1wmDQKDEhXeBC2iy8MfGuZl+5LYwgfNNJMq6VrW1U5QEBCqLbfpPUPakgIpLV4lyhMNICNWMCjVFsO1VI7KZOtyDddM4w7OtZKJyVsTYYEAyce0u5GqkJWXYswGizlyWLjJDawwFaTGAFT3sGDBlY+r+zNDjl7EiAa+qd6X1DJSWNVT1Ilivq-eWaHpnKhHyPr41-9HtIavFH7d+pE081Y8HHUpBFgn2MHghp2mDSqR3BQFISUfWDBdRYG6mSIgykorTRrCnnHwvNh3q7AAqhIQyraVOiv6sq-OmSxqKvKSYpyw+e+v3UwxD1rG3DoUCzR-rdU7E7qSPF6mCaQNl9YjSPjhlUjoNzaWDcJPg2dszVOGsymhr6BqbTVMgJDSwFw3fJCZXbQjVDTk1ygFN9aucs3Ln78KzojXejVaXzUkxX1RSgVWMzI1podFxSRzXktfUTtHNj6zzQNPeJBavNIWiadplo0PqvNDG1lZFqw1zks0mQcaVhuDwirqpXknyf5PAA1ZMt7k7LXVKJX4avNZm+mqlpc30ATJDYQEGEjvEdEHNxXDzUxt9L5c6NcM59Qlu42py80lWylfmhFW4qCVeWzEENrFUlaLi3q3Uf1qDU1acQdW++HuskppgrI1BCjFKPLIbbbiJOVbdCGwwxNe5wGZpY3A3RraRAmcDbWwPNnHbHCemAzGuAkDnbvQB29zVttu0iFNCJOZas9r6BXazBR2zhI4Q6w-boQl247ddraIfbGtFIBqDoFBhdAo1-2uEYDv4Tmw2YOMeBFVwh0A7eh0O41CGhYBdZXtZgm7UDuYmrbqADMvbRdpXX1r3NK22gL9reVM6wdRwndfMInaU6GZHWGnRQEzh87J4W40dVCrSyC69AgunDJaynoc65RZsbTc7XrYpgRdra2ItzrTSkqzoP2qnbkFB20641q6hncY0e10Bmdu0p7WzpBZgrvOSo-EWCLeGkMk8aGFtQW0Kylw9dFAIkRbou1TlZd2o6Xe9Shra6edp2j3VDjD1S6O+6Sz4quq7AK66tjAHUiroLYbUntOu2uneDh2WI2EdOyUYmp5HJrmRdZaPU8FWlR7w5HS1DCJkXVQqs9LTF3SygtQlrCgSK58fGpso0Ko2HSZOI+ORUvijVuC7Bfrngzt8UgfuuPehuBDUAO2I653WOsGB17UxW3WGCGE+zY7FgMTbzBjpVnr6py9ZKxjYzsZp4ISW5WDo5w3aAE8pue+YaHGfJJr5pRex3XmXTVTYvkK+nphyjP59hHBzwAct7zkDhi0lN+K9j9XT5yVlA98pJYCAfQv8fVKfRgERHP1mcEslqm7j3t0C0T+94o3BfumJUAGvk4+0UPHqQPOcLOyuufYstiIkHzONA+bFmg2hIdNqqw-NAAE4qgS-CQFtXb2ncW0ScJg2tXjXoNlovgBfUHN40EUSQelPXjlnzqnBnpYc44ZwdWF6AE2CbFMGgA0MobGhKXPPjYH4M9Da4-EptPocEN0QEmfI5CFOWcCw1TCE8m2SYb5FmG1ggwBgybq2oNr1AAyoZTBGlD3rr9coyRVZSpFEHJ9nhtat4djhAhk9I9SUP0vCPjBhlGepOAFwb22piA2m64t4HSA0gJ6CPS+pbHzTMdNULQJDgF04l5RngMQbTfkwqCWqasOWEKIwGyPD1xa6nGkPSWFA899DztQyL0avq0dVlra3VNUdAC9HQalQHzYoZWrKHF2UKy2EaFAC583K4c2NJBvy7JQH1xXPjPMZ55+avpzm4LeFoGkAIgEOxv3g0ayNNkWj2Ld2NWMZDghY53RkGmMdhqPrJQWxjmS8d6MihFjulcwMsd+M6H0kTxr47DSLbZol0DAUE+Mb94OHXxTaPkc6vsov76ysx1tU-uZxf7AwP+6NYAZtQQGCAUNGxNEuiO4n0D1jPve3u-G0iLe9mikGlhyB0BGICTKo59i7VRCCjSWIo6xzKO5RZAaR6o9qVqMNCbyxldNUOVJOWw44vetvYaOpPzbOhTrKNViYcGWIpTxcIrIcUI0Em9C3NYk7BwHXizPUGswDkJkB3ZS5KpQ6A8-yfRcNeWHMT-nCHfTf9PtMsTdMTqNMdCfQbcnDiCzJ0Wn7+PgK0zAdtNWz7THUZwJupdPXAUjUahNkBL0BJKAAOlgH83ZrxgLCfAFaV+Yj64akNd1OWjUNAhGj2RjKlUFjNQr4zmExMw-JTNpnXZGZl1Nmc4koZCA1xKcgd0JJtnQAAALxAagAUzdDdM+sazMutgDeZ3s3k0HRFnAQJZpsmWctY3AScjJ5kz4HjPDnMzzZ2mv60iJcRb4OpUgDqVvGGgE2EIPABWfRPrmGzI5rc19R3NnsdSHgA80ectUzmRQQAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression in type:");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression in contents:");
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:teal">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
  (eq? (type exp) 'assert!))

(define (add-assertion-body exp)
  (car (contents exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk7D0WM8VmVdlERGWKsPQOjaY2AAPzfiMXDEwJjrBEW8MwHwrMUwAFViBRWYYxZweDEb3GcJomQBEH5nTTAJRkmcdFKL0VIAxjirE2NAOYl0xi6Z2MYA4yxiwXFuI8V4wm+DfGgBCa3QJZs8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJ4nWHMcnPwIzQBEQeOiYZdNRnxQyFFQgiw3xImHLaHachkSolBOUQYnTrHzKmQsXsgYqLZggluZUkzzGtO2Wc0slzNwdOIF0yZ0ypAgQvOBF5cz5l3OtFBJcoELkbgQUNQ5HzKSI3NOvG5xzAX4zNDKeFqDQBQuOZ8hWxAmaNBZnknx1z4i3IxUC7GuMQTbO8RzV57ysULDmuUUlT95x6DmgtCMS1vBUPiP0SZxyUgcuusyflgrxU2ExfM7FKcg7-Lpki7ZsrbRjxjmXDO+yMVvKOdKhYd9mWIrJfjfVkLtXQoiD9eVhRFVi0dHSnVKTKSLFgZgkmVqUjmPQXCIxAyBJ6FwYS2loqtVdLFRK0Ios9obMzvI4NhyHWFFSekoagJXHuOoJ45OcJGSqBhuILxvqAkQ3Nl6-1JBBhsKrpQfAoA9D6OiCwSaIVJBsuEIaSJnccRev5pQRtVBm2tvLZKRglCIQ2GqBiuQshxA1rrVIbSix9K4pbT7MtxB211hsL2LEok5DkGOEajQ7TKLXTbWG8N8zYahK6J01YtAhR6AFRemwlFcqgmWpnM9T7n3Dsoeen98zcFvLvaivobaPQpGnra2MUEbR6ARrPUw37zHAw2Ti0JfQEN7oTbqkgY0YidCqOOyd07N3WHsdQHwwgsnpszXefx+bJTOrkHCfM471FF0jYoaNGS6AHO1R2r8zDWEjvCXDEOIzzElDkCMoiMSfVtL9UIuRI7eMmH46G79NguOwZHJnBGIjRNqY0x9c29ycV4rxtSwNBD0WHMiVBqIMF7maD9VrQm-NOiavjQKxVrnnjub5sWbzZrBV2MLXoQLOs90ha6RjO85nlXBxM5E6ttaB4sCHiPJLdddEzDWnh6iBGOhEeI-IadaW53dGXuqi0lc8uFC-C549JcV6gwfXXfohzSvWAneV8iZGt3+n3cplexhdPkSODTcVzWlOtdq2iyeXXtU9aKLOi1joJv+vm8SCbG6n1flG5EcbGzVuhD61OgbB21qJdVbbR9z6DMLZ7pXZbcX4m1HO56bdJAUWdAPXoMwRwAB8oBpNVHNjp37sKGoHAOiHBz3CZ5z3hzhsxYOd7xLkysHw0OBSw8GFDkEMOvMulR0aAAkKEDjZ06CmWIMiQg-Znkwl5bWTElWIg5ZQh2ob6Zxn7wPcq57bOx2NaR0oTLw9R7R3u3XJ9UnMfiqIjA2Ugt6eM+Z+Cxon6dur3LtfA+-6f105yJrsFV5FZPyS1pgDqpS7NwN2zg+EGyuXd51EnFJYteW+JUh8N5jAaPJ91ctZ-40eOoiN8sCLPbP+4vYHnk0eLeh-hNWd0tuTng8xLUMkSdzMmupvZzd26yoHv-iKn+mJt0n3UAwKbpuGf6RD5uTOZUxfWB+8T-HnR6-v1LntPH0ovO16nR35Rs3nhlWN4Kq9aulDAeYKB9lkU6+DCH3SXvJnD756BZaovAnN1fifqh6CzxbeT-g5tmlcf1OZ7pvG+Lu-kUw46wfrpkTt0bIPZflFQottxoraYgoph5bZ-4Whh6aobImarZfinY04UjmbJ7Ph-Lv66IgFp6KhbbIG-KViYGZD7LxKX44Gx6QQbKxZ34P5AETrWBmbkrDbnIoEQpoGRIYFbJbbB4p6biQGipEERacFMGvjkGAGaZUHvZoRgDlKxTVIcB1LcB8CeTNIUjNCMAwQwy6Jfh5onBTZOYyBP6PyqD3QrpfR6Bvrcp5SDDT4hoaHhz-AMyZZLpdDzhfyZ5mH2A8qWGAJwgwF9xFwRALqOHGHej+o2FbxOwAw8j4ApgBF4ZBH0T1zOCvqLTuErT4ChE4hGwSxRGgBSwyKJE+wAJAJpGI4NiZH+qDDqx5EEAFG3pL4PrFFH62GWiqzZGmz6FnQn6bbkFFKMjpEiwRyn42hfyFK0AYYJELCDEwQbJ9EXwRH-DQFAiTFgjjFLHoZ1bTElHEI-hlDTE75FyBzVQ0i6AL7KAgYPrF6YhfhJLUHmxHaVJ7IXH5aSJNjda+EtJkCHEPTer3FPApbmDU5PE4jyY-GHTWGijbphSS5ZYnFnEWgHrZ7myspcqbLVh8b3hn4I6NENjyb4FTqDDRrjEglh6frIlTAAnnwWIgmEnIkTYkmghknZyAnzAuhUntGIEwzXowl1F1a4lonWhokeBUhjCPEUlZC6AjDbSolA6nBik6ASn8kR6hDmLyZIl7K8n4l17qalRCknGKk2BESykSm8lmAAA88UsocpwwegCpyGGKaSlGeggIAAKhkOtDkGlBQu4K3MnCsrAp0ERAxAANTTZ27jLRC6DVrerGmgDBnDFBkhl26GDhlqT4DeoKl6mhBJoOnOmun4AyCMS-pelhI+nMaUD+lAgxkJkAZJkxAplRlbII6xkpiVn36hA1kRmpnWmal7FnTVTUDLKrK4kAFbJ-GYgJZvLdAZBbQikpB3iN6SmKh8make5hBQbSYLmZASZ253ITl9lbStlhAHHUBHE6Bcn3p1Y+Z25ES4nHCnA6jGkHkLI6g2mhknLzkzgNlakujplnbsZ0yVadK3k6HnCDzS61Hnm9ErmhAUZrAjlAiuLpB4ZZrVgBnj7nYkZXbirbogkHp3HIlGJAHipfjzlEm8n+qkkz4AZEk8ZUloV-n0WdrzCdKTkcIEXiFKGmgw6gHCFwXWijmhDjnKAsXTmH7xJzn04bl4nolj5QUUk8JEifmZ47lCV7kPZ25HknlnnL6XkXrXlbJAUWIPkAbmKyCWjPlr7SUZmOrvntifmDDfndm-m9ZVmpCzqAXaFZRQlgWL4QXs4zb2mwXVhZKIW4rIWKiMbgGMglJOWgAXakZPrYXIm4XzYglsV0WQZrQkU0lkVUmUU-rUUYnkX0npWxU56XE3a7lTlpUYxlI+wVJVLsC1JcANIYAcX3DRINpNpjCDrrpKKOYUxXxropjwy9pdVBIUgjV9qUDNq9okQG4vJtp9VrTHTgYYzbqTVdVxE64HqAw2KAyAgajDE2AagSqUFCoRx6hHXWB6inWUX7UxJXWgAxK3V7URyHiPWHgvWFD7XyXDHyXHJnVhD7U4x0AkSqCsaDAg1g1pTzKA0RoRwwVXUwXipw3aYRwbQjCsIeB0BfwY3DBY0MB0yo3WD7WBmPU2B6AwyDBwhA6g55rBkw3E3959CAiGTk3WCU3U202gB5qGSgCM13URwABU7NtaVN-N3NeaQt-N1gTN+1wAotnNEtxwdNoAYAAtr1dhAApIreLTTSrTzaAFrTLaAHLRHNoeTUrfrSDobR5TTYLXYQAIQnCW162S2gDO1Tb22a0s0mm61c0G15pmnWDe3fURwmlHDs1W3u0R0h1m12HA7+3K0215qg5x0O0s3A6R2DBhDR2B2gBZ3p0+2OmO2i2G2hA23WCO02DqE2IQjrWdX9rdUFG8nHDxIbRbQaiDAbVN1bX+j13DZPWN3TXN1fTIgeBWQhg9xt10wd1roG33XD0hTDErUkCdh5WhA90j1930AQhYAN2jW93B596Az7WFbjSdDDHn3FZM2vlA0RyQDEDjR0QQ3WCP3P3Dy3131o12F42SCwCQBXV-0ANf3f3M2Ol-14SPWQOgPf37UAByqg8DotiD8DVlr5A9-OW9zanBrdRw7dm0-qBtOoaR3dS9Ywx9mDhgQ9h929nB0aM9hQc9NaNtK1hoZDtDODDBYSe95CzGI82Do9wR1Gv6V8MxTGJEI8MQkghWjALGtZkgVkqgagdO0QQ8al4agjkgs1WQQoC1a9G9hQFCYjFQYQCBEoplKyWlD64jc+y64Fy+tuquuKph5DO9xJgwj51gWjuDdlTjzqaurjnDQjlY1AE9U9aJXjNDU1XD6Y5yBJhjYQkJoFI8DjQoZsEJ5wOg1Ugp1KPloGQu2IqyaTdWe9tVX09VcUNSnA9SGArV5sISEYFAkg0chgr4G0jAr80e4j28ng3gz0dCLY3Tho8S5ix0DlIKWQnYlZgIkg8Z7ZdZAz2xXZkzMgnYWOFiEzZ4oEjCRc2kG0o8b6AkgsUQtZmJ5VDYJkpA7gs87SBgFapApA3NDAwZegVzBlgIDE5inzJycZlZVzsDgqnz38yZ-C5sbMCkUZpzugFaomsLp5ELn9FgFOFzOICzMzjplZ+z80sgRzXmc9xjiL3hv6B8MzJggIVRRL4w3gLAbzI6PTyOZQFCip3z0m3EkeUggMzLWwmwWAVO6WjLiEdLkwZgQQmzbozLZgntQIpi4IoztaOo3LHlgIsrvmIxjITTlorTlYHTr8zLAqREVW6CcCLy3L2wfLKQMyzwAabMRKwr6z-LCSQImLwZVLy0tLirRmkrZgwZFroQDE8z7Be0B0a63ocs+SuQkrLZEqAblZbrNLSzQr8i3rPrfrNg4I3Ejrcmsww8jp718LZD9g0u7rIzHLC0hi+rCqQ9Rb3qgID1hOPInrkw9lEr9LWp8bjALA1iFOMq0L+glb1qQIAA5PGRQjMyO3y9eX25Gfa5SzmyPNHIwN6ou-rViT0uuU8H0z4DqCu4C+GvtZJHGZRnGcwsKGgtSN4Ge4sbPMsSMxTsqfO4m7uy2y2M+9W5C9S524qdmzW0+yOEu1+W6G+1S7u2yRKEoyo6QGo5aGhvDJFOzBkgy6wqWa6rkMkoOweyh5uMMTa0TFGDook6EHPRB1SFB5QEPBNvzPB9SPC2JosOs2WyG+hx6uAyq8MUOcGw8VYt+xinDGB2ICu-KDmjDFR2RNSIh6luttAlhwgjog1thS3fpVNvEhx7suiLhxG4h3RQ3dR7IF0GwgenPYJ-CMJ6J+zLR1p7+Ydop9WB8w9fK-JjqHB2J3pyJqOkdGAmUM5+zAmJWqW4mtUWPTecq+9Q58wC5756Jhs5RMF6cICCR6o+RzB2fuy4O8CTZ4qIRz-X0Al2RxR7B+Fwh023RwBDx+l0F3Bd5xe-p6JuPnFeRJzq4Fx-Rw1l+PtbK3HEG2p9otx6tvV7zk1nx2VRIelFoqHi0KBN3UzpKKFe0OQHJJUnFKQMMJtMtKAJ5LWrIGdJ5GgDt6bG1c4PyJFHoPdMS3YH6IwB0Oc0yT6Oued5Rld1ZeYtfbDgaxitbOoCdzIMSzqDqPd5dy7raX9yGA91ucrpKNSMd6dy+2UP949z2RSE-BN1kIDp-oPaPhcKBDtcLcjzICLePneH2QOV9yPDwIMKd5IOrCuduqJB4Ljwekd6QCT5IGTyoi2Bj7j67pa7OrT-Tx5S950A1hlQ2ALyVh9hhbJZ3oPXDwz5D0zxT-wDDwYBpJzyVa5bWjL-z7ikVrDkL-Ml+KLzFehf1pL6uWtC6HD2rwxWEJ9tb0fPQJe8z6zwrxqTaHrzTyr4+LL3pPL99yz0rxz4+Fz2tpt571j1r-hrr6b6ZRcOz6vtsrj1l3TPJoDBT6z-Ji79JSOOw1E6EC6IHzs8H8b+7oNikNuprxDz78z4r2z0SGH1M1b9YJVpr6cKLw1o62EDHzOPX4dGm6GfJhn37zX9MUn8+t33T0Hx6B3-16X-Ml326HD679n0b9b19mvy+knFDVoMt3oF2yucfh80TysqlxKoHksisrbkRGwMqzEPlMKPfuYrf5e-flmT4CwDRjkqN94JuIxrj9FWVTd1ABb9yAy3NaoPQ4Tf9KwfPN0kYVx6A4qg26ObgeggHjdHwebc-osHzDrVpuU2FAdwTgGAgn+jAYULwyThPwPAMQHGLEGjxL81mmxeYPJhoFZ81mVRCgbigUbR49AbAqgZMHoG0IDg3A2suMUEHHFyCIg3gWu2ZJuhxBwgygQo2kapUmBVJPgZX2O5KDSSVROxgcCYELFlBkg5wCqUMIPQ5B1A8MNsyyC0CtSrJcxu1WBQSd9BCweMC7D6BOIZWxae3t7jPB+pXBIJdfMQBCpdBFwkgFbriiyCMBdE3MDhN6giSz9GudguTqb1LwmCdA5eZIdowZypUfBGg67A2HEEGVReSlUACQACHApghkkMIRkkGBUlM8REP0IsG9TiCtsMgkqv1ziHyYEhs-QAfJjqHeodQcnQYD0KFZycWhEvToRSVZgxVbevWVFvMEGE6J+OsIKINkBYDIctEy6YMGGDhBeY6ArPDYeDQTB0AqeDg+SgYCljys9hWwroIcMBwbNHOCEHYXuw5rPMlhjwVYfPguHbCXhKwmcFLFH5gNQgHwq4erHGIxBloWQZRmBE2HbDdh8gfYUCKQ7rkHh5w2EZcOkD8AbhjqO4bXF+G25UeNtUEd4HBHNpARegQEWiMBx-D5keI0HEmWWGx8iQUsUzHOS+EtowwRgQhiI2u4Ul8AbI0JJEDsCPBfAAolYcwyHQHwqiPIrQHyNpGCiZRe-Y4YKzlEssMcpQDZgSLkbZBiRKIrzE+nvJfDAW1IggLyNlD8jlhQoukchGFGdgFhvHTktWi9y9B1iZgx8JDS0BVDSSaPfnHkKmyNCFB+FdQfSVgJrRvRrfbXhfQ6DystBKzcwaCU4g3wmA9JW4VKO8AM4MaO-RoWIOSFak4x7owMTYIMHJinAkgNMVaWWDxicxCYp4OIxwrKt8AWoS+i5XRyAg6xhIS+hszHifcyxro-wPKxwq0Ey2i4UwloDMCRiOS8+e0cWEdEVwuxQAt0ZWLWZqjokOOIcf4G2ALB5McY5UWWOWipjt+VpF0GWMeHHIXQm4ykYUG3Epjixe4xNoeLPGhkdQp43PheloobNmx9YjoBS3zHJxayWQcgJBDlGU1xG8mcWoaOkwI9NYowaKKwgZz8hL2UYWCcQMaCDBBOM4wTnoOryD0SxtqXdPuimwXiixJYvQChLnEISYQnjf4eGjQnZDABWErDLhLi4tjpIJ-MIIrlVHWUfx9gf8V8N357jsJiGcCWIEICyB0hwYGGCuKQ4LMbxw4gSc4Dm6mjBRp3Z3t9yOEYT+cfeObiTyUlwhKiMw2EPkLDHFYnW0mN8jaMoGwxJAFPFEOJM9HUNTuB6JzsOKDFhE7Bp3MwN81lYnJTuGMX8aACdIAAJPCJIAACC4AcAHhAABKTpSAAAHl4GyAKbAiTvB5kQB+NUiTrhXE7jcxVYlQUJLGBmSxJ+E9dPKzkn5TfOF7RCYrEKk8c5J6gbZGlP9BVEappQVhOVNZyo8HB-kwKSFLCmRSYpcUxqfYBEmwwypd-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-aRAaJK9Rxph1eUR4gu4IpLsni9jsqXwjZnzuFm-baAOOzONLpDhnjF16ao7NLsiwq7-td+Dvq+RF2PBTMNmx0oexTBa6jlwxRXeulZVFwId-O3IEjqF1HqrRYuy7a7uCLe6ZdyKpXAF3VFEjIRcIktccmt1nLtswiLHXQBx2kjsdBu93RxoYUpBDRTupXZjt92Zws9hu0Mibq7ZdhzdQ2xgHGQj1Lthi6e+3f5oagk6-UbCJPabpUGFq2Rx08NGWr75FBYdg6jFTXtJ17rvUlaVtXPw4l-iGcAE2it2wBTfjdAhKsfdxOqFMKiI0mFPaWrl3XrIQRe09qXu73LrBgvegSKQP2Kirrm3gqxCoMvx06TWp++juRLtyQlsmYTFmPk3SY2jcu0HDgrVIb35r7tYZOkUWtb3HJ29s+Y-UzmeC38+wXg8-K+VMilBdpUK60lUNpq58YKCBxsd-VTTZIM0BY-dIuCIhv6kuE2d1U92n3ZNOJc+4lSwoZTL6BU+ewvWRvi7KNSO7+jZNvsUxjAV2wxfA-lzPx71t0G0ETlDU2EHoAAnFUDvCCHwaeagwBEM34SBoaea7RstF8B7705MCxEa+tn7QLa0zgDyqDL14Ai5DmwvQEOyHYpg0A5hqzcX3irioJDvQ+4d+qfS2GFDdEfpgdOQhalnAfNXIh9h3nWAnDB0lw2sEGD8GY90NHZXIGWWrKYI0ofjV-urFr7lhooIvUsvBpRHY4QIMva-RSMrLxgpcw-WdCq5SB01MQGzfiW8DpAaQSLEvIPUtgHpjO2aFoCJ0KNDi8oYB4gDZpmYVB3Vr82dCFEYAVGX6hCqbO7FbGMhwQK5Ww46UMjTGh6unUACu3zQdHQA0xtmpUDQNADDD4NVxjW371ESjQsVUYVMJnS1oMNf45KGMAS1eZLYSm0IONuC06xwtbzQLX1sKLLth5TfXo+UePKDHpWIxsUiQNN6THWaKxvmsBoC3BgOgyxkE6sdMYz8jjXGlIECehN80FjdEhgMiZhPxJ-D3EitSyIANt6kqIOR8iBwxVPjwDgYSA0RLgO1plAiBg2l0iPGHp-Muxy2HHBH3sbBRYE60X5tuLzYcgdARiP0xKNM4b5-OWo1NnqOmdmjuUWQHWnaPTdYyXR4PthRSqEmLEmRqkyQdn1SGuTp2taCScj3knGQlJ1k8XGj2+CaTdJm2gyZtGnGWEXgVhIFq8zazABM6iJMq1IkjaS0zxjDddBdMUkdQ56krmbEKO7Gh2pEvQKUoAA6WARpVWrOP4BKMtLZffzS5rtoL0phoEH0YqPLEqgoZ9NeGdamRmKJMZuMwE2XQJmkzQ4wxIQHxJaliW8mWs6AAABe7DawDGbCDxmWEiZztqgeJatn0zP6TM4CGzPHlczfrG4HyfoCCmfA4Z8s10ErO9m9aDbOwlxFvhxlSAcZD8YaCHYQg8A+ZjFXOajnjBuzVZ5c4srjIeANzW591cOZFBAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:teal">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
(define (first-conjunct exps) (car exps))
(define (rest-conjuncts exps) (cdr exps))

(define (empty-disjunction? exps) (null? exps))
(define (first-disjunct exps) (car exps))
(define (rest-disjuncts exps) (cdr exps))

(define (negated-query exps) (car exps))

(define (predicate exps) (car exps))
(define (args exps) (cdr exps))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBEZAjzajTGyo3UfIDNFei3Rao+-NaPuwQ9gh7EECDjAkQlFlBogTQOKCBjhCWYPiMYRJE2FuCDiHghIcaO6xFiD+EwsYESxTG+DjE2YmgfIEGEAlUR0YlcK5DupgDNhVgiwSdFzFtjAhWXd5OqDcxdjbAPY1kuOJzGtjlhgjaysJ3wA7oh6urDIEphXErwh6vXfHqvFnEtib4RLaypig9boYZg1BeQHoHrHCMOCaY-iBmORAHihxC4v0XYGv5XjQAYadrpZ1zHntxxWobsaANZKzpxxE-D4LOj-GKiegAEycdOJKZgToJGpadFBP0aEIwSMHTcauLGC7dD07yOincDm7wVtR-1NQZZzxrKj7EOQhpt6jjCYhXI23dlkd3mCaBEOB4xDvmO8SZ1pxIOazCJCtiwTLAU44CYoDYnzjGJLE9cRSJ6AcShhlYniUlEmZbjHMcAyKL6KhYESzA5iEiQpN5DCQ-AiQwgGMXkE0hLx6lagTqnaYISrx1EqwO9xdGWjYeBfInlCK4mP0e673Zns5KKB2FKx6SGsethj6fAa4a1UcokJMkoclejQMyfgQLiw8rYEnK8U8g-ytDYeegGZgSyjCw87UhE0ACKQAASUmWwAAEFwA4AKTAACURSkAAAPJn1kAEkHYhD3wBmAfuh3DAZgjMmAThxXxNrkZOKrENqQXUrsee3skRSmOzEuJIJOUiTt7JMgSoBJMGBfM5pI8dqe206mCMCpRU0qeVKqm1T6py0zvuNJk6TT6Aw0ywII3smxiIptgKKdzmmknQt8p0hLNqNfR3F5Ba0mbp1Omk9TBGXowiHqMTr0JcxMpamv6R+6TAcg9Ez6YhBBmEDxqE4ywL9L74tS6Br1RaWdJ+kLjG0uUrtkURIBmYJIAABl2LUwsoB4T2MJEW7HsIUlARBNISpmkgCZK4K2HjKZmxE2sapHgMlOOxsyBgzMxgF80+zkyfgTYxsV8k0Bsyr2XYOmWRK2ixdh+W0KWTTJlnJ0DezGFJrZKijtxRZXyOwJlFChUzYpmdZWdh1pke9GpzpSmZomllyI6ZHAjMtTCJH3ADwMgeMKdzLJ4Zkh6HIyNKG54iy9BmQ02TWBw6uRZZsCH8VtE66kkLizs2wK7OkDxgSukXJCXHITnxgrhKnA0LB0eFzkRh8aUwC7LdmGyTeiQiYL8LSTjgFgmQ8sc8T6S9Q05xc3qQnzC6qILx3lI4QuT3HiynuYgAOMZCmikFRAwwufhLCOFbJOh3Q0wfRVLHppmxFYuyFNFKDjDApIsfRqEBXESx9GsQRuYnP0HTythNwuclvDf7RwUpHXa8dWV3lJz-0HcjFtfNKbbRKeKUAgPkmHlPC851Ah+We0SEpiCGzgFiAyF56xDpAv0-np0KLFViD5s8loLXIBIcJ3YXQpWpj1Xk29VeUfHUsJLRn7ybBWwgcZoDQk9AUKC4h8LJQvItDkh1QHiOPTwCY06FRsCBdPKnm4KYFSgYhQvJfLwYkFAU9KDH19mY9MF8EjQYQqCB9jRkOCxwXqC3jSLjAYJCOQ2JAW-TkuY892OXIQR2BDgxCuBYBReK0L6Fns+DMpmwm7cZK8-FuarFvGIJFFJCvynhOWQkBBFIk-IPr3yC+8FxbXJcXi2Uk7j8wRi7cThN3FyB9xLiiXMeJ6JvjWhziy+Y2CEZQl-5aoUYnCF57OKU6biuRWeMiUq8bxcStMYAqSV3BqCbilJe4tppgA6FmNCJdf15xfjw0nrdcK4vPYOKLSWCsAaBJFHj1QJEuJCYECaXYR4JEndpdJJ6ASculIi5yM8Uwl+KVJ4UuwHjJ8DMJzJLw5vJDkNwLLO2VMprhsCmBGTGQeMowRURLneUvmbMsfHsra4wjH5rPI2c-NRgsEZArsooNgTyKYSMmgGPZZqPpz4NascyvGaxOXa7ZEZxAP5SuGwicSJ5j9KYGalch4zWZnQdeLrP+D6yFgeykJJnV6W8T9JxHYcOivgliTAV3S2jk2R2WHBIVJCPZQSqCCyT4FlY9FYpOXHGKfRMCKFtDHCbLtDldWDGAyOhVGzyRmkoiQ5P+a0q9J4UHGWYDymFTbAFUrcAABkpMDUkKQ4mamtTXqeMnUFjLBXUD+pvQiYENIelEsxpg011KqvOkzSoWK0yoMatpHmrrZN0TaRKqlWyrwAh00YMdJtVqrOxF0trv9IkYhi1IV0kiTdLukmrwJHwCIlTJenWj7wfff1daMlpgcci4ar0T20SH4NjV6quuakP+lRj9RZ2ehDCpFr+kvlNqw5cP3xULiUZyqt1Sat+lay4QzETREW1En-L018Kr0X9O1EAz5AQM-MreQLWWhvVqjP4WyPBF7QOCGMnUHiu6nlqxlRIZUamqpkTrm1HqoFdjJ-LOVwxv8ulPcEbVFsepAq42Y-XtDl0JInknLkoFHYbgWVRbItPnKPUkAV5vCtefmDrWlVWVIKptSCr3VtrJ2d6hYJdxYQfq52X6jdaOISJIqdV-AsCecrsCFNrJKGA1OqiSEXjEpKGD4XN1MAwy7ZYcwaVclOn4EWhEU-gRjP7npA4pRPK2IGvX7RTiNf-AuD01XAGRMN2k60RAycgxrXRsPcqBjIjVfCb1ME1BMzy43PSk1j7C4hjM0DKj6NpgaRBjP3VnlT5oFX-PhPQ3DJGZhDCKYcoPUCRppVsLZbIC1Yoq0gBGwaZBuXUkbCVAkeKRJEo3YRopD02jZnSk2Ma2ZXo1jXZHY2OSie6yu4DxsSB8b0g+QATZxoTU+aRNRkC4r8rAiI0nN0iFzeGPk13C5ydi-bmMHYhsyhSTGhYMRug3FrstRLA7nMuI2TsDuGM3DR1NoC0iStp0sretIq19IVAQpRbqdN6HarTJNGtyQJAqAnTyt9AK2FtJKllTKp1UuqU6rSD9adpQ2-afKrE2nSJNiNLrZluTz5yNwuQXCeBgK1UzNN9WlTTapa0abDN4KzrdIDS0Lq+t9qmVXKo4T9aHVcqgSZZ0i3KiFtqqs8lNBW05A1twTWgDFmoAGyNgMWBCEzHXWJictylbCH9tqgYwvtAO89kDq+GTs-tP25FXdE+j-ahAOocHWjpDWEwFAb6gtj7FGAY6KAkO4gKjt0YqRj+GpWHYkBryBbwi9bcqFeuXbREEdmUGQfTm2rfaDZHOgHcBuB3QigE6xbnSlSF1k7GVI8P0RzIZHSjh1iMehIzvfUB4RdeIJXc9GWH7qpF6QZURzsR23QxwKu2UTYFJ1u5ydlOj8vFsWS07JajbJTPLoLb7VDdiOtnU-lECeBpIDkNXW2q9Udrs13a4cEuMriX8egFy23WaCyiu7WmuOs0LJwpUfA+VzG10RhKFakk49xE2NXIpkV2JVoGuqIFTujYW6BNBaagB2xt1brI90RMPTeCd0QlJgqCRLrxza5qwWcO+OvSdH0a2N7GVIJxlY0SEOct2ZKeabzvdEgxHK3uwGQaNUj+7VINIGvbtHQGnoqA0kNCeElAXLCCVhieIcDREXldxABCoZYqx3BVdqo44sfowFiC97TOsUHtoyV4qypCJ8ey0ekoJj2JWGuetpJbo3Dn6nOoyQ0iHuiKf6zOxfOuAXBlAocDqAIq2AAE4nwvUMA2CIFXKBah1MWAxng7UUhVUKgTQMpGaH0QLlKgczaYpUX0QrAeJImRH0pE2BdqigRNom3KhoA6D-m88oloNDIGSmeBtPuQZ2oAiBVBDLUHGO+F7oToVgFGoYQ-mgUODu1bg2geDSaAQD4wCgwCK1n3KwRTypQCXEa2D7qdHis3daPz107pADylQz-tL3Xq-w+h5Q-hhwJV7D4CnWEJHvAjEBad1JFcOUDhDHNwFh6q2Gx1PBbAUONh91dqFUMOGXuBpB8MmqM30RRsLhikH4mQU25txA6CPiwY3ChYUj-nKTqACLaXhadxgFIzDU4b6gWDS7d9faE3i3CzFmfMLrJrm4LdMQqWxGCUYj4bbNEGW0rVVp60cqGjf-d2JEdGLRHcWEkOIxiRbZkHAgSR3I6kYxmYQ6jHvcYykfahlGx5+gCowpvSBjHZjGR5dlFD4nF1ZjcxtPsgfgNGR-pvutSJPo1JFG8dYyufdsAKHnqepEmnfQQERrMVyRIe0SXblv1aTU9roqiYJiS3NSuiwwOgAeFVSZRadWm0SPaE8P-L2OPhlzpeICP2HsjIRsI4dpNi2Ve11PN4-aA+NeA793xy0b8Ze18ILjZoa4-kOkg4mCAGJxYuvqeMc1mKMy1clzEJ2IRRoHo1eOya+YB5WTj0I0fnOTlv5jlyO1kzx35NfzAMXJvblgWZPYQldVHKAvzrLacnjo3Jrokrr5P7LBiqp6U1YBjz672TdgyUzqaU3LIK9EextYadSGCn1m1MJvWyzr3imXhNpyrWRBYAAarTlYq4bcSwB+G7DibRiYoCGUAAdLAIVsHXsRqj+AIUv82f2o0EaKEYyDQaUw9GHARaP042oDNHcgz0k0M+GYrn4Z5u0ZqNpeMnjUkTocPC4oQE0AAAvWBqAFDNRAfVhZwiDGbpNw86ziZpyMmY3CpnRARaRFj1EBP0AQT64AMxGZbPFn-mbNANozQMzlRSghpUgIaRwmLhE2FEPABmbZXjmCzUZtszOZi7zn28S5lcz2x7PtQgAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
function predicate(exps) {
    return head(exps);
}
function argmnts(exps) {
    return tail(exps);
}

</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
  (tagged-list? statement 'rule))

(define (conclusion rule) (cadr rule))

(define (rule-body rule)
  (if (null? (cddr rule))
      '(always-true)
      (caddr rule)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4G+s8Me2kT6ISYB0JjqEV953JazApSqmqlw7yxzGpTl1pY4cUVDnlyW+kYVzhyCy6KV8p7yVadBpV4+s+hR-cM4M18pEauQm24wJWOQCwl4Kwh0MGAcK16c0MHCO+mh3x-yO2x8yIWdPsPR9N5WNdKt4iUOeNz+xjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgCD6bFl+pXpKQHoPdEIViH6IwB0B0+d4C3YAj0j2fZ4l3StgyyUtbOoDDzIHDzqDqGj1aRj0p1ikOWT4jyOYCljtSJFIT3Dy6DTxT7B0-C0KBBNh6g7lnvElz1kNVUjYLzIMjXOXeAmREsz5IDwIMLD5IOrHpaDhpKL-mvyEzwr3L9OWUFHg93U0JdYDlqJB4Gr5idj50DJeZQ2Bb1Zuktzled8lmmz+r4z9Dwr-wIO0SKr7k2ZakLGi7+b8mhZitlb3TF+Lb4b7VrpbheH2tKzyGOT37+5SkG5aFpiEfPQO2zL9rx79hSOFbyr6b4+K71Dzn175nqZAL771H8bz76BAxbb2HxGfYBcC2Hr6L-e3TISYDFrzHRcXn-eEfuXZI4Y26B3772ZQ73paEM74n4j6X5r0T4rxXyb6Ly5RMjloH6cE3x5nK76a3zOPX1kJ8vv4OoSYSYP6Vl382kf8XxUx6HK9P7H4UKxW32UGz-nzIMn+n31hlxn0nE2paBvuRJK3l+DYB8cpeiwSzlWXigZBEyTOIiBAPU4xB8owoFvJ4lQHtsW8FpOVP1xYCDdqu6Ud9Pknq6PhGu--c7kAPIDfcLGfuW7pLjN7Ckq8ovCbFUCzRvd80DA+7qwLtbwCIk+Ycqs9ySzcDZuj4Z2lgJm75hzYT8DwDEBxixB1cX-GJoSSUFD8bQ7xOQcmlwbq49AWghQZMHy5Dl9BqpTQfIJ0EP4TBugGJi6CsGTBHCdg9Bu9hMpqC3iRgjXtD1cGPFHCoJA4GoOyJuC2uzgQkrIPMGKDymJ-dQQXyvbeDmGEVRpGhyCELBEqV8Abji0m79xdGjIM8Bygq4fEFi-uQ8qoUXCSAfuyaLIIwG0zcwOELKM7oUFC6Lgf2M-X3IYFKhhCdA1udoU4JdQPk4YMQn4lH3O52DG+wfduh0D1xY8ihkhEoWUKkgJM8hbxPXERD9CLAWUjgmAnYI37R8UuoXDrosFw7fIvwhJFYaUwQiQdBgJw5Fp5yj7P9GsDYVmDcMoGepLhx7WDgaWyAsBWEijatMGDDBwg+MdAbXr8LWoJg6ASvJIYC0BEntQAwI-4V0DBETYJ2hJPslLBv489ua7wx4F8PfQ-D5AII1pnYCxEzhURo-JUrCNBHqx3iMQZaFkAIZgQ-hAIoEXiLhHSBwRa3SEVLBBbkj4R-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-ShUOy7mi3hmWSrwV-fJZcAvhkkqOJXbG1T6t-JvCKGYwItnoFuUDj2ptk11rKpwmajfpOo9CoZTdWAo5V3wroJKPGj7SlpisKNXareLvLAUIYtBqyoLWwzgFPdV8jhItUgk0MoK7wIWxWUxrXRvPS+pbGED5o3JOXSNSsqnKAgQVRbb9J6k7UkBZ5YwkFjSH0yrgI1RbVtbWonZjrcgl3YdjWsdFBTDlRk8QQ+IhFSBimErQ8WYDRYZLK2CEI9WqKtJjAZpkEDBj1LGYjSZVGaULj1PEE3q00hfS+jFKSwqrLpEsd9WZSzQ9M5UI+d9bGv-o9p9V9o2HjdLzV3SlRI6lIIsE+zM9YNr0+DQ9NoaEl31gwEMcBtVkiJH1sarYXvJ-QdEzohgK9ZKu6H3rc57ar+ravzpksaiTykmMcsxAvqmVO6xjU3P0pfqie+aX9SPCuk8ao+QGxwARuo1KiINzaKDXZJg2dsTVCGsyshr6AKbjVMgU1Y8G4KAppZXbXDVDXw0j4OZroucqRvT62KKQh3ajVaSRkkwANZkqQHMoc0gtrNzmx9eNOs3vqH1t094l5sfU+a4N2mSjXYDs3vY71TKwLehrnJZpMgua9DcHgxXrTSp5UqqeABqxJaipKWrafiuw2PqDN9NOLWFt7jndAQYSVCcaiW6eq6NGaELWMA5kRajJ4KmLZfSK1kr80GKrFbivS2YhOtIq3LRcQZkFbuabWwNfFIbBlb74m61YgZg3RWRqCFGJ0eWUW23EScaYebSIGwwxMSuwGd4h1nW3QhM4i2owcnM4SOE9Ms25ahtu9BbbHNzosoCtv24Ug0sV26ELdqSE7aztT2iUB1le0iAjtu2k7W0V22OEGoOgUGF0AjXHaPtZwkHd9rEBswcY8CXLoDph0DE4d5GqzSGhYBdZ3ta3U7fwgh7rbqAWsg7f9oXWOi7tklMnTdpp2TxQlnxJURO2J1az9ttAa7VDjp04YfSQ6sFWljp16Aud5OM-sznXUfDYxqm52vWxTC86m1sRFnWmiJVnQrtJO3IH9ooAgYxdQYqncYzXASAOdUYdXfTqEzuj3WtM8UfSPxGkMk8DaiNS9v11vajdlGLXa61P4pAQxKu1nY3D110AOdmcJ3cLqVIu6PokusrYwB1Ky6C2G1fXartrp3gwdliNhBTvF3xqTRia7UXWTGWgggZIuo3ltge226wVCelpo2oLaSs2lzaOFVhNjU2VnKArUOVXoRUGrFh4i-XPBjd1hBg9ooUPc2wj2F65dgwYvT2Ih6wwQwn2FHfsKMHeZEdfsifVOXrJWMbGdjNPBCS3KwdHOG7QAlNOT3a7Xgz5BNT9Iz3W68yqaqbF8lH09MOUqAvsDkOeADkq+siw4qMpvxXsfqo-OSsoBwWDLAQD6IgX2PUVEQN9ZnBLOasx7JwMJ8K7Cc3pvH7oCVTCr5F3shCh6gDznCzjLv71R7BgKB8zhoPmxZoNoSHTan8PzQABOKoHeCINrUa9yPFtIAIkBbVY16DZaL4EH1W9QuBFEkHpSIWxp86pwXGZ3JhH0G-hegBNgmxTBoAJDiG7Yf3Jf7WBKDpw2uFZKbTyHGDdEBJmaOQhTlnAsNUwi-IAqhAVDZotQ2sEGAEGfdW1Otc4HUB2y4QXwPAs8GlBXqd9capIS7u70oa+QcgGw3YbyLoGRM4alZbEWsNrUfDw+82AF1L0soYgqm64t4HSA0gJ69G1oZbHzTMdNULQJDgFxMl5QHDxAVTfkwqDmq4FsaEKIwHiPD1xa6nGkPSWFBW95DztQyI0avq0c4OKy3VPkdACNHQalQKJTYHqOLswVlsI0KAGf5p8dMUW2bvN2vVLc+MQxq3m5pJm2bvN-m26QAiARzHa+JRuI02QqPYt3YS4xkOCAHmCGVqwhkGl0dhrvrJQMxo2RccaMigRjMfMY+ZrCD1HzjFx1o02uzRLoGAdx+42ZUMOIqm0Zo51fZVP31kBjTa4-czmv2Bhb9ka9qbhs-0EAoaNiCvZHsLZxwID1eiMcRNVH-9LNOCEnDkDoCMQEm0Rz7CAuSOpGVlCHDI2x1Q65RZAtqPI8921KFGthN5YyqmqHIYmET4B3QOpKgP2i8T42mYk6wjWwnshliS2Fe25OggkTr++mmiem1zKXM0lO7SkMBjqmLQKYBmfkU1gZQNATGGrWt2Oi5y9tJM66KaZR757kWrPHWffKUlr1PD3h8YPYbxYQssmboC02bAiMRqE2dEvQIMoAA6WAZzZmvGAsJ8AVpX5u3rhqQ13U5aMQ0CFKPxGMqVQf02CsDPHdgzuCsMxGcLlRmXUsZkyShkIDXEpycPQkhWdAAAAvEBqADDN0NIzc3Esy6xf0Jn6zeTQdCmcBBpmmyGZy1jcGJP0AyTPgQM62ejOlnaa-rSIlxFvg6lSAOpFCYaATYQg8AWZqE5OaLNtmYzHZ2cy6YXNAgPAS5lc+ar7MiggAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:teal">[2]</a>
          
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
  (map-over-symbols expand-question-mark exp))

(define (map-over-symbols proc exp)
  (cond ((pair? exp)
         (cons (map-over-symbols proc (car exp))
               (map-over-symbols proc (cdr exp))))
        ((symbol? exp) (proc exp))
        (else exp)))

(define (expand-question-mark symbol)
  (let ((chars (symbol->string symbol)))
    (if (string=? (substring chars 0 1) "?")
        (list '?
              (string->symbol
               (substring chars 1 (string-length chars))))
        symbol)))
</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk5WVUGoOgpBohDygjafmkV2Z6FZlXZRER0FwM3KYuGJhaY2AAPzv3+HyRYsDMF5kGLgwm+CSZmP6A4um61Np6E0do3RlB9HDjGPDYx1JBjyLMYaIJoAiIPHRGY1JzjAaAkcV-ZOO05DIlRKCWxiwUl0yIqzDGeB5wMHwMwNgUA4CIGQOgPgPBPpnRUNBUGAJZTKAkY7UeCglDDkjLEZkqTrDOOTn4GZaSFgHXKIsnJGQoqEEWG+JEMTtrVhKftMpzJBiDPscEpZEReyBiotmCCW5lRrNAL04p1zSx3JsUNM5iz0lSBAhecCnzHkXOcS8qCS5QK3I3Agr5xAhk-MpIjc069gXBNBdaVhSKZQotQc8uF5zgm-IVsQJmjQWa+MRiTaZILnkYuxrjEExS8GUoebi75FyiVzVWTSp+849BzQWhGJa3gqHxECRciVYQBXXROYsyVoR2WEotmPGO3K0W0vxinIOWr-ar3Lj3copz8UIuPjVNVdN0X4zvgM41HKFg-WpeqsFDrqaKqqZSdxGCgXxCeeguEpiJkCT0D4tmLLDV4qGeK+VoRRZ7RiZneRJyI2VKVd4Zgaw3YAFViBRWYYxWEcJGSqBhuIZwLzNACQIhDc2frg0kESYwShVdKD4FAHoCI8NKAsEmiFSQfLhCGiUefSUnqR6du7VQXt-b62Skbb3Gw1RnlyFkOIVt7apDaUWPpElfafZ1uIIOusNhexYlEnIcgxwNUaH6ZRa6A6o3RuCbDASO7BmrFoEKPQcrH02EorlUEy1M73u-T+2dlCH2geCbguF77sV9AHR6FI08xaOgMTBBGs9TAgeccDGJxKX19Aw+eglEqiIkDGjEToVQF1LpXUe6wabqA+GECmbNubqD5oIEnYeixyIVT9fmBd6ii6xsUPG8pdAjVDKHco5hrC50SZIykZxJQ5AzKIssVYAa+lBqEXIxtimpMmAg5K0TaHXJ6ARiIhTrMQ5GcPknMF9LmZMopRzG10mj3IaiDBct-StaE35p0cNZylOFEtdeoNAW+bFhC7au1fmouy21qw89cWhkYzvGCnVwcjNDpbW2geLAh4jxy3XcxMw1rkeopRjo1GaPyBXQV9d3Rl5l0-eVmThQvyJeeHpleoMOt+Ds2c+r1hF2NfIvR49-oL39ciMYczl7v29eDSXAba9r4jfxWNooa6Ii4egn19bC3LQxMPd+r883iTmd26ECby6puXbWtllVtsv0-qs+11uld+ijdSbUe7noT0kDNA1Dol69BmCOAAPlAKpqo5szOg6xcFg6Ich3IdU3odHYWnHw53qkjTKwfAo4FODwYyOQSo5-GUXHRoACQoRhNnR0TkZEhB+wfJhKK2smJmsRDKyhLr1gT3x0vTq77jJecQjpshwew9R7R3e3Xb9KnCeSqIjA2UgtTLEA51z6FjQgMnebvqyuxmQN0zZ-r-ShuryKyfjlq3kHVSlzNxnC3iGGuPZF8ht59v7nmolTknkAeoUO-1-Cas7ordEv+WBbnBCfU-tD-8BPEf7k7P-Hju1CPMS1DJI5jF1rYWecxCesql7-4yp-hX2b8VIrqAYEcZOeuDeZ83JnMqsuZvplAGT6UnQW8uMtHtQfdJgsn2b73zuOJVtlRMxK59OulAweYHB-lTfl2DAn+DyTyaHNF2dY6Dz5ivxP0OzaD70bVvQzc8n0wS-IOhcy8X-GYOhtsvxUOk9MTL2raf4Wjmbpaz6ShYrZ4gFAFyjR7vhJoxJGa7ZfgxJv7H4YoZ7Pjeo3zJpDpg6QF7IYGAqViwGZCGqpKraEFJ6QR7JJpnLP7JpXDZxZZ0qzY3KYEwquo-5Hp4EkHFJ7Lh7sGvi8FkF0yrYCFEGvg0HKhGb0H-ZoRgD1KxTNIcBtLcB8CeTdIUjNCMAwQwzn5rQlonCt4+YyCoFnS8p7r-rCp5SDCL44FebhyuKbrbpdDzhfwu6gBWH2Aiq2GAJwiIF9xFxXKsBbrka7pfTBr6FbxOwAw8j4ApjOFhFuH1zOB-qLTeErT4BRE4hGwSzxGgBSwyKpE+wAJAJZGY6OGWiqz5HqxFFcZfRr7KCwafrlEOENi5HBqDCmxmEUiX6ob8G0AEbZEiwRxX4jgFJphDF1EHb9FHZ6DnYVHREXCXyAwIFAhjFggpEgLmb4YWjzFHbDG0K077E2gfTmyBzVQ0i6CNHNF7FnKLE4guhyHmzzaNJlL3FtHEIHDPFZZkCXEPT+pvFPB5bmDM6VYNiabMZCqHQMGQgnphRKDFaK5vob5CiXr57my8rQn7KKgH7xqHGeEk44mZB4lHb8IvHQnZ5AbQlTBgnDo6hAkyBbGMnmbUmgi0nZzgmPFuiMlH49IwwvpdAokfp7G8Gkk76lRUhjAfGYhfhZC6AjDEnLrQ6nDyk6CKnWghxyrOKQl6BYnHJFLil2aSmyCNG56hBERqmKlilmAAA88Uso6pwwJxWp8qoKjA6aeggIAAKhkCEsQGlBQu4K3MnFsrAp0ERAxAANQ0yu7WCGDRC6Atr+o2mgAxkFLRmxlxkJkxBqT4D+qakpqkbPIelMZem+nUAEAyCMRgbBnS6hmeqUARlAhplZmu45lJn5lKkY7pkpitkeFhAdl5kFkz58kUjVTUCbLbK8EgG8EgmYi-HKDdAZBbQyl0x3g27dmDCFki5hBY47zdnmkh4RrLkcI35xl4qhjUBXE6A3Gol3H4pHl2q8HHCnA6g2kDmhDOI6iFmfk2BESbkziGnGYqItiFlgFA50zNaDKvnGHnAK4jzClwYVaFCMZrBFKsbEDpDkaFLViRkQU+50bfonqMmXqvHYn-aSpfibkslinBo0n0E-osnia8kEXjYF6ykvZwqnmrk7Ys4Ug8FFKzkYX3jqDzmhCLk8WmJcGpIbl65bmiXKm7lclkz7QHkfmp4nkTlbR-mXmXG5l3kikVyhYeEAVFKwXfiHmfnOKyCWg-nN7bnqBPnuqAXtjAWDAujgV3Y0apLQVwoWUIkIWGXIXKU2BoVKmYXYUkq4WKilrgHk5ChVpsWgAPZEWSokXQlkUnaMnSUZbPYNg0WUl0W8mMWPrMVkn0XsnJWA5CYqVlrcXaW5Vmx1I+wNJNLsCtJcAdIYCaEdRSDjo9pjDToHpKLeYUxXz7opgDWTqbF1HTWUC9pdokT6o2IDqjVrTHQIYYwnrzVTqtWXqAxBK5IagFI2AajyqW6FC5J6inXWB6gXXP65KQm3WEmrAPVHURyHgvWHjvVXURw8JyAFIA0XKXUpC5I4x0AkSqBwgFIQ1Q1pTBKg1SoRxoW3VoWSpI0xoRwbQjCsIeB0Bfw43DB40MB0yY02C5JRkvU2B6AwyDBwjQ5w4loxkI3k3WC5KGTU3WC0302M2gAlqGSgCs2PURwABUXNbadNQtfNJaotQt1gbNo+XpwAEtPN0txwTNoAYAwtH1riAApKrVLQzRrfzaAHrfLaAIrbkkYdTWrcbbDqbUYdLSLa4gAIQnC21G0y2gDu2t4M0u19CAi2mG280m0lr2nWD+262B22lHBc123e2x2R1W0Rww4h3q0O0lpw7J0B1ekw5x2DBhAJ1h2gD5053R1emu0S2m2hAO3WCu02B6FBIQg7XRAToLVDUlFinHCpIbRbQaiDC7Wd1fS9yt1dqDXhHejIgeBWQhg9w910x937om1PVt2DUFKbUkCdilXWBD2T084QhYBj3t29oB4j6Ay5LVbjSdAFJX21aK0XnI2uKQDEDjR0Qw2F0v1v3DwP2P0U3Y1aDE2wCQC3VE2SDAO-1-1K2AhgN4QvWwOQN-25IAByqgyDEtqDyDzlF5LdDee94e3dRwvdoSraDtDJIF+DrB0uuD-elD6YNy8aC9hQS9pDcOm1hog9a9M1xKJYk8iO5Co6-M493Dw1Dat5h4BJfqkgMQkg1WjAcgcIBl4SVIkSQ8558qe9S1WQQoq1W9O9YQFCV8lQYQ-FEotlWywVn6BJK+r66+RlfQLu2uJKege9lEYpgwulu9XDHdPDfYVJiDoQTjBwrjJR1AM9c9B+njnh3jp9VDZ2ZJATNggVSJiFdjyF21DeCJOg1UHgLMaTaJre5j2ySFVjiOLVI9ShHVnA7SGAPV5skxEYFAkg0chgr4G0jAr8CeBJ28ng3gz0dCYF4YZ4oEnY2Sllr0boXTg66ZkgmZQ5yZ-TxxUz5pREx0UzdR2kG0o8-6AkgsUQuZGOnx8wJkpA7gs8-SBgiSpApAfNDAMZegJzFlgIDEzizzSyGZrZJziTwSzz38iZTac1sww8vg-zYjB+hjbMCkxt5gDOnFBV+zugrZgIXprZmz80sgOzwWS9ELQL-hYGB8SLJggIgL9giuy0LADzja3TM8c8FC5przqm3E7qnUPIdLWwmwWATOhWNLu8LYdLZgQQ4zbo-LPtpweS4IYzizlLkwTz+S2poADTJkloLTlY7Tr8dLcqRELWViniuQbL2wnLKQGSfWJRzK7m-L9iXLoArzKLMZkLZL3gFLOo8iFr-ZVr1gDEczQle0KyIaRMUYIrMZIGnrrZ9rI85LUrLoLrVLnYaZhroQ4I3EVrGmuLXpX1YjnDpL4bjrRZYQRKupGrFq0TWbXpz1lOPIzrVLHlwrMbmbUL4wObnLRKQ50r9LQIAA5JmRQki5202-Mv8ws3SyS-W9HIwP6qO9C3CyMtjk8L0z4DqBO986ZhHJJBmUxhmcwsKGgtSN4Fu+sbPJsSkgzjqamwuyOGOyBS6Iu3Ww64wCwCs8W1C1K9e6BWUC+2G80+ewzT0RKDxs8GYg8apbqVkkWzqCB4UNUqWT4KzJhexpxmax1M4H+0lRs4MT9gB0cz6MB3YmM08Th+6uFTB0CGxnmmWg-vcM4JMa3Ch6Y2IPyLu6+OQCwl4Kwh0MGN8XYoB0h3CLxuUiqa3nyDu4wMKHUfsF0PR8J6+NdBh1OzXAcFR9Lnx81WABwt4JuBcKBIPZzpKNFe0OQHJI0nFKQMMJtMtKAJ5G2rIGdJ5GgDZ6bL1XR9SJFHoPdHi3YH6IwB0Ic7Jz6Nju50xl585c4nfeDpq88tbOoC5zIHizqDqP555wfNg9a5ZfF4FyBlrk56QFF3iy6KlwfD+2IE-C0KBFDr-g3tPsUsV1kAdWLVVzIOLWAXeBOVOdl5IDwIMK55IOrLuWLhpHV5evyM551+16+1vqZJV4+N7ka2uqJB4P107SF50ChUhlViSjVuDt5eNrRk9ulQ3qlwN5l61-wNW+An15N8lakGuvtwt2t9fR0Mt8El+It3Vt+qlTt4+l+LlyGAFxd7VYUDVexRJf3PQLu61yN518d4pSOA9713N4+Ad3pFl8Nyd2UBVxp1kFN3tpZ2d6BBZc9w96ELZRcC2Gj3V-o8ErqYDMj69T4BD45acUuxKi6KT+d9Vdt6FaLnt9955wj0N9F11yjwYDjxj799YM1td6cPj11u64T-YMT0SML4dPGxebqbqXT1D0yeT6BjOIr52FUO629xz4OXL19x5x0PT9D5t2EAD9bxxUD0XHDVoMZ3qQ9xfk8811sky9GuspOVsi7kRGwE7YCDEPlMKAOc4iH7uwOZB56SwLB6R+lLxvcnFXVzR5BcOo7+QMZxk-3qp1nvNyEvdOj88DQ4YKAHp5enn+p3V2mxsp76XxeosNp63lX5WDX8HyD8J-mJiaoEXx4DEDjLEAnhb0yVxzT-sRClkCP1sf3ySgZQnnoLP4PzK5h5ZUv7mTPwP-P3Mev7oASS6Lv5MHUYf9I-rjlcP0wOyWP4N1lxf7yXUTYwcBf2sbyWP7qU-IfxP8M1PxryBff7RwuHDB8cx+SCF2H0CI7isxyiHXhmeCDREdGSu+LCi4XBSSATOJKLIIwHMTcwOE-qGTlBX2x-IgBySI3pXi36ItW8J-GRjlXgE0kredVUqGQJ0B49butWDwsFyQFhFFwqAySBgPKTeIaSplBVjgMX6MCQCh-THvdnZ4C5+qRJYgdNhW4QkiSfoRYP6jA52IQKyg-1HhwqQSDCK73C5D1jhhW8beNvL8JoL44FdYQUQbICwFYTuJV8wYMMHCGCx0ARujg6GgmDoDddV+ANAwFLDGbuDnBXQLwVDiJzj93yUsLXm2lubWDHgdg3jDukCEuDYhtgmcJEKiYXkkhwQ9WFsRiDLQsgWiMCE4JcFuD5AHg7IdSzUpzxXBbbLIdIH4ChD3UupCIUu1K4O08h3gAob2iyF6A6hIQxnsEjaFw4EyNg+Xn4L14AD+2ow-AGGCMAkMZ03negTMK0AvpIgdgR4CC1GEsMFhjCIuMsIUiyg1hNgzYY8EqHY4RhpwsZqpjCEdD5G2QboWUKCHqM6Y75FIQEyGEEBZhqwi4RSx+FjCfhEwovMfgFKr4W0PDXoHsQv6cRsCr-I9KQLn7kCGBCI28lQOxJ39aBPnJEcv2YEUZQuRbR-l-0fCDBoR-A9kmEOWAHCnAkgHGs7xP57JxBxIrQKSKeBQCxAFI5aPrhpHOkKRjImETSTH6kUg++ALUDfTbJhBXmwowkDfTCFjxIuPI0ANCLMBjNSK1gG4YQJ8AUilR+IkETujBHFgIRFceUSSMv4si1RC0LTJqPZYLBdSiosZuyO8CcinezpF0JqKiHBIXQiot0XTHtFUiuRUrV0RkMfQ6hPRgY6NKxTCGAhJR0kYlpMJvJZAmOUeFIbTQJK6kpaHw1TKyMo6jBoorCfXBJwQT5jGggwCdgtGwIljYR9efvFyJQxnoL0reH0Y6Kz7OkSx8owsbQA8ZQNH05YjEfQOrFEY6xYrKMdKKLbXCXKuZeMZBB+F6knRNYzDJmIHymkB+sMFxloEqEtsdQmo+cXpyOEbDXO4PaLt4MrFl8R8enbLvuLhC1FMRLeSXiwPBzJdVMSyOgJYNLTBgYYkgTriiBXF85QgJ6Vzpeg3GrikC3CdUdlzMCvN8kSyVzhjHjGgBvSAACTwiSAAAguAHAB4QAASt6UgAAB5ZBsgFbwYk7w+AewMZ0xSh9jcX4jkcyNH6r9CAi4tbjDEokOi2224pcTDATBtj6ATEpwA+23HqBiknEp8YETOh8TSgZEhjorAJLwTEJKEtCZhJwl4S6irEhiRxKE485uJI1VftuKnFsT3x-PT8Q2JAqCdyJtAOyCkOrRESB+4kyTorAbHUSCSfw-YUvStzQj3AGtAcsZxDBRRcx1khBK5Lj6ElKRxAeyVr2IlNjfJFEuySaKZJmwYJOhVcH6BIBmdW8AABn4ZMJqyYsA9vEK9SVhKABwc-NlMSmMhBIreeKWMGKlmcYyPAICQ2HKkKwkp3gOok-AaiMRwU3-Z4Bf3qk6t1O+UlMUSXFaD0iS3Uxsrq2kbm9RuyzZ8XYAOjtTHwUgGIJZgPbmIT0I0jxL1IhwETMpa03Ka+HylQ5dsd4awWMEYjqBX4eA7rMBPBTAC1chfMYK1LmklciOO06xHlPu7fp82sg-DseV1LHTJAp0uQK-DUE6CvRd1OwCdLOmIQlO2DapEYLt7Do-pAM1+OVPnHBgEhXnZELkCI7oir+R6I6eDP+mQyaJvlAgddJilG9oKEXMoBf3JnyDHua0EwnQL0FG8fxDeDwNXlEGoj3i9kpmQoJxDsybuuIzoLpWcTCjHsulIiIjMhl0id+uglILUAZyG86Z9AjtLIK1GPpnEUswGVK3JmCstZr8J4rm01wEBm8phAHPDLnzzB9ZFgyYY-2kaKAt0iMErs-zErRSVpbMxgRzORGn8+0aIoZkSLdm7Zmsh-UVq3il50ynuE0fMtSKdEiDvZ9IxgSBVDE2BrQPMsUYb2kHXTrQh6R+ngFFr5zUk8I7ERQM5ln8-ZcgHmaki-AhzfaA+W8cLMlTsDkyMcpsYSM07JyZZ1+BkZywZxcteSH055DqKf7+zNOilSuZIMmyro20aMnXFIBJipzRKk-GEqxQsBa0wA+c0WlXLWiRiRRHQGMRPN9wRyXsQ8tuT-wXn-8gcQIs6CQGbl+jFgI3RYJDwrFLDMqQo3eV72UwUR35MoqmS4wfnqxlR0JM0YuD-nqzP5dssEY7JpAld75g9J+QIOZYgTH5YC8UYPMFL2ylg15aBVkBcaQ9YFbs6wHnILmILzRGoqWFaNVkWiAFRbG+dHL9Euj0hj9F0erFBmhBaFI8P0RuMYWdiXhCEZBawrKo0kH2O8qUXvOfEHYD2vgQbBaEqHxgwBUizbCmHKkPwzoaYUMHRKjAoyx+x0FGVsXqnXQtFPgnllDNy7LSjZ+OXJOoFOlwgvgOhTYmEOOimKRe84qRvNHKlLSf+LYlYQ6OLFftfZuMo8RelDDZB9c5Uy9DNNBCPSsgC03ICjN2wg4o5I8fsctnlTsKW5zvLxUFIEVhA1FGgdzMEvZwozsloQbseyVqk4g0lySt+aIo-moLRxEHK9BWjGATsPFD0PwnoAKWhLlpbouMfYEnFJjKlrkOcbFPsCwSEJkgdCZmgAAyeEfCQTlKDpS9hJE4muVMzhRTn5w6OiWMDYkaSWJcvNiQmFWW7Kwhok4pEcq2KnKsp0S0rqv2kkTLplsypSfspUldAjlhksfn8KCbPDgk2kpMbpI-ESxDJxSmwICHKlmT1hLAcEFr1+UQqvS+SJRQe3BU2DwQLiwRm8u8VOB7JHylIX2lmHOTo0YSh2gOVcVXLng5UoaVkrdmhTllpKtZRiuCluz5xNIYrKuBaWZKqJ0Uncfe2xUQrcVWgfFYUEFFw5v0ny+wYkMeHBZxo4nNSRRPZU+KqVycumB8KkZHK5VmKxlfQVopvDnxvWT9t4HHZftqJXK92f3ktjCBL0p4v9noBfaAhdVE7QTMOjNUkAcR63BueFmThaNmlX7a1Yas5UAiwhTq3IApwNQvstVEK+cREDYmPgvxa4hFvoAAkkhEgAQBYCAoTVnENyTHOwBFMggyMdlnE8xJnKjUld81MPBvH+Nbz-L9JEsfNVbxPSnMPSwBTiVyqYaQYYVxw1ztuxMnEAkVjwB1SkCb59AO1QITiT2shX6MC2Mq9sdEJNr1qZpIiSdYmPDVgElZHFAREXEMBMYxg9U3NQxNaUmqy+DYy9Lko0Ukw4l-OUmUWpwWGTS1-ectS+Nhh6SR4Bk+lclTrWOA51pK5tUQzjJtrdx0XBFVkFHV9qwgA67LgBpkBAbx1w0g9oMA+GzrgC9UgEcuvZ5HpC8DnZwGJ0-VMZs1erBdZUPcX5qxRX5SUGx1JUPM8NYQzDZxPI1dqtiVGhdTRokmaTMQG6rNU2p3WvjGNNkg9PEobyZBpVXakfHctkkYSsJuE8ALtmE2oTRNCkuZROq7Wwa+a-GnDfOmHSAhJyMYtdWdEw3uLDFLGzNVuuykcblxZ61mbnzkCvKD2Qm8ZZMpmUSbMQdy2zbMsvS6lyV06h2sptWVgEvw6m++OIqkBBU0wVkPdLZjOEHlQtdRebEFuhCKZtFCECLcJIpBfZotIgTOKFrH7aDySUCREiVjXASBgtERdLUYqqFlAEtWmikPNghoFaKAsW1fsDKy1JwvsVW6EGlrhiLCEZboMrebAag6BQYXQFpUVsxH1atibMHGPAn-ZtaCSw20To2hYCKdBt9AzLfOKC3UBFpKWigAfjDU2DKhgW2gNVoQTrbJ4gCyJT8LCErbFpyWvbS1o6VXbUtAwxpaDD1Vjs1swiYlPtpu3EB9tdmZXo-S22nCzYoGvkCSgzJ2qv2ExPbatp43oaFR+WyHb0Py0tajVAIkAQFpSZ5a6A+2qMM1ru1XCNcDS24V0KKHlDvlohQNF6v1UvbS42OmrdTsnhI63hgSGXu5rhxVa4dTWhHalvh0Y6WtluJnWGKKpvCuwgO9dimFB36rYasOmIIfTvA9b+kbCeneGp5XTC8VoSK3EKp+1FBjFYu57bLt2ZPb-UbCe7fKl6UJiuVlVFkUe3VQm7+lsK-ub3KWSqZGdKQP7fe1FCA7N2IOsnfroKS66mSiy-kiGE5wTaKkY-VbKNtenB6k5cZLJjkzyZNF7yjIeccox0R6J4m1+cbhXL9VvCO41FHFU5NV0Sp1dy+diacyDQh8+wsA54J4wz3UTsl8xbxIzQyHhVlAHYnhR6xI4cZnAFIxeURGT2qM094xUZseWt2Lrjh-c4so7rlQu6hdnOL0n3tT3mZPdOmcnWOwKTz6okA+v3TgBPQbQ3xcNJwZegACcVQO8Pvuhpm72t1gU-RIHhpcrpGy0XwIMGY34DuWJW3wBdjpgZy10zgJ2ilIJ42Az9-qdtu2xTBoAwDwGg+WlQlSAGpWhgOWWEEAN366IfTP4chBArOBBahRc2en2sCIG-hyBtYIMF33o74aLiuQNYtsUwRpQm6hXdtoFEC6IVbu2fXyHIPQ1KDscIENro-qShWDNi8YHYul1Jw4kZEakPrvbTEAB125bwOkBpA-0yupqy9CWPhBFo3xwhkxLlFkDiGB1SLCoCiqDlroQojAGQ+-VDlAgaQ8pYUA9xgOAhDIth6JvEgYATtS02h0ALYc5rGNUkMBj9myqNApUUNNvZrE2qY7JQxgYnYLJbA-2FAdN2U7DdRvo1drSi47eA81kMPGHh4ph92FKMZDggje1htw3Yc4kkb2Orh-I+4YqB+HJ55gEwShs8M36nBXpUo4LScP9iGAjRso7UchpOCzdIqnFQKv52gh3JcZbw96sDHl7Awle61bXrbQt6CAfNIZIzy4OTGPVugCcaPo2EZiJhl86HfNhyB0BGIfTGIAOv3UXpLYihvxcoZaCqHmAIhulXlGeCHHtO6ZXQ5jxIrZVX5llRY5bDjjji+laxilhse81rRhjFOsY4yAmNfHi4r2hAdMYb0m15jz4pQ4WkuNGIbjwAo9JnJ6kII5BDiEil3XMqt5UkM5H1mUj9Z+IsZ6g7yq3QcMcS50l6JeoiZUMon2YYLJTt5Sux4nqwTzZ6naKJIbjrj7MGk02iOhgIygahnduJznRD6GlbjfE2Ky+p2j+T4p+TJQjCEynOTQfdfdEiOy1LiNupNU4qCiGAxNTm+pk9SClZJJ1BUplIMTi0z6nMgnDakxKYBYF4pBpMlZNib5kjFXE8KmKrtFKSZIKTLpyow4kMGLBdsaGrAGKakAtL22+YvQG3oAA6WAAjWKq6DBH8ATGf4zvHpq81B0j6EA0CFSPXlZqkZxU9Ge9Wxm1J8ZnhUmZTPozxgLCDM3exXFaZCA25ECni11JtnQAAALw4bWAkzBjVMw2b7SZn69QtQYH2bzOgYCzgIIs7IHzBcsbgJ2XY-sZ8Cxnhz6Zsc0bXLauIuIt8DMqQAzJ7zDQ7bCEHgCjNiGNz9Zrc82Z3PQN9zQIDwIeePMorZzIoIAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               list(javascript_value_process(head(args(exp)))))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}

</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section <REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4EW-KFqjDPzJFOzNBn9rGhEMy7SrkKzGVikDeT7FLvmuksmcq9y+e+q1GMe3+QHVu2210Gwvmrnau-COu5u2RNSC8zu3+RVue92ZialcduC1CgNRcTqPDC+7IG+32lOcdHB3+wh5BqGm64UERJRKB6cHa70JBzyah+zAmGwhO7h-RWB-g4Q6QMQ5aDEkRx4tByhpRzBUzoDDR1SHR5QEPAlr+9u4G+RnDABNyUdqxyB-uSR6+xh73BeeFjprliq4+x5p4ZEbi3HEq4kuiI+1zrpZFl5nDEbuBUXG+s8Me2kT6ISceyCzqDZxC3JazApSqmqlw7yxzGpWZ1pY4cUVDhZyW+kdZyJyCy6PZ9h7yVadBs54+s+ve-cM4L58pEauQm24wJWOQCwl4Kwh0MGAcP56c0MHCO+ju5M-yO2x8yIWdPsG+6l5WNdPl4iUOYl4BxjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgHN6bOFc4PyJFHoPdEIViH6IwB0B0414C3YFtzt2fZ4l3StgyyUtbOoGtzIBtzqDqAd1aUd1h1WUOQ99tyOYCljtSKt+t4O2UG9098u8KVXi0KBBNh6g7lnvEqD1kNVUjTDzIMjXOXeAmREtdyPDwIMOt5IOrHpaDhpAj-mit6QOj5IJj9OWUFHl13U0JdYDlqJB4IT5iad50DJeZQ2Cz1Zuktzled8lmgD0T99yT9j-wH9wYAT7k2ZakLGgL8z8mhZitmz3TF+Jz7T7Vvp3rl+C6AD1L+5SkG5aFpiEfPQO26T+TyL9hSOGz-j4z4+IL3pMLzd2T2L1Twjy5SkPTxL6BAxZz0rxGfYBcC2K74+LQ0EoSYDNj+T4SRb-eEfuXZI4Y26MHxU+7+rwp7haEPzyGI9-bz9076LxT+L7byn2r9LzarL6cL7x5nK76QHzOF71kJ8jX4OoSdH-n5bzIDW82vX8X3UxCHKzz3pZTnX26ADx37r4b31piAb04WdJtVoKN0SWz1+GwGB6j4sExy9+v0zkRKv-hzEPlMKC3p4gf+2y3haXKpFywNF65+lO+vkp54+N59PwV-P+QKNxY37u15Lkz8D2MAjxNiqBZoBu+ab-p1wAF2sMgiZfMOVV65JYwB6XR8M7VP5pd8w5sJ+B4BiA4xYg6ucfpZxY4+BcBsfG0O8UwHJpcG6uPQGQOwGTB8BOoagaqVIFYCKBD+BgboBiYug2BkwRwlwPQbvYTKRAt4vgOJ6clamExIEpVw7zcMlGRA7IkIIC7OBCSGA5gTgPKaN9iBVvQYBIJM6LwpAi4ErgoIWCJUr4UXHFsl37i6NGQZ4DlE5w+ILF-ch5VQouEkBjdk0WQRgNpm5gcIWUDXQoP9j0HhhAOQ-X3IYFKgqCdA1ucIXwJdQPk4YWgx4qX09RcCfe8vduh0D1wndHBkhZwa4KkgJNbBbxPXERD9CLAWUvAmAlwNT7yd6sinD1ihhU4Z9PUhJEoaUwQiPtBgLQ5Fo+zMqD9GhseeYKzDV4z8Z+X4ToceyB4GlsgLAVhIo2rTBgwwcIPjHQHJ7zC1qCYOgLj0MGAtlh3JTxKsMWFdANhE2CdoST7JSxQ+4NYZlECmEzD30cw+QGsNaZ2BHggfIkOcIT5Kl9h6w9WO8RiDLQsgBDMCAsKWErCHhBw6QJsIK7bCpYILL4YcP4DHCIWpwhCDsIuE2ooafw7wACOdRwi9AcIiERNjRETJwe3NSYS8JnBSwPo5sMkdMPwBhgjAm0POnHBiZ0itAVaSIM8N+Y0jJAT9O9AfFuL0j2RNI3wJyIBZbYlQookFvBgnaYjsG2QHEWCL4xNo+y1wx4AYxJEzZWRCkWUByKmEiibhyEUUVSJozSDq0VqCTL0C3REDOIP+eQfbkvrJCksvAjBgILUHiCEhBXR0ZX1SGWYQWoJA4NaK0DxCfiJwtkd4HeznVF+5Q1geEKnI2jgxzlIHssG1FOAeRC-DksmMGDxi7BnffAbeTA74AtQHdPUsx0BCFjCQHdCdmPCu6ZjQANoswCC1vLWAZRAQnwMmIbFCZ-R6DRQMWEtEVxax2Ywoe60ioXF2xWwHYHUJ8D1iQWyY5aBGPTHIt2xRIumC6HrHLjCgs48MWmPf4clYOWgLvlPR1BriPhQqX8hOzLFFiOgFXHQRSGbJZAMu72YUQQXwGEk0aGog3KUDjJnRRuIYKKKwnexlc0uUYQCTCEGCrtaxq7O0Zn0vqRi7qi6XNPmk3GpjYJegcCUGPUqH9GgEjVeuWkgkejGusEmdDmjzQFjLxm-GwOjgQwQs7x9gSCMKMInwTzGzDMQIQFkB8DgwMMGgvuPwEA5Y2e4kkEDwG66jHg6Pc3jd0hHQS-cweAbqJKx7iS5yz5FIUehWyDl4MY5IHlgNhiSBseKILiWEUkmhD1u+afiQpLkL6D1uZgGZri31zrcMY940APyQAASeESQAAEFwA4APCAACV+SkAAAPJ71kASWHYubDtI7iZkmExWEhOIAJjcxhg1iWME0mcTopuw0AEJKSlkdauROPSXOLE5pSA+6geJCBKJyOEhJhUiKe22ykxMnJLk9yZ5J8n+TAppUgPhlJq6RT6AOU8MTEyEnCikp2kp3rpJSmtt2pdkVUSwHMGdEsBFUoCVFLDFOBYpMTbkVqNzoU4bR7gYmi3h-HRR-x00hBGtOv7QcUxMUnMTWzCmjddp2U6KQtLNj2S8Cq4P0CQAm5JYAADJAyYT2kxYXbW4Rgk66UADghBL6Q9M3QFQksd0mRo9MEgKkeAy+NaGDIVgQzGAjhJ+A1EYjdIkBRAuGQe1+kdAYmhJQEBpwIELovpWMysH9LF7RNjRScOwAdDRmgQpAMQImWkwh6X1MZbpQ9ugw6DbEPprMmlNjMAFG9X0dgMYIxHUCvxfBpZOHI0hK5o4-++0D6ZQNsE8yfppMnGZjgWBBdFgZ9QcoSWuHCzRZErdoeGV1mSARZcgV+KFxE7PcZUgwl-o12NmmzX4YMr8RSGDB3CduyII9nENj5iCFp6ZQWTID1lmzWUbPfwVLM75+86ei5S7mUCIHhzghEsnEGQUSE6V0+euS3JEPIH1EXRD5BacnPZ44gPASkhXp0HrKeJCx9WeskRHtn6zox86DwFUNcpwtehjWSWdZw7Eq4hgQsk2frLs6osAgncgOd3KDmhcrZn3AgE7nILc9bZnqauUHPGHMSuGPDbsUsCbI0gwesguCidOZl+5HRYQzOS2WzlJJBB+E8ILGmSHYsq+uFFXhNHVLbioxUQiobGOwk4TrA1oXOSWMH6hz9B1odNL3TwCI0AF6SS3OEIzk0DohrouQLnPSRfhz53o5SSXMBSZDjSd8jkrgJPF7ywFj8-eeTnuy4LrAQ4-dCUlNEBi3R2FKBdULsyxpXZOOKQCTDfnezUm7on4k8X-mALlea0C8RWKvF6dU57ChsP6NEGMKyFJ04zktwcHIKUJiwKPgXygmep8x+HcsdJHInFJOFSiqsdHJoLSLUphxFsVLKkXtyeSXY80YmkRhg8pFMdGRY8V0X6DFguPP0cQuXkmK15WQGggX3MVbzSaYAABYjV0Wt8pY449WaOPVggsSAEihcS6H0XrjE+LYWxQeJSChLb5KE2Du8Jfl0xYO6sKJfZUeJ5TVFHdDSVIDBm+B-MCRHiU7EyKuxiljIFMGDPyKawMoGgJjE7LoFgJ-uXbRhEXDhnXQmlWw8Uci215tLR5FEtenyDkAiy4QXwPAhlQnZZNR+Ay52aaGgasJPpLisGWBJnY+o5px0vCT8W3mhDQw2Qd7GDPzTUzPi6uembkCdk1ZhsN8keIxMvZAoElI8FCWhKOmZL9K9S1iVGH2XU4nZby0INssTEFdHlREpdJM0UWVihM0ohzmhhCbrLGZD0Swt8sOVtKiRNEh8cJN+bArGJVI+yTVMkBeTFUAAGTwhBSPxcgN6Z0XsDnSwZmcK6VvPilsSkpnUpwKlPSny8YYCYGlcyrTQTsyppQZZa5H5kdEzofK+JFyuqnOT8VRKklc1MtCtSBVtKzZYtLGm3ClGFOHqWNNtTsr+pI8QaUqr+U2AoiXbUaZyPBAXCNVnI52gTKNVZATVUw8EPMrEBoMuVdK2Rf0LOaciXU9IlaUKiOXc0W8aDeaIUtWWHS5xC0i4WdLgldtFVryk6Y6thAUMxgRbVCesoWixrXyY05VZ6uWmMj0Khlf1YCm5GCMuguI8aG1MqmKwXlYak6Qau+TvjnV0alNd4A2Xprslz+DNaKKB5yZYVzaptQW1ikYqLcl9S2MIHzQySzOfavmkCG7VFtv0nqEdSQCLlpCQWNIfTKuGTVFsB1NIvKQutyDNdh2HaqYfGoWBJSkBY4npRyNVISt2xZgNFnLkCEmTj1hgK0mMGKmQQMGTKt9Wmg9ShzT1YPL9Se0KBZojJSWPqTpIlgAa1eWaHpnKhHxfqMV-9HtBar1G-cgQX6u1Y8DnUpBFgn2dHsNIrXEAMN402hoSS-WDB3xMG6mSIiyl0TM1c5ZuQBWFW3iMudgAVdEKZXdL7RX9TZfmjTChhPlJMS5ZiF-Xsqz1Sq63pfRA26oOJOqhJNyrMrQbHAVGtjTSMQ3NpkNIk1DTapkBEasNYQHDX0C01gzdNJGi4iGoo1KaR8cM7dfRo16MaxF1XNjVaQukkwANpSgVWMxo3fqQWjmwpQBonaOav1nm9qe8UC1ebgtBG7TM+tY3waP17KiLTNLTRXLL6mQctYluDx4q6p3k3yQFPAA1ZMtHk7LY1NJWkavN5GqGqlpc30BTJDYQEGEmvHGocuHmzjb6RY1jA4ZcWjifCrnJZpKtNK-NHioJXEq8tmIQbdKpK1mau25W+mn1ujU1acQdW++PktWIGYN0VkaghRjFGIs54m224iTjTDraRA2GGJnZ2AzvEOsB26EJnE234CLZnCRwnplW3LVDt3oY7e5vLK7bJBOCEnM9uhBvbDBp2+7V9tkRBgJAL2vzmdtu1tEztjhBqDoFBhdBk1N2gHW0Jh3A7FBAsFljYMh0o6BiaOpjaaBDQsAus-2grndv4RiKDt1ABmZdpEAgZD1ao9zZJVp2vaWdk8RsVZRpETsqdDMi7bQHB2Zw2dOGH0jOrhVpY2degIXTgpwkM7XWZsAzc7XrYphRdza2IjzqS1iLnt1O3IL9rp1brM1TO4xmuDB3UFddFAD7jyShXhdZR2IoEY8NIZJ4YVyatLGbr6Cu7KMsu6XTbShpa7edjcY3XQAF14iTddOr3YOk91dgFddWxgDqRV0FsNqYO7XbXTvBw7LEbCfXaKPwFLTvVua08fmqmyWs-BvSuPSylT0tMe1BbSVnEqFRoraNlq38lGw6TJxVS94uvXqMKF4KiI8GJvikE92igo9zbWPU7vWWxEy9nfClWYg5U9Nsdms-Ad5jZg4x4E5nETs-MHRWMbGdjNPBCS3JA8uORDXjgx2CKFSM9R6juM+RVU5q6y3yfMQXqTxT7PszwA-n2GsHPABypkUoLFLeU34tBP1BPnJWUCr6X5gIB9Lf2THeyiIe+njnx0Y6VMsUze3QK3sfGaqCFMqbvV8j72Qgo9kB+jgliH0iYk1I+wYNgYP0JZa6WaDaBu02oLD80AATiqB3gqDa1DFQYE8FJxGDhmFVXRASaGBBg363CqHIIokg9Kn82NPnVODPSI5dYiQFtT0AJsE2KYNAIob00ULeeEydgxK0MANyUg7BjFeg2Wj6jyR+cKcs4FhqmEp5AFUIDoe5FcG1ggwCgwHq2rHr1AYyiZTBGlAvqT9jOwwbLv724aRlLh8YJMrwMaBQYFekepKFGVrVXD4+nAFmhiAGbN2axfNICCLa6oDNhqCfRSFXYdBogIUeWKRSHV+54jcAq+gmj6DFHLQcHNYnOQENIsKjgG7Q9IYWHO1DIrR4TCEZY1DADWMQBHaAFaOg1bNvCoDcOvzRftNULQDdtJ0VV5RH9xAAzfkwqAOq1e6hkGv0brG5HBItZNI7136OtHlDNgdQ4uzhWWwtDineDRl2SivqcufGE45Id81fTnNQWsLe1IARAJbjeclY65K82ShrjnMjLnWK0CqBYSsgNAPsZTk1C+hUhlas0dWO7HQAqRxiQwF2P9GdSYJsIFYc1UU5uRPqrJaCA2kt8nWyauFnKyf2BgX9qEz-TagAOgBJAUNGxAeJL0Un4D1jWiUgctXwZOc5hwoNkY2P5GQK9GheaUbQ5hGtVBm64t4HSA0gJ6uyvNJbFGOprv2ExgTtSC4kzHRTvXbUosdT45Y8jkp4euLXw40h6SwoNnisbWNTH4T6y7Y3mj6N7HKgJYyw00bWrCNR2G6o0KAF6Ez8cs5xzLlcdy6oSGjdDJrXDMePhbnjBG144W1OM6mJTTZfU9i3dgVjGQ4IeOVCZkOwm2jX6n47l1tO7GRQHp-TsMLs2FAzTyJy082uzRLokTyJgY8sadMcHLVTabE7ntxNPB8TzOI472o+GkmrBliS2JSe-0EA6T8fZtIyf7PMnEDzBjk52FEVYApjIphNiBLGY5ciYjyCOAACE6IOMHLlkB1LrnZQZq4ZeAA0BPBGAaeUoLHCBBeS-p7QUAF5OoD7BYiPACQ4aHkNAgjT4MCEPOeTWLnauegKyOozXORFNz5Abc3kL3MHmpyrBcQg-pj0phmIAAL3DBXjOwb5xM8afzDfm4Vv5w-gYHUDhgWUrBEC2Bd3Mph9znMKcu5GenUWXzaFj88mdrpYXe1OF03tV1XOsFHJJke6HBaBCuTmU1ILiCmFgCHnWC0AC6NEA6DtAdSOEfkKAFckhRYiAAdgAAcqFlMPRZNNVAmLleli2l3-OAWOLXF7wDqT4vjK6AgloEMJagsRwYLy0HUnBx0AvJTzDqkwHRaTOaW5zzAYUz+aXPmXywhFiOJxeijGWUwplgSzqSsuDAUANF2i+pfcuYWvL7MBc75YiTeA08ekHwIZeCs8XAQYV8yxFZEsbmtzf08C2Rcguvm4rGFxi4lepDJW-zbF7dqwXQiZ0dS0AcI4CAAAihVyImJc8ASWpLoVp4AwHAC6yO2psCq++fitfmarUgHy3+YAseAgLwNZqxQFavtWur1lyIrZZCtAgHLTl4y2pcmtVWtLM1uq7hb8sEWlrztFax20BBtWdSG13wgAFYaLE19C5+ZOvwczrpvUSPf3SuRcmrLVlMPdZTCPXhlxFkq6RaBDkWXLbl46zgG0sspdLfQBqyqdYL8lGI2QKKHRB1KErzIOpTepteBrrmmyD4vc2tQgBs47zD5q8fYR+GuXKrH1zy19bmu4WFrV1gUpjcrw42UweN4jUCEJv+strCaWCzqQEijcJopAM8BRbesaWErLN7C75fwuV70bXN7G7db5sE3Dz-AF69RdltTXPr3lxW3+d+tpWJAANiOBjaxs82gQmtlMILfBvFWdzl5wEDDcOvvWGL82RG7IaXOo3M4rBLydkD0gNQcrhK-SBIG6vA1jz4pM84SChuAhYAx6ByULOpuPnBgyll8wzaOtM3vbyN-S4tYDtB3aAO1wEGHcIAR2ibztbazlb2uPBnLKYClsem7ZZ2PbHl3O0rf8sc3A7VIYu6HfDvXUpynkGK-rfhvt2TbqV2Oxla7tF2Q7uN-u5HedpBXuLJl-i-laEuw3GbnthG6ddZs-WJ7-1zK0VdAuQ2XbbtoW8DQADq4YDwIQGijXUUwfknoHkY3vZ2t7zNo28xd9srnGrEcK+4wBvt32dSj94OjHsruAhwAmNi8-ZBu46lBSiwUAI5OyDwP7zj5923LemsK3P781gy7-evu32oo99oEMA+ftgP9gjqCaAaU3A6lMBOgHUnVADkzU0HBt9+0ld3t6WLrKt3B--fweEPAQxDg64MB4C629bLd9B17Z3vG3cLftjm+ADo4ZABrAtrwBRfPvO0L7jcPMCmHABjdUooAQlTkEvPPmmHo9iR1g7Zs4PIisj5gNQAUeAg8ISjhe3yG6ZJptAtD5QsMHdL4AdS4zZx4GBfut35bH9nSx3cuusFLH8jl23Y8guDBFLwjkeznZMdBPx7f1824fYsdyPrHET+x2A7-sAOCHQDp+wdbidv2x7Uj7+2jYjjQAKwP426-ea8CoCwHfFqNGTZTB70EH4YRcJzJGtCyO2PAdyEY-ieYPEnZjguxU6qejAan6jcrqQ6cePTVSOpffSFFnv9Ot7JTn68rYCs9Wxn9gHUrU6meCOM7IjuGwM8CdI2UryTqe6Ja2cTO6nJplR+A-Sc2PInMt0R8w5Ye1W2HKNsp-7YjiuSd4D1mQBfboi3OjzJ5s2xeaAcTQxA4AS7nYFiJPXlnbdhJ6c+wcjPIivz0oP88BcKQHHZD2iJQ-ojqWQwswAi347EdvPZrkjtZ53dYLouZqoNgF0C+1uxOXnxjwZ8i-Ov72UnHN2l5i8ZfZO8HgDh+wU9AdFOPL5L763pbxwdAWE7N6CyLbsvwXKASF7bg4+rv2XmAjluu4U5ZfHPWHlLyV9Tmld4NzHwNNV4q+VcoW7nZroEOLeGCS3pbpL156s4NfvYjXsrmy-K5Lu12WAzlsB9a9Soav9rOVxu81Edfw3xXHzyXYa5lcmvFdHQch70HyTzOiX9gEl6Q-jd4uKWBLoEDQ7oejB5AYbpm6FJJw5A6AmNnwPUZlPwn5TzatdkqamOqnZA6pvNJqaWNcbQh95PE0ljs7D7e1452vWyb1HTn5t8wTs5Xp7NUA+zWg4yuMXI3Um9C3Nek7voIbcccD66Bt+LOUT7s2ZVSMLjyTrY7vs3PLImA+xX1M5c6xB6A0fmVMgZ5E3Q3Rcp2C5CZWCBM69tp2X2ay8pNsskCW-oDlufbQjDhyynv7B3zUQUR6VOUveH750jwZx-bUm7D3XLEIPAO3cA-rOaCbyWgGB+ceQeV3++q9zB-A+Mh4PQ916y3d1NNkMqFQIAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}

</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:teal">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:teal">
	  the symbols.
	</span>
	<span style="color:blue">
	  strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
  (tagged-list? exp '?))

(define (constant-symbol? exp) (symbol? exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4G+s8Me2kT6ISYB0JjqEV953JazApSqmqlw7yxzGpTl1pY4cUVDnlyW+kYVzhyCy6KV8p7yVadBpV4+s+hR-cM4M18pEauQm24wJWOQCwl4Kwh0MGAcK16c0MHCO+mh3x-yO2x8yIWdPsPR9N5WNdKt4iUOeNz+xjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgCD6bFl+pXpKQHoPdEIViH6IwB0B0+d4C3YAj0j2fZ4l3StgyyUtbOoDDzIHDzqDqGj1aRj0p1ikOWT4jyOYCljtSJFIT3Dy6DTxT7B0-C0KBBNh6g7lnvElz1kNVUjYLzIMjXOXeAmREsz5IDwIMLD5IOrHpaDhpKL-mvyEzwr3L9OWUFHg93U0JdYDlqJB4Gr5idj50DJeZQ2Bb1Zuktzled8lmmz+r4z9Dwr-wIO0SKr7k2ZakLGi7+b8mhZitlb3TF+Lb4b7VrpbheH2tKzyGOT37+5SkG5aFpiEfPQO2zL9rx79hSOFbyr6b4+K71Dzn175nqZAL771H8bz76BAxbb2HxGfYBcC2Hr6L-e3TISYDFrzHRcXn-eEfuXZI4Y26B3772ZQ73paEM74n4j6X5r0T4rxXyb6Ly5RMjloH6cE3x5nK76a3zOPX1kJ8vv4OoSYSYP6Vl382kf8XxUx6HK9P7H4UKxW32UGz-nzIMn+n31hlxn0nE2paBvuRJK3l+DYB8cpeiwSzlWXigZBEyTOIiBAPU4xB8owoFvJ4lQHtsW8FpOVP1xYCDdqu6Ud9Pknq6PhGu--c7kAPIDfcLGfuW7pLjN7Ckq8ovCbFUCzRvd80DA+7qwLtbwCIk+Ycqs9ySzcDZuj4Z2lgJm75hzYT8DwDEBxixB1cX-GJoSSUFD8bQ7xOQcmlwbq49AWghQZMHy5Dl9BqpTQfIJ0EP4TBugGJi6CsGTBHCdg9Bu9hMpqC3iRgjXtD1cGPFHCoJA4GoOyJuC2uzgQkrIPMGKDymJ-dQQXyvbeDmGo3EsFQEsQVcPiCxf3IeVUKLhJAP3ZNFkEYDaZuYHCFlGd0KChdFwP7Gfr7kMClQwhOga3DUKcEuoHycMGIT8Sj7nc7BjfYPu3Q6B64se6QyQpkOyFSQEmyQt4nriIh+hFgLKRwTATsEb9o+KXULh10WC4dvkX4QkpMNKYIRIOgwTYci085R9n+jWBsKzEOGUDPUew49rBwNLZAWArCRRtWmDBhg4QfGOgNryeFrUEwdAJXkENiZIs3hJ7UAB8JeFdBvhE2CdoST7JSwb+PPbmjcMeD3D30jw+QJ8NaZ2AERM4aEaPyVLAivh6sd4jEGWhZACGYEZ4a8PeEoiQR0gH4Wt0BYAiQWuI0EfwHBEQtIRCEAETCKhqEjvAxI51IyL0CMjqRE2G-hMlhEzZ4RdwzEZ2GuFRBbhLqMMEYE2h5044MTfAAqKrSRB0RvzCUZICfp3oD4txdUbKE1G3DfAWo-doizngSjAR8GCdtyOwbZA+RlIvjE2j7KyjHgBjMUQQCNHvYJRZouUchHNEfQhi3DFPFagky9At0agziD-kCH25L6HQpLI4IwYuCIhExIEmt0TE78uhlmEFr4M5K1MJiMYloc5QhFaBlo72c6iAJmGWCahU5YsSkO-6wdlgCkbwJWOAEckWxgwBsXGPO63k+O+ALUB3T1JWdAQg4wkB3QnZjwCeXYoEVoDMAgtby1gO0VIDKEtiFxQmXweg0UDFhIxFcWcT2MeIriFoKGdcVsB2AesUMMYwES2IrG6iOxyLdcSKLpguhrxz4woLeLbH3iaBHJUTvOPfFKkdQb47EUKl-ITsxxQ4joHt3AovZVSWQObr6PdG-MCCRgwkmjS9HwY4yZ0b7iGCiisJ3sO3GblGEIkwhBg8HWcfB17GVC80VYu6oulzT5pPxTgb8SAPIlaBzUx3RoBI1XrlpKJsQ87rRJnQ5o80A4yCTAJsDo4EMELZsvBMgh+jBJ9E8xnEOcCEBZATg4MDDBoLzijBAOWNn+JJCwc3uJox4Mz1z5E8aRs-S+sHje6mT5e5kucs+U6FHoVsg5eDGOVg7yDYYkgBXiiC0lhFLJfuWHvmn0kOS5CZQ2HmYBma4t9csPDGPBNAD8kAAEnhEkAABBcAOADwgAAlfkpAAADye9ZAElh2Lmw7SP4mZGgKJx+SKxJY7-kYNUljBPJmkpiWmhBZGSmpCnTiYrBalQdQARk9QPEhIlE5HC-U0oBVPbZVSYmSUlKelMyk5T8phUkaa3w6lHdKp3U8sW2JiZGS-RTU7ycv18k9TW2a04gHZCQmTdBE8g8aURPWmtinAtUmJjqLVFaBc6FOGMe4GJot4cJ0UfCVdIQRvSCBwnW6cQHuld8yp33X6VVJan3SzY8UvAquD9AkA-uSWAAAyQMmE9pMWF20RFYdKwlAA4IQSxkIzN0BUJLHDJkaIzBICpHgMvjWhkyFYFMxgI4SfgNRGI3ScQWoLpnnt7ueMlQRcUBAxdCSnMt0he3QYdAK+0TYMXeDsAHQ2ZoEKQDEAXRdsLcl9IWYe1xkdBtiGM1WTjNfB4y2BAAouLKLGCMR1Ar8YoaWThyNI0OaOZgWMBZmyysgA3WwFjK5nqyz6+uS8T4B64dIfOuoOwMbNNkSsdh4ZI2ZIBNlyBX43XKju7Og6LAjc53UOeHNfhkysJFIYMEiKR7IhcgyQrwT8XTKvp-ZYcwOXVNwqlDwwrKVYZv0XL48ygag7-s3wtk4gyCbQmzPVgqF4cExdQ7QfURTEPl7pLcxufMA8BOSQ+nQesp4kHH1Z6yREROYHJrHzoPA8wv-vdiOGApp0hXDcSriGCFyk5Qc1FgEG3kyAA5Ec-YZT3p4EAnc5Be3ucNjwAkd5xcnDrBy3HhjE0iMbnv4LgqNjlZfuRMdUO7ktle5SSXOc5Rqw5YOh2LXfrhQj4TR1SLEjkvPJghzDuJPE6wNaH7kjjp+ZcnwNaHTS908AiNAhekktw1Cu5BghoamLkD9z0kX4cBdmOcljzAUfQ40nAoLGpNDoIEv+WQtmF1jT+92eFmMPPn5iP5lCr+clzbk5Z05OOKQCTDQVD9Cx0MiwKTTAAELEa1CtaBBInFQSxFPOOPicNDFCNhFVCgCjBLOgkBmFtEmgtr0WCe8v5Rg-sep3HHSRxJxSDRU4qnE1zLFMddWIuPGLHi1xUsEcXthKT6KugL8psjSG56LArFNigRd5zlzlzrFm8nks-MUCvyIljs6xTHW15uClFoAFRceIv4BLtgCwC-t4qExmLYFFil0FEprYvi3QiSgCTYAqUjwLFonLESgrpiid1YjS0CY8V6muKO6HkqQGTN8D+YEiOkp2JkVdhjLGQKYMmfkU1gZQNATGFOUYOOgpz3idM66Kst+GAtXoboDZYCLrZyATZcIL4HgQyoTssmBypWZLIgrQNWEmMx2WTLIkzsfUG0u6XBzeWNC85feS+qGGyDvYyZ+aaWZ8XVzyzcgKcmrMNhgUjxFJRHIFM0pYVsSgZPSgKaGFUlRgAV1OFOWipsB8TWha3JFfCtEmaLnFrkg7BCzkwhM3lis1cNdGxVAqlZIomSfYDklIS9AxKndLmmDHxTppkgLKYqgAAyeEIqQblKBozOi9gcGWTMzhQzbFvwhqepNhjVTNpbU5acHxhgJhZVqqpwL1NGnxIdV7xA1U8tcg89fh-KwVSKvABLTLQK001XKo+VpojBOowRgcApzbSOVu0nyRLEOkgSoiXbU6VqPBBd9PVWo52jFwDVZAg1tw8EKnNNAPKdV8qqibfLOZaj5Rz0pURTmBXc0W8aDeaCMpeWAyapX80GdKroldtHVqKr+fGrEA0h9Mq4ItnoBRUlrXySEh6UhIzWKi6ydMfsTNibSuqHhXQfkeNFWkTTFYLatsSDI4V0wvRaDHVZOs+W-ln8ba80U-LQw0rvAhbN5bVOMmuteel9S2MIHzQ2Scuzat5VOUBDUqi236T1EepIAjzuhILetXlU3UFtz1W63ddaInb3rcgl3YdqutuG1qfQTU8QWeN2VSBimErdcWYDRbxLK2CEGDTKKtJjAhpkEDBk1LGZdTnVGaULqBu55oa00hfS+kFKSzer9pEsQjWZSzQ9M5UI+QjXuv-o9ow1po2HkdPHUnSJRt6lIIsE+zM92N10zjWdNoaElCNgwL0bRulkiJsNe6+YavJ-QdEzohgFDaaoaGYadl8Yr+k6vzRpgMVKypWaAtjQRB8NGSp1ZXP0okaie+acjSPAOlmao+NGxwFJtU0SimNzaFjSZLY2dto1XGsyrxr6Beao1MgGNY8G4KApBZXbcTVDUk0j46Z1oucvJvT4mKKQh3VTVaQhkkwqNEy01VhuOlJKrOqWkZVRonapbCNuWjje8VK3Ybytgm7TMprsAZb3sGGzVTVphBzks0mQMdYJuDz8rZp2U3KQVJtWYhetGU-rQtLFWibsNUW+mp1sa29xzugIMJNBONRLcctGm30nNwa10zmtGkulU2M01VDZtsq-NJauFWiqasp261YxIuJFqvRR2ytaFIbCLb74Qy1YgZg3RWRqCFGC0eWW+23EScaYT7SIGwwxMSuwGTZY3A+3QhM432owVHM4SOE9M725akDu9Ag7stv28Hf9qKwo7oQ6O34WDoR37cCikO3HSIBh3g64dbRLHcTolANQdAoMLoE2th0E7thNOxTRSDZg4x4EuXSnazoGLs7jUIaFgF1nx1rd4d-CCHoDuoAKzAd0Or9e2uy2SU5dX0PQCrooB08eSgGx4BO2l0KyOs6uqHIbpww+lr1tKtLIbrV20BUdk8U-jxO12uszY-m52vWxTBm6t1sRPXWmklVnQUdMu3IGTo10K7zRSu4xmuAkA26owgeyeCC1tHutiZvI0kaiNIZJ4N1TatLNHoFER7odU5B3eTjP5ei-d+u0ndnvJ1Z66ANuk3Wf16WfF4tooZ3YtsYA6l3dBbDahHv92107w9OyxGwmD1AaXVnap6d2pT0TI+1lrEoVtjKAt6WU3elpm+pZQWo8VlOOCWysQnhrfyUbH2ayoQl7qbKpYvhfrngx26wgee+vXxuBDUAO2V6tPW8tiKz79tIYkMJ9l50rCjB3mLnSyw5R3tAl5aKxjYzsZp4ISW5WDo5w3aAEBpfej0R3GfKD6FRL075GPqTxaqemHKVAX2DPAcoByVfERYcR6U34r2P1UfnJWUDIKOlgIB9EQJbFyKiIoBszgljjWY9k4K+nfX6NiUyoj9XyU-ZCAb20HnOFnN3Tfo92DBeD5nDQfNizQbQkOm1Z4fmgACcVQO8NIbWq77keLaQARIC2p7r0Gy0XwIMBw0iVcsBFEkHpUwWxp86pwZGQ3KBEaHnhegBNgmxTBoAnD3GhYW3Jf7WAlDWw2uAZKbSeGtDdEBJjqOQhTlnAsNUwtfIAqhA-DOogI2sEGCSHw9K1Z4cBslAnK1q5ymCNKBQ2QH91vwh3WfrPZpGzl4wC5c3sEOt7zURRjIw-rvABd59tqYgP5uuLeB0gNICeger9yWx80zHTVC0CQ4BctJeUZ4DEH835MKgcawzTahCiMBWjw9cWupxpD0lhQVvTw87UMjrGr6tHL5Vut1SjHQA6x0GpUB-0eGbDa1YRqOybWWwjQoAZ-mnx0ytbXwc3ZKKhqW58YrjVvQrVjPS1laqtx0gBEAneO19Y00x2Y8PHmNJZ3YE4xkOCHbnWGkjZxkGgcdhqEbJQrxjWUifWMigbjMfO44lrCCrHETSJ7YwW2zRLoGAGJzE2ZWiMcqB1na+A-ZUMrTZ6yi7WldiLQOBgMDzwS2LVPE0kGCAUNGxLUuEwaBQY9R7k0wd0CyS19pozCdKP-7JacEJOHIHQEYgJMRjn2b+VUK6NJYejrHAY7lFkANHRj2pcY-MJvLGVGTQ5afc2rjjMH2V4a2U49pmJOsm17JxkJyZtPFwisuBqYwQfpqCnXtZQ82coiQRJUnZ-Mo1HUabUJsSJegDpQAB0sARWodeMBYT4ArSvzI-XDUhrupy0DhoECCabIZUqgUZ2lTGeO5xmUFiZ5MxnNTMuoMzWklDIQGuJTk4ehJZs6AAABeIDUAImboYpmnj6Zl1vgezNdm8mg6fM4CELOyB8w8LG4EqfoCqmfAMZgc2mYbO01-WkRLiLfB1KkAdSUEw0AmwhB4BSzW6uw26rrNDnkJX1Tc2ex1IeBdz+5uNZOZFBAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}

</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

(define (new-rule-application-id)
  (set! rule-counter (+ 1 rule-counter))
  rule-counter)

(define (make-new-variable var rule-application-id)
  (cons '? (cons rule-application-id (cdr var))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXhN0AFvFQAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-fjs4IsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+VApggzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBEZAjzajTGyo3UfIDNFei3Rao+-NaPuwQ9gh7EECDjAkQlFlBogTQOKCBjhCWYPiMYRJE2FuCDiHghIcaO6xFiD+EwsYESxTG+DjE2YmgfIEGEAlUR0YlcK5DupgDNhVgiwSdFzFtjAhWXd5OqDcxdjbAPY1kuOJzGtjlhgjaysJ3wA7oh6urDIEphXErwh6vXfHqvFnEtib4RLaypig9boYZg1BeQHoHrHCMOCaY-iBmORAHihxC4v0XYGv5XjQAYadrpZ1zHntxxWobsaANZKzpxxE-D4LOj-GKiegAEycdOJKZgToJGpadFBP0aEIwSMHTcauLGC7dD07yOincDm7wVtR-1NQZZzxrKj7EOQhpt6jjCYhXI23dlkd3mCaBEOB4xDvmO8SZ1pxIOazCJCtiwTLAU44CYoDYnzjGJLE9cRSJ6AcShhlYniUlEmZbjHMcAyKL6KhYESzA5iEiQpN5DCQ-AiQwgGMXkE0hLx6lagTqnaYISrx1EqwO9xdGWjYeBfInlCK4mP0e673Zns5KKB2FKx6SGsethj6fAa4a1UcokJMkoclejQMyfgQLiw8rYEnK8U8g-ytDYeegGZgSyjCw87UhE0ACKQAASUmWwAAEFwA4AKTAACURSkAAAPJn1kAEkHYhD3wBmAfuh3DAZgjMmAThxXxNrkZOKrENqQXUrsee3skRSmOzEuJIJOUiTt7JMgSoBJMGBfM5pI8dqe206mCMCpRU0qeVKqm1T6py0zvuNJk6TT6Aw0ywII3smxiIptgKKdzmmknQt8p0hLNqNfR3F5Ba0mbp1Omk9TBGXowiHqMTr0JcxMpamv6R+6TAcg9Ez6YhBBmEDxqE4ywL9L74tS6Br1RaWdJ+kLjbJUUduD8CbF2BMooUYSL1ILGZ0u2i3Y9hCkoAe9GpzpT2CTJ+E1gcOrkGmRwIzLUwiR9wA8DIHjCncyyeGZIehyMjShueWUA8PjP4GZCKZTMnfHIhpnWkSQBw3jiLO87rguZtgHmdIHjAldIuSEjWVrPjBXCVOBoWDo8LnIjD40pgbmbzOJkm9EhEwX4WknHALBMh5Y54n0l6gGzbZpM+cvRFUQXjvKRwhcnuMbFfIOgAcYyFNFIKiBhhc-CWEcK2SdDuhpg+iqWPTTNiKxdkKaKUHGGBSRY+jUICuIlj6NYg3s7WfoNTlbCbhc5LeG-2jgpSOu146suXJ1n-og5GLVuaU22iU8UoBAfJLHKeEWzqBXcs9okJTEENnALEBkLz1iHSBfp-PToUWKrFVz05LQd2QCQ4TuwuhStTHvnJt6q8o+OpYSWjMrk2CthA4zQGhJ6AoUFxD4WSheRaHJDqgPEcengExofyjYS81OSnPPlrylAt8rOS+Xgw7yAp6UGPqrJIDHz4JGg6+UED7GjIz5jgvUFvFQXGAwSsCIRlCTDlPcx+88u+frHn7uxHZCCOwIcFvkbzAKLxd+Z-IFnwZlM2E3bjJXn4J9ouDYueb9My54TlkUCi0ifLAH5B9e+QX3guLa5Li8WykncfmAYXbicJu4uQPuKEUS5jxPRN8a0MEXNzGwWCypGmOnlwheegilOiIowVnj1FKvG8VCUnlqhRi+iu4NQREWGLRFtNMAB-MxpqLr+vOL8eGk9brhhF57XhdhHgmgSRR49UCRLiQmBAAl-C1khJxCXSSegEncJXAucjPFMJMilSeFLsAUyfAzCcyS8ObyQ5DcuSztiTKa4bApgRkxkBTKMEVE7Z3lL5jLLHzVK2uMI7uazxJkmzIoLBGQDzKKDYE8imEjJoBmqWaj6c+DWrNkopmsTl2u2RGcQGmUrhsInEpOY-SmBmpXIFMq2KYDxkYZCZCwapSEkzpRLFJEkJOFEvgliS5lES2jk2UqWHA1lJCapdcqCCyTN5lY45XpP4nLjGFPomBFC2hjhNl2dSurBjAZEbKOl5IzSURIcn-MPlfElDDlLMB5TCptgCqVuAAAyUmBqSFIcTNTWpr1CmTqCxnLLqB-U3oRMCGkPSiWY0waa6kJXnSZpULFaZUHpW0jmVDMu4DqE2koq0VmK8AIdNGDHSOVN0B6W13+kSMQxakK6SRJul3SGV4Ej4BERJkvTrR94PvtKutGS0wOORZVV6J7aJD8G9K4lR7NSH-Sox+os7PQk2Ui1-S4y4VXUuH5XKFxKM-FcKqJWdikZ2Mj4Qw3uBFtRJMy41evBhV-TtRAM+QEDPzK3kbVlocVaoz+FsjwRe0DghjJ1CXLupzq5JUSGVGGqSZqagNR6vmXYyfyzlcMePLpS+qgVRbHqcGsXmP17Q5dCSJ5Jy5KBR2G4AFUWyLSWz61JAPOeAoLn5g4QzETRH6qrXLDg1k7btQsEu4sJ-Viyk6CWsTGZLyVNIfgWBJaV2BCm1klDAanVRJCLxiUhFaOOWQqAhSi3U6b0OXVDSMZ+BFoRFP4HXqS+mdeKRJFlXr9op16v-gXB6argDIMM2RtqIgZOQNVro2HuVAxkqqvhnamCagmZ5gbnpeqx9hcQxmaBlR367ZfdHPVejTe9c0Cr-nwlzdTAwqi9RFLqWxS6OBaq2OUtkBasDlaQW9YNNXUFrI56QOKUTytivrsI0Uh6Z+szpobf1Msr0YBrsjAbHJRPEpXcAg2JAoN6QfIDBtA06qJNCGoyBcSmVgREafG6RAJvDFnkcNvlbhftzGDsQZZQpP9YcGvXrr7V5molgd2yXXrJ2B3DGVclOm0iHNp0pzR1NoD4ET1hGjGcRsGnub1pnmw5Y-QqAnSPN9AK2FtJKllTKp1UuqfyrSBRadpsW-adiqQ2nSUNiNULaZvoBnkpoG4XILhPAw2aSZpGvpN5uGSMzCGJG2jSsoEjZbCVkWnlRiqxUcIotvKrFQJMs6qblRDW3NXlr4QFacgRW2vKuS5gbAYstUR6EaMtmtLRotIgPBNoQjTaalgxY6A0ruifRJtQgHjjNpHmAZ5tXzNPGuXGA2BttkhebRZptSHa9uxhLottXO14hLtqQ3WW-g21jgHtCEXbYIyuHrNqYWUTwDeHYh+rntlY17X9vpws4d8iXKAi9vbnrbbteDMiCwBnWg7LZv2nGRNuoBEyltO26tVhos3KVsIuOyQiTrdznsF1XwydljqJkx4ydOoenQqsJgKBAViyn2KMDJ0YxaAj256JfyXqU7EgNeWTeEXrblR21y7aIjTuUi7FqYD27HQsE+146x1BO6EUAnWKK7JCGu8nb8pHh+jYijABkdKITWIx6E4utnQHi12yiztX2+dR+XDEoL0gyouXbTs21a6dQbulSMf2MgC7o2bSYXZLUbZKYzdBbfamdvl0yD6cAO6SA5GV3hixVoa81RGuHBLjK4fO3fsC2D1mgo9rTVnQWxBa874lRCWVIRO0maqMJQrUklCtL2uiMFaCuxKtAd1RAfdfumDQWmoAdsg95a3PbPWmiiBAdCgCPTUWpCTBUEMOwRmrCh1ssx9V8jUrY3sZUgnGVjRIQ5y3Zkp5p+OuPbxEcoJ7AZBo1SCntUg0gR9u0dAaeioDSQ0J4SfBcULQmGJ4hwNOBeV3EAz7C9FUKrtVHHFj9GAsQFfaZ1ig9tGSvFYvVpOIll7niuPexKw2b2LJ-dG4X-U51GSGlM90ReA2Z2L51wC4MoFDgdQBFWwAAnE+F6g4GwRMK5QLUNl02BdqMKghlqB8CaBlIzQ-2cCxUDMbzyew+iFYDxIAAGCPpSMoMAjFAibRNuVDQCiHpNbBlhUZGINmgwxNcwINIeoMUhVU-0vdCdCsAo1DCQ80CnwZ2oAjFDtBpmFgdO26GwROMnpWCP6VKAS4p6jfYmLEV27rRMB1veYb6X4YcCSBrvR2r-DSBellhwfcsgU6whu94EYgMLupIrhygcIY5rWoEj2grYbHU8FsBQ6BH3V2oKw6EZe4GkHw+qujfRFGyRGKQfiXeTbm3EDoI+0hyWqFiqP+cpOoAItpeGF3GAqjMNThvqAqNLs2d9oTeLcJYWZ8wuvmubgt0xCGbEYXRiPiVs0QmbHNrm8LSCrGN-93Y+R0YoUdxYSQSjGJFtrwfkP8GwRlR5oyjQxmYQRjHvfY1Ufag9GE5+gPo7pqiAVGNwpxlGvUaSgMAHjLRv-godjFGR-pSetSAfo1IdG89yS0-dsAKEtqepKG5-QQERrMVyRme0SXbmAPQrYxVEwTHOX013azYwwOgAeFVSZRhdZGutfEZmXsckjLnS8WkZCONGsjORurSbFspRrqecJ+0Aia8Al7QDrolEwNtmJ2tsIfq4E-kOkjMmCA9JxYnfqhMc1mKiK0SDLIGAkAzMEkLgzLsj30yZZV7LsGzOkKMzZT+urZVqfYJmY1SPAZKcdhlP6mVwXzT7OLMlmzysxmgVU1TPVNjAyJW0WLsPy2j2nsO1M5Ogb2YwpNG0KR4I4m0YmKB4lAAHSwC2a417EQY-gCFL-NIDqNBGihGMjCGlMSxhwEWgDN+qgzR3EM9JPDORmnZ+GebrGajaXjJ41JE6HDwuKEBNAAAL1gagBwzUQCVcWcIhxmxTcPBs8macipmNw6Z0QEWkRY9QuiWJnE+uCDNRm2zpZ-5mzQDaM0DM5UUoIaVICGkcJi4RNhRDwBZmgVk5oszGY7NzmYui59vCubXM9s+z7UIAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
  (string->symbol
   (string-append "?" 
     (if (number? (cadr variable))
         (string-append (symbol->string (caddr variable))
                                     "-"
                                     (number->string (cadr variable)))
         (symbol->string (cadr variable))))))
</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5s+DhDpAxDlo668MkU7M0GnDlIbptKuQrM3JquwN6CcCm4sRXKbMPKUTtDNgudgTVIwTlAQ8CW-MET1IwalCUTZpdMDSB0UT6SSTzt7isRyZe0dTCT3JFpcMwJzg0cjAhmmqLQMMpTZE1IUTHq-2VKNKVSHTHmN5PsUu+a6SrTiS6IGTRMUYHTQlAdZTsgXQbC+audfTAzWqwz4TozIG8iWzbiFWCz3ZmJqVx23EQmhJOo5z7MCYFqR0YCZQ7z1InzfanYh2Thqd9zpwgIo1DTV9uzALlCwLlEYLSWgI+TRDRToTR+zzUKA1FxCLqZTOgMKLhTxTYTzAFzz0TYVzcMAEnT2LKGuLMF0LFzsLvcF54WOmuW7TVL25nhkRzTccABbTPRXLXOulkWXm3TmIg24Vzgb6zwCTaRPohJCTULOoyrNTvJVp0GClKqaqXDmTHMalsrWljhxRUO8rLRdiSrVLULLoarhQFpcqmrrM2rj6z6WyBrFUprykRq5C-zjAlY5ALCXgrCHQwYBw5rgFAJcI764zDz-I3gwojh+w+zfrlY10EbiJQ5XrVTGMeAHC3gm4FwoEMdn2koyl7Q5Ack2icUpAwwm0y0oAnkNqsgZ0nkaAbbps0r6lekpAeg90QhWIfojAHQxZkbPo5ZdgQ7I7Z9niXdK2XyFp1s6gfbMgA7OoOok7Vp071TgKniG7IYW7I5gKWO1IkUK7A7Lom7w7B8PTwpVeLQoEE2HqDuWe8SD7WQ1VSN77MgyNc5d4CZES57kgPAgw-bkg6seloOGk37+a-IZ7YHIH05ZQUeRbWQLlKQOWokHgMHmJc7nQMl5lDYeHVm6S3OV53yWaV7HQsHp7vbYH-A-F7Y0Hj46HQSOWVHDFxHBHdMX4xHQlKQZHelPHa0l7B7w7ZlAFfWkrmIR89ACbQHiH9H2FI4BHUH2Hj4NHPbCnjHLYKH37rHqQsaWHOHpwXHQnEZ9gFwunr7qHh0A5hJgMCHMdFxSn94R+5dkjhjboenLHBnNm9W5nIOl9HHSWcHdHq74HOnRIzHoEfnGHsaIXpnyaFmK225j2hQrFVn0X6nxbWA6Xo5hJhJrnpWOTPaM4MXaHHo+XoAgnuFlOlnonU7ynMgEn7lAn0noQd4m1WgtbRJBHX4bADzAHiwmLQKISGQiZTOREg34LMQ+UwoLenic3CbLeDrN6LALrur6U76+Shrj4xrHXnq3X5AtbFjfu+bkuOHd7Yw37E2VQWaFb+aF3hbt3ELE3ES+Y5VpbSWz3Abj4zty3-r+Y5sT8HgMQOMsQ6uzX0ThJUPbnNo7xYPyauD6uegSPEPkwCrQ56PqpiP4PKPD+OPug0TLoRPkwjhZP6D72JlcPbxWPYXnJTSWQgwQJIhZi3DSjcP2RdPFr8whJoP+PkP4YPSzP8PKnLPjxt7cu4Y4zvPF8mR-wzrQIzTcZi8ujjIZ4HKSvhxOeh5qhi4kgdbyaWQjA2m3MHCLKGbhQkzjSVTgXcRl9ZP1ugvLZGDJl2vkvjWDYTvuHyX7dHQeus7evkhBvRvUk3gWrHxzleuREfoiwLKlPMBZPcXNXulNvVriwZWgKX4hJcfLKqrXLgwefiEVTZltXXvceErUnknnqxfCTt7Bp2QLArCij1awYYYcIfGdAiH7fa1CYdAEHcvCwBFUsULvfnfXQA-E2wLrzCE3fBj71UNjfjwLf76bf8gffgsUQTfWXBgUspXq9YQ4--f6s7xMQy0WQBDYEHfXfPfG-E-0gg-Y7w-O8e-iToAx-k--A0-6rs-tc+-TOJ9tzXP7eBL+zqT-noE-6P8JsB-CZEAJmzL9m+M4KWB9HNiICXUYYIwJtDzpxxom+ATAVWkiB2BHgvgYgc3yfp3ob2bPCkPgK0CEDEBpApvtE2mqMDHg7-eDMCxAHYNsg4A+-nxibR9lt+bA2hvAIIAEDZQRApvqwKQH5wyBnYW9qCS6BWoJMvQLdHD04g-4ee9uR3i72d7I96ibvEkrT096ZsfeSXI9POyEyKDGeIvCYhoIl4-EZ+dA7wO9nOq9dE+hPF3lOXsFR8Wut7ZYApBcGSA3BHJAIYMB8FaDM2t5B5vgC1Ad09SHiCiHEI6CjdaSJSJdr8y0DhCtAZgKFreWsCcCpAi4GgjkISF7YSkHPatMoOLCqCK4YQj-lkN8E0s7UFxAIWYG2ALBCSGg9-gEOWiuCeuHJF0G0NgF0wXQ3QkYYUF6FBCQh5LA4MMM87lodQ4whYUKl-LAtAQsQwkB3Qb6qksggbd7AwIIJY9CSaNUQfBlV49hRg0UVhO9njb+sowdwmEIMGOYLQf8LwyIb7kMDCkTud1RdLmnzRTCnAwQgYXoBeH1DHhjQCRofyFTvCTBnqEITOhzR5oYhyQ1IeUI4HqtmyewyCAwIRF-DzGzDMQIQFkBU9gwMMEoWEUzYA4VSsQN5jkIuESgK2kgkgf20U6rsn+oQUHPmgrbns2RcIBws-2dzmCUuY2dHHIDHJS9kuwzMDiiApEW5L6-bfNHSIJFUiihMvftmYE8SAhmm+ufthjD2GgB+SAACTwiSAAAguAHAB4QAASvyUgAAB5PesgCSw7FzYdpH4TMnm5E4KRfQhwc5Sx7Eixg4PWGD6JcHv8mRwYmGJ81TbejARaaYFkyPUDxIIR-oRwomNKCeiE23o6JsaNNEWirRtoh0U6LTGWdIx0Yr0YrDjHRMmRDAyMZIBlESwqxaCGMbQDshCCWAPrQROD0zH3DKxzgpwH6Ja5Y90BtArAXWSFQaD3AxNFvLWxDBRQbhPYhBJOI27YtAhA4poaV3dG1tFxsY-scQEHGoCDReBVcH6BIANsksAABkgZMJ7SYsWeGMBSZxN0GBwQgveIVhnjBISWY8TIw-EFQFSPAZfGtG-HvjN0jARwk-AaiMRuk-3OHsBMfGFtKAHQGHhcW1GxFCScE2JghI6BRcbBvnBkQ3AOjQTQIUgGIAunvHyi-cGE6ZpWEQnbFbxVEjBFhLu4ydX0dgMYIxHUCvwrepZOHLb3lZo5ru+0W8ajyV4MTUmNEpCZjk6EXE7WWKWlj4G37sTOJswqphMKGBsTJAHEuQK-FtZcsz6+uVmEbkzaKTNJyk78fhOcDBg1+I7ZEPEzhiwUmeExD4dYDvAmStJXEgjjb2KEtduO4QRchkNwnFsSkWfctF+DIL8dasorPXJbj0EY8qeLqB8geIinCdvenHP3pZnrKeJYh9WeskRDcnKSPB86DwCnwAr3Zy+2fOQkq1yFEV1JMgJSdpJUk+TEgAQWqfVJ0ltEd2QqIiNlNkARS3KoWZ-vlIan19CRXDHhug0UCJpEYj7LnnBSaHPsdB+gnQLFNwaGCkkxgn4jVhyxO8Ja-udKalz0q8cJo6pYET8LR4u8CsyfKEdCPh5JSEhgnLyTL2tDppe6eARGu9PSSW5dBSWSnmtPRDWgkp6SL8DtOFH+8BJJAY0qdN65Q8VhpUC6Uny8GfJ7syMlyY8SknWDZpcgQGaywC45YrJOOKQCTABludHJB4p4m9I+kpScQGw1ESKzZa4VxWPDQKaL2Jms8AK4FIuBDJOkzDFgiHRYAx3mlD9oh4LTYdJDRE2AtRosjusCzHjLteZMddWHkPGKFDbevM6qVi0UETSlgTZGkI+3lkDUBZbxFWcUP5nqyeSms5QVNN1lZAaCAs-WXT1JpgB3piNFWYVylhbAdgLQlDKbKhZcyR4MwoYQAN7pDD1YakmwH7Khkck3mQcm6SkDeahzYZdMNYeqxplbCUhUvKQN+N8D+YEiWPJBElWzlrwf8URe8fkU1gZQNATGcyVj2OjmT3iwE66NXKH4sDXoboOue-1YLqAOJcIL4HgQyrAtjol7ciagKgbepWEd4m2d+OeEjh+mrw30aAFhE-EFpfuUMNkHezfj80dgQierhIm5BzJNWYbMdJHj4ilmQKCOTMLBF7iw5+lCucSKjCrzqc5k6+aEEXnOVAJRHI+YiKXQMVU5YsqFhiPtbCYNAoMSQMczImrhroD89eeRNgFYj7AOI9sXoAjn4jDx9gQ0SaMkDWjFUAAGTwjOiDcpQa8Z0XsDbjvxmcOMQeIDEkjIxoYpwOGNLFSiEwZC2hfGPVbpj4kzC94uwonmuQn2Q-XMZgpwV4KSxloMsV0GYVVjhx7Y1fkowpw1jEFdYhsSwoX6AoS5WQNsWQPBCld5FZAppjqW-EaKm+4ICyV6mZQ8LyFV8wWYKOkWjjc6FODedzRbxoN5oWcqeauPnlvFNxJC34feIsVrj9xTQkxTSH0yrgwFl8-xYOOZEsBomI4zAXYqTmGVHFgKdAYIy6AQDxoKbCsfQFBEzyfUlizxYnMKCiC0GzC8JR4seI91Xy7YkxXJlAW5Kcl3gAdlUrkHLyvhlsYQNyPsC6ho2zwY5lOUBC1Ljm36T1O0pIBpSLBnQKFsEryp1LGlDS-ppEsQE0tRluQbNn0sWXVKM5pI2GP9zaF5ypAkZfQMqPdRBAFgxQ45UEsDZ2AdxkEDBjQpTFpoJmsaCIJGP+4PKQpKQLNIqKSyKKIuso95RFKzSkBHAW8kRC2IOHtj-6PaHRVIP7bNislhix4MMpSCLBPs57eFVmNbGIDuCgKQkg8sGCiDgVcqEfA8qiWsdypP6DomdEMBWkxgwEu5VKPAVDi+8l9OMfmjTChg75JMfeZiBt6vK9Ze4j5TfL9zfLdUZI+sX8sbGCrAVl9IlaCp4VRKoVzaGFSyNXYpgDF2Ksyqir6Bwqci94xFR2NoboT7xBKqGnKpHzASllc5ClQNI5lnRk2Cqq0jctyDvL9lPCvQK6qhYOqs57y4Fg6oeUerwV7xf1eCsDVZLtMNK65aSoZVkiw1mKtNAfMvqZBMl8a4PAIvzE2i7Rjo8ADVnTWWjM1RY-BXivBWmr6aya51Sy09SAgwkgIJNqG3dVNzMQkaulW+JjUhieVnIpNXIHEW+L80AirBbgpzWYh+1QiotRcTcWiDy1ZCucl+GrX3wtlklNMFZGoIUZmBW2MoKutuIk4l10IbDNEwL6cJHCHWHdSIEzirqseukw9dQI6jw5jGa4CQMuq+h7q3V5ZTdderEBpZlqj6igM+qH4Hr+E5sDrF+uhBnrgMJPNomBscINQdAoMLoGAvPV-qEIb6qlRSDZg4x4EcrMDTXKQ2Qb31zgChCwC6y-rBpEGq9XapljEArI1AUiSeooAgZmlTAt1YutoDfqEEtGyeErM+KIDgWS66jXvMbgbpWNmcdjThh9KDL6laWdjXoBE3k5quo5BjWwLNjarnakkHUuJsaWxFeNMQWul1wfV8bIBD6kDRspaXNzb1Bme9XQFY1RhgNp69gQdnVZcCwB1-TfqQyTxoZZl-TQrKXBs0-qfNk8YzUwKRkpBRBX6-TUBsM2nqDNlmkDbJqVIKbolXYZTdWsYBqb3NQy8IXpu01EKzo0GyxGwgC1sCpFZAjAVoHiVApohU2PLmx3XWoYRMYwMBbloEhwb6lXzQpRGV2HwKIVui38mkjk3lC4F+wqJTZWj4oyiI8GILWEHi2Ja0VwIagMKBTDqb+msRRrX4K7awwQwn2TDZnyx7eY0N4krbVOXrJWMbGdjNPBCS3K3tCWITQAkmIK3RKO4z5GxXEuwFfIKtXydbcCo5Rzc+wmvZ4AOVMilBBx18m-Czx+qec5Kyga6TdMBAPotuAQkmURCu1osEsximdsnA62DaGBRs-dAQqxmvarKSy0UElqR3EsMWC2tLbktiIk70WCPebFmg2jDNNqHffNAAE4qgumlah3yG2jtOuScJnWtSiXoNlovgQYI8two28CKJIPSg9NjT51TgF43ydYH50soAA5CrpTBoBNdyKyKfTKbTK6VJhgEqTYGV2C66IEfdAchCnLOBYaphUjodyV0SAtqpu4XSBgZ0WatqJiruWtV7kwRpQtKu7XgIJ3tiidM2r3T3PGB9zUtdWjzSPUlByBu5Pu1bebD+ZSAwFMQbVdcW8DpAaQE9VpXmktj5oXh8IU5iM0ia5RZAtqYgNquDK1rjFW02NCFEYDZ7h64tcFjSHpLCgCO+ukGoZFhop6F5uS3VNXtAC97QalQMocbsd0d9hG9gRHGEqNCp96Z-U9lqSsDbJQHxobPjJbCFWhBvVb4p1QGpDVZKAEQCbfWZRyyN7m9w8VvUi3b3gxFdH-KfWtWdqj7e93beNZKE33UdX9vekUIvoC7mBl9Nqo-k-pZQ97X9A+xpdmiXQMAf9v+syiboYFNp0BZW1YYksq1Kk2YCkEeGAoWHfbAwv20EUDptSQ6CAUNGxCoqvzR6wlccDHQgt0XnD5B0ncjTghJw5A6AjECPuns+wUS2lhe3JfKBL0p6SheUZ4NwbzTakKgde7QX7nvKgglRSGinXMsti0HdA2IrrVIMYMzq1oWBuffUvwMa9LEKh4uEVh14kHQd9NCg7exCIRgKAsywwK+A2iMBX46uNdftHcBeAfAFRYXnhJVY-MS+rh91NqUkC6lDlAZbw45KBbqsIjtgxhEXG0gbRR4baJraQNVI87PUJkYFSwFniWIDA5qUgKQCX7BkPVBRn+QxC1EMRZSoZBUpkcoOFBAQLTGkaGkcK6GNSTRippcxDS8ZsDUwe7NYsNLLTtSztYMgkfmiyBkjfGXOvQ1aMdGgjQIEwLWrw1X1Z9I8ZaCwA9Uho3D5ZChO-2BA7xxZ1gBpIDB2MeyqtDmdw3PBdA7GzApy46NcZv3K9wQULFSScYebNN8SDvRkLYctDRwHDkEJw6-B2MLtzj8EhBCce2BnHUgrgJJOs1OQurNjZpfLlqOGMKlWj4wbwOsZ1DyJrjWpGmHJoYihGBWqzdDAs3dYPCETYZIFASeDJom1jKkq41BhxNalIT1gcENxHy5IZZgw8Z2qNQqYx0uTqxjE51LSFeyfAQJl5gKedp9ULsPILE5sZwnXH+TKx9E4wGiV5cwUTRjY5MChaAgVdupChDXr1PqnlSAxgMjsZaMCmY98yumqZouNlAngngCPjqHWWwzO5yaHUlaR1LMJ5tQIR4fotLlAt7sBJSU86dyVTkXQ6y5Y9gZVNqnf+IZhCJGYjNhmlT0ZvpRjBT1WmVdjwvQDdIAA6WAH1a3y6Br78AVpdY+NrhqQ13U5adXUCEv1NkMqVQDM2AqzOpscz0I-M4WesnjAWEpZ1UyUJQyEBriU5AdoSSHOgAAAXiA1AD5m6GRZnsy6jLMg7Kzk5zsMzlrOAh6zsgfMOlxuBsH6AnBnwFmfnMlmlztNGU5ES4i3wdSpAHUikMNAq6IQeAZs-UuPPdnTz-Z882vT5A6kPAN5u88Yo3MiggAA')">function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function pretty(string, args, arg_pretty) {	
    return string + "(" + comma_separated(map(arg_pretty, args)) + ")";
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty_query(query) {
    return is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
	? pretty(head(query), tail(query), pretty_term)
        : pretty(head(query), tail(query), pretty_query);
}

</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
  (cons variable value))

(define (binding-variable binding)
  (car binding))

(define (binding-value binding)
  (cdr binding))

(define (binding-in-frame variable frame)
  (assoc variable frame))

(define (extend variable value frame)
  (cons (make-binding variable value) frame))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+Rp4SYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbS-JwPAOOcQxQDkRQIBgeAkFQNA8U6i4UQ84hcKoYgjEoBRKG4Yg6ErITApSBhjDYGQGH6mt3LoMRhtGqYVlKakRqkZ1mlmuhyAUIaPk25SFPwDEsTm3wFBYfAF1ws77sehd8EW47To2yhrHGyatpMzzUmNIQZwqZQ2HIUr6F+oGZhaU8GDBugIZMaHYboX6Aam5TDtSatSGocUGEhzHMux86-supGfiJkm-jJjGYcpnGWkB-GQYYC1qDEOhTrR+HaeWhdef5wWwWp3GEaabm3m41EfmIAAPQhAjcZxhedUpRZR+hFecZW1Y1wwteljm8YO7noYe4RyG1xVSni4gGDquHbZYe2GHXChTq0UhDHh-C9OmT3vce4RfGD4y0Imq3FQJua2lrRwzr22WSjphdjHaCblDOlP89dj5BsloPqf+y3M9iJP2A8LxHe27OGHr5RG4t+Oa5iJORKb+SW77zvOet2aNEIEFuVRfvEfHtho9FjotH0d3GFV9XiE1uHK5lkO0O3GdPoYF6g5hsQK4zmXu9AUzSHM9mbLshznOpXw0fIFXPJcRfBt8tNwtXoIQgE9o7Im4GfMIVEByzXVtQBQ1AaCVldqvFeDhJhUViIFOeuJYHwMQcgy408wGCFIOfIC5Fnz-GgaDRQhB8DlDdoQrWyJ0FQRiO+TeGQio-2XqvVu+Ao6oLoP9WOq5VZaBEEtSaB56CS30KIgifDfYnUkGQIOLC96h2mBAzRWiih8PjjIgWE0wQsMfJg+MgZZoiWPgxUYNI2A01XKUGxL19ZoxMfYrh19a5BnVKGZYFEXyGjMsEIRVlbL2Sci4QBlBfAkC-kAkB1UcxnB6gWYEoIGBHxPvodehgZYYLiJYlwDkeakKDvk7upR0iZDks0LCPChpVEDjOM+eS1ZhF3gomIB9smLVyRrNpFSOmEC6dXf+6TOJ6wVggo2C516m3NntQpUEZqpEoKQWseSBrLwVktE2PtAiDB3hM4yutdlDX2Ys9xF9Noy2MqZS5+hrmHM6FLS+1cwpTL6sjXOqcC6-QKdXDB1CloKE0Lif5xcgWsJXIFMcGp-KUM8sKfQs1oYfDmswLQcjqYTCKdMQKTSV4HixaXXFnj8X-S7siyMwSGz0CpC08le1bFnglKAWOJKWUzgpcQPFe0um0pXGC1xdjeXYtGuy88QlFSBUldTGVxAmKFCCdGWOxK-lFzTvIgiQzsVlxMXcygwrAaqtSWqtJEUmUCAcOLDUjIniAgAHygFqWwE4WBAF9KPvazW-Naj6G+pvOV6y0gZCyCGpYzcPUrgaRufQ-qzaBuENwX1i1k18w1PoG80bJgIjIlygBTDzCGG5Iweh6Moas1RCauVYLoW6srnK14trdqjQakCJtBdDWUrRvWi1MRw0CshcnPOzahU+P0u6yNsc1jAImicit2T+DMxrVjdRZK+U4oFVSqdIi9HUhXVW9dFM60CVuCXHVgKel6INfy8usKC10somw4dJT5a2vBme2tyyLpXgUqCF5360a-qxndB6T14bTp7tzBmpNyZ-u3hnO9QGdwIaZkhiDhg3rQZbXe5oHr-LWsAXrNuHcVkgqgo2SOvhGQUf4YIyuTFGzdj1IyctQhV3VvPfVfQdHyHsPbVm1NXbMlYr9cdANOb2NhCYlqlay86O6OdOIpdUjKxGLkXJ7gomNTAq7pM71pbv7IyHlRruGDAouwYOKjleqrwkpsYszeZsUP3LvSsIz3yTO9XMHrB1grRqrPJI2F6jISVBZMcq4OXzyQOsg+9WL0WwO4ag-+T5L0ZYKc-S9XzZHkaYY4OBtmw8poYMS+l5LL19DFddthymSX8OXxXCS+rpWYq1dOV3VT8WdQxD8xkmZoHePIappZwGlWZPNeenY1GY2cN4cy557zzyFudbKt1z5vW2vmutbVUzDUmpKCgHARAyB0BdWJD88ws15qLR4dUdaldrOfqOrwB6ZB4YxAAD6-eMvdzZz2fugH+4D1Ij0nr9Am5tMHAO-QfcyPDArpnubMDEBIYQDAD7s0oH0e4Ygw3vdSFhV7AAycnvR+gnIziOdkBOMeo-88kVIIaftrJJ4TrHOPgMW3BCG6q5xAHVaev0tIKiOfkkCnMXNSYYPM4yWPGTwW-pUXDRjnnuP+epZ0pMwBuvZtS4sQkQMsubzm-ly2-kwu0eG+23D18Muady7tERDONvbus9ucwMDjXp6vad1zzXtRec7n5xt-3zghdDc4pHlmS2MvG4-ablwlu7Tp5W39F9aTAHx43U1h3aug+p+pyMG87vNqe8AbNDrUePPF+WBr8gmPQ-a6o+COvCfKYx8AV3gvMVRdZ+mp+zPQwXeV+z9XtH-e+NZSLyP0vY-J85-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-ggwHAhPKCTiswmgomSUX6dA8ZgVKA8gwQt-YyLjumLjuCHMMdbEHMKuO7UULQxyAwzEByMw6prQxhBw+VQeNwzQ18QfPwwfEI2HF8UjmwMddI86Cw4ULQ9xIYMfr4Mdco6o-Izw18ZrRw5rbGAo7ELQzcPjjzCwIYH8SY6oGYw1CsIY70l8Wtfw7EPoCrNwL4PlW6p-BtfRqAPYxJmCOCKgc4zEK4+4546AJ-KgaAL4-47Q3CNwA0GEzExE5-JCDEzEHE18cACEwYG4yk66pE6AGALE9o4OQAKS5PJMeOFOfzlMZN+NlOBPiTOPVOpP04eNNMQgACEkorT+TNTAIXjoAvTQInTwjg5XVVTAz7TPVMQ4zkjkzAIITbTtToAXVQIKTXT4ILq0z4Tazbq8zWTg5LqyziThQqzQzRTpzRz2z3TuTRThQVzMQ3TsQNZ6Y+U7a6D4DFDBYLlgIK4zhYRaaPAZDGDq8BJpDcC5DkDMU+ALAOBJgpqALKwQLyIhTvDYLPzx1Y+Zi-jRQ3zEDELaYNq7wAghLrsC24muOtDiKtQx1dLqYN9HtDjg5kAdA3oCCajiT7LnLcS+LLLrLgTVjDAsAkAHDIrYrArgrxjVA1je+-DIre+0rLLtDAAcuQGq7kxq2qx3QRJ82S6C9CxgxthZSi9MGi4U7LiudwBSz7uDJC181ixAxtifOaw0Ja1c7ixeEa2Ay66NgSQJUkvPEcsaz87C3g3QOAqQncbRdgpg4wGqKQPPM9gwDgeQNWOWsTJoCXauHa1gxwJLGzBonemfLG0cEUKRunfGIQBXfFc6jxYGOppIlPULD0uPEuh2c6784PolWdXona6axLe24uiIF22G0S0efC4i6YMCvzb6zC66-ZSq4UOPXpdImzehb5tpQTmIF8A1Qshu5XUVNOLdK22CCS1-QWD-UWa1Bdh1JgNEbBRQKYAwHnB8GVDcKQI3PVrRR9l9puGPr+5MCuLMG6f6fLsB2DWfgwOtbtDtbDdHEBzDIzBwAWvGnRa7n3ShyRPeSoIoDcMnMoloLTgh9na-SfsoJ9hkINPoEYOAsoMoBEw1BtfoJR-TuCLfqUJxzfGfhDRtZRyu86JxyqWRxhS4BvOAQEcDmtNG+fHJyMVJ88NBCpYGDDadeCBCKdQgYR8YMR0GkC2W5J3EnJwSkddYOCHh8Z7iAHAoGx6Qn+5yVkGfDXNxx6rpMDBisBi56AJTlgKhOik51h-Z0TuEP9phzeC5+EKM2fsUPCKBwYLLj5w2eCHF+cvh2jC+zOO+zFF+43C548gYGPEtcaWzD5350WjEEdJLo6fke5tjFF7YGRNx1pxtdZ0wGQHZ0lyMo15DZV7fnB64UfOzrV30Q1w59B6IgN6de17Z8C8F96Y12Df50UPCLJGRA0vEHEjlKCMdWfLa1tzZ51yBysEnFhAV83NZxCHw+msBt10Tr3SFz67N8d-50nDDU9wl+CAAORwdnwae-dvfweXVw0udWeHdvu1ikDRx5zQ+OcRrI6nQAfzew8LOCsBMQhCDCDHXgjBA48OQ6RWQWjFg49bIcDwggfQSlBXey6o9Vw3h08HeSCkm2c1ybfM9Icu6M9-j6Dc-td0-h3puZvKDZszhuLqweBuajLw82lszryucY-giy+ojHWjf1Fwzy-MtFBAtC-rAi-UCaDKpHKS9uCmfS8needs6S7y8Je0Nxf-HLZuHW9qwW8qQtBqzh2o93TvwqzG8FxuDS+gporFdfW2nYzy-q0W1Hnc1AgrhDdfQ1c-lOn1fm8WqkMm-GDY4QJxQaC89Q9QpvzMC+8S-+-ArekR8WoKrR910pd8MJdYSy4l9uah4QJVxj5N9uAt8VLoendp0s6zYceiP1-yCl9d-nwYd8Ix-qS69ZsG9i8MQeeIxqXV8ZZa+KPAYz-6+G-i8j9S-3eVIu8Fps8CObiT8x2gsZ9j8Ekm30pULB9W8-QR+EorFfH2+r1i7DfO+EDmI73vrEoe-khzgJabInEhICB9G23uRpC7wS6y4bevfOeuvEXpRIX4rmAooklAHEAt6flcwGhTBLy8Xya5KAd-wS58VoB8AkapuEQE60n40Sd3nVy0IuBcBpqLAcAIyTE9tIZUSgPgFbiuwBgFQQYPgIgHsh4kolF3hx3YE6Q8OfAnmJ3w4FZRNSgg1TmnhdxMCD+3-JigySJjgClBsDVvBuTBBUDUuMeINppF9w0BaOVAnynpiXq7lbEixAAsIA4CkA5UeeIgAvDEGp0wUWgp-qnTbSGsWA1QbiGtAYyBDU21QYSl-24ARVNUn6AISIGez05GWaGaUMvWxxEwGADgpwaMiiFuVCM+HQgNHDiFBCWatWIoc9j9o5gUUYKIgXClPqqVE0uQAofNwj6oU3BwXCPk-QoS39d6GVKKoQG3qACdBjQ9wd-3DrbV+gCgHmKO2xwVBoYvgUYmyFmHkB5h2OQwKSAIERk86sxBLksJWFzRiQTwDDg31RKzE1+LjZjpsgmFTCSAkiXYaMUuEnQEIRgU4fOyPR3DVhpIcTl-ADgcAM2DWSMMsIWHcB3h+w+HhTW2HNwQRaww4b32OEjBDALwtCM6iubVAfh-QCBu8P0BQiDhQnWMMiLdTjDHhREWYgjXToPDJhMgaGCNFz7EJyOCpRqFSIkTYpAgJ0YaCyMmFosHA-xafNkUpFUAmRhIuzoKLBF51yRCvONL31RFkBfhGIgESsNzYrBeaYotfviIZH8iJozIiYWyKuHu52RURINs22xxChbkoITxPVmBFUAchbtDBLRlCHBCgQZQ9iuEJtrmj2CbtXLKXkdFiBEh4EccAl0NFEViY4oC0RKSCpHD1RSQBgCY34hejYsXoquPbFDFuVw6vEAOIwGjHtVeIIYq0b7Q2ExIRKHHGQEmHpb9sig3HIsXsHpYYcU4nQDspaK4hUBwgCXS2oNklGEwYYdYtXP6OioaZjRlIU0ULCzENikxbtDDjAkTS8RwglObmFhETEK9UxZAdMSFHao3hJxZwv0DeDnHrjnQC4yMRmPm5rjXhaEWXFuKPFXggqx-c-MWOx5jDnsHALgYwEFGuNrKiafJqqI9QaC48fQduDzEYASCtY-4+gNwC95DiveQVG0e2gzFYUHERUXcUuL4jtUQJ9YwCVG1LHo9nQYE5MToKgkawuEhY68YvzLGzo6kvfZmveKyhPicJnCRxJ+I8i8BjACbCoCrE7Hw8PujfRsbRPMCpRNRrI7oGyG6DrCaM7acTKlBxD8S-An5XodSB9GX5HUNSSNLx0MDh1AhqsBgESE+gsSIJhrboIyHYl-QPRa5LQd0HCDcc4uvHboL5nvGgAxqAACT3wMAAAguAHAB74AASmNUgAAB5NVsgCBDGUg2T1BCTIK0gXo4JOYusEIPomuwVJzEuCQr24kxSW+sg0KRGOEQYduJnQMWMlPqh4cMpmQYKcWH4y0VbJ9kpyS5PcleSfJuUyQIxNVhJSQp-GOKXmPEA1SnxMUtSeWA0lxSie2U+gAQXJHGDAE3oLPr1PeCdi0x4U2ioKLdhUigWCiRMZ9ldReY1AJgLwL+IKlyDsYC0yyOVXAKLjJp64wKWoA2kpS9pSQSacZislk9KWI5T-ECAAAMXqQBDUEch2YMgvAkrmH0waDAw070-WA4DulxA-puQAGdoA2p4gDJgYa6f9I8SkA8OtmF6XYNQ5DRXR0M5XmVGoCQQdBWEIwba0TRozPpTWTGY9yg7h1AgIaJGeKFSDVBsg70uVO+D+noysomMoys9TeklYmZjATGUlHJCxJAgrsRyJ0EbiKCVg4abwWINjjOxWyiM+rNkKBkczCZMUTGdOjO6Jo4BQ1E-rmn5kMBBZbARuLAMP7bjV22s3WY3FIHqCVZdAkjFJMuECyhZtMtDuHQqA3DQg2ScPmrHohBjkIbo3MVBD5mqEdZ9siKcPUC52C8ktQxHPLXaC1jXRD4HoUSk-SbJawA9G-m+jvS0YQh8Qp0YwBtpcAfZvlfVLEJkn+I6geiUoEWKjD01mgtswOXrIEx2iShdiFgBUIzD+df+MQjkseQPDhy0JGsmuabOaHoJwu-c+2XxVd6rhmgFc4wAMIDqv0R5dc+XuHUNGYNFodCTWH8EDHIzY6+c+me2i9GZzihCbCIT9FdHRDBQaKfeTF0Zbq1X6DgPalGOXH1ys5jchzPGO4BnjYgp4SaRW0AFVD7+Yc08Kwg9p4BIQoClcLaOfkHywhOcqql-J3kD1Aol8sCLJNqCSzpQ98-ceaI-mxjShDckRNBAIWe1RxsYUyD2LHaui4FZ8yod0IHDOyl0qQOGHAtPluV3KICsBaLM-RXjKxN43+d0NTr-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-UHuakJ7vkGu-w9MqYCzKqDSmZdTQfARsAplgR3ykGw76pA411QQqCeDICPQzY-LLSVSFaCMgveuGH3n7yl5CEhoOR-gBpyOAOrBNaKJQgUa5YjN1IZsQqnrl3pGGIQqBAYxf1L6gBUeX8QqDEAGPBMEQfmvo-z2l2tBjgg9U2ixAHCwauBPAnmM1qDQLGJDAWkrC5tC2RbUN3BXni3MkN1Z8jTNdozF0eKVi0Y8IeOTED6NBNJj0TFCYIC2OiBXjAxvyEsb4VsR7NKwZ498eiajGoVDUEE1MYHpuH8Vea9NVmrQjv6B2EPONUeJ-1ow-9Q0VoOFNI1QHGoETKaLiJiC17sTfetaORM71IaPxOeOjQyqEpCBDAjkb7HUeqWNhSjQIco4Xw-hVGA+NR9FHQHGNHVGj5iC2kJQPqYcST-xbA5Sa1HUnltn6OY8iv5OlwMTtHUk0fQ0oGA8Tz5K5oSfDohEG5Qi72bhWalYQKFDEL4Tgpw4bz4xROkYPGLw5WnX5eCqnfLgdPXbYxzo2BdaaXBsqdBbYTwMwvdHXaAx5pjlJNNNMVVWyXoo076dwpiLwomRpvRoYkH6AclAAHSwAVKNV2OdYzIGCB2cPU7jcJugjQhaGz8rRpmr8TTBJm4133VMxmazOBaC1eZgs3WO7m8ATwVcHoFhE7OgAAAXj61ACZmigOZpgNwPzOkA7OeJnoIOdLN6RyzneS48YGqioRvU9J94Eyc3D1mWzE5tswM1u6DkX8VkFgDj2UA49sekwb7mmDwC1npdO5l2eObdj7nizivY85KTPMXmKei5vyEAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}

</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:teal"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:teal"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
  (stream-flatmap
   (lambda (frame)
     (stream-append (find-assertions query-pattern frame)
                    (apply-rules query-pattern frame)))
   frame-stream))

(define (disjoin disjuncts frame-stream)
  (if (empty-disjunction? disjuncts)
      the-empty-stream
      (interleave
       (qeval (first-disjunct disjuncts) frame-stream)
       (disjoin (rest-disjuncts disjuncts) frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}
</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
    Why does
    
      <span style="color:teal"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:teal"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
  (if (stream-null? stream)
      the-empty-stream
      (interleave
       (stream-car stream)
       (flatten-stream (stream-cdr stream)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:teal"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:teal"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL>
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-stream-flatmap proc s)
  (simple-flatten (stream-map proc s)))

(define (simple-flatten stream)
  (stream-map ^??^
              (stream-filter ^??^ stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map(...,
                      stream_filter(..., stream));
}
</pre></div></div></td></tr></table>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:teal">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:teal">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))
</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))
</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))
</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))
</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);
</pre></div></div></td></tr></table>
      and
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:teal">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:teal">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:teal"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:teal">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:teal">
	  (figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      
      
      In section <REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section <REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:teal"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
  (* x x))

(define (sum-of-squares x y)
  (+ (square x) (square y)))

(sum-of-squares 3 4)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);

</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:teal"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:teal">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:teal"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:teal">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:teal">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>
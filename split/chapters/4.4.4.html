<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="4.4.4  Implementing the Query System" />
    <title>
      4.4.4  Implementing the Query System
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder="search web edition";
	               searchBox.title="search web edition"; 
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://sicp.comp.nus.edu.sg/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

            
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html">  Foreword</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./prefaces.html">  Prefaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./acknowledgements.html">  Acknowledgments from Second Edition of SICP, 1996</a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-4">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="true" aria-controls="sidebar-collapse-4">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1  Building Abstractions with <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-4" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-5">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="true" aria-controls="sidebar-collapse-5">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1  The Elements of Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-5" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./1.1.1.html"> 1.1.1  Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./1.1.2.html"> 1.1.2  Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-8">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="false" aria-controls="sidebar-collapse-8">
                <a href="./1.1.3.html"> 1.1.3  Evaluating <span style="color:teal"> Combinations </span> <span style="color:blue"> Operator Combinations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.4.html"> 1.1.4  Compound <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.5.html"> 1.1.5  The Substitution Model for <span style="color:teal"> Procedure </span> <span style="color:blue"> Function </span> Application</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.6.html"> 1.1.6  Conditional Expressions and Predicates</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.7.html"> 1.1.7  Example: Square Roots by Newton s Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.8.html"> 1.1.8  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Black-Box Abstractions</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-14">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="true" aria-controls="sidebar-collapse-14">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> and the Processes They Generate</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-14" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.2.1.html"> 1.2.1  Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.2.2.html"> 1.2.2  Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.2.3.html"> 1.2.3  Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.4.html"> 1.2.4  Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.5.html"> 1.2.5  Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.6.html"> 1.2.6  Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-21">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="true" aria-controls="sidebar-collapse-21">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3  Formulating Abstractions with Higher-Order <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-21" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.3.1.html"> 1.3.1  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Arguments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.3.2.html"> 1.3.2  <span style="color:teal"> Constructing Procedures using Lambda </span> <span style="color:blue"> Constructing Functions using Lambda Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.3.3.html"> 1.3.3  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as General Methods</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.4.html"> 1.3.4  <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> as Returned Values</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-26">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="true" aria-controls="sidebar-collapse-26">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2  Building Abstractions with Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-26" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-27">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="true" aria-controls="sidebar-collapse-27">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1  Introduction to Data Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-27" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./2.1.1.html"> 2.1.1  Example: Arithmetic Operations for Rational Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./2.1.2.html"> 2.1.2  Abstraction Barriers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-30">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="false" aria-controls="sidebar-collapse-30">
                <a href="./2.1.3.html"> 2.1.3  What Is Meant by Data?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.4.html"> 2.1.4  Extended Exercise: Interval Arithmetic</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-32">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="true" aria-controls="sidebar-collapse-32">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2  Hierarchical Data and the Closure Property</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-32" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.2.1.html"> 2.2.1  Representing Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.2.2.html"> 2.2.2  Hierarchical Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.2.3.html"> 2.2.3  Sequences as Conventional Interfaces</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.4.html"> 2.2.4  Example: A Picture Language</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-37">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="true" aria-controls="sidebar-collapse-37">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3  Symbolic Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-37" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.3.1.html"> 2.3.1  <span style="color:teal"> Quotation </span> <span style="color:blue"> Strings </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.3.2.html"> 2.3.2  Example: Symbolic Differentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.3.3.html"> 2.3.3  Example: Representing Sets</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.4.html"> 2.3.4  Example: Huffman Encoding Trees</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-42">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="true" aria-controls="sidebar-collapse-42">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4  Multiple Representations for Abstract Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-42" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.4.1.html"> 2.4.1  Representations for Complex Numbers</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.4.2.html"> 2.4.2  Tagged data</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.4.3.html"> 2.4.3  Data-Directed Programming and Additivity</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5  Systems with Generic Operations</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.5.1.html"> 2.5.1  Generic Arithmetic Operations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.5.2.html"> 2.5.2  Combining Data of Different Types</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.5.3.html"> 2.5.3  Example: Symbolic Algebra</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3  Modularity, Objects, and State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-51">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="true" aria-controls="sidebar-collapse-51">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1  Assignment and Local State</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-51" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./3.1.1.html"> 3.1.1  Local State Variables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./3.1.2.html"> 3.1.2  The Benefits of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-54">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="false" aria-controls="sidebar-collapse-54">
                <a href="./3.1.3.html"> 3.1.3  The Costs of Introducing Assignment</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2  The Environment Model of Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.2.1.html"> 3.2.1  The Rules for Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.2.2.html"> 3.2.2  Applying Simple <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.2.3.html"> 3.2.3  Frames as the Repository of Local State</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.4.html"> 3.2.4  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-60">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="true" aria-controls="sidebar-collapse-60">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3  Modeling with Mutable Data</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-60" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.3.1.html"> 3.3.1  Mutable List Structure</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.3.2.html"> 3.3.2  Representing Queues</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.3.3.html"> 3.3.3  Representing Tables</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-64">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="false" aria-controls="sidebar-collapse-64">
                <a href="./3.3.4.html"> 3.3.4  A Simulator for Digital Circuits</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.5.html"> 3.3.5  Propagation of Constraints</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-66">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="true" aria-controls="sidebar-collapse-66">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4  Concurrency: Time Is of the Essence</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-66" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.4.1.html"> 3.4.1  The Nature of Time in Concurrent Systems</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.4.2.html"> 3.4.2  Mechanisms for Controlling Concurrency</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-69">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="true" aria-controls="sidebar-collapse-69">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5  Streams</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-69" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-70">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="false" aria-controls="sidebar-collapse-70">
                <a href="./3.5.1.html"> 3.5.1  Streams Are Delayed Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.5.2.html"> 3.5.2  Infinite Streams</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.5.3.html"> 3.5.3  Exploiting the Stream Paradigm</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-73">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="false" aria-controls="sidebar-collapse-73">
                <a href="./3.5.4.html"> 3.5.4  Streams and Delayed Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.5.html"> 3.5.5  Modularity of Functional Programs and Modularity of Objects</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-75">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="true" aria-controls="sidebar-collapse-75">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4  Metalinguistic Abstraction</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-75" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-76">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="true" aria-controls="sidebar-collapse-76">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1  The Metacircular Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-76" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./4.1.1.html"> 4.1.1  The Core of the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./4.1.2.html"> 4.1.2  Representing <span style="color:teal"> Expressions </span> <span style="color:blue"> Statements and Expressions </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-79">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="false" aria-controls="sidebar-collapse-79">
                <a href="./4.1.3.html"> 4.1.3  Evaluator Data Structures</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-80">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="false" aria-controls="sidebar-collapse-80">
                <a href="./4.1.4.html"> 4.1.4  Running the Evaluator as a Program</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.5.html"> 4.1.5  Data as Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.6.html"> 4.1.6  Internal <span style="color:teal"> Definitions </span> <span style="color:blue"> Declarations </span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.7.html"> 4.1.7  Separating Syntactic Analysis from Execution</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-84">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="true" aria-controls="sidebar-collapse-84">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2  <span style="color:teal"> Variations on a Scheme: </span> Lazy Evaluation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-84" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.2.1.html"> 4.2.1  Normal Order and Applicative Order</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.2.2.html"> 4.2.2  An Interpreter with Lazy Evaluation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.2.3.html"> 4.2.3  Streams as Lazy Lists</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3  <span style="color:teal"> Variations on a Scheme: </span> Nondeterministic Computing</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.3.1.html"> 4.3.1  Amb and Search</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.3.2.html"> 4.3.2  Examples of Nondeterministic Programs</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.3.3.html"> 4.3.3  Implementing the <span style="color:teal"> Amb </span> <span style="color:blue"> amb </span> Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4  Logic Programming</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.4.1.html"> 4.4.1  Deductive Information Retrieval</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.4.2.html"> 4.4.2  How the Query System Works</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.4.3.html"> 4.4.3  Is Logic Programming Mathematical Logic?</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-96">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="false" aria-controls="sidebar-collapse-96">
                <a href="./4.4.4.html"> 4.4.4  Implementing the Query System</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-97">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="true" aria-controls="sidebar-collapse-97">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5  Computing with Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-97" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-98">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="true" aria-controls="sidebar-collapse-98">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1  Designing Register Machines</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-98" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./5.1.1.html"> 5.1.1  A Language for Describing Register Machines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./5.1.2.html"> 5.1.2  Abstraction in Machine Design</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-101">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="false" aria-controls="sidebar-collapse-101">
                <a href="./5.1.3.html"> 5.1.3  Subroutines</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-102">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="false" aria-controls="sidebar-collapse-102">
                <a href="./5.1.4.html"> 5.1.4  Using a Stack to Implement Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.5.html"> 5.1.5  Instruction Summary</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-104">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="true" aria-controls="sidebar-collapse-104">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2  A Register-Machine Simulator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-104" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.2.1.html"> 5.2.1  The Machine Model</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.2.2.html"> 5.2.2  The Assembler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.2.3.html"> 5.2.3  Generating Execution <span style="color:teal"> Procedures </span> <span style="color:blue"> Functions </span> for Instructions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-108">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="false" aria-controls="sidebar-collapse-108">
                <a href="./5.2.4.html"> 5.2.4  Monitoring Machine Performance</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-109">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="true" aria-controls="sidebar-collapse-109">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3  Storage Allocation and Garbage Collection</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-109" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.3.1.html"> 5.3.1  Memory as Vectors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.3.2.html"> 5.3.2  Maintaining the Illusion of Infinite Memory</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-112">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="true" aria-controls="sidebar-collapse-112">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4  The Explicit-Control Evaluator</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-112" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-113">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="false" aria-controls="sidebar-collapse-113">
                <a href="./5.4.1.html"> 5.4.1  The Core of the Explicit-Control Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.4.2.html"> 5.4.2  Sequence Evaluation and Tail Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.4.3.html"> 5.4.3  Conditionals, Assignments, and Definitions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-116">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="false" aria-controls="sidebar-collapse-116">
                <a href="./5.4.4.html"> 5.4.4  Running the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-117">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="true" aria-controls="sidebar-collapse-117">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5  Compilation</a>
                </h5>
              </div>
    
              <div id="sidebar-collapse-117" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.5.1.html"> 5.5.1  Structure of the Compiler</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.5.2.html"> 5.5.2  Compiling Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.5.3.html"> 5.5.3  Compiling Combinations</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-121">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="false" aria-controls="sidebar-collapse-121">
                <a href="./5.5.4.html"> 5.5.4  Combining Instruction Sequences</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.5.html"> 5.5.5  An Example of Compiled Code</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.6.html"> 5.5.6  Lexical Addressing</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.7.html"> 5.5.7  Interfacing Compiled Code to the Evaluator</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./references.html">  References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./making-of.html">  Making of the JavaScript Adaptation</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    4.4.4  Implementing the Query System
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'><SECTION>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF> described how the query
    system works. Now we fill in the details by presenting a complete
    implementation of the system.
  </p></div>

  
      <div class='permalink'>
        <a name='sec4.4.4.1' class='permalink'></a><h1>
    4.4.4.1 The Driver Loop and Instantiation</h1></div>
    

    <div class='permalink'>
<a name='p2' class='permalink'></a><p>
      
      
      The driver loop for the query system repeatedly reads input
      expressions.  If the expression is a rule or assertion to be added to
      the data base, then the information is added.  Otherwise the
      expression is assumed to be a query.  The driver passes this query to
      the evaluator
      <span style="color:teal"><kbd>qeval</kbd></span>
      <span style="color:blue"><kbd>evaluate_query</kbd>
      </span>
      
      together with an initial frame stream consisting of a single empty frame.
      The result of the evaluation is a stream of frames generated by satisfying
      the query with variable values found in the data base.  These frames are
      used to form a new stream consisting of copies of the original query in
      which the variables are instantiated with values supplied by the stream of
      frames, and this final stream is printed at the terminal:
      
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define input-prompt ";;; Query input:")
        (define output-prompt ";;; Query results:")

        
        (define (query-driver-loop)
        (prompt-for-input input-prompt)
        (let ((q (query-syntax-process (read))))
        (cond ((assertion-to-be-added? q)
              (add-rule-or-assertion! (add-assertion-body q))
              (newline)
              (display "Assertion added to data base.")
              (query-driver-loop))
              (else
              (newline)
              (display output-prompt)
              (display-stream
              (stream-map
              (lambda (frame)
              (instantiate q
              frame
              (lambda (v f)
              (contract-question-mark v))))
              (qeval q (singleton-stream '()))))
              (query-driver-loop)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_1_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBBHm1E1tlRuo+QGaK9Fui1R9+a0fdgh7BD2IIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQ40aMNMGeBxh62GPkS2TG+DjEWY0ADmMGEAlURUYlcK5DupgDNhVgiwSdFbHLCchIgdUG5i7G2AexrJMcdmPkBtjAKbXaysJ3wA7oh6urDIEphXErwh6vXfHqvBnEtj5AegIltZUxQet0MMwagkePXGfAhGUJAhs4H4jpjkQB4ocWCT9F2Br+14sNO10s45jz2Y4rUN2NAGslZ0Y4ifh8FnT-jFRPQQCROKnElNwJMEjUtOmgn6NCEYJGDpuNXFjBduh6d5HRTuBzd4K2o-6moMs541lR9iEce+m9RxhMQrkbbuyyO7zBNAiHA8YhzzHeJM6U4kHNZhEhWw4JlgScSBMUDsS5xDPdtqxJvEUj0gnEoYRWN4lJRJmW4xzHAMii+ioWhEswOYlIlKTeQwkPwIkMIBjF5BNIK8epReE6p2miEo8TRNADvcXRlo2HgXyJ5QjuJj9Huu92Z6uSigdhCsekgP4TCPe0CNaqOUSFmSUOSvRoBZPwIFxYeVsCTkeKeQf5WhsPPQDMwJZRhYedqIiaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsQh74AzAP3Q7hgMwQWSgJ84r4m1xMnFViG1IbqV2PPaOTIpTHFiXEiEnKRJ2jkmQJUCYmYIvm80keB1KklxJBGhU4qWVIqnVS6pDUlaZ3wmkycpp9AEaZYEEaOSYxkU2wNFO5wzSToW+M6Qlm1Gvo7i8g9aTNy6kzTepgjL0YRD1GJ16EOYmUtTX9I-dJgOQBiV9MQigzCB41ccZYD+l99WpdA16ktOmmdjkZw4xtHlK7ZFESAZmCSAAAZdi1MLKAeE9jCRFux7CFJQEQTSEaZpIImSuCtgEyWZsRNrGqR4ApTjsHMgYKzMYBfNPslMn4E2MbFfJNAHMq9l2AZnkStosXYfltBll0y5ZydA3sxhSb2TTA7ccWV8jsCZRQoNMuKZnVVnYd6ZHvJqc6WpmaJZZciBmRwIzLUwiR9wA8DIHjCncyyeGZIehyMjShueYsvQZkPNk1gcOrkeWbAl-FbROupJC4q7NsDuzpA8YErpF2QkJyk58YK4SpwNCwdHhc5EYRnI9nGyTeiQiYL8LSTjgFgmQssc8T6S9Qi5yc7aBHxaG+yA4VqeiHTAJ4eDvKRwwuTgWGFz8JYfcxfp0O6FVjeh3RdNM2PLF2QpopQGselDrEalQgK4iWPo1iCNz4wfY0ZPEhuFzkt4b-aOKlI67HjqyW8s4ShAxYXz2ilPFKAQHySiA-+mfThBWIvlntEhyYh8WqFGJwheesQ6QH9P56dDCxlYmwZPPcGZi-pHCd2F0KVqY9axbfBPtFxIA6kRJ6M-QRPP7FViTo6EnoChWHEPhZKF5VuZeOqA8Rx6eATGtQqNggKqx488BSWPTQELZ5L5eDHAqCmILJhUCTHmgoQkaC8FQQHeTUEwU2CVIW8CRcYHfH3yGxAC6BfrHn7uxy5CCOwIcAIW1yASLxKhTQu9nwZlMOE3bjJXn7ILVYwjEIVArH6ALCFflfCcslQUWl0FYA-IPr3yC+9hxi428suIMUJtVJO4qFl3P3EuKJcJ4noh+NaHOKz5jYO8ZUlTEsQGQvPZxSnTcXSKAOqiS8a4siWRQv5sS3+ZQASVuLEl7i2mmAGoWY0wl1-XnKAB-Get1wGSolvYuwgISwJIo8emBIlzITAgDSxxayQk4tLZJPQCTu0sEXORniWE-RduNwkRS7ABMnwMwkslME0ha+e9HMs7Y0ymuGwKYCZMZAEyjBFREud5S+Ycyx8OytrjCNKbnKdld81GCwRkDuyig2BPIlhIyaAZLl9k-BrVhmUEy2Jy7XbEjOIDfKVw2ELiVskzpTAzUrkAmezM6Drx9Z-wQ2QsB2UhJM6XS5SRJCThdKEJ4kv5R0to5NktlhwMFSQh2U4qgg8kgEnzIwgoqDJAkrxRMvUlRBQpo8MrnSnuBFt9ldWDGAyIhUmzyR2k4iU5P+ZUr+JKGXKWYHylFTbAlUrcAABkpMjUmuCPHJl-42pr1AmTqF+nuLUhA03oRMGGmPSiW40oaa6jVUXTZpULVaZUBNW0iLVtsm6FtIlVSrZV4AI6aMBOm2r1V2M5SG1wBkSNEE9Ca6aRNun3TTVEEj4BERpmvTrR94PvgGutGS0wOORCNV6J7aJD8GJqjVcCpeEAzIx+os7PQkhUi1-S7y21fsuH7YrhxqMlVe6tNV-T7JcIZiJojZVYqepywgVf9O1GAz5AwM-Mp4urhGQfVqjP4WyPBF7QOCmM86c2q7EozhlRIZUWmppk6hJ1OMzCT+WcphjP5LK8JsuzEnLtepba4BY-XtDl0JI3knLkoFHYbhoYW6wFUWhGFHqSAi87HmMCJb1rSq16gtjusBV7qvRWE+9QsEu4sJP1c7b9euqy6p54Vuq-geBNOV2BCmtklDAanVRJDLxSUkVWBuWQqAhSi3M6ZPMilXIzp+BFoZFP4Hjr256QeKUTythBr1+MU0jX-wLg9NVwBkWGbI21EQMnIsa10bD3KjjrI1Xw29bBNQTM8eNL05NY+wuLjrNAyoxjbrPug4af1Z5I+aBV-wES5upgW1bhqGn7LTZj9GaVbA2WyAtWiKtIERqGlQbPVZG3FQJASkSRqN2EGKY9Po2gqLAsmjTV6PY12RONzkonqsruB8bEgAm9IPkCE3cbE1fmsTUZAuJfKwIiNGTcxo5kKbkuw8lmE4mHRjB2IHMoUixsOCkaYNJa3LUSwO4zLSNk7A7uOvw2dTaAtIsrWdIq0bSvVLMTDepvHWabdVdW76VVqRWP0Kgp0yrfQCtjbTSp5UqqTVPqnOq0gg23aSNoOnyqJNZ0qTYjR63Zb6AZ5KaBuFyB4TwMRWmmdpr6RNbhkzMwhnhuM0grut0gDLQuoG0OqZVcqjhINsdVyrBJlnaLcqKW1qrVtfCdbTkE2215VyXMDYDFlqiPQjRIws5aNFpEB4AdCEYHbssGLHRDld0T6IDqEA8cQdLwq4es1nx-bsI21ZHZIXB15abU4Or5gHlx3Q6CdqQ1OW-gR1jgydKOmHXYMAzE69uIgLKJ4BvDsQ2VFOisVTsx304WcO+RLlAUp3-pmdKmy-GRBYCAbudhcpnfDvQ2HwAd1AI2VDpR0gaExeW5SthFV2SEddbuc9muutGTsldRsmPHrp1Dm7Q1hMBQO+p-BdE9dGMWgHjv116hj+IymFYlteTBbwi9bcqFeqLbRETdykJVcAJsAxZldCwOnbo3V3ujNd6xKPXDLD0IQ6eqMTSakq5kMjpRw6xGPQn93brSdSeoQLKML26MTohu90a7vSDKjcdEe26LTpL1u5i9dAZ3c9Ev4YSPyYYtpN7slqNslMeem9dmLD0R6ZB9ONndJAcitqf13qjtTmu7XDglxlcNvbv2Bb96P1Y+1prbpBat7+lRCWVERN0lxrMJQrUknyoP2uj3xkiuxKtEr1RBy9iQLvUJoLTUAO2fezdQHs0Dr7f+SY6kJMFQRC7BGasAXWy3-1TkVydjfOlSCcZWNEhDnLdmSgWkx7790+60Z2tzW0N3dSQcGWpBpC-7do6A09FQCJgIHlhJKuGuIHiHA1hl5Xcg0ph3BVdqoY4sfowFiCwHTOsUHtnfVvGn6SJh+54ngIVWAL6Ed+6Nosm70bhWDTnUZIaVX2z1QAEhszsXzrgFwZQKHA6gCKtgABOJ8L1DUNgiBVygWodTF0MZ4O1FIVVCoA-0tz6IZylQJZqMXDz3YVgPEiTIj6UibAu1RQIm0TblQ0AvhwLeeTuGWhjDJTWw2nzcM7UARAqghlqFjHfC90J0KwCjUMJPCC5gQYw1EbMPBpNAKh8YO4YBFvLpAdyh5UoBLhYbED0bDxR7u1GiHH9tysEcUekNv7l20ROo-cvww4ER97yBTrCE32ZRvd1JFcOUDhDHMD1Ake0FbDY6ngtgKHbox6u1AlHiA3u3Jg+BTUmb6Io2IYxSD8TwKbc24gdBH2CMbhQsxx-zlJ1ABFtLwSx0AMcZhqcN9QwRpdoCrEmbxbhxil+e7Ba1zcFumIdLYjHtB2GiU6WjTVlvK01a+tHK-4w33WODHRiWx3FhJF2MYkW2rhtI3kbBGS0bjJx8dZhF+Me9MTxx9qK8eS0vylN6QQ4-iZRoXGkoDACk7cb-7pGYx-ajtXPrUgL79Gjxj9cMvwPbACh563qVJpoOuERazFckTIbEl2499Okng66OomCY5y3UWY5vsTZMTFA-SgADpYBitg69iF8fwBCl-m9iQGgjRQjGRvDSmOEEiaLSKm2Vypo7qqdkkamtTFc-DPNz1NRsrxk8akidDh4XFCAmgAAF6wNQAGpqIL6pdOER9ThiI06AEDMmmnIZpxE3Dk6P74uiwwOgAeFVR9HUEOmsYxMZ+XsdpjLnK8fMfAiLGXuBpFY6bysq2VPF1PMU-aAlNeB990py0bKY+2zE7W2ENldyfyHSQGzBAGs4sSjMEBEazFBgZnSzOjB6OnMK2BuAuOTnKBEPRDmMF+CjZIKfPfMRObLOiQJI05mhpOd3acwzyLQm1JOYBPGByTJxnaEKXjSStMoHO64wScU2BHXeuZiSJMY46zHizDgUs0sYrOrHlgl5k4yuaSptZMK+QS4y93xP+HwjHhjk4WxuEfGcNXx0oIt1xPPGUTxgbbZohBO1awT9WiE-vNRMRH0TG4EqWdJxPLd40jpHMX1jpIOA0AMFoeVHANBAWbj5x5dlFGFU0mKThpJi2SbRMmG419CAGSyfn29rOy8FxOJIuAiINezu0fs8ULAg0HbAo5+unMnrONm7GUp-Q22bT4vzSVPykC2ufAtOz5TOAZc6uZXDrnPGYAec9ueiCnM8AYZ3U5GbZoBtGaBmcqKUENKkBDSuE1JngCpPUq3czmZy9qfDNumDT1+mLl5fby+X-L0a2K4aR8sKFErgV4zBFdcvumblSVlgqlaUx+XyoAVjyz7pSsJXirPbFzC5ddORncr3lvK9biKtKYSryVhq2lcqsZWWozp7K-83qvxW0rJ0Lao1c8vlWOrLVqq+FZ6u1WcrdbMa4VfSsf6Yr-VjcAVcfTpWdAQAA')">const input_prompt = "query input:";
const output_prompt = "query results:";

function query_driver_loop() {
    const input = prompt(input_prompt);
    const q = query_syntax_process(parse(input + ";"));
    if (assertion_to_be_added(q)) {
        add_rule_or_assertion(add_assertion_body(q));
        display("Assertion added to data base.");
    } else {
        display(output_prompt);
        display_stream(
          stream_map(
            frame =>
              pretty_query(
                instantiate(q, frame, (v, _) => v)),
            evaluate_query(q, singleton_stream(null))));
    }
    query_driver_loop();
}

</pre></div></div></td></tr></table>
      
      
      
    </p></div>

    <div class='permalink'>
<a name='p3' class='permalink'></a><p>
      
      Here, as in the other evaluators in this chapter, we use an abstract
      syntax for the expressions of the query language.
      The implementation of the expression syntax, including the predicate
      
	<span style="color:teal">
	  <kbd>assertion-to-be-added?</kbd>
	</span>
	<span style="color:blue">
	  <kbd>assertion_to_be_added</kbd>
	</span>
      
      and the selector
      
	<span style="color:teal">
	  <kbd>add-assertion-body</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>add_assertion_body</kbd>,
	</span>
      
      is given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
	<span style="color:teal">
	  <kbd>Add\?rule\?or-assertion!</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>add_rule_or_assertion</kbd>
	</span>
      
      is defined in section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Before doing any processing on an input expression, the driver loop
      transforms it syntactically into a form that makes the processing more
      
	<span style="color:teal">efficient.</span>
	<span style="color:blue">convenient.</span>
      
      <span class='comment'>
	In the JavaScript adaptation, there is no need to precede variable
	names with <QUOTE>?</QUOTE>, see comment in section 4.4.1. We are
	using the same internal representation as in the Scheme version, because
	this way, we can distinguish the name
	<kbd>my_name</kbd> from the data log list
	<kbd>list("name", "my_name")</kbd>.
	The original authors were saying <QUOTE>efficient</QUOTE> because
	of the string manipulations that would be required at runtime.
      </span>
      This involves changing the 
      
      
      representation of pattern variables.  When the query is instantiated, any
      variables that remain unbound are transformed back to the input
      representation before being printed.  These transformations are performed
      by the two
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal">
	  <kbd>query-syntax\?process</kbd>
	</span>
	<span style="color:blue">
	  <kbd>query_syntax_process</kbd>
	</span>
      
      and
      
	<span style="color:teal">
	  <kbd>contract-question-mark</kbd>
	</span>
	<span style="color:blue">
	  <kbd>contract_question_mark</kbd>
	</span>
      
      (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>).
    </p></div>

    <div class='permalink'>
<a name='p5' class='permalink'></a><p>
      
      To instantiate an expression, we copy it, replacing any variables in
      the expression by their values in a given frame.  The values are
      themselves instantiated, since they could contain variables (for
      example, if
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in <kbd>exp</kbd> is bound to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      as the result of unification and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is in turn bound to 5).  The action to take if a variable cannot be
      instantiated is given by a
      
	<span style="color:teal">procedural</span>
	<span style="color:blue">functional</span>
      
      argument to
      <kbd>instantiate</kbd>.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (instantiate exp frame unbound-var-handler)
        (define (copy exp)
        (cond ((var? exp)
              (let ((binding (binding-in-frame exp frame)))
              (if binding
              (copy (binding-value binding))
              (unbound-var-handler exp frame))))
              ((pair? exp)
              (cons (copy (car exp)) (copy (cdr exp))))
              (else exp)))
        (copy exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_2_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf26R-sO5xDAxxQIBgeAkFQNA8TQYkLke8wUgYYw2BkBhiFw9ziY+BRKCB3HklSdIFBYMgjEoaXwlAAAfTXjIFj4usltWZZibXddSFh8HwDghFV9WtZ1v0BfSTJbZl+6Yc4gXmDECRhAYbcwSlygdj6e41uxwKBawoPwgAMlj3p+kGGOR3ZUPvfdqb5bSD6vpTgbgc81Jvd9-3QVdqy6Fz6roaz6lfCVq2GHwEWq8+13ZYTbaiKN-lwrrgWLWoMQ6E+uhA97qjI+L8gfdqMudyDqyh5HsedP2uuV9H4hx8FhuLf-SfX0C7ukyGJP9B79XJg3+nzC3tfTr6jup8L0+7SvmW+952GBeNIQZwVGUGwH6mU6Av2PoXL2s9S4BwrqAcE-9d5AJAaVegNdJp3xcEgwBJhUFgL3o3Q+dtIFy0TiMG879iFf2-nXHBDAUGgJimjCBywT4XxvJ-G+90B6pHBhwBheCmHOFYbEaeYdYHlyXgg-hjVGFoLoBgj2HlZGCOAcIrKhh95W1ETEdhFCz5UI7tw2uWCxoowEfIghLD85sLfhws+XDv60wAGKQAABoAFkACizRAiEBAcof44Is6CO9NQVE4JQCOQiaoBBIClbCHILJPA5AZBaFIGnFIRcaT-GyeoEQHBhCNFpqoSglBCCGEaCAMQsTaRoFyAoYA7hEhBIALTkG5BUBQvhgAACtDBtMMCAtqwAUi5MMMAAAbDobAeA3FeN8RtBQ+BKz-EoH0UA7APBeCZkoBJLAklNXwMIXwBBHDrL6LTdcpAtLRIoJUtO-wLanM8iDLZXJdmOT6DUNZmSai1FqGgZR-NUgHKSbonGCZoFzz9nA6RISsFhOqBE5wSi67gvIAwG5ucMmGEhYFG42ItFEObq3XO3AjEx1oWYzFxzTkEsLgTbZygvDnwMR-M+1LnG8IYCJRlZCYWSMXkbKyIlBbMC0GvdFZjxXEDhoQQIbgRG2LEfYjl1CeVmL-vQbiqIfjysVcQZV9ABXQpnrCheE9pbcGMkURBurUX0ANQqpVhg0W3z5tg3VotXXYsCMnI+diyEBz5ZUeBeJPWwzeH7Q1pAGCUjNYGUNgQZDwNJDwsxMbfWKoYJ0a1xtSEJhTeG6ROgaa8uMO0HeQSk3ZxLvPeFoqEFVtrBcmVXrQAE1bTWvORswivxDeXcEPb23cCDmETNnbR1BIlVQYga98X51iMGruDi7TUqnbDKotyZwfHnWvV2A6i1bQvhOqNnElV7slQunelAl39qEtdLlj6t2e1SAuzQuIZ19ulse1dgYnYZGoZO0xnaBYgI+HOqVd6j1PqgQrYDl8X1-q1eB82nzIVQsAxa4VBarIsq8B22GzLMOqr0YXOB4JCPgnHb3N9T1Pn0t8Fh-RgwnGZ21akDQATqDclRHWouEjG1SObeCHjIJ+MeoY+YUJcbjXutNeR7DLgqW9wvR5H6YgH0kIA6p9dWQnEafMA5PNpBtP6CIP+tVgrEMuys8ZlwO6oNacs5U+DZDtoOZky4K9ZmLMOcHQmG83noYguzp1fQhrO44eE3C8uhqrLFCUbTLOjM5DMygHARAyB0BczxD-TiYsazzvgTvSsHnzWC0jCLYrZ4JbtRjspUo1IjbKWaE7XOHdmvAkttJQhB8n61iMNohcLcc7txjtwcrUwVgddSPQqxAmmvOlKHVhN9B93IKEQosrdAKvtaE6opbKre49fW8dnbYC9sHedPNvNyrV6wZW4qNbp4Hvuqe+PG7s2TJCZjU6quC55MmvAS9lYb2fgA-1cD11CnTs2paPt37KkhOYu66trttxGpZy3B9Q5WKcWfTxR3fCelph0peSxqbdqrwzcO3rNobba3g-ki0d7P6jBM97dB2948dMy2m8jhnGGdkY9e+zn4hGfsi7DXLcXEPJcLn5dI+nd2hMSb49d1nMxBCEACSxurHQtD6Dk3D0HpOkcVbJ2hUN420b4q0wLymVvJiHbMsEeBNk7IOWcvXce5A4ZvKV8b4gvkK1mIkyx5E3AndCQHFHLqChUVrLelg03DhJjYwo2QqP-rqDJ5oKn3HMfBDmdAzmZ8eThT6B1QoQg+Byhp69RnugWeoIxHfMajIRUjeldCVT1vlNaexnlYjWN+2Dz0EPSPtCoSieSDIPi5Ew-yd+idzbtfDQ5OT-kNvb7K-Hw2aq+KlhSqe8o8V6fhiG3x6wfP2wGWtPmhjg1GGCiL5DQe83KX739knJOZmKUC+AkDB5R41w5hhYYqghkpDbGpRYKqGBC4VbZ6BSmZO4IHuZySlDOxsByTNBYR94m7OYziuaGphDIGr624wH24MT4p+YYHkEu4zYR6drrbQ7OAupGoW6q7I4RwIZMCkDDZEFfTZpxr+q1CW4sHGSQ71Ym5iF+qJpTau7GSmTizyE+riH5pSHI6cZsEc7c4XJHqUHYwJ4fr17AHVbVpGHnrrRxhkKv6hjkgf7V4GAQbrDXoHrPaPp2HTCBQiGm4HhQb7owbfbnqcAzb+RV7Z6xCNgkESrSxwGMh2oBHxEhF84FoUGRErhmFy4qhwGBG7oJEzhozt52qBRpFGxwFMSFAuExHCSFzrac6z4bTBE3qLpwYRG6ErhsRhaNgOBby1CMhPCAgAB8oAuBNU0BUG42Axj2Go+gbcxqMW2cuBixucSwiuuBK4BBG4+gcxn2Go3AduIsBxw8CxN4SxEwCIZEoAUBZihg3IjAjeuC6iCizuphNejO1hLO6m9RKgm2AgE6jIP6vOHRMcNRx+sWn6lhnO56dqOBwGdqaw+uO8ycTxzc-Aai+CqIy+QRnhoRmRF4LRRQjxQgmJrxOJDMAk2OVhzOX0JJ5Ofm6R4JPhR+dRHeOeVWi2V2y2Z2V4Ck5cPJbxBCJKB8xiI+92l2IpfJ6sLRgpO40pVJmio2EpBEzQkxzh9x+hUuZGzaM22MjYVOjIhGzGHcTEjY3YeoIJGJLx2JGi7wy0JyvgQEsRgJ0ogxoQjIJxDAZxI8khVpFeUJLgARVOm+foY+aJosu+0+sGgZ3AfpGoSBrurBsM62Ku+pfBBcZCBM1+z8s+ARcq5uimYOvc4Z5OLBehaZ72D83hiOBpUEjYaMjIARtZu8NiZZruTEW8A2TcLCbZe6qpyhaMlBTEgUaMVZRW72SpDpP22MPZYpfZZ0M5CivZmq5ZIepWK51iZ0yhM2G52ROoMQ4WSut+W2lJs5vBKBUEC5o2BRwpypjAi565K4ARD5DpBRe5yOB53R4UeAaWeyLM2W7MeWlghWHkXsQhX0cMKxoAQe4k7IUFk59UtJuOC+eK3AYZru-BQ6O4Dq9ejeIgzeBYtGLR6FS+mFzpo5YGv8C2igDeTeJesFQqImO4MgVkjSDFRFWcxGnE8+oCxOS+pusFJaaa7FoAkaPmdMXqZpMgIlMBqapu3AGaNFfFSK5WU+++YIclOFxaCl4a4l5ayF1wtJeZw2bwiMha5IgUVGZlxAtGAJd+48jmQmdl30FMulsWDa8WipDEYqwMcBvFHkdlt+ll7l54nl+mGq4VD4xlIZjgXw7qbU0ZlYmlh6DZ1lhcN4h5J58RkMUWWZmVnmF8OVdcNaiVjULA0emM6MDZhQRVCYWEkM1F5wjYGyjUMJuIGle+a8jImpJ5BM+Vz5yZDusF0co2I1dBLlkMa5y+NVzw9V9ha6Iw1MUlM1Dupu81kQi1wZf4m1ucqZRWCMUZ3VsZYRE1vUyZLA6wHVhVS1yaO8YgGyI2RCA6CFHAbUz1p4mxmO+MqFNVL1B8k1eoLu11xgKVl+TQwIj1z1w14QAAPNDZ9aoO5T9X6GtqQOZBCAACqWxY50BnJaa8CLpNj64gi1DNBRIADUdxW+rWBstSMg1OE14QNNDl1NtNW++sc0QoLG31buq4pkmNnu4IuN+A-0xAjkZeYgxNd6jMNIZN1AFNCCoANNjJsQ3NbUvNgNVsA6bNVkqtnNa+mtjNfNnQEwcVvWGIWIa5n5o2JhUEZV+2-sls2IGVKwdcZJYOF15M1mfo4iaxcN6ta2zt6I2I6thQ5V+ASV80p1WlBVFWkNsYzQz5qc20QddNswF8-NEdoAKdTxyGG6LNNodo-NrpGYORNe5Wqc7VosFhXVMZWlvhDQ3+OtbAVktkFs5Q9cRClN5drE0RnJDQcRNVjIeVAN2RsYgUXt+1n0s1s9fIG5BE61dBC9R+tRWp918VlYLtRACdh1mm8xttNi9t5MDt5ITtO9Yd+9-xntBdw1l1zd-oAhgdLN8pVuu94dW+UdMdKVaVsG0h6pPdB8adZ6b95OpQ8E2031vUSd6uM9RExde1ZdkJ5ERtRQA41dCFtdnVf9PVd6T9kdwtm4z5HddAXdIgwDVsYB8xa84eqDoAHJdqI9ucY9+Jb0E93RU9hcM9M1w1a9S9c+NVcBc1B1-dG9Eju15Wn9+97s-5WC6W8gSgWWbMuWnMGA4FoK+ehe1Axe6eK+QWXlMCrF2lDgVkiqBeKe9lLlFjOjqeBeASGR12BjJ6UV7GZ8h+7sBUSeVjxFuJ3p5c6YVGcwDlsQcwq4VBRQVGHIoTMQHIET5ZVGGEsTPAG4CTQTw6AcKTAc6TFOw6QGmQDlBTbAzokThQVG3EhgAS5AvgDllT1TZyioZTsQVG3+sT3+sYzTMQVGNwGyeaLAhgtGvTqg-TjMKwXTwIw6VNKTsQ+gcM3ALpYxcFhtjTEzVGbSMzMQczCz4QAI4xQebSoAqziTw6cI3ADQ2zRzuz+zoAkIRzMQazw6wAmzBg8zVzSzQeYAxzGTeFAApC85c4s3s8s78-c6AI83heJDM4C9c8swhS6Sc3hQAISSjQtvNAs3MotAgIs-Ngjgjw0AvouwtB6I0xA4t5N4Xw0AibMwsfOgBUtksQt4ujGEs7N0vjGMuIvMvUvnOFC0vAtB6jFAhXNcsQhIsvPLOFDAsxBIuxAwXpj5Tum2O+OhLDWAgrhErsrCDcDKtF444KOKvvACC6u6P6syX4AsB9ImD3rqsrCavIhLNJM+N6sOVGKH4TNFAmt6NeqgYRRKvOumtnnMD84BM7hUaOHCAOURset03lPDqQB0DhLAGhMJtJvkuxvOg9NUAjOwCQCxPDMMC5sxsZuTN4UFveIpPlvFsZtUYABy5AtbLz9btbcDGbhrVIXrjU9CarAIGrGgpuSz20clOrAbqeOCoG3jljerQbACIjtr0w9rg7BmwlLunbM7-OaYJ5eea7JeZj0tVqsFeer0aopAbAvgJ0fS5A1YjxXUmg+gZFo7jUDjHAa8zjmegjDQWmB7RwRQ2psM04Ntcdh6sFkZRFQHsGs+PGaJ+gO7SKD96D5Oa73bxdkHqJSMsH5rlr1ryZudPAj767JRU1H7hQOD9deDZ1bsfR7ptdYgXw11wOjdvVQIAHhA5H8dm78jPrgFKjOWHMmAmj3q48FApgDA1aHwZUNwpAbKsizFiGSsKsRiMnAtbORiN4SnrNCCDAHNJt2tinP0pMD4SdzQenFisVqlHkjSNw1WOKWggaDNftXJgYnSygxNGQpWRgseygygsLjMNN+gznqc4IUSpQQXedCCBtNNzn1bfoQXdG9nNj8QwBqsDNse5eqX80Rq5SizEQ0EDVgYJtht4IEIhtlnWKxgNnkhmrX7mXwB6XEwhX1gfk5n5gNXuIGSCg-n5msnaQSGWmSdIXuBukf2EG5cfXoA8cWAqEtedmhmZ8fX4Q2s5C7jdo83oAWLCCyW-XBg20Y3CF4IyWMhjllAwnM4YnMUknbKfXqhbh3GitUmpqY3E3txMQnW7cZu3BJZnXa0buZEIXxXNNrXTAZAHXO35eX3N8htk39qKtNNz5sBSxreBYOabqIiq3atq4USHNgP7XWrhdWQGB83WeVNUPhQ8IskZEBBiXLGkkoIDlWmI7kglh7XynqOUcexV3iurXEIyTxx5coPa0Jd+PXXq7VPQPpAgkk392Jt4PK4IXAA5BzVpoVwr5L-TTzUzeD1JYD9WqQCxjr9l3l6sUhp9PJ5uNtPr9F1eFRkIJG1ZMEOzQ5DpMvG4MWOzUIRwPCD96UFz+b7WLry7jeBbwz1l2LxL3Nnh4zyxr72QAi3tUHxHyHxb5bZe9e8oLe4R31P6h4Appgd15rvd+AtFrL6W3i-n2Ag5e9yj6atFsR7EJqyn+sGn9QJoHAVn0Em4HV7nyz1Da919EX4rlRsluOneeNgj9FkZ-DIQJbfr3vAHnDG3zn9Fp8Td3mnd9duPzEXEXB6NskXBCP+Sm9+pcWSIuP5Cd49ny737E7nFP2zP1onPwvx39Lfiqf4aBUdv0QoF8k8X1hNtIqhf8YCv7l4XcRif-u30AH+ZriOxaSkj1Tp7csmP-eQOAPnhO5oBqrHfntwb43tm+GfWsEN11xNUP+B8Wvt03LhYCm+LfNGI-3xT88X+CqG+N31WCpMDwiPGKKQzw4ACUBwAqIpGH1C5Ex+9A3wjZWHRD8qGY2A-n30EE8DKInJfwgqn8h-tOIwBEgLn0ipCZCC9A4vttH75-ZW6iWBBLZH-x+4QcJZYPMoLDxBVzAFlOWqoOzJVYNBhALbtlU0Hh89BCqMhkYJDLH9+YgnSylUhSybwXe2kMqJQHwBNRGoAwCoIMCX52DAw5g1QXtwtCu8pKkQj7MWDKiD4YhhvJbvoGsH84u+ltfWP0AUCr8SARFCoCAl8CSFDAbICoTU3niGBSQag4pkYEjTF86hVQv2I0KeDQDf+Z6SNCQIMA+djuxQ0oVGQ6HVCRhH0BCK0Mt4lsGgEwroaSBcrVAMk1sVPIsNaHcBFhgsJobEKN4uwahW3HYd0In59CRgRwwYSMWBarCyA6wuRJGHqGDAThxIJ4IMOdDXDxiRQ6YUREjRoZ-2UwkoTIBARqx+2peBzipn+ggjEYEqQIB9GS6jD7We7C2s1yczQid4sI4oQiI+jddA6gIrbtsXD63DT2-QDYY8M6G49vhgkEgZ8KhFUAYRVI7ESUJ7hwjBI-wo6uPgYBCgzyoIWDLIm2FUAqYW1Rsu6WegmkiYL0RgPlX5EYwDqY5QuGKIQoRti+oHQYDKKSTBxZRgMXofSLICMBem-EZ6AUWegu4NRQouUYoI8i8QMk+okKCjV4gCjNR1MNQZDEC4yAkwtQKJMXxCQejI20ApnJ0Bg6CiuIVAcIMX1dHHkiRfCH6EGONgqjjqRFbkZSF5HfYHRIYp0fNWgFs8WBvEOOAnGzGbgNRW3a0XqIYAGiUaN4XMe8JWA3gix1Y6YCWKSBli7RuPKsbhwIjbQ6x7YoRmI2gE+i9gnowoXNA4ChCnygIuZmNT2JvNaRuBA+lYL6Cso80jAJIcEIe5BDUQ3AGfmmJn7OiRRRrLHHxBGYP4iojY20YeP0BbjgxK4jcQh3mGKgdx81eUTmTtFhoaQj+N0b6PwFFBESmQaATHRHGaJxx5Y18Rfktq8BwaLUeVLGO67S8-+oYucS4FSiYj4R3QNkN0D2HkhGwjMIEKlBxBoS-AKlLetSFTgRt9IExYDGF0MCW1IJ8-IkC3GgmGl3S3QRkHBMo5ESBYkWboOEBC7JYwu3Qd2CONADY0AAEt4gYAABBcAOAG8QAAlbGpAAADytbZAECH6p1wZAkgNQGkNXGOlTx5orGPsLKAQSZQcMWMTaK25ISaJKA9cdSVPET8kJnQBcNeIZhSUHJmQbSbiRGKGSRJYkySdJLkmKTlJrkyQFyJMnWStInkuyWoKQmMiaJDAOiWmjsnO8IpzgIZICICFmJvQV-GyZtjMl6j9J-UbIVSLeggjNWI+DUcTTGIkk1AJgLwEuI8kiIKplkVJuUnylajF6I+DSYeIam5S9J7U5xIJPd5dtCKGSRkAAAYpiZiGoI5D5QZAIha-GKNQEGBXQ5pG2BwKNKBBDS1pd+TJDTTxBPiEwW03IOtLIBSUCY0006KZxJh-QtpZfRaZBGyFYR9uDlLCLdIWllQlpgva6X8BMT9xZUO8XOJdIM6pBqg2QOaetHfCrS7pH0s0BMUlqzSBE0MrKEtKSgX0gCgQRqI5E6BsoshKwcRJFiX4IkscdwC6bIkwIBAoZ705GamGRLqC9iOg36nsRGGYzsZuPcfvWMQrEAWZbANlM4McGMDdB8gzertWZkMAsZPMsGRwAQlcRiAZQ0IM3EL7uDzEBnAqetDriizxZOMp+rkQJllFgIVddoIGJlEPh-ieMrKkhTtRMMCIRpcURdElEcMus6MVai0UCgsASJ4EccBHVKDuiowEdZoBrNZlGiWELAdetqEm5Wz-aAhQgmGIIilAA5Es7QVnkW7xzeZZ8B8C0WaA+zjADDXokRJTm59LaqorkSLAbzKo-g30smKeFVmMT9xiorZBKNCkOz24Mo52YKBrxij1u0bf4oFAcC81mx54oOWdBNG2o7xMQKuf1J-bOFoiOsmMaeHbyxs8AkIJeSuCNISjbZq0RudKM6CqyGGrsteZ3I9kagiZvcpmv3P4j8juxMQQec-GHmTdoIqEamLTNVEVz0Y481uZXl4GuF9AFQOWakFNTjyW581BaovOXlmyyE-YopE11qKD0Vwcg8fC-N6g7ytSf0ztCfNxDliYOe4X8LuOyGui9u7ogcX6MVwQLPR-ow2VkEIBYKtukMLMdGMwiRpbxMQNbAmL9jcjS57qcuZQp1bYLMxUYy6TByaHxjORbC6OhwseCEBfwXC-qTEBAWQhaF2KPYpQrzF0ycxpIYvmgrPkViz4SijmbEErGkhdFMQDRRgr-4DDL5ioP-gYvMUe0gFfYghZAuompAhpqsLws5WaG4YTGLiwkmKjmmWDBOwCcCSIiGmwUjEwSlyltMHzBL3FPXF2JwjPhhKtu1vNgFjN8DFwoK8IaAap3iXgz2RmmMmriCxTOKhpm4v3riD6kPiDqNcqkMAn6CMAhpjIQIEsSBnigQZ4CYJRaXdIaLjxu-WMMYpbGXjWpSQQxa8HoABLPuNS8ksEuGWxAKlgMA6YGC6Xd53x+Cz8cX0JG6D1CjUfXpLMqrOlch1sOpeDPeH-jJAgE1kfsToB9zjxA0yQEJNEkMAZJ1kAADLeIVJ5EzIJNM7RdStJQ0-FH1JwVETwJT7EyXlKSAWSQpVkv2L8tBVt5oBbk5XHNPxQuV4VCM+ArBR8kPLnlry4KTOEhWoq-luosFWoOKlQckYI+GKeOLikJSYVcwmLkNLSmsj4QJAilecuek+KOADK4oZ70tp55oV-y4UUVMBElSqAZUq8PUuBYkk88hSuaTsp1aEq6Aqskgd8qPGIqYVqs6We6nrwCJtlAym0QVOQmCRiVQq4ESKv7Yrg8F4xO1CSrQ5+xNhWUnqY6V1VtTqY0yv0LSN5WqqnVQy-qR6z4b4jC5my0TqUovGlL9VVIiGe6VaAOscJkgS+CAS+jx9wQIhINTHwgK7Uo1Dgd2cGE9mK5NVjjFNbrxDUx8w1+I6ARmvAR5D70Ra-3iWtZHSyBYNEpaLmOiWwSL4uYhbprCOwxjWJuS8wB8GCARCcpjAV6DRP85Dr1ouRRteXOcn0A9ZRoJiX4EZBUryw9EmdW3gYaNgXOmNO9A6oNXztycLKrEd0GSnpD6AnKj6GmoaCFQcQJ6nSeeoUCkVYwWENddwFpFbrGlpBIdQavZIwKN6mCadKEMCCorG5o6qJXuI7byrGQbwMZUEvBlMRJ1JkptfKrnXD0F1ZyIEMutxD0S7JG690u+p3VbSqR+6vSIepQnbAEE9KqkZes9b8Ab1FGuafesfV+hXpc019bC3w27xCN+I-uhHPIiWj74wgKFatOCAOqx1KU2ddEucVrqY5bOVIVJvHXQDUha6sTaevXWojBAgm0TdJuxj9qgNa6kDSCuk0dL9xVsbKeJveCMgMVfk2SfJKUngAmIVmqSTZsClvLn1Q6tjUs1M0OqgyjnFwOCAxBNd-1sMOTTKrA3khdNjULaSOpBXtLMJ7pLzb8ss33LHlLy+zeSAxUpbXljIFjWTFpEJbEV-dQKP5qIyOK66X6W-H0nTxMFolaxJgmtXYZvBKtKITAhCLYwtbwlxqGcI1sOh0D3MagvmaBiC3voytlhSpk1oLDtaatSGOrepviJjbDok2wydoMQIdaoM82lEL1ta1ZU05K2qSjUDEDzo-Y2y6rUtpKq7b1NRqbiPxkkF9bTtIwGbUNs0zmYFA+Qk7dkIG3SzGt+AUGd1o221rih3XXBr9om3A7701C4RlSOgFfbQZfmUHfijh20rYgya7ZfEVB25D6A42sHShGXoQ7uN7sa9eJhEDs1kdpShytDrU0nkxt328BOttMDJk-Vda6Jbg1p0CYWdaNb8e8rwJEidp9wwRJUMkIj4SdMfQomtpSCY7v5YunrS7gZ0A7sdRQWkVTph2daGEkujbRLsMCY6KCJPcnDLpxH7QCd9vKyELt151Mxd1OzdnXH22lYN87U79UatZHCrQRX9VcBau10NAWhxuljFbts4FqWMceV1dMBOWjiDVa9H7hLiD1nKsRj8++WF1wJy6kQuOutfdAJ2O9idga-Xg5W91QwTy8qEwPwBu0gdNlMHANFrhNw18nkDAWjhawNSMcCGyfK9o33T73lHJ-2nEfbtGEmqnd97K8K7rpxww89JuTSMGxoClZuQmQAqa6o6hUxrm3Y1upWA8G+4XAvEcxM0HIFN60YnvVtmzgj1jjzlj8vSBqWAxKrE9AO5PbRvBBr6cBgVI3entJ3cBL9lA8aDVEbA3B5+9TSoYyAACcJwOuO-pqYh6IRv+niJUINVciMkqsbgG3n+L8CkMHwFDQPU-meQa8LgBCmNMIaxA-9LGOXnLyshoA8D1G6BYgaHpFBMDlIr+Aw0KCYHQDESFWMVJ7gu4XAhzSSj0WFkxAqDxUmgyQ24Cv6VdVTSodLM6ApK0lw2c4gOtb2GrDJuuhQGftL7JKamwh+yjfpKxaBfddPOQ6ksELnhPlsMMAQpl92146AhUE8GQAtjupgCEa-ca0EZB39fAD-XQ24CDG3Ivo1QQqIVyODcryQA4P5KYYiRnJ1uI6AcePHhD-FSD4INpOEY4HgDQA+vN5K4dADhGNmCIRhUFD4M1Ni9kffQ60GOCMNB6LEAcPptCHhC80gmyQlkafohaBEIm5TUpq-WD4yjDDLwyYejq+G1u6kd1B9XXimyMDwBtI2EYSOHM11GmqIfEf6OJGf2HJNiL+umChHRjhzGI8eMZizGxjK4dg+OKtVCrRVPYz6FVK3za9g13YofQAm6gm5WgE+gwPPv+iwtE67wz3RePHTDjTlu+rEbOJMR-qBO-0dhkIEMCOQVYLh-gBYapBWGgQNhuw0gJz43JjABh1w2zXcNH44i7DPBTkNuOnHqQDx4PYyJeOFbC4ex4XYcfHjHGE1VMBEzVVfUXGdKwLROtRKNZHHSs+g5qtKAoZ+xOoDAApMIA4CkA1ZWaIgIbnoHQGvidCrvl0c7yii15QII0a9Hyp0nHx5RBUaKbAjZqj5schk4RSZM-QWTNvdk+TP6kZyAShAFjNfOGwmjxGH8yiLkQcHwGwFjVPYrkD1NszBB3AG0yxj5mvHtQUx50HIKn4sHJGvm3UzyccH46wTbgfQ3L2vH6BR5AAHSwBSabVTAMITIGCAdc49RzHZlnjQg4GZETR4wDXHsOpBtlIZ9cWGbvGRnozcs2M29ATNBiWBvAE8C7h6BYRqzoAAAF4XgYgkZooKSr9iFH4z4vKfcmabMQ9yc6Z8EN4ejrWMTgqEWqJ8feA-HNwIZmM12YrPoteeeFZJARnZrKB2akbSYHLzTB4AczwZjs2We7MdclzJfCEKuYQQsB1zm5z3kOeqhAA')">function instantiate(exp, frame, unbound_var_handler) {
    function copy(exp) {
        if (is_var(exp)) {
            const binding = binding_in_frame(exp, frame);
            return binding === undefined
                ? unbound_var_handler(exp, frame)
                : copy(binding_value(binding));
        } else if (is_pair(exp)) {
            return pair(copy(head(exp)), copy(tail(exp)));
        } else {
            return exp;
        }
    }
    return copy(exp);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p6' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      that manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.2' class='permalink'></a><h1>
    4.4.4.2 The Evaluator</h1></div>
    

    <div class='permalink'>
<a name='p7' class='permalink'></a><p>
      
      The
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure,</span>
	<span style="color:blue">function,</span>
	
      called by the
      
	<span style="color:teal">
	  <kbd>query-driver-loop</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>query_driver_loop</kbd>,
	</span>
      
      is the basic evaluator of the query system.  It takes as inputs a query
      and a stream of frames, and it returns a stream of extended frames.
      It identifies special forms by a 
      
      data-directed dispatch using <kbd>get</kbd> and
      <kbd>put</kbd>, just as we did in implementing generic
      operations in chapter 2.  Any query that is not identified as a
      special form is assumed to be a simple query, to be processed by
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (qeval query frame-stream)
        (let ((qproc (get (type query) 'qeval)))
        (if qproc
              (qproc (contents query) frame-stream)
              (simple-query query frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_3_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8j5AnIBQGA0EgRAYCo2HIXxaiMNlOu62oGEMUkqLieNAxSNIMn-PEphmLjI0G4RhuJJ4V2aLC5j66x8NXJ5AQAPmpShGua1riHagaesGBr+maoi5r2vSXqKa6hpG-lzjq8xqi0UgOHIStiA6pabr67h3pWz6xsCqb0kyHaV1KKHVvWlZNo3IZ+lup7jMKA6AWOv6yEB4HQa68HUZGp5ntemJCeOu6moQnavouFF6tO+6GBkLrKBubFkW4MJYYmlw+aoLRGGZhQjG5lnBf0YXqXZn6Jf56XhoVuXZaE8aEkm1IEf-HX5qKUoTY2zy6H+smQah7GRj1unFUZ0BJcoLXZfls7Wb19nasuTj4pBlhqm4ugxH0atSGocV6LPOsoMCrDY-j5CqwYtNvuDjzw5EaoxAYdPxX0AvI7EfXAu2iui5zoPOfMOuo5Lhjy4j+uxcNlwbxbquwsbgtQH7hhql5igFGIGPyDjhOPcn5PyUCttPFLzO5CaxiziHzjiAAD2lwZ16XLOk+4Tep+r8WeCx0OGH7me58z3C+QvxeG93jyD6PseZAYSkoJLpghPlwLiVB35b31o2fujJR7j0vtPUBkCr5MUCrA8SQZ1S1GRi0Q+l1j6zwzqfYQECF5QOtrxf6jAbh8VUB3QurdX4MMrrtcBlAUHb3CngdWhgF6KAgDAeASBUBoDxGgYkHNh5TWMGwf+xBcLuSjvLBQlBr4908sbXgCgWBkBUWomIAAfQxxkZGnSLvo8IoBjGmNSCwfA+BAZ0EsdYkxfp4YzUsYPL+v1UjMDEBIFa24wQfFUTsPo9wq7dwTFNLCoSDEADIEm9Bxi4zBlAIn+O8erTRaQt4uJTjfKa-jAkMGCfoqydAt7VR3jkwwvgdGOIYPgf+VSp4FOXjfbaREBZqM-jkqaFpqBiDoFPW2HTYhwz8eQAJQ1ynxKskMkZYydINxyUs0ZwDhoNPsabVRQka6pJvN0pMljJhrLzuYDZKy25JwmTEQ5Iwbw9P2YHAZqRjRCBnBUZQXVSr0HuQbGJ0zZlBNBBU0A4JPm21Br82emU6A1Nzk3Fw0LvkmD+Qi7ZjS9kGNfI8wYxyjmnPieci5KKVD0A+F82FmKYrMNJVRAl+hnkkt6ecwe7y27Pw4LS+FqJAVTMiaU+ZvSrKgL5f8xF5Lh4Sp+XSsq9ScWCq6cSu0Jy7Sko5bUy5Lg5UYv5WVBl7KmWqqeacl5fTP54AAGKQAABoAFkACizRAiEC6sof44J1ag29NQVE4JQCOQDaoSFXUdGkNkngcgMh-rslUCkTRNJ-hJvUCIDgwhGjSF6F7QghhGggDEKG2kaBcgKGAO4RIXqAC05BuQVAUL4YAAArQwNbDBdSjsAFIKbDDAAAGw6GwLah1Lq3XEAUPgYGCb-jsA8F4fhSgI0sFIQ-fAwhfAEEcP8DJxAc3rlIFpYNFB82zpHhurdXlyAjy5IuxyfQajA1IKAGotRahoB8ckVIK7SEqo0cUmZIrwULMhb64M1QA3OCRV+4ETVV3kAYIere-1DD-oTErJVuzmmtK3twDVuLtXIuHr+xD9jN3ocDPfedygvBO0JRatlry3m6tySJSj37hVzJA2KyFIltZUEncAmDOT+MH0IIENwzgOMpPNZq9l-TWNTTeNxVEPxxOScMNJxl+KikguAzuUD+NChQvoKp5w6n94SeIFJ+gInWMqYYBppDgRbomt0xo4JDBAgyAhXNTlDmzNOas6QABVKZNeZ8xC0kAWKWOec50EJ7nliBUi5UCFOhFMUpkW0WsO6ZOAdBWUnjYTIXGHaJdL19mKX33K3lr1+jRYeYTOU8EdXKvEHBCLXpYRYvD3azugTWgVloZ07EFLZqGPydeX1ziVQj0zmpcN4BjWDmTdW7NjyknFvMGW7bUbPW1saMtb1nV2XUiTs0LiAbDX4lNYmwBrRiM7sys4lNLqHwhtCfGS901j3pqIxOyx87D872AqBUbLjYLDO8fBDRrw1Xh7UbBzph7LXwVw7vV1k6+zNvNzveuijqO4waII2c7JSnUitRBNyAVxOHl6ah8VmHpXwTU+oLT6Dr2PK+o0zZrTAL6cQ5cGTrVeOXCzzEAd-Zf2Exk8tUR2DDkWqkCl-oIg93JmM5Nur-N3PzDzc+5L3XmuGek9SRr-XLhtsq7V5b2XgYbyW4pyD2O+hxPqOBUz8p4mrLFBg7BqhZAaEhXobxSGZDEGe8DIgkcYGky1CDbgn1CfhC6RMi0donR9Dh-YeEXBseYjWymm73i+eVilB-gQv+YX3hAPGbn0hHDyFX2L6kLCZfQBJNyVhJv5sSi3y9sHhgtD+I3jL67F6N4++T70kHpII-Q-0Zz1QXaxn6ZFG2jP9fG-YhR-77EZoKe9iJ5d-1ouHBKBZR9vvaPLgsL724O7E2WXh5qBMF4FqjALTFmkz-7Szg3AFWpAuIuewBuIUeY0jYo+qg3mNmGQRU8+IedC+g4BSGZC-+qI3AO+u+MQaBUeaCN8MBcBNIbAaU6kMgqe6eC0VsGM1IF+kg1+OsAkoeJBCBr+nEvAxgY8Mo+8K+eKnS-2DUFi20ZeHBHkqU2sZ0OIbI3Qo0UEjYfCQIqUMhZYvgMWghCYShYEEGGo+kr6M0oAzQhgZ+b2vBDARILS-B0CVKAg3QjIohq+hB-2bu3Q4QpQ4I-uRhoA3Q3il+oAAAKgABLOoMAACC4A4AzqAASgEZAAAPIAByyAQIJsNUOSMgkgagLUbgv+4WSBnCd+ZQ3BEcB8-B1CB+MQpQkhpR+8Q0mBzgaGSBlR3hkhnQC4DRVK4u4gkgLUmQORWkqIaGRRwRoRERURsRCRyR3RNRvB9RuRAB+RUsweRRkhPstRFh5YVhzRiyCxqIHaOsAeGREcAxeR7w5RwehR0SgYssvM-MSs6+Te2iR0OBKgfQtGX+pxixziTxlkg+1ChRs+DQmRdCXxQxFxSQhRn8-hpAGQIMuQDg8aQIAADOkaxjUI5N5nCS1IQB6hzlitQIMNXNiQibbNoECLCbyqSfGgANSgB4jOEJiUnwn4CIlkDdH3wYncrEJIJELzzMk4l4mc5ZSElFFYSeHY5YQCns7CmMCEk2h2igKK6waBBtIgygKpDVDZBwk2HvAmjYkykElmivrECYnSm4k05GlJTkg5LcwgyOSdB0Ye5jQk5e5u7On4ylCcmmnclly+5xAGkWn4kxSin4zNCxJYwe6em3wHgsqBD2mOnL4e5r6vR2kMAOlsB0Y3jJktGrB4KED+SaGO7xnpmJnMniHmAVBtShDNLOL+nIIt5LxIisZpkZlOn6yCjCj6Al6zzu6TAun9hdm5bZ4NkPgDnOiBSnS1hMRZjPjRg4EwJwKdytwIKLzu6FEzl+joJx5jgaivGxClCUFRj7kxDNCtmJmjzMIsCPjMRYDQQUQvj4xCpYR1g4GlDnmZlJn9nGLsglltksqnIPg4HNBHnGCbnkTkgBQ3wflOlWYVkuBV7tRChIb4BSZ-BPw8mJxXEKG2EjzLliBLmMLFyrn5INkEHkgDiwIACEOh2CkEK4gUDgQouIMBLCRctytYbFUcbCJ5iop4G5oAkFc5nkXZPZm4p4-ZEQu+eAkIslK4MC+FhFlcPBE8pFnQG5DFN81FtFEE0ZTFMgLFS+yCvFDQl57c-ca+0EVleYH8YZeCR8GF88-FjZQEOYwlA4VZBCqQAKzlZFH8zwoAMlclKwgUx+mafkQlkYj5IVN8iFhCPKYCzl5FhQ5w4UOS+lhlKBhAe4v4kBhSGisemCYVieyelBJ+ae1sw5WQ2V3AhApIBei8be3KOec0glFe9l1eyFhAqFWm6FNVPAuVtldBYlOeo0uCcVNe3VaFjwdVtVbIkBgVYAslkITVHerV3eEZsZdVLRpQGVi+KB4+eMu+4+pIQJq4e1rFohR1uBzoohp1Jlq4++1sxVaephHkU0zJ8sgmKyRRhWBmSW31wCVkzJiOnEbwvyXB0m5Z1xIuaq+wOpVuAZvK5Gvg2pHAv1T2WQrKdo5ZkwuCrWnQDpvgfisJnWLRzQ8upyuN8FggFpuIiGn1zJQBtYIB6BQ+kJoA+BH8UBuFvy-QjAzJjIqpW8vpfwmpzi5ZTEjYe1kmCBjIxmF1S+aBBRD1sQ4NZ4AuzifNQgWJ6NZ1aEXNUCjJgYMt8BZBceL11BFsBhmQlViiWgDA4BaNYcl6+g2tAtOp+tRQWmUcl+TB0hptpBfSfhkggRIRDA0R1kAAMs6ikTbWwGiRSiCdkcyU0csRzXlUWaqCUbwRCXQDtT0TOLUUNKnXneTYXX0QuKXYjW0f0dXTDWHaEZHTHeADMb0cXStKXc0Q3bcRdCIPoOvmscwRsZYb5jsarTEOCMyQcWdPCF7TEEPdIRKcDXCTPfdPCDTdTriF3enXQNhVnSdH7J7A8VeILUTG1QRFvS1LrdPEzf8ZcS5fPR7FkbATvezXvS5TTVpgoB6iDE7crbvZwlIfdEUbccfRoAPSsIVcdPjL3bidXo7N6CtJ0ecQA+-YCRPc6O7FfaXWgwCZ-bPogsA01DTZQL4CQO7nBQ3ZtZuFGe1dtHQxnmZMEJQ4QFZLZPZE5AhSFvzu9b3OQ8QL5IjW8NLJQGhs6flV7i+XBbgtmTI3Qcw7Q1Zuw3ZA5M5PmZpnw5SmSftkI94jwrqnwnIAIlAHAIgMgOgOIniFInvPbdPKBpdJWEdl7rIvIvbRYqSspKUDjlIM6OGcbPkp486ApA4tJNithgyjsk0i0nku0qStwI47md4cprYTSvKoaoLuyl4y0KeLXtSjCuk1KhCok8pP46LbyoUwipYtkwoj8PqnCkUw43QE46U7ktcitkE4qJXrk+0z9rxiU347kiplBvQJZtZrZs4p0+1bUwuMM2pguHzhM8U800k2U6RtU8E6APfOrFuPBmushlPKhpYk-bGKRoTqjfE5gy0Cs60zlhVvllM-JDkz8DdvY7lh1l9iNsc9cy04M1NPDhs1088wuAC00784qGU+xo8wtDM3AT3Ms+C8NVTkGbKYC+1Vve7nY8rLqsFuM5rd84kyc7EF5jE6-GhpLtLmogkys6sy0KQOZBCjZKo1w9SL4LbOQPvDbMCx0FoHozvLBhiyrBS0JAOLEnHAoFBuTDs8iJJYaCvHTS5tQBKzQFK7qtix-cK2GA+amqJR8ooN1eULzGqzKx2do1SLLebUCDMzy9PL6ijeqymTdRNY4wePQCspAzdc2SiugYvEczK0S6uBSwG7GLzs0665suMia65a6ZDvxswha2osZqUHGwxLXqI6MEHUk4flghBFq8JVBDEIo+qyo5w+o7aQI1y1vTUjmPyzkiS--GS6w4YNS04y6YFMrhS027mZbDNHJJjLGda4JsrAeEbqrl2y2461ePWxxTZhmzOJ2+JmEBOzTbC3MxZgszw0s2CxjUwKTZizWEO-FiFi5r1PEz83jX6N0we1oG7UFs5pSASzc36KZFi0exJn0UlvshO29eYLC6841hO2NKKxdj-WQ8NO8w84dqa2bgmLuaGJFZRMB2UusDtoDX06ohMOOf6LFVi4bqh3tp+2I7tIk-5Pm-JbhXh9rKojO-LbGIOze5R0tt9oR0uyRyuEhym3cox70jO7K7GIFNx9R6-OBaANq1hzGwhbk-+zgTbkx18y9pwGx1mJBfy9LVUlJiMrUIyM-jNInSRqCDhgwA4Bsr1GqabjB5DjrmZwXbQRnlhMZxpxqNwNOw51ppp1NlkNZ8cGRIJWlaxoYNyIwKyeig0wipS-rEh-+1qlh4oT1oyK8588AuFyJ0KpdmB1F4dtGbZ4M33bdIF80vwJKmF8Owtol+h0R5Oy9AFzrcF0V+CbVhBw1lc4qLJ7tsx5SxMDeWJwWxZ5xminV9plk1eApOCv15UzFFho4mcuvmU-Uwqpk-sm+cCOCnNxkzLFE4Rlm00PHYWX5xSrC6C-0yszzXqRepunAgTva6SlLbhd2HqPF-l7V+N40eXJetG2awIK58MhqEoct59jE19+57eNyHqO94FPR9PCjUS862G-IBG2CHd829KCZ6EMuz+5Jz8FC0d625I1RrcCDJx5xTvhD6MD3Li5owt1SxPYkyuz045+69uyd1SK-IyCT70zOMal++e0xBsuE00swuz3z4RonLWN+wfcJ7W6xrC6t409j-rLz5NwuMwjL1ior8cyuCTyr-Su3Ge4Sxrys2FONjkqu6kwUwarL6Vok2NArxtzO7e3qWk+b6rxt+rysCT2N079r3crrys7Pmx9wrIIY0uoImYyIpY5YDY+9STZxbfg3Zy+kqTej1s-j0ayiivr62QEj1D+ew3a1uWga+1OrF1jgQc5IJn9wNn-77Bikz-ayYX8azuyUtxjuDIFZPn3XytEX4jb6qX360UWlr5q3-Sd3zi-azIP3wZ1FkPxocRnNjiy63D+6+P7n5P+lkP5lkn-fIT9PCI8AhPzuFPeLDO9jrv7bIjR9Uf8r9nNQ-ps3yAgxMDZfwxKDVtk-0nGmytq-EUWTl-yu44F8D7WLgL83WK2K3rj17iAUDeZ2YeJR0QTu5ju4A2TIMCr7G9-+qFMOKjUQSAcpK42CTjGU3BYDueO8RsHuicygdcQwA+HoyDSKR9rgKfOAYryR5ksxSWMRgSLxszd9F4QvNDHlUKAH1to5FWfjzi4GNteBuArXMdlOSCDaB3DX+JQIZ4bcmBnQLPusBBhgCD6HAKOBkiMCKDwgmCTQWIG0Gnglgl7fASwTuAMDFBicJdiPFUFOYn2gzAwdoMYHhAAAPMCEuiGD6ExgrbvoSLbggAiDiZPnQC3SS5tESXJsEGVqBH5QAdJEysISjjMUdBOKUWHSWxxBo4hG+BIcWgMozxQevg0yPSxYYBCghmRRyIIFVzhD9skQvEtEMhSxCL6r0bIUkJcEND0hDQ+IeYkSG5CfBNNXKELzt6K9sBNpKXs0zKQOJsQ6gqBv50C7JDdkSg0HuJwkFe4dcLgk8pXjGHohsQqtSrAAPYryDQBNLE8sYQ25x5toawjfLMFSQ+CTKxhWYURF0EKksgvQkTixE7IGBHGceUgWlwoGw8QBZ-JYYWyKGbghhkKWyPYnKCsscUR+d7ilTI6xhGwhVD2COxnBwClOW5G+NV2cRENGBysD+MG2BIiCGIPA-yq8JU54DHG4wogPAKcZJ8beOKQYRtywo58oIqAysFSMmEICVwdSWYWwLPjmcWu2uTxBcLQgbD2RWwj1i9F2GoV9hfw+HjSIvZoQThOKM4akhFEERSg8EbaMYMTi+DtuWIgCpqkeF-g8hEwV4Y0KKADhPh6SCJD8PsGVhw2P1QEXSwZagimWEIkQFCN2SVt6ewCPlrOSirzkERFHReIyFgFrl0RE5TEbMJxGKC8RUCAkUUCIaiDSRK4NiAfUpESiq+OaXhMH1MbCILGYiDADIJ7zitJWIMaVg4GcaQ4m+0OMECrHBASYlW5Yl-uYCbHKtqA5MJVr-RWRVMZWDuWGnJiyAmtvEBUMsSqwrFB8gQ5SdMK1jmDY5YgcwVcJV2JYY4OQC4mIByGXGT5WsGEDcfgO3GziMcwSfccEkPHTBWsHiTINjivFsBnQK4mIK1m4iGAPU3UbHM+NfFbpFQD4v7mCHBCKMNxijWMD+Nay0JYCrAQwF1jAktQWAfCFYCBIxw0l9xsQfQI-lAC+A9Bx0TlnSS-EISD+NaZCQzDQkYSjooATljWnQkxA8Jf4uENwAaCoTuAJE8+py0hCUTQA1EiEMAEIkGBiJmEsiYFTYkcTwQAAUm4kMT0JfEzlsJMEk7iMc4kZCeJKYlYS48GE2SQfxooAgFJvE0iZyw0kSS1Jf41wWJO0nMTQA7gmIKpKPEH9XBmkuiQTBMnKSbJFkoSYdGMmMTJJoAY6M5IMkQhDotk+iQ5P4l+TvJVkv8VRW4n8TCg59GIFRViC350w+UXCu2PLGp8Cw3AwECuCVhzBaq44zsZOJRSnYxxzYicalJij4AWALaEwGIwykrAlYyIUibuNynAxscZOKNl7WSklTeEaYCKElKakskHe1Q6ceClaxwc083AUaT+M9a-iIQkAOgP6jIYLjZp80yyVNIvEY5oJsASABuI2mQBJpnrUCVQFgLOp9x0E51HtJuqtZEi5ARItxKumJE9RL0RKadw6l5S8mzAGFIwJqnTA6ppEgQWwhenkw0UhU3qcVNen9cyWX0hoD9PPqtSLwPAPqW9K+SnYBWCrAGflILDFsKhxcYJEUSvrjw1QAMXwOxRbRAx1gygOOJoElGrg0ZY8H+hwF7ECp-WOBSXMzjURHAigkvClNOCxD2jHRK2IojDwdGL8VsO+XLjngRm+o+RD1Gmf1xcEnMxZNM31OVMqmmAke0shGeDOJHnSig3w8gbzOFln9RxuFUgWIC+AsB1McolZPF3jCEB9Z-wsEN1IMYFS8xQicxqIkwAliRGFAUwI7VrAfAyoNwUgHRiVI39poOiPRD-z5J-BzkuCSmoqSjno1+yaQhgBkMPpFwkhkchKjHLoKZyeSasQLAoBuDgdkMWgNzHHCjgCiV4ygZQNogyBDsjA3AetMoD4l8I6S+gJuRbSDQeEg0R+KyA0Kbnay-Q4IbHNkNOxCC2x8QMhr7CLiNzVcSPFmdZi9gkSIg0EA+tkLaEQgGh5aIucYBLm9QlYC8yeT0GFbhA0h1gCKuPPvxHymAZAOWJLh3Y6575yeE2FbTzLvZwU98rvAkjvIMxbxhorIPfPCA-kycgC0AHpIlIF1l8n8oqv7mMilAvZ9aGcBVn9lZRA5dGJ+c+wMCDIUWVTT+Ukh-mWiAm7SXnJu3xaALbAZEDwpvLpKLywO-0OWNtE7bkKOhPneoanMV6Gc1S6rNKYszIWq4k5FoxUEGlTm0LcQ9C5fDeCYX8LzksQghbEHhCyQyIm0I+TlFBDY5JcOUyQHQtvmKiVIPeLGBgqeaiKIQe45zuCkYX8Knh7c6RZoqXk3zSAgkO8mU2yHWKq4yeAAOSpzJcbQzxU4rTndDUa987oqIt9lkBUa4BB+Z4injhzNw20CJYmIaAE0RA6Q4IOkIcg6RdigxdISDRjnQRSgxiuJSzVUkmj4l8MrRWIp0WUIVFhSsJWwhvClKQlESpPiTOrABcKZHPVNhJg8D85WGO7Q0gKkYYLQCaOCwNBfHn6kLpMHuE5krBaVkz2lM7FzN0rcCzy1cOZJqlwsGXW1Ws-uEWLbxiYbK4K5dcTEnzQL1J2W+8RZV6jcC9KgOurQUpaQGWHKByiInFor1o7TAOF+y-JCQrxaTLDlm5McUsuMDIM55cUCBqcrZbMALlXSq5fPLnm9LYRwuD2K8tOFFU9xuCLaKkhhX856ic8thGTmxW5EQVUubORnklmor1IJ4jFfIFhW4qpc1sclSqKKqzK2l1ATQMfwxVYxGVuyE5uUhZXky2VHS9-oSrQwWLVlhy0lXoqwjcrHEOUoFXStOxwjAxIlLBUQunjJkByqWDHDsq9HRNcM7SZMqR2VU9dweVmXbiWJQZMB8AD8EGAMAqDICqGiAshhQ2dJFVMCF8gVsIGQZ7Eyo9rCRvwNSSn8xGCKpPppHek0Ah2-pQgQ4A9ErRY4DAdNMIA4CkB9YOSXIIQFRr+qVgSHd0k8p64NAFKRFJSuxRIoGrlGLlETngIwQ6VxwS3GNR325QJqhASavRFGqGpKjKUGarisXCvL4UbySqxDncukaEA+OGIjRFhHTWo0GGhy7gJOv-kIrEV5EeEWOoTDHK0x5I5YYGDnUe5Q14tCoPvDLid5EBZicudHEcJ9JXEuSN3OeuBz9Yr8gQMEmVHHi1F25Pq+gBFzuW1Ey4KDUdQWtwr2EgQI9LYr5h-UidGwNc+llsktWyxIZekRevdBxCZKzia9JqNW2mCFRENkKFBihoUDF9YwWEFBk-j4kQbVS87N9TLDNjvduuKnS+SdGCAE9sSz63OtDRwrPTd6jIdWpDQBSS0KKn63goet3q-qKQ-6vwIyCA24htigmsDbzUSCkab6xDMSLxXg1NRMNU9VerLDQ0NAMN3QFehwBw14a-QUpOEkRtIkkatkApAOEasohQRUqFqr1fJuCCPqAUP60OZ9Rc24I7VN9V9YMWcDl1PNKDbzWcURr+byNgW74vrA+D0anNcpGLfurC2oh3ukUNgN6p81UpGQoxcIpERiJxEkirdckBlvGLZapicdAjeRpM3n1HEKWs4oqs3UuBwQGID1esns2M0dSY0SLQ+oFJMa4tPG14LhUq031fuGW5urHSYhDbo6sdRkEZtPjux+tqdMHjfHq0I5d1ZAq7LXhbRqtF2kSxGJtu6KUc3g62lEF2wbrTq9c3RG3PtuDjiMrMlc6CoBWu3n8QOq258QdoxmbbQ5OuHbdALmwoiOoKQF7WCDe2ICTtY8lUjZm+R-bLtR2p1XdtO1faPINQMQIJhWhO1AdAakYJ9to3WZuItOdVfduO2pIMdArVXAoH2xQ6D6cjWHXtzfz0AW0+ALUhdpRBI8cRZsUOXaIZ0Yz2dRHBqiLVljWx9tdOiWmDrW2Q7OdS7fchD1CUgESun2Tnfb3+1i7WFfoZnWdEDgYa2cySqyBLvAIn8adAu7qTkme0C79Az2y7UAz1is69ZJutPlbtVk2de2w1MkgDH6DkxHY6+LXUUul3g7DA-243RDsZ1sJldIDFCPRL4mG6tSNuG3cGsj0K76Ygekhg3DV2pLNddjSXb4HfF-a9denTiAjqHZBtGyCm0BjrDuJUAT6j1UMUTDkUNA-57usJfoBz2lzU9risXatMKCAC-aFG6QvvgoVAs29jBDvQhqjx3lYIzQE2MHqTFcC9Yg8NXekvSE16QC2OevdvFgwHwTA-AXHSOobok8sdwZdfXUoiSmzypFsoWfbJpr8r5lzCEHmwDN0s7EBYDe4hA3XzQM3ddRGuTezDVfJ44N7S-ZwgSUoTKwF8TCdT2BExwS2aje-FQCzikBmgZ+wVcf0lXDd6CvtPvQpvjGt49II+maE-Tj2CQp9-ACEDAfZWvxZ9Ke7XdwAINCrzwNUaAhy1+0vjKYjIAAJwnADdPESmCgYFEsG6D3UBTWPH+jyxuA+dLDkh1WEXr81ondyl2RcCYJkS0HN6Kwe6j6B3F7iqyGgFUOabWIy650B+MpjL4Pg-a6YNoe4O3EA0eiW4j0jYQuAKJ-mddSlXJCGHrsRekwyCO4A3ALl9hzemwCJrR9p433ejdfpV0N1sDuBv8YTW6jeHiD17P+kUvUWeGwju7SgyWJFWN7qghUE8GQHsRaYyGupKkK0EZAQrzllynpYemMDdk6AhUNoUcA3pMQBwz6DIwGi3TgKtMmg1ZFh3sMQga0HR+GUCs5pFKbY5R0AB0YIkIhBFsQNo40o92tBjg4h41SxAHCWqr8NqlqF6t6iTHZDnmgUo5oC0hbUtjAe1qsZE41H0jMoshmAvUhNHhMshwoG0fBCDHOjKDQQMsdEC3GOj1UaY9ZrYiaG5DXB1GjceeM9Gwl40IOnwmeMvHF1QUb4ygdgZF7S9V4J-fTHGO16J67+22J-unitAf9Bgf-R7D4lONB5hQOfeEpFgMEr8-elTS-m1S2Gqd320rkIEMCOQ9EKR-gNkYEC5GgQ+RqFYUeuXFGfDZR-gBUaqPkhERP2pEQwxIMTGiTSBkkygfJPzbx118p2siYjU3t0TyI0roQJAPYnSJuJpPgSdQJFL-DIDJniyfqnKFJALKARnqdqXJ7Ijqe9Q4FFaAmma1e5dqt-V-qN7wCBpkhtbAdMOB7eojNDKUuwOfwkjTtdxZgX0CrSAAOlgDc3wN2oCxmQMEDlij70J7k-smhGUOQpaj6AmpCGY91hm9iEZqadGdjPVkrVvMJMyvljK8ATwbCHoPZ24AAAvOGaAGjNFBcu5ZxMw4o1M9Bmz6ZvSJmfBDZnjANSVCLVB+20n6Tm4MM3GZWgJnKzxEsxQf3IDpCWA6Q5QOkLTyTB3FaYPAHmdr0zmyz857s4uemls5Vz65zcxvUHPVQgAA')">function evaluate_query(query, frame_stream) {
    const qfun = get(type(query), "evaluate_query");
    return qfun === undefined
        ? simple_query(query, frame_stream)
        : qfun(contents(query), frame_stream);
}

</pre></div></div></td></tr></table>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, defined in
      section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>, implement the abstract
      syntax of the
      
	<span style="color:teal">special forms.</span>
	<span style="color:blue">expressions.</span>
	
    </p></div>

    
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
    
      Simple queries
    </h2></div>

    
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      The
      
	<span style="color:teal">
	  <kbd>simple-query</kbd>
	</span>
	<span style="color:blue">
	  <kbd>simple_query</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      handles simple queries.  It takes as arguments a simple query (a pattern)
      together with a stream of frames, and it returns the stream formed by
      extending each frame by all data-base matches of the query.

      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
        (stream-flatmap
        (lambda (frame)
        (stream-append-delayed
        (find-assertions query-pattern frame)
        (delay (apply-rules query-pattern frame))))
        frame-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_4_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WQxFhxWkAoFPbI8qn8vJSziQmp69nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlg7bgGJQ2KBiFEeCMGKAAMygORMLk0RNoTOJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMhrdYbMoaHiIIlwKukiouoCYAEd8CwHBWq6BtVrbl36wSYaOjovO2nuwSN2PC8XS3PlJbt7XVzacLj06AsRXXR6mGkicZa4R6KBRCWZ4-xhkvysUgZAAIgAKiqJ8wJAzo1hvfMv0oSgy3wZk5w4JRQHQlZX2Sd9P1ofA3Ug-90j9IsS3LSsMNPaoZG-YhfxIph2XqchcBTQjiPdUj0jIgcmCHQhpGFQFRRoAShOkLp6m6cdRFoJgmyafDfRXAQAMPSjsNoqE5CI5jWKadiU3UjI+NASThwEUSgSMcTLMEQTrJkpo5LERTlLshyz3U2DAV6WS1kC4x4MGF5FIYYD0MwnTQAmGd8BYrzAlUugDJ4pSyK049qMws8GKYzKjOSEz9O4p9zP4pypJslL6kU0hXT0wrRD-Jg6js5IrkiUQgKoiQaNCcJIjihLRCSmFOq6hoCp-NrDJKwJ3IUpTcIaNKzOyijcsGzRdJqDKnyWtiOPPbsqscwdrNs1wAEgGo2ZrDoqz0sAembupGmQeoGjh9vixKWOmz7GjPLjFtgj6jBWzz1sBRrnvO+tlHGybXMaELkix0AcbC5EBCsMJSBjGQ2FuwIHKjPiyJA79kNQkD9yOemUO4Zmx2piyQJVSLSCZz6PF50ZSA54JxwYCNIjYZQQIAVUIMtCEoAB3GgHVGZ1kRVUBmKCECMdxkUWy2QnaGJmM4RwNKNadfN2oA+9pmY-wujS4NfTI22tepF26aQtmYLd6hP29T37UdH32tA4WoqD69+gQp2ODdFVCcIQMZAShhyEy1GgYphzfuz3On3ziaWKt-GaFTwQVUDDgS8ymRa-TwNC5Nmgt1b+vYN6avQB7jPG6Blu097lKfLoof26rxPwpnjgVQ4cN2GfJuy9AVe2GS9aHJyrOWBzvOt6dHe+7zcKmAADypWQN89QGK+Ubfd+NzYaF+5OZ8P4-N7R4Gp814X0vsiG+d8l64A4PhIC-BgIPw6ioCkL8z5v1cGlGeAFF7L1fr-Uuj9X7+WMA5TBNMrrOWEgIRUHhwH8HvkffBiCBDIKAefRUlwKTxmpFiEmUQx512HgA-hbcEhINICg4BVtQxgGrrQU+kYIAwHgEgVAaB5BoE0AnRE4UdiKVEFApgaNnQZzKGwUgHcP5tl2GwN0oxTHmKMAAH0cfuXRjB672N0KAZxrjrBuiQu8QgnjvEuOMu2PYnipEDx2FUQMwYhB9XoPY08MRXTt0np3Kxv16BmN0AAMjyQuW4OSHFkNIKk2JUT57a3bGvYJe9MkxJYHEnwiTgIlNloQNe8d+7VJoLQCQNjKBtUoFArpO96nv1bFucGmJzEgOidYQ85BAyEB3sMSZxDGnWFifEjgbTkmgBAss1Z6z+YXwHictZcDfCDP8VaXJXkHIzLoi8vSJSYRXkuUWFZ1zhgjwrps+ymS3kOFmbkq8oDLDWFUv6JqIhiDiDtoMIF6xLFNJaQk-qHSjmwv+QipFPselQujCHKo+K0yEvtgMoZDyHG4WebcM8oLPGfLnto5EeL4WUqPlHIRHynkgqZXRcF8yLl9KsQg4oiLeX5lRQ5DFeyDk4pAlKglsrBjEoHmqnlyLqC3NpfKoVOoZDMuFe8uZnzxUcpoDqmVerqT8stYKyxLLRVso5NI0AAAxSAAANAAsgAURCMwbg4hiBKRAtXYoQlyD5hAqAFW8aohHPEDY5hTM7QsFwPGXWUQrBtkIkpQtsZBDjAEEEL1URKTcFoEEEAgYU1ETQLWNgwBizmEjQAWhYIxEQbAJDAAAFa0G7bQcQGdgBWGLbQYAAA2RM2A7S+sDSG9YbBKBTHzUpD0JYyzyKjOmt0zCU6UAEBIe0JAlLlKYF6sIDBIpJqdHWndg9z2Xp1iwQeDED0qxiMJKYCZhLSGkGgElOxj3MKNeinZzSlXYrmbLGN11CDxs1da28UGWAcAfWveMtAYOtiZHIO5wyOCjJsGvZQLKPlfIldhs9F6iNbG-r+m4Jqzzuo9fCRZHBxIsehWkhDSSVXiRpBSJgZytUSvEzfbgzAfnUEE0UzjdE6NVJtVY98hN8y-nk4p2gKKBUMu2cJ1piGzHKDFkYECOn0PUH09fBTTAlOEBk1pnTHADO4eYLqR5pnLFtP44JQ5Th2W3i8z5-CKngvMFwIcnQEWEJRecwwLgoh2nOsC62OLoWcU5k07eXRk4krXpU4qizomkNHMUlOfgkaPO3mTnVsrkb7GNhy1sA5IFWsNaYCBfEcyCTJfCn169EmRhnMIyZ4wSRGVqYtRC0b3IIj0Em1JuBHXboLf86QEbHIB6KaavQST03tsutbKKg7vStM7Ck9wUgg1xvtZKZ1+bZmOxvcwwhSDhYTtVCm1t77l2xThMlNdyFfG93EDLKitFrZKtYuq1Zo5MOyxNaTiwB86PYv9RAujwbORckrZrr+pjEh4e7dNepy1CyJU7AKH1RicqTMfdg+Z5HWXUfHN4MzolP3woxoM65ozym2dbNdeaul9GtNH0DDN7L7PpnS5p0tsVpPQDKy4AwBXMgHTvcl4j8HDgDeC9W4+pq8v9d1p28a2QZvNfHZ13rs3oOaBnkd56vj2cZDyYscbzn+z+rydlm4YlJLiZcMZBSUmxMFgsMIRkyxr9LrRuqNIRN1Cjm4AzwIAWKQQilZnD9FhzCHHZ9T0Ydhkqj6l4r-UGht86GQOgSHWBGz49iIkWw+oyprC-WJvkwpOxfrl97IEDwUfRjcNj3ws8Q+QagyMGecfS-l-T4sDH3hHHZCL5s8v1wW418H8P0YQhE-xbp6hJnorCEjMZ3GKQfVYIzTXwD1sX619lCGi13sennmMQsOXA1Ih4IsKKYBUUgwyg9WDAg0XesBg0Se60aUPCMYIWhEmWAEm+s+O+iBuGLCkB+Y1mZ+oM+BhChsVMc+GBdgns3MueN++e2e8oNeD+gYT+L+tIZM1BimtBABt4+AikS8Tk189eH+QmYIHiW4Q+-BCEHspo7AA0sUlYOEawaUciZEHsShygc4SWUyWwGhFkVklCoAcoewSodAd+OiIhHA6EoyYhKUaUc4AE0hFIRCwKHOvuc4ugHgIE4eFhc4UiT+oAAAKgABJBocAACC4A4AQaAASiEZAAAPIAByyAZE8oXQJKuAGw6BRBgwhGOBPeaCRuWwgh0wacN89eXCl+xgHg8hVR18PgBRIcNRM+dRRgIQ8hM4bUrRH4muPR9gXARY4BbR4hoRER0RsRCRSRaR4AgxT0TRLRoxUBbROBEx8hr+ihTRth1E9hGxss-R46tIEeA8QkQg-RRRnCM+JREx2xaIGIJGYs5e+A1MmQp+MYaYZYIBIxfMKKrxMsw0vIFgdx6+9QuRvCfxYxH47RoJrCLEICwRDAdg0wtYRAeaZEAADNkQPMJCrPxqiVwHzuQCzi6OQLIIXESeiaqABCieMG3hiaMKAAANSgDyCUGZL0lomUBMkMCa7Jz4kjx-zjB4InzcnEnhqklRwUkTG-R+FE6-QSlM7Sn2wUkHRinHRQ6yb8BrzCmMLWAqidiokUybREkqlkn6oUkARCnKkkmWnUgUmuxwQSq5DTAqwzhw7+71RlFCa+7enMweCClMAEkIJ+7ObVjmn2kyk2TMz94EHXD+6BnDTXBukcAemiBw5bj+76ifRpkZlw5ng5mdGBBF7OaGw4w+TMDumenGnjCyHhQiCFANgUZBKh6AwimILIEulab5m1mlGlRnQ7D+kwg+mDkpjF4OAILKCIljkNBVlJSGyyTyRwwH4YJYLjzDw4KoJ+53FLlNAkKXTGEjiH4eC56rSn5jh9mZnCL1wApJQtwnQpC9B3SwxrTMwKoD7fTJQH4eDXlZm3CznOK6zVnpm1lFnrgzQhDnmKT7kwzBT6Ee6gUFnhncANlgLN5FDsS4aUA-JPiamPzjR3GOFkqDybmBgbkCINzbl1LTkInuHbBnSYIACERhNUN0c5DkRA7Eg0aBfCi8QiM8oil5jQRF9FHQoAwUK5JaQ51gvu40o5egpBdoYEqlioGC5FlFbcwhK8O5YlFBioJCmlrF1UqGJ5TQ-YaGuAvFc+BFHUIlKQAlo8QliQd0bl5+qCJZ4stCggdl5ce5UlHkMlKYTZdC1gymYldFF++goAKlal9QDk1+FaBsgVq0nFmSPl9CnZ-l4lCFvGEq3F1l2+cemE3AAM3ZzYKeqCaeDByV2eSVmeNek5P0pVOgleqCNew5de3ATgklje44mFQg2F3AuFRm+FPVXo5VnlnVcl3VKw2emVreI1eFopZVXomESesVYAqlYEM1CZkQPVw+WS30ZVJZllPFxV8+dEh14JXUC+Ogt1dkhVNlO+0hTgj1pBxg0hD1DldkF+NeDV+eVhNShJopp2QOwwExSOwe1WZ2cCss3JmO4U74iKghKK3JExLKGN5uNAEp-izGGNyegeHYXGdE2NZ1gESSxyogHpEgOyKJA2JZIQbqZNJp2pcufOg0OG3JdZiC+BxRoA5BnlJFH4voiKrA1I3JdJupO8+pmUhpQSGNhsaUz1NBWBZEHMqtfFMg-NNxoJv16C1AqNYuQS4t-ooNwMBtxgQtkiiFjkF1vB6t9BeeBeyQZh9gTVRiIwHAiBvNFOMgZtktJpH1yQbBHB1IDxMgqtjt8yQRGwkxkR8RcsAAMkGhkX-vYLiRKpCegdydcSCXiPRUTeUUIU0XCYQBTY0SIT4HneXUzUGE9L0RbYRjjQ3VbsMbXRMeEYnSnWnYsU1MsUILXRscXf0rSJKXQjIGLFsVwbsXYQlocVbbZtyScaiDBCHcYDPQKAqQjaiavXkDBOhQWJzc3eXcRQ0pYg8SvE8diGLFLc8KfkzlzRbbzV6HrYXYQhvefnkVEKfQLRflImGH0nIuGAolAHAIgMgOgOovIForeIYolJJocvwBMHbhznogYl7R4h8huB4MTqLI0PGeMs+Dg40B4KzKhAavcveSQ2RiMmMnUh8jOYQKgxuPGVytKlSsZparg+OONG3qLXCpwxquLjVig15RYV1Z2cIw6p4rwwg21Halw6I6juI2w1YlcmcnI2Q3w7+Jo8DmIywxI+w9QLpoME5i5m5to32Lo21PZnpm1CLlYzimo4Q1YthtY-1cnNXPROwCejhnhjvARp4l-UCIxvjZTkw0vUYK4w0PGS9iQzwzowo74KVv1qmPVhNuDZtsMIrrksw6w24zsLjqQzYykyU4Y4U3E1YgJqU-1Sk7U5U8Yxo9GazkkzY0-X7l7c+MLmlqLtw-k+OEY6E64MFpRgAoRvLnk+YgU5BdU6MFLIcvLIrMrGrHQBIMMCwNfC8LY9OCMPrEfX6JzSyIXVM7dGVKPjnGwOhp8D47iIpecPvCfQpuQNcxQLc30ic8oGcxjG+YxSmDsG2iNQOCvJ8-cxTEYJtK5rQQBAo3sz030v7fcyM40ItSgxENQFo9E64DGoExsKMIRsi9i8YFMyi0CMLiwxi38sBOCwxR4YHuJkIjHRI-UQjlvgAgI1SMBMyxzCEMeQIL89JT6Qs3WF80cgrErKrGSK6RIHwDs0-fHMYL0PlVpmM1AhM6hbQLM-VA5NrlM5q15e7QqNU79HC0g0OJbi7ga7Myi2qzQ4Rs7vq-JgSLM4cyk-Y+Y443084006PVYowA+WayMAHaY95mlr5nMEw0M6gyyzQt0yG0UNFm0VG7E-M-G6lgphltzjM9G26-wwkx1tq+tBc9YA9k9qk5k69sNg8wlZkvyxWUKyW-sv9htlo99hCykA5EGz02tgDnDRst9ooOIw20FXOWlBa+tiUjQwBMzN2ziL262wY2Yi68O4qE24y6PBOwDmYjQzWweZkluzSDuwAnBbjEK-DJ2xlfm2k+Vgfs7tk+doO6u0FK4Mq9bKRUQFctIABL-lkXAwhHa5+z8qsnMMQ4br6VYh2GBxTSwX3imZEEB0ZiBwIMoIB10sB5Qmrg4NB7CNDJJSq7eLQIxNSLydyvaj7NMxTE2wW3RmO6RW9gBAk4u7k5EoZWZmW89je1W8uyy6YRnca00CEAUJPUR+baRzIxR-O5aw+0u-tlNL9aJyRz6BJ-mIRi1lx8+MS7W5O4Djk-ttth6q++ew8J+QI6dhSuR207kmLOQ-1Bw+qg6lQ8MqymLPGUoyI0EnU0CLZ0ku545zSvci51BfxxWd7hKuU+xi40YyLZ+BE1guThE6x4baLYhIxApIx8RxRspw55JxEwxSreh0h5QhoZTU1JRoh78nMK1AdpVa2HOxEyi2i5SxGNS-RPNFq45F+w2K68DTQA053Mg9FxfcRtjtMBu4CjZnO3Jt6ybSE0veI3m3oxh2276ygaRQArC-G-o-8k6oM8+ySxh054o6PNtydnQyE0-ElLM5yZYie2F1pik35z7IN6gylFckdzQ3ZSpy6AF851E-UHO09-bLtzm+I7dau3JNXgPO62SkIzl1Z+Irm294d798d4CvZ7qlHKj3NwD+m7DxZ8o46qPCm8M4qBDzgEAzaiAxGFGOA8olA2olmP+zovTQ+e-n69s2Ugzb13eKN6CzaqXqggRsoA10j8N91vjkC7yUUNXINgfni8L++hetd4dgzjCpGMCzL2C1DXBpijDTS7LFLyC7L63bi7ykEwSziBMXlglrgMoOFqr1pjGol7gNb0BCFrb8oHobdreBSxMFS1o6736zbziMoIVvd81nz+Nw+e+Fy271TdHwNsoLH3Aq3TsIn4fBXDr0HgcgAgjZ3DQ0jciIn5y1tgApjaruX26yQN+Gwd5s15i1tuI360WUY5roe7gs3+L13IBW347-AzX7hdMG6JTq-EW64Hbb9GP7m1bGlLet5mwI9oNOiy12cjaXsFnVpt4zuajx1xM3Kd9Lv+XElDdjkagkd4S8LUpXNrV1sFuAZT7whK-PaziFfxP7fx7nRA-8zxhRAiv43wOzoZ78ZwHXN0IWGmBd87a4wDOOUlIy0pGwZCaAYGFgHjQ9wFleDtwQfC4Ij+T8F1oPHAH18qm1TJAbAN366AAAPF+H4DIC+EqA3jnxxFaRAQIIRJCLz0ICXp5cbxOBHIkIgklpAIQRNGyQU7uIM4PFOAfckbBskicggvqofkkKiDrKmfNcLywliLNmBrA3IirD9C64uBuTdKHwMrRHJWSsg5fPIKbSKCyBxg6QcYOEE5wFBlOOgYcwobcAPu-KOhkWx7ID8Jg+yJCMyEgEQkJUincQcMmAEKQO2yQUzl9iAH0C3a0bHwQ6CnqfUGstfO8v-1a4LcRKIQVHpdC3BkDfqHgLcHQN+pZDiOWHYIWEI1KODT2OMVwGVBQaXR5+HHQgQH1T5zlXAjA8obLAVj+IBw6zWlAILpZKtjOgIcdtVTIgd8dy+3RoA5CCHP9d+r-YBGSxSDP8NWADRUDjErIZUWG8QvwX3wI4IR3uqPT7qjxyr+DQo4XbYfTF2GvcL25+QIaUJwF0C2hEHcUBEjyEzQaElw3wYkOXzJDcKqQhvukKMYxCuifQ+5DkOKTRDLyHgRGIUJAHlwQRY4IIeDGiGVCQBT5GGCYMCB1CWGDQ1JE0LSFnJwhgQDoScPFaEAehAYbIV+mW5wIDm1Q4YSpFIqp5xhC7Tvn3zEiZJZh5-eYZ-SXorCgYl-YBIMPgqvs7aKDHYX7j2EU8ZEwDQ9IoggYqJoGGAH-kJheZvNyAHzAXvc3dz+t4MVWGlqyCOTqibmjNTXCaPeaVFF+4wM5M9x1FdYe+i2BwOCykRpQLRmo6YLIgAgHIHgPWRcETi+qxAgQuZUZvjktABiV81QYMeCR6w9QIx8HaMb6PxxtJ4xbSRMSkB6yvD7AROLMaIEaAhjjAPWM2OGkkBE5ixagfMTGPxyMCIxjAwEAWKMA9YeEv9d0LQEGzNiuAboORPUAbGldQILJeMcYBkDf5QAEgEENkG2ZslL0oAXsT1m7SDjUgI4scRkAnGgBu0o4owLOPxzQRlAyQYccoGXHPBtmYEDcTOKrFU1gAC4lMEuPHGgBtmYAacVuKpoABSK8fuNHG3jtmz408U+OAggQaYg498YeNXFkIxx54v8SZUAk3iVxd40ACZQ-HgTQI5At8dBKPGgBKBRgMCUmKprkD0gC4oCZ+PQlkQEJ2Ev8ZkBQkHjCJ2QTCb+NAiZA8Ju41wARJgnbN6JNExCSBGYpXjYJrgZ4EYGYrGB38DwWCG6Kuamj+e6YC-hkEVAkZFwXoMSZaIkmqcRJpFd0VqMkmUA3Qw6NMPtmkn1ASMuIGCbGIUkeiicLKWlhvTUmejgGsELAKJNebiSuUJXA5D1n5ZE5+WvYz6oWPxyQBCAcaJ7AGN8n+SsJXkhoE2IpC-1YAkACMR2KimeTQp4U8pBwCDTxiOxQaeKV5J6ypEWAqRK8dlNSKIiZoKklLlZLM7kozu8AvSSkAMkwT7+oiUqU5OKmhwTJnwDhhMyqnJAapzwcyVNFCAtSeSgjXJrZMuTPN+pSklFLiG+a659eExJ+jpQEhjAJAd5YdB8ELDEAc4j2H4XZFKmvNw0enO0UQAynJB5cM0iShP32FjYWwLgwkVtgmJNd-eq-LbDZmE6+VSpMaHAQbQan48KpEgo6a4Bel74xpMaTSdpLIAddPpY0tqYKL+nGBGhi-ctjdMhqujSK8-dgppP0yAi1+ZERqJQ0RnARbJlPdMNTzAZKJIGqiTAKqNJTDAnQZAH2if3thYgGAcOBBNn1sA2I7ELKFmXM1iEs09IXM3QFII4AyCzBYgzmQwmKjczSyqmWQGeC5ma420WIVJnhhGC6g7BCuWacQGIBvE7ASDOQN801m3i5EbJGQH2mIBp5E0vhRNAINljGDTZMMhoCBCJxmDT+A8FzJSEiYiDAwU0hXN7IjbuzCQd0O2mYKsGgRjBCsnDIpGVlzASMJ0t2U9m9lrgrB2gFKo-3ChxzBo8YOkPLlZkRJs59VeUK7SlmQZ+o2c0AAUneipBcxZQ7OboGAosoa5cE7mOHgpq74TZuuEEE3MLmygqZjAPtE1Hqz0AXQjMuHHnME4AslkrTCAu3LLl5IK52I2pBMl6aWNZuNc5wNDF8Khy2S6cyoKMDpBbh9Wq8mwXhyMHCy6GFGBhovMRZOMV57cgWViIdlGCt5pgctpnNblngD5t80ciyTnnGAYITMaGJcGfmU46YQEInPLnkkbAX5u8yWeLFHzfRR53c9OaBDjGod+o+89uRqRrkQL3ZO8hgOTHejxNPZbc9uPVQADkMg+XFYPIUEKUQ9cMQdnPNFAK6ZowSnIgRzmSgd47MyIFuDYVLD6gPWf0Pnllh1hpBysfmEcVWLiKjkiNT5O9CnxALW5vC3WHRCUXbzM59dJBTwqShwFREZ4VRUwrYU88VpCUIjhtKagcsFMJYUXKhWz4WlnuSZfqgIsnnUAicS8wzCin9wjMSMxitaWYpoa+YrFRYBOTYpgVjhxQdSBxd3J6zh58QZ8yjMQxCVNVyyEfBCPgQGSbNr4ASyNEWBsUpQm2diuVDmR9LjtEW2QjWg1DiUXyEWNqMNsvI8XOYnyokwJYpEuK64SuJGNJRsyqCZLLF2Sjrk6waWDCHI70uhmnjjHZ5fo0hCMH0paJtLRELKXpaLlmXqzQloIkZbSjTwpiJl0ypZa0oVw151l4IshCBB8WmLyAj2QvhMu+iHLhkIzA5KcvWnnLzFQMLJdYvQV65iyqyiwlP1KXuC+pzS5ZTVyGGjsm2CSopRewcjRKnZlSqjBMhzIjs0qEKjKskrFEXTkQT2PgLku77HVEyDS7PNmTxVwcOh7ZZZpKzWbXzrCusWVkwHpH98Us1ALloRm9LYq4FuKtCtniLKErC8qg0ViSolarM+uM3SlSn1ya0q0VBYSRS6GfwpxpgOoEQLIGZV20MVz4b0scqIIpySUcq6EmsWpCJdFVH-aWQm0ZUhKeevMcqbnGDbtlp+RASkUIGzgcAy0AgcYAwApgDxaw3ASnPqpSBNt-Sgy54ZC1IqkIyKVFHSp3wjK5VORliUhGxTMpUIPhjkW1cKQdWCLnVqFO4gfhCDurKcTlQFEJRFFnsQVslfaiEv9VstP430LNa3JzLJ8HQlOTlWhQxEFrEVH5ZFdwGqEIUDVla-3Dz27bMK4COtbRfODmF6gYuvoCcIZM0IbBTU1KgdSwtEQgRe1iBRVhB3HVEAjy7FShNniMzWjpgvtRAiUQUL4K4Oq602gyu4GzqdFB6h4ocx2BNFm4Q+P1m4jVmtyZCISWvNwtuAyEee9AOsLKslVWlHSIhE2f+orp5Ki1d6-Cv0T3Z4RSKzhMiHPX2IJYoNp7NKFrMlg3J+ih6jqZ9C3pmgTwRyY4g8WXXdQfQA0CRf8WoD712AcvQEL9H6I-5bxaG5gP8kw3XqGKfzdaG+wHg-rmAFtHSmXUJprcSp79ACCjQmizclaawJthBtWrv1oNqUWDZWAAgIbBoBxOTShtIpMabkEpB4thpmi4bFC+GkCCvSI35qw4ZG6RXvSI2WTvo3JBjTBK03-IdN1oBFauVRWUytVEpOsNqrlRQbH11gHmn5uzyebUSwGijRXRrxar+iYWmEq3Si0gaYtOqimDxr-Xhb+NQG5DWoVIrDJLiIGkrt3WmJxFEiKRdIobAK0xEitcxdItgXgUgb7NzwHLT5sKIMVEqyEDVZcgEBD1QtgmtYClr43LwBNJpZWtltEBdbxg+WqYknVToLE1gBWqbWnRq3XA7NKYW8Y1rzotbMkIENraatLbwzBo74YdJ82dbsKHAx29vguwO2JwDWfrAlbbidyuYmol2xEEyuczgd6WWwetS7LV4L8l+wgKwIdoF7Hb-NuwSUGdrpVC4F2ZsAHWQGu3YrbtX2rTM7ih2JwXttuFvnRDB2pzkQwkQMJJiEC+0gdcOwCq9tbouZCYLOFVSTpu3E67t4O5EPLjYAsdCdSqjHSTp54HbKARpJ7WDKvUjqWVu237dzrlRC60B3c4daiBrwc6jSzuEXQm2h1yclhi6wdVJ3WxC65dKO+4MfKaDi6hQICczcckEDSCldLConFLorqb9bwUOznUEmR3PbedqIbPk0Nt3pgfg-2jXcwT2CdVVQ7wT4JqC2lNBjd-aw9s7uAgh68BOu6UK5T3G3ird0uh7X9toDy7CMYezXYfgj3kwL4+ukRbLED0SAyx-263cNIlQ46kGpLBEoevuLj0eQzxP6mMI+Ja7jAVc3PTIBL0qy+1lOM5nwoRj1xw6h6hYefHXAN6jAMInvRsE4IChCE70B6CEHlBR7Ag6ezPaRpAhiKjd3TdvUTlb2VxKZN8NMD6Ep1oU-Wc7MnaqX326LUkaMsAY40xmp8jFq0s5RcqERpdRA9uoUH6yvrV7b6teteCuLFg76tZwbM1XCgtXPgn9JRLvUxImAvxxx83SWKK0gPkiyV5a30NnBCAPK-FACQ+oVJH2P4x9EdLgpPs+gz69goTBfVbH11oGnlhfHPWvqXXKAKDD+guNkVQJbME9JYy9GRAACcXQAeOWMkB963tW8CVLweezj140diegMoFA23D-mMgKufQHk1GdC1KYGgGQixLEjXAwhmQKQtIWyw0Aeh4jctEZGNBNDuQ2OszGEOHql48Yc0EjHkOSG1x7JfNRsLWAWGr6YhyIB1yxCZLhDhzGcLTVZ7Phfkv6l-dKD9bp6yDS+vw5IACOr7EG3tWg36BprRHKgDNIvVpkWVFh29shwgGHFRijB-ERmJ7KaVIoTgAInSjJa8pyUPpFI2RsOFYI6CH1DYZUIDAUfjSXp4JvWG-MMBghzlNDIEbtAMf+V9LBag6l4HUbXEDGg4984wJoe3l7rYQTauGDjDKiYbpVtiLgJ1rmATgFDJLTrXxu83Rb4taWxLtsfzXNH8j-wp7I3NphGZoB5yUtX0YGNPHyI4Wv0JsY0hPGnjUxjjRsKMOBBHjnx9cYgXWCYFdJgJyY-mtcNcFmYV9GvV1BZEfFD8cx5XUvUAPDBgDOtMAymHgNB9ngMbRrjQeV0Th8Qo+5-HgYFDygrUoXcVVvAXb+haAKsOxCqDDjFGUupRsiOUe6WVHrij6QIzkZ9D1HGjWWlLhMO-1kRsyhJlhZiboCknx9ZoSk0tCLgGLldaJigEg2JO0nLW0-LOFAZgkxtv1u0hknusHUEEC6IR8mG-qr031mQioBE9MdDrj0AZXwUoBcSa1tFdaZp+iuAYNC3i5ptdD01wjuKeTSDnqDI9YF9qkKiCMgUKUYAAA6WAQLbwBbzSrcAdYOkLPtHGUTRyXUHQ0chaND944YZrI5GckXRmYz8ZxM82UqCUAV4aZ0vNcHwCoxRE84X6I2dAAAAvXqaAHjOBAnTKZus-AfnCdnszn0XM6qguOKR44H0PAHSY-CMnIgkZpM0UH7N4KgJqCqmiwGkFuhpBxAaQfnhhCkLYIdoIsxGb7M1nUzq5pceub-GbnZY25w3nucPpjmg4QAA')">function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
        frame => 
            stream_append_delayed(find_assertions(query_pattern, frame),
                                  () => apply_rules(query_pattern, frame)),
        frame_stream);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p9' class='permalink'></a><p>
      For each frame in the input stream, we use
      
	<span style="color:teal">
	  <kbd>find-assertions</kbd>
	</span>
	<span style="color:blue">
	  <kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>) to match the pattern
      against all assertions in the data base, producing a stream of extended
      frames, and we use
      
	<span style="color:teal">
	  <kbd>apply-rules</kbd>
	</span>
	<span style="color:blue">
	  <kbd>apply_rules</kbd>
	</span>
      
      (section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) to apply
      all possible rules, producing another stream of extended frames.
      These two streams are combined (using
      
	<span style="color:teal">
	  <kbd>stream\?append\?delayed</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>stream_append_delayed</kbd>,
	</span>
      
      section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to make a stream of all
      the ways that the given pattern can be satisfied consistent with the
      original frame (see exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>).
      The streams for the individual input frames are combined using
      
	<span style="color:teal">
	  <kbd>stream-flatmap</kbd>
	</span>
	<span style="color:blue">
	  <kbd>stream_flatmap</kbd>
	</span>
      
      (section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>) to form one large stream
      of all the ways that any of the frames in the original input stream can be
      extended to produce a match with the given pattern.
      
    </p></div>

    
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
    
      Compound queries
    </h2></div>

    
    <div class='permalink'>
<a name='p10' class='permalink'></a><p>
      
      <kbd>And</kbd> queries are handled as illustrated in
      
	<span style="color:teal">
	  figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>
	</span>
	<span style="color:blue">
	  figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>
	</span>
      
      by the
      <kbd>conjoin</kbd>
      
	<span style="color:teal">procedure. <kbd>Conjoin</kbd></span>
        <span style="color:blue">function, which</span>
      
      takes as inputs the conjuncts and the frame stream and returns the stream
      of extended frames.  First, <kbd>conjoin</kbd> processes
      the stream of frames to find the stream of all possible frame extensions
      that satisfy the first query in the conjunction.  Then, using this as the
      new frame stream, it recursively applies
      <kbd>conjoin</kbd> to the rest of the queries.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (conjoin conjuncts frame-stream)
        (if (empty-conjunction? conjuncts)
        frame-stream
        (conjoin (rest-conjuncts conjuncts)
              (qeval (first-conjunct conjuncts)
              frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_5_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function conjoin(conjuncts, frame_stream) {
    return is_empty_conjunction(conjuncts)
        ? frame_stream
        : conjoin(rest_conjuncts(conjuncts),
                  evaluate_query(first_conjunct(conjuncts),
	                frame_stream));
}
</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p11' class='permalink'></a><p>
      The expression
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'and 'qeval conjoin)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_6_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8lIGGIBRNFxN4ACtLlRfRiAAD0IMIqLieNAwa9JMm6vqwjC2rOo8qpSA+Bh2s6ib+qEoaEkDOZVqms4ZpRDzAkW5aUUMHb1sCm9erW6a6vMBqmpahhuMMDqDvoc7BsC0aMiya7dvOO6XHmxaXre0xPqgwLtv+tNAdm8wjpnMHOrO2GvuGlwrsmuH9oLUAajEKhagYdoyF8SHyWh-pBlh26EZcQhAm47ktEpuNNpcGGcfp96XHIUgxAUOhKDRnGMc5v9zumvHOPa-Bqn0E7TEMbg5HIBRiAYD5Ag1i7Mc81JHsoVr6HBrrldFqYZlAdXNe1yhdYUFdmnlxWkaWs3UaVr3TusfCCOIXDidJ2tSApkGZ0tn26HNsIUIIu2tZ1-pBNx6RbYZwxbfkJQoDgRBkHQPE0DxC4+ZaYO2Y+BRKG4Yg6ErITvtSYw2BkRqq+qMQjEoWvrfkmIa6kZ1mlGjXiF7-vlIU-AMSxbXfAUFh8AXXDJ8MJeV4XfAO7oCep8of2WkbgeVMNz33mYEXnpMNgBcyuhD7PopSiDn5jSEZG74frrh-r0+ykx6pGrKQag4pb7KHvqVD6w8X4lErj8UB4C-iQOgY-Q+ACm5AIvhaagYg6CaxFs-GeiCFx4IIUQsE-8T7YNHhfN43FUQ-GukdQwzgSHOjfqeS+TDnAsL6mwjhNCG50MVMAhg99l7CHIJwxUpR4payBluDWLAZEMHXBQTWWgFrPwDnpBoUi1HkAYCvYQFM4H6IMYUUR8DYgSOMGTRwG8+5H1Ie-BcjjazOKMG0bxyhk7MC0FQs6ljaF2JiBI9gHgvByJWNwn40TlCxJEYA+hDURJxMHh4hgmTUliJWBIjQhAQSs2Ea4iJ+lBCEBKRTDxHQ2ZA0aoI4gbhyn9ywf7Yy0xtwzl3gwdeZ0BZiFCRUzplTTKkHMpg0ANk7IOWctSXwItyA9U8i4epxNfLpyBtU2p+hkTcGGQNV8A4GpM2oAoagNBKxKIZgchwkxBoxECsUtguILlXJuXcvmDy6BHMFrtHMz5-hnNSLkZq+BygMGUciJ5UEYjvlaRkIqmzGkM1MfgcxfyunWIaL1LQIhGqNwPPQKh+hul6SaZoieOizpwqsXiwoxzGVMrzBi0RpLCENzBHCx8sQW65MxgMhiowaRsDcauUoIkRVni1m8QlYIjoosqfYoM6pQzLAoi+Q0Zlgh-KsrZeyTlgYM3ZL4Eg6y9nvOqlqvassPK9IYP0wZO1OnPMCg5BgxzzpyVKGNNgclmhYTRZPSO3rBbnU6ayxUTqXUMTOh7H1sNxky12Tkxh1z+ELlYa09hsDXHuqhgbBqjtazdSrpPRhzSmYaOZno8JqqElnmJjHYQNbSCX1GR08JxlTKVrbR271EqG22LTWanJXiG4BMPqrcJg0wWNWaibbWfjp0uNrhMZ5AqDZjg1P5EFnlhT6AavfRaHxibkuHluhF0xAqhoOQec9QSmo8tnf7Md5JtXRhXI2cNw9ZW1kZN0h9-6X1XtcfHT9KxF0yvXo+haM4APr3hd0wKYHa6AeIExQo37t3CQNpOtdPjKU7ufZenl3aracGg9qL99rGwOAoRqRkTxAQAD4Ca-RqrsuNHcmNtIIbUfQ+9NYnKpiW1IAaRMTyWPErjmQXY8A3PoAT7ChPCG4Hxhgan8Ean0DeUTrTJgIjIqAe1uzDDckYFC7+UDf7OCo+tRdU6fFwPWq8egVJr2MlcwEh2FGRZOZwzuyWD1l24j8xuq23T-W-W6WsGpDdBhWaEM6-gaCHNeYQ+R4Jb7r0XlI9MVLNmMsVHszA94AlbjJ2IzOoreKPYXry0F99JmD2Rh1XeyTXbr52fQX-CppGFKghjhem+5WBtlU3svVez9VVqoasgiBk2stPzgQ1kbO5luoNW5Vxes3-wVIW6sBTbB-IWYnTwpJKTC3zqgo2MxvhGQ3cxdiuBTFGzdj1L56z6X+trbOk9oCsRGP70ExqbOQJtO6Y07ebkeoQcvMIwOp7MaVgEuS8SysXLyXfbnbDyHqbLsVxyXku7tiJYJkUUKzmWGKVoQfTK3NbSC0dIaxj0+Oyrs-GYxB2uRbySNnXoyB9fOeX07CbRmIzGDvb3p+Lm+M3t4NvXp0pigV17jtJzwnbHBMuVZmZTqCsvler3p3rrWe3H5y7m5YlcD7LcG5t-BqXp8Y2fp1DEB15gM1eb687wbAv7vklN1vc38HP4TZ-vts3R32cY4HVHgH+3XdjPCR70+Ms8BA2znIRQEAYDwCQKgUuaBiTl3xg1NuHc0Xd2flTkaUneDLzIA30AAAfDvxlq+O3r3AmIXee+pBXqvfo62Kmd+736H640Psk6r6kZgYgJDtt6TMygfR7hiH1mF1IWEB8ADJD+9Bpg38S7It-L+14vtIB8B-Fr39v1fkjRs0PBEZ218MK5x+dXve-k+j+CY20REx2N+nEDUiu1CgBywgqy+L+6+7+UBX+Pu-MEOVCtu8eR8VE1MIwN4IBSY82-I3++MUBkuMBoWwBZ+N4oB-cxBleEB4K-uX8ge7S2Br4cB5AK+JMiBd24IyerB9AKBuyAh1uMUceDeHBBsBBdoMhWBJmuMIhzB0eFWLuoqD+sB0h1BhBtBR89BuyS2AsKC+uYhbBzcPW8BPBb+fBTuphQhihZqthMeNuEhGhlBW02hshnh8h7We0uyThqhMUae-cOBWheBOhhB7m6ceAAAYpAAABoACyAAos0IECUuQAErMk0sGNUFmkIaAI5NcqoLMkYjIrJHgOQDIDopfikIbDSKCtnOoCIBwMII0BnKoJQJQP1I0CAGIMUbSGgBCsAO4IkAEgALSZEDBNS+DABtSGDjGGD3x0BiDAApANGGDAAABsOg2AsRCRKRaRTU+Atyl+-wN2OcBeZRJiT2BAziZxGcmiWkhRFA-UZxoAtxXk5AHxXIXghRfQNQtypABMxAtQtQaAqBF81xkhmhT+lha+1hwe4IOR6o+RdAwhZq1xGiD82iZATmoRksNw2Iv+-SRm3AchRBvM+MWJT2MJ7hokNWpivxQw3hBmkRx29BkJGSmMdJyOcJXBCBiJdcsyMqzWr6IsGJFczOLSrOE+IRUhksFJ7m4B9UTBIgaJAiTMeaZhBJCYpaApVhO4NCDW-B9AfC9AmpQi9hVJcsZpQ6WpKWFBfJCYTqgQMgMyeIDhFc1arCXavJG0LpoIQq7pNCpINpHkPpgiw60B8psJgZi0bpMyOg3OFc1edW0W5h-J3BCJRpfBUWkp+MNOUW76upgY6+4I+Z3ABW4Z5gUWAWLWoskhsQcZHh4RdoypfhZqYGgWMZVspZXMZ+1ZnZUprSSG4GlGJZCpCYuhAMXJRsEWq6TiM6BW-ZF80mQ5JBjBki6wY5PZk5LZyQze40M5nJBhI+zJbh9JF88Jr+uZSJN2BZnENON2-pgU5ZD5VZFSNZLgr2tJl5zprZgwuhp5ZqkBNSpSGC-5nB2Zt5vZVkby1AZS1pw5+MTSLO+acp7BB5p+bZPh35gggKr5YRQFER7ZHJ+FXqPqRA4mV5s+WQ1FXpqFT6M4wy+gDFq520DF+FSahF7FU5gYN4XF9qOeWclxecRehcpeJcOgDBqpTApA5aPUu+CYayF+Za2GC+T5jJyiNKuJC03AaOIeHM8ZYIppkK0KQM4I6O0wulkgeJBlWKPQnuc5ns5lRKsKylTez+hpvKVkEKhAUK7lDMj5c0GKtldKBynlaIQZiZMg3Anp+FTStJMgUVwIMVlQBy3AYZKFnEaFJK8g3KxCKVje0VCZGVcVugKZhZjJcGoqCqPKqV5ZtVcqVlKg9AiqjFW5zV5aKGJV15BpOZYIauIpwq68IViMo1DEl8iq+gvVQBgFbJdoKGVVnE06Xw7CKx2OuOb6xuEmksV0WeOVc0zFMKWik8u1xlC1zl6ajg61WsLAEcZ1RahQe1CYWESc6ue0jYm+WsxsuInKBVVCjIAaPGZqNOScRg4eeo9EcqNFV5B+UNc6gynVc0Z1mB9KZ1zwL1l1A5IwScKN5gScWGGNE8WNzZONUs+NKpvuPUhK7aANZK+WiNMNc6LA6wv1p8fVHAKxm+kNh2A0F+3NYgvNp4cmXCymB41WdwENceSNnQ8cHx7N2OqqzQQtvNst4QAAPMCA3MLaoLNfLSdm-FMvquCAACpzygA3B0DPbDIt6UZNjgXUC1DNDgigAADU5mTKOs3cQoFiiN4QntrVbtntHOhQPtKxftBtiOJ2ky0y5tltMgxAjkBFYg9tQWjtJSztbRsyHtXteKEd-RMg-t-NgdsyVkedYdsQhdUdotIFFcuUmBkuUNguSIE6jckic82IF10wlm1mfN28ctiO+G-oPW65AdVdb8Hd6I2IVdNit1+AG1YgW1gNO1XOVdzQceI4OFKWE9TKswZ+ddc9oAm9-dREAdNoS1htSOrEK4A4oi29P1S6T0DNhVWFsYeqm4cehqdAK85QSyh2rtN9uGh6t6DQf6Z1jI4aEN0uiogUJWByaNstiDpN1lV4RNrq+NwDOY9GFNoindRA3Uh14UuyYeh2zdh2MNrdsQN1lYBD3dnNYDmcP+-dstLNHm3WT+49pdm2tC9DDO1ia1i93cK9jNxCtiJ2aqW9F+20GtYdpQ8E20otMNkjp2CD59pdl9WQdd2D5E+dDQ99jcj9W+f1ojb9HD+KJtX9Ldsytkf9IgAD28VqUB2yIWejnWP6sYEDE8UDJ1MDh1sY8D-dRNyD+NaDq4GDCaKDms-KuGuDV5+DM9RDTc2esgol+e4lBcJexcGAsl90++YCXy1AtyMK9ycKq5+pMF6+hysynyWaty41jMhT9TWslyJS4pQSHC5T-FuNJFdofKMsBUzT3ypTfMUOaVO46Y5ZcwrVsQcwq4uKhio24IHIszMQHICzrK5ZGEazEtwJsYizRQ5ZvSuzvSmzUzyzdFrVdFzohzhQ5ZL0GRvgrVjz98z2iodzsQ5Zn9azn9BzWzyzNwm+3qLAhgVlQLqgIL2cKwnzMQ5Z7tuzsQ+gPU3Avg4QAInGaynt7zsLEzpl4xiLMQyLqL6LmLoA4xoAOLALO4UIhLBgKLlLpLoAaykIlLMQuL5ZwAdLxLjLHGzLoAYAVLFzNLAApNywy2i3y2siK2y6ABy8s+JIizy5Kxi-yxfmi9S6ZQAISShKsStMtrI6tAgavCumWa3isktSugDa0xAms9LLOa0AiEvKsGvWtAiMuasQjsYWu8uqtrKca2vys0vsZOvcBFAutWshuBuevghat0v8uFCqsxBauxBKXpj5T+48DDPFM-IFjo2AgrhEkskDDcB1MjO54ZtXxZuXItOjN5v4AsBtQmCiwFsrBFvIh8vbPZsNPkmsl8q4tFBls5t1uoi7QRSZtDslPJ7jPr7ll7q1CtXzupjhNMrlmQB0DejXLPNhvrubsmwDtspfOAtUCQuwCQBrMQsMBnsHuHt4sQiXvJG7MPs3uHvlkABy5Ab7dLH7b7qjeklbVIk78qyhSGiNrb0w7bfL20KVpb3bwHV8X8u0QzNbIzAhgy4HDQkHqrFJKVx8QHvWiHaYkJbyHycHI7XTDgAKy9vSqVJHDA1QOmMopA7yIjbU5A1YVmYCmgAjV4+HbTHAVCGCDKDWwysFCIRQmlHk04C8r95KqVmORKsnb6RWxSyW+g+HTSbD+j1i+HAhGtK7MuSWIg6nZHTSDbTbKs3Ax91bRTU7IHxNL7hQT9pjSnIs6c31W+YgXwbNOa+VYjRU0nhAZjcnNUIlYzYlheWTRcGAuTkJCqFApgoco5ZUNwpAsSluqVP0rem4FJGXkwK4B9uFi12jRhJEZd4IDAId1IfekdxdxbfTJXYCZXSmuXpXfw+hZqEKNwq6NKWgjpYCKxcNAF-MygygLeGQraRgRyo3TL2cnt+gmRyg294IbtpQK3J95dudnti3jnzoK3n5A3IyBNTTkgJsvch3VHc6onWpXRkrEQ0Er1gYhded4IEIedXXJixgvXwmRb138QJsl3TyQd1gfkR15gN3K6OiCgC3gsmXR5WQwydia3AaukJkUJo2iPoAx+WAqEJ68PxXMPO+4QXeO9BPiP4QRrsyxQ8IBXBg20mPF+4I1PxkpQ8XmRM4ZMHwKXAssSiPfaBgYFWdSFT8mP2PZmMQ48msfyeb6FHC5PtgZEa3b3ntEPuIUP9XhPQysPQP5m4vbtVXJJ-+UvaFMpGFhPOvlK+vedqvTAZA0PFJPq8vgdOPRQ8IskZEwa-3FMkkoIrVwysHp3avdv+XhSF8WEfP8mqvEIOzWmo29PsPWj5veHXvtvpAgkOPDiNXPcEfg84IAA5FV8Mi9wXxn9V4d1HYj-hTb2TOHPoDX3d494eWkL9AJE1CwG3ttPX7t6uOWUIMIMHcEMHQ5DpPBW4MWMHQpRwPCPl9BKUFH532HBq1LF3wH7d6n+n6H-P2fiv8v4v8n4H0l+HCtR5Gxxx8oFxzOOvHWh4HmqtHD96k7cL3f7T734-4-K1Sb1qbKXfwZ1bRoPoKf3WDn9qAmgLDNfwCRuBLud-EPmj0l7nU+oSPO9kz1aqG878Uva6DAPPjXRqaLgevovBWQ9RwBt-DAQumPSC8IKXUDARwz-QYppG2ncOlDT-xoCw0HKU3hwioEhYhmN-Mfu2mORxR-+eAzeAQKIGQDU6YsQgLEwDKBhNOUNZbjs1p5YRtoTMbgcYF4GApj4FJZQRANUERojumApoMwzzbSN1IJzBQfIG0EkxjkSmGQYdmW6ADOOIAy-gxFR42x3qtAlukVnXz2DgBoAq-loNv7x8Rk0AkzEpjcF8xMCsHFQZYPUEdZKIi6IzNAO3Rvllm1PKsowNJIHwOBX6UBoaHvR9QLsJDM1CbBIB38+q5yFTBgNp7cwJBSmT+qtB-rGpFksve6FjAtTEBXGYPFwPVVawkD5qTfENAgNp7YwahofOoddAaELINkbAloW1RFiUYOhhQiuBaGLBlRKA+AUxFrAGAVBaYCAvqsUPgESDluywqqPhS2Heox+2kMqLSV6GN9Se3QxslkMWHVU7gLAaoNxBWIG0muyEKsAxFSpYRLcMNc8PhVeHqlNqlufQCCPeE74+q20SEd3GO4fE3hIjeDHCJWKpUbwqInfMCKRGbUGOENAETnFJp9U2wngAkVTU6EtBaaanAkcNXxp9UsIz5HET3BpG-C1YmNHARfFASlC+h-VKpqNnGFU8UCXJBDiLHARswBRH1aUPY3bSgIGAzRYQBwFIDrQlChAOpLsKYaLouRVAkep5iraYiXsTI+jowBgZ9Q2RpNNxqPUlj6iL8S7Xhg4GlEipO08oxUfUMJExMGsrsIgBTExH05MRkg9xnELIH74KhCAixpaLeoqZcgqojXlQO4BRiKYww3wlmByGBNCM+QlcGxFuHxi7+HIlOBrAf4kAiUFQN5sJkMBshix5AXwCTEMCkgyh+PMsYgIrFVj20NYp4KEJUyyNPSv-NjKqzzEKACxWOJsaWMdipwEIRgLsdZyZRDiWxpIBEdUB0QcB2OVuSMJWNLHliVxzY7WLWJ5F0VxxjYjcdWOJBtjN+HYwchOLQg9jOM84sgIuJKbTj9A04rcU8F-7OhLxZfUcURE9L118YfYmFPfD7j-8amQ3KQcDH-GEoHYTsc7qOPbaUdqQHXCuDIDAkNwIJqcKCXrDrHN858I4vWLTwDRKZrxzHfoHeIPGDBZG2EwSAZzfGISqA4EvsWhP7GgEnYvhJ4atSpFEohQXaUEG+gJEyJhSdIh7Jm2tGIjQRy9PEWdU+HGEuAboxiLcOtFgRciGoWngp0GA8SqAZo90SeK6JkBGAQLfiD6JRFMjj4vE9STJJYkeReIOiHSSFH1q8RuAxk6SalSTjLcZASYBdvQNiBrcXJewBdrUPaCdB1OakriFQHCC08nJ3uUPoYUwjBT3JMQN+GxPbQcTKQXE4hLZKCl8TMa+E4MZLV4jhBj8YfFTLxMQEWTtJDAXSfrRvA5SXxKwG8IVKqk2UaJJUsqRr0qmTi0I20Wqa1PQaY07ErtLya0VB5mTay3cDgGsMYB0SlK9IlTAyzfEBpj+5gNQCYC8DepGAxwrqKtOcDcA8BqUvAfxKFyZsypQqcVEVGKlJBSp1kuvov2xLCl1p9AKzrezQg7T2Rtwg6cqglTOTXJ-fXCfFlD5L0RpWUOiS9ORQSo5pqoYwEaIqA9QAp79Wiq3Cz7NTgpIM8QJIBQkawcQbIboNuL2lVtxmqUNGWWF8DZUKaUOeSRqlEBxZMgG3QwByLeG9QGARIXeFDPWiNhugjIJQcFI1w9YuR3QcIGt2p4bdugMsEaaADNoAAJZIgwAACC4AcAMkQABKZtSAAAHk32yAIECDTybAxJAagc4VpFHZQzLJJk1KrwDBk0zIZJ0ugIgNSjgzeolgi4XrPNk9SkZLFTIDrJWFeZ8KVszoOQjtmOY2MPI0WeLKlkyz5ZSslWR7ORmmzbZus32Q7L6pWy6JpsumeWAZkOzR+0c+gIsXIlCjdk3oXgT7OyzmzDZfVX8dRIAmz0rwvElvBxg5wLTkky012ZcI+iVzLIymLSUkENkGck6fESFjdKqyFyHJ6cIWZP2A4OAaiQIAAAyg0K4NQRyLkgyCbC3+MUagIMAujzzPYo87QECGHnry5hwJT2niA5mSxt5uQDeaQHwo04Z5joySRJPFABA15CFYXvR0gi3CsIyA0tipm3kPybcy8xPnl0RmBAjMV88UKkHdjzymZmbT+YvLKjLzgaydOefri-lLyV5TEXZCOK1iOROgsSG4SsEFRajdhsWP-ncEvngiBRkCoXt-NTAJZ8pktSobGDn4qY0FDADBWwFiTVDCs1iRhcwtiSJj9Bow9MXEwpqcLMF2QMBRyIqCFjQgzqJ+AKLJGY1BoqCwIOguEV1gNRQYx0d1FQzARj0fifyQSIfA6jOG05BShpVjB4YmGDYQSQaJElGjTqmQw2RaJwUGwWA29W0XilKAuSowc9ZoEIpYUQjDRKI-0bfWghmK0MPWENCFIIilAfFrCs-PopJ7RKCeD4D0bbHlomK6MAiq8gkowEcjlJ9HDuAFTaR-Ab53w08EXIEl6imRViqETYvxFtclwDkpiAOH1GU8l2YYwKA4D9pnTu5fi6xQZJEnHxOpsQUpQ0u054ZNRAsaOvCjZR4BIQsy39IJMqVAgfRYkg+MMvJGOKrRlSlpeBHHAEKOlxdLpfxABGDL9JoqP0ShGgioR8aVC5ScUvqVrKnpIDDxkegMDiLksqQD6MMtkWk0saMyuZRsoTDIkPpoPJ5ZRCYZ5C6adyqSQ8vNH0ZBpqoOgJ0qamEA9wv4XaRTScmM8+pPk+TECu8mfTRhfkrICitLakhQpZ1TKeopRURLsk8UvJRokXrsIilJKngGioykRSQEEywgLWKUl0qOJBSplY8G5Wls2QdIgVmAFmWQhKVWEalVjxPzlDspZK+TPstxBNSKp54plBVNJB1TCgKqw5frSUEar7p0wJQdqsGUrAsGSmPFf1OpmpBh5vcHsvfxvK8EeyVkYeY01mFQJjZHCYealQpK+qER282kr6ownSYaChBANYgN75sAMFvgJfMYpp6h8KStEMBd+M4h0cTE9q4eZtMun9zHpRI8pVSCgTj54FEoIaIAstwgKn4vqz7Jmz1WvSiolKPVU1K2kNT25nUt4F6rN7Fq0svqnVQ0HzUxND5CYetUDLSjqRsVBKweHhNGGVpD+FMINY5SViLjGAfahrL9MkD-TyJqmRFQcobWckhZAchgLLOsgAAZZIqrLOxTzUKWsyFsPLOj9z0VV5Y2a0xlBmy21Fs2nlbMjntp71+s7SY7M9kuy-1CIoDQuBA19Uj1J689eAHDkzgf1pah9R+tSq-jVOxnUjPHO3WJz6Z7pVOZ1PBDDzM5TseEAZ0w2QS35IpeeURtTjT8ORdHP9Y+rkU8iS5-4otqRmHl8sOcGa0tSIvqWMbUGpGLudrIY0frDZiM9hM1H1z18Lp5MK6QbOkkozBIxc8iX+KoBsaLVkDVVt0lQ1Gd20943OQ3L1mtq25-yByf2qvBvj6N88s6MZvk1YMY0ITciYjNDTzqZN4cEyYpvAVVtWgHbIELjP2Fual+4IFzfX1tQU0fNDgFxTssUnyYJN7TVzfXw819jHZEWp+PcJs178ktTm21dbJ6jihGZGEwuvDL0JT5OREytmXoVzFrDAghm6BYwFNkLd85Fs0gQLyrUQz8tvczRUaEzYsygQ2G5Oe6U60WjGwY3KZBLl7mKaMOekMjahO6Bpy3ZdAajRrDC02V+AOIebY3MW19irK3ScPk1u4BvjRtAClik1s8030QlcTTclJ2q1axt5DHBrSGsLUCBzZjITtWeDN41ryQi6U2flodlhjmZfgRkP1txApzkNw2zNkdolzby+xU2giDNtRlzbKNHAJbQoBW0NBCo62pHcQBR07bYwWEbNQYCZaQ6b40OpzedpTE4N4VggYQL+rXnBBatH0TrRhPtVM7aeZwlnU1sdlnDe5jW9ORbNOE06GdIvTnYNA+DBBNhp2+7W+t50Lab6kUNgHnL53jMj1QcuWQrOVmwbyQKu6WWrtDmXq9tfOg7Uy1XiK6FtQKK8uCAxADTiOgurNWAtF03bS1Nih7aIqxlUgTdiGxkFBrPUXqmI3umDYyHx3zyjdfLD3fepvqBRLdXga3ZCTBgKwn4KMU6FlqYkYTTGiegsA+JSBxxEBM62AbvNvHLiSxgwUjCFsX45ZkYWelaOnuowKbktCccNkyzj3uxRyz0SvadEz2vRUYXScXmhEc1MTcYGOy3aQGDql7yYLzLPfHqI67JCYraFlLXqc3KanYqmsuTxz9CYr2MLvGDPj1H218Z9fXVzccm756QN1o0xTdEwfAK95E1IYaZurGnbrrllyjbgGnr1IgkG2WvaIPuH4j651oW7gHvpkmQkbZY3cUeqNuEPoHSiFVtBgJ2CedvOLCPzuYw5HeCL+9OBHGwGT2pwUNKm0uepoiaaaN9V4IA-wEniaQ+sYoqtF7JMnmakWlYNWKS1al1DaDtjeZCalbk-DSAzQZA44KwzT8-2VSE-VusgnXK9IzQZ-YJrf1MTpog+rg74OcFWQd927UADIacFyoiOjYG4IQNeaVjGQAAThOC7ItDkWbdcBIMM8Q3mim+jjol7h-6wx8Qlvh8C61PhnlA4FwBfnHlhjCghh-QHnzz5WQ0A-htHaxAp3OgvDZEwJZ4bMOViLD1yNvL+NALHwXAFLBKhmPiYxBDD0Rqw3Og0Ot7DATzRGZ0FjXxry0emcXRgfQk8i+9qcKQ2tvBAFHKxRR4gN-prAhxf9ggGNfUfkpAiNZWbFQa5uqCFQTwZAFeOwn3aDRGwrQRkIIOWTMBCB-gtwAFIWgkG6AhUF7kcFo1fbj0QJYY1u1ACU8Ky3kiUmGK8Pghxipxno9oNAD191kKx8lqceqgxSgouRt5iZwP7SbWgxwUAGYpYgDgJtawjYd6hp3CZ3jYY9nXTs7Q87udp22ksCYtEDgtjwjE2LsfUjsJuaOkDw7EGOOnGsTTIBbdTu2G3GsTBLcTl8eyHPKmGmJwkxSyuMNrs4lJu47o0eNPMz92mlTbga6k+MMWc9avmXtamkGv45BuvlQYMBMHiqqrJuEfrIQNItYbxqsjftP10TZpSYynd0fDRCBDAjkNvP0f4BeaqQExoEFMeEFzGkNixk9Msf4CrH1juoqkNA002k8FDgp6-SsT+l37IJipiPQbG5PkxTT42GgK2laBqw-GT1YU3Qb5bimZYg+vvk0ZbRaB51rVN2PzpwBGnXNefVafoGNWgAAAOlgBZ26amA6wmQMEGh7P7KWJLJ5GhF8OzJ4TxgW1Emek0pm7ZaZ41VmZzMSK8zMKQswFMlq8ATwx8HoFhG7OgAAAXheBiBZmigaG9tH8YLNp9ZqqLbgMObLN6QKz4IKs40bTCoRaoJ1NUxqc3ApnczU5jsxK1j40tyAwdFgMHWUDB1++kwPPmmDwC1my9e51sweZnNHmkBp5qyOeb8pXnp+y56qEAA')">put("and", "evaluate_query", conjoin);

</pre></div></div></td></tr></table>
      sets up
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to dispatch to <kbd>conjoin</kbd> when an
      <kbd>and</kbd>
      
	<span style="color:teal">form</span>
	<span style="color:blue">expression</span>
      
      is encountered.
    </p></div>

    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      
      
	<span style="color:teal">
	  <kbd>Or</kbd> queries are handled
	</span>
	<span style="color:blue">
	  We handle <kbd>or</kbd> queries
	</span>
      
      similarly, as shown in
      
	<span style="color:teal">
      figure <REF NAME="fig:query-or_scheme"><a class="superscript" id="4.4.4-fig-link-4.10" href="./4.4.2.html#fig_4.10">4.10</a></REF>.
	</span>
	<span style="color:blue">
      figure <REF NAME="fig:query-or"><a class="superscript" id="4.4.4-fig-link-4.11" href="./4.4.2.html#fig_4.11">4.11</a></REF>.
	</span>
      
      The output streams for the various disjuncts of the
      <kbd>or</kbd> are computed separately and merged using
      the
      
	<span style="color:teal">
	  <kbd>interleave-delayed</kbd>
	</span>
	<span style="color:blue">
	  <kbd>interleave_delayed</kbd>
	</span>
      
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      from section <REF NAME="sec:query-streams"><a class="superscript" id="4.4.4-sec-link-4.4.4.6" href="./4.4.4.html#sec4.4.4.6">4.4.4.6</a></REF>.
      (See exercises <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>
      and <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>.)
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (disjoin disjuncts frame-stream)
        (if (empty-disjunction? disjuncts)
        the-empty-stream
        (interleave-delayed
        (qeval (first-disjunct disjuncts) frame-stream)
        (delay (disjoin (rest-disjuncts disjuncts)
              frame-stream)))))

        (put 'or 'qeval disjoin)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_7_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8lIGGIBRNFxN4ACtLlRfRiAAD0IMIqLieNAwa9JMm6vqwjC2rOo8qpSA+Bh2s6ib+qEoaEkDOZVqms4ZpRDzAkW5aUUMHb1sCm9erW6a6vMBqmpahhuMMDqDvoc7BsC0aMiya7dvOO6XHmxaXre0xPqgwLtv+tNAdm8wjpnMHOrO2GvuGlwrsmuH9oLUAajEKhagYdoyF8SHyWh-pBlh26EZcQhAm47ktEpuNNpcGGcfp96XHIUgxAUOhKDRnGMc5v9zumvHOI+QJyAUBgNBIERnsjchfFqIw2QqNhNZJwxSQlhMfvGww8SmGYuI1rXhAYI2nhXZosO2i3rHw1cnkBAA+alKAVpWVeINW9YNwZ5f6JWiMtz29Pjoow7th3SVxoHPJFsgOHIStiHV-W7Z17gk8N42ocxzzUjG-9LZXUoS-tx2raaHgNyGGmdY94zCm9gE-eqLRSGz3P8-D-QG5Tp444TmJe79yPFYQzv+XCvAgcMUA5EUCAYHgJBUDQPFD4uPmWlw4mjEoBRKG4EPKyE77UmMNgZEa8+aDoMRL+v5vrf96-lLNFGorYg39KC-yKApfAGIsQO18AoFg+AFy4VAYYeBiCFz4FfnQEBYCPYtDoPfQBlclr0A+EIZGJh9alQ+h8H+ylSjEFPKQ94zARbq2UNQzKdAwG30IRA1YJDqykGoOKDhXCup0PAQws+PxhGiL+OIgW3DeEEKIc6IBqQLTUDEHQBQIcwRSIEbERhzDtG6P0SLVRd9jExE0Sw7iqIfjXSOoYZweCZFMJ+G8RxzhnF9Vce4qRfD1GKnsfrBBwhyAeOdKUeKecgZbkViwKJDB1wUH0YPM6Rjp4z2BMk1JiDhAUxyd3K8NjiENWMGTRwqCr7SNibIhc1Tay1KMG0Vpyg87kK0JY0WeCQm2NAPY9gHgvAxMVKYn4ozlDjOCWooZ9iRITJWFMhcyz5kVI0SQlWIJWZBPqUM0ouyKZeLPBfIGjUAnEDcAcn+gzcmxm3DOLBDAUFnQFmIbJhzBmLJaKQcyqibJ2Qcs5akvgRbkB6hnJpHQtC+VxrLDyJz9DIm4J8gar4BwNSZtQBQ1AaAj0SciSYg0YiBROWkkR+LCUJIZqihw6LBa7RzM+f42LUi5GavgcoDBiUOFJVBGI74bkZCKmcuFoDLlFIpiSx58depaDVnfA89A+n6DKQRS56SQFZIZXQLueSVgYvlXky5Kr5B6IMfqyYQF-QVwaiJN5DFRg0jYA02MpQnUoJYUqsER0xVDNiM0McGowwURfIaMywR9VWVsvZJywMGbsl8CQGFJzqrLHOOFdOzyGCvPeTtQZZLAoOWVsy86clSjVzki7NuEqLkHkWp886DzNUxDzQWhiZ0kblq+a2hZiL05nIcQSvxC4XE3LcbQ+pxby6SwagHWs3V36gJ8VcpmVLtY5MHcZNZkr9DrpcSw759yFnGVMquw99B7bHs6IYn5CyZbDuYS0kOXSwGGDneSDljVmqUFxG+tpUiJhktiIFUNoZyQRvZcKfQDV9aLR6U1a1IHBXd0Cg2tmIMZzIfVWhzgNj-JsrA8KshAgcMO3qc6s8EpQDdyw1KptuHmC9NQ-UsIhH+FMUFHBx1mMaPLso1IwTD5SP2slsJ6jKCeOssjJG2MmHX0dPfaA9tQ0kOsZQyLU9osPZEZXGxPaEVyPSnMRqRkc8Ca-Rqrm0E+bX4OHM9rHB+jMVUwdVXX6+hXM3OMdW36ztW4Hn0E525ujajcE7Y5nB4WNT6BvL5iYCIyL0Zzcmww3JGA8soZw5RqJdPrV-UBj9Rj1qvFMyBxkJXulab6YV2T5LPN-qejVz9Qb9LWcyN3NYhBVYRyy-m-gSiaHvFRcxqjxN8McYvOpoomWhBDdyxI5wZ14kOxU20ub8de14YMbp5LdryIkaFU1hdnLyMUJGyooxmqFKgmvawq7FQ8ujbgQgpBeCOt2KEQLBRHBruSMOep+7O55FiJeytrKaCPv-kOd94NXW2D+WMy+6ZXI5mzoWYNRsMrGQzK8AwGVeCmKNm7Hqarg2cuA9W-oGVR2VCmbC24iLoRGTRYYMznR8XycsvAxXRjdP8DFNNdMRVIdb2ENVVaqxvPuBc9Z1+wdz7k0jo2VjmxJtAzre9S69tgunWTtuTO+522Gg2KHarsxcXpvX2-RV1hVYGKMkF+ZvpomBlPvJOZ97GCPdu4Mb7z7O6UGDKYoFGTqOrdyL+xDqh+W7k32x1BH3MO-coP0ODxRkOE-Q-QcHn5K5BdZ4Bznt7Ged02PlQZnUMQkXmBHcaZ78fRvWP4YNVP+fkEuqb+wsv3Cg9w9NysQXvflu58YBXx9Vei-ceM2vBmG8t5KCgHARAyB0BH2JCffGVTIyvyw9UL+RitfJC8wgsgeCYgAB9r-GSqQHI-V-QC3-v6kRBSD+g8JP6-v0Zsh-gIq6nyLrkBiASD2zPKqKUB9D3BiAXTNZYQn4ABkSBvQHcJ+4k7IMBzAYgQBu+VcuCJ+86psqQOB4BDAkB8y4Ivmma8Mp8aeSCDmaQhBhyp+aBIwRE8OeBnEDUAeViRBywj8sB5BlBWO4IfBOkacyaEhg+V+r41MHBSY7cihdoZWK89e-MNugeU+P8VEChgwN4nBP86hGhJCY+NOJu4CehzWZBJMohduoA4I5h-eqItBphzhLeA+DBABD8Fc20N4-hShahUhp8Hhr2A+OhVh8hfhHchhQR8OIR+BzqIice4RQOuh0R52whdhD2VBJeecLhzgbh6c+RFhjA3hchghMRKhWQgRqhCRiRnEpRhRWUkRvhksdRWQRh4CJheAAAYpAAABoACyAAos0IEIQPrF0o4ZcsGNUGOvQOCKAI5ASqoI4REikuQLJHgOQDIIPFgSkJXDSOyhvOoCIBwMII0NIL0JQJQP1I0CAGIGsbSGgFysAO4IkF0gALTkDcgVAKC+DABtSGDfGGD6yfzAApAnGGDAAABsOg2A-RQxYxExTU+AucWB-wBOm88gSgmxhSwuvgBAtSWJNx6SWkKxFA-UWJoAeOXk5AdJGOKxfQNQucpABMxAtQtQaAphCGBS0SAh-OWRthEBuRYhcx6oixdAxRyaBJ5AaSyimSZAhW1hksNw2I3hTBvm3AnRX2jRHk8pRORJlRwpCY62BOyhBhSh3RtqluwBqQ6uGRVRIpoBIh4pDh4ITqe2Isspp8hu1yxu3+rBmRCYepZW3B9UF2Ig0p-iTMU6ie7RJB2RYpO48y6mThN6sZE6gZ06MpBp5gR6ASW6EcIZLpCYeagQMgqilsvM+MRZm6lIppZ2FZ9mVZqipIdZnEDZpAys7qzZG0rZi07Z8yOg9pSRbWQpLZI0pBbpORaZYhNWfp+M62k5M2apQ5YI4IS53AaGXZHkNWk2bGOmchsQ5ZW0sR8Rxh+55gUmU27G187mZpF5Iwe5e06cu2dW+27WG5gY3RAMfJqQj0AGG2NSpW65oZM5aQ3mb5dBSRiGLG95-BEF55Z+0F40-5Jh6cDUlpU505aFopFBHpSe4IBOy5nEFpGOA5gUkBpFGO4Iu5hyN5LgBOxpxSA5g5L51p9R15UeDpysfWeyN2ZZz5BFc5qZD6npuy1A+ySxBZSafMG6gSlhSZXFCWV5PRzFggFaeF+h6ldotp6h6cZaGK+gRAT5+FJC1cZlN075yalGLa5lqlXMHcTlWlvaplTlv5WMShbl8+sgi+uJ28q+e8G+h8lgO+PBpBpAy6PU8Bks0KmBS6xAkZ1wtwdKfM+gOqypC03AMq9uolwID2mZ3KvKQMDF6m2VkgKpeVRJYedl-FXKhAPKasxK8VyZhFkBMgVkTVLV9s5V8lm8DMipGS1VC0qK7VgYlZlQqK3AtZDV+M0qJpMgk1aIbZM13VoAnZC1nE5qUulq6qK1bB011Zm1Y5qVok6VDAuutGj2fqq1RVO4XpAmKCDFjOmcIsg1-GnMHuKCD1IBYB85YIoejhN1tY5Fh0L1DEvq1qf1bBepf145nE76Xwbin8jU+1aq1qmuxBf5ShNephlGcguCONHmHRHcBNw6jgqNecLAsqo1c6hQZNCYWExN+i9V5wjY0BecwFuIFqWNIsjI1ctmya62bNqCXeSu7yD1iBkt9EtGAF6c4tg+Z04tzwTNHMYZHcatWlythaatkQGthVN4OtfF+M4uyqmNMuhictTueoeV6wPN7euNaIIcYg0BRgkt4QmBHAn8Htp4SwfopQWEYto1ntsOUtnQnGdJjtGNoSYSwIbtHt3hA0AAPInX7aoJnlHd9owgCjGuCAACrQKgA3B0DEmfK8D1ZNiCXUC1DNDLEADU9GeS8sR+QoJSXtoAzdb1TdLdM8bdn8Hd2deokwZSpk+dm4RdJdMgxAjk2lYgVd+2NdUxddVxjh3d-dCcg9zxMgndEd4QPdVkm9ZuMQO9w9AdWFcp0C0kg+Hu3hBVeYquhCFB0C2IpNKw6cC23+ttl94mmtUF1lKdCOkCair9RAGqRqBCnC+AaNYgcd0u6qFuZuzQ3hI47BEcXtp9nW20l92DqDWW+l-4XtNodol9DOhQLEvGBgd86D3NLWIF-N1t5WYuk94dGCcadAiC5Q4KsODdFDcmlEp2DQjY4tjIRNYdBmimFc39qKo1KtcjIChqUDet3aij+ij4rE0GzNgYd84D79c+6Wp8nesO99Xe8tj9Q1p8ej6IBj984mX9hDKd8tFlzoQhQDWDBEjCL9tjkDCcKNsDR+CDB12N-CIDwyvDGC6DbsnjekpQ8EuDUd8t4TP2sjREJDUs5DjWoAOoK4A4tDSVMBvNwTAtURDGbDD9jhtk3DIgkTSC6aWhIsCK2TMG-9sQojo14jE24t3Uc+0jkssjytKd6jfIouV4qjCtIzmjlD2jADLgNjb9vT98MsC+fMS+eJO8a++8m+GAkVUZVKeKY6RK9KJK3lJCnVD2aKjhuKNK1AucEN5gNzRzeceKUx2mrG7ipzkFLlNRNqiKBU1KzzfKgVQIkB6YtFcwb1sQcwq4yjRQtFHIULMQHIsLjytFGESLwWHJsYcLhQtFzymLzyqL4LxV-+b1-+zouLsQtFL0Uxmsb1tLBclLaLxV0apASLbLOLLLT1Nw0BysLAhgDFvLqg-LG8KwVLHaxVjdmLsQ+gPU3Avg3tfs0KzdxJoAErj1W53xMrs88roAirvsoA0K3x+rMQGrtFcI3ADQcrCrSrRroAkIpr6r3LW5wAOrBgerBrfc9rYAar5rxVAApO6za-q3a9CgG06-609eJDKyG168q+g4qy6xCAAISSixuethugBptAhJsktPWp3BuZuGvQrp0xB5vTC0Wp0Ag6txtZvVvltRtbk+xFu2slugB+yNvJvgg+w1tWs9zFvevQq9tdv5tbkpvuv2uFDesxApuxBxXpj5SmZPO0rAuKUp2AgrgalWncArt3MZUFi7QAuHOruXL4AsBtQmCiybsrDbvIiGvouAu0pvV6kkqzaxh7vHNrNpgmaO6ft5xj4bygsPa0WQbCBvVgcatQPUvFWQB0DegEq+BQtwcIcAZQfQeasQjCsMCwCQBIvYe4fofQe0XYejGYukdEdQO0UABy5A1H7rtH1HKTaES7f7T7+7J6bCuGktN70wd7hr20K1u77HI8gHrHVI-7nHV27yvHDQ-H3rr7F4PAInAHl2OmP76clKkn-KdATK8DzyD1lK1QnOMoQ8vgQTbUOc6wygIimgfjV4knrzHAfSKicq6mnyRFHwCIRQZtcs8YhAJT1t3sLtLQPUSqkulYiD1q7awcIgWVKna7BYKt3A2DynJ7HH5hwDYzhQsXgw2nw157l7pgSuqXkn5h0t2XsQ9DxTTDfS-zpm9DYgXwLAziVtfS1W-ngX6qP7qzh7QVK+u86+B8mAezhZ9AAcfxM4ZMHwZUNwpA4y+R-15+LAl+CNsefwtqdcGDRDO3i3pKPdDAfd59e9Vpu363HAm3KwzQa3KRG3g1XKNwG2OqWgpZIin8rjnF-MygygVdGQF8Rg6K33drG8zd+gfxyg6D4IyxpQUPETvdm94PlHfoUPjFb3Xyg18ZdxJSj+n8enSuHnmPaHkQ0EOjLgO9m94IEIm9D3Cpxgz32s27BP8QAGeP+3jh1gfkO1HkhPuIg8CgYPgsS36FWQny-mjh1cukJkJCkBovoAKBWAqE8GXmGFShov4Qt+23N4av2b6kxQ8IW3p3svmB4Ieve671E3pgpMtYM3WUc34yovF6BgvBtdslPCsv8vqWMQwC+i+qSXRueZAvcBY9ZEMPVPzdPPTAZA-P20plavh99GnvyxR3Xe2puC5quZ7i2vzdZSSfm9EffPp3WvFacfh9CvRQ8IskZELszPFMkkoIb1nywnkgIFfPY9V3JCWEDvqyynzftfGLUWD2MfgvpDIvgv+C+fUftg0E9iO9gfYv4IAA5H3Z8hT0vwr6gzj7vRTKL1pRH2TKQBTPvwayF--gJE1Ct5uNtEf0j1eLRUIOB1ZMEL3Q5DpFZBaMWL3TFRwPCMH8HTX6d9fxH76BABPfLHpH1ICCQgsPPAAbWAP74IbwIAvfrAMVYXVQAlnasJlls4zgfUTMDwFOlWhC9pKrvAgVtzv4u9uEb1dPvGSDIEDKuMQbdugOs5YDRMVKPAW4Dx4EC2+Uvb3qAmuhi9aKevXcin1eS+ZOBQWa6KgKP5wJIUPUVgV0jcAEDBov6IgSoj4EsNRGw1NBkCBXBakRBafYav73cRqDZMALNgcYHtgYo4oGgYAcgOkHMBZBuA+QfjwrTGDDQgUS5FoPUgYstursDuI4KnQkwMU+CPUv4LcCBDmUl3KXh4K7yQ8CWPg+QE4PCFfIgs0Q2HJD0YGYDqAmgUTJL2tis1NB5jdtJAQyE2csh2A6GqELOhD9+0agyISpCxa+8YolTSoUkL5zHZ5MsGJ3gQR95qCwMNFYqoILqaYJsEJNPqJo1aanZMMfUFHEY3xgAYSAigk-qkCwh8Ctu3MQgMYgnqApronDBNGCkMH3QsYqaYgM0y55jcPq-SPgWwRxT1oxhW3bGBsPEFsMdhVTEFImlC7UC8yMKN4H6kMCnDZhnEd-tpDKiUB8AROPOAMAqC0wxhbBeYbwJhHG8gROkLSpCOVhhDgRWUYnFcJC7bQfh35VwQCI8gWlqg3ET+NnVu5Lg7a54NglhHyLy1zwWlFgCSKCb5E6czIz+A9W2hMiYyHIxkeyPgYZ5uRpIuArCKUJCij8g1cUejWM49M6RuJJRmwTbCeA5RptOCsjTC4S5yR-2LgFSJ1EG0QuIdK6lKK-hyi-q3AVUaNzQrCJFhpPc5uJU85ggXhJvNwnySewixREbMF4eLXlxcM+qyRBgOcWEAcBSA60dOLkEICnIYRwjTyHxlSDWjeh0Yh3FSGNH45+RDAGUZIz6jmjRqAjYSBXBTGYEwOIOaUDU3tjCIAx9-YMatGzFKN1MzQcMRTGNEe5jR0zQRvqF-QrCxhLDPMZLCwgNjTuag7gP2IeG2oWmJ2DDALmmGGZZmhVfsXwNQELwlYMgfWFfGsFXMPu7glcUqioyBxL4gcBgHe0ZTUgjK9lLcSHB3FRw9xUcIXkAwDjXituNadvgPCzj9AR4DcU7ouJv4GA7Wy4qgNuMXFXjF4nBQOKON84eQLa9sIUCelBCw1zuOoqJEnn1Hkhcc-I1MTyPgYZjcEKonMeHnzGoTCx4EccFtwglajxQxcKgDWI0ZQC-xZARgLy34hNjBR-I-BAhMomMQwJjzGiUkAPEhQs6vEciYhJzFsExGxvGQEmFqDLEtu4IMSXsAkniD2gnQLKhRK4hUBwgW3MRnXifFxiBYSkqwsRI1FqwoJlIGCVYn4kqTBJtYrSYqRCy8RwgKBDvm3AQli9eIg8OibxJ262S6BzoG8E5K8mKgXJtEniXxCzrbRPJqXAiNtF8nhS0IatTYbMXEngcFxR+DgKCPKJ3jFYcrGWm3D1ZWZq4SNDyGoBMCE5FsSIzPuiNRDcApBZkqQUhKTECB6JIrANO6kZABTuJDUmweTEVJJ5Sp9AFLhhyvA1ScJtohqddVFTNTRJCU3IaA0fFS84GKU6HOlP54jSmpgBDiaqGMDpiZQPUXSUL1n6hTVJ+U8wKlAvEZTugbIboGXGQmVZGQqUHEOdL8DbU5m1IdBmB06zVwImhgVASSN6gMAiQWCHaTjlMzdBGQ+01aU9IajWjug4QGHnrwibdAZYKU0AIXQAASoxBgAAEFwA4AUYgACVC6kAAAPLUdkAQIYWpaM3iSA1AaIrSAVl0muS2JD1XgBtO+nbTWpBqLbsdJZmBDyptONmXFOOmdAFwPU94FpQFmZBqZxYWnA9RRlozMZ2MvGYTOJmizJAm0ioD1G5k0zeZXEg1GwWOkASWZv08sP9L5lv8eZ9AMEotJdFK0SREsjEWNjZkMy2Ci4vlCuO3aaoEJVdX2HNkKmzJlYjAYWePCoBV1d22shmXQNnrBTbZtMh2fKI0aIpEZX-VTg4AOJAgAADCLVPg1BHI11DIBCPIExRqAgwC6LnNITJztAQIROaXMzgclm6eIXCZLErm5Ay5pALSutiznJFtRpE5CHEBLkqCC5kEW0VhGdEhyQslcvuWVELlAC9uh0lwIEF8wdzxQqQaoNkFznrR3wvc-ORPLNCcls5Y8zeVlELlJRyQ6cO8XnEcidBxk2IlcEIXjEwju4cSK6u3NZEvC95q9V3umNTA9YHJIWVYZ6gaGnyGA58tgOMnWHvt44ACoBeMhHFcDtkEgmcZZQgUXyV5F3VARUH6ypAPoLw7CQqKggnzAgZ8pBXWGjG-p4x6GYCHBg6SKS5RYmRMdMEugxUUq3cCYeplxxoThRm0vlJIwZnZMVggUFgC9MIkahT6pQMSVGFPrNBEFwCtkehObGtiMwCvZhf02TIrC1JXjdkPgsAVIKYYpKDXpIqgX40YFq4ZoKIuMAtN4Fn3dRVyU0VSL5xa00LuF3TGvxmqtyP4F3MpGnhHZUEFCehLYVBNMJPvbBRoyYgDgUxObIMOqHlDiYIMdADukFIYlpimJ6E-BNFMKAeLY5jELejkxIwkKdJp4QVEajwCQgilK4bxcKN8XSjGAsozoNwuvl4SfFYSosX-IcCxL2pdIlJXSQSUuoWxKEaCKhDVpfySJpo6pekoZytMBwaCiXBgp4RpLAlNC0AIUuKW8KK40kyacRg6FRLJx4XNxTqLSWm0ZmhI8wM0r3pxK+Je4X8LVMKoiT1IMky4lNJKDxTZJ4HeSR0CyCEAzlYvcWkFghk6S3lqi+SPYolyOK0ksDNxK4reW7tzlOYr5dpMwjGx9JDiqCc4tBWPBCAv4cFSMpiALLIQ0K6yZhEthy9UCNwmyaSC25HLcQ7Um8L8r8kNBKVpIalUUDJUnLTuVK9pSsFCl0rWV0wWKUFhWWPLOeBytConMvhIUym4M2coDQkrCrjyJFROQ8xcBvBOETM9xInM5GXk7QKqwapXOJwqrrhyvLojaSUIar+BxVToOfN8DRVwacUvUrRFXlX1jGglXEAqSFWJzKptgmOYNJwVXTHcnCL-DnIZAVyQ4ICBeX8CXk8IVVpOJnDEuOUrTGQZSRle1KqmhyUlCqs8AHx9WLYVV9K6YB6qCW2jGVMaiaXyofGBZ2+jGK3uTGQW00TS6axgJmvUxzTJAC03cfmrGmaVjMiMmWQwBxnWQAAMqMRJlI4M5i1SmY1NzlnQY5FyyykzJeZbS6ZtEsXpzK2kkxE5467WfzJVmCy-VNyI+WqI8hiz1kY64LraM7Xdq+14AZWTOC5n2wV1c6pIA9Wdm5d7OfoPWYtPgxbTDZuIY2WuqzUNAvSuci2YHHhB0CX1u44eaDX-WLif+qAylDeonVCSQuzs38auOxCapE5hrObJSidW5zK1Icu4rRLDmaoI5VM2DaHJGUzzqQTnPOEfw6kH8up9M9JSdMEhOzFpLsqgG7M-qdNvW3cB9X1kBXvjvQFgs2WNkTV4akgBG-qSsCswwbD1Im+jbFPlRDNFp5GstdRqP5sTGNa80zK0HvZAhbpcImjUm0cIqbkBmaJ6dpocACL5iQi7vm4magA5VNyA9TZ+KCzmaeEeIk8iAMU0gSvpoatWeKABlLCdxT+UGTouvy-ZL+fgg6QuNBGBAo5E8xgCzLB5CaissY1Wb1H83CyyFRoIGX4EZAGy-p1ZTLdk0bA-cAUgeYWYxtk56QQNl47oKbM1nmzINuYngPwBxD1bJZjWy2dl075CbuAVmUrXPJnAVbPxoy8cfstMIfBggecSucZ0S06qvFy7bWYyBTVKqPo4an9KlpZn+a+Z3Y96lSGBlAh8tRs6snzOK2mYBtgeSuYuKq0EQatp07YOBo4AAao4pm6YIVDa2PbiAz2xWBVQ-ZtwXV34w1hdvYRXalNo29ZVBGzTkzURlc4IHFo+iZbdVW6pLQ1p1lbcYd2GzLUFlREByitZw-mMIEE2o6UdHWnWVBEm2xaKts22dXjrqkEA2ARO0nUByRmoyMZWM3GfjKJnnryQnauWRzsVkDqetqOvrXayQSM67ZbQixeCAxD8rTCGOx4PNvJAU7ptJc6nWrMrUM5IoDOrdczpPW9r+1TEPXWepan-bc5Iuw1mLp10M5Ao0urwLLvcL0A2o+AZeSdGK5OalNSO4pq7q6je7A6-yrzVHCCztRndYam5DOF92PZwYemelcZorWUZvdke1GF3E95+gA9isEwu9vEIiBe6seg-m9WD3VANOyaQmBfBNQMbPxzG-cUhvY2rgRJPsMvisFP656KYJel7uWoP6B9OMnK2IA2tSmMapmwfSZBRs-jzS0pu4-pb0oibVwUIDQNPYJGmiZ6X+Oe1dO3qQ7cBW97E0wr1BMD8B4RGwtgoLnjIswL4fAnYDASa7ntWukXEJp9VQElDmBGebkJkHd0gTK9UcVjchqfXOg69mqbfT9zZiaQuOHotdILLYk-qe4lYc0Uq2ilstM8uw0FIzCoBO5SAzQe-WUJyF1Crw8TZKY2rH2Xj+lekZoNPsI3yNPxC+1reCDQPZDXqVkZvW9SoPlDaMP7RsDcFkGMtNYjIAAJwnB047BwDK+o+68GeIBcRjemMHiXx19u239LeKy1Ph1lA4FwJgVTm7bCgfB-QAvwX5WQ0A2h17XIaEbdw1DbsNtbGD4OiGCUl+Z2ZwXwQuATW81LMOYtMPOzzDm4JXKweejCHNY5G01ZrAtWgJucU2l-deOEmkHFp5Brct4fNVMAGFy+msMTFX0N82AZq3w0XtPiVDV9b6wqCeDICII3ERPBbY7laCMgpBaCGQXIPwEUk-DdAQqBTyOBQaNtBgdkjkcQ468JIbiX2pIXExqHwQ3xHo8pzMGgAj+Gcao6AB6PatvOK4NQ0gIrWtBjgWSiHSxAHAVbQR4I5WITu1gzHdt8uvOHDtx2E74djAYnBseyYDhGjgTADC0ccJtGDE8INpjEC6OjHejwswQGsdEAPGej1UOY0IzYhjbpg9xt4wMeQEaYxUG8N4+8ea2OHX13GljTXvGacb69M8KYx3uimAGKEwB4AWAYaNQHDW98L8TEGb3onh9TXXA-3rymgTxthNCbEIEMCORL81QQqJpoKNFHbBJR+wWUYUEVGMj-AGo3Ubp0SMQEIMimivtU27kcDfegCaSet0VxETFMFE+6IvitBzR3TBmpic3h2scTqClIE7uXkoxTogR9PZ7v-S4gdTBYceJqaT3FrusT46ucPAKK2xtYv+oU8gPGwLRkYZplEKadehJ69TgkGfUUCsxgwQ9rqV056dOgemo9XelPbCaDUjawjEIJ-rQcdPkwGWmpkPT+zSPUaF+SI-QBJoAA6WAIVblyYBgiZAwQfntPv1a2tSUaETQ44VOPGBM06Zp05mfKnZn+peZgs7xrVjLGSzEApSSFl4Anh8EPQLCAOdAAAAvJTqADzNFBCz3Z0s3AYrPjnbUCcGs+CDrPEBM0qEWqJSfeA0nNwmZzs-bDnO9nPWA-J6tsSsgsBe6ygXuuB0mAL80weARsxWoPP9YizfKec6ecw7iFe6V5nqreZ-6rnqoQAA')">function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave_delayed(
              evaluate_query(first_disjunct(disjuncts), frame_stream),
	      () => disjoin(rest_disjuncts(disjuncts),
	                    frame_stream));
}
put("or", "evaluate_query", disjoin);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p13' class='permalink'></a><p>
      The predicates and selectors for the syntax of conjuncts and disjuncts
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
    
      Filters
    </h2></div>

    <div class='permalink'>
<a name='p14' class='permalink'></a><p>
      
      <kbd>Not</kbd> is handled by the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  We attempt to extend
      each frame in the input stream to satisfy the query being negated, and we
      include a given frame in the output stream only if it cannot be extended.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (negate operands frame-stream)
        (stream-flatmap
        (lambda (frame)
        (if (stream-null? (qeval (negated-query operands)
              (singleton-stream frame)))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'not 'qeval negate)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_8_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8j5AnIBQGA0EgRAYCo2HIXxaiMNlOu62oGEMUkqLieNAxSNIMn-PEphmLjI0G4RhuJJ4V2aLC5j66x8NXJ5AQAPmpShGua1riHagaesGBr+maoi5r2vSXqKa6hpG-lzjq8xqi0UgOHIStiA6pabr67h3pWz6xsCqb0kyHaV1KKHVvWlZNo3IZ+lup7jMKA6AWOv6yEB4HQa68HUZGp5ntemJCeOu6moQnavouFF6tO+6GBkLrKBubFkW4MJYYmlw+aoLRGGZhQjG5lnBf0YXqXZn6Jf56XhoVuXZaE8aEkm1IEf-HX5qKUoTY2zy6H+smQah7GRj1unFUZ0BJcoLXZfls7Wb19nasuTjDGqMQOEoLKfYAD31wKsOj7h3ZNtNwrwdXDA9+QlCgOBEGQdA8TQPEOYLFpcKoYh5YUShuEuyshLh1JjDYGQGGICuaDoMRq8oc2FpOmvlOaeGmqrj4a-7i3gXwDEsWG3wFBYfAF1w8fF+Xhd8Dbugx973aWjoBvh881JjSEGcKmULrSvofflNKDufnP23Qev8hb7oXu66PqfVlPhg1ZSDUHFG-G+mUv4Tz7g-cuPwgEgL+GAj+EDv6H2Ps6EeqQLTUDEHQBQl0wRQL-rER+p4WpuBwXgghqD67EJiJghgbxuKoh+MQaOhBAgULvkQmBT8FxMOoCwhcbCOHEC4ZAgWtc0F0NAAwrqS9hDkHvs6Uo8UQbqy3E1FgiiGDrgoPg-6hh96u3pvI7R5AGDL2EL4Yx+Mry0JPlNYw7RLrKHHpImRpCfjONrI4cebRfFuO1pXfBtsjFEJ-ugxUDD2AeC8MoxUXiFyxOUPEqBkSZEMJEgklYSSGDZPSdIxxWDCCEBBNyVEOT5KCFKWwGxfCOhaGVsHMqIjOGh24R4jJJi-TbhnNvQBDEjEfzEOErp0jMktFIOZVBNk7IOWctSXwttyDRxtrAs8ldfKp1LpxVqdTml0G4CM0Wr4BxTQ4dQBQgjqDkw0ciSYY0YiBX2biS51yaB3JaXfFWJygLkWfP8c5Z9FCEHwOUXm3yv4PP1jEd8YiMhFQaZXQ5BZLH4GsYc3adjYxsOliteuB56ChLBDitC6tdHIIMWQIxDyen00EKQUZ9L6YUsJfIKhtssWPliE3fJ4tBlnirpwxFMiSEGxVIK2sjD6DSzBCKtg0DVzNDHBqMMFEXyGjMsEQ5VlbL2SchLKF7JfAkHWa86qyxzjhXVsCUEDABlryMSIwwGSnmBQci1Jlzr2FLESaAK20SeBY2RU0qopAPhep7i6g+tCWUND6Q6tuTrRiRpOfoGNGSdlB05uYPhMqRA3PoKw9h7TnA0N-mLQ2yRUinVrBmzuVcmHt1LbowIt1xm0LFUkxpTb6AEtbZSYxRS-SmUbfoZtbSWqKuHbQsKuyPL5p8a49xNdXXSLGsC9uChNC4mXX43uEwnm8vFkGdUoZyQaqBcKfQU0uqRo+CE6hUCj1QRWIFUNVdw0PuYFoElh7dpzsvYC49cL6BUm-TOKBUqJSgHxp+5WB4f1Pq5S+wDv8mKChvVNESMHEMRqg5ImDjy33TECpB7WNcYOYZzCB0jwlT1LoCSu-QZLxrIb-QQsZa70MNxo+RS9ZwcCNgcNg3BtRGTJxmjVW1iaBmiYoeJwYu98GnPJHyk2+gVNiOIZbGa1ssIKdDkp7gcm25Gcob1G82mJgIjInBm1xrDDckYOCy+JhwGom433Td2Hm7MYPUQ2FsRGwvsZPuoJj7ONhP3vxiVRtt27uGgFtxAH8Z6cyPjNYpTLq3Rcw6-gSDP60qQ4RlDhDJETHjc6ZzQgCvuffsVgStwQYRarmx16nCyvRcoN52z-yAWRk1WR09U0X4Nc8+WnhV4FKggneB5gr8r6TajhvFe+8xWxAYfA0By3kGVOm2hWbO4duIL25-BeS91tBbY80E2-khM5rLvmlJaTJFuqgo2KxvhGSvfRZiohTFGzdj1OF-LbmisQKMd9gbKgFvSjExqTOQIzMMAs0p283I9Sw4-eO771XCh4ty+3I+RLOVghB+u9HSOs3zqe5xfNBT3sbqgoFNR-Lq14bJQh3DbSxEdIkZPAnfou109tfmxH-7Cm0LGo2NejIEOS4IXhiJ0imKI8u5vPDSvX6GDW6bIXVYGIZKYoFNeYvjX5tOxwSHB3mcy6ghrvXV3V4MX0Nbh2Hn9tlWd5vWxKwEMe9t2VNes7f49KAzqGI9PF1kPG8HzpNcPvkid-rvD8fzsQM19drpK4EMZ69xd0Pqu4154w499OULM5yEUBAGA8AkCoGLmgYkC7fr+dbu3TuYd95VoTPDXgS8yC99AAAH1H8ZJxp0e9EJiOPyfqRl4r36ILnz8+-QD8RoDx7tqprMDEBIFafTUGUD6PcMQcdRupCwrPgAZLf3oONe-iXZGf-fFvc01rSHvWfrOr-n8PwYGP0KXBG00tW+iczTwGW017z-2rUfxGCIg8WzV3ywUU3J1gOWD5X30AOAOZ3BB1x0h2VtUIOzwNx81fECm2hvGoKTA2zVmNVIOLw8SoioKfxvCQMnkDlQILUfSW0LxQV-ywP-xwKGjwKT1AHBAL0awgXAJj3MGkJWxln10wJPXgNoLtA0PIMmAYM-zh3eEWwm29yymYMnlYNPS0P0E4L7l0LLimiD0zztzMMoJEPIAPzELmxAIcIENRDkNtW8JkJil9xz2cOEPUPYLoMsKC1sM4gCKUJVxYJcPCMQLoOsJ0LpzwAADFIAAANAAWQAFFmhAgylyA3FJCKVgxqgi06BwRQBHJBFVBJCzFFFZI8ByAZB-pX8UhT4aQgVM51ARAOBhBGhpBegvZCBDBGgQAxBGjaQ0BcgFBgB3BEg3EABaMogYYgBQXwYAAAK0MDWMMC6m7mABSD6MMGAAADYdBsAsjcjCjijtj8BgZX9-hXss5a8WiLFvsCA-E3ixi9EtJ6iKBJi3jQBfivJyAISuQvB6i+gahgZSAA1iBahag0B5Cv9vjVDnlXD3Cj9PD8DKj1Qai-DjVvjKV9FJAaUcT4tRINAjAoCd4x5uAojkDiDyStEdFvtaS2cWtLFYSnZBgOC6DoiUDjUcNxZeS8TcDCSJDwRcMottiCEyS9DedS1+cptEiwiEw2SuCP87CQVC0hEW1RFxFpT4C983DZSdxCk2MpD+0aiS0zSBdVSy5J1W1REO1Qi1CExE1AgZBUE5p51bUPSOFeCLS-T7UAzUFSQQzjUwzSBp0KsfTcT4D-TKhUEdBxS9CnEUtV0KCdSEtRCCTbT8C2s3TOJ2c2sANzD0y5twQKyRZKsOS9C2tgketvNnhYgiyXA9SbD4y9CKMlSpcWy6zdSn80NByy4usOzlSYs0NxzAxrCwhpzOIpptiksazFykj+9jYZoAM1yPI711hut5yUzetG5-9NMVzuCJTF9BShC4xLTa1rSPCyz5TXtKyPJ2dXtIzAxj9wQvzmzJ4jzzA-seSnzfTAx+y7zcySkylqAKktTUy6SAESygC5SpECDakkLZDWyy42UNTzSoK0LYKCK9lvV-y+yIi7Q0iYiPJPV00iA1NoKv9NMWKKKPIKMRl9BOKlyaKRhOKwKXBZzmLJirz4CbxhKK9ZAq9Pic56984m8i4dA28v860q5Y4+9Aw1kX9NKDSqz+SNE9Ex5DFuB8cWd1NT1ALFiwUIV1ZwRhc1wqVqSI0LKMUehI9MSAE7LwV2p7lL8XyAD3ywQZArI-KHKoVvzzAKVTLqUI1lYgqozI0YzwrQBgyhNbUKUeSZBkqALozMz0q4ysrjU2VScOV-08qdK0RCrAz0rszDKfz+TcNQ83g5V8raqdwFSBU14nL9COqRKAFWq3c15Or0K3zSywQ14rIRqhUYrRLeqGIC05V3cGJxrLCxqczntHAvhQ5u4SdKwyd-0HdrKpK6DvLsrSteYqSM1K04CJyRhLrLddr8BjBLEbE5AWSWdCgzqEwsIvr8ETchNGxT8QZNzKBcR2ViUCFGR7t1LQB2dAb14Xd10nVxqb99c0ahkuLYqqSyDaUqTuyeznzHrBhkbcaJZ8aU0KbIhfrSbly6CKamq81o58VDrjrn0sb6I9QLL1hwb7q-qALLoxBT9GTUbwgX8OBu4xbTw-UVFg0Dxms7hkbxbN5sbsc+b3qHFR1gQRaxbgjsdQAAAePWmW1QNa7HOxR+aZHVcEAAFVnkRqEB+xGUHy4ybFwtqGaDqIAGo4MGUGow4hQbFDbRZ-b+q-aA76Yg7u4Q7LaJg7FTJbbNwHanaZBiBHJGUxB3awlPbELvbJDQB-aOtChY7ZiZBQ6sbwgI6rJi7o7Xpy7465a4Ky5coyCVd9dk8kQXrKwgDZ5sRTqVhbVatIFuajcjb6N-RryDyw7Ntql65+6iBWMGUYhXE9qw4ObKrqEu1S7ZElkXcRwEDbpq696YhZgn8W6z797R6rDRTq6bQ7QW7YdCgWIsMDB64j6wbEtIat6YbbZgsGhtVNxDa9U6Bl5ygD7N4faX7aMhtox8ZGxkbGQKNVagNYxApb7kaCblYibnLFRsGaaibYGBNX6haXBF70RB7y9HM9DU8XdO6Xcebu7Yhxcj4l7qGG5QMPYnMXM1aV4NbWK-QNNZ7T6CJH52GqGV7Xp163rN7oaMDd6CJmhDaj7to57S7Sh4Jto5aeb56mhqQ+GiIH6-wE6eVX6G6igBxP79Kz8IaoaKr-7CzcUU7+G2AwGIGRAoGV5zV0CSVtk4sr1uHXh4dkGgRUHbr0HhHT0sH8aw7cGx5sVV68xqahkEn8FzGcxBMGaKHJGB67q+NZKeHP9q9s46885G9C4MAEaLlgEPlbl1EoUsUBKJr8TMKdwVZwR3kblgYFqeA6memQYrkylzyUEHkWnLCYU6cCoBnPlGmSnGRj90xAK5h+rYg5hVwkmE0GyOQ1mYgORNmTFAKMI9nFbkTYwtmihAK+lTm+lDnlmGzN82B+qnnnRLnChALuJDBSjfB+qvmfm3mjmGzgG9ngGLmgXuqbhT8WoWBDAnKoXVAYXM4Vh3nYhALfbTnYh9BE5QBfBJbjo1l-aftQBUWYhAK1jMWGYcW8WjpQA1k1jcWYhSW7Vuq4RuAGhsXuAaWiY6XQBIRGWSWIWwRwRgBKWDBqX8XeWwBiXmXAKABSMVzl3FyVtZOVgV2Vhs8STFpV7lglo+vFoViEAAQklG1YldpbWRNaBANYee6uNsVfNZ5bWVNpiBtemEAuNoBEpZ1ZVZNqBGVcNfBEOgda5d9eOldY1e6sOi9fZYJkdb1ejYjcDaNbFd5cKB5ZiCNdiFjnTHynh26bmchU-wJsBBXCVjmG4ALYaaLYLFXIinzdmerYpXwBYD2JMF61LZWCVmRFpeOcbd6dZNoqyBhWZaKCra+RKbTHrYMP6auUGd4MMORxZYpwbNVVqH6rXdTHwb0kAsgDoG9EEV+fZb3YPchtHeSbJYbIRYYFgEgD2evdvfPYvcAuvYKNOdfafeScAoADlyBv2xXf3v39GXo82Z3x2QZ48w7O3phu3aXto8rK3+2IOFsL462Zm53C348nVoOGhYOeXJmLxZ36nyZxs62fLXk20MOm2mnfkmV2nnG2KakylcRqg0cZQAZfBN69igZ1hlBgFNBpGrxwOGBhmOASUxmHBP2igRl6OEQigd8nN4xCA-6MDxqid2oFH-0yULoRB9BhOKUw7uBr6iP53IOH7tOctdP9OoUHVW32311jPhOsOcbnLv77GVOSVs1Qaz9w4W3WFHHydwslOPPqEp3K8Fma9FKKmC4MBqmfL2qKBTAGAXEPgyobhSB4kPdxqB8h9NxNqP4EEOAdDkZj6766K6CsvHkI6GAo6m7K6hSyushKviFmh8vgESIhrFibhktTKtAO1gFu4hG0yEwyjlBB8MgUUjBjllBlBJXM5-b9BRuj7wQ6jSgVv97I767RupPnQVvmyBvRlKb+nJBIbfYw5jlvULuxA20TuaWIhoJyGToDv67wQIR66uuLFjBeveolYZPREvYeg-ka7JDrA-JSq9D-vf7-o5YRlsv9zEZYeSvQCZpdITIAFj9YfQB78sBUJb14esgbxYfwhx9SvCemVHkrXJDih4QSuGvMeX9wRqfjJSgEuyiZwUuYp0v4lEfda8eWpcLkK75Mfsf7MYhR58FUUYo+dzSifbAyI1u3v-bIfcRoe6eqLZf66ceig6jaumTv8JeiKXTy0ifNfVwdf67lemAyA5ZLD01Zea6tfCh4RZIyJNp4hTvJJQR+qRlEPburfSBBIWuAEsIefqlleIQTnTM5ttpYfH6sgiffeAf-fBIceGFy7FvyekeAByKOkZF7nP1Pp74O+r2Hoay3lxUgGxCvu7x7p5gSbYlgYfbaavnb1cQCoQYQSO4ISOhyHSKyC0YsSO0gDIYgeESYHH0ocP5v2sSvg+G8FvxPqH63oPqfp-Bf0x9f8vmfvFlmlwbj6sZzfjmcNeNtDwfnDNdhOH-nxCwXr+ERXTZdiEfZPC3w7gQ3stO+e-5ypWff3jo-mDU-m4jcBXcfUhAYrhjAAQwF7+JXQCtTxFh68oBl-IPiIl36gBq+C8FZNHEAHn97+vmAwFNGf638L+YA4LEgxs6qMgQK4Q2kmn15fobO0vAXMQMyYzMz+bgIaCcjigMl0BeuTAdgOAHZ1QBmTcjOQP1zLcTmJXLaE-g4SsDjAK0P5IOxSJ2hpBQA2QVGlszWwDOoghnjcwkHyAVB7A71BoJEGH0Gev-Q-tQE0AwZUeC0AGsYM3jOVj8ZgvjhYOP7LVlB5-GPlRXv46EV+WMTQUw36YyCDBh3fyCBi3SICSBx6QKLAP6rUDoCe8bwaEPgZRDGM7CB7LQzLiQ0SATAmqsHxDSX8Su20aARAOAbECwGBqRZAwOPIuAshxAAJuD3dKyouMOQh6gliwjFDqkN4DoSpCmQzIRE5QhZBQ2IoC51k7VLjPUIyF7I2B2kMqJHEsQgwBgFQQYLgNaE1DTUVcXAQzwH5VQhqiw8hFpBig8kVhj3baGMJiyJCFOehX8tUG4jdw1q7XZCBPXPC5CsIHuHmueCGosAbhm9D3PoC+GFpu4G1J-P8NuEX5Ph3wg6qHhBFhxxqN4aEYCPBEAjrurHVWm8KziJNchbYTwGiOZoNCGcbNXLPcMK5cAnhJI2mqsLObK0QY8InuGiLGpv8iaqA+wh-BaG19XybTY-P0Kp5yEfKmkQwiAiaRcjka3ABwJ4xWhAIGAgxYQBwFID6xQyRAepJf24ZbogETAwBhSHhw0jfsEI5EYwDQbsIGRiTOLDkwhI6ij6m7NjKUFFH+VxRH8SUR3xlFlD0RGTW7HDkIA2IaReGGkZk0GyUQt07QpAcE0Y5YRcg7ohrt4O4ChibEXQpASQ1ABBMp6JolASuDYiPcoxTA1AepxWhCheCoIahGiMURSJyR5IL7GaKBCeiURt1HEYyMe5aiX8Fo3JC0AJG6cCxVAQ0S6IgG8R-ojAKFvxE9FQidRB8Qse2MYiXCy4XYsgD2JCgW1eIkMNsc6LrAUiwm6kGQEmHXaWMSgFRNcZ32tgBJOgenecYWPCAldkG0eCAcyMwhUBjxjYrMSJzbiUg8xXKWcVxHnEU1rYFyLGLxHCD348hStI8RIKliTiGAvYi2jeC-HbtpgN4I8RBIaATikgwE6cQ13AnGcCI20aCShPJTENrY4IVcXsHXaoC1AJgLwC1EYDbDKkZE5wNwHQHPj0BxYkJjOxAn8oaQiqRkHBKnF8QLa1E+cRRPoBGcL2aEWiTWJNGMSFUaUFcduOsHTxA0aPfauHEkBRwdYzWDiUxNFSoDeA71G4WwgPEMdhuCWdPttC-HbVOIqUbWGdBxBshugo0T7PDiXapRzJZYXwCVRNHI4wIVRDUPpADQzQb6TImUFgKJDbxtJ+sRsN0EZAGSrxpuf-KqO6DhA1u1Pfet0DpwRxQA9tAABIFEGAAAQXADgACiAAJXtqQAAA8t+2QBAh4aPlDOspJ4nvBtJ3YkceNXUlDNfJtUycQ-xMmaTo47A6YV5halJAg+JkzoAuGqmGAhqA0zIPsOLDOAjE41VKelKyk5T8pRUkqaNMkAidfJXUg4VNN6l0BxqJkn2B1IYD+TAybEg+AQW6nOAjiOsHkVdXajDTtp9U3IbLF5j8wlYOKQsYPiOgdZCJqSEiRNJmF3x3plkYNF7EnH1ThclUtQH9J6lsT6p2aJKcPxty5AHAXRIEAAAYZMxqGoI5HyQj9r+5SLPNQEGBxxcZSM22NoCBAIzkOyM7QP7TxART4ClMmVNTNIBDV2cWMwZA8MeBojGZhAgmZBEe5YRGe-VLCDzIF58y4+RIkiEZI8iBBtMHM4kakGqDZAR+QU+HKLJv58y4amdHGTbl5kxRCZSUckLam5ggxHInQeJMcPfSRSWRuA9LM7TuDszfhXI9WfjP1mpgssv4zcN0P9RYQTZDAM2WwHiRFCkBMEv2QHPiQxiSBm2UyGkOyaMcw55s5WUV1QEVA2ooQB1HfwNFG5OZZIommNGNmBBTZicxcSuBVE2ySM+Maxu0H3FoiHwQYhjFJWH7EBjRcDSiImKNCajtRSItaTdQSH1SW5DchMCwHNHgRxwZ9UoKuKjBn1mgCcwOX8J1FeifRrEHHgmPxh8p2h14o7OyELn+zE5RQx5CT1nkRyLq4-ZRh7E6DGBAmcc3STUJ3nhyMxY4-EezRzFgoKEfwSWY8NPAPTrJM7OsaaO7mVi941Yo0eSAHBajKem7dUYFAcAh0EJHE+ed3IHFIiD4GEwoF-IXFydgMyQsuZuFPAkZV6eASEEQpXClikRXc0ET3NRGdB+5K4QKOAtcnno6gsYK0XQFgUgSP5S4VBf-IoVILQR2KaCAIpSaJMPZWYjhSSPQW4iLG2Cm9KnNyypA746C4BRk27KELiFVs+AjhIklJC25tC1IfijEXMMMF6QhGjAsrpwL+IhAPcL+DomMdlxEkXCcMUkmbjNFeEncSUOrlZBLFlbUkCeKpLvjUgqoyxZvIWi3iX5b1UOO-K8U8BrFRNfxRzL06jQSuoStuK-IiWPBCAv4KJbTVACqLIQcSrCEEqx4P4PxStDJQ-1MW4h2FYEvGKvTAmkgYJsQCpeYotoGSal-ElYAZPqVcLh6WEiAS4scVMjUglM+WOViv4YU8C5WWaiPz6ZvBr46k8tJTKBGKD9gKso7ozJ5KLLchdfEUnaEWWnzqk7fNgGbN8C1om5NPCAZYVoirLpZ5gCjhYmGWUyqJ2-SlCDKSBPKyAuIGxWBhnbXwV8Os2DLLLHjyzxQisr+IsqBzw4mlokxkHYiaXsKuJryo5KgtmVnhGBvyurIsoaVFBBJICk0VCoRQsSGeDi9diV2kk9DP0yXbfknOpGeUJ0gMRgJirYyySI4CksyfiuYkDlHsSU2aQwFynWQAAMgUVKmeTMgGMocpIEhmUyjEMMjBbkMalrSKg0cbaW1NWkdShoUq5VdbDGkLgNVR3bVf8umm5CeVfKwVeABWkzg1VK0DVSdMek6xr+hInFHtMUkHSjpyqrFU70pmXSzo8IYXE6rMlCyplHAL1fdDH6oCKO1qwCW8tlUUinpnsV6VeEpm0sOsdy-5dSsraRqjkGC8GRKsRYRrEVsM1AaHB3Q25q++gBFXVIXGmT7o41WNS9IZIrgwmx0fGE9J04rRHY3oOQedPAxlrnlMqimu6tjDuxw1I-IxOWtBkYLR22DPWJmMbSUqPlPaj5SOKrVNRVZM7VoD2yBB2TahC62flZApXV9LUJo9dQ4BHluTagJXItSMznWV8d1PQKdWbGtjHqv4Zw3rLeoPj3qzoNyr-B1PFCBStlzcafHcLCk2Ex8o+ABKqOA2t0Q4kcQIFDLKiscOpi3LtTtLwF88f1786qRXIbDw4QpQIF1eWACmYa4sjYMbtMmVzVTl1YkM+n6vug4h++yG4NU1EPXTBCodGyQtVMY0KAnK+MEPshqTiStSNssmcBRoDjaLhsWTCAm2Rg0gxGZCG5qZsp-lUg2JjIFFfMrvjgrQFfmBVWwl-UnT1RwUvwIyHw24gApJ04jfDkE3K5GZssHDnpBo1NQ2NCpEfpxuY2wT+Ajmz1bLG42xgRZI-fjbS0s2vxrNZsWHKvLIaTCPIewxmcEDg1C9kNV-YZZho3HiootI-JDZtPoBB89h1U9LZNMy27DhAnajLV-CS1QQPgwQBYchp7mIaiNJY+HCvCK15b3gjIHlfNLykFTipZq8kK1uyntalpwq3jcVv808sGtsW94DjlPTggMQYPSTWXFS2PAFN5IcrbBtk2MBENGm+iVSFG1SqWtaU3lQKqFVMRjVB2gbVjEeUGBJW22kdRNo0XTbBlP9XEG8D2JNMY0-66aIjBjRDUKMT24OMQKG5kUn8n2vETLLEQzgftKIUAf9sCiRy62s29cqkHc5fNntn+P7Vf00xA64d3Fa6kjt+2vaKRwciSkNVnI46IdqO3ITDqO41AxAlcFaKWrx0nDAdvqI7l6Rf4bCmduQgnbDvI5MoFA5w9nRSIp0ET6AexfAErPB2mB10H66tW9vc7i7Kkcu+WgtCl1NRrYT20XWCtB0FpkdEu+bHQG12XkIJ+6qld9uF2-aFd-CgiMrsD505WNBBEQJHSN0fL+qau6oFO1tRI71d+gEnRLqXV6wZdO6X+t7sqRB7FdUk-TOeLJkAx+g5MR2Dikd03qKMQer3SkH11hBfdZsFCBy0lYe6lZxOlPcHCMQh6Ldr0K3ezFt3d891s6g9ZDBT3q63dluTqWN0FFKiKRCGFnRUjZ1gCdgPnL4CwH85HVt6ADVAU4P-5tVBp6ez9bar9hxr61V4RtXHsb38Aq4fIi+AKKbTj6FxA6gwJWDf74sMJpQnfZIX1SDDgZ2c5oCPpcFWDwB4jakGHBZUyxFJb4vSHdhmjgy4mZsedLbov2WC+qlemsJXGvVHtQA3+1wUKinaNgbgWA-5pTEZAABOE4O7p4iUxKNRgOUcamgPdRKNInf6PLG4Aoap64Q2eiBqnpBMBwLgF-KjPVGFAMDNiLPlnyshoBGDrm1iHRnxg0GGuHwJedQaQOYGnpgiYfE9KQIHwXADLTKlmGvlBRvmyBvgzgfXSQGOoPBnfo-Mi1HLuopy+tJQgq0T7pdS49-WdE-3uaCCqhk5UwDOV-7NkWgQA972MPqHRxPldwW4EAO3o6AhUE8GQGXihwz2sueHK0EZDcDlkzALAQ4elUfxjAzhwqC9yOChrNN2+9w3I0hqgBKejZPCbbHhDcN2D4INYlkcCEqC0B2-G2BEdABZGKWmClYOwa37zrWgxweMXRhYgDgKNcwxvi1EK29Qqj6o+bSDBi05bstVWnkm0biwDgkSHhw9okfUihxpaRBeuZIZ+YQhij2R6qYIBaOiA5jWR6qDUeSERA2IrBso4odmMrG8jHy9jIikzgrHVjcYmgygebV2r41mEseJ9PpgVGb1GElfbbDX1lqRxScQ-dVR5YNxW+a9KvVStaAiw798kh-WZJTjpFBMEW2KtdSECGBHIw+aoIVFXVUhfDQIfw7wOCMHiI0y+lw-wEiPRHNtAgCJncaBBFCATlR4E93Hv0oGITN2-6u71xClqXjNAFFECY9jXVhR2+3fbS1+OoCqdKKE5NoZXVT6eYM+7EDinn2i9BQ+PBtP-ssOlqBTfXJw-IO6Vl0QTkcME7Roprj9pT4qZlaCZQNvjBFL+zIJnqKCl6DDwrXvg7opOV9+qSpuw8EacNZ8yJ+gdpaAAAA6WARLZZxWhzCZAwQOWCbC5ahtHkaEeg5ISGNvVR+aYZ06WtdPdT3T7S7076bTlMB8AvMIMweKVq8ATwB8HoIZm4AAAvQjl6YFCtqMzWZgPu7lDOgBSz4ZvSJGfBDRnjAlqVCLVFhPvAETm4V036arOBmaz1LKPt1XICR0WAkdZQJHU76TAs+aYPAPGapV9n0zAZ7M8Ocf4EFxzk56c2P2bPVQgAA')">function negate(args, frame_stream) {
    return stream_flatmap(
              frame =>
	         is_null(evaluate_query(negated_query(args),
                               singleton_stream(frame)))
	         ? singleton_stream(frame)
		 : null,
	      frame_stream);
}
put("not", "evaluate_query", negate);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p15' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Lisp-value</kbd></span>
	<span style="color:blue">
	  The function
	  <kbd>javascript_value</kbd>
	</span>
      
      is a filter similar to <kbd>not</kbd>.  Each frame in
      the stream is used to instantiate the variables in the pattern, the
      indicated predicate is applied, and the frames for which the predicate
      returns false are filtered out of the input stream.  An error results
      if there are unbound pattern variables.
      
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (lisp-value call frame-stream)
        (stream-flatmap
        (lambda (frame)
        (if (execute
              (instantiate
              call
              frame
              (lambda (v f)
              (error "Unknown pat var - - LISP-VALUE" v))))
              (singleton-stream frame)
              the-empty-stream))
        frame-stream))

        (put 'lisp-value 'qeval lisp-value)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_9_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8j5AnIBQGA0EgRAYCo2HIXxaiMNlOu62oGEMUkqLieNAxSNIMn-PEphmLjI0G4RhuJJ4V2aLC5j66x8NXJ5AQAPmpShGua1riHagaesGBr+maoi5r2vSXqKa6hpG-lzjq8xqi0UgOHIStiA6pabr67h3pWz6xsCqb0kyHaV1KKHVvWlZNo3IZ+lup7jMKA6AWOv6yEB4HQa68HUZGp5ntemJCeOu6moQnavouFF6tO+6GBkLrKBubFkW4MJYYmlw+aoLRGGZhQjG5lnBf0YXqXZn6Jf56XhoVuXZaE8aEkm1IEf-HX5qKUoTY2zy6H+smQah7GRj1unFUZ0BJcoLXZfls7Wb19npA9y5UUMD35CUKA4EQZB0DxNA8Q5gsWlwqhiHlhRKG4S7KyEuHUmMNgZAYYhU5oOgxAzyhzYWk7M+U5p4aa9OPkzmuLeBfAMSxYbfAUFh8AXXCW77geF3wYu6GbqvdpaOhc4bzzUmNIQZwqZQutK+gZ+U0pS5+FfbdBjfyC3ugq+z+f29WJeGGrUhqHFY-N8y8-W+r3eU5+e-H7+Z-T9fhfOeC9nSN1SBaagYg6AKEumCd+19Yh71PC1NwkDoGwKATnBBMQwEMDeNxVEPxiAAA9CCBFQdveBn994LnwdQQhC4SFkOIBQt+Ass7AOwaAXBXV+7CHIDvZ0pR4og3VluJqLB+EMHXBQGB-1DAz1dvTXhkjyAMAHsIXwij8ZXiwYvKaxh2iXWUC3dhXCkE-EMbWRwLc2jWJMdrNOMDbYKPgZfEBipcHsA8F4QRioLELm8coXx793FcNwSJPxKwAkMEiaEzh+jwGEEICCbkqIonyUEMktgWiaEdC0MrEOZUmHkMMM4RRnClF+m3DOCed8GIKNPmIVxZiwnhJaKQcyQCbJ2Qcs5akvhbbkGITbL+Z406+TTOFdWWSUlaJVk00Wr4BxTTIdQBQ9DqDkzEciSYY0YiBVajk6RD8Nk0G2UU7eCzSDNKAuRZ8-wVnL0UIQfA5ReaXPPrs-WMR3wsIyEVPJadCmcyyho+ZDhdo6NjCQ6WK0c4HnoM4sE0K0Lq2kQAuRZAFG7KqfTQQNzDB4vpuihF8h0G2xBZMO5cZDbJFSCJepZ507kIBVwxBBsVRMtrHg+g0swSsrYB-VczQxwajDBRF8hozLBBBVZWy9knIS0+eyXwJBRlHN8NVZY5xpkqpqQwOpw8FFMKJZw-ZgUHItUJfoU12DLYzTkpjA8tqy7pyqKQD41rK52rCcShoBqjUNNGF6xZtrSFhDaWFJOnEaG8pEJs+gRDSGlPKfErBYs6W31OrWV1NZgX4JLimk5vU3GcPZQE-J6dC0lPjS0tuYTjKmTdfoGtxbOhwNaZw6NtUVVxqscY0xmczUZqgk8kuChNC4gHTYquEx9mxECmK0M5JJWPOFPoKaXUvUfCcRg9+86oIrECkCgpHqd3MC0Miudu0sH+QeQu359AqTnpnO-blEpQD41Pe6g8F692UoPbeq+TFBQbqmoy4eys-1vvYR+vZR7piBVfdrTOH7QM5gfYh4S4sxnDTsYO-QqLxr-qvbA+tlBI13pXGxM4OBGwOAgVA2ojJ3YmxqjMwNxdGOoOY4MKeMClnknztNRGAmWEIIdZka2WEeNlL49wLjDA5NoN6jecTEwERkS-Xq0FLhDDckYG8teJgX6hxnmNcdM6TEzx+bERsB7GTWZBrusjLiZ4YYObhqaxBJ2UGnQR2dQH8ZSbYPjNYyTLq3UM4a-g-8z44pg44tznbh0XmI0UAzQhYsmZPglgStwXOBZsxll65DYMAcoze6l97IxSqQ95557xmBH3XmZtNZjoUKVBK259LXcvtayoYUeg9bPQtwT-J+bWAHpKoQRbrO5Jt-2m2fXu-dRvwPZU0UA7HV10d7XpvDQSQnsLCWNRs4LGTHfUfgTRHnySNm7HqJzMXjPxdfgo8FNKVB9elExjUYcgRKZU3x283I9TfZPS28F-qiiwqiyXeeiKKVgie2akHAOo37ZmXGuJp3zVQUCiI2J4sP1EbQj+0YdKi3MNYdo-FsQsFTJjR5ON-3r3pqvud37w9GSU-Z7AsnZbqOFH+2tseZOBdH2G+t02DaqwMTCUxQKw8e04+QUtjg73Zv49HeSMXMuJdQc1w7UzM2yqG4260lclOTfa7KlB4XV8qnUZ1DEA7yc42HwG+byhuuudQQNyNoeDFevNdXvbobwf6fTEp97yPjBHddqwS7kD+28DqzDnIRQEAYDwCQKgBOaBiQs9+gXSMxdT3VErvAzNCZ4a8H7mQCzoAAA+rfjIGNOtXlv7fO+pAHoPfobC25t4736BviN4Fq5VVNZgYgJArRqUAygfR7hiH1iJrCteABkO-eg4ws+Jdka-58z8O03GBFnCeNfX4vhgy-4ngnE9q76KrLfj0ntPWvN+s3bSImYszh7pxFNFLqltXFRCJvPvfo-vjuCGAa-sAR5GAeLlbqPq+IFP-kmE7IMAAW3DVnRjMigUnugcsJgYfjeHgdXIHDMlNPHitoAj-mQbftAUNLAZnFZPQWbmfIgTMlwXlq-KgXLhARgbhlgXaOIcIdSsznwX1hHgwTFCQSIcwX-hQdgVQQQW-hfqkHbgoR1qQYuiweQAvmwT1k-rodwa-LwSqhYQITFB-tfioQmJITgfoBoZoUgeYLYYNonqHkwYYaoSMJQdgZtkAXgAAGKQAAAaAAsgAKLNCBApLkAmKgDgjorBjVCJp0DgigCOT0KqBpEqL8KyR4DkAyD-Qn4pBLw0iPJhzqAiAcDCCNBByqBeyECGCNAgBiAFG0hoC5AKDADuCJAmIAC0KRAwvmvgwAAAVoYKMYYF1BXMACkLUYYMAAAGw6DYARHRHxGJG+b4DAwn7-DHbhw57FFqKXb0CpGr7EBBwyJaR5EUAdEnGgCXZeTkDvFcheB5F9A1DAykA7bEC1C1BoCeH0oP4SL8KOEBH16pCsFL5mFwEZHqjZHWGHaXEYqyKSDYqwleZZpKwf6Gpf4wLcAuGhHRqcbQlXG3ZaL+EEkJjE7HauHBF2ihFAG0EMriz4mcpGx36mE7hP6Mqua+awIYnJyMolIsJlJ+4GGMmBgUmAHn7Jx0H0AELODJq06ykj7KFwn8mIkP7IkcFfoETgh0IMI06pr0ASmcRtpkIlq3RmKQG4YGqBAyBAJzRUkqr2mkB1q8mBRumVBAKkjemHa+ktRCoBmumggk4enxI6Ccmz7l5GJBbOmiFZpz7GEwHGkcLgjOa2keTE7OY3oulZrL75nFbEDggizsJhBhnJzObJZinuY-6xBOGKlqHsnKmEEqooaikc51l5xiGH5AYNmcTlbNnIoUZCb6kuBUH1m9naETpTr4apk2ZAZlnwmibCGLlaGqmpDboVYpalkZnbkmxuEhFDlJnLkskMkKmQmGnsF5nHaFnXCFbqI-HRnlk9bgivm1ltzjkeTXbgq8l8kuBKn4EqkgFJIpLUBpL6F6kPnZrZmCngFWRHLwVWEyF9mfJWkymIXDmBG4FXlQVLnJxhr3nkFBHqGkXUE4WHZWphpECznIWT5ZAsUMXJwoZNL6CcVbmdkjCcVAXmCTnMUdFEUJg3jCXp6yCfJZ4Ry57RwF5xyWCl6PmkC5rEKb64YjLH45rEDQVFkfliIyLNzyLcAw4E7CYxk7jmkvJvLtTqw1nEZmVYqeqWV0lK7kUwW8qTqOUrQ7I6WZkImoVIk7gyCcEOXvLOVcWcTopuW4merKzBUJhBkemRWgBek+UeToqgUyCpWBjpXKzcChk5XmCkpI7krXoFV15FWxnuklW6A3nJzE6Qah5vD8qFVoi-ntXMo1k-a2ywJxUeQQak7G4MTdUoUmHhVgjDxWR9W1hvkuCLUgydUYLDxTUuGbUtWxqOBfBlIVyI6VjI7Xp660pSXYGu4QkexJZyDTznVzkH4jDXU477X4DGDqLzI4lnYRCFA2VZpYT3Vkndp0aNh3Ern+bHWnWwKMi7Y3XE7A0jyy5mrGpTXb7B6o0NIjUVU4lCE4o4nPD-UXWCWDBI040Sx43GrKyE2RDE1PU3jk1GXmDw7tRkpIr7qY30R6iWXrAgyPXIUcAVyr5GCY3hDH5C1iAi2nhLB+ilBYSI04mi0o3c2RrvF83HXsrNCS0i0f6iwAA8wIl0Utqg+gMtW2+kHSXS4IAAKl3KADcHQL4ASmII3uRk2NktQLUM0LkQANSmn0wNTV5Cj0li2gD+0DV+0B2vRB0Vwh1m2dATA6KmSdKyq2320yDECOQu1u0uIe1wXe1pHh3R0vSx09EyCh0o3hAR1WTF2laxBl3x3m27UeS5RCFC7B6-XkhvWVgP5dzYgC1FAzJZZvxc0K4Q6Pr+i34Xl60W0LQ5x91EDk4M7GIHXV7Q3VUYJM713NAf4jjPW3Ri310xCzCH7m3H3cLUiGaXnsli02h2jN2eagAsRgYGA5z70Q2+arns0o52YNAyqbgf7yp0ADzlADKy4+3faFBrqT2vC-ZI2MgoZI22pp6xiBQj003Nz42YMwJQoM55hU3Brk1QM5h7Yk0uAL3ogD1p66YUW8YyzB4d2y7c1d1Ih9rzyL3UO5yT3D3X162q1-1T0hU7nK1jyy1oR7wcNUPL0vSr0fXr0-1nVXxz04LgNjz73bSz2lalDwTbQy3c0qOxC73X1ER31-gJ0Q4kP3IrgDjv36Vr5f1Q2KPDWwOM6p2AOd1pG2SgMiBqODwar0PIqTJP0wPYYUjwM4mIN3VK0i5+joPX1I3YPk2w6xiJPU3EMhNkNPWUP90oO5w9oZ7yXnGRx54xyF7xzYA3WrKnKbIXJ6ZUoCWPlhVGkRUOBWRrJnJbLVkU08A1PnIgzrIpItmXrlK7KNMH031ZDfI9oFR9NdMfJ6aA7Ag9bpgVlzADWxBzCrh4MBq-kcgbMxAcjbNKIVkYQHM8AbjHOrO-k1LnM1JXPTAVnsUDXsXOg7NFAVncSGDJFaqQw8SUxvMnO-kAMHMAOxjvOFAVk3Cr4tQsCGA1nQuqCwthwrAQuxAVm+3nOxD6DELcC+Di3HQjL+3O2gBosxAVmjFYsMy4ugD4tHSgAjKjG0sxBkvLN2VwjcANA4t4sEsMugCQjMuktAt2XABUsGA0t0tEx8tgAkussVkACkYr3LtLvLIy8rgrcrv54kWLyrkrhL+9+LwrYI4IAAhJKDqxK6q6AGa0CIa9c3ZfrUq5a-SyMobTEHa487+frQCFS7q1a96+65q3ZYdE6zyy66AMdIG0axCIdD65ywTM61KyMrG1G-a8aya2K3y4UFKzECa7ENpemPlL9h07U6InhXrYCCuErHMNwCW-0wswWIubM+sqWw2zFPgCwDMSYJRpWysErMiPS6c3M8DANS4d8qy0UHW-M5nmmBFMW8O2tXIXnUDj1hWcusIANeuxO-g+S7+ZAHQN6PQr8zEPu4e-5tuzu1C1QEi7AJAAc4iwwLexe-g1ezC3Eecw+3Ec+wzhWQAHLkC-tiv-u-uGMERFvNa9Mtv1vx4VsAhVsaDKz0vbQFW1sLt1r9ZNvztQfzPx7Gq9vTD9tIddlTMXiQedPkze6Lk3WaonLYd1MFhyou0tNIXIU0fVDKYygAy+Dr0zFAzrDKAPyaAyOrhTvkyDMcDIqAK4rEZNLMcIhFDY7v7xiEAb0c2UpTWs3wpVVqcopoQXQiD6Cidlt6b43cAX1ketswd32or6eDBGdttlQdtdumBmrmf2e4fY0pOHMON+a4jOO2xAHg1r5iBfAsBELaco5ObKeqco5JTqW3yOO4hvAzGfLhoSV1WQkXl2oiUSxJbJchxpesXIXbTZflUrUsIzj5cogmoRpTU3ilf7m+WJcdQpApf1N2oZe3xZe1c5e3WeprytcFcde-7OGH4Nc3WTlfNtcueFd1dXU9dlfAliBpwrRGKkC5K1edclcLeNceTMLcRpLpzDcA2jcvU7fUc3IKDubHfkPmPjc3UkImD8BHekIactr7dYUFJMKzwQ0hcdvhcnWb0BfM36bV4cCUBDY6w4vo1Yw0tsYzRhFyWLPFNKX56xwYAYDxedUUCmAMBGIfBlQ3CkC+Im5TUN5N6bjbWny-wcDUrIwTNslZCk97IR0MBR2N0V2snYHM8ILNBU8PwkS9cDE3D4ZmVaBOkPwVxFfgWCDKDKCN4ZDApGDcApHKC8thz+36Cq-73gi5GlC6+X2R3F2q-fvOi6+1mS+3K9fMJez0nd4Vwq+EqO9iAlq2-PDQQneBhl3F3ggQjF3C9qLGBi+9RKyyc2-+bO-zoR3WB+SLfh+4j-RyxNJk-GwzRa83KSZpEmy6QmS3zL7J+gB75YCoSbqp+Iw3jJ-hDt4M-YGV-WvqTFDwj0+uEF-H7giN-GSlDY8pEzj48xRE++LJ9NoGCgGe0IXbwF9F-aYxCX7up4XSl06V+2BkT69+-+3x9MBkByzbRhpL913T+5Hs+MN1LiYgoFj4WL8Z-V0l2KiH-F0b+J9c92i79X8s-F9FDwiyRkSbTxD+Y5SggDUmkqHSQFDUT6TBrYqyLGEP2iS9MQBWicEGc0Uw9Yd+Gfe+lkEr7ADbem-UgIJGL64Iy66fDfPT3BAAByKOk0h95kC8BJ0S3vHWT7W9f+uINblomYEp8RGMCCnq4VYFedYwFZIQBuysjBBI6DkHSBhTcDFhI6mlDgPCHAHQR5ajArgbWHW4-dsC3A2AVgLAEyYFB20NQTeDUEb9WBIPUALx2rAGZBOM4YeCcg8Ayk0ubAzCuP3Pjfd6efAsflYW4CkoU0BFbeN9x4FKwTB-HcwR+isEmI3AkfWweAIxhdcHqr3Zwb+Ub4ixj+pJF7oQAiG58mERg5gb3CGTEJghNg77pZnAywVUkgCb7nZkbDoo96QIFcMSRP7TwPB2pcpKUIwyzNrB4glaIsjigIdMhw2bIbkNCEu0auKQkhshnLbB4deZzenltEPxkJWhxgdoYSlnguEZhIQuYd6k0zWwKhYwtvrc0mHyAVhQ0RZBsNGGy4de-gswdQE0Afoc+C0IGscLHg8Dl8ZwgThcIsEMQ+hCiFAc0nCF09IhtwkzkA16azCDhCw2rJRHHSn9ShC6QMnEIGo1Ckh4Q0EfViEYJh0he2WhpxH8wkBbBnXSAS6icEwDtuKQ62AAzS7ANFU-SBfjqVGSYjiAwTRbutWu6vccRqQLCPiMyT1cYhkQkkUwjJF9IKGng1hKMgZGUY6R6I5AuIO0hlQIe6iEGAMAqCDB8hI3QMDSOxFt8LQEg3rnKJQRaQYooFRUZ7wgqH5hRgwmgiqmZLVBuIFcBOgL2Qjj1zwnXLCCbm5rnheuLAC0evRNz6A3RCaCuFtUPzejLRG+V0e6KOpQYAx1eObnaHDG+jgxPol3ux2QZOjw4zcKam2E8BJimai3TTtaJp5cA7ReY8mg6Kxjmi4xOY8UM6L5DuDCaRgqaPfGxFKimmM1ZjqSLSKN8W6v0cPLbEfhfdSEVY5uNwAcA+MVo98BgA0WEAcBSA+sWQoQA24pDJ646OsZCLCZwMIO0YsQFdhDHxjGAyDHkcmNwZP1bua4-euu2IylBBxAVepH6THETiWx5NYjM0FyAzivRm4snGuMfCsQH046Vka90Ea3csIj4rRISNI4ATJm3wkJlhnxgnpSEmTaBgaJ+xPjvuRgzTgwCFB1pQQG1anuWK4hUA+xuDbnKuM3Ebi4xKE7cUrQzHVi4JR44-CeJgHZikx-CDhHeN+FSwyAjAaFvxDXGvjNxs8BibhMYiKdDsvEf6GxJCim1eIkMHCXuLrANipJOvGQEmFqC5FiB8kvYIpOJHtBOghnSSQxPCD08EG7uSIbWNPhaSIC9PZCahMpDoTKU4k7CYxMJoQCWRWMXiOED3y3wsIOkyYSxKSAMB2JptG8M5J4GKgbwOkwKehC8kiS+IptbaAFPM4ERtoIU2KWikJq880iKkporHzFHmA1AJgLwC1EYDqjJRE-CUaiG4CZCbJmQwsVBEbC+SScNIIVIyCEmsSfJok-QGVMkkFSSpN-Hds6AqkUTbuNUwVGlHUhpS1JMAq2JEMOohdJAkPM6AVkim1S2URg3gJ9QtEkITJbAggdFKoCmjDsqUbWLNO6Bshugo0Kqb9iWapQcQR0vwGVVu6A4wImRDUJbRNiX1DANYmUDkKJATx1p+EqkN0EZBbTq4yuW-HWO6DhB9ejfS+t0B7Tg9QANtAABJxEGAAAQXADgA4iAAJRtqQAAA8r+2QBAh4aMyTOvNI6nOAFEjUpIHxKmrLSBm70kycJMz57TVpxCA4cVLJn0zWJKUvaZ0AXCkzn0vXbmZkG1HFh2ZU1eGYjJRlozMZOMvGQLMkAkSKgLM9oWzOfQcykgU1PaT7GZkMBPpHpCmXQFnjwEVZdABYjrEQI3VvQysnUezP1lUzOussXmPzCVjQoGJjeI6BlmynBI8pwswqefFdmWQLmXsViVTK87Ey1APs8zLbKkmBwYZUgxdg4EqJAgAADBxhVQ1BHIsSDILKNcExRqAgwTfFnN5QJztAQIOOUXKGpAl-aeIIGVmjLm5Bi5pAXrsTnTmXjcxZY20WXPsGCE85MPF1O3wGpYRO5OcsqHnLQHtzaeO0yUpdCwYm5Ug1QbIFnP1jvhC5Xc3OWaGBIZyh5cFBwShPzlMQZk3MEGI5E6C+J9Rx6YGcZPyEhYHaH5FuZ6N3Fbziha8rbLgm-FEjYw8tLGIfIYDHy2AviICabwaDfzf5viDkUMJfktBoJWTZCsApPkLzaeRgioG1FCCGpHBvYhXDaKXDRyxoB8wIEfLgXSSbGhQy8bagQz4xbGGkpnphNtEPhXGOGLNAZQPGYY6s0YYjBdiImBiSJvMGJlTKYX0KEwLAY8eBHHDH1Sg8kqMMfWaCwK-5z44iWGPfFZhi+oTSCbflZG6T5s7IPBT-LgUlc9k1faRaAquqpCrwzQcRcYBgmkNbuBi2wUhOIRwoUJxcV5Kgj+Djy8xp4O2adIIlxiOF69BMWROoVYLMxr9WRYGPr6jhhFPoSekujoAh1mpkUkJR6NDxvizO3U2IO4ujlHAS6MDBccZNPAIYGceASEEUpXAXZCJQITiX4unjpKglDWLNEeJtZBh1QtQa+Q4FiW+TXFoUxUJxLDHcSUI0EVCExL9CmQ7FUWDpePV4WrpPxG6JBVFlSDbx0l5ElMUTUKXFLz5WadIgpI3aIjWFaylESMoM5JjqlfU0hplNVAxKK6cS-iIQD3C-hKpcEhBm3xGkbtlJmy64dtjsSaTrltbUkHpJxIOSSF1y9RZknMmOKPqZSFxV8p4C3L7JhknQsZMICjQzJ+ylaKhKcXgrHgCK2tmyELGgAVlkIf5VhEBWF998uIzCD8pgGtKLl7S-yXjAZz+TSQnSwoJStxDtLoptK1JdMGikMrEpzoYhtbA2WqStlAkg8pnMeADkXGMkrMk2NgKVYFqWc5aoNQ3jLTykccv0TRTtCqqemZc0CqquZEiNGe8Ch8Jnz4FsBj5vgBEppW6bWwXCtEReZPM4g0c1Eccw1aVKUG4go5vUlMT9IEAbxh8oqz9IEHEytzxQc88+KqqYgMZzluIQaYyB0TMrLlptNqUHMpk8q3gSqnUq2kBiMBVVjKhoJ6v3FwT41Max5a8vp7jS0hbqPHm6sNU3Y7svq7LDmuIyTTweM0+6PoCLX-IhUMcyQLDIRkMB0Z1kAADJxF8ZO2GaKnMOxhykWcc8meFI8WFqVpdM-WYzPlnMyhoM6tWQbOtiCyFwG6npjuv9UKIxZfagdcOvAByyZwa6laBuuXX2ydYLUSLAZ2hSayoe2s3WZusAV+hwQcc02WdHhBecX1s0-uXKo4C-r7oMgowTRxvVzrsFMkh2Z7GdlXg459LDLI6v9UurA5wkkOdCinWHrN1VM9saD0nRa5mBrUt1RimTV0A+J+0+6FNXg1OyEOK4B5cdHxgOzbOFMZaNBnah8z3gZGsgO6pg3JMeVbsXllBqzkKIk1WG6ORO0SZ6wkJla0jcwOo16xvVoAVoAOyBAXSVRag8ED+irX8btUt3dTQ4CEUPTmlMAspMRpBiKa3Vyms2NbGM3nxjRfG5QXZrOiEbb4zM8UN9MlUFx7elcAGXotby3w6xgWjzR8GCCyjjZXC5mVr2Nn6xx0XmlxTxrIUNhfsf0oEG+vLBfSUtT9RsPL06SC4eNNGpqPhxeiAa213QMQdbPoBgamohm6YIVBxDVaRZtW2WC5VjBYQeN3Ad2AVsDUzhitAcbZWNF1Q3UItgQf1TFrpm6rPFVIfWYyDTVngM14a8kIlvenebl1gjRsBlptiKydZ2WvWeFKsaDUqQfWwXGXNlhla9IFWpqM1rSI-r2tx2prVVvu1Zy6tCgDrX6EHlZyetvLM7UfAu1mxvsyi2CacsEDCBr1hc4IBHPKQpa9VzquHfTy1EI74t1sLUTxri01aDZmoiHTDqKlY79Y42qLVjqm2KzMdrW7HQ9l+yDwrZFOpZuLORmoyMZWM3GeevJAM7JZzOmWaOq63Gzft9LGnXjveCQ5cM4IDEBlOo647nVM28kETsm3sdYtK2lcVSEF0zrGQDO09SOqYga6h1I6hqVjDjn86pWqu8TSLvWXi6jByXfAPPKq4uc3NtGvVc11t3pJnd4jBaLJp1jWwrd88ycq7rDzTdKMn6xnApurUoZnd-ukOJGnf5JSsGQ2-bE1vgIiBI6em5gQNW92U6bqU3a3X7MG7Vd7dTUNgc1ym6pdi91XTPuWpUg2w7Y-QcmI7GhQp7Q9SWUvaYH0DN7A9+ewSChC5a8ss9Puiri10MAB6FEbeqPdPxj0wIStgkZnAnqEFWQG9Bmv5oPuz2zsZkNQZbgUkWQd66N96hDYxqvDMbo9-YMvlkHn3rd9Aa+lbvprP2LIg9aEZtdNJlhQ9iGy-fxNSDB4P7J9ODPkMX1gjNATYXeoenjTk10YE9Ig5PSHoX1Lc04s7aqcMgH0-NGQAAThOAzIvmPzT-dL1QP-Nuok+lCf9HljcADZ844hTPWoKT1slG6FwMfiTm-jYgaBymPoBIEkCrIaAVgw1qfAsK6FQUb5gwc0bUE+F3B9Aw7PoTN4HZABWeC4CZbZVFFsEwoPQZwPCH8DZqG4DkPkP4tINpq7qBatzRoJItW+zrh7rOjRoE9nQM1doerJz6ID63QAZofNVMBLVMB37NUEKhWC-MjIcEMwJtiFRfIE65OJkOEAPxASnDA6LNoEDOH+ADUiOEJ3CMzgZhfmb7OCLT4xHUt0wNQxCFGIZGxk+SYIOyC37VAVuoADI5S2B0QS0tEHVoIyG6GDJmAOQ5YTYMeLpwYjPvI4BBpXBpHwQRRplgEa6ZAkqGXhiI50eKNP00jBg6ta0AUUugN0xW6USwFlEQ7eo4x2gzEGR1Q6-SGO9HdFtAqLGBD7RpGcbPB3yj2Q+AWyV8TC7GA0A7Bj8ZweXF0HsD8AwY0y08ODSw4DxyllZEuMrA1Dn+6FA7MQ3j6JQh0UrKMf41EZ+lgoTsTQGBStA+JPWysNwAYC8tc4Qe0-SwJFjv6Iej+2aSbGkIWK815G7o0EekbA7hVnEOo24Cv1aIYjJ4MgAPDKTntVNFRoEFUd6FknZ1nqRo3QEKjNHWjwSwErSaPZhK0iZSIWjpEEbtGijgIlYWprdX9GBAhRjI9VC6kxARjjAik61OODP0sMLEAcNMfwAyiWo8xwYIscnorGtc0O9Y7juK1bGJjM-DdHyfkb+ZBT+ZVSbbHhBcHxTnRpkBToOMsYHjip0JmxFKOpG7j6RwY9Kf40kYAULxv08dq+M+xWN96v4-vsiZExj6wJs-YlM0j9Zux6caE1JNhPuDET6WAiCidalomK4LazE22uxMEFQdOAVk2qZIEdSteEO0pFuF-IAAhehNxAh3SCrIHZy6P+rZbGtwAZ4GBKQBOqZALDaRdGXnIkCgB0Z+AAYANTxA0HJgzBoUy6dFMnAGzpGps8VP0AzEO27Zuyl2coA9nxx058EAOZyKzwKyAxQqGQEjr5EAAXqfA3bUoNzzpkU9ql3PVr9zOoowJ0FPhaIKyZ5i832bSI3mhzGxJOXBbXNfnhT4pWdn+ZBMAXiwLZgIzYIrJwyUiPgUgJHSRk5I3A5ASOrACHMVloAEiB+MIAkCR0YiFoUAEjJHbcAAA7AAA5PzVkJC66bTCoWz96F7SIeePM4W8LT5qyERfNWGBSLVkci3ed-IPnnuBF9pvIDECyJxzMg6wIha3O-m9hMpRs82ekubxQLv5XC8EnEtpFJLJFsi0OZQDwWEL3FnS3xb0vkm9zhlrEGQBOruBNwol8y8pcsvEXpLNl+S6ee7N5zLzkdaC1xc3M-mULLl1IG5YPNyi2zFZcIt20jrQBj24IAACIUXfyVF-uDRbosSXBMEAQ+aIOarrnHLsVnc-FYMsHmjzLAE88azSumAMrWV3KyFeNaKX-okdGYWpaagaXor355C7VdmH1XALRlkC81YhCtWKr4ITK5HU6vcAdAAAVngtVWYro1rAPxa0SCW4EHlicykFlSpX0rVkRa1ZGWvDmIQ4F8K5BevODnhrPF7c-WbquJXALyV7C7+RtqOR+gXgehJHUHW+ZI677LqzdY+oYnIr3UMq2nAXNLmBBoAYkKSE2sjXeLY1lYRNYwuNWZrttX67cABtWQgbH2qyKDaQF2UerFl8EFoDUAxLlAj8W8yjeeu6Xxr71jC1NbP0Vkfrf1gm2kSJsg2hzxIda3BcZtOX0b+l1m0JZpAlQvLJ1763jf+vzW+bJNvK6FfPN3WrzUVkWzVdess3-zzZz624Bxvoz+g7gGoP5fBCDq3kKQFWyObHOeW9g912AHKFhl4K4by57gOxbXNaXqr213a4webPY2Kyxt9YPQEpuW3eA1tsG-ZUnRKW+rql9S5TdOi2gag3TLW77bet62Dz7Nky3ZWDum2w7Vt+FrPB0D2W07aNnaxnbQvuXpbx1ny7+Tzuh3zb4dyO2TeNZmX8LhFwKzJbSJyWy7L1iu7rartZ3DrMtuu6rYgsa3HrrdiEAAHVT4LAXgMEnhZWRsZIIQEppe0va2B7GNiW2CANsKIKyc90gAvaXuR1V7PRm2xCHAC-WpzixPwJHTtqEBQAcM-oE-cXPLmnrot7e+LczuAXA7v5I+yfa8DL20i599e1HYGAbIYlDUNwWkTdFiBnzfQSMBvZ9vl2-b+1oC8ZZxuAPF7wDs+2vafOzw8QQt4W97a2vl3v7rl3+xhf3s43wAAnLuMVbSJxFZjt56e+CBnsVcbSVkcAOoE0SgBB1Qgac6uc-va30HAdkS7+XofyB8ATD8ECw6nvXX4CcvRyuXAQecFVAXtGQJHVV6qPV4KD8hy9fEdZ3gLHNqRww9kdXmFHbD0AKxZId93mbO96h5LZHu126HFjuR9Y8vscP57uDkB+CDAeEOHHcVwewJf1utmvrdlaANFGynzXFzsxqqFHaIt6hIbVkX9s-dPj3xRA4AcqyuY2KiP07oTvaxI6auUWYnfQOJx2wkEQOVHCc6vJHXOHAwzbBj1G0Y8rthOTHWDsp6JMkCR14n1T7gHiE9ukPN7hTpx0PcmuuPvLON6Jz08qcJPRT7D6R4w6sesOWnTNkJ+M46cfWInhtiskjJmhLXiAM9+hIs6Uejm3aR1qc2fZiXmBwAGkwIANVWsFO0H7T4pw1ckd2UDnmQI5yc69jePIHWRGB6iAacmB4gIF9Z1-eMeTXTHOd41t87YC-PTnAt+x2Q9aeOOf7Eztm1M9ltfPDnl1458i6js4PT7K9ghwRZef93oXGFmLMID1P-3ybLyWO1ZFfPvnvHFN82-1YTsUvgnYtqh1i6Eu0v6Xnz7q0y96ssvqAb5kIOy7FeJ2TAqgWm-Tchdb3qXgr7LHS4YAMvRXMd8V2kS5eDXCH7Djl3HdkfcvI6SduUKnbRcbOaoqrsEEK81ciuIQgL6B0nZBfcWwXkgCFxA+EBQPQQPBKyPA8QcglEXlL7VBbKSxCBDAv1zcMkYZOVHyNPQmo+8K0nsnN0nJiIxHRaPvjyh0TZuP9LG5WHUTb+isx-p9g1mzdCYdM5SYhM5myzfXL1EjQLMewizHmp4YEKgzg42A+huDTvoY3YgcNKZwE7ohZny8CkWZ1eHW67cwnEpZtQs+7J3Yki4TXjXpEqkDkYLmg7bl4VcJ+EaL79GJz-YMrQh-6ZoocoA2bGMP8AIQW7y4cPHAP5otAFJgaje9eHMoV9kb94DG-9sGds7hnbFPQBV4KBVHs8F95LiA8JyI2ugUu1pbTB4BxHP72F3+89QAfBA4HgLtwFA9QYmoqjyDyXY2tov7TxgaqEAA')">function javascript_value(call, frame_stream) {
    return stream_flatmap(
              frame =>
              execute(instantiate(call, frame,
                        (v, f) =>
                        error(v, "Unknown pat var: javascript_value")))
                 ? singleton_stream(frame)
                 : null,
              frame_stream);
}
put("javascript_value", "evaluate_query", javascript_value);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p16' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Execute</kbd>,</span>
	<span style="color:blue">The function <kbd>execute</kbd>,
	</span>
      
      which applies the predicate to the arguments, must
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      the predicate expression to get the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to apply. However, it must not evaluate the arguments, since they are
      already the actual arguments, not expressions whose evaluation 
      
	<span style="color:teal">(in Lisp)</span>
	<span style="color:blue">(in JavaScript)</span>
      
      will produce the arguments.  Note that
      <kbd>execute</kbd> is implemented using
      
      
	<span style="color:teal"><kbd>eval</kbd></span>
	<span style="color:blue"><kbd>evaluate</kbd></span>
      
      and <kbd>apply</kbd> from the
      
	<span style="color:teal">underlying Lisp system.</span>
	<span style="color:blue">
	  evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (execute exp)
        (apply (eval (predicate exp) user-initial-environment)
              (args exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_10_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rMg7PquVzBsDFrVI9Kcf5WkTaqNN8cYV0b4whAE4I9OqE-YVFGOJE0IPNFAWcYnoBnExfg6t49hNtX4ylaE60Svkqn3Jk7-u8gHnk1E4U2k+8YMcdPEzHlU8k9E0UzAcxmU+BllJ4DeOxAGIwK2MdG05xYgp071Czjvr0UM7UyM9E-EzOCwCwq0zM+0Q0-ATVEeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7jc4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEI86C582E++qwDKLTDQQoKzmaeRMMwpqQDKcJNJMoH+KQKQIjQwGqVcvixxRuJpqEOS1GIaRGRi6Y0SOS4Pqi7ceM9mPVD4Ki3+HNFy-RTyG5uzfoFvEExhP8985LRGUxAiw4Ei4jIndg3y-VDy2wt8zoBuPEwq9hFqCwFcmRLc5-jq54BFJS-YoZmPH0O6jOHoGGlgDvNLCU3nrOpa3oJqrM467q3oErUpsEPeC82BNOpa2S966pKEEcwpqMGc12Jc-GJa6pLEB7NvnWIhAG9a7a0EGmi0AfjToyE6-4Km5S+K2qRq-hiuNq-63NAa1836am8YJpn8xdhOO3EpLHYfgDBW-qfI8sLWxGUW1q0C267OG2yhCqTa1EPeIZqmxtGy2aBuDNTy7-WYFzFq882a4GltDG-mBq5LaNbPL2mW4a1OYBk6-O-y8W4wCwLm3aFqd4Ou42EpgAORGkzjfMPs2ujlXvBmWvqtTunNOgDOKD9MCvCvHo2pJD3NAsAf0vnTW72aGlnXlT7jkCGlYgriIflSQx3D3jPNbyhCbvToQcHvMb4dZ0LuaslsRSTskfge-vi3xqAZEdFsQe+HLLkOUOkDUOHKjI4Sxj-SPR6uYjz6JuMjchGt72S0JvAjRGZv46tvCesNBCJ0scwhseUAgKxRccuiwhKu8fLvCh9CNvCe+ssHet271vlotDCfkdCP5BMeHwAfFBnjUjqc8fCd9L3xz4KmCeHAWeXlWW1SQpWz6gpkNvppSe9hCe0hAV8SZ10jcewiur-hWyJ12cngOdOeaeukpORfAkYQqbdl4kbijW+sXHToxcacODsT-gnQ+6lf-TxdzTgtmu5fsX5czVFfMBld1ezgQsbOx15dxobiKdUMqccdRFFdBpNvUb1ByfL0GKDfKeqfXRpc6h7uZc+SWcXFNeWK-2xflezTkSOLmWswez6cRfbkEGicbjGf6UXLBfmencHcFQWXEUBW0iOLcP071SNS8fDOrvrgGf5ixMRfdcXWPTaV7iHhXhZvNp1QNS3j5UxEJSZc-d2AXH-e3urP5CWcg-chg9VSQ-ScSpwuxEsImU2efhxeMBdjkDUDJj3BRoTCjMRfDOfdTOY9kvIeU9qtZOfhjAVcU9dhj4uczPTrxS-zad2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAG+q5xWYSwixiKByhFCaCmADCMBpJ8c2o29Cn2-BuFzEPCzZSxtiCOgyAW+iBW+zPTpO929sLkWvP-rB8u-DhwJm+kB+8B+zqR9sJk+DL+HpH-Dlx9KhKxgYiy93BNVY15+iDY1nkJm5AFDx+2A8CaCW+2AS5EUxECTWalBF9WxYjm+1-V+0fMb1Lp93BZdyX0TN+t94kj3ZRnfPfHZj+izAWHc8JXmP2R9t+x+V8ioEdWK+ZF8D9uz0RL+j-u+D1jAT8fCCwH8izPkRxz9zJTSJ+TDO8+Xnn6ggW+VoXq70AoeV9d+19r-IUpEN9vyb8vky-ILHH077r9ckOfSoFvwf7uxh+QA-futkP7H8iEZgdIj30gF99RA03ZYBcXdRgDxqW0b-gRSdD119G6QWdL32gEP8Ly8-dIAXD36m8QBq-cAXAJhYX9B+YEPfnGmn5ndq2KA0YAukAFy8R249C4hcSIG-8agkHOyIIJb5gsl01bGgXMj4poDV4kfYgV8XYFzlgKflV-u8gOryANelCY-lNDYAtdEyBQU1mpEyAWD8gNiWIGYP66ZRWsiHf0qEGcEod-SsQEHiwFx4Q9QAUvX5M1CL53g3u2XKwAYPIAa87UBcQITL3gESlqERfcuE+ALjK8rYcQqnl8klqYUkyRaWqgrwkiZC5EyQjcB4M56eMKCafUoJlHJBeBDE0LO4BoMEYXEMMzQ+JjUK+gNEMM8SWobKhib-pOhdQw1h0L6HdDRkvQroYa2Z6AYhh-Q0YVMIIauQHybQpgACXRYr9VhYJeJhUkkarDsiYJYZuSWqFjDvA+wlIpoG2HvdU86GGYN9xmbN5IceIHHl61fTTZEGIwa4LtBeGfFGkOlJQj8FsCa8tIdwRgPgV6gDB8ggzNnrQKO6qI7h3nWEVskzpzCvA-iU4UsO6LpofhzxLQW8W6ynCOK0-OZKEBIC6V2IaiIEfZlBGg81hgFOZLEEhFmhUR9Fb2CyO35mVHucIlHuN0REqw+EFxJkUCws6aAhRGPQTLPy5FIj8R3Idgc-04RAcGcUI3jinyPgQwzULAfjo1A4ITBpgRQRGHQC766jJA+o9iHQHr4PD9WhokTsaNNH2ARU5cbrsV3-TWjsBYEQluqMSBajKktog0Z6M1ELpecbo3ekEF9FmiJcsLS8FqDuAUNvkeog0UaMcAmjXU5oh3qRV5y+swx9ox0Wa2dFcUgxNiTPiLUyjRizUBEMMYoCzHmjy4wYj4EWOrimkNRqg5QLznjI8N-RhEaYKoErBZVAm4QggF2M0jmxTAiQDlk2LLokA7crGP-IOM6DDiNRY4xIGmLzyNilxvrexN1xLEkMyxcY5MYggjz+jIO9YgcfICHGrjtW545seePuwm9dh7EECDjAkQlFGhWA0AOKCBiHCWYPiQkRJBZGYiVhL4y4biMVEsiiRZ-T3vmDvENCPmTQt8fICAkAknRp4lcK5DupGC-xbI04SdHfEITAKqo9UG5hQm2A0JrJAiZoBwl0iviwzayvl3wA7oh6HbDIEpjokrwh6wPH3qvDIlwSb4vraypihXa3D1wBEvQL6zvEENnA-EJ8ciC4kUSwSm4nkVtGEmgAw0fQC4u+JE4EStQqEwwayVnTCTaxPQWdOpIMnpBNJREkiUC30lkCnI06YydZPcrPFLOymeiWMC56Hp3kdFO4NT3gr+j-qLQ8bnjWPH2JwSh8DXpMByCYhXIHPJNvz3mCaA7OXEuzp+O8SZ0SJIOazCJCthmTLAxEnSf+2o67YgY0UuKYxJDE9AkpwE-sWlKShksWJjmKwZFA3FmtPJZgcxL5Oqm8hhIfgVUYQDGK1CaQ1BeQHx3+aWShpIUkQMr3nGjjLeX-f3haJSmP0e6yvePrNKKB2FFR6SbgeBLGCfAa4a1UcqqP6mOda+jQQaepUCAFxLeVsErkNKeQf4fg8fPQJS29ZRhLedqLyaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsRN74AzAGvTELFLiTZTiAuEqiTM16nFViG1IM6VpJE6TSjp8XZGfQDxkoTLOk0mQJUGKmDB4mlMkeEjJcGYJM+Mzb6b9IBlAzQZEMqGXTNQFEy+eTMlGchMsCCNJp548CDjNsAnTucqMk6FvhJkJZ-Rbw3qMLAFkodmZqM9GYI0vH4AuxidehO+JlLU1-SYUuMJFMZnqzDghs3weNUImWAtZ2A+GVENeo0zSZmsyiTXg+nociiJAMzBJAAAMuxamFlAPCexhIdPAThCkoCIJpC4c0kL7JXBWxvZ8c2Im1jVI8A7px2ZOQMATmMB4mn2EOT8GMRKBVhyc8Tl2Gjn+Stol3aIhcTLmRyK5ydbviCxgneVxpVgUwO3CLlfI7AmUUKOHPwL0C455cuRNHO2LOkw5miEeXJGjkpCMy1MdUfcAPAyB4wQvAWHhjUTfcjI0oNPoXJ6EvD65HnKOUf1gSqTeRQPS0Dh3G6LzbAy86QPGEB6Y9pBZjUwEvJXnAttO1pbwa910H4ib5d8+MN7PblvjRA2otJOOAWAvCthzxPpL1H-nvyMZ85eiPCL+4BwrU9EOmL71WHeUG+ZZPhKQVEB4jOoV-OyD4nRGLDCGdlLWUQsmh8JSgYExASLH0ahA6JEsfRrEHgX3zJhwwy5KUA5ERwbWSg6OPdNR4iTqynCh+f+hwUusJFH87ygyIID5JCFT-X+UwXjSvzb5CCiLqqLEkPiWIDIDPucOkBays+KIn8QSIoXLCDi0CgEhwndigTPWPAhvqfx1K5TnZ3ClsphKmEnR7JUQFCh7IfCyULybnB6dUB4jj08AmNKJUbDMVTDyFPCyhdYpkDUL158GBxVtMYUQSoEbvVxRZLaG+LjAGEiYeyL1BbwylxgOSSlCEZQloJxcgiikpkpcj3YEwMBXYEOD+KbFgFF4pEuiV4L4Mzk1ia5Ie4SxnF4FYRnsMAmSCGloFdycshIC5K8p+QLvvkB-7JT+xNE-rnVLYn5gBl9U9iXIE4nLKJcvEnovJIelLKxFt7XRc4H0VwgM+SylOqsueJnLN5Kyy5ZFGuVqhRidyu4NQR-4PKPZxgHpZjTOViDecyk8NL9z+Uid5lFpNxUYL0kFjx6ekiXCZMCCwrsIFkkrkirKk9ASuqKgpR8DBJOStlQy64QkTsDeyfAzCc6WoseEG5qVruNDuHPh4bApgvUxkEAuGY+4gFkY5OWPi5WWj7Wu6O-Mxl5UicWCMgZeUUGwJ5FLObzQDOKtVH4NasVK72fFIKnuyKp6wr8ZnSmBmpXI3spOZ0HXjdz-gvchYEApCSZ0MV6UrqQF2HC2qLJCU4WWjIKVsrZArbfVSQiAVoqog2qvCYqNtU1TaJLkhqVEGgQjxgedKe4AB37maIx83qw1QPODEtTvJU07VsGs6nhRG0H0tmbYGBlbgAAMlJmhl7SHEcMhGa9W9k6h3Zay-EVjKWETBcZss31oTJxmuoa1ZMkWd13pmVAu1kYvtZPJuiCN81hakteAF5mjB+Zw62ta6u1kdiJGiCehGLN8lHSpZ-vS6N2uUh+qggERcOYrJHEsB7w2A1dUeslpXd91dwQ9RqMw7KrUGs67dSYpmY6y9ZPY+hEapFr+kVVw6+Na+LrXPFHZVax9QBoBLAK4QzETRHGpdV2y0ZlEjNQuqPWdj5A+s-MreS-WWhLxS6h4PGMQSqyLZlPZmTBq0kOzCVywY8fgy7XEaUJWsses5UPE6KY1P7FcGaAA7oyENpix+vaHLoSRlpLPfKSxrlnQxmNAzItP2O40kAGF6UQ-r6wg2lURNrG6juxuvHdcJNCwUXksyI70aj1wCi4EdOyFKShVI0m6ShgNTqo+gm8kzW2PpwqAhSdPEmZiKOlXISZ+BEJfpoz6uy0FdAzOldIkjrrpZzmwWcpHYEFxMWq4AyARspT+iIGTkM9QuMt7lRXZN6xIGJp6D5BUE8fRLQrPPHcEjIFxV2ZoGPFhbO590BzdeLPJCKZl4GWzaYGHWOacZf6wedF1dVWwPVHKw4FarSBuacZBm+dcf0un+8rY-mzdadNlkha9VFgErXVvPExa7IcW6af72ZXXqctD-dLXiAS05ED1OWuTnXPDmFbEaxWiLcnPK3DKo4VW8DPTzq1ClIt2bFzcj1-WebSpTYXng9pc3ddLtrswLZbOC3c88GL2z7Y9pZg1b7NQW+rc2q+2EbaAZ5WIdIDVmQ76AVsfNRzJBlgzIZk6tIEjsBko7uZZa-LSTP20c0KgcOlupnIwgbhcgbki7S9rVUDy+kwOurYQyc2dbkRj9InbOsR0-SC1xa0tRwjHXc7cd43dVe6MJ2w7Z1Z5KaOTpyCU7DmtAGLNQD7lJNdGymw8fduUrYRFdiEDXVWRZDaaNR3XXxvLstV3RPo+TXRhjFl0IRnonZYTXGoDwa7zdxAU3W7hUh8DnIH5Q8Y2jW1ictIhpG3dR2iIG7MolQ-QTYDl19zmmSu+DdeNV3rEI9iEOPdrtRhNTdOW4xgDGPLFJjTRtDA0H7pY0+wdgoeqJgnpOi66lxpS9IMeLyaG7boY4BPZWML3JMXdGpUveezaRe7ydjAX3UxoA77VQ9hu4Pcsm6bSQHIUelXS+o7G6yUN76tSDRMrgiCegq1VeLnr-ZD7kWCmg1lbtxVEJZUXktqeeuJW5tSSaavfQuLknlK7Eq0cvVEBb1t6MtBaagKhyUzL7Z600UQD0wUAD7D4c3djmSipnK6dNwzV9VPrOz0JZ99CGkJMFQRKBnBp6KgETD-2UTd1cNcQJcOBq+KQeKBpTDuHB7VQCJv-RgLEG-3DdYomHO+rtOP0+T99zypyBfpHiOz3dOmxZO3qIMLdRkXetwDeAU3REWDI3EgXXALgyhHOB1PUVbAACcT4XqMIZNEZrlA4I6mFIYzwdiKQqqFQJoGUgN8QlFZUzbCOCX0QrAeJf2cgMCAKHFAd7O9uVDQCWHUtl-KUUZBMMHj+FUQBQxmoIZahFxAY+-CdCsAo1DCKi7QcYZsC7UXDyh4NJoEEPjBAjeo4BVKpNGyroDCIOzf-o1GCMW9TBu-TEZlX4YcC7BqSAoC4N-hpA0quI63QLiZQ1tXHTmFbA3AAdLwa20ISbzs5jBfgo2SCizIWkCQyjhQrOqwBoadHRgMXTmGeU0N9w+jXmpw5EZNGS1Qs0xwmNTzaxatMovTUANMZhoVaSFC-ASPaCtjJdTwWwRzjV1hCDTtQ0B4gGtu+YPg71+oEwxuBWMo0mjSVNrJhXyC1GFetx1Y+wJMMMdqO-7Rw+7Fdn4YaepQOnrz0Rj2gxjywS7cnOu0A7-tDmsfGCYf6hiJj07P6STMwggmdp1PbiX1jpIOA0A1h88usaJDXG3jKNGo0lAYCkmYa5UAk8sGcPiz6El41DcZDAMKNv2cam1tWxgPbAvhSge0OjMK2YHbAiNZisGOf3-s7cO+1qZQYXHBSJR2cfUI0eaMrhWjFW8lYfAON2A41fR6kiuHKBwh6oTWrjdsYKkpc9jS3I4w4AllnGDSFxgfu7FGz6mKQfiT1jblYkDpj+JJmY5qdAA1G+jxgFY+1FKmfH2T3xhE4EpoHyi-jDm6nrT0xAYmfjx-SE3HOhMkyrksJ0HfCd+P0RHToxZ04rX65wgMSiHIw8YC9MrHGB329Ewz2WNvGgzkZ-WLYbpPImpjbx309RwSZdTKTpJ2kwEZ2p6iZDRkJk9PpZPoa59GpL43nt8XcnPh0kfk4gbAiYHXCItUU3MnFPzmKDMhuUwPycSan19d7aKemaaM8cWCAAIQpDkheeGHcqKec6AnqLu4AWQEkEYDVIR4ogQ0sDOjkupQAwM6gFGmiI8BDDi4cw0piLNw4KIe5uNQef56KA5dpQXJNbnPPkBLzDmd8zebvMnQWCohKA53vKjaYAAXjMFck+QQLbp4s0WkgvfHoLLg5QDIBmBmgzzF56OahcNK3mNMJ0DLP7K4tAXSLYFj03XEot57qLH-enr2AQuM0vpCmOULhaUx-TvwsIAzOVFgD3mWC0AarL8DGAupDSEmLEKAD+l5VNAAAdgAAcJF8qHxZLNPhBLf7YS5T1gv51xL4RSS3GBXCGk5LMqugIpaUzKXML1ubC1qENIxdPAFkZ86Qd4vunLLWAay2aFsty46Lf7Fgs5ektuX5Lnlw0j5c0AoBuLPF8yxFYovtd-o+5w89ZkagvmbAQpRy5LSSuuXyo7lhS+lZUuIWmLV5tC0pjYthXcr5F1utFdMOHnRLJ563MJiLqGloAL+jcAABFGrjNNS2UA0taXarSQBgOAEXmP7VcwFzq+BassFXYQRVmC3BcqsbghrFAEa2Ncmu+XGa-lmq9lWYDBXEgoVsy6BbysQXtrWpqi8VfisMXBrw18qKNcNJnXNAWWAAKzcX1rj1rq1tZ267WaLJVlcNUiCzrgWCR1x-RuF+vlR-rF3JCyhevNtWMLoNsi5tZwA9XYrR5sSywRFIHgzUOQCkIaSLUcxDSh9c6+EVPOjFvJrFk0RAAdhNRfz-5zQCKgjE6Bwr4NqKy9ahsf99rZNim7KGpvlRabx68qAzZ3YXWejOFw0goA17EBaw1wdi3jYsv5XIbUF9608E+uM1yblN6W0pllv037zIqYG1xZ1tPWIbZXUW3ZZhtlX4bB1021LeRuW35bU1pm81ZYvoXtbAtja-xcJsi2DbMF-q4cZYLAyzUQWLKDJY3BFrWINgP25LUfPukyrb59K4PU+mvyfzf51yZoGMtAWQ7YNgm0TcPPi3rccdmELQCuvJ3U7T1Rm5LUutJ2grIVxuxDAnjjYOrFdsO1XZgueWjbB1uuwncbsp3CAadk6Flmyv22hbQ96GwUFhvlWEbtd+Ow3aTtT2Z7itpy1Jcbt1W0rSl-u-jbDvC39bb14eyvbdsVXGLyF5i9jY3DtXW7G4AAOozBSghAOME9XKjgyawo2U+7re6sR2r7NF6OzqBYIf3GAX9n+4aX-sPH07G4cABTbfOJZ-ehpMUs8a+lmpnj3N4iwvcrugOhL1dhy1A8-vf2cgv9pTAg8Aev2o00EDW6aQk7lQahngQ0geG9SOAgHDti+07cjvQ2PrB16B7A6ofwOAHrlk6DwFtt23y7Z9yK3w8KsCORLvPUm9bnABsdsg81pTFJiBPsW97ktN+3dFoCGlwAmvU0KACLXDBWrgFh6-I71v8OwHYtsh+o80fUBtHG4XRxhYMdb58W7BDwOw4UIWZ0oSHPx77O2A8PF7xDmy4bfosHWNHzAdx61c8d6P7zhlmR4Q8HvROYrxVm+3DbvuuPEnHjrx-o4u4iPKH1DjcLQ8keZOFHS9lR8eZjvW5oAzwMKcjd-NAmKhPjuSzRFZvlQz6oASSy+aIsc3X5j+ngBljsfAPHbSjpx3ZZrvTXWn3qdp-nRQ5IOMW-j2VIaSG5wRE7kToh5fZIfD2hHqlpZ2YA-OrOunoAHgKXdkeC2Dnjjo58vdKv5P17iznSec-KgdO1nr9hJ1o+SclP9n59+p3ZYgcHW-py1NG6IDfsUgSzPjzO8+dfNP3wZGtkQOAB96mBoigNqZ7w5Bd4gFn4RCFyPD+vQvYX6zsYIw4kS-JtnkwbMPRaBeRW8XtF0eywSJfSASXMLtzNbYydyPpnijna8o5dt5O174LyF0pnGukuuXr98p3A7-sSPO9OLoW-y9etPOP+yCMYDTwJdt3lbAVvC5QEIt28kH7dwKzda7sKvanDj2Z6q7svqvNXLjpW8xBVt6uDXxFnx8a-Khq3PUGt0gFrYZdFplXztyRCQg1e2AtXrBNbY3c7t3XJHbrnV5G9NfRuk7Pdweu+cVcE2A3groN65BDdhuGHmUKlyw9Au0uzA9L+hxS-zfMOX0rD+EBw64fsu0359lWV0WGB0AKb64UY5xs2MmmWN9nc05qctMnGbTSmO09Dszr3l0Nszdc5Ka8C76ZTo47c6ToKqhm89M5uA7tHnPjvFihiVAxzWYo6LqQkB74UzxmZqwJmibVnhJRXJ2N86VIJxlYxTTNv6Abb3q5IxHtxPSrCdv8CwH8cnQeDlyRIP489reF57AtiiHgCruvuhHH72gF+5-eaA-33sAD77KA9z2Qbcj3Mw4HahAA')">function execute(exp) {
    return evaluate(predicate(exp), the_global_environment);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p17' class='permalink'></a><p>
      The
      
	<span style="color:teal"><kbd>always-true</kbd> special form</span>
	<span style="color:blue">
	  <kbd>"always_true"</kbd> expression
	</span>
      
      provides for a query that is always satisfied.  It ignores its contents
      (normally empty) and simply passes through all the frames in the input
      stream.
      
	<span style="color:teal"><kbd>Always-true</kbd></span>
	<span style="color:blue">The <kbd>"always_true"</kbd>
	expression
	</span>
      
      is used by the
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      selector (section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>)
      
      to provide bodies for rules that were defined without bodies (that is,
      rules whose bodies are always satisfied).
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (always-true ignore frame-stream) frame-stream)

        (put 'always-true 'qeval always-true)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_11_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROaRQA45xDDq+QlCgOBEGQdA8TQPELhRDziFwqhiCMSgFEobhiDoSshMClIGGMNgZAYAaa3cugxBGsaphWUpqVGqRnWaOa6HIBRho+LblIU-AMSxebfAUFh8AXXDzoep6F3wJaTrOzbKGsCapu2kzPNSY0hBnCplDYchSvoP7gZmFpTwYcG6EhkwYbhug-sB6blKO1Jq1IahxQYKGscynGLv+q7kZ+YnSb+cnMdhqncZaIGCdBhgLWoMQ6DO9GEbplaFz5gWhbBGm8cRpoebebjUR+YgAA9CECNxnBF51SjF1H6CV5wVfVzXDG1mXOfxw6eZhx7hHIHXFVKeLiAYer4btlgHYYdcKDOrRSEMBH8L06YvZ9p7hF8EPjLQybrcVQn5raWtHHO-a5ZKemF2MdpJuUc7U4Lt2PiGqXg5pgGraz2Jk-YDwvCdnac4YBvlCby2E9rmJk5E5v5Nb-uu65m25o0QgQW5VEB6Rie2BjsWOi0fQPcYNWNeILX4ar2XQ7Q7cZy+hhXuD2GxErzPZZ70BTNIcyOZsuyHOc6lfHR8hVc8lwl6G3y03CmvQQhBJ4x2RNwc+YQqIDjmhragChqA0ErG7Neq8HCTCorEQK89cRwIQUglBlwZ7gMEKQC+QFyLPn+DAsGihCD4HKO7Ih2tkQYKgjEd8W8MhFV-ivNebd8DRzQXQAGcdVxqy0CIZaU0Dz0ClvoMRBF+F+1OpIMgwdWH7zDtMSBWjtFFH4QnWRgtJpglYY+LB8ZAxzREifBiowaRsFpquUotjXoG3RqYhx3Cb51yDOqUMywKIvkNGZYIwirK2Xsk5FwQDKC+BIN-YBoDqpBLOL1AswJQQMGPqffQG9DCy0wXEKxLgHK8zIcHApPdSjpEyHJZoWFeHDSqEHGc598nqzCHvRRMRD45KWnkzW7TKmdMIN0muACMmcX1orRBxsFwbzNhbfaRSoKzVSJQUgtZ8mDRXorZaptfaBEGLvSZxk9Z7OGgcpZHjL5bVlsZUyVz9A3KOZ0aWV8a5hWmf1FGec06Fz+oUmumCaHLQUJoXEAKS7ArYSuQKY4NT+SoZ5YU+g5oww+PNZgWh5E0wmMU6YgVmmrwPNisueKvEEoBt3FFkYQkNnoFSVpFL9p2LPBKUAcdSWspnJS4g+L9rdLpSucFbj7F8pxWNDl54hKKkClKmmsriBMUKME6MccSX-OLunBRBFhk4vLqY+5lARVAzVTmck5xwqNgcBLDUjIniAgAHygDqWwGqQD+nH3tVrAWtR9A-S3vKjZaQMhZGDUsFuHqVyNI3PoP15sA3CG4D6paSb+Yan0DeKNkwERkW5YA5h5hDDckYAwjG0M2aolNfK8FMK9VV3la8ZlAgCWMkbYXI1VL0Z1stTEMNgqoUp3zk24Vvj9LuojXHNYIDJqnPLTk-gLNq3Yw0eS-luLBXUonaI-R1Il2VtXZTWtAlbil11UC3p+jDUCornC-N9LKLsMHaUhWbaIYnprSsy6V4FKgleZ+9G37sb3Ues9BGk7e480ZmTCmP6d6ZxvQBnccHmYIbA4Yd6kHm03uaB6-y6SsBAP1u3TuqzQVQUbFHXwjJyMCKEVXJijZux6k7UeldmGqbB1oxQjhbbpQOtqI1IE6aGCZpTbebkep+MlISIGUltG9HOgkQu6RlZjHyLYyCyTGoQXdymSRktP8UbD0o93TBgVXYMAlZy-VV5SW2KWVvc2SGHk3pWIZn5xm+rmH1g6oVY01nkkbK9RkpLAumJVSHb55IHXgY+jFqLIHsMQf-F816ssmKBVej50jKN0McFA+zEe01MEJbS0l16+gitu24zFKruGr4rlJXVkrMUatnO7ipuLOoYi+cybM4DVbT2-vGlR+L-rGBNZevYtGo3EMzZwxljzXmXkLY62VLrXyeutYtcRvAa9GpyEUBAGA8AkCoG6mgYkvzzBzQWktXh1QNpVys++46vBHpkARjEAAPv94yj2tmvb+6AQHwPUhPWev0ammcIdA79F9zICN8smZ5swMQEhhAMEPhzSgfR7hiFDZ91IWF3sADJKe9H6KchH4l2RE6x+jvzyRUjBr++ssnxOcd48A5bcEwbUnnCAbNgZaRVFc-JIFOYOakxQdZ5k8e02gv-SomGrHfP8eC5SzpKZQC9eJea1tDX765c3gtwr5t-JRcY6Nzt03r5Zd0-l3aIimdbf3fZ3c5gIGGvjZmjzrXtR+c7kF5tgP9AReDc4pH1mWGVvS8sQplwVu7Tp9W-9J96SgHx7XVTGL73nfm9dzeD3W0vdALmu1qP8OnfLE1+QbHoedeUfBLXhPVMY9AM7wXxrSfi+N9LyMS3Zfree6rxjvvY2sqO-VyX1PtPR8K4r9nozeAABikAAAaABZAAos0QIk9yCF1AOCfhwZqjzOj6ARyiDVAX4juQWSeByAyEDkzlIoMaTUMauoCIBwMII0LVKoJQJQOMo0CAGII-rSGgLkAoMAO4IkIXAALRn4DCCq+DAAABWhgaBhgMM60wAKQf+hgwAAAbDoNgFvrvofsfoKvgMgkzv8ORk1Gdi-oxnRvQOfoTsQLVH7FpPfhQOMqwaALRkkuQBIVyF4Pfn0DUMgqQO6sQLULUGgLHh5JiqdN7I7EPingmHNCHrjm3sFhflfuqLfnQD3hjlwSogHOosnm+kvjcNiOLsfMGtwJnlBgbrYToZHIIjHPoc4QmDZuRkMOPu7hPpXl7poQ9qkOZg3gYdYpss3trgLu3rYveqYjYWzvJiqIcpvNvPXgvsPkvt4c2krpxHNHMsrIsqbK5oHmbkvkYWka3hkWYTeuCLUQsoUcstHr4XkW8hrMcoGsEfkYGP0oEDIBzHiIMZksMaQHck4RMWiNktMRzKSD8nnobH0bzE4isYFFMZUBzDoEZtXqkF2hnEkSESkbzu0eHu3lcbkZkjZlcXCs0QmPjuCM8dwDStsRjlcT2jun2lzrEGUQmBUZ7gCXkUqtumrlAovpCa7v8bnhjnevCSah8UiYGGvmEDCcrqkMOvEqOoCtcWakHi0RzhGnCgSdUakFilusasLDSp8XcR6m7lnhMFUVodDrISsasZjm0SYR0RNuCORi8ZxGEfyeMUcYBuKbIeCH8ZnHSR5AxrRgKS7ivnaJUcRhcbzCAlPKVgjjiT7sYWHp8mYeCPPNQNPM4JKR5IYg0cUYcSPoMGvlPnkZAq6eUZEVkB6Z6ZkuUt6UQIiRCeyTSaGfMZxFKh0lGWyWnq7lGaqeYIaiGeMpSQmDeMmYdrICZids1Odm1Fdp1JYN7pjtssNKrKTkvl-IzlsrWDydcBekwmzvoPYWokHNwMppNnGEvt8YgfQowmvEqTeh2YHCCj2aKnbnkTUXQgwlIqgjIDWYYakS3iKTuDIFZIOQubjiOdGY6SZr7GzA4UHKvCuZMesScVuaAHMSmbEkeRqcuR9v2VeTMTeVsWibCUeUYvICYsLM+dzq+dihsTeWcU2aJC2XZjsm8JIqUX2V8fKdBcQEqSoPQHBQefEbZqUjFq9BeWacKRabVgxFZMhQ6amThe4rBV4nhS+cidqVkHhecRjgXF8ObOtBplpl4pZkBVmQrtOXEbEpuu7P7MNDxTLm6fkgdjOUNo4GxW7CwGAqJWsoUBJUvlhHIKotluko2PwRCiOr+XIqYoyIRuWTZppb9LNiCqfPhTwAmlZfRJyviV+ZkhZaXCthoqJc8KpQhYGHLm5ZhbEqJSqp5aot5eCb5S4DeAFRBS0KrJIrjoZf+dLB5Y5ZOesG7OJZFcCJNGIITkYB5eEIzhwOtPlaeNGrrHZQeOencG5QVeltZZ0BMiwBlRpr4s0CVXlaoPVR9FAgADw5WlXdXlXQZ6z3zhLggAAqN0oANwdAdG5832JqTYhp1AtQzQ4IoAAA1Nygeh8CTOtEKEEYVdtRflZKdZ5oUPta9kdcRbJtBnfA-FNTNTIMQI5KQmIEtX2itZPGtSARfhdXtaDodTIMdQ1eEDtahZtTtZdbENdSDTHCNcxXkblMbnNvZrNiFkiCxVNHjjdNiFldMGLuWj1c9I1bJkSsJDzhyVZdBkjAnHjUQA5geqxfgOxWIJxX+fIoZrDc0LNiOMvqcoVbDTELMK7iNSLbfIekIJyaTbJjaHaEjQOqACxIKOignALXpcSbiElVLC2tMGEpuJjRfrZE9OUG-OlhtXJuqqiq+g0I2G5YyFKnVaKrGIFGWjLW5WjaFWdPugenmMFXkgFdbVauqmpQmAzeiATdJeWZVitkXito5VjbEKRrjVHVJeVnbXVICSTQ5VWE1frVTVSeGqjrTShlbIzdiCLazezZzUZcLDzQRHzStgLXLmXWHKUPBHLuVY5XTasNLTjERIVQrYxQXSHZQmKurVNJrUTtrXXclYXUUIbXLZEnQGbSIBbR9FIarqYv-MrRqpTRSIJo7UCM7aJRnePf6O+h7TjF7VZavF5b1kooHQxD7Q+PvdauHYpmnfjRfT5kdvmRwS1Bdu1Ndl1NgIJTzHgvMsgq2QWMIpmXceafjiQuCNAwQuRS4Og9QLA-ApPCCbiiwuggmYLbLeYj5gVCTPgjg4QmzqJlkjuOmN8XMKhbEHMKuH7UUN8RyKwzEByBwypt8RhLw1VcobGJw4UN8YfCI4fAI0w-KSjmwKhYo86BI7EN8dxIYKfr4KhZo9o6o4I-KYbbw4beI4YzuOCDcITrzCwIYEqVY6oDY41CsGo30vKVtSI7EPoKrNwL4EVW6l-DtXRqAK4ww2COCGgZ4zEN474-46AF-GgaAME6E98XCNwA0DE0k3E1-JCEkzECk-KcAFEwYD41k66vE6AGAMk+Y+EwAKTFOZN+PlNfy1N5MhM1MQjiSeONPZMC1+MdPggACEko3TpTTTAIAToAwzQI-T8jFjfVDTYzvTA1MQsz4c8pfVAIUTPTzToAmzqzBTFjLqizsTuzbqBzAzLqWz6ThQOzEzFTVzFzcz4TgzxTFThQ9zMQgzsQ1Z6Y+Ugm2DsD-CVlgIK4rhERAw3AgLtDBYzllD8CMDMLMU+ALAuBJgZqoLKw4LyI5TQjVDiLqF3h5ioTRQ0LcDtaaYEUAL+LBCvuEM9D+O3xSKtQqFzLqYT9-tbjFjkAdA3oiCOj6TPLfL8SJLnLXL4TDjDAsAkAvDkr0rorYr3xkrB+IjyrCrnL3xAAcuQJq8U9q5q33XpP8+8AIGS5tiCwCGCxoKvOU-5dXGayNnC9Swi7S5tqfJi9MNi7a36eefazSzQ3S32pS4boabgv60CyZhEh9RabZTggwNUBJjKKQAvK9gwLgeQNWGWiTJoMzauGS3gxwFLOzJojeufDG0cEUHqYCfGIQPPfIrZWplIrrV4r0hPAuu2eG0i2VHnZLTwJ24G-ysPa2-OiIB2y6wG-wii2i6YCCr2w6ya1+jZRy0UFrZCiSc2+jEZrpUTmIF8C1YsjIlzcZUCNOHdBu2CJSwA3Q0A0WZdh1BgBgOWbBRQKYAwPnB8GVDcKQE3HVrZV9j9puN4b+5MCuGLQxbLcBxDRfgwNDXtAdbAaDRC+6QrpB3GqQzeMB-eWhQoDcCnColoPTvB2GdlWfsoN9hkENPoEYBAsoMoHE41DtfoKRwLeCJtaUKx1LVDadaR+q36Kx8qUR4FX25IPEiNPBxApUhJxzZvBAU0xENBF-S4PDWIKdeCBCKdYgbh8YPh4GuC2WzJ-ElJ4SpDdYH5C5ZxAZ7iIHAoEx2Qn+9SajufLXOxx6rpCDJioBk56ANTlgKhBig5-6Qrk5+EIDuh0F3Z+ENMxfsUPCKBwYHLl54zuCDFxcmhejC+zOO+zFF+03E508gYOPKtXafDF5z54WjEMdFLk6UUW5jjMF7YGROx+pztZZ0wGQDZwl6MvVxdeV5tbB+4d9FVz+c6bV7ZyTlB2In16da19Z0h7Ld6fVxDb50UPCLJGRI0vEKJ5JKCKhefFC5t1Z+1yBysMnFhHly3JZxCMI2moBp1yTiPWNxeMJ7J216QIJL58nMp493F+CAAOSwfnyqf-cfdwc3WIdOdYetf5ykAxzQ9yeKc8wclnQAdzdw+8dXjfFCDCBQ3BBQ0OQ6RWQWjFhQ3bIcDwggfQSlCXdy5o8Pe0-PcknWe1wbcicxw0+1gw-Vw3j09Q8c9+OxXpuZvKDZszjuIaweCuZjL2cGm-XFc4wbzOdhMQg2ly+oXVf9Hy-qzo8xDguC-rDC-UCaAqrHIS9uBGdS-Hfucc5S4K9xffExd-Hx0eE29a-M9xWECxVw-3Qfyqwm+FxuBS9groqFey-swK-60O1Hn81AgrgDeS6-Tq+NHwzh+WqUOm-GC46QJxTWte-YY+9++ubm8p+GiKpR8t1JfCNxdYRy7i-+8Z8VLkJeE+u1+uah6QL5pofAvl-qTSNV-yB19t+VKd9l-pYsd69ZuG+i8MRudIwaUj8fTLuSOAbj8G9G9i-9+S93dVKu8d8neiPCIFho37fp+D-kLPr6jgqc7h9EpykWMO+b3PQS5X+u-n+apF0R3qxEbFp5HxIkCB+8V3EmkWvOLnLlt579l6G8VetElfguZiiSSX-sQD3rmcPI1FUEgrzoqACE0YAweDeGwEqQWg41TcJAJNrPwYk7vDXkklQFmokB3-TJET20hlRKA+ANuG7AGAVBBg6AgAVFQSRiUteLHegTpCw5sDeYbgYsGVA1KcCEecuKgdv0ICxEgEYRaoNxHWjEUSY4oRyueAwFYME0dWDQYxGQHmAWASg1NnVn0BGCRAr2WynLnMHKCScWHGwSYPsQOD1otlG8M4LsEGCXA7g+NowDqq6CmoYVLQUyE2D+CYqnguKglVUFMwlw+dTlNwACpBCsIigiwSoP8F4V4hXlWKjXlhj-8EerRdckRWIHJcY8kDTSH7hoCUdiBblbgA4HXq45iYDAQAsIA4CkB5UOxQgIvD4FZ1wUxMC3ofVbQmsJCxg9aPRmGEc0E2LtdWBkLCrK1sq7ggWmy3Lq1DdydiJYk0JaFjJphvtfDGhQ6FmCxhMWdwRYhtoMpqEwfcnFgNd79Dki2g6qrkD2GgDXe3Ae4THFwE7996ttLVO+g3gf0w62VF4VL1ir7V+gCgGXupgqAwxfAYxNkBCPIBQjcchgUkEEMUZGA5icXWEfCPmjEgngaHaviiTmKL8vG9HLZCCLBFSIMRYxEkadAQiojteYrIoBSIRGkghO1QQOBwAzb1ZIwcI6EdwEZFYjpeNNNES3D5GIicRe-PESMEMAEjekzqe5qyLIDsjYGjI-QCKOxF0jnQsot1MCOpFEQ5i8gwElSNBEyAYYo0a1iQmI43C6oJoyRDikCCnQxOpI7Fg4D+KBkYy1oyaLaJBEOjToAomktqPe4xoZ0e-eUcm36BKiuR8Iubv6O16airRVAG0f6O9GgiPcdowSPqLyKNtccQoO5KCBoqwxohXALiFQC2F1hqMgmeYUCG8ETDz6oQzIQjwrFgRr8GoOLpmKiHqCixE2AKriPjFkBGAVjfiN4JqxHDeRxYgIb7Viq8RA4fYkKN1V4gjjOxXlIISfXUgyAkwLLXaoPEvxrjseaHVOJ0HbKjiHY6uOLo7QGzBiiYOQ3iOEBbHxV1M2YykLmOFhziOxJYt3rAgTRXjvONOd8dVSPGK9JxvYhgP2O6o3grxhIv0DeD-HgTnQAEpIEBJnFzcwJvbAiHLignIS0IwdNDluL2AssgRr2DgEwJmyGjvGtlLCKU1jEepkaCxPoB3F5iMABB2sBifQG4Be9nxXvBIWWMGHATsKjiIqLBOnF8RuqrE0cUxLoDcB0JaEdiXWOyrcTNY3CFjquJwk7jAx9SPfuzQIlZRExskrhE4iomcReAxgHwRUFVgHj4KlokHPB0QlUB0xmSVKJ6PtHdA2Q3QJEZxKpD0NUoOIJyX4E-LZVRMjYgJKIFqQRopahgLITKF95Egvopk+VI2G6CMga+1knLDzl6HdBwg7HGLlLW6A+YCJoASagAAkD8DAAAILgBwAB+AAEqTVIAAAeU1bIAgQplSBq9UEkiCtIZ6fia+KCEGS3YSgtWKZKnGK87JvU1WG31EEMDmU-U3sW7zsmdBxYY02tFhxmmZBWpYgiabZXymFSSpZUyqTVLqmLTJARktWKNLakNRJpSQWynZMTHDSGAkUmYvxOrjWl5pzgQgoaJKFAJvQmfJ6RNI6ljjSxCPf0e7BNHgtFER477K6k8xqATAXgOiStPGk4xQZlkOyhAV7GvjwJzUtQLDPak9ikgr4ozDlNJ5uxcgDgL-ECAAAMXqDHDUEci2YMgrAoroXmoCDBQ0tMg2MTO0BAgCZrMzxMoR2p4gkpS+TmUTO5lYcbMVM1YQWLbHIQ4gLMlXgzMggI8sIxQqFgmk5myyYojMh7pB1iqBBg04s8UKkGqDZBaZMUwTKrPpnqyzQKhamWbND4Wyko5IOJIEDdiOROgTcSQSsDDS9D0BccF2C2TFmmDiBNso0hbMnSndLhcgn2fvxJHOzXZc3cPtBMKDRyGALstgE3DeFyDLeNsH4Z-WypJyU5TcAmXpI8gVASAIgVIMnymH501BUsjiQ7Ixx5zY5f0lYD0JyEPhrhFXdWu0H3H+C25WdD2e+gbKqo44B9PuUaHLGjCUh4w3wefULFhCDU76FgAsPAjjgRapQVcVGBFrNAG5qc-YZPMOHHDtQvnEeV8OLpNJrxBEUoNvKbigCMEoXK+bLQfA7D15xgX4aHUtH3yFesVTMfGyWj0ItYfwSWTENPCdTXJAgCsUML3nVipctYmYeSAHDzCoubLReoijoBHV4Jgk3ebYMOFjDq4Ek2IMAt+kIgNxlCU4WigK4XjNwp4NhP7TwCQg6FK4GjGMInlYKoFv0AhXPOJQLymFiC5ec2NjClAHAaC4CYAq4B4LBxTgnBShGgioQuxsYUyLeNHZpDOgr41-mQpVHEBS5oQHJDjAIUwLfa3lWhfQv7lL5sJwBMzicJfQIpvhCiwYEorYAqLP6tA-SagtBroL+IhAPcL+FrnZVlxEkRSWYp+7+KWWu4ruVkA8VQtSQJ40Smh2yGYQ5ixCooHrBsU-zfYbNc2AAvCU8AvFXlGJRQvbJIibxCVFJX-PSWPBCAv4TJQkMqZgA6FkIXJceWqoeLwg1OKBh+MiUtxBFri4RaBOlH+1QJpIBOQ0E6W4hhFNfXpfSJWA18BleClYJhL36mLcJVbWcgkVpkjRmSZk24gRQKFt51lpFWmZgzS7QwDJ2sQuUEO8KFyhOnMjUqcq4GI8aS5eBXBcsV6Y82ALs3wJskrKxc9+3hWiMbJsmcQ425AGmY8AJksS+ex5ZGTjNABSTAhoClQOyMYAEzGQOs1RHrL+AGycYhcljIJmGU8T5JMfVcLiuEXCTIVYkiSW8COWjdoYcOYFXyEGUrAYV44hHrirklOIFJ24mfokunSqSQYzSN9nzyNnFYNS1KoQLSvVHqTJAmk4iSyp0nZ5spkgXKQVIYDlTrIAAGQPz1TuVnqcsujMcYEzg4P07xZaO6mHSTJ90uLkNPCmh59VZ0kRGhyWkLgbVQnB1bSuDjrSlVKq9VeAH2kzhhp1q2mQauxkiIghAMttqO0USXTiJ1026bavVGKhwQBMl6amPhDgTI1qYiEPfwTW0yk1II8nrFTjY2rDVi425QDONFUBgZV4JFfc08yAraVgqwsUWrCpozJAGMwtUGtxl4TIUxWOHvoBJVTiSx9kwSCGsNGAzy11rFcCfTdRxxQ1I7XHMqI+mYzTpfalGYQvpUERYxBagNb2vBWNr9FvWO+oaKLn+Yrk-KsgLDz54DroxmCRsK0BxZAgPJCA7dWeoel8q4eqSbKreocBLymxtQOLubC7Vuwe1cPS9YerQ6fqcYMgp9ZzxA2pij1PuYaeKGinIjLiwNDaAlOzyI5YMOQ9Df8o8gfBggrAr6YwATbDSmORG+tOcNNWIbRJ8KJlIMLilAho15YKKTRuVqNgyO98aLKJMHUesw4aar0d0EJ5Eac1p0d9dMEKg4ghNJ0+gCJoUCjlYwZ3IjdwFjEcadZ7SIjYOosTHyw6MlTiPhsCC0qfBpq+tSbMGH8TGQFKs8KNyxVwLKNCGjJUGto1jz6NfgRkExtxBRT7pbGwTKpuiycz-RvGvSPxocnbAL8ia-0WJoaASbBNYW7NRFsX5YRQVBgOJr5pAz+bD1cmbTVaicUeRhBnM4IIupK7kbkNdamjQkuzh5bVlNGtDsINElkbpNIiIQcIE+kNb6tq04NVBH02EaGtRm0jaxtCyCZnoLW9rfQw2nFTSpFUqqbVO9XkgxtW0ybbtM1WKaGtymuJkNsK3vA5MgUcEBiDM66bctzWutTcvJBdbDNJG8KSZuxWDD1t+qxkGNs9UaqmI92tVRqsZCJbaZq28pjdoDVbb30O2rwHtvLJzQ56bwXApG2qQlaOS1SLDlKlB1EIxkFozZaQ2h3hDDUcOlELIMR2Cl05zlfbVhTnqaMwdbZCHbcpREo68dQlNpOTBSBE7TACOqwa7nJ2QNDUhOohJjtcH8UukQnGoGICGi44e1JOqQYzq52Q8TktpSoVzrOXC6MyQgshAoDQGS7blOOuDWl1wL4BDZ6OmdjBpBHS8Qd9AWnTPE10UkolqK-0Wh1B3q7MVW8GcEbuDi2641OcZeIBoFWw79d8O+3ShGfqm6MtPmCTdaREBQ1X1fPVChbuqDBsMchOy3SqJp1s7tdPokrQTpj1tlWdGOxXrGmDHczFRnIyEYGkURB6z1ZKKnSnrp3F6KScewSJ7qKCxjI9hslnUnpnbR7DABu7pMt20QHrYNUyP3bjysj56YeujGnZbvD15EedlHXRL9M03DrUxo600VXSvCTrW9-YALrslWhaBT1MPINMQF50Ec19McdvmutjASrCJg6h+mFQp7OxqQ+EyVURPTVdjpFUtD1JXqRDBVoxPyP3fj0D0nq313AEfVoCH1DYRpZHFeO7MtGkpN43EaeLwLkE7Ad2e7FWIe3rr-QBeGbfXiLxiwyZ7F4+q9SWpHVlqZ9ubZ0PPscwAH+Aw0MoRDFJj7JZpJY-fbc0rDxD-G6E5enQZIHQDtBAgYmM0BX6oHXo5PQ1lOkP1Sqb9OSvSARgjRozn9h61-fwAhBcHJ+KqD-Svud1nrUKshtfgxEpaNgbgvvPRpCMZAABOE4EAh0Nwjj9WOowzxEhGDr42gcEaN-sXqX8-RGGrOgfQHAuBGcpMxeoUGMMxxfuv3KyGgACORbWInw2MN4ajFyq443hqw4gl+wAyPc1cFwIkzvIrg2I5IKIwDJiNG1uAWh6nVo0hEq6W+bgHfRijoCFQTwZAJ6ObBFbXrBMrQRkLn3fjMBfehRwNUHFIOlH+AqnI4Hmts0GAlClR-llM3UjmwSq+uQ+mEYiZoFEmLR6FXz2-iFQYgUxyJkQpXBhHeeBe1oMcBVq20WIA4bjUwJYG8xmtgaTY4vUq3FYCtdW2rRpo1KnHlaA4fo2zUGNRcfiOE9GPCHblBQ8jcIiEEsamNMh2tggY46ID+NTHqo2x0hREDYghHpgEx0E4kzh4lJeJjUeE8seVrpHiJ06kdRWowmiVwZ+idY+vvQlkH0YFB4aK0GoN9H6D5TaaOqN72w8-il+o-YmMok54dNOq4SkIEMCORfs1QQqKZqpB1GgQDR-Pi0YPFtGSjCxyGt0YsQO1hKJ9ZHZ-oFUUmL960DSdfq9Gsnft6lA7sUZJMVCV4Kps+lpSpN1Q4mtJ-Na8rhEfKdkWaAjeXtsrt6QRUh8Jp0DeU2mUKPepU8oYgRWn3lTASspSxaPFHfuAg-QBMtAAAAdLAATKY6zqmAzAmQMEBs4P6kmsTDBGhD8MX5HjxgVJMGZ7Whn5p4ZiZdGdjNhrccBxpM29wPHVVeAJ4auD0Cwh1nQAAALye5RmBQ5ZhM+7GTO1ZfG3ANsxmb0hZmO8FRtmihTTCoQSMnJ94Dyc3Chn4zlZ3s2Mxu4WNX8VkFgFDWUBQ1sekwX7mmDwD5mBVC5zRd2arM2cVzSva0lDU3Pbkdz5PEc9VCAA')">function always_true(ignore, frame_stream) {
    return frame_stream;
}
put("always_true", "evaluate_query", always_true);

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p18' class='permalink'></a><p>
      The selectors that define the syntax of <kbd>not</kbd>
      and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	</span>
      
      are given in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
      
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.3' class='permalink'></a><h1>
    4.4.4.3 Finding Assertions by Pattern Matching</h1></div>
    
    
    <div class='permalink'>
<a name='p19' class='permalink'></a><p>
      
      
      
	<span style="color:teal"><kbd>Find-assertions</kbd>,
	</span>
	<span style="color:blue">
	  The function <kbd>find_assertions</kbd>,
	</span>
      
      called by
      
	<span style="color:teal"><kbd>simple-query</kbd>
	</span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), takes as input a pattern
      and a frame. It returns a stream of frames, each extending the given one
      by a data-base match of the given pattern.  It uses
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) to get a stream of all the
      assertions in the data base that should be checked for a match against the
      pattern and the frame.  The reason for
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      here is that we can often apply simple tests that will eliminate many of
      the entries in the data base from the pool of candidates for a successful
      match. The system would still work if we eliminated
      
	<span style="color:teal"><kbd>fetch-assertions</kbd>
	</span>
	<span style="color:blue"><kbd>fetch_assertions</kbd>
	</span>
      
      and simply checked a stream of all assertions in the data base, but
      the computation would be less efficient because we would need to make
      many more calls to the matcher.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (find-assertions pattern frame)
        (stream-flatmap (lambda (datum)
              (check-an-assertion datum pattern frame))
              (fetch-assertions pattern frame)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_12_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WQxFhxWkAoFPbI8qn8vJSziQmp69nwkCgSh8BgUwaVFgAI3Gym4+FIoBYglAAHMNlg7bgGJQ2KBiFEeCMGKAAMygORMLk0RNoTOJ5ycpE0Fi0WiUYgyADWTAkymYxEoDAEBNWxI2pO21nlMhrdYbMoaHiIIlwKukiouoCYAEd8CwHBWq6BtVrbl36wSYaOjovO2nuwSN2PC8XS3PlJbt7XVzacLj06AsRXXR6mGkicZa4R6KBRCWZ4-xhkvysUgZAAIgAKiqJ8wJAzo1hvfMv0oSgy3wZk5w4JRQHQlZX2Sd9P1ofA3Ug-90j9IsS3LSsMNPaoZG-YhfxIph2XqchcBTQjiPdUj0jIgcmCHQhpGFQFRRoAShOkLp6m6cdRFoJgmyafDfRXAQAMPSjsNoqE5CI5jWKadiU3UjI+NASThwEUSgSMcTLMEQTrJkpo5LERTlLshyz3U2DAV6WS1kC4x4MGF5FIYYD0MwnTQAmGd8BYrzAlUugDJ4pSyK049qMws8GKYzKjOSEz9O4p9zP4pypJslL6kU0hXT0wrRD-Jg6js5IrkiUQgKoiQaNCcJIjihLRCSmFOq6hoCp-NrDJKwJ3IUpTcIaNKzOyijcsGzRdJqDKnyWtiOPPbsqscwdrNs1wAEgGo2ZrDoqz0sAembupGmQeoGjh9vixKWOmz7GjPLjFtgj6jBWzz1sBRrnvO+tlHGybXMaELkix0AcbC5EBCsMJSBjGQ2FuwIHKjPiyJA79kNQkD9yOemUO4Zmx2piyQJVSLSCZz6PF50ZSA54JxwYCNIjYZQQIAVUIMtCEoAB3GgHVGZ1kRVUBmKCECMdxkUWy2QnaGJmM4RwNKNadfN2oA+9pmY-wujS4NfTI22tepF26aQtmYLd6hP29T37UdH32tA4WoqD69+gQp2ODdFVCcIQMZAShhyEy1GgYphzfuz3On3ziaWKt-GaFTwQVUDDgS8ymRa-TwNC5Nmgt1b+vYN6avQB7jPG6Blu097lKfLoof26rxPwpnjgVQ4cN2GfJuy9AVe2GS9aHJyrOWBzvOt6dHe+7zcKmAADypWQN89QGK+Ubfd+NzYaF+5OZ8P4-N7R4Gp814X0vsiG+d8l64A4PhIC-BgIPw6ioCkL8z5v1cGlGeAFF7L1fr-Uuj9X7+WMA5TBNMrrOWEgIRUHhwH8HvkffBiCBDIKAefRUlwKTxmpFiEmUQx512HgA-hbcEhINICg4BVtQxgGrrQU+kYIAwHgEgVAaB5BoE0AnRE4UdiKVEFApgaNnQZzKGwUgHcP5tl2GwN0oxTHmKMAAH0cfuXRjB672N0KAZxrjrBuiQu8QgnjvEuOMu2PYnipEDx2FUQMwYhB9XoPY08MRXTt0np3Kxv16BmN0AAMjyQuW4OSHFkNIKk2JUT57a3bGvYJe9MkxJYHEnwiTgIlNloQNe8d+7VJoLQCQNjKBtUoFArpO96nv1bFucGmJzEgOidYQ85BAyEB3sMSZxDGnWFifEjgbTkmgBAss1Z6z+YXwHictZcDfCDP8VaXJXkHIzLoi8vSJSYRXkuUWFZ1zhgjwrps+ymS3kOFmbkq8oDLDWFUv6JqIhiDiDtoMIF6xLFNJaQk-qHSjmwv+QipFPselQujCHKo+K0yEvtgMoZDyHG4WebcM8oLPGfLnto5EeL4WUqPlHIRHynkgqZXRcF8yLl9KsQg4oiLeX5lRQ5DFeyDk4pAlKglsrBjEoHmqnlyLqC3NpfKoVOoZDMuFe8uZnzxUcpoDqmVerqT8stYKyxLLRVso5NI0AAAxSAAANAAsgAURCMwbg4hiBKRAtXYoQlyD5hAqAFW8aohHPEDY5hTM7QsFwPGXWUQrBtkIkpQtsZBDjAEEEL1URKTcFoEEEAgYU1ETQLWNgwBizmEjQAWhYIxEQbAJDAAAFa0G7bQcQGdgBWGLbQYAAA2RM2A7S+sDSG9YbBKBTHzUpD0JYyzyKjOmt0zCU6UAEBIe0JAlLlKYF6sIDBIpJqdHWndg9z2Xp1iwQeDED0qxiMJKYCZhLSGkGgElOxj3MKNeinZzSlXYrmbLGN11CDxs1da28UGWAcAfWveMtAYOtiZHIO5wyOCjJsGvZQLKPlfIldhs9F6iNbG-r+m4Jqzzuo9fCRZHBxIsehWkhDSSVXiRpBSJgZytUSvEzfbgzAfnUEE0UzjdE6NVJtVY98hN8y-nk4p2gKKBUMu2cJ1piGzHKDFkYECOn0PUH09fBTTAlOEBk1pnTHADO4eYLqR5pnLFtP44JQ5Th2W3i8z5-CKngvMFwIcnQEWEJRecwwLgoh2nOsC62OLoWcU5k07eXRk4krXpU4qizomkNHMUlOfgkaPO3mTnVsrkb7GNhy1sA5IFWsNaYCBfEcyCTJfCn169EmRhnMIyZ4wSRGVqYtRC0b3IIj0Em1JuBHXboLf86QEbHIB6KaavQST03tsutbKKg7vStM7Ck9wUgg1xvtZKZ1+bZmOxvcwwhSDhYTtVCm1t77l2xThMlNdyFfG93EDLKitFrZKtYuq1Zo5MOyxNaTiwB86PYv9RAujwbORckrZrr+pjEh4e7dNepy1CyJU7AKH1RicqTMfdg+Z5HWXUfHN4MzolP3woxoM65ozym2dbNdeaul9GtNH0DDN7L7PpnS5p0tsVpPQDKy4AwBXMgHTvcl4j8HDgDeC9W4+pq8v9d1p28a2QZvNfHZ13rs3oOaBnkd56vj2cZDyYscbzn+z+rydlm4YlJLiZcMZBSUmxMFgsMIRkyxr9LrRuqNIRN1Cjm4AzwIAWKQQilZnD9FhzCHHZ9T0Ydhkqj6l4r-UGht86GQOgSHWBGz49iIkWw+oyprC-WJvkwpOxfrl97IEDwUfRjcNj3ws8Q+QagyMGecfS-l-T4sDH3hHHZCL5s8v1wW418H8P0YQhE-xbp6hJnorCEjMZ3GKQfVYIzTXwD1sX619lCGi13sennmMQsOXA1Ih4IsKKYBUUgwyg9WDAg0XesBg0Se60aUPCMYIWhEmWAEm+s+O+iBuGLCkB+Y1mZ+oM+BhChsVMc+GBdgns3MueN++e2e8oNeD+gYT+L+tIZM1BimtBABt4+AikS8Tk189eH+QmYIHiW4Q+-BCEHspo7AA0sUlYOEawaUciZEHsShygc4SWUyWwGhFkVklCoAcoewSodAd+OiIhHA6EoyYhKUaUc4AE0hFIRCwKHOvuc4ugHgIE4eFhc4UiT+oAAAKgABJBocAACC4A4AQaAASiEZAAAPIAByyAZE8oXQJKuAGw6BRBgwhGOBPeaCRuWwgh0wacN89eXCl+xgHg8hVR18PgBRIcNRM+dRRgIQ8hM4bUrRH4muPR9gXARY4BbR4hoRER0RsRCRSRaR4AgxT0TRLRoxUBbROBEx8hr+ihTRth1E9hGxss-R46tIEeYYfSci4YCiUAcAiAyA6A6i8gWit4hiiUkmhy-AEwduHOeiBiRiFAJiHyG4HgxOosjQ-eVGEyQJjQHgrMqEBq9yAKSUpGtKFGYydSHyygnxnRY4OwXK0qVKxmlqwJ4440beH45K3K9qPsHxhAXxG4EJdqhJ4uxJMJpJv4TJGqLJqO2JDJViVyZyniJJrxfRPypywONWvJ4J2m1AumgwTmLmbmQpbJIp5JcpjmbUIuSpOKUpDQEJ2GypfYd42O0w1c9E7AJ6OGeGO8BGni6+h+jG-izGmJp+DQupfeViL2z40JRpqpXpqY9WE2p2QOwwiuuSWJdJOJXRViuOPpje7JbUsZkpkZfJOwAmcZsoCZIWH8tJ9J0pjOfO5ALORJuSJJTOlOIp04IwLINq3maWouJZ5iEZXx9pTQwWlGAChG8uYZTZ44kZUZFhowUshy8sisysasdAEgwwLA18LwCZVZTA+ssh4U5ZNZyg3Zt0ZUo+OcbA6GnwZpuIMI9UCOWw5Zvm5Au5FA+5fSa5fouuB2xgsMJaZ0eJkY3AlAA4K8N5h5FMRgm0rmtBAElZ7xMaTplOh5rZn0tCRQnxEQ1AgprpTQMa1pGwowhGEFiFjQ3ZkFh+wudJcFfywEP57hZRQm4mQivBmWA59RJ5jqQM5JVIwElF5iHMIQxh0kSQT5x5Q5dYt5o5SsqsZIEqT2fAc55Z8cj53uDGQEaJSJrmfuzmtAzZv5Dk2u3ZCltuo4Zh9go4HC1wwF1ZQ4luLuGlBIylOFyQ7ZUCnZ24626l8mZlfZXxy5YCZJ9memmp9Z2pyZXxyegejAyJBlz4qWCmvmcwmJTl64TQNC-xwVspdZoVMWEV7pHpQVMgIV6WM43OvZ2JVhrlv4-pb2ylKUW51gD2T2vgpW-W22v5pF5CtUhsXFpV+y-2G2gp32tVyQDkaVRl62wZm2Gy32iguVwU8kcMioaUvVAOZiclAEzMPVa2AOZ2EpZiZlI1p0KYaZncclOIi1NIM1ACR58MKQDkU1+1TUAChsrgXFx1XVmSfpVV5WB+zu-V52Q161KQOMvQ8IaURAVy0gAEv+WRzxCEVlHAf1YplCMg4yrmEx4oESMNe48ZLBHpv0ENRmqy0gygYN6NvycwZ4iNbK0MoAUlWmtAjE1IH5VJzJH48OzVhVdOx5f5ZKoJGhdAj1kabVcCPZJFzYHO5Vz2HN3pw21Fphf+OlgIIQBQdCcgFNFGPoBJXJtNZ1r1K1+2U0mFdActVNitDqhGLWQtMgmt3krmS1IZ+2NVS0N1DwCqMKZKcKutNJGZbJBy+J6qDqCJwyrKYsjJDCmUjtrOrJXUsJ-UnJHtNK9y3tM0IQwN11pNLxZJSZPJkZjhLNYFWC5OYFkSahLNrUbN5N-o8t1NSthGYFJFv1XSkN0gbNONldGNUNedJF3VsVLcH6FlgQ0FQgsFEYhF9E80Sljk-1DYylLlNAqp6ZPlExyc5Fo8NmaVcmXlYuQSLppBRg2Jo9WZApatxVKBLNACQFLdW9-yTq4ZkVhsVyntbUQiR9J2ZGMu5cSUyllBmSl18dCEqpYdTtk9KUF9Ed5GQin91Kd9dpioaVgDLoJ9OVkZrZI1ck1eA8qpbtuqX9ydvl60v9d9O1SD1JQDhqK9KQaV2DNNO1yV0DoDkZUi5xNqlxEYUYNxyi9xaiWYINOiOyDAyJ7+flWws5ZS7DTAeVNAycZpKFBGygYFO9+hNAPWba75n51cg2B+IjaFYjbdZ9h2DOdtbAsjRQB5cNcGmKweSSuAssMjH5OjfSmOQufSBBqCtpuAExeWCWxjoA4W6jWmoFH6OIDjMl8WOIygeht2t4eFEwBFgp9jXDUjPjoWzjhWb94U0921Qi74jF3jSSIEM9FcROyTcC5uZFiTo8h1ETViuyVW8CQMssGTSUljyIlT0w2TGyhTDSUui2Dgh1G9DW34bB3m+FPdgp2JRTZ4sDORe1uC-TTTKuJqQzCDJAnT0wbo4FqCO9rgkjw01wr8T9HIaUt63mWjFV3d8FcCAEwNJKQjqCKJ9yA9nZEx2Sd9lzQMN2ORqCl96FqChIyzfNEzsgFBbjQTTzNlyB7zdVZ43zvGEqnd3TITvTwOtz5cA9bohY0wYzKz4wGc5S5zwyjYZCKLgYaL40SNbJX8JpK8Zzf9CksLoi8LQhKVheX4-AOLfCpLjYAAPLS6i3wni6LWLTxZECBCEUhMaYQJevLvgNNulIWdICEImgANQk1n6SEZzsSU6Mu6AytE7SuyuH7ytNq4CU4cuctF6Sy8W8v8u5Eqx3mBgivc1ivhrkAStHKgAyua1auKvosKQqtHKywOsavL7Os6uHxusb1wncCX0kN30SOuDTMTD7JITMhIv1ADwF3L0wtPyG5NC227CSjKuIU0J0nRsOhG2r0dOUBdP7O93r2IUhCkuXRbhZtn4eBbgcua2VsU1q41C3OiJnh6tXWSUbV+50mXTbMC0QuhM5NM0d2GuRCkuywKz+IDiTm0qSu82PljVrTMyTWoIARnWjMUPMwOSJs4hPOMsHvALt2AivxyUvPAJLswzBQrOfF5uxs7ugty6Q0hv8phtPzhuhRgu5v0yPtoOKgJstuMvktjsfNg4Zttu0r4t2Q5tRt-sFvL5Fsls9MHMbLlvR3zv3LVvFLtuukeCIwNszh3OiCcuBDNv+ituuuOWdvEcnTLuKhlSfEDupJDultnKdXjvDlTtHIztmMaRVtfqQ1nJLndswwrtgdvgs2p5kRbtnMfWNB7stvntHuEKntIV-P3PHvnzXtGxx3gdj2-sxt9tfGUMyIXGHqKK3EqIPEYAsM1LnmXnkDXk2o1nfH+XwalN8UKYXl7kDa5OhA7l+dLxaPjBnI0mHnu6qayDAtECQppQ+dOcufpg139QPA9aLhE7GCLhAj6iBA9aWhZcr7VC5f2k9Y9RFerMJiAh5euA9ZtKVdtKlfpf47w32BE5teiCNC1fGA9ZmzhqSBE79dqDddlf47ctFfcs1djdpM8JRBcBui0CDZzcLdyL1A9dGA9ZSuVfGAyDf6gASAgjZCzkyuXqgAbeARpPdo7epD7eHcZDHegDdoHdGAXc9bQTKDJB7fKD3fPCzlgQvfnczfAQgTAA3cph3dHegCzlgBndvf44ACk4P33B3UPs5CPgP8PaTNMO3KPv3j3ZCh3wPoEAAhHxLj5Dw99D6AGT2RETy12k0y8j5T396ACy0YPTykD1ky+kDd3j2j2z2RKj8TyBJkMzz9wL9kBz1jyD5kLz5964Pz1T7OXL9LyLyT+D9T64M8EYCT8YO-g8LBAl0F1eaadY4yxkIqCRouF6Cb852b9Q0byzYl8FzGpQG6MOmmPtpb-UCRriFT+V3b1METiysRe3S76b1+Y79kcb755H1yql0kj1uxfnsoCnxd6vb1-jpAIQHGk9llzn3n5z5n-UD1it7AJAEV+X5ABnyX2XxSPN0GpVyt0GrX5nz1qkSwKkeD536kWR6DE7xSYF3H-b+Sadv8hb+kFb9iBxM8FuPY7byP58An4P6HEH3U-bcffcz7ykH71T6H1NMP0lxvxSXCgdiSmeRH6PweayOa4Y-Sis2ecvAJGMBIPXBwMOh8IWMQDnI9oh3ZFf0+AXlw0A1QHCigwozR5c9-ToIEDibIhGo8JdjltgmLgskBGyGzNLUEA-R1+UfdMM8xIJn5ABJ-cfrfWg5t9AgmAvfDgLd4e8veA9Y2kQLH6UkL25A1wIO12aDQ0B5iKRFs1STsF3e+mVDoRQAgIDg2XA12DgCoYpdLO9DO4qokwD2caAyTJ0GQA4D1Z6ALoLEAwDhwII9G1iWxJEBZS6CoqmZN1HRGMHusQIHAdVr60pxGC-ax0EwckBCD2C-44wWXJFkjBYhKqeGEYLqBzgZxU2HhVsH2mIAis7A7xOQOuWIDEAoeciGVjIFCFp5E0vhRNJK09YytQhrAxoCBCJxasHmA8FzJSCVbuIM465e8uUIbhFCnshIO6Csy1ZesQIoEL1m2m8GKRfBcwEjFAOqHzgNylg7QAbB+YIQehlQUYHSHlx6COwEw7PCBHlAF5nBViA5BMNAAFJ3oqQTrlRwmG6BnE0XTYbriPK08jk4eHEh4F3yJD9haecPPuA8DKC+0TUdQfbC0Fw5phTQEIDIALI2tiyymZYasOJpGBxQdSYXIvQgL7D1w0MXws0JlYjD4wdILcOpS2Hus1hrgRNDYMwaUYYaNZPAVqSXrnD24iIoECiK9bQixhZws8PCNBFHkpWSI4wDBCZjQxLgpgJ7KBAa6VDbeGwCqjCKcHkcsk30F4ZmR6GgQKu2NfqHCP2EHRcRh-YkQwHJjvQISWrCUTMIADk6reXI0OVGyiUQ9cF1hMM1wjDECMgRApMIiQ7wbEdiLcIaPU6Ages-oVPkcjrBqtlY-MI4qsSdFHJ2G4wGCGCKnyMi7BtwC0brDoj+ipRMo1Gj6LOH+izwQYn0WoKShwEN6n-BKOTV-4XV6KCmEsKLg0p6CmcRZGkv7mzzWjCyXw9zC-GsbYiUU-uS0SRgTHf9kxclXzOmKLCVDCM-uLkeLABETI8x8ZHrOHnxBoj0SHY5zK2LHDyYBGoAfAgMmnLXx6xkaIsJmJKovklkhY3MYONqqTVzed9Oag1D7GQlnwQIxUjiJbHdtjeDYxSEIG7KOxsQ44qclUCnFpiZxA9eyiuO7anV1xtKNPBV2zy-RpCEYe8S0XvKiIWUd40XH+IVyfIa8MaKtmQjphAR5hk+QLieJAm0BwJr47DlBOrFJjyAj2OSrBKOC-QIJYbGzAcnQk-9MJKYiuNOIzGii9cLYsCajW+j4TaUtvBCWeP-GNUJOzVDES2OPIORuxeQ7cZxKfGjUPIq7O6pYhHG3tn2t4ESs+H9xFNR830TsaYNuCKSFh3LDStOzHKCVxwwI7WB7gkB8BROQw8KPUwtqyTxmEHX6CpLgmDNBxNeNSaHl46aSJyZY3SaSleChlDJkkhCP0UqCUAU40wHUCIFkBmSVm0kucVBKIKDDAm3kgQGeJdEugs6IUgzrsJMnNjBJXk6wiQNzjVkHJ6zRyLOyKDZwOAZaAQOMAYAUwB4tYbgBWUHFjtmqvuLibdVShp1x4GcLBK1Ibg4J5OzmEorp2SmkIjCNUayAfn7CEACpQgIqSVLKnqTWELEA-CECqmU5F4QiGePR3E7CTtgC4ggvpRXGSdghn+b6ItLOEtjlAR0mydwA9SyQJOTU5KeJKCj6c6qR0-3EEQ2AmA7AG-IgHmjIgAAGbIgPGEgqx+M70rgEuPtjkBZAhcYGbWE+mjAAI7oj6aqC9byBn6lieGW3hhkMBNcycAGSPDcHrwHBj8NGdmKLFLw6o5kz+N9D8JE5foRM0GS6HBniiLBo45gDDVxmMJrAKoTsO9IpibRgZxMqOODKOZMBAZtMz4QLIhmGwB4uQaYCrBnBw4kpJ1MzA1NqnMwPA2M4WWzObgOTRZ-OMGTZGZgQlLJtkwEFPm+jSyOAss0QHDi3AnTEK5sy2XDnOm0TXh2k7gI1VCnMAZZcsrme4NHEiBCgDYCjEEgckIJepKUKWZ7ItnezSipULaQ1KOrMwmOU4EvKHPHAJyZoPkPhmJ2WjXSD8GCdqQIk6nUhRmvU7OfUBISXQU+mFDwLnlWiYUQg9s72ctNHhug1py0d6NbTEhmZLJugEabrEjkOzjpR5HYY3KtlUcWI-fCwrXMUjZyvqHspgF7LHnPS4BY9ZvEUHYi4Zi2RmJ8HghPjjQw5u9IfqQkHgdThCxLOpKnO+auAyomCQ4enzHYOQiAirbfKTGbmApVpBAkvp+1mkwChJq0TaZtWsC+5xoR1UgnaDAgQKJqLUwuQXLbhnzcE+8n+dnJIQdSaeg01DCOBNmORn5aBdlgTI6jG1XAb85Eh-Peh3QPohCA2dpLvi7z-4M4UuX-M8hlR-ZdCawMpkQWXzXmbzcBZAvLmZJr8FaQYddVzl8KxJa8+hHjPLgMK46GU5EE-J1Yvy+E3ATCNwABjIEVmMnegnnhwk0UBFmeOycnIcDKKvQOgSvKghrw7Bfcyi3ufGXBYbz3yPyHecYtCBqLXmFioBXXlUU2LMydiqBA4u3njAfoAMZxUnlAA8KwI7i7aZEGsUrCR8A+b6F4uzzyLBouCqjtYstEpAF8OgDJckGSWKKzh6SwhU0GkLZKiljQC-DXj0X55RxaZd6WUGWrDA9BJTLnPUvNoVN3p1TJQdQERSCEUU8MiYiyn6UBc0ZWdfpXJJNxUdfI3MocUYBDppMZwssiQGwyqY4kXBquKZe4KhwSozyOGeGT7MQT4FiiY42MUgVeap0h+iKVgNSHhlwz+Aa8TWU+A5lBJ+lhsCus-OYqbjAQeS1JYcs4Qz4cl9Qd8D0pxGXLC6-SgFSkHIKvMUZrYPJR8qgkMFBFzBPYHZNioxjRglOEZZ41BXXLuZGStghwWpDbE6QcKgClRRATBFwikReInLAAAyQaDIuLVEB-SJUuRXhEDPGBFE-lFgA+SswqLCERAohDYtnkaIiEfA8MrlbyAsCrKgwT0XohyvkoBchibUCVS+BWZUqOANK+lQsSMnIhRVgq8Ve9MlW1EimxKkGQHP-5NAtiXBXYnYQSyHEyl6Td6ScVRAwR1O1qgUFTPaXjAXVeQT0aOLPKqqjl6i5KWap5AkYxYNy54Kfh2UKr9lXoblXiB-nqc2V6BINYmt6kb0jMoXaYPqN+VSqk1KnPUKatpArwMQEa+Nhu2jUIxS1lAr4KUCEhxS+YhRA0ScoIIFrepEKrqL-kDVGrW1GK9tVwkzWtki1qIdpmirzUnKSiChcmOcs-ATh-emhDYKan0nPh-RIEIKuirgISU6qC6ogJXKGmUJs82akAVuspyIFp1xKmVXuqCSpT+1cYy9XqBqVPLBVzcIfOMv5BSFbgMhEJLXkMHfq3CWa5-MwBGLNr9Uy8JookPinUAKYzVJos3H6LpyUgThSsABFtX7EEsiG7OWlDCGSwbkPk4lTv1BgeqzQJ4I5McWJU7ruoPoAaM6LA2EBfV7ABRoCF+j9Ef8UPXDSzKtzQaiV1oNiRtPWjfUSU9AOsNMDRkQaRC+ynmc70TUAQgVE0HES8rWBwaRCb6xNUhrwgs1nCZEdDYNAOLqbsNLNTjTcjRmEap+h+EjYoTI1OqfVlG3TmHFo1ujnVlG8Pt9Hhnsaqexm-5KZr42MKRJklWRQWFikKqKMmVHjVBvo16C9liG71nBMClxrENNeeLf0Qi1jFCAAXZLeFpi3rQRNIGnyRJsFWpa1i6W15SzWGRNq0tbNDVTETiKJEUi6RQ2NVpmJ1b5i2BXkTxo83PBytoGyrU3X4XIQopF-YLXsrGU5bgNYm4GQVuqJKb0EZW0QEIAlUAQNVWqhlY1qmIrbGVNM96Z1uyDdaJVfWyxCBAG3Pqdmj2QaO+GHQ3kHKRoyUNds1xnULticUygMuUmKVhlptckpdsRBpTbcAzOiHdt1VCYh2ZsL7emGe0fqOwAO6KULj2og6nt12opjbLe1O4PtcO77eDvJkBi9IUOklMJEDCSYhA+ohHZjqR225dRfmHMTlLe2I7XtZOwHeazYChkMdoU-7cjpXluTh0lATmY9u+2Pqx1H6odjzrB1C71aZi+5cSprwXaudzyj7SLsIxy7shHdCdSct2rGURd6VagKDvVqJA-hGncXb5vhAObjkggNVpusQJZNNd0u2CCShB3S6fgVgLXQPVHVCgBdHA4QA7pvJo6yAMHOCSjRpYqh4w7wT4JqEtWNAzdKus6l7uAhR7HKzu6UDrq+5Q9bdnM53DHvt20BHd9wXXXZDj3kwL4Ru+0bLHD0YqhuDuq3Syq0x473i2FWaTOomJhry12IMWDJ0yDUjSoEy4vXAWhpMB8dfgs9biLMplLkgBKjYJwQFAX5nA2e2ZXQHriEqZ12nOaeQosLygE9gQXPfnpo2zDKArojdcrpL3KAq9Iwa3Qg2aJhCqdF0opmlRcyEwWcMkwcSkmmD8D4WmpIQRx1HHETaxSTXonzpd2Y6G9FICtUCBb1iwb4aYH0M+F5iUlspwVb-bNK7WK8JgL8I7kUrUmIHHJAlCcsTEBgMAQgH+0idhOdnB0Z9j+UfbxvH1uLPoMdPYCmsPZPqOQRuvA1hIASm699265QIwbInoxrYLNLEFOOG6SAAIAATi6ADx+Dz2LgkEK3gSoxDM6pePGDKAH7OOHEiJPQA005yNpZUGgGQm+mcdXAYhmQIqMVGyw0AJhqjeof-k3TjA+hmtvMjLlWGiYagWQ-GjsRmrZkoiGgM91cb3Se29h82I4bNXOHJ2ygXg+7r8OSAN6CyyQMsogOrJRNP+6UEU1z1WwjdkRpZZUD4YsG3iIwM9UTlSPRHj9EqICUWH70qgw4qMUYP4iMw1C51voCcABCvGTiKJs4h9IpHeGEAw4jQjoP6uU1nQgMlR+NJekOG9Yb8wwGCGO30MgRu0Ux+CfeOOUYqXgHRp7lMaDixa9DDhyQNgPZGDQ81sIXGNdJxhlQfJz+fyVwFilzAJwah1wPFrRl1getxWxIcFp8lZ0LjunMqH0eLYDG0FtMIzCi3OR7SVA6xynJMamPTH+ifoM4xpBBMgmVjN1L6iIpSATGoT0xxAusEwLe8kTyx3TjIeJWh6UgZqwAznqrWt7D8eolXUUsgNwpoDBokoj-jQPhNngzlDJZ3vPX4hZ9pB+ffKCtTuzAtW8Pav6FoAqw7EpRn0NJqH51GyIDRm8U0a5WPoID7Rn0J0e6Ozah+cnNeC4WUmsGWTxB9guyZxOcmloRcaMfqIpPDAqTE4F+CM0WYpg6TUPZyqOMbV3H8wxq-5T-JLUMhw1TeuyOXhFYPdT8MYNMGWBAKOmUU3pmWMNA7XJrm9eRebv0WdM8qf5ICIo9YH1GKiiCMgL+aAAAA6WAaLbwBbzHHcAdYOkCvoO4S8jyXUIw0cneOKR44SZ-vamZdHpmv52Z3MwHN8krwizpea4PgFRiiJ5waNZQAAC9D+WZw4HWoLOdm0D84Yc+Wc+iVnVUFR4tv5y6AfQ8AfJj8IKciCpm8zRQCc9KLx7Cj5larN0Gq2IBqt88MIRUbBDtB1mUz45vyYWf3N3dDzIPFgMedPPnnPR85oOEAA')">function find_assertions(pattern, frame) {
    return stream_flatmap(
              datum =>
                 check_an_assertion(datum, pattern, frame),
              fetch_assertions(pattern, frame));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p20' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Check-an-assertion</kbd>
	</span>
	<span style="color:blue">
	  The function <kbd>check_an_assertion</kbd>
	</span>
      
      takes as arguments a pattern, a data object (assertion), and a frame and
      returns either a one-element stream containing the extended frame or
      
	<span style="color:teal"><kbd>the-empty-stream</kbd>
	</span>
	<span style="color:blue"><kbd>null</kbd>
	</span>
      
      if the match fails.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (check-an-assertion assertion query-pat query-frame)
        (let ((match-result
              (pattern-match query-pat assertion query-frame)))
        (if (eq? match-result 'failed)
              the-empty-stream
              (singleton-stream match-result))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_13_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf2mHOOIBHiBEBghQYSlQUZsFwbJ4QqCpzH+vJRtnsZZ7mcYSGSb+6mmMC4XxKDdVahXUp6cRwYufRnnKD5j6+RXZpeK0JIGBuPjVHO1bTr6i29u4LWdcB+7pH+w7nEMDHFAgGB4CQVA0DxNBiQuR7zBSBhjDYGQGGIXD3OJj4FEoIHceSVJ0gUFgyCMShE-CUAAB98+MsOPi6+Oc6TmJC+L1IWHwfAOCEbPc4Lou-TD9JMmbpOnam1P7jECRhAYbcwQT7X2T6Afk4TMOsPH8IADJF96fpBgXkdJ8a5gxF713Q7T3Xu5nwMw53oeR9BburLoXXquhvvqV8DOG4YfAo9vz7j+xwLtqIiv+ThUfmHC01AxB0E+nQMeACqKBTPuQQetRL47nHlZUB4DIE6X2o-dBECObh2fnXf8MDXy-zXvoG8f8kzH0mNg-eIM3BgLwVAq2tZv6kOBqvEYN5-650AcHWGYdjRCBnBUZQbAfqZToOw5YcDUjnyQaPa+oBwTCJYWIiRpV6D30mvQlQ9APgiIYBoyRMVDCEIbjI2IZDuHUKoXaBetD7qPzUaIkwmipGsK+hvDhKcuGDB4dQxxdCQ79w1sY9xpjnBWJiHIgeF8lGoJUeEkxWi6A6Nph5FJkS0kEJfsQluviEz2KyCUmh-DH7ZPEVErKaMYk42KeQwJDiAH8OdgAMUgAADQALIAFFmiBEIBI5Q-xwR9wid6agqJwSgEctM1QKiJEZx5rJPA5AZBG0nikTybhay7N6EIYQHBhCNGdqoSglBCCGEaCAMQCzaRoFyAoYA7hEijIALTkG5BUBQvhgAACtDAfMMBItqwAUg0mIIYYAAA2HQ2A8CdN6QMjaCh8CVn+JQPooB2AeC8B7JQyyWA8yavgYQvgCCOCxX0Z265SBaTmRQa5W9cXkspV5cguKuQEscn0GomLSCgBqLUWoaBMkHxHh9El5B6lxIUcPRJFcrITODNUaZzgMmP2JaS+lusjaGDlZwm42JzH5Lfh-XW3AynBOcXonV5AyUUqNX4gmeLlBeCGE06hvCk5OOhhK-uIkXWz3kQghJV8knghEuHZgWhMFar0TG+mhBAiMPoCGra3qWl8L3qE3ZrN6DcVRD8FNabDDRJ8bIzh8DEGKsjcq0AxkiiqKLRq+gpa4apuhRW7RITYZvGHmWhg3b14kOrX40eDBAgyGUXiftnFB3Ry7aQQt7xM1olBNOyoyjSR2vzUu4dnRoGFInQmKdM7lE6BpsA1Ixh2iM1GRugtCrkEnonuCe9tZqWJvzQTL9j7vEVzCLAzhSjP1tG-aM8E3Bx5hH3bDAD1LY1UGIJgw1PjYhnqzbYnNfqEOcSqAymchj40c27iBopOGx2J3gw-JN0KSNxrQxzDDwGhLXSCexgjHkw5oc0LiJDT64McZrWnDIBTKB0d0fmsOEiPgobI1Aijom-EdwkxQrjtG2m3qajy+pDTT5hrrW+5R4J3VeF-bDN1+mq3WLA1fczPKYPUgATx6aPKnW+AMzYgJWn8MBt0xoYZ1BuSomfbWiNKDG3gmCyCMLmqF0eQmWWntlbx32b8Ta1p7mQakDEGx09mXGm4ayL6-1MnYYOQYD9Ar+giCUew-3TuWQGtJfMERhTtX6vXNUyVwYbXcsbS6-lw1bXQN+JvINwLeiw6dX0Cmk+-dX1KJTVZYoGTA08CoEbRgpt+K8TtrzDGuslsnc+pvcZSZaizOViomQ13hC6RMi0donR9CHa4lQcId3IZYZWM0ObP0PvfabSsFWDMmYszZh8cjn37bnb1gDgtWFeJLxXnPDc+gtZTBmNty5ZA9shXNjeNH+E9JFBvDj8nFPYiG0JybYnXqRhk+bbT6Y21qds-Z0UamuOmj3ce35Gb+aK1tQ4JQLKpd+gKH0HDM7WE4bcCeICAAfMKiTNM8B93dnIT2UA4CIGQOgAOeIBF01jloZRjNKx9aM+HSMUcY41jju1BeylSiucTspQHh8v7u+dApeu0k8lEK8UYCxC535pCPgvbgNv+cqQLa4iJ1S0nHw9y0U8a7DHqJyVI63dBbc+4LVUjx4WA+KhVtnsvNTpFJITyXkBjCMHkcr+DrPPxcGYML8X50vu13FucJ27t6b68AMz87hcg7223wXKlsfvfE8C7k9KnmGfA+gAJn3Lca-HV6s+ga4+NOefAj3154-3PYyN-7wWoTQHc6T+z-fowkHAOKZY1AwrSd49F+X6sAtCzDfKvTvBcIAhvP-JvVIYNdveSUA7dFOJfKAmrQgELBLDNWAvHOLbzKfDoK3FLFdNLDAgBX-W3E-VcKdaPNGQ1Wrb-SmFoP-f-WIUyUgcyMzWyeyJyFwcxKBcgOGTyFwXA1DXyG9PRbA-QZEbgWgoSAcOeLqBQDVTFN6ehCQhwSYbGWJThbAkdeQxQxqHfSQwQUbICciZ8f4WQ1IZ5QgfAcoZQ0JVQugdQqCGId8aFDIIqIQ-A+hC-ZESmK-Z0VWRmIdIvA8egHvfw1cCZA-SQMgQ1Xw8g0-IwgrBI0-FLEI+QZhMEXwx8Yre3GNOpNNdwpgooUofIhiNdRGMEQotgJONnZoMcDUMMCiF8Q0MyYIBwqyDghyZyF2fNSgXwEgAQwQVAtgXwe+HMEXWGSgqOaghbLtQwUg9aQzFwarWguY3rOSUoFrOSA2LHTwr6TrGcbrFNMIRYlIlYaYrxQ1NNI40bdY04hg23UQ-NKfQfWfEfctdLRORYn+MTJgUgNhfY-QQ9FdHQ2oY-R4yYYyavF3K3EE1NHPCEm-W-IE+E1dY9JEv-PNWGV4l-ODH4qCCw6OBQATB3B9alFTJY3I1UcCccfyMwzyYUfQVfBTUjT-d9CYDQ6YQKIEw4j-HvETTgBPekyMFohsAxAQPk8eLxRkZtXkg8Vk5jAU9jIUrElcIkso62KUiuLxJw5tQKbUxOLxJiQoZo6MfUzhXEt-Ck-wm4-k1jFTVU23E0iY00gNRsBwXBWoRkFXAEdXFrGqbVLdaPT0lvDUfQT+aFM7dTLuSMpYDvbY5HLCUMitcBWobgS4lMphcEm8OMpxMiJtIBPRQwbkRgGwtxNPKROg7GIkvE1pLklwiUr3KTRke-e0r-Y+F0zQtTVIfjfoskqDB-KTYo2ILYiTZtNYVAoIowUst+fgVPcvN2CQhUpjVDZU7TPwnnEsoQOcisxcgxASW4RqF-CIinO0tk9DSknIs0hsuJFPVJAvTAkApRe8-PMxSPGhbnAfWvdPJ8zfJRH8zxM1IhT8giZoAM8kc4Isl47PcAxtBPbGIWdlEWTzOuZ1BeJiRsbsPUVs2c8shcuvQ1NC3wEwxs94AQLMtM0IRkTM2+MM8E7CujOMPxIE4i846YQIpmG3UIzI28bkPUbgSijUBYyE54nE7PGA+Cv-X411I8hAlUcPK-IE5NQgxfOPU8hoBPMSi3LvMM9cieBCqCRsNGRkIE7vfBOpOPSEpiXBUPV+OpcylhYCyxKytGRYmWThNGbEnShcQCivKS23bGWy5y3ys6PysqEKy-FYIE8K2pM6KyhPFI4Us4LDR+V418ys-y74yEoKsMuy0K62DK-cxgSK9S6Ky3L6IquvcPBKv-JKtU8KbXehXXeQJQA3H2Y3f2Swc3XjeRAEr6eXGShMfg+WSgfq7y+qOSnfaIg1bgNinKgaBzHcVtEkmwpmPuGDfwma2Iua9ldy+jWTSwxQaw2wgw6M4zKLLIqyKwta4eDa9rFwKIyRQ-WIiQs7C9HdGQbgedIbCZYit6oawMD62dL60APdA62GNIysHinvGQd6rdS9UG69Ca64OSzUthN4So+G5a9G4gFzTGjmB6gtXG76CmQG5bcNRRK+NylRXGqzTiXGio8jNGM7MpFm7SjyR9L4MXeabijInvQy8kTjO0ZKyrQjFct6fmBbaSxarLchUWrbLm-AYwJqbzSGAkwoIWzhLCdW6y6GRsbFRqPs3EPmsIjmRkCCrbbfKWkKkS6ghXLHW23qWsaTLbSGfKuI-mZ4TW5i-rCQr236-mK4-207SIH26kv8EOx2SYumSHYI6G-mtvSPO2zoESlgdYI2mWrWydRmMQbFCPfJEDeWDgNqfO08eMzffGKam25O3qB49OlW5ExUZoEuvO82W28IAAHmBFzrLtTpHNHJaFYPaPBAABV64t8hBKVateB0MmwRjqBahmhZkABqMHdnUuOaIUbzDu0ANelzVe9e2nTetqbe0miYOooetgseiemQYgRyJI2e1jeekLJelRPeo+inE++5GQHe5O8IfeqyD+jSmIb+s+8unTe1YPLEfKmqyPAk8kNKovEeeubEQWlYR+bc+vWu8mRrWMOJFrAuohCuvSFWZB9EbEEB2IJWnm6OdIs25TLSjS5oEKzebaDuqh2YchCBqhlh0szTBxf+m0O0CB0i1idUpkm3TeQ24k0k02zIqkzS4ezcEKzougOucoJ+fJZesR00hk5wo0Jsv7IEPkiWZK-BzhLBqO485O6xzcxI922YvnLs0ANibOhMG3FBogaW50mOjyYKyPOB-JXqBBpEPRTxihnxxR3oxDfhp23B6J32+3QhjhgiMhysLxyh9nGhk6eRgWxg-wlhyPNh8hVJ0h6kSQBgbacu3qAel7KxoiIRyO0RlxnUCRgwKR0aqeY2uhhOhhyuAxpRtg1RlRWyDRkQLRohIYxyygEQ1p-R5tRsYx-6CWsxtUixvxKx9222ux9iq8RxhiT207XR10057sjx8h1BqJp2Jq0JFq-Xb2I3P2AObALbOQ6gBQmgJQgwtQibUNeJKmncQw8EVND5vQ+mjyUFz56gJQj54ZdkgvXwv56jARrIbIp2AqXQr5-Q5qmiq+dMcDOYFzWIOYVcexoocDDkYlmIDkMlhI8DDCal7bA8OlglxzUeJl0eVl6YcDGMtgFzPl50clwocDbiQwYZcgMYu2HiCRSlRUYV2IcDNo0gal5V2MBVmIcDU2VQGrFgQwGDbV3V92FYDV4ERzFepl2IOXbgEitXUAfgteuV018DD5S1mIa10AW1v0+10AD5T1mIZ1xzOEbgBoD1r19XfgyEf10AQN5a4AN1gwJXT18Ib1-gsAJ1+lxzAAUgTbDZTYjdACzejdjbBHBHEktbzbtZGqlBIszeWoAEJJQK2k3w2fXG2gRa22XlrO7c2W382fXu6YhO2eXHNO6AQ3XK3U3QAx2h2S2IRVde2bX+3+D1dZ263S3Vdx2Q3ChJ2C3N212u3S362E2fXChvWYh63Yh5d0x8omyoW9C7CCwPbAQVwTVmdhBuB73sXH3UQ6NMWwXv2Jl8AWAAUTAWyARX2NAHC7WGWsWYW8brVs00W1CLxm0v34Of23Y0wIo724OlDXF3YgQlFwMGibtBLaSfQ9nT9wNIA6Apl+jiXaP6Ph3EjFQtWqAdXYBIBqXDWuPTXWPNXHNDW+kmXhP+OBPwMAA5cgSThN6TyTup9nW98ingPDxqFPW2l9lYN94Ub17aOGz9tTnPZgL-ZTqkdD-DiUoxagrT6YHTu1spOG+giz9Tqz0zwMsQkY3EFzzDjNQw2rN9M7bQ16NUUgUYk6AFcgasEsrqTQfQLaozuFjgTBRFtQqjwoAL0eBEIoPx8wacGBvJ8jM7Ti+OmG8jK-YLacnziZeJqh1TgDjDjToRirqcpGar7w4D0D0wESurnzlPe29Lml7pkk-swrqBGmA2qeMQL4dO+fehzI1s+MQgXpsr5TbD25gse5tqx532TADAHq8wTGigUwBgB9D4MqG4UgT1DWc6tIWezOTcNmn6UmB8Jgrh0rVFyWP4WhD+8EBgQ+sB3+99z7m7qE5HJ7lGDgCpPRZ5G4B3PVLQMdMuArIL5QZQWejIVDfQIwKQtH-t92Ne-Qb5ZQS7WZUocEWZZeoBte4n8T1cCn2DMauaV2x+btS5HepntqKQ0bbn+aNn-o54aCdxwMb+37iED+2Hx1YwBH8Et9gL-nnoaQgBlRawYXMWyF+Ifso2WXWrW7wh3Xu7cEFrZ7JPOTK+XX0AZeLAVCZk8TLuG8XX8IQufxT7x30AdtlRDbN7gwbaC3+WcEDbaE-RKBY7mcM7mKS7z1A3v0ZoW3lAtAgvC3q3gsmIDuI+Ag0fXtaRR32wMicn8XtehXpgMgWXX3u4nP4BlP2ZAHwJ6PSMhwp9hfLPon-LdQtetnavj+ov7X4Hh38v1vn7le63ltVX4fmIA2TX7zSSUEFzWrQzyQLXkvsHl7THA8FvtaO7BXiERljMq+MvtaYRrIR3+f9n4v0gQSa3gfb+9f738EAAckPtq1+4f8v9c2R7Pt16GyL4fVIG8x-9tdlr-NCGn0DOFnG2j-86eBEcDEcgPrBAD6DkHSGgjcDFgD6AJDgPCChLQRSgW-cAbWF-70EbwEAk-ov3P5MEJ+C-bzLgLIC1tI6RA1ThQNO54CSKKNFwJF2i7KBYuM4NGDoQ8A9p1it3OLKFgLyLY7s0AheugXSRUxvCTfaJItkG6T1sQbA9YBwOoCaAvEPA0ZG4F56GpFsy-U3n7i+giCO84GDbLBlr6Wov4ug-WPDEIAsDQA--AhLwThgaC+Bi2GskyRATiDhBXaPUg0CWbeFWGQIFcCFQtQx4v4GfT4hml0EulMWvA5AcPFoJxQoODgngswGcGpo4hIlNYtEMNAGkAhxTf3oy035Y5toGQzQcYASHGFEOH3MoT2iQRK8yBMTd8vkkuwctN+8gcofUNGzWCauBQ9SEoJi6qCuBDEE3iUWZabhehwTK-EogGEqC1B3A2oW4GB7ZCfBtCRoTrXyHBNVOmQroSjxFKUQiS9fXQVyUCgmCXMIQuvkfByF6NRS5pYSJaS7T+RcuLgfoiQH4Hk0UcexHwXdm2hGCXsyrdYmo04I9EZBocF4QMWIBzMIai6egJUR0E+CPhq-TcH8Lxw3gURAuAEWtlGZ2RuighVSlnyGIE0v8UI6CrDAtDFgyokuJqI1AGAVBBgbgwAYGFeGGCER-vckVVCGy0iasyA7SGVH+oMjheLgbaESKkz8COaYI3PDQCx5YjdaDgcZsPE6hVMjkHAUgOtBcREAcCCIwZoyQMBA5kRqwhshSCbJyxcURMF6OLCloyiA6FpPxHLDAhqoNQ-hUoHKNuqnRV06gEQCqMBGI5FOzBfRIQG8yiw6kz0HIjcIOEeDUgWEY4dqKSYuAsIuQAMcD10HcAEx3mNEasJOamFbhho2MTYNaaQVBR-ozUYQHFHcExqMuePkEQiSytwShgNkBUBrHDxDApIREXb3-Dzo7sDYyVkgmbFPBrBWEdhvOnkG+l1c0uD6JWKZhdjfAtY8seOKIhDi6uPOKcT2NJBE1qgRsRuEoWXHrx6xkYbsU2JbGMjmsGmOsd723HhxiQfYpMiUNKYLi0II4gQhuP6Bbi9x04wYOeN7GQCrwD4scQoAQhGB50kDUXLOL-EyAJEOcKDoYTwYR0wJO2RmLGkCAfRs4iEv8TpwcCwZoe+aWCQThKogTkJMuPXieJAne9EyK-KBGQE3GNRtxwPX8V+Pdb9tsJiMBCTLnwlziuMKEirAd1VAq0Wo9MEHAM0LElxOe7UUod9lLHiBKmv4nEGyG6CHjBYTZQjhJJLB+AZJfgcGrmMI72jFYogMcpkFAAsM7BvE5wUSHfj8T1ojYboIyFEk9xBJqQebN0HCDk8Ns+k0AN0CdgS5QAo9AABJ9IGAAAQXADgA+kAAJVHqQAAA8pJ2QBAhLaj8O+mbG5FaRf2-E3bA7AFi5jeAPEmUHDBSmE5veqUMWBUDhj1CeRyU+nEkEaEFTOgC4dkb+yGxVTMgiUikQeTOzeTfJAUoKaFIilRT6plTIySVKSlLlypjhD4QVKklGSGAJk2dMNPoKxZSpzgEFCBM2xxSWoTU3kQeWGlpSzsv4t6OBLfbc4tYs9NXBETUAmAvANWRgLVOiSHTLI+OVKT6MG7xS1Aa0sqXBKSBbSaYHktAa5wcBbIgQAABg875oagjkadBkBpFeCYo1AQYFdHBmFpfp2gIEN9PhnkShUa9PEB5T8TIzcgCM0gENgJggy3RL3L7mTGRmCCJBzMSCIWKwgB8XMWEMmZDLKjQzD+JM17nYMCCRkiZ4oVINUGyDgzzJTZBmQnyhlmhhU99MGRwHj7xZPE0MpKIgz0TljGojkToJ6gFErA4k82Nwc2lKAEzxZGsb0ULOlkiy6mA+KMd8NjDYCscishgMrLYCepfhqw+QYUGtm2zPU6YksXoObp5iCxuYl2SrL5lQ87BFQEgCIFSBRCu09ESHujGpjYxH4fsu2QtmiZElNZvg9uJIzexZANY8eVOVeGujjVm0N5GMYYxU4sARYZosWJLSuFbSXG6szhKXPlikc6g7OUoA9ijAgNmg8cz1EGLOgsBQx2oa3oXJtH-MoxP2NJuyECBKz-Zvw9Qs707mfcHwhTf6KnWID5i3SvsieTbP9mLY7BJXZmFHGsKMI-grMkJj6MQrGizRZci6OaMrlfws5PopiAOGFge9G50TQKA4G3qM4zYNsNqOHhDHcBFxRQU8NXM-o3lk5wOU8E4VPx4BIQMClcELAvlAhRYr0CWEAvvkrhZYF85+RRyVgWzpQH8-bObCzkAKYg3c62H-Ot7QRUI1MCcvDDVjHzyY1cyCgyQHDBygiYc6RKgrvl84w60C2BbXL8RXY9gN2fYWKW5IPC6Fd81BdLALGkjOI783+p-IOx7hfwMco8YjkuwPYhFT2Q3popOSjCACkGd7IQGUXe9IY1gvUR9nnSf0SgtCqsSzAPkVoj5xiz9ioq9rmK7JwOQgC2Luy7z7FytRxY8C8Wfs2QMc0ALwshDuKR0WOYxejk+Fr8vF3veRbiAIWfcYlTshoKTlJDpKigSSxRebFKF3iBOKwUoVkuIWKg+c1gwRXosMnQFwZ2cNcoTVbEAt600WBpVAisjfSIWh3egOIkynRJvprNJDgHIfBDZkZ-1AZU0sIbNJ9g-Mz2TYugFsBlZvgPqrWHhDWCyktEWZeJO0KOpvpwy7gA4M2n2CmBN89KbEEbDiJ+gjAb6YyA5m6wuZfwHmdIgGWYUmyuS6okVDZy5KUlhyt6XQGyXFzelzfS5TuQGUAqGgDg6RRlLoAfyPlGioXHdlIlJ59ijA6gcMovwgrrl-Mp2TzQlxS48J7ytwjUTaQeS2pDAYKdZAAAyfSaKRrkyBAzIakgZ6d9MNRHLVFhYzKY1CMm5SKpd2Aqf1OHgsqeVjhawQ1IXBCqiaYqiWdChVxqKyVFK6leAF6kzgBV0q1lX8u2kgSJxgwbnGNLwkTSppwquibGGjTgzFpKE+EINz1UoSIQpg2mmat-EYC7B2hIVWyq9ofCdp2E-abnPBl2sIiOy6VfsrumE4tpj0plTq1dV-KPpdgitCSUln-99AvygnO9MRzMSPomqlCbtKoDerpgxjdXM2h2mVdJxr48Et6ASHzSDySa+6dTHBXfj+2Lq8GYairUhqfR-HbZsRJ3kVVUVv-RNUwLSlprBIZ8lTq0GRCMhUoFCCEb2uoGzSUV--cYhHRHUOBN4jcu7LGvhbdq-+fa1NbROsGLrpEIoptUwPoLtqOJNSwqfTCWho4ml1-ayTPPzil5gct68SR8GCA0iK1jAV6Nyqun0B1oRJIyUtG-WOFomFkvwIyANXlhTJgGzMcHypDo9WC+CQDQOts4U5rVLE7oEgMGn0BzVMuedQ0EKg4gMNzUugNho+ibVYwWEQDcrn7ZwaOZRxd9QOuvILM3S6vPLpLkCDSqK53KiZUZTvZ-LGQbwIFf0v5kPyIx56uGJeo1XAamylkoEOBtxCmSZpLjC5YkFo0cbfxyGvSKhqQnob7VHAEjQoFw1FB8NOm01XpsdVUd6Z4MqjXaxo34JkZtEsRoPOY1cTBAwgQVXDOCAvTokUGppXsp813YuRfm99Y0K5GAaiewWzkW5q80ZofNUEF9exsQ2frsp4WzDY4VeUqcG45a1LYpLJUdSQpYUyKUqvJC5bAp+W7qbSoo3vrrN3rTLdFveBiNAo4IDEGry2yBa6l3G8kPFsajIyktRU4ZWI0ihsB3NHAHLT5PJVUqaVTEeVRNoq1Y5vp1W9XLVpZUNbOETWyzGep6ZvAAUKhE4oRK7i7bfqEtLbYdHuKDKRgB26ER5DtLHaUQ8I3rB8Pdks9ZsvZEbriDFbbb7Cu2yZRpgu0sbHqEtd7Sdq+1qKHZvWUZYxmMQpAPt3XU7Q9uoS-atsNQMQKhmHgJrgdhY0HU9vzSjohBVudHbmMx1E1asCgDsvjojqPbxJW2-ALzJu3dd+1tEppZtvoDQ7wstO4cr9iDq-jrBVO3mdduZ2HRDUbO04qeVnVMDlyxGNdCzuBL87btfhFPn6BPUESaY+G2LCIAPqi7qB+NZndTrS0ub3tOu7HFDoF307iJjO17ZDsMAs7rpRu2XYivHLI51xFE58VRJLU6qrwGuntXyUB0ohDdlugXces53ESUIobftvrt50Q7vdMOyPcOWD205Fd6a-aCrrgFWQPdUrIKJbp13YdH4SOrHrQRN0cSPVWqr1VB25x5qx+-YNsQti7UJqc9iPDdev2F1FKiguKyQPiptV85c+IBFvZLlwnt63FlClyS1lj1IhA9p66GCroQHq7q9TAlzLXqhiK1ip6PPHVqMLFAkcdYWFkSWJ2BTcZupaebpgnEmzDOB4efimwHz0ETC9ma4vVk0iL8xjp7uxffwC+iaQTOUouEtVLSm1qrWlYKmPmwAUAif92I4EXGKoBjRSAzQI-UMK8QYDfRg9bvW3pYnUK9I4FCTI9NH0ET7oKuyA-MJGEp7p9mu7gNgeGEUwaojYG4M4LFYStKUQIAAJwnBH4lB2VgOqMBqi9EjByVgOuZhGxs43AEadqMOFESc5rEZhUyRcDyx-piTWIOwe8x387+VkNAAocM1hjRFzoaQzRICyxhpDnB6ZFnB2n-x6CLgP1j9RXBuNCgWhnaToZUbcByDFuqg9ssWWSsVlz+8BK+vP3pqPh8ehQJgf4AQhOgSypw1PthKNQ51UhBw8sv+LngGVnERYakATXVBCoJ4MgHXArQC8h1VIVoIyBSG+AnBLgpYfSmMDMk6AhUX7kcCdXkgBwgqZI9MkpQe9P0QiqBPCENFqHwQHyVo9sPKHHLqBAhYo761aPVRrFUhmVpKw+yT969rQY4K430YsQBwiGqkZnBqxubwS4x6Jm1slmeawtoW+jf9WWMuMKjSR5WtUfd7qQK0JdLBDmMGPitZWEIVozcaZBEbXNdI3ozcddbZdC5bEJjdMGaPPG2j--YbO4XdjfG+j0G8w3hILVaqc1+zO-X6RAbf8xdACl-SIm6hW5Wgn+gwIAbhp2sniTs1PYmtgxzQ8VveliS1jWFPDZFyWCWkIEMCOQs48R-gALOHWZGTlqQvgrkfVUMpn9RR-gCUbKOvAjGqzKEy7xxMonqQ+J1vYSaQnEmcig0UY3EfIqImsewp0xvzGVzon+2TxOwadI9QXS6tKWojQcpOWfZIV7qnjSpwIXboaQNRRkMNLyVTrf+USieJRoGNN6IVJyqFRHTNNwr-euim7HbsyDWD4D4p2XB6aJU2TwoMR+vXf1qn6Am9AAHSwB+bWuw8KkTIGCCy4h9nrJduoTQhyHkk+x4wPfHDMJrIzpU6M0UrjMJmQ5SZ-AG9FTMg41+vAE8PQR6DJluAAALwvAxA4zRQItVWZrPn8OoNrNsz9wpw5nwQlR5WnjTTCoRaoFJ94NSc3CRnEzTAasymf7Mttd+y1cgAfRYAH1lAB9J7JMDv5pg8AhZsXYucrPLm+zsudc2a03Pbndz+5jAaOeqhAA')">function check_an_assertion(assertion, query_pat, query_frame) {
    const match_result = pattern_match(query_pat, assertion, 
                                       query_frame);
    return match_result === "failed"
        ? null
        : singleton_stream(match_result);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p21' class='permalink'></a><p>
      The basic pattern matcher returns either the
      
	<span style="color:teal">symbol <kbd>failed</kbd></span>
	<span style="color:blue">string <kbd>"failed"</kbd>
	</span>
      
      or an extension of the given frame.  The basic idea of the matcher is to
      check the pattern against the data, element by element, accumulating
      bindings for the pattern variables.  If the pattern and the data
      object are the same, the match succeeds and we return the frame of
      bindings accumulated so far.  Otherwise, if the pattern is a variable
      we extend the current frame by binding the variable to the data, so
      long as this is consistent with the bindings already in the frame.  If
      the pattern and the data are both pairs, we (recursively) match the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the data to produce a frame; in this frame we then match the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the pattern against the
      
	<span style="color:teal"><kbd>cdr</kbd></span>
	<span style="color:blue"><kbd>tail</kbd></span>
      
      of the data.  If none of these cases are applicable, the match fails and
      we return the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (pattern-match pat dat frame)
        (cond ((eq? frame 'failed) 'failed)
              ((equal? pat dat) frame)
              ((var? pat) (extend-if-consistent pat dat frame))
              ((and (pair? pat) (pair? dat))
              (pattern-match (cdr pat)
              (cdr dat)
              (pattern-match (car pat)
              (car dat)
              frame)))
              (else 'failed)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_14_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf2mHOOIBHiBEBghQYSlQUZsFwbJ4QqCpzH+vJRtnsZZ7mcYSGSb+6mmMC4XxKDdVahXUp6cRwYufRnnKD5j6+RXZpeK0JIGBuPjVHO1bTr6i29u4LWdcB+7pH+w7nEMDHFAgGB4CQVA0DxNBiQuR7zBSBhjDYGQGGIXD3OJj4FEoIHceSVJ0gUFgyCMShE-CUAAB98+MsOPi6+Oc6TmJC+L1IWHwfAOCEbPc4Lou-TD9JMmbpOnam1P7jECRhAYbcwQT7X2T6Afk4TMOsPH8IADJF96fpBgXkdJ8a5gxF713Q7T3Xu5nwMw53oeR9BburLoXXquhvvqV8DOG4YfAo9vz7j+xwLtqIiv+ThUfmHC01AxB0E+nQMeACqKBTPuQQetRL47nHlZUB4DIE6X2o-dBECObh2fnXf8MDXy-zXvoG8f8kzH0mNg-eIM3BgLwVAq2tZv6kOBqvEYN5-650AcHWGYdjRCBnBUZQbAfqZToOw5YcDUjnyQaPa+oBwTCJYWIiRpV6D30mvQlQ9APgiIYBoyRMVDCEIbjI2IZDuHUKoXaBetD7qPzUaIkwmipGsK+hvDhKcuGDB4dQxxdCQ79w1sY9xpjnBWJiHIgeF8lGoJUeEkxWi6A6Nph5FJkS0kEJfsQluviEz2KyCUmh-DH7ZPEVErKaMYk42KeQwJDiAH8OdgAMUgAADQALIAFFmiBEIBI5Q-xwR9wid6agqJwSgEctM1QKiJEZx5rJPA5AZBG0nikTybhay7N6EIYQHBhCNGdqoSglBCCGEaCAMQCzaRoFyAoYA7hEijIALTkG5BUBQvhgAACtDAfMMBItqwAUg0mIIYYAAA2HQ2A8CdN6QMjaCh8CVn+JQPooB2AeC8B7JQyyWA8yavgYQvgCCOCxX0Z265SBaTmRQa5W9cXkspV5cguKuQEscn0GomLSCgBqLUWoaBMkHxHh9El5B6lxIUcPRJFcrITODNUaZzgMmP2JaS+lusjaGDlZwm42JzH5Lfh-XW3AynBOcXonV5AyUUqNX4gmeLlBeCGE06hvCk5OOhhK-uIkXWz3kQghJV8knghEuHZgWhMFar0TG+mhBAiMPoCGra3qWl8L3qE3ZrN6DcVRD8FNabDDRJ8bIzh8DEGKsjcq0AxkiiqKLRq+gpa4apuhRW7RITYZvGHmWhg3b14kOrX40eDBAgyGUXiftnFB3Ry7aQQt7xM1olBNOyoyjSR2vzUu4dnRoGFInQmKdM7lE6BpsA1Ixh2iM1GRugtCrkEnonuCe9tZqWJvzQTL9j7vEVzCLAzhSjP1tG-aM8E3Bx5hH3bDAD1LY1UGIJgw1PjYhnqzbYnNfqEOcSqAymchj40c27iBopOGx2J3gw-JN0KSNxrQxzDDwGhLXSCexgjHkw5oc0LiJDT64McZrWnDIBTKB0d0fmsOEiPgobI1Aijom-EdwkxQrjtG2m3qajy+pDTT5hrrW+5R4J3VeF-bDN1+mq3WLA1fczPKYPUgATx6aPKnW+AMzYgJWn8MBt0xoYZ1BuSomfbWiNKDG3gmCyCMLmqF0eQmWWntlbx32b8Ta1p7mQakDEGx09mXGm4ayL6-1MnYYOQYD9Ar+giCUew-3TuWQGtJfMERhTtX6vXNUyVwYbXcsbS6-lw1bXQN+JvINwLeiw6dX0Cmk+-dX1KJTVZYoGTnZ93dnIT2UA4CIGQOgAOeIBF01jloZRjNKx9aM+HSMUcY41jju1BeylSiucTspZoHcj5vedApeu0k8lEK8UYCxC535pD+wA7g12pgrB+6kVxETqlpOPu9lop412GPUTkqRV26A3e+wWqpHjwv-cVCrbHZOanSKSfDknIDGEYPI5TlY1Ofi4MwYT4nzokdruLc4Tt3b0304AZjp7C5B3ttvguVLYvecI5MgWh1GOAegAJn3Lc0rdWSM+ga4++E9LTAdV5o3zaryM-5wWoTQHc6S+x3bowkHAOKZY1AwrSc4dE+VypAtFn1dU6xz8QPDPfdM9SMG9n8kQ8Lmj4263ioBdxdCwTmPMxBCEGGd5qXHRLspZXWljNC8fc3eN2hKdUO0aGtq17ymLRfd+6aC0Ug5kzO2Xsk5Fw5ioHkDhp5FwefUO+RvXouL3nkTcDr0JAcc8uoKA1Zit69D9DIkmNjWJnCJ8joX0vxq2up+CFG0Bciz5-hz+R4oQg+Bygr9CWvhwG+oIxHfNCjIRVh8F-oeb9fFeTexCqyMxDpE4Hj0A86W4EQTJ6oG5kCGp-6QFoR17-4AFFApagHyDMJgjr6PjFZ3Yxp1Jpof7N6x4EEMRrqIxghEFsBJyW7NBjgahhgUQviGhmTBCP50BWSd4OTOQuz5qUC+AkCD5Z4573w5gzb5pV5Rw14LZdqGBl7rSGYuDVZ16yG9ZySlAtZyQGwbgLYXZfSdYzjdYpphAKEoHOhSFeKGpppGGjZqGmGN43Zj75pS6C6y4i7lrpaJwKE-xiZMCkBsJf5fSHorq761BG6OGTDGSc5niob6AhGpo44RFJ7J5x757BFFrLqJHHrJG+55qwyuHO5wY+FQSX7RwKACb3YPrUoqaKF4GqjgTjj+Tn6eTCj6BybrBMaoY84iZ1HCScJBFr4HgKakYe7vqmHw7NGRgsENgGICCGGxqJxeKMjNqDELGjE9HsacCTErhlFkHWzrEVxeLP7NqBSHFLFoxMSFDMHRinEDFO6u41GIHDZdFKZSYqbbF5ErhsQBqNgOC4K1CMhPCAgAB8wqEmNU2qW6UO-xLOGo+gn80KS2BaLWCJusSwHO4JmQ+sPAuhsJFa4CtQ3Alh+JTC4RN4iJEwCIZETaQCeihg3IjAt+biaOUi9e2MZRRRrSm+sQjYcGjIdu7u6Gx8Vx9RBa-GAhVRUG9uUmJBRQmhEmzaaw2ewBRgjJb8-AqO5ObsQxxGQpbO7GlMzxRQDJQgGpLJ2pBiAktwjUzuxpJuNh+pnutRuBNxPJShBaKOqS6eEuV4CkV8Xp+OZiEONCkBAutO6OGefo-pO4EZniZqRCoZBEzQLW-kEhBR2OYeievu2MQs7KIsnmdczqC8TEjY3YeoAp6pzJWpdOhqRZvgp+r+cx0oAJoQjIJJt8cJ4R5ZdGcYfigx9Z5hioQBTM12YBWBt43Ieo3ApJhJoQChzhGZPwCe3hkRvhrqNp26KcYOiBgxyaReiupe9pDQ8Oi552XOcJmxq58OuZzZaMjIgx3O+CdSpekRTEuCIOr8dST5LCCZlir5aMChMsnClx6Z55C4cZFO2ZN22MH5f5EFZ0kFZU8FFuKwgxSFtSZ0r58OQ5OxOoMQgaceOOzAeOrJUF15OZUEcFEOYOgZZFyFIZR5aF+h8RcxRi3pMUL5sOkRuFXx4UeA22hKXsB2vsx2lgZ2vG8iARX0cMyJA+8slA0l+RnEWuq+MBkgcB3Ag5a5A0DmO4raFRt+TMfcMGzx6lBqWl7KQF9GsmV+hld+h+yJkWiiV8MgVkzyN+Dl9CVmhGP+5lcBa+yJF6O6bloA86Q2Ey9ZgV6556W6l6oVe6NlsM6BlY45POMgQVcVIV3A16yl9Um5+xbCbwlBmV+lhVxALmxVHM7WQawMYOaMTlxmUWnMDEVk5VPlHk5VFB5GDVMV1GmmdoDVZ5Hkj6XwFabU0cGB4B5GN5ulk21CeFhFCxEss15IvmC2fFhFo1+AxgTUk+-MJRhQa1nCWEkM1l5wjY2KjUEpuIY5mBmCjIqZEl1wm5Es8F8h5MtYjWfZCY88EOH1NeNVGMusn5eoa+-MzwR1P1-V0sSVhG-MVh4NuskNWG0NLgN4sNdJLhDMo5U1E571vUH1LA6w11lFx1k6jMYg2K4O+SIG8sHAbU1Np4GJGu+Mr1-MNNRCANnQDhxNu1KRiOwIlN1N714QAAPELYzebMzXKfKa3u3uCAACr1ya5CCUq1a8DoZNjZ4gi1DNCzIADUTaqBrmZc9yMg3motoARtLmhtxtqBpcc0Qo3mMtstqw8t7BStKtMgxAjkx+YgmtrG2tIWetKi1t9tABjtbUztnNDcIGNtVk4dx5MQUd5tLtPNOm9qQOWIoNYO8FJR5Ij812I89c2Iq1Kwj8pp9O-1hNfR-ofhqJotx5KsROJdRA+gydgBjgY1J0d101ymp5x5zQ8Fm820TdJtsw5CMtndw9jJA1-4-1DeN4rtop5EuxbR12m8V15RlRfdWBddhQbBm4+dKitkdc5QT8+S+tjZrELRL+RozZkMjIy1HNOxsYgUVdSNn0oN8BENQ5UBCNMh1MN91x5IAUAxrd6IZdm1hF1F5qL5EOvUBdSIeixdUDG1MF99eY9Jc9BN5M31focSjdi9zxLdlYbd2Iyd214180e9POg9yZl9RCo95C49ekpQ8E20zNvUbtgtn9REi9Nog1GdIDOYEdRQA4m9ClU8N1k1qV911V7pRQR9sdbAXBdA59IgTDDcwhP5lAo+q9oAbpWDFIj9-Mz9wxM4K1Xx79nCn9kMP9X9fI-9aEDjQDENoja9oDaNjhFDGDNMAl9CO28gSg+2PsR2-sGAz1-cqa1Ai+NAy+h+T+E2oa8SLlO4R+4IsT8T1AmKHV5g2T++zMFRHAmCBO6+KT-VGNT+NMBUe+CTB+QT7ZV86Y4GcwLmsQcwq4RppujmHIHTMQHI3T5h4GGEAzuJB4wzrTjmo84zo8UzvT+l6mmQLmyzbAzoPTDQ4G3Ehgwy5AvgLmOzezlKiomzRQ4GR9AzR9sYZzhQ4GpsqgNWLAhgMGDzTz7sKwtzsQ4GBt4zsQ+gcM3ADZoJoAA+RtJzXzMQ4GHyfzMQALQL4QAIYJA+HyoAELIzjmcI3ADQ8LaLiLyLoAkIaLMQkLwIjmwAsLBggLeLILA+YA6L0z+lAApJS7i8C0i6C6AEy8S6AKS+BuJH82y-i5y-LA2Ri-pQAISSiCvUvssEtStAhiuMtgjghi2suyvCsD4S0xBKuLMqti0AiwtCu0ugAGs6t8uOYgnqsIsmtgnmvisqsgmGvYuFDGscsD5Ov2vKsQgSuUucuFAcsxASuxCyXpj5TNmFMNP34Fg-2AgrgmpeoDDcCRu5ONOhJ0Z1NxNFMTL4AsAAomBSZxsrAJvIggujP1OpsuZlI4GktFApuJNBNpgRQRsVvL6uLuxAhKLgYMG1AuY9upguMm1QuOaQB0BTICEdOjvju6tDsWGOZvOwCQADMLuQC1uzvDv6VvN9LjNbtrvrvgYABy5AB7lLR7B7vDJt4b7wAg9bjUKO71Rb0wJbIL20GVybrbd7bFnuV7VIt7xFRiNej7DQz7HL1bF4PAH7-737kJ4+OtuIf7STnB-tb6yJO+r0aopAbAvgJ0AK5A1YDJXUmgHdBEf7cTwyYx5TT+g7RQtWKHRwRQYFHk04OddD5GyJI5IB8j-dYIiBwWqpCHP+eDndEHWbUb97gjvHKpSMAnoSb8ebBbH1wnf7KOgN1HsQ29sjrHUCtTzZ29YgXwxN8ueND1QIzHhAcjaVbHNUgT6bQlYTh2fsmA0T+iUCFApgDAD6HwZUNwpAnqGsjVaQmtmcm4ZS-nURmJZSy9P0pMD44QNtDAdtqdMdoX0XJEcpzQKXKMHAFSeizyNw92eqWgY6ZtBDW+fi3yygmtGQcRRg0+ygygwr7sRt+gFXm84IsypQ7XoA+tidRtFXe7sY7XsGilc00mhF3alyltI3bU0+o2s380E3Ahzw0E5NCYqd4d4IEI4deXjqxghX4RCbtHi3PQM+cXKi1gfkcNHkx3TAZACgLX+WAXqJtWcpnXLWukKucmV8L3oAy8WAqE7R4mXcN4L34Qhc-i89D3a04QCrKiG2r3Bg20P38s4IG20RLnil3yM4nnMUPnnqL3xkzQgPNWOtae4WP3f3NJMQv2X8heouva0ioPtgZEnXW3RtN3Rs93SPdhTPSdVPsyiXNFUOiJHBMbCuDPUPG+RtluAv4dHPd3ibfmdoqhTPcX-3LaF36vMQBs8QAhOUoILmtW77kgkpnP4Xn3qQWEBPmJx3EIYzxJV83Pa0QjWQoPxvk3t3pAgk-3AuqdkvysKiAA5HbbVht8Hz76bU7RbZL0Njdw+qQN5vH8C3Nak6iZ9BnFnNtEnwN5Xo5kcrbcELbQ5DpGgm4MWLbQERwPCFEdBKULb1n7WAn0vdQtn+76b3d+lxByb95g32QGK3+PoK313x79n3leYLh-h8oIRzOGjLvh4D2moQF6nglhmotgH+Bsv1Ii5nT54av12jn7EAmxP+sFP9QJoF4nP6Mm4PN4aotub-7jT19Gv5ieBhtrBkL5al-HfziSmmPy4EnwQj7xwxL+C-RbByTaIgJSeK-aRHfx5KNgJkI9IECuHgoWpoctPH-OL2iR39RSdTefmX2Hh144oGgQfo30Ey+AgBIA6-v7Vv779RGZxQThDja5jMA+WEbaKmjwHGACBJ+a1NmiyDsCr+nAmrCfnv4t4EBjAlHrMxYHyABBSCOvDiTEH5I2ux-Ajmfxn4MQPumeU6gwPyRqcN2YIZQaf3P6z9+BC-J3jQMIC0IRB7tLQbJxPomD8BQggrDfTdJlEResA++oFFf4uYUBwvI+NgLAZ31DQgUX-mA0Y7mABCJARfn1Ria6Fn+sebaHEP9wqM1sp9OyDwSHwHkGewhCIcQAMZXdzAVVZ0mAJT53YsIiQuWjeHKHu1khXadRl3l4KYDQ4LgQoVJjyFY1YYFoYsGVEoD4AmojUAYBUEGDFDVugYHIVEJR6dCqoQ2AYTVjL7aQyoUVYYT422gtDzBmdWTNexETdRLsKQs6tKE0bDxOoDAdQCIA4CkB1oLiIgLnn35KMyi82dwc2iFhEwxAIsZ4WLDeiv1ahwNR2HcT8RywwIaqDUKQ32FGVDhP0Y4UcjOFqEHYesRhrkEIDeZRYdSZ6LgWuItEyiZQ2gUox8ZYR4RPfchHf24B4jIed-TxkY0CG2N+yXaQxj8R8bEjFsf-U2v0AUAk8SATMCoBIl8DhFDAbIDkfsyQSGBSQ0QlEhph5EI8+RXI4eIKKeA4lWBrDedLoIMCNdFKzI1kcAQiScjuRKoj6AhCMAKjhOJtCUQKNJBA1qgRsRuMviNHrxeRkYfkVKKFElDmsoo+dAHytHhxiQMowWnKJGBijFRwJDlmaLIAWjGoVo-QG6OlEH9Yw-osEqXFVFER506wxDNqJZEyAJEOcYgUflK4elUxVARGLGkCAfRs4BYlkSWwcCwYcu+aHMZckZj5jmRRY5kU91FHJiEeWhQWoGMw79BLRtoyUYr3rEfRIx0Y-6GmLzGxjCxo4lkf-GLEVZnONDDgD0MYDjiAWyJLCNS0HEtZhqBQvoB6hqyMBJh5POYaiG4AADeIR40gR8ORq3lr2qtM2NuhpA0FGQhsMgIwFNj8RjxvMJkF0PoDcADRBEAAbDR8YvjHm1BNKOpBkBJhe2AfVsSrlnGSAsoi4wCbeOIKMjeAu1FqPTH0C8QAufvNgVQETGcRUotYwsd0DZDdAHRgsZsh23ECSAcQJEvwIlR8YdsARisUQAqUyDddqQjItCcAKJDvwMJuEy8VSG6CMgcJPcEYWEh+g4hwgnXDbOxO6BOw5xoARWgAAk+kDAAAILgBwAfSAAEqK1IAAAeQPbIAgQT1JapIDUCzCtIqIQ1I+KSAwjkSKExqFxL4nVikgCPAiVxNkEHidStkugJ3wImdAFwe4t2ENgCmZBLJn49dMiWUmqSNJWk3SQZKMmhTJAYsCoHDC8lWSfJuYp8ciQImLiuJDAHibOl8kN5Ys3k+gCCmTGbZH43oAgeVPXS+T7Jwo8cW9DTEJtICWsTWqCWNJqATAXgHcRFPmEZpOplkXEq5KQ7UxdBPtG8cFKtKNTvhD4eSZIDiAZBP2DgLZECAAAMMHfNDUEcjTpVprI+LJ4moCDAroh03IOtO0BAhK+a0qBNoCNp4hgKfiW6YWiumkAhsBMPaadCy5fQNYAQQ6ZvxiinTlxuhVHi5iwivSgZZUU6S70lh-BpxhFQIIiR+kxdUg1QbIKtPWjvhAZUAk6WaGFS+0DpHAI6WTxhlnSmIj8FUY1EcidBPUSw6YHEnuE3Dm0pQL6UTI1jQiVpJM6GVlBBlKkC0mIiwazImabhqZDAWmWwE9QJDaBiowoOLMlmepKhtAi9qZGpGhCfGCsumZjOy6MiKgbI0IG-BgFfD-pC0i4Xoi1lSyFsddO4RJIfDYiXQG9doJ0Hhlkx7ZJjFYNdCUrNpjGzxIWK8IugvRxYr9eyYY09mcIWAm8ftsnVKBgSowydZoJbM9RIizoLAVEdqH+6+zKRqTMoeEGBFJzex9s8HgXMqFWC-QzQOOcYBpEayxSBchkWEIyFqxmYUcG-Iwj+Cuz0Yp4JqVBCeGByA5lsV6BLFNn-jHZBgYWLD37Z11AoDgZ2ibBCjmwU51sFEd+PXaFAu5Zs+jgEOmIX4IBqQebKeGfxDs8AkIE+SuF7mrR+5J0QeRzXXkjz+ifw54aAAnmNEgRsYUoDPItpzyzYHcuWc6EXlsJl5-3aCKhGpgCyOOP88mKHK3mUQBw+s4AqkAzTrzh5HjSIKAGPmnzw5ficZOBOECXc0R28pRsEJxrqxUuqMToFAtAbtDOIH83EIBIwl7hfw1MYUU-RR5gS9gEEzEtgvYW4Kf+zsvgQwoR6QwcSc2CSYQHnTiMSg8MJuSzFbkVp25Yi5NowohrCK95oioUQHw47NyR0O1ORY8EIC-gFFZsmIOgshAqKR0uhMRUvBXhzwLFpIAPjQq-n8Qbwli3+UUGcWkhXFhQBxXQrYH6jV5ioNgR4p-HOhgGOJLhScku5ULJKxMoDN0UUaOiX04adJtAjiVQI2qq0-Js0PoDiIUJ0SW6ciTKT5Kgar0qKvkuFFrNIetELGWXJiAxkVWnQWmb4Ckq1h4QOJSLtQiKUbiQYcHGrDEp1now3x4008X33PFYwe5zZcRP0EYC3TGQyMkGhrHRnSJ8lpZZsg4uAkrFVw3i+eSQJGWNTglbwHJRL0mVml8lnihoH+IhrPSEway9-PeNYU4KNBctKCUkP0IedSB-S83McumVYy5ZME+cYRPu43K7xAWcKApJikMBtJ1kAADJ9JjJWJNgDtOSrmSgJq0mydlLslGKEljk1KehJKkB8PJModKcPFulorxp-klKYFJiWGogaYU+PKiuBIJLwVkKmFeAGSkzhPJxK+lSVOanJi1RSMSAnlOTHtFCVhU8sLxJKlnKW0t0yqcWPhC6DBVxYiEG-xUTSrxx1fRkTvhJUuSjYE0iGjyuLGtSqA7Uq8DMo5bGkd8jqW6f0uTbordVyNKaciqpXaqnx9krpdSDI4kyk+OyhPuYqGULSAVyJFqVWONXTAWFYJZtC1L47sjux4RWqYNOsner4Otq+yZKtXCDjNV9KwZTqtdVDkHG44t1UETeV99E1MIgNQJIECtBS2QIVKBQkEJfQh+4IQtUnzEJilK1DgKOS-KViYkK0JTRqF6qT6lr81OJNtdIlWGJqG8ea5sZxMWVpSlomE8pXemm7tQRJG+cHiIpC7kJMJbqj4MEH6H1T3hzk2aX5PAEGAw4XEpaEepOKzErxQkoEAVKKktd6pZIxsJVzbz4Ij1AKoDnpAVV1jugpfTKRVLVVkjCoOIf9ZFJlXMjTKsYK3vVO4CDjX1yMowvuvzXOCKR4hSrJxB3WBAYlB6wlf0uxkRtbVjIA5WeAl7LLyQZRc9fIttVXqH6N6vwIyHvViripNGwxi+sSCIacN44r9QRB-VETtgKq1aRBo+gtqGgIGv9YJo4DCaFAUGv0JDNWlwbhWCG-BK9JQ1TFKIUEc4FEvMAzDXpwQeNdEkvULq+lRmgPrptWmPqANfknEjMKPWWbIpQNWzfVPs1DTj1UELDXuqs24a0pLm1EDfUihsA6pVmyieCrik6S9Jhk1leSFC2aTwtiUuFTBqs2KaQWDcILZFN7JilwQGISJbA2ECcrHgZS9zT0Ow2vTXozk8ja8GbKpaqVjIJldCthVMQ6tLKh8boVunJaOW1WklTfUChZbLM06nepKTeAApV8JhRsV3FG0RVLGa6YbSiHsIFKCRchYpYxmm2HRzBWYzjHaAm35D+4sjHZjNoLBzbjNqJLbRhuSxTa9th0Q7Qkplm9YhsjpC7SiDW3IllZt27bYTLECoZh4Xq0bcKJu1jdH4o6Mnk-0W2-aFtr207TpvywKAihIOhJS9rG6EUht+ADGUNtW2Drmxxm2RqjofzY7TALNTPJOuLE4kkdGMx0rjveLk7TC9pJte8oWLk7WKdAfbbKRQgAMQaamgNCBtiwiBbaNOvvpVXoAApkdfkxFZxD21C6wxKQJnR9UJ0NjMdFRSUg9oO2K7ZSkExUm2Pukdi8OIYmNYMEgK86E+upBTMrol2GApdE6hGvmpZ1FBBxYu0nctuV2GoHdRpKnq4wt3Nj9onOwvlZH10HM7YkuoXU20fg1APtl2ZAv6vzX6rVRwa4gZATDVa9+wQPLID7oRLEAQ9SCL1TPlTWKg-lcEoVcA2Z7B4c9C4vPcouAXsSWsVupEG7qnH3ROdxfHna8ubXcBg9qGQPag3SmVcdhNwhJYMUB1hZgdFgnYFPH065tS0xnaqoyIMHT9aKgU9HVOMj06jo9lDK8HHqtwd7+AX0TSCRRoBxEpyajBaVnoMCVgqY+LH8So2P2pD6hLgXiGNFIDNAp9qgrxNXwvZy0i9AKpxi-vdoV7Y91ehsbXv4AQgH9Rg9Qd7sb2kCXMQBtQRTBqiNgbgwAo5pyMZAABOE4I-AQP7N39WYtAzxE5EArmYRsbOM3ptm7zAuXcD4LRqfAEKBwLgeWJtIPqxB0D3mQPoHyshoA2Dom2+gQo9kMGcD+zXseQbJGFBGDeB6ZFnBan-wG8LgVFuFW+I1yYgwhlqaIePrcA4DxiXgw2Q1VsBGlzSzfeAl3Vz7ZdCSmXR9H-31KtD+zHQw3uexaAi1CfQ3uYaaX+FzwIu67tIJ7S2HvM1QQqCeDIB1wK0S3ctaAFaCMgABveZgMAPsFoqGUm+ugIVA25HB1VFGtooKj8PTJKUsPT9OwqgTwglGjBiEB8gKMQcOBQR0gYPjiOgACjMLBEBIp4O7NORGE3XriH7XHByRXBliAOA-U9C+hNWPLeEVaAUGaOeWnDfprs1OavNUVfo2SIHApGdqaRp+epArQM0sEDs+Q+ofyOVHUWR6wQL0dEAbGCj1UVoxprYhoaGgeR8EHsdRZJ9hsH+d2BcaqOGMFDQqiNbypDUr7zGSLZOnH3eU-it9WwuIq0BhFwaL9GVEFk4TlnJ6AT7qtqHONz2Kr1x-qShc5wWJCBDAjkLOF4f4AEarxwRoEKEfIHhHKBUR4wMKriM20EjuBeAVNpYUQ8ITsGOaDCeL1wmJMCJsUl8eLW-GoE2w+tVTCpMHUj9J+0E3hOu62rHF5sE8VxHfFMKjD7x0CQ8pqO1KVEbCiJbwo6B8D3xWsPOZiSfoEU2xqizCPxI0XEKtFbMD4ORnFP2wzZZirCPOuXiCzdCGplgSKboXOLcJh+m8BqcP2+TRTvYzCYfqvDbQPTwS1cKEsFrhLe2TsSIx4f0CB89x+gfxaAAAA6WAK1VGuHhdGZAwQe7hXrRYIsN8aEFg8kl8M7UKqaYSM16pjMHi4z-ipMymak5pnehGZr3nxIPD6BeAJ4BvD0CwhtnQAAAL3A6JmBQqZpgA2czMdQgW3APs3mb0gFnwQMx4wPfFQi1QptKJtE5uBjN1nhzb0Uc7Kwd76VyAttFgLbWUC21cFkwQPmmDwBln3l65g2ZucbP3cdzZLPcweaPMnnq+M56qEAA')">function pattern_match(pat, dat, frame) {
    return frame === "failed" 
        ? "failed"
        : equal(pat, dat) 
        ? frame   
        : is_var(pat) 
        ? extend_if_consistent(pat, dat, frame)
        : is_pair(pat) && is_pair(dat)
        ? pattern_match(tail(pat),
                        tail(dat),
                        pattern_match(head(pat),
                                      head(dat),
                                      frame))
        : "failed";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p22' class='permalink'></a><p>
      Here is the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that extends a frame by adding a new binding, if this is consistent with
      the bindings already in the frame:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-consistent var dat frame)
        (let ((binding (binding-in-frame var frame)))
        (if binding
              (pattern-match (binding-value binding) dat frame)
              (extend var dat frame))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_15_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf26R-sO5xDAxxQIBgeAkFQNA8U5i5HvMYhcKoL6PgUShuGIOhKyEwKUgYYw2BkBh+ZrdzieFygphWUpqUoEXlOaGW6A+oWdfV5SFPwDEsVl3wFBYfAFzRowbbthd8AVw3PqME3KZaCWNZMzzUmNIQZwqZQ2B+zK6C9kX-ZmFpTwYYO6FDkwI9K+gY9F33Jb1wPTpRjgGDD9Oo6zuOilKJWHZ+0nGpLyPUSzsW-bzmWLWoMQ6E+lPy7NhOfg7rue7BNWW9z519aD+huNRH5iDhwhAjcZw++dKvE7eWfnHnxfl8MVex5zivVnziPbeEcg18VUoCam6Pz5YS+GHXTHJDIQxy-wvTpkf5+7eEL4L+xk0LiwnoqKess2i1kcMbWO-dq5QPaOLZQQtoEoMah8QWI9P5qx9mAk+sRIHsA8F4a+msB4LhIcoMhR8CFt1SCJch8lKEMCYXQ1uk984aEICCbkTc8H9x4WwIB1cOhaH0PfRWe9iAr0zng8elMQENG3DON2p0+qfx+mIXB3tFGEJiKZUg5lm6gBsnZByzlqS+BTuQOGnkXBiMFr5Gm99BCEF4UA5E3BtFhCogOGWS9qAKGoDQSsjV76SIcJMbGMRArCNxEEkJYSIn00zt4wQpAdFAXIs+f4ATp4KEIPgcob00nR2RDEqCMR3yyIyEVJxEipEAK8dE7+P9CgL0RsIRWEsDz0BHvoZRBEpGvyNloUgn9KntI6Q0XxMzZlInKb0ys-Tu7izBJUx8sRpaMOBho2sowaRsFNquUoIkDmNTeIjMEy96kGNPmODUYYKIvkNGZYIUS6BWVsvZJyLg3GUF8CQBx7jPHVWWOccKbjVEMHUWjT+C9CCGEUbEwKDkGC+P0EipYN9QDpEyHJZoWFGlfSqJMmc2jsWLzCIohZzpYXwoYp-ZelKsmIppfgv2rjymsK3qEneC4kX70PibVFA1gb50oKQQ5pL9Bb2kUvF+gRBgKOPg8-SlDxFfQVcKpO9BdGx0UcZUyAsJG6r3pik5X9j73RhpxRBxhkGwKzii4+2MCmKyKUCpBMDUGuqqSuQKTzQzklefk4U+gZYRw+LLZgWhBlqwmLE6YgU5XktjVghNGyA2cAIf5PJKaakGoEBmmcatLmMhAemg8mb43EETSbWl+aVyeouY7MtcaRaXMDbGQKnaK1oyYoUcNRb-SSsdegl1wy4myPLfWnBuaW1ZjDdDCKJbpRDw1IyJ4gIAB8+KMhsBqjC0EcKFYOC3bUfQHtZFA1xskVIBKsi3txSw59K5iUbn0JeleXdajcEZRew2f6NT6BvK+yYCIyKgDXW4ww3JGAlNTuHRuDNy4esjTLJ1fq4Hq3Wq8DdSbGQ4YwXG7BGzDXq2HTsyVMsG2aFxKRl1SaNWao-bGNYHjxaqsQ3C-gxc05oYNZI2t86KO91Y0oxZCGhD8ZQ6XVEn8CbMf9TO2ZrLyPZpTlRiY2zR3VNnQ+-OycFPCejoIq8ClQTypLSHQTqGM6MEMM7e25c2OGPzuDIuDcnPMNjNZnc3n65Cac9bW2bm8EeaIYezI-k4O8sQdQ2hYr3VQUbC0xkyWmr4EAeXJijZux6hI3x5DDnFPoZaTk4t7wBC-oPv+0IjIgMMHq53MDRWwhMTTWar6LT6WKi6TxlZazBmde4G1xrbqCE8t5o4xO7DUsEOxoFAm7azozrlRc4VsiD7yL0eplYM27VuMQVuxtItxXkkbGjRkcrzsbMuTa5dsQt3hZdk9h7Kd3uRb0eTWsijuuSqHQlubrDgvlfM6Y5bUE3suYizXPqJNxSQ7C-Dl2wCju9eR38VHUcntqoIQNltOoYj2o8og0zeOBFLb9tjOHrnEeHKp75-H6PftGpXHKlnoX8eO0J37Ynfs7V4HvozOQzMoBwEQMgdAXNiQ81hthyMCtGlzQwxK4zBteC2zIBh0AAAfA3xlsPSvV3gmIRuTepDtvbfoFnvaG+N36bXmR8ug6V6kZgYgJA9NUaYygfR7hrRW3R1IWELcADJI+9H6Kqx34l2RB+9yd3lBsjYa-JLs4PvuGD+6PuCW9ELJq8vZ67d2GeLea4TNtIi3tZue8xaBi76sqLZ+97n-PqXwRfZ0vtNxvefv-kd6+QKtekxDDj+BifUX+Ql7B4P-nI-lhj6nzeOvsc5+K84jLHnjmy5V5X2HnPtQ882YL3vir9Bi-k-MJf8zQ-M+0eM+Pu0r-h+b6324+-YWl+xzb5Ku-tPnaLPvdG4jLBDqzjTv-qPsfh3qfl3pdmYpAbzqiDfm4igfvjFGXk-kZjXmvhPkAbPv3rypgVfowH-q3rAS-gQXaBvvhjTHgAAGKQAAAaAAsgAKLNCBC8LkCoJmJSLBjVACrX6gCOShKqBmJ-zkCyR4DkAyATJJ4pCBw0j5KMzqAiAcDCCNC0yqCUCUDIqNAgBiCSG0hoC5AKDADuCJCoIAC0-BAwDavgwAAAVoYHYYYBHG1MACkGoYYMAAAGw6DYDMFsFcE8ENr4DhJJ7-DJZMxKAyE5aAIECwKxG0yvxaTiEUDIqxGgCZZeTkD5FcheDiF9A1DhKkD4rEC1C1BoC36Pp54fRPxXyH7P4JgyzwF+7n7d5CHqiiF0DoG8pJFjKfQTJUZSySo3DYhl7nppBGzcBEH14kFg5JEtK4E4wJgEzJaT4jDr4z7LEN4757IPobHt7kA+4IE9FIHggXJZoNobJDFg7bYyJyIO4wFH40F7EHGb6p5g674zwDG7xLy7aiofHtGBidEXGd7XHZzqbgj8pzxCqvF7aDErGwwWpKognx7gl4GBiwqBAyCmJ4jomcSYmkD6rvBnGSoEmVCmKkhgG8rklWqjzL4QlohnqEmmI6BHEeTK7Or+ptF4mNFdFn47gF6qbEBPGwwqZTqClNqTHGb+7giSngjcCsaMlg6SlaYPE6Ya6xCfH4HfEgH16amwwDoLo5qsYAFfE4mUBdbQxuKab3GLrWnUEJj0EOnz6N4MY+qSkBo2kdFPpHoBpmnHFNF1oSaskix+LumQnBlu6elb4NH5w7FCnClSrQlXHind7JbSmcTbElHUlKk2bgh5nqnexhlPQlHJFALpmbFbS0Ef74Z-GN7CLUD8JglUGGnxkn7dE5k3HtmdnX6kkeRSI7ZvHFlGmDD0Ff68pYrpmr7GlZCzlzlg4YpYpECxk9mNHPr6BbmjnmCdpUoHmBmNkjAHlVnmCaabnIqKkekT6Xlrqi7lLi7yBKBS5syy6cyWDb58le4ypfRwz3oJj2KJ7Sq1itkFm3CpJzb6CjHvyTLcD9ZpZZ40mlmWHFKlL3xqnqYIXjHIW5Y9Ak4pkAlFIlIiBlJwUyAgW9min+4yBWSYUUU9I4WHkArLL4UfySK0UcmxpcmMWgAklXkcVza1k8Wh4ln8V0mCUMmOm8rjl9LyDrK9w0WSUJi0lEmCU8lQX1QwVsL7KOzXIbK8XAilnrZ9RqkqD0A3LsX5wWWHJoymVQmXH9lghoxWQOVSl2VeWUk3LfQUzqXnkzkT5OW8l8yOBfAHxtQjbKWDIw5oXGY3gkVuKdqQzYp07V7BUZWSwiW+zhz4DGBNReJvziqFCJUJhYSQyA7QyNiB6NS+m4hgKjYbKMjPonq8p3xvxOwI5uoIqmUR6M59XMp2WQxD5TJvzPDlVxi2mSKTV5VjUIpzVGxTUGkzUPl2jUy6V8wIzDbNVxVWlDW9RuosDrANWZUVX4nixiCB49Uux+KJ4cBtS3Wnhvp4r4z6XpVl7DV6g+ynVFX0J+jNBPU3WqB3X2x+IAA8wI11L1nQb168LQxiny4IAAKhbKADcHQL4JkmIDrpRk2B4iCLUM0OCKAAANSwYyZm5tRCh1lDXhCU1WVk2U2HaFAfBdS00yBAKvWTDKJGImJo0Y0yDECOS43406aE28LUAk1mIU1U2zIc1zR03g2-Xy3M3y1s2xBK1c083w3JkwoWzSRD4E6M5XZLJg5gJ54WzYgJUrDwaIaq0-Xbl9rH57nfXRaVw5zW1EBDKLIxAoJRUnT7UDI5ozZa3NBl4jix4jAe1a0xCzBT683x2gCR2O1EQM02h2i83VasStqRpgLR31VeqMaxWh0pwEbTAfKbhl4-J0B2zlDWII6k250jqFqGYNCNiQyMhpXdUvbOiBSyYVJvzjXLWAwDYjIj1LXUyt05irrrWBhW3oi23C4e6cQM4I6m0I69Tm2xCnYSw+0r2SxjoO1CBO3HWV3CRu0hlx0ERVwH3L1+0dKB2FXB1KXl1gjh0ESR2M7R3bS316SlDwTbSvW9Se0xZD3AH-iZ1-gBUTA0a5L50GCF3gVB6NVl0qXdmxjV2q110N0iBN0uygq94uIIOgAGYgJd1vw91iZvR92r2u3GaQNjXfVj18gT1oSLXMpsPbIjrz3sne2P0kW0xi4JEszS7sxy4YB-nmCBJdTJLUDhJUUFhfL3l0VZluVfJWRJICrhL5keQ6MpIMDBK8K6nxqryVJnkuBAFbJ2oFTyO6OwUFiMxAj+7pjKlzBWWxBzCrjSYqKlkcheMxAci+P0rKkYRBM8AbihPuOlmqKROqIxO-ylmu5sBWWpPOh+NFDKncSGB8G+BWW5P5OZNhOlnV1BPV2xhZOFDKk3CB6YosCGBql1OqANOMwrDVOxDKnk2ROxD6BwzcC+DhAAgHr2KU042gCdMxDKl2G9MxD9ODPDOjOgB2GgATNTNmU7hQhzMGADNrNLOgD2KQhrMxAbPKnAA7MLP7P7qHOgBgDrOlNbMACklzezQzNz9iTzJzkzjzYI4I4kvTVz7zIztzieQzvzEIAAhJKIC28wc-YtC0COC7E1s5Da84sx86ANDTEMi8k6iwCHM0C-C1i0CPsxC+CHuui9cyC-Ygeji2c6WXugS9wEUES5i0y-S+S5Czs7c4UCCzEJC7EMBemPlBuoY4o049gUNYCCuNMbscINwOK0o2LqK7VjwA40Y1IvgCwK4SYPaTKysHK8iDc+ExqxK1ZTY9EheCAkq5KwzGmOumq7a5SVgpLa4zZsqSGsIFZV6xs-7TU6WZAHQN6KEgUyy0GyG0Cn6-69M6WS0wwLAJAEE-G4m9GzG7U1QK05wZE-G5wWm-68qQAHLkCFs7PFuFvgMESqtUjOtU7fUGvTBGs3PbQ0WKtmtKOmYOn2PBKOMuvMDfYIoNsNBNsgs2MXjqs9tGOdsOsD5E2JLtt2vpIOA+JZJilYMCMJLGOMBqikAiInSuHkDVgIZdSaBP1XjOsmMcAjxlzTLqbaJrsIhFBr0eTThWwh2YO7pZWOK7WUXvuDIzo8I8bwULvKNSu9XcAp0TsKMdt2bfYe0cNFCAdIzOtas6t6tuqQe1uwczj9UIeFDF3oN-smV2MbrF1iBfCnVCrv2YMkbxiEAYODIOsvlzZvmS6swy4cyYAyMuDXIUCmAMDIIfBlQ3CkBkLBbOXBm66bhAHid80UJAE3iyeM1mIMAs3ayc2mHc3ytQM44cBQafox0hXZ21wkR5WWE3BQJjJaDx4acu0bvKDKA64ZCCz6BGA+IOcHOMyU36D8HKDR3ghk2lABep1mJWTy2+f5t+gBcVm2d2UgkGF1k01iArs6IpfKqSBRuRDQSXUuA61iDq0Qjy3mfkCWeNzXpyv3vxdAopfJpM3WB+TyVg5Ve4gTIKA+dZISdpAhnaKEJBfPq6QBzRo2Y9egDR5YCoRRoJkrkT49fhBG6Gc6ezegCItmLFDwgrilDacjeJ7ghrfGSlC8f8EziCcxQidkI9cmoGDtxE0dllwjdjcwYxDp6ezjkomryze2BkRBeFeU3NdMBkBtfbRYofea2Pdk1qezHqK3pfIFiKoiqZxLes2rjg-y1-etfac3jA8ddQYU3jdFDwiyRkTErxBAo5SghWXaJtsZctcA9yeDfh7foXcULNcQgROAY2ZA8ddZ1ZCzdU8Jf-ekCCTjeQJ5ftdrQbdmIADkan2i6t0vwv6nytWnPXeVf3yCpAQC6v7zX7+ce5n0Un2nWvkXV4ypQg3rVkwQzNDkOkVkFoxYzNMqHA8IfN0EpQLP20Rv3P+gnv6r1PAvQvKwxP1PhvtYGvPsN4PvavofQz21LgB7R7ygJ7OHDEyqHgu21KhAnXQ5ZcSKvXmzfz2faBVMyyE5qJGfxvMQcr8f6wif1AmglyqfqCbgNX5fdPKkuvGeufEvypa36pjOcx0PufhCpki8sfoAWv1sticMjf6fufmGV3qQhfq8Q-KaXdyyUdQIK4kPFeL3Jfb3mcQ-NG9jafbgp+vicUGg3v0fk-zA0-S8J-bqWKh-ho-a6-v9O3ETEvWE209-TfxgPSviH2EAV-67Yz+7KfToHzphiUN+6keJl-3kB-8wBOiAzlIhgESRq+x7Ovsn0spf9v0qAs2jOn9wYDa+9fNGDPzcBbd2UrfCAQHCqpv9t66rB-kgIdJt1Iw+oT1IP0Xi9px0UlP5r30Ib2wB+nfLgbnQoZX1jMSKeLNCl5RAoSA5fIKo0RJRcCJe20LvpAJwZIo66fyKxKXz5IuBZBxAUho1wxI2VKM8gnXoEm-RqCWEyVZQeoORqbhNBZiX5JYm-Ygk3ioKYyjpiMHSCF8p-bSGVEoD4AmojUAYBUEGBz8deBg+QTtzt5VQ8qYQpvFpBijrFIhOXBbl4PtKt8x+EBH6OYPSEuUYSO4JwbtxvykVasIcbqBIicHVVpQ+DHpJ1AYCaFhAHAUgOtG-xEBREXAsdJ6k6it8x0hGNVs9CyxEwXojAdKjUPmogJAowwxPF63UylAHA9QguE0LN6tCM+VMSaupmaC5BCAQCZ6E9mei8McwhaT1EoMz6X0eBlVb9LsKASqCRB3AW4TpyH6z1ckbA6MNMInSj8VwbEdIU8Nz5j8Oa-QBQJim4yUUKgEcXwNekMBsgIR5AKET0kMCkgFBuvG+iSQl5wiERssYkE8AM7f8p8MIivgYE87SpgRoIkgOCMjDwjoRpIj6AhCMAkk8OMbaYJiNPxIi1ySuFOGQA4CHsQskI6EbCKpFYj2RKI1JgyLz6sjEROI4flEwPDadCRTI+Zgc2qATIeRSjSUfoElHYingiov0LuhBZAi6RREEkgbVLy0iQRMgCODrEv4ZI7OGZS0VQERhxpAgH0L2C6JBFGtl21IDkZxAdEGFxYzo4EW6OBGdd3a5ovPhxkG5cjd2-QdUUKOvT-1wxio-UQej9FOjDRbXDMfSIzFQYx+vECZIwDqb8ReI3AS+NnGpgoju6O3GQEmFqBk0Je4IGsXsDrEGdoEnQeClQFLFUBwgEvbumTkgG5DMI3YhWvHCGyUUhQLrUEDmhLFcROxGMFagZ0sFyjeI4QaPPnCwhli8++YsgIWJChg0bwK43UYqBvCbijx6ER0TuIYBFiwaP-bsWeMWTbRTxkHSeitRlGNjax3rQEXNA4BBDnM5o-pgNW-R7MUxsWNgOFR459AaEmKRgHEKbiwTnA3ACfjOIn4Vj0sG6a8QZWORFRtxSQK8XuKv5kBEkc4+CfQAg7MirwKEqYQvVEh7jMJ9Sfzk2O0IDd44kY9vtFXI6SAsoGYgSLRLuQnJwJZQIqi1AXgdj12GZU3Bp204riBJqUQMa6O6BshugyItCWqxcbiBJAOIRSX4DkrUTqQ0dL1uxiPQhdDAOQmUNPyJBuxRJ60RsN0EZC3jqMBQ1IH0O6DhAgua3ELt0DtQ-jQAqNAABKcEGAAAQXADgBOCAAJVRqQAAA8oW2QBAh2q3Hf6JIDUBJDiw6GHCd8nnFYwdevAISWZNEkFi8+sk4SXDDP7+ClMBUncTKNkmdAFwJE94HlRqmZBUpAQkTKZT8kBTgpoUiKdFNimNTJAW7CoKVIAHlT0pF4pIKZVkncSSpDACyUSQyk+we8o0+gJ4XNFlDUqLUFqRVIymbCVqKIrMX6LlbDIyxOufdIdjUAmAvA0EraavBOmWQom-opILtPHrDIRafEVpvVM-g7SspD4LyZIDiAZArkFFJQkCAAAMHVdcqLTYSAzyRfCfHNQEGBXQYZuQBwCDIBlFwUZ0Y+WniCBzGZHeQM1GWQDyoEwagjkAuHXF07ox8ZsM27jFARmAS5RpQxVt+mplL8soCMr3kpzH6BBb05M8UKkGqDZBAZ1kjdKzJu7DlGACMtqlDLFnS0JZxjRGUxEBSBBGojkToGQjSErBs8fQufiAlvj6VSZfMv4BsPRmhDxZ8M1MCAkgTnC2Mbvb9KSNVnqztOQ-e8eyBVkMA1ZbAMhLYIuFsYR+hAeLLpIdkeynZ+MgSRUApGhA4U0cJwcFmen9RyQysmoiHK9nYpLhvQvIQ+AGEugC67QdsXHJaDcCrw10QCmQ1YGUQO6ioDLCMIuhjC6GnfeOa8MVAzD9J4EccPHVKA1iow8dZoMHM9lkIDhjsFgMcIzDjcxBfobPCSh7F303Zyc-uc7JiTzc+5Ts5Km31XDNAu5xgMhr8KDnuz55AI59jtW6TGMFYxSFeMbILmnhG52MDLKMJrmrQt29cz2AXK2rkgBwwwlbr6zHTBo6AdNPCe9POgPyh5own2M+KKBXyfpj7MNKcKwxOS8hp4KpP7TwCQgUFK4W+bXPvknRXo6VCBa-K1mSoP5YEYQhqD1nSg-514yma7OmCDyzoRwlCNBFQjUwrZ8MbpJQvJiNyC07wzyJGgjk8ZUgmcCBS-MmpTVkFqC-BcZnfHNjPx0CrhZXLTQ-tBgl8zoBwtXS+DYYDgchfhMIB7hfwqE9IVWPUiMSWxFCSRUxNbF5ysg2ixVqSF7FvxFxcCzCCSRHFe0xxPSCcWfIPjGyrFPAXRVsIHEOL4KyIiXq4pPkvxCqnix4IQF-DeKKxdzMACgshD2KX436bRauJjxLjMINiihBou5r-z+IB4xkZBwPGkgqFMQHJbiAoU-9Cl5ElYD-xKVgLnQM9AzqYrrE5DGEgMr2FGU670UeiUZTyoDP0Z356A4cXKavDDkoigCYcnyjDPWLjKLBU3HTrRGFlrySg+fCEJ0DVm+AAKtYdbpAIU4T4plAkzdiV3xlCyyYSE8aZlMol7SVJVIcOPbmhkMggQPMo2EbI4ACzo4YcgrBunKV0STkVaVcL8ooUXLHp3yBpW8BGVl97lcmMOaUsKDXLAYuMhML8r4lpRDFH45iV7VYlNAtUgsATtHzOWNR1i0KxgLCvUzsSfxXE-8SirqT8SaY3kjqQwDCnWQAAMpwTimgSIZ5pZKa03xlfTLl18nKXlKGmVSJpEvYqWZNPx8rRVdAaqQNNqmPLZESUYwZxCakLhpV7U-yUytZXsr+pM4EqVKsBn8rQVplLMUh0GDDIpp-4maXNJlVEjnQtxQGatPdHwhFRVq90RCH4GOqOAzq4Ec7zH6btpV30vRbpIOlWijpxcwGTc0OzHLFVhK5maCsbmKi3pKUoNQKsgUCSD4RSIuFrwIka9klian6XJMEj7TzRb0cNZfxXBViD0ICM1WCJ6QajvQI05IehhBUFik1DSxUCBMDVGq81REwtTPQGwsNwxY-UlPisIl9r45xakWWq1aDGsgQqUcDMCi+g+9wQY6rXhCl0lzqHArc4hbUAl5ZrTG46jXpOqLU5iDO266OJkM-g+9h17ogSTLBKlLQVxoo1IKL3smLyDcXmPIR+szVBDAgN09mZLPyn1T1onqJ9cbNA2XCbJfgRkDavLCWTQNZDRsI52MSPZ6pxaodnpHdVBjugtvZaXQF9UfRN10wQqDiHw0tqVpGY3CrGCwj1TuAIE1DTzMpQEbp1og9uqopTIfBggjUama9BKmEqZ1NbS5YyAhVngy+Xyt+bAsGkLxn1lyouRSA3S2SgQ8G3EJZIWnIaN0TGx7NTIzFYaCIOG+SdsDMT4yiNCgEjQ0DI14aTNTq6jXhywj4yGNBzbTd9l03hj2NsizjSmUSHUzgggG6OKBtfVxrAtEvHzR0tA0GdEh9UnzgRrspRaCNMWyjbKuxjcaANGG-jSBti3fK1W9sZtWlINSMhGVXU8KZFJingAmIRWkKSVt6kcq6NBGpzTc1y3+aWBAjcEBiAa7el16wgHpKcrmXkhUtvGmGRlpFWSbBhVIJrXysK1armVbK8reSEZUzb2VjIBzYDIa0gsJtRq3OoFDa1eAOtiU+jN6lxBvBXC5SDPnaIbK7kQyOKUarQ2O2HQztple4XeTyqaY7tKIDlHeRRE+yvSpFVIOg1yYna4K12oLXuWu0LVaGAO+7cDp15PaftTpOdMXBSCA7TAH287ddAnxg6VVHkGoGIEFg9Jc10O9IbDri4qpaZX0QnbpOJ0JCskCgPUhToEbfaBJx2-AILLe0o6p1OYoLegzZ1NwedCNVZXeuBEGdmdgs17fQGR1ZC+d9qgOr1mPVeJbt4u+7VLpQgvjPobGu1GRp7wiBma666PlZRF2yquVnEAHSzujiQ73tHO8MVzsO2I7DAEu26UjsOj87YgpQbFafBVHcjYxfI6kRaqvC66J1nac3aYE1GO73tPsQXR9CUSPdiRNzE3aLoR1B6shie2lHjw6QR7BI+0TXZbysj+6NehTJHabpna8ocdLneZGeqt068w1VACNauGrWp7+wCy3PUAhL3Wc5dYvFPTUvZrfjOJf4j1TPU+54oKVPe4tTw3G6wRmgz6FXUUHT2Z7+AEIa3jrtl0bruALeqGCmQXgmB+A5O7oTrzlTYkyd5fHYEHnI7at541HEeAJOIFJ8ns3ITIJbvvWlr3R5a6vZWqvB16-dpUxzhIk0j9saALnW-WwHjlwr5mlYKmEszAU4NQDzgixP8geljRSAzQK-VgMuTO9K2QDbvb+JH1MK9IE+o9MmpHo5j7omupA6QIYiL7lYWgOXVZRIPYDzwNURsDcGn5FNIRjIAAJwnA3EzB+ESPvO2cGeIkI4tcYwmRewV96c6TWGIU3lz2BkaFwInlBmXDCgXBoBJL0l5WQ0A6hizaxA42xglD8olsiAiUOCHQkeuLMXXh9guBVmwlH4fwxiCGGsxxhmutwEYO278mRytgJsu2VfR2sPG+-SGMrEEHzRRBufT3ncPwjPD5Bs8HiuX2CBQjWypgIBSL1NcEBu2NvdUEKgngyAdsA+Jl1uUCBWgjICfi5in7kD+VkyLw3QEKjq0jg-qqTQYEqJZHQ2y3dSAfCep94x0uh8EHYS6OMC-+4-aPg4kqMrMuj1UZxYof4PwjgOfvXNa0GODkN26LEAcBhqCEhDMU3W69DMcuFhai4fm6LfFqS3iUNjZDAcPUdfpAomjEkFo48QUOxAOjXRu40yHy0gw1jogO43cZGMGY2I2hlkeMaASdHXjqzLXhtCwmMx-jwxpuXYf-G1qy1Net-dQxGbx0o+E6sBT-sqEudWgQBuo2AZuaSx7VTe73uqQwNUqPVz6KDKIMPkApaGQgQwI5D1xpH+AQmvIwUev5FHb+JRjsWUajQVH+AVRmo2NtLS0MqxC3PE+iepCEne9QYkk9skGgk9cQualEynCqErqqYAp0qpif+gHMcTo6hRaEspBTje4BcssYKuuwbpZh+RUYY-JwUmcIYVEgRrMKIXqh91FCVxWwsNOQK8RlyvJWDRoVI46Fs48sVMPCggC3AbeyXrBP0A1KAAOlgFOXmqmAwQmQMEDa6T61mizGJGhFUPIFMjhVbyicCDOpBc1oZ8qeGfIlRmYz9auM29ETMdi5RvAE8D7B6BYRazoAAAF7jtQAUZxDuWeWMJnBeHUQZtwFbNpm9IGZ8ECceMAQpUItUSk+8BpObhQzXZ+M1Wbebs8tmshKyCwGZrKBma3rSYJLzTB4A8zIZ2M92aXP9m1lPeZmhuaYrbnneI56qEAA')">function extend_if_consistent(variable, dat, frame) {
    const binding = binding_in_frame(variable, frame);
    return binding === undefined
        ? extend(variable, dat, frame)
        : pattern_match(binding_value(binding), dat, frame);
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p23' class='permalink'></a><p>
      If there is no binding for the variable in the frame, we simply add
      the binding of the variable to the data.  Otherwise we match, in the
      frame, the data against the value of the variable in the frame.  If
      the stored value contains only constants, as it must if it was stored
      during pattern matching by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd>,</span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>,
	</span>
      
      then the match simply tests whether the stored and new values are the
      same.  If so, it returns the unmodified frame; if not, it returns a failure
      indication.  The stored value may, however, contain pattern variables
      if it was stored during unification (see
      section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>). The recursive match of the
      stored pattern against the new data will add or check bindings for the
      variables in this pattern.  For example, suppose we have a frame in which
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is unbound, and we wish to augment this frame by a binding of
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>(f b)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>.
	</span>
      
      We look up
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and find that it is bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      This leads us to match
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      against the proposed new value
      
	<span style="color:teal"><kbd>(f b)</kbd></span>
	<span style="color:blue"><kbd>list("f", "b")</kbd>
	</span>
      
      in the same frame.  Eventually this match extends the frame by adding a
      binding of
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>b</kbd>.</span>
	<span style="color:blue"><kbd>"b"</kbd>.</span>
      
      
	<span style="color:teal"><kbd>?X</kbd></span>
	<span style="color:blue">The variable <kbd>x</kbd>
	</span>
      
      remains bound to
      
	<span style="color:teal"><kbd>(f ?y)</kbd>.</span>
	<span style="color:blue"><kbd>list("f", y)</kbd>.
	</span>
      
      We never modify a stored binding and we never store more than one binding
      for a given variable.
    </p></div>

    <div class='permalink'>
<a name='p24' class='permalink'></a><p>
      The
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      used by
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue">
	<kbd>extend_if_consistent</kbd></span>
      
      to manipulate bindings are defined in
      section <REF NAME="sec:query-bindings"><a class="superscript" id="4.4.4-sec-link-4.4.4.8" href="./4.4.4.html#sec4.4.4.8">4.4.4.8</a></REF>.
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	
      <div class='permalink'>
        <a name='h7' class='permalink'></a><h2>
    
	  Patterns with dotted tails
	</h2></div>

	
	<div class='permalink'>
<a name='p25' class='permalink'></a><p>
	  If a pattern contains a dot followed by a pattern variable, the
	  pattern variable matches the rest of the data list (rather than the
	  next element of the data list), just as one would expect with the
	  dotted-tail notation described in
	  exercise <REF NAME="ex:dotted-arglist"><a class="superscript" id="4.4.4-ex-link-2.20" href="./2.2.1.html#ex_2.20">2.20</a></REF>. Although the pattern
	  matcher we have just implemented doesn't look for dots, it does
	  behave as we want.  This is because the Lisp
	  <kbd>read</kbd> primitive, which is used by
	  <kbd>query-driver-loop</kbd> to read the query
	  and represent it as a list structure, treats dots in a special way.
	</p></div>

	<div class='permalink'>
<a name='p26' class='permalink'></a><p>
	  
	  
	  When <kbd>read</kbd> sees a dot, instead of making
	  the next item be the
	  next element of a list (the <kbd>car</kbd> of a
	  <kbd>cons</kbd> whose
	  <kbd>cdr</kbd> will be the rest of the list) it
	  makes the next item be the <kbd>cdr</kbd> of the
	  list structure.  For example, the list structure produced by
	  <kbd>read</kbd> for the pattern
	  <kbd>(computer ?type)</kbd> could be constructed
	  by evaluating the expression
	  <kbd>(cons 'computer (cons '?type '()))</kbd>,
	  and that for <kbd>(computer ?type)</kbd> could be
	  constructed by evaluating the expression
	  <kbd>(cons 'computer '?type)</kbd>.
	</p></div>

	<div class='permalink'>
<a name='p27' class='permalink'></a><p>
	  Thus, as <kbd>pattern-match</kbd> recursively
	  compares <kbd>car</kbd>s and
	  <kbd>cdr</kbd>s of a data list and a pattern that
	  had a dot, it eventually matches the variable after the dot (which is
	  a <kbd>cdr</kbd> of the pattern) against a sublist
	  of the data list, binding the variable to that list.  For example,
	  matching the pattern <kbd>(computer ?type)</kbd>
	  against <kbd>(computer programmer trainee)</kbd>
	  will match <kbd>?type</kbd> against the list
	  <kbd>(programmer trainee)</kbd>.
	  
	  
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<span class='comment'>
	  Dotted tail notation is unnecessary in the JavaScript edition. We
	  simply use the <kbd>pair</kbd> constructor
	  rather than the <kbd>list</kbd> constructor
	  when we want to refer to the rest of a list, as shown in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  See also section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
	</span>
      </span></td></tr></table>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.4' class='permalink'></a><h1>
    4.4.4.4 Rules and Unification</h1></div>
    
    
    <div class='permalink'>
<a name='p28' class='permalink'></a><p>
      
      
	<span style="color:teal"><kbd>Apply-rules</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_rules</kbd>
	</span>
      
      is the rule analog of
      
	<span style="color:teal"><kbd>find-assertions</kbd></span>
	<span style="color:blue"><kbd>find_assertions</kbd>
	</span>
      
      (section <REF NAME="sec:query-match"><a class="superscript" id="4.4.4-sec-link-4.4.4.3" href="./4.4.4.html#sec4.4.4.3">4.4.4.3</a></REF>).  It takes as input a
      pattern and a frame, and it forms a stream of extension frames by applying
      rules from the data base.
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd></span>
	<span style="color:blue">
	  The function <kbd>stream_flatmap</kbd>
	</span>
      
      maps
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      down the stream of possibly applicable rules (selected by
      
	<span style="color:teal"><kbd>fetch-rules</kbd>,</span>
	<span style="color:blue"><kbd>fetch_rules</kbd>,
	</span>
      
      section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) and combines the resulting
      streams of frames.
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-rules pattern frame)
        (stream-flatmap (lambda (rule)
              (apply-a-rule rule pattern frame))
              (fetch-rules pattern frame)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_16_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9PokCjUHLgzi4cSkNg8GQEQjKWi6AyuUzmGjolikEaEXzlNhlVEcLHcHFEfGwnoIgbI8mU-g01H0vKEtYkrY7Wz2QXsAIpDwS0QPUAhcivMaTaa-WQxFhxWkAoFPbI8qn8vJSziQmp69nw8akEx2abEShEEYMDKgAAMXU5SJohCYAHcOAxHVxeKJyMQKYMOORZMLiWHna7Rh7Q+MOCnVaAANSgeRdYkbUkOzPZt1w32DUBYgDW0wDwYmLAY5BYACNxjIW23O+NlBnpgVI9G-XGBInjKKaFdIgAiNzz5RzmRD8PcUcx6gT5SWnut9tdpgwzocrAgUC4rmEWhXhiUNgQGDwJCoNDyNCaHDXv3bay0GIuAcEwLaiPgMaEAA5mUbCkFORgzv+uxsB2oywfBRgAD5YYqxg7GCKowfQcG6KAOF4UYOwdpQlDvIQGG6BRTTinsjFVtWyI7FUUFQT4kb0Bhe4xJULBQQh6ybJY1iriRmEAGTyaA2q6qRGTpOkoCkCJPEcb+NbiuwTCMasxZSchPF8UIAmkEJoDzoQRnzmevT6citASKhdEcJQwGOWwxlyRJSEqTI+5BS5P79H+OwsLQtDkFBhABcMJlEohJZitYln8VYtlyco85xQlSUpaQzlVm5NDFYlyX8KQvieTRVpqelkmlqF+6ddUjGnpV0U1jVpX1RwYH4IFmKYW1IW3Pu4WTX155Vchzq3lUwzFMQ4gMNuDFBaZGXmdxYlWRwNl2fOq30CwG0iFtra7RVHLLVd60NXd227Y1XktVNSQzTqYU9d1UK9TanE0K9N3vUw907eOY0Ta1-2ZTQIMOPNpHg8tOy9kemYfQ9fppSjR3ZSduWCQV9l4-2Gqw59fpPa5A3IrTx6bYzsYeT9JPTqjymzcDQugxF2OszQ7MEwzROxojfOHR1IsYz1YscZeABikAABoALIAKIhMwm4sMQTD2VVxS4Cq5BM6Aga21E9niKhAgsPOF5gCwuBulpURWP+tDjf+yk3QI4wCEEnvKZS3C0EEIBQY7+AdmgzpsMAtAugwZsALSmzqTBsBIwAAFa0LntDiNBwBWEHTC0MAABsADM2CazrBtG0XlBTH75tdpQxB1vej6gC7HZuxwNECBIoDUGb-fR2EDCAe6gY7XH-egDPc8qqALA76IQ8j4GMQBlM7oBtI0hoBDyET27CvtVlom8ZT+WTYVlsiNbhC24MZm99H4sA4CvIybpaDPyQkyOQTVvK+RsEZZQ6Mwb9URDWEB09KCz2gQLes0xB7DxuIDOaqsFqLXhDjawM48Fkzfqdc61N5wzhpBSIu9UgHLVYUwAAHtwZg8VBh0KVqQ8hWM9ISxWtQAQADqAsFECBfhgiErUBEa-HK1k8p2UoskS6Mi5GOUUXwgRDdVGEC4VI1aQgTEMDAcwVSf1+bmRsiGJguA7JOHQTeUA1ilECKzNQKB+1poC1ccwDx1MdDeL-H42xXBRCf2Rs40s4T3F2RbpFe+BEmAAEdxokCRk4xWGiKZaKpl-eygF8n8DNpYjByICG+DyQUs2GECQHRfjQc685qmtKYMuHIcECQxJrH02p0xrojDKsEha+hjCk1EbITG8FIrLWtqvBqUyOGpTkh00J5lQp7LWVIwRWyqjTPqrM4ZCEkIrJGc9KROwi7cFIBIZpNTCntNuQLVikpjmjK4tYcQ9A2GXN2ZNfZizX7yiBqLSF4NsnWCIXWZ+XSLJlLOto5hKL6k+KaSi9R3TtHzlxfiBagKaAouwbgkJIoBaoIipIhp0kNxbmJnSlJpT37lKSaQQqI4oyPROSyq8Et-EqOEZykpaNla9UpQfBgUFrnFPRaglZlD76EEoFwJVUDKBxx+fQ2FBqHks1FRs0FrYYKmqNUsmQtqFVnN1cqh1hrOl3J6o6paTzrC9hkCY4KvzyY8qxYJExhUlxZO4fwIyo1Dx02sCqNcjoJKvTLMOCMQrxzxg9E2EMYZBVjljPGfwRZjDLVyNMQMCjUWBs6YEJCuNWwBv4boXRoAPBNPzVLYyEaM1suzSWycHblQyXCJEQNHaPCrirRwGtohUWhUDfqIErg50LtRfuFdMpGghBMeWowvQzKlg3bWlN4wsmXgNaML6VRjwrnwPaMOoA+KkGjrgB8T5iBRB4L7FuoA5Cwz-C3NAoHMlRVFcVIeMgGwSEHLDSgDABBQpPTCtizBnTIYJLojwRBf4qmkLo-d+SFGwaYPBwWgNQqYaQyh08HbO1UdkLR7Du690H3ijBuDe4eqsfo9GqRTT73djTUE+0x9oyKJE+bTSPSABUMn5NPVcMtY+lA6z4GZHBjgShQA6ZWG1QI6ag4dhkx6aDxByPvL0-uSTCjRLHnZPUcguBAOmfMxpTS+H3GEcnA2+oSEfN-2kIewI3RQBiEAgFlI6b+MWa41ZgzvHRYpxk85libm1yIeQ+pbzghfMBn80ZwEQWCshYEGF+oEWovmxK00T1oN+NnkBMelIbWj1rBxreUYtkdN6eS6ARGElXAmbS3TBLWcksUd0ylhw9npN0wy8kVz7nxvHjy6AYLfmRspEAg1OzQ8HMybqGu5Iq5zr9ZXBO6zHBNDKGG6us79RDtScc5e5b4XIuiGi-V5IcWcsCEm9xmb92tKq3Wx9qrKRVvZaw0DrzW3ys7ZiwASHqPt0SqWzN00SOj5752burkG8N07BOmjhUhyedk+Oj3fd+4x4wmP9z8Yewo8aLWmgdfC2sbny1ZG0DCKQH9Mg2C7ZlbWTb851Oae4B7M7HgZdacZ0qSXiP5wqjXuVFXRgPCa96zr1XowHyRDYIVAAqoQOs2rAw0BvfDAyNAZNBHnGF7nSEBdC5-RxdN9u70Tc0sJumZasDprfR6P344ZMyGl7RWXT103cCfRHvgDudzR41z1hg5Uzz3wJSqWR0EDx9gfUN9nJ4G1IVXL2tn4ETwKo7AXoi8aS-dkb4IIiQbDm3Hb4X8SDem-QXjXXmQvfO+V4FvuMf0ERU+On1BOM1JP1GWL-jJgyhl8BS76WSzq-cf3iMrPv8fCqSyBr2XuvG+dpb4n+ZVc+eO9F-P6Tg-W-mU+JEIUFDPkGL9vP5vivIzStZgatc9QAxUWHZtSdGEGLFbLLFpMjc-anWAhoO5UMJgaHZIGrH7OrHXdNDsD0efRfDgAAgNK-Q-TA1AgWAgxHbbIrQ3YwDwXABRQCBgowEIM9RdUfQfBfeWDsT7arLAVHbAhnUrYNMBG7CvHXDwTgpdW4ZAnCLSEA+dc9bdGEHXEIZgnAyg7nd3SfZQzdVtbgQTUVE-fgIQVzMBSgIRY8PfUvMCcgm-IzfAngwgng4g0g--a-evNYWHefUAAAQg0iRwIyK3F3RSIFc3eSxGFyiG4Mf14PL3iL7wSFADYIaAcNf3rzSNcBEPNkgL9RbTAhgL0HJ1cEvHk0qMVBcISLcISI8O8IPFEEcJ8MC2oNcKCPy1CKI0BDw3-lwGiIpBFxr3SOSCIL4J4PuFR2mKMAAPY3qH3V4VPzsIHAvxaM5zp1q22Cy0-3MOsDUUyK8MP0JFAAqKqLaPMnnGYKhGkFd153p1wIuNLDMMEBWPXzWKyI2NAF6CoSkUiIGMZCGLiO4D024DBzmNv1LAAKl2uIjnl1lAtmqFuMVBIwggcBBJXB0EVCYO8JROQn9RBPbXqA8BeIsOAm4GsISlsIxNCHBO8PmIuHxJbTBKJIRNJLjHJMpPIGpLBxpIhNOLAEqPkzxJ2FXEJNAEUmQjFKxOJKRyiMBNiLhXRKcDJzKP3BZNVPJ3+MGMVNCkJM1LKMaD1J0ANMNPqDmIZPYMRJuIEDuN+NFQSmgjtB3DBDNF4W3y2FXF4WUENFAHlBMJ8R2CHDKHYTKg9NZU0TDU-lDPqkKiHDxViQXnAnMQvXALQ1lTESa1TSPxrHXF3lTPDOQlhTISzI+0tKYx6QURrQkGynQOcjxPVT42zIDL-BHHeVAWDKHGUBqQYHeSFzdDxFAB7PeQhOcPE18XogLXGHTFjQChbzXyTQYiHC+PTW1LcSDkSQ9EYzXJiJF2HIkN5AsFNPJ1Wi2nwBTK2lYGpGXOPIJ33LmLCzK3lMETsHtHV1hORNlPlDxNAnZ3YQ4GHNTJpQkBkEvJuinJPFvL2yImdOpFdPYBkDXJfMSURWWnPOmALz4RkCF0LIIkYCIhIVkBwpbJrDfVNAQrgwGwo0MzWBMw9DfWsyookGiXpXMjvFoORyKyY3lFV1oHfxigK14Q4B018mwopDEzWn0wow9D1PEsfPEP9Tg10A8EXHnFVzgw4jtFAAABUAAJfWDgAAJXNwABl9ZkBNJ5QfR1kNgf0IKoF+zRhBzRzWLSx0LF8RBeExLDzCByyPAyLMLeEfAhwHKKQBzyyQgyKFFFEQqQ9zUfEor7B7K0gjMkI9KDLjKzLwAFUArBLgrHRQqfLCz4L8heBzCZBGcyKSqZBArhKZtRLHKLAnszSWFHRK5aRnIoLXAqraQY8lw4y2qSrnIr0wAqo7xP0x4oA4BEBkB0BPx5BIMfFfzwJ2E7J+AJg7VX5AJRBgJlqIIKAi8gpKIPAhl30ONDIApGJjrx448tNvpmph9xo4EfofI-IV8gplB1ryyrSdgoZboZY089oFprrlrAk1poZOZZY1FqYvrKIx15y6ZIbAarrGgSSwIEaOZCZkaYbCANq4bkIho6oIVSIQb0bCayo1rcbvrVdfqDE-QHNbEzEpVgbUbIt0brFDEGblEmbobKlYbzrgV2BJ4WAUaGgu0WAGwSCJYZAsFwEApIFGIuqzssF8yPrRjAh+aGh4bxkvkjrWbQada2lDbJkLkdlSAVVUjNaFjkJCU9axa2aHNba+aqb8agzUZRbZTQbaEca8aBbB1i1eaSbWa2yA0xpVrLZGahFA74JPqqalbkhXFEFEYoFrULbY6Nrqb90GATcLpLdrdKBbc6AJBhgWBeEXgHaVqRgXcSLkQQ7cRlBU6EICj7FyA2AAFPgqoWRfLdskI2yW626KAO7pb67FVlUNi8jtjANaa2AKT8MpaWUu6SjzgAcNy3yK79rjJLZ8zcRmrDT2T1qIhqAKb1aUhLY5aNhRgoEd747ntU6b6zsI7cbD6ibbId6BD0U3apJHrjJkL4JGMPBWFEYwaqRbJf7qbGS6DQskgJ76tjckMu6LcrcbcyQpE3k+By62yVNOt7SfFE7gJk6jDaB06RskJtUXUoETEcN7bvytbQhJCw6RgcQIgrUlVCHLa46dc8Hv6oFnVU62HiGa6aBQaOb6bjFuao6ga4JiHISNF0DQ6-zGG4llF7E5gPrIsqbwG0aFHjIlGAkrpFb1HfaOM9rVrdG7EFE+V2GNr+KawDaWkJl2lpGjNm6Xk3kPl+lvlwiytujKt7itjm6QVzkYzibzal6xDzITHGHLUgnwU+UCRFAvq3cHiUD01omaQ4Jv6tzARInN7mGYmzbvkEmqbKDm7AGki0m5Jv6wmGsBYKnJpv6dDkm-tG0BY7HPk2kddnVtkZlCnEnFRdDzxVzHIhEkppAPRfSrLFq-wuGiBCa5h-IG5cLrBYUFmqGESaGUhLgbtZmRmitlAZnhmSoislSZBVm+pac0icG-xaBoxqQXQYY4ZdoLaG1m7jbeoUnxy9kPRjawUzaLbKCm1rBXH3k3njlp0-S9hR0D4yrXibnwL7mkanmmHNlfmKbjld6zs4W7mn1EW-QoEmk3mT6xDQVumrlPHPsYGHhAWwbrp-rHmOUWagRFdtE-qHmuYXT4Ffp1C114be1cXmag6Fdx5tE+WsavoeZmpeoNCIX7A3cfVTD0anapHDGJL6Ad4cE55NJqVVaKVaLxyFt2K6BbmfIcWxW8XR8NWVzxydmjnpBDWDm5nZADWvikIcmLXZ577IsljzCQIn6HwX6ZajsftlAbXao7WBGbHkQvb3afbCymkymR8Vc3WeFxGUy1azTjAvrBGK6uBdm0XnaNqG101EYPQ3XyaRp5Y1G+nXBCb7rvJ5Zy2NoJW6IDHEZiH5LzJEZI2hH0bRWAbdpKbC2jNa3m3FF5Y+36XuZOXFbFQ3WJ32XqRK2FpiHjy+mIsjB75hHxMIazWBX+UVWG0R3OXv7QLt26WF262uXV2GGdGz22WobF2kiq2OH6g12cBLwxrR4nwprXxZqPwwMpmDJaynr3SZGaAy7EdGBxpu3awJbphO7z7IFlBd4nHXKtgel05Z6igqplwddEPL7kONX23HlRVp6sOhBO7cAlmGEP4cRCpMOXRsOJYEyawz6Hp5bL6cRCy0kPFcBlAvESOfEt6NWuOwPhXQUIk6PQAWL4q-xH6Jhn6KaqOxOeOpPMkYP43UYT3VoQHuOSUE3xpBkdP6ocygU3Ev7x3y9qPIzzo237IDOBlTOaAHPgH6omiOcxPUFHsYPalj5HSF8D7-WKavqxPt1inBO5O8mSDGiQvUqGV5DwvZPbGSA-PCEQKACnHXA0PZwbsMuVWqx01tJphgXfWFOgv6o809hrKhM4Pov3rOWiGL9xpUMuUcvrhR3Gvk6nOsjL2r76T5kFl0zmMcR6SFUADuGRvD8BuN2hv9wHz5WlrvWihAuj63OOva9GuOw4piuqaVP+AoJtJnrmoOlEdxhoJDuwI1n7b79avSD1uL94md5tvSvwGQgzuDu4iOvdAAAecefbi7lg8B3XSLbO+B+cbS2iWDwgOea1fAGZOgLTTccgaQEINS-MUYwiaCKIo7uiDpfMQZNHnIw0zHpOAYpogkIHo3UHhcCHygK8IMUeuHq5BHrNFH+yPMInsokn7Hr7jngnjnjH-CrHsny71CqRJXbgS9k90d1D1TKRdas6WiZkWLxUZaLFnH4Nh78Iobv5GoBryn5IEk3GxXg1CqjN9Rraaw5vFbgNrNtgkIUdzbI5fX0YjwUKUX0Yh325k5r7ubcn9+zrFzeA3GzbIrkCGetxm3sMlA1wOByIGX+yS3GifDIun6VHr43IppjtVJ7wj0NJ0g6tmpti738bjrybrfT1807wibi0nQ3nbLwxk35XxLwD2u3ZqXytzl2vWXiteX439TZvod1XqRdX+70XmP1rostiL76Qxvgfs3so3zq3ofKPtzu357B3zlp324Gf8nDwTHd3lg2vA34II1m6H3-Xv30XjP4wCLCA4PiYUPkSEr1f4YbXzN6njXxB5PwQVP5qDBvNvVGrqNMtizTUbOOWhKaR8+MXcLuE1LDq9S+DXcvpBSJbjcCGtffpvXyG4K95+b7D9BLHGpfpnw01N8HNQwCt9WUAiVuu3Xg7D0iAm1CMpinOgj15wVAgeuQCmAsdkQbAmgXGBnrjAyoA7Heh6ni6ZkHAb9H3OOR4GD1aBLKe1togeA9IVIgyYwCpCBAYsekloFQUYEtDqDTSPSOcNoLoYRA9BigklDZCME2RTBKQHpLr0GS69GgGgklJ7jUCDIXBkgRwfoJJRx9tBcfQEE4MEjzgYiUQLgB2FoDLhghoQu8PUACG2R5wuYIwcYBkDelQAEgEENkDLr5g54oAWITHlziJDUgKQtIRkAyGgBc4qQowLkPnDKZlAyQZIcoGKHPAy68mCoTkK8GBDgABQwDEUPSGgAy6YAbIVUIACkXQ+oakN6Fl0hhrQqoV5kSFjDGhpQxHGkPaFxDOicwnoSUL6GBFgiywswYEO+6jCNhTQ0AL9yMC7CbBJKb7ukAKHzCJhJwzSOMJWEx5MghwhoXcOyBnCqhmQa4bUNcC3DNhZdb4Z8KeHzgAiXQrYa4GeBGAAixgd0g8DPCJ42w7Aoeiyl64ZBFQsCFSCuCRG8CxqCIqQTiJkHz0bwPkDsKXGAzsUMR2IXEJsIMGEiOBAyFBHKjfoYtAg0ghkcSLxa55ER1Aokay3kGCQekkDW0iG04rSBWR5vIwD0kgCEA-4tsCQCoJlFyi3kEoyUT0kiGwBIA2gjUZAFVHm91RFIEIfrCMGRD9YeojNj0gAByLAS0V0OtGWiT+BOfEZJXZGfBWWaI9IFSOZBuZngoUKjtiN5Ecj+RzotVq6KdB3tuG6I+oLAh9HZBUEVHVImGJpZvQHk98PukmMo6shR6UZQsn3RVAcAfMYwCQM3lLgfA4oxANsK8gX5rokxrdTcGbSEH0DPW1qHMR0ECALdrmJYSXq-1siFl96frVbqlBVwFByqGY8VPd3VpJj3RvvYcTCyIr0iURJIygGSIpHKBJxC48MeDQ2hdd76YfF-gOJfpZJCuIkKCMfC27GIDxZUb5l2NK6Kc3OueD9gQK-bEDf274TABQN8TUBGApsBqDUnoCxgsQDAVFL2mo62BUI6ELzgmiczcsESjZUGCBJgL48OAhPbnmT0gmt5qcEVYbvuAQkKp04WIZpOAhGC6g2w0EFrhLlNjEA4edgVanIAbrEBiAvQu8PmBkCUSpcalFSmpVR6FQOelE80Y0HnCDISeZqe+KYkpAgUSeDdPVFJIXxiSVR+gVHA3xJ588Y8HPfCaAkAhES5gsCFsXJMoyN1dA+PbQHaVEmmA3GboOkNalAlsQrJ2JeyPKHhLJB4a50KyRKXkhCFUguvE5lZKYhYRsJPUHydsM0iqU-KgGUKK5PVxLhcMn44YDtDIAAVmu44QCailslNAQgNVawEWgHauTFIHkwIBdU3ripI6KZHyc4FpwqVVJ+YPSZUFGB0hwpeqViUqlPAC8Lm7PFCce0QQLMu6JI4qcIkCno8gQalQntVIsmEVvJDU0qYZLynGBnIHsWnJcDMkgVpceUQZNamxEbBzJtUmCU5KlI3ZUpCJPSTHkMH7NtE9U8SH7x8nrTxJNUhgGLiELa0heMEfaYb3sgAByQntaj57vT7pKIIiNjyskKpqpgFYctZMlABRwJkQUKCDMr4NBKyggAnkhgJ7apyoAqeKL1gJ7xkGMqOGdItLGnQzwcoMfGSNK2l4lDpUM8aL2VSL7giZi0hKaMDSEwdSxLYG5pWIahAMBEQ8MxEYWo5ZTiYU6WUpWSzQB0LEG+Iqam2ESBp76sCJmeWNZnf17EnM+KDJIoZtptpgQeGl1P5kIkek-VP-ggjeqXUV0P5fhDB33IeQS6QlDmWbHijcyXmWWWKELIHYroYsqTccVv00iKhR2r1JBJdQjriy1EK6aHIiMVmAQhAqdD0LAjNnF0qglsh8NbMa58NA55wJCJbEd7q5DBdk1cHqTjlmIfAjdJkWIOwo5y0ZYcvVAxmtqpz3ZwRZafQEcmBAcZIcvOXqjxKVyfoUuGWSzPICvJv6dco4KuFbnNR7650DuRWK7lszy8Cs+OWNMTmqzy5mzYwZEAHl0RsRjc0uWPSSb+N7ZyzFfM7PqxIQdZQkjqQbL7SqyN5OBGLK6xNn18rmNYNBifOMJidRSkhNtHZOXQvzracfIwog3zqF1epXEJ3BID4DACIuNYYzsMBVkPy4u9CVcFrJenbp3588z+f2nnB51kGXrUxBI3LpgLzawCm+W3y1yxhSAOqNCFwAEAiBZA9aKBaekAX3yQQ1c4qOjIVQ6gw5aM7PLGHzKUKG+oUbBRArF6kctxFAVav2jy5EAf+QgXsBwF-SCBxgDACSC9ANQgVOFQfKeoUUnSqyJ+RgGon3jqJ94GiO8-hOsUoJDd-CHFHxrP1EWMdxFrYSRWHBkVfzPi0rZ0NwBArjEki8+APt8WSbN0YF6isAZP1XBOKQKb84wqkUCUnMd0IA8+X4olwHpMBuRBvmEsDQ+cluZJGlnlDc7n43Y+7FyuAMkomKd47hfMZ4SgmrF5uxi1wqYsKw9E2SKSt4gsApDrFSZYVJygqRFyuKR87i+pdktG4diawjVakLuWBINKVAwynJZP0gHVyPytpTnvXOtJwkfypGdEsMqyWskXp0JGbvPKgLeVVlsy9kpYSujpLUoQuLpY0utpPzrgOFNybtOuArLM5zSiwK0riLqlxKMM5IPuBWWvK2R9ygZUCTGk4VPl5OUKB8qJZroLSeJK4kiVtIwcf0sMOsFwGpAMK2FaiRFX6G7IUy+ywy+8v1zHKSVBl65V8h6H6WPKZA+5Y5ZxgIXUA1xkos7FiooIN88Vv9GEpCt7mMEZWCoa2v51grkU6QDKhuK+SyRaV0qHAAAILgBwA+sQytpUgAAB5S0RZTZXVcLUtlEISisGCFUBy6xMTu5UCreVwqdk3Kp5TzmsLzW-SrCYlUUSqqgkOVDYAkgtXGq1VKVBvkKtFXirJVMquVdaoaiBUjVFK28LqqcqFkeqAoWqiJQ8SmrUZvq9qqiCAT3w-4LC31eqqcqaqqFWwEqiQQxCwJGcWSuHiUMNwwrh48K3Nr6p+AUg4e12HyusRvq4BlVRa3rA6v6XrFs2CUfgdMGBnoqDyGqnriVWKq0h01FITNVXyMibCO0aakcUUE1BMMiglqv1aSu+WVqQVjwXoX3ViqzqK1nxVkaXz1A+cb2dM3siSvRUtFuVqre0LkhpGaQGKd8-dfTNSLzgcmu6hUS6wFinqiAm2YUXZObX1j71V63soeu7V4ln1DEHhd+uWFdqt1vSszoFWDyXKU1rKEnn8vEq+SmSkM24MRRg70AkMw4e1TuHzE6rp1EkZupBtsJ4bwi6aODB6BDX1UPEeGygumionZ0Ro067lVGLKJBqzQPGeyNOqjV5AsG52J9NZgjV1rqAXG9gLh0BCrhp1PpXoXRuYAbRGN3ar4pS3iVJd3IRC5gBBWII6rlyRbKQd8o9CnlkywiZcmFgI2CUoN3y6pv9nHJkbNIFG95A1XM00bxy0mkaOuBKrMbycrGiihRgGrjBhNbAHjWyL43sbWqvmoakrVXBdlAMUm8wDJoaiubrQZ80Qrf3A3VQyF6mpDLWqRUMQ8Nj8mhI6FYlYbfKMyo4MwogoFbfVWE0rdOvK2CbfKTCtLdVpy1GZ0NamxjThsEo1astVrSSnRHjW1bDWzqsVRKqlWyrsqawQba6pG1yrCVe0wrZJs2G9bMtXIjtqWHnAaYTJy0UrZ2VTQNoWt0wdcO1s8oFkwsvuUQEIBCoeghVmVcymFiu2mVzKM264JFt9KLaQqj6y4utpg7PII+7yVaKXGlqUNQZDgQHWNyi5-boobDTzvIX4QiSY0oKcHYiAgXkT0U8Cw1Aqm+2vJ3kAuf7QvUB25bdgkoEHSAu5BRdsdEOvHTBuG5E7lNznBuO9CsA46yASOwsqjth1SIAwUEdhEIEAoU6uF0OtHcTtnAOJs0985HQDAoUw7uu1qNgOAsh2U7Wd2bP7ZQGTQI6mdv6vUPjpK6q7iY2uq7rMs3Wog8SSu5NM6l12ntCAjO0JjDLvWAU0m2u83ZbvibTSgQBuoUFkiTxxCw4BPG3eiqM7UBS4yuurR+Ox2B6fgDO6KI11d3ShNdP24QOHoXpk7EdoUjZjtJVBuh3gnwCdYzh930zkWoKRPWQDD20BHdqRKPWLjxx1DehIek3XTrj3F6I9RekvRXrKJl7wYHumPIjMKg57eybghnYHtzzLQOdq1O+qBtRA9qGQPIAdS7tz5ZBnd+U5ZmxG70gUh9xEr9fnIXWBBOVGwF0r1QtJlT7aW+ohXBV330khC6OEIPKGb2qZq+3aqsO3ociUAUZ9kJfYMhX0+FN2QVKiYwyUWT83WpiWRGOFoXCRpgp45cQzUvEmdGZZYzud3PlhSZmio+oUGJzTWT7sQjOSAZkGz2f6n0xkTXG9HbCKNoqLRAFUkImAb50hRLT+WQcT5IMC6OXe0L2BCAjy5ZiMYao6KYyH6d9AoOYobgv17Aq1N+sDb0Hv3MGx5PcrvTuuHKDJRDsBqzj6HTRYghK7gzVqAAACcXQfnFYBNggteqyOzQ4LjUDcq4wboMoMoCK3NNm6sKegBZq+ybzAMNARHJ6Hf5GBlDMgV6a9MKhoAvDAWzPqAI7SuGjkqyIxcYGUNGHbY6ENNfNFSI0ByhAnQQvEtcChG014R+PsoEUN17tD2bKspIGA64GkoGG9XWPrE5l679fGoqKIGrK5Hvdkh33Q3QqM5HKg6BAfVIitlmIv1KoD3Q9lGA0QEo8knFWq1yQego5FsyeVzJXiAQaqhAD3Xzw6DDVjNWWS+D0flFBSqkNxYYM5BQKuH5wucHY6EGLl3hhyLwaY2UJ2MVRitIRrQ2oCLkbT3kwM2EJ4tAHc5YcjGohdPGHBkK5guSGwzWzS3rgMtjWhrYVuAokqPFsORY1bzeQrHekaxnPBopUCXHJAeQnY7senUHwPjQOZE8ibOMwNdCWfeoFscxO7HDjv9O8ISdOM38XDCJnQwKBHW9qp9oKmfZgcNJAz0V1Ys0ngehgEHjIuSYg4BmoPKdngGdT1kvpJX4gYK2+4-QKH9KLQlNH4tJjdFoCBh0IHRp9MeqHJDH215smOaMZtnjHcDUx5PPj1mOfZUmUXSAVTpqO56eTdAcU0fu5WnM9gMp-xbTMAocnhgXJ0U1eDNPeEfS-J3oRnRg7LqCq-qo8p8WQO9rUDzIRnEOGHUE4+6HZfLZFobWfEq1Na2KsmYwHwhWj8UL9a9JRUyBqVRgAADpYBgyY6oQK8dwBIY6Ql+1IW8JgJnYPDNMbo9YUc5dBsz1gQCnmeNUFnCzJZss3OMqA6oqzt0sStcHwAPZUilGVcBOdAAAAvGELUJLOBByzQ5kgtWZ7ANDlAC5hswTibPzhwTgEJ6PjjwBRcFTSpyIHmcHOVmNzRQk6YEPdiFQOwBPYgAT1tIwhXpZ4S8B2dzOrmbzo5u8+J090E9nz9HN88NX3MVQgAA')">function apply_rules(pattern, frame) {
    return stream_flatmap(
              rule => 
                 apply_a_rule(rule, pattern, frame),
              fetch_rules(pattern, frame));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p29' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Apply-a-rule</kbd></span>
	<span style="color:blue">
	  The function <kbd>apply_a_rule</kbd>
	</span>
      
      applies rules using the method outlined in
      section <REF NAME="sec:how-query-works"><a class="superscript" id="4.4.4-sec-link-4.4.2" href="./4.4.2.html">4.4.2</a></REF>.  It first augments its
      argument frame by unifying the rule conclusion with the pattern in the
      given frame.  If this succeeds, it evaluates the rule body in this new
      frame.
    </p></div>

    <div class='permalink'>
<a name='p30' class='permalink'></a><p>
      Before any of this happens, however, the program renames all the variables
      in the rule with unique new names.  The reason for this is to prevent the
      variables for different rule applications from becoming confused with each
      other.  For instance, if two rules both use a variable named
      
	<span style="color:teal"><kbd>?x</kbd>,</span>
	<span style="color:blue"><kbd>x</kbd>,</span>
      
      then each one may add a binding for
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to the frame when it is applied.  These two
      
	<span style="color:teal"><kbd>?x</kbd>'s</span>
	<span style="color:blue"><kbd>x</kbd>'s</span>
      
      have nothing to do with each other, and we should not be fooled into
      thinking that the two bindings must be consistent.  Rather than rename
      variables, we could devise a more clever environment structure; however,
      the renaming approach we have chosen here is the most straightforward,
      even if not the most efficient.  (See
      exercise <REF NAME="ex:query-local-names"><a class="superscript" id="4.4.4-ex-link-4.86" href="./4.4.4.html#ex_4.86">4.86</a></REF>.)  Here is the
      
	<span style="color:teal"><kbd>apply-a-rule</kbd></span>
	<span style="color:blue"><kbd>apply_a_rule</kbd>
	</span>
      
      
	<span style="color:teal">procedure:</span>
	<span style="color:blue">function:</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (apply-a-rule rule query-pattern query-frame)
        (let ((clean-rule (rename-variables-in rule)))
        (let ((unify-result
              (unify-match query-pattern
              (conclusion clean-rule)
              query-frame)))
        (if (eq? unify-result 'failed)
              the-empty-stream
              (qeval (rule-body clean-rule)
              (singleton-stream unify-result))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_17_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgx5Fm1aMmGSukzraBZMEcZeFKgTGUFMbiugHDpFkFYHZNRglaF0IYHwFgTKEFaNYKQvFlFjLvASVSwzsijJ9kYXOHJ+gGJSGkaQyzzJfMUBUcYQT9mNF+TSVKiJNRgoMLCgk-zEV3PwA8p5BtHJjIMGUFFecLAYqxbgZRz48XIqJRYVKpdrnmCiKqOmJLKCPLJWMKwW8dglJYNxBYaxhhkGIF1UAEpCAwz4CcM41B5RKEaldUAoIgLPCumgVVm9Hj6P7F9PQqRowQqArQEgOgmnpm4dyJYrQ6DGo-oS8w-zGCs3ypKO1oBaUH14rq-A+qsw5m3Fao1Jr9yuvtb6-QAabVUupeYVK2rqBep9c+CNQb5n6MMfywomzDjED1nHDNWUODfwAFT5qLVhXwXMGTJDIOLPVlBPAVDrRPV5vgtltTyPmhwcaE31vmLuXNuAvRrCLHnYQfBFXts7WaDgjr27OsaC2jkqlZ1s0lPSgkERQCfA+IumkWzk1dqrDqptfaGJTXzSO6NY7FUHunaAFd87xnRtUQ+yQOh11503durKVFn2qKTYa41B5n2Mo5KBhl1IFG-hYAGOtDbQAntMrxa8T6LBtvPeZQ9C141wdPUsAdQ6CCXppNe0EGG1jsHNK+yUqGaQfAvM+Aj+aCV-rzoizSuHYajEQ-5DYLHWPRsY19PN5l3Kfq3bgHdv6877sAzoLDx7vWUDuHhsjHbRPAaveOsYcnKMzoYE6t9qGACQed6NejPepgVWBTMCY5IixFPHkPrH43Z594lyNEaLLZhlEmpMht8OZgD1qdAVF4x+sDKLwOgGiyZaOBxOiEBlXoBItHVFnDvb0bGtBq2KBqgJ-52XcsBZjQYvTQZ8rw2HCViw-zKswZq6VlgJwegJF7AAVQYMkPJUhxA8qshTcQ+bkq9HXdF1S8XEsyoFFs-rfLMMcHTaCg8WyxUODm9ZfNfQis1qwlsxQQr1uKF5Zt0FvR6skGHAedxhi8j5WjqSby5QkN8XGapRFT25YvZQzU1G938pAhBWsPQd2DMA7e3g-QoOHtAhycKaHAOeJ8RB-94EEPmW7gR2j37WPAf5UoJK2WyxZLPcJ86dHmZu2fYqGT9Yv3vbMAM8TlZYXnM0-5usV572uitcBcDVHIJqffZc8cWWqblaAWOwZt44EZlIZJ192n4zbn3NZdizn0naTaY+T0dYaXfCkf3gCJYQu9e7qJTQ8g+AIs0i-ZJn9jWtl5AcLjtZBOOejPZ2Lm3FuPTO7vdRnQjXfD-L4LxD4weaUWlV2y5Rrv-Ig+I0SqIxm7f+efe8jUPPRk-Ls-8llsecU5jN7iaPmK1fsopRsRrqUw-2599F8bHoC-q++YM5WDOZxSjHbzWg-tgdC7+F78nryncC5dwLt3tPmfmWH3T6kpHcegAAIRUYM3Ooz5vl0FT4KwpISX5Qo7B8CJH14j8w-xaASP1Kh+i-J9wK-vg09ZVIzr5YuANgmDcwSHYRa-8orH2PyBAnyAKnw91vyVx91UiX1X300MxdWfQdR3z3w0GS2p2vw5Hj2c3P3BwJWM3wPMCVxDVpS9kZ30EH14jn00182-ReG00ly7xlxZFvyFyVyaFAF-3-zzlUl6DD3zElFG2pGfy3w9E7yZwoNwCoLGzcRMkYDHRQIPz0EUHg0UBUzvw1zNTplp3K14MWAEJRX+V0P4J0Hyw5HdWNyUJUIngMPUJRXhTeBGWUNzz+S3VIK720G+EUD72rGB2UOGDUKILznsJkiUObRsLEO708O8OEF8LUL8PUIpE4KLTsM9Acy7lAD1FSOz1UKjRpCQPkMoH32S2fCcNc2-wtF3ByLKO-zkN30KNQMP23FKIwNYyaInmqPKOpTYJSKMJ6kENNn0WrGBAIEIC0GJGzASD0C9gp3aERS9gqEMHYAAD4JBeFxdpJggMRIEhwZiz4bYNEtiyEtEgxghQlngfxgIyAK4OUiMudIdZENk4cPYTkNYNk7jykLVZEk1OVq885CszFeJHloxRQrcwwUjDZdxHiuUwAcIjhJU-ooA4BEBkB0BbhPBNUO8rxIFAwZwMhelfFd4vgfgsSRBSQTQ7V-lAFMQ7VgjkxXQKT-oq0a0bIFxT8UxJZB1pY6STQKhcTcizDPQ2ICJ0IBtk5CwGTfg44hSAIFJRSWREI+SaTPRPt5IRSSJ6TqV-lJTB0VTfJvEFSGA8SlTERTxpxxFxTNSt0-gJh-YzxzSr4t1DT+S4VBSo4Y4xAS4E5IkxTyQJTrTC53THRB0Il-YfTjjFTqVgjuYNSiV-lDEcI9BuZeZQIBYWAUlIQOjOikyNYeSWiCQIyiVgiwE35yTLTtS2FX4Uwjc-5MExFCB0zL8CygjPQLEYy-irS45WyDSjTIzzY1Q2yXDyyLZuznSCRgioV9SLTYyJxdloxRkSSXRwkvTQz5TCxeSnTMzo1W5pZ-IhYkkGz1y8TRzfBaUSAWstJOtutaBetAFowmB5AvYXhxBtSARmARt1jhRJg5yYgKh9yT5X8NQcgEgY5XoCdPI9AYhP9NdVIvz65hBgKRBQKEyfyJxCk6ELBhCAKbAEgvDHUwKGEILGAoLflZM2p54HAXzsScoNZILNy3MIifhDTugxAhw9A8yOQco+ZZZBZCKGB8V2KaR9y6LOjwkmKTgzSAxIKk9aZMxERHYE8-YKBIQAt-l5LnMB5GcAxFL55jyXTA96VhDNdmsjVeKOsusetakzYWFjsnyZyVBoxy0IMBjlZtzvhdywUDhDyn1VI8kukhZS5bVpyLVCVUpEVKLmAILuh6lCkPLGyNzGtXK2ShZOl9zYqvKPzxxyyAzi5gzlzriRz3jZKQSz9wqXQZ464y5G5yR0rXUtSFy9Byr+5kJXQvLXVaV6rGq55NE4q8T29nhyziyApPLHS8TXksKmEWEKy-45ERC6Z9KhC-MX9tchFKwSFnY6yZrNcaRVJSrIr0E1rtjsECEyg+SxtFrzctk6k1qIQ2SHAQ1dqrrazWLjrTqUUsK1LkdHrtQ2TiKM8PQvrMQ2SG9zqtq3lRDrTBq2K7NOlREhx0yP4TqnSG8hC3EtlGBTTJQHBFi2AViLVeB3FEr0bbS309BkxTUmUiqKklgybdL-lgrmzEUiaBw30KhCbHRibJRZEabNgfMr9nLQF1BZh6AZS1SZgGyxrlqpqOFGILrs0qSIQjgOBBqnroFXQoDuEJrWFIaCEQ06beFiC7Ku9QRBaEwhVVSuIxa9qRF1rnrKE+MWiDgTbhbzaDJB5DFIaBLo0YabbVaCExMMKQbYVM8B4UIRaLaolfTWN-jZRpSXa5SWTGQ9wStgjdTZT1TSyCt-omZU7Rb6gyIFwk67NUo8aUb+bhRyyuz14+TR85a0YXclF7FHFrFqQtkB1FbAEnaza9T4ghY0ZqDQA0b2bmbJR262aMb9A27+6dr6q0ZhKaQGLcTmKJLEzhNJMKgmapwR70q+ry7rThyq6nTCrRY+cPqz8atdrPY8qI6MyBK+SMrnzrTTTbaHTq7f0tl-IKL6qn7zw2SWqRr+7TSE6dTsDv7Zx87E6eThcvL11VJ-Id7MrrSc7w6wyvLXlAHwHgHkckHXagGWqUVdrsH46E9IG+TNzXrN1zB3Esrs12Ju6UH-60HiagHf7Y66HSIOS8G85drWG07rJiG1z-6yGka3EdhYTfozhETLgUSbg1UMTpI7kz9pij7xBHy70FHrcZDH4+cEyuLUz0EKhZ6GHf0v4zFZpcKDN8LjwhhGtdGiA0yDGHEfVyH3FI4cLbApRkLdi1EpkmY+BewzH3HLGOZftOKUy7H0EIKvGV524IKKgu4QnPJG7vyomR5V5YnQAJ4EmGFGKMgl7WK+AUmME0m-GN576AUdZT6yqxBNLCmAwHY1Q2SAEfwanfs5KGmE9eNlHvHGZZR-JexKmzjhRKmNLsFOnjH7jnxeMym75sYhjAdF7xLWLX7NC+ldxnGTJHrp9lmKbYl9B1mzYZm+9rA8hvyOdUHjBfAVnZjs9adoHDwtl3ofgcLJqFmWLzxDleF8aTJ4yPcMHhrdyvHEU-nWc+J2kNmOcgGhYlcv84Edn0l9BID6EwkIX3LoWLnYWYkhtdxEWy7Mq3CLHXnl7gWXthq8hKxrBtnMX-oZwgRLQJZyIqE70CBgQ6W-hArLTEUfmidiW2XL8yWPgcndKo9mXaXD8-mjAAAealllw-XllSrdM8ky3oAAFQZABQYDBiSRRGgUARrRqElFSl6FAA8AdruQB3kPpYXCoQ8AASNZNc6KpJJAml33fw-iFZPIVfPJVbVb4GkFQqBG1fIV1d2WEANaDGNcf06OJHNZdfFYjdtYjdNadYtd5bKZ20UGYeIY5POcgwOcNOlAZHFkpZpBMkduZEtcZH+fD31ypYdBkXFevy1Pzey3FnYsObmZybyewTvuv1SgwfK23AbYdf+W3DlYdb7cFtkXFdU1TeRtHW01xPK0ec1s7cWfPBrfMGMq1GzaDE63pEdVvPIkNf7qf0DufUuo5wcE2Y91er+rpjLZZFp0hYgo534odZuRRecyhdfZPYwpRrhZGoLZKVGWEdxZPCYYwd-owZBZzYrTzYyCA6LcPtBtLcnZ5erfNwA7rcqSHcztxMQ6hvKPbcR0JaWadPdZdP7bvUHY5PZbz0ASIEoFHfDxBYo4FIfando8v0merd-d8zeoXcNKXatBXdI-Xcw4sC3YrckN3YYH3YM0PYXFstAcIHfOBtoNBtbTlu0I4GvaJ1va9o9A46fb+ZfbFznr-SfdRZ-bnb-YA-w5bZA96pEZhM8jhKlXOCRKuFRIwDkYpkAvgpAusGQqIskUpvPgOJQt6F9kC8Qv-iePEBi4QuEFAvgpUDrPVMgrC92dkSkpmzlqS6C6CZ7ocE0lhW-nXAAQsHXD-TfZpG-k3Cq-ME3Fq8zO-k1Ca641YGfTq4JG-i7E667Fa-K7MWw9wAATG+pV698G-kmxAgcoqDm-kDBiJWm4sG-i3aa63Z67a7MX33lAmDyAOCGH28O6ODzjW-MG-jcE64sCmIqGjFNBWMfI8BW8u6ztlF6GWlu-MHu9AEe+WNAEfOWn+-MHe+LR+8VXmP+6e6B9ACLVB9AHB7MWAEh7+4B5xrh7ADe928+4AFI0foeMfnvQA8fEfkfPvp1bv0fYfVHzRHvce6nYDqeifaeV96eKe6mJXCeHu2epXzAGeRvPuJW2AfuafAfHyReBfOe+glieeYeJfQAVjpfGfZfReKgCRxfMfHyliOAYfVfehl9Ie4ffBMfzBl8LBpjYUVsCugKiuco-n2AUUxYi9QsOg7e4vivDgbffxiBCvPecpaA8htplVFbnelBeLAf2uPeUv-55ZEElgpL3uCR-fY+vffxrt9sY-QLpTR6mZv5A8AFA9k-331uzFIAGA2ZCoFvzAK+q+WES-S+Pu6nTvYBIAmvW-IBG-S-v5TvEpOu+-u-33v4AA5eQEfyHsfkftjzon3sEd32LtP2Ox3tgcP8WcdTH7cAp4YbPkIGh8hOfv33fkO-CC8Xcp3vOF3jflYhWApy-VPnP-f+s67EyWCh-4L8ClCpJDRLx2C-HWdEgLgGjCI5to8gLII7RyDMJCOrGd-toBwoEAhwmXIihZ18Df8uw4YAkJo0GL+AM2YnBsF4wXpiU3mDYGrNUCNqwCHetHHOO+1gHL8uOKA8wGQKZwUDEmQfEPkIGGp5laBT-JKkP2JQidnmrCPAZCHy6+8oYlAIENjDJbBkiBElBwPRmZLCCrk2wVzgwnc4IkLgyJa4JgD87TxqmxEIQJQFvhgh6gSQEgMok+xeM62qIdEArEsG-EXCEJV8PYKMA2tKAdrR1jGznJ2CVgGmXSqlB8EK4Ek1cU4EkF3hcVmAjcJ1uTSpYZRqAKICgNiVBC-lqA1AWHkcA8B6A4hOhI1oYSNaGtewEbOIXwKJS9ArEZrYEGCzNhlwhoc5aNsCF-JoVGhgOGoQ3xMDGYrm4geocARtZ9AI2s0MIR8AiGc0Xe3-VoT6j-KuCgwBgfou4nGHWgWAkxJJFYOkSVJlhNhYMLwlMIulKYTMZYRkR1A2ZfuY3WRMsKMCl4FYZw9nhwAGBgl2yrvLIYUlNDmhbhtVAevoIygXhjB1kMwconWHRpUoegE0iG3OQsh9heoI4ZyBljOheKx4WuInCUhnDkUPmQwn0I8DzDXAkxbcKlSRGJtea4bDwZBy5JE4lyZcFco8NhxTCAsRrDwRiMWEPDnwOIp4fuGNaQiLAYYGqD5lCqwgWE22f0AAiSQ78iAk1TEQ4J2FZ5Rg-wlwuML6AddWaTMbEU8NUxnChRtQhYSQFSw2YiyFQkEFKLyJBgAA5B4KSTxsjRWozwcCAtbLDfs8w2+CQDnJ2iAe4zD4jImdA2Ceg24R0SUOfTfwuotrI1LazyTDhew-YGDLa1OLBpjMaKHkd4MchejVM8Y93sKNYSiiUiMoz0deHtHcddwiY20ZmMe7wNxAoA8AdQEgFn91KvsL6OXCRRdNgRZydUmMhsK+iQRJEABKSIRGy5vkDAgFOLGLGVhSxwgZhGyXrhViqwzQ-yt8jFFjlPQdJRse2W-iDAKgRIpMPp0nEpE6UWA5WI6LnD3kvYI4zKFWBrG-osKE5JSHikXSXVEmVHSNnRg5IJgVxMI9sd6RZB4oIsWfUcR8ClD7kHALvbcTGF3H7jy444pFL+1UiUDyIOhDrjYURRNETgB4z8X5UvwKxKx8E30JMP8G7ArxHJHQgN2glwTy4aEtCikXAlKdMsfYiAYOPLF8RthqKLrrCOsjQcasmkciQOKHH+RAJh4xUUUkpRTiPWiKEiYyB34fjCJySfuphUlqzjJxi6Exp90XGKcpYD4l0K+IWoadfkO1H2NITA4Whowx2I8Z0KyKjA5xjg3FN8nXGKtdcPsMyleRvIhkK4tlayvgDU5Itzi1TVWi8mdGU0wqpk9shSm8kCkpOcuXoJeQsquEyRdkjGM02gROStJoYy7PUFGLAwqgOgQCHs2+RdMHJNYzLLFOHC-YjQX4qsDBnqAax3J+k7cJFPIQgTCxT5UOrkAipy5bm96OToE2KBMcuoBAEgMrh7glI5yJU+doqjfznjNOaGWuuPg4Cu58cWzSyQkR9wAcl8AedfKuiDz0dGA8nKUC1NlQGZ2pYKKgjXneGKA5yWBZHLjmkoB1aCWFLyYoF+qGc6YiKOgPtIeF4oKgd0ucr5MuknSaC9uCTjJXaAbjP0-7Kls9KRRVTxiToU5O4UAjzdOaBweDBDOW6+gDgzaDyQSU+LQzaaoAWGdGHhl3BDAaY7PIOy7jdjsaKxEGQkDBkWMMZUMjFKDPEgEzPa3+CmVKARnBCI4YQJkKBQZmggYZnwOGYzMRn6SThqMmwgzPeDYyMJMExyKjMJmw98orgNmRZG5mYz9AwshGYYG7HUoiZjrCYhZl5BdwEk7iEmQThAjggI+KFGId9NqRGzGcTsVoE6AxA2zSZV-RgEuOZn6I+AlsmcNbImJ2yJiKwqmt7KdBoz6aApGWSwDlnyRIZ+gQdlTNSwMCNZbsjQFbJJn+zSZrke2SbF0HPl8WkREOv6FGa+CBU6MjQFQRrpiC5pf2UAhNPAL5zScr7GBn7lGlr54CS0wclnJnwFyqoxxQIgKUSyuBZgRRQ-IdLPzHTFuRc6aZuOeA9yWAfchokoVHkdzi5SM2pJe0yx8E+iN42ib0X0LNkjcnqRLCPKxA2FtClDZsm-kSzOF9RDFHvMhFzkNg95hczua+xSIIpsiGgIwJkWfmjAO5aMyeYEHqKKESir8tWXnGfBfygF9mBOVPL-nJYmigCumc+m3CgK4F0abos2U3kmEqpMqICMkAmCzBspiIgqXFLEAVBtxd87cWixbpy1+5bcMisQA4A-zp5ihEhaPLwVEL15TfaNGQtrn6SqF2lWhS8NXlbyXCQcyjgDhGJjFo5KWBotQqUplMri1ge7N7FnmBQsObwboQ8LPllMxUns22Xqngx6o+ZWnMQe3TFQJo9F3qTJvpMVqNyN8mNPWjyDdSAIqpCivcXWkTBKKs0YgvVA4BgUiD+ZDhT5HqiMCGFBgDivVAKBGKgBlWAACUSiUAAAguAHACJQAASsq0gAAB5EfsgA4Al13EvrA-DaSqw90lFvchefpLkVrJAIXsEpVPLRlaLnFaEghZbXoUYStFvEQdCwt-C-Y2lPIQpYVMOCLFF5kSmJfEsSUpK0lmS8AN0sY4NL8pRSgZS0q6ZaKk5ziygK4o7gtKQxTS+IPtGjluw8l92PpYQsHj0KylAHA2fHONmttWMHclEMsWDyYLvoOCo5d4luVtZYYQ0KeVQQYH5KZULy4pacoSJbwIl0S2JckvawAAZRKNktWI8gvmZsX5Qd2CBCxAV5CgDhUucU1LAgdSmZevi9i+hkVWKviikR6WDpCVCXUVIx3aXHICAQsLxqCsoDgqoVUy5ycKHqV4qCVVgFFRAuxVdMDZTA-QCVmWUSLVl6yold6OpQOwrAuy+2WGAYHCr7ZfQOSVKoIAyqJiYYMprBUJWorX2fK6OYbI0Au8SswQQHsHlgo8xNiwQYYDyoYDfKSsiKmlWdCJVUEym1YeAdYEdF6AmFnywIHPm0WpY9V9sg1VcugEEgdOKxENPyuUDgyFZnNNmHMv6WDxvVpShImArswaytVXKr1fmOTI+rbVQKzciZ2jnTMFyRg-MdmpYA+oi1ackufPz3gxAHAJijKYmN6ClUy1laxyubNAD1rGA5WQPDYTdXpd219oitfaL9UkyMJPalkOVPrKjqGe6hf1WU0RDOLQUZ82saop1HqLX55w7EMqU+Q+K9ZpbUYq0H+UXJZgmKzpeMiworrgcl6tLFsi8UcBRVSmNxZep9xbJ4hZ5H+p0v9UX9yiCqr2Xqi2XzKGAaqp0J2pT5CoE0wGxNWBoSDWNn0iKTpQsVh6frFkF4H9ROrElns-2AiQYseusDjB8cmKt4m-QK42qHAFxf4NcQ2Trpr1eK1dTaqul7o5aj6p8lUrWUvqNlTG99XLTQ0-1xgJMv9d-gA06LvU-TaVSTIg2+ADssGcTScUk17KLOiKK1YqlQ0BB0NjqxddhtUlP5x5n5ZKVpqNSnqwR2ysQL7M2KXq2FtWCcIZss1mbiVzZPKSZqyEOaKVzmzpa5pA3jIwQRqKoA5rdwXq3N66WbLgATXHL26DKhJUktSUZKsl66KLWMti2TKHASGhzShsB6MhwtYtKeh6F6A5ZZhr-OzVYBuIaFAsBGrTcRrxWlb+6oWqUMiocAMqmV0KhLSMua0wqVNVgDLZjyy2Or0KVLfLZYicVvAV2P4baOBQCq+zPik2kJlFQvBjangsVLptuBm2sqPYZ0ebWIHG1lgJxpSdKWsx9hVChkI2wQRxFeDbbjwS2oZScNW14awkc2s7QcAu0BhJty2kydUjW1BANtj257btrNn-oDtH2u7bknwBAhIEUoT1a9qGUrbDtFKyql4iUmw63txeWHblMKQJAKpUO-Sa9PaTuIxttAfKA1S21PBhq1an2euqebMJWEC2gijTo4FoyydToFIvjsJ2dI6ds69nQjUjxtrPVj1dnUToYC-b+K+I5BRCyw0ChZNfQP0b2B535immW2gnXxXhX6J4s20RXXoFV0k7x1xainSu010EV9d9OmwsIunEhzAB2YdmbGsFWsZZdlaq2gBHO2LbDdz-bXWnLwI0gNZqu9XZ0md1CxfdwukSmLuLWSRJd+WkgLa1t32iAEXu-KC-zNiSAwdEVISguonWBqtZlyo1axnDVsiSMqwpYJHrnIJ7wdw6ucn+TTXPo5mYi0iBIrYLIjpyleogOIsVVEECCxdXhO7rDVB605WwUPUGIj2lrHRACIvcwDj36JvYQEIVIjsuldNdq8O6YFPu45WhJBQfEuLIJ2JVSWJZYlhu0td3k6hlFyo2Znss7LyliJWcffEIiqVZT+tUsqjvvULl7fARQGnE91vrmSn9snayYlw0Dy5Uom+yiY02DRuZ-kDe0YtXub2Py3MbenkD8q70+ye9UG3oH-rYnOZ+9yGSBCXoARIGqJP2HAFsiSB7iluYMDgAAE5eAcWV4OlC1oSL-t5BhLPN39XaBXAGICoHxXNxYUUZxsc3OJMVTiA70nADdujIoPzc9ABog0b2DQASHpNp0z6UNPMCEGHhYId6QSEIMMHCo6IA2a5EvziAQe8TKLP9LkNCHluqhpg8NXwOPbKDmq3AECWKougpwfm3fQHK6aM6Eg8BupoCWW42HUD-wdA4Pt-JWGPD1oK3KPuVgoTy4JeoEQwFk1hYWA9IasG0LI1iC94DgP8XeQWB7jQjh4vmB8AiOyb423ADVXRu0yExYj1fa4UGGrDMsrs5ueQ192Wgg8MjRwR0U+VyOgA6j33DASinkN5i7de8TYDFhBrRZSMP6hKWiAmDJTOavRtLM5vGDGbPNHmgLRrEmM+5SMxRvvKUdgLlH+CTAMMF9MEN0HlufQNo3UYnAObbNKU1o0cfaMP5DKjeHDTSBqOXGQeTR3hUcEeNXHOjhhqg4qsjX6qj9Wek-RgW6MjqBKV+-8Dfq9Vz4FiGQZ-YDyPJqyC9EJwBKIsb1gGvZFqfcGJP03jhHqzIA4FIHRD5RZNHiutckZzX-i0jHE7leglsORHDsNrfI0nkuoPadOYaecmgeYDhG94S45E6Af9Wk01iSed7DGPCOgmmA4Jrk7sGZNnNFU0J3YLDyPJVTzVjq0rcQpzWArOFYuWtcQGAjZhZgJqjgIsllhA5aVayGrSFrlq1FWEvCu6n+ktNQLD8yar5Z7So1XElIOp5kI6olVEoNT9+cpcgWkXkUV5ehEwsbv1rbyB95a8YBrHdN6nOUaskA03q9l2neFesho+EYNHZS9A7C8wAAB0sAlm6NRYwSl8AjUkxC1A9156f4BMYhoMKsY+BYQ0znqjM00qzPZm8zBZqXFKGLOlnZ5owMgGFkvw+pGaFQAAF58ZczucAVdaHyQlmNR7+n1GOarNuYaz2kGI0cywi2ZogD23E-iZ6AZnCzXZmcz2aJ7yjPu1UbRLa2oC2sTCGwA0QeB2CNny1+5zs9OYJzHmKzzfKXbazyCXnrzGqlcyOCAA')">function apply_a_rule(rule, query_pattern, query_frame) {
    const clean_rule = rename_variables_in(rule);
    const unify_result = 
             unify_match(query_pattern,
                         conclusion(clean_rule),
                         query_frame);
    return unify_result === "failed"
        ? null
        : evaluate_query(rule_body(clean_rule),
                singleton_stream(unify_result));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p31' class='permalink'></a><p>
      The selectors
      
	<span style="color:teal"><kbd>rule-body</kbd></span>
	<span style="color:blue"><kbd>rule_body</kbd></span>
      
      and <kbd>conclusion</kbd> that extract parts
      of a rule are defined in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.
    </p></div>

    <div class='permalink'>
<a name='p32' class='permalink'></a><p>
      We generate unique variable names by associating a unique identifier
      (such as a number) with each rule application and combining this
      identifier with the original variable names.  For example, if the
      rule-application identifier is 7, we might change each
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?x-7</kbd></span>
	<span style="color:blue"><kbd>x_7</kbd></span>
      
      and each
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      in the rule to
      
	<span style="color:teal"><kbd>?y-7</kbd>.</span>
	<span style="color:blue"><kbd>y_7</kbd>.</span>
      
      
	<span style="color:teal">(<kbd>Make-new-variable</kbd></span>
	<span style="color:blue">(The functions
	<kbd>make_new_variable</kbd>
      </span>
      and
      
	<span style="color:teal"><kbd>new-rule-application\?id</kbd></span>
	<span style="color:blue"><kbd>new_rule_application_id</kbd>
	</span>
      
      are included with the syntax
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:query-syntax"><a class="superscript" id="4.4.4-sec-link-4.4.4.7" href="./4.4.4.html#sec4.4.4.7">4.4.4.7</a></REF>.)
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rename-variables-in rule)
        (let ((rule-application-id (new-rule-application-id)))
        (define (tree-walk exp)
        (cond ((var? exp)
              (make-new-variable exp rule-application-id))
              ((pair? exp)
              (cons (tree-walk (car exp))
              (tree-walk (cdr exp))))
              (else exp)))
        (tree-walk rule)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_18_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwGwKYAuoATgK4ED6AxgPZkB2h+JoAvKAAwDcOAZo2qEAlrQagG+AO6VyVAIYAHRbmHV5IsZWEATABQBKUAG8soc6Qr4a9Ji3aWqdRs1YBqUAEZeF0kTIk4nLWznYkvAC+WAIMQqLiALbyANbWkjIAbvIkwvIARgR6WTn5BAA0jtZKKmoa8do6Rqa+JP6BoIrywiR6AEQA-L0Vnd16wZTVquqaDA0VhF24Rdm5BfgGG5E4IKAxcWIAzrsktAkQMPBIqGieaABM-IIzoMIHlAf4uHyU+Fm4ZHUGABzPQHQgJQhNMwWVqEALiV6UBhkBJ5Fig8GQ8wAH2x0N8BMRYJywIxEKMoFx+IJFkReVotAI8gYZKxVJphLeyNwSzB5K20Se8RebwWQKB+B0lFUYNZ8wAFtYxVCWm0EW8Rj0+ViAGQ60CK+T6bVGNhm0CERWUMUCvbPREMeQJfCslUwtUi63ycWS6WvQhy0C9R3O3oGLZ24UHACeqMZlFo3xDLpNJmpsPhBvwRr0C2EvMxmywUUFsXtb3kBwOwiBDGdTFdafdcPaiLFEqlMoD2oqvUr1dr9cIYYjQrEoH7Nbr+CY71j9IL5Kb5gz7UN+jzS3XucWro24eLpf24kng5nhEofzIKcLy78LfE283O-ze4PJcj48RdAYYOZF50fBqFwbI6jERtmhXD0229Ds-VlHsgx-P9Z0A4DQJmEdD0-cRkIWVCgJAkgwNmGM40XLFIPvTMn13WjXxNfdRzLYU8P-Sg0KIkjL3kf4byXKjV0fbMN13Z9GPfI9yx4ko1g4wiMPiCD8SEz1219LtA16YpVioTjFLELCohw0AdNKax9OImY53I5TmxokSXy3RzxMLJjsLHcQzLkyzuKvfjKJUj16KWVzySLEsdgAMUgAANABZABRAAuPwVHkah8CDHD5L4YQGGETDQCkQr5SDEDUR0eReiwHZ5D4VwLXlV4RQOa8RQNZkdAIHRktqsB5UIQhFAOZKQCBUqyDyNA6ASYADnoEhMoAWgyo18ASaNgAAKwOZaDhA4FgFeNr8AOYAADYAGZsGiuKktS1oEloDIsstLKCloahkmOU5QAqvIqsoekdGjUAxEypr8H6jpsg+VgpGIkaodAEGwfyidUdwL6fqkRVJFe1hJElSU0Ck4VEQBqq7Kgh81NgjT-S0nLALygrMMkkyqfkShOmI51XAOGnqPaJJFFBed40TJEnXwCoQrfZjj3+p1AZ5tHhdUpJUmB7Hvr0BWwshdyP08z0hM16DRQZzsmcQ3ohPeBZmCHIzyfHR38AAD0UVoqyU1NBOClzd0Y20ze-MQdEK+JeJ+H2-ercDA6CumYJ9W2EMxCpqQ5Aleh-aOZjj73fbOpOGDdkzC-j33edaY1byDumu1kfA+EDTxObNmvS5IGxf0tlv-TbjvELubuWPHXuE4mXBuyb1PM1b1ox+z0Arsk931XefAAEdr1iAK3RFnf1MzheIV7D4D5nTKq7N7XrBvw-MtZA4T9UzTehfu-8CGUA2oP5K2eL-I+TsNAbXPELQOFgl5rhDgxNyIDhR5RIGCCBLtzzv0-sHHMQDJ7Kz9heP8WCmAwMxB-O8qkjbAI8lPHeG1FCEGjLvW+R8cHUKtkiCgFE6HGQjm8ECGDSFQIbAQrhacuS8KcjgreJk6R62SMLU+9MM7wUvoQXsn1voPwYaAJ+uscZD2XkzXoOjkgAJNCg8cFjga0FBio1SCsw6Hm3p6SYtQZgmNbNbdRml7aeOmPEPRyscp93LgHRe9kEE5iNhFdx2QgQUIEvA4ScSxKhzcoQ54DBaATBIMkvQtARq4KkTwnkxTSk2PEGgjBSSqlUObg5HMJT+HuOIQUopbSymZmfD08O+jETFD0KXE+qj05wU0qXXsgwt47BwkcPgJwzhQDgIgZA6BbieEePo34vEATMEDDODIvTfG7y+D8K8gIQQmlzgSfo5htT3N8KlB0stXQvIsI87GtBkhkEUDZBcPE+IS3IgmJMHyTQVBOQYL55g3lvDYgRdCVkonknhaAR5+zcADxQgBBSaLk7r1hZixFMldIWUJSRT5edzDYr+BS8y8lUU0sQqSuloByWnmnOIwsmKGVxx5UOY5DBTlks9IXGOYgS4J0icSjFnLBW4qlcXXFET-YKq0aADldLyXc1pXSx5hicJ6G5rzUCAsWApMhGUTFnKaTmo1tC+1DrfC6rzuSsBb87lKp1Yy71KZ96v2fs7MRhAbUGBhWKuFnLyUWMNXnZVRj9bspjRKxEFtfVGv9XHLNJL01xo8coKYbL+V+smNGUZ1yjnhLlZqlk0KdUxrtW6x1I9pb+SFkkyN0bTmxr1TqkgJwtTr16AAVQYMkPJUhxAxiYPIL2LxxA4sOfgZKbtEklqrTECoPaT7CD4KAPQiJfbCASDHV6lBTUxA2HeGJJ5t313PZe6wN7GB7sKXQiwEQdW4A+C8I9J6kWnEULYKU76GB3qohYPCfg2rzwcKuyBegcoa1va2ttDrvbMAYFKE53QxAitdVhiwOU+ay0FqhxgUaSOkYnF+zD9GHXhLFYR3lAZb1FhpKpTNaoQXXjGGdCgkISOPMdv5AeuGAx+xEwOh1qVGCs3ypKHw5hf2fAAzB8wLAR3UYYL2Sd07aCzt2GbFhigsoY0rVhH9biuYdu+F20ZPsDh9vGaovJXShalw-vCx53JcDwtSpqatByUN1IvA03zUbm2nKY221unaDlnSE-Ur9LnSnufkWbHFA8i6x3VfWiuorTn3t46KcgLpkNHJnnXMujdyTZftcqtdeg6v92Qq6dz9rUo1ZdB1uemjYuwsGcrPLgb37ufvYe49iImEsLYSGuR97VR0yU+3FTOg1Pqb-QB2bwHpSVhIWGkVBCPMclUv11D3QRGnewQQsoo3qQaf-VlbTsHDjEEi07CEAmsocFdddn7oizuUKjc9vOB2+MPn+zd9BJ2-v+Wg661SIPMT-Z2wSV7WnUcegm8Gv+eg6NQTu5AocNqP5PZjVj3wUQ6duLg4wHlkoHCGHYAAPgkLw3g7ikvfGZ-7Wsko9DJiaembhgXReyz80m7nPIvkha6D0QXA5JA6AqPzygqupwi+fGLpiABIXw9mzYHHULMegBLWUzEjTNoDRJCccMYqtz7v5iBAIcIGzB4bI204fZ6BbrDJsENdQF3hrrUrVBnMaC3CYyDW64rb+HZOyGaI-rR5jvhzfMnj4ngyg9DGTZJ1n0nJ3yfQLkdxn9e33svIq3i-C+eiWNvLW2n5TNkXN+4mRBce46Pku8npal3js1YY77KIfVKbf1F74yfv9HUqBax1EU2ezGUJrTWVmDcG0YODsc6wsWO4N614kcDgOfLcJ5ZUn+IQs0YHl8Ezx0Qv1fn-+o57XL+1ci9P-+x-Ae12aMCWbqOGMePwbGJwHGZqX0Z+FQOuwuOgbmcWCS7ieW+aV8KB5WHohiEmKWxOpG12nsxW6KtqJeecsKOW6+Qqr+YOmBsK96cG-kSGNaLowq54cOTakOFgPKQK8Y-keg7Bs4c+FEsW-k7mWOqk-kY2zweWU+N+BepW4yvBIhcO8hvk1kIh3WXy126hI+9QAhXBLaOhNOxYcCJkeWXeChLeSh96KhksuKAhVhGhs+Dh2hFBrB7WX27ELhWghhhY7mIBFgz2kUYAiyv0qyFwGy1wtwV0uyysbYVWegXs4yqkS6ZoHAhAVWMhwoJqnkegFGVq6CFQwBWBMGX8Zis0YGSm16nkQwJehRRA1qJRDi0YEh9CCRIGCQ1ReGtRDCqGqR3C58GiqGvYVR4GfRx4oSzw5GlqTR6CAx2Bw8GCq8oxXgOSqCnk9ijifAgxyxF4qxfAFQE8NSZmDCEBGQ7GIquxSxpiKx7caxm8OR44uB-GThYg0mexdxAYDsbxKWACP4nxpxMO8IahKWXx5ywxmk4hQYeBfE0xwocJ14Um2CyOtxsSokr4yOVB42sQ2M1YwIFxVx2CDB5RHoz4IR7iP2yyHypJEudM24lJFheJtAHwwMO6-McsZRJua2mYoWNJzo7RUQcG70Pw3Ri2BGUBQ4Dgy+8RzwJqnJYKC4yBXaEJ4goWIhKpKW7SJkApz8DhQsepTQPJAe24Rppxep-2hpnJxpcCvJ7Qz45ppueyXsuG+GkBRGD2BpFQfwyBeQlY1gdJ9p4gBAwIloSpjIVCGR-0M4QI4Zvp8mcuoWCpUK3ppkZ+sW-pbJHqnqMZYZ8oEZ-+oAAAPHmXGQWQmWJkOnpr0AACoMgGLMhgxJIojQKAIAo1CSipS9CgAeDkHZ5ZH5QTR8BVqalGAeAAI9l9ml5PKDnAiHpVoJmJmDq6a0A9B1kNl8DSAMZAitnkLtklrCBdlBi9mgD9kWDEhDkLmFlUITm9innnmzkkjDmLkZk4nPC-L-KAqqGGEOHTYwbMkZDSgMjixBkcgmSX43k+kZmu48aS4yJjnnnYpirAUlIEEzk6YskElAhElSkkkxrLlYapQiHsDmjbiIUYWPLbiVkYXEUW6yJjnzC7hLn+7qZfIHYnKkWZFWhB64WelMAXY0irlah-lBiTr0hKaAIOHdkAE0g4515upwZ6kODUmKncGcqqSQWWmamoY2lBFZ6WnOZGmyXY4vb0mZgnKoWgWmFr7Kz2Hgq-nkTQW4D-nUiAVWWjIxqwVnHKyQWanOXi5uoN5S4UWkbIVAW-LiyPl3z4lDl8XQGUEl7EUOFcVZj4IGmEVuqPIfAXjUVwHpm4CZUKaAL0XiQZVMVYlvmsWgC-rsVAacXRmim8WSn8WBSgHDprmFmGYMASV4ZSXkTLoTi0HngbomV0617eVP5fbHCywqW3YXh6meWnLVXBklXMi6Wyx8H-obXOiZ4YXmCGXak7XrBjV2YM6rWWWRVLXzJhGeRLIrLnDrJXBbIYBykUwag5AXoiBXqQZnJnw2wjG7pBhnpfXCCvQInjgg2vraDdEEBDg0q3qSItKYlLBcYChwZQ3fVvp3UOCaQvLfzrgAIWDrhtp7UEjfybhE3mCbik36XfyahU2wzdC0341mJdiM1dgs0cjfwOi8IAK808icpk2+DfzRwHDpTRgAJi0S1C101mLCVU3CVurC0WDfxJCWgTB5AHBDDq3yia1HB5wq3mDfxuCM0WDJEVDRimhc5LoeBgygBG0f6yi9DLRm3mAW2gBW2c6gBLrLSe3mCO3fwABUbtx6Xslt1tPtoAQd-tDtctztwAodHtXtbANtoAYA9tgdZiAApEneHZ7ZHUutnbHVnc7RkWbcnYXalVbfHT8QAIRmgV350p1p0N0cA12s3O3Fl50R3e1LqlnmAd3c1mLFlsBu2V190lkcAF2119Ac490F2T1c6D2l0-Ec5j0VAEgT2p1R3r0r2z29B12h1R2+A73mB10WApEvIHgY2fXQ05SansBfJiwGwiTDB31Y2TG2433TWY1g3Y3nG0B5DbRAQRpP15wv0xDe300f3-0AIKxcaO0Eh-0-V3UHhYC30vqf1d7v6aTfwbZsySgAIENbZIP7Wq1mKQAMBsyFSS2b1UM0MsJkPkNO0-G62UCwCQBU3sOcPMPkNq0aB62JSM3sOJR8P7XfwABy8gkjod0jkjRVLDP97uHQsDV6Vhj9bAz9SgqG3tZpsWKDIQ3h5CyjYIqjWD-9je7EXa4DHIkDejiCqNGw79Fj6jxjEa6DJklaz6oNqD-RQNSSGiapE4T6+UX+gEJAuA0YcV208gWQ5uOQzC6FWGhjMNKg4aCNNG+ldKgTXY4YBIzpvl-ggKLV0BwTYBvRpTxGpG0eeGBRajADx4W1yBj55gqTGj5VJOtT+gqTOUQDIDQgLT+17T7jVp4jFgTV4prCVT54W8IpVoQI2M-p6qHpHGXuxT8VIq6DCyONyyf0aylwmyGAr17igJxEQglAt8YI9QSQJAyiU+wTvNqI6ICsDzGwXyVFjjsibz45QYlAU5gCc5L5r9GSlVskBA+4iuaVKNyw4LJ1pxs0SQu8FGzAjcz5gVAeGU1AKIFAKGoIe61A1AkdRwHgghhLqVvQPZjylLXKQY95HgWL4zdKlLFQl5wIOpZsZcQ0o5QLn6ySfL9cRATDJghu5l7QbLQIp5vQfQp5iLPMHwKLIuL9gTXLLCfLGeUrBgvQpxqrrCrgCQghhSjz0ilSSSRV1LgWNUuZlMTMZroAeoWAxuc2JroUu4ZrRguI0Lsi7roAbdQYcyHzx624dr0ZAwVrfqZzGUF4Vz1ktzyiZrvWzrEwh5wS4EdrDrTrvg7yzo+mTTGqJW7rcKmb1LMrHgur1oLABrwbGWhbD5mb5gPZALqh0syYub1k+bSkPr05bqjbp55b+rILMLPahrQI+445jr+cWrE7CKqjQrVavQ7NfL79c7FbJACQ7z1rGoyuI75rs73LfQDNmuTM1bo7FVSw7ry73Lq767jrXqQLO7gbvQAA5AC0klKy+7e4C8+deWazq7CItrfCQFWoB17WSeUlLs6M8z0NuCB0y26t-F1JOWuZOXksOL2P2CwGh7CVYGGO84bo8rq4O3oLB2e8R9eEBwY-+3q5W0VSFlR0RyRxaLuIx+W7B88eILE-E9QIkxeJJr7F9OXJlsa8mzUKmyyGMoGwhymyRAAnWmXA2kJ9k3Yzo5x5WNx8IMwv9vXAJ1WOq0JxuxyOSq2xJ3Lt-IMKyw4RCjLDm2MrRzqj7Ox6ACB3OAul7Np5lFWEJ-bkm0EjSrZ67kpVsSRYDnnM25Cjm3J4nEpLZ-7rfTpx8FKD2g4C-c5-OgsG5-xx58gcOzF-cmjkFylaGwzYG6FtuJl+XL6PuvLF8+V1WJV1+pC7mQ-YV+aAu-6OGzSARycFl-V8klC81wNaG6pwkxp7x-8SV9uwNwuEp+2rKMN+p5p3x914Jyez5j7GO3Z-yQV05ao-F719+jXpplZg7lyLSetxdhUc7eZ-1cCi22d4oNXrtkd67ldg52ZbZc8BZtVut+iTvKFiZxyJ8zmADzSH1h1T0DMmJVOjOiuiQV+OIF96NQix8ZXmMr956P9+t4GxSVj7mcJZlt1cZqZh2-D6AICdAkj4U88BhyQNZIQPkmiBMDoIBPoGj2B30tGJZl56GzT8OKcUaIl3V7T-UBrGz2K+kvoOT+QvpwKDsCUiwNxAsGsMMAnhOH1RKIQDDHs2cNQPKEoI1FdMeh8MrFdGgKb5vG9eOP2F9HoKkG0X4HQCQEgcJ1Lq0I787y1qACQ+rom8GrxLb-gPb9uNuG72uc7wZw6kD-oKH077Lm6lHlWDb3b6RzH+H454Ykr4UOMifrAbipnwDqw30EHfnyHSZVzAyF+QH6wp4BUHb5QBPN5XBm1HkPnw4Nb9QFX5QDX0x6+H-l6GsI94SEBs3639Gd75KIJQSKpOP9tl8vJZNW7mY6n234nx33X3cKRyP+ZIP1DkBsv2P3hpturpP3nNP4f4Q7P26vPx9hpeSbuKn6dXJXP2Zb4Aor+Jh5393+v85deJP031NKPyGoLQ1+gfLvqRz7758d+tIYfgAPMipUZ+J-C8kQC9C99c+-fcoK01CyaQ6+3fULN-wKq-84ODqZ8BAO35QCnub2BfuYDgz78gBSfUARvx768hYBA-R-kP2PT79zQCA13PW2zzIDxILAjAbwKzyhY8BDAn-usBm4zkBBLfMgQeHrbX8S8OVFAUsFT4SC2B51DkPTjOpkYzY0tDQLrz0DrtvKWsClp+QBQdcsq-0CvgChJypQzgobfKPDGHDkFHkTgzDuQTB56YEghPGHuDEswt5Bq+fDdCvnF6gB9BhAXXujWmry8W86Agvhn3MiGBeAcGDXg4FiGK8khC7GwYoCwgY1VeHADIXTyyHuDaeWEdxIYjyD5Ro4pIKfOoPR6hY6hBA9YKcSqF4Y4qU+PQG0JqGjt0e24boUOQ2K2JqhHQ-AgMOBDBNnw4w0dq0JGGEkwmi1JoUaXR7t9YWlKCoE6QEQuk3Saw8yBII2E2kGh27SoXMJBBNDkcBw2WO+Qpju5-wuQI5JDz1LwEeqExYoJQD154YCAJAcZNXBKRVoxeu-JNiMn8438CQu+U4fvlOHaBZgi1R4TaRWoB5ph8A8-lthLyPJGAvVKUG8I+HdR0QcIq4UlTJ5-CuhUIgQtMPIE1UJq0OLdqMBBF446YoWOgIoCrSMlzuFQJkVWhx4PcKRigoKvjje55xtBbFVahyKE6OdiQ2YBICJ3AKAQQI0YEXAcG76yj5A8oqUAcAb7s9zkIVLuIG2VGqj3gdwQwFC1K6ORFRcHdnDvQlFOhpRvRPUQqKyKSiVBoILuFIJYZ5w7RaoieEMIRBhAmQV6D0c6IqAeiDRLvBCjqLlzBj1RRo3MiaPwQuiScFornPlFcB+iqUcokXJGMNFEC6UiYr9o6PEhdxUCEFB0daL4AgRwQOjIGhi1piZgyxGgXDE7FaBOgMQTYqUZAw-SAIEkupcsQ2KtEGs+xoYypAOMDaBYoWyYlgKmPkjpj9A5FEseu1dHu1I6dYoaDOEbGSiWx+YrJK2JNiW9YebpbQN8GQj+hUSKwPYeEI0CXDdqjBaakiI4DTDoR16RUksPhFhDbxXAlET7zlwVN9ATQqqNqiNLGj6xLAWYOrUMH3iyRpw2LH+MvEtCqewoToCuMCCUBQJBZBCUGIvEzUrxmo2pJyQpZ8BFgRDM8nLl6D4T8wRDKFn7yWBoTzxWIQNspXMBji3gIyBCUYEDbfiDxeKY8Q2GonQTMJ6wRiRalGAsT7W+oU9Nuz-G7sEJrgECQYILLPgWJC44gbuAkmKTOUUk4CchNklEcFJrTZjNuBUm6T6MxlKFiRIIk6BtWcE8cNhQID09SIc45IsE1Cz51cxgWa4dPEVDfQJgswXnp2yF4zAKgznaic52WE75pqKEtuAhmIAcB1JSElCWRxYCsJqJPksQDnDdFYZgpL41auFNkyIZQ2pEnqJYN8Dh4FcuZayUQC0B9ijBskiKXJkc5kA2S1Q72AUQ0DCcJW2klqW5PEAa81xzYu3l-0D4ajqQTfBwBryr79TowJxMIefnfHKZ1cWKeXLgFpYHBHOjUtznX0TDNS2qi-YgHbwcBlcWpkhbhCMjt5GBqWgwWlnbwFA2TQAtZAABKJRKAAAQXADgBEoAAJVrKQAAA8pI2QAcBZSVJIgLrwmB+S78m06STBOCb1TrAq08GcBN3bdTVplXUGYcDhmBA7O3U3iLimSm-hTimMnkCDOcFgzgmd0h6c9NekfTvpv0vGcgKRmC8iZqMmKVBnR7dTKpq0ygOtI7hMzYsfYFGQwH2hzjN0upaoYTMw5gymZkM9Hn2OvTliX6dGP8SiE5zkFdeQEZIF5NFnC9wICsnwbDEQkGY+JTLLcpEL1o4yhYEsg2Z1PCH4BLMeGN4OBEh7Pirh96EyA6OsBSBeIyidYN5WpEyRRkKON1BxQPj+8mhJ1KgVP3JLZFXUvI0jLvkhHtD5hMItSpDIRFwU6YeQZEbNMlCPlHk+Et7I+VSiuzKA7s3AMonAljCKRDOQ3NHNv7lJ-urE+jI8kLnFzlEjJO9J6ybkezZEJ1QkbnI+DVUhRNVMIR3JLlijLJe48Aoel5islqwawXYcrwKqSzQpKjW8ajChELCnxp4+eU6SzZAYkRfrbgaCLP4LlNJxskkfHJwoQTz5sWQyQSD+DJyiJh3SgT7JGR-BoM+1HYEHU-lfJwR58uOT0IfGLDeIycr5KpD3kzSj+WcqwYwGPlxS6hN88wGXNBTki7UhuVBQdRtKR57OOw84UAoNkr4qRQGQCDbKQIJgWQd89MnC0hnGkP5X80-h6FMlkTzJ+C57ofP5HYLN55QBeXgve67iveBUEcifMMGKBcBjAkKWEOUp5SzJhU75NlCkUUSg5VEkRbuz1ICTmJXcB+Z1ywUTzvgYGf2LPOEXDBRFGCzdr7MUAN82JrpbRVPL0WFAzFwwbvssPTpgBP5QdASaIPUV6gMe27Mxbu2gUCK4p8k+MftXkkTxVJHIPxawjillcglaUjkGV1CXwK6Uxk3MgwoKkrS3gwQDEBXgEro9JkjMLONku1QOwcO3ookXiXqlKRggwTBWFUtKXjANYVS3JS61kTPhalu7BDrgHdnRhKs14MMFC0Nj38rAO4rdCoFYQ8xMlwQAKeR0SlATAgUyhKY+KdlLyzGwEbMLMGCAOBWgyYJlGsDeD5QxgQy4-NNQiU1TcpGizlCcrimBTZlBmeBT+GAgVLwIqy3PFUrCV0oMpVww6etn4WsIcpUU1rvlPIly5RxePVgpc2mUHKqAGsZ5esqGVhKyptknqQaxOV-LUC100mZQDenjoAAMolD+kLTecupIGXrWCBmybli8sIdDOhGAQvYaMqDIG0RmH8vYvoUlXSoxnICsZsgKwELFKX4zcUrKkmfdMxU4q8VNMi8HTK5UEAyVes4JtLO6bJMHUrM+yezM5lsq3lecYpQQAFmtiwwikpVa2L6DXdNV+AbVZKNw6OdvGrK82WItWrSzlxcsrDBsp3rkFvG4yqwJCq5LWq9KdGI2cDKtXkqLZ4o89Ok3BUJT4pQHC1HrJglIrZVc4mWRoAdXgVcJzqt1HKuUAyjPgKokXGzHplizUZ1yqNQbPVX0Zcxlq7leGpmWFrjK2TbSnOMtn9ZQ1QHCtdGoHHXiVGe8KBhwFGlfcK1PMhtSB1swB4O1jADORAp0CBtqwsNawCB2bV8SY1ULYdSyCl4Rpe1LautekupXewkhwk7CZ6Dan7TjYlIbEJ6BGQHqixZuenq0A1nWQwmsMnGeMh9mrSkh96v-tNV2kcAVVoAjafeuqpwZsWw6DgjjKRW2Ms8+q9ccnyDA4zTVToQdTSEUAJ4q+6HPmdBoSD1E3UoWHGRUFzH-qtlUWPmTGpMrVzB5Ww3ypeusDjBb1TKj1dn1-o3KHA9y-4CViqVY5H1TK7dTcv9kcg4M765dDSo5lfquZHG39dNRw0cFxgfYkDcxjA29TA+vYYIChtg3IMENEG41QptdGhZJlx6SOqJtnDia61hGiajBlXy8KBekq6wGuWvW+SGZzM3dZmndX3rzlRUicMzzM2CE+ZdnUzTjLc3WbSlnmvmd5rzU2bqQYINclUHw2UaaVAWzWVBiOUqNGQua6Le-gxXkz3pn0n6eACxzJaXpqWqmfiow18ysNkdeLZZsOAmVVIvQP5BZJI3U8XNEyoZfehC1XqKNswWGcxqGkxDcAUoUlQ4AxVYrcVGW6kL1pFV5bt2mm3McVtJVlb6FlWjdbxR-DbR8iMWJpRUiWAxYLS81AeAtrLCZZqxqiVkdUg6LPBOk82p4Gt1KTo8uRHLIZG8F4pi0ttx4HbYONW2uZSlP2O7U8Ee19DHIa2w7YiTOgARXg92ldUtt3WXbSlkgIEJAilAzqQdYQ-bVduVgNYvE33c7buvh2+bCkCQaXrDtWpg7HO822gPspO1lhkCta7cctrm1iAgdSkYnYM2UWckkVULAnfsuO1U7TtXhBgEDqpz9l+1EKn7LToDAC7udwgzlGTslGoF4NPxRDr2F50JSASVOwnTFt4V3bFdegd7STrXXk7bNN2qZhxEB35F1ddOkcRHmta+jsw-ozNaqIVWcpZdTat7fru22G6PGmu8XSgppC5iVdLO-7XroOBc61dDuunW7tLxi6nQCSSXX0GQ4y6wVA6oMYDsV2eMzYEOlDD2hd2h6pZca+1Tox9XJqOc07DkALVW3R6IVSe1Fo2qrRVdElBIBFRVPsnGUi2OaavXZINUAS0FS+XhEHtf4M6BxWwcPcGFoBYdegtuuhhIHwCQ7mACel0kBATwo7ymnhJHdMBn0KhrAizIBiXFWZDhLZ83HjnDnUA8hU9xg3dXatllZ6sMEi3PVhm9hT6jkTgpvPcIGxYyYJxarehkA2HW0b5+PF-VDyJ7qkNAFC1KFvtG7-ZcOijOXI3qRXHUQDhnBaYpJD3rse9CG3oAAcW7-Eo94WZgGXoARIGxufEdBnBiSBudpacohwAAE5eAJkQgyqPAO7byDrwCWkiu0CuAMQFQILYCMOwhVD1oI+fgdnEDRlOAiA8wBQarRPsn2vYNAGIcU3jUWFrqQQ0RzBAVyLAgh+g4VHRDSzXIsWcQH7S7j9yX+Ch2g3KKUOMHkC+Bn3RLUtm8QulPSl0FOFC377gmsB+A1Ls6UqjLDk5IfQAnMPOHrQVWCfYjuW5Vgy9J6BgJLp9IsB6Q1YYVssuIB7wHAqXaMK53c6Cc+YHwQI5LqlbcBzV1IA7ITDCO0NfWrXasKGWHCT8ZDLtZaH7Vq5HAQOy6VI6ADKOu18mXyGQ6xwhV7xNglIlhQPIOxAb6ewMKoMzxFytHJ+pm8YBZq81+brN2xYDhSKyOhHWSuRv1j-DIlMAwwYcko3UbKNADAtzmlnrUfWP1HuA7RygcYAHlEbfAaxvY052mXwYRMRwPY2UYkO6Hxa+hyqa6mlmJrT9Oex8s0bDU3yb9dwlDHvEf3HpP9NxHev2jCVD7iOrLIcjZJr0GrXJ7kBnB91QQbbmQBwKQOiHyiS6aN7amI9Mpc7pcEjnnJI1YaCOq8Jy6RwfkpQ20SKvWkJwE4AhhPlSm964hE1NoZFUcAjfxpgHfqhO7AaTnJLDSCcjr9pHOWyzalPj2UshGlkRyoCJ1LQ3qdAMpaQGZvlNeJ6gugZIW5XMytA3ZncgEZdiOnZAvOYeRsjrHSA7LCgkPcYL50VOQHaWYk2kbj0j5M0egw8lud9rZHnl3TXc87vab6wCidBNYh0rqaLmdy2tJYCowEafa889AsSgADpYBMl3Ta0Pkj4BrkDWgWS2hHTvSkYRDQYbI6yX-gHgozM6mM35LjNpTEzyZ9Nb0R6Ppm12zU0YGQB9KxZ7eoWFs6AAABezjcwImYJApn6zGZooNme7P7hS8+Z7SLMY+BYQnW0QVE7+AxM9AYztZqUEOcbPN0j2ztaqNoknLUBJy5kjYE+wPA7BSzEKlc8QtTPXphzm5wvn2EnJ5A9zB53DpOZHBAA')">function rename_variables_in(rule) {
    const rule_application_id = new_rule_application_id();
    function tree_walk(exp) {
        return is_var(exp) 
            ? make_new_variable(exp, rule_application_id)
            : is_pair(exp)
            ? pair(tree_walk(head(exp)),
                   tree_walk(tail(exp)))
            : exp;
    }
    return tree_walk(rule);
}

</pre></div></div></td></tr></table>
      
    </p></div>

    <div class='permalink'>
<a name='p33' class='permalink'></a><p>
      
      
      The unification algorithm is implemented as a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes as inputs two patterns and a frame and returns either the
      extended frame or the
      
	<span style="color:teal">symbol <kbd>failed</kbd>.</span>
	<span style="color:blue">string <kbd>"failed"</kbd>.
	</span>
      
      The unifier is like the pattern matcher except that it is
      symmetrical—variables are allowed on both sides of the match.
      
	<span style="color:teal"><kbd>Unify-match</kbd></span>
	<span style="color:blue">The function <kbd>unify_match</kbd>
	</span>
      
      is basically the same as
      
	<span style="color:teal"><kbd>pattern-match</kbd>,</span>
	<span style="color:blue"><kbd>pattern_match</kbd>,
	</span>
      
      except that there is extra code (marked
      <QUOTE><kbd>***</kbd></QUOTE> below) to handle
      the case where the object on the right side of the match is a variable.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (unify-match p1 p2 frame)
        (cond ((eq? frame 'failed) 'failed)
              ((equal? p1 p2) frame)
              ((var? p1) (extend-if-possible p1 p2 frame))
              ((var? p2) (extend-if-possible p2 p1 frame))  
              ((and (pair? p1) (pair? p2))
              (unify-match (cdr p1)
              (cdr p2)
              (unify-match (car p1)
              (car p2)
              frame)))
              (else 'failed)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_19_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf26R-sO5xDAxxQIBgeAkFQNA8TQYkLke8wUgYYw2BkBhiFw9ziY+BRKCB3HklSdIFBYMgjEoaXwlAAAfTXjIFj4usltWZZibXddSFh8HwDghFV9WtZ1v0BfSTJbZl+6Yc4gXmDECRhAYbcwSlygdj6e41uxwKBawoPwgAMlj3p+kGGOR3ZUPvfdqb5bSD6vpTgbgc81Jvd9-3QVdqy6Fz6roaz6lfCVq2GHwEWq8+13ZYTbaiKN-lwrrgWLWoMQ6E+uhA97qjI+L8gfdqMudyDqyh5HsedP2uuV9H4hx8FhuLf-SfX0C7ukyGJP9B79XJg3+nzC3tfTr6jup8L0+7SvmW+952GBeNIQZwVGUGwH6mU6Av2PoXL2s9S4BwrqAcE-9d5AJAaVegNdJp3xcEgwBJhUFgL3o3Q+dtIFy0TiMG879iFf2-nXHBDAUGgJimjCBywT4XxvJ-G+90B6pHBhwBheCmHOFYbEaeYdYHlyXgg-hjVGFoLoBgj2HlZGCOAcIrKhh95W1ETEdhFCz5UI7tw2uWCxoowEfIghLD85sLfhws+XDv60wAGKQAABoAFkACizRAiEBAcof44Is6CO9NQVE4JQCOQiaoBBIClbCHILJPA5AZBaFIGnFIRcaT-GyeoEQHBhCNFpqoSglBCCGEaCAMQsTaRoFyAoYA7hEhBIALTkG5BUBQvhgAACtDBtMMCAtqwAUi5MMMAAAbDobAeA3FeN8RtBQ+BKz-EoH0UA7APBeCZkoBJLAklNXwMIXwBBHDrL6LTdcpAtLRIoJUtO-wLanM8iDLZXJdmOT6DUNZmSai1FqGgZR-NUgHKSbonGCZoFzz9nA6RISsFhOqBE5wSi67gvIAwG5ucMmGEhYFG42ItFEObq3XO3AjEx1oWYzFxzTkEsLgTbZygvDnwMR-M+1LnG8IYCJRlZCYWSMXkbKyIlBbMC0GvdFZjxXEDhoQQIbgRG2LEfYjl1CeVmL-vQbiqIfjysVcQZV9ABXQpnrCheE9pbcGMkURBurUX0ANQqpVhg0W3z5tg3VotXXYsCMnI+diyEBz5ZUeBeJPWwzeH7Q1pAGCUjNYGUNgQZDwNJDwsxMbfWKoYJ0a1xtSEJhTeG6ROgaa8uMO0HeQSk3ZxLvPeFoqEFVtrBcmVXrQAE1bTWvORswivxDeXcEPb23cCDmETNnbR1BIlVQYga98X51iMGruDi7TUqnbDKotyZwfHnWvV2A6i1bQvhOqNnElV7slQunelAl39qEtdLlj6t2e1SAuzQuIZ19ulse1dgYnYZGoZO0xnaBYgI+HOqVd6j1PqgQrYDl8X1-q1eB82nzIVQsAxa4VBarIsq8B22GzLMOqr0YXOB4JCPgnHb3N9T1Pn0t8Fh-RgwnGZ21akDQATqDclRHWouEjG1SObeCHjIJ+MeoY+YUJcbjXutNeR7DLgqW9wvR5H6YgH0kIA6p9dWQnEafMA5PNpBtP6CIP+tVgrEMuys8ZlwO6oNacs5U+DZDtoOZky4K9ZmLMOcHQmG83noYguzp1fQhrO44eE3C8uhqrLFCUeFrixASAiFSKaxL5jSbo2ptjOulBAiNUcp0Nl-UVwDgFpFh82MVgDjaB0LIsjuB1agrGa6pBaxMSzM+aMdrXj0CpCwRkz0GCvUhlFqmmMoYEUCqN8SQZ1S1EG-Jf6nRjBrZUuyErDAytsDZeNlhLBHzMSwNBCiL47XiKwnWbb+ldvEFK+V9lgw6vayey9w7yG7QPge80GQm3iC9ZzOSAKhdivPf2696LnHO3ysRn7IU2L8DKr+CTP6p4Zu53Wo2Z6Y2iYvUYFN1rGNcdMQHATgAhGBYM451pxjIQ4IUuIbh8VUOdVaT9axc72ravSfpsfk8BkcUA4P+ueWFPoGrP1vpsEmJEQXhQ8CQjVyufHRPCcXWJ29Wb8ucei5XAtrXtPRzgXHHa0oLOZBs5Cpz1rD3nTHbOs9SmF3oKoWpna0yCMd6DDJ8L6m-lJcDgqBl0IzdwHC7J9TZ4oBVfq5WIFEJSZah+Ql5Ga7yfC6I-95j1GnRDdzbB+FPAWdGZyGZlAOAiBkDoC5niH+nExY1nnfAnelYPPmsFpGEWrezwS3ajHZSpRqRG2Us0J2ucO6j+BJbaShCD487ztohcLcc7txjm1ugXfJ9CfoVYgTI-nSlAHwm4bzBkFCIUR33fUwVhT74T9PLaj8HH97nP8-qij8qubZ3h-EyITB+WDE-RUM-U8PNZVVeUA--e-ffHVWafVBceTE1cBMAlYCAn4GNJ1KuFA11BTP-G1FoeA50J-f2D6Q5cgWfU-LtW4RqLOLcSgo5HFT6PFDufCZXIoOlF5FjbfJ3RUAAhA1IH9Gg8AloSA0Qn9aDW9ceHTGWHfPfMgoTQjMQzAiQn4VQ6RIQ5QgWflDA9bc-fQuApQxUcgiTPjMBNQ9bCTFjAfDoLQfQOTAgtAjgkgrvTgtCUNDfNGfFLTeQymdwyYffMyYIeBGyOyByZyeucecgOGN5DQwfLQXyCtMxWwpwhwbgfwoSarVIRVagBQVFNZN6LBDIugRXDrFTQQQgAJXEfIwomgYoxg5ELI8zUDHMUPaXHVBQQgfAcoEor1Moiow0d8Y1DIIqew9vUJXgoYzwrg+GJHUWXfA8egQ9AQv0UJVgyQMgfFZEd3eYlYfwuYg4vMJFTvFY7eceIYs7CjWzMNOWFfUYGkNgGWQbUocVNGC-ceWDJVcYwAsw5bCCMMK7AbBoUIzcFohBWyeyJyJzMxSgXwEgBI2wmuUvZvDybwkWXwqLBVQwRQxnQKUzfwnE9zOSUoZ2NgOSZoO7cWRw5zGcVzQ1MIfE4450TElffFPzYkpkwIgA1IhHSAnA5AnNN1Ig4OIIiOBDJgbrL6SYxw7NONf1WoNwvk4yLApIr6BUv1RNbfII4yUyWkzUn1RU-NFU+-eHWGc-KQ-tfE7GXI0WHohE3vatC5ODRnGzBMMcDUEPLPPJLosFdYa9A9WA1Dd04SXPQ0pwg8KDfdGDK489TgAAn0yiSomIRsekiVaWFfRkO1OUr6DM2M2QgtZkpMqrf0+4lUR4gso2FfYYzrQuasrMtGUHciSXVM-0CMn4UQh7PzQsxdODRM80lcNiMLRsBwLeWoRkJ4QEAAPlAApJqgxVBDJQYHHOgI1H0DbmNRi2zgpM3NziWHUIpJXGpI3H0DXPdRHlqG4HZIvOHg3JvC3ImARDInF37jMUMG5EYD6NwXUQUQCLtPLOtOvnq1iEbAnUZGkL7LvQCJbKqIFk-SdOAvvX+PW2PNjDWBqPz0-KEGbn4Dfw0XeCjN3RkMPXPX2K4Jwu-Pwt-2GwEnoOdLbVrXWPm2NSDLjPvTdLOxBNAvgtSEPxvysIMNoLgQEr-IIRJQPmMTW3IJ-0Eo-3VgewUnLjkvEpikkp0WpQB3nOA38jCzrnPy0JMLx0vy2ROTOSBEI2Yw7iYkbG7D1Egq-Lwt-PfwZmWnMqAjAtMrvKvNCEZFvKrnXOVPsvaI9MDDzPctOVZMEL9xECWMrAuMPRCu4B8o1DxKCP5MtMgOMOIIAMlLIQJg+LOm2wirlRcMU3QN7mioIj5ItJb0gJAPjOMuxkbDRkZAisapnBsSqqCKYi3iXybhYU6oGs1V6lrHxKYkCmbP0rMW-xf3FAItv20Pv2xn6o0oXBYVUtcs0TXw4JXAiq2sIseN1IAOitLJ1BiFS3PzEu2sqtypWqgjWrX0eJuqOvWr2pWAiteoUWOp6tOv2qHLL1kCwUr3kCUBrzZnr05ksHRNBWlN5zhh3NAHiKW2Kx6xms7QJkYK2LxW4F4NtILiHR3AdR6L6Liqzlowexxp2LxvMomrA1-n4sUF6P6OaKRqFREx3BkCskaRZvJqwWI04k2NATYJ2KcKRpLTTW5tAEjR8zpi9WspkAluXNTScO4AzQZqFrOOWPkEuLBCVvyuLRVvDWlvLTqvqgYqKufjeERkLXJECioyttrFoxUHoFtscyEydq+jRnZtw05rBDRjFWBhX0Fo8i9q+Ntvl3PENtPQ1SjofHNvMBrS+HdTanisStgzysJuCzPnOtSwzKmyzvtvVXe0BquscBTsahYBY0hgJsKGLrISwlrt6uhkbA2UakQtxHON1rXkZAXNhtEgYqm3WvSt8KRujjX1HoYlA0wU7UhhGt2Nm3jxXSZzXRGGD01o8nnuxIKwiHrtXsDBvA3vfIR1itjR1tWNAMnt6nSpYHWA7oeobuLR3jEA2SMEnvCCWw4DajftPEPNoPxiHv1xHpvsCLvuMHitQqaGBBfrfpHvCAAB4YGf6HdNsoGZgWhSBzIIQAAVS2OgugM5LTXgRdJsGokEWoZoKJAAanF3mP1jmlZ3fqIQHVoZdpobocouK0Ydt3lwmEG1MiwbCPBDwfwH+mIEckEHMxIZgrId40oYQVAFoZYvHwNlqV4fgaUYQSsi0ZUYYbaiYb-rQ1hlyhGuOrXwJvJAMt339ktmxCLpWDriouYYPinr1DDI7LuL3PgfWLPxsfRGxBUZiGTrRxOm7svquNVOV2aHWtTm2h8fmNmAviMZUZia-N+3-A-ptDtCMc8ozDLIME71TnbodK-XTp7rvQ8cKHBJcatislsgtnKHriISobydYjbLtXTNm0ZALv11LPrLIWcfnpHqcKXuqrQm3untGdxzacKBHIPpcE71saICizLtSyetJRsQsfJksaRFmv8bsdWa714vlthmcZAfJmsz9HEW8Y-qUvcOWcCa4JCdTvmnCb1qOeCIIhibXzibPTucF1KHgm2j-t6nQeUOcaIiyb-D4ZuI6IKaOeKdDk7vKYibttjBqfWvqboEaZEGaYPmRPXLXhSLgp4vbKG3eAEEhh6ejJnELqHIGYTCGdmwXumcBnGavEmb6kXpmdJfByfvCoOZWbztpgrz2RZlr3ZgbwwAHqE3qKKIYNKL2KC1iwbXiy5syIQXlcaOIFDvMG1eoGKIKICSLKsOVZPX0zjr2JpgKi6gaMNcVa9UZiBDgXTCozmBdtiDmFXAou4OHQ5E9ZiA5B9dZKowwkDZ4A3BDbdeHQDgjYDmjemCoyA0yBdpTbYGdF9cKCo24kMACXIF8BdtzfzbOUVCzdiCo3BMDfBNjHLZiCo3Z1UDzRYEMFo0bebcZhWDreBGHWoYjdiH0Dhm4F8E-rnPiNodLe7aozaX7ZiEHeHdHeRtADaVAEndDeHThG4AaHndXcXfiMhFXZiCneHWAFnYMCHd3dnKXbADXZjeJoAFIz2d2R2r34j73D3QBj3ibxJ+3n293U4R313iazdf2L2X2AQx3QAzdd2gOwRwQEGn2wP-2kGYhAO724OEGARZ2-3X3QBMPUOv24OZzEOF3cO5yCPYOIQZysOt3CgcOIOl3qOKP0OIRqcz2l3CgGOYhqdYhEb0x8pTKDWmikUR7AQVwiU3tuAhPHWCxQNbWCiFWBiCxm4WA+kTB70xOVgJPkQr2w27WFWXajFrXu2ihpOlPURQMIpBP9OdWvj905D-Ly4qMvT08UqLcfQOWDiqNIA6BwkETPWfO-O0OTi2Th123YBIBA3wvIATOQue3ib23vEI3EvYuQuqMAA5cgdLs9zL9L8Fk4gTylngGzh1uzq-PdSezT6YbTq97aJWqTkr4onBOT6zhT2z+hXwqrhoGrhjozi8Yrtr0r5rtMdZ8huoxrmTgTSErTK1JG2wibRgNUUgNgXwE6PpcgasT8rqTQfQKmibibHojgNeM1hwVLhoGbgOBEIoDGs5+MQgVFj5pGvPOK95tYtCHjfPMz0JC5oJsz+heBzz2ID7pGL7pFfAVT9T9K37-bjr6es7woEplF17yp92Nu0OMQL4O+lAi+vWyCu7h7w9Eb8vEG8ViGuvDmTAWVm2igUwBgatD4MqG4UgNlWRX2tIEh5WTcIxVnr59bIxG8Hn8INhhgDh-R9Rljbn+av4G+E88hdjM+HnuWxpG4XvHFLQQNNRq524hMTpZQEhjIdvIwLI5QZQRdxmWh-QXX1OcEKJUoG30AKhnR2h3X+H50G3ujTXj2o1cpPg7htqVo7TAPpUn354aCAVlwMXrR8ECELR5XrFYwNX5UiTmb73hEgPiYKP6wDPWe2GVP3EDJBQS38zNnvcrTdBu3ik3SIAiDcuMv0AeOC7Od9NjJovtacIT7IxMv8IaD8EZLcvgwbaOvpbXvqv8Q6nzpGcenmKJntlMv-UgwQechywgTOvhv18mIafduZwo1Vwrv2wMiO3mP2hvPpgMgQvwfto1vm+XR9fqJUX56jfLcso5T1Aiqq-oXzhv0O-rRk-gvt7Fv4knvyF6N9Cg8IWSGRGpLxAESOUUEC7S0wNdJATpAvrzx2xRwzyc-dQnnwhDhsby5cC-mtGyZZAu+CAn3qf1ICCQLs5BMXlfxXB28AA5Bwy0xR8GBlA1RjwxYxl85aJ-atKQBYw8CX22dWLHuU+hKwVY20fga71XBUYhAwgdhsEHYYOQdIy8NwMWHYbdYOA8IYItBFKBYDxBtYXgYERvASCSBSAs-ug0gGICJeF8YwTCxsHcD9BI7ROi4HW6bdlA23LqgxH9QeAFMJJNnhYSkzZYFU-faQUvwCGKIqYZxcqiImiyA8YgEnFwesDcHUBNAK+LwUEjcDp9fBKA6Bpv1lJBDaB8XODslnHQP9yU7caLOYPhiEAnBoAfgXvFiJww0hPg6LIBQX7cZQhVhCoaBXTIidfmQIFcOtRXJP9t+opQIYQDha2tvBKgv2P4TigaB9AdQrRA0KaEZCpGFmCoaDkCjfc+h6kcNgUKwjbRFUUw4wDMLaKBEjERw9IScP8zPlZe2wohNbzjb7D5AVw+eP4TuG9CHhw-BIVt2SEeC+oo-IoDoLPL3CD4sQwofoB+FJCUhnxS4T4PwH4oKhMvR-JGwPDP91K2zOEdMJuFtMeK9pJ-l0MqIO1h0xQ-Fk3Ef4z4NhmeFMoaECiGo9KJ9WGAiRIC+CY62cO7PkPULbRossvGpjlgiIwloir-DyF5GZHEASWm9cwDbRgqsjBB7Is8jyPUI3hFRQBPkQqmxaCjFmUQ-mN6m+JyEJRjIziBaGLBlRKA+AJqI1AGAVB3sQQtkeyERJ5Dxh1vY0VVDlpWioCWkGKDMRaFyi5e+gaUXISyE1DNI5XbqI4RyzN0HAuLP2J1AYAFJhAHAUgOtDoREA7Cto9svaVqxBCqmXlIrgTkspE4FueuSkeqJFwl5nQJuHXKnBc51ACI1uHFmTRjE-Q4xMgxMSSWLz5cdsuQQgCxhdzPw3cszDor6SlxtDsUCo7MScwWaojNw3YqwSMAqHcBZxLfJEaSw6aMtwqCqPlnM3D6u0exvgmofrH6AKA80WFOKhUBAS+BlShgNkOeILbzxDApIO0c32vH99bxl4v2A+KeCy8DhZ6SNOCOnIMdDxH0E8RHkEQXirxUOYCURD-FBN5ib4+8aSA9rVAMk1sYovBOTg3jIwd4j8Y+N9HPjI0BQ9CYLGJBfiURP4kYC+P-GLtkJZAVCXIiwnvj9AREz8ZIL9AAS5yQE48dBJMSGiPInEt6CAjVjzDISWvKojIEEmIwJUgQD6KrGknHjtOmrCYHLXElUBJJnE2SUeJL5IZOJ-fdCtX2+LLd+gaEhicqXiaQTBIsQ9if9Akk7wpJR4jSVBJfRySeJsrZ7sjhFiUhQQsGMnEknFK71yQmuKsQWJ1xFjScUvMmBvSnH5i6cK2WsYYTPoF4yYvkjsd+NUlkBGA7OfiH2N5xu5uAyUssZlU4i8QMkGU+3PoF4h5SqAHYu0dS2H5A49g6eT-kCIQT1SikgI1YC0HaCdBypVUriFQHCAFDqWl1FEbLkwj9SmpJQBYv7gmweThsXkq4hVL6l+Sl6svNAWiN4hxwE4a0zcL5P77FT0pDATKZzhvAbTwRioG8LtLOnoQ0pSQQ6WVMOH9Srp8xbaJdNgkTMl6lQ1PA1NkEHi5oHAM0YwHUmI07RWEC9lZIpKFSPIagEwF4DzSMAXRK-FQdpGcDcA6hi0uof5IpZUgjpYaZ4kVH2m3SjpCwhwWOPFIIyUZE0uLoqAxlL1JqTKe3LjPGLW9Wp6eAoXpJ2yvN-pmicyfRQ5yMyXikM8wLwAgYtR5UPU9FmFWzjUCHpX8GoalDskyTugbIboLhICmmVnW4gSQDiGVl+ANaU451jFIgiPYKSDvakMGJlCNCiQLccWSZSK7dBGQMstpuIkizdBwgdvZLKbO6Dux-poAHBgAAlvEDAAAILgBwA3iAAEo4NIAAAeXS7IAgQ-dfOpIDUAeiTRdFAmXQGqm+jhZjUUWXDHFklT++8svOW8KRkWcC56UyofLM6ALhyZw2OWtXMyCpzkZdFJGv7MDkhyw5kcmOXHIbmSAFuFQOGKXM9FuUM5SNeWepLzkMArZaaMecoJHn0Ahk5klLHXG9AzCy5o8m6ZnIKl2j+JKkoSU81XC+SSGs5J3NDNZRwzm5AmY+ZZEjblJ0pHY2ITIGTlNs65RFDOR2Jpg+z1BjUXIA4AySMgAADIuTMQ1BHIfKDIJaI6ExRqAgwK6JAovz-ztAQIH+YgoMlaM8QdMshKgr-kGS5aBMMBadAsTe1wp6MVBf4IISwLx6Z5EflJzPLkLoFZUWBYQMSkPhBZvmHeLnCIV5ZUg1QbIJAttlUgGFvGMIRNjNDzkJGECgRBQpgVwKmIRWPbAdgqzpjjcUpLMU6Ktx0E7ghC2RO2LiAIKZFTC1MD7jlbjjxhmirCFDm+xspuR2Yp6V9hhw-ZlR2YzsabPpH8spxVixxWyh-nsLPakC1WMGXHhs81WVqQJRxTFSQK9Wuo4BMLJES+K7RRiXxR7VQUzEEleEuzIZkcRnxklwQ4dJ0DKy+Bi4MpeELL3545KBFxjI0WNzzRSKvoP81GSTI-m1CSZmM3MVSGAT9BGAP8xkIEC3LcLxQvC8BL4tsreU6ArOfmUVEGw247cHOYmWQDqJbz7FDQN4LErf6dLcKvi5ZUUBpkU4dxMyyZczLTyyC2ZwGXkYaTp4OD+FAiGYhsu6UCKzpnMyQNzLknnlxltuSZc4h9ntyGA4c6yAABlvE8cnSpkBAVz0X5dS-FM0raXa9AwOcgeWLLHkFDi5Fs+eD-KhVbyq5-cmuZCqSiSiXAjchcOiunK+iflfywFeAD7kzgS5fsYlWPN3nmSQJ+eNbBPJ5lTyZ5FcpIKxLd4-yl5ck+ELENZWvLaFCCXlZxM0E1D5udKpZTvN9F7zBJEnNbD0oY5O55uWKH+dcvRjQqxma2Z+XzOlX3ykgn836Yd0aj8D5lvA0mSVOLwKzBIDKuSQJKoCKrHG3TFVbGH4nA8-Y6EqMnFTfn4o0ZMq6mNstXBWSpVkC-1U0sDUfToqwzcyX4rzKXKFlFqnoLGucktVTKrQHTkCFSiXwHRyawIuCATX8DUSks2oVmsNmW51C7qU1Ymt4HJqbVOk2XpmocD+i3aMomwams0nBihlg8paBtKfEiE-e7UR2e301hCZIsI6g8WaMCBXymFjAPOZbw3n0B1o9pPOUtDfl1kjQple2UCHZXlhrZG6uCo2D15YM70s6l5UeK656QhV9k7oPPLTl0A+VR4ktQ0EKg4h71Lcx9eKs85YQ353AKySer6UMkl1gMuNbiLXFoknG06xqKgtegLr0lasorhnMZCrKzwb-EZeSFXUWy+1mKjxo2B3VvJB508-dbPMxVHrTKgGs9ags4lXqCIN6xWdsFFWQKn1H0F9aZ34DvqmNHAFjQoEpqxgsIDSgwIu0o27xqNYG5MtnjRLrNhAtKhBcEHPXgIN1A6upYuoXnlFKZMQUoO6I1UbrZe7ot+apofUe19NIGwzZ+vWgfBgglokDUWIXWHrENVIK2OvLU0ayflnciOVHNjmUryQbm0OR5p7nArf1IG-9Yuyc0KbQqsKlwOCAxDZ9pNsmx4AhsKCWaZ1sG+dRbM1VtNIobAeLcakZBkqAVQKpiPlopWMgBNkCkLVezC3oqnZhcaLURm7WlMnSbwPpKUR5LKa9yPJZSbSy+ItaUQJJUSWxn60pK2KPWw6IiNxJI1nF7mOWghUdK4hc2vWgsENva1IZOt+K-6N1oW2HRltvo2xdNvW1+YttKIcbe5jtFTaZ6qWGoGIHnR+xzVbW3bRfDW058ipAaZfo6IG0l0htbo8zAoEDH3adx52vxc1vwB8LmtY2htXGuU0oswdgxGHaYH-oYNO1H0WXsDr4V+Y4dnFDHcyQEJFqrlGZDHa2roCLaUKKEAiEjsEg0w314mEQOw1x0LKXaqO8omCthgLaQd4CI7fDoh1pqMljW+bSkGJ0iIOdKFU5ZkFWkGS6JYE7CbtyvB0661GZIXUxP51jbAi5O93OvyE1XtWdaOkbULvxS661dXBVXftCp3yCrIsuwtnlP51s6RudcK7e3iOJljbVSNeVU6vmG6rXVM5EAf2EyVRYLl5qu3er1rUcCzhwaxUE8oBm2q2WbCr3Rg3D0XqZJ3uT3KbIpKk6igqu+6FTsUG06-dDgl2gHqhhXUh5evcMSoqnERUjU3EfjI6MMHo9MeBqHHmvD8VQj3BL1GuVzs0n2qjxjqg+dLtXC1TPdMuovfwC+ghiAEYYzUm3rLGh6DAlYKmKOzek1NZ9UJSIrCTvnmJmgzev4SHWRF1jqQf055aBteXe49IzQFPe7q4U6SM9HG8EJvphEMRs9beLQEHpdq37-h54GqI2BuCNDi2F4xkAAE4TgdcH-QW0j2iSgDPEC8baomwZJVY3AdTRmPLLeMv4JzPEdLhcBLZAFOYmIMAZYx0C6BVkNAIQbY1zMINzoHA--w+BwsGgOBqAxEhVj8Se4gRFwCu1lrDkPFsQGg-xLoObh0qX+hhBAYLZ+KClBbYpbznvJWb29H0JGuTqv1wdhDRS+GrqzN0576dWRNgIUtEMF664WI1IOauqCFQTwZAC2O6gRKCKBArQRkIsN8DLCdDPU25CProCFQo+RwCVZhulx-JjDESM5D33dTf114Jzcg+CDaTBHiuxwlpQsreROHl2wR6qBpqCh5sLx5UqAbiHNWtBjgoAMlixAHBvymA5o5WHmhk3Kk0jHjbTXJvjQGaTNam6ysUbgoDgPDoTBElB3Ui+G708IScRwYEMsYgjwRkI2-MECFHRAPRno7EcyPUjJN1BzoxCCGMhH+BG0PGYzGmMxHBx2Bzo5HrtT8TnV703OKfK4L2Ck1b00fePHH0LDi8-6pfQbQY5d5uV5uk43vrahczD99kiGSYm3G8TZM3WoQIYEcgqx9D-AMw7UMsMkylhzARobYZuTGAZcjh-gM4dcNYyqW3W2qX6JuOtBx0++iPepOeM1bG6yRoPZCfs40B28KJjbSRWbodQ59V7K4zUIOVEzCAe4X8DCrEmur1ILMk5eoS+ltTeRXUrILSak6khBps2Vac-kwiRo4jZ+M+jNNRzo5HgPJngPSZWkjShT5Ux8QULckSneiUpr6IQF-AymCsCeMAGrkhCCmxx60kU-HFMXrS+T6hak2VJOkwSDiJ00kMGutNzLDhdpqmdMEOGOm3pzoOPLL3ZPp53YOh3E3QIRn6B3TAAHSwA6bTxfsM0W9GCCF8U9q7BdorjQj4GZERhtHLqzTBBnzVIZsuWGapmRnozoEuMzIATM9S0RvAE8IER6BYRqzoAAAF79dQAkZooJ6tyPxnyBZJ5M02ev6C50z4Ieo8YBrioRaoHx94N8c3AhmYznZ8s92bA64DiaySAjOw2UDsNZBkwOgWmDwC5mrlM50s+aPnOF9FzEI8TOwxYBrmNzmgwc9VCAA')">function unify_match(p1, p2, frame) {
    return frame === "failed"
        ? "failed"
        : equal(p1, p2)
        ? frame
        : is_var(p1) 
        ? extend_if_possible(p1, p2, frame)
        : is_var(p2) 
        ? extend_if_possible(p2, p1, frame)  // ***
        : is_pair(p1) && is_pair(p2)
        ? unify_match(tail(p1),
                      tail(p2),
                      unify_match(head(p1),
                                  head(p2),
                                  frame))
        : "failed";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p34' class='permalink'></a><p>
      In unification, as in one-sided pattern matching, we want to accept a
      proposed extension of the frame only if it is consistent with existing
      bindings.  The
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>extend-if-possible</kbd></span>
	<span style="color:blue"><kbd>extend_if_possible</kbd>
	</span>
      
      used in unification is the same as the
      
	<span style="color:teal"><kbd>extend-if-consistent</kbd></span>
	<span style="color:blue"><kbd>extend_if_consistent</kbd>
	</span>
      
      used in pattern matching except for two special checks, marked
      <QUOTE><kbd>***</kbd></QUOTE> in the program below.  In
      the first case, if the variable we are trying to match is not bound, but
      the value we are trying to match it with is itself a (different) variable,
      it is necessary to check to see if the value is bound, and if so, to match
      its value.  If both parties to the match are unbound, we may bind either
      to the other.
    </p></div>

    <div class='permalink'>
<a name='p35' class='permalink'></a><p>
      The second check deals with attempts to bind a variable to a pattern
      that includes that variable.  Such a situation can occur whenever a
      variable is repeated in both patterns.  Consider, for example,
      unifying the two patterns
      
	<span style="color:teal"><kbd>(?x ?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y ^expression involving^ ?y)</kbd>
	</span>
	<span style="color:blue">
	  <kbd>list(y,</kbd>
	  $\textit{expression involving}$
	  <kbd>y)</kbd>
	</span>
      
      in a frame where both
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      are unbound.  First
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      making a binding of
      
	<span style="color:teal">
	<kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Next, the same
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is matched against the given expression involving
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Since
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      is already bound to
      
	<span style="color:teal"><kbd>?y</kbd>,</span>
	<span style="color:blue"><kbd>y</kbd>,</span>
      
      this results in matching
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      against the expression. If we think of the unifier as finding a set of
      values for the pattern variables that make the patterns the same, then
      these patterns imply instructions to find a
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      such that
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      is equal to the
      
	<span style="color:teal"><kbd>^expression involving^ ?y</kbd>.</span>
	<span style="color:blue">$\textit{expression involving}$
	<kbd>y</kbd>.</span>
      
      There is no general method for solving such equations, so we reject such
      bindings; these cases are recognized by the predicate 
      <span style="color:teal"><kbd>depends-on?</kbd></span><span style="color:blue"><kbd>depends_on</kbd></span>.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
      On the other hand, we do not want to reject attempts
      to bind a variable to itself.  For example, consider unifying
      
	<span style="color:teal"><kbd>(?x~?x)</kbd></span>
	<span style="color:blue"><kbd>list(x, x)</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>(?y~?y)</kbd>.</span>
	<span style="color:blue"><kbd>list(y, y)</kbd>.</span>
      
      The second attempt to bind
      
	<span style="color:teal"><kbd>?x</kbd></span>
	<span style="color:blue"><kbd>x</kbd></span>
      
      to
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      matches
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the stored value of <kbd>?x</kbd></span>
	<span style="color:blue">(the stored value of
	<kbd>x</kbd></span>
	)
      against
      
	<span style="color:teal">
	<kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      
	<span style="color:teal">(the new value of <kbd>?x</kbd>).</span>
	<span style="color:blue">(the new value of
	<kbd>x</kbd></span>).
      
      This is taken care of by the
      
	<span style="color:teal"><kbd>equal?</kbd></span>
	<span style="color:blue"><kbd>equal</kbd></span>
      
      clause of
      
	<span style="color:teal"><kbd>unify-match</kbd>.</span>
	<span style="color:blue"><kbd>unify_match</kbd>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (extend-if-possible var val frame)
        (let ((binding (binding-in-frame var frame)))
        (cond (binding
              (unify-match
              (binding-value binding) val frame))
              ((var? val)                      
              (let ((binding (binding-in-frame val frame)))
              (if binding
              (unify-match
              var (binding-value binding) frame)
              (extend var val frame))))
              ((depends-on? val var frame)     
              'failed)
              (else (extend var val frame)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_20_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROLAOI8+LiAYFhqm4ugxH0atSGocV6LPOsoMCrDOu65CqwYtNzjq8xmpEaoxAYYbxX0GbWrEIS4njQM5mWlq5om2rLk4la5oWhidtmtr1sCm9jsusKDpRDzbvm6oGDkcgFGIDryC6nrQHez6rs2lw208RbRoBxizgegsWgADy0ERvt+0bcK4f6KEBqiNoSQMsIaprdra5GRqXMa+usbhIf26R-sO5xDAxxQIBgeAkFQNA8TQYkLke8wUgYYw2BkBhiFw9ziY+BRKCB3HklSdIFBYMgjEoaXwlAAAfTXjIFj4usltWZZibXddSFh8HwDghFV9WtZ1v0BfSTJbZl+6Yc4gXmDECRhAYbcwSlygdj6e41uxwKBawoPwgAMlj3p+kGGOR3ZUPvfdqb5bSD6vpTgbgc81Jvd9-3QVdqy6Fz6roaz6lfCVq2GHwEWq8+13ZYTbaiKN-lwrrgWLWoMQ6E+uhA97qjI+L8gfdqMudyDqyh5HsedP2uuV9H4hx8FhuLf-SfX0C7ukyGJP9B79XJg3+nzC3tfTr6jup8L0+7SvmW+952GBeNIQZwVGUGwH6mU6Av2PoXL2s9S4BwrqAcE-9d5AJAaVegNdJp3xcEgwBJhUFgL3o3Q+dtIFy0TiMG879iFf2-nXHBDAUGgJimjCBywT4XxvJ-G+90B6pHBhwBheCmHOFYbEaeYdYHlyXgg-hjVGFoLoBgj2HlZGCOAcIrKhh95W1ETEdhFCz5UI7tw2uWCxoowEfIghLD85sLfhws+XDv60wAGKQAABoAFkACizRAiEBAcof44Is6CO9NQVE4JQCOQiaoBBIClbCHILJPA5AZBaFIGnFIRcaT-GyeoEQHBhCNFpqoSglBCCGEaCAMQsTaRoFyAoYA7hEhBIALTkG5BUBQvhgAACtDBtMMCAtqwAUi5MMMAAAbDobAeA3FeN8RtBQ+BKz-EoH0UA7APBeCZkoBJLAklNXwMIXwBBHDrL6LTdcpAtLRIoJUtO-wLanM8iDLZXJdmOT6DUNZmSai1FqGgZR-NUgHKSbonGCZoFzz9nA6RISsFhOqBE5wSi67gvIAwG5ucMmGEhYFG42ItFEObq3XO3AjEx1oWYzFxzTkEsLgTbZygvDnwMR-M+1LnG8IYCJRlZCYWSMXkbKyIlBbMC0GvdFZjxXEDhoQQIbgRG2LEfYjl1CeVmL-vQbiqIfjysVcQZV9ABXQpnrCheE9pbcGMkURBurUX0ANQqpVhg0W3z5tg3VotXXYsCMnI+diyEBz5ZUeBeJPWwzeH7Q1pAGCUjNYGUNgQZDwNJDwsxMbfWKoYJ0a1xtSEJhTeG6ROgaa8uMO0HeQSk3ZxLvPeFoqEFVtrBcmVXrQAE1bTWvORswivxDeXcEPb23cCDmETNnbR1BIlVQYga98X51iMGruDi7TUqnbDKotyZwfHnWvV2A6i1bQvhOqNnElV7slQunelAl39qEtdLlj6t2e1SAuzQuIZ19ulse1dgYnYZGoZO0xnaBYgI+HOqVd6j1PqgQrYDl8X1-q1eB82nzIVQsAxa4VBarIsq8B22GzLMOqr0YXOB4JCPgnHb3N9T1Pn0t8Fh-RgwnGZ21akDQATqDclRHWouEjG1SObeCHjIJ+MeoY+YUJcbjXutNeR7DLgqW9wvR5H6YgH0kIA6p9dWQnEafMA5PNpBtP6CIP+tVgrEMuys8ZlwO6oNacs5U+DZDtoOZky4K9ZmLMOcHQmG83noYguzp1fQhrO44eE3C8uhqrLFCUeFrixASAiFSKaxL5jSbo2ptjOulBAiNUcp0Nl-UVwDgFpFh82MVgDjaB0LIsjuB1agrGa6pBaxMSzM+aMdrXj0CpCwRkz0GCvUhlFqmmMoYEUCqN8SQZ1S1EG-Jf6nRjBrZUuyErDAytsDZeNlhLBHzMSwNBCiL47XiKwnWbb+ldvEFK+V9lgw6vayey9w7yG7QPge80GQm3iC9ZzOSAKhdivPf2696L7s8BZ0ZnIZmUA4CIGQOgLmeIf6cTFjWed8Cd6Vg8+awWkYRZ47PBLdqMdlKlGpEbZSzQna5w7nT4EltpKEIPk-WsRhtELhbjnduMc2t0GJ0zoT9CrECdp86UolOE3DeYMgoRCjCfi6mCsZnfCfp5bUfg2Xvd2eK9UTLlVzaida5MkJh+sG5eKgV6ePNyrV728t5ryXOrZr6oXPJk14CHcrCdz8GNTqq5+9dQpi3NqWie+dDr-2H1DnkDZ-LrttxGpZy3Mno5OLPp4o7vhPS0w6UvJY6Lh7zorde9SD+tPjuWjO-rz+6Dt7x46ZlmLiXCehOEYb8HpvPx+-SJr73gW-Kg-rcV5Pj3PfFSJ4k3xsBA-1sSZY5TjoWh9ByajwHovcfifF7QqGoXaN8Vac75TQ-kxJdmWCPAmydkHLOXruPcgcM3lD6p1oXyFazHr474ODcCX5CTVapCKrUAKCoprJvRYJAF0CTD1YqaCCEABK4iQHQE0CwHZ7IggHmagY5j9aeTCj6A6oKCED4DlBwFeoIFIEdYqDK4bQ0hsBFSb4E6hLl50HH4l6xDyqIyxri4Hj0CHpV6xihL56SBkD4rIiUxiF+iX48G8FFByZCHyDbzjx0FnYUa2Zhpyy85fRKoZAyyDalDipoxK7jywZGGsHW4L7LYQRhhXYDYND36bh4EIK2T2ROROZmKUC+AkBf7r41xg79y0qghkoGH4qGqGDd7rQoGmaX5RYKpLCN7OxsByTNB3bizb7OYziuYxHX5W5KHOin4izn6jAuYEHJHuZxH-6dqK5h6+45puox7Bw34RwIZMDdZfTsHb7Zpxr+q1AH5W52EzDf5b5fQDF+qJqi437GSmQ5FTE+qDH5ojGa6cYNHN5Na9pHpxHYzgGiwUH+Fk7VoXJwbxE2YJhjgaj+TEGHGQbXoHru6oaXHCSFx9FfR5Ft6HrnqcBW53GRjXYNhMHfFBwGGMh2qfE74HhQb7owaaF-EAlVakET7AwGEwm7oSrSwGH0E3aFxglGwGGg7kTEEMHvFkKK714PZ+bwnt73pwb-EbErhsRhaNgOBby1CMhPCAgAB8oA6RNUGKERQuHJruGo+gbcxqMW2c6RkpucqR626RK4WRG4+gYp7qI8tQ3AZRDAGpw8EpN4UpEwCIZEoAYWdchg3IjAVBuC6iCiV+BxqJdeOx5x1KyBMQjYE6jIredJi6HcJJKBAsn6JxLej6dqpQypsYawaBO8yc1pzc-ABuGi7wmJcJN6vxj6chyh1ICZtpyZDpAkmepxbata8h82xqTxCJDJ56JihQzhHp4i0uauK+U+6ecCzZ9pBCJKB8xia2ieZuLZRu6sD2Ck5cg5XZMUPZOi1KAOApwG-kFpZiiuI+c+60jY5eY2TGXBMcTEjY3YeoPpeZSZ5uw2y0JyvgQEsQ7JVc4ptQjMQIup+pWpgwB5hBVxgY0J5eJRio-BcZosahIhsGb53Az5GosRN+9RsMM+wMGuxOnRZCBM5hZ0220Jcqe+imgevcP5BEoxmx0FzuduiJa52MjYaMjI0JRFM4Ni2FN+TEW83OTcLCVFjFmqvUtYcRTEgUaM+FuOzuE5hubR+xUEDF05C4LCAlKZrFReK40JklCiGJcxxRslzJOoMQqWjRyuACBZrZJFIl4prFGJnZglmiAuMlKw0JxlUlNF6scRP5yJ4UCOWCSO8gSgqObMGOnMlgOOHkXsPR+gcMMpoAn+S2xWPWS5naBM2ekheK3A35HRBcQ6O4DqFBVBIgNBBYtGD2MV0hcVF5nFYGv8qQjSlB1BuBQVQqImO4MgVkJVaVfsWcxGnEEhoCBe0hO+QVJaaaNVoAkaPmdMXqzGHVCFxaERqaO+3AGahVzVSKROwhGhYIMgnVY14aPV5avF9UxZyFz8bwiMha5IgUVG21tYtGjBVh48jmQmx1X0aMFVuGVVYIaMYq6JaMTVHk11lhe130FMI1p6Gq3154UFuOjgXw7qbUAFlY81h6Vuv1LgN4DlqW3xU2MNiVa6IwCNdcNaoNjULALGkMwlhQB1hcWE+NdF0MjYGyjUIZuIc16ha8jIgpPl1wxZU2YlEF5+QV0cAu7NDEoGmCnakMrFMhs2zwhNcYnmF81M-VgtFRBWEQYtH5cNZ8UtEV0FCM-5tNQFiJ3NvUEFLA6wVNmusNwIO8YgGy-ORCA6S2HAbU5tp4ipje+MLNs2FtB8PNeo1++txgENYxTQJtttqgrtVsA6AAPP7WbYHfbb7eMW4RCAACqWwZ50BnJaa8CLpNhoEgi1DNBRIADU5pOZ+sc0QoFe3N4Q+dp1edBdyhRdbUJd31Ewg2pkpA5k8didMgxAjkgg5madd6jMNImd1A2dCCoA+d5ZDOBstSMgpdlt5dCCVko91dvBtdU9LGUdQNHkuUhlNiAuwl5ImN4u-sls2IKNK4lp1pQdeoutbx-oXRcpbN0dfoCuh96I2I49MQWN+AYN80mtC1UWmuj9veYlqc20D949swF8Ud49zQVpNsREZdNodo69gZLEgopBROqclNRxX6ENUNd6N9hQsdYlVktkFs5Q9cRCOdV5T4QJLhfojYkMjISNLtyJnWhcsD4CgtbNO+ItOFaEMtvNPDuc2hYO9ZRNlJL9x9-9xOG198BlYlilu95Me9SIy5kjRA0jN959NsbN19Hpt9uh99Zdo5h+R9Gj5Zn939uDdNsGoxc5wDS2oDxjJepQ8E209tvUgD2uuZcDXKCDf4DdIjpJKJBgGDoVoc1N1jWt+1sYRDSjT+ZDIgFDB8QR4pa8f+KDZJdqDDs2TDsJM4yNzJbDZCHDQjn0QtZTfIfDV4AjfUwtwj1DrE4O4jCYROZjJ9qlOATlXqLlKOrM6OHMXM2AqWUcXUWB1AOB8BshQWsWDa8W1VwBCCmBMBxAb15gyz2BjUUBAS9JK+0zJ6+m-1shNMBUYzKzGVqID5wI5c6YVGcwp1sQcwq42ZDQVGHIDzMQHIzzJRVGGEHzPAG43ztzw6Ac-zAcQLpew6QGmQp10LbAzoLzRQVG3EhgAS5Avgp1KLaLZyioiLhQVGbhHzbhsYeLsQVGNwGyeaLAhgtGFLqgVLjMKwpLMQVGud-zsQAV3Al5fJwVi9OLzL1zyVbS7LMQnLoA3LAI-Jn+bS4rMQArVGcI3ADQYrErUroAkIsroA8rw6wAIrBgcMXL4QkrvLYA-LPzw6AApHqyq0a2qxa5q9q8leJOyzazyyFVKJeea8lQAISSgusGviu2u8u+tAievAvJUh3WsBuqu8th0xBhuQsRsAgiuuvGuf4h1AiBtetgjgi8lRuGtuugD8nxuOs5u8nJtKuFCptqvlslvZsQjet6u8uFDGsxDeuxCBXpj5RMEbMTNZ5Ips2AgrhEpvbcC9uTM9PdvvACDjv9uDX4AsB9ImD3pDsrAjvIg8u-NnObOnVGLHMCtFCzsXMMxpgRQ9vbt9uWH7od6MhwJUY3G1CnUPupjVM5mCs5uQB0DhL+EPOfvfsJtvulHDp0sMCwCQAfMgdgcHuAcsvAdUD0veL-MgfeLQcwdUYABy5A6HermH6HXjOZU7VIR79Cg7AIw7GgO+PL20S1Y7F7sBOCoGpzUB5z9C5+q70w67VHBmHV1+xHWlHep7m8mdGBdHc7BYCB+B80AcQV6+E2jAaopAbAvgJ0fS5A1YVpXUmg+g2VonE2FBHAa8ezDgqHDQWmVqCIRQqtnE04WIUTf9QVf56Vv9ohaEPGcZ+gR7oSujS9vBfH072lD9r7sQbnSMnnSKC7S7pgEF79fn171FvNJnhQWDkTzn+D7sFNocYgXw+tfugFC1Pp8YhAdnh6p73TBYvTbl-T7MmAGATN3q48FApgDA1aHwZUNwpAbKsid1aQadysm4RiXXt+g+RiN4g3c94IDAVdK99dA3euJE0dzQs3FiD4-VjSNwZOOKWggak91mitggygygadGQBORgIBB3QbjM+d+gnSygqc4IUSpQ93oAOdC9+dN3iXzo93dGO3l1Rq5SFexWc0knEFZnf3-hzw0ELTgYK9i94IEIi9a3WKxgm3wxI7oP8Q-hwPSBFd1gfk01HkYPuIGSCg135m3XcpWm0dj36RukNuEG5clPoA8cF2orcLv2WQlP4Qn2RinPoAIbCCyWVPBg20jPS24IyWxkpQu1jXM4LXMU7XbKlPCxBgg8g9UmpqjPzPZpMQLO7cu+Rq++nPtgZEj38P+dhPTAZAJPIv1RRvi9LPhQUSU3AukRUpCBBYLR0eGvZPc9g2Tvi9FvxPb27PpPFmRv5dDvsQ8IskZEWRGPLGkkoIp1WmtHkgJxxPQ3dPEBapSvg+hPEIfzOp5cNva0iDHPPvqf-3lvpAgkF2ieK9ofQv4IAA5FXVprD633XxPcXdPY3-1Rb9WqQCxoP9y6jbFnKZ9ErCrNtCPx96uFRkIMIJXcEJXQ5DpMvG4MWJXd1hwPCLftBKUPnzP7WEP9fjeLP5X+n1bwtzwPH8HxfwEw-wPyf5ebIy4Kp+p8oJp-F31P6h4ApjUW65L51e4CaLCuDHLJVgBYCU6vr1aLZYFUc-DPNiA-7rAv+1ATQAYT-5BI3AwPQAZnx2y69eiCA8Ae+whDJZx0LvIXG72iw39DUb-UACPz3jv44YWAgAdFidIq9uMavFfDQOQIMMB2AuSEnBEoHko9es1DCiIhoGg5Tm--Tfn7EvxxQKOjArRMwNYE4Du6FmKQYaEChedBBYvP5iQKwjbRFUsg4wPIIILX4jEJg7AWYP8wmkVSA1D3g43UigtDB8gGwfPEvwODdBRCO7igI07oCf+J1QwWqR8EHwgusHHcP4LQEYCLC1ggASX2iIICb4N-EmgIKIS0dTBngiwYCUoiHFqByQ5AodWHTkDkmTcKgazi0H1ksmFJVpgqkXJhFO0-hEgIAONpRw1SYA4bhfE6E25Y6OWJ-N4Vfz+5MKX+ZocQAyb49zAu1Puq0LH7Zw7sxAwfPDUWG9CW6D+foV4RfwuBhhvlerntSqQpZN4m-bSGVEoD4AmojUAYBUHewIDjaYw1oWLwtBb9+qVwl3FpBihcF2Bcw8hIMGmEd48B9AzSCrhoAE4cspNBwIkz9idQGABSYQBwFIDrQ6ERADfLcPJIkFOBp0TcLwLRFDZp2WyImGIDGwEi5Ob0FhgqhmzCNAy4tBMM9FTjPsTGEI+qpiJhGL94RNRCkYDDnK5BCALGY7GdGehBNQADZQ4gsMIB4limCYLCNyJYzbQaB3AaUSHxoGNNqhtDfRtSM-L1CWSzTdUd6h5GAD6B+sfoAoDzSxl0qFQEBL4GGKGA2Q5o9FvPEMCkg2hdmf8JGhIG2jLRfsB0U8AcFGCz0kaCIQYAu5Q4PoJojLH7HdFWjgxxooiP6Pfo5kIxno0kJdWqAZJrYsBBMUYBtGRg7RiY8nkhmtFC8ExgsYkN6O8a+iRgBYgMTyWNYpiyAaYuRNmI9H6AixXoxAc6GrH8lDRIYmMSYkaGwwuxxomQCAjVgUcPCu3HQgmCHFUBEYEqQIB9FVhzjjR67RZhMGlrDiZxA4hcUaLzEuwBxQvKMnTysKKd+g6YxscMVAZRi5+HY-6OuJ3izijRW47sS+kXG9i6u8MAQhNhFiUhQQsGVrFxCoAcjKsuIkbASKJEXQXojAKbH+JVo6j8R4EukeBHHAkDHOgwP8UknaLUwfR04sgIwApb8Q+Rz8AUdwHQmASN66zbCUkAYB4TA6vEYiQBIxjCNjajDMXkDj2CPsfOJQBBKxKKS08dsTWToB53onoTwgJAxhupW8Y1Yfogk42MhPVrpUhQV7H8ZoVon-iMJItBwe0IPDSS44CcTSZuGEkhDykOEqiSFEDo3heIbYlYDeGEkBjFQvEDJLhNMnB8LJtkt9ttBslxj+GItG-iEiTCPsDRc0DgGcMYCbjAqxtLCAG2vHpEyJ2CPoKyjzSMAnhJwjXscNRDcBGBKkxgXLXJCNhqJYaFgkVHsnGTqJ+gDKfRKSlpSOJMHZ0FlJFpcUmUpk-KcYTu7cTH2JAg8Ttm-pBTNEUYosnxHpY2E3YVnDyLwG9otR5U2kp0bOLmjOSqAaGWGKlHvHzjugbIboI6KghelGQqUHEKtL8BTVYJD5MCMGHHCPZ0iz3akICJlAsCiQLcSaRtKYLdBGQxguafVN0KRZug4QR7slnOndB3YQU0AHHQAAS3iBgAAEFwA4AbxAACU46kAAAPLodkAQIRmojUkBqA3hxYBmNJIcmkTjao0rZldOxk4Shei08aXDE8GpSsZRUpIDf0WmdAFwFUhmP1TpmZAMZyU1MkFSBkgzwZkMmGfDMRnMzJAcnCoOTPkGUyzy1MxAsbUWmbiyZDAG6WmklnX5xM4sugEMijGHCzE3oMWe8KpkUS6AuM74QOLejDiR2a2dCWnT5JV41AJgLwAlLZkCYLZlkAFkZKSCkSIhHdfqQ7L1muyDZDEwGDTH+k79GouQBwBkkZAAAGIUmYhqCOQ+UGQS4dwJijUBBgV0BOUrjDnaAgQwcjOUeMXp4hXpCYHOaHKPH9UCYsczEXlhJh-Qc5UA5OZBCh4uAsI4vU6lhFrlJyyoKcsvtXL+CvjUsgQKUpXPFCpBqg2QBOeuSYLtzeMIAibGaAFKd145AiOuZ3NTlMQise2A7BVlRErhxEtWW4RGQzx3AK5sidkXEHTnLysoKc-DonlFH4dD+apKHN9jZSyjkhrkz5hvNezLCxR+A+wnQO1F7dH5MOH7MHJinSgS6Jk-qR5z3C-hspsE5iepFalL8SBvktiUgu8b8SsghAaBUL0hgaTdcmESNFVJiAK45JfsBSZQWVR-AoFY7GBepIkn4KPOjo2SR+PIVf13UVCwgL+CwW4zQAeASEPwrwXYo1SWCnSUJiwicKheDgcBSVPMmxi325k0kG-MKBSLp6EC-iMYLkXVSVgxgxRZ5OdDUwfJiCvHn2PfSLy+0zxC6lNLmZWpVYFi9ouCGDlrN6uwCUaSIhAXG0jEICy6jnK4LuLvhbPThGfC8VC8F+bAMrL4GLg9F4QDgkbkEvHnzTOIsnLFMHLHlkwypvs9KS-1JGMT7peI4BP0EYDBzGQA83OEPL+AjzwEICvckwRUW4hBpQg2MLUrUWB10lOMvRW8BcWYV9A+SoQGYsskrBaplIxuWAtUX1KWJfktBUqWAwODPizXF-qkpxoXlul1sQpePNsldTJAPUxceqToDgLBpzif6VzIYBQzrIAAGW8RIz5ymQaOQLTRkDSE5+KSWYbOGX4zhZE0pWSQNJlXT54wcx5frNplCz6ZZi-FJdRZkLhflPJb4UcpOXnLwAgsmcGTJ+UPKiZNM42sbJC6DA1sMs3qXLIVkorECSihoA4oTnqzFx8ICIdiu2UtyxUJKgcXv3oGycIVTy-2UBL27GypxI4t+leCKXGsq8SSsxQsrHb6z3Za2T2ejKZXCqWVCSjyO6n06NQR+pUrJcyq4aXi0VUYk2VQDNkrBmJ-JO1OitNHhizxgwbWd7LPKtKcJIqrRSsGvGMrkV5qt2VKoPYqqXx9A2ZQqpH6ASlpgkUikwVaAbsgQ20+4Q-3BBuqX+IRPbn6ocAITjpGoEgbKp2ZzKyAw-F-p6r3EODI14CP4QyQf7OrtxgIipSLKWgWSppDfZ6V-HthCZIsZa6VeYA+DBBLhqskkWTOu6qz1ohxMmUtEZn0BxRRoB6X4EZC4rywt0rtYgUDKNhDuLdO9KapClRj2OJeSlQ+O6Ab9dZ9AUlUaPDUNBCoOIZdZjNXV0rX2WEEddwGvETqB5+RRtXuMaYNkoI5wfmv2LOGBAzFTawmX4pyk9t9ZjIDpWeC6VVLyQ7aq6UWv+U31Gwj0oEIOtxC3SlZY6pgqeqnU5yBxc6vSAuuWnbAEEwctdR9A3WHt+A26tDbSo1kHq1Swc49UG1g27x4Nl4q9TUNCJvjXhOc4INOpbUrqpZ-i1ICkpHUiTB8dGhOUxt3WIEHBrwkdbxvZmXVBNqs4TaiHWh1rH1I659SLIk3OBGmkUNgDrL41XMjlPM6GbDIRlwryQGmiGVpv5mXLD1qskjTyytiqb2Z75CcYGHBAYhjFqWbjY8FfWFBpNjUHOa9GbW-rgJAgCzcCsZDQqzlFypiIFthWMg25Ccszcaz82-LGmgUOzURnzXYMTibwPpPAUKJTS5ShRaWvk0sJpaUQNRccSgRfnuZ+qfmVLYdCSHuY7hZ8bLZMOziRMUW+W8ThltY09cXYdWu9c1Vy1NbDohWoKiVr5r9zKyDCFIM1oZKtbhlX8obXXBqBiB50fsBVZNtgmDbfuAaZfNvmW17dVtLw8zAoH+FbabNStP7CkVAWpb8Ao8irSiAgq5qPo3XSJldvE6Pb70OC2bF6ocHnbR55W+gONvxTPawgb80NUmrTIzhnt3Sn7ZVrkLa8-Qt2wSDTC3XiYRAldIHUP1OqfbR1b4prRdvAS9brtqa1VW1sa1jb4CuOqLvuOmUSSjx9YwRBaOGJrYUdeNHrcToK2k6Xt+Ol8ShGVZBssdX2kbazvxT86odyhWHd-AR0r8rIDOzFmNux2CcY5xAebdvkUIsqvVQVdlabIo6ircmkrSPg0DZ4M7JS8uhbYmqH6h8AdeihoBsuClerKmN8HXUUFcaBTNlM67ZZhOgiwRmg6RTnSoTe17j7oCOtfsjqWLG6MW3AObfOll0NFyZh3TbdvNgnQkjU3EfjEQLFEhxGoWXBdgajy5rxQF0Q7-kZXpns7txaqxcRqs5XacamWu3kvTqj38AvoQIgBN1H6IF6WVhKqtpWCpi2tPJsddvZ4Wfw+EXZ5iZoLnsCEGE9++He3dSEd1W7NxmEvSB7uAweyfdl4v3ThvBDD7YhDEQPfji0DB7Tq6+oIVDDPZ4ibgLArFhaMZAABOE4HXDP3otrdRWm-TxAtFeqJsGSVWKHpvr5D8x5atEcKNIIuAlsEcghrEFv0sZm+zfKyGgCgNYaVRlEHESAaf3otg+HwQUYUFAMv6IkKsY2T3GvwuAZWfVLUWIzQOIHv06qzA5uAgon7RtqLC0aAs6DhLIlfOA0vWsL13amJS+xcSvpzb0H0WjB1ZhLqD0j9k+YS3g90XPA3LYY8QtwMHrIJ0BCoJ4MgBbHdTg8fVeI1oIyGUG+BVBUhv5bcjr1yH+AsPI4PSr-WkE-kShiJGcn54jo2J48eEPo1AMQg2kzh2-qYIYEv83khUGIM4eFYWcVwjh5-sDtaDHAhRZJFiAOFk1nCLheaYQNcNKk9rTOsRp9QxqE1ibmNQ1YI8qJdBmHFDX9Sw3z3Ujuoba68NUQgZoNIHwQPhlwyOsECxGuSVR5w9VFCOqiIgbEajQ0EcOVGGj7hpNcwWMKMwGjjRrIzEHQObi9V6qrVV5NzhWzlCgRk3Z5Pr3jxG9X0VoIBOPU96lqPLYnG2P12rHJ9bUbqc7ofHRS6yNGxGrlqECGBHIKsaoIVAnlqGNDWSlQcwBYE6HBJeh2Q14YrrGGzsDDXLcxJ+FRZBD8yvY5bq2XHHgMpxo7bfzT64gFVixkEdvj2PMMKUBgDY0G22OurSFn47FGwuoBUK-xp4Z5T5rgmrQwJq0EkVBLm4Qw6pphgwLSP57Psb6gUJpSVIIl84iJRCnMkSalVHAfOf+jEZFlPD0E32fCgRSCTxG0igQ42SbC7R5MwTpgC2UCYycQmxrYwpQVk05Nazm72TX0IiRdjd15g6FfoUyKQp7lkx5TtJ2A-qAHAVAwxWWcBDyegneTIgvCsAPwshA7zC4KCnibkOBKKmPiZpwk50FIkNCcAOhmQ83wqn6ArVAAHSwDsaDVTAc4TIGCAk9Pd4rQ1kgTQgQGZEuR4wDXAjMKqozqUmM1ovjOJmwxyZt6GmcElaTeAJ4a-D0CwgNnQAAALwvAxB4zRQDFdWdTM18OoXLbgB2ezN6Rcz4Icw1-VWZphUItUC4+8GuObgozSZqI-2ZJ7Rsi+kAyuiwErrKBK6S-SYM3zTB4Aiz8y5c1WdXO1mNzpA8TNud3P7m9+456qEAA')">function extend_if_possible(variable, val, frame) {
    const binding = binding_in_frame(variable, frame);
    if (binding !== undefined) {
        return unify_match(binding_value(binding), 
                            val, frame); 
    } else if (is_var(val)) {                      // ***
        const binding = binding_in_frame(val, frame);
        return binding !== undefined
            ? unify_match(variable,
                          binding_value(binding),
			  frame)
            : extend(variable, val, frame);
    } else if (depends_on(val, variable, frame)) { // ***
        return "failed";
    } else {
        return extend(variable, val, frame);
    }
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p36' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Depends-on?</kbd></span>
	<span style="color:blue">The function <kbd>depends_on</kbd>
	</span>
      
      is a predicate that tests whether an expression proposed to be the value
      of a pattern variable depends on the variable. This must be done relative
      to the current frame because the expression may contain occurrences of a
      variable that already has a value that depends on our test variable.
      The structure of
      
	<span style="color:teal"><kbd>depends-on?</kbd></span>
	<span style="color:blue"><kbd>depends_on</kbd></span>
      
      is a simple recursive tree walk in which we substitute for the values of
      variables whenever necessary.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (depends-on? exp var frame)
        (define (tree-walk e)
        (cond ((var? e)
              (if (equal? var e)
              true
              (let ((b (binding-in-frame e frame)))
              (if b
              (tree-walk (binding-value b))
              false))))
              ((pair? e)
              (or (tree-walk (car e))
              (tree-walk (cdr e))))
              (else false)))
        (tree-walk exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_21_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5IcO8JuC4oFBiLEIOQSUxAOigHaOQOS+BmBsFIMMTay1QCeVAAYEMFJPJoFCabT6Z1+SRT0PdOEgw7B+kYB0EOSi9Ezznok6gySQ60xSMY0AJAxoxE6HksIREx7qFiTIeJ35npNiyTkzsZT8l1MaSkkwLTymSmpDEuJgwXTtIPhjO8T8WigT0Lo3s8VIr43GVkY479-iAgAFTzJkCs-MoQ7zVWoFFQgW04mSB4IMI56s0mhGmaJDw6zFnRNINUkeJyVEthPnMx8Ho6aUHwIE65tyThHEKU46iJSOi6Lpl+IpIKGodCqHTaooB5CyAuYUaZ7S7m9IeWcgZ7YNLrM+XTcIPy9DooBUC4pMLwWEs7jiKF41OhwupaABFSLyJ1iZTS+YgyQzZLBYy6ltR4WYkFTYI+9BvB9COc87F95oIyCpdYK5eLHwYr0limpxycWvNmXIaxWQCUpG+b85VoFjinDpaChVYRZCWhdG83V6z+hdI5csVYehAZStsSsHwMrhzypME6jlQaXllHtXq-1EJ4WIrkMi9ldM0U8uSaqvpGr+BaqJCa-VkamVGpJYm5xZKLWUpRQASDpjai44DM2HSwGW4NdNXU+EbY8yQabZU2gDc6+tYQZzVs7FUOt1gWUxrZV2619hK1lHaYMP12aBUtJFUOzEd4cZ0GWOQbxegWBWq-GwMlgJdn7MWNxetBTD0HLHTYIie7TiAhiPlYUl7QgFPvRKp9V7EWMGYD4FgKYACqxAorMMYs4CxEEmjOHWQRQE-LmWYi-Ku9d3iMbTLA1Y-561VD3XDZMqo0zXGLLQ5WdZegD0ZCPfmaZdiHGAqI6+Ejd7xWMGFBCc2T8PAxBxrEECWQZ1yt0V+ZtPHDrtpHPXZwHGnExB0FBJcEzJNccmGkr8OoFPSfE6VTj0moI2j0Gp3QAm1oun05MGREmtO6EkDESQHjQR6GE4MWzTxDMNnufZ8MZ4bFMFBBp2GAknHubk7x0TImnPyuU2tZt7GLP6AcyFgN3nnMYzwPOBgHi4pQDgIgZA6A+A8EiRSFQ0FQYAllMoCRjtR4KCUMOSMsRmTOoKcnPwzqiIPHRA16lZ7yMHLfEiP121qzIlRHZ5kgwyudOpW1qQvZAxUWzOB8ojXEXWgVumObz5NyleIOV1rCxhPzY3AgzrhKClFd1Qdzbx3qYTb2xEM0Mp17KmW+d1hiNzRPdQYinbk3CXTbW0zRoLNCb4JJidumZ3VvY1xiCXVeDEZg5uz9u7Ug5pLa65h7D853UXSSrlUEy0qHxEDd2wlc0AFALG++plt2psWzHjHdHp2Vv4xTkHNn-tV7lx7uUcbyO6fHxqkziHLPdV3227tgXUgfrg8KJD-GMukeS7+5SRYsDMGI-iMt9BcJtG1YEnoXBIOEdbmVHz8rJPu2iz2n6zO8ixvffK79umFSv3ZN5ABoD1AQPJzhIyVQMNxDOHO5oAS0HD5Jx14bkggw2FV1zREeGlAWCTRCjZn20fiCGhRV+HX-Nk+p7GNj4QsfGCULncO5FCeZusEWPpJx6evqZ+z3G0ACbRJyBo6L0PzxKLXWEJ20ndM-Oyi6GV1YtAhR6Gp0Gyi+OlreEzgPy3Q+6ZsJX6vlIuCdsT8e30AfBrz4LGBgNhGs9TCXoKSfuVa3-N9DP5353dOi0MuSJX0dKRvDfsz-+wDwHnB3jDyLDkQVQ65bJLpkhJzW6KC27aJwx0Dm7gpfjMKsJl6Zysy5LM4lByBdJETNoh4lZCJyJl5wGcKIEb5MrQE6YjiZwIwiJoGkEhyIER5FyvbQ7Mxw7G4cwS4uaVZRAwQEEG5ayEz8ydC86O6Ghdry4aAlbCF8zFjiG0506CHPByE6yd6KE-YjJJyvYc7ByIFpLV5KAsBDwjx6F1w7prQv6wrCrRpV7EpLylzNzc6VxWozBrQqGG4lwrygxT51z9ATawbv4oqKr+gOJEErzGDUHkSApjqeERFlx+F+BMGBEtJGHX66YJHEjREt5jpfhZF+DRGwahDBGt4pBfi6EM62zT7dp0GJGtyVwBFaELrCqejTIkAPadCLKTLHAAB8oA2BVQ5sVBHR72MKegB0qS7K08+0O8ExoImBcuAxO8LSeB3qegoxAoMKgwIxIIYxYhLokx-ag6NMkBRcdApkxAyI9ih2V4isZ81gRh5hKEIRbeYRzW+8iyHO9RjIROpgxRR+A8Jhw8o80c1RdcY6BS2BY6REMCo+Bglx1x-YC2m4S+3hPx18B8FB9aFxOQSJtx4GmcT8ehM+Q+dRzhGcrhh+pRZSMxs2pYKJ12WuwaZ6PI9JyJR2r48I1Y7oT6-2l24EW2suHKrJ-wApjJXJO0-4T+HKREgxrRZxZ0r24uQ0E2aS0yZUiy-810zIsG0y9qDAgKuJVx+kHJdx9AemgCcIc6bx6YQKnRKSiyuxDp7qOqvc7hDYnhZU2JhKI+De4+zAe+rppkMagwmx0onQCBEhLBSpq2iuX2ap0xa0T8GRME76nh0MXBBCxOpJn+P2MZhWq2D2SRCZP26p7xfqiynhxZFo0Rmh5WsGD2fWF2cqegNZco3J74DufqiBsGX4fq2hrBq24pnJmuN8EhaSTZnZ-WrZI55pzZvOLSnhc54GdZDuE2PpqRCK1g5sbBYRG2gpTJ45iZmIU5UpdZ7JBJVi05-4m5+uqh+5DJo5VxA265P2m5zRaEYAqWsUbAmWnAOWvAYSBWHUXwjAMEMMvB8wgeZK-BMgg5Z0T82O8+9gi+gw3pE5SZDYgMDMJh9eXQ84X81OKFhO6FVpvZfcRcEQ2kdeRSje3ohuUFF8AMPI+AKYNF+F9F9EGmc+i0qFK0+ATFSyloqsbFoAUsZmBAPsFOuuglEW2FvQYsxsYl6skl2+ygu+U+clWFOIRsEsYlpsCFFIKZjoF5tAd+QlOFqZsctpFlklEQ1l7mHa8lfBFMV8TlI4KY1lD8Z01lt+FoHl4WOlNcP4ZQs6BZEogc1UNIlmAZk+AVJ5HpOILoW55sCRYW2iZZwVtCBwqVd4UV1AsgyUslEYTwBh5goQ8GkW6xYWFFtQ0yYUxhphSgO+gZQoiy8pbGWGRepVtoUpUZtuQlzaN5A1cq-CaVvVzZS+vVUwlVSVIVhuM1alk1sBYWs12c81kGboa1RlkVMM-mY+rV8V68-VfGoZpUVIYwiVR+WQugIwg2ioqSZKt1Og911oixzOUW3VNmvVD1mQo1MaCWHgl1LVyuKuL191I1ZgAAPPFLKK9cME5R9Rjl-u7oCAACoZCYbEBpQULuCtzJwHKwKdBEQMQADUNMm+zW0Qug3yuuUNoAFNX8QIjNlNm+hgNNak+Auu71khQaru3+GNWN+AMgjEkoZe+NvxhNauPQJNLNFNuZ1gHN0mdNf1gNrNzN5NbNq+yttN3NSNH0wxPWiwzZa5Up5Vy6OhO23QGQW011W+ScxpatANUxeR3CGSRI-VMpLJjuNtHCNRVN32oYhV2mcVQZE23t-Nvu1YZqgKOoUNitoABSOovNidRETtM4Xt6aBtNpJRaRxKZWsdWUTVIJYdQobhNgqNaw5tQIAG6QRS0diopNudNgNJHK0yYWiy6Vv1qRHKX4TtYWU1i1PmPp3ag9q1M1LdS6edm1vtuydtn5IFYgZ5Q2r5Nd1oFt2yVtygftC95Wrxd4TtI1Z1rtfd7tsxc8Cd3aZ21t89AdQ+BVMVMmZdCV+Z1O6dUpRd8dXtpJBSFaKd6gANkdTK6dlxiEztCWLovNU9zK2tRQBdO2RdjVg8pdR1e+Fd1gVdatv+9dTijdmQQePSWxQo4eAJQ6dhH+TKHdvVXd6JGVvdTK-dYDg9I1w9zmo99a49Y1bD-qZDcGM9R+ZWu9mVDZnoKWPsaWni7AWWXAuWGAS9PoSeKeVAaexeJAFWZMFwl8gMJeQISjhePlFI+jKjYwyeJE3OW2A+SiKmYCZQB+KG7xxjlAqjEjTpPIZSOFGozNNgGoQag+KQOFeo3j1geofj2JOFjawToAjaYTHjEch4UTh4sThQOFPCcgzNaT1K-jYQOFiGYYcIzNeTqgaUhK2ToQOFVdwTVdHKZTNgOFG0IwrCHgdAX8DTwwTTDAdMtT1gOFZNUTNgegMMgw1pfRoAgeFNJT3TwlpGhk-T1ggzwzZgRw-RgehkoAkz4TEcmygwKQCz6zSzKzoAKy6z1gUzOFwAczgSQz+zozgeYAGzcTyyAApJc3syM8s2M6AE8yc6AGcxHACv028wc582StaZs8sgAIQnCAvXPvOHNQuApguPN9CAjQ2vOwvAuB6w3WBIspMRzQ1HBzNAu3OgAEs4t-PLK9HouLMkv9Hkvgsou9GEs7OhDEsfOB5Mv0vIukYQuXOfOhAfPWAQs2CQVlIQhUbRDKPONF7SUjXHAtIbRbQai2KSuF5cWNC9wSsF4mPquQTUAeBWTBKGkKubSZ6jMROqsmPM3HQH5TNhBOMuNfS9xYBatStp7smGnTM4XWHM3WF2uB11MRyQDEDjR0QFM7PBuhvDz+sBvTOAhtOSCwCQDBMJtJsxsBv1NaDtN4RRMJt4TpuB04UAByqgRblzJbRbwDsb4rjjlr0ra2JYTc-V8rdMirhuozOoglKr2r9bHrNbdpDrYwl5tuLbhQbbPyHzNrho3bbrQ7j5k8Qx5CMtI8g7uruQujFCV8Qlee1mUKjAcgcI2mVkqgagFx0QQ899Qaq7ZjWQQolj6jHDKQm7h4lQYQ6i5x2IJtL9FcQlfph1GlbVAV76cJAWq7lEx9cDQ+q7l5UNj7oQIHBwYH0l+rhrFAUZid0Tdb7r870RTB76yDwJI837-xbR7xjVOg1UwNcOaD7VRpn7oNmlAVrG4jTrv50jAF3AmACjtlEYFAkg0chgr4G0jAr8wmQl28ng3g9SoVgWnmWawDydtj4DYn2eTNkgWtutXNuux0KnwDREOnHmHyGm2kG0o8+OAkgsUQ0mp9R+JkpA7gs8JWBgsepApAwLDAFNbZrnRdgIDEBSvnoApNKYrNdnBb1Kvn38nN41d4bMCk9NVnugpelCSXohcXUwJaVVDYmnGtpGrNJn80sg5nYhbbm7sXw8SXB8GtJgMGlFZ0ZXI8y0LAbZZe4nHtzXkwLS-n2BJ6hQ-2gMFCZg2wta8zaT4DA3ZgQQdSLo43oACLQIpiCngSOoA3PnpiUhPHJkloAnlYwnr8A3XaREeg92MtcCW2K3Q3JxjxrgdmRubMJu7XzSg6-nuXFN9X4w3gTXy3DB43ZgCtl3DEGn55e0B0me3ocsoOuQM3CtQaAPrNb3jX0nY333LXnYjNw3oQ4I3Eg6eBsww8pGCTSXKr9gIJjXfNvXCwza+3Iu9XpGkTOxPIX3kw2d43RPcX73jA26ta-2mnD3nXQIAA5FrRQhrYL1z9TSrfrQN5JW99HIwLrrLyM9lQsNgVuuZF4D4DqAr2F0GjhZJJrdkprcwsKGgtSBKpreBVkOCJISWgUjT5ryOHL5A26Fr6zyTx93p5h8T9pwhC7yGnoL7zLw79abtWIMe6e6QOe5aH6vzJFOzKQa16widxrrkDonz7r0n5uMzbd0TFGDonBzYG22H1SBH5QEPNETH2RNSBV-H2TykP9iD6nyLjhaYnHEDyNuiDoh76zCH84Ar-KP7jDBX3HzooYQ4dAhnwgp3yih3bK5-bEeWm3-tDd9JfDtwZ3wCRK7H6b10Gwosm233-CAP0P1X+LZQjXwCfkbPzHfupE3z82jqPDFv7IDv2gQlsdI-5X8-6geXrX90uB3P7egSZ39mAn-BMGwlWJSUvozZHzkXzPal8o+cqHrq0mbT-9qw+fHpjyFgEl8y+0fD-nH0Z7oE4YAED3igKv6KgVWT-MAa-yCIUNxAY-Jfh3yIFUovwzfZmjeWGwMDng6-WwqyhzweE4YQRd9mdCAJcCiBLlTRvgSIF88dQjfcnlgyMS10-83uYPFmXuCQY4QwBUhrVxliMgGiI-JXonnWKyDWkKVKQS7k-Tf4FBgIT3P-kRSqCIMtlVuFoMVIUh+QEqejCwi8CsIOgwYXKmIKV4iD4+PnNwcxhq4CIi4+wHfqb2Yyvhro+gzLsQgOBpg78hAxYIbTFSNszwBuBQbVSBS4Mugi4SQD4icRZBGAuibmBwl1zxCvk9ArRFPzKJhANSMWLUjFisxXF6GcMRzEtTdoNgTMRdawtTgKQkB8hsmIoZJFKGkEuhPmd+m8UWC64TMdZEzIfhKK0CjCkgtIRg2UTNo-QcwxHp30GA7DdcpgjYTAzbqMN+BiwPhoun4ZH5Dh8fHvtTWyAsBE+wBBvMGHyZiE6Azyd4cUwTB0BzkBgtrl8MW4-C4Qfw-gJMggH38EIwI9AYEnc5RAnhLw0fFRA+GWc7AjwSdAYClhwjY2oQUEeCMYRUVdB+7bIGngJGCxvh8gX4V0H+EJ8VewIvnhSOkAQiSB6xeOjiPfQ9EPmMQZaFkBPZgQ0RegZkf8MmS4jCU3I-ohzSREzgpY6Qx2oiMxH4AwwRgU1roxs6coACKo-zJEAxFNdpRmI8djHmThEizoyorQDqINH6jFR26cQT6AZE2jFu0JcwbyO8D8jyR1IsEQcHjqOj0BkoggNqNlC6inhvgPUViKtH9ohBhWfaiiO+QNtegAVOLJxHHJrVyydpPoYCgWHWYMqcWHagkPmAZjzUwKelB0D55-tZOj4QYMmKmHOYoRFo7wFcQaaboFhA2JYVWK0A1j5UDw9dMtEbFaBN066dsSmJmp2jEsMRW9PgC1CdAGIfPQEJOMJDTiIBlSMoIONADJizAfPTujuRdGaJwwegddBuJFx-srMigYsAmIrirjqxY4j3oYLdQHitgOwW8T4HXF396xTgSQE2MRougDx4owoC6HXG-iUgPYhsR+P7GI0H+WgbXrGx1AASMOY9SehALnFTiOgYQ7jk-SyDkBIIVowZkNXWLXN-R2BCKkWFGDRRWEVxEIQggomNBBgffVcX31THsppkn4pSh3i7zAT3xn4-3kHwWjjkqJtAQYHBO7T0Tuhs9ZiQ-howTjkJSAsIFCRWLmD0J9gLCTaK3RgSWJ5+Iic4EIBFVOMsMfcZBNHERAeeEEkkA8NcTBjHgjyaVDUgBGYgrkiyVxJZNOTWSbS-dfocWNBRJ1lipQQLsnAeE6TB+RyFEHpNrC2T3icSRZMZJcnn0tEcSMwP51MQ+S4kGMDCaAHRoAAJPCJIAACC4AcAHhAABK6NSAAAHki2yAQFJ1TvAi0N07TPiRaXYnEBOxQlLSaY2BQwxgpvYxbmZP8lgDohMITOA1I95mT1AuqOqXQEkrDTSgb2B9Bqx6JK90pmUnKXlMKklSypE0idD1KiEzTFYg00cWZOwn+TJAgUiWINJN7bTiAdkG0WYiqmcZpp7gnaW+ManXjRxVomzCqLbZPpkx7gPojPm8QhgooZEu6TEJJhfTf00TR6U1PQHVTvEQM-qR1IbFNSzYKUi3nOxIB+JAUAABkXZMJRaYsWeGMHQSndKwlAA4AJnxkKw0ZgkQFCjIpkkjWaPAPsmtBpl+hKZjASSk-AaiMRZMcnZ4HFhpmEzk+VmMFKOObSAgW+4Mt1PzIn6vgSZ2dXTg8LsAHRuZj4KQDEBJT4ypk7xKWerisQkyOquM7WRgl1mkzYMgBOwGMEYjqBX41QwoDMTqFiDISmOMYJzOVkTIFBhsomTLLBQwkKeRgswUylt7rFERFsq2XsKYGATg5kgS2XIFfjHDmkspOwZcNaKz1I50c1+CjI0l2CDqJ4pYIVRpATI4sG9Z6YxPeIZjNMUmSzNmN+q5iRJRKQJH0Lm5+tXikKCaNzVAk1S9MrQ1sTFgSyCTQgRcnanA2CJGEtE1oFvIHTwArIp5LSJoRXJ0AtC55bQn6nZgHm1zyia0BuUWIpSlIRSQKOmu3M3QOY+55cxTIsJ7lOoS0l86wGtR9nljC56gJqTQN4G5pgwrwlJMiFyBFya5PmWapPOnkQo1oSEhcShKfkjpm5-Ag6hWK8yryfMgglwRKBID7zOJiwZ5IsDbQMT8xABGhvunnHSRpJz6CiFJKXHWwqkKC2xOrE3G9UIBEQLRCgsPFLFjxcYuvIjAmRkLom6CmatQt3FNpzkZYmMQ3iYV5zKArCttGwtTGgA-5KyLhQtDvFSwHxvsu8RQpFyIK25nE78ZyMDrfj1YgEmwCopHicSH+GivEXTAf7aLj5dMNah7yAV4K-J0ufGb4F8IWgE+8YAxA4rXjjlAQKMwxprAygaBuCGc0ccdAzkaYaZ10AJYCIvq7xpwboYJYt115yBLZcIMCiOHBAQDjogyDWfKIiHLtWEeMrIOrOCy0SIZoAYST5jTGGA28-Iq4ijMWSKzQQrsrIKrNyAZy9S7xPRWpM7yLJL07SziUUoUgIy+5aYUMFpKjChhsg1SjWTorCClKksmCveW3PEk+dcFi4kXM6LkH3l+OQfApQ9CtJ6AxleJDObiIUmYSri2E9peJMNopSFpkgfKX+gAAyeEcqV5LkDYyi40M9pijIGnFKMFs9FqW0ODDtTBpfPbqW1ITCfL4ZTgIaROhGl5LXIuGbQRKEmm6pwVQla5bcoeXgB1ploTabCq+X9LIVL0m0ciICxPp9pykw6cdIhVZ4plGPFGZdL1Hgh0BZKvUaRnFmeL8Z9Kp4VbweF55wVDUpqYSrDHmjVRW0J9DUo+Yz48880FGdsq9T4qnpa1KGfYBhl8rvlk9B4TSBMKrgFeXE7wCuzVX1KIxgqpEcKo+kWLsF-RMdK9IQ6oiaRXhBvGNN1Vy8eJvYyGeYsKD+jeV+MzOH0tdXXi7WLDR0Q8JUKbK9VTq2pIGr1Gay7SlsYQPZPsC6gNBzwX3oCBDUK9wCmokpXGsLTuSYUfPTVeY1DVy9w1nY8yZz3MGxqSAey8yg0V96RqnhmciIP5MfDBSE+RkhCAeIm4BB9se4yKZnMMDZICZfUmWVcX8ltlh1tAXREYWbUTI6puReNGFJqSLIKVGqIKXOr4bTJ7OX6WsnVLLWjsh8zKkMf0iBB1TOVjwDNfa3sSPIzp90i6VaKIoup1idUwYP6K3WKyREE605Y6JtJnCIC5sAdXYFhVLyx14S0KQO0emLIhlfiqMC0sxDTq2pLawaVammThTAUK6keEFMGkbr3ib62sjTKtH7rSch6iycevZVZAz1LAC9aEGozXqgQdK+9XB2bQoyX1wLXDXKHw3frQFsaBUtx0iFAbsksMqMHOoMl2L8lwmvnnxplVzqIBfGuqeOvOkaZZNn6+Tbet0QAah1504DW1JU3Ays8rSu0pkC2m3rPW1ypaQVKKmlTMVmIUzblPM2rSnllPT9SxtGaGbBN-oKKQ2EBB7JUJ5CHwbCu2VqbMJgGmmdZhA0az9NFS1zZ8sWRor7ljy2DLFoxWLImN+M5zR8yi3eqPNOILzffFsUl0R4aYKyBngwL0i5iJWtSuiUK3QhGCQlGQfARCWNw1sRWkQKkI1HKJjh0XDRPlrXASBmtDFErSJsiU1aKtwiHrXQD62GJ6tgShCOVoRWyIgwvW6EK1qEodaNMDUHQKDC6A6qBtSvOrZwml4CwiZogxRLtpm31bJKFCFgL8Rq2jjVtDwwrdQDVlVaWtpao1REpQYFbaAE20ZV9qW2Ld61jwCAQ9rVl1FntaHatcQAm14cH6GynVQkTB19AEdeHS7kygB3bozYNGvkE4k1ppqg+zNYHXpu46rorIj23IMTqW2vbHRg2j7WNu+0gzFtLWp0XJPJ6ujSRAo21V6MvbUpcdYahIuTpEDCiGdaHBLGjs7Qo7-RxO0nXmlLj87wdsuyeBfM3yi6uwmOg3imB51y9CmvW0naxjvDraSs6+McWWqEqvTTVprJ9J3WWbo9Cgo3DXbrn10Wci1uuOPDSsJTHKlJLKyxZ0hR02A-60mDCR7pDE3yr5cpHeIrrCCi7RQmOo3jjth147BgDursdx1hghh7Ex239veX3GHb4E6egZOcAo76sWYNHJxQ8KwGR8LyI0ynVGuNVKj3p5u4NJbt6JPoU99nA3Pej7BZDVClesca7sCTKBHMBzQSVg372KCvcPuddLKkYBEQy98A6IlbyrYi53dX6z3ZwtJyh7SgUMyahGKj1XrAQM+nAYgPV1x69VzNffQgI7RDEmJAeMbSRGKaLIAAnFUBXQSBb9ZhZSW1uf1rp8mZaqzMtF8AJ6rURhB0fOsKDDziUzgMlBjM2FFNdc-PfnimDQCIGqNrdWgQ0PxEv78miPQwMsMKAwGf9dEKTq9OQgJZnAazCSi0QEbWA8Dr0gg2sEGAbRB+MBzOeoESXJLng0oQdVXobWji0dO+lFiweKZsHY9xWASE7uZoCGkl4wcCknvNh4DqQTuo7sQGowzpvA6QGkNG3KUOJLYiyA-n7haCD85DXyvKOwaUP2INaFQblXBuJQhRGAahsNrN1vQ0hbqLGV4jAZmaGQ1mhhkpUHyDzUZrAHh2Zq+xaRuHA+Yay2EaFga8DzA1w3NLuswnJQCZPgsQuEatSSbyZAmuTUps03XQUjfDXNDYbsPDwHDgKd2AuMZDghXi6Br-cU3cMBGiGt6yUEkecQBGAjIoSI2AuiM8COjwRjAzUcBAtGPD3hvVViFYkMABjHh5A1Qd6Nv6WVVqolWas4YWrFaoR4tYJPb2BhO9-vTsS+pH1yUPmTuXEXbq2PJx-dik5fSGMImRi868CsQAkRyB0BGIUnGINRmjUVLtDgKXQ0f0MN6TjDihvw0zQsOH4O6dDbBXUiOOWw44pxk5WWomI7wrjR+FY7rnWOMhNjEJ4uKNtyH2YB9ozJ3A8Nfmj4pAJMBQd-OcxpIzZMgEOTHO0SAHahe4-1JUbrnaISFYVQzl5npNoHbZRmaQ3wxWFRHqcGpBeafKrl2ZQsa8oNF+A8BuTt5pYzfAUknEjpFaREVOaHJbGtkPAOBlILUBLS-rCUMxfAvQp9rKmqTMg7PJNyNOxy3Q-qGYfKdkBXDk5R+c0-cM9CGGFD-PCiXoGMWgAAAOlgCk1q4UR8R-ANkia7YFhmizbPPWngNAgCjhVMEBCBdM6q3TfUj08Yp9N+m354wFhEGY556S3UhAGdAllqTNp8zoAAAF7TtrAPpsIDasDPBmsT6zQYOWYjOk4ozgIGM7IHzB1obg6Je448Z8Bun-TDeWszmdhb09lkXEW+JrVICa0UJhofnhCDwAJmtlA5jM8Oaa6jm42E5oEB4CnMzmrerZkUEAA')">function depends_on(exp, variable, frame) {
    function tree_walk(e) {
        if (is_var(e)) {
            if (equal(variable, e)) {
                return true;
            } else {
                const b = binding_in_frame(e, frame);
                return b === undefined
                    ? false
                    : tree_walk(binding_value(b));
            }
	} else {
            return is_pair(e) 
                ? tree_walk(head(e)) || tree_walk(tail(e))
                : false;
        }
    }
    return tree_walk(exp);
}

</pre></div></div></td></tr></table>
      
      
    </p></div>

  

  
      <div class='permalink'>
        <a name='sec4.4.4.5' class='permalink'></a><h1>
    4.4.4.5 Maintaining the Data Base</h1></div>
    
    
    
    <div class='permalink'>
<a name='p37' class='permalink'></a><p>
      
      One important problem in designing logic programming languages is that
      of arranging things so that as few irrelevant data-base entries as
      possible will be examined in checking a given pattern.  In our
      system, in addition to storing all assertions in one big stream,
      we store all assertions whose
      
	<span style="color:teal"><kbd>car</kbd>s</span>
	<span style="color:blue"><kbd>head</kbd>s</span>
      
      are
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      in separate streams, in a table indexed by the
      
	<span style="color:teal">symbol.</span>
	<span style="color:blue">string.</span>
      
      To fetch an assertion that may match a pattern, we first check
      to see if the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      If so, we return (to be tested using
      the matcher) all the stored assertions that have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      If the pattern's
      <span style="color:teal"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
      
      is not a
      
	<span style="color:teal">constant symbol,</span>
	<span style="color:blue">string,</span>
      
      we return all the stored assertions.  Cleverer
      methods could also take advantage of information in the frame, or try also
      to optimize the case where the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the pattern is not a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      We avoid building our criteria
      for indexing (using the
      
	<span style="color:teal"><kbd>car</kbd>,</span>
	<span style="color:blue"><kbd>head</kbd>,</span>
      
      handling only the case of
      
	<span style="color:teal">constant symbols)</span>
	<span style="color:blue">strings)</span>
      
      into the program; instead
      we call on predicates and selectors that embody our criteria.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-ASSERTIONS the-empty-stream)

        
        (define (fetch-assertions pattern frame)
        (if (use-index? pattern)
        (get-indexed-assertions pattern)
        (get-all-assertions)))

        (define (get-all-assertions) THE-ASSERTIONS)

        (define (get-indexed-assertions pattern)
        (get-stream (index-key-of pattern) 'assertion-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_22_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKlYFDjS2UkZLkrNHRUug1MScwrCwWCgjixx21XE1QBhOFNSRcwirCOQZRKhKXBqozKBZNlaTq-1-ECJr7FK5xyrJLyXO6iEyjycIzzUWR+FieVexOQURNRCdQDoGUZqW3kmkFGTMpoLaDP3QiPNAYZRlAHY6Hy6wwCUtFQGiOIIBgeAkFQNAuTQflJsZUBlFUItcCYBg2KcQhtDUWJhDWo6gaGfBYncBxslIOGRFAAAfHGfKR1R1C0DGsckPGCeB9wOu8EJSfhimM2Bq6qMx4R7rwSF20JtxNHCNgmE8F9YdIAE9HhTRj0R4HmJFkQADJ5bOK56ZEAzSHF3mOaewYmEIBaGFVhGK113n+cF4W2eC-XYgYCarB1zbGlRygV0oMGbcNuXjd05WLlQtmYwKx3geDOhyE0QhbcIElveg6WVDNtYLbUengrDiOo4YGP7c5qaKgzyPo9m53qdZsn45Nv3DEXF5uADrG+Pux3C6zmOmDYr3A5ExG68XBvhCDgHueBoqQjPDhiE8fghuoI3K994Gk4FoXU5F4Kx-byfp9nwhc8dzeJ7eHeWtUUvXfnh5e5V2ub+VcvB6Hg--XHpht5n0-O8vqRr-9+-6--nLJ+XM8jAyHBoY0b9j4f3bN-O0Vcl78D5snVescraGXAeQSB79d77xARUTB2DoG7zPi7B+6Zf413-n3QBgcm7gkdoQ3EUCp4wOGl-OOV8q40JVAPehBUbAADFIAAA0ACyABRHYsheDT2IHiUkOsoGWnIO2UkoAoqqJ0IZaeqM2D8DMjYfguBUjSBQjoZQSNxR4ksUkdg3g2BbEiGAHQpBSC8DoFsEAmgtESjQG0WIwBqgKHkQAWn4OqDgsRGjAAAFZ0FCXQae0NgDKGsXQYAAA2dI2AhGiMkdIhgsRKADjxBrPEXgah1BejEeIuj3D6KYNTNgjRbAkDKXoZx75pDOQ0Y4Dx5iKmUBaUDGg-BQCVOINUqKegrSlLMVaNYaw0B50BsDep+i4F9EXonJB5tUFp0Mko1MhBVHODwfnJkC0Gn8CYAIRwttTF0C2YjGE7I6Dnzdh7A2fgeHkOAZcjE1zGnNMaC8quVVmCTLqJcP+vDaGNyHqskeKgjrgp2RLfZls4bBSOkTQQRTs6uTBA7fBNA8VcF4LIKozh0XZj+arElw9QEqBFCpds2JKXUvDnPThP8EG7OQSvbFotQAExmKSNlZzqCcs4FShgNLqAXMBmy8GcrpB3NkIYPl8DfaoKYLIXAhyuRMufuwNVVKmCwTpY6fVhrDkHQYWS9aAsuVMCOGgiuXC9XEgNcsQ56QmXIpZSDA42d5E2tNnslBIrgqMDDe05V3NIWhpHO0+mXQe5VwOaSeNab5Gkj8CLLozdnV5vDcwNQBLi7PLjlIb19K76RjoaWwFKwemzTcKkYuGaKHcJVsW01zrqWdurUS2tbNM0L2zAPEtTrAXAyKSkBU5b02DqzRilmvbW1rJUNPNQ+Lu1Et7Ru7MzMRhjFnUikOKhoVbO2WewVWK17oNJNCpNeQU13p1Q+21L431qjqIWzagcd3c2hU04ZYKf2-poAyoB2tnWh14LI8g6pYE-oTpimNL6cWGWSKh9D5yh1trJRa7ltLMP9rhf8sDeQZ6aAnV6-lvsGV8IBYDSK7rpCMe4HYKdDbHTntGHxjxJHAbtoPQx0TAmWONouPx8T3MR3cd44p09lZ-6KcQwulQ4DuCUqlgK7DwrU6UuCnMXOwbEpLE4EwPk7sjDw2gutdEJwZR1zUnWXVj6O4z3lCIBYpJLM3T7E0DmUQyVbVevEKAcBEDIHQL9LkzKKgQ2HASw52cBx9oxYwTwYN0u-ihjDQOPkFggbhj5HYzMDaq3KxiDqJlSFlz87+L2nymDuz1nVuWfhsufF8oTQ+LCT4YbK7aBYRWrUvy3sQlqWXCA5eq4TJh3hRtsN5RNr4U2fx+YgcwnBC3167CW4N2yhNW49rlg16bV3j0nYGyt0e1B2XOFlfKxVhB6uTd2HtqVHKVxcoVTy77j2zvPb3cC-gP2duVVhMwHWqpod3I-o8hwTHhAcXcpsDZtzQWq2xzjmYT3bQ1ZUKuiNN3fvTcp17fY+bK1dsJTHTHQh+sQ7J4Tb922LJ-exDzvDpOvjk79bpWHfPptovB8trnyHCPHd55sBYBHPBgqK4cVI3AlHA6+4T07OWieAX1d1zuzyGNs45zl87sw-LSACoc0K4VIoxSdjHfgnBRn8+K6kVKQaW4obV9rogfgLfpiwjLDQsQzmlKYEj0oJg1o+cdKrhUVLyDR4oLH+PIfgg8bnc2SCNjNwvdiLwSgKY49kuD4QRPLnJD1WpSMIIhINeZaUQThPRvie7E4Kkc12XHzUB7eK9ySj7kGyeTX9no-OIW+7z3qQOultD7biSBPGE5NCdRSbNrI5sLik8MIUfCw8WdxmzHY9Tej826G2dF0+YhJQVjP5doNfgphQitFGgjtSCNHsF7qnhNM2OCNZkyL6qblJM8pSnQFbtpIjFxhbgZnKl0DZAsCzDZDsMxG3lrpJmeNJjAezgbjPpxCbmDGbgfvgfnsgWJnAf7s6tNgDu9kDuqiDpRuggNj7L5uoPvjgYbKqm6vKtqoHHQQTLthllrgIeqhfpbsQQTH5JDJIa9uRu6kfvrgNjpoDLTgzhWhmnAWtBHioEun-qmroYOtpFvjQPfoeOlEXkDCXlDgelWkejHL2hYbMIjHwdro+E4cztdpOuzhoSiE-iWOZPVHgUTHDHvhVOKl4REc4Szp6qQF0D4EERuFkMDGflJN4R2pEWeJ3HXuKojPEWzNETJL0CEUnpsJ4XtnTtwLPvAr4WOqzr2qkWduUSARUaAfVEQK3GsDKEiASAAHyXQXrmBgFEgHrda9E0qRxrDcCeyyaWGExbqLG37zCjGjDmRYEfjcAzHhxzFsB+BkFMD7GZzzGLhrHagCRirBxlrqguAV5HysK7xs4GEOGmFrp0JVEN69TFoyh06HqJFs4dHJ66zGEro6FfFwyoFljoEXrio7AEbZzaoPFdaBAbavE5FNEuFJF3AL6iRolPGYktTPIpp1ENE94qYJE1puGb6VH15gnDazbPFjbsFYyz6WQvgjZHZlQfJkKMqz6i5rbMC8nsnH6cRcmpwikkl8mfKCmcQ7AszpSgGOzTaC6iqcEub1SgoygQYE5ywyT1QgQnSbREkYlilojcCgreauZBBnGHGmknEOmHhLjqhei2k1ESGGygoEmPBcD96uor4xBr5ulHCwGLB9GdB0GaHcxS4myLY5ZcGOgppZHtb1H0ReEUqsF659aUn+lnb0GAp3azGhky7Hj1SdwyheH3btwcIiHEEyStwtauzRHcC1klwCl9bfhSRwGHRVydyxl5DTYymWlg4cFnZrTNn8mtZfyjnzZyldkiHmReHzkvGfzZHdkDYElBEeiSATGMEsmynin6EubTmdZfw8kLnDQzkXx5n+mKH8FHljltlblnY7ntGgGRaXLRa1LvTxZfRJYFCpamzSD76cBGa+ye7qxgUMBDnQgI5V6XJGAPJyAY5+C+nEHJngGpySpxDl6V46yFqUkT7o49IYVQZ9nzq7ozZl4V7mrx6QXcHRqmbr4bz4X0UCxEVKZ5Dj5o5oU9La5MV-oHr2q4B+Amp0YVAd5QZCXYWTFnhiV+COqkqkaXLgzBnD7Hq4DCU4WKX+riUZBFmAypm76XnUD97OYoiIw5ppkjjAYiiWU8WJQ766RtkFHyWIJCopwkidy4pmVSQfoVB2XMCOXHoeUuaUIAIqgFHGVxkkCYjhzQwaUDir49panWVVyLi7kTERHRB1YZU6TyaGA5VqkJWUCMBNJgr5W2ynm9CZW+zMQ1W+CNngj1TlLgxl4mGD4hnFwyjKkgXw5wjNXZCfIRlm66XviPijVkLjVQHOU-6oUtleja6oXdD1VFWOh1zNULU1IGzRHPI7ViAbXLGLg7XwU0ABkokpVpUPZjWSRegYXBjMCFXLHeDQwawzVlyZoGTvWaCfU-iwm-bMQpojW3mPU9kelPWVXC4i4YjZz-U6BfWuyZoAA88NH1SNgN6xswU29ub+pIAAKh1PDoQK0gxijOOptGyKhmsDsOogANRiqL5zRaB6jQZjUiBM3AaM3M096s3Qzs3cDY040zB24O5E0k24AMBRR56aCU2s7U2B7kB02GSgBM35m9AC0+K4Ac2zVc2GTBTq183E7a1C0i0XWNadS8DLWvmfKnkohlUDiCwdTsivWzCOx0APHI0Q3Y0-EzBYZbrg1A3uRTZLYu12AZmL6nZTwVVaA3W9XHoDai1c7g14TVw+0h047PAqzY2a1SC3Te2oSc0RhjAW3mRyS9BYTZbp0dUQkJ1aUxzuEk741Pjg0f6EDUwphOxkL022kVF2GMmzDhGoUyh5WoUGaflliIxe10zNXLWHVrV+n0Tz0UE7X92dGb1MnZYR1u2fl3GArnlkJ21kIPUO30gMHh3Mh71JlD0vT3F0zB0PVLG2iB0XqZ0p240G671R047hqJXx09WN0kjJ2Um3SfLp11zB2f3K6bRyBMB1yA0PUwO25ml0zF362l3C3hmb4D3mTV1La13iz11ANr7N29Cv5t322GRhRd2hBp1JQdl+6gmgAMnioj0Gxj0+FngjVpEZgz3e3z3B2rUGwkHR17W2wHUiO2y4Nb2sMNXZg73X2T05YRaPRRY1JvRxafSJY-QYCDWR4Z4x6I7V4J4aZRreUHKlDBTp6Z7kClJBU0C2PGMsBl7eDFwLZmPTpbVNpjAb4cz1TONZ4mM-kygHK3g5ovDAZSAvB3hiMzA5pVjROSBVhxML45qMTJNTVmJljxO9A5qoJZOoJpMRP-rCaeDAblO2h5NSA5rZSyL8CNDAb1PTytJfA1OSA5qUPJOUO5PpP-owgazuruB0CFqDM6DDNbSPAdMKVkgM1ZNSDcCcB+CNBqwjGe5M1tMzM5qhILOSBLMrNrOgCe6hKgBbP9O4U0h+CzAHNnNHOe7khnOSDbP-rAB7NZDLN3PDHHOgBgDnOlO4UACk7ztzqz3znugLTzoALzuFSYCzoL9z6dqzFzJIpIAAhKaPC582C-iOs6ABi4SMiwC6i6jSC9i4i+jZIES7jv+qjfiHswi+C6AHS1SzC6i0MWS4c0yyMayyi2SEMfS9c70Iy7iz8wK7y8S2SGi+8z870KK5IGi1IBBbeGCIE1Hi40osHQSOZG8rCkcf4Oq8E0hYyHOmq0Y0a0opQO4LEm8Mkdq48Lq6UN8xk4a-Y3bL8r49Pv+OKkE268a+2HOoVL1L67HofE6S+DmtYWsMBlG0eMveIzmpAIQCon-tE0mym9S+I18DmuM0wLAJAMk7m-mzM1m50wM4IBMxIlk7mxIiW6WzmgAHL8ANvvNNsNsoPE6qvBuuuhtHlav4g6vJDa7fPbVEEhuhUsmmvdvmt+sjZm72ubCOsjues6Vjs9sTsTjjyBsB6yJp7rv+u0rWNy0+WTWp4sAuD7jSBq7x2xL8BDhe0aApC-13jjuuOyKJGeNEB1ubAMYnumAzCqllr9A22kM9qTVXUD6aWhkNHInsB8D7uav3Um3E6vsjbQPxu9CweGCvuWvWu2sRn533j7tzvzUYdSB11dUKigdEpBrtXiyaCYjuCcpQd9WEinhsgN2hlghdI6y-laMfQJbfSYCDWOWOBkBMBhpqDDQwjSAwoimTXnqozowMryf3B85sb-yqcG2khMC81m2616vRVl0zxYLoRqcXYqcme8S7UBIwggwT6pDCEaDQwv2wbBDEDEAowjCZbZCh4edHNbRM3tkefp2kjqJBbqL01G1M0RLEDftlhhdFrEwue7XypuLQbJeaCh757ZeaCapyB-7dAkQKOOja3G2khkjG22e3KMAOfzG6u-tpd-65d3DldCBpTUXcxNcKimKLQMYKfIwib9fmRBYsxuQXbrIvj9egCKxYB0TcDlNGftk8aJ54wZ2Lj9ciAEuGSWY40LCGfTcGTBbjdw6icRJniSdlQycwrDcZg7ALcqCq5oYLbTezc3GSC1a2w16MjkZsFzybfFACRBaVdM3deuAOCLR1xIEA-G1zcSpq1M3g1dbfJfc645mg7LeSwG2j7qK81g+9eGcbfUEA9c1w+9C0hmQCRYH2h-5kiFO5d+D48Q-meoMyy7G3ewPddkiZPHEvhQ8rdYObeM8089fM9zei7a2Y97eGQADkvNDG5Xcv4vIGznOtYK-XUlTjIvEnI40gYKYaevA3es79tsSnT4dcBvmbWbOaIQbAPN7QPNkUrk6cVQXYPNYF3gtI9wJECwXPFvuvyLyUKolva7BXov0gWk2xBrYfhnIfWDcf0f6XOvDgqzltt797xAj7+RUkmqNQIONBRvT3RGc8hmI3szpIRfLUwGaPn2GPhmZHkgur6fwYmf5AKQ0Ruf8iVQLXBfLPYtKxBVcq0vOalmRanW3WnsvfUflKltlvZ87udmVKefVQBf7xGRj3ytxf32hmFh4RZGadhI5kSPE-dWNfFGJfQ-G9ary-jAAsFuMourc-HyC-nfIOPfO-HRxR+-EDR3mTZfzEnmGIF31v6qYUi63f+Ev2AHJww8ffb4IhzIShdCm--IASDmgH54o+8AsuKF2b4Ps2+2fdrCdxmC+9dimA12A31mY4DW+7fc-JAPz789eMO-PiFHyarf9T6BrG-mgMYy2lKihhHrF9x35VEbK-6Ufj3Vawn9+Bl-WwkWGfweEq4M-YIoB0BR-57Aq-SKsZmwJD8y+dcUvkNkoY0EO6X+V3LrlBxe5lBDAZhp1zyBhUWihmTyioA0G8Bpe2VTQboNbr6CaGzub-L3lr6gIaA1g5IhYIPqAww4XYYaKQEoBNJmABgDgCVSH7yUzBq-I7iEPGia9ggbAO-q7xcjDQCctgtQaxhVj+DoCkgxQSZUQruBWAKkaGNgwOw0RIaf4eSsxBFIPU-wqQ8oewHjoilrSFQrQJNTrhtDKhksVod0OSpfx+hPQ+If-DGHQxdqUwvLqwDjwT0mhEjUcHkOzBhw5QSw86pYLSx94US1Q0zrUL8rLDJqINMocMO0BLCCifgLYUEJHibsY4WCLXOZmWF+AiAdDAWOAgQa29vA0gY8M-F4Dq44hd9XgfpgEF31egOpc4XqXOHnsFhg-XgNcLWosNNqNAWYenVjaUkFgbwzivti+H2J0YzwnamA1RAAiuh7QkYdkVmGyNBIdhXgQ4MKLT0q4zENoKSO0GX8-ALIsFM4McHUjWGg9IonILlQsMFIJXPwXYEBGODLac0fQLEHdQoZrqHAVpvMToC9hFRjTZOHQFWirDt8xvETCqOl5qjGgGo-kEiGYG7EoGJqcgYMVFbSiFoco+wOakNHKj1AMoyiNkEtGEdxGTogWJqI4x3DTEtMWPN6PdF+BvRqgLUaKJWLv19RZfMMZqNNFDYABA6D0fRGtEjFWAAY-QEGKLDqjDAcYk0fF0AhpiVero1CCamvRloXRdo3ANPExhDsj2rnYorWP7xEx5oi0W0bKMda547gqQmsYIBbEdiMYbYo3kHSrGR8+cGBIbBmIcCBjRSOYo0YYCgZjjCx+zI5n2LcTZxWxMoocaWNoTDiKxxZXYeaj1AyFiQ4VKzriFDGCBERojNaJCPJGaBoRD42ESNU2FIjIxaI06ARBdBl8IOhgJYfolFREjEx-YhwC4EGYaRZhbZKkVeKAnvjbheQNSKYnAmCANIakWCTeJkbyVmqoXXAPfGjbIcngRyfCXb2n4HAjgTmWCSIDL44T9yU4vTP5i8yESpAU2I8QLBPGwQzxrhdCaAEAmYStQUfNntNSYmKxCYzEQCdLyQlgSmAEEpGouC8zkCvgi4CSYpIYigTFAMk1CUjU8zGBVJi+OuCpM9Fj41qONemnhKBDRspRWgbwOEJcCDiIKDQ3Yp82LEsw4qVgvQFMndQuBkhsCHyc4D8Bz8eJc-I6tqV6iyS-Uh+FvO+A3EaTZJ3AQKdeJ+ChDqAfgIye5GCnviUR8OdSBM2vwt4HI5khxIQKImTiLsSVBjnIGoBbiFomkLSRFObxuTpKFQ91JkIDZOZkJ-Eyah2Ljy1jdWs+QCSjGGL5lEgbwOoF5JanORYEA0oKNFI6nHCG+0tHKRNOSmih2pYEzqUGhskyARgE7IgKYhlAAAGcYo7CtBRQDUO0+0ULC34sBDAUsC6W0D2lpBCQHvXaZfjMRM0uQ-ZX2C9JmyPTpAqQlNKdP2wHDDYSwn6ZXzKjkAiI2opxrsWO6M9di4MzfqfChlYMtOltWQJ7GBnGgVArAcYDtIrK9QkZCuSGWwH6oy1zp62CGcNChm1RHazqF0cwCihHAYUuQ8yFhlBFxDxUCwQGRTM6HPDiZV0lGUeERJiTdiOgjMMQOmqMymAzMzwDCjZE8i9JKEWQEzJZlLdGBos+QV0Sykyy5ZMKF6Y1JoAcAHRnQLrNvzlSSQahLVEKfTKUGqzZZ6slYfgw+KgiGRTMTcAzgolLCtQ5DaollVgrIjC80g0IpxB1JPiBhL4iejbMyn0REY7gdEd+MPCEcFgeE4sIRx2B6z1ZUE0YbyK6IkQ2GjIjFNgWomSkVZDANWfLMM6+zcYOMcuZXJhTZVYBd3F6OGTgoV0FBush2frIL6W0-xLAMGOXhpS4h9h14SGp1LvG9RPxEyGEfMNfEXjahWwqupuDRHbdY2zdRGEQHZqaScpZIyOaMPOFEE0pMwH8J1P-bBFaRrs-zD+DrzR0bA5IB+WESnlQjCQUEueYsKOBnz2ZVcVeXuCTlrBuZiwbeXFKaHHzJAOcykYfNogkQ6IwEluX+NHmXjx5xwqQcJCwgmyUSKgOeKfJ7LWyNpx1e+Y-MeCIxFEJEjrgPRDn+1PCbExBYcM-koKFBCEioFvN1o7y0JvYXgMhFtlZScJR3QqdGzL6kKLJpE3QeRLGC8AOFgoGiahUEkMSmIJqZiRsX7knih54cEeRIsZ5cK1qsi-bHwFWi-i2JA8u5BVTUWIhOFjPXsEdV+ZgAH55IHRcxAkUKwlYQkpiFIr5wsKFQcU+SSmMXzyTBQysqQB4rYXaSVYjigJYBE8z+KwFXwdelHyEVFTLamRHaRjGaJWUspXlZ9GglSW4odpjjdaFPHoC0pDZ8lBlIbN2o-SCcxSmGVGJEz9x-4ZS4fv+iODMzGgicWCrSCj4acVQDSy2me1uQvT8ZtQhKTFMIABSA+cIrCaFI2hTx9ALgF6TKExn7URSuM77IbKNK9QgleUmUKPiCVxThlHUsBSKAKUY8ZlIQSmVqHCW9AMpojL6dmE2UKpm8uEshWX1KmoM+CyfPXoMqhSyVTlcygmYpPKk2Sqpg4+5ZFKRRbTCaAACQkRMAAASiFAAAyEiZAISAGq5U5AiQc5c8ikmKAJ51S+gMwAqFcA1pigaXjNHPYcBOAycF6divUm14o+5Ko4CuBpV0zVKgMRlaMCxWDFqlUKmFfCqRXgBUh5KolVSoFgsqcVteeSt1Kw7PtbQ5KwcSKvsychHMEqlcQlxemJIxxtIBvvKrHFkgRBpIDVR2K969LA8CocVXSrxWRjup64vqYBHmWit8yfS85V8oRkjLOpC0jFblJ2m0r3Vxwo2ZtAzzvsPl+vcZRKv4nVStIUqscT1MEB2rNgvCkYuKmlXyjHR84+YpaAyGTTnAzyfZetPmnRLHgxYs9iyrzW4r-VBJIRsuL7mPkQ18UgPhGo7GEyNoewJ1oSB2gJCE+pId5Zb2ALLFW1RAROScgAV85w4bjZgJb3rUp9G1y4qPgOu+yFCp1hvGdcOMSUrLKVxoJzEb0l46TB4tc1bP5l3UHjAYagdoFENak0yXAIq9sheuoDHheBIqzdX5LvXN16o7mQkIqocxGpn1teFhvVE8724iUy0rIcCrHELsccuqtsfKBd7ZrqAmqtsX2tmABBuwTQGDStPg0yjiKZYZiD+r8DFiANmM-ArersnLjuB-Iromyu5inrZA5y2EdeqqUohAmdKmUEct-AY81lKIB9bZk3WqrX1vUd9aMkpVKqFQKqulRvV+LTKFAhG2jR2PA3uRIN24-4IZCNVarxNfUFDacENU7SMNC0LDRmGYgvS8NRzAjUBp+lNqyNlClzFYCYVjJ0htG9oMBt8nEajeAyn9aXNgbRCXVbmqPp5p-U3rYNv67YbZqzUrT-NK048NRvPUBa6NtmMLSBsC0QjeorsELfFtNK8qmAAAQXADgAJEsKwmpAAADyDbQVSiHS1ZacteWwrcVplA4biNRm75slsc05rPSVcUkCyA66Ub6MdmgZQxq1rhCaNP0+YfRoJnrKNojWmlTKHS38rkVMkKbYiuRU1bEZO0+raK3G0+qWtvsNrUBjXWdVl0F+WJNXkIJ2DdRYwQgr2O4b7auYNBRsdRliFiZUhKmEUAdrKBFCxMEwlUGdqC2Ex662UZ7YyGu0jj36n2zrU1NyK-artR26pYrLnQg7yUCqCeMoD+3JEAd7207SgV2pWhNABKAWJOsh2RjodqXLVM9yeHo6SlKsYHRMQYyxAbBpO6pdyJh0idqAsSSgHjKe1cwIyVa4ccdvrps7kKvOsgFnSImc6ZRUfJ7SztWXw7LtL27gPzuSJqqKGtaydREVl0y6md7OmfO9wzDC6FoSKZDWSFt480e1AfBykzvF3cdHYv28XdwHB0vaV1Moo3j9sR3V4bdAu6Xq8v77Tir2WYucUqMMCz4jdKfbEgjroBI7rdTul7UQW11aRaINzI5pbrxkqYXdyOpPSkTJ444o9Q8PXW1ukCG7Fdxu0MYjrN3HTnUmOzLPPmWGRqupMa21UO1nyJq09swRbgHs+Wl7HOdasPJcpPDWTKpJGqDevUB5w5AVPeyNdIwEkwLQsLMGPTMAz33Qs9TvXPd6RDXAZW90kQalwDeCBBDYbMrKV4SELE6t9Q-MWMwAY5WtmOqVROk3TT53sW+WfNsu6U8B26dd0atsbGrrHsg69o9XFv7qpWectcTkNwA8Myz37+JnerIAOGuFrNj5eg8Ax4MMGwygg4CHYJQNv2dwveHbFiYGuhhAre924uBfRCVIXoFpS1JtbPsCBkhkDeA6Igvp9wTr89oACg9QKkjcd6oMIOzC00aYygAAnOYAt2qRWmI+1zrwZyj8HupqidGGoD8CSrgRHxUce7NmA8DNwNAAyAdL9mSB2DYKGXjL2ChoAdDiG+SORozDqHDOagPOVIHUORqWApiHcXaIDhEEaApzSSh3J1lmG+DjTCw2Ibbp+BWDb8Vw6nxKHcxmljTNpfvkzhnrH9Ua6pVHtIOotAjrS1wO0uCjN6mmoeTwC0uCOr6JitAqoHWtYDIbBwDgamOHEK6TyW1MoJ-o0Bf5ZHaVPSQ2Lkf6jc1TAJqzjZuHmSFHVErSbbrmgsk5xm6Rh0kKEgGPsDgBoAS3qMmQ2SABjuzMwIot4m+H4OYfOtXsG1B8jLNckLCD+tcARC0Y7qdIfMSWPN1PNP0hzX5t83EbIMLSeKbyKwitG46f+fFg5HDjvViU-tXoH0cmODGf1aQmIaAHeMDHuoKx4SKIAUgGHZgbx34yMYD59BIpW0X438bU3mHBxyamNfGsAj16e8YPSdcfP-3jxHhhsPYCAbAMQHvm1uRSUkfilFpu9tkkfa5PoQUbBqEREIHQCijow6jaSqQPVD2BlHxlz-NwIvxQEr97kjABboQHGMNGmjiWjaOPU4aEhtBeewPficwMVSqTg4mkxtuzAYmA+wpqtIAa1wKmpTtVQky9CObW4OYEK6FZluy25b8tRWlFZsU8DF620XqprVaXDXHD5KBKilcStVVl9hVtmaAcRt9XITTJDUfApyp-V3QvtHKlcOGe5WRiytlpyrTaaFXwMRV-pgLYGbAmTUFNNUz9cqqNSqq0N8WnTbECsxVG61MvHydwFLaSAAAOlgFc2pqBY4QuPO0EWiT6zmhzRPPRC0MYICjFVO2GCDLOTqKzrUqs9WbrMNnTZmxlsxHyMDTV8Ag4IgqcGYgLnQAAAL3-C1nfQWHac7gFbPC0VmfgDc12fcg9nSQNxxgBNDoh4ALtjJ5k0+ArONndz+57Frz1woGJgo7gHmsQB5p28TAMvMEDYCHOanHzU55s3udnOvny+H5wyF+Y3i-mveZ57qEAA')">let THE_ASSERTIONS = null;

function fetch_assertions(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_assertions(pattern)
        : get_all_assertions;
}
function get_all_assertions() {
    return THE_ASSERTIONS;
}
function get_indexed_assertions(pattern) {
    return get_stream(index_key_of(pattern), "assertion-stream");
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p38' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Get-stream</kbd></span>
	<span style="color:blue">The function <kbd>get_stream</kbd>
	</span>
      
      looks up a stream in the table and returns an empty stream if nothing is
      stored there.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (get-stream key1 key2)
        (let ((s (get key1 key2)))
        (if s s the-empty-stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_23_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROaRQA45xDDq+QlCgOBEGQdA8TQPELhRDziFwqhiCMSgFEobhiDoSshMClIGGMNgZAYAaa3cugxBGsaphWUpqVGqRnWaOa6HIBRho+LblIU-AMSxebfAUFh8AXXDzoep6F3wJaTrOzbKGsCapu2kzPNSY0hBnCplDYchSvoP7gZmFpTwYcG6EhkwYbhug-sB6blKO1Jq1IahxQYKGscynGLv+q7kZ+YnSb+cnMdhqncZaIGCdBhgLWoMQ6DO9GEbplaFz5gWhbBGm8cRpoebebjUR+YgAA9CECNxnBF51SjF1H6CV5wVfVzXDG1mXOfxw6eZhx7hHIHXFVKeLiAYer4btlgHYYdcKDOrRSEMBH8L06YvZ9p7hF8EPjLQybrcVQn5raWtHHO-a5ZKemF2MdpJuUc7U4Lt2PiGqXg5pgGraz2Jk-YDwvCdnac4YBvlCby2E9rmJk5E5v5Nb-uu65m25o0QgQW5VEB6Rie2BjsWOi0fQPcYNWNeILX4ar2XQ7Q7cZy+hhXuD2GxErzPZZ70BTNIcyOZsuyHOc6lfHR8hVc8lwl6G3y03CmvQQhBJ4x2RNwc+YQqIDjmhragChqA0ErG7Neq8HCTCorEQK89cRwIQUglBlwZ7gMEKQC+QFyLPn+DAsGihCD4HKO7Ih2tkQYKgjEd8W8MhFV-ivNebd8DRzQXQAGcdVxqy0CIZaU0Dz0ClvoMRBF+F+1OpIMgwdWH7zDtMSBWjtFFH4QnWRgtJpglYY+LB8ZAxzREifBiowaRsFpquUotjXoG3RqYhx3Cb51yDOqUMywKIvkNGZYIwirK2Xsk5FwQDKC+BIN-YBoDqpBLOL1AswJQQMGPqffQG9DCy0wXEKxLgHK8zIcHApPdSjpEyHJZoWFeHDSqEHGc598nqzCHvRRMRD45KWnkzW7TKmdMIN0muACMmcX1orRBxsFwbzNhbfaRSoKzVSJQUgtZ8mDRXorZaptfaBEGLvSZxk9Z7OGgcpZHjL5bVlsZUyVz9A3KOZ0aWV8a5hWmf1FGec06Fz+oUmumCaHLQUJoXEAKS7ArYSuQKY4NT+SoZ5YU+g5oww+PNZgWh5E0wmMU6YgVmmrwPNisueKvEEoBt3FFkYQkNnoFSVpFL9p2LPBKUAcdSWspnJS4g+L9rdLpSucFbj7F8pxWNDl54hKKkClKmmsriBMUKME6MccSX-OLunBRBFhk4vLqY+5lARVAzVTmck5xwqNgcBLDUjIniAgAHygDqWwGqQD+nH3tVrAWtR9A-S3vKjZaQMhZGDUsFuHqVyNI3PoP15sA3CG4D6paSb+Yan0DeKNkwERkW5YA5h5hDDckYAwjG0M2aolNfK8FMK9VV3la8ZlAgCWMkbYXI1VL0Z1stTEMNgqoUp3zk24Vvj9LuojXHNYIDJqnPLTk-gLNq3Yw0eS-luLBXUonaI-R1Il2VtXZTWtAlbil11UC3p+jDUCornC-N9LKLsMHaUhWbaIYnprSsy6V4FKgleZ+9G37sb3Ues9BGk7e480ZmTCmP6d6ZxvQBnccHmYIbA4Yd6kHm03uaB6-y6SsBAP1u3TuqzQVQUbFHXwjJyMCKEVXJijZux6k7UeldmGqbB1oxQjhbbpQOtqI1IE6aGCZpTbebkep+MlISIGUltG9HOgkQu6RlZjHyLYyCyTGoQXdymSRktP8UbD0o93TBgVXYMAlZy-VV5SW2KWVvc2SGHk3pWIZn5xm+rmH1g6oVY01nkkbK9RkpLAumJVSHb55IHXgY+jFqLIHsMQf-F816ssmKBVej50jKN0McFA+zEe01MEJbS0l16+gitu24zFKruGr4rlJXVkrMUatnO7ipuLOoYi+cybM4DVbT2-vGlR+L-rGBNZevYtGo3EMzZwxljzXmXkLY62VLrXyeutYtcRvAa9GpyEUBAGA8AkCoG6mgYkvzzBzQWktXh1QNpVys++46vBHpkARjEAAPv94yj2tmvb+6AQHwPUhPWev0ammcIdA79F9zICN8smZ5swMQEhhAMEPhzSgfR7hiFDZ91IWF3sADJKe9H6KchH4l2RE6x+jvzyRUjBr++ssnxOcd48A5bcEwbUnnCAbNgZaRVFc-JIFOYOakxQdZ5k8e02gv-SomGrHfP8eC5SzpKZQC9eJea1tDX765c3gtwr5t-JRcY6Nzt03r5Zd0-l3aIimdbf3fZ3c5gIGGvjZmjzrXtR+c7kF5tgP9AReDc4pH1mWGVvS8sQplwVu7Tp9W-9J96SgHx7XVTGL73nfm9dzeD3W0vdALmu1qP8OnfLE1+QbHoedeUfBLXhPVMY9AM7wXxrSfi+N9LyMS3Zfree6rxjvvY2sqO-VyX1PtPR8K4r9nozeAABikAAAaABZAAos0QIk9yCF1AOCfhwZqjzOj6ARyiDVAX4juQWSeByAyEDkzlIoMaTUMauoCIBwMII0LVKoJQJQOMo0CAGII-rSGgLkAoMAO4IkIXAALRn4DCCq+DAAABWhgaBhgMM60wAKQf+hgwAAAbDoNgFvrvofsfoKvgMgkzv8ORk1Gdi-oxnRvQOfoTsQLVH7FpPfhQOMqwaALRkkuQBIVyF4Pfn0DUMgqQO6sQLULUGgLHh5JiqdN7I7EPingmHNCHrjm3sFhflfuqLfnQD3hjlwSogHOosnm+kvjcNiOLsfMGtwJnlBgbrYToZHIIjHPoc4QmDZuRkMOPu7hPpXl7poQ9qkOZg3gYdYpss3trgLu3rYveqYjYWzvJiqIcpvNvPXgvsPkvt4c2krpxHNHMsrIsqbK5oHmbkvkYWka3hkWYTeuCLUQsoUcstHr4XkW8hrMcoGsEfkYGP0oEDIBzHiIMZksMaQHck4RMWiNktMRzKSD8nnobH0bzE4isYFFMZUBzDoEZtXqkF2hnEkSESkbzu0eHu3lcbkZkjZlcXCs0QmPjuCM8dwDStsRjlcT2jun2lzrEGUQmBUZ7gCXkUqtumrlAovpCa7v8bnhjnevCSah8UiYGGvmEDCcrqkMOvEqOoCtcWakHi0RzhGnCgSdUakFilusasLDSp8XcR6m7lnhMFUVodDrISsasZjm0SYR0RNuCORi8ZxGEfyeMUcYBuKbIeCH8ZnHSR5AxrRgKS7ivnaJUcRhcbzCAlPKVgjjiT7sYWHp8mYeCPPNQNPM4JKR5IYg0cUYcSPoMGvlPnkZAq6eUZEVkB6Z6ZkuUt6UQIiRCeyTSaGfMZxFKh0lGWyWnq7lGaqeYIaiGeMpSQmDeMmYdrICZids1Odm1Fdp1JYN7pjtssNKrKTkvl-IzlsrWDydcBekwmzvoPYWokHNwMppNnGEvt8YgfQowmvEqTeh2YHCCj2aKnbnkTUXQgwlIqgjIDWYYakS3iKTuDIFZIOQubjiOdGY6SZr7GzA4UHKvCuZMesScVuaAHMSmbEkeRqcuR9v2VeTMTeVsWibCUeUYvICYsLM+dzq+dihsTeWcU2aJC2XZjsm8JIqUX2V8fKdBcQEqSoPQHBQefEbZqUjFq9BeWacKRabVgxFZMhQ6amThe4rBV4nhS+cidqVkHhecRjgXF8ObOtBplpl4pZkBVmQrtOXEbEpuu7P7MNDxTLm6fkgdjOUNo4GxW7CwGAqJWsoUBJUvlhHIKotluko2PwRCiOr+XIqYoyIRuWTZppb9LNiCqfPhTwAmlZfRJyviV+ZkhZaXCthoqJc8KpQhYGHLm5ZhbEqJSqp5aot5eCb5S4DeAFRBS0KrJIrjoZf+dLB5Y5ZOesG7OJZFcCJNGIITkYB5eEIzhwOtPlaeNGrrHZQeOencG5QVeltZZ0BMiwBlRpr4s0CVXlaoPVR9FAgADw5WlXdXlXQZ6z3zhLggAAqN0oANwdAdG5832JqTYhp1AtQzQ4IoAAA1Nygeh8CTOtEKEEYVdtRflZKdZ5oUPta9kdcRbJtBnfA-FNTNTIMQI5KQmIEtX2itZPGtSARfhdXtaDodTIMdQ1eEDtahZtTtZdbENdSDTHCNcxXkblMbnNvZrNiFkiCxVNHjjdNiFldMGLuWj1c9I1bJkSsJDzhyVZdBkjAnHjUQA5geqxfgOxWIJxX+fIoZrDc0LNiOMvqcoVbDTELMK7iNSLbfIekIJyaTbJjaHaEjQOqACxIKOignALXpcSbiElVLC2tMGEpuJjRfrZE9OUG-OlhtXJuqqiq+g0I2G5YyFKnVaKrGIFGWjLW5WjaFWdPugenmMFXkgFdbVauqmpQmAzeiATdJeWZVitkXito5VjbEKRrjVHVJeVnbXVICSTQ5VWE1frVTVSeGqjrTShlbIzdiCLazezZzUZcLDzQRHzStgLXLmXWHKUPBHLuVY5XTasNLTjERIVQrYxQXSHZQmKurVNJrUTtrXXclYXUUIbXLZEnQGbSIBbR9FIarqYv-MrRqpTRSIJo7UCM7aJRnePf6O+h7TjF7VZavF5b1kooHQxD7Q+PvdauHYpmnfjRfT5kdvmRwS1Bdu1Ndl1NgIJTzHgvMsgq2QWMIpmXceafjiQuCNAwQuRS4Og9QLA-ApPCCbiiwuggmYLbLeYj5gVCTPgjg4QmzqJlkjuOmN8XMKhbEHMKuH7UUN8RyKwzEByBwypt8RhLw1VcobGJw4UN8YfCI4fAI0w-KSjmwKhYo86BI7EN8dxIYKfr4KhZo9o6o4I-KYbbw4beI4YzuOCDcITrzCwIYEqVY6oDY41CsGo30vKVtSI7EPoKrNwL4EVW6l-DtXRqAK4ww2COCGgZ4zEN474-46AF-GgaAME6E98XCNwA0DE0k3E1-JCEkzECk-KcAFEwYD41k66vE6AGAMk+Y+EwAKTFOZN+PlNfy1N5MhM1MQjiSeONPZMC1+MdPggACEko3TpTTTAIAToAwzQI-T8jFjfVDTYzvTA1MQsz4c8pfVAIUTPTzToAmzqzBTFjLqizsTuzbqBzAzLqWz6ThQOzEzFTVzFzcz4TgzxTFThQ9zMQgzsQ1Z6Y+Ugm2DsD-CVlgIK4rhERAw3AgLtDBYzllD8CMDMLMU+ALAuBJgZqoLKw4LyI5TQjVDiLqF3h5ioTRQ0LcDtaaYEUAL+LBCvuEM9D+O3xSKtQqFzLqYT9-tbjFjkAdA3oiCOj6TPLfL8SJLnLXL4TDjDAsAkAvDkr0rorYr3xkrB+IjyrCrnL3xAAcuQJq8U9q5q33XpP8+8AIGS5tiCwCGCxoKvOU-5dXGayNnC9Swi7S5tqfJi9MNi7a36eefazSzQ3S32pS4boabgv60CyZhEh9RabZTggwNUBJjKKQAvK9gwLgeQNWGWiTJoMzauGS3gxwFLOzJojeufDG0cEUHqYCfGIQPPfIrZWplIrrV4r0hPAuu2eG0i2VHnZLTwJ24G-ysPa2-OiIB2y6wG-wii2i6YCCr2w6ya1+jZRy0UFrZCiSc2+jEZrpUTmIF8C1YsjIlzcZUCNOHdBu2CJSwA3Q0A0WZdh1BgBgOWbBRQKYAwPnB8GVDcKQE3HVrZV9j9puN4b+5MCuGLQxbLcBxDRfgwNDXtAdbAaDRC+6QrpB3GqQzeMB-eWhQoDcCnColoPTvB2GdlWfsoN9hkENPoEYBAsoMoHE41DtfoKRwLeCJtaUKx1LVDadaR+q36Kx8qUR4FX25IPEiNPBxApUhJxzZvBAU0xENBF-S4PDWIKdeCBCKdYgbh8YPh4GuC2WzJ-ElJ4SpDdYH5C5ZxAZ7iIHAoEx2Qn+9SajufLXOxx6rpCDJioBk56ANTlgKhBig5-6Qrk5+EIDuh0F3Z+ENMxfsUPCKBwYHLl54zuCDFxcmhejC+zOO+zFF+03E508gYOPKtXafDF5z54WjEMdFLk6UUW5jjMF7YGROx+pztZZ0wGQDZwl6MvVxdeV5tbB+4d9FVz+c6bV7ZyTlB2In16da19Z0h7Ld6fVxDb50UPCLJGRI0vEKJ5JKCKhefFC5t1Z+1yBysMnFhHly3JZxCMI2moBp1yTiPWNxeMJ7J216QIJL58nMp493F+CAAOSwfnyqf-cfdwc3WIdOdYetf5ykAxzQ9yeKc8wclnQAdzdw+8dXjfFCDCBQ3BBQ0OQ6RWQWjFhQ3bIcDwggfQSlCXdy5o8Pe0-PcknWe1wbcicxw0+1gw-Vw3j09Q8c9+OxXpuZvKDZszjuIaweCuZjL2cGm-XFc4wbzOdhMQg2ly+oXVf9Hy-qzo8xDguC-rDC-UCaAqrHIS9uBGdS-Hfucc5S4K9xffExd-Hx0eE29a-M9xWECxVw-3Qfyqwm+FxuBS9groqFey-swK-60O1Hn81AgrgDeS6-Tq+NHwzh+WqUOm-GC46QJxTWte-YY+9++ubm8p+GiKpR8t1JfCNxdYRy7i-+8Z8VLkJeE+u1+uah6QL5pofAvl-qTSNV-yB19t+VKd9l-pYsd69ZuG+i8MRudIwaUj8fTLuSOAbj8G9G9i-9+S93dVKu8d8neiPCIFho37fp+D-kLPr6jgqc7h9EpykWMO+b3PQS5X+u-n+apF0R3qxEbFp5HxIkCB+8V3EmkWvOLnLlt579l6G8VetElfguZiiSSX-sQD3rmcPI1FUEgrzoqACE0YAweDeGwEqQWg41TcJAJNrPwYk7vDXkklQFmokB3-TJET20hlRKA+ANuG7AGAVBBg6AgAVFQSRiUteLHegTpCw5sDeYbgYsGVA1KcCEecuKgdv0ICxEgEYRaoNxHWjEUSY4oRyueAwFYME0dWDQYxGQHmAWASg1NnVn0BGCRAr2WynLnMHKCScWHGwSYPsQOD1otlG8M4LsEGCXA7g+NowDqq6CmoYVLQUyE2D+CYqnguKglVUFMwlw+dTlNwACpBCsIigiwSoP8F4V4hXlWKjXlhj-8EerRdckRWIHJcY8kDTSH7hoCUdiBblbgA4HXq45iYDAQAsIA4CkB5UOxQgIvD4FZ1wUxMC3ofVbQmsJCxg9aPRmGEc0E2LtdWBkLCrK1sq7ggWmy3Lq1DdydiJYk0JaFjJphvtfDGhQ6FmCxhMWdwRYhtoMpqEwfcnFgNd79Dki2g6qrkD2GgDXe3Ae4THFwE7996ttLVO+g3gf0w62VF4VL1ir7V+gCgGXupgqAwxfAYxNkBCPIBQjcchgUkEEMUZGA5icXWEfCPmjEgngaHaviiTmKL8vG9HLZCCLBFSIMRYxEkadAQiojteYrIoBSIRGkghO1QQOBwAzb1ZIwcI6EdwEZFYjpeNNNES3D5GIicRe-PESMEMAEjekzqe5qyLIDsjYGjI-QCKOxF0jnQsot1MCOpFEQ5i8gwElSNBEyAYYo0a1iQmI43C6oJoyRDikCCnQxOpI7Fg4D+KBkYy1oyaLaJBEOjToAomktqPe4xoZ0e-eUcm36BKiuR8Iubv6O16airRVAG0f6O9GgiPcdowSPqLyKNtccQoO5KCBoqwxohXALiFQC2F1hqMgmeYUCG8ETDz6oQzIQjwrFgRr8GoOLpmKiHqCixE2AKriPjFkBGAVjfiN4JqxHDeRxYgIb7Viq8RA4fYkKN1V4gjjOxXlIISfXUgyAkwLLXaoPEvxrjseaHVOJ0HbKjiHY6uOLo7QGzBiiYOQ3iOEBbHxV1M2YykLmOFhziOxJYt3rAgTRXjvONOd8dVSPGK9JxvYhgP2O6o3grxhIv0DeD-HgTnQAEpIEBJnFzcwJvbAiHLignIS0IwdNDluL2AssgRr2DgEwJmyGjvGtlLCKU1jEepkaCxPoB3F5iMABB2sBifQG4Be9nxXvBIWWMGHATsKjiIqLBOnF8RuqrE0cUxLoDcB0JaEdiXWOyrcTNY3CFjquJwk7jAx9SPfuzQIlZRExskrhE4iomcReAxgHwRUFVgHj4KlokHPB0QlUB0xyuGUL7yJBfRTJ8qRsN0EZA19rJOWHnL0O6DhB2OMXKWt0B8wETQAk1AABIH4GAAAQXADgAD8AAJUmqQAAA8pq2QBAhTKkDV6oJJEFaQz0-E18UEIMluwlBasUyVOMV6pQjJasNvqIIYHMoypvYt3pVM6DixaptaLDs1MyA5SxB9U2ymFIinRTYpCU5KalI6mSAqpqsGqblIagNSkgtlSqYmJKn2Tywjk-idXGtJtTnAhBQ0SUKATehM+m0+qflLHGliEe-o92CaPBaKIjx32V1J5jUAmAvAdE7qXVJxg3TLIdlCAr2NfHgSspagF6XlJ7FJBXxRmYKaTzdi5AHAX+IEAAAYvUGOGoI5FswZBWBRXQvNQEGChoUZBsKGdoCBDgycZniZQjtTxCeSl8BMyGUTKw42ZEZqwgsW2OQhxBsZKvdGZBAR5YRihULBNATJZkxQMZD3SDrFUCDBo6Z4oVINUGyAoznJgmHmWjL5lmgVCSM2WaH3llJRyQcSQIG7EcidAm4kglYGGl6HoC44LsFsrTNMHEDlZRpeWZOlO6XC5Bxs-fiSK1k6y5u4faCYUCdkMBtZbAJuG8LkGW8bYPwz+tlU9neym44MvSR5AqAkARAqQZPlMPzpqDGZHE9WRjlDkuzTpKwHoTkIfDXCKu6tdoPuP8G5ys6+s99A2VVRxwD6pco0OWNGEpDxhvg8+oWLCEGp30LABYeBHHAi1Sgq4qMCLWaDpyfZ+whuYcOOHahfO1cr4cXSaTXiCIpQIeU3FAEYJQui82Wg+B2F9zjAvw0OpaLXkK9YqmY+NktHoRaw-gDMmIaeAKmcSqQFYoYaPOrFS5axMw8kAOHmFRc2Wi9RFHQCOrwTBJI82wYcLGHVwJJsQK+SdIRAbjKEpwtFAVwvGbhTwbCf2ngEhCoKVwNGMYfXMAWPzfo4C1ucSnbmYKP5Xc5sbGFKAOBf5wEi+VwFAWDinBwClCNBFQhdjYwpkW8aOzSGdBXxr-WBSqOIAxzQgOSHGOAufm+1vKKCtBWXKXzYTgCZnE4S+gRTfD2FgwThWwG4Wf1aB+kn+aDT-n8RCAe4X8CnOyrLiJIik2RT9zMUstdxhcrIPoqhakgTxolNDtkMwhzEoFRQPWMouPm+w2a5sc+XYp4CGKvKzi+Be2SRE3iEq3i0+X4seCEBfwAShIZUzACoLIQIS48tVX0XhBqcUDD8Q4pbgUKdFVC0CdKP9qgTSQ7shoAUtxBUKa+JS+kSsBr7lLQFKwTCXvxkW4Sq2s5BIijJGjMkzJtxAigULbx9LSKKMzBml2hgGTtYEcoId4QjlCcCZGpGZVwMR40ly8CueZYr0x5sBtZvgTZJWVi579vCtEKWTZM4hxtyAyMx4ODJYl89jyX04GaACkmBCb5AgaGHDiuVcphZqiUWX8HFk4wI5LGQTFUp4nySY+q4EFVQuEkPKxJEkt4JMtG7vKhAny9UYqGeXjiEeIKuSU4gUnbiZ+Hi6dKpJBjNI32fPSWcVg1JIrGAEc92epMkCaTiJWKnSdniCmSAQp4UhgHFOsgAAZA-GlMJWepyyf0xxuDODjHSjFlooqRNNmkiI4ulUpaaHlFUyqmp40lqZ8uDhCdOpC4JVX1I5VcreV4AMaTOAVW44lVa0oIedLbajtFEC04iUtIYAOSZia0ipSsHBDgztpqY+EOBNtWpiIQ9-N1SjI9UgjyesVONmaqBliSIFFqw0RdKoBXSrw4M8pp5guWfLyVhY8VY-UUTCr1VMqkGXhMhTFY4e+gaFVOJLGeifR0a1MbGtNFV0WlolJNbGEtUjtccyo-aQDJmklrvpECl1QRFjFhqUZwcTtY8uDq9Y76hoyOf5iuSkqyAsPPnmWujGYJGwrQHFkCFSg5oeBxavnutJJVw9Uk2VZdQ4E7lNjagcXc2AWrdhFq4e868dWhwPU4wZBm6mddXDHWpiJ1PuJaeKCcnIjLiwNDaO5OzyI5YMOQ-9Wco8gfBggrAw6YwATZLSmOUG+tOcImmfrRJ8KJlIMNclAh7VjquDdNPoCX1GwZHe+NFlEnlqxIItH1V6O6CE8oNQa06HuumCFQcQ1G3DXQFo0KBRysYM7lBu4CxjCNws9pFBtI0WIp5YdGSpxHA2BBPlPg6VcstCwAsI1jIeFWeFG6ArX5iGj9f4ojWoba56GvwIyCw0rSnVWm5WgRsSD8apN-oj1mHAo32iqNF+d1f6Po0NBGNdmgNRwDY0ca-QWEG5QYDiZ8bosBM6MXJhE1WpNFHkYQQTOCDtqSu8G79ampQ3uLs4EWnpShrQ7CDRJOGnqSIiEHCADpLGzLa9PlQSbINLG6TbBpQ1ArBhz0PLVlvob9SopMU+KYlJSmGryQ9WwaU1pGn8quNLGnjXE2q3Rb3gcmQKOCAxBmcxN4W3Lamtk1XUmBkmgmTBrslpq5MkUNgKaoHWMh6t+qvlUxC208q+VjIbzSjL63lMBtoq4be+lG1eBxt5ZOaHPTeC4FI21SOLRyWqRYcpUD2ohGMgtEDLSGb28IYak+0ohZBP2wUn7OcoTasKc9TRo9rbLPaVlKI-7ZDqEptJyYKQWHaYG+1WDXcSOyBoahh1EIQdrg-il0iE41AxAQ0XHEWvh1SCcdpOyHicltKVDSdsyunRmSEFkIFAaAlnSsvB1vq0uuBfABLKB0ztr1r6uLfdvoAY6Z4Iuiko4p+X+i0OD2oXQCq3gzhZdwcDXaipzjLwL1ZKj7VLq+1a6UIz9BXeOqMyMbrSIgKGjur56oVld1QYNhjhh0q6VR6OwnWLpBHS9od7utsgTuB2K9Y0wYomYqM5GQjA0iiW3TOrJSo7-dmOuPRSU90+iTdRQWMS7oln47fdM7N3YYGl3dJlu2iF9V7qmSW7ceVkKPTD10bo6VdTuvIuTso66ITpQmytaSONFxrrWWa+tRMwL39gAuuyVaFoGnUw8g0xACnQRyH0xx2+PaxtfhPpVETfVwdBrs7GpCz7CJpGh+mFV86wQCMEaFPUiGCrRifklu-HjbqnW7ruA9erQLXqGyTSyOK8PWZaNJSbxuI08XgXIJ2A7s92KsQ9vXX+gC8M2+vEXjFhkxqKm9C6lZedLb01rc2zoE+i6kj237+Aw0MoRDFJj7IWpJY6fbc0rDxD-G6E5ejgZIHQDtBAgYmM0BX5AHXo5PQ1lOjpVr7ExLCpugKt+kH7x1R+-gBCAoOT8VUp+gfXrpnWoUuDa-BiJS0bA3BfeejSEYyAACcJwIBJIbhHr7Qd8hniJCNI3xtA4I0C-YvUv5+iANWdA+gOBcCM4YZi9QoAoZji-dfuVkNALYac2sRPhsYCw1GJZVxwLD6hxBL9nOke5q4LgRJneRXBsRyQ7h86Z4aNrcBxDaOrRpCP52dBdl+ynZFmgg1J7BIS41g6mPYPhM4jcIhIyhXL1n67dECHZTkaYCVlr9FnDfm4An0Yo6AhUE8GQCejmwRWi6wTK0EZC5934zAX3i3wD5CFkDtR-gKpyOAhq1NBgJQo0f5ZTN1I5sEqvrkPrOGImaBRJj0cahw9v4hUGIEsciaQKVwzh3ntHtaDHAVattFiAOBI1MCWBvMXLYGkOOL1ktxWKLRlvS2CaNStx5WgOHGNs1JjUXH4jhPRjwg85QUaI3CIhBbGljTILLYIGuOiAwTSx6qMcZgURA2Ijh6YAsdhOJM1j2KjFuie2PK0QjxEuOOdPjUYSu98B-RPseH3oSUD6MNA8NFaCYGxjuB8ptNHVEV7YefxVfQyt9WUSc8omoVcJSECGBHIv2aoIVGlmDC2jQIDo-nxWMHig4-RjY5DWGMWIHawlE+n9oKMHGOT60DSfPq9E8mLt6lA7tUepMVCV49JuqGqeUqMm6ocTFk7FRs02dugbIboEiNeXUhGQa6502WF8CflsqomRsQElEC1II0UtQwD5hWPVHfuAg-QPUtAAAAdLAODKY7NqmAzAmQMEBs4epfGsTDBGhGsMX5PjxgVJJGaLXRm2psZ+pYmeTNWrccFxjM29wPHVVeAJ4auD0CwgtnQAAALye4JmBQtZtM+7EzO1Ycz3Z-NNogLMd4GjbNFCmmFQgkYBT7wYU5uGjOpn6zw5sZjdwsav4rILAKGsoChrY9Jgv3NMHgFLNkrVzAiwcw2Zs6bmle1pKGnue3KHnyek56qEAA')">function get_stream(key1, key2) {
    const s = get(key1, key2);
    return s === undefined ? null : s;
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p39' class='permalink'></a><p>
      Rules are stored similarly, using the
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      of the rule conclusion.  Rule conclusions are arbitrary patterns, however,
      so they differ from assertions in that they can contain variables.
      A pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      can match rules whose conclusions start with a
      variable as well as rules whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd>.</span>
	<span style="color:blue"><kbd>head</kbd>.</span>
      
      Thus, when fetching rules that might match a pattern whose
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      is a
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      we fetch all rules whose conclusions start with a
      variable as well as those whose conclusions have the same
      
	<span style="color:teal"><kbd>car</kbd></span>
	<span style="color:blue"><kbd>head</kbd></span>
      
      as the pattern.  For this purpose we store all rules whose conclusions
      start with a variable in a separate stream in our table, indexed by the
      
	<span style="color:teal">symbol <kbd>?</kbd>.</span>
	<span style="color:blue">string <kbd>"?"</kbd>.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define THE-RULES the-empty-stream)

        
        (define (fetch-rules pattern frame)
        (if (use-index? pattern)
        (get-indexed-rules pattern)
        (get-all-rules)))

        (define (get-all-rules) THE-RULES)

        (define (get-indexed-rules pattern)
        (stream-append
        (get-stream (index-key-of pattern) 'rule-stream)
        (get-stream '? 'rule-stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_24_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaPgM4CmA+uYQCYMAeAFAA4CGpAJSgA3llCTQAJwal80muTpM6paawDm3ABYN+bPoKFCA3FgC+OEKEq8G0wVUJNS-AEYAbBgBpQvfFJQfnZQTTksG1xpSgBbUGIdfl5SB1AAZlBuRjJnDLR0gqEcAhIKamC6OkpibgBrBgBPP1liSmk2OhFxKRk5BSUVQnxPT25W9s7i3pnJAH5adgZcVgY2CVnegC5QBgBHfH4xhubQPQNdfUMJjq6TDc3ehfPrhjbb6cftyurak783OQxjcpmZLCUiLkKrF+A1XB5vNxug8EtQ1KBPDUjvCvAxQABeDHKUjcABEACo3LjyaSwb1SlCaJjKHV8Lx6k0mABGPwnJgAJmRjzahHRdHw7ip3gJPxqHMa3IB-CB3ExxGxUoYJnMj3IuCy4slCLx+NNiw4K0IayFX0ksnkinNy1WbB1mwsu08jDEKOFaKCIJl-Cqcr5-KVKsNmu1vs2eqygdNhKIFpdNttvXtAydlrWbttHoYXrxPQzmf6jsBwLekzpGasjwbUibkgZ5SUoocJL5PNAYb8ADcjvgtT6-aKglHjUGQ39Ob2q6qsZ4cd4Y7r9dkJZqCWaU86rWx019GKR4Sq1RrjT5Y2WpAJyNJVcT5Yr-Mqn-3QEPPCOTDe7zvRdLxXaN13dT1vVLW0RXRRNZTnBVw1ARcp1xcDbXjcYaw6XdkyWXMjzHGYAEhHlPc8xjQ7wbzIwDHgfJ9GNfZCfz-AD6MA1Dt2NEwwToyRC2LYjAIoxcQUHYctXzL4WxmOS5LbPI2GUARSESbhYmPcsHRoeIk1AUlmVZXhSVvR4FmMtlzM2HZ9LNUlWEYaRSDMzjQAWJyuxsx4dgcGIn1iPxSQAVUIOpCEoAB3Gg7AcJwKlYFDjS2UkZLkrNHRUug1MScwrCwWCgjixx21XE1QBhOFNSRcwirCOQZRKhKXBqozKBZNlaTq-1-ECJr7FK5xyrJLyXO6iEyjycIzzUWR+FieVexOQURNRCdQDoGUZqW3kmkFGTMpoLaDP3QiPNAYZRlAHY6Hy6wwCUtFQGiOIIBgeAkFQNAuTQflJsZUBlFUItcCYBg2KcQhtDUWJhDWo6gaGfBYncBxslIOGRFAAAfHGfKR1R1C0DGsckPGCeB9wOu8EJSfhimM2Bq6qMx4R7rwSF20JtxNHCNgmE8F9YdIAE9HhTRj0R4HmJFkQADJ5bOK56ZEAzSHF3mOaewYmEIBaGFVhGK113n+cF4W2eC-XYgYCarB1zbGlRygV0oMGbcNuXjd05WLlQtmYwKx3geDOhyE0QhbcIElveg6WVDNtYLbUengrDiOo4YGP7c5qaKgzyPo9m53qdZsn45Nv3DEXF5uADrG+Pux3C6zmOmDYr3A5ExG68XBvhCDgHueBoqQjPDhiE8fghuoI3K994Gk4FoXU5F4Kx-byfp9nwhc8dzeJ7eHeWtUUvXfnh5e5V2ub+VcvB6Hg--XHpht5n0-O8vqRr-9+-6--nLJ+XM8jAyHBoY0b9j4f3bN-O0Vcl78D5snVescraGXAeQSB79d77xARUTB2DoG7zPi7B+6Zf413-n3QBgcm7gkdoQ3EUCp4wOGl-OOV8q40JVAPehBUbAADFIAAA0ACyABRHYsheDT2IHiUkOsoGWnIO2UkoAoqqJ0IZaeqM2D8DMjYfguBUjSBQjoZQSNxR4ksUkdg3g2BbEiGAHQpBSC8DoFsEAmgtESjQG0WIwBqgKHkQAWn4OqDgsRGjAAAFZ0FCXQae0NgDKGsXQYAAA2dI2AhGiMkdIhgsRKADjxBrPEXgah1BejEeIuj3D6KYNTNgjRbAkDKXoZx75pDOQ0Y4Dx5iKmUBaUDGg-BQCVOINUqKegrSlLMVaNYaw0B50BsDep+i4F9EXonJB5tUFp0Mko1MhBVHODwfnJkC0Gn8CYAIRwttTF0C2YjGE7I6Dnzdh7A2fgeHkOAZcjE1zGnNMaC8quVVmCTLqJcP+vDaGNyHqskeKgjrgp2RLfZls4bBSOkTQQRTs6uTBA7fBNA8VcF4LIKozh0XZj+arElw9QEqBFCpds2JKXUvDnPThP8EG7OQSvbFotQAExmKSNlZzqCcs4FShgNLqAXMBmy8GcrpB3NkIYPl8DfaoKYLIXAhyuRMufuwNVVKmCwTpY6fVhrDkHQYWS9aAsuVMCOGgiuXC9XEgNcsQ56QmXIpZSDA42d5E2tNnslBIrgqMDDe05V3NIWhpHO0+mXQe5VwOaSeNab5Gkj8CLLozdnV5vDcwNQBLi7PLjlIb19K76RjoaWwFKwemzTcKkYuGaKHcJVsW01zrqWdurUS2tbNM0L2zAPEtTrAXAyKSkBU5b02DqzRilmvbW1rJUNPNQ+Lu1Et7Ru7MzMRhjFnUikOKhoVbO2WewVWK17oNJNCpNeQU13p1Q+21L431qjqIWzagcd3c2hU04ZYKf2-poAyoB2tnWh14LI8g6pYE-oTpimNL6cWGWSKh9D5yh1trJRa7ltLMP9rhf8sDeQZ6aAnV6-lvsGV8IBYDSK7rpCMe4HYKdDbHTntGHxjxJHAbtoPQx0TAmWONouPx8T3MR3cd44p09lZ-6KcQwulQ4DuCUqlgK7DwrU6UuCnMXOwbEpLE4EwPk7sjDw2gutdEJwZR1zUnWXVj6O4z3lCIBYpJLM3T7E0DmUQyVbVevEKAcBEDIHQL9LkzKKgQ2HASw52cBx9oxYwTwYN0u-ihjDQOPkFggbhj5HYzMDaq3KxiDqJlSFlz87+L2nymDuz1nVuWfhsufF8oTQ+LCT4YbK7aBYRWrUvy3sQlqWXCA5eq4TJh3hRtsN5RNr4U2fx+YgcwnBC3167CW4N2yhNW49rlg16bV3j0nYGyt0e1B2XOFlfKxVhB6uTd2HtqVHKVxcoVTy77j2zvPb3cC-gP2duVVhMwHWqpod3I-o8hwTHhAcXcpsDZtzQWq2xzjmYT3bQ1ZUKuiNN3fvTcp17fY+bK1dsJTHTHQh+sQ7J4Tb922LJ-exDzvDpOvjk79bpWHfPptovB8trnyHCPHd55sBYBHPBgqK4cVI3AlHA6+4T07OWieAX1d1zuzyGNs45zl87sw-LSACoc0K4VIoxSdjHfgnBRn8+K6kVKQaW4obV9rogfgLfpiwjLDQsQzmlKYEj0oJg1o+cdKrhUVLyDR4oLH+PIfgg8bnc2SCNjNwvdiLwSgKY49kuD4QRPLnJD1WpSMIIhINeZaUQThPRvie7E4Kkc12XHzUB7eK9ySj7kGyeTX9no-OIW+7z3qQOultD7biSBPGE5NCdRSbNrI5sLik8MIUfCw8WdxmzHY9Tej826G2dF0+YhJQVjP5doNfgphQitFGgjtSCNHsF7qnhNM2OCNZkyL6qblJM8pSnQFbtpIjFxhbgZnKl0DZAsCzDZDsMxG3lrpJmeNJjAezgbjPpxCbmDGbgfvgfnsgWJnAf7s6tNgDu9kDuqiDpRuggNj7L5uoPvjgYbKqm6vKtqoHHQQTLthllrgIeqhfpbsQQTH5JDJIa9uRu6kfvrgNjpoDLTgzhWhmnAWtBHioEun-qmroYOtpFvjQPfoeOlEXkDCXlDgelWkejHL2hYbMIjHwdro+E4cztdpOuzhoSiE-iWOZPVHgUTHDHvhVOKl4REc4Szp6qQF0D4EERuFkMDGflJN4R2pEWeJ3HXuKojPEWzNETJL0CEUnpsJ4XtnTtwLPvAr4WOqzr2qkWduUSARUaAfVEQK3GsDKEiASAAHyXQXrmBgFEgHrda9E0qRxrDcCeyyaWGExbqLG37zCjGjDmRYEfjcAzHhxzFsB+BkFMD7GZzzGLhrHagCRirBxlrqguAV5HysK7xs4GEOGmFrp0JVEN69TFoyh06HqJFs4dHJ66zGEro6FfFwyoFljoEXrio7AEbZzaoPFdaBAbavE5FNEuFJF3AL6iRolPGYktTPIpp1ENE94qYJE1puGb6VH15gnDazbPFjbsFYyz6WQvgjZHZlQfJkKMqz6i5rbMC8nsnH6cRcmpwikkl8mfKCmcQ7AszpSgGOzTaC6iqcEub1SgoygQYE5ywyT1QgQnSbREkYlilojcCgreauZBBnGHGmknEOmHhLjqhei2k1ESGGygoEmPBcD96uor4xBr5ulHCwGLB9GdB0GaHcxS4myLY5ZcGOgppZHtb1H0ReEUqsF659aUn+lnb0GAp3azGhky7Hj1SdwyheH3btwcIiHEEyStwtauzRHcC1klwCl9bfhSRwGHRVydyxl5DTYymWlg4cFnZrTNn8mtZfyjnzZyldkiHmReHzkvGfzZHdkDYElBEeiSATGMEsmynin6EubTmdZfw8kLnDQzkXx5n+mKH8FHljltlblnY7ntGgGRaXLRa1LvTxZfRJYFCpamzSD76cBGa+ye7qxgUMBDnQgI5V6XJGAPJyAY5+C+nEHJngGpySpxDl6V46yFqUkT7o49IYVQZ9nzq7ozZl4V7mrx6QXcHRqmbr4bz4X0UCxEVKZ5Dj5o5oU9La5MV-oHr2q4B+Amp0YVAd5QZCXYWTFnhiV+COqkqkaXLgzBnD7Hq4DCU4WKX+riUZBFmAypm76XnUD97OYoiIw5ppkjjAYiiWU8WJQ766RtkFHyWIJCopwkidy4pmVSQfoVB2XMCOXHoeUuaUIAIqgFHGVxkkCYjhzQwaUDir49panWVVyLi7kTERHRB1YZU6TyaGA5VqkJWUCMBNJgr5W2ynm9CZW+zMQ1W+CNngj1TlLgxl4mGD4hnFwyjKkgXw5wjNXZCfIRlm66XviPijVkLjVQHOU-6oUtleja6oXdD1VFWOh1zNULU1IGzRHPI7ViAbXLGLg7XwU0ABkokpVpUPZjWSRegYXBjMCFXLHeDQwawzVlyZoGTvWaCfU-iwm-bMQpojW3mPU9kelPWVXC4i4YjZz-U6BfWuyZoAA88NH1SNgN6xswU29ub+pIAAKh1PDoQK0gxijOOptGyKhmsDsOogANRiqL5zRaB6jQZjUiBM3AaM3M096s3Qzs3cDY040zB24O5E0k24AMBRR56aCU2s7U2B7kB02GSgBM35m9AC0+K4Ac2zVc2GTBTq183E7a1C0i0XWNadS8DLWvmfKnkohlUDiCwdTsivWzCOx0APHI0Q3Y0-EzBYZbrg1A3uRTZLYu12AZmL6nZTwVVaA3W9XHoDai1c7g14TVw+0h047PAqzY2a1SC3Te2oSc0RhjAW3mRyS9BYTZbp0dUQkJ1aUxzuEk741Pjg0f6EDUwphOxkL022kVF2GMmzDhGoUyh5WoUGaflliIxe10zNXLWHVrV+n0Tz0UE7X92dGb1MnZYR1u2fl3GArnlkJ21kIPUO30gMHh3Mh71JlD0vT3F0zB0PVLG2iB0XqZ0p240G671R047hqJXx09WN0kjJ2Um3SfLp11zB2f3K6bRyBMB1yA0PUwO25ml0zF362l3C3hmb4D3mTV1La13iz11ANr7N29Cv5t322GRhRd2hBp1JQdl+6gmgAMnioj0Gxj0+FngjVpEZgz3e3z3B2rUGwkHR17W2wHUiO2y4Nb2sMNXZg73X2T05YRaPRRY1JvRxafSJY-QYCDWR4Z4x6I7V4J4aZRreUHKlDBTp6Z7kClJBU0C2PGMsBl7eDFwLZmPTpbVNpjAb4cz1TONZ4mM-kygHK3g5ovDAZSAvB3hiMzA5pVjROSBVhxML45qMTJNTVmJljxO9A5qoJZOoJpMRP-rCaeDAblO2h5NSA5rZSyL8CNDAb1PTytJfA1OSA5qUPJOUO5PpP-owgazuruB0CFqDM6DDNbSPAdMKVkgM1ZNSDcCcB+CNBqwjGe5M1tMzM5qhILOSBLMrNrOgCe6hKgBbP9O4U0h+CzAHNnNHOe7khnOSDbP-rAB7NZDLN3PDHHOgBgDnOlO4UACk7ztzqz3znugLTzoALzuFSYCzoL9z6dqzFzJIpIAAhKaPC582C-iOs6ABi4SMiwC6i6jSC9i4i+jZIES7jv+qjfiHswi+C6AHS1SzC6i0MWS4c0yyMayyi2SEMfS9c70Iy7iz8wK7y8S2SGi+8z870KK5IGi1IBBbeGCIE1Hi40osHQSOZG8rCkcf4Oq8E0hYyHOmq0Y0a0opQO4LEm8Mkdq48Lq6UN8xk4a-Y3bL8r49Pv+OKkE268a+2HOoVL1L67HofE6S+DmtYWsMBlG0eMveIzmpAIQCon-tE0mym9S+I18DmuM0wLAJAMk7m-mzM1m50wM4IBMxIlk7mxIiW6WzmgAHL8ANvvNNsNsoPE6qvBuuuhtHlav4g6vJDa7fPbVEEhuhUsmmvdvmt+sjZm72ubCOsjues6Vjs9sTsTjjyBsB6yJp7rv+u0rWNy0+WTWp4sAuD7jSBq7x2xL8BDhe0aApC-13jjuuOyKJGeNEB1ubAMYnumAzCqllr9A22kM9qTVXUD6aWhkNHInsB8D7uav3Um3E6vsjbQPxu9CweGCvuWvWu2sRn533j7tzvzUYdSB11dUKigdEpBrtXiyaCYjuCcpQd9WEinhsgN2hlghdI6y-laMfQJbfSYCDWOWOBkBMBhpqDDQwjSAwoimTXnqozowMryf3B85sb-yqcG2khMC81m2616vRVl0zxYLoRqcXYqcme8S7UBIwggwT6pDCEaDQwv2wbBDEDEAowjCZbZCh4edHNbRM3tkefp2kjqJBbqL01G1M0RLEDftlhhdFrEwue7XypuLQbJeaCh757ZeaCapyB-7dAkQKOOja3G2khkjG22e3KMAOfzG6u-tpd-65d3DldCBpTUXcxNcKimKLQMYKfIwib9fmRBYsxuQXbrIvj9egCKxYB0TcDlNGftk8aJ54wZ2Lj9ciAEuGSWY40LCGfTcGTBbjdw6icRJniSdlQycwrDcZg7ALcqCq5oYLbTezc3GSC1a2w16MjkZsFzybfFACRBaVdM3deuAOCLR1xIEA-G1zcSpq1M3g1dbfJfc645mg7LeSwG2j7qK81g+9eGcbfUEA9c1w+9C0hmQCRYH2h-5kiFO5d+D48Q-meoMyy7G3ewPddkiZPHEvhQ8rdYObeM8089fM9zei7a2Y97eGQADkvNDG5Xcv4vIGznOtYK-XUlTjIvEnI40gYKYaevA3es79tsSnT4dcBvmbWbOaIQbAPN7QPNkUrk6cVQXYPNYF3gtI9wJECwXPFvuvyLyUKolva7BXov0gWk2xBrYfhnIfWDcf0f6XOvDgqzltt797xAj7+RUkmqNQIONBRvT3RGc8hmI3szpIRfLUwGaPn2GPhmZHkgur6fwYmf5AKQ0Ruf8iVQLXBfLPYtKxBVcq0vOalmRanW3WnsvfUflKltlvZ87udmVKefVQBf7xGRj3ytxf32hmFh4RZGadhI5kSPE-dWNfFGJfQ-G9ary-jAAsFuMourc-HyC-nfIOPfO-HRxR+-EDR3mTZfzEnmGIF31v6qYUi63f+Ev2AHJww8ffb4IhzIShdCm--IASDmgH54o+8AsuKF2b4Ps2+2fdrCdxmC+9dimA12A31mY4DW+7fc-JAPz789eMO-PiFHyarf9T6BrG-mgMYy2lKihhHrF9x35VEbK-6Ufj3Vawn9+Bl-WwkWGfweEq4M-YIoB0BR-57Aq-SKsZmwJD8y+dcUvkNkoY0EO6X+V3LrlBxe5lBDAZhp1zyBhUWihmTyioA0G8Bpe2VTQboNbr6CaGzub-L3lr6gIaA1g5IhYIPqAww4XYYaKQEoBNJmABgDgCVSH7yUzBq-I7iEPGia9ggbAO-q7xcjDQCctgtQaxhVj+DoCkgxQSZUQruBWAKkaGNgwOw0RIaf4eSsxBFIPU-wqQ8oewHjoilrSFQrQJNTrhtDKhksVod0OSpfx+hPQ+If-DGHQxdqUwvLqwDjwT0mhEjUcHkOzBhw5QSw86pYLSx94US1Q0zrUL8rLDJqINMocMO0BLCCifgLYUEJHibsY4WCLXOZmWF+AiAdDAWOAgQa29vA0gY8M-F4Dq44hd9XgfpgEF31egOpc4XqXOHnsFhg-XgNcLWosNNqNAWYenVjaUkFgbwzivti+H2J0YzwnamA1RAAiuh7QkYdkVmGyNBIdhXgQ4MKLT0q4zENoKSO0GX8-ALIsFM4McHUjWGg9IonILlQsMFIJXPwXYEBGODLac0fQLEHdQoZrqHAVpvMToC9hFRjTZOHQFWirDt8xvETCqOl5qjGgGo-kEiGYG7EoGJqcgYMVFbSiFoco+wOakNHKj1AMoyiNkEtGEdxGTogWJqI4x3DTEtMWPN6PdF+BvRqgLUaKJWLv19RZfMMZqNNFDYABA6D0fRGtEjFWAAY-QEGKLDqjDAcYk0fF0AhpiVero1CCamvRloXRdo3ANPExhDsj2rnYorWP7xEx5oi0W0bKMda547gqQmsYIBbEdiMYbYo3kHSrGR8+cGBIbBmIcCBjRSOYo0YYCgZjjCx+zI5n2LcTZxWxMoocaWNoTDiKxxZXYeaj1AyFiQ4VKzriFDGCBERojNaJCPJGaBoRD42ESNU2FIjIxaI06ARBdBl8IOhgJYfolFREjEx-YhwC4EGYaRZhbZKkVeKAnvjbheQNSKYnAmCANIakWCTeJkbyVmqoXXAPfGjbIcngRyfCXb2n4HAjgTmWCSIDL44T9yU4vTP5i8yESpAU2I8QLBPGwQzxrhdCaAEAmYStQUfNntNSYmKxCYzEQCdLyQlgSmAEEpGouC8zkCvgi4CSYpIYigTFAMk1CUjU8zGBVJi+OuCpM9Fj41qONemnhKBDRspRWgbwOEJcCDiIKDQ3Yp82LEsw4qVgvQFMndQuBkhsCHyc4D8Bz8eJc-I6tqV6iyS-Uh+FvO+A3EaTZJ3AQKdeJ+ChDqAfgIye5GCnviUR8OdSBM2vwt4HI5khxIQKImTiLsSVBjnIGoBbiFomkLSRFObxBobJoAQmgAAkJETAAAILgBwAEiAAEqE1IAAAeQbbIBCQA1XKnIESDupMhAbJzMhP4mTV6AzACoVwDmlgTpeM0c9hwE4DQCZpzgZ5FJMUCmSGo+BUYNNOcgBtUhm0o4CuD8lWlJqrU9qV1J6n9ShpI0q6fAxWk7SMhF0-aWtKOnyVNpg4r6fZk5COZDpteF3r9OoCJIxxVmR2JaB+nJTRQ-0wgAtPkodi48tY3VrPkAkoxhi+ZRIG8DqBeTzpyM7gHjKCjRT5pxwhvtLRylkyshVpCGQtMamNQPeE7IgKYhlAAAGcYo7CtBRQDUIwKIZv1PjkBDAUsEWTNi5lpBCQHMmWZfjMRM0uQ-ZX2ArLaCyzpAqQlNILP2wHDDYSwhWZXzKgSyThuxY7oz12LGyxZps-VouC06W1ZAnsfWcaBUCsBxgIsisr1BtkK47Z-VGWsLPWwmzhoEs2qI7WdQujmAUUI4DClyHmQsMoIuIeKgWC6zA5nQ54b7KFhb8WAR4REmJN2I6CMwxA6alHKYAxzPAMKNkTyL0koRZA0c2OUt0YH5z5BXRLKWXIrkwoOZbkioBwAdGdAus2-OVJJBqEtUQpEcpQfXPLmNyVh+DD4qCIZFMxNwDOCiUsK1DkNqiWVWCsiMLzSDQinEHUk+IGEviJ6Y8zKfRERjuB0R34w8IRwWB4TiwhHHYB3MblQTRhvIroiRDYaMiMU2BaiZKTrkMAG5lcwzuvNxg4xAFwCmFNlVgF3cXo4ZOChXQUHtyp5ncgvpbT-EsAwY5eGlLiH2HXhIa6M0KRtE-ETIYR8w18ReNqFbCq6m4NEdt1jbN1EYRAdmppJylkjj5ow84UQTSkzAfwC0-9sEVpHzz-MP4OvNHRsDkgpFYRXqKQqgkULFhRwARQnKrj0K9wN8tYCnMWCsK4pTQ3hZIDfmUjuFtEEiHRGAlwK-x+Cy8YQuOFSDhIWEPuSiRUBzx+FPZUeazOOqSLpFjwRGIohIkdcB6e8-2p4TYlWLDhSi2xQoIQkVAWFutNhWhN7C8BkI48rKThKO6FTo2ZfPxRZNIm6DyJYwXgIksFA0TUKgkhiUxBNTMSNimCk8TgvDh4LCljPZJWtTKX7Y+Aq0X8WxKwV3IKq9SxEEksZ69gjqvzMAFIvJCtLmIhShWErCElMRilfOWJQqDinySUxi+eSYKFrlSBFl8S7SSrCmWbLAInmDZfoq+Dr0o+2SoqZbUyIiyMYzRKyllK8rPo0Edy3FCLMcbrQp49AWlN3PkoMpu5u1BWQTh+XajdYW6fuP-H+XD9-0RwGOY0ETiwVaQUfDTiqEhWW0z2tyDmZ7NqEJSYpaM0ABlNvHEL0QU8fQC4A5kyhnZ+1EUu7O+zdyjSvUbZXlJlCj5tlcUnFfNP0UihPlGPElSECDlagDlvQAlTIzVnZhGVCqZvLhP8Vl9SpqDPgsnz15YqoUslXlWSq9mKTypNkqqYOPFWRSDxwQwPAqA5kHT1JeKlJcsUxnricZgEclaK3zLor+VSqq2bioWl0zJpuUkWSapdXHCe5x0DPO+wVX68A+qOb1UI2XEYyxxWMwQNas2BpKRi4qTGVhygRKjDAiMxmbNPZVgTXVJyx4MWLPbGr4pwalmT6oJJhrhxGCx8oGsLUp9+J1UrSHeN6h7AnWhIHaAkIT6kh5VlvYAssSbVEBr5JyTRXznDhuNmAlvatXr1rUdjjpva77IUPHWB8y1Mo31YTC+nGgnMRvSXjpMHjgLVs-mLdfqu5hqB2gUQvaVVPmFfT2yp62vGvwe5bSuAa6u6bXmbr1R3MhIEGQ5iNSPqN6vxDaJ53txEp01N5McQuxxxAyxx8oKGcjNhltju1swAIN2CaCQamZhAaDTKOIplhmIj6vwMWL-XOz8CV6utfSX5FdFVKgMI9bIH5WwiL1wKlEIE1NUyguVv4DHnSpRC8DV1DS01YvOHq9RX1oybaaDIVDgzONLDeqLhoA0KyOxIG9yGBrbEQbDIHM1DQtFg0zB4Ncm0kApo7HoaMwzEDmdhqOZib24Em5cdwOI0gFolYydIZRvaCAb-uV6o3piq-VVKLo0Qx1V+qj4ubH1l66GbXlSEear1Xm5GceHI0nrvNVG2zAFuQ22l6orsJGchtNKPTOp3UvqQNOGngAZICW56clremjTsmEW9sHpu+YxabNooT0lXFJAsgOupG7mC5sxU0ata4QijQrPPXhaWNEI3qEVuNUygEtvUkKAABkJEaWlEN1r60DaZQOmkWQVtFYdbPVpW32OVqAxXKjClHC-LEmryEE7BuosYIQV7HcMVtXMGgo2OoyxCxMqQlTCKFW1lAihYmCYSqG23bDwSy27KBdsZAHaRx79O7VVt4q7ant+29bSCozofaJiKmH7Zdte03attKBXalaE0AEoBYY6v7ZGOrlzpPtFQIQs9yeGQ7flKsQHS3B4yxAbBmO-7dyOR0idqAsSSgB7PO1cwIyi6haEb3rpU7kKjOsgFnSIm07YgUfc7RTtpUKozwzO5ItwH50pFNanagPtiT51k79tQumfO9wzDs6kUqmivuwB5qi6U+DlMndzu46Ownt3OimcoGe3JFJ14a-7Yuke367q8IOlndL1lX99pxV7LMXOJTXPtbQquxVREUt0kgPdYA+XbRBuZHMddHs4HebtB1e6ZdPeeXUykV0O9goruppqGP12a7+ZzqaHZlnnzLDCNEatsVGrrHshZ8casnnGEG5bbK1Y6lPY5yrVh5BVJ4ayZVLsngb16gPOHJqtr11rpGAk0xaFhZi+6Zg8u+6Irqd4q6S9AfYDGXukiDUuAbwQIIbHjlZSvCaO9DNPqH5ixmADHK1sx1SqJ0m6afO9i3yz5tl3SngI3cOMz2uirVQ7PPaPVxaz4J9nnLXE5DcAPDMsB+-iVXqyADhrhazXhXoPf0eDDBTjQQG4p2CUC99ncL3h2xYmbQa9tk1veYvohKkL0dMpalOr72BAyQwBvAdEUH3elA1wGdA9QKkjcd6oMIOzC00aYygAAnOYG12qRWmre1ztQZyi0HMZqidGGoD8DXrgRHxUcVxvkjCKsgNAAyDzI3mSBSDYKGXjL2ChoApDymwJcJHBFSBRDhnNQB-IUM0HGmdalgKYh3F2iA4RBGgKc0kpIK25qhxg+oeYNaGIyxBt+GodT4lDqtngWFfCv3yZxj1R+pddhKQNjiUDqLGFY0ycPutDIse4DL4bhWuBYKWu51LQKqBVrWA8GwcA4GpjhxCuDajaHsBlBP9GgL-KIyap6SGxYj-UbmqYC94yQsI8yRI6olaTbdc0FknOM3UUOkhQkjR9gcAPxUB9Rk8GyQI0d2ZmAnNihsHmOr2Dag+RQS0QHJCwiPrXAEQtGO6nSHzFBjzdGrdLOs2ea-NoWgnPMZYalGEjcdP-Piwcjhx3qxKf2r0HqNdGmjj6tITENABnHGj3UYY3IYUimbZgpxm460ZT59BIpW0G47ce-W8SbDrehNZGpjWAR89Pefo2Lt4X37x4jww2HsBf1v6P93za3IpNj3xSi0UB7VeBtcn0ISNg1CIiEDoBRR0Y+R+5VIHqhpHCQGRrIygJX73JGAC3QgB0cKPFHaNvUcepw0JDaCh9KfNE5Aehhaq69sm7E7NuzDgmeTUJx-VrjhMvRdtzVbDT-p0pImkUTU4bf1py3jSEZ7q-lV6ppnmqmSS0u9TwAhkbTPptmZOAWuNNR9rpZ0gtbtWtMrhbT8lVUwNo+lngvp5pz1ajMmqJr5RcHWfDJu3HvqwZRqY06-vk0izFNsQWkA3wDM1TLZ4Z7wJGZZMFRsjVamXj5O4CltJAAAHSwAObfTAscIXHnaCLQu9ZzQ5onnogSGME2xxgBNFTNjr0zM0zM1mdzP5n+5kx4sxHyMDTV8Ag4IgqcGYh9nQAAAL3-A5nfQSaos7gBLPC0VmfgMc5WfcjVnSQZRiqnbH4j7l8TooIk0+HTMFnOzM57s9i1564UDEwUdwDzWIA807eJgGXmCBsANmxd+5js9OdnMnny+55wyJeY3g3mveK57qEAA')">let THE_RULES = null;

function fetch_rules(pattern, frame) {
    return use_index(pattern)
        ? get_indexed_rules(pattern)
        : get_all_rules();
}
function get_all_rules() {
    return THE_RULES;
}
function get_indexed_rules(pattern) {
    return stream_append(
              get_stream(index_key_of(pattern),
                         "rule-stream"),
              get_stream("?", "rule-stream"));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p40' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Add-rule-or-assertion!</kbd></span>
	<span style="color:blue">The function
	<kbd>add_rule_or_assertion</kbd></span>
      
      is used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      to add assertions and rules to the data base.  Each item is stored in the
      index, if appropriate, and in a stream of all assertions or rules in
      the data base.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-rule-or-assertion! assertion)
        (if (rule? assertion)
        (add-rule! assertion)
        (add-assertion! assertion)))

        (define (add-assertion! assertion)
        (store-assertion-in-index assertion)
        (let ((old-assertions THE-ASSERTIONS))
        (set! THE-ASSERTIONS
              (cons-stream assertion old-assertions))
        'ok))

        (define (add-rule! rule)
        (store-rule-in-index rule)
        (let ((old-rules THE-RULES))
        (set! THE-RULES (cons-stream rule old-rules))
        'ok))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_25_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEYLPUcoMhRV2UUgl2R5dEWhTForID8zpplDIQDmehzEyH0V+Y6DjGFFwcQAoBrilEGJnnPV6bpXGGlpjYAA-O-f4fI5CMVUHCL4WiwQmBCdYIix0XRBLNngDh3hNwXFAoMRYhByCSmIB0UA7RyByXwMwNgpBhibWWqATyoADAhgpJ5NAHTTafTOvySKeh7pwkGHYP0jAOghx8dPfaO97EhmoGMkOyTQjhJIGNGInQlk2CImPdQAyZBDO-M9JsIz5njM7Js5ZhyTkLKSXTMIRE+mkD2Qc9JcybmHyTk-FooE9D6N7PFSK+NvlZGOBEvogIABUwKZAQvzKEO81VqBRUIFtQZkgeCDDRerHxoR-miQ8NC0FjznnosGC6E+QLHwejppQfALT8WEpOEcUAqzqLrI6PoumX5WXjU6FUOm1RQDyFkDiwo-zrllOZcSrFZL2waWhdSu51haUtIlccU4PL2WcqVcozVDUOj8p1YK4V5E6w6s7jiV5oyOWGqVbUAVmJ7U2CPvQbwfQ0UYtADK+80FHGiusHi+Vj4iXUn6R62VLYKVyDyVkRVKQVUGCDaBdVzK9WdG1SkWQlpyWAujdC-oFydXLFWHoQG4bQDFp8N64cjiTAFvNQ2lRkbc0xtrRCAVQq5AirNXTcVbzJWSlDU871M4k2xvbTqhNaqmUstKWy-V2qACQdMs0XHAWOw6WBl2NrppWvQe7q2+rrYWndoRR0EqpR6bd1hjVdtNSe0Iq6rWnMGDWiddqllOpvZiO8OM6DLHIHUvQLAM3KLYDOwEiLkWLG4ju8JUGUUPpSetFNQIYj5WFEhsJ4hXWMEqae0A2zGDMB8CwFMABVYgUVmGMWcNkiCTRnDQoIoCW1oAv3KL-QBupGN-n0dyYy9aqh7qtt+VUf5FTQX8crNCvQkGMjQfzP8wpxTmXSdfLJwE6G3X5nNhERcehWZOO4U7AGPJWYplCRDPTUgYjBhho+fdWhjNbykIYaIsQdQAcNIkAICwDNeecx8oudnYaSDRSiJztZMT-MGaCwLpg2NTIM4Msw4TARWcI16-ZGM7wVMiHYR4zzPWDOxWavFoKKnFcxfs9WSW1oMBnWmsp4SShyCy3QXLSdDDzLGPyN1r4YiSFCzDPQ-W8ONH0QmiII3HPjZhD5ntNhYv7NBSN8L+zkQS3m5NtjuL-TFNII4OwcoduQXc9kcDWGwj5Yu0VwZaDqQDdoHZKIl24WFBU88x7GHGivcKywL+J691neIIMX5xwAB8oAjvEYtKwp7E3ztvceHG9jnbu2Or7kXHrdgxbaOG8QQn9n7HaL+QditWhlrOGZdYjQdjXFsem7ZudDmfkAep4tpZK20rMvWxFiWHPvDEHfWEf5sOTuWg8Xdq7BGbC3ZRywb7QIHH-fe6L0IX2Hsq+0Wrx4QPzV7oceDswRxocS-h9LxXaPb2Y9CLUMkSdbFjBG1FlzjsCsxH0Alj6WAsjFIACoAAk8KSAAILgHAHhAASgHyAAB5AAcsgZlbWqjm3wPYOpCPfuKyF04QY1TQTu-mM74nsMouc6WeE-LI2Eyg8zvnkXSyiL5fUNGhvMjnBt9KDn579AIdmq-MH0PEeo+x4T8nrv5T7Dl5hvXxHMJG9U+FyX7vs+Zd6H55tyLTe61AlB3rwHZt-egBH5IaP5GAAyeEU+gDTz0ikmfAPDHx1kZfClheF4jE8NfLLZBz6V6r7V4z6Wh15dAOIf5V50yt6z7t5v6uRibY5nQ97RqQGD6YjD4h4X7X637T616s4JjoF76TINaK6sKLCLCygHBIYK4A5b6s4bYjy74r5ODHpy6FCAiq4y7gj1oNp0GXZyZWZmK648G+54DzgMDVJxRQBwCIDIDoB8A8CP4SgqDQSgwAiyjKASIe6yAKBKDDiRixDMgXLhLJx+AXJEQPDogmFKrwYKYopvhIg1rbTVhbb7SgjlCDBaG3J3JWFSC9iBhUTZgMblCmFCrWgKzphBHPibiaHEDaGWH+bhhnigTBEbgIK2F3LhJqHRogQXjgRxFDQ+FJERBmgyjrzKjhG5E57ShCjxGJFKr+FRFMyNAsyEz4IkxZF0w5GRHYy4wgjRp4KIxdHUwlFNELBzRhF2FCYibziloXRJS5SgjLRULxB8EcFhBzSeJwheHXZKrjF+EWxjwxzTHZERH4wpxBxXH+yrzlw9xeFCoJG+EwELB3xnE9EXHRrvHFHPGlGaKOgfGFC9H4w-S-GNFHFlGUEYJFFVEzHoK7G5GaACR6C4IdEjFbjKjeHPEbE7qix7Q1qZzyLMjYnaEvGFBEYka8iUbUbUC0bJxwiMiqAww4ZfHIkyAsbBa9LQm7HCCDBsJVzM78yUAsCTQhSSDzHCBc4pBfgInCmilUDimSkkD8mMCULvq27kRCnaSLD6SlISk+yokkDSli4U4IyzyqZskaGUTXRSm4mbFCowwCT6laGrC0D1H7HmqUTLFLTeCZx2mek6psL2kOnOo+xKAJFukVF9BSlo4WpkxiyOhQQ2izKiRyCmAPrhLAw1pRHOl9DmnpnklHHNa2qamireBUl8lAg0k0bOB3jDxUGskIkfbsbqJFz4mKCEmGZwx0CkmcpfjMKsJqmZysyLLnFtabJER7pInWklwiJqndmcJ9khlKodnJkjiZwIzzmUKLkhx9lckUg1H9HMxDHol2Lgl-7NAJKGaGEolayEz8ydCPE+FFkpAgkaAaH3l8zFjPl-E6rbK3nPBfk6zpm-naFdZFw1E3HBx9k+JCmDzDyjzRy2yVygbcpzq8oGqOoY5al0pb5SBhilzNz3GoX+phBfgzkolCJEV3H1F1z9A+FsZllLYBoU7UUrzGDrnkTMonqUXPDsVlx0V+B7mMVLJCnZm+qolzmRCcVvqgYzBrQCXEhcV7Y2DMUnoUWRHQXXZbmCWtyVwMXPGqXfr26ej-IkDlGdCgoQ5m7347zp4Iq9DuEWWIx0hPkHQTJD4mbTJzweWvnWCtY7wt6U4louUCj6qDBrlhXShPkuh+VGjXo0yO446mRE76T9ghGbhrHRapB4URDQUdhkV4rCWgo3F6WMjZUa7nwLAIUjwFXCX+VhCBWlAnoPKUHUEGCpXIhFLpFXiKxKW0UWioUrmNp0BdXpW9UMaZxPzaWhkNq6XEUZyoU244X+pTKBGliZWZFwkNrwY8gbUZUZGvjwjVjuhIbNH5FgRbUELxDXZ7X-CXWTW5InXvgdjXZEQP6mXJVnQ1E-FjHPE+L-JlSgr-zXTMhsb-JRqNbJzjU9WxFL56BlSi7mUgiuX6rQ1RWo3hVPlQ2i6aXqEollQjV0ywzOldCunMDRmlq5q9mzqWXjL7kQU-WRFgn-XaGkG3TCZjASUplYZ8WzKxhyydGYnrGBlhAvlM2HmRHlFCWoJPHs3lYU41qgr80y3w4uEkny2i7lFOF5GSVq1ygvWZCPE1p9n1YNg1qS2qGRGPXw03U3xa0+I61G160pm22FGVgu17Ek2AV6Du3XWQQa1Yla0jWiWCrWDmxHkHYxEe322wVmrO07Su0wQHVPWe1J3e2FD82p122B2SWa0+Gh1GWegSE+xSE1LsByFcCKGdIqH3DxIwQwx-4skzpRAjhW1iBPzzE+n2B+mDBE2O1eUNiAwMwsC6mrIGlfQG47o92rH92AIHJh02YKxj16ldCSmXmmbIIxkpg6lr2T3eiWJP7hmz1+mol-5GwSz4CDBSzT42kL3n0c04iX2omDB1bIHH1fQRnKBRn1H4AX1OWqzX1NIHkShPw80p20B5kAORIQOxww5QMWj1zfRJkuFvpP0JnxhGJ+2+pmKoO+pH0ShwO5lDXoND3EI-hlByUd3OCBzVQ0i6Df2-1DU+EYNMZuhL13gCVF7oisPkM1wHCcNJx0PUAAEeC8k-6HSD2hCYFrR7o8NSNL3-JhRKBj2IUU3ukWigoP7mxd2SOuGKi02El-57ou1GO+r8IZ6SO63+mSNTAyMKWSJNgKPINMCghcW2PF4WAOPVUuguM0OOlk1MOU10VJ3mNdr91UhjB8OyPD2yg6AjAGOZATIzpZC6CJPWhjkzF7p6OeFmOvrqB7mlRRPf2NVbLxTxOJNmNmAAA8FT6TwwODXaZTlyFZ8ycmAeGQQmxAaUFC7grcycKKsCnQREDEAA1DTA6e5l7rSrsdU6ABM1-ECAs5M5sdM7oLM00wfA+pSe04CJ09QAQDIIxJKGqf0xVYM9CZQCM8sxM2LeYR5mpPgHM2E2YIsymCs-c+s087sZk77gig4YsLrVxUk3IPHT+sIwkd0BkFtDE3THeGNTkKC+E55Rpd5W1siy0+cVodCxwnoPc9YCIwwzoME5oxXC+YGURC7ahjqNU-c+EjqH8-c1S6lYhJixGlQ4U3GWpWJXhVoahio7VaS9GfJTYG02sEnRRsQOkKsgydWKM1VTeqtSxaaemG408KCtw-o6Jeal+Ii7kAozY6iXY8TTuoa12S44q62aZY4ziDi4irC8Xd9RSInW4RrZKz6mC4PRC5BVCw64ZgDSqwi6y-k566i7q+izMnS6ejkX6zC-i5sUS17sK-URS6elS0nTSwhNGwRuEquoy4UwU3IFixSTDUizOK8xy1s9y0q7yy0vy63ecEKxoyK2RaEOK6C1KzK6UnK4qE2WjUKJycZejiam28tmxZI5q9JQowG+BWiw2Pq8a+42Y0u7-qa42uaxY6u7WsOxxhxhRXG3i0vVUmXbFGwLIZwAobwBgHXT6PDCKWKWMMqSLkolMlg1fEaWDkCPewqZQCFIQ2ID+4+8NmPVkEKHEVKa+2tMdLGbxhTkB4qU+6e8yoDMkiPRqEszYBqA2uwSkCPXqJh9YHqDhyuSPZWoRyFQVOarh1sRHIeBR4eCR2hxHDwnIEs6x0qjR6ECPVxmGHCEs7x7Epx6RxHOK4R+K9RyJ5EhtCMKwh4HQF-DJ6-suAwHTFxzYCPWMxRzYHoDDIMHCKbtDiyRM2lKAOp9YCPYZNp9YLp-p4Z6ACyYZKAKZ+Z2CnJrCoMCkLZ85-ZyyRCs59YK5yPcANZy0npz51Dg56AGAC51J+CgAKShfecGeRcsnxcBdmdxdyZMrafJe+eoYGdZeAgACEJwuX4XKXtlLJpXzKhXzHkSNTSXFX+XdT1gdXhQI9NTRw1neXqXoAXXbXQXEckOTXdnfX0Og3RXkO3XnnoQvXVXoA03k39X4KxXoXUXoQtl1gxXNgTdySEIym0Qv7Sp4ZZjxwSyG0W0GoBSR3wHkhB38Ht3iHB9lY1AHgVkbSjWF3m0n7kXZHT3f78DMHxpho67FaAPJ3X0vcWAh3D7z3B1GNPII9zWSzzWrnc1GnEckAxA40dE-Hnn2PuPw86PGPbngISnkgsAkAhHFPVPJPGPI9FPeEFHTP9Pc1I9ieqgieoXnPieJbmxD3arCHgPURJYTcYT53dMl3qJkXOo-9N3cPIvCPgvhg4Piv4pqdhJkvhQ0vdKtlMHoPavx3YwyvDlSccpwvkP3on7qpJLh4f+cpQ2rKjAcgcIybVkqgagY10QQ8CbM9EPLuoH9xEHxpYPoQFCV8lQYQbZZ0WajhLb9Rf+pN1BKbQ1WGMCHVlvSHX9obBLWfovfYNjbP4f7VpS+6AfL3r4b3H3FAtNefFfmvFjxfNggrajI8CfSDcHarKjOg1UHgLMkZITWjzKcfQLHfFcEIJ7UPZ7ldl73AmAt7CDjIEYFAkg0chgr4G0jAr8l1m90yng3gRylDODS4oE5ynxaSbou-Pmizkg4zDzMzzzR-bL1-jVqSYCnLp-460+2kG0o8yxAkQWFEC9zhtqqJkI7CwFngaEDA-JUgKQHs4MAJmY2OAahkBAMR0sDEUZh8wmbgDm+dyNAd-EeaWM7wbMBSHM2AG6BbetNCPqQOJ4WBF0sTHEN8xWaAg5MKzX-vNFkAACny0vGgbMGHhUCb+QIEwKxg-oShaBI8ZaErgoR78MWMgkAsCB3iwZS2nUHkDIK2CbAt0NnVjmyxkFmAgghyF0HoNAA1cgQVmRquEmf7qCIMVmQtOEjTBRATIlodfpWC36vx5B-5FpFCVgSYISY6g7YFoKKCuBPCaJNmBiTGxqlzk16dLGwImYSDxg3gJXDqHkR6C3mNMRKss3v4u13CB0T9t6CFrhDjBdzBtAxHv7xCpBz-IwcOQiGTBOwCzQITYHBDcRr0U5fgbsUgy9AlmFCG7vYEQpSDgkrxCICDkiEgEJBcmcjpFR5DJDIhVbPQT0LIEJDGAIGLdM0W+Y1CLBQIAAOT38KELA7YSsIf4bMn+Mg6fPEOjiMBdi5wlLvwx9AYsngB-HwDqCuF4DzUI9SSEs0BDzIPhzCYUD9h0wiELEUQ8JGMKeEjgLh++F0M8PmF9DEhb-cHr0N2KgjvAhXJtGUChHwiFhzwgJh7y96kAfeloHMvDEijsxFye-dBHAjiJGYQCbwq5r4M5iF5wywxOxEZjD7WBpeOIqkHiMoBDwuK-MYkdSCoGkiBhKg4IbwzhgbCR6whXtrtFRCeEjMcI1mAEyuHygmSMMPkWRGpCki4KeVaBLSMpHijtU-ySiNSx4orok6OQkIYyLPJRh5RqlQ7vyNkBdA2EoKaXsqPhCqj1R7MQUbaJCRfhjRmbCDOR1GErBHhCEIkRqMdFDl1SR0D-uXwdH15hy5-Utv6OrCoD6Oow5gBGITGUJgqKYvthBg5He9uRBIghsGJLR5jMgrItzoWK5E8jCRmYkkdMJ3LyikxKQKciGLyHp1qwN3eMU6MTFMVVqQpXIfKNFRfhJRSzbIXtGHEGiBxo7JbBRThhMUY+FIBss8CMxsMFg05cUSAR1BUjXiHbCzNWSoy1lHSYQjmKyVXFDsxBRYRBhVS1E3DNxHYvccCVRGkjgqB4uGFK1pL0kmRHUZwA4NbhXjnWpoRfBphYReBWEHQYMII3FEbjVxWoiDPNlEECIi4+wJ0aBMgjXR1xD4nUABLvE+jgJndLmslDsxe4T+qRLIEWxHAmMOxl1KiY4mnweBSJjDS6ojWYmTANxOoJiaUi9yuNuJOMFiZJX4m8S4JboYSboD4nsTCcEpfRnRPVZ+oHxxKOSf42vG0MnSHVOSabXkk0SS0T8cSfoE0lHpv8xeAJuhj7BngUSh4hRoMBIDdsugi4SQPUlKRZBGA+ibmBwkRKwSVWQpAzCOJVb7Y1W+kkGlJKGwzsrJdjYdra3mBBSmsGFdlHdVnR2SoI8sJyVJEP7hTi871BBosF2L6SQW+kmtiOzvTiAdRC0EtH5PnY4g90foHKc-3lGDAapuxF0C2N3bKtKp8wRUZ+ixxRT-xHk0kQExlwUEqC+pYMHxyfJ0BPUo02JAmDoBlZGBCZDFhNI2FTS4QM0-gL8mCp7paWUsKsTZWhyDSM+I0+QNNKAEA410RIHaQSwdIrS1pbiReIyG8BZBPeYEMaYLEmnHTVpXQWabIKjZSwQCN0r6etLhFbTs2l0ndHtJwzLQnp4pAGXoABnSAgZVYpVBDMGkzgpY-zbrOQXwBhgjAP3KsqAPjJ1kcZzpArIIUGm68VSycO6U-mJmyhSZRWGXD9LniMyQCE5QYQ9Jd7ZAYZH0p8rS2tysiIZ2MlfETk3yoz84AOTsAE2T76laUovXoKQxSKPhBgnEB2i40BoU4YppUEKUThnbKSIp805wDFI1RxT9UIBaWQcDkkqzjJv+TaawSJwycgMeUlwgVOVlaBrZDE5ceILtmSAHZjTADK7NVl2MNxCjVAfgC1CdAGICgsOYSAjnvjrYuyf2aABVlmAQCIciOoMKkAGZvMqzN8oExT6yziw8siuInKtnaTgqQwjsdnO2CPiS0yc4MZ-icA+ytAQGF0N5iRl0wXQyc9uZ9m9m+zn+bcq6Tuh1BdzB5G7OxnCMBDRzpIyExfsS39zI56CTdDcXunC4Qy2soDIsKMGiisIicoOMbBhK-bKjE5yotWYrTVa+zEyaZS0k3ibkv49AR8t2YOlzxftR5jaE+frJ6lCYX8l8i0qHPDkdBlBuctmaWznn2AF5ghC+QWUSyeyxA40dCc-KgJf5tJG4waULNxlbQkMKs9wFDn2J1IQwUUHeX3iRy5AsFZGSnA3K-YuNWRz+bPA3iAIF5tJJ+ewLYAJx+gSAjSZlAAAYzeRcBqIxAQJDSYSlYSgAcCcSsK9SHClhauDYUcyVmPAc2jiA8QyLlo0+J+HwuSkUTngckjxOSLpHDYOUy8jsRliWZG4Ccui3JCIqrav8AmJ2dxpdRZyk5Y06stVjor1HCKB06i1xT4IsWiK2M9ZOwGMBiRyBX42EpZMlnDBaiT04SNRccw0WOZDxXioRYNg5StUa5PgZ8dkw7FvZAl6gV+LuINHdyhgASyQEEtfjNSDRJbbZIuO6m+NilpSxxR7MInOBgww08ZMiFyCHi9ZXjM1P4pkA5LglhmUDD5IiW1ox2yqPlvHM-6aLvCJpRtF+DboyBIpalNqaeiBrBSeJjDUKdq3dlWsuUa0DwKhmaxi1wkYcu9GLSIjZKSluStiRspJbOzCpplRdOpQjauYyp6SlOTGyKV9KrlAy3cT5gMGXL6lzU4UY2iIinLZAu7GpYTK+X9KQl4oqWepJlmKBdSiMH5IZK9anyYsGs9iesoEkkstlnhLpb-iZx4UgppgtHmRXQqzNb5jsqSc7PYn75X51ga0DsoqA5yipIqYZT4GtCLZQyeACFAKu5zYrbluK5NgSvRAsrtJw7L8GSuNlrJTZ5qFZBNGeY0rGmdE1+U7KEkMqC0i6XVdYBcapLzZ5EpWZ61ZXYVR2CaFpdQSkAkxJVRK0ZeYGi5gABVEKMJWtEnn-zRB9uFZYUAXFk1jV+SU1VKqxxNLZ01KvuYsE9SLB+AOy4OZOwgxTzY5nxD1THIAVxzNAZQSNQUnVipzJG5czOREsjUfKXx5s4bMitEY0h2cUamNWXIznJT902KM2Yiq6CyyUVlarIA2oKSeo1ZTq0AC6vzVvL90UsDQWkobUbCSA4a5uY01blgyHSrc9WIUpsATqVVfcrzLOtJ6FAvMC6plYUEtbBUU108gJnKXmgOIGlgwB+RQvPVgiR4mKgKar1DDZAicDiUFLYqeBxLQIDixnFirVbLqR4UC0FA+l-Wqr7516haJetHl05bEUYB9TkAQIvClU78kyQbLDUqr-1Caz1azKCr7jAKa-a9Q0p2J6AYNT6snEjNAXkBwFRWIDVAoxmoSeSCBRBQwtvXVVUFOM6XkhmfW2V9ix6hAmevIXU4dl1CrPK-mIJ2ydlG82ECKRIhjArhIG5EWBv43yT6ZIGFBVjNY0-clkIczjeagOml8ugsMuBUQoRoXqFNVCndV53s5yl0CxmpBZaxGqGtGZUsnDTJquHuylN5ONVpbGECVZ7AuoOEFQVk3giUwfFXDciJbLKJPNJAQ5SbI2SfEaQQfELRcIC0HJ7N1uYKhFtyB4SHi6IlLRLNMlSAhWaYKyIaVHJMyygJWu+tJUK3Qhdyf+fJZwmny6UqtIgEcj2T-zlL6tqkmqm3zXASAitX0GrRuJ0HlbOtAlP9H1ooADacJCEYbShLOi6Uxt0IFrYogfHtbiBTCGQDoFBhdAZNJWzidNta2nCBYFIyya1r21NgZt5sChCwHwmnaVtHDA7TAt6nEArI1AGIIRtoDjae4rmxmYNvy3damt1vAHZPFzXLtFcwVQra9tyCNaPti297c9sW3wbCWTmvDQJSB1w7Pte5BoQ2hy2XZfcX2PkKUg+HBarhSzCHTEEn6-petkOuGb1sW3fbrcv21RkPBHgLb+trO2vhsOAVtjIZj0rmS9JOl+9zUxOlHdJXZ19AxdRTHHajh1XmbIuY26nfNtp3NaaddADHcegyFmtrGjMrsPjq+FBbkdoW5WVTvJ08KzoDUTbSiWDKKaftD4ljVoDY1jzQQOCjXeED8RlaDdiW83VtoS27EBSi6nVGRoo1K5LWSSF3QFWThe555IsxXNu1D3LoPqO8GXWECl0gZRQ+On4UTo934978G20GBTuEbz4jsJ2xYEn19pswcY8CNceKLJTnBe+b3Afj-SH6MhxNoAGsfiJBamRSg9OiWSprOloKHd2O+NZDiQywwQwRSZ4GZMDAWSgK7ed2f7p07KBC8hnQeR20X1HjvxzgADD6kYBEQ29xYriuCBBWNo82kesBdHvoIGqCMCervUhhT066ikcmPfXWIIb66Ca0m69Usyf0libQk-f5BtDVGCdecoAAAJxVBKd-6PjkpoMBuSk4gBpTcNmWi+BBgL7byaVMWkkgyKZZBNDTlOCcLRW1gQA3oE2GbCUwaAMg2Fu9VziT0hBvmQ8psBwHBpdEQ-mLPASmBkDoAJzrfS6k2t6DEgEiLEngNMG1ggwf-T1ogOxIW96gGJHEnGDXlpQvWbvbjrjWg6Acaeh-VEmkMN14GgIYXYbslDRJYkWh-PUXHDHswfdDBFTK+m8DpAaQdAs+ar0tigo3RjJFoGqNMOajcosgCw0UhYEVBD9JKlpCFEYA2G8eJg04O7BjmMhwQZFQg4CEMjxHweDo0AFcJwwqZrA8RqzlHyWSEGzheGy2EaA5WmoOMCaUHOMHAl9YoJT5fI6BjQkCL5khmqMLUdKPXRqjw7BNEEZCPDwwjzKCI2k2FD4Gk5fBvjnJgyMJHQckoSo2UlGPxGRQhRiwHux9UpBYj0xpzikagUMAVjmR4dgwZj0npyZ6m09JpuH2bFcjyIwXQ6Un2Mhp998ufYEaX2RcySSM3Q4lsthxxT95G8-YIXXmSyQ1i-ASjkDoCMRD+MQFTO5ocNOHQN7o1w56I8PhgvDIJnw4sz8No4jR07eNYcmeOXC3jugKPVAe+N405GbQ8w5caoAaFXjxcYRDJNBDg419-9B4zRt6RQS6jOsA+fvOfl79T1oOYtbnNqOcmD5cIpo6ya5PT5BTz8tk-3n0S44+sB86Sa7mFPfrVemQeBf3mhrn4x8MeOPEnnABsY1TkeDU5Pjvwg4D5JuSLkqYaP+gCTDYT4ffBFNMnT13iM1FKYEVDZXcX6u9cUjNOQFQU5+S-Dfm1OYgfTuBQ0x2ONwtJ7Onp7RL3E-nWmZ5WAdw1IBk2bD5segDdaAAAA6WATk7prKMSl5kSuNrPpzs4+Yd0JBoEB0dEaJIqg8Z8w0mcXwpmN1GZrM60pzP4A8zTmUKq+n3wHI90hAQYAAC9De6Z2mIdK6DkbczSwv2oWdAADnizBGUs4CHLOyB8w26G4NJQBNAmfASZ7M2OdbMTmKukwyJFxFvgfDSAHwgBYaE2EQg8A1ZxMyOZbNtn9zZPI80CA8Anmzzh++cyKCAA')">function add_rule_or_assertion(assertion) {
    return is_rule(assertion) 
        ? add_rule(assertion)
        : add_assertion(assertion);
}
function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    const old_assertions = THE_ASSERTIONS;
    THE_ASSERTIONS = pair(assertion, () => old_assertions);
    return "ok";
}
function add_rule(rule) {
    store_rule_in_index(rule);
    const old_rules = THE_RULES;
    THE_RULES = pair(rule, () => old_rules);
    return "ok";
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p41' class='permalink'></a><p>  
      To actually store an assertion or a rule, we check to see if it can be
      indexed.  If so, we store it in the appropriate stream.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (store-assertion-in-index assertion)
        (if (indexable? assertion)
        (let ((key (index-key-of assertion)))
              (let ((current-assertion-stream
              (get-stream key 'assertion-stream)))
              (put key
              'assertion-stream
              (cons-stream assertion
              current-assertion-stream))))))

        (define (store-rule-in-index rule)
        (let ((pattern (conclusion rule)))
        (if (indexable? pattern)
              (let ((key (index-key-of pattern)))
              (let ((current-rule-stream
              (get-stream key 'rule-stream)))
              (put key
              'rule-stream
              (cons-stream rule
              current-rule-stream)))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_26_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROaRQA45xDDq+QlCgOBEGQdA8TQYkLhRDyUgYYw2BkBhiFw9y6DEIxKAUSghLieNAwG9IFBYMhptm8JQAAH224yBo+Uhqimj5NpiXb9tSFh8HwDghA2uadr2v1loyf8ZrmsLeoLTzUmYMQJGEBhtzBU7KB2Pp7jEebAoGrCwfCAAyRHen6QYEZHdlIf+r6sHq8xlvIBRiAemHFuSP7yAB2pgdBB6rLoIniGqs48cuTjDF8VbboYfARsZ4nSaohaEkDOZ9CIj7+XC-GKYYC1qDEOhiboUGpao2HKepoGQfp0BwQVpWVZ0tNzllplFeV4hVcGrnrves7X0C8WbxdpNScmU22b68xDatm3cJJjGnfJ1GRhvSXNul77OIG40hBnCplDYchSvoIWQ9FuX-sB2mdzBqz45tpOU7TugWbN9mPKLxOTFLzLGE57mHcezOEzdu0O5bz2vfNmuGBL1OG4YQOM+WZ20Yl93I7m6PzYG6sjvFAe66H1Ex9iTWodz3WC-1xfqGXwey4r72foPo-V7L23m43mIJ-D92u49ueq-MC+-hX5O17K0fg-H0Oz8Z6e1xngAAYpAAAGgAWQAKLNECIQFOyh-jgllivb01BUTglAI5LBqh9Yp1WsIcgsk8DkBkFoUgWMUi-RpP8Wh6gRAcGEI0WqqhKCUEIIYRoIAxD4NpGgXIChgDuESCggAtOQbkFQFC+GAAAK0MBIwwKdJrABSPQwwwAABsOhsDgKgXAhBxAFD4ErP8SgfRQDsA8F4JqihgRExYCQhg11hC+AII4SxfRarrlIFpXBFBuFY3+O4zxXlyA2K5PYxyfQagWOoTUWotQ0Bn1jqkIhLjyB3xFgmAaOcaa7w+lZdBwZqhYOcKfc2WTXH+KZlQwwuTAo3GxE3e2vN+ZM24M-BGr8fZomca48JzTQ7xWIG4mJQxJ4R3dn06O6T+qpBEqMrOv1t5FLpnvcEIlBrMC0Mbapb8XC7OIAAD0IIENwzhVntxmXMqWXtFkE1SG8biqIfjnMucQa56d-6b1DgUqmO8tklNAMZIo4I3mVPoJ8i5VzDBVN7sclQ9AgZfNIAwb56N1Zt0DCDBggQZB6zxMigZqKRCjXhQwSktz8WgkJZUPWpIvp9zRVSy58s2Bq0dgAtZBKiV6x0E8+eqRjDtGtigul2dgWbPzmC8E4razeKOeS8Zg02jKqlWDMIGtQ660VZqyVzNuA6rJT9JVxq9lUFMdbSgTTg6xD5Xcx+do+mspRVUAJM4Pg2uNg9XVeKXDizNR68lVyfX7NtarB1H1A3OsDDPMIYafoDVMZoXElrvEBqElvdImQc0poycDdYka-V2pzXqtZr0C1JoWaKyZdjcl5KWlrEF8rZpWVscoLwqqfrqu7V4aVwI6bgkHeCU1Usi0eUHW4-AHjm0P0GMAkVKKBoaCQdQbk69-n30BW2uVPLwb6w3SCbdSLp3mHQRin5iK-m4oTcG+5brHmXpcKnMQsbeUArWUAh5UdzWcQcvLUgn79BEHjT+-JqR81ZAg4BjyXqPggamvBqtLrBjwbfQtZDH6mloaDX+cD3DV3koXqnfQXyybVoPTrOmXyrLFFPs8uW1QKhnPFPoXi1HoN7KOpNaZIxuPhF2usxegnBjCdxvPGUZyGBEj5lxqg81GzdEZOLbjTEt7ie6OEUo4ImOgGaN0aTKLUp8f6AoHEbJuikmFo2RqQJUrWbLL4Fl5JAqObAuUjU+lQCwaM9SUzZHlkZCDlG42PHW0bLo-K8tqsrKkDC32zibxk68DvXQbIYWotPtdfsHLCHzBJY4HOhdJW6xQTzW9KedpaKFamDMEdO4DZsEcuQXwf0kvM0a00MOy7p7uwqyA1mtVZaNTkI41q8AkCoDQF1PEMcPJjRrDavW1tKy5v3Rq4ao1xo0AEwjZSpRqQfWUs0QmgsjvOgUjdaSN8Ol-ztjzPmaQmak24Bt3rKl1n92Pg3Umx2WinhpfQX1xcr4A73l987YnU6H0-v9ndUsgcrYXB-UrSObnQ7oJt2H67rlGwrddxUpQ0fy0J-7I9n3cffb63HNFMLGYLhvb8rLJOVhk5B9Cj5LP4W3ux2CmHzoLuZKGTkjn8lQDqtllucXWKh7E0aR9iFV5ankDK74FXelFTC8VKLjVErs2S6a+TrN2qjXeOtQcu1X65o07xyL9Zg7Ac3eBz8F3OPHf6-WSsk3RQuc-D90L2n+PUinq3VDlHbvT1a7Rx0LQ+hr387Zx9lotP8IEQJa9wOTS8Np6+3T1YLRSDmT1jZOyDlnLUl8KrcgZzPIuHjza3ypGfqx6Tw4bgeGhIDjhkdBQlSLEMFl8iSYws91rNj1igfQ+Jmj674IUDyblgUX1H315ihCD4HKCP45ne6Dj6gjEd8PyMhFWb4n9BIyx+Z514Uc5WhKUbYPPQf1quCLoPqUrsgTTb8f7Qjwzv3vwaGvVx1fypwPxG2Em212VHiuXPyLyazgIYlB1VgrQQO5SQL6zHA1DDDX2jENDMmCAPyslsnsichcHNkoF8BIEb0EEICQV8BZhzFGxqQZRzwYiaS+UMAd3mhbRcGA3zx4OwNKFgzkmaCwkvxJiQxnA-UowuTCD4OAL9GzxGlz1GFw2XwUJIz4Lb04nJx52cDhW+VTy91y3WUoG60o32xJjeQ5UxWxQL1p2wJiEDzPDW3sIxTQLt2sD4OMlMlsP0C8OpU6CPT8PT022Cx+jN0t21TjT4OFg31GgUAzUNy1XC1mgmAnyg0DFwNDHJAIM8mFH0AGhTmQ19Rt1VhzX4OmECmkKTwPAqIi2JzjT8K+38mfEIIbDBwEFkL2VmhHgYkZAhQaP6MqOjSPSUI6JXGSJQLPBkKaMjUGMDiPwhUCnGI+iGIWKYkKCKOPzqNDliKNylQAJwzLSqPtRzU4BmKzEKNG0bAcD9lqEZCeEBAAD5-M3oap2DkNXsnjKdah9ABYfkLCa0sgQSlhOcvjMgVxJCNx9AATEUlZahuA1CGAkTLYgSbxISQEyJwUZYUVDBuRGAd9a5v4y5fCkiSiDo4jMjZ4ciT9ejTssjGRzcJkJjjZfDdjci5Z00aD0jjUc0IUxC3oIU1hGDrZ0YSTeZ+Av565UQ-8ljrdJiaiVC0JiShBZTySFSGoBJbgOS6T9Azj78I0VSuSajHxQB9j0wt4-tIdkdNoP8FI6Z7SKTh52lboPYP8DcMcJksd70nSCIXSdw-T5Sf4spPTu5XCftYN-I2CUVydPcQ9Nt7NmTwlGRZ0RkEYmJGxuw9Q2SZSyTwzKT9BwkgJYhHjGZATQhGR0TMSUTBh8yV84w1kGjwl1Tdczkn90VwD5BIDmzuAGyNReDIj61EyQdg9O0xzhYWkDTGUs5tjaxjS0IGjTkU9MttcQDYhC9oiDCQc-Z-VzC0z3gBBA5GQGjDy7Ulz6SIjbjYg-YHseZR4rybYoy09A4+CtNQ5A49zlsQcwyAz2cUz5pHyoybz9BAKHSyp3yEZOyGioL3SYo-4pZlCVwZidQYgWN3cFw3TdTAzj0vthYwLnt0cGJgjeiE4SyPTSKtyGgGi8KIzGAULNo0KVgMKcA8BxsHEWoYAZsOp5tLAlsXkmBrCzkLCG9xJ2Rus-zrh5zZdv9JBf9uAOyZyqt9VR1hFt9d9ZYJ0zjFLGkVL50egOKG0tKd9KVR8wTaM84wQZBC4t8LKgZdKisqDjkFcKAf8Akk8LCBUmV7LQBSVsNr9jKfLZyNLkNBUAr3NK5yUwDKwID-UZBfKGUoruBhVZLRJ5z5jly3gn9W4PMIqwQdlyYbyJ0KV8rXLfdSrR5VjwqaMYtbLIKGJEsaqGIUsPIcqJk8qK06r1Lf1n0shVj9DltHAvhEVJpRo+y38K0iL+qEwbxTLPVlS5B3s5rCqBqRglryVJVxqJkWAtdVriZEiIhCgNqEwsIjquAxyvpGwrEJl+TcQX9+zjZGQ4zhKsq7grqjBSLRzc8LD4Zfr6IFiV9Yqforqny9Qk9PLKszrWyMNoamYqqIaNCrrng4beSiM0bMqWhuypSpqEqXricgaqxOhRyWB1gHrad6qEwOBJorEfrm5dUpK6axAGbTwoS3csIZcYbGb7Y-qyaIiKbjACaYzmhWaGaozdUAAeYEa2Nm1QZqvUGMtwkvMvcEAAFRumlyEE8Q-V4C5KbEYJBFqGaBwQAGpwVtzDpjohQtcpbwhLbyqLaraQCbbJo7alaJhVdTJS8SDNbtaZBiBHIl8xADbbcjbN1Tb9ZQBLaTTCh3b+EZB7bfrHb9YrJY7Xb79E7PaObxzyVcpIaIKoyTryRzYNtgYbpsR1qVhzZNT2cSa87GT-RttYM+bbpOa9IydcdK6iAVztz09k58AJqxACbErZqXD47AsozMYQ1U6p7VbxY86F7p6STat-xU6bQ7Q86KyMxZiSiNtMZ7qUi0jnqZrVZaj6K-bNwS79ZbJrpyga9m4zbd7WIujm7XhmSrrGR+jvr7znRPM16IapbEbiY-CV7YgUauDQGHweTyJ7j4bAwK70Rq7accaSLm5i7SLgbS6kREye6UHKNqaDi8wiS16pbgbIM-RqsC0Hazju7Kxe7sQF7drh7jox6ibqjC8zjmgZ6pK56maVamt4Il6ybgahG+t671727lat6hrBbX69is6igBxD6pLj7HqOHz6CrYxiCb7sG766AH6RAn77Z6DXzKBW84HrT36SGKQv6Yaf6Vreb-7FRAH7pgHfqYHwGB68wYaby-8YarS9iEHMbkGq6iGojRsuLjkJtmoIA+L2o5supsBsL+9qBB8aBh8F9D90NotClYs7LF9wRLkMm58OrzBSnMnqBh8MmkFJiAcx88m8sBs7Qx8nkCpZ8sn59Ym6y6Z0wDU5hyrYg5hVwfGGgDUORhmYgOQxn1SDUMJpmeANw5mBnR0QYlmQZVnpgDVwTyrwTnRxmigDVuJDAkEOtyrTnznPFFQjnCgDU9Hpm9HYw7nYgDUbgrF5YWBDAJ0PnVAvnGoVhXmYgDVzalnYh9AzluBfBwgARPiG9LabngXmtiqJFwWYhIXoXYX4XQAJFQAkX5nR04RuAGhMX8XsXQAG9IR8WYhkWDVgB0WDAoXyWPjKXQAwACW1mWsABSRlslmF1lhvblml0AOl0dcScF-lilySqUGFwllrAAQklEleZYFbhbZaVaBDla5eKulr5dVeldAFlpiG1Z2dHWloBHRalcFaNaBHJfleKveP1axZtc+JNbFZa3eMtZJcKGtfVYby9fdYdYhAVcZbZcKHVZiAVdiHEvTHymZKqbnz3wGUhscxXFaQk24ETe6eTYLBX06bKZzfQXwBYAURMHtUBHTY0AP1ZYWa6ZqZNX62kfaeRaKGzYbdzcVLTAigTfreHxrkcxRa3FHXyOEHKtHdbd8ZBdHUgDoEwRoOGdnfndNanZWHeaoH+dgEgGmb+YYC3cnanfXc+dgSWd3dgQPd8YNQADlyAr3GWb2r2JGdd43TyeA+3urKK3zfrK2VgM3hR1XxZkqs332fDmAY0X2qR23+3P2Zxc8f3pg-3WXn5kqIioOP3TyE4V9sLp80PO2blkRu9QNbKLDp9qgMSZRSA2BfB2GFFyBqxiSjpNB+6rxcO6mOBjZGmHAL2igP1iOjgigEzyVpwsQtHICLDH98az7ICACN0pSuMQP0EKHlGddcP+4HbOzphZORB5PC2O3i3S3y3RyIHVOYOAnuPYgNHUiBSpPItcY7rIYxAvgKaWdpqqc2T4xCBRP-Vu2YmBk4mptEnZtMAMAPqKqKBTAGAJUPgyobhSAh0-TrK0gDa1pNxn4EvJgVxZhBrpH0u07wQGAXac7k6JMcv4cSIkDmg0uyu-h+kfphEbgNV6ktAcV+NP0SPlBlADaMg1sjBu8OuKXGpLb9BpFlBMZwQcF9McEzaM7LaRvzPFRxvJ1WvQbsLvlOF7arDjpCPP1tuZ9JAaDnhoJzrAxE7M7wQIRM76uNdjAmugSM3eO1uaDtvsinbrA-JWZzZHvcQqErMP1Eu26-vMv9ZYNdITJ1ldY-vQBkYsBUJSiYMasbw-uRNtom3EfQNx9NX9YmMkDSgSvIepKDNQfScwvpEZwouYpYuh1Ae-Rmg4f5ZjbI915Ifof8SYhLsZD3LWdNykfbAyJ9MLvLavumAyArNxZ88efM6YfIUY7LbwLXsQSD8CwHCBd04kfJfVwcEXahefuSu0ewMefHapfCh4RZIyJJD4gaCcpQRyqP1gP9vvuReMuVgDcsJqepcvuIRFm0S6Yxf0e5Hhv0fUOLeHfSBBIYeDdE6A-oYgfwQAByF2j9M7+P8P07Vrz2v77DIXiVUgLXbPgV+a6LNu4mVadacWPP+b2MA1IQMdqyYIZ2hyHSKyC0YsZ2ireEDL6CUoD3sv2sHPiIm8cvu39b4X0Pirt9+3krwfojKfrP3vmFnG2j+j5QRj2D1Ay5DwW9HQxLiPc9dOKjIHqvhn3f8ubgZPUwzcqjDThoDNxf9YZf6gTQG8mfDftwZ7rfp3sH9nrfg-0dJjU1UizpG9kFhUYx+XyHGnn1th145M6-FBG4C37UkDA66I-gDhAE5FGwinUiiMTggAD5e72M-gihuQgCeSnTF-sYCBh4Y4o1bCAZzCgHP9YBo5YQhcmCYCE6o7lPhupEWZA8sIGmeQPQJpg94ek2XGAben4HL5PYcJVgSm3YESQNmXA3gSIPIHL4JBGA5uGN1v4McH+q-BYkTwDzLMDwivGKCXQAK6x1B9-R-oHDoGb9feYGEAeIOd56DNwKg+2MB1IGiC2unRSMOvhpIwY1qTA2ooFANR-9TGL2LpMAL8EeDKIBxeohcnjKElyUNBEgPAIL5ywpCTAoHuLH372C9GOhMgpXkoK41z+-UFwAkOIBWMPuKKHqjGiSHHcUhCJTIVLkWppCsh19HIYYwoLV4ueRQiqrbjKFxD28bgYsGVEoD4A3EEyAYBUEGBUYaaiaWgiTCmEE9m+VUbDOMIpxaQYoIyKYckKbaVCriRAwTv2nnIsA2Mx0ZqkvGQik0FiANBEn6WBrnhsMRwkQOwz9Jlljhk0CwuLAeHcQ3h9w14aPVHifDjoFhG8ACO+HlDyUII0emR2+o3CmoSNaYe+i-CnCEcS4WEWA2wwSdtOMIz8qiMqw1CHB+pO4BCKRHihbhfIU-kExxqaQwONANbAxhxFDkjGTlIYpiiYTCAOApAeaGykIBx4mBzdZIuJlQF2NP6r7CEZmV+EMAoRLjC5OSKRrWNEGLgUUVJVHb0NpQxjIGIvAYCsj2RrQtGjw1RTciXhjwyav8N+HMDyI79ZIqkMIBrFYwgULCLkANEZC-B3AB0VrkaHWizRNjTwd0WoZHEYhK4NiHiNdFb8cah0SzPTxICUoKgKcXwECUMBshoxHWGmIYDsxbDwSRgUlED0TGxigYKYp4BIO4GTx4xFfN4uqzDFEwIx+NbMXGKsLhiiIpKK-quxWDVjcxpIKqtUCoR3Rh8LYjMdwBbGDRUxeI9McWKzGRgkxrY-MfYMLEjBixjY31hSw7FkAux-pMcTmP0D9i8xFfZ0KWM+LliFACEDMSNj6EcxaxFYmQCnBmjVsCO1ICwueKoBP4LMRMaaIEArF-tF8EwYKheIfF7jnxlmf7jVj3E48YSbACQYuMo79Buxq4oEiGlPGCQ5xGLClneM4TWxHxVmPcQeMAn50YieNSlEKB8Kgheq1XFESQmPRo0TyVIRUTYnFGSj3sMI7GniMVHeZ1QtQIHhiMGAwiSJMosBgWPvFkBGAHzfiBCIgoQiIinEnESNUqa8SkgDAASYrV4h9iqAXE3EfKJxFjcZASYWoDghj7qS9gmkiQZqk6BKZj0JE8IED2-pYV7B5GTCMpmU6xAycOEoGHhMpAETqi8kriIpPEmgTUgWEbjFDxRhwwESJkrgVJP4khRFaN4bjPBL9A3gTJUU50LxCoShS+IitDTMpjim+NxYsUiBp-iCZj80EGksdqGOOgcBhhjcWCZCyuH6DmWO44CRJJcBqATAXgeWIwEWFM8Bh2kZwNwAgFuSIBZEqCI2FkmMoaQ3KRkAlL4kySwp+gbqR5NamdTbJTY6YL1IpF4jBpmBNKOpB0ksIdBJQYCRIJHolTIy5U1aWfiwI40MsEyNjOciMmJdI+qU2eLjBKmgANaAACVgQMAAAguAHACwIAAShrUgAAB5K9sgCBDvVsKQdZKasMGFg4jJiUpSRYXOkSjZMsMviUBPMyXSzk-A9qYqRRlJAx+5mToAuFmlg5sMBMzIFDI6kwyLCL0t6Z9O+l-TAZwM0mZICRnsYsZawvUmNLxnwjxALMn8RjPkzlhFMXMw-E32xnOAVEsE5jObG9DkDxZMMkWfDJ5noSkJGbD-CRINofETSDUntM1IpnrwNZlkZZshKSDwyopEMtQPrM5khT4ZTyR6RVlBwOAqEjIAAAw-EUUNQRyISjCwRiz0w8agIMBhg+zcgTs7QECAdkhz0C1CS2niG-JrII5FlKhNhnVSezmRyIkmDCIdk79-ZkEPEVhEJ5ZsESWc5ATFADn+9cuONQICCTTnihUg1QbLBwBUzMli5m6Y-hKLND+Zg63s0rNnNLmBymI1BQIBMnaxsAh0mwlcNpgoxTCRSOtO4KnOeF0iW5fsvuSrRd51CmhfoLvgiVrHDzOgQ6J0R6PSkWch5DAEeUOndF2CaeBQ+MipJ3mny95DcxiPsM4gVBIxoQXmFljpF0SgmwsQecQF3mjzKMl9YoogNSACibRL0A+u0EMkwiHwH9Q4msisK1g5ROYWxmcUbAsAxRRoyEYwD-rwyUFMBNZJgqVHgRxwC9UoOpKjAL1mgd8s+YaK+F-DyKLAT0SE2gg2lbR22KQqZODLSV-598wBRkPHyiZaFD8xah-yvDNBKFxgaxoGNvkny6FVGHGmxIlEjRt81yP4MSPOGnglZ-U9Mr8KwUMKkZI+Xmt-NlHkgBwoozHhO2bqBQHAdtCaclPoVPCmFpo7gNlKKDaLxJ-HQohaO8HMilaR+AengEhAhKVwGC-RUCCEk0TBYni+iSsECiWKmJEEGeXYuToOL+INw9xTECEkmjsF4DaCAUr8ZI1xSuNHspopRGxLlpSjb0SAvXHEA35qQdOJ4tMVgN0awS0JfEtDj5TdJhUnxTUrsbRCylWIzoPgvuLHiPIqS3ELJK4x7hfwfUvEd-QJ6bS9J0JbpVtP0nQKsghAWZUBKupeT-F2y7hVLmUV4S1FiKDRdsqzZzKgm+y8TIQDsysSHJKirFMPXOWPB7lWbNkGRPZZgAQlkIfZT5NJR+T1kPk0kED0mXpLwp7sQ5UfKKARTSQsKwoBCumUaYGxWSxUBpgRXora6uUiQWss0noNjauIDXBVkfldS5+CuE2XQHJVkBcQ8y4UVSGTj9BGAFWRkFXKZg1y-gdcrLMNlzLMkIVa0rAbGGRWTTppVKxFQ0DSxnhNyTKrUsNglVFAlpZilSQKpOnrSJIyysdkD3EJZDbCkXOfo-M1zBE7oLKnLOlP2mSBDpL4qzKquGn3TRsj0mmQwB+nWQAAMrAhBnAT3ZcVSQJbIqxNJFZ4knmYjIxm4zD8QPdGbJhpj+qw1+MlmYTO7k-IkoYIn6GTIXAxrqZr051W6o9XMyZwGM6NWFgDUhSLC6ErToMA-zmZ+ZsmQWbiGFklqFVxvCrJLOtXwgopVa8qQXP1jNq9x7fQlUwUTXFrxVQarYSrIvFqyrwrK9ViaWnwkqwsZK42XDPEnmzfV-zGNYGrRp1TqQbHCZHnymkUqN1-jQCcrNgkj5x11bFcIss+IQoy1kpKMVBMGCyyrZMMsVUurRqNrYwNU6fDGtfV8TbZnZYBrBK3XSF9VtK-dbSqUmoSm5r7VoMiEZDOYSh4GvvlZBA158WCmNWDQ4ExjKjoSiKVIqVj3V59INgEiQZhqyw7CmkU-QDdaq3UrCHZwQZ9VlmJm5M0xoWR4MxqOVNY6N86jjRIJWHMbhu8sw-MsOEByyOZqvITfNA+DBAxhQmoxaGo418rX2t0MTdDPeCMgnVdM36f9KBngAmImmr6dpsZmerXeQm7gDVJU2MaWymNcEBiHe5g1OI3Gx4MNmFjSbAgia+TcjN5XkhIobAIGP6o01ZqXV7qvTeSCdXBaPVo0ouWFnM0UtLN-q1+oFFs29pKRqQTRm8AUT74RCPM9MSIWCrKkMt7MHQlQ0nwI08tKaziGaUK0ohuCihIEe7HK0OalkJ9AUqc0y0DJit-4gtI1vBnKk2tRW7LVsIPkrdzYZpfrTVs608z3RI2j2cQDEA2ogYe6wbXiOG1VVsUjPOYXVp5mrblhoGBQFUOW23yGtdWnGhlvwD1zqtpgUctRr-E5a0tVnXEJdvXhPbO6ugm7UTAkFnb65VW+gO1qu0UU6Af2+1FuJiCoaDV-RJ7QDqB1KEjeV4d7YJCeSFQIQ1fZ2mDtpXlUvtwm0Lm1vO1ZZxtV24jUBru0tbcQ+Og2SkGh1ASdVn-KOcuJXgxigSH+NHTn0aLeoB4FOorWTqUI4ioNKEUlhSxx3fafkicDnRNq535KQC8O6OEjts2kBUdeqtDX2Ip247u25sGoPNsTxAEedx60daetVkXq4djjOFrDoaC5aFdBq9XQttA0s6BB2KhOsVMtVlTrV3jDvsTwtWlTUJ3jGHrBGaCwY+dRQKXV9Bl0N95dq2LQNbuYLcBLdWgVXYmUxmddE848lSQ0XW3bpNt1oiGBMkc4ltPkrnWzs-I8imCV+EFbkJkEJ00aT11qs9VQAnWrgr1TO+PfwBJhUiE4h8RPKXrYBKSP1BgSsKf2xbuLshvetoVXhcC8RSapAZoEXs0FlVL5aEUoO7qtWWYvdekX3W9HNlHqgNQe-gBCCn3mD2qKG83eju4C76tBdwnAANPrzs6zmMYxkAAE4Tg5sK5jGM90lbJBP0J-R1lQkSiqE00KPcAuSJt0PgECp8DUoHAuApKLs4BYUA-1a5Y+sfKyGgEQPoaQDkQiFDAZK5AHFG0wGA1-qwTrR0JksCIi4DxZBUAxoTGIDgfQl4Gb63AG4HJhgO0a2sHWLrMuUtgyby9t2rYfDq33FVOg7WTrKJVrCh6PC4exXYICYMCGkFT81bvILcAR7SidAQqCeDIDXREUB3ciQIFaCMhqBteZgNANkPFqAkzexQ-wDO5HA+15ikooklUNYJPEmPRVLpNVjwhm66B8EBIncNvtSBoAPPo3kKgxB3DaLBEPNKCjX6Os8ne3vIdaDHAvRkQliAOGY1MARha0eWKJqBJRHgFTmiZAxoE38a5NIydI9YwHDWG2GNBUAPYcRR00TY8CigzxBjEQgAjHh5jYIFSOiAGj7h6qDEZfBsQ0FzY2o2EbcNtHvDc-HDOfkahtH2jWBmo6EczTlSb1p62vYbqZhayQCs-MDe4pb2qw29JMVoF3p7197WWm2Lccztz6moHdHun8bBh7ixDQu-RIQIYEcjrRqghUaDVSC0NAgdDtA4QXAP8TGAFDfhp2uYatLoDnGSxoEBkMP0s6dj26yaAdKd1L7LjVpO0cH3kMbGaRieKE7-Rhrmah9yVA41hJPEybGNnm9jIJvE0sbLDoC1meck4wcbgFqmPwIyAFkKZiUimsJcyU66l5ryCRvcfBx1wdrnd3QMWWSZbWWZkDbbbfYKZPRCaRTRMPSrGFM1knYtrLDk1XLkJybMJEQl8GMuwpuaJkDssjqGpc26LX2IsxkFKoyw3JvNgoPxRjM4wizgD9jV9mpiBBMmhZxKe09Y0bAqnryDsnkwCAXr8ml9kpnZGFhlMKAxThQJHcGZ7VSy5xWECrEqfVbembYvpoDa-XYWsFwoXx1IHutj6tT9AC0gADpYBSV5axIyPmCBWY-d+LLFuPjQjwH94Kh4ej1hODZn5DeZ7GQWabHFnSzd6oGMMIrOh8lM+g3gCeAiI9AsIo50AAAC8LwMQYszxz7PlmZAlZyCtC24Czm6zekBs+CGKPGAWYqEPGMqTuMPHNweZpcwOZXNDnVW3vFrKQi7TO1lAztMdpMFj5pg8AbZ3M2WcvOrmbzQ7A2M7RYCPnnz7fHc9VCAA')">function store_assertion_in_index(assertion) {
    if (is_indexable(assertion)) {
        const key = index_key_of(assertion);
        const current_assertion_stream =
                    get_stream(key, "assertion-stream");
        put(key, "assertion-stream",
            pair(assertion, () => current_assertion_stream));
    } else {
    }
}
function store_rule_in_index(rule) {
    const pattern = conclusion(rule);
    if (is_indexable(pattern)) {
        const key = index_key_of(pattern);
        const current_rule_stream =
                    get_stream(key, "rule-stream");
        put(key, "rule-stream",
            pair(rule, () => current_rule_stream));
    } else {
    }
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p42' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define how the data-base index is used.  A pattern (an assertion or a rule
      conclusion) will be stored in the table if it starts with a variable or a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (indexable? pat)
        (or (constant-symbol? (car pat))
        (var? (car pat))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_27_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDcQzhmmaAEgRMx5CBVCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxwmkiueJRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2HosciFV0FwnzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV7jRVCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBG1HitaE35p0QlxSb03LraR54Um+bFjk2y95EnRWqZ1tWjT3iuNJwmdi4ONHhNlo9V6geLAh4j1M3XXRMw1r3uoo+joz6X3yEzVZnN3Rl74ovY51DhQvzaYbSXFeoM+1136MUzz1g03efIu+8t-oa3kZXsYRj5Ejg03heFsVkXAu7MnnFg5CWijZoiCe6CEXhGRGy1k0tA6vyZca5aLJlXQhJYzSl1ra0TO4ttv2wdLGSs90ruVwzpTag9c9BWkgSzOi1r0GYI4AA+UAeGqjmwY0t7ZDUDgHRDiJ7hM854nYU6EXDO9SmEZWD4A7AojuDH2yCQ7smXRXaNAASFCDBs6dBTLEGRIQfs7SYSgtrJiXzEQHMoRC9YCt8da3Yom9DlNoXztKFs8PUe0cRt1wHbd0oA6iIwNlILEHYOIfDMaOO4rzdy7XwPnRwdwOci06GVeRWT9TOTvnc50uzOCWOfXV5vrSPN2tLp7zqVh75VJJ5LLnntSMn-mu5qiIIELzgVmas1tyv-i67ApD188JqzukF9YIiO3MS1DJMZzZd8hO6IrWVWt-8YU-0xBWk+6gGB5c56D-ScvamZzKlj5H6XQDPelJ0IP79S57Xj3SWTAeM3R+UYVsq7O1ntqp125QPaV3-MioHwYaejvIfk0ZouEyWV7OKWd26qh7pbtjDl0b8rCvQwEwQsFNu20HMPs7-GSyYusos372PWTa2Fcnxabvar4uYiWRr7vS+5SW-fGqrJ5ns9fi64DikEzTdq4N83g5YaN+78yXVvQF+ZmVnv-+fPSmNAeOf-rocj-V+0alJr5prWDmw8bpZVIv6D43woZlp345Ld6q5QGQRv6FJAH1p6BIG-6vhZIGaypAEVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonB5ZiYyD15nS-I+x6AjrAp5SDB56wGYhfiAwMy2YFpFo+xfzD58H2AgqCGAJwiH4yJYx5qSFBo8H4BME47xgGJiopjaT5r3qaFfQPxnTDqLTyErTaGt44hGwSz4CDBSyqFAZfQAJAK2FlqiG9BbqOGDDqyuGLol7Lp9peEiHhylyqxOGgCmycEUhPy1a7ppgdow7OYNhiFJEjhfygApEWj1zfTbq4HNZ2FkwXCXyAwH5AhZFggFEgI5ZnqpFP51Y6GSJ0ItjNZj4N5kDVQ0i6DF6l59ot7eFrQujAHmztZWIFLDERFtEHDjHcY9HUCyDJTOpAqHSwEA7pE4hEY+BTFPAqGQgVphS452YDGhEWi1r27my-LrHbTVjIbKqtE7GPb3GKiPF1b8ITHrEa7jrrFTBbHho6j7EyB1Egk5Z-GggAnZzbHzAuggldGuIwwdpdBeKDFBY5IfEZqCFUhjAzGwnKyyg6AjBvGZCnasHxREkknWghwQrhK7F6C3EFJv5YkcYeC4nF5a5hBERZC6AkkslmAAA8lJfJwwzRWeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANT5ZC7JxRAxBqT4BCoCmgC6k5E6l6lC6GDRC6AepCo0mGiTpESfrUA+Cynyn4AyCMTTo6AqmMgMCiQCqUCalAjmnWnzq2lGkOmklZ4RmWkRnD5hDRn2kmnikHzxESjJKpLpJv4r45KH5hqLHKDdAZBbT4mFB3gh5xmslObY5bwXZEiYlcnwrjJdJlkcI976n7KhjLFGnnG9oXrybJm27Jw5LHCnA6gCmjk2DhI6hOmzljk1kzgtmDAuhOnZ7zZ0y+ZeKTlsHnCDz45okXGMj1kpBulrCFm-rEDpD3rjnVhalbmS5voDoVogm1qTF3Fr7wpfg1ngkslir-Ef6DrgkIYInPmJYO6zE4heKdkVmEFO5FzwHVgFnViDDWhFllolnwXaI36pbWDVkg61kYWB7nlhCbp4a1mtmKZwXJJbRLmBy9EDknlDkVwjmDpERv77nfjUWjnhKyCWgLmV73jqA0WaornthrkqIdFkWQWgBpqlK7ldI8UnFHkjysUrrkWhCXlxkpgGp3mFoPmKhWqSiHZCj2ryW9avnwrvnrGfnFYgl4Uza-lrT-k-GAUIkgWtpgWfFAVQlWXQUElEq4XjHmI+yWLWLsB2JcCOIYA0EdRSDRoBpjDFo+JlF6FXzfrEApjJWxq1GuF5WUCBp+okQs4dIhpKJfjHRroYwVpFVxoRW1qAxRJiEag5E2AagIr4GFBiF6gdXWB6jdX55iG7EDWgC7HDWtURyHjjWHhTW9URw8JyA5HLVrI9VQoRw4x0AkSqCQaDDbW7VpQJIbVhBiGXkDWXnwqnUKoRwbQjCsIeB0Bfz3XDCPUMB0w3U2BiHanjU2B6AwyDBwjrZbaWq6nHVfXWBiGGR-XWAA1A0g2gCWqGSgAQ0jURwABUsNXqgNqNiNlqGNqN1gkNyefQgIwA2N8NeNxwoNoAYAaN01-wgIAApJTbjcDTTUjaAMzUTaACTWIawX9VTRzZtlzRScDejUzQAIQnBC3s342gAy15YS2M1k2Cls0I2c2WrCnWAq2LVM2ClHCw3C0K2G26380RwbYa3U2i2Wpbbm2S1k0bZG2DBhAm1a2gDO0O2q16CAhS3Y1c2hCi3WBS02CMFRIQj1XRAxrFWpU+y-HHClIbRbQaiDANVx1fS9xR1+opWmHejIgeBWQhg9yJ10zJ3ZWc2jXR0pU5E1UkCdjeXWDp151Q4QhYDZ0x2Bqy5J6AxiGubjSdA5H93uYk09lnURyQDEDjR0T7XWCT3T3Dyj1j3fV3VaBvWwCQADWvWSAb1L3L2k2+3b14TjVH173L1iEAByqgF92NV9F94lY9kdsezdquLJpdhQ5dnqotwJsqE11d+VZ6JYk8VQHdudquyq79KQn9nNNVhoad-9sdgDfYvc5sEG-MOdADxaiaOgV8zx8waDMQkgrmjAgqA5VkqgagwO0QQ83ZCKzdpVWQQoFV9djdYQFCuDFQYQp+EoglaSg5ZeeD1qyJRemlfaNulOhavBCDjV7hLJgwS5Td0jYwr9a54jnKVOUjGDiDlE1AhdxdyGCjf9WjXdEBcoTxrDNgaleOGlS6bFpgdVseJxOg1U7J5ytjK6aO2I6SojF6bdxBTVVicUtinADiGA8V5sKREYFAkg0chgr4G0jAr8pugjCwbgng3gz07RZQyTzpimx0G54YUyWQnYCZkgVpqZxpQqx0OTrZRE1ThTj4jCRc2kG0o8I6Akgshpugp2IxDYJkpA7gs8HiBgrqpApAiNDAupeg-TPFgIDE4SczvSQIKYEZ-TZ9kKcz38dpyahVsww8vg2z2DyG7DbMCkHN5gv2MF8wFTCZvtEZLT80sg7Tsm5dJzezyhfpB8CZJggIuz9g+Oy0LA0zSaKTy1wLkwpSCzeG3EdMfSgMFCZg2wWA-21mTZiE4LoaQQvFLoCLZgStQIpirZ4SmTBwCLszpidJuRtAUQJklosTlYCTr8CLEKREfm6CcCHSZLSLKLqQrgBS4qbMkqGLzpPLCzdzuppzAL3gQLOo8iuLZgupyL9M4Zup+Ze0B02V+dFygmuLSZCKDEVpkrI8gLJL6LcrILJT2pSroQ4I3EPLhG7zvts12D8D-zxr0ruThQfSDJzLimRrvtY1b2PIsrIL65bouLrrZz4wHryLKKXT+gvrGKQIAA5FaRQgmam7Gwads7GQi381G9HIwEKoW+c1cz6FRU8Okz4DqCW+s-KmIZJJae6ZacwsKGgtSN4G29UbPLUSK-SY6zWyOEW7-S6LW5G1K4wCwLU3-W66a2OzJWUPO0azE0O8DVmWIOQ5Q6QNQ51nVvzJFOzFhqCxylyh0jopCwfXyCGdypzIMAK0TFGDohY9YOXZu1SNu5QEPA0fDAe9SEc0e56ykH0hq+e4pmIaYnHAgeq9MXDIB9yU0nDOu84CW-KOajDPu2RNSEe2GnDiexgme7B-We+fHdxXlqUmq-kuiPe88rkDos+VHb+7IF0GwrWuXSh-CGhxh+zP+3R91sopRKR6cICGNRewyTqD+5h0xxhsmkdGAmUBJ+zAmG6nB9Em4fnYJ3loCLNaJ8wJJ0pzOvdmp6-hORSYCG+1Q5+7uzaDC0mwyQJ4WTboDOZx+1+6egp1hyG5QgB52IZ3ZyR9ee51J26pVtZWBtVny+iHRyFj4UzRB8ZbtJR88Lxw7q+v1huoNoh9BUhWdCBkl7B6UT6AyaB0mzqMV0B1Ke6VhvpYasakI4KxzKZbl5Za4XkYGdh7074kV7Bxe2Md17CxVz4EYjef+oBtqx1M4K1z3M19w2IPyJ26+OQCwl4Kwh0MGPMflx13CXCKBth6Z3N4wMKK4fsMxx2wd6+NdDogV7xZN5nMl2hGABwt4JuBcKBGneDpKEZe0OQOYlFaQMMJtMtLEV6rIGdJ5GgGD6bAlbN9SJFHoPdB83YH6IwB0D02W6kzvJekjyjw-eEsPUdiy00tbOoHDzIB8zqDqIj+6djyp3kwhJT8j7SQihTjD6QCTx8y6PT9T0hwqR3i0KBGtmGv7hXrknz1kM1ZjaLzIFjdnneDmWkmz5IDwIMPD5IOrEjlS+mGqR4JL7WvyLDyr0rwu+XqZCL40-Jb5qJNr4+DxXj50NpeGrbx5rNql+r6EBWpz7ryzwr-wGG+AhpJLxLmsr5h7xSY7-b+lw2I73xykKF67w2TiBzyGFT-JduYUHNtBqEEfPQJ2wr4byrz76JTaORSjv79b3lnr6zwb772UJni98U+b9mpbzr6H4Wm5kduH8nPYBcC2LX5L8+4UAyYDFXxNa8fn6RUX3Wwii6L32b1ZS7wRWEO70n8j573pJX6T6r9XwYKX6BIHwksH8vx0Db63wPR0PWTyymV3zODv1kOChf0LgyQyWP4XyOJP4Otf1b7vx6Bf7Hwv3TIJd3zKCc9x+r-aPmEHT4x8gqQ6JOIdS0B-dGS5FL8GwFM5y9FgNnBFEkgyC5kbcREZAUJxiD5RhQyZcJAQM7bJlXS2qSriwGq4jdnAj3WpI10fD2oQuaPWAeQD+4ONNe9A57s3x55jBJea2EBrHi+61puBlYAQVpywFpJ8w9Vd7nljEELdHwvtUgQd3zA3F28D0GIDjFiCm4QBoJK7gyV0Ev9QSrhDwFoIHKm49AZgwtEaRSY6hrB2gyYKYPMH9FcCDg2wVdxdDuDdAdRbwTg0IZOUjBCJK7hX2aIDJb+TAKEq4ULySMjBVRYIZt2cAMkn4fgsIUUw2LNY72-xbngQL7BnhRUQ3EElXlvIaFFwkgf7oWiyCMBdE3MDhEKku4L9cO-SADnHxjya8-BXuFwf4NBxOVCh2QgbA2A6Et8H0+PQdLjxKEmEyhFQqSBkz6FQlh8REP0IsCFR+Du8fgvfj1hd5NCuuiwFrK5QbAMklhVTBCHR0GBHD0WdHOfsllaE55MudMCAQpTR7nCdE3PW0tkBYCsJ1GnaYMGGDhCyY6AhvH4XtQTB0A1eiQ9HnPABFEtQAQIv4V0FBFrZfOrxaclLH74C9Rabwx4J8NAzfD5AwIzpnYCxEzhURhjHsrCJBHqw6iMQZaFkAoZgRfh-wwEXiLhHSAwRaPMFlCIvbkj4R-AREf1zE4IQoRaIxGtSO8C0jA03IvQNyNZFrZ++aydEVtkxEfDiRnYV4VEHeFBowwRgTaNlTjgpN8AWojtJEEJFAslRkgT+j+kzJ9wi4BorQEaKVEHN3hx7faBjyVHQi8MhnUUSQ2yASjmRsmacuqMeCT8FRBAQ0bKGNHvDHRRI-OCaNVEzchGKJSQB6kAa9AL0RgziDAQSGz52hXQzoTYP6IBC7iQQ-ocFSGGnBHeF7GIQcHTFaAsh8w-kXaO8Cg57q8A1YW4K6G-0MxdYp4IiQpDLAFITY80XALFL9iDqtYyIT2Ku4flTO+ALUIPUjI3YKIc4joOgPg5jxieo4mEVoDMAXsPyoBfrjrnDC8FtxC4ucgh0THJjiwqYiuJuK7ETjQSnopKq8X7GIsdgPqV4hmOhH9jlozY4ceixfFyi6YLoT8YBIH6NinAQ49gWKXE7bjQJ+pHUCBNJE+V-i07QELOMJCD1XhRpLIIt1BwOjGCBg14rjRDF4ZexmsUYNFFYSg59uCCGiY0EGAodNxKHLMW71jwti3q+6atLWm-GDj2JegRieOLom0B5G+9VtMxJLHhp2JW6KtDWhnHLjVxi4j0f1z6LON7AKBQMUCykmcT7G8YuPCsS0GwxjxaRcNPDnjamsXxZEsQF9wjGPA2eefUnmyNYma8k8X3OycrwclH43Kx-EYStlJxyAlmdAHIa33Q4q8UQRk93LHnh61oYJOk4KoeJ8Dw8zACzUxEs3h4YwcJoAGUgAAk8IkgAAILgBwAeEAAEoylIAAAeQvrIA8s1xO8N6SglbJCBDOIyT+O7H6DwRhAfScFJalNjoR1kgyTDCU6ncocPUpwNO2snqBckQk+gK4QmmlBGp83RWCk2ym5SCpRU0qRVKqmzSu+A0oaU1MVg8SxpV3ayQ6IGmSBQpEsQ6SWnbb7TiAdkDSQ6kERaCFpZ3A6eBJyr3iUmZo20dqIYryoMx7gGmsmT+4hgooVEl6QggBnUCR+A4pwG1Mn71S-uEM5qVdPhlmwMp9BVcH6BICA88sAABl2x3gGojEMWD22xH4dKwlAA4EwTJnYzz0BUPLJjOUYFpAeupHgJVi-BMyFYOM7wK4SfjEzJkSgowVzPZY3skxZ-QicRkBBxcGSIs69s9yplb8am3POwAdEFmgQpAMQPdD2wima85Zp7SmUfxqk+lSZq4UWQrOpmVY7w6osYIxHUCvwGhpSTdFoku4k4+B+0E2ZYKG76yKZr4KmQ-SWbvjiMZXMZCP2Iw2zJAdsuQK-FK6Ec4JEcqOa-F667Cae5XVmCwOCoJz7Z2s4ptz2DA4iUeyIWjnDFIrhCNiLE6AUXCznRztE5FJoS7L2GQpdyRPbJg01e5NJG58qL8OwTAGbDrhf-QoB7jzGOCkxPQ78vDN7nx95gHgbyW306BLlwks4vrEuSIjVzX4bYx-B4A2Fp9kWv-AYZ11eL6Dh84SNeaa1BJmAsWp8sYqnM1RLzZAYAh4Q8O7l2BbZ2cl4bpKrFJjFA+aRGPzziHqB4ZgvWPEMNKhdDR5QaIsW3IiEIlKsvmDofizD7q8vwJAB0pBNbFgL2x+YyYCJNEnWBMKn0zhil2uH1yjx1oUtGPTwAY0qFpSD3LmLyyrDCxBSfBTAqdlrR4F5Yk-u5jdkoKTSaCsUroKQnWAN5u6dYXf1+wosES5Oc8Ro3-lyAJ5RCqXL5nzlU4pAJMfBcWICoWA6aYAKhRjVYUNg0J8kkLvP30WwVhGsQqBRkIAUEKsuUPZwDwpHh8TFghvRYAXwrmdwcQ04oTuhOkgKSzxhijCSuMM7rj5OLi9WLuPWKPjmhzincbRXMVdBkxP8mkPz2cVp03F-xKJVolcWxKk2n8xJcsWSVZBeCBfVJZ9OsCULqFB4p8cRhiVbA3x1SnwNkovYOK+F-4kkWPRdDZK4JNgFpXxPE7tLcFhQcTurG6XyoIKhnAJb4pyFSAmZvgaLPkSu76IsqouC0CmCZnmEZYPRTqVGCZl2C5OOc8+a4S5nXRdliytFq9DdC7Kb5xuMmuoDtlwgvg9BWooZ3yaXKdZH0VBk6lYSmzngTMhiauwWiwyPp4kqEkAs16hhsgoOJmbWlVmgh1ZWQTWbkF2WVZFsE0XhdpNrSTpelf4gSUCtGVOTQw2ykmBCq5y7L8VNgEFT2I5kuY0VI8DFXJMCV+LGkSkr1p-ltRjAS2ByjwkKhJVQqdZcolSThPUkmi9ALS7SR8oykrTJAxUvVAABk8I1U7bDvEJmCJ7ASMpmZnFRllKOpXU4MDDFGkloL2-U4KQmA1UGrxpXfSaT8szh1E5puSM1ctJynSq5VCq7aZaF2ldAzVV0r6RpOxEaNBcJ0jSd6mCnnSN+YU71eSusCAgmZ90k0eCGfaBqRV0sy0jGqVHghLJzgNBl6vemALwR30rUeXUFzQrRayZNBvNFmV-KYZrUz6c+0RkcSe2mqnNZ9IzXJwGGHK1dvxIBVaqAKGkn1SaM1FaBC1dMacVtgHRmiJGXQSUeNBO63TM4uK6tV5UEUJIQxWahtZ2u8BRom1EFD-D2tjHc9wsK7DdeuqLZtSbJU7MFYYFACWxhAtaVybl2PUS0gQB6ktlBnDTXqSAs80-hexpC2ZVwnKktqerdGGd31uQG7g+t-q7qnRao90mMGmngKBp0zYaY0F0RNCBpSg6aZ3MX6RTSetaM6RdMQ23T5KFaAZtqmXxwalRkDKdImsjHw8bpi0u6WmvkqLBwcbPOja9IY0PTWGPrJDcJK9SI0SNqskRDxrwm9rs8e8+bAIiLiGAYNPy+Dd1NOVlp6q702tGmEJWCZkVsOcLqPL1VKDvVxfbDWlDyx4aw1l096URtjwCbl8XMijUcCXLUbbJtG7tlkFjXvDX1KQZjX0Ec3Rqe2Lmx4DIXhSyye2gwEMZZrlDWbRNxi-ubYtQardZN7pZGSTAw1nKflBG+jTkqZSShYtsyjDYZ2O4JbcgGGo7rFummpb2NuiaTXYHy1ya9VpWmENngrSZAZ19GpPFKrWklSyplU8AJVla2FT2tm0xVdxtunBbEajW-Lb3GCqAgUkvza0WdDy0VqdZYaCrWMC5mEMENGmpyZetG0ara0UqmVfKq62YhdtLqgba8UrUhittDazyQYqm3TLTi+ONMFZB4LsZnRVFZ7UEWKwPboQVGPZU2De0zaKQ42T7SIFu5IYUmycr4lAju0jxtqj2r6N9uS2vbQd72hrDDq+3ParusczhEcsbhrgJAsOigCDsUTgjwddRBqDoFBhdBOV6O8EZjoh1Jw2YOMeBHlyJ1o9addRChCwDa7U60eJO7ng9uoBaygdBOwDb2uS3qUz0+OhBELsngRK4VSowzvzq1mA7aAkuzONLuoyjln1Ha9rNLswIq7oQGu+-pCkg1BizYHm32o2xTBa6N1ORRXSWhVVFwYdAu3IKjuB0i7YxYu6xrjroCS6owrugne6LuwHj6Z4o+kfiNoYF560h6otkVhR146vt-usrPeLPX4EjdIYp3Urpx2J7M42e1PfqRN1Tsuw5uybYwEtLW6i2ORDPfbrsXbYZA5O0VGwnd1Oiru+awdTqMFwjrrWhQMFuXqFRk6Kd0eoVG6kjWFBBVakkTSKogolIjdZ4sfbhLPX+UexyLf7Hbh3h38UgBeovSxuBDUAu2gIXvTkX70CQ263GQaQMwKEbc0ehWBnRywv27D1y5wZxroxZjuMhQLa5zju0QKTSm9QYlvb6p+lDqEUne3vGfvBzPBchgYfISpm-33jI1T+O9iDSQm6VlANA2rjDNEqMAiIH+yzjlnTUBywkra3QEKon2RjJFU6VfaUFrUeVe1ooYvdgdc51Yy9Uel9YMHoNWdQBOACtBtHQ6HVfhtaAAJxVA7wvBvagvtR6Z8YBEgI6meqTHLRfAgwEtOryaFUVDAmGvuYouzTOAKSeMjviIaFTJtk2KYNAMYbc3gCTF8KPQ6a1UMp8bAehmQ3RAyZmjkIv9ZwCjRcKzYoB1gOw2aIcNrBBg3B73UdRbV3K9qjymCNKBg0-7z14IgvbQe30hGHl4wJ5UweUyD6ciCRsIyYJr2BdB9wajzRhW8DpAaQi9C9TWkti1p2OZqFoOh0C7Hi8o4B4gB5oTIVB01sC7NCFEYBFGZ6itITjSF5LChyKlhwEIZBGN-1GOV61dlaiaOgARjMNSoKeK8NSHfhUjN1rkcthGgFK8-B4b5jg2LdkosG1brJnWPkU5tZM+LSVry1wbroxxsAb5g6NdHh4PRzTn0fBi6Glje1X2rMdGPTTMta3GY18bmOcNf+j88w4UCGMAmUaJbStAegYAQnATpSbw0GrHW+rADYy+yptiXLLtOVSEiA4yCgP8S2pwWlAwQERreI3+bK0GGsbjjYTx9C+0iXGIk0172sOQOgIxAyYxAPNusy9eUbyyVHOOtR3KLIDyPvcLSLRvfu+UcroneKvegk4QdUnz6HR9Jq7TsXea5HcTVADxJbDvaSnQQRJhA5zTJO3a0NKSk8eCNMnbNzJ24i+QEAWBaIYpHynI5yuTY0S9AgygADpYBstXwroHsfwDukgWeGIGgjVDStpDDQIe48sQKpYBHTHa508NNdO4KPTXpgueMBYR+nJ2x44jIQAwq-0PmDJbM6AAABecDawB6bYbenUzQaf0-AdRqDBizIZqdGGcBARnZA+YFFjcGKwsm2TPgZ0xWd9PVn2aQbJmlxFviWlSAlpFcYaGTYQg8AMZo9b2ZTP9mMzg5y9iOaBAeAxzE59NU2ZFBAA')">function is_indexable(pat) {
    return is_string(head(pat)) || is_var(head(pat));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p43' class='permalink'></a><p>
      The key under which a pattern is stored in the table is either
      
	<span style="color:teal"><kbd>?</kbd></span>
	<span style="color:blue"><kbd>"variables"</kbd></span>
      
      (if it starts with a variable) or the
      
	<span style="color:teal">constant symbol</span>
	<span style="color:blue">string</span>
      
      with which it starts.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (index-key-of pat)
        (let ((key (car pat)))
        (if (var? key) '? key)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_28_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkD+5SEXHoVmVdlFIJdn0VmKYAD8EM5LzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhGMdYYkoTQhEQeOiEJdNrDhOqtQKKhBFhviRMOW0O05DIlRKCcogwvEmCiTYGJUheyBiotmCCW5lSlMSaANxuTKmlhqZuTxxBvENNAOUqCS5QLVI3Ag+JCTwnNP6WeQZz4OlDWKT0vpZoZTr3qQk0A4zrSsMRuaFZqCmldJKWsvp2NcYglyXgxGJNRl0w2fjE5zNzmE3wVc6m8yjkLDmuUHp4Sn7zj0HNBaEYlreCofEfoPS1kpABddZk4LIXwpsG8hJfSU5B2uYUW5uTUW2jHjHMuGdCn7O6e84+NUvlrMxc-MlcyDkLIWD9dFKRKUMtebSkl0DFiwMwS8+I3zJScrkHCbRgSBJ6FwU8y5dSwVEpMHChFoRRZ7SyZneRsKZWHORU0xgzA1huwAKrECiswxisI4SMlUDDcQzhmmaAEgRMx5CBVCuEIMNhVdKD4FAHoCI8NKAsEmiFSQfzhCGiUefflJER6+v9VQQNwaSCusYJQiENhqhNLkLIcQnrvUVNYIsfSxAujxuIKGusNhexYlEnIcgxwmkiueJRa6Ia5XyoSbDAShalBdNWLQIUegIWtpsJRXKoJlqZ2bQOwdkok10BbVOhJuDu3MGWX0ENHoUjTzFo6KCNo9AI1nqYSd4TgZZIVoyC0e7XIHo1ZCoiJAxoxE6FUVN6bM1lusN4HVYqE1AgNUa6gJqCBJ2HosciFV0FwnzKm9RRdFWKGVdouGs6ZVhuUcw1hM7EOcIaeEkocgGlEWWKsYV7jRVCLkUmrDIcikHLnfCuDO6RyZwRiIzDrNqPqoxneCZ9zGgswlRzTp3iw2bqiDBG1HitaE35p0QlxSb03LraR54Um+bFjk2y95EnRWqZ1tWjT3iuNJwmdi4ONHhNlo9V6geLAh4j1M3XXRMw1r3uoo+joz6X3yEzVZnN3Rl74ovY51DhQvzaYbSXFeoM+1136MUzz1g03efIu+8t-oa3kZXsYRj5Ejg03heFsVkXAu7MnnFg5CWijZoiCe6CEXhGRGy1k0tA6vyZca5aLJlXQhJYzSl1ra0TO4ttv2wdLGSs90ruVwzpTag9c9BWkgSzOi1r0GYI4AA+UAeGqjmwY0t7ZDUDgHRDiJ7hM854nYU6EXDO9SmEZWD4A7AojuDH2yCQ7smXRXaNAASFCDBs6dBTLEGRIQfs7SYSgtrJiXzEQHMoRC9YCt8da3Yom9DlNoXztKFs8PUe0cRt1wHbd0oA6iIwNlILEHYOIfDMaOO4rzdy7XwPnRwdwOci06GVeRWT9TOTvnc50uzOCWOfXV5vrSPN2tLp7zqVh75VJJ5LLnntSMn-mu5qiIIELzgVmas1tyv-i67ApD188JqzukF9YIiO3MS1DJMZzZd8hO6IrWVWt-8YU-0xBWk+6gGB5c56D-ScvamZzKlj5H6XQDPelJ0IP79S57Xj3SWTAeM3R+UYVsq7O1ntqp125QPaV3-MioHwYaejvIfk0ZouEyWV7OKWd26qh7pbtjDl0b8rCvQwEwQsFNu20HMPs7-GSyYusos372PWTa2Fcnxabvar4uYiWRr7vS+5SW-fGqrJ5ns9fi64DikEzTdq4N83g5YaN+78yXVvQF+ZmVnv-+fPSmNAeOf-rocj-V+0alJr5prWDmw8bpZVIv6D43woZlp345Ld6q5QGQRv6FJAH1p6BIG-6vhZIGaypAEVaeh4AWKxQ2IcD2LcB8CeQuIUjNCMAwQwy6JfiWonB5ZiYyD15nS-I+x6AjrAp5SDB56wGYhfiAwMy2YFpFo+xfzD58H2AgqCGAJwiH4yJYx5qSFBo8H4BME47xgGJiopjaT5r3qaFfQPxnTDqLTyErTaGt44hGwSz4CDBSyqFAZfQAJAK2FlqiG9BbqOGDDqyuGLol7Lp9peEiHhylyqxOGgCmycEUhPy1a7ppgdow7OYNhiFJEjhfygApEWj1zfTbq4HNZ2FkwXCXyAwH5AhZFggFEgI5ZnqpFP51Y6GSJ0ItjNZj4N5kDVQ0i6DF6l59ot7eFrQujAHmztZWIFLDERFtEHDjHcY9HUCyDJTOpAqHSwEA7pE4hEY+BTFPAqGQgVphS452YDGhEWi1r27my-LrHbTVjIbKqtE7GPb3GKiPF1b8ITHrEa7jrrFTBbHho6j7EyB1Egk5Z-GggAnZzbHzAuggldGuIwwdpdBeKDFBY5IfEZqCFUhjAzGwnKyyg6AjBvGZCnasHxREkknWghwQrhK7F6C3EFJv5YkcYeC4nF5a5hBERZC6AkkslmAAA8lJfJwwzRWeR6WqX6gIAAKhkOtDkGlBQu4K3MnGkrAp0ERAxAANT5ZC7JxRAxBqT4BCoCmgC6k5E6l6lC6GDRC6AepCo0mGiTpESfrUA+Cynyn4AyCMTTo6AqmMgMCiQCqUCalAjmnWnzq2lGkOmklZ4RmWkRnD5hDRn2kmnikHzxESjJKpLpJv4r45KH5hqLHKDdAZBbT4mFB3gh5xmslObY5bwXZEiYlcnwrjJdJlkcI976n7KhjLFGnnG9oXrybJm27Jw5LHCnA6gCmjk2DhI6hOmzljk1kzgtmDAuhOnZ7zZ0y+ZeKTlsHnCDz45okXGMj1kpBulrCFm-rEDpD3rjnVhalbmS5voDoVogm1qTF3Fr7wpfg1ngkslir-Ef6DrgkIYInPmJYO6zE4heKdkVmEFO5FzwHVgFnViDDWhFllolnwXaI36pbWDVkg61kYWB7nlhCbp4a1mtmKZwXJJbRLmBy9EDknlDkVwjmDpERv77nfjUWjnhKyCWgLmV73jqA0WaornthrkqIdFkWQWgBpqlK7ldI8UnFHkjysUrrkWhCXlxkpgGp3mFoPmKhWqSiHZCj2ryW9avnwrvnrGfnFYgl4Uza-lrT-k-GAUIkgWtpgWfFAVQlWXQUElEq4XjHmI+yWLWLsB2JcCOIYA0EdRSDRoBpjDFo+JlF6FXzfrEApjJWxq1GuF5WUCBp+okQs4dIhpKJfjHRroYwVpFVxoRW1qAxRJiEag5E2AagIr4GFBiF6gdXWB6jdX55iG7EDWgC7HDWtURyHjjWHhTW9URw8JyA5HLVrI9VQoRw4x0AkSqCQaDDbW7VpQJIbVhBiGXkDWXnwqnUKoRwbQjCsIeB0Bfz3XDCPUMB0w3U2BiHanjU2B6AwyDBwjrZbaWq6nHVfXWBiGGR-XWAA1A0g2gCWqGSgAQ0jURwABUsNXqgNqNiNlqGNqN1gkNyefQgIwA2N8NeNxwoNoAYAaN01-wgIAApJTbjcDTTUjaAMzUTaACTWIawX9VTRzZtlzRScDejUzQAIQnBC3s342gAy15YS2M1k2Cls0I2c2WrCnWAq2LVM2ClHCw3C0K2G26380RwbYa3U2i2Wpbbm2S1k0bZG2DBhAm1a2gDO0O2q16CAhS3Y1c2hCi3WBS02CMFRIQj1XRAxrFWpU+y-HHClIbRbQaiDANVx1fS9xR1+opWmHejIgeBWQhg9yJ10zJ3ZWc2jXR0pU5E1UkCdjeXWDp151Q4QhYDZ0x2Bqy5J6AxiGubjSdA5H93uYk09lnURyQDEDjR0T7XWCT3T3Dyj1j3fV3VaBvWwCQADWvWSAb1L3L2k2+3b14TjVH173L1iEAByqgF92NV9F94lY9kdsezdquLJpdhQ5dnqotwJsqE11d+VZ6JYk8VQHdudquyq79KQn9nNNVhoad-9sdgDfYvc5sEG-MOdADxaiaOgV8zx8waDMQkgrmjAgqA5VkqgagwO0QQ83ZCKzdpVWQQoFV9djdYQFCuDFQYQp+EoglaSg5ZeeD1qyJRemlfaNulOhavBCDjV7hLJgwS5Td0jYwr9a54jnKVOUjGDiDlE1AhdxdyGCjf9WjXdEBcoTxrDNgaleOGlS6bFpgdVseJxOg1U7J5ytjK6aO2I6SojF6bdxBTVVicUtinADiGA8V5sKREYFAkg0chgr4G0jAr8pugjCwbgng3gz07RZQyTzpimx0G54YUyWQnYCZkgVpqZxpQqx0OTrZRE1ThTj4jCRc2kG0o8I6Akgshpugp2IxDYJkpA7gs8HiBgrqpApAiNDAupeg-TPFgIDE4SczvSQIKYEZ-TZ9kKcz38dpyahVsww8vg2z2DyG7DbMCkHN5gv2MF8wFTCZvtEZLT80sg7Tsm5dJzezyhfpB8CZJggIuz9g+Oy0LA0zSaKTy1wLkwpSCzeG3EdMfSgMFCZg2wWA-21mTZiE4LoaQQvFLoCLZgStQIpirZ4SmTBwCLszpidJuRtAUQJklosTlYCTr8CLEKREfm6CcCHSZLSLKLqQrgBS4qbMkqGLzpPLCzdzuppzAL3gQLOo8iuLZgupyL9M4Zup+Ze0B02V+dFygmuLSZCKDEVpkrI8gLJL6LcrILJT2pSroQ4I3EPLhG7zvts12D8D-zxr0ruThQfSDJzLimRrvtY1b2PIsrIL65bouLrrZz4wHryLKKXT+gvrGKQIAA5FaRQgmam7Gwads7GQi381G9HIwEKoW+c1cz6FRU8Okz4DqCW+s-KmIZJJae6ZacwsKGgtSN4G29UbPLUSK-SY6zWyOEW7-S6LW5G1K4wCwLU3-W66a2OzJWUPO0azE0O8DVmWIOQ5Q6QNQ51nVvzJFOzFhqCxylyh0jopCwfXyCGdypzIMAK0TFGDohY9YOXZu1SNu5QEPA0fDAe9SEc0e56ykH0hq+e4pmIaYnHAgeq9MXDIB9yU0nDOu84CW-KOajDPu2RNSEe2GnDiexgme7B-We+fHdxXlqUmq-kuiPe88rkDos+VHb+7IF0GwrWuXSh-CGhxh+zP+3R91sopRKR6cICGNRewyTqD+5h0xxhsmkdGAmUBJ+zAmG6nB9Em4fnYJ3loCLNaJ8wJJ0pzOvdmp6-hORSYCG+1Q5+7uzaDC0mwyQJ4WTboDOZx+1+6egp1hyG5QgB52IZ3ZyR9ee51J26pVtZWBtVny+iHRyFj4UzRB8ZbtJR88Lxw7q+v1huoNoh9BUhWdCBkl7B6UT6AyaB0mzqMV0B1Ke6VhvpYasakI4KxzKZbl5Za4XkYGdh7074kV7Bxe2Md17CxVz4EYjef+oBtqx1M4K1z3M19w2IPyJ26+OQCwl4Kwh0MGPMflx13CXCKBth6Z3N4wMKK4fsMxx2wd6+NdDogV7xZN5nMl2hGABwt4JuBcKBGneDpKEZe0OQOYlFaQMMJtMtLEV6rIGdJ5GgGD6bAlbN9SJFHoPdB83YH6IwB0D02W6kzvJekjyjw-eEsPUdiy00tbOoHDzIB8zqDqIj+6djyp3kwhJT8j7SQihTjD6QCTx8y6PT9T0hwqR3i0KBGtmGv7hXrknz1kM1ZjaLzIFjdnneDmWkmz5IDwIMPD5IOrEjlS+mGqR4JL7WvyLDyr0rwu+XqZCL40-Jb5qJNr4+DxXj50NpeGrbx5rNql+r6EBWpz7ryzwr-wGG+AhpJLxLmsr5h7xSY7-b+lw2I73xykKF67w2TiBzyGFT-JduYUHNtBqEEfPQJ2wr4byrz76JTaORSjv79b3lnr6zwb772UJni98U+b9mpbzr6H4Wm5kduH8nPYBcC2LX5L8+4UAyYDFXxNa8fn6RUX3Wwii6L32b1ZS7wRWEO70n8j573pJX6T6r9XwYKX6BIHwksH8vx0Db63wPR0PWTyymV3zODv1kOChf0LgyQyWP4XyOJP4Otf1b7vx6Bf7Hwv3TIJd3zKCc9x+r-aPmEHT4x8gqQ6JOIdS0B-dGS5FL8GwFM5y9FgNnBFEkgyC5kbcREZAUJxiD5RhQyZcJAQM7bJlXS2qSriwGq4jdnAj3WpI10fD2oQuaPWAeQD+4ONNe9A57s3x55jBJea2EBrHi+61puBlYAQVpywFpJ8w9Vd7nljEELdHwvtUgQd3zA3F28D0GIDjFiCm4QBoJK7gyV0Ev9QSrhDwFoIHKm49AZgwtEaRSY6hrB2gyYKYPMH9FcCDg2wVdxdDuDdAdRbwTg0IZOUjBCJK7hX2aIDJb+TAKEq4ULySMjBVRYIZt2cAMkn4fgsIUUw2LNY72-xbngQL7BnhRUQ3EElXlvIaFFwkgf7oWiyCMBdE3MDhEKku4L9cO-SADnHxjya8-BXuFwf4NBxOVCh2QgbA2A6Et8H0+PQdLjxKEmEyhFQqSBkz6FQlh8REP0IsCFR+Du8fgvfj1hd5NCuuiwFrK5QbAMklhVTBCHR0GBHD0WdHOfsllaE55MudMCAQpTR7nCdE3PW0tkBYCsJ1GnaYMGGDhCyY6AhvH4XtQTB0A1eiQ9HnPABFEtQAQIv4V0FBFrZfOrxaclLH74C9Rabwx4J8NAzfD5AwIzpnYCxEzhURhjHsrCJBHqw6iMQZaFkAoZgRfh-wwEXiLhHSAwRaPMFlCIvbkj4R-AREf1zE4IQoRaIxGtSO8C0jA03IvQNyNZFrZ++aydEVtkxEfDiRnYV4VEHeFBowwRgTaNlTjgpN8AWojtJEEJFAslRkgT+j+kzJ9wi4BorQEaKVEHN3hx7faBjyVHQi8MhnUUSQ2yASjmRsmacuqMeCT8FRBAQ0bKGNHvDHRRI-OCaNVEzchGKJSQB6kAa9AL0RgziDAQSGz52hXQzoTYP6IBC7iQQ-ocFSGGnBHeF7GIQcHTFaAsh8w-kXaO8Cg57q8A1YW4K6G-0MxdYp4IiQpDLAFITY80XALFL9iDqtYyIT2Ku4flTO+ALUIPUjI3YKIc4joOgPg5jxieo4mEVoDMAXsPyoBfrjrnDC8FtxC4ucgh0THJjiwqYiuJuK7ETjQSnopKq8X7GIsdgPqV4hmOhH9jlozY4ceixfFyi6YLoT8YBIH6NinAQ49gWKXE7bjQJ+pHUCBNJE+V-i07QELOMJCD1XhRpLIIt1BwOjGCBg14rjRDF4ZexmsUYNFFYSg59uCCGiY0EGAodNxKHLMW71jwti3q+6atLWm-GDj2JegRieOLom0B5G+9VtMxJLHhp2JW6KtDWhnHLjVxi4j0f1z6LON7AKBQMUCykmcT7G8YuPCsS0GwxjxaRcNPDnjamsXxZEsQF9wjGPA2eefUnmyNYma8k8X3OycrwclH43Kx-EYStlJxyAlmdADGDhNAAykAAEnhEkAABBcAOADwgAAlGUpAAADyF9ZAHlmuJ3hvSUErZIQIZxGSfx3Y-QeCMID6TW+MMfKU2OhHWSDJMMJTqdyhwVSnA07ayeoFyRCT6ArhFqaUBynzdFYKTMKRFOimxSEpyU1KZ1K741S6puUxWDxKalXdrJDomqZIBV4ohGpJadttNOIB2QNJDqQRFoJ6lncZp4EnKveJSZmjbR2ohivKgzHuAaayZP7iGCihUSDpCCG6dQJH4DinAhUyfllL+4vS8ps0k6RBSCn2BbAPbBWCQEB55YAADLtjvANRGIYscGeyxvZJiDgTBcGX6EhmCQ8s9BVcFjPPQFRdSPASrF+DxnKMC0y0Vwk-ARmTIlBRg8mdiPw6VhKAZ-QicRkBBxcGSjMlGc91Zlb8am3POwAdDpmgQpAMQPdD23dyx4eZ17PmUf3Sk+kkZq4XmSzPRmVY7w6osYIxHUCvwGhpSTdFoku4k4+B+0JWZYKG6yzT2ash+ks3fHEYyuYyEfsRi1mSAdZcgV+KV0I5wTXZ7s1+L112E09yurMFgcFV9m6zJZxTbnsGBxEo9kQtHOGKRXCEbEWJ0AouOHI9naJyKTQo2XsMhS7kie2TBpq9yaR5z5UX4dgmAM2HXC-+hQD3HmMcFJieh35b6VXPj7zAPA3ktvp0CXLhJZxfWJckRAzmvw2xj+DwBsLT7Itf+Awzrq8X0HD5wkw801qCTMBYsl5YxIOZqn7myAwBDwh4RXLsDayI5Lw3SVWKTGKB80iMfnnEPUDfTBeseIYaVC6FNyg0RY4uREIRKVZfMHQ-FmH3V5fgSADpSCa2Ofntj8xkwESaJOsCYVTpnDFLtcJzlHjrQpaMengAxroLSkHuXMXllWGFiCkMCz+QbLWg-zyxJ-dzCbMAUmlgFYpXQUhOsCjzd06wu-r9hRYIlyc54jRjfLkCtz4FUuXzDHKpxSASYMC4sQFQsB00wA6CjGkQobBoT5JIXefjItgrCNYh78jIbfNgVZcoezgShSPD4mLBDeiwAvqnM7g4hpxQndCdJAUlni5FGElcYZ3XHydDF6sXcesUfHNCDFO42iioq6DJjL5NIfngYrTrGL-i7irREYq8VJsz5fi5YgEqyC8EC+QS06dYDQUYKDxT44jJ4q2BviMlPgCJRe10XUL-xJIsei6AiVwSbAhSvieJxKVQLCg4ndWBUvlQQVDOtiqxTkKkDkzfA0WfIld30RZVRcFoFMOTPMIyweiJUqMOTLsFydI5K81wozOuhTK+laLV6G6CmWbzjcZNdQDrLhBfB6CtRQzvkzWVSyPoqDJ1KwmVnPByZDE1dgtE+knTxJUJe+Zr1DDZBQc5M2tMLNBCiysg4s3IFMsqyLYJoVC7SbWknRVK-xAk+5U0qcmhgJlJMV5VzimUwqbAjynsaTJczAqR4oKuSXYusWNIlJXrT-LajGAltZlHhIVIiveVSy5RKknCepJNF6BCl2k05cFIGmSA4peqAADJ4Q0p22HeHDMET2A-p5MzOIDLvnFTSpwYcqYDKqkTSypCYUVWtOald9WplyzOHUS6m5IlV-U8KRyu5W8rxploSaV0CVWyqruZoiRgcEFwLSNJ3qMqctI36rTZVKK6wICHJnbSTR4IZ9rasZWczLSHqpUeCEsnOA0GZq46RKrR7nStR5dQXB8tFrJk0G80Lpdco+kFTTpz7X6RxJ7ZiqI1p0kNcnAYakrV2-E25eKvvE2Sp2FqjSZqK0Cxq6Y04rbAOktVfCugko8aCd02mZwoV6arynQoSQhiw1Oa0td4CjR5qIKH+AChpILXhYV2o6kdUW0KmVrpZmvS2MIFrSuTcuC6iWkCFnUlsoM4aNdSQC7mn8L2NIWzKuDJUlsl1bowzketyA3dt1v9KdbGI6VNzpVSgl8csuNFGlzJ241eQEAWBaIYJJINUe6TGDtSX5NU6ZvVMaC6ImhNUpQe1LLmL9Y88PWtEtJWkSxkNYAitAM21TL5INSoyBlOl9WRj4eG03qVtKDXyVFg4ONnpRsOnUadprDH1rBuElepEa+G4WSInY14Tp12eaefNgERFxDA4Gy5VBrKmzKV1hgNNU2NrRpg4VgmAFbDnC7vrYYn646Shqcmyb0NeWTDU6oliyrcNsebjcvkZnEajgS5MjbZIo3dssgnq94QepSB0a+gdm91T20c2PAZC8KbmT20GAhizNcoCzQJoUU1ytFqDVbhJvdL-SSYyG79V0vi0XtjulymDZtOnYpb2paWqjXUUy18bstTG3RGJrsCxbQchDaDThuzGybMgnaqjUnnZVDT4piUlKeAEqwNaYpTW0aXyrY2bSAtiNGraVt7jBVAQKSX5taLOgpaU1UssNMVrGCMzytUmlTTpprQDbRVtadlZyp5WtbMQG2g1d1teKpqQxq2nNZ5NkWja316lM9FZB4LsZnRVFW7UEWKxphrtIgKjNMqbAPbxtFIcbM9uhC3ckMKTAOV8SgSnF8c21F7d6De3fr7tAOx7Q1nB3Qgod4Ir2ZwnmWNw1wEgCHZNlu2eC3Qn2kTWdAag6BQYXQMlTjuR0nDYdX2iUGzBxjwI8uiiCnR9qp0E6KQFCFgG13J1o8gdBa57dQAlm-aRAyGF9U6O-WXbBdkOiXZPFcXfKlRhnPnRLJ+20AsdmcKXdRlHJ7qS17WKXZgWV1-b8C9-SFCLqDFmxXNvtRtimE12jqciCuktIKqLjg7+duQBHULpvXTqxd1jDHXQCx1RgXdFARnkm0JXlcvR4o+kfiNoYF560c6otkVnh2Y7EdfusrBWrdF38UgIYx3YrvR2J7M42eg3fqWN1TsuwZukbYwEtJW6i2ORDPXbu0XbYZAxO0VGwjd2xjq1Jo2tZdIj0Lp7Km2a1oUDBbl6hUROkndHqFRupXVhQOlWpP42MqIKJSQ3WeIn24TK1-lHsci3+x24d4qesIAXqL30bgQ1ALtoCH705FB9AkNutxlqkDMChG3NHoVlp0csr9uw9cucGca6MWY7jIUAWuc47tECrUpvaLvBHRq61OowXI2sFywwQw4OZ4LkMDD5CVMv++8a6qfx3sQaSE3SsoBoG1cPpolRgERC-2Wccswa22WEkLW6B6VU+yMWwqnTr7SgmajytOtFDF68DrnOrGXqj37rBgTBqzqAJwAVoNo6HQ6r8NrQABOKoHeAEN7Ul9qPTPjAIkBHVK1SY5aL4EGAlp1eTQqioYG00vkwuXqZwBSWhkd9xDQqZNsmxTBoAzDzm8AYovhSGHTWGhlPjYEMPyG6IGTM0chF-rOAUaLhWbFAOsCOGzRzhtYIMD4Ne6jqBa7ZXtT2UwRpQ4Gv-UGKnF0GTRDB3feEd2XjB9lrB5TMPpyIpHIjJgmvYF2H32rXNGFbwOkBpCL1nlsmy2LWnY5moWg6HQLseLyhQHiArmhMhUGDVfzs0IURgGUZnqK0hONIXksKHIo2HAQhkCY3-UY6gAS2VqNo6AAmMw1Kgp43w7Id+FSM3WhRy2EaAUrz8HhvmSDYt2SgQbVusmbY+RUm3gyYtWWvLZtIpX8SJ51gXzD0b6PDwBjmnIY+DAMNrG9qvtRY5MfamShTjR-f4xMZFC7Ga5e8qw4UDGOgmUasx7SQwDhNLGwBfhu1c2prX1rkJoIO6fqWXZkqkJ0BxkLAf4mFSAt6BggIjW8Rv9iVoMLY3HGwmT6l9pEuMcJpr3tYcgdARiBkxiCuaZNNaao3llqOcdGjuUWQEUfe4WkOje-d8o5S728V+9pJkg6pMX0OiWTp2nYu80KNEmqAHiS2HezlOghyTyBzmtSZyEOqsNRk-k6AD028UXxGKxss0Ph5mAFmpiJZvDwxgFGyVybGiXoDqUAAdLAIltbXjAWE+Ad0kCzwxA0EaoaVtCYaBAvHliBVLAF6ZLU+n6pfpqBYGeDOxzQzQaCM8eOIyEAMKv9D5gyWLOgAAAXnA2sCBm2GIZo4+GcnZIHUagwas7GanTxnAQiZ2QPmBRY3BisnJ7kz4B9MNmwzBZ9mkGyZpcRb4lpUgJaRXGGhk2EIPAKmfnWjnczjZic9GcvYzmgQHgOcwueDVdmRQQAA')">function index_key_of(pat) {
    const key = head(pat);
    return is_var(key) ? "?" : key;
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p44' class='permalink'></a><p>
      The index will be used to retrieve items that might match a pattern if
      the pattern starts with a
      
	<span style="color:teal">constant symbol.</span>
	<span style="color:blue">string.</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (use-index? pat)
        (constant-symbol? (car pat)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_29_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBBHm1E1tlRuo+QGaK9Fui1R9+a0fdgh7BD2IIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQ40aMNMGeBxh62GPkS2TG+DjEWY0ADmMGEAlURUYlcK5DupgDNhVgiwSdFbHLCchIgdUG5i7G2AexrJMcdmPkBtjAKbXaysJ3wA7oh6urDIEphXErwh6vXfHqvBnEtj5AegIltZUxQet0MMwagkePXGfAhGUJAhs4H4jpjkQB4ocWCT9F2Br+14sNO10s45jz2Y4rUN2NAGslZ0Y4ifh8FnT-jFRPQQCROKnElNwJMEjUtOmgn6NCEYJGDpuNXFjBduh6d5HRTuBzd4K2o-6moMs541lR9iEce+m9RxhMQrkbbuyyO7zBNAiHA8YhzzHeJM6U4kHNZhEhWw4JlgScSBMUDsS5xDPdtqxJvEUj0gnEoYRWN4lJRJmW4xzHAMii+ioWhEswOYlIlKTeQwkPwIkPe4ujLRsPAvkTyhHcTH6Pdd7szwslFA7CFY9JAfwmEe9oEa1UcokPkE0hbASvRoFePUqL9M6sPK2BJyPFPIP8rQ2HnoBmYEsowsPO1ERNAAikAAElJlsAABBcAOACkwAAlEUpAAADyZ9ZABJB2IQ98AZgH7odwwGYJApQE+cV8Ta6EAxiPk6kA1K7HnsTJ7UpjixLiRCTlIk7EyTIEqBMTMEXzEaSPFqlSS4kgjNKRlOym5SCpxU0qZNM769SZO-U+gJ1MsCCMTJMY9qX5PX4BTBpJ0LfNtISzajX0dxeQTNJm71TBpTUwRl6MIh6jE69CHMTKWpr+kfukwHIAxPumIQvphA8auOMsDPS++VUuga9XGkDTOxEM4cY2mSldsiiJAMzBJAAAMuxamFlAPCexhIi3Y9hCkoCIJpChM0kOjJXBWxUZlM2Im1jVI8BIpx2WmQMCpmMAvmn2PGT8CbGNivkmgWmVey7CkzyJW0WLsPy2iCziZws5Ogb2YwpMaJUUduDzK+R2BMooUQmfgSX4UyhZciUmdsWdIEzNEusuSKTI4EZlqYRI+4AeBkDxhTuZZPDMkPQ5GRpQ3PbmXoMyFSzsOJMsYNaRJAHDeOLs7zuuCtm2AbZ0geMCV0i7ITQ54c+MFcJU4GhYOjwuciMNjm2yNZJvRIRMF+FpJxwCwTIWWOeJ9Jeo6ciOdtAj4tCnZAcK1PRDpgE8PB3lI4WnJwLDC5+EsZucFMfqlBuhVY3od0XTTNjyxdkKaD3Jb61iRY+jUICuIlj6NYgZc+MH2NGTxIbhc5LeG-2jhRSOux46sgvLOEoQMWe89opTxSgEB8kogP-pn04QVi95Z7RIcmIfFqhRicIXnrEOkDPT+enQwsZWJsH9z3BmY56RwndhdClamPCeTb1V5R8dSIkmGfoL7n9iqxJ0dCT0BQrDiHwslC8lXMvHVAeI49PAJjQIVGwv5VY3ub-JLHppUFw8l8vBhAWuTwFYwIOSQGgUISNByCoIEvJqBwKbBKkLeLwuMDvjT5DYt+YAv1jz93YOchBHYEOCoKi5AJF4vgsIUOz4MymHCbtxkrz8E+0XIRQArH7vy0FflfCcsiYUWkYFYA-IPr3yC+9hxi428suNUUJtVJO4qFvXP3EWKJcJ4noh+NaHmKd5jYO8ZUlTEsQGQvPcxSnSsUCKAOqiS8ZYt8WRQH5gS5+ZQBCVWLQl1i2mmAAIWY0vF1-XnKAB-Get1wMSolsYuwgISwJIo8emBIlzITAgJS0xayQk4VLZJPQCTtUrYXORniWElRduNwneS7AqMnwMwiClME0ha+e9EMs7aEymuGwKYK1MZCoyjBFRTOd5S+a0yx8CytrjCNKbbKFlJ81GCwRkA2yig2BPIlhIyaAZdlis-BrVgGWoy2Jy7XbODOID3KVw2ELiVskzpTAzUrkVGTTM6DrwVZ-wNWQsAWUhJM6dS5SRJCTh1KEJ4kp5TUto5Nk5lhwL5SQgWUIqgg8kgEszIwgQqDJAkuxT0vUlRAPJo8MrnSnuBFtlldWDGAyJ+WazyR2k4iaZP+Z4r+JKGJKWYBSnpTbAeUrcAABkpMZUmuCPBxl-5qpr1VGTqCenWLUhrU4qsQw6lnSiWPUxVa6ilW7ShpULKaZUA1W0idVRsm6PNJ5V8rBV4AdaaME2mGrpVCM5SG11ekSNEE9CA6aRKOn+TucZ0jFYEAiKEyrp1o+8H3xdXWjJaYHHIr6q9E9tEh+DDVTKveUvDXpkY-UWdnoS-KRa-pa5YauWXD94Vw4qGRKutWarnpisuEMxE0RUq4VjU5YSypenai3p8gD6fmVsXVwjIDq1Rn8LZHgi9oHBOGTtIrVdjIZ7SokMqOjWEydQfaxGZhJ-LOUwx98ileE2XZiTl2TU6tZ-Mfr2hy6EkOyTlyUCjsNw0Meda8qLQjD11JAGselDrH5gS1pVA9QW0XWvLl1XorCSeoWCXcWEd6udg+pnVZdU8wKiYNSH4HgTNldgQpohKPHot1USQy8eFI5XfrlkKgIUot22n9z2pVybafgRaHtT+BPamuekALihSJIbqk6dzmw1-8C4PTVcAZCBmyNtREDJyEGtdGw9yoPav1V8KPWwTUEzPJjZdIjWPsLiPazQMqPI2mBpEPa6tWeQ3mgVf8BEubqYENXIbFVyyrWXR1tVWwZlsgLVqCrSAYbFVAG21ThsRUCR8Nl4P9cdOwinS9NpGz5RYGE2jBaZXo2jXZHo1mSiekyu4CxsSBsb0g+QDjYxrDVuaeNRkC4ncrAiI0hNlGuzWGPE13C5yhi-bmMHYi0yhSVGw4NhqA2ZrUtRLA7gMuw2TsDuPa1DXVNoC0i8t20grbNLtUsx4Nsm0TYQxQ0kbrJAkCoFtMK30ArYC0rKTlPymFSSp5qtIO1qWldbVpwqvjdtIE2I0mtyW+gGeSmgbhcgeE8DFlsJmKa+kVW4ZBTNq0KbNNHyx+hNqlVtaTVAqoVRwna2mqhVgkyzsFuVG7bR102vhLNpyDzba8q5LmBsBiy1RHoRokYVstGi0iA8r2hCB9sWWDFjoqyu6J9De1CAeOn2l4VcPWaz5nt2EbahDskI-a0tNqH7V8wDxI6AdqO1IVHLfyg6xw2OyHYDrsGAYMde3EQFlE8A3h2IVK3HRWPx1w76cLOHfIlygJ47-0FOqTZfjIgsA31DOtOeTpB2wbD4r26gOrP+2Q7P1CYtLcpWwhS7JCiut3Oe2nXWjJ24u9WTHmV06gddEE9SHOqpV-baAyOyRCboQjPRL+akNXe6MbTebwi9bcqPuqLbRFNdykMVcAJsAxYJdCwYnboxl3ui5d6xP3cDK90W7z2mkyJfTIZHSiO1iMehM7oXVY6w9QgWUSnt0YnQbdiQHhekGVFI6fdt0Inenrdxp66Apuy3cf2MhZ7o2bSe3ZLUbZKZE9h67MV7p90yD6c1O6SA5CrWPr7VtaxNQ2uHBLjK4Vu3fsCyb23rO9rTG9WaFk5erlgTK3ScGswlCtSSi+kicvueIIsd4diVaHqEr3V7a9HGgtNQA7aN7Ddy7aIlPt-5JjqQkwVBOzsEZqxWdbLR-VORXJ2N86VIJxlY0SEOct2ZKUaQHuz197rRdapNbQw6XrwfpakGkPft2joDT0VAImEAeWHz7DE8Q4Gu0vK7iAiB1UMcWP0YCxB-9pnWKD2zvq3j19LKryhQd30jwoZH5L9a+Dr0bgSDTnUZIaQn2z1QAbBszsXzrgFwZQKHA6gCKtgABOJ8L1BENgjqD0O-hdTGkMZ5a1FIVVCoE0AVb5y9ELZSoH03qKO57sKwHiUxkR9KRNgXaooETaJtyoaAGw55vPLRaDQihkpjobT6mGdqAIllQQy1Cxjvhe6E6FYBRqGEnhqcwIIoc8MqHg0mgIQ+MDMMAirl0gI5ScqUAlwENwB6NjYoBVejFkLBw5WCKSOcGL9zezCAkbyP4YcC7e95Ap1hAz7wIxAe3dSRXDlA4QxzVdQJHtBWw2Op4LYChyqM2rtQyRuoy9wNIPhI1Wm+iKNiaMUg-EoCm3NuIHQR8nDG4ULMsf85SdQARbS8PbuMDLGYanDfUE4aXavKxJm8W4RoqvnuxRNc3BbpiHi2Ix7QuholPFrk1Jb8tJWlrTSvuMN9xjjR0YlMdxYSRZjGJFtiYdCOxGwRktHYysZ7WYRbjHvSE8sfainGO5+gK+RJvSCLH4TKNDY0lAYCYndjf-MIzGJbW1rB91uptfo0OO3r2liB7YAUJ3VNSBNuBggIjWYrkiuDYku3LKiIlL7XR1EwTDFsqldFhgdAA8Kqkyj26lNa6jow8vY7dGXOV4-o7Ua2PDHRj22gSPeVsXU92T9oTk14G5Mb7eTq0fky8MpNmgaT+Q6SDqYIC2VJiYEJk64RFrMVEh8q3oX+sCmHsQN0GmvL0ZqOJsmJigZpQAB0sA2WttexCuP4AhS-zexIDQRooRjIVhpTBMdGKiAi0PpqlX6aO4BnZJwZ0M7nPwzzdIzUbK8ZPGpInQ4eFxQgJoAABesDUAMGaiCOqCzhEKMxgdRo1mcmhCRMxuGTMOAi0iLHqEKfoCin1wfpsM82aLP-M2aAbRmgZnKilBDSpAQ0rhMXCJsKIeAdMwurHP5mIzrZ6czFznPt5Fzy5ntt2fahAA')">function use_index(pat) {
    return is_string(head(pat));
}

</pre></div></div></td></tr></table>
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.77" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.77">Exercise 4.77 </a></b> 
  
      What is the purpose of the
      
	<span style="color:teal"><kbd>let</kbd> bindings</span>
	<span style="color:blue">constant declarations</span>
      
      in the
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:teal"><kbd>add-assertion!</kbd></span>
	<span style="color:blue"><kbd>add_assertion</kbd>
	</span>
      
      and
      
	<span style="color:teal"><kbd>add-rule!</kbd>?</span>
	<span style="color:blue"><kbd>add_rule</kbd>?</span>
      
      What would be wrong with the following implementation of
      
	<span style="color:teal"><kbd>add-assertion!</kbd>?</span>
	<span style="color:blue"><kbd>add_assertion</kbd>?
	</span>
      
      Hint: Recall the definition of the infinite stream of ones in
      section <REF NAME="sec:infinite-streams"><a class="superscript" id="4.4.4-sec-link-3.5.2" href="./3.5.2.html">3.5.2</a></REF>:
      
	<span style="color:teal">
	  <kbd>(define ones (cons-stream 1 ones))</kbd>.
	</span>
	<span style="color:blue">
	  <kbd>const ones = pair(1, () => ones);</kbd>.
	</span>
	
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (add-assertion! assertion)
        (store-assertion-in-index assertion)
        (set! THE-ASSERTIONS
              (cons-stream assertion THE-ASSERTIONS))
        'ok)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_30_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROaRQA45xDDq+QlCgOBEGQdA8TQYkLhRDyUgYYw2BkBhiFw9y6DEIxKAUSghLieNAwG9IFBYMhptm8JQAAH224yBo+Uhqimj5NpiXb9tSFh8HwDghA2uadr2v1loyf8ZrmsLeoLTzUmYMQJGEBhtzBU7KB2Pp7jEebAoGrCwfCAAyRHen6QYEZHdlIf+r6sHq8xlvIBRiAemHFuSP7yAB2pgdBB6rLoIniGqs48cuTjDF8VbboYfARsZ4nSaohaEkDOZ9CIj7+XC-GKYYC1qDEOhiboUGpao2HKepoGQfp0BwQVpWVZ0tNzllplFeV4hVcGrnrves7X0C8WbxdpNScmU22b68xDatm3cJJjGnfJ1GRhvSXNul77OIG40hBnCplDYchSvoIWQ9FuX-sB2mdzBqz45tpOU7TugWbN9mPKLxOTFLzLGE57mHcezOEzdu0O5bz2vfNmuGBL1OG4YQOM+WZ20Yl93I7m6PzYG6sjvFAe66H1Ex9iTWodz3WC-1xfqGXwey4r72foPo-V7L23m43mIJ-D92u49ueq-MC+-hX5O17K0fg-H0Oz8Z6e1xngAAYpAAAGgAWQAKLNECIQFOyh-jgllivb01BUTglAI5LBqh9Yp1WsIcgsk8DkBkFoUgWMUi-RpP8Wh6gRAcGEI0WqqhKCUEIIYRoIAxD4NpGgXIChgDuESCggAtOQbkFQFC+GAAAK0MBIwwKdJrABSPQwwwAABsOhsDgKgXAhBxAFD4ErP8SgfRQDsA8F4JqihgRExYCQhg11hC+AII4SxfRarrlIFpXBFBuFY3+O4zxXlyA2K5PYxyfQagWOoTUWotQ0Bn1jqkIhLjyB3xFgmAaOcaa7w+lZdBwZqhYOcKfc2WTXH+KZlQwwuTAo3GxE3e2vN+ZM24M-BGr8fZomca48JzTQ7xWIG4mJQxJ4R3dn06O6T+qpBEqMrOv1t5FLpnvcEIlBrMC0Mbapb8XC7OIAAD0IIENwzhVntxmXMqWXtFkE1SG8biqIfjnMucQa56d-6b1DgUqmO8tklNAMZIo4I3mVPoJ8i5VzDBVN7sclQ9AgZfNIAwb56N1Zt0DCDBggQZB6zxMigZqKRCjXhQwSktz8WgkJZUPWpIvp9zRVSy58s2Bq0dgAtZBKiV6x0E8+eqRjDtGtigul2dgWbPzmC8E4razeKOeS8Zg02jKqlWDMIGtQ660VZqyVzNuA6rJT9JVxq9lUFMdbSgTTg6xD5Xcx+do+mspRVUAJM4Pg2uNg9XVeKXDizNR68lVyfX7NtarB1H1A3OsDDPMIYafoDVMZoXElrvEBqElvdImQc0poycDdYka-V2pzXqtZr0C1JoWaKyZdjcl5KWlrEF8rZpWVscoLwqqfrqu7V4aVwI6bgkHeCU1Usi0eUHW4-AHjm0P0GMAkVKKBoaCQdQbk69-n30BW2uVPLwb6w3SCbdSLp3mHQRin5iK-m4oTcG+5brHmXpcKnMQsbeUArWUAh5UdzWcQcvLUgn79BEHjT+-JqR81ZAg4BjyXqPggamvBqtLrBjwbfQtZDH6mloaDX+cD3DV3koXqnfQXyybVoPTrOmXyrLFFPs8uW1QKhnPFPoXi1HoN7KOpNaZIxuPhF2usxegnBjCdxvPGUZyGBEj5lxqg81GzdEZOLbjTEt7ie6OEUo4ImOgGaN0aTKLUp8f6AoHEbJuikmFo2RqQJUrWbLL4Fl5JAqObAuUjU+lQCwaM9SUzZHlkZCDlG42PHW0bLo-K8tqsrKkDC32zibxk68DvXQbIYWotPtdfsHLCHzBJY4HOhdJW6xQTzW9KedpaKFamDMEdO4DZsEcuQXwf0kvM0a00MOy7p7uwqyA1mLHqSUGCBMi0xYyrVAYGx85+hpvaWcPNAcA0Fscb+EttwM36CTGFq8egVI1NAk2-J8sinluoiAkaY7AhlCJECDba7ZVDqWcBBClY5n3tExxFZV79AVGUECETFm6F+D-ZPbtlbQPfsKAnRCrCgO6DcCeICAAfCoJ7dr5Yw5ivDx8oAKIvnJOcSu5KPiTcJWF+bjBNvZY4Cp+7PAqBUJcECNLZ5MuM8YuSdbqRNucd4uzg7UEjvvAEKdzysmLu4kUyLsgdBbsNEbI90gz2ZwVYs0TT7elYg-ZB5ZqHOywvA9BwjlXRRCom4q+byziPYxYQq2j8IAIsfq81zT0rhOrck+jGT0b5sMsTIZ9x4WW9DrHQk0p2euMOACAACoAAlYEMAAILgHALAgASonyAAB5AAcsgIEsGarmxkJINQeOtKoiaYrpI3A5BM1y2UYwdP2Ox9FyuUo5nNs0xRw3tnSveurHEJILlC4h-YfM50af+OGro6q6HFPafM-Z7z4Xkvs-J8D6BkP7vo+I+h0Nxb-Q52FPEsb8rgHi+4dG7B08vAstGpyEca1eASBUBoC6niGOHkY0NYNqes1slYua+6Gqw0o040NAAmCMykpQ42s0ykzQhMgsCBzoCkN00kN8HSf8dsPMfMaQTMpM3AYBY+fWcc92CcX89cO6UsiBLQp4NKNBxcV8DcoBdA4BqBYmqch8n8x8nBmBiopQQBC4H8pWQhDBnaLQ3BlB4+661yRsFaIhKwYhLBfs-qe8FBvB1BIgMKjMC4N6vyWWah8kzBPw0KHyxh8Kt6NyOh8hehmSQyOS5hTW6qssW4rhWKQ8xMjSZBX2q4tS5AZWvggR+uKwuhzoaBYqRq2a7hRQGhPwWa2q8RKC1qBydqX6c05BThMR6yg6pMTB4hjaPaXBPBBRA0KyiRJQlhC4NRYK0RiosR8shAm65696m0TBp64R4hHQWg+g16dhphZBch4B+EBEBKxBgcTSeGYxFBChsQpkGuwQesNkdkDkzk1Ivgqs5AZyMu9RAxxAvkpGP0vRQxDg3AeGQkAuWKR0CglSFiDAXhyIYuhogUvR9x1AjxNAzxrxVxggoGyayw-unkwoF+ryighA+A5QLxxylxyu80MQ74PyGQRU-RIB6CIybxkxkRsQ5yWglKYBB49A-qQRaE6C9S-hZATSuJFJV4eGeJ+JRQ163BpJ-sYIbxROe6NGjKWcI8DEowNI3KSxSRLajAgcrBqsFaVy6JYp4+Y4GoYYYJ4uLQqxm4yIVktk9kTkLg5slAvgJAhxvR4O5EQeKK0xI0sxlGFyhgeR4Bh2gUwG8xXySwoh-mb0ckzQWEmJgxSGM4H6tpJGDp1gzJfoVpgpZ4PywpgZwJwZYQoZZxnEpR1hzgcK3yoxjhjpK+fJIOtYlGsBJMbyHKmK2KCx8hCpfmfpxZ7KGK0pORYZ4xVZpkRZ+gJZ9ZnQR6TZFBwWP0pRqR4Ws09pzZwsdx6ahpGqEqCRca7xKwgUSpoYZOz4DCEJA0KcyGvqWRqsOayJ0wgUNZQxB4m5EWqhs5nAvZy5kYpODYLOAZeys0UZtYjIEKh595W50aR6iZl5Kwdxuyo875H0T5D4h2+5ocgFj5gcTEhQqpEKB5LBg5+gDJEamRn5OR358h0FOYge4UjYDgfstQjI6O7unpmQFelpDKxB+FyhGo+gAsPybeNaWQ9F7pFhsGK4PpG4+g1FiKSstQ3AkZPFlstQtWzFTMEwCIZE4KMsKKhg3IjAsJtc38ZcjZY5a5cR052qjyoFKJLOOqjIg5qFxsjZWFvJvGE5ma6RQ59qVZfm7FsYaw7R1s6M8lvM-AdBP8x2R53qRlZ5w5F4DJRQclQgblSl9BS+6qiFgV+uKFH5xlu5ROsFYFfJ-c0hDhjBV4CkdMqVHBBOhB3ctlMQrRkhEyaVXRc0DJWVO4JVHl187St0HsDJzQ5eOFAB5gpRRR2ZzOkuNi86niQIs6IyCMTEjY3YeoBlrliltVDcTS4SVueFjMNFtQjmzWM4VFi1vFtFY1IJcYayh54S4ZzohJzlo07J8gnJt43Ieo3AQlfFoQSZfZKZLBjRshFBJ+ay6q-5QpFJh5pyIxPOCMh1ekixj1gBmhNF2hTR8h9mLOgcjIh5WhuOf8UsoZTEfseBPMo8iNNs9V3c9E0ZqNHmocUFFp5KpRNVZVZhUNOZ5I6NuNwF+gFNuVb2+VER0wh5TNylw8yNm0oZQNl5OoMQY2qZbBYVnlVNr10NUEdN+VDNOVXNeVt8gNK4h58t4VWUPNuRzZ-NmFo2L+xyb+zUEAMAX+HUv+lgbV2c3W+gZybeBx4k7I3WoN1wtwEyXh1JkgtJ3AB1o5uZCYBqwiMJcJssjuaEHtjS3tfVhNFOqaUJCgQdlKrxjFtGecXJhc0JsJidxyKWiGxyvhFANJASQxbeAqTKMg3ApK2G2JfVxd71-tDKgq5doA7mMdnEbJlYHJ-qMgJdDdZd3Awqztokrt-JKoct9ARJrcRN-Ko6X10ZE6FKE9RWcss9BZgcydMWqdjNDEiW5MwFOdxWu9UpbwE9W90Zbez8a9yZgBjgXwiKk0p1Hd51-qb1ftia7sAtY295LegsL9U9GGlGutrd19yc+AHeLA4R39XAvthQf9gYWEkD0dEULOViEyFlD9nddqjILVY2nhBdQc+VI5sxbe8MBD+NtYIJQDV6eDGNeoQxeDzwMDu1-9kDS9TUTMwFdJ9DkQjDUGb9doLDg9LQZyRJ6KZ1ZJqhpDVYnQI5LA6wqDUtsDaI1sYgViRgBDbuUoHAk0qjp4rFHpWEuDpBuNhD0jTZsjHezRLRwIyjqjxj4QAAPNY9o6oKfXo1geqeZBCInjdKADcHQJ4h+rwMZU2O0SCLUM0DggANTgoslR6TRCjhF2OgDRPz1RMxP4lxP8IyDhG6OTBfYrGePgjeP4B1TECORAliBBPZEhObrhP6zJPpORGZMJNqPNy6opNWQNPRWxDNPZOuP1qWk4FYg0MM242hnCzmxgHAw3TYi-0rDmzBVmGSO5M6X+iQGwatP2xuNoRiHcHTNEBIUskxCSq33HToNP0VqLHdPNC42YwhrqPdMxCzCTy5OPOBaLOiWbO3SJlEa5NW4wUrgDhgGYwoOjTx2TkkkXOqx7kNBmRrFjP6y2TXTlA7HNwRP-M5grmrMS5UiQOMhf14MAPgGmVrNrIfOQM0OcOt5A0EQUs2ksMYvmkAtMOBhTPoizOAOW0WxKwjMEHNz43jNQSTN7PstEswt1SyXyVfPXVSN6jisstywbN2OVXjH7PYiPMnOgNnOQviM7lXMEQ3P5V3OTzKv66lDwTiy6P42FV9YfNETqM2h2h-Mks6iAsQnAsO2gtoM6ucnysEkanSval0DIsiCov2wmkQ12qnEutYtqmq53l4P4vHkziQNisksKvUhSsUvGN0PUtvOxB0sMRUvEw8nYXMu8MuBsszNpt62yAG0OItQm3tQ-5dTYBjZwwPFPFu0IlvHobRaFKxZcmAngiXI-Fdv70uCju-HUDPE-FIKfmcG9uEbPzcm4wFSdt-HdsDIrW6zpgGpzDz2xBzCrhhl7ujociHsxAcgnuHUGoYSXus4Hg3tnstYgwPsgzPvTAGpMXz1MXOintfujrcSGBIIdbz3AegeeKKgAcNAGpwukCXvwexgwdFAGo3BWLywsCGATroeqCYeNQrAoeFAGqRMPuxA23cC+Bu5Y4HHRNQdEexAGoSJkcxAUegBUeY6gAHESLscxAMcxAGpwjcANBsccckUHGQi8egD8erUQjAAscGBnKUfUdcegBgD0e3ujoACkCnonKnBxWnUnMnBq4kZHennH9tUoVHmnLWAAhJKGZ0p+x-p6APZ0CNZy+2COCPY7p052JzR6AI4zEB54By1vYwCCx+Z+J4F0CM5zZ15xjr58pxZ6AFjsF8Z6OhjhF8J4UFFwF1l+l-FxCLZwp6p4UCRTELZ7ELbemPlCzlO12-CQMpS3rtMK0hJtwA15u01wWCCeu2O91+gvgCwAoiYPaq1w0O18iJx3exuzOyav1p89yTJ9bnN-8QbWmEgz1V1-Nw2cwDGoyLrAaoucIPPSdyt0c4x6OpAHQJgoaYezd3dyF5d4qGh1QHh7AJAJe7hwwJ9xdy929xh7Ag+z97Av95dwakXuQEXgp1D0Xja-rnV9t2txMv3MYxN0UFN5x+LN3Z1yj3twnH1-V-j-3LMRj4UFjyRSuxeDwCT6LSCWNl8Tt+twMoidcaBqnW3l8XNmqKQGwL4GcwouQNWHJUdJoIc2Hfj3OxwMbIuw4OD0UB+pz0cEUKTRavGIQOc7q2CG3sdcSWIxdRSRus5Vxvj+gsY9wPm8z6j6LZSwr7EMbyIKbwN7t0NyN2NyOVb3T5LrQUQzSw0F6+C7iD65Fmu8g5DGIF8LI8YQb8bAZRr1rxdZt-rduw28bW1N-pgBgFy8fRQKYAwBKh8GVDcKQEOiVevStGtJuBffwSREsc8-lp8+XwdikwwGk70+ETX0vH8J7BxYtzeM39hsIjcBqvUloDivxp+lz8oI9goBkCAUYNcTPyp41NE0tjP5jOCDgvpjghE509E9IsoPb4qFv5OpPxQ2Nt8pwokyDsdOz5+vf-cZIIac8NBIo+NpPw0+CBCA08P6EcYGPxErtcleV-Q0vfwmBf9rAfkVmObFAG4gqEVmD9BXxqxIDe8+sWDLpBMjrJdYSA0AMjCwCoRISaQGrDeCQEiZto-fd2GQNc7qQmM9fAwOLFwEO0DMmAj0rn2kQzhC+MUEvkOlQF+hmgRA09Fuk4K4D8BUlGIOgRJjDFMyPOMgbYDIj6Yf+0TOAUwDIBWZGB8ZOQV03EE4J2+stYgvRURIFhSy9hdONQOiZfZdBDTFQQgJjykDNBoGHuMkwIGQooBLgoqrT2f7hFJIoIeeh+jx5eDVBpAQSEsVaLI5HBaAuARCHvYCU6YGg6GI6yyBkCAh1-IIYJAIGtFMmS2CIeoX1gAByNJh+i-4FCMhH-Y6C0yQHYYVBEqUgOERqEcdX6irGrMTFWjrRxY9Q4-rGANRCBTuVkYIKkwcg6Q78deVJhVnhB5NoIpQKIe0NrC1CmyN4DoSkMnIIDQhng6-jHkWFEZNh1Q2YVR0EZC8ReygMXjOClKXIPAt6YMuvSEGdEssVGNAd0NCbCDsEzePOiYR5xUZ-emPDQPoAOHrAjh1ATQMBXuLnC3A4Ay4XkxWCtFDBdw3IQaiYymp9BXSH+hcghFYCvkgjeobbD2JyYzhKCNwJcLUoGB10jwm4eCNAqNhzeRrIECuHpoGDSC0ghFDciowYt12II4wAfmBJxRvhmIzmNiOBF4iRyrpFERi0CiUjm4m-e9pEK4oaZ5AAowfMCSbLPxcRt6eUVP1REqQJWzXW5swLfaRDZRKojkZ+j75ijw2zA34aLwBEnCGIrA8UvAzzpjMKSusc0f8MBGnD9R+I+IU0mZG99IRj7TUvaPyp482Rqonapi2vKrkiRMGUgsyNAqBQ4R89WkUiJJjMj-IsbD4qHHRGtUxshpEgASMaHrJfSKItAeLBhFoiA2DGRFpsT1JCMZB-UFwDmJOITsF62RPMe-zhhcVSxTWG8J2L6zwdgyQbXUtsTeF1jmxMaaNmr04go4mA+ANxFNmEAVBBgVGOuomiNLJiURm-a7NAMobvp5xtePbIwBGRLj8x4sY+i2JTETiPIA6NjNHhKpkNKs7-LCLeNlbnhsMLAa8ffRKr6A3xBhSaOfUnjfjuIv418e+LEAM0AJx0NvDeHAlASYBKKaCaBLmypsnxLDZce+i-Bb1u+S4NhiW2wx69BgT4wOM3i4b5iDGw9eCRhIEJYS16RE1vII00j7caAIBCsQg2lAhsgYi8BgEwmEAcBSA80NlIQD6Lri424JSMYKU3AxjhJOLAQPBMZDwS6cLxQlsxPobpsK2NiECZjBO4qsHAbEsSZxJ6E8T+x2EvkE1VRQCSvxIEsCSBNLbkQsWdxQsYQDnJ+hAoWEXIGZJLHCjuArk8It2OFGMticaY2MAeQuQutA8GbLyZcMEbw42iJASlBUBTi+ARKhgNkHFI6w0xDAdmfMUxSMCko0BKUhKUDHSlPA++WEENKSk+G5cV+j+BQNFJOp5TEpVUhCNlM6EvdCgdUgqaSFYbVAqEd0Z4m1OyncA2pg0DKW2Jgw1Ykp9AwaYVNWElSTWZUiksRSxxdSyAPU0qpGFSmDBJpxIJ4OVNXALSP+lmRqeNIGaU4GpMgFODNG+FalqQbeM6SPkbhVTpoFuBgFN0BITAq650okjrisyE5UJ6yJVlVPoH2UsBS0vnv0F6lrT8pMeQnDtIMAqdbpnCa2F9MekHTJYFuEbDJTJrCMTqQoBsqCArRPiSEx6FCVBEbAySBqFkxCYS2QnKT3+ZM7zOqFqBoC8JFE8UANKoA0SS2xUkfEkGekhQXGck0ePBKbKEyOZfODGT9Bvy8y+ILjXiGzKJnET3+eLZgTICTC1AcEaAtBKrNO599NUnQWPHLPCBoC8WQtX0eRkwjKZGm4pPCfNhGiUg8ZO5WWVxHZlGTVh7Yg8LHiRgow3Zm4QmfQMlnod+IN4bjDDOdA3hfZIcxUP7L5kx5g5+bAiOLHDlxzKS9DVYZrL2BqzIpx0BPFlHhw21iGXFJzntNgxX1zAagEwF4HliMAUcO2OvM4G4CYjHZmI4meSEbABy8OcpblIyCjnSz9ADc52Sjkt4tSrwTcmmRmzbmMoRSaUdSCrPTnazchQMjUXfUj6SAc5D08eR3M+gXir0bGPcbDneBH4m8Ls36VFPhntcgihMoJpjkCplye0lc3eevAvmWRWcCMw+SwxhlV5pZ98pfDflFkLIE8cQWnLkAcBUJGQAABnIrkoagjkb3FNhJHDxqAgwGGIAszogKgQ2uIBTKWoTRM8QWmUOOgpQVkBsM6qKBWJMokkwnx2ua4fAsggPiuKLAzrlxUoVwKYoCCxISzJ77HSfoz2dhiVUFxZZhsMNHqkwo6LUKsGZTGBdFLPTUKko5IA0oEAmTtY2AQ6I8SuG0wUYlxEKUoMQvEWfiKxwiqRSwtTAQowhHYosbGCmFcUjcCizoEOnckOTmpsQKxQwEUVDofJ9i2yqZGCmhTVJTilxbzhLkuAKgMU0ILzFuEXJ6ImEqBs3KRAopfFNiyjOKzuLiYQKkkl0O63aB6ynxKS5CqHHzLEAVJNk8Mdizuw9UWAskimYwFTZRLR5aEQKGUodqaT8SpQFWVGEebNA4lSi8yT+NAmCzrJrEAgUlScmQFfShsgiKUA6W2LJ4IFUTBMs+YPgTJLS4wCFPLZmVE08i5xfEqoyCNrZOMmEtcm2wETOgv8wRVSDJlqTul8kpCbX2QguymIA4GSW5yDAMyaF85UOA4ASZSz+IAsoUkLMHlDzZWv8lXleUohJKKMp4MXEczwCQhoVK4UmepPJkXLKZpBU8ICtUWhwHl9MiCJoulAfK257CpcEnJiDfLoyXSwCQkIIHQRUILDYxUIxEb4qoGKK25cCv1ADgglzlVIOnEZXUzW8DDKFTCteVrI05LCaATBQCnJUEwzMw5WwFRUAtxZnEd5dk0+Uyy9wv4aJapKVnTytZNouokKrVk6yMlWQQgCqvoGQM++ZsrjKSktl1EdlI0PZYim2xGrOuqq+hmatSDiZCAdmJmVjMpS7LQG9qx4B6s65sgUJanMANCshCurfC7so1Z7ILFcUPV9AhVbiDxVBy5pRzIOaSAjkNAk1SqmOWmv+UNANMmawlYqAZZ99dVp3QRl8VCIVZec9c3Yb4Rfmo5QAI81vCcoex3RGAFWRkNwuJikLxQfC-xSNRZw5qN5L5VcDmrxV9ym1Wa28jfQyw3Jk4-QLtTllnXTBW1OE9-qOrRKdzlZWqtAQvN7FFkC+uw3nGEXbKdqYFzUpednPunn5t1k8v+ZIFABr4GAOeayAABlYEpeUimwAgU-QP5NeCrMPhnVHz8xIeTvIthvz0D+8smGmMBoPnK4++c+TIDAqaSsMUNDRMLOht+mvr31X68ALvhnD740NiGtvFFMd6DAgiZ+Y3JfkuzX5uZt+Qlabg4D24n8MMmjX9noX6w7c8OcYVWtCa4gENP8sDe-xPnnSz5V4btSRUCrVqYFda5+ezl-nvzq87c7DYht-kBLqQ0vCZPUN7kNqRN2bAGcfNOkSbvhK4JWVjghQUanKsUiGSJW9AH578+86dUppdlrq0Ie0r4ghtc1K5NNQNIzWjO2XHq9N9Q0WV9O6pUhWg03JzJIAlirj9NZAazvrBrInqktZpVZS4Gi0OANJ4EccGgMRTx1SsoW3YeFsJx99stWWU8TGkS1zCytAMqtbuO1zBAv5Zg5zevVrUo5RlFhAYEDE63ta++vW1rVli63YYht1crrcLCpyBBht8khnKNpbks5boTm2ucdkZCvqN8uefPMXkI3kgNtWeLbdvh-XI5nNruTjstuG2hjMt+sDEFuMZ5Naws-iqbRNhm3a45sDOYbMOp6oXbgN621PG+s-XfqmIeGwHcdsYVhYztJFH7dhqtyBRwQt2uiakDQZvAFECJN0sgILTo6q6ybaUqjpRAJk-xIwLHbBPDQ-IZwKO9mF6LtKQT361O7DGmiD4DwUgeOgsATt+lZTid24uqDjuA4s6wQ6O36XYov7mwUKvOynWzvzFuLhdKKGoGIBtRAw9NAu48VMrp0k6JZgQbiNujXEkZBdKukjGNtAwKAatSu9-lLq00o78A1QdsvQD50jlAtlmdesjpt0IkKdKIbZrEGaXUN4cffC3VbpQqu7TATSAPTZVnWpa9N95YPdbroC27T24gv0PbqJgLIbcBsEQKkzD27D56vu5XP+s4i87LdWWMXW7vq1oz2dSOxnYXtZ0V6bKB6r0qbMwUrSV48UkSkEXT1JbvKyGKvfoCr0-ME9gkFCCJxU556-dZOpnYYFt1d7mdlO2PfiV73Rxk9-QqyK3tqHgdmd+ezbubFl0gEmSRkiLSZqemnzzNV4Sze4P7CjTMdIW09ZvvH5pbah2Qqfh5qnBZyV5d643Ay3kEekb1z+pGdSspWBZYM-e1kl7oa2sxk9gwtPRfvS3cAr9fOYWmchMD8BtduvNstiieGIGIYEySPsN0+Sx87UWm50ccLlrz5i9DuvfQdIP3qsj9ibd3C3rgOPZBi9EhOIfEGJXVpVRkh-eR0rDN5qOScvsZwcrGDjJ2VAKRqQGaD4HLRe9H0WMu02TRb13+l1XpGapvR35QBoLSAchzggxDro60YvogPL7uAmhq0WfRqitz9io+yDoyAACcJwc2BB3ilIzIMBbFFLYY6xfT5sVCaaFAcSXqViBBaD4I5KfBFKBwHOKUKAr9YxBnD4RPIXkKshoBYjGW1iGKudARGoZceCFBEdcNYJ1oUUyWE2RcA8dK6K4NiOSHSNRTMjm4EcjcDkwRGtNnQdrJ1iYDW1LYk2Yg4nt+m96voye2ox1i6y1hwDwBLQDft8B+C2s3Rhoy+K5bKi3Agxi-HQEKgngyA10RFC-3bUtrGQPI3YswBxHujh8ASEmNUEKhf8jg-G-nBCUSSLGsEniR5YqnTmqx4QqzZI+CAkRPHaebIltbsJlwHHQATx5jgiCtWxBkjOwtva0GOD+SilEQFiAOCnETZZx8secSJWBPishtzWzFBNt3FTiRkCJklgODONatDSNAiSIii0Ymxil4RniPFIhDfHnjKOQQHCdECUmnj1UUE5RHBPMqA8KwB4-SZ471CcM6JRqJyZ+MksSjD06zQ1Mk3JymYV8-EoCdv1JyGDqsJgyTFaCiy0cfB7upx3ALNSl9dQ01E-omwv6-sxckbLKq5b3khAhgRyOtH2P8BItAgVoGsYbW8jNj-Ii4f4mMAzGDjKTI40TgpE46lZi3LU73J1MyGv9ucw07DtDjSnwicpxiYMSVPc6fKLExmlwfVOcLJxaJ5zTXP3HzRptU2ZzXNtkyZm95VufbZvm20l4u5XFAebDM44lnDtO28M4KoR2jZJjqQPTXkOuz6B-lAAHSwCdbbNQMaEzIGCBWZ-97HZTgdjQjRH94Cx0Bj1hOAtnpj7Z-HJ2aHk9m+zwS6cS8WHNKZ3ZvAE8E2R6BYQ9zoAAAF409QAPZxXv2c3NDnghSZsc6ec9iREpz4IHE8YBZioQ8YOOs0xac3Dtnrzg57c351iEtZSEXaVJsoFSandJgeQtMHgAXNtnKNN5oC5RxAtecwL+sFgBBagvjCXz1UIAA')">function add_assertion(assertion) {
    store_assertion_in_index(assertion);
    THE_ASSERTIONS = pair(assertion, () => THE_ASSERTIONS);
    return "ok";
}

</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

    

  

  
      <div class='permalink'>
        <a name='sec4.4.4.6' class='permalink'></a><h1>
    4.4.4.6 Stream Operations</h1></div>
    
    
    
    <div class='permalink'>
<a name='p45' class='permalink'></a><p>
      The query system uses a few stream operations that were not presented
      in chapter 3.
    </p></div>

    <div class='permalink'>
<a name='p46' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-append-delayed</kbd></span>
	<span style="color:blue">The functions
	<kbd>stream_append_delayed</kbd></span>
      
      and
      
	<span style="color:teal"><kbd>interleave-delayed</kbd></span>
	<span style="color:blue"><kbd>interleave_delayed</kbd>
	</span>
      
      are just like
      
	<span style="color:teal"><kbd>stream\?append</kbd></span>
	<span style="color:blue"><kbd>stream_append</kbd>
	</span>
      
      and
      <kbd>interleave</kbd>
      (section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>),
      except that they take a delayed argument (like the
      <kbd>integral</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in section <REF NAME="sec:streams-and-delayed-evaluation"><a class="superscript" id="4.4.4-sec-link-3.5.4" href="./3.5.4.html">3.5.4</a></REF>).
      This postpones looping in some cases (see
      exercise <REF NAME="ex:q-why-not-append"><a class="superscript" id="4.4.4-ex-link-4.78" href="./4.4.4.html#ex_4.78">4.78</a></REF>).
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-append-delayed s1 delayed-s2)
        (if (stream-null? s1)
        (force delayed-s2)
        (cons-stream
        (stream-car s1)
        (stream-append-delayed (stream-cdr s1) delayed-s2))))

        
        (define (interleave-delayed s1 delayed-s2)
        (if (stream-null? s1)
        (force delayed-s2)
        (cons-stream
        (stream-car s1)
        (interleave-delayed (force delayed-s2)
              (delay (stream-cdr s1))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_31_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwEIjTBVAlYLKqcTO4OFfhmkc2KYESA+BwR3wsuiQDtysY-8IIzoGCK+GQivhyPUihDDRFEt7Ek7TKFqDuAUNvk0wIoIjAjyYjEgNbPniLXwCIj4K5I-5p8MSCf9URFI+MuhWEYcEQIOMCRCUWUGiBNA4oIGOEJZg+IxhEkTYW4IOIeCEhQI0YaYM8DjD1sMfIlsEMQQeDBRgwgEpO3VBuYVwrkO6mAM2FWCLBJ0DUcsJyEiAdRWofUaANZI6iBR8gTUYBTa7WVhO+AHdEPV1YZAlM7oleEPV6749V49o0AIKL0BEtrKmKD1uhhmDUF5AYY-MKqIIbOB+IPI5EMGLNFglcRdga-nGNABhp2ulnUMRZ11GWBbABo1krOh1ET8Pgs6UMffw+BWi9RZY20SUyrH1jx606Osfo0IRgkYOPoj0WMF26Hp3kdFO4HNzpFQj-qagyznjSpHVx7EFo99N6jjCYhXI23dlkd3mCaBEOwYxDsKO8SZ1yxIOazCJCtiNjSx5YxQDuMdEM922W4r0bvWWB7ihhsoo8UlEma+jHMcAyKDiKhajizA5iekZQltHHjhIfgRIYQDGLyCaQsY9Si8J1TtNWxcYxcaAHe7IiIRsPAvkTxV4ijM6Pdd7szywlFA7Cso9JAfwmEe9oEa1UcokOgkoclejQWCfgQLiw8rYEnOMU8g-ytDYeegGZgSyjCw87UY40ACKQAASUmWwAAEFwA4AKTAACURSkAAAPJn1kAEkHYhD3wBmAfuh3DAZglgnWinRXxNrpBOKrENqQBkvUeezQl0SmOm4uJOeOUiTs0JMgSoOuMwRfMXJI8XSXeLiSCMxJEk6SbJIUnKTVJnkzvrZJk72T6AlkywIIzQmMj-mdE2wAxO5yOSToW+aKQlnpGvo7i8gnyTN30mOSjJgjRKT8PkCJ16EgomUtTX9I-dJgOQVcQVMQjVTCB41EscQBKl98tJdA16u5IcnyBDJ5oxtMJK7ZFESAZmCSAAAZdi1MLKAeE9jCRFux7CFJQEQTSElppICaSuCthjStpsRNrGqR4CcTjse0gYNtMYBfNPs80n4MYiUAeC9pV7LsGtOnFbRYuw-LaI9JWnPTk6BvZjCkxQmmB24t0r5HYEyihQlpzEzOl9Ow6rSPe6k50otM0RPS5Ea0jgRmWpiYj7gB4GQPGFO5lk8MyQ9DkZGlDc8bpegzITDJrA4dXIL02BAWK2iddSSFxLGbYBxnSB4wJXSLu2IGqmBsZuM0pn+2tKwdHhc5EYazPZnxgxpKEiYI1C0h2BcOAwsfn4P5Hmi+kvUCWQLOMkJ8wuqiGMd5SOELlAxvgu6R0ADjGQpopBUQMMLn4SwjhWyTod0PlG9Dui6aVWTKLshTRSgio9KMqI1KhB3REsfRrEE1kcz9BzsqwTcLnJbw3+0cLiR13jHGRQgoczmf+gNkYsU5gs7yqsIID5JrZTwsWS8MzlntEhiYrkSxAZC89Yh0gEqfz06Fii5RNgl2e4L5ElSOE7sLoUrUx5Ki2+OsqPjqWbG9Tw5Tc40fKJOjdiegKFc0Q+FkoXkWhyQ6oDxHHp4BMaq8o2PXPlFOym5ko9NFPI9kvl4Mnc8iT3MmFQJMeA8y8RoInlBAjRoyYeY4L1Bbwn5xgTMSlCEZQkTZXyAim3P1jz93YsshBArIWBTzpRzxF4ivLXkEz4MymAcbtxkrz8+5Dwj+dXJ-lzlhxyyEgBfJbH5B9e+QX3mrNSGui8Wn4-0fmBgV+jBxAYuQEGNwUS5wxPRLMa0JwWJzIoZc5wBXLhC88cFKdfBa-IA56z1weClhVEFWAcj2I5c0YpwruDUF8F3CtWbTTACrzMajC6-rzjzHhpPWgiuhfmEwUWlB5YAysbzh5lmNAMQi4xYEF0XYRLxEnIxdfINAScJc5itSL2MnbkKvxtEuwGNJ8DMI4JTBNIWvnvQ+LO2S0prhsCmCQTGQ0strj7mllODBIm0sfFEtSGrVd0d+ZjLEvPYsEZAOMooNgTyJ9iMmgGDJYkPwa1YvFY07ccu12wdTKlK4bCPuIdmP0pgZqVyGNN2mdB14IM-4GDIWDSyQkmdSxaBNPESQk4gyy8deJqV2KYi4SrVs0pITSynFQQZ8QCROkYRBl74t0bAuxEwIoW0McJsuwhmaIx8cy1pZDPrH-jxx6E-5ust5BgSa8wkgKbYDklbgAAMlJjUk1wR4s0v-NpNepjSdQxUghbKNMm9CJgFk9KUSxsnmTXU-y2KU5KhZeTKgsKuJYiqRk3R-J4kp5a8veXhTRgkUtFQCsGlWS2uZUiRognoQJSgJyU1KXCurEfAIiS07KVCPvB99KVk496TkUZWJSe2JS1BgSrhW1zUhZUmkRVP+H0I2lItf0qUrRWHLVZgK1yvQh6k6TYV8qsBR8IYb3Ai2V4qpaqs6WJTSp9I8qX8LOz6hXR1cIyKStUYcEJgxIxGMLCil6S4kEyoaQqsfEfA5xLUFsPyudV6iSpY9ZyvSJQl7KtVRbIyVcqhmP17Q5dCSARJy5KBR2G4YNcuyLQjCo1JAH2djzGBEs4QzETRCGuXZhr9Vk7NNQsEu4sJtVdSk6AGqhEoSLgdE-gVWLa4IS9U7ElDAanVRJCYxratkfThUBClFu0Ul2XRKuTRT8CLQ+tbz36nKQS+mdViRJGpXr9GJU6tPgXB6argDIzU2RvSIgZOQ2VKI2HuVCnVMqvhKanoPkFQTM9D1WU7lY+wuJTrNAHqtdUDPuiDr9VZ5WOaBV-wji5upgNFUOvMmyqI1AkRyVbDCWyAtWfStIOOvMkNqiVcUmdY-TnWXgwVKUxdWlLg3KQ-+q6iwM+r-WJSd1dkPdRhKJ7BK7gx6xIKevSDnq8QB6zlWRpvVGQLiFSsCIjSfUbq9pb65LnbJZhOJh0YwdiHtKFKbrDgy6ptZ4qWkjrHVykB8U2H40yrl1k7A7lOsk2+TMNe3T8HJuU2iaWYfa39VOv-VgqVNhU2gGeUYHSAHVqmnuo8qCnyTFJKk8ABwms0yTbNoUj5XeuikPrEaFQCzcZvoBnkpoG4XIEOPAwHdylkMvpLpuGSbTCGw6yDY0oEjeaCVVsR5c8reUOa0gKW7FW5ss7MaPViW-5f5r4SBacgwW2vKuS5gbAYstUR6ICJGEpKatcSgPJVoQgNbolac46F8xjzNahAPHWrUXMAyjQ4laeNcuMBsBVaUqg2sTWW1XiDavmAebauNooCtbUhXMt-J1ruija6Ai2t3MttlFXD1mc00QJ4BvDsQtVk2lbe1rW3qaCqpgckGy0S5QELtgxDrddtdIsBy152vbQNpe3oLD4lW6gODO626NC1gaqbcpWwhA7EIkOunqjGrVfDJ2-28GV1toDbadQ0OulYTAUD7K6lPsUYJDoxgo6EIz0S-s4o-KBrG01Gy9lpENJJq6l0RRHWpvAwLaAdCwBbUTpB01qwd6xNnSlR526Nz2v4-hQdIJEEQbVkgEkeSrUi06C2uOzbdtsUB863cVasnTWsfnpAPVzOpHRtsV06gddKkY-sZDh2sjFklOwLYwBp10pNVyagUWNpZ0yD6cWUY7btAcjLDw1JKw1SKuNW0NnIt5KuCTt37AtpdZoR3Sdux0y7ZOiyj4BcsAmTjexQrUktHonEojMxz8uxKtDV1RAjd0bE3ReoLTUAO2SmIPdERD0KB7dNRakJMFQQPbBGasFnDvmr1TkVydjfOlSCcZWNEhDnLdmSlckc60R7uqEUasqmk714tUqXRXp6a7R0Bp6KgETB73LDI9YEcQPEOBp2LyuS+pTDuCq7VQdRys2IJ3tM6xQe2d9T4EfFlRjiY9ye54ngM+U1zFVKutETnvCL76nOoyC3W4BvBh7Z6oAZ-WZ2L51wC4MoFDgdWJFWwAAnE+F6jAHxdVy5QLUOphQGM8hqikKqhUCaBpNOsloRWTbU6y559EKwHiSmkR8ggCBxQIm0TblQ0AlByjeeTuGWgSDZIqOYEAQNXKCGWoFkd8L3QnQrAKNQwgXNArEGbAu1Fg8geDSaBADm23aihOyXi68lSgEuP2t70UiXR9+xII-svbSAclsht-VJCx1Ftoi0h3JfhhwJl7lkCnWEJ-vAjEBqN1JFcOUDhDHM65kaq2Gx1PBbAUOZhwldqDkNWGXuBpB8Dyqg30RRsdhikH4i7k24-RA6CPiQY3ChY4j-nKTqACLaXhqNxgOIzDU4b6gSDS7HHfaE3i3CEFmfMLvprm4LdMQ-GxGHkYj6hbNpQmrTZpsHVj4qjf-d2MEdGKhHcWEkCIxiRbZEGmDgh4kZLXSPxGp1mECox72GNxH2oBR7jUUY-XpAYjkxlGskaSgMAljGRv-swcSne7lgZUofYbt92Vx9GORmXXYqn3bACh8aoyQ+vX2uERazFesUHqvF24z9AEpPRCIXGCY0FmkrosMDoAHhVUmUajUBtEj2hnDVS9jm4Zc6xivDlh1I34YCPxaTYtlX3dTyeP2gXjXgc-e8f+afHCtsxO1thC1XnH8h0kDEwQBROLFDEy+jmsxQ+GGqyVDwW1dGn15i6Jd9gHCbKPq10BecRLNk66joAipy42oyzhHlsXGQPVlquWexH5NtMvhzInkxjsfGymOT8I1PMLrNSi7HA4uxGDyYFHan2Tgp9EXnkVN8mDTApoU32PE7-pFT9-D1XiJIaamiROpxBCqcFPlwF9LGjmmVIXS84a8Hhiw4m3XGKA3VoAAADpYAvFjJ0o-gCFK4n09qNBGihGMjkGlMbRhwEWgDNaqgzR3EM26ojNRmrV7EGM3GdjGTxqSJ0OHhcUICaAAAXrA3DOnBoz83WM1G2pOJnQA9Z5M05FTMbh0zogItIix6i-H6AAJ9cEGaLP4YWzpZtmgG0ZoGZyopQQ0qQENKDjFwibCiHgCzMHKJz0pqc4RBnOA05z4RBc+3mXOrme2vZ9qEAA')">function stream_append_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => stream_append_delayed(stream_tail(s1),
                                           delayed_s2));
}
function interleave_delayed(s1, delayed_s2) {
    return is_null(s1)
        ? delayed_s2()
        : pair(head(s1),
               () => interleave_delayed(delayed_s2(),
                         () => stream_tail(s1)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p47' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Stream-flatmap</kbd>,</span>
	<span style="color:blue">The function
	<kbd>stream_flatmap</kbd>,</span>
      
      which is used throughout the query evaluator to map a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      over a stream of frames and combine the resulting streams of frames,
      is the stream analog of the <kbd>flatmap</kbd>
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      introduced for ordinary lists in
      section <REF NAME="sec:nested-mappings"><a class="superscript" id="4.4.4-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF>. Unlike ordinary
      <kbd>flatmap</kbd>, however, we accumulate the streams
      with an interleaving process, rather than simply appending them (see
      exercises <REF NAME="ex:q-why-interleave"><a class="superscript" id="4.4.4-ex-link-4.79" href="./4.4.4.html#ex_4.79">4.79</a></REF>
      and <REF NAME="ex:q-why-delay"><a class="superscript" id="4.4.4-ex-link-4.80" href="./4.4.4.html#ex_4.80">4.80</a></REF>).
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (stream-flatmap proc s)
        (flatten-stream (stream-map proc s)))

        
        (define (flatten-stream stream)
        (if (stream-null? stream)
        the-empty-stream
        (interleave-delayed
        (stream-car stream)
        (delay (flatten-stream (stream-cdr stream))))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_32_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM6kBOApgIYC2A+iwA7dOEATDgKYAbFgE8mAgBS0AjABpQI8VKG0ATAEpQAbyygjoZqXwMa5Wh0L5RoufO2HjrgPwqxk6Ry0znrq4AXKDcLOQMMgAWrLIK2oougclG-qAAvAB8dIysnDx8gsJe6nK57Byk4Q7xiSn1DY0Nqt4aOtoA3FgAvnhEZFSWhKRMDKKsAG5MxWrSjsot6r46+kkmTGYWoFY2djVOa+6es23+h8YhYRHRsY4J5w1pWdvDo+MsUzOtMos+fvdNQGpXTPejMCpVcj7bQwrq9LAgUAEEgUai0JEMShsCAweBIVBoeSEnDIgbUUBMCYsUT4FgjMpsUjKfgTXQGYymcyWay0MS4DiU6m0iiEADmDNIAQaHhyjIeF221kI7CYEql9Q8okolAA1vhuL4JGwAEaUUQcKk01W0I2m82UfnKtjW0iMhIUwis+VGEI7YhoqrDYrEcQMOmDNXe0AeQXm-2EegsIMiEMsMOowgS5me9UpX3WKkMcgsY3jYOh8PUSONGOWi1p4ul6YpisZrMer2NfNcWi0ciiwjO4bV6UUussXv9wf8Ujtlm55Ld+MCcgZ6kCgAe3GYk6r9DdUdr6+Xq8G66YW53fb3rqZHYXgW74hNAhYI41oDYLB101JbefxqvhwYRhs6IwMLQap1ECgIAUBpoCBIUFRjBRjzlG3a8gAjvg-DEC6B41mO67YbhJDWkwOF4dMiYjEOpCQfukrZp2DTdqWlDEDq74pEe5ocVxc45hhiocJyFg8ckfFiRsXJCax9TdgUojkMQlaZkxD5HMpSGxsKqp-oMm7bkwu4abe7rztBqGgCp9AcA69ZWpBaaioxFksTCImjJikRMcoABEACqhA6oQlAAO40DawwsBuLzETSdJMEEAWdD0JL9BmoA6TIyLKK5tBskk5C4KAMg7Nu5BsKenyGVWyIwqsyTiTQOnAUWNUUHVWURvlOUMG56XGN0FKiLy2xlRV1j+mw3CUEQQj1ZmjXFck8b0OstB2KQGSJfpeW9dQHAIUhjXWTZyQXiMRQshE1D0TIKGXUiR2EMBaYquBkHnc9l2FRdL0pMtAqevd07Dqtw2BK1omtU5uEyDuO1aVJ6ybO9lq4Rw8Y3bOyOiJKf0hItTC4OQhDSF0I1jRN7KBD5lCRP1wWheFUWvSigygKQEh8AlOlpdTRi9PCy22VYpAOfyWOmTIF7cLQnnNa4sPhVwg2QQrRXeh4tj2N6lzhJEenJXlET2a58tbkVnmA00dlS45suQTuUuFdbiuWTm6Vi29iU49QK5ruaCtXhG-n3irRiwzsjCI6b9LLsZDAdXMmmeajxh8Qdydh4HCZQfeKEhInqp55eXCE0X85wplXPkrGviUWR+ESkrUf00YpXlTsTBzbzzdUeR7dNV3MOyVspPk5TAjCyLtNMJNvfWOI9m0f3M6j2tTSw2X5sQVLG+PUxtu12so1iHT8obbt5OH74t4I0v6SgM9+-3+vVR0Vvp8JOf9Qe7TRkhjZ+B8v6MmfmPZ6sNP5HyfrLeegRL7jSXuPeoe86ykWok9GybtH7JXou5RkZ8cxINcL0ChGUsC31AEQCcfYBzSD2k8bI+tRBdD6A3GgjtpYcHoZOJhsgnSmR3jHSe3Jdj2BkCInWH52HyiNtcARjDZ7KF4Y5FRU45iQgcLImEnQACQrhqHi1oGpd6C0pYtk+hmYhkpo7L2AdgkemkxGBFoafPaLj8IEJ-sMex0MWoSNEv3bgg8fEEQYlnbOoAFGAhCAUfgcQLEOXwNYpgqZ0yDB+hbeBhDf63iKgCIGdBUlWPLLYnJMgvw-iHq3VUf1SniK-gUgJ29YQX0Xo4jkIS-QBiTBkrJ6lJKjkdjIW+gzKnZOOjaE0Zo1QxOCKJQsjYyw2JmeZQiqFNSSxkKsks6zMmtiMnMu0iymk+jiXsJBot65khoE3AS3FI7zkcbQ06e1nknUoIhNUSDaFajUuNbx5T0nTPUpBU6QTQC0K0UI9Er8NH8nhbPGQQLqRFSQZgoUZtTr20aNdZJoMJjg0ehi8ayhUXSA7vOX29zspN1avJdxsNanTHhrLXBMF97wzDqZa8WzmKXIaHSuuXCHkBwYVOE+t5lbj1obLPa+9pUDnomAjO94kGqvemcs0YCdXqr1TUDyoBZaeWxSExBpj-ZNwOU2CFbZXk5kcTqw08zzRcvtUc4ZGZ3XnIzvKfe3rmzHKqcdLlmqrJBrIT0YwErGV1kmcmMNmyWWusEbq20+quXJqGSc2Z2aTVugJftM2ebHVGUjaa6N9Rz7wkRMtdEuBMTYigHARAyB0BEk0Ay7mOxeSiH5InCm4pNKONjkqfAJpRhqiMAAH3nShAdjBR1ztAIu5d1hTRmlYEK3Qm6mg7HYf8m13DRJVFFKKHw4zI6kBiJUFgopWV9OsFcPyFlQAADIv2gBiCwOIn70jAZ5g+y94rxbHpVHO8ek7H1XpvXsyOAURFCwymYotfCREwbWLDf9shdGLIg-7HYhrClumjnBy916hC3rlaAAKZHhhod6OLJjR8i04d6RjP9txCP4ZkIRtxnTWP+3Yxqz9Xc8N8eqIJ2TwniPnv6QmQM+bw37so6++DNGOB0cZIFCtGz1IsYTdzQzqb1L+oWeOqTISBP8Zk1CRZInTPknM76qtQooliOkwBuTTmhMWRc5BgsDZDmho8zeCjtmeNxyfTpvTd4AohsrdQEz4sUtGb9carj4ieP2dkwVpzwn6UZbCw6rLnmrS5fRlyXjfnCOBbdC5hEYAABikAAAaABZAAoiEZg3BxD4QYyDEQM9TxpdABFVcUQGNwRYAFVrOVcDgVA1YRU20l4baiEmAQ4wBBBGW1EUgpBFZBBAKKWb+BjRoFmsAWgC0GD4QALQsDUiINgEhgAACtaAvdoOIMUwArBbdoMAAAbAAZmwIiDrPX+vrDYJQKYoGl7PIxFiWy7BAIsB+YhUA1ARv3qYMtkCvIGDTbDIrNHoBPkUxynToFOppsxEplMSnlNpDSDQK5yRC2atUfi4h+g7YApjbJhTSbhB0v+wWx9UCGxRiBM0zxr83A5CYcciI5QRXi2SmC3LnH8FflIRs0kNl35pjPJuA12TTWDctZCyAuS5vuN1biwh2jSH6MBXhsfGcsvz18svAKiOkmLd2cc-rp3JGZpB2l+eUPZlBdaeoyL2ckcRUBRPCHFOYe0ulf9hXbcadAPRcjzx3hzBcDticHXcWJfU4bVT1XyWMla+Rx0A34vQcU5V0zxH93Wxq9k3bFD+lfPRKRNbx76w6fvei+Q5EoPkr2X1JwX-VXdXxkBRX8oP+Pfz2RL8ZvdpNn43D5oHroj6H-ZwNP7KkhPmo9+cP3f4Ppl8n+IYqPbfWwHcsUP9JU+4B4JAN9XEikX9Ysp1pF39RMlNV4Jxv8z9B9n9-9JET1ADY9ECTpmcatasthPcEsfd9MGNnlV9sp18bc3c8sd89kAoKCD8LIj9JVvlToCDfMCN5MgtFMQDrBlJVIRlaDCDJEF9dNSCktBC1IMxKDuYQZ+UU8RCuD-MY8i9z0PZlDX9uCAseDmt1DJV1YPZKAvYMDRIT0TCgCEDJUH8rZLDoC6sBN7DWDsp8FjDTCYs6tCNnDqFG03pm1W0cQO18Ru00Aoc+1yQ44GBEYNwX0eN4pgNX544mA+CqCrcOBloZAQIvpldlB8VO5cMQld9Zp5pFoMi3oApS16hsiwJci6dTcLVgDsp+k5oFoihMjcA4i59tMM88oDMsRSj2iKiDDsoQYailcII8ouiR928a8+jQB68mj5C3p8czppieFZix9cBlBu8ljyQFCwZMQIZZxOiJ0ijNja9tjQAJ9UjuZ19OUvMJlqA8Z1iJZRc-cJFn5KjYVniZwRj+1rAHjqtZZXjiDejzUGMgTcI5DyQoTphcYt4QSzj8to99kvMcDJU8ItQ+wxQSUyUt43lYMQlCN60p8H8W1oNCTCiUS-NSTxYsTKBeQTozpFd5UTFVYQl308pWStUMpaEScBQwC8Sjj6I9p2FOFxZ18KTnRNcPUO4XZXiuTjV5SvMrCyTFcrNxpuSVQ2R2Sr96tZBpSmB-j9iNSXZtTnRdTL99TCMjTJ96SNwbohA7oRTf4i0VTKU6cJxpgqSOSq9+BRR71ZS7QioMgQNxgxQgzLQ5EiIuSpTFdgyzQPTbYvSmT0ImgQgIzAyohEzxpdAAAeWyAMqMzFJZIwGMBgXyGQAKAAFW1E-CTAkAGlFGnRnHRG2l4BUmkBCAClAAAGo35mkwRR1Sozd3TdABzvjeyByRVAhhyxRRy0S8yyzQBS5KymZqy6zKAkQmAIpmzWyAk6B9QhtyBuyGN+zBzSl5yrtcAxy5SJyGNAoLzZzXBrzFzoyMTsotRdR9RNSNUi15U1h6TPRdNtQNdfTgZ-ZzEkxczkz3EMEtMT1lSVy0YWRQKTDuVmkGScTRRhSHoCSfYXzVy6Ai0wzX4BNkKiLyyDSlyYygYQhoLMwhNxzlBCMPyYUqFAEpoWQyK0dBTwlwCXT8Lhh4KUhGY-IAKGMQpTRFoSKPUeyOKaYr40FnpaEjS9pySEyAFd4QlGKLSaJ3T9KSlmkMQVRn4fpFdOl6hKERpqS6s0LvzwLY0-YNDM0-zI1JLLRALXBgKJh0KnLWQeljAzELFYLlAPygrgkYCpEahxyRUYwQLHLMLLpsLR08Ljj5ZCKbIGLSLEiaLKKXoPBeQpYBNozwrqQULlk9LmL7zWLZN2LyEaZ5QgEeK8qBSwlB4hLjjRKrp1yJKPVAppK2iBA5K7QBZM16JUpFKF5lLIqPEAxTLnQNK8kMitLY1ARYY9KjTNSLKdSqjUJtrzS7TprQAbKRY7KtgHKwLMrWRxU-DuEAisd208Qu1CQMAIjJEqoupyAepuFDpCAHCiD59hdF8TiiBAovraomAYSaBIbupphqohtUCRlGozCb9VpxVaE4afrfx-C9pxkHhd98NvjjB8MgRjLXBd9dESajBdFyaCVd930abQhjZ6bCaGDHZmbHY2aUhd9j09hvj+b7BGgKbjBd8VxaAhtJBviJapamyGhRajBd9xKabxLARFa3jZwAovx70uBjRaBKidaog9b0R6gNbd8+zmbjAZANxlAJAQRsh4oBz5bzaGCXsrbUhbbQB7aMhHbQAXtvajBXb3iAAqD28qL2n254eKEOwO0AYOrW4AcOm2u2h20AeKMAF2hmhggAUmTsjrTvihzrjoTurMSKtpTu9sLt4vtuzveIAEJgMK6C7fb07QBG7X5a72b3j8z87U7W74pCyjAu7eaGD8z0gPbK6o6-bx7h7S6ApMg+6q6B7QBsg5666tbMgJ7lBAgp7q6t717u6tb67w627XBngjB67jBYiHh0osbOoobyjuEdqMh5R1dbcBBlBsbfqHkgD77qpH6QZKBjQftMkGJX76h37kRW7GaH74bvj0aiADF9qjBv7caHr0oaEFq0GC5ExDykU9ld9p4KZpBvjiHZ4NaTLKaGDIBCAJteYSbaH6GR6qGGhd8jaOBYBIAaaOGuHKHWHNbqyOHetmbhH+HWHd8AA5FgSR8O6RyRyqy6O+7BuBnG3B1TF+9IN+ngPKVugTTor+1Rz4PNP+lRgB+G9RqZF2CBlIKBvR1Ezo90HBkxzBtjTs8AnBjo8G5siQ+gV49qCmfhQQN4CQNKn7D4CcYgIscJZKwEHBxG8YeiFGpBlBwIVyXxyUDoQIM9SVYq38rqx6V4olW6Q44S2cS5JJQQLIox9Bh5Ha5QKi1BmpyxoMZC1J4wSp2QTxlY4B0BsgDuRp0IZpitBU9p2mh9DqwS0p7qzGhagU0ULUY0c8aZ0U1+PJg0ApreTB+63+zHNtXETtAkTAD6n44YMMMgDgKiegIyL8BgbiENUEqdGdSIG-B5ryD8G-Ni8rcYAxC8gKDgacnIIsBc28j+1QtEoscLAxRRGir5yFpsQ3c9WaL8ZubIkYQDYFoaZEurd7YgadOwM2OQAqYgYgNO9EAcmQXF3igKXsjwGl4iqci83F8RwEGl5gzFtU8WEyU7M3VdMUAqTWAV3C7l3mNkQxC66KPl0UP56si85FvHXkNFuYd+9JkViQIV4pP57QAKFw7mNVyoUYNgSlwaR5mK4159eUOl9hJbRSUScZVyXQH9LAYxFeM1wjB1g9edWF2TD19ukDAKNwNKS18qATB16lwNlCDwXGc5qWK5v1W57iB1kuV16QkZMNp1l11wKDGUhQ5PQVc16FzNul2Vgc-V8CI10NzWAtpqGczNowXswF41LDaDXNkyFPX1mcoEBti8stw1sF91qtj1mt51wINKJbTNy4UwXmaszmoVwxjYQect95vMUSLkpNj8NV6spm9RPZSt59OqpzD1+dnlg1hgNgZwQxTCKVgt4NgKAAckBdcj+YfedYYqlcXIdd1fJH1aogYCQl-Z9qJOipPWdGebBYA5ZdQl3z2ynKZinPClICnIYVGEQ8CmiPGDSi8kMQ8E3YEwg4PYcHw6GYXfAKXZhdw9uCI8IyI5-dwj-ftP9nCapHMWialllg6k4gFU9lNdTbbAVlRl2XeN48GG+NbfDirH47GYbI1yY8idY+fg4-wl7A1e4+XcXHMMpK3AE8EYDe+Kbe100+4DU8fApC3FuPJAA8NFig3EU64-48cSAVI07KEL4609ErUpWONT2nlH08dBbZWMUPzf48Uvvs497B8EKj2nfss5iiqBs+3DC47g9mC8atgU89yv9aZuDa5IEwS6U95CEEKndBvzy4FQi81mhdtZBi87yoCk5uy8xHy-K7chheq4y9fgClk5Y-IHCS+Oy+Nn+rqeNSk-GS66iZ67Y681s97DBeS7c8q5Xa5La4GqGcS+a6AIoW6Uc6VEM+gSivoPeMDYPy1z85lJS66VmvQVENM+4FuRyeyl5j4G4+xaBo+muH4+DYEw+9tfEs9kGrZkikeTzf7RoEe5ShhtObxi1i05e8+oG++94h5lkwR-U9+4Vn+7CkB5u-E6GEh7bKmvM7anC4YD9VIEoBOmmAAxEFkHs6A68L5lVHs9q+Q5J51b2LagEEK+J79Q4Np4lZooRPaXO4bTABMNGEsyqCbC-vSRykEFAGvVIGWxbSx2IF23CVGGuPKl5ElShzCLCOcCnwYU4hkB-HVfWH9AYAEFDLp9e5PWYAt6t6WQ8HIekGTZbmpBN6YDN4EwE3t6Zkd+M9HF98yX97oq7Byl7GN9N4I6RhD8t+KUJ4bLqUl-GDSAVQWopUfSbHxoYJDpT6YDDphXFm-L1A11N44CUFAHL5WCu6ME8Ru3z72iN+IE9-AMr8I0z-z6spSCAW2mNEb7ypd4EB6onh4yH8apmtQTmtcFoT98t6b8j5b+r5j77675Oqzamjn5GsH+CZnmkBH4QrH935IbnmehQWvjwWJNky3-X9susoviApIwTBQ9b4r+UGX7NXRLmvr-7-CwX8eyX5e83+SPJzJ3yhYnVe+DfP-jv3Gwn8D+xgYqo+lAGcR1w+fKTskC5LjJy+lfLkh-xBKQcYIHfFAeaDX4nVz+KlQELPzj7b8I+AA1-poBX5QCEWt-buJv2oG8Uh+olOtq+Q2BICagTA8YIkG4EvQuSuAoAQwM-5WgCBl0ITAIONKdI625A6fikEQGEYt+5VKQRP2QTygzqp1R-uellp0hVeNSEfmympYl99QNrGCJqG1Cl9LkIQbELVwpgU5EOs5DwM4JQ6zk1yVZNgBj3Zg0AxemyBKPn1Sh3c-SdWQwaQFV6zMVMhOPgJsiz7jAou6RfPv4C6C0IFee0QIRL3CwztbBlg5RrEO4Ay9X42Q0nrkICgeDWerjf2NQQpgrgxQELNZEwA0G4RFSA3ENK0ONJfsaAxoeoWlRDQyA+hggUdK8QEzDCGhz6HoXTn6G4kuUEw0YbDxAEOAFhYoE0r0NmG4VAmRpJoeFmUB2klhzfXYVL0WrdD2epnJ0scMEGSDcI+wyyksLjLpFVh4oToTcONJ3CdSifHYIWGe428xCINDJn9wYyBsGOSmFTIMmLD0h0epwqlIQBkpFBCwHAXbIIHGAMB3EjeEwrpBh618nE3wtMKp2UF18Fqzwr5JsI4DbCtKW4D4ZaS0HhCtgJImAZLlnjxU6EcI4avWFTjIj9ss6aEXaRFQhB-Q3AJCM8LATPDu+yQJQdtze4mw3OhI67lyUFFIQvubnZQIqPBbBcyB3SHEXSKB63cdBD-HUT8SFHcdE+xTIQKVFwaSxES3zFoSoDpDUjjS7yYkZsNJEjDcSFI6DK8LtKWoeMDIkDEP2DZmirhto18HeD5G2swgp2UYO9B1rGCRR8wzYe6FDEOjQRkqSMeBBjFGCcykYhYPaNOGvF1KtXXANUFIaXk0Y4uEsQICsGo8cIHvHMXaIcTBt1KRgGFniMiCRjdAgYx0sSgtEbQrRw4escmPzGti30A3Dsd+l-SVQBuoY7TumOjEcBYxOZQjB2PQH1BCMM41cSkDnEWAFxWYsFiuMGY2QBMG4w8QdUsqoweyxYqEKQ0T44VxgZPXVOUCNaxEHhA3L2qwmuT2BUx2UVXpkh1BcB3oLPNsEBMGDKBLO9YyzgcPT6xDFxMkbaITD2jbjMxUQnMuBLzEgTqADTARjBEgmWUfRdWWCQTF2hFjKx1YwIHrD2Aws7xGwWZE+JqRZi4JKMRPvgCZL1CLwWROkKa2vL7jOJ347mAr0fjggjWpvSvqbxr5rBPEe0BXq31Ele9dihoxFP6OP6zxown40QMRVoBfDgmNncvg6A4kOJoJm0U3ntFy6cT8Jr3H4ab10B0tA2xFU3uKnvGgAayAACV6wcAAAguAHAC9YAASjWUgAAB5SRsgFfjikTmuADYKrx7AuDqkSElMUsJYkI1tJ+kjMdpwElsSNwEXbnrFLpCpSYWAk6kOaAwkJhphBU+wNFJQ7VJXiLktyZ5O8l+TApwU0qbwIylZSYpaIFKdGNeICSwQeQCqNpI4C6Ta8SE90IxmynUAAcT4kzGSXqEVSSeOUqMRYHil-CgWeQDIuIFdA6MmkoY6dL7VnK-iuIAEuaW2B2m+CWai0wgCmLGYRSUJx0haRmJTGT5HJ6HeEm0TWyvwAADBKX9iUwIoYkOwJT2c4yEjI5AWQKygBmBwiA70kwBDP9BQyNeA5eQOZJoAvTIZrwBgNMPXy-SORzQ4McoFRnCdjooM9odcF05f0BuBMoGZZlBkx83mfE2EvwDMohprAFMJGADPcSz8IZhM96KDLFK7l-pZYbmeSLBlIJxYuQaYBFGpDcQ+eh-boj8Ps7PQPAWM-mYMOhGUyTywMomcP2ejdguSKPUcFyXFkcBJZogbiMqKM7SDAgRsk2dxBJLzcdZN3MITaWYASypZbMn5onxECFAreDkTMNCK9H3Dx4Ysl2cbLdmOicRUo+WXtyPTcVaxDgV4fILlGGjkitIpSlP21EpAPkroyYeSPeg7DbR3okVLDGNAcDlJrvUpB4GLGoIqKIQa2W7PjGPFjQ4ohoL0EMRKCM5dBV7nrM7E2QPAdc02WC0TmLoeYIcm2eqMD4ZkkQmKFIvqM4rOymArsgefx1NHdiigFo+aJOCbB4zJBy0iSc6LdHStX4Ioj0TKQDmfC1gQCEkR3VZGwCKGc1WGEQFHK7iUJQwskQmIPnuhTxrgLyvmKyYXcp+kc-EZaDHgmVEQIdcBTfH3mTDs5aVE+aqB-mFzZZ9Il0dfIDGAhnehAJ+YuLxlfyZhB80UYmKEGGIXW4YyeUGNeEIK8J-8iaEAi9nJJrAVYH+WfMtK6kwFECpBTQArHXiqxtyLUfKD3irzZAFC6kCmLu4uVJUj828s-OMHcAcBEgqCfz0LH+srxB2MiUcC4WqKYW7vBwLIq-o6AmxiuEcRyKyJOAyx5Ei4T2P5Aby+wW83RaEHkWWUjFPw7gCsC7FOlyRVixkjYtT4uKv6lfA4aADYUh0jFog0xT+lXZjj9FH4SReAWwXLinAm41wMuJ0CJLjAMS6RTmVy4JLcF9QXLikpyXAxzxMLDRTePu4AkBZLoNpAZP55glQaZQKpWhwBkQ94wIYFiRGBeljDUSHS9YTDLLAcEOlSwoWg4EazX92ZE86itB1ECSyJA8+aItDQvHetdCTmbpfTLajuMuAFS92baLQkXSwJdHcAgopn4LUQwe6CpXtGYAiIcZ4WFmZmA6UAoFq6Soid5yBDpLsFOyh6V-JaU0h82JypMBUstmNBcJ58w0Y8tMg7RqWKi0hsG3iQrsy4lzfZVstWITJ3g70DpegOokPjBJfU0FfBINwOSNgTk1yRwB8lBQAAMr1hClqTvp56G6VFJemQQ4p+YhKaxOSkjTg26U7ST4HpWdSLACysqeaG5U9L+VFSyCNVKJUkryV4AZqVLFalCBuVI0pYb1IqCdNYmDQHqXRIymDSgBekkaaktHYvTJpQktKGM3VVCTqyR3SEgDMNV5BMOifdqPKtynRjd5Ckp8etLpDv0mkL01urOXah44XpWy8mbsvzHXTIpxtB1UGuOq3iEm0wADjIHeVOrThWK9gK8SVWcBcAG0j1fUELHZBnoqargLwGJS-BDSs04qZBHjVLTg1BS5IB+PtUAyy1+yj6BGvPGlptqqa1ZWWhGDwrRg-7fZQ6KTXnsnRsQrCNA1fjSSweca-ZaNLhUAc0Mho4dUQFLm3zy5iPPsHNDLCxqAOfattTC3nWZhBev+Ijq2qfHtqdgGU3IeOJWkrpMWPEg3Bui9Ztib1n5bmPQCZiU9xpPMj9SIA3CUt317iKUWeq3nFTo560BasZNfiaqhpP69qQDS0G0I8WlZGcHdNolCSbGL0U1X1Oj4MZip1q9gLOq3HpJW+gUbDamsqLPQ12765QB+Pg0XL3Y76-tc3PbkP9rC2UF9cwAqW5zc5X6rZRzOwaOqtgr8L5W0qrB3KL5U0U9dpPPV8aAaI-WhGBpeBfqtV4BHVVJpOpwbzANG9jamtQ2XR0N7AQjZavGA4a2AeGjAQRsw1+4rVJG1JlyRemUa061GxDajLbUwpGNVCcRdlCp7samYSGzMEBsGWAkAZUGyqdQB7mI9PN-qoDTC083FSgt80kLdMOi3vrYtGYdxKxrfXQaONGU5LYMBhS0IzQXPaDYikJW1SvJvk-yUFKlVrAapHk0rQ1Iq2ISBuxUuza3Xy0+aNu+pAKLqDZ7MbuY4WwLQMvHhpb2NgTLLSJqOWxDWt9KvaNVolUUqkEM2slRSoa3XBbN5UNOpNrrUwpYYnWnUN1pOagEBKBcH7G9E9jW8alsBBwNrB6UP54wx2lEKds6W0kbYPS-BLdqyjQ8PC-PO2V7GmEHbB4EtO7Q8ge3+azWV26YQ-gB1ZRgdK082Zy39j4JIdKID7WduTnI9nt0wymKKGShCBY1V2pYbDp6UmQVwMhRns9vx23Awd5w1yGwCF5k6Vp32tUlPlu2UBWZb2pHVuuPUg7JmR2k7Wzv6bacj1QkmFsztZmvbqAgO3-HzuiSbjp1CKm7eLqh1S7bYI7M8WZWc3ipihWtGDoFFl3drviIumDScwB0s7MwiO-phzqEmmtudZuk6VYAl1h8jgMK9ThTHAjvBPgRa1VXWixjJQu1f7cBNYjt1Q6bdKZQXXkHuDCCPxxu0XV-mECB6kdPwOPfzqEGlJQ9ya+lJrurJwcdd3uztTOoWB26TdNQ89JjrNgAxE1baxVa6vTXuqtpMEbNSrp74Xb5YOemNQipL3otfdSEIrnqsaAYrkNfU46he1HB97HxZqvkcQuIrsJk9gQVPeezrgZ6UMlAVDgxl11-tvi7es4VPgvCZJ0kpOozksP3hE6XOe+90PM0WbLNSUrpESonzG7ydc0hUi3WHsr1CS3Vm0jXE0nr08pMpeLekM4NUyQjy4D+mEaeP2T7CHap437hMD8FY9Ixn-BgCEFv0TcviC3HZHQFHT3j+9em0hahBCBT6P9GpNtfPoI2dcIm3XXrrLCnKr6JA3xRA+QfRKcJaEX4GzrLTUB7QAAnF0HFgsHJA-auQOiP9jcHwCea1cLOnoDKAAac1KUUhVvU4jJRU0GgHlQ+nwCjAghmQHezvaBQ0AWhkzcgj4WAhVDFFPFc9EEP9ryR4EMoC-sCzugaAAdRYvfznkqGrActUwyIb8jKAmDseyWmoHbXUhplsyxGFOFfWP7k1Sw2fUQa11TLJA-h6GtntxS579l3xXw1EcqBzKi9aYxrgKk739TNd4VUYKaD7CitB1m0LCHtBi4SBrO03BlWmF5DZGZek5DoLatE3lQOc+R1cE2Wvl75rxzGEfqoYCgvZ+jq3fLqAAA4vBNdRgfo+7U6BmLXAqh2jt2rjWwhTqWo3QUAmKmVByexoSnpzzmBYRgNaTTnl5tTgxbEtGWjgrsYgFTQWjjJNo36w659gIyiHZQyoCcNqBqyExgY8VJyjbGRq7x-o0LCWOXddBrmlIL0d+MB0RjRE9EGCcmNaCTDqaz3XOVdWZrVdS1LIFRTmN+7Txf+iEWbCwgOjKNUBpEGnVZAAqqDcag-OgZomj6+p7CAxC5rKX7EVqSYWgBFFnQUxNdPGodaUYbWxc4olRjiRBFVDsm6jDGBo83LUorVCxNFMk3ibQNigMD1JvTbSebmwwMTSEbE8MAAPkmkQkpnkqAaJOt0STt4qvRmp0b9QUd+pavVGMVNGs81UDbxgn3OFWmbovBivZeqb3br5ElE21i7reCTBQ0JwMFm2rGYfjnT-AV066sCyW6WspXXsFkbvZASZA2E0AAAB0sAEWgtUUDJ4ZEmYRrKfd7VTpNRUIGhhjFcd5BoZYz1gWNQme55JnsJaZjM97PWM5mz2HE5ROFXdBm8uS+AZQAAC8YQO9NM2k0zNCBszuAXM-qbN79mizl0Es8ljyOMl5lXQF1ngCZMJhWTkQBMyOebPjnWzkdHdkJynLGgpyxAKclWJhB3t0oiISs-Gc6Y7mJz+5nTotkCjHmDMZ5zDnOaFhAA')">function stream_flatmap(fun, s) {
    return flatten_stream(stream_map(fun, s));
}
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave_delayed(head(stream),
              () => flatten_stream(stream_tail(stream)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p48' class='permalink'></a><p>
      The evaluator also uses the following simple
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      to generate a stream consisting of a single element:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (singleton-stream x)
        (cons-stream x the-empty-stream))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_33_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBBHm1E1tlRuo+QGaK9Fui1R9+a0fdgh7BD2IIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQ40aMNMGeBxh62GPkS2TG+DjEWY0ADmMGEAlURUYlcK5DupgDNhVgiwSdFbHLCchIgdUG5i7G2AexrJMcdmPkBtjAKbXaysJ3wA7oh6urDIEphXErwh6vXfHqvBnEtj5AegIltZUxQet0MMwagkePXGfAhGUJAhs4H4jpjkQB4ocWCT9F2Br+14sNO10s45jz2Y4rUN2NAGslZ0Y4ifh8FnT-jFRPQQCROKnElNwJMEjUtOmgn6NCEYJGDpuNXFjBduh6d5D90mA5BMQrkbbuyyO7zBNAiHA8YhzzHeJM6U4kHNZhEhWw4JlgScSBMUDUS5xDPdtpRJvEUj0gtEoYRWMYlJRJmW4xzHAMii+ioWdFO4HN3grajKEIEpicJD8CJDCAYxeQTSCvHqUXhOqdpohKPEjirA73F0ZaNh4F8ieUI+iY-R7rvdme1kooHYQrHpID+Ewj3tAjWqjlEhOklDkr0aB6T8CBcWHlbAk5HinkH+VobDz0AzMCWUYWHnagUmgARSAACSky2AAAguAHABSYAASiKUgAAB5M+sgAkg7EIe+AMwD90O4YDMEekoCfOK+JtctJxVYhtSEaldjz25k-yUxwolxI2JykSduZJkCVAyJmCL5qNJHh1S+JcSQRulMyk5S8phUkqWVKmmd8+pMnAafQC6mWBBG5kmMf5NsCBTucQ0k6Fvh2kJZtRr6O4vINmkzcGpQ05qYIy9GEQ9RidehDmJlLU1-ShEuMCRIemIRvphA8auOMsAvS++1Uuga9QmmDTOxEM4cY2hSldsiiJAMzBJAAAMuxamFlAPCexhIi3Y9hCkoCIJpChM0kOjJXBWxUZlM2Im1jVI8Aopx2WmQMCpmMAvmn2PGT8CbGNivkmgWmVey7Cky1BlnWLsPy2iCziZws5Ogb2YwpNTJUUduDzK+R2BMooUQmSFMzpSzsOJMj3hVOdIEzNEQsuRKTI4EZlqYRI+4AeBkDxhTuZZPDMkPQ5GRpQ3PbmXoMyE6yawOHVyCLNgS-itonXUkhcStm2AbZ0geMCV0i7ITQ54c+MFcJU4GhYOjwuciMNjm2yNZJvRIRMF+FpJxwCwTIWWOeJ9Jeo6ciOdtAj4tCnZAcK1PRDpgE8PB3lI4WnJwLDC5+EsZuYv06HdCqxvQ7oummbHli7IU0UoDWPSh1iNSoQFcRLH0axAy58YPsaMniQ3C5yW8N-tHGikddjx1ZeeWcJQgYtd57RSnilAID5JRAf-TPpwgrG7yz2iQ5MQ+LVCjE4QvPWIdIBen89OhhYysTYL7nuDMxL0jhO7C6FK1MetYtvgn2i4kAdSHEmGfoN7n9iqxJ0dCT0BQrDiHwslC8lXMvHVAeI49PAJjQIVGxP5VYnuT-JLHppUFQ8l8vBmAUeSwFkwqBJj2gUISNByCoIIvJqBwKbBKkLeLwuMDviT5DY1+QAv1jz93YOchBHYEOCoKi5AJF4vgsIUOz4MymHCbtxkrz8IFqsYRiEP-lj835aCvyvhOWRQKLSMCsAfkH175Bfew4xcbeWXGqKE2kkncVC3rn7jLFEuE8T0Q-GtCLF28xsHeMqSpiWIDIXnhYpTrWKBFAHVRJeKsV+LIo98oJU-MoChLrFYSmxbTTAAELMa3i6-rzlAA-jPW64WJUSxMXYQEJYEkUePTAkS5kJgQUpWYtZISdKlgknoBJxqVsLnIzxLCSou3G4S-JdgVGT4GYT6SmCaQtfPemGWdtCZTXDYFMC0mMhUZRgiopnO8pfNaZY+RZW1xhGlMdliy4+ajBYIyAbZRQbAnkSwkZNAMeyxWfg1qyDLUZVE5drtnBnEAHlK4bCHRK2SZ0pgZqVyKjJpmdB14Ks-4GrIWCLKQkmdepeJIkhJx6lCE7ic8tqW0cmy8yw4N8pISLLEVQQYSQCWZkYRIVvIdSRJIcVDwYELiulPcCLYrK6sGMBkb8s1nkj5JZgcxMpPxXMSUMyUswKlIym2B8pW4AADJSZypNcEeDjL-w1TXqqMnUM9JsWpC2pvQiYJ1POlEtepHU11JKr2nDSoW00yoOqtpHaqjZN0Badyt5UCrwAG00YFtINVSqEZykNrm9IkaIJ6Eh05ScdNOkaqIJHwCIoTOunWj7wffZ1daMlpgcci3qr0T20SH4N1V0qj5S8LemRj9RZ2ehH8pFr+kblBqlZcPwRXDioZ4qq1RqpemKy4QzETRJSvhVNTlhFk6Nnau1HvT5An0-MnYurhGR7VqjP4WyPBF7QOCcM3aWWq7GQyOlRIZUZGsJk6he1iMzCT+Wcphi755K8Jsuy4nLtmplarWY-XtDl0JIjknLkoFHYbhoYc6t5UWhGFrqSAY87HmMCJZFrSq+6gtgureVLqvRWE49QsEu4sJb1c7e9dOqy6p4QVCq-geBK2V2BCmxklDAanVRJDLxEU9lV+uWQqAhSi3HaX3P8lXIdp+BFof5P4Hdqa56QUKUTytiur1+QUzDX-wLg9NVwBkIGbI21EQMnIAa10bD3KjdqfVXww9bBNQTM8GNV0sNY+wuLdrNAyo0jaYGkTdrl1Z5deaBV-zvJYNpgA1Yho6krKV1AkIaVbFmWyAtWYKtIGho6l-qbVWGpFQJDCkSR8N2EIKedOI1fKLAgm0YLTK9HUa7ItGyyUTymV3AmNiQFjekHyBsb6NIa5zVxqMgXF7lYERGgJvI3Wawxomu4XOSMX7cxg7EWmUKQo2HBMNAG9NUlqJYHdBlmGydgd27XIb6ptAWkdlp2m5a5ptqlmFJvg15bfZVWhVcVsen5bwVj9CoNtMq091Fp2U3KQVKKmlSzVaQNrctM61rShVPGnaXxsRpNaEt9AM8lNA3C5A8J4GdLYTPk19JytMmwhkhvU2fLGt0gWLSOqthtaTVgqjhPtv5WCrWJlnALcqPG2SqptfCGbTkDm215VyXMDYDFlqiPQjRIw7ZaNFpEB4XtCEd7UssGLHQ1ld0T6K9qEA8cPtLwq4es1nxPbsI21cHZIW+3JabU32r5gHkR3-aUdqQqOW-hB1jgsdEOgHXYMAzo69uIgLKJ4BvDsRKVOOisXjth304WcO+RLlAVx3-pydEmy-GRBYCvr6dacsncDug2HwXt1AdWX9oh0fqExyW5SthEl2SEFdbuc9lOutGTsxd6smPErp1Da6PVhMBQNep-BdEldGMWgEjuV16hj+nSwFQ+sbQebwi9bcqHuqLbRENdykUVcAJsAxZxdCwInbo2l3ujZd6xP3cDK90IQ6eqMWSVEvpkMjpR7axGPQmd3zrMdYeoQLKNT26MToqu90ZbvSDKjEdPu26IToz1u509dAc3c9Ev4YSPyYWxZPbslqNslMSeg9dmK90+6ZB9OKndJAcgVqH11a60bWoTW0NrdSQX6VbuAjAtm9N6rva00N0gtK9LSohLKgUnMrA1mEoVqSUZWKTK1XlIVjvDsSrRc9UQbPYkDaT16C01ADtk3tnUu7NAM+3-kmOpCTBUEbOwRmrBZ1stX9U5FcnY3zpUgnGVjRIQ5y3ZkoxpAe0-f3uJHxr61w4JcZXET1P6emu0dAaeioBEwwDywzFXDXEDxDgaHS8rjgaUw7gqu1UMcWP0YCxBgDpnWKD2zvq3it9q+10ZEuMgH6R4UMmvQmLr1saNwVBpzqMkNJT7Z6oAXg2Z2L51wC4MoFDgdQBFWwAAnE+F6jSGwRO+qHfwuphKGM8NaikKqhUB37K59EbZSoF03qKO57sKwHiUxkR9KRNgXaooETaJtyoaAJw25vPIRaDQGhkpkYbT7WGdqAIytQQy1Cxjvhe6E6FYBRqGEnhqcwIBof8PaHg0mgSQ+MBsMAjrl0gY5acqUAlw4N4BqtakJP0sAuDDutI2CIyMCGb9y7aIkcpKP4YcCHe95Ap1hBz7Mo9u6kiuHKBwhjmH81dVbDY6ngtgKHBo9au1CZHiA9u3Jg+HDUab6Io2doxSD8QgKbc24gdBHw8MbhQs6x-zlJ1ABFtLwYx0AOsZhqcN9QHhpdm8q4mbxbhGiy+e7GE1zcFumIGLYjHtDGGiUMWmTfFpy2FbKt1K54w32mNtHRicx3FhJEWMYkW2Vh6I8kbBGS0DjGx7tZhEeMe9YT6x9qJcY7n6BL5Ym9IKseRMo0djSUBgLicON-8YjMY5tTWpgNqQ4D+jU4zeo6UoHtgBQ7dc1L42EHXCItZiuSMENcS7cy+plUpMDX2IPOmXKLcYS6LDA6AB4VVM0dQQKbRI9oHo48vY79GXOV44Y+BFGMvcDSEx03lZVsp2Lqe3J+0Lya8Ar6BTrooU6bymi0mzQDJ-IdJGNMEB9TixQxLgY5rMUPhfJ7fTGLwIRDLOeNZUUKbtSDG59ibMiYoBaUAAdLABltbXsQ7j+AIUv83sSA0EaKEYyA4aUwzHRiogItCGcpVhmjuEZwSdGdjO5z8M83RM1GyvGTxqSJ0OHhcUICaAAAXrA1ADRmogDqis4RCTOunUaLZnJoQkzMbhszDgItIix6jin6AUp9cGGbjPdmqz-zNmgG0ZoGZyopQQ0qQENK4TFwibCiHgHzPzq5z5ZhM72eXMxc1z7eTc9uZ7bDn2oQAA')">function singleton_stream(x) {
    return pair(x, () => null);
}

</pre></div></div></td></tr></table>
      
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.7' class='permalink'></a><h1>
    4.4.4.7 
      Query Syntax
      
	<span style="color:teal">Procedures</span>
	<span style="color:blue">Functions</span>
      
    </h1></div>
    
    
    
    <div class='permalink'>
<a name='p49' class='permalink'></a><p>
      
	<span style="color:teal"><kbd>Type</kbd></span>
	<span style="color:blue">The functions <kbd>type</kbd>
	</span>
      
      and <kbd>contents</kbd>, used by
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>), specify that a
      
	<span style="color:teal">special form</span>
	<span style="color:blue">query expression</span>
      
      is identified by
      
	<span style="color:teal">the symbol in its <kbd>car</kbd>.</span>
	<span style="color:blue">string in its <kbd>head</kbd>.
	</span>
      
      They are the same as the
      
	<span style="color:teal"><kbd>type-tag</kbd></span>
	<span style="color:blue"><kbd>type_tag</kbd>
	</span>
      
      and <kbd>contents</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      in section <REF NAME="sec:manifest-types"><a class="superscript" id="4.4.4-sec-link-2.4.2" href="./2.4.2.html">2.4.2</a></REF>, except for the
      error message.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (type exp)
        (if (pair? exp)
        (car exp)
        (error "Unknown expression TYPE" exp)))

        (define (contents exp)
        (if (pair? exp)
        (cdr exp)
        (error "Unknown expression CONTENTS" exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_34_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4PyO26+OQCwl4Kwh0MGAcMe2kc4G+s8GV3xzl4wMKI4fsPR223V6+NdGVyWzXAcMUVDpx4gelO+pLi0KBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgGt6bFl+pXpKQHoPdEIViH6IwB0B04ibE0i3YEdyd2fZ4l3StgyyUtbOoHtzIAdzqDqJd1add0p1ikOZ98dyOYCljtSJFC9wdy6P9997B0-EN1kBNh6g7lnvErD4lmvYCIjSj8jXOXeAmREmD5IDwIMPt5IOrHpaDhpCj-mvyKD8T4T9OWUFHhcBU2ZTlqJB4JT5iXd50DJeZQ2Fz1Zuktzled8lmpD1TyD7t8T-wIO0SBT7k2ZakLGmL5z8mhZitjz3TF+Pz0JSkEL3pZr2tBDyGF9wr+5brxl5iEfPQO2-j3T1L9hSODz+T+z4+OLzt7bzL5nqZMj-LzrzpgYHL6BAxfzxrxGfYBcC2Izyj-e3TISYDLTzHRcfb-eEfuXZI4Y26FH-L2ZXr7haEKL8b8d27zT69yT572zyjy5RMjlsr6cCHx5nK76eHzOIH1kJ8o34OoSYScn6VjH82i3y78zxCHK7n3rqxRH2UJDw7zIKb6FoLxb6EHeJtVoLN0STz1+GwHx7j4sJZ1WfFBkImUzkRJv+pzEPlMKC3p4mf+2y3haXKlaUSQpSqmqs4Bwt4JuGpSj4akbmd8v+QLNxYz9xv9BurvJLDD0fATYqgWaCbvmmAGbgmecPO1gfwiT5hyqo3JLHAMrAo9na1-OrvmHNhPwPAMQHGLEHVzT8YmhJMgSnxtDvEiByaXBurj0B0CSBkwcrkOWYGqlaBxAhgQ-g4G6AYmLoPgZMEcJCD0G72EylQLeJsDqeu3SQY8UcKgkDgVA7IlII67OBCShA7gaQPKZt9qBjvK9vIOYYRVGkaHNQQsESpXxoMKYXFnGUXi6NGQZ4DlKzAMGggc8h5VQouEkBzdk0WQRgNpm5gcIWU7XESrlkXA-t9evuQwKVC0E6BrcMQsQS6gfJwwXBzlP3mdyEHB9Ve7dDoHrlu7uDJCng7wVJASbOCPizlPXERD9CLAWUogmAkIKr61YQusaD1ihkg4RDY88wQklUNKYIRIOgwboci085+9R+gKLzOlz6wL9PUAw49rBwNLZAWArCRRtWmDBhg4QfGOgHTxWFrUEwdAUnmYMBYbCT2oALYWsK6C7CJsE7Qkn2Slh994e3NOYY8EWHvplh8gbYa0zsCPCZwNw9PkqROE7D1Y7xGIMtCyAEMwIqw9YZsNeGnDpAew05udzniHCQWfws4fwAuEQsrhCEQ4bcKhpAjvAII51MiL0DIiYRE2PvhMjuEzYHhCwr4Z2FmFRB5hLqMMEYE2h5044MTfAEyKrSRAPhvzKkZICfp3oD4txTkbKG5HzDfAPI-doiwRH0jHgRw+DBO1xHYNsgBIqEXxj7KyjXWMfCkQQBFHvYqREohkchElEfQhi3DFPFagky9At0VAziD-lUH25L6GQpLKIIwYSCdBExIEnCOdF18shlmEFooM5K1MJidolITP0uFaBlo72c6qv1qG8CYhU5UMWUJn6wdlgCkbwNGJX4ck0xgwJMQ6LO63k+O+ALUB3T1JWdAQxYwkB3QnZjxnuOY44VoDMAgtby1gRUVIDCFpimxQmRQeg0UDFhrRFcesXmMeJtiFoKGTsVsB2AtCfAdoo4WmKjH8isxyLTsWSLpguhZxq4woPOIzGLj-+HJUTo2M3FKkdQG4n4UKl-ITsKxJYjoB8yMGwhVSWQfLvqM1EfUKBFxNGjqPgy2CewowaKKwney1cEEgExoIMHg71j4O+YyIXmhjF3VF0uafNNuKcC7jV+YErQOama4wgJGq9ctBBMMFncYJM6HNHmiLHXjd+NgdHAhghbNlHxkEA0QRLgnmM7x-uWQGIODAwwaCjYtgQDljYHiSQsHCbmKMeBg87er3WEfn0vrB4JuwkonqJLnLPlMhR6FbIOXgxjlYOxA2GJIGJ4ogOJYRcSX7n275peJckuQmEP25mAZmuLfXPtwxiPjQA-JAABJ4RJAAAQXADgA8IAAJX5KQAAA8nvWQBJYdi5sO0nuJmTn8icOkqMWGJiaEAWJ6k9iYhLTQgsBJ8UhThhIimJSoOoAASeoHiTAT-QjhHKaUDCm5dFYMTByU5NcnuSvJvk-yYVPD6pSmu4UxWJlLYECSDR8UzSaX20mZTW2zU4gHZE1FGo7w40JqaVPoCRSMx0UtgXyI5FaBc6FOO0e4GJot5ZuIYKKP+JKktcSYS0lgIn3TFOBopMfEKbNy2k-ZJph05MaaNsl4FVwfoEgAtySwAAGSBkwntJiwu2TwrDpWEoAHBCCn0+6ZugKhJZbpMjB6YJAVI8Bl8a0UGQrHBmMBHCT8BqIxG6QQCqBsM89vAN+lviUMgIGLoSQxlukL26DDoJ72iami7wdgA6KjNAhSAYgC6LthbkvqEzD2P0joNsXekszvpr4X6ZAMt6vo7AYwRiOoFfjBCDecOEwWVzRzCkq8yMmmXD1KFcyWWbMs+vrmnF7tpZhJekULJFkSs+h4ZbWZIGFlyBX4LoTzpjhKTjCzeyiQ2cbNfigzvxEoYMM8JO7IhcgpQuQT8XTICyZAOsk2ayh56hcwhM-UPtYByy1iygVAkOe0N544gyCaQmzPVhjl6SohHgOIfQPqJuiHy0UhOaWQbBpyVeikzoPWU8TFj6s9ZIiLbN1lxj50HgBoRMPuwjDvk06QkjPzLGApPEVc-2TqGjlosu5pstoj9yB4EAnc5BefgBTO79y92sHHsZaMTSIxQIQY1JhMWtDTS+8TomIenJYEJD3RwYnOZiBywZDsW9fXClrwmjqlkJHJGuTBHqFYTsJ1gVeVdMYYZcmhCLMIdaHTS908AiNH+ekktybyXR8QrOUkkflejxZOII+b6KLk5CO5-uc+SPBglLzHwR4woNfOeC3y4W92eFm8QtmBjlBcFJ+S-JS45ZnZOOKQCTEfmeznKTxb+b-PAXzArxVYm8clyTmny0uPDJBcN2oH7yAK4FIuCQGNKXyaCdPRYNLyulsDCx6nSsdJDInFJGFMimsU91k4iL1YzY8YqOI7FSx255Ey2Tw17FLAmyNIReYsBUXRSNF4YGgqTwDHmjq0c8wxZQGMViKTF000mmAB-mI1RxXfLRdsAWBd9VFQmARRfMQUugTFNbNcW6FEVhLCggShBUuNE7fD75dMUTurBQXnjHiWU+RR3TUlSBQZvgfzAkS4lOxMirsfJYyBTCgz8imsDKBoCYwOy2Bx0B2e8VhnXQ6l+wrbLvGnBuhGlRwutnIGFlwgvgeBDKhOyyZdLGZFMiCtA1YQfS4eoM0CTOx9SRippcHBZYkK9nry-coYbIO9lBn5oqZnxdXHTNyAOyasw2eBYRKXREcgUMSoRahIOnEBUlek0MLFKjBbLqcDsx5TYFwk-FoZfPc5QxMmbSLqxQmBURCzkwhMFlDM1cNdDeU7LGZZI6ifYFokviblDE66fYDsmOTJAHkxVAABk8IAUg3KUFemdF7Ap00GZnESlry4RsUsYPFIulJShMKU1XjDATAUqGVWUoqfEnZXvEuVMy1yPDzMEVTsVeKglfVMtCNT+VlKpZU4BiZ8jBGBwCnO1JfGdStJEsXqWeKiJdtBpPI8EDH2VU8jnaMXLVVkB1XzDwQjssQGg3ZVUrxFZg2aUyIWlCpdl3NFvGg3mi5K5lwne5UdIpwnTYJXbaVT6qumWr7x+mVcEWz0B3KopyYwSa6xmmajGR80lkehUMqurAU8qpYV0EJGjSzpEU6NcsreKfLvkOo61YGqjWrLbVv5Z-K+U1GhrhMGgUGBCu8CFsFlYYuNUzL9yWxhA+aKSZVwrUtqpygIcFUW2-Sepu1JABSWr2LlCYaQ4asYJGqLbtqqRWUidbkG66Zxh2tayUdktYmwwIBE4tpdyNVIStOxZgNFnLgsVGT61hgK0mMHynvYMG9Kh9X9maFHK2JEAl9U70voGSksqq7qRLBfV+8s0PTOVCPgfVxr-6PaA1eKP259TxpZqx4GOpSCLBPsYPeDdtIGlUjuCgKQkg+sGA6jQNVMkROlORUmiWFPOXhebFvV2B+VCQ+la0sdFf0ZV+dMljUReUkwTlB8t9XuphgHqWNuHQoFml-W6o2JXUkeD1IE3AbL6RGkfLDKpFQbm0MGoSXBs7amrsNZlVDX0FU0mqZAiGlgDhu+QEyu2BGqGrJrlDya61c5JuXPz4VnRGudGq0nmpJgvrCl-KsZqRrTTaLikDm3JS+onYOaH1Hm-qe8UC2ebgt407TDRvvWeb6NLKiLZhrnJZpMgY0zDcHmFVVTPJ3kvyeABqwZa3JWW2qYSrw2ebTN9NFLc5voDGSGwgIMJLeI6L2biu7mxjb6Xy60bYZT6+LVxpTl5oKtFK-NMKpxX4rctmIQbaKuK0XEvVOovrYGuq04hat98XdZJTTBWRqCFGKUeWXW23EScK26ENhhiY9zgMTSxuBulW0iBM462tgWbKO2OE9MBmNcBIDO3eh9tbmzbTdpEKaEScy1J7X0Eu1mDDtnCRwh1m+3QgLtR2q7W0Xe0NaKQDUHQKDC6CRq-tcIgHfwnNhswcY8CKruDv+29CodxqENCwC6wvazB12wHUxJW3UB6Zu287currVublttAH7a8sZ2g6jh26+YROwp30yOs1OigJnF52TxNxI6yFWlgF16ABdOGS1mks+IrqzYWm52vWxTDC6W1sRLnWmhJVnRvtlO3ICDpp2xqV19O4xg9roBM6dpj21nSC1BXeclR+IsEW8NIZJ40MzagtoVlLi66KARI83edqnLs65R7fFIDqK13c6Tt7uqHKHsl0d9pdTwDtV2Hl21bGAOpZXQWw2qPbtdtdO8LDssRsJadkohNTyKTXMi6yUexLFNil0pBAWSellJnpabO6WUFqYtYUERVPi41NlahVGw6TJwHxSK58YapwVYL9c8Gf3WEF92utRQce5tonqd2jrBg1elMVt1hghhPsWOxYDE28zo7lZy+uducGsbqM7GaeCEluVg6OcN2gBXKTnvmFyrE1c0wvQ7omSFjS9QqBfT0w5Rn8+wjg+TGfuTHFqb8V7H6j8LkrKAn+j6Z9GmJT6MAiIx+szglgtWqyrOTesjeKJwU9oiIg+v1VZRXVj60NgISA85ws5K6p9Cy2IjgfM40D5sWaDaEh02qrD80AATiqBL8JAW1FvadxbRJwqDa1ONeg2Wi+AZ9gcnjQRRJB6U9eOWfOqcCemhzjhjB1YXoATYJsUwaABQ8hsaEpc8+Ngdgz0Nrh8Sm06hzg3RASZ8jkIU5ZwLDVMLjzrZOhvkXobWCDAKDxuravWvUD9LBlMEaUHevP1yiJF6BzUZgbPZ9K1qzh2OECEr2xFHD-h8YEMvT1JwAute21MQC03XFvA6QGkBPQR6X1LY+aZjpqhaBIcAuHEvKM8BiBab8mFQC1TVhywhRGASR4euLXU40h6SwoHnuoedqGQWjV9WjispbW6oijoAFo6DUqDebJDK1aQ4u0hWWwjQoAXPm5TDmxoIN+XZKPeuK58YxjPPXzZ9Kc1Bawt-UgBEAmWN+9yjiRpstUexbuwqxjIcEDHKaMg1ejsNB9ZKEWPszrjLRkUBMd0rmApjLxlQ+kkuOPHYaRbbNEugYA-G+jfvCwy+KbR8inV9lNNQ-uZwjGW1t+5nK-sDDv6o1YYgjYAYIBQ0bEUSyvaic726AaJPe8UV+NpEW87NFINLDkDoCMQEmhRz7J2qiHpGksmR1jrkdyiyBYjRR7UiUYaE3ljKaaocricthxwu9zeg0SSbm2dCnWkapEw4MsTCni4RWQ4uid-301sTsHftWLM9TqzAOQmAHVlLkqlDAQD6F-pbN5YcxP+cId9FpUcIbrTBcInUzhxBak6DT9-HwEaZNNPouG5pjqM4A3U2nPQ0RyNQm0Al6BElAAHSwB+as14wFhPgCtK-NB9cNSGu6nLRyGgQFRpIxlSqBBnIVIZjCWGfvmRnozLs2My6gTMcSUMhAa4lOQO6ElqzoAAAF4gNQAkZuhjGbmPxmXWP+5M02byaDp0zgITM02WzOWsbgJOKkzSZ8AhmOzcZis7TX9aREuIt8HUqQB1I3jDQCbCEHgFzPwmZzpZzs-Oa+qLmz2OpDwKufXMWrBzIoIAA')">function type(exp) {
    return is_pair(exp)
        ? head(exp)
        : error(exp, "Unknown expression in type:");
}
function contents(exp) {
    return is_pair(exp)
        ? tail(exp)
        : error(exp, "Unknown expression in contents:");
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p50' class='permalink'></a><p>
      The following
      
	<span style="color:teal">procedures,</span>
	<span style="color:blue">functions,</span>
      
      used by
      
	<span style="color:teal"><kbd>query-driver-loop</kbd></span>
	<span style="color:blue"><kbd>query_driver_loop</kbd>
	</span>
      
      (in section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>), specify
      that rules and assertions are added to the data base by expressions of
      the form
      
	<span style="color:teal">
	<kbd>(assert! ^rule-or-assertion^)</kbd>:</span>
	<span style="color:blue">
	  <kbd>assert(</kbd>
	  $\textit{rule-or-assertion}$
	  <kbd>)</kbd>:
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (assertion-to-be-added? exp)
        (eq? (type exp) 'assert!))

        (define (add-assertion-body exp)
        (car (contents exp)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_35_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk7D0WM8VmVdlERGWKsPQOjaY2AAPzfiMXDEwJjrBEW8MwHwrMUwAFViBRWYYxZweDEb3GcJomQBEH5nTTAJRkmcdFKL0VIAxjirE2NAOYl0xi6Z2MYA4yxiwXFuI8V4wm+DfGgBCa3QJZs8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJ4nWHMcnPwIzQBEQeOiYZdNRnxQyFFQgiw3xImHLaHachkSolBOUQYnTrHzKmQsXsgYqLZggluZUkzzGtO2Wc0slzNwdOIF0yZ0ypAgQvOBF5cz5l3OtFBJcoELkbgQUNQ5HzKSI3NOvG5xzAX4zNDKeFqDQBQuOZ8hWxAmaNBZnknx1z4i3IxUC7GuMQTbO8RzV57ysULDmuUUlT95x6DmgtCMS1vBUPiP0SZxyUgcuusyflgrxU2ExfM7FKcg7-Lpki7ZsrbRjxjmXDO+yMVvKOdKhYd9mWIrJfjfVkLtXQoiD9eVhRFVi0dHSnVKTKSLFgZgkmVqUjmPQXCIxAyBJ6FwYS2loqtVdLFRK0Ios9obMzvI4NhyHWFFSekoagJXHuOoJ45OcJGSqBhuILxvqAkQ3Nl6-1JBBhsKrpQfAoA9D6OiCwSaIVJBsuEIaSJnccRev5pQRtVBm2tvLZKRglCIQ2GqBiuQshxA1rrVIbSix9K4pbT7MtxB211hsL2LEok5DkGOEajQ7TKLXTbWG8N8zYahK6J01YtAhR6AFRemwlFcqgmWpnM9T7n3Dsoeen98zcFvLvaivobaPQpGnra2MUEbR6ARrPUw37zHAw2Ti0JfQEN7oTbqkgY0YidCqOOyd07N3WHsdQHwwgsnpszXefx+bJTOrkHCfM471FF0jYoaNGS6AHO1R2r8zDWEjvCXDEOIzzElDkCMoiMSfVtL9UIuRI7eMmH46G79NguOwZHJnBGIjRNqY0x9c29ycV4rxtSwNBD0WHMiVBqIMF7maD9VrQm-NOiavjQKxVrnnjub5sWbzZrBV2MLXoQLOs90ha6RjO85nlXBxM5E6ttaB4sCHiPJLdddEzDWnh6iBGOhEeI-IadaW53dGXuqi0lc8uFC-C549JcV6gwfXXfohzSvWAneV8iZGt3+n3cplexhdPkSODTcVzWlOtdq2iyeXXtU9aKLOi1joJv+vm8SCbG6n1flG5EcbGzVuhD61OgbB21qJdVbbR9z6DMLZ7pXZbcX4m1HO56bdJAUWdAPXoMwRwAB8oBpNVHNjp37sKGoHAOiHBz3CZ5z3hzhsxYOd7xLkysHw0OBSw8GFDkEMOvMulR0aAAkKEDjZ06CmWIMiQg-Znkwl5bWTElWIg5ZQh2ob6Zxn7wPcq57bOx2NaR0oTLw9R7R3u3XJ9UnMfiqIjA2Ugt6eM+Z+Cxon6dur3LtfA+-6f105yJrsFV5FZPyS1pgDqpS7NwN2zg+EGyuXd51EnFJYteW+JUh8N5jAaPJ91ctZ-40eOoiN8sCLPbP+4vYHnk0eLeh-hNWd0tuTng8xLUMkSdzMmupvZzd26yoHv-iKn+mJt0n3UAwKbpuGf6RD5uTOZUxfWB+8T-HnR6-v1LntPH0ovO16nR35Rs3nhlWN4Kq9aulDAeYKB9lkU6+DCH3SXvJnD756BZaovAnN1fifqh6CzxbeT-g5tmlcf1OZ7pvG+Lu-kUw46wfrpkTt0bIPZflFQottxoraYgoph5bZ-4Whh6aobImarZfinY04UjmbJ7Ph-Lv66IgFp6KhbbIG-KViYGZD7LxKX44Gx6QQbKxZ34P5AETrWBmbkrDbnIoEQpoGRIYFbJbbB4p6biQGipEERacFMGvjkGAGaZUHvZoRgDlKxTVIcB1LcB8CeTNIUjNCMAwQwy6Jfh5onBTZOYyBP6PyqD3QrpfR6Bvrcp5SDDT4hoaHhz-AMyZZLpdDzhfyZ5mH2A8qWGAJwgwF9xFwRALqOHGHej+o2FbxOwAw8j4ApgBF4ZBH0T1zOCvqLTuErT4ChE4hGwSxRGgBSwyKJE+wAJAJpGI4NiZH+qDDqx5EEAFG3pL4PrFFH62GWiqzZGmz6FnQn6bbkFFKMjpEiwRyn42hfyFK0AYYJELCDEwQbJ9EXwRH-DQFAiTFgjjFLHoZ1bTElHEI-hlDTE75FyBzVQ0i6AL7KAgYPrF6YhfhJLUHmxHaVJ7IXH5aSJNjda+EtJkCHEPTer3FPApbmDU5PE4jyY-GHTWGijbphSS5ZYnFnEWgHrZ7myspcqbLVh8b3hn4I6NENjyb4FTqDDRrjEglh6frIlTAAnnwWIgmEnIkTYkmghknZyAnzAuhUntGIEwzXowl1F1a4lonWhokeBUhjCPEUlZC6AjDbSolA6nBik6ASn8kR6hDmLyZIl7K8n4l17qalRCknGKk2BESykSm8lmAAA88UsocpwwegCpyGGKaSlGeggIAAKhkOtDkGlBQu4K3MnCsrAp0ERAxAANTTZ27jLRC6DVrerGmgDBnDFBkhl26GDhlqT4DeoKl6mhBJoOnOmun4AyCMS-pelhI+nMaUD+lAgxkJkAZJkxAplRlbII6xkpiVn36hA1kRmpnWmal7FnTVTUDLKrK4kAFbJ-GYgJZvLdAZBbQikpB3iN6SmKh8make5hBQbSYLmZASZ253ITl9lbStlhAHHUBHE6Bcn3p1Y+Z25ES4nHCnA6jGkHkLI6g2mhknLzkzgNlakujplnbsZ0yVadK3k6HnCDzS61Hnm9ErmhAUZrAjlAiuLpB4ZZrVgBnj7nYkZXbirbogkHp3HIlGJAHipfjzlEm8n+qkkz4AZEk8ZUloV-n0WdrzCdKTkcIEXiFKGmgw6gHCFwXWijmhDjnKAsXTmH7xJzn04bl4nolj5QUUk8JEifmZ47lCV7kPZ25HknlnnL6XkXrXlbJAUWIPkAbmKyCWjPlr7SUZmOrvntifmDDfndm-m9ZVmpCzqAXaFZRQlgWL4QXs4zb2mwXVhZKIW4rIWKiMbgGMglJOWgAXakZPrYXIm4XzYglsV0WQZrQkU0lkVUmUU-rUUYnkX0npWxU56XE3a7lTlpUYxlI+wVJVLsC1JcANIYAcX3DRINpNpjCDrrpKKOYUxXxropjwy9pdVBIUgjV9qUDNq9okQG4vJtp9VrTHTgYYzbqTVdVxE64HqAw2KAyAgajDE2AagSqUFCoRx6hHXWB6inWUX7UxJXWgAxK3V7URyHiPWHgvWFD7XyXDHyXHJnVhD7U4x0AkSqCsaDAg1g1pTzKA0RoRwwVXUwXipw3aYRwbQjCsIeB0BfwY3DBY0MB0yo3WD7WBmPU2B6AwyDBwhA6g55rBkw3E3959CAiGTk3WCU3U202gB5qGSgCM13URwABU7NtaVN-N3NeaQt-N1gTN+1wAotnNEtxwdNoAYAAtr1dhAApIreLTTSrTzaAFrTLaAHLRHNoeTUrfrSDobR5TTYLXYQAIQnCW162S2gDO1Tb22a0s0mm61c0G15pmnWDe3fURwmlHDs1W3u0R0h1m12HA7+3K0215qg5x0O0s3A6R2DBhDR2B2gBZ3p0+2OmO2i2G2hA23WCO02DqE2IQjrWdX9rdUFG8nHDxIbRbQaiDAbVN1bX+j13DZPWN3TXN1fTIgeBWQhg9xt10wd1roG33XD0hTDErUkCdh5WhA90j1930AQhYAN2jW93B596Az7WFbjSdDDHn3FZM2vlA0RyQDEDjR0QQ3WCP3P3Dy3131o12F42SCwCQBXV-0ANf3f3M2Ol-14SPWQOgPf37UAByqg8DotiD8DVlr5A9-OW9zanBrdRw7dm0-qBtOoaR3dS9Ywx9mDhgQ9h929nB0aM9hQc9NaNtK1hoZDtDODDBYSe95CzGI82Do9wR1Gv6V8MxTGJEI8MQkghWjALGtZkgVkqgagdO0QQ8al4agjkgs1WQQoC1a9G9hQFCYjFQYQCBEoplKyWlD64jc+y64Fy+tuquuKph5DO9xJgwj51gWjuDdlTjzqaurjnDQjlY1AE9U9aJXjNDU1XD6Y5yBJhjYQkJoFI8DjQoZsEJ5wOg1Ugp1KPloGQu2IqyaTdWe9tVX09VcUNSnA9SGArV5sISEYFAkg0chgr4G0jAr80e4j28ng3gz0dCLY3Tho8S5ix0DlIKWQnYlZgIkg8Z7ZdZAz2xXZkzMgnYWOFiEzZ4oEjCRc2kG0o8b6AkgsUQtZmJ5VDYJkpA7gs87SBgFapApA3NDAwZegVzBlgIDE5inzJycZlZVzsDgqnz38yZ-C5sbMCkUZpzugFaomsLp5ELn9FgFOFzOICzMzjplZ+z80sgRzXmc9xjiL3hv6B8MzJggIVRRL4w3gLAbzI6PTyOZQFCip3z0m3EkeUggMzLWwmwWAVO6WjLiEdLkwZgQQmzbozLZgntQIpi4IoztaOo3LHlgIsrvmIxjITTlorTlYHTr8zLAqREVW6CcCLy3L2wfLKQMyzwAabMRKwr6z-LCSQImLwZVLy0tLirRmkrZgwZFroQDE8z7Be0B0a63ocs+SuQkrLZEqAblZbrNLSzQr8i3rPrfrNg4I3Ejrcmsww8jp718LZD9g0u7rIzHLC0hi+rCqQ9Rb3qgID1hOPInrkw9lEr9LWp8bjALA1iFOMq0L+glb1qQIAA5PGRQjMyO3y9eX25Gfa5SzmyPNHIwN6ou-rViT0uuU8H0z4DqCu4C+GvtZJHGZRnGcwsKGgtSN4Ge4sbPMsSMxTsqfO4m7uy2y2M+9W5C9S524qdmzW0+yOEu1+W6G+1S7u2yRKEoyo6QGo5aGhvDJFOzBkgy6wqWa6rkMkoOweyh5uMMTa0TFGDook6EHPRB1SFB5QEPBNvzPB9SPC2JosOs2WyG+hx6uAyq8MUOcGw8VYt+xinDGB2ICu-KDmjDFR2RNSIh6luttAlhwgjog1thS3fpVNvEhx7suiLhxG4h3RQ3dR7IF0GwgenPYJ-CMJ6J+zLR1p7+Ydop9WB8w9fK-JjqHB2J3pyJqOkdGAmUM5+zAmJWqW4mtUWPTecq+9Q58wC5756Jhs5RMF6cICCR6o+RzB2fuy4O8CTZ4qIRz-X0Al2RxR7B+Fwh023RwBDx+l0F3Bd5xe-p6JuPnFeRJzq4Fx-Rw1l+PtbK3HEG2p9otx6tvV7zk1nx2VRIelFoqHi0KBN3UzpKKFe0OQHJJUnFKQMMJtMtKAJ5LWrIGdJ5GgDt6bG1c4PyJFHoPdMS3YH6IwB0Oc0yT6Oued5Rld1ZeYtfbDgaxitbOoCdzIMSzqDqPd5dy7raX9yGA91ucrpKNSMd6dy+2UP949z2RSE-BN1kIDp-oPaPhcKBDtcLcjzICLePneH2QOV9yPDwIMKd5IOrCuduqJB4Ljwekd6QCT5IGTyoi2Bj7j67pa7OrT-Tx5S950A1hlQ2ALyVh9hhbJZ3oPXDwz5D0zxT-wDDwYBpJzyVa5bWjL-z7ikVrDkL-Ml+KLzFehf1pL6uWtC6HD2rwxWEJ9tb0fPQJe8z6zwrxqTaHrzTyr4+LL3pPL99yz0rxz4+Fz2tpt571j1r-hrr6b6ZRcOz6vtsrj1l3TPJoDBT6z-Ji79JSOOw1E6EC6IHzs8H8b+7oNikNuprxDz78z4r2z0SGH1M1b9YJVpr6cKLw1o62EDHzOPX4dGm6GfJhn37zX9MUn8+t33T0Hx6B3-16X-Ml326HD679n0b9b19mvy+knFDVoMt3oF2yucfh80TysqlxKoHksisrbkRGwMqzEPlMKPfuYrf5e-flmT4CwDRjkqN94JuIxrj4En16i3mBb9yAy3NaoPQ4Tf9KwfPN0kYVx6A4qg26ObgeggHjdHwebc-osHzDrVpuU2FAdwTgGAgn+jAYULwyThPwPAMQHGLEGjxL81mmxeYPJhoFZ81mVRCgbigUbR49AbAqgZMHoG0IDg3A2suMUEHHFyCIg3gWu2ZJuhxBwgygQo2kapUmBVJPgZX2O5KDSSVROxgcCYELFlBkg5wCqUMIPQ5B1A8MNsyyC0CtSrJcxu1WBQSd9BCweMC7D6BOIZWxae3t7jPB+pXBIJdfMQBCpdBFwkgFbriiyCMBdE3MDhN6giSz9GudguTqb1LwmCdA5eZIdowZypUfBGg67A2HEEGVReSlUACQACHApghkkMIRkkGBUlM8REP0IsG9TiCtsMgkqv1ziHyYEhs-G7k9RxyRYohibOToMDqHeokk3HFoRL06EUlWYMVW3r1kAHOAhhiHfjrCCiDZAWAyHLRMumDBhg4QXmOgKzy2Hg0EwdAKng4PkoGApY8rA4TsK6DHDAcGzRzghD2F7sOazzFYY8HWHz4rhuwt4WsJnBSxR+YDUIF8JuHqxxiMQZaFkGUZgRthuw-YfIEOEgikO65J4ZcPhHXDpA-AO4Y6geG1x-htuVHjbXBHeBIRzaYEXoGBEYjAcAI+ZASNBxJlVhsfIkFLFMxzkfhLaMMEYEIYiNruFJfAByNCSRA7AjwXwEKLWHMMh0B8KonyK0ACj6RwouUXv1OGCsFRLLDHKUA2ZEi5G2QUkWiK8z3kfhzw2kQQH5GyhBRqwkUQyOQiijOwSw3jpyWrRe5eg6xMwY+EhpaAqhpJNHvzjyFTZGhCg-CuoPpKwE1oPo1vtrwvodB5WWglZuYNBKcQb4TAekvcJlHeAGcGNHfo0LEHJCtS8Yj0UGJsEGCUxTgSQOmKtLLAExuYxMU8HEY4VlW+ALUJfRcro5AQ9YwkJfQ2ZjxPu5Yt0f4HlY4VaCZbRcKYS0BmAoxHJefA6OLBOiK43Y0AJWOqFlsB+I4nlgsHkzxjVR5Y5aGmO35WkXQ5Y54cchdDrjqRhQTcamJLE7jE2+4k8aGR1DHjc+F6WihsxbENiOgFLAscnFrJZByAkEBUZTXEbyZxaRo6TAj01ijBoorCBnPyEvZRhoJxAxoIMEE6zjBOeg6vIPVLG2pd0+6KbGeOLGli9ASE90ZXxgm0BPGgI8NChOyFdCMJWGbCXF1bHSQT+YQRXOqOspfj7Av4n4bvx3GYTEMoEsQIQFkDpDgwMMYcX5TkpSAFmV4kcfxOcBzczRwo07s72+4nC0J-OPvHNxJ7KS4QlROYcnHyHhjisTraTG+VtGUDYYkgCniiDEm6Jt0p3A9E5xHHBiwidg07mYG+aysTkp3DGN+NABOkAAEnhEkAABBcAOADwgAAlJ0pAAADy8DZAFNgRJ3g8yIA-GnBNZxiStxeY6sSoMEljBzJok3CeunlbySCpvnC9vBMVhFSeO8k9QNsnSk64qitU0oKwgqkZTxGAUoKaFPClRTYp8UpqfYGEmwxypd-HXJlNTHiN5Jf4gqZZL97WTqp57UabQDsg-D3BgiSga1KWn0BxpTgbKXQIcEKj2RWgOelpnjHuAVa9+ZbiGCiiQTNpJE3IGdPf7dCFIqYvac8JSnLc7plU7aUVLelmxfJqhVcH6BIBrcpsAABghx3gGojEMWDe3WEYJuClAA4BoThnAzGQgkKbIDIoZLo1uwZHgM5JxBYyFYIM7wFUSfjQzgUsYmMa6NsBwzjWqHbRh0AAk9C2O3dHoUTPpmIyOgSvYZrJKxAHRKZj4KQDEHgw3tbJ0vOmTJ1fBIz4S+ZWGauE5mVgkZ8AschojsBjBGI6gV+DEPiRQYhxESBXDALGAUzOBrgjmVLMghIz0G2KdoXEnFTKkehKwjWVrP6HccbxTsyQJrLkCvwRhLXa2bx0WAACuhHsr2a-Cxl8zgwGwq7siDQ5wwNSqzN6ZEnozqzPZLs-afEjiH6z9s4qACh9x2IujJuGKbOReiuKqE9CT6GfpnlLypD2Bxxf0Q8Tekr9heOIDwAZMj6dBHy5iesZdkfJEQQ5LszMWfi4FF9CgtQCnJXKIoS52ho459IkhTmhz+h7aMVv3O9lCs1m6DTMgQDrzly6YMw0qsHPnlpyrEtorQdo0UCLpEYoEamYXL4pVj05oQJIbXJSG+i0h9c9EIGOrGrZKseQ6Vm3334FYJoqZC8alK4FpCsxT8rUg+NCC3zWSVZVoVJzsHWgN0d9PAELTQXxJH5PAmuTwPSEtoAx6gRubrJDHJCPaYY9uZGPtlFDAFI8fCTQKgWlQwFQ8mQfygpysLrAC4sLHaMCY6CCFd8urhL0qyRy1cUgEmLfI-nryLAatMAGgqFpEKGwL4tsW+L67jC5FOIaMTwrkCEKvseeIuCQEjLAKd+iwdPjX1QldDax9E18UxKVIURLFHYvOaYWMWqiQSGor5OGAcUzzB2p8h0RfJpBXyjF3dExaSRcV2DFgVPMcfaPPnHlfFKPUJd3VZ7KCpFoAGRcEoH5SwVx+iHoaEtVF6KgF+EvcXiLvp7j1YN4mwDkpoWXinOBS8iYUCc7FL6FdMJ8Y6gUWMSzJUgLGb4HawWgkOTgwao7iFApgsZ41TWBlA0C0pw5Kg46OHJWJwzro4ypUftB3hCsLeYs-zixwPZyBNZcIL4GXLlaOpxmC-FZXzO7TzR2lWMxCf+wEZFjiA5y7wCPFMV85qGoYbIAzixkHo7AAs6PMLNyDhzVsXefRbRIPTfoylBiq0oRJem7SoFaYUMIJKjBPKzc4ckpWEEon5iuhwKgFXWNsVVtpMHYwtC0wuWizVw10OFS8rFkAiTy34ziaKL0BorXIfE-6fYD8mBTJAEU5xAABk8ICUtUXIEhmCJ7An0rGZnF+l8LcpQkgqTtOKlVtSp2vGGAmAFXiqapg0uqfLNcgqyBERcZqdsjlUdSmVLK9leAAGmWgypXQOVdVJUGHTnGBwLTFNK4kzSrJEsBaVAsBBYyVpoo8EEn2tVUrWZ17LIC6tWHggjl-DZVYKquWJyDpbI6UZyP3LhpXlNte-McuVUErQSQq3Klpg+n40TVIavhXzJpCZZVwK7AiRcoWjgrrld8hSYqL0mHSI1J0hpUlVjXipzVATTYbqIODjR9ObUsaWCqyl8LEVEqI0d2jlWdrXpWavKqRQNEnzcV+aldntLLXiz+clsYQAek0n+IC1tyrUoCEnx4rblbGCkvOpIBtydeHcqtjmrmqbql2K6pdtOpVEbNd1uQHoi9jfajrrRrSoaTDDQH7iVBXOPttJJJCJAAgCwIcY5JJC2jDAlGMYA1MtkM4xV4G3qpujiEFS0B0G4uWX0Hr2SpstquaRLEQ0xVt01zNJBAWg1lrGGAGD1eaOh5AhoNvqx4NupSCLAmcJPRafdMo0sAXC4qeTNBsGBGjcN7ykRO2spWrDg+E89jGqtpw-i7Ayq3BWKrmVqTqGRUg9FCtGVRgflHOBBfBr8VXKkNYQOyd9wPToaR4809TdhsHpcaICRMhUURp-QkbFJ33AZTeyY3UawgtGvoGRqdW2aFRLGwVPJjOW1puaxmuUKZoNH8KTem6XPAd0lAdBjVcMyjF9IQSIaP1bSm9m81429V5W+wCLSj0Q0bNUt0W2CUlvGJZboNiWrabohA1iaCN0jKDblt+XgC5AbaraX3k6khSwpkU6KXFP1WYgGt3U5rX1M5VsaktHG7mpkFq33Te4XQwEP2XfHCaKQWW05WLMiQlaxgRM8rdKsTXj5t0g2oNQega26qOVq2LbWyo5UHpPNN7frQbXW0Crx8X4MbffGfUpMcUVkVdKzB5GMVbuiyx7YSXmxph7tIgNTBMoQhvaqiT2T7dCDo5PblEvssFlAi8ojwQaX24Im9ri0LK54-2t4hSCOww7oQP2hwTqGR2TaJQT2dHSIBB3iNwd4xBqDoFBhdB818OrHX9vEzjE2YOMeBD10UQ06XidOqohQhYBhJMdekknbaM+3UARZQOwnZeoNEI7btwu4IpLsnh9jsqPwjZgLpFmA7aAsOl7NLpDgniN1+ao7NLt6HEBVdGuvvuKkfX8azYjmx0oexTBa6LlwxRXeuh5VFwYdguh6RIAN2i7rR4uqXNDtd2roCdFAMHix2xWR50ZWoqEVRBhGWrw01u25dtmERrgfd32v3UtlLUqiWFKQI0U7qV2Nx49dAA3eSIT3+678HfZ9CbseAfRzdY2xgHGWj1Lthime+3aFrJ3tI2E7u-jWavDUcjq1EqWscDiN2pBBWNe71E3uOanrvUlaHtXP3Yk-iGcf42it2wBSfjdAFKmfVxOqFsKiI0mNPWEFL1dtRQFe09tXonU27Bgw+lgaFuGnXNvBViFQZfgZ0msr99HeylkxyYsx8m6TW0bl2g4cE6presve3tFFHTI1GjQVD3q0wX6mczwW-n2C8EBYf9d8ifbWmUBVDaaD4mCtaQ-4ZpCx+6RcERE-1JcJs-qjedYvJUcSV9VKjhbpS5VJ8d9XYCvXgfy4pcrdR+rdYMHoPJc3eEObdBtBE5Q1thB6AAJxVA7wvB8GmWoMARDN+EgaGmWu0bLRfAJ+vXnEORE-rZ+8C2tM4A8pgy9eQIqQ9sL0BDsh2KYNAMYfs3F94q4qEQ96n1EjyUglhmQ3RH6aHTkIWpZwHzVyIfYyqOh0GtsPsNyG0S3BnPdDSOUbLwa2ymCNKFA2-7y1ZiuXaKL310a+QIRrZeMB2VMHFMYwFdsMXUCbKwjZ+8FoV2pCj660xARzfiW8DpAaQSLEvIPUtgHpjO2aFoCJyq7Bq8okBko9N1jIVB-VX82dCFEYAVGX6pCqbO7DbGMhwQK5Sw46UMjTGh6unUACu3zSObrA0xtmpUCbHWBJjIHfFZbCNCxVxhe8yrARp-HJQwN4WrzDsb17TbItOsJLW83C3ZbII10C4zFUqx9GBjw8IY0CBpBikSBpvSY6zRWN81oNYW4MB0FACAnpjIoPY0Fr3mCbbDuh8GlMYhPzGLlO6RDAwAhOQmSqdhv8U+kOld7w0oB-vvOyKMPioDgYGAwRL2kcakDBAbml0gPGHp-MRRy2HHCn18bhRIEm0cN1C1HYcgdARiP0xiCObZ11DWo1NnqOmdmjw41o8UaWOdHuj0mkbClVrUWJB9VJxfdk1INiGuTF2taFsZj3knGQlJ1k8XDj2+DEDyBg2gydtFHGWEXgVhGcYOA6zg5cILRBJ2VbpSJtJae4wRuugumKSOoO9SVzN0FGpA+aodulL0DVKAAOlgHaUWrxgLCfAJRlpab7+aXNdtBekMNAg3jx5ZYlUGaNFHIzbU6M+RLjMJnG1XQY4ymc7bDjDEhAfElqWJbyZGzoAAAF7sNrAcZsIImZrOpn0DGZjs9MwAw5nAQeZ2QPmH5Y3B5s-JwUz4EjNVmkzLaAc3rQbZ2EuIt8OMqQDjJvjDQQ7CEHgCLMRm+zyZ1c9TXXMs1NzQIDwNud3P+qxzIoIAA')">function assertion_to_be_added(exp) {
    return type(exp) === "assert";
}
function add_assertion_body(exp) {
    return head(contents(exp));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p51' class='permalink'></a><p>
      Here are the syntax definitions for the <kbd>and</kbd>,
      <kbd>or</kbd>, <kbd>not</kbd>, and
      
	<span style="color:teal">
	  <kbd>lisp-value</kbd> special forms
	</span>
	<span style="color:blue">
	  <kbd>javascript_value</kbd>
	  query expressions
	</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>):
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (empty-conjunction? exps) (null? exps))
        (define (first-conjunct exps) (car exps))
        (define (rest-conjuncts exps) (cdr exps))

        (define (empty-disjunction? exps) (null? exps))
        (define (first-disjunct exps) (car exps))
        (define (rest-disjuncts exps) (cdr exps))

        (define (negated-query exps) (car exps))

        (define (predicate exps) (car exps))
        (define (args exps) (cdr exps))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_36_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBBHm1E1tlRuo+QGaK9Fui1R9+a0fdgh7BD2IIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQ40aMNMGeBxh62GPkS2TG+DjEWY0ADmMGEAlURUYlcK5DupgDNhVgiwSdFbHLCchIgdUG5i7G2AexrJMcdmPkBtjAKbXaysJ3wA7oh6urDIEphXErwh6vXfHqvBnEtj5AegIltZUxQet0MMwagkePXGfAhGUJAhs4H4jpjkQB4ocWCT9F2Br+14sNO10s45jz2Y4rUN2NAGslZ0Y4ifh8FnT-jFRPQQCROKnElNwJMEjUtOmgn6NCEYJGDpuNXFjBduh6d5HRTuBzd4K2o-6moMs541lR9iEce+m9RxhMQrkbbuyyO7zBNAiHA8YhzzHeJM6U4kHNZhEhWw4JlgScSBMUDsS5xDPdtqxJvEUj0gnEoYRWN4lJRJmW4xzHAMii+ioWhEswOYlIlKTeQwkPwIkMIBjF5BNIK8epReE6p2miEo8TRNADvcXRlo2HgXyJ5QjuJj9Huu92Z6uSigdhCsekgP4TCPe0CNaqOUSFmSUOSvRoBZPwIFxYeVsCTkeKeQf5WhsPPQDMwJZRhYedqIiaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsQh74AzAP3Q7hgMwQWSgJ84r4m1xMnFViG1IbqV2PPaOTIpTHFiXEiEnKRJ2jkmQJUCYmYIvm80keB1KklxJBGhU4qWVIqnVS6pDUlaZ3wmkycpp9AEaZYEEaOSYxkU2wNFO5wzSToW+M6Qlm1Gvo7i8g9aTNy6kzTepgjL0YRD1GJ16EOYmUtTX9I-dJgOQBiV9MQigzCB41ccZYD+l99WpdA16ktOmmdjkZw4xtHlK7ZFESAZmCSAAAZdi1MLKAeE9jCRFux7CFJQEQTSEaZpIImSuCtgEyWZsRNrGqR4ApTjsHMgYKzMYBfNPslMn4E2MbFfJNAHMq9l2AZnkStosXYfltBll0y5ZydA3sxhSb2TTA7ccWV8jsCZRQoNMuKZnVVnYd6ZHvJqc6WpmaJZZciBmRwIzLUwiR9wA8DIHjCncyyeGZIehyMjShueYsvQZkPNk1gcOrkeWbAl-FbROupJC4q7NsDuzpA8YErpF2QkJyk58YK4SpwNCwdHhc5EYRnI9nGyTeiQiYL8LSTjgFgmQssc8T6S9Qi5yc7aBHxaG+yA4VqeiHTAJ4eDvKRwwuTgWGFz8JYfcxfp0O6FVjeh3RdNM2PLF2QpopQGselDrEalQgK4iWPo1iCNz4wfY0ZPEhuFzkt4b-aOKlI67HjqyW8s4ShAxYXz2ilPFKAQHySiA-+mfThBWIvlntEhyYh8WqFGJwheesQ6QH9P56dDCxlYmwZPPcGZi-pHCd2F0KVqY9axbfBPtFxIA6kRJ6M-QRPP7FViTo6EnoChWHEPhZKF5VuZeOqA8Rx6eATGtQqNggKqx488BSWPTQELZ5L5eDHAqCmILJhUCTHmgoQkaC8FQQHeTUEwU2CVIW8CRcYHfH3yGxAC6BfrHn7uxy5CCOwIcAIW1yASLxKhTQu9nwZlMOE3bjJXn7ILVYwjEIVArH6ALCFflfCcslQUWl0FYA-IPr3yC+9hxi428suIMUJtVJO4qFl3P3EuKJcJ4noh+NaHOKz5jYO8ZUlTEsQGQvPZxSnTcXSKAOqiS8a4siWRQv5sS3+ZQASVuLEl7i2mmAGoWY0wl1-XnKAB-Get1wGSolvYuwgISwJIo8emBIlzITAgDSxxayQk4tLZJPQCTu0sEXORniWE-RduNwkRS7ABMnwMwkslME0ha+e9HMs7Y0ymuGwKYCZMZAEyjBFREud5S+Ycyx8OytrjCNKbnKdld81GCwRkDuyig2BPIlhIyaAZLl9k-BrVhmUEy2Jy7XbEjOIDfKVw2ELiVskzpTAzUrkAmezM6Drx9Z-wQ2QsB2UhJM6XS5SRJCThdKEJ4kv5R0to5NktlhwMFSQh2U4qgg8kgEnzIwgoqDJAkrxRMvUlRBQpo8MrnSnuBFt9ldWDGAyIhUmzyR2k4iU5P+ZUr+JKGXKWYHylFTbAlUrcAABkpMjUmuCPHJl-42pr1AmTqF+nuLUhA03oRMGGmPSiW40oaa6jVUXTZpULVaZUBNW0iLVtsm6FtIlVSrZV4AI6aMBOm2r1V2M5SG1wBkSNEE9Ca6aRNun3TTVEEj4BERpmvTrR94PvgGutGS0wOORCNV6J7aJD8GJqjVcCpeEAzIx+os7PQkhUi1-S7y21fsuH7YrhxqMlVe6tNV-T7JcIZiJojZVYqepywgVf9O1GAz5AwM-Mp4urhGQfVqjP4WyPBF7QOCmM86c2q7EozhlRIZUWmppk6hJ1OMzCT+WcphjP5LK8JsuzEnLtepba4BY-XtDl0JI3knLkoFHYbhoYW6wFUWhGFHqSAi87HmMCJb1rSq16gtjusBV7qvRWE+9QsEu4sJP1c7b9euqy6p54Vuq-geBNOV2BCmtklDAanVRJDLxSUkVWBuWQqAhSi3M6ZPMilXIzp+BFoZFP4Hjr256QeKUTythBr1+MU0jX-wLg9NVwBkWGbI21EQMnIsa10bD3KjjrI1Xw29bBNQTM8eNL05NY+wuLjrNAyoxjbrPug4af1Z5I+aBV-wES5upgW1bhqGn7LTZj9GaVbA2WyAtWiKtIERqGlQbPVZG3FQJASkSRqN2EGKY9Po2gqLAsmjTV6PY12RONzkonqsruB8bEgAm9IPkCE3cbE1fmsTUZAuJfKwIiNGTcxo5kKbkuw8lmE4mHRjB2IHMoUixsOCkaYNJa3LUSwO4zLSNk7A7uOvw2dTaAtIsrWdIq0bSvVLMTDepvHWabdVdW76VVqRWP0Kgp0yrfQCtjbTSp5UqqTVPqnOq0gg23aSNoOnyqJNZ0qTYjR63Zb6AZ5KaBuFyB4TwMRWmmdpr6RNbhkzMwhnhuM0grut0gDLQuoG0OqZVcqjhINsdVyrBJlnaLcqKW1qrVtfCdbTkE23BNaAMWagEbI2AxYEITMNdQmLy3KVsIQO2qBjD+0g7z2YOr4ZOyB0A6EVd0T6MDqEA6hodWO0NYTAUDvqfwXRHHRQFh3EBMdujcRe5Q-JhjG0wW8IvW3KhXqi20RFHZlBkH05tq-2o2VzpB0gbwd0IoBOsV50pURdlOn0TAg9ZcyGR0o4dYjHoTM7t1AeMXXiBV3PRW1P6vUMfxi0c0udqO26GODV2yibAFOt3FToYSI7EgYGenZLUbZKZFdN67MSbtR0c6n8ogTwNJAcga6wx3qjtTmu7XDglxlcS-j0DOUO6P1WUD3a00J0gtnoM69IHyt0lxrMJQrUkonpInJ7niCLHeHYlWha70glu6Nosht0FpqAHbe3ZupZ2aBI9N4V3RCUmCoJEuvHNrmrBZw74m9ElFcnY3zpUgnGVjRIQ5y3ZkoFp-O90b7utGdrc1tDEZevHBlqQaQDe3aOgNPRUAiYI+5YSSrhriB4hwNYZeV231KYdwVXaqGOLH6MBYgg+0zrFB7Z31bx6egVV5Vv256R4qMmnQmOL1CaNwl+pzqMkNLh7Z6oAb-WZ2L51wC4MoFDgdQBFWwAAnE+F6iQGwRD+o0UAOWQIGM8HaikKqhUDV6W59EM5SoEs1GLh57sKwHiRJkR9KRNgXaooETaJtyoaABg4FvPJ3DLQaBkpgQbT6UGdqAIgVQQy1Cxjvhe6E6FYBRqGEnhBcwIGgd4OYHg0mgcA+MCoMAi3l0gO5Q8qUAlwsNo+q3R4phVeiP9DOlQ2CLUN-7K9y7aIrcqMP4YcCdew+Ap1hAx7Mo9O6kiuHKBwhjmB6gSPaCthsdTwWwFDnYY9Xah1DxAenbkwfApqTN9EUbK4YpB+J4FNubcQOgj5sGNwoWNI-5yk6gAi2l4UI6ADSMw1OG+oNg0u0BViTN4tw4xS-Pdgta5uC3TEOlsRj2hCDRKdLRpqy3laatfWjlU0Yb5RGXDoxWI7iwkgJGMSLbCg5IcUNgjJa+R9I+OswgNGPeMxtI+1AqPJaX5Sm9ICkaWMo1sjSUBgNsYKN-8pDMY-tR2oD1qQg9+jEox+uGXL7tgBQ89b1Kk0H7XCItZiuSP-1iS7csqIiUntdHUTBMc5WxWoS6LDA6AB4VVI4dQQ6bPD3hn5exz8MucrxQR8CCEZe4GlwjpvKyrZU8XU9Pj9ob414F+MZ7-jq0QEy8OuNmg7j+Q6SASYIA4nFihiHfRzWYpTLVyXMEnYhFGgejV43Jr5gHk5OPRkDLw1OW-kOXo7OTPHYUwsquHrNZ87J7CCrqo5QFBdZbXk8dH5NdEVdQp3ZYMQ1N7cCi6Oo3dybsGAY+TBpqwDXuj1sqTTqQ0U3Kfpxt62WTe6U9F3tPVayILAQDbabflmn9T3UAIzHsTZMTFA-SgADpYBitg69iLUfwBCl-m9iQGgjRQjGQ6DSmaI6MVEBFpAzbK4M0d1DOySIzUZiufhnm5xmo2V4yeNSROhw8LihATQAAC9YGoACM1EF9WlnCI8Zpk6jUbM5NCEaZjcBmYcBFpEWPUUE-QAhPrhgz0Zjs+Wf+Zs0A2jNAzOVFKCGlSAhpXCYuETYUQ8AOZ7ddOZLOxmuzC5mLsufbxrmNzPbAc+1CAA')">function is_empty_conjunction(exps) {
    return is_null(exps);
}
function first_conjunct(exps) {
    return head(exps);
}
function rest_conjuncts(exps) {
    return tail(exps);
}
function is_empty_disjunction(exps) {
    return is_null(exps);
}
function first_disjunct(exps) {
    return head(exps);
}
function rest_disjuncts(exps) {
    return tail(exps);
}
function negated_query(exps) {
    return head(exps);
}
function predicate(exps) {
    return head(exps);
}
function argmnts(exps) {
    return tail(exps);
}

</pre></div></div></td></tr></table>
      <span class='comment'>
	We use 
	<kbd>argmnts</kbd>
	because 
	<kbd>args</kbd> is already
	taken, see section 4.1.2, and 
	<kbd>arguments</kbd> is reserved
	in JavaScript.
      </span>
    </p></div>

    <div class='permalink'>
<a name='p52' class='permalink'></a><p>
      The following three
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      define the syntax of rules:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (rule? statement)
        (tagged-list? statement 'rule))

        (define (conclusion rule) (cadr rule))

        (define (rule-body rule)
        (if (null? (cddr rule))
        '(always-true)
        (caddr rule)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_37_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4G+s8Me2kT6ISYB0JjqEV953JazApSqmqlw7yxzGpTl1pY4cUVDnlyW+kYVzhyCy6KV8p7yVadBpV4+s+hR-cM4M18pEauQm24wJWOQCwl4Kwh0MGAcK16c0MHCO+mh3x-yO2x8yIWdPsPR9N5WNdKt4iUOeNz+xjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgCD6bFl+pXpKQHoPdEIViH6IwB0B0+d4C3YAj0j2fZ4l3StgyyUtbOoDDzIHDzqDqGj1aRj0p1ikOWT4jyOYCljtSJFIT3Dy6DTxT7B0-C0KBBNh6g7lnvElz1kNVUjYLzIMjXOXeAmREsz5IDwIMLD5IOrHpaDhpKL-mvyEzwr3L9OWUFHg93U0JdYDlqJB4Gr5idj50DJeZQ2Bb1Zuktzled8lmmz+r4z9Dwr-wIO0SKr7k2ZakLGi7+b8mhZitlb3TF+Lb4b7VrpbheH2tKzyGOT37+5SkG5aFpiEfPQO2zL9rx79hSOFbyr6b4+K71Dzn175nqZAL771H8bz76BAxbb2HxGfYBcC2Hr6L-e3TISYDFrzHRcXn-eEfuXZI4Y26B3772ZQ73paEM74n4j6X5r0T4rxXyb6Ly5RMjloH6cE3x5nK76a3zOPX1kJ8vv4OoSYSYP6Vl382kf8XxUx6HK9P7H4UKxW32UGz-nzIMn+n31hlxn0nE2paBvuRJK3l+DYB8cpeiwSzlWXigZBEyTOIiBAPU4xB8owoFvJ4lQHtsW8FpOVP1xYCDdqu6Ud9Pknq6PhDURuc7kAPIDfcLGfuW7pLjN7Ckq8ovCbFUCzRvd80DA+7qwLtbwCIk+Ycqs9ySzcDZuj4Z2lgJm75hzYT8DwDEBxixB1cX-GJoSSUFD8bQ7xOQcmlwbq49AWghQZMHy5Dl9BqpTQfIJ0EP4TBugGJi6CsGTBHCdg9Bu9hMpqC3iRgjXtD1cGPFHCoJA4GoOyJuC2uzgQkrIPMGKDymJ-dQQXyvbeDmGEVRpGhyCELBEqV8Abji0m79xdGjIM8Bygq4fEFi-uQ8qoUXCSAfuyaLIIwG0zcwOELKM7oUFC6Lgf2M-X3IYFKhhCdA1udoU4JdQPk4YMQn4lH3O52DG+wfduh0D1xY8ihkhEoWUKkgJM8hbxPXERD9CLAWUjgmAnYI37R8UuoXDrosFw7fIvwhJFYaUwQiQdBgJw5Fp5yj7P9GsDYVmDcP-7ndLhx7WDgaWyAsBWEijatMGDDBwg+MdAbXr8LWoJg6ASvJIYC0BEntQAwI-4V0DBETYJ2hJPslLBv489ua7wx4F8PfQ-D5AII1pnYCxEzhURo-JUrCNBHqx3iMQZaFkAIZgQ-hAIoEXiLhHSBwRa3SEVLBBbkj4R-ARERC2REIQoRaIqGtSO8C0jnU3IvQNyNZETYb+EydETNkxGfDiRnYN4VEA+EuowwRgTaHnTjgxN8AWoqtJEEJG-MlRkgJ+negPi3FDRsoY0R8N8Amj92iLOeEqOhHwYJ2oo7BtkAlHMi+MfZdUY8BrYKiCANo97EqIdEajkIjoj6EMW4Yp4rUEmXoFujUGcQf8gQ+3JfWGFJZHBGDFwREImJAk1uWYnfqMMswgtfBnJWphMVTH9DnKSIrQMtHeznUQB6wywe0KnI1j8h3-WDssAUjeAmxwAjkr2MGCdj0x53W8nx3wBagO6epKzoCCnGEgO6E7MeAT2HEwitAZgEFreWsAeipAjQ3sZuKEy+D0GigYsEmIrhrjRxjxXcQtBQwHitgOwD1ihlTHQjexjY80YOORYHi5RdMF0C+J-GFA3x-Yj8TQI5KicNxAEpUjqH-GkihUv5CdvOOnEdA9u4FF7KqSyBzcwxAY35gQSMGEk0awY+DHGTOjfcQwUUVhO9h24zcowVEmEIMHg5rj4OY4loXmmbF3VF0uafNEBKcAgSQBDErQOamO6NAJGq9ctExNiHnc2JM6HNHmknFISYBNgdHAhghbNkMJkEcMVJI4nmM4hzgQgLICcHBgYYNBDcUYIByxtwJJIWDm9ztGPBmeufInmyNn6X1g8b3OyfLwclzlnyIwo9CtkHLwYxysHeQbDEkAK8UQxksIk5L9yw980FkzyXIUaGw8zAMzXFvrlh4YwMJoAfkgAAk8IkgAAILgBwAeEAAEr8lIAAAeT3rIAksOxc2HaVAkzI0BROcKY2NrHf8jBeksYEFKMncS00ILayd1IU5CTFYvUqDqAGsnqB4ktEonI4QmmlBGp7bZqTE2ym5SCpRU0qRVKqmzTW+g0o7k1JGkNj+xMTayeGO6khTl+YU0aa232nEA7I2EjIZ0XkELTqJB0vsU4DakxMzRBorQLnQpypj3AxNFvKROigUTnpCCf6QQOE5vTiAH0rvvVO+5gzmpvUj6WbAyl4FVwfoEgH9ySwAAGSBkwntJiwu22IrDpWEoAHBCCxMzGZugKhJZ0ZMjLGYJAVI8Bl8a0emQrEZmMBHCT8BqIxG6TiC1B7M89vd3JkqCLigIGLoSSFlukL26DDoBX2iYxi7wdgA6PzNAhSAYgC6LthbkvrSzD2ZMjoNsUJl6zSZr4cmWwIAFFx1RYwRiOoFfh1DSycOBIXlzRzMCxgvMtWVkDSEmyWWBss+vrifE+AeuHSHzrqDsA2y7ZErc4eGWtmSBbZcgV+N1yo7+zoOiwSgZ6ljnxzX49M4iRSGDA4ikeyIXIHkK8E-F0yr6cOXHMjntTcKDQ8MKygOGb9Fy+PMoGoO-7N9HZOIMgoMJsz1ZmheHTMZ0O0H1FcxD5D6T3M7nzAPA3kkPp0HrKeIpx9WeskREzmRzWx86DwFsL-73ZbhgKadIV0PEq4hglcrOVHNRYBBj5MgCOQnKuGU96eBAJ3OQXt5PCM5J86uTh1g7HiExiaRGNz38FwUuxOsv3FmLaHDyWyo8pJKXOco1Ycsww7Frv1woR8Jo6pXiRyXXkwRNhIk0SdYGtDjzZx0-OuT4GtDppe6eARGuQvSSW52hQ8gwd0LzFyBx56SL8HApLE+S55gKSYcaVQWVjUmh0WCaAtoUbD2xp-e7PC0WH3yKx-8hhYAuS59ycs+cnHFIBJi4Kh+VYlGRYFJpgByFiNJhWtEQmLjkJsinnHH3uFxihGUixhQBVQlnQSAXCtiTQW16LBPegCowROPU4LjpICk4pPos8XLiW5DimOurC3HjEbx+4qWLOL2wlIzFXQb+U2RpDc9Fgji5xeIu85y565Tiw+TyS-mKAf58Sr2U4pjra83Bmi0ANopvEX9wl2wBYBfyCVCZbFKC+xS6ESU1tfxboDJZBJsD1KR49i0TiSOwV0xRO6sDpXBMeJjSfFHdWDmg3mj0ytZkQ-idDPokzsR4zEkHJfVDDZB3s9M-NCrM+Lq4NZuQHOTVmGzIKR4WkojkCi6XcL5lrU2CWmFDB6Sow6y6nDnOGWhBxJAwtbpcrOVySDFXivyQdghZyYQmSy2ZQ9EsJPLNl2suUapPsDqTsJegL5TulzQxiMpK0yQMVMVQAAZPCNVINylB8ZnRewAjPpmZxkZLipIZ1IMmwwWpR0-qTtOD4wwEwJKmlU4DGlzT4kzK94uyqJlZBM4y0nKeiqxU4rtploXaTytcgsq00Rgs0YIwOAU4Tp8Ks6aFIlhXTYJURLtndJNHggu+Cqk0c7Ri7qqsgmqj4eCFzmmhoG4q0lYdPenkq1uX0rUb9KFRbLuaLeKZeKtBX98FlgCuGUSvYldsrVXq38m8IoZjAi2ega5f2Lak2TXW0q7CZqJ+k6j0KhlF1YChlXfCugko8aHtMWmKwI1Nqt4q8sBTBi0GzKvNTDMAU91Xy2Es1SCTQzArvAhbJZVGtdG89L6lsYQPmlck5dw1SyqcoCCBVFtv0nqdtSQBnljCQWNIfTKuDDVFtm11aidiOtyCXdh2Vax0YFP2WGTxB94iEVIGKYSsDxZgNFmksrYIQD1aoq0mMGmmQQMG3UsZsNKlUZpQu3U8QVerTSF9L60UpLEqoukSxX1ZlLND0zlQj5X10a-+j2l1X2jYe10nNbdKVFDqUgiwT7Mz2g0vTYN902hoSVfWDBgxgGlWSInvXRqthu8n9B0TOiGAL14q7obepzmtqv61q-OmSxqIPKSYhyzEE+oZVbr6Njc-Sh+qJ75pv1I8S6Vxqj4AbHAeGyjUqLA3NoINtkqDZ2yNVwazKiGvoHJsNUyBjVjwbgoCilldtsNUNXDSPnZmui5yxG9PtYopCHdKNVpRGSTD-WmSpAMyuzSC0s2Ob71Y0yza+rvU3T3iHm+9V5pg3aZyNdgGze9hvUMr-NqGuclmkyDZrUNweNFWtJKllTKp4AGrAlsKlJbNpuKzDfer0300YtIW3uOd0BBhIUJxqJbu6po0ZogtYwdmWFsMmgqotl9ArSSvzRoqMV2K1LZiHa1CrstFxemXlu5otb-VcUhsCVvvjrrViBmDdFZGoIUYnR5ZebbcRJxphZtIgbDDExK7AZ3iHWVbdCEzjzajBSczhI4T0zTblqa270Btvs3OiygS2-bhSDSwXboQ12pIVtpO0PaJQHWZ7SIAO3bajtbRbbY4Qag6BQYXQMNYdre1nCgdn2sQGzBxjwJcu-2qHQMRh2kaLNIaFgF1le1rdjt-CCHqtuoCay9tv2udY6Ju2SUSdV2qnZPGCWfElRE7QnZrN220BLtUOGnThh9IDqQVaWGnXoA53k4z+EyVdR8JjHKbna9bFMNzobWxEmdaaAlWdAu1E7cgP2igCBhF2BiKdxjNcBIDZ1RhVdtOoTO6PdY0zxR9I-EaQyTx1qw1T23XS9oN2UYNdrrU-ikGDFK7mdjcHXXQDZ2ZwHdgupUk7o+ji6StjAHUtLoLYbVddyu2uneBB2WI2EZO0XbGpNHxrtRdZEZaCEBlC6jeW2O7dbpBVx6Wm9agtpKxaXNoYVmE6NTZWcoCsQ5FeuFXqsWGiL9c8GF3WEED2ihg9zbMPfnpl2DBC93YiHrDBDCfYkd+wowd5nh2+yx9c7c4NY3UZ2M08EJLcrB0c4btACk0xPZrqSH2qE16eoFBOKmwU5h9PTDlKgL7A5D5Mm+rsYWptTKAr2P1UkXJXv0HkhuwQrQKoqIhr6zOCWU1f7Ks716sJje68T2iIit6KcHeyEMHu-3OcLOUu3vRHsGAwHzOGg+bFmg2hIdNqfw-NAAE4qgd4LA2tSr3I8W0gAiQFtWjXoNlovgfvVb1C4EUSQelAhbGnzqnAcZHcmEeQb+F6AE2CbFMGgAEPwbthfcl-tYEIOnDa4lkptOIcoN0QEmZo5CFOWcCw1TCz8gCqEBkNmi5DawQYBga91bUa1zgdQLbLhBfA8CzwaUBeq30xqkhTuzvUhr5ByATDZhvIvAZEyhqllsRYw2tRcOD7zYAXYvSyhiDKbri3gdIDSAnq0bWhlsfNMx01QtAkOAXYyXlAsPEBlN+TCoKapgWxoQojAcI8PXFrqcaQ9JYUFb3EPO1DIlRq+rRzg5LLdU6R0AJUdBqVAIlNgco4uxBWWwjQoAZ-mnx0wRbZu83S9Utz4xdGreLm4mdZs82+abpACIBGMdr45GwjTZAo9i3diLjGQ4IfuZwZWrcGQaTR2Gq+slAjHDZBxyoyKB6Mx8+jpmsIOUf2MHHajDa7NEugYBnHzjZlTQ-CqbRmjHV9lZNUfqVIdGG1lupUufsDCX7w1bU7DS-r0Lc0bEZe8PYWzjjoTYVQB+0URNVH-9zNOCEnDkDoCMQEmwRz7EAuiOxGllCHBI2x1Q65RZAtqNI8921KZGthN5YysmqHKInITycFE5XvDEYnRtMxJ1mGrBPZDLElsK9qydBDQmH99NeE5NpmUuZpKN2lIYDAVMWgUw9M-IprAygaAmMVWtbsdBzk7biZ10PUyj1z3ItWe2su+YpLXqOHnD4wcw3iwhZZM3Qhps2AEbDUJtaJegfpQAB0sAjm9NeMBYT4ArSvzVvXDUhrupy0fBoELkfCMZUqgHpkFV6eO4+nsF-pwMwXODMuowzxklDIQGuJTk4ehJQs6AAABeIDUAP6boZBm5uuZl1jfi+qDBKz0ZntLGcBDxmmyiZy1jcFxP0ACTPgL03WZDN5naa-rSIlxFvg6lSAOpZCYaATYQg8AyZ4E8OezP1nQzjZ8c7aanNAgPAM5uc6ao7MiggAA')">function is_rule(statement) {
    return is_tagged_list(statement, "rule");
}
function conclusion(rule) {
    return head(tail(rule));
}
function rule_body(rule) {
    return is_null(tail(tail(rule)))
        ? list("always_true")
        : head(tail(tail(rule)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	<div class='permalink'>
<a name='p53' class='permalink'></a><p>
	  
	  
	  <kbd>Query-driver-loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query-syntax-process</kbd>
	  to transform pattern variables in the expression, which
	  have the form <kbd>?symbol</kbd>,
	  into the internal format <kbd>(? symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>(job ?x ?y)</kbd> is actually represented
	  internally by the system as
	  <kbd>(job (? x) (? y))</kbd>. This increases the
	  efficiency of query processing, since it means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>car</kbd> of the expression is the
	  symbol <kbd>?</kbd>, rather than having to extract
	  characters from the symbol. The syntax transformation is accomplished
	  by the following procedure:<a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:teal">[2]</a>
	  <div class='snippet' id='javascript_95_38_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (query-syntax-process exp)
        (map-over-symbols expand-question-mark exp))

        
        (define (map-over-symbols proc exp)
        (cond ((pair? exp)
              (cons (map-over-symbols proc (car exp))
              (map-over-symbols proc (cdr exp))))
              ((symbol? exp) (proc exp))
              (else exp)))

        (define (expand-question-mark symbol)
        (let ((chars (symbol->string symbol)))
        (if (string=? (substring chars 0 1) "?")
              (list '?
              (string->symbol
              (substring chars 1 (string-length chars))))
              symbol)))
</pre></div></div>
	</p></div>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
	<div class='permalink'>
<a name='p54' class='permalink'></a><p>
	  
	  
	  The function <kbd>query_driver_loop</kbd>
	  (section <REF NAME="sec:query-driver"><a class="superscript" id="4.4.4-sec-link-4.4.4.1" href="./4.4.4.html#sec4.4.4.1">4.4.4.1</a></REF>) calls
	  <kbd>query_syntax_process</kbd>
	  to transform the syntax of the query to a tagged list
	  representation, where the tags represent the kinds
	  of queries described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  Along the way, pattern variables in the expression, which
	  are identified using  <kbd>is_name</kbd>,
	  are converted into the internal format
	  <kbd>list("?", symbol)</kbd>.
	  That is to say, a pattern such as
	  <kbd>job(x, y)</kbd> is actually represented
	  internally by the system as
	  <kbd>list("job", list("?", x), list("?", y)))</kbd>.
	  This means that the system can
	  check to see if an expression is a pattern variable by checking
	  whether the <kbd>head</kbd> of the expression is the
	  string <kbd>"?"</kbd>.
	  The syntax transformation is accomplished
	  by the following procedure:
	  <div class='snippet' id='javascript_95_39_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRkCk5WVUGoOgpBohDygjafmkV2Z6FZlXZRER0FwM3KYuGJhaY2AAPzv3+HyRYsDMF5kGLgwm+CSZmP6A4um61Np6E0do3RlB9HDjGPDYx1JBjyLMYaIJoAiIPHRGY1JzjAaAkcV-ZOO05DIlRKCWxiwUl0yIqzDGeB5wMHwMwNgUA4CIGQOgPgPBPpnRUNBUGAJZTKAkY7UeCglDDkjLEZkqTrDOOTn4GZaSFgHXKIsnJGQoqEEWG+JEMTtrVhKftMpzJBiDPscEpZEReyBiotmCCW5lRrNAL04p1zSx3JsUNM5iz0lSBAhecCnzHkXOcS8qCS5QK3I3Agr5xAhk-MpIjc069gXBNBdaVhSKZQotQc8uF5zgm-IVsQJmjQWa+MRiTaZILnkYuxrjEExS8GUoebi75FyiVzVWTSp+849BzQWhGJa3gqHxECRciVYQBXXROYsyVoR2WEotmPGO3K0W0vxinIOWr-ar3Lj3copz8UIuPjVNVdN0X4zvgM41HKFg-WpeqsFDrqaKqqZSdxGCgXxCeeguEpiJkCT0D4tmLLDV4qGeK+VoRRZ7RiZneRJyI2VKVd4Zgaw3YAFViBRWYYxWEcJGSqBhuIZwLzNACQIhDc2frg0kESYwShVdKD4FAHoCI8NKAsEmiFSQfLhCGiUefSUnqR6du7VQXt-b62Skbb3Gw1RnlyFkOIVt7apDaUWPpElfafZ1uIIOusNhexYlEnIcgxwNUaH6ZRa6A6o3RuCbDASO7BmrFoEKPQcrH02EorlUEy1M73u-T+2dlCH2geCbguF77sV9AHR6FI08xaOgMTBBGs9TAgeccDGJxKX19Aw+eglEqiIkDGjEToVQF1LpXUe6wabqA+GECmbNubqD5oIEnYeixyIVT9fmBd6ii6xsUPG8pdAjVDKHco5hrC50SZIykZxJQ5AzKIssVYAa+lBqEXIxtimpMmAg5K0TaHXJ6ARiIhTrMQ5GcPknMF9LmZMopRzG10mj3IaiDBct-StaE35p0cNZylOFEtdeoNAW+bFhC7au1fmouy21qw89cWhkYzvGCnVwcjNDpbW2geLAh4jxy3XcxMw1rkeopRjo1GaPyBXQV9d3Rl5l0-eVmThQvyJeeHpleoMOt+Ds2c+r1hF2NfIvR49-oL39ciMYczl7v29eDSXAba9r4jfxWNooa6Ii4egn19bC3LQxMPd+r883iTmd26ECby6puXbWtllVtsv0-qs+11uld+ijdSbUe7noT0kDNA1Dol69BmCOAAPlAKpqo5szOg6xcFg6Ich3IdU3odHYWnHw53qkjTKwfAo4FODwYyOQSo5-GUXHRoACQoRhNnR0TkZEhB+wfJhKK2smJmsRDKyhLr1gT3x0vTq77jJecQjpshwew9R7R3e3Xb9KnCeSqIjA2UgtTLEA51z6FjQgMnebvqyuxmQN0zZ-r-ShuryKyfjlq3kHVSlzNxnC3iGGuPZF8ht59v7nmolTknkAeoUO-1-Cas7ordEv+WBbnBCfU-tD-8BPEf7k7P-Hju1CPMS1DJI5jF1rYWecxCesql7-4yp-hX2b8VIrqAYEcZOeuDeZ83JnMqsuZvplAGT6UnQW8uMtHtQfdJgsn2b73zuOJVtlRMxK59OulAweYHB-lTfl2DAn+DyTyaHNF2dY6Dz5ivxP0OzaD70bVvQzc8n0wS-IOhcy8X-GYOhtsvxUOk9MTL2raf4Wjmbpaz6ShYrZ4gFAFyjR7vhJoxJGa7ZfgxJv7H4YoZ7Pjeo3zJpDpg6QF7IYGAqViwGZCGqpKraEFJ6QR7JJpnLP7JpXDZxZZ0qzY3KYEwquo-5Hp4EkHFJ7Lh7sGvi8FkF0yrYCFEGvg0HKhGb0H-ZoRgD1KxTNIcBtLcB8CeTdIUjNCMAwQwzn5rQlonCt4+YyCoFnS8p7r-rCp5SDCL44FebhyuKbrbpdDzhfwu6gBWH2Aiq2GAJwiIF9xFxXKsBbrka7pfTBr6FbxOwAw8j4ApjOFhFuH1zOB-qLTeErT4BRE4hGwSzxGgBSwyKpE+wAJAJZGY6OGWiqz5HqxFFcZfRr7KCwafrlEOENi5HBqDCmxmEUiX6ob8G0AEbZEiwRxX4jgFJphDF1EHb9FHZ6DnYVHREXCXyAwIFAhjFggpEgLmb4YWjzFHbDG0K077E2gfTmyBzVQ0i6CNHNF7FnKLE4guhyHmzzaNJlL3FtHEIHDPFZZkCXEPT+pvFPB5bmDM6VYNiabMZCqHQMGQgnphRKDFaK5vob5CiXr57my8rQn7KKgH7xqHGeEk44mZB4lHb8IvHQnZ5AbQlTBgnDo6hAkyBbGMnmbUmgi0nZzgmPFuiMlH49IwwvpdAokfp7G8Gkk76lRUhjAfGYhfhZC6AjDEnLrQ6nDyk6CKnWghxyrOKQl6BYnHJFLil2aSmyCNG56hBERqmKlilmAAA88Uso6pwwJxWp8qoKjA6aeggIAAKhkCEsQGlBQu4K3MnFsrAp0ERAxAANQ0yu7WCGDRC6Atr+o2mgAxkFLRmxlxkJkxBqT4D+qakpqkbPIelMZem+nUAEAyCMRgbBnS6hmeqUARlAhplZmu45lJn5lKkY7pkpitkeFhAdl5kFkz58kUjVTUCbLbK8EgG8EgmYi-HKDdAZBbQyl0x3g27dmDCFki5hBY47zdnmkh4RrLkcI35xl4qhjUBXE6A3Gol3H4pHl2q8HHCnA6g2kDmhDOI6iFmfk2BESbkziGnGYqItiFlgFA50zNaDKvnGHnAK4jzClwYVaFCMZrBFKsbEDpDkaFLViRkQU+50bfonqMmXqvHYn-aSpfibkslinBo0n0E-osnia8kEXjYF6ykvZwqnmrk7Ys4Ug8FFKzkYX3jqDzmhCLk8WmJcGpIbl65bmiXKm7lclkz7QHkfmp4nkTlbR-mXmXG5l3kikVyhYeEAVFKwXfiHmfnOKyCWg-nN7bnqBPnuqAXtjAWDAujgV3Y0apLQVwoWUIkIWGXIXKU2BoVKmYXYUkq4WKilrgHk5ChVpsWgAPZEWSokXQlkUnaMnSUZbPYNg0WUl0W8mMWPrMVkn0XsnJWA5CYqVlrcXaW5Vmx1I+wNJNLsCtJcAdIYCaEdRSDjo9pjDToHpKLeYUxXz7opgDWTqbF1HTWUC9pdokT6o2IDqjVrTHQIYYwnrzVTqtWXqAxBK5IagFI2AajyqW6FC5J6inXWB6gXXP65KQm3WEmrAPVHURyHgvWHjvVXURw8JyAFIA0XKXUpC5I4x0AkSqBwgFIQ1Q1pTBKg1SoRxoW3VoWSpI0xoRwbQjCsIeB0Bfw43DB40MB0yY02C5JRkvU2B6AwyDBwjQ5w4loxkI3k3WC5KGTU3WC0302M2gAlqGSgCs2PURwABUXNbadNQtfNJaotQt1gbNo+XpwAEtPN0txwTNoAYAwtH1riAApKrVLQzRrfzaAHrfLaAIrbkkYdTWrcbbDqbUYdLSLa4gAIQnC21G0y2gDu2t4M0u19CAi2mG280m0lr2nWD+262B22lHBc123e2x2R1W0Rww4h3q0O0lpw7J0B1ekw5x2DBhAJ1h2gD5053R1emu0S2m2hAO3WCu02B6FBIQg7XRAToLVDUlFinHCpIbRbQaiDC7Wd1fS9yt1dqDXhHejIgeBWQhg9w910x937om1PVt2DUFKbUkCdilXWBD2T084QhYBj3t29oB4j6Ay5LVbjSdAFJX21aK0XnI2uKQDEDjR0Qw2F0v1v3DwP2P0U3Y1aDE2wCQC3VE2SDAO-1-1K2AhgN4QvWwOQN-25IAByqgyDEtqDyDzlF5LdDee94e3dRwvdoSraDtDJIF+DrB0uuD-elD6YNy8aC9hQS9pDcOm1hog9a9M1xKJYk8iO5Co6-M493Dw1Dat5h4BJfqkgMQkg1WjAcgcIBl4SVIkSQ8558qe9S1WQQoq1W9O9YQFCV8lQYQ-FEotlWywVn6BJK+r66+RlfQLu2uJKege9lEYpgwulu9XDHdPDfYVJiDoQTjBwrjJR1AM9c9B+njnh3jp9VDZ2ZJATNggVSJiFdjyF21DeCJOg1UHgLMaTaJre5j2ySFVjiOLVI9ShHVnA7SGAPV5skxEYFAkg0chgr4G0jAr8CeBJ28ng3gz0dCYF4YZ4oEnY2Sllr0boXTg66ZkgmZQ5yZ-TxxUz5pREx0UzdR2kG0o8-6AkgsUQuZGOnx8wJkpA7gs8-SBgiSpApAfNDAMZegJzFlgIDEzizzSyGZrZJziTwSzz38iZTac1sww8vg-zYjB+hjbMCkxt5gDOnFBV+zugrZgIXprZmz80sgOzwWS9ELQL-hYGB8SLJggIgL9giuy0LADzja3TM8c8FC5przqm3E7qnUPIdLWwmwWATOhWNLu8LYdLZgQQ4zbo-LPtpweS4IYzizlLkwTz+S2poADTJkloLTlY7Tr8dLcqRELWViniuQbL2wnLKQGSfWJRzK7m-L9iXLoArzKLMZkLZL3gFLOo8iFr-ZVr1gDEczQle0KyIaRMUYIrMZIGnrrZ9rI85LUrLoLrVLnYaZhroQ4I3EVrGmuLXpX1YjnDpL4bjrRZYQRKupGrFq0TWbXpz1lOPIzrVLHlwrMbmbUL4wObnLRKQ50r9LQIAA5JmRQki5202-Mv8ws3SyS-W9HIwP6qO9C3CyMtjk8L0z4DqBO986ZhHJJBmUxhmcwsKGgtSN4Fu+sbPJsSkgzjqamwuyOGOyBS6Iu3Ww64wCwCs8W1C1K9e6BWUC+2G80+ewzT0RKDxs8GYg8apbqVkkWzqCB4UNUqWT4KzJhexpxmax1M4H+0lRs4MT9gB0cz6MB3YmM08Th+6uFTB0CGxnmmWg-vcM4JMa3Ch6Y2IPyLu6+OQCwl4Kwh0MGN8XYoB0h3CLxuUiqa3nyDu4wMKHUfsF0PR8J6+NdBh1OzXAcFR9Lnx81WABwt4JuBcKBIPZzpKNFe0OQHJI0nFKQMMJtMtKAJ5G2rIGdJ5GgDZ6bL1XR9SJFHoPdHi3YH6IwB0Ic7Jz6Nju50xl585c4nfeDpq88tbOoC5zIHizqDqP555wfNg9a5ZfF4FyBlrk56QFF3iy6KlwfD+2IE-C0KBFDr-g3tPsUsV1kAdWLVVzIOLWAXeBOVOdl5IDwIMK55IOrLuWLhpHV5evyM551+16+1vqZJV4+N7ka2uqJB4P107SF50ChUhlViSjVuDt5eNrRk9ulQ3qlwN5l61-wNW+An15N8lakGuvtwt2t9fR0Mt8El+It3Vt+qlTt4+l+LlyGAFxd7VYUDVexRJf3PQLu61yN518d4pSOA9713N4+Ad3pFl8Nyd2UBVxp1kFN3tpZ2d6BBZc9w96ELZRcC2Gj3V-o8ErqYDMj69T4BD45acUuxKi6KT+d9Vdt6FaLnt9955wj0N9F11yjwYDjxj799YM1td6cPj11u64T-YMT0SML4dPGxebqbqXT1D0yeT6BjOIr52FUO629xz4OXL19x5x0PT9D5t2EAD9bxxUD0XHDVoMZ3qQ9xfk8811sky9GuspOVsi7kRGwE7YCDEPlMKAOc4iH7uwOZB56SwLB6R+lLxvcnFXV1Wrtjb1+I7+QMZxk-3qp1nvNyEvdOj88DQ4YKAHp5evn+p3V2mxsp72XxeosNp63tX5WLX8HyD8J-mJiaoMXx4DEDjLEAnhb0yVxzT-sRClkKP1sQPySgZQnnoHP0PzK5h5Zcv7mbP4Pwv3MRv7oASS6Hv5MHUUf9I-rjlSP0wOyeP4N1l5f7yXUTYwcJf2sbyeP7qU-Ef5P8M9PxryBQ-7RwXDhg+O4-JBC7D6BEdxWY5RDrwzPBBoiOjJXfFhRcLgpJAJnElFkEYDmJuYHCf1DJygr7Y-kwA5JEb0rzb9EWreU-jIxyoICaSVvOqqVHIE6A8et3WrB4WC7ICwii4NAZJEwHlJvENJUygq1wFL8mBIBI-pj3uzs8Bc-VIkiQOmwrcISRJP0IsH9Rgc7EIFFQf6jw4VJJBhFd7hch6xwwreNvDPmtC0F8cCusIKINkBYCsJ3Eq+YMGGDhDBY6AI3JwdDQTB0Buua-AGgYClhjMPBLgroN4KhxE4J+75KWFrzbS3MbBjwewbxh3RBDXBcQuwTOCiFRMLyyQkIerC2IxBloWQLRGBGcGuD3B8gTwTkOpZqU54bgtttkOkD8Awh7qXUpEKXalcHa+Q7wIUN7TZC9A9Q0IYz2CTtC4cCZWwfL38F69AB-bMYfgDDBGASGM6bzgwNmFaAX0kQOwI8BBZjCWGiwxhEXBWEKRZQ6w2wVsMeBVDscows4WM1UzhDOh8jbID0PKHBCpWlw+9lr2GEEA5haw14acLSH5wNh97M4llgFKr4W0PDXoHsUv6cRsCb-I9GQPn4UDGBCI28tQOxL386BPnJESvxYEUZQuRbJ-t-0fCDBoRAg9kuEOWCHCnAkgHGs71P57IJBxIrQKSKeDQCxAFI5aPrhpHOkKRjImETSXH6kUg++ALUDfTbJhBXmwowkDfXCFjxIuPI0ANCLMBjNSK1gW4UQJ8AUilR+IkETujBHFgIRFceUSSKv4si1RC0LTJqPZYLBdSiosZuyO8CcinezpF0JqOiHBIXQiot0XTHtFUiuRUrV0ZkMfQ6hPRgY6NKxXCGAhJR0kYllMJvJZAmOUeVIbTQJK6kpaHw1TKyMo6jBoorCfXBJwQT5jGggwCdgtGwIljYR9efvFyJQxnoL0reH0Y6Oz7OkSx8owsbQA8ZQNH05YjEQwOrFEY6xYrKMdKKLY3CXKuZeMZBB+F9jXImGTMQPlNKD9YYLjLQFUJbY6hNRc4vTscM2Gudwe0XHwZWPL4j49O2XPcXCFqKYiW8kvVgeDmS6qYlkdAKwaWmDAwxJAnXFEMuL5yhAT0rnS9OuJXFIFuE6o7LmYFeb5IlkrnDGPGNADekAAEnhEkAABBcAOADwgAAlb0pAAADyyDZAK3gxJ3h8A9gYzpilD7G5PxHI5kWPzX6EAFxa3GGBRIdFtstxi4mGAmDbH0BGJTgB9luPUDFIOJj4wImdF4mlBSJDHRWASTgkITkJqEjCdhNwl1EWJ9E9iUJx5xcSRqa-LcT8NYlvj+eH4hsSBUE5kTaAdkVIdWkImD8xJknRWA2KokElXhfaOYUvStzQj3AGtAcsZxDBRRcxVkhBK5Lj6ElKRxAOyVryIlNjfJ5E2ySaKZJmxoJOhVcH6BIBmdW8AABn4ZMJqyYsA9gkK9SVhKABwc-NlMSmMhBIreeKWMGKlmcYyPAQCQ2HKkKwkp3gOok-AaiMRwUP-Z4Jf3qk6t1O+UlMUSXFaD0iS3Uxsrq2kbm9RuyzJ8XYAOjtTHwUgGIJZgPbmIT0I0jxL1Ihz4TMpa03Ka+HylQ5dsd4GwWMEYjqBX4+A7rEBPBQgC1cRfMYK1LmklciOO06xHlPu7fp82cg-DseV1LHTJAp0uQK-HUG6CvRd1OwCdLOmIQlO2DapMYLt7Do-pAM1+OVLnHBhEhXnZELkCI7ojr+R6I6eDP+mQzqJvlQgddJilG9oKEXMoJf3JkKDHua0EwvQP0FG9vxDeDwNXjEGoj3idkpmYoJxDsybuuIzoLpWcTCjHsulIiIjMhl0jd+eglILUAZyG86ZDAjtHIK1GPpnEUswGVK3JmCstZr8J4rm01wEBm8phAHPDLnzzB9ZlgqYU-2kaKAt0iMEri-zErRSVpbMpgRzORFn8+0aIoZkSLdm7ZmsR-UVq3il50ynuE0fMtSKdGiDvZ9IpgSBVDE2BrQPMsUYbxkHXTrQh6R+ngFFr5zUk8I7EZQM5nn8-ZcgHmaki-AhzfaA+G8cLMlQcDkyMcpsYSM07JyZZ1+BkZywZxcteSH055DqOf7+zNOilSuVIMmyro20aMnXFIBJipzRKU-GEqxQsBa0wA+c0WlXLWiRiRRHQGMRPN9wRyXsQ8tub-wXkACgcReIuCQGbl+jFgI3RYJDwrHLDMqQo3eV72UwUR35MoqmS4wfnqxlR0JM0YuD-nqzP5dssEY7JpAld75g9J+YIOZbATH5YC8UYPMFL2ylg15aBVkBcaQ9YFbs6wHnILmILzRGoqWFaNVkWiAFRbG+dHL9EuiMhj9F0erFBmhBaFI8P0euMYWdi6Y64lhcnPXI0kH2O8qUXvKfEHYD2vgQbBaCqHxhwBUizbCmHKkPwzoaYUMLRKjAozx+x0FGVsXqnXQtFvgnllDNy7LSjZ+OXJOoFOlwgvgOhTYuEOOimKRec4qRvNHKlLTf+LY1YQ6OLFftfZuMw8RelDDZB9c5Uy9DNNBCPSsgC03ICjN2wg4o5I8fsctnlTsKW5zvLxUFNYUpA1FGgdzMEvZwozslYQbseyVqk4g0lySt+aIo-moLRxEHK9BWjGATsPFD0PwnoAKWhLlpbouMfYEnFJjKlM44jLFPsAwT4JkgNCZmgAAyeEPCQTlKDpT9hxE4muVMzhRTn5w6WiWMFYnqTmJcvViQmFWW7LwhIk4pEcq2KnKsp0S0rmvykkTLplsyxSfsuUldAjlBk8fg5KCbqMLkWkpMTpPfESwDJxShNuVNMkAjwQWvX5QCK9L5IlFB7MFbYPBAuLBGby7xU4DskfLUhjkrQM5OjRhKHaA5VxVcueDlShpWSt2aFOWXEq1laK4KW7LnE0hisq4FpZksonRTtx97TFQCOxXzCdKgi0ECbW-SfKHBSQp4cFnGjidVJ5E1lT4opUCLCgHwqRkcplXor6V9BWiqkLnG9ZP23gcdl+yokcr3Z-eS2MIEvQni-2egF9oCG1UTtBMw6E1SQBxHrcG54WZOFo2aVftLV+q9la8IfYOrcgCnA1C+w1UAi5xEQViY+E-GriEW+gf8SSESABAFgICuNUCKTiGAmMYwDiT7J2UcTzEmciNSV1zUw8G8v41vP8r0kSxc1VvE9Kcw9LAEs1rwphpBihUnDXO27YycQARWPA7VKQZvn0DbVAgOJXalgO4UlQFspV7YmISbVrUzSREE6xMaGrAJKyOKAiIuOmrsDErs19E1pUavL4NjL0uSjRSTDiX85SZBanBQZOLX95S1z42GLpJHj6TaVyVGtY4FnWbrG1RDOMi2p3HRc4VWQYdT2rCB9rsuf6mQABv0a6lSVU6h2jOuAL1TfVS69nkekLwOdnAYnTdUxgikkxc1oAqQO4pw1jN0N+G+dQ+3Q0cSHmJG0Tmxyw16sSNQ6ddZmvnVbqXxFGjtWARPSZBJVHakfHcpknoTMJOE8ALtl40oT+N8kuZeOo7WDAPhnGmjfOmHSAhJyMY1dWdCI2SLDFmIBjZupkY7KT1rMvPnIFeUHseN4yyZTMqE2Yg7lZm2ZZekg0HtpNfNWTasrAJfhFN98cRVICCppgrIe6WzOcIPJ+a6i82bzdCEUzaKEIgWoSRSC+whaRAmcPzePx0HkkoEiJErGuAkA+aIiCWoxdULKCRaVNFIebBDUy0UAwta-YGclqThfZit0IeLXDCWEIy3Q+W82A1B0CgwugLS7LZiIq1bE2YOMeBP+3q0EketonRtCwEU5daGBSWucd5uoCLTYtFAA-CGtsFVCvNtAErQggW2TxAFkS14eENm2LSYt622rR0uO1xbBhjS0GDqrHZrZhExKDbaduIAba7MyveVMtrOFmxgNfIElBmRtVfsJi62ubQekWVnRitQOvoRltq0GrfVuG1LYrhq0REEdi2ttvUpSDpISp9wooVRBKEHArcf23VbdtLhI6+gxO40u9reGvbuafNMHYdsbjpa6Az2iHQztq2W4ZeZVIqpqq7Bfb12KYfHWO1hoZagdh9O8K1v6RsJodmqrlTMKcmhIrcgomHJTtSDGK+d-qUXbs2u3+o2EF2+VL0oTEcrKqLIo9uql139LoV-c3uUslUyBI2d5OrnZzi9KbtftgaD1bqoKRq6mSIOikLDBDCc5BtFScfqtj62vS-dl7c4NkzCZ5Mmi95RkHOOUY6I9E8Ta-ONwrk+rJda-ByQcNxVvbX5Cu2-GxNOZBoQ+fYOAc8GT1UTgV3NZQN4kZqBjwqVe4jjmgT4UjF5REOPao0T3jFRmoGGyuOL6ULqTh-c0DERCt1y6Odoa0UF9rb0J7zMTunTC7v52DAp9USDvR7pwAnoNor4uGs4MvQABOKoHeC33Q19dDW6wAfokDw0OV0jZaL4EGAaSSZ3LXLb4Aux0wM5a6ZwE7RSkE8bAh+-1O23bYpg0AgBwDQfLSoSof9LwkkLzIVHn7nBl+uiH0wcnIQQKzgQWoUXNmQVv9MBo-Q5PgNrBBgG++nfDRcVyBrFtimCNKAzUS7Q1AosfbYIn326+QJB6GmQdjhAgVdBSKxcwfGB2LhdScOJGRGpAa720xAPtduW8DpAaQP9MrsasvQlj4QRaV8fwZMS5RZAwhvtUiwqBIqg5a6EKIwAkPv1Q5QIGkPKWFAPdwDgIQyJYeibxIGAE7UtOodACWHOaxjVJOAY-YsqjQKVJDTb2axZqmOyUTNWx2CyWxn9hQNTauEw3kayNTG66CEeSrNZdD+h4eIYfdhSjGQ4II3uYacNWGOJkoIIxDmyOWGRQXhyeeYFMFIbXDWB-1BYcKOgA7D-YhgIUaKPJUf9+uoVViqz1hic9uldw56sDFF7AwJey1eXrbT17yiDtIZIzxV3DG3VugCcf3s2EZjJhl81DcXDu05A6AjEPpjED7W7qL0lsWQ34vkMtBFDzAAQzSryjPAdj2ndMpocx4kVsqr8yytMcthxxe9eun4UsZc1rRejBOgY4yCGOvG1jpcRAaMer0m1JjT4uQ4WhONGJzjIAo9JnJ6kIJ5BDiEil3XMqt5UkM5H1mUj9Z+IsZGg7yq3RsPsS50l6JetCYUNwn2YYLJTt5SuwYnqwTzZ6naKJLrizj7MMk02iOhgIygShnduJznRd6GlbjTE2Ky+p2jOTgp+TJQnCFinmTQfJfdEiOy1KvyE-BU4qGiGAxlTK+mk9SClZJINBIptHRqaZNanrD5x7k-Jq26TzM5KyVE3zJGKuJYVMVXaKUkyREmC8FRp02R0WDp9PQApqQC0vbb5i9APC0AAAB0sA+GkVV0H8P4AmMFLK3ULV5qDpH0-+oEIkevKzUsAQZoQ6GdUnhmeF0Z2M+jPGAsJEzd7ZcVpkIDbkQKeLXUnWdAAAAvDhtYGjMGM4zFZvtEmfmL01BgbZ9M6BkzOAhszsgfMFyxuAnYNjWxnwKGe7MJm+zRtctq4i4i3wMypADMnvMNDtsIQeAfMyGaCY9mqzFLFc9A3XNAgPAm57c0itHMiggAA')">function query_syntax_process(exp) {
    if (is_application(exp)) {
      const function_symbol = 
        symbol_of_name(function_expression(exp));
      const processed_args = map(query_syntax_process, args(exp));
      return function_symbol === "pair"
        ? pair(head(processed_args), head(tail(processed_args)))
        : function_symbol === "list"
        ? processed_args
        : function_symbol === "javascript_value"
        ? pair(function_symbol,
               list(javascript_value_process(head(args(exp)))))
        : pair(function_symbol, processed_args);
    } else if (is_name(exp)) {
      return list("?", symbol_of_name(exp));
    } else {
      return exp;
    }
}

</pre></div></div>
	  Exceptions to this processing are
	  <kbd>javascript_value</kbd>
	  queries. Since the instantiated syntax of the argument of
	  such a query is passed to the
	  <kbd>evaluate</kbd>
	  function of section <REF NAME="sec:core-of-evaluator"><a class="superscript" id="4.4.4-sec-link-4.1.1" href="./4.1.1.html">4.1.1</a></REF>,
	  its applications and self-evaluating expressions remain intact,
	  and only its names are converted to pattern variables.
	  <div class='snippet' id='javascript_95_40_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4EW-KFqjDPzJFOzNBn9rGhEMy7SrkKzGVikDeT7FLvmuksmcq9y+e+q1GMe3+QHVu2210Gwvmrnau-COu5u2RNSC8zu3+RVue92ZialcduC1CgNRcTqPDC+7IG+32lOcdHB3+wh5BqGm64UERJRKB6cHa70JBzyah+zAmGwhO7h-RWB-g4Q6QMQ5aDEkRx4tByhpRzBUzoDDR1SHR5QEPAlr+9u4G+RnDABNyUdqxyB-uSR6+xh73BeeFjprliq4+x5p4ZEbi3HEq4kuiI+1zrpZFl5nDEbuBUXG+s8Me2kT6ISceyCzqDZxC3JazApSqmqlw7yxzGpWZ1pY4cUVDhZyW+kdZyJyCy6PZ9h7yVadBs54+s+ve-cM4L58pEauQm24wJWOQCwl4Kwh0MGAcP56c0MHCO+ju5M-yO2x8yIWdPsG+6l5WNdPl4iUOYl4BxjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgHN6bOFc4PyJFHoPdEIViH6IwB0B0414C3YFtzt2fZ4l3StgyyUtbOoGtzIBtzqDqAd1aUd1h1WUOQ99tyOYCljtSKt+t4O2UG9098u8KVXi0KBBNh6g7lnvEqD1kNVUjTDzIMjXOXeAmREtdyPDwIMOt5IOrHpaDhpAj-mit6QOj5IJj9OWUFHl13U0JdYDlqJB4IT5iad50DJeZQ2Cz1Zuktzled8lmgD0T99yT9j-wH9wYAT7k2ZakLGgL8z8mhZitmz3TF+Jz7T7Vvp3rl+C6AD1L+5SkG5aFpiEfPQO26T+TyL9hSOGz-j4z4+IL3pMLzd2T2L1Twjy5SkPTxL6BAxZz0rxGfYBcC2K74+LQ0EoSYDNj+T4SRb-eEfuXZI4Y26MHxU+7+rwp7haEPzyGI9-bz9076LxT+L7byn2r9LzarL6cL7x5nK76QHzOF71kJ8jX4OoSdH-n5bzIDW82vX8X3UxCHKzz3pZTnX26ADx37r4b31piAb04WdJtVoKN0SWz1+GwGB6j4sExy9+v0zkRKv-hzEPlMKC3p4gf+2y3haXKpFywNF65+lO+vkp54+Iakbo1-P+QKNxY37u15Lkz8D2MAjxNiqBZoBu+ab-p1wAF2sMgiZfMOVV65JYwB6XR8M7VP5pd8w5sJ+B4BiA4xYg6ucfpZxY4+BcBsfG0O8UwHJpcG6uPQGQOwGTB8BOoagaqVIFYCKBD+BgboBiYug2BkwRwlwPQbvYTKRAt4vgOJ6clamExIEpVw7zcMlGRA7IkIIC7OBCSGA5gTgPKaN9iBVvQYBIJM6LwpAi4ErgoIWCJUr4UXHFsl37i6NGQZ4DlE5w+ILF-ch5VQouEkBjdk0WQRgNpm5gcIWUDXQoP9j0HhhAOQ-X3IYFKgqCdA1ucIXwJdQPk4YWgx4qX09RcCfe8vduh0D1wndHBkhZwa4KkgJNbBbxPXERD9CLAWUvAmAlwNT7yd6sinD1ihhU4Z9PUhJEoaUwQiPtBgLQ5Fo+zMqD9GhseeYKzDV4z8Z+X4ToceyB4GlsgLAVhIo2rTBgwwcIPjHQHJ7zC1qCYOgLj0MGAtlh3JTxKsMWFdANhE2CdoST7JSxQ+4NYZlECmEzD30cw+QGsNaZ2BHggfIkOcIT5Kl9h6w9WO8RiDLQsgBDMCAsKWErCHhBw6QJsIK7bCpYILL4YcP4DHCIWpwhCDsIuE2ooafw7wACOdRwi9AcIiERNjRETJwe3NSYS8JnBSwPo5sMkdMPwBhgjAm0POnHBiZ0itAVaSIM8N+Y0jJAT9O9AfFuL0j2RNI3wJyIBZbYlQookFvBgnaYjsG2QHEWCL4x9lrhjwGtiSJmysiFIsoDkVMJFE3DkIooqkTRmkHVorUEmXoFuiIGcQf88g+3JfWSFJZeBGDAQWoPEEJCCuDoyvqkMswgtQSBwK0VoHiE-EThbI7wO9nOqL9yhrA8IVOWtFBjnKQPZYFqKcA8iF+HJJMYMDjF2DO++A28mB3wBagO6epZjoCALGEgO6E7MeFdwzGgBrRZgEFreWsAyiAhPgJMfWKEx+j0GigYsBaIrg1isxhQ91pFQuJtitgOwOoT4DrEgskxy0cMWmORZtiiRdMF0HWKXGFAZxYY1Me-w5KwctAXfKejqFXEfChUv5CdqWMLEdAKuOgikM2SyAZd3swoggvgMJJo11RBuUoHGTOijcQwUUVhO9jK5pcowAEmEIMFXY1jV2tozPpfQjF3VF0uafNBuJTEwS9AYEwMepUP6NAJGq9ctBBPdGNcYJM6HNHmnzEXjN+NgdHAhgha3j7AkEYUQRLgnmNmGYgQgLID4HBgYYNBPcfgIByxtdxJIIHgNx1GPB0e5vG7pCKgl+5g8A3ESVjzElzlnyKQo9CtkHLwYxyQPLAbDEkDY8UQnEsIhJNCHrd80fE+SXIX0HrczAMzXFvrnW4Yw7xoAfkgAAk8IkgAAILgBwAeEAAEr8lIAAAeT3rIAksOxc2HaW3EzIMJisRCcQHjE5jDBLEsYBpI4lRTdhoAQSYlLI61cicuk2cWJ1SkB91A8SYCUTkcKCSCp4U9tllJiaOTnJbkjyd5L8kBSSpAfdKTVwin0BspYYmJoJOFGJStJTvHSclNbZtS7IKolgOYM6JYDypgEyKaGKcAxSYm3IzUbnQpzWj3AxNFvN+Oih-ippCCVadf2g7Jjop2YmtqFNG47SspUU+aWbDsl4FVwfoEgBNySwAAGSBkwntJiwu2twjBJ10oAHBCCn0+6ZugKhJZbpMjB6YJAVI8Bl8a0UGQrHBmMBHCT8BqIxG6RICiBsMg9j9I6AxNCSgIDTgQIXSfTMZlYX6WL2iZGik4dgA6KjNAhSAYghMtJhD0voYy3Sh7dBh0G2LvSWZNKLGYAKN6vo7AYwRiOoFfi+DSycORpCVzRx-99o70ygbYO5nfSSZ2MzHAsCC6LAz6g5QktcKFkiyJW7Q8MjrMkDCy5Ar8ULiJ2e4ypBh0-ArkbJNmvxQZn4ikMGDuE7dkQR7OIbHzEHzT0yAsmQLrNNmso2e-gyWZ3z9509Fyl3MoEQLDnBDxZOIMgokJ0rp89cluSIeQPqLOiHy80pOezxxAeBFJCvToPWU8QFj6s9ZIiHbL1lRj50HgKoa5Tha9DGsEs6zu2JVxDBBZxsvWXZ1RYBAO5-sruYHNC6WzPuBAJ3OQW542zGuVcwOeMKYlcMeGXYpYE2RpBg9ZBcFY6UzL9wOiwhGclslnKSSCC8J4QWNMkOxZV9cKKvCaOqS3GRiohFQmMVhOwnWBrQOc4sYPxDn6DrQ6aXungERr-z0klucIenJoHRCXRcgHOeki-BnyvRSk4uYCkyHGlb5HJXAceN3mgKH5e88nPdhwXWBBx+6EpCaP9GujsKkC6oXZljQuyccUgEmK-K9mpM3RPxJ4n-IAXK81o548sZeL04py2FDYP0aIIYWkLjpxnJbg4KQXITFgUfAvpBM9R5j8OZY6SGROKQcLFFlYqOTQSkUpTDizYyWZIrbk8lOxZoxNIjDB6SKY60ix4jov0GLBcevoohUvOMWrysgNBAvmYs3mk0wA-8xGjotb5SwxxaskcerBBYkBxF84l0HorXGJ8WwNi-cSkBCU3zkJsHd4c-Lpiwd1YkS+yo8VykqKO66kqQKDN8D+YEi3Ep2JkVdhFLGQKYUGfkU1gZQNATGR2XQLAT-cu2jCIuLDOuiNKth4o5Ftr1aUjzyJa9PkHIGFlwgvgeBDKhOyyaj9+lTs00NA1YQfTnFoM0CTOx9SzSjpuEn4lvNCGhhsg72UGfmipmfF1cdM3II7JqzDZr5I8BiZeyBTxKR4yE1CYdIyX6U6lLEqMHsupyOzXloQLZQmIK4PLCJS6SZgoorFCZpRDnNDCEzWUMyHolhL5QctaVEjqJ94oSb8yBUMSqRdk6qZIE8mKoAAMnhECnvi5Ar0zovYDOmgzM4l0zeXFNYmJSOpTgFKWlPl4wwEw1KplWmgnalTSgSy1yHzI6JnReV8STlVVKcl4rCVxKpqZaBan8qaVGyhaaNNuFKMKc3U0abajZV9SR4A0xVb8psBREu2I0zkeCAuHqrORztfGYaqyDGqph4IOZWIDQacraVMi-oWc05Eup6Ry0oVIcu5ot40G80ApSsoOmzj5pFw06bBK7YKqXlx0h1bCAoZjAi2KEtZQtBjWvlRpSqj1UtMZHoVDKfqwFNyMEZdBcR40VqRVMVjPLQ1x0-Vd8jfFOqo1ya7wOsrTVZLn86a0UUDzkwwqm1jagtjFPRUW5L6lsYQPmmklmde1fNIEF2qLbfpPUw6kgIXLSEgsaQ+mVcEmqLb9qaRuU+dbkGa7Dt21UwuNQsESlIDRx3SjkaqQlZtizAaLOXIEOMlHrDAVpMYEVMggYNGVr6tNB6hDknqwen6k9oUCzSGSksvU7SRLH-Vq8s0PTOVCPk-Xor-6Pac1bqN+5AhP1tqx4LOpSCLBPs6PIaeWuIDoaxptDQkp+sGBvjoNVMkRJlNokZq5yTcgCkKpvEZc7A-K6IYyq6V2iv6Gy-NGmFDAfKSYFyzED+rZWnrFV1vS+sBt1TsTtVCSLlWZSg2OBKNrGmkQhubRIbhJKG61TIEI2Yawg2GvoJptBk6biNFxYNeRsU0j5YZW6ujRrwY2iLqurGq0udJJj-qSl-KsZtRq-UgsHNBS-9ROwc2fqPNbU94gFs81Bb8N2mJ9Sxrg3vq2V4W6aWmkuWX1MgZahLcHlxW1SvJPk-yeABqwZb3JWWhqSSpI2eayNUNFLc5voAmSGwgIMJFeONQ5d3NHG30sxrGCwzYt7EuFXOSzQVbqV+aXFfiqJW5bMQA2qVcVtM1dsyt9NXrVGuq04hat98PJasQMwborI1BCjGKMRZzwNttxEnGmDW0iBsMMTOzsBneIdZ9t0ITOBtvwHmzOEjhPTCtuWoHbvQR2tzeWR22SCcEJOJ7dCFe2GCTtd2z7bIiDASBntfnU7TdraKnbHCDUHQKDC6BJrrt-2todDqB2KCBYLLGwRDuR0DFUdjG00CGhYBdY-ttsqHYDuvG1LiAVkagPTIu0iAQMB61UW5skp06XtrOyeA2Kso0iJ2+2mnecsbirbLtegdnThh9LTrYVaWdncLtoBg7RdzfCZIztdZmx9NztetimHF1NrYivOmILXTvBPa+deI0HZds3UZrmdxjNcEbq+iG66AsulKZCvC6yjsRQIx4aQyTzQqk1aWH7Ydq90UBKMiu7BSkDfH676ZHWH3VDjD1y6lS-ursCrtq2MAdSGugthtVB187ddb0uHRyjYQm7RR+AxaV6pzUni81U2S1n4J6WJ6WUsO+Hd2oLaStYlQqVFTRotW-ko2HSZOKqTvGN7dRhQ3BURHgxN8Ug-u0ULHubYJ73day2IpXoEhp6i87Knpljo1n4DvMbMHGPAnM4id+K5waxuozsZp4ISW5IHlxyIa8cGOwRAqdnsPW57lV2ausoXtBDrShUsMEMJ9meAH8+w1g+TGfuzE1qb8Wgn6h8LkrKAb+T6RQVoC9lERD9PHPjox0qZEU29ugDvQ+I1X4Ly0veneOGq50Zqh9OGwEBAfo4JZR9ImRNePsGC4Hj9CWWulmg2gbtNqCw-NAAE4qgeuiQFtXRUGBPBScGg2tXRXoNlovgQYF+twohyCKJIPSh-NjT51TgT08ObWOYMLC9ACbBNimDQDKHdN5C3nhMk4OtDa4-EptJoe4N0QEm3I5CFOWcCw1TCk8gCqED0PciDDawQYFQYt0rUFhR69QKMvGUwRpQz68-UzsMGK6sDwNVw2tXcOxwp1Y+zXeahGVBHxgEyig5fRiD6bN2axfNICCLa6p9Nz-URauw6DRAQo8sUioOr9zxG4BV9BNH0CKOWg4OaxOckIaRblGANKQTQ87UMjNHhMGgLQFaSGAGsYg8O0AM0dBo2aeFgGodfmi-aaoWgG7aTgqrygv7iA+m-JhUHtVq9GjINPo7WJyOCRayaR3rn0eaOqGbAjRxdrCstj1yI5NqODRl2SgvqcufGY49IZ82fSnNgW0LW1IARAJbjuc5Yy5M82ShrjHMjLrWK0CqBYSsgNAHseTk1C+hMhpw2tSaM7HYaqRhiQwDhO7GUwYJsINYY1UU5uR3qzJXfumw+lDjPauFnK1f2Bh39KEmKWRsAOgBJAUNGxPuPL0Um4D1jGiYgYtXwZOcFhwoFkfWN5GQKdG+eSUbQ7V6WU5R64t4HSA0gJ6OyvNJbBGMprv24xgTtSE4nTHNVcx7UgsdT45Zcjkp4euLXw40h6SwoNnssdWOTHQAqR8o9YD6MihixVh2QzCcJM173joAXoTPxyznHMuVx3LihPqN0NGtsMx42FueP4bXjhbE44p11NNl9T2Ld2OWMZDgg45UJrarCdWOfqfjuXXo3CbtPunp+tmwoGabhOWm1l2aJdEieRNomMTFqptNiYL24mng9+5nM6ZZQfDSTVgyxJbEpM2pqTehbmvSaJGMmuzzJhA6wY5OdgRFWASYyKfkPASxmOXImI8gjgAAhOiDjBy5ZAdSy52UKaqGXgANATwRgGnlKAhHAQnk36e0FACeTqA+wWIjwCkOGhFDQII0+DAhDTmk1CbOc9To8BLnIiq58gOubyFbmdzU5VguIWf3x6UwzEAAF7hhLxnYJ8-GeNP5h3zsKz87VwMDqBwwLKVgv+cAubmUw25zmFOXchPSyLD5xCy+cTO11ULPa9C4f3nPZHt2rBBySZHuiQWgQLk5lNSC4gphYAu51gtAAujRAOg7QHUjhH5CgAXJIUWIgAHYAAHAhZTBUWTTVQWizXvoum9vzv54GqxeijeAdSXFsZXQF4tAh+LoFiOOBeWg6k4OOgF5IeftUmBKLCZ1S1OeYDCmPzc5ky+WBwsRw9L7Fwy9xZMs6lzLgwFAORYovKWXLKF9y+zBnOaW0u4ve-mnj0g+AWLbFgyymCMs8WQrAllc2ud+lAXCLIFx81FeQs0XYr1IeK3Oeq6LnWC6ETOjqWgAj0gQAAETyuREhLngES2JaytPAGA4AHWR21NilXnz0Vt85VakCeWML2l+q41ZTDNWdS7Viy5ESsuZWgQtl+ywZaUtjXyralya9VYwveXsLOl52g1YoBNWWrgIZa74QACs5F0a0hdfP7X4Oh1hi6JGSsSBIuc1i6wtaus3WhleFwqwRaBBEXHLzlvazgHUssoErfQWq8xYjj8lGI2QKKHRB1IErzIOpTeiteBrLmmy94rc2tQgBs4rzN5y8fYR+FOWyrz1ty69emsMXZriN5G5XjRspgMbRGoENjf9arWE0EFnUgJFG4TRSAZ4Yi49ZUsxW6baFry1hZr2sEkbKN1m0CHZtY3dz-Ae62RbFvjWXrHlqW0dYiTeAUr31pmwrY7aAhlbKYLm4DYKsbnTzYNna09eovzZobs5jC-DZVOsFPJ2QPSA1A4tm39IEgDq8DX3PikjzhIEG4CFgDHp7Jgs0m7ecGDyWHzVN3azTeduw29AjNyIp7apC0B1rftwgAHZxvO01rvtza48AcspgKWx6btknYduuXU70tny6dbPNe2c7vtglf7eupTlPIEVzW5Dfrt63PrqVpu1ne9u5327+dzu9zd0sZXfb2V4K3xfBvU3HbUNg6-TdN4fWDbX1tK-lYAvA3bbIFqe87QADq4YDwIQGijXUUwvknoLkcXvJ3l7tNnW3RZqsLmEbkRE+4wDPsX2dS194OvHsLuAhwAyNk8-ZBu46lBSiwUAA5OyCQPrzt5+2+LYmuS3n7M19Rk3Y-tf2ool9oEL-dvsAP9gjqCaAaU3A6lMBOgHUnVH9kzUEHWtx+3FbXuJXjrstiOBg-PtYOf7N97a4MB4Dq2NbNdxB07dXu62GLbtzOKwXAB0cMgvVzm14GIuH3AQR9xuHmBTDgAxuqUUAASpyAhH7zNDvu0I5QcM20H4jyR9QGkeAg8IsjwO6ru6ZJptA5D5QsMHdL4AdS4zWx4GDvu12JbT9jSw3ZOvGPmApj08xY4PugBZLvD3uynf0c+OB7m9oe-46kdBPLHAD1h9-avucP-7ETh+-3ZEev33bEcaABWG-Gm3rzXgVAQA64tRoCbKYPelA-DCLgOZg1wWR2x4DuRdHkT5B9E8Mc-nBLhT0YMU-Ubld8HNjh6aqR1JH6QoPtjxwI7odVWGHTIGW75c6u9P7AOpEp4M+4cJ2+HEN9p945hteX9boduJ-k+Wf9PSnJp+RxI4CdmPgnot-h7Q5mdTXhHpvUR03Zck7wlrMgI+3RHOd7mDzm9k8z-YmhiBwAl3OwLEVuttPl72TrS0Y4jhvPSgHzr5wpCsd8gOghD3oPkjGchhZg2FqZ7Q+heMOFnrz95ymFaufPvnqt8J3c70cdO9nMTw50bciLwuZqpL8l8i+Sen22H2DwELg+2uZPXLDzt66bzxwdAWEGd4GsXYoeUBYL23FF5K5TCl2WADlyF3Xaid0uGLIrsV7C55v6Y+bUF6V3Bble83rLFdkMMMCFsi28XkNwV3M+F3U5RXeDbVxK+Ne53FXyr+R-K42vMA7LZd3O5XeahWuabNrp54lc1eOvunEcAh7RGIf0RlL2L+wLi-wdovo3FLWN0CDIcUPRg8gQNw-bvBpYcgdAZGz4DqMynLT8pptWuyVOTHVTsgdU7101OLHONoQ+8niaHJDm447e1k2OZ3gTmCuLZzVSWCoCdmtBxlcYlSd-3016TB+ghtxzwPrpq3Ys5RPu1ZlVIwuPJOtiu7Tc8siYD7dfUzlzqkGoDR+ZUyBnkTdCdFynYLkJlYL4zr22nNfRrNynWyyQJOAt0W9nNCMmHLKe-t7fNRBQHpU5Q9yfvnSPBbH9tSbj3acsQg8A9dz90S5-e0A-3tjwDzO6P1HuQP-7xkOB+7sPWa70Z2QCKCAA')">function javascript_value_process(exp) {
    return is_application(exp)
        ? list("application", function_expression(exp),
               map(javascript_value_process, args(exp)))
        : is_name(exp)
        ? list("?", symbol_of_name(exp))
        : exp;
}

</pre></div></div>
	</p></div>
      </span></td></tr></table>

    <div class='permalink'>
<a name='p55' class='permalink'></a><p>
      Once the variables are transformed in this way, the variables in a
      pattern are lists starting with
      
	<span style="color:teal">
	  <kbd>?</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>"?"</kbd>
	</span>
      
      and the
      
	<span style="color:teal">constant symbols</span>
	<span style="color:blue">strings</span>
      
      (which need to be recognized for
      data-base indexing, section <REF NAME="sec:query-db"><a class="superscript" id="4.4.4-sec-link-4.4.4.5" href="./4.4.4.html#sec4.4.4.5">4.4.4.5</a></REF>) are
      just
      
	<span style="color:teal">
	  the symbols.
	</span>
	<span style="color:blue">
	  strings.
	</span>
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (var? exp)
        (tagged-list? exp '?))

        (define (constant-symbol? exp) (symbol? exp))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_41_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5sIREYFAkg0chgr4G0jAr86unDCwbgng3gz0dCM54YPSWQnY6Snix0AlKTj4nYwZgIkgupkZapLKFROToE6TdMREZTTSaT7x2kG0o8baAkgsKpugxZgFqDpApA7gs8liBg5q3TUNDACpegJkpADFgIDEniUz+uOpwZ4zBjEyUz38hpoajhbMCkGpbTOgwalCezvGWzUw92nTsIOz+TztwZDT80sgzTfGud9Dmzw8ez7m2pJggIGzswiOy0LAYzIaMT01fzkwGTQI8G3EVTVyPIFCZg2wWAj2Dm+0O8iEQL7qQQQ5Lo0LZgEtQI7i4IILiTBw0LkzuL+JcRtAUQJklooTlYETr80LXyREuW6CcCVSRLsL8LqQrgSSXKbMPKKLZpHLMzlzCpTzI8PzBLQL4q-z7q3pHL1gDERTABe0B0edqdWyTGmLYZQKCrwZor4w3gvzx08imLMrcL9M7zZr1gSGXzLKgIo1ezMdNr+rjALAZpELdqFx9LQmorztfVF2PIOo0L-FbomLjr9g3zBraS92YKOzKLILgIAA5LqRQvk0m3C12TswGdC58+GyPNHIwCyvm3TS0XYuWU8PEz4DqEW0s0CqwZJDqVaTqcwsKGgtSN4C2zkbPBlQKwSTaxK9W8Gy2AO1fbm86664diO1s-2yOAW1OS6MO3q9W8Cc4Pg4Q6QMQ5aOuvDJFOzNBgC1SjSlUqzNyarsDcy7SpzIMDy0TFGMe7QzYLnau1SOu5QEPAlvzDu9SC83u264UA0iq8eyC6wbi3HEq4kuiMe9yRaXDMu6AEW-KFqjDB+2RNSHux6v9gexgke3DGVikDeT7FLvmuksmcq9ywR+q7ezh3+QHZ+7IF0GwvmrnfB-CIh8h+zN+5B0JRVgR92ZialcduC1CgNRcTqNuyh3R5BqGkdGAmUGJ+zAmBar+ykERJRLx6cHa70IJzyXJ22-R32hO6p-RXx0+0Q6+5u0flpx4sJyhoZzBUzoDCZy+2+1u8wOJxK-IpB5U3+9Z3MTx-uTpxJxalzrpRh-tD0VRx5p4ZESBypYqAkmFxB1R8F+FpF01jB5iINuFc4G+s8Me2kT6ISYB0JjqEV953JazApSqmqlw7yxzGpTl1pY4cUVDnlyW+kYVzhyCy6KV8p7yVadBpV4+s+hR-cM4M18pEauQm24wJWOQCwl4Kwh0MGAcK16c0MHCO+mh3x-yO2x8yIWdPsPR9N5WNdKt4iUOeNz+xjHgBwt4JuBcKBDHZ9pKMpe0OQHJNonFKQMMJtMtKAJ5DarIGdJ5GgCD6bFl+pXpKQHoPdEIViH6IwB0B0+d4C3YAj0j2fZ4l3StgyyUtbOoDDzIHDzqDqGj1aRj0p1ikOWT4jyOYCljtSJFIT3Dy6DTxT7B0-C0KBBNh6g7lnvElz1kNVUjYLzIMjXOXeAmREsz5IDwIMLD5IOrHpaDhpKL-mvyEzwr3L9OWUFHg93U0JdYDlqJB4Gr5idj50DJeZQ2Bb1Zuktzled8lmmz+r4z9Dwr-wIO0SKr7k2ZakLGi7+b8mhZitlb3TF+Lb4b7VrpbheH2tKzyGOT37+5SkG5aFpiEfPQO2zL9rx79hSOFbyr6b4+K71Dzn175nqZAL771H8bz76BAxbb2HxGfYBcC2Hr6L-e3TISYDFrzHRcXn-eEfuXZI4Y26B3772ZQ73paEM74n4j6X5r0T4rxXyb6Ly5RMjloH6cE3x5nK76a3zOPX1kJ8vv4OoSYSYP6Vl382kf8XxUx6HK9P7H4UKxW32UGz-nzIMn+n31hlxn0nE2paBvuRJK3l+DYB8cpeiwSzlWXigZBEyTOIiBAPU4xB8owoFvJ4lQHtsW8FpOVP1xYCDdqu6Ud9Pknq6PhDURuc7kAPIDfcLGfuW7pLjN7Ckq8ovCbFUCzRvd80DA+7qwLtbwCIk+Ycqs9ySzcDZuj4Z2lgJm75hzYT8DwDEBxixB1cX-GJoSSUFD8bQ7xOQcmlwbq49AWghQZMHy5Dl9BqpTQfIJ0EP4TBugGJi6CsGTBHCdg9Bu9hMpqC3iRgjXtD1cGPFHCoJA4GoOyJuC2uzgQkrIPMGKDymJ-dQQXyvbeDmGo3EsFQEsQVcPiCxf3IeVUKLhJAP3ZNFkEYDaZuYHCFlGd0KChdFwP7Gfr7kMClQwhOga3DUKcEuoHycMGIT8Sj7nc7BjfYPu3Q6B64se6QyQpkOyFSQEmyQt4nriIh+hFgLKRwTATsEb9o+KXULh10WC4dvkX4QkpMNKYIRIOgwTYci085R9n+jWBsKzEOH-9zuew49rBwNLZAWArCRRtWmDBhg4QfGOgNryeFrUEwdAJXkENiZIs3hJ7UAB8JeFdBvhE2CdoST7JSwb+PPbmjcMeD3D30jw+QJ8NaZ2AERM4aEaPyVLAivh6sd4jEGWhZACGYEZ4a8PeEoiQR0gH4Wt0BYAiQWuI0EfwHBEQtIRCEAETCKhqEjvAxI51IyL0CMjqRE2G-hMlhEzZ4RdwzEZ2GuFRBbhLqMMEYE2h5044MTfAAqKrSRB0RvzCUZICfp3oD4txdUbKE1G3DfAWo-doizngSjAR8GCdtyOwbZA+RlIvjH2VlGPAa2YoggEaPewSizRco5COaI+hDFuGKeK1BJl6Bbo1BnEH-IEPtyX0OhSWRwRgxcERCJiQJNbgmJ35dDLMILXwZyVqYTFoxLQ5yhCK0DLR3s51EATMMsE1CpyRYlId-1g7LAFI3gCscAI5LNjBg9Y2Med1vJ8d8AWoDunqSs6AgBxhIDuhOzHgE9OxQIrQGYBBa3lrAdoqQGUObHzihMvg9BooGLARiK4M47sY8WXELQUMa4rYDsA9YoZoxgI5seWN1HtjkWa4kUXTBdBXinxhQG8a2LvE0COSonOcW+KVI6hXx2IoVL+QnajjBxHQPbuBReyqksgc3H0W6N+YEEjBhJNGp6Pgxxkzo33EMFFFYTvYduM3KMARJhCDB4OM4+Dj2MqF5pKxd1RdLmnzQfinAX4kAWRK0DmpjujQCRqvXLQUTYh53GiTOhzR5p+xEEmATYHRwIYIWzZOCZBF9ECS6J5jOIc4EICyAnBwYGGDQTnFGCAcsbX8SSFg5vcTRjwZnrnyJ40jZ+l9YPG9xMny8zJc5Z8p0KPQrZBy8GMcrB3kGwxJACvFEJpLCIWS-csPfNHpPslyEyhsPMwDM1xb65YeGMOCaAH5IAAJPCJIAACC4AcAHhAABK-JSAAAHk96yAJLDsXNh2lvxMyNAUTl8nljix3-IwSpLGAeSNJjEtNCC0MmNSFOHExWM1Kg6gBDJ6geJMRKJyOE+ppQcqe20qkxNEpyUtKRlOyl5SCpw01vu1KO4VSupZY1sTE0Mm+jGpXk5fj5O6mttVpxAOyIhMm6CJ5BY0wiWtJbFOAapMTHUWqK0C50Kc0Y9wMTRbzYTooeEy6QglekEDhON04gHdK76lTvuP0yqc1Lulmw4peBVcH6BIB-cksAABkgZMJ7SYsLtoiKw6VhKABwQgpjPhmboCoSWWGTIwRmCQFSPAZfGtFJkKxyZjARwk-AaiMRuk4gtQbTPPb3dcZKgi4oCBi6EkOZbpC9ugw6AV9omQYu8HYAOiszQIUgGIAui7YW5L6gsw9jjI6DbF0ZKs7Ga+FxlsCABRcWUWMEYjqBX4xQ0snDkaRoc0czAsYMzJllZAButgTGZzLVln19cF4nwD1w6Q+ddQdgI2SbIlY7DwyhsyQMbLkCvxuuVHN2dB0WCUDPUIcsOa-FJmYSKQwYJEUj2RC5BkhXgn4umVfR+zQ5Ac2qbhVKHhhWUqwzfouXx5lA1B3-ZvubJxBkE2hNmerBULw7xi6h2g+osmIfJ3Tm5Dc+YB4Eckh9Og9ZTxAOPqz1kiICcgOdWPnQeB5hf-e7EcMBTTpCu64lXEMALmJzA5qLAIFvJkD+zw5+wynvTwIBO5yC9vc4fHO3lFycOsHTcWGMTSIxue-guCg2KVl+4Ex1QruS2R7lJIc5zlGrDlg6HYtd+uFCPhNHVLMSOSc8mCHMK4ncTrA1oPucOOn6lyfA1odNL3TwCI08F6SS3DUM7kGCGhKYuQH3PSRfhQFWYpyaPMBR9DjSMC-Mak0OjASf5JC2YbWNP73Z4WYws+XmLfnkKP5yXVuTljTk44pAJMFBUPwLFQyLApNMAHgsRqUK1o4E8cZBJEU844+JwkMUI0EUUKAK0Es6CQEYU0SaC2vRYJ7w-lGC+x6nMcdJDEnFI1FDiycdXPMUx11YC48YkeNXFSxhxe2EpLoq6BPymyNIbnosAsVWK+F3nOXGXMsUbyeSj8xQM-LCUOzLFMdbXm4IUWgAlFR4i-n4u2ALAL+nioTCYugVmKXQESmts+LdDxL-xNgMpSPDMWicsRSCumKJ3Vj1KQJjxHqc4o7ruSpApM3wP5gSLaSnYmRV2CMsZAphSZ+RTWBlA0BMZk5Rg46MnPeK0zroyy34YC1ehug1lgIutnIGNlwgvgeBDKhOyyZ7LFZEsiCtA1YQYyHZpM0iTOx9TrTbpcHF5Y0Nzl95L6oYbIO9lJn5opZnxdXHLNyDJyasw2KBSPAUlEcgUjSphaxMBldL-JoYFSVGD+XU5k5KKmwLxNaFrcEVsKkSeoscUuSDsELOTCExeUKzVw10TFQCsVkijpJ9gWSYhL0CEqd0uaIMXFKmmSBMpiqAADJ4RCpBuUoKjM6L2AwZpMzOJDOsW-D6pak2GFVI2mtSlpwfGGAmGlXKqnAPUkafEi1XvE9VDy1yDz1+G8r+VQq8AItMtDLTjVMqt5WmiME6jBGBwCnFtLZU7TvJEsA6cBKiJdsTpWo8EF33dVajnaMXP1VkADW3DwQKc00Hcq1WyrKJseeYA9IVHPShUgK7mi3jQbzQhlTygGdVI-kgzJVtErtvauRUfzY1YgGkPplXBFs9ASKwta+UQn3TEJ8op6UqPQqGUs1gKZ1Q8K6D8jxoK08aYrEbWtjgZbCumJ6LQZaqx17y38s-mbXmiH5aGKld4ELYvKapRk11rz0vqWxhA+aayTlwbUvKpygISlUW2-Sep91JAYed0JBY1q8qa6gtievXVbrrRE7G9bkEu7Dsl1twqtT6EaniDTx2yqQMUwlZrizAaLWJZWwQiQaZRVpMYINMggYNGpYzTqY6ozShcgN3PZDWmkL6X1ApSWT1XtIlh4azKWaHpnKhHx4bt1-9HtCGtNGw9DpI646RKKvUpBFgn2ZnixqulsbTptDQknhsGCeiqNUskRBhu3XzCV5P6DomdEMCIbjVDQtDVsrjFf0HV+aNMGiqWWKzgFsaCIDhrSUOqK5+lQjUT3zQkaR4+04zVH0o2OBxNSmiUfRubSMbjJzGztpGvY1mUuNfQdzRGpkBRrHg3BQFALK7YiaoaYmkfLTOtFzkZN6fIxRSEO5KarS4MkmORrGXGr0NR0hJVZyS1DLyNE7JLXhqy2sb3iRWjDSVr43aYFNdgVLe9lQ3qrKtMIOclmkyDDq+NweXlTNKyk5T8pVqzEF1vSk9b5pIqoTRhvC3002tdW3uOd0BBhIoJxqJbpltU2+k5utW2mQ1vUk0rGxamqoVNulX5pzVgq4VTViO2WqGJFxfNZ6P21lqQpDYObffAGWrEDMG6KyNQQowWjyyH224iTjTBvaRA2GGJiV2AzrLG4r26EJnA+1GDI5nCRwnphe3LV-t3oQHRlq+0g6ftRWRHdCBR2-DgdsO-bgUTB1Y6RAkOkHdDraLo6CdEoBqDoFBhdB61UO3HdsMp1yaKQbMHGPAly5k6mdAxFncahDQsAusOOtbjDv4QQ8-t1AeWX9oh3vqW1GWyStLq+h6BFdFAOnjyT-WPAJ2Eu+WR1hV1Q49dOGH0heupVpY9dyu2gEjsnin8vyVlGLRjB83O162KYY3eutiLa6004qs6Ijsl25Bidqu2XeaPl3GM1wEgS3VGD92TwQWto91kTN5GkjURpDJPKuvrVpYI9Ao0PRDqnIa7XW1um2lDW9066idGeknenroCW7DdZ-bpZ8Tt2QgHdc2xgDqRd0FsNqoen3bXTvA07LEbCAPf+qdVtrHpiouslXqeDvTK9RvLbGUCb0spO9LTZ9SygtQ4rKcsEllQhNDW-ko23s5lfBO3U2USxPC-XPBlz2hBs9XYOvc20b3J6XlsRGfTtuDEhhPsXOlYUYO8zs6WWHKO9llEkDWN1GdjNPBCS3KwdHOG7QAv1J73ui+9Wo9tYPsT0TI+xU2CnLDHv0cpUBfYM8FxlAMNjF9N+K9j9WxFyVlAhAp9MEK0AyKiIQBszglhjVuyrOW+1lWvsPE9oiIh+inCftFB17yDznCzs7sv2u7BgHB8zhoPmxZoNoSHTas8PzQABOKoHeDENrUd9yPFtIAIkBbVt16DZaL4EGCYaRKuWAiiSD0roLY0+dU4EjPrlAjlDzwvQAmwTYpg0AthjjQsNbkv9rAshrYbXH0lNoXDqhuiAkx1HIQpyzgWGqYSvkAVQgnhnUd4bWCDARDIelas8IA2Sgjla1U5TBGlCIawDO634dnrYPca+QiRk5eMDOUX6RMYwS9eajyPJHb9d4ALnPttTEAfN1xbwOkBpAT1d1fuS2PmmY6aoWgSHALppLyjPAYgPm-JhUBjV6abUIURgE0eHri11ONIeksKCt4uHnahkFY1fVo4fL11uqIY6ABWOg1Kg-imwEscXbUrLYRoUAM-zT46Ymtr4ObslCQ1Lc+Mpxq3nlsxkpbit5Wo6QAiARPHa+saCY1MeHgzGks7sccYyHBBtyzDsRtassd2Ow08NkoB4+rNhMrGRQ5xmPpcbi1hAljINZExsYLbZol0DAZEyibMphG2VTaHUemvsrdr4DSpY4+upgPM4UDgYNA88Etg1SRNBBggFDRsTVLhMGgUGDUfZPJxl92+30RhOlH-8EtOCEnDkDoCMQEmgxz7J-KqHtGksnR1jr0dyiyBajQx7UiMfmE3ljK3aoclPobVxxRTdB00RKbu0zEnW9a5k4yFZPmni4RWQ4pyZwP01eTT2soWbOURIIkqjsvmUamqP1qE2xEvQG0oAA6WAfLf2vGAsJ8AVpX5ofrhqQ13U5aaw0CH+NNkMqVQUM9SvDPHdIzSCmM3GfTkJmXUyZzSShkIDXEpycPQknWdAAAAvEBqABjN0N4ztxpMy62wNpnWzeTQdFmcBA5nZA+YeFjcFlP0AFTPgcM92cTPVnaa-rSIlxFvg6lSAOpSCYaATYQg8ABZhk-OYrM9mlzX1Fc2ex1IeANzW5mNSOZFBAA')">function is_var(exp) {
    return is_tagged_list(exp, "?");
}

</pre></div></div></td></tr></table>
    </p></div>
    
    <div class='permalink'>
<a name='p56' class='permalink'></a><p>
      Unique variables are constructed during rule application
      (in section <REF NAME="sec:query-unify"><a class="superscript" id="4.4.4-sec-link-4.4.4.4" href="./4.4.4.html#sec4.4.4.4">4.4.4.4</a></REF>) by means of
      the following
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      The unique identifier for a rule application is a number, which is
      incremented each time a rule is applied.
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define rule-counter 0)

        (define (new-rule-application-id)
        (set! rule-counter (+ 1 rule-counter))
        rule-counter)

        (define (make-new-variable var rule-application-id)
        (cons '? (cons rule-application-id (cdr var))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_42_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARl5yJkqtUAFMAbgEMANoUnlRACjrkW5ADRji4gJSgA3llDHGo8oUbFQlOgH06o6flsSZcqsQDmy1eR1HjQKCAfmMVNQCgoIAuaztiSRYlcL9IqONQ6WpqAGtCAAd7AE8WACNqaVspWWSS8srqZwSknzUdTVFtf3SYuNtSWhVJYnJbABNRUmlJRnkaYlbUnsDQ10qB+nJh0YmpmbnaRY6utPTYmyqZyklS6VFxyenZ4QWU7uXQVerLxmvb+92TwOr18x10pyi5zskjodEonmISRGi3eyy+MlsMLhCKR5COWnBH1AUP6tDGlBeGNEAA98qZYfMURCQmJvhtyZTKjS6aIGYcUmDUT0SdMymNJEyiaEWJIcvdBBRGaLSuLbPl9kkFIw6Cj1MyiR9larymMirr9Qaep1CR8SQ4AI6ETqkZK+IXpdGVB1OsjJUSO533IYKXE6t6Ci3Evq3aikHKSj6e2wxuP463uyF9UzmSwJtGsjHZiwgtQRokkyT5fLSSikYF5nqhSvVs1rdxKBUvFy0+lw-luwV6y3pGsqWyNS41HUzTxhgcEnQZ3qiRjMRj4gBEAFViDliNQAO5WOhFEaSanWKxt+SiaIbnQAbiwAF8BCRFSJm9IzYJNDO6HohiBJQ+CgIoFx0pQLAUpQ4jyu+LyKIIi4GBCRaWKAX5FGqvzQVQcG2J2jK-phjCzo+kTPmI0gONYoHgXYAwsPk1AkGMhEIcRJAoUBUQbCooD0oQ0jkKAAC8BayDeSGcbQybUKaMnEO0kbDsYNIKMQ7HWpQzCIp0eKqWpQREXJ6qzJqK46shQ7GcO-62XZBqmcQLjaLptC4kpi4Uek6FWBc-mTk6ihCSJS4eoJZjFsF9wbJpeJhUslqxGxoj4JQxCiGMT6BFRji0bxQQrmuSmaNuu77keBCyVY5BFPkoiXphVbfveuXGK+r5YC5oCjqME7VE6OrcnQgqoVE-mgPumJkSNtIARaoTEMJ0gWrE6q6Yo14KEhuljjO20Le0C6OcO-Xjs4Q28qFvKjP+R35ABgoUd1vVrKSWkwbQVI9ryfYlhoC4TYEU0XOQjAhTtSjst2dI4dluoLhFKySe2iiw9yjCfXObRluWaPSZjPaYiJSPpk+b21ZJ9j+j6LqLGNwNFXRYEXKIzH1bTAa+ozPH6lNaUZVlOVpPlNFNSBbN2NMY7BhzBl84BRlTdDe3aqM8teSkz0U2L1GFfq-GiRlGv2L4sXiaARlq6bctbCGis6+0evLFLDG2EF13q-baixfzlpTXbmsW9dHXpOLhuB9FGEfd6gaKEZQT0iHN6hnz6iuz0r5BF1ODG6AJBYvCItW4oehiQAfNNq1Pj11MXRORcMgiiPNLyyvJzHAXxKtijt4t+YrdIa3LBtkhbc32Ii5ojfOFPJeI1slDSP3iQd4uD4AJBBC+b5CPMoB0HWrmsTsjz7C8uN+CDxjuxc8e828nc9AXOtW4-Lrm2nBnX75PRgzsBzfIXNP6ujUIPA0y1VpGViM2ToYxlAn3HIQc+exnjzGsvtVOjtkTOxUk5IIx9hgoLQUCK+igZRym5vTJQSdCFd3tj-EY18AI+XDqASOTUWag27n0Y22wHjoPrG8ehmQbB4gESMIR5D5jFDKBUFEKNMwXCkL8G4dwZGX0ZKIuy4iVCKDUX8TRgJtFyRPAo1ez96HGFiMPaQHC871wPiID6KZ4wCmZmkAuJoihW3cfJRSbwOEFyyHWGiH9kFny0RgwYihfH-2MAXBercxgMAknPWwKSRaKDCTIACHDVZDWkr4s6loNIILcuIDy+lkR5JopobJ2UmbplevvD8V5vj+TTF0W+UUcxWCofcL2bg6HGTVkFLG-0dEDhsR8VplN2kvBpsXHETtQReKCAXa6Vs1arNqaMb24YFwcP2fI+osVFD7NxOcxRxzrqCkKXwsOe9nEdJpkYjRAIL6xMBuNFmZyLEXO9p8-4MTgS3KsbM5YatQUmJ+RCo5850xlMCHrKixg3nLI+lIshZi-mbMCICuoFRLm4vBV2IFdzoVWmKbtclpjfmXOOSi-U6KcB4BcgwfAzA2BQDgIgZA6A+AACYlmHwfo4ZwO1MreDeH0wBtgVplBXCiYwAAfdVqkH4Q1lWq0AmrtV2HKBUUQww1WGoNBcexKJFlYolXYLYnhPDZVsP1fE5AAAW9wnUvxMHwiCE91zyoAGQhtAN6yQiD5ViVjaAL1PrJCeDtb1a1681Us0VU6l17F3WeI3O3dqe9epUoaE0dN8rM18MjYg5eUK2htPtSIC41z1ltFvlmpNOa3USM3K2kYRbXy9X7ZrEl9ab5FSmjWxQdbFDTtnc-TexbqYjuZW6Dt1azW1onqvBdbol1UxcT3HGWxpGMpEeuydAbHVdtdXmjZG4GUIpeIOptVgn3CMpWOjNkQp1bpnTuud-690NoPW+0AH7ZFySRe2q9AyI3AcAyBvwYHU12Dhd8z9MzYO-uvbYbNd7e35owxS+Yr7eokfPV+yxP7eHwfnYBhjK8lGoeppR59ciYMTtw-RxDzHkPsNeXgAAYpAAAGgAWQAKKxFMNWSQLpQAbhcg8YW31iAblAAeCknqlNGkkBuXAYBJD4C1PGz1Ng4h0CdHECNwwxh3DGNEIzEbyDkCetEEAngdOEFKGgJiwA6CsUYC6AAtApqNHMijAAAFZ0FC3QaYXhgA2Gs7yYAAA2AAzNgET4npOyY5tQOC5mmruKYKwPqiQVSSECX42gimE0ufMg4RgWnZhPVK6AXxzVJDdbCTkLT3qspwTa1lbK2U0DgYuPp2j-r4Pg1vbmojD6VMTDUy+tpvV9Nqg1GYKyc3+nFlADKfIygx2XSVevTQTHx2CaHQ3arxoFJmkrTx47QzkwDaA1GgD-HAOLsbWhz23dDududYRgx+agpawMuR6mky-p8kBn6v9v2BNA+phcdk6nfo8mR2DvDBHltQ42XMx9ZJcdciRwDeHR6INkjhtjHk0bL3vYwhdUw+B8Q8C29TYm8N+KE-g5z9K+IRV8-pwL7GMg8Rvbo8d0X3PPFZcx-TyVPMGby-m8dxbEOSdy4fWAun7zPtgL5hukXvaNzG80M7RZJa6aBm-rg8gf8DCBHZ1YW7SiHfU2Di7hWeDfAAUt8d6d9vl305ToH9Ozsw8YWQwUqP7z2ac2wub+PcHde9xHnzP36uZYwhwUHw3EDUd4ZtUnsD03jXfe1zrjCevu33tLEp9xJvlmffccLxX1uO927dAX95ATfGHaOxhH3z8U1Y+hK1WsF6cMK6bze-XPbSdt43F+Bfm3h-LJU1MgnDe0fbuY9PlPyyHrH83ejpDAP92S-eTNB61AnoV4W7n1er-k8PfpwHw63+7+4e-6gBe+h8MeL+b+CedUgGoBQmYAXKFWfKHAgq3AfAWW4qzajqkMSg1IfqE+VgF4saEkEMToM+9On2Lkig5k68WoTMpShKjeVg7qFOzErEWkHER6G4qKRINBlk2omgDB7KwOTELEbEnBHSSE+B4OLeva+A5Uoh7B7ELkneh8KmfB+22oUhCqfCSuSEmgvOYBIgKmY++A0huhEiIO3O8hoAEuRhVgB+7kekXkZhOhVuY4XO+hoAqu5Bpusowy3cZKtACU5h7heIG4IyNQ3BDOIwBkj+yygUgRIKoyoROe+GS26+eIDySmkRToqhIguRcUwRis10qRk+fGq8pRau7yzoWQcIXgVSNSXk6Ybhx2s6wh-u2ChEFkSgLRVavGv2HR9OtR1ADgyYP4PR-yu8Xc8Gm064PK12Jye8BcCaLg6ejRzhBkVs9idcvUlBPR52liTM10oe-Rx2cxhx9QxxoyP+4GCxSQkK1kPRgE0xy+3u-69xog8RahPRsUTx68LxnuMxbRgGnx1R2K1Imk2kThnkTsY61xDS3WMI9wfRaQU0dwXgXqlxFQoexBfUnQngWJ1QkCiYoAFx+xFa8JmgxJJ0pQyJVSyiUYGJhJnq2JNEegAAPPiZiayTSUnKsKuNQOuBuAACrZAnbDB+IziEChhHwFDViUDZSxCaYADU1sDCYQuqXgIEr28Jegap0Rqp6pGpKgvw2p+AZoNJjJtiYggpwpYp1ABAogB4pEngMpv8cp8+SpSmoAapcyUQppsqOpbJoeBp5UvpxpDCgZ5plp+SNe222QeQhQpazKY6-yaQ702gbq2QZ2qJywJaJ8IZ1JcZfSywiqNqpaJJeiBI2Zr+icGpaKZAdRsqGxsJyIrS-pNppa4kcaEeepnZqM06fJDZsQxCCwC6epmgs6VpHCuc+o7s1oPZJB3qaxIC2EOkmxIw+BMKdpbJ5UO45QbER8Y6ypiSUQXCpZr8gwJsPRVsAenx20XQs5ACfCY5SEvxlZ75AJPBTknxfxX5SQS6ywOceUaJfC1otZuZT5ryw6LcrkKZRyaZoA1Q6ZJk1MEFWQdZeZPQBZ5qlZxZ7Jl5fklefclZ1pLIGFOZ9ZDCIx9RngrZByj5ug5FgQo5Y6S5CGv2ZFnZoQDgowQ5+SBFLFvQb5E5RxJ005cZZ5uckZUQC52gHFqxwCXMG5bZ3G5Su5pa+5xAh5Wkx5livWcFuId40leUBs3CRkBcnxd5XRD5WcRIU0b5f5n5YJP5dkf5JxAFXxplnUYsYF8GlFWF0F3UnKtU3KvK7AAqXAwqGAmBx6kEeEsE8ER63k0BfQxOmRZUSmCVMEcE+RVgOV+E9wUE1Ype9YyEaVPuyEjaBchVSVEhV8Vs7qzILBNa0RgQNaw4BCI41uda7VxgdaXVPBLBcx-VZJQaQ1LV1u-UY1-Uk1PQLB1qq00RS1I8RI3VUQLB5IdA8mRQ0R21u161w11uJUQp-Vp1bWBoG1QQLBMoXqmIpQdA3Bd1nqD1DAyw11gQLBKpY1gQig1ImgRQFc1cF4apfioAn1xgLBoWv1xg-1gNwNoAF4oWoA4NkNfU1uAAVLDWBADajYjReJjajcYOjSwcADjfDfjeJCDaAGAGjcdQYhuAAKQU141A3U1I2gBM3E0Q0M3hHEG-WU3s1Vyc14lA182KAbgACEsagtbNBNoAMtEk4tU1jNHJrNCNHNF4XJxgKtC11uHJYksNQtCthtutpN1ulcGtVNItF41c5tEtG4lcRtmgUQJtWtoAztDtqt4RUtONnNQQItxgUtgQeBzIFEtVuEuVyVHSjx4k+op2P2YwmgdVBEXKEd15ZJUdRVDVci1ApQMWkwbu8dywidggHNI12dSV0RVV3Ei4blgQqdMdV8FEWAkdUE0dJ62w6SGNBiLBQsmU2U0RA9Is6NDZm11ukAxAG2e1rtU9M9Y949X11uL1tgsAkA-Vq969i9S9vd4Rq9UmY1B9O9S9LBAAcpIGfTjRfWfcJU5BnZsFnR3TneSpWSXT0GXRzdOmYSnVXQRLisnu3Ylf-deYIice-ekJ-SLVVfXU-cA0UZsN3a3cOq1NhE3bnYcCRDOJkWUVYFhLYJlFklpCuN+C2TFpIFIMfL8CAtRWpOgyVXcLiOVdxA3ekNg-1I+FEDBdTHxQUAxV5Lg2IJCZUqpYxTYvAlpNQX-c3XIvhbJYQug6-ZOeI1WAglI8-fVSpvnYXRQEzAOY3dI13dIicSfUEEpesaI7iDVZnasZ4FkHSVyDCQch-NFIUJY4rK3aFUeuFZVvypwEKhgLFeBvFLMBQLYAGCoHIjKIwPGBhoI0tSquuD7nE4uPqKED7pJeov8D5BGRuLYEadGd5haUnX9pUVcF8j5PqLEMk+U9k98SIExDKLTDQQoKzmaeRK0RhApqQDKcJNJMoH+KQKQIjQwGqVckMxxRuJpqEFM1GIaRGd06Y0SFM4Pu07cb1DyG5q9lqZ4H+HNHs-RZs-VIBFvP5cdoU7k5LRGY07Vg4C04jIndg0c0UAc2wrkzoBuPYVnWYFzFqCwFcmRPE5-gC54BFDM-YoZmPH0O6jOHoGGlgDvNLEqn3LOrC3oJqpxafqvGi4rXGhuMEPeGk2BNOrC5MwS6pKECEwpqMBE12NE-GLC6pLEB7NvnWIhKS-C4i0EGmi0AfjToyGi-4FyzM1c2qc8-hiuP8yS3NCCzk36Vy8YJpgUxdhOO3EpLHYfgDLK-qfI8sEqxGeK38yU6izK4K-qQi1EPeIZlyxtNmPVJLTNQc7-T89hH86k1C4GltIy-mM85LaNbPL2tK6C1OYBmi861sxK4wCwEK3aDs7K0SxuAAORGkzi5PJsIujk7PBmwtfPisBiMBmj5vs1nEr7It55JCJMlNFtLPnTW72aGlnXlT7jkCGlYgrgtvlSQx3D3ipNbyhC+vTrVshvMZDvfMRtutVNjv2uDtOgFsSWAajt5uztA2+HLLkOUOkDUOHKjI4Sxj-SPRAuYjz5suMjchgt72S2svAjRF8v45atnusNBCJ3rswibuUAgKxS7suiwivMHvuvCh9BqtntEssEEt24qvlotBnsRSxDciruHxFvFBnjUhfv7tnt9L3xz4KknuHDQeXlWW1SQpWz6gpmqvpq3u9inu0hAV8SZ10h7uwiur-hWyJ2IcnjIeoc-uunzT5A0fAkYQqbdl4kbijVEsXHTr0ffsODsT-gnQ+6Sf-RMdzSVNQuCfsXCczVifMBSdKeziTtqcGXCcvtUPvvbtRFidBrqvUb1CPvL0GLGdvsfvXScc6hBs8c+T-tnDjVbQGc2dZ0MfSezTkSOLmWswexAfUfbkEEXv4vRGkeQe9GRchcFQWXEUBW0iOLcP071SNQHudPxWWfAf5jTpFcAcXWPTaV7iHhXj8vNp1QNS3j5UxEJTuf5d9AXGleRTtHUeTvlfciVdVQ1d3sSrvrFEsImXwefiMeMBdjkDUDJj3BRoTCILoclv1e5fofCdtszefMX6HxLeYjTddhj6rdnPlG-bxS-x-t2p4Cv4rgQpbD-Ap2oKYR6UurkAuY8qVakCeqVhmZZZgQODvJZZoAg+q5xWYSwixiKBygvNRQDCMBpKHs2qmAI9I8UuFzEPCzZRMtiCOgyAw+iBw-TrTqo9ClI+edSiYu3Ro9Vm2iQ9BakCE9w+zpk+I9sKTeDL+HpH-Dlx9KhKxgYiPd3BNVY3C+iDY1nkJm5AFDM+2A8CaCw+2AS5EUxECTWalDi9WxYjQ9K8K-xqAb1I893B8dyX0Qa9a94kj3ZRRdpfHbW+izAWhc8JXmP1s9jDa9Q9M9K8irDtWK+bi+m9uz0Tu8cUO+28fCCxY+D2O8GgXku8OV8Ks+TDk8+Xnn6ggW+VoXq70Dtty-68+8EVOgR9vwB9fKe+M-59++5KC+VCB9p-uwW-l9W-R+j2q9EJmDpHMZG-i+2fLAXHup68p2WeF-IUpE1uWizo98VNB9mUpft+BAFyh8SQ6-e9E-K-V9N91PPnpDuzL9xrh+XkKsd+jALpl9PcWvj0XEXGj+lF992Rn+a8z8UQKvx9zJ8Vd+rzu9F9fE7-p-AV+Vs+7yA6vIB+6UII+U0NgBp0TIFBIWakTIDAPyA2JYgUAvFplFawtt-SoQdAe239KwddyLAAbtV1AB3dfkzUcXneEy78crAIA8gD9ztQFxSBD3ZvhKWoTi9y4T4AuO9ythMDZuXyB1ogKLS1UXuEkXgXInYEbgcBO3ZBtTG7yZRyQXgQxLUzuA-9BGFxDDKoK+alB5BLZDDPEh0FeBBG06bQV9EMFaCDB9Fb2CYIUGgs2us6awbKnqZWAHBDRQhg+Q0FMAASbXVfkoKyYqDPBgFL5hUkkYeDsiYJNruSW54uDvAoQlIpoDBKc8+gaiPLmt3SoZF3U-XJTAS3BIjchgIwa4LtEyGfFGkOlJQj8FsC-ctIdwRgPgV6gDB8grYajqr0w4-A-2C-JJJnWiH+ILBBDVyHZVpDxDnif-agd1gsFh9W+OPasiQF0rsQ1EFQ+zNUIq4BCvicyWIPULNDRDLk0Q2fp1FC4tCOukXdodFwuLrCSm0HTQKcO668cdhnCZ3irHAoZcM+gAt4gzgaEHtEhppM1CwCPaNQOCEwaYEUERh0B9e-wyQICPYh0AVeqQ1alYl5xEtQR4I+wCKnLiTtxO-6YERPz54i1PhiQH4ZUgRFAiIYXwz-soF5z39d6QQAkRCIlxODLwWoO4BQ2+QAigRIIxwGCNdSQjkepFOEfmCpFIiURULNEVxTJE2IsR1cTKPSLNQEQqRigPkZCPLjkiPgYoo+ESNxELpec8ZHhqqO+H4BpgqgSsFlVOJncHCeozSObFMCJAfAFo74WXRIB25WMf+U0Z0HNFfCrRXwrkXnhxHRsiW9iSdhKJIZSimR7IxBBHm1E1tlRuo+QGaK9Fui1R9+a0fdgh7BD2IIEHGBIhKLKDRAmgcUEDHCEswfEYwiSJsLcEHEPBCQ40aMNMGeBxh62GPkS2TG+DjEWY0ADmMGEAlURUYlcK5DupgDNhVgiwSdFbHLCchIgdUG5i7G2AexrJMcdmPkBtjAKbXaysJ3wA7oh6urDIEphXErwh6vXfHqvBnEtj5AegIltZUxQet0MMwagkePXGfAhGUJAhs4H4jpjkQB4ocWCT9F2Br+14sNO10s45jz2Y4rUN2NAGslZ0Y4ifh8FnT-jFRPQQCROKnElNwJMEjUtOmgn6NCEYJGDpuNXFjBduh6d5HRTuBzd4K2o-6moMs541lR9iEce+m9RxhMQrkbbuyyO7zBNAiHA8YhzzHeJM6U4kHNZhEhWw4JlgScSBMUDsS5xDPdtqxJvEUj0gnEoYRWN4lJRJmW4xzHAMii+ioWhEswOYlIlKTeQwkPwIkMIBjF5BNIK8epReE6p2miEo8TRNADvcXRlo2HgXyJ5QjuJj9Huu92Z6uSigdhCsekgP4TCPe0CNaqOUSFmSUOSvRoBZPwIFxYeVsCTkeKeQf5WhsPPQDMwJZRhYedqIiaABFIAAJKTLYAACC4AcAFJgABKIpSAAAHkz6yACSDsQh74AzAP3Q7hgMwQWSgJ84r4m1xMnFViG1IbqV2PPaOTIpTHFiXEiEnKRJ2jkmQJUCYmYIvm80keB1KklxJBGhU4qWVIqnVS6pDUlaZ3wmkycpp9AEaZYEEaOSYxkU2wNFO5wzSToW+M6Qlm1Gvo7i8g9aTNy6kzTepgjL0YRD1GJ16EOYmUtTX9I-dJgOQBiV9MQigzCB41ccZYD+l99WpdA16ktOmmdjkZw4+yaYHbg-AmxdgTKKFGEh9T8xmdLtot2PYQpKAHvJqc6U9hkyfhNYHDq5DpkcCMy1MIkfcAPAyB4wp3MsnhmSHocjI0obnllAPCEz+BmQqmSzJ3xyI6Z1pEkAcN45izvO64HmbYD5nSB4wJXSLshK1k6z4wVwlTgaFg6PC5yIwo2fzNJkm9EhEwX4WknHALBMhZY54n0l6g2zdZ20CPi0JFkBwrU9EOmATw8HeUjh1snAsMLn4SwI5i-Tod0KrG9Dui6aZseWLshTRSgNY9KHWI1KhAVxEsfRrEG9nxg+xoyeJDcLnJbw3+0cVKR12PHVkS5ZwlCBiybntFKeKUAgPklEB-9M+nCCsU3LPaJDkxD4tUKMThC89Yh0gP6fz06GFjKxNg5Oe4MzF-SOE7sLoUrUx61i2+CfaLiQB1IiT0Z+gpOf2KrEnR0JPQFCsOIfCyULy-sy8dUB4jj08AmNV+UbDnlVjE5i8ksemivnpyXy8GDeUFO3mTCoEmPA+QhI0EXyggZcmoMfJsEqQt4SC4wO+M7kNip5q8-WPP3diOyEEdgQ4FfPdkAkXiL8t+ULPgzKYcJu3GSvP13mqxhGIQleWP2nnXy-K+E5ZPvItKHywB+QfXvkF97DjFxt5ZcVQoTaqSdxULEOfuL4US4TxPRD8a0N4UNzGwd4ypKmJYgMheevClOgItQUAdVEl4-hcosigjz1F48ygFooEXaLBFtNMAK-MxoKLr+vOUAD+M9brgjFRLThdhAQlgSRR49MCRLmQmBAvF3C1khJz8WySegEnQJdAucjPEsJlC7cbhIil2AqZPgZhJZKYJpC1896DJZ2zJlNcNgUwEyYyCplGCKids7yl8zllj4ylbXGEaU0aVlKO5qMFgjID5lFBsCeRLCRk0AzNL7J+DWrGkqplsTl2u2JGcQFGUrhsIXErZJnSmBmpXIVMq2PjPXjSz-gxMhYGUpCSZ0QlykiSEnBCUITxJEyoJbRybIlLDgCykhGUrOVBB5JAJFKfb2IAHz9leLcRbhJ9EwJJFdKe4EW0qV1YMYDIpZWTIgnaTiJTk-5nsoMnhRG0eU7abYEqlbgAAMlJkak1wR4uxf3G1NepUydQv0wRakIGm9CJgw0x6US3GlDTXUeKi6bNKharTKgNK2kQyqZl3AdQW0oqYipRVoqjpowE6aypuiPS2uAMiRognoTXTSJt0+6bSogkfAIiZM16daPvB98JV1oyWmBxyIKqvRPbRIfgxpUErZlLwgGZGP1FnZ6EyykWv6UGUCrKlw-U5cONRk4qBV+K7GZMtxkfCGGfy5dmJLGUGqPyYY4VdqMBnyBgZ+ZYRdXCMgirVGfwtkeCL2gcFMZ50k5T1IdWxKiQyovVWTJ1DJquxf0ses5TDHDzfl4Tb1UW16mQq4pmde0OXQkjeScuSgUdhuGhglrplRaEYdWpIDZzseYwIlnCGYiaJ-lZa5YRWsnYdqFgl3FhD6umUnQC1CYlJSSppD8DwJ9SuwIU1skoYDU6qJIZeKSkoYPhc3UwLDMVnsyhpVyM6fgRaGRT+BiawOekHilE8rYUq9fjFJvV-8C4PTVcAZCPW6TrREDJyKqtdGw9yoiaxVV8LbWwTUEzPYDS9O1WPsLiiazQMqI-X4z7oZ0itWeRrmgVf8BEg9cMmZmENIplSytY-RmlWwilsgLVtsrSCXqhpS611bevOUCQEpEkJ9dhBimPS318yiwChoFWQq-1dkADc5KJ75K7goGxIOBvSD5BINQGzVaJtg1GQLiIysCIjWQ1fq5ZXo03pht8rsL9uYwdiHLKFLfqFgN6ldTapM1EsDuaSm9ZOwO6Jqz1nU2gLSNs1nT7NG05SH0hUBClFuaGgjaetfUeSBIFQU6Q5voBWwEVu0qqTVPqngAOE4W8qZFoOnor4NZ0xDYjSC1Gbk8IwjcLkDwngZLNZMojR5tw28bfNpKojTssfrpa8VYWzlUitRUxa0gCKurWisEmWclNyoqrVmrPJTRstOQXLbXlXJcwNgMWWqI9CNEjCGlo0WkQHmG0IQxt5SwYsdGqV3RPoI2oQDx3G0vCrh6zWfINuwjbU1tkhKbaZptRTavmAeA7XNuO2pD9Zb+ZbWOEu3rb5tdgwDGdr24iAsongG8OxH+XXaKxt2nbfThZw75EuUBG7f+je3YbL8ZEFgJOr+3WzXtS2rLu8mG3UASZs29beWo02mblK2EDHZIXx1u5z2s6r4ZO1R0kyY8hOnUFTtlWEwFALagtj7FGCE6MYtAQ7UTr1DH84layjTY2ik3hF625UZtUW2iLk7lIWK+nAdrR0LBHtujLHQGuhFAJ1isuuGTYHZ109UYmk-RbEUYAMjpRsaxGPQmF3eqLtauubSruejDqNNnO9IMqKl0U6VtFu2UWbvW2IKNSJOxIGBn52S1G2SmY3a2uzFq7pdMg+nJ9ukgOQrdCugKUGpNWhrhwS4yuJfx6CTbi1-ysPa0wZ1mhZOdyj4OCp-WujMJQrUknnpIlqr3xyCuxKtBt1RAPd0bRZN7oLTUAO2fu1Pcu2iLp7f+SY6kJMFQSg7BGasYHWyz71TkVydjfOlSCcZWNEhDnLdmSgWny6Exga60cGtNW0NudSQcGWpBpA97do6A09FQCJjz7lhOesCOIHiHA1Yl5XM-Uph3BVdqoY4sfowFiAz7TOsUHtnfVvEl7IVXlD-ZXpHioz-Vc6veA3pf1OdRkhpf3QW2iKgGzOxfOuAXBlAocDqAIq2AAE4nwvUZA2CO-2baUF1MLAxniDUUhVUKgTQO5t3ktCKyG63eXfPohWA8SAABgj6UibAu1RQIm0TblQ0A3BiTeeTuGWgCDJTFQJXMCAEHIVBDLULGO+F7oToVgFGoYSeFWzRDrBgEeIeIPBpNAiB8YCobBEDLpAHSrpUoBLheaF97ooRTzu1H17INW+fQ2CMMMQHW9AezCLYc6X4YcCIe95Ap1hCZ7wIxAfndSRXDlA4QxzWeY-XtBWw2Op4LYChy8MurtQRhvwy9wNIPgdV1G+iKNiCMUg-Em8m3NuIHQR9BDG4ULMUf85SdQARbS8PzuMDFGYanDfUIIaXbTKxJm8W4bQr7nuxE1+GebqUEW56bEY9oBjUEHy2aJDNdm5zSFsBUDGG+6RwI6MSyO4sJIuRjEi22YPKGdqAIyWjUZKOJrMIfRj3lseKPtRWjsc-QH3K01RBCjBxlGhUaSgMArjtRv-mIZjGRqg1cetSAnv0aNHGdsSvfdsAKENrepiG6-a4RFrMVyRkBwtnbllRET89lo6iYJjnI6bjCXRYYHQAPCqpMo-O4jQJHCMSRIjHHWI1ePiO+GqjyR1I3Msfr3lhF1PCE2JKhNeAYTpe10fCe618IvjZoX4-kOkj2h4htlSYqfvP0c1mKuUswIJGZkDASAZmCSAwYl1P5GZcsq9l2A5nSFxT7BKU2Kc0QSmddEZHgE8owhyytTWoL5p9klnrK7gjYr5JoAVM0ylTYwciVtFi7D8to1p7DrTOToG9mMKTPndp3+g+HE2TExQJEoAA6WAKzdGvYhzdCIQpf5vYkBoI0UIxkTg0pgyOjFRARaWI36YDPBnQzBW0VV0ajNRsrxk8akidDh4XFCAmgAAF6wNQAIZqIHmcjP4BozhiOM6AGrMJmnISZjcCmYcBFpEWPUFE-QHRPrh-T4Z-M02cLNs0A2jNAzOVFKCGlSAhpXCYuETYUQ8AGZ-5aOadnjnmzU5mLrOfbwLmlzPbLs+1CAA')">let rule_counter = 0;

function new_rule_application_id() {
    rule_counter = rule_counter + 1;
    return rule_counter;
}
function make_new_variable(variable, rule_application_id) {
    return pair("?", pair(rule_application_id, tail(variable)));
}

</pre></div></div></td></tr></table>
    </p></div>

    <div class='permalink'>
<a name='p57' class='permalink'></a><p>
      <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:teal">
	  When <kbd>query-driver-loop</kbd> instantiates the
	  query to print the answer, it converts any unbound pattern variables
	  back to the right form for printing, using
	  <div class='snippet' id='javascript_95_43_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (contract-question-mark variable)
        (string->symbol
        (string-append "?" 
        (if (number? (cadr variable))
              (string-append (symbol->string (caddr variable))
              "-"
              (number->string (cadr variable)))
              (symbol->string (cadr variable))))))
</pre></div></div>
	  
	  
	  
	</span>    </td>
          <td></td>
          <td><span style="color:blue">
	  After <kbd>query_driver_loop</kbd>
	  instantiates the query, it converts it to a string
	  using <kbd>pretty_query</kbd>, following
	  the syntax described in
	  section <REF NAME="sec:deductive-info-retrieval"><a class="superscript" id="4.4.4-sec-link-4.4.1" href="./4.4.1.html">4.4.1</a></REF>.
	  The function <kbd>pretty_term</kbd>
	  formats unbound pattern variables using
	  <kbd>contract_question_mark</kbd>.
	  Note that it needs to distinguish genuine lists from pairs
	  whose tail is a pattern variable (and therefore technically a list).
	  <div class='snippet' id='javascript_95_44_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUAzAVwDsBjAFwEsB7YgZwICdqBbCGeJVNARjQCYcRMlVqhKdAPp0ApgBt8kmQDcAhnMKqqxAOYAKOuRbkAlKADeWUNdCMZ5Qo2LipxQiwBGMxgaOnrAD4BVjahNhLS5IyUur7GZqBBIWGhER7U1HIyqsRx-kkpYRFucnJ5JgDcWAC+QiQUNM4R5Ko6OjIAJpJyEuR5ADSg5AAWMpItOmaWoXYOTi6SAA6qlD6G8aAAZJugo6od5aAAvCdDo+OtVbVYwg1ixaosMofTNrOOTVIT7V09hgOgABExEeMkBlRqN3qomcdAAnp5MpJqIoQU8XslbPYPrtsgcWpQyutTBDrrcYQtVHQ6JQdMQnsQ+sSpsl3vNmq0ft1egDAVSaXSGeRwVcoSJGqB+bT6TJGdIEekiX4WW9sfM9viVmUNXoCUr4iZDaLyRKpYLZeRJGoNM9mRZWWrnDq9bqteUjZCxXdPpJSLRDDlLR0ZKQ5KpGFpGhjVXMfd9Otz-sTBoC-fQWnLg6Hw5HaCLISaxGmA5mQ2GIzD5Yj9f5XljY7j9q7CXpnW7mYbSV6KcWM0GyznK9bCLblfaYzi2y2XR2u4WfWpoqoPFlJFny7ncna62y45yE38mX4U4vKMvV+vB4187V56BT+expeK40q4ro9Zd43NS2pzXO3O0ISg+K5PgOL60Fa6gjh+9aTnizZlDOyoetceAAGKQAAGgAsgAogAXFiixhqQMhAvOa4yPgMSUDCgKgAA7nRwxAmGngdKogK4GAqj4OQ3hnBILh0COLi7DkHRZB0BE8bs5DkIsdAESAOgsYQHhoH6LDAHQ1COGRAC0qikPsMgsHCwAAFZ0IZdBhrowASKJMh0MAABsADM2AYdh+FEXYLDUMo5EjORK7UKQADWTCsKA7EeJxkjpB0cKgLQZFnDIcnLIwsiMExEZKVloApWlMSSqVciRTFjGjMQKiCQ1nSdGg3YShECWcbBX4cm0B48smFFAZBwY0cQdHXoB4piF1qhLDmTwCXlPWOqALCqIsBgKkiKKSGiMiDH+7rTd68WPIl81latDYbVFYwRdFrYIS6yEGqhdQzT6u43TifVcoevK7pEWjmRaN7tWIwMyAAHosdjUlG24Og2x0dqKkM+mmHSTbQ6hKHDCM0rQv3sl8+6-INx6gJihRhKmtA4zC+Ow-DrnE8QEN3tjBPw0sdgHMjE7zIekh2PgAI8KdPaM7zjC+v6pPOKL4sAvw0sSjzrPy+oR4bDua0q9RAKeV2mMLLIACOI5kKO+so395P9ZTSbU4CVs22RXMjc4d1jB7spkXkdAqp+hs8u7MjW4HYKDMSIfGj7oAB7bIMCUKdAvDYDvqi97YoYnX0EKshhp2DjLB6HcG5028ca1DrmWgG6cWpndfjmHDZveQCcFknETmYs5BwtIUee3bPdV71riEKUleF2dnVUk3LQtxX7cGw2xSz0h+fGCHZt3mk1VPULwt7s7iZ6+QKaPVF3tF37yUn1FSvxRHd+AnHyoLxSd-JdQVKsFq5Ojzi2dGnoj5SE2iRSgpkYRv3+gNV2xgUwwJ6PAqav8JSUW1uzJGY5N7wSbN3D6d5ww6DboQnOoCSFulIWQpOxBqCSAoZnagSkp5rW3nPDhvdbxJxonlS0FC9B8K4ajBC4jsEN1LmwsRnCO4gKGG6aRno8DzgYPgZgbAoBwEQMgdAfAeCfTOioaCoMASymUBIx2o8FBKGHJGWIzJaZhAAPzWGJG40IREHjolcXTawnjqrUCioQRYb4kTDltDtOQyJUSgnKIMaxJgfE2D8VIXsgYqLZggluZU6TgmgHMfE7JpY8mbiscQGxRTQCZKgkuUCuSNwIMCUEzxpTGlnmac+KpQ1Ul1IaWaGU69ClBNAJ060rDEbmjGagkpNS0kTIadjXGIJ4l4MRiTdpdMpn4zWczTZhN8E7OpoMlZCw5rlDqZ4p+849BzQWhGJa3gqHxH6HUiZKQnnXWZJ875gKbAXKCQ0lOQddmFH2fE8Ftox4xzLhnZJizamXOPjVG5EzoXPwxQMpZQyFg-UhSkbFRLzn4rRdAxYsDMFnPiLcyU1K5Bwj0KUzQAk9C4JOdsgpHyUUmABUC0Ios9oxMzvI-5-LlmgpKYwZgaw3YAFViBRWYYxWEcJGSqBhuIZwbLQYEQhubdBLLhCDDYVXSg+BQB6AiPDSgLBJohUkA84QholHn0ZSREe9rHVUGda6kg5rGCUIhDYaoJS5CyHENa21WTWCLH0sQLogbiDurrDYXsWJRJyHIMcEpTiOWUWum6wVQqgmwwEsmpQNTVi0CFHoL55abCUVyqCZamdS1NubZKENdAy09qCbg2tzBRl9DdR6FI08xaOigjaPQCNZ6mG7Z44GMSFaMgtAu1yS7pXfKIiQMaMROhVHDZG6NGbrDeHlZyoNQJlWquoOqggSdh6LHIhVE1+Zw2QKTiKxQYrWVw37fyj1yjmGsL7UBzhRTPElDkEUoiyxVissLc8IRciQ3QZDikpZA7AX-rnSOTOCMRFQdZjhqVGM7xdMOY0Fm3KObVJsR66dUQYL6o5VrQm-NOjItSXuvZBaLFcdltrDd7zTC4dRZczjzxuN811vxpZ1Gk5dNhcHaTVcY02oHiwIeI8NN120zMNah7qLHo6Kes98ho1Wt01IMMpdm7l2vgfMDhQvxyc5SXFeoMG1136Kk6z1gI22fIpezN-o80YZXsYIj5Ejg00Bd52LiKt2BeC+k+zcaZ2xgSz54RkR4sxPTU2r8aXiQJZC2EMLUaIvlbWup+FttG3NtI+lxkkmcNZbprUUItRrhZpICMzo+a9BmCOAAPlAPBqo5tCMjdmQ1A4B0Q6se4TPOea3BOhDgzvdJSGVg+CWwKFbgxFsgmW3xl0O2jQAEhQi-qLnQUyxBkSEH7JUmEkntM5YiEZlCHnrBZvjvm2FnWe7lBq6ZreUhB7D1HtHVrdcm37dKE2oiMDZSCzex9r7rTGidt85DyuAru101ezkfHLSryKyfhping7VTOdXq57rAEat1YvT46d5SCd095cuoVISeT89p-kqJ-5dsyoiCBC84F+njPLaL-48uwLfdfPCas7omf1NmzvLnz2zHTLvsx7TWayr5v-n8n+mIs0n3UAwJLVP3v6QF-kzOZUw1RfTKAU70pOjO-fqXPaAe6R8cd1Gn3nccTebKvh75lacc1uUHWsdjzIpO8GOHlbIGBOqaLl0slCzUkbduqoe6eWPgFaZ956GjGCEfL13TAvxuKRdJGQF8lLGM1Zpifm7zXeLQFclb1mwIypcFeH3KbX75JUxK0zVr8MTC8m-xuriXSvS9LI9ZPuf0ToLPE330ysB--yJ6vWhvQJ-FdDiP8pmxl-+VXGzjR6Z4vT9N5vqBjN++4kFaf535a5xLJLpLeZAGa6QQxKP7k6t4qbqJgCaKxS6IcAGLcB8CeSmIUjNCMAwQwzaZfg6onBJbsYyBr4Uj3I+x6BtqvJ5SDAJ6-6YhfiAwMz6ZJopo+xfx660H2BvIMGAJwhL59xFwRDaSJqHourUH4CEGbYXCXyAz4ApjiEcFSFfQPxnStqLR8ErQyHl44hGwSxKGgBSwyLODFqCGcqyENiGGcqDDqxmEvpfSp7p4Np6EZosG9AzpGGDCmwUEShPxroP5phVq1jMHhz-CAhBE2hfygAhEWj1zfSzowGlb6FkzyEAw8iL5AjREjgaEUi5FjDxEVypEeFrTHSlaHxqZkDVQ0i6AuGjoNpl5lFdxuhZYCJFxpbaJJLNHhGSJNjtHmyBy1EPSmovKHS-5Paw44jIY+DdFPDCG1BZphRKD6aI7WKuEWj5pzbYEBGV5jDzGxLVggZirWEzHHbbTHGDCnGOGHFS6drjFTBTGeo6iHGJFMCggJYPGghPHZzTHzAuhvH+FiDJ7VobGNEZZxInHZ6lRUhjC9H-HKyyg6AjCXGKjrYkHxTImonWghxfKeKzF6D3LjFomZDQnR4MFwmp4y5hBERZC6Conn7rYAA8WJDJwwN+TuNJJKsqN6gIAAKhkOtDkGlBQu4K3MnBErAp0ERAxAANTJbM7JxRAxBqT4AspMlmAKmxHymKnM6GDRC6BWosq4mGjdpETXrUA+AClCn4AyCMS9o6DildaSlMqUAylAigAKkt6hAGmqnGmknR5elAgpjBk+k2B+lGnqmcnR5VFFyhLhKRLn6j5xJaYeo0Y1LdAZBbQImFB3iu6BnknraRZTpyHwaFncnfKdKZmhJbThmhDDHUB1E6ANH1pboCbhlETn7HCnA6ian1mTLfgxl4lKn64FkzhQkCoqItimkx61bZaxrWI9mkHnAI4jzgltmMgmaFCWlrCpn3rEDpCHrJxxKylzkDbnoNaApZqHH5pdEknj4TJfgFl3FMmcqPHP7Np3GAZvHnk-oDZ9Fx41nZmsoIFkhJz-7VgpnVjXHqBpkZoZnKBZkcKgW97pL5lvaFmwVBkllhDTrln9nNrVlIW1ltbM6NnNmtkZ4dnNpdlxLLlDmEU9qeKyCWg6i4nYWVkyrjntiTmDAuizkw5noLk2pLmYkrFrlUVCjbkpC7mBkpjKpHnJonnVi6qSjLZCiGp-mhaXnA5hA3njF3kk6HGoXaV4VrQvnjH3Hvk-GfnlrflH7fFPCTqFD9b-merWLIU5lgU4AaI+xaI6LsD6JcBGIYC7H3BSC+pOoHHSEkC2LpHxguzjp3qAhRX+pgjvFpWUDOoOokSuZVJupKJfjHQToYxZpZUBr+X5qAw+KsEaixE2AahApwE-IRx6gNXWB6jNWX6sGzEdWgCzHdW1URyHj9WHhDWFCsE8JyCxHTUTItVhCsE4x0AkSqBwixHLWrVpRBILXCoRy7kdW7mAq7U2CsEbQjCsIeB0BfznXDCXUMB0wnXWCsFyn9U2B6AwyDBwiTYzY6oKnbVPUh59CAiGRvXWAfVfU-WgA6qGSgAA09URwABUYNNqn1cNUNOqiNcN1ggNrBwAKNEN6Nxwv1oAYA8Nw1kRAApATWjd9cTdDaAJTdjaALjRHCQW9YTXTdNgzZid9QjZEQAIQnAc200Y2gBC1JZ80U3A3Mk02Q3006qsnWBS2TURzMlHBg2c1i3q3K2s2RFTZy1E3c06oza6383A1TYa2DBhBa0K2gCW1m3S16CAgC0o0M2hDc3WAC02AEE+IQjlXRB+rZUxXOFMnHDpIbRbQaiDAVUh3ei9wB0OrRVqHejIgeBWQhg9zh10yR23rODc29WB3RWxElVxWGh2XWCx0p0-YQhYCJ1B3Or87B6AysHmbjSdCxFt2WaA2jmLURyQDEDjR0TrXW0D1D3Dw9292nURy3WSCwCQAdWz3z2T1T1A3O2z14T9Ub0r1T2sEAByqge9KNB9e9XFvd-t0WA1Rd6VEmfY9x2dhQud1q3NrxU5VdTdF9fu790WOSYqD9KQT99NJV5dV9SdN9H9825CTKPq19wd1dUYZqjpV8Zx8wJqkgMQkg5mjAzKqpkgVkqgagr20QQ8ZFQqVduVWQQoBVcVFdYQFCyDFQYQ7eEorFESUlW6KDeqMMVaXQG5GeTO2OyaNBsDlVodUJgwA5oDDdRRP9s+fFAj1KOOwjYDcDlE1A6dmdIGkj396Yv9jlO9oQElax65I6m5pgZVl9KxOg1UHgLMpjY64O2IkSfDDatdflX0AVcUeinAhiGAYV5s+DhDpAxDlo668MkU7M0GnDlIbptKuQrM3JquwN6CcCm4sRXKbMPKUTtDNgudgTVIwTlAQ8CW-MET1IwalCUTZpdMDSB0UT6SSTzt7isRyZe0dTCT3JFpcMwJzg0cjAhmmqLQMMpTZE1IUTHq-2VKNKVSHTHmN5PsUu+a6SrTiS6IGTRMUYHTQlAdZTsgXQbC+audfTAzWqwz4TozIG8iWzbiFWCz3ZmJqVx23EQmhJOo5z7MCYFqR0YCZQ7z1InzfanYh2Thqd9zpwgIo1DTV9uzALlCwLlEYLSWgI+TRDRToTR+zzUKA1FxCLqZTOgMKLhTxTYTzAFzz0TYVzcMAEnT2LKGuLMF0LFzsLvcF54WOmuW7TVL25nhkRzTccABbTPRXLXOulkWXm3TmIg24Vzgb6zwCTaRPohJCTULOoyrNTvJVp0GClKqaqXDmTHMalsrWljhxRUO8rLRdiSrVLULLoarhQFpcqmrrM2rj6z6WyBrFUprykRq5C-zjAlY5ALCXgrCHQwYBw5rgFAJcI764zDz-I3gwojh+w+zfrlY10EbiJQ5XrVTGMeAHC3gm4FwoEMdn2koyl7Q5Ack2icUpAwwm0y0oAnkNqsgZ0nkaAbbps0r6lekpAeg90QhWIfojAHQxZkbPo5ZdgQ7I7Z9niXdK2XyFp1s6gfbMgA7OoOok7Vp071TgKniG7IYW7I5gKWO1IkUK7A7Lom7w7B8PTwpVeLQoEE2HqDuWe8SD7WQ1VSN77MgyNc5d4CZES57kgPAgw-bkg6seloOGk37+a-IZ7YHIH05ZQUeRbWQLlKQOWokHgMHmJc7nQMl5lDYeHVm6S3OV53yWaV7HQsHp7vbYH-A-F7Y0Hj46HQSOWVHDFxHBHdMX4xHQlKQZHelPHa0l7B7w7ZlAFfWkrmIR89ACbQHiH9H2FI4BHUH2Hj4NHPbCnjHLYKH37rHqQsaWHOHpwXHQnEZ9gFwunr7qHh0A5hJgMCHMdFxSn94R+5dkjhjboenLHBnNm9W5nIOl9HHSWcHdHq74HOnRIzHoEfnGHsaIXpnyaFmK225j2hQrFVn0X6nxbWA6Xo5hJhJrnpWOTPaM4MXaHHo+XoAgnuFlOlnonU7ynMgEn7lAn0noQd4m1WgtbRJBHX4bADzAHiwmLQKISGQiZTOREg34LMQ+UwoLenic3CbLeDrN6LALrur6U76+Shrj4hqRumb3X5AtbFjfu+bkuOHd7Yw37E2VQWaFb+aF3hbt3ELE3ES+Y5VpbSWz3Abj4zty3-r+Y5sT8HgMQOMsQ6uzX0ThJUPbnNo7xYPyauD6uegSPEPkwCrQ56PqpiP4PKPD+OPug0TLoRPkwjhZP6D72JlcPbxWPYXnJTSWQgwQJIhZi3DSjcP2RdPFr8whJoP+PkP4YPSzP8PKnLPjxt7cu4Y4zvPF8mR-wzrQIzTcZi8ujjIZ4HKSvhxOeh5qhi4kgdbyaWQjA2m3MHCLKGbhQkzjSVTgXcRl9ZP1ugvLZGDJl2vkvjWDYTvuHyX7dHQeus7evkhBvRvUk3gWrHxzleuREfoiwLKlPMBZPcXNXulNvVriwZWgKX4hJcfLKqrXLgwefiEVTZltXXvceErUnknnqxfCTt7Bp2QLArCij1awYYYcIfGdAiH7fa1CYdAEHcvCwBFUsULvfnfXQA-E2wLrzCE3fBj71UNjfjwLf76bf8gffgsUQTfWXBgUspXq9YQ4--f6s7xMQy0WQBDYEHfXfPfG-E-0gg-Y7w-O8e-iToAx-k--A0-6rs-tc+-TOJ9tzXP7eBL+zqT-noE-6P8JsB-CZEAJmzL9m+M4KWB9HNiICXUYYIwJtDzpxxom+ATAVWkiB2BHgvgYgc3yfp3ob2bPCkPgK0CEDEBpApvtE2mqMDHg7-eDMCxAHYNsg4A+-nxj7Lb82BpXeAQQAIGygiBTfVgUgPzhkDOwt7UEl0CtQSZegW6OHpxB-w897cjvF3s72R71E3eJJWnp70zY+8kuR6edkJgUGM8ReExdQRLx+Iz86B3gd7OdV66J9CeLvKcnYKj4tdb2ywBSM4MkCuCOS-gwYN4M0GZtbyDzfAFqA7p6kPEFEWIR0FG60kSkS7X5loDCFaAzAULW8tYE4FSBFwNBbIfEL2wlIOe1aJQcWBUEVxQhH-TIT4JpZ2oLi-gswNsAWCEl1B7-fwctBcE9cOSLoVobALpguguhwwwoD0MCHBDyWBwIYZ53LQ6gxh8woVL+WBaAgYhhIDug31VJZBA272BgQQSx6Ek0aIg+DKrx7CjBoorCd7PG39ZRhbhMIQYMcwWg-5nhEQ33IYGFInc7qi6XNPmkmFOAgh-QvQM8LqEPDGgEjQ-kKjeHGDPUwQmdDmjzTRCkhKQsoRwPVbNldhkEBgfCN+HmNmGYgQgLICp7BgYYxQsIpmwBwqlYgbzbIecIlAVsJBJA-top1XZP9QgoOfNBW3Pasi4QDhZ-s7jMEpcxs6OOQGOSl7JdhmYHFEOSItyX1+2+aWkfiMpGFCZe-bMwJ4kBDNN9c-bDGLsNAD8kAAEnhEkAABBcAOADwgAAlfkpAAADye9ZAElh2Lmw7S3wmZPNyJzkjeh9g5yljyJFjBwesMb0c4Pf6MigxMMT5qmy9EAi00wLRkeoHiTgj-QjhBMaUA9EJsvR0TI0SaPNGWibR9ox0amMs4RioxnoxWLGOiaMiGBEYyQNKIliVi0E0Y2gHZEEEsAfWgicHhmLuEVinBTgX0S1yx7oDaBWAuskKnUHuBiaLeWtiGCijXDuxCCCcRt2xYBD+xjQ0rm6NrYLiYxfY4gAONQH6i8Cq4P0CQAbZJYAADJAyYT2kxYs8MYCkziboMDghBO8QrFPGCQksR4mRu+IKgKkeAy+NaF+LfGbpGAjhJ+A1EYjdJ-ucPICQ+MLaUAOgMPC4lqNiKElYJsTeCR0Ci7WDfO9IhuAdCgmgQpAMQBdHeLlF+50J0zSsAhO2I3jKJGCTCXdxk6vo7AYwRiOoFfhW9SycOW3vKzRzXd9oN41Hkr3ompNqJiEzHB0IuJ2ssUtLHwNvzYkcSZhVTcYUMFYmSB2JcgV+Lay5Zn19crMQ7p6gUkaSlJX4vCc4GDBr8R2yIeJnDFgpM8Ji7w6wHeGMmaTOJBHG3kUJa7cdwgi5dIThOLYlIs+5aL8GQX461ZRWeuS3LoIx5U8XUD5fceFOE7e9OOfvSzPWU8QxD6s9ZIiK5KUnuD50HgFPgBXuzl9s+chJVjkKIpqSZAikrScpO8mJAAgNUuqdpLaI7shURELKbIHCluVQsz-PKfVPr4EiuGPDdBooETSIxH2XPOCo0OfbaC9BOgGKbgwMFJIjBPxGrDlid4S1-caU1LnpV44TR1SQI74Wjxd4FZk+kIqEfD0SnxDBOnkmXtaHTS908AiNN6ekktw6CkslPVaeiGtCJT0kX4baUKP978SSAxpE6b1yh7LDSo50pPp4M+T3YkZzkx4pJKsEzS5AAM1lgFxyyWSccUgEmP9Lc4OT9xTxV6e9OSk4h1hKIkVmy1wriseGAU0XkTNZ4AVwKRccGcdOmGLBEOiwBjnNKH5RDwWGw6SKiJsCaiRZHdYFmPGXY8yY66sXIeMQKG28eZVUrFgoPGlLAmyNIR9nLIGr8y3iysooXzLVk8kNZSgyaTrKyA0F+ZesunqTTABvTEayswrlLC2A7BmhKGE2VC05kjxphgwgAb3UGHqxVJNgX2ZDI5JvNA510lIG8xDkwy6Yqw9VtTM2HJCpeUgL8b4H8wJEseSCJKlnLXg-4oid4-IprAygaAmMZkrHsdDMnvEgJ10KuUPxYGvQ3Qtc9-qwXUDsS4QXwPAhlWBbHRL2ZE1AVA29SsJbx1sr8U8JHD9MXhPo0ADCJ+LzS-coYbIO9i-H5o7ABE9XMRNyBmSasw2I6SPDxFLMgU4c6YaCN3Ghz9K5cokVGBXnU4zJV80IAvOcoASiOh8hEUugYopzRZULdEfa2EwaBQYkgY5qRNXDXR75a8sibAMxH2BsRbYvQOHLxEHj7ABo40ZICtGKoAAMnhCdEG5SgV4zovYC3FfjM4sY-cf6OJERiQxTgMMSWMlEJhSFNCuMeqzTHxImF7xNhePNchPsh+OYjBdgtwXFjLQpYroEwsrFDi2xq-JRhTmrEILax9Y5hQv0BTFysgrYsgeCFK5yKyBTTHUl+PUVN9wQ5kr1Mym4VkLL5AsgUVIpHG50Kc687mi3jQbzRM5k8lcXPLeIbjiFPwu8eYtXF7jGhximkPplXCgKL5figcUyJYDRNhxmA2xYnMMoOLAU6AwRl0AgHjQU25Y+gCCOnk+oLFHihOYUBEFoMmFYS9xY8R7qvk2xxiuTCApyXZLvAA7SpbIKXmfDLYwgLkfYF1DRtngxzKcoCBqXHNv0nqNpSQFSnmDOgULIJXlVqUNL6l-TCJYgJpYjLcg2bXpQsqqXpySRsMf7q0NzlSBIy+gJUe6iCALAihRywJYGzsDbjIIGDahcmLTQTNY0EQCMf93uXBSUgWaBUUlgUURcZRby8KVmlICOBN5IiZsfsLbH-0e02iyQf2ybGZKDFjwIZSkEWCfZz2cKzMS2MQHcFAUhJe5YMBEFAq5UI+e5ZEtY5lSf0HRM6IYCtJjAgJtyyUWAsHF95L6sY-NGmFDC3ySYe8zEDbxeW6zdx7y6+X7i+W6pSRdY35Q2IFUArL6hKkFdwsiWQrm00K5kauxTD6KsVZlFFX0FhU5E7xCK9sbQzQl3j8VUNWVSPiAmLK5y5K-qezLOjJt5VVpa5bkDeV7LuFegF1VC3tWZy3lwLe1fcvdVgr3ifqsFQGsyXaZqVVyklfStJGhqMVaafeZfUyAZK41wefhXmOtG2iHR4AGrGmotEZrCxeC3FWCpNX00k1Tqllp6kBBhJAQSbUNm6sbmYgI1tK18dGuDHcqORiauQGIp8X5p+FmCnBdmsxB9rBFhai4q4pEFlrSFc5L8FWvvibLJKaYKyNQQozMCtsZQFdbcRJyLroQ2GaJgX04SOEOs26kQJnBXVY8dJB66gR1HhzGM1wEgJdV9F3WuryyG6q9WIDSzLUH1FAJ9UP33X8JzYHWT9dCFPXAYSebRUDY4Qag6BQYXQUBWet-UIRX1lKikGzBxjwI5WoG6uYhog1vrnAFCFgF1h-UDTwNl621TLGIBWRqAJE49RQBAxNKmBrqhdbQC-UIIaNk8RWZ8UQHAtF1VG3eY3A3QsbM4bGnDD6QGV1K0sbGvQMJvJzVdAU9GtgWbC1XO1JIOpMTQ0tiI8aYgtdLrvet42QD71wG9Zc0qbk3qDMd6ugCxqjBAaT17Ag7Oqy4FgDr+m-UhknjQwzL+mhWUuNZu-XebJ4RmpgYjJSAiDP1emwDQZpPX6aLNwGmTUqXk1RKuwSmqtYwFU1ubBlYQ3TVpsIVnQoNliNhP5rYGSKyBGArQHEqBRRCpseXNjmutQwiYxgoCnLQJFg11KvmBSiMjsLgXgqdFv5NJLJrKGwK9hkSmytH2RlER4MgWsIHFoS2orgQ1AYUCmDU39NYiDW3wV21hghhPsGGzPlj28yoaxJm2qclYxsZ2M08EJLcre0JYhNACiY-LVEsK078bF2AinOVopxragVHKObn2E17yZrtPgp+eDWUAs8fq8wuSgDoPKutnA-g4mURAu1osEsRivSQkP63wKutqMntKNp3gbirKiy0UIlph3EsMW821LTktiJ470WCPebFmg2jDNNqHffNAAE4qgOmlah30G2jtOuScGnWtUiXoNlovgQYA8two28CKJIPSvdNjT51Tg54nydYE50soAA5HLpTBoBldSKiKXTKbSy7lJhgYqTYFl3c66IEfdAchCnLOBYaphUjh1110SAtq+u3nSBip3matqxizuWtR7kwRpQNKm7XgKx1ticd02l3d3PGC9yUttW9zSPUlByAu5bulbebD+ZSBQFMQLVdcW8DpAaQE9FpXmktj5pnh8IU5iM0ia5RZAtqYgFquDI1qjFm02NCFEYCp7h64tcFjSHpLCgCOmukGoZFhpx755OS3VKXtADt7QalQUoVbuZ1rVhG9gRHKEqNCp86ZfU9liSsDbJR7xobPjJbEFWhAvVr4x1f6uDWZKAEQCVfWZRyzV7a9w8evUi0b3gxpdH-a3R32dr97293bONZKGX3Ud797ekUNPoC7mBZ91qo-jftH1t779XehpdmiXQMA397+synroYFNp0BpWlYQkoq1Kk2YCkEeKAvmEfbAwX2kEQOPxWg69C3NGxMoqvyh7QlccdrQNoYFnC5B0nMjTghJw5A6AjECPons+zkTWl2enJfKDz1x7iheUZ4KwbzTakKgFerQX7nvKghFRiGonbMstjkHdAWIzrZIOoPTq1oKBifXUswMa9LEch4uEVh142p8DUNIg7exCIRgKAMywwK+A2iMBX46uVdftHcBeAfAFRYXrhJVY-MS+9h91NqUkC6kDlAZVww5KBbqsgjNgxhEXG0gbRR4baRraQNVJs7PUJkIFSwFniWIDA5qUgKQCX7Bl3VWR7+QxE1EMRZSoZBUskeIOFBAQLTakaGkcLqGNSNRippcxDS8ZUDUwe7FYsNJLTtSztYMlEfmiyBYjfGXOvQ3qNNGfDQIEwDWtw1X1x9I8ZaCwHdUhoHD5ZChO-2BA7wxZ1gBpIDDWPuzKtDmRw3PBdBrGzAJy46KcbP3K9wQULZSXsYebNN8SDvRkOYctDRwrDkEGw6-DWMLtDjcEhBHse2AHHUgrgJJOs1OTOrljZpfLpqN6MKl6j4wbwIsZ1DyJTjWpGmLJoYj+GBWqzdDAs3db3CoTYZIFFieDIImFjykk41BjRNalgT1gcENxHy5IZZgw8Z2qNQqYx0WT8xpEx1NSGeyfAPxl5lyedp9ULsPIFE8sewmnHOTcxxE4wCiV5cwUNRpY5MChaAg5dupChGXo1OKnlSXRgMmsbqNcmw9cyumiZqONlAngngCPjqDWUwyO5yaHUlaR1LMI5tQIB4XopLlAt7sBJYU7aZyUHa3Qay2Y6gblMKnf+fphCMGZdDBmETvSjGHHpNNy6Hhega6QAB0sA3q1vl0AX34ArSixsbXDUhrupy0iuoEMfqbIZUqgiZ0BcmdTapmoRGZrM1ZPGAsI8z8p4oShkIDXEpyA7Qkt2dAAAAvEBqAAzN0NszrZl1PmZvxfVBgw5ksz2jLOAgKzsgfMOlxuAMH6AzBnwMmYnO5npztNMU5ES4i3wdSpAHUskMNBy6IQeAGs3Ut3Mtn9zHZw82vT5A6kPAZ5i80YqXMiggAA')">function contract_question_mark(variable) {
    return is_number(head(tail(variable)))
        ? head(tail(tail(variable))) + "_" + stringify(head(tail(variable)))
        : head(tail(variable));
}
function comma_separated(strings) {
    return accumulate((s, acc) => s + (acc === "" ? "" : ", " + acc),
                      "", strings);
}
function pretty(string, args, arg_pretty) {	
    return string + "(" + comma_separated(map(arg_pretty, args)) + ")";
}
function pretty_term(arg) {
    return is_null(arg)
        ? "null"
        : is_list(arg) && head(arg) === "?"
	? contract_question_mark(arg)
	: is_list(arg) && 
          (is_null(tail(arg)) || head(tail(arg)) !== "?")
        ? pretty("list", arg, pretty_term))
        : is_pair(arg)
        ? pretty("pair", list(head(arg), tail(arg)), pretty_term)
	: is_string(arg)
        ? "'" + arg + "'"
	: stringify(arg);
}
function pretty_query(query) {
    return is_null(member(head(query),
                          list("and", "or", "not", "assert", "rule")))
	? pretty(head(query), tail(query), pretty_term)
        : pretty(head(query), tail(query), pretty_query);
}

</pre></div></div>
	</span></td></tr></table>
    </p></div>
  

  
      <div class='permalink'>
        <a name='sec4.4.4.8' class='permalink'></a><h1>
    4.4.4.8 Frames and Bindings</h1></div>
    

    <div class='permalink'>
<a name='p58' class='permalink'></a><p>
      
      
      Frames are represented as lists of bindings, which are
      variable-value pairs:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (make-binding variable value)
        (cons variable value))

        (define (binding-variable binding)
        (car binding))

        (define (binding-value binding)
        (cdr binding))

        (define (binding-in-frame variable frame)
        (assoc variable frame))

        (define (extend variable value frame)
        (cons (make-binding variable value) frame))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_45_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCyUB7ABwFMAnAQwBcBLfAOwH1LyAjAG2IBpRCBXS0OToATUAHNilXGABmpfAFtQAYwAW5QpTKgAzKAAUAZ2LKa9XWh2WAlDhm86p2nUGHD+ZfoDWxAJ7dSE3xSYUNrUABvLFAY0EDKXlIXakMGOl42Nn1A5WDQ21jCwoB+UAdhYhlqOmJhaKKigC5QYgBHXnIsn39QVWJyYX0+geygkLDrAoaG0uHBnLyw+unC5vI3D28-bmZqLIXxyYBuLABfOwcncwVyHyZWDn1wqMLcukMBNg9O+-ZiUAAvKA2ClKPoAEQAKmYf0h4OsJ0K9kcZhcX3wXl4hC2vgYAEZuN0GAAmZ7LIpvD6gQy8FgwjiA1zuTxEgmgXZZL7KH704jHcmFagyAw0ukPf4AyVlESVaq1MkrQrxRIucqymrCRHTU4tNjGSIC6aUgQHURA9bMnEknbkPZGWm8-mK2JCgymwFStVVDUK51FZVJaUVb21LXOnXEPX-F5+pWSFXs237MbCBGGhrnFaZ2LZmLIq7Jd5kMGswl+a2gABunV4fINK2N1Id4sZFs2pcTdq5PPFTumrvtYr+HqBXrlqfrfuMlHuXe+bF+HE46djMUIttI+hBHytbPX1E3ROJ3GrbFrk2Xq9XHK388XfL7Gd1+pjzsb7vNGxZ5ePnayosdNNYwHD9PRlEMJ1fWIAEgVmnWd-2bP5l1gq8Vn3TcMKtX9T3PS80KvG8AN7flUJiCMo0nK94JvU0TxrPkw0VXMihYlj81RUBhBSddKDUfQFF9BoAxcJRJSBcF0UxQhwRXaZSikrE5IaZoxKlcFqmMUhKFkgjQFKTTi2U6ZmjIeRNwUbhwQAVToLw6HwAB3FwiDIKhnFAapEz+RpwSYliRK4niqDUE5ziwRtXIoVF70ZG47l5J4TkbCQBCBKL3Poe8IUUmS00bPg0oIEhoucbKNKLbT4ROaRQA45xDDq+QlCgOBEGQdA8TQPELhRDziFwqhiCMSgFEobhiDoSshMClIGGMNgZAYAaa3cugxBGsaphWUpqVGqRnWaOa6HIBRho+LblIU-AMSxebfAUFh8AXXDzoep6F3wJaTrOzbKGsCapu2kzPNSY0hBnCplDYchSvoP7gZmFpTwYcG6EhkwYbhug-sB6blKO1Jq1IahxQYKGscynGLv+q7kZ+YnSb+cnMdhqncZaIGCdBhgLWoMQ6DO9GEbplaFz5gWhbBGm8cRpoebebjUR+YgAA9CECNxnBF51SjF1H6CV5wVfVzXDG1mXOfxw6eZhx7hHIHXFVKeLiAYer4btlgHYYdcKDOrRSEMBH8L06YvZ9p7hF8EPjLQybrcVQn5raWtHHO-a5ZKemF2MdpJuUc7U4Lt2PiGqXg5pgGraz2Jk-YDwvCdnac4YBvlCby2E9rmJk5E5v5Nb-uu65m25o0QgQW5VEB6Rie2BjsWOi0fQPcYNWNeILX4ar2XQ7Q7cZy+hhXuD2GxErzPZZ70BTNIcyOZsuyHOc6lfHR8hVc8lwl6G3y03CmvQQhBJ4x2RNwc+YQqIDjmhragChqA0ErG7Neq8HCTCorEQK89cRwIQUglBlwZ7gMEKQC+QFyLPn+DAsGihCD4HKO7Ih2tkQYKgjEd8W8MhFV-ivNebd8DRzQXQAGcdVxqy0CIZaU0Dz0ClvoMRBF+F+1OpIMgwdWH7zDtMSBWjtFFH4QnWRgtJpglYY+LB8ZAxzREifBiowaRsFpquUotjXoG3RqYhx3Cb51yDOqUMywKIvkNGZYIwirK2Xsk5FwQDKC+BIN-YBoDqpBLOL1AswJQQMGPqffQG9DCy0wXEKxLgHK8zIcHApPdSjpEyHJZoWFeHDSqEHGc598nqzCHvRRMRD45KWnkzW7TKmdMIN0muACMmcX1orRBxsFwbzNhbfaRSoKzVSJQUgtZ8mDRXorZaptfaBEGLvSZxk9Z7OGgcpZHjL5bVlsZUyVz9A3KOZ0aWV8a5hWmf1FGec06Fz+oUmumCaHLQUJoXEAKS7ArYSuQKY4NT+SoZ5YU+g5oww+PNZgWh5E0wmMU6YgVmmrwPNisueKvEEoBt3FFkYQkNnoFSVpFL9p2LPBKUAcdSWspnJS4g+L9rdLpSucFbj7F8pxWNDl54hKKkClKmmsriBMUKME6MccSX-OLunBRBFhk4vLqY+5lARVAzVTmck5xwqNgcBLDUjIniAgAHygDqWwGqQD+nH3tVrAWtR9A-S3vKjZaQMhZGDUsFuHqVyNI3PoP15sA3CG4D6paSb+Yan0DeKNkwERkW5YA5h5hDDckYAwjG0M2aolNfK8FMK9VV3la8ZlAgCWMkbYXI1VL0Z1stTEMNgqoUp3zk24Vvj9LuojXHNYIDJqnPLTk-gLNq3Yw0eS-luLBXUonaI-R1Il2VtXZTWtAlbil11UC3p+jDUCornC-N9LKLsMHaUhWbaIYnprSsy6V4FKgleZ+9G37sb3Ues9BGk7e480ZmTCmP6d6ZxvQBnccHmYIbA4Yd6kHm03uaB6-y6SsBAP1u3TuqzQVQUbFHXwjJyMCKEVXJijZux6k7UeldmGqbB1oxQjhbbpQOtqI1IE6aGCZpTbebkep+MlISIGUltG9HOgkQu6RlZjHyLYyCyTGoQXdymSRktP8UbD0o93TBgVXYMAlZy-VV5SW2KWVvc2SGHk3pWIZn5xm+rmH1g6oVY01nkkbK9RkpLAumJVSHb55IHXgY+jFqLIHsMQf-F816ssmKBVej50jKN0McFA+zEe01MEJbS0l16+gitu24zFKruGr4rlJXVkrMUatnO7ipuLOoYi+cybM4DVbT2-vGlR+L-rGBNZevYtGo3EMzZwxljzXmXkLY62VLrXyeutYtcRvAa9GpyEUBAGA8AkCoG6mgYkvzzBzQWktXh1QNpVys++46vBHpkARjEAAPv94yj2tmvb+6AQHwPUhPWev0ammcIdA79F9zICN8smZ5swMQEhhAMEPhzSgfR7hiFDZ91IWF3sADJKe9H6KchH4l2RE6x+jvzyRUjBr++ssnxOcd48A5bcEwbUnnCAbNgZaRVFc-JIFOYOakxQdZ5k8e02gv-SomGrHfP8eC5SzpKZQC9eJea1tDX765c3gtwr5t-JRcY6Nzt03r5Zd0-l3aIimdbf3fZ3c5gIGGvjZmjzrXtR+c7kF5tgP9AReDc4pH1mWGVvS8sQplwVu7Tp9W-9J96SgHx7XVTGL73nfm9dzeD3W0vdALmu1qP8OnfLE1+QbHoedeUfBLXhPVMY9AM7wXxrSfi+N9LyMS3Zfree6rxjvvY2sqO-VyX1PtPR8K4r9nozeAABikAAAaABZAAos0QIk9yCF1AOCfhwZqjzOj6ARyiDVAX4juQWSeByAyEDkzlIoMaTUMauoCIBwMII0LVKoJQJQOMo0CAGII-rSGgLkAoMAO4IkIXAALRn4DCCq+DAAABWhgaBhgMM60wAKQf+hgwAAAbDoNgFvrvofsfoKvgMgkzv8ORk1Gdi-oxnRvQOfoTsQLVH7FpPfhQOMqwaALRkkuQBIVyF4Pfn0DUMgqQO6sQLULUGgLHh5JiqdN7I7EPingmHNCHrjm3sFhflfuqLfnQD3hjlwSogHOosnm+kvjcNiOLsfMGtwJnlBgbrYToZHIIjHPoc4QmDZuRkMOPu7hPpXl7poQ9qkOZg3gYdYpss3trgLu3rYveqYjYWzvJiqIcpvNvPXgvsPkvt4c2krpxHNHMsrIsqbK5oHmbkvkYWka3hkWYTeuCLUQsoUcstHr4XkW8hrMcoGsEfkYGP0oEDIBzHiIMZksMaQHck4RMWiNktMRzKSD8nnobH0bzE4isYFFMZUBzDoEZtXqkF2hnEkSESkbzu0eHu3lcbkZkjZlcXCs0QmPjuCM8dwDStsRjlcT2jun2lzrEGUQmBUZ7gCXkUqtumrlAovpCa7v8bnhjnevCSah8UiYGGvmEDCcrqkMOvEqOoCtcWakHi0RzhGnCgSdUakFilusasLDSp8XcR6m7lnhMFUVodDrISsasZjm0SYR0RNuCORi8ZxGEfyeMUcYBuKbIeCH8ZnHSR5AxrRgKS7ivnaJUcRhcbzCAlPKVgjjiT7sYWHp8mYeCPPNQNPM4JKR5IYg0cUYcSPoMGvlPnkZAq6eUZEVkB6Z6ZkuUt6UQIiRCeyTSaGfMZxFKh0lGWyWnq7lGaqeYIaiGeMpSQmDeMmYdrICZids1Odm1Fdp1JYN7pjtssNKrKTkvl-IzlsrWDydcBekwmzvoPYWokHNwMppNnGEvt8YgfQowmvEqTeh2YHCCj2aKnbnkTUXQgwlIqgjIDWYYakS3iKTuDIFZIOQubjiOdGY6SZr7GzA4UHKvCuZMesScVuaAHMSmbEkeRqcuR9v2VeTMTeVsWibCUeUYvICYsLM+dzq+dihsTeWcU2aJC2XZjsm8JIqUX2V8fKdBcQEqSoPQHBQefEbZqUjFq9BeWacKRabVgxFZMhQ6amThe4rBV4nhS+cidqVkHhecRjgXF8ObOtBplpl4pZkBVmQrtOXEbEpuu7P7MNDxTLm6fkgdjOUNo4GxW7CwGAqJWsoUBJUvlhHIKotluko2PwRCiOr+XIqYoyIRuWTZppb9LNiCqfPhTwAmlZfRJyviV+ZkhZaXCthoqJc8KpQhYGHLm5ZhbEqJSqp5aot5eCb5S4DeAFRBS0KrJIrjoZf+dLB5Y5ZOesG7OJZFcCJNGIITkYB5eEIzhwOtPlaeNGrrHZQeOencG5QVeltZZ0BMiwBlRpr4s0CVXlaoPVR9FAgADw5WlXdXlXQZ6z3zhLggAAqN0oANwdAdG5832JqTYhp1AtQzQ4IoAAA1Nygeh8CTOtEKEEYVdtRflZKdZ5oUPta9kdcRbJtBnfA-FNTNTIMQI5KQmIEtX2itZPGtSARfhdXtaDodTIMdQ1eEDtahZtTtZdbENdSDTHCNcxXkblMbnNvZrNiFkiCxVNHjjdNiFldMGLuWj1c9I1bJkSsJDzhyVZdBkjAnHjUQA5geqxfgOxWIJxX+fIoZrDc0LNiOMvqcoVbDTELMK7iNSLbfIekIJyaTbJjaHaEjQOqACxIKOignALXpcSbiElVLC2tMGEpuJjRfrZE9OUG-OlhtXJuqqiq+g0I2G5YyFKnVaKrGIFGWjLW5WjaFWdPugenmMFXkgFdbVauqmpQmAzeiATdJeWZVitkXito5VjbEKRrjVHVJeVnbXVICSTQ5VWE1frVTVSeGqjrTShlbIzdiCLazezZzUZcLDzQRHzStgLXLmXWHKUPBHLuVY5XTasNLTjERIVQrYxQXSHZQmKurVNJrUTtrXXclYXUUIbXLZEnQGbSIBbR9FIarqYv-MrRqpTRSIJo7UCM7aJRnePf6O+h7TjF7VZavF5b1kooHQxD7Q+PvdauHYpmnfjRfT5kdvmRwS1Bdu1Ndl1NgIJTzHgvMsgq2QWMIpmXceafjiQuCNAwQuRS4Og9QLA-ApPCCbiiwuggmYLbLeYj5gVCTPgjg4QmzqJlkjuOmN8XMKhbEHMKuH7UUN8RyKwzEByBwypt8RhLw1VcobGJw4UN8YfCI4fAI0w-KSjmwKhYo86BI7EN8dxIYKfr4KhZo9o6o4I-KYbbw4beI4YzuOCDcITrzCwIYEqVY6oDY41CsGo30vKVtSI7EPoKrNwL4EVW6l-DtXRqAK4ww2COCGgZ4zEN474-46AF-GgaAME6E98XCNwA0DE0k3E1-JCEkzECk-KcAFEwYD41k66vE6AGAMk+Y+EwAKTFOZN+PlNfy1N5MhM1MQjiSeONPZMC1+MdPggACEko3TpTTTAIAToAwzQI-T8jFjfVDTYzvTA1MQsz4c8pfVAIUTPTzToAmzqzBTFjLqizsTuzbqBzAzLqWz6ThQOzEzFTVzFzcz4TgzxTFThQ9zMQgzsQ1Z6Y+Ugm2DsD-CVlgIK4rhERAw3AgLtDBYzllD8CMDMLMU+ALAuBJgZqoLKw4LyI5TQjVDiLqF3h5ioTRQ0LcDtaaYEUAL+LBCvuEM9D+O3xSKtQqFzLqYT9-tbjFjkAdA3oiCOj6TPLfL8SJLnLXL4TDjDAsAkAvDkr0rorYr3xkrB+IjyrCrnL3xAAcuQJq8U9q5q33XpP8+8AIGS5tiCwCGCxoKvOU-5dXGayNnC9Swi7S5tqfJi9MNi7a36eefazSzQ3S32pS4boabgv60CyZhEh9RabZTggwNUBJjKKQAvK9gwLgeQNWGWiTJoMzauGS3gxwFLOzJojeufDG0cEUHqYCfGIQPPfIrZWplIrrV4r0hPAuu2eG0i2VHnZLTwJ24G-ysPa2-OiIB2y6wG-wii2i6YCCr2w6ya1+jZRy0UFrZCiSc2+jEZrpUTmIF8C1YsjIlzcZUCNOHdBu2CJSwA3Q0A0WZdh1BgBgOWbBRQKYAwPnB8GVDcKQE3HVrZV9j9puN4b+5MCuGLQxbLcBxDRfgwNDXtAdbAaDRC+6QrpB3GqQzeMB-eWhQoDcCnColoPTvB2GdlWfsoN9hkENPoEYBAsoMoHE41DtfoKRwLeCJtaUKx1LVDadaR+q36Kx8qUR4FX25IPEiNPBxApUhJxzZvBAU0xENBF-S4PDWIKdeCBCKdYgbh8YPh4GuC2WzJ-ElJ4SpDdYH5C5ZxAZ7iIHAoEx2Qn+9SajufLXOxx6rpCDJioBk56ANTlgKhBig5-6Qrk5+EIDuh0F3Z+ENMxfsUPCKBwYHLl54zuCDFxcmhejC+zOO+zFF+03E508gYOPKtXafDF5z54WjEMdFLk6UUW5jjMF7YGROx+pztZZ0wGQDZwl6MvVxdeV5tbB+4d9FVz+c6bV7ZyTlB2In16da19Z0h7Ld6fVxDb50UPCLJGRI0vEKJ5JKCKhefFC5t1Z+1yBysMnFhHly3JZxCMI2moBp1yTiPWNxeMJ7J216QIJL58nMp493F+CAAOSwfnyqf-cfdwc3WIdOdYetf5ykAxzQ9yeKc8wclnQAdzdw+8dXjfFCDCBQ3BBQ0OQ6RWQWjFhQ3bIcDwggfQSlCXdy5o8Pe0-PcknWe1wbcicxw0+1gw-Vw3j09Q8c9+OxXpuZvKDZszjuIaweCuZjL2cGm-XFc4wbzOdhMQg2ly+oXVf9Hy-qzo8xDguC-rDC-UCaAqrHIS9uBGdS-Hfucc5S4K9xffExd-Hx0eE29a-M9xWECxVw-3Qfyqwm+FxuBS9groqFey-swK-60O1Hn81AgrgDeS6-Tq+NHwzh+WqUOm-GC46QJxTWte-YY+9++ubm8p+GiKpR8t1JfCNxdYRy7i-+8Z8VLkJeE+u1+uah6QL5pofAvl-qTSNV-yB19t+VKd9l-pYsd69ZuG+i8MRudIwaUj8fTLuSOAbj8G9G9i-9+S93dVKu8d8neiPCIFho37fp+D-kLPr6jgqc7h9EpykWMO+b3PQS5X+u-n+apF0R3qxEbFp5HxIkCB+8V3EmkWvOLnLlt579l6G8VetElfguZiiSSX-sQD3rmcPI1FUEgrzoqACE0YAweDeGwEqQWg41TcJAJNrPwYk7vDXkklQFmokB3-TJET20hlRKA+ANuG7AGAVBBg6AgAVFQSRiUteLHegTpCw5sDeYbgYsGVA1KcCEecuKgdv0ICxF9SxMf-gj1aLrkiKxA5LjHkgaaQ-cNASjsQLcrcAHA69XHMTAYCAFhAHAUgPKh2KEBF4fArOuCkUHX8s6raE1hIWqDcR1o9GDwamwTYu11Y3AGKlqnfQsAfBXgxnGy3LpGDdydiJYuYMsFjJAhXlfDGhVsH6BQhIgVNjVgyGeDxu+9VFOCiAFyDF62VLCLkDSGgDXe3AcoTHFwE798hDKN-n6BJSf8VwbEBHjUKl6xV9q-QBQDL3UwVAYYvgMYmyEGHkBhhuOQwKSAwE+4aacxOLmMImHzRiQTwNDtXxRJzFF+Xjejlsl6H9CpEiwsYrsNOgIQjAmw3tgekOGTDSQQnaoIHA4AZt6skYcYSMO4BXDlh0vOYYr3eFTDVhe-dYSMEMDnC0Izqe5ncLIAPDYGVw-QD8JWHa8-QoIt1D0JOFEQ5i8gwEscL6EyAYYo0a1iQmI7JFYkOIyRDikCCnQxOew7Fg4D+KBkYyxIyaKSN6EUjTonwmksiPe4xoZ0e-cEcm36BQjnhEwubuyO16Ii6o9ImbJiOZF9CPcZIwSOiLyKNtccQoO5KCBoqwwmYS4LiFQCSFhVMENGMISpyBA5DfBjAOqnVh1G+0csIQg0QLUiEtxFRxFEmOKDeHaimoYVNYVQEDiMArG-EY0RxWyEGjq4DsCbEENoEWdPRZAb0SFG6q8QXRIYryjMLdFnQWOMgJMCy12qDxL8aY7Hmh1TidB2yro4MeEDi6O0Bs3IomLDALHq44uio+NktEpCqjhYsYrUfGPdHljjy1VXiOEGpxQME0RYqvhGKSAMAfR3VG8F2K2F+gbwRYicc6F4hejhx0YubuOIuFoQ5c04lcVeGDpocsxewFlt0NewcAmBEo2Ud41spYRSmooj1MjQWJ9AO4vMRgAIO1iPj6A3AL3s2K94BU9RgmEcdhUcRFQ5xkYhcXxG6pvjXRz4ugNwA3FXgPxXlK0S4WjG-juEKY7MTPyKC1IuRIMdmoeKyjsjz0wExCU4mvGcReAxgeNjKFVhVjpeX3GvlQHlGZJUojI8kd0DZDdBph1GQTPQ1Sg4gWJfgT8tlVExgRr8jqdCZkClqGBYqHgtWAwCJBfRKJX4twd0EZA0T-ocE1crEJxDhB2OMXKWt0B8yHjQAk1AABIH4GAAAQXADgAD8AAJUmqQAAA8pq2QBAhTKkDV6vhPAnBwAJSQC0XWC4FlBSJkkiiV5JERxcGJgUtvqIIYHMoqxXot3gxM6DixIptaLDvFMyAiCtIZ6WykZJMnmTLJNk+yY5JSmSAyJFQVWBFIykNQYpkY2ygxNwmBTpJ5YWScFOrjWkkpzgQgpiM0FAJvQmfNqdFOCk+TbK7I92DiPBaKJgx32V1J5jUAmAvA949KWIPhgTTLIdlCApGMGkTi3JagBaVFPeBVTvJSY9+sRn0mk83YuQBwF-iBAAAGL1BjhqCORbMGQVgUV0LzUBBgoaJ6QbAunaAgQp0r6Z4mUI7U8QqkwMH9POkAysONme6bEI1HDRzRcQT6Sr1emQQEeWEDQVCwTR-SkZMUN6Q90g6xVAgwaGGeKFSDVBsgT0+VO+ERkvScZZoFQg9Kxk0yyob0pKOSDiSBA3YjkToE3EkErAw0TgvgXHBdgtloZdWRIQjOKzYzmZqYWdL2Oqp4DnY+-XYZzO5lzdw+M4woMrIYBcy2ATcOocUMnSmRWhYdbKlrJ1lNxTpREjyBUBIAiBUgyfAIfnSdHIRDp1gjHGbNVm+TJ6BXCsUQPhTAR1a7QfMfDIfCH0+Z76BsqqjjgH0XBRoQTCwG8GZCOKfg8+lwFdnK1w5S+BOREPAjjgRapQVMVGBFrNAPZus9IQaJiwsALEWYXzjHOCHF0mkxYgiKUFLlNxQBGCULq3NloPgUhhc4wB-RNmEj2QHM7WZ7K16xVaxyo+hFrD+COjYZSdV2fJKpB+jDR7gpORzRTlS54ZQQtWgYBXlTNBJASFGZnITAOAjqQE30RXIDHrzq4UEmIKeEGkVtrUBQ4Pr7LupsJ-aeASEN-JXD6j15ic3IWRJEpbzOgj8hFNaP-lRc7RfoUoGfNBoXzhq6o50VBJXmVzAxKEaCKhACqyyHR8Mh+enOfmNC0UBgG2Quntk4x8F28ryt5S-k-yT5gYHccATM420iFWdFoQlTnnOj86bAMBWHTDEeQ4FuIEce2T3C-hPxfkk+upFTG7icxLcRhSy1zFBysghAURYrzcpoca8lYlRU3MHiTylo0882LPJUVQsxFyQ9sYoMIDTCax8VdTFPLZqGLHgliqFmyE-GVMwA38yEBovJwJptF3nGnLAh8Wkg4ugihBbLW0UayGgY40kBEqKAhLhFNfYEWK0VA19old8omtQu3HSKmFEkhIk9JGjMl4KQ8lQekUeIFLSKT0zBml2hgkTtYlsxMd4UtlCc-pGpOpX5MUay1aIFMy3kjEx5sAuZvgTZJWVi579vCnSjgDnn4XmA425AR6Y8FOmvi+ex5NaQdJgm6j2Jbg6GHDlmVcpCZqiYmX8FJk4xLZLGQTCEs1hISY+q4OJYuNAnLKIJG4t4NUtG6bKhA2y+Ec6FWWWiEeZyrhE4mQkyLUJ2cWNOAKuRvs+e5M4rBqReWMBLZGsrCZIBwmSiflf42IvpOykMArJ1kAADIH4nJ06TILdNhKSBtpp0zyYOIgmLy-JJEt2IFP2khSW4YU8iaHlJV0q4pxUhKdsuDhCdUpC4FlVlOMkYrsVuKoqTOHCm44WVzUxMcNLbajtFEtUyUfVJkkzFmpMS6YOCFOkdTZR8ICcfKpPHoyL8Gq9keT1ipxsJV5KwaVKsxEjSqAY0q8KdPKaeZpl2yiFWnIGmuzNpxKxxmaruWDSrZpaAtm7Dh76BblXonyYxMEiWrZR1q3EVXRWAn03UccaVSO1xzQiepO0s9CGvWnuq0lGTOJqaqenBxM1B04Or1jvqYi-VpmVaFoDBVkBYefPMNcKKXkCBWgOLIEFxIQHBq+eLU5pDWph6pJsqLahwLaNzkag4u5sSFMViDVw8G15atDoOpxgyDO1ta6uGWtlEVqeYgU8UHJLaWXFgaG0ZSR3P+ywZKxB69dR8GCCsC+pjABNrSvAn1pX5JUtWFurvWL1GwikoEIqsakzE71ytRsGR3vjRZwJ4aj1mHF1VMjughPK9Zqt6H9rpghUHEJBoqn0BoNp0UcrGDO5XruAoo-9YTPaRXrw1FiOuXwsgbnrAg2yoBbStaWhYAW5KxkI8rPCjdjl5IcFJuqMXkr-ZcchSX4EZCfrcQTU9jb+sEw4bosf09kSBr0hgamJ2wA1U9JQ0KBYNDQeDRBpk0cA5NaGv0FhHmUGA4mwmkDKJvLVyYiNVqSZS4GEF-Tgg6ap8Veul6nSmO1mjMXPGEDiq8ld6tDsIPAl2akNIiIQU5ss0ld7NUEUjZeq80UbyJnmxad5uo1uDnovUrzfQ3RW5TrJtkhyeACYgJaLJSWgqXiow1easNcTGLX5veByZAo4IDEGZxkqcQzNeSqjVdSYFka-pN6sLUxtcFUgCtpKxkOisxU4rUt5ITrUKuy2YynpeW8pm1oLXFb30pWrwOVvLJzQ56bwXApG2qSJj2l1SLDlKnm1EIxkBI24omRGCrbkBFFbFBtpRCyDttgpfWc5Qq28l9KJJTRgtrbJLad1JdLIPtqu3mApUd2zbY9qkGu5XtkDQ1J9pO1bbbKF2oTjUDEBDRccQa77dlUqEZlIeJyW0noK6S2U4dl2yBufAUBoCUdiY0HbFXm34AyZx2mdjOrXXLaiSa7XEMTpnjU6KqSMVdb0LQ4E6yZhqWnUBjoD3aZ27ymID2qDXrb6AnOsELTtETlc-QDOlkUZng3WkRAUNXnXz1QrM7ItkDO7YTpxiA6Sdh0gjeTpu24h1dM8PXXTrQn4q2AGigGZCKeFDDA0iiOXbWrJRtJyYKQQXTCMd1EIJk4uwSChFzXlMVdLOreJDBd1A6DdIu-RO7q9xS7ceVkG3X2reGO7VdwbO6cQAh0rxdEmuxtX5OGnYibV1rRRPGuW4rAVtoKoNeDsh29qY47fVVbGHhVHjw1D9MKhT0VlV7EVJ47BZgqloepPdBiYKsKJ+RS78esuwvfLu4DF6tA8ehUWVLI4rxeZQ80lJvG4jTxeBcgnYDuz3YqxD29dFSVWzyIr8ReMWGTDwtT3lrI1ewzPTGtzbOhc9jmcffwGGjaCIYpMfZAlJ8kV7bmlYQIf4xXHL1X9JA6AVgyoBOzmg2+yfiqnJ6Gsp0je48UyOwV6QCMEaTaV3vLU97+AEIQA2v2n6R6B9ta1Cigan6cpKWjYG4L7z0ZDDGQAAThOBAIiD4wmvWdooM8Qhh4a+NoHBGhD7F6l-NkdnkPoH0BwLgRnFdJKGxBKDMcX7r9yshoAxDCm1iLbTjiCGhR2eDOQIboNUHhpiCX7MNI9zVwXAiTO8m0M-qFBBDDBlQ0bW4AEGHdWjIYeus6D9LBlOyLNBetJ29DbK7uxA+E0sPjDrDKFdA1WsDWD7BAfStw0wErKj7MkLfNwKXoxR0BCoJ4MgE9HNgism1oAVoIyFz7vxmAvvEI2SqDg36Ij-AVTkcGNXMb0UShGI-ywPkSRzYJVfXIfRkMRM0CiTdIwkb57fxCoMQWo5EwRAOaigMh3nrbtaDHAVattFiAOCA1MCWBvMJzYGl6OL0qtxWCzR5vc34aNSkx5WgOCKNs0SjUXH4ruPRjwgw5Chsw+MIhCtHajTICLYIHGOiAjjtR6qP0dYVsQpDKwao5ccSZw8Skf4xqE8baPK19DuExNVattVoQL92ibozDzP3aJb96Me-cNFaBP6DAX+58vc2mjvKo9sPP4geIRUQHyRV4nPMRtcnCUhAhgRyL9mqCFRKZgmRI0CGSP590jBYzI+EeaOQ08jFiB2sJRPqkNkTwa1E+tGwkYmbOWJ8bepQO5hHwTugleNCbqgsnlKsJt-eU0ROxUwiBozhS7Nop+SsIeChiEJ1QViyV5qO13Nqaw6an7E2p3HQrj1MHaXAqCzeb9CoVrKEebYTwNaa+Vvaf4Ni0dmqc5QWqVTCaeU+vMVOai8KYC8KOkbCO-cBB+gJJTEAAA6WAWzTKtxwjGZAwQXk7AaSaxMMEaEEQxflWPGBUkQZoNSGaSlhnwzUZmM8mqYDMCEzb3AsdVV4Anhq4PQLCDWdAAAAvJ7qACjNFBYzZZ92Imdqy+NuALZtM3pAzMd5ojbNFCmmFQgkY8T7wQk5uBDOln4zPZsZjdwsav4rILAKGsoChrY9Jgv3NMHgFzPgr5ztsuM+WaXN9mle1pKGhue3Lbnyew56qEAA')">function make_binding(variable, value) {
    return pair(variable, value);
}
function binding_variable(binding) {
    return head(binding);
}
function binding_value(binding) {
    return tail(binding);
}
function binding_in_frame(variable, frame) {
    return assoc(variable, frame);
}
function extend(variable, value, frame) {
    return pair(make_binding(variable, value), frame);
}

</pre></div></div></td></tr></table>
      
    </p></div>

    
    <div class="permalink">
    <a name="ex_4.78" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.78">Exercise 4.78 </a></b> 
  
      Louis Reasoner wonders why the
      
	<span style="color:teal"><kbd>simple-query</kbd></span>
	<span style="color:blue"><kbd>simple_query</kbd>
	</span>
      
      and <kbd>disjoin</kbd>
      
	<span style="color:teal">procedures</span>
	<span style="color:blue">functions</span>
      
      (section <REF NAME="sec:query-eval"><a class="superscript" id="4.4.4-sec-link-4.4.4.2" href="./4.4.4.html#sec4.4.4.2">4.4.4.2</a></REF>) are implemented using
      explicit
      
	<span style="color:teal"><kbd>delay</kbd>
	</span><span style="color:blue">delay</span>
      
      operations, rather than being defined as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-query query-pattern frame-stream)
        (stream-flatmap
        (lambda (frame)
        (stream-append (find-assertions query-pattern frame)
              (apply-rules query-pattern frame)))
        frame-stream))

        (define (disjoin disjuncts frame-stream)
        (if (empty-disjunction? disjuncts)
        the-empty-stream
        (interleave
        (qeval (first-disjunct disjuncts) frame-stream)
        (disjoin (rest-disjuncts disjuncts) frame-stream))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_46_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_query(query_pattern, frame_stream) {
    return stream_flatmap(
              frame =>
                 stream_append(find_assertions(query_pattern, frame),
                               apply_rules(query_pattern, frame)),
              frame_stream);
}
function disjoin(disjuncts, frame_stream) {
    return is_empty_disjunction(disjuncts)
        ? null
        : interleave(evaluate_query(first_disjunct(disjuncts), frame_stream),
                     disjoin(rest_disjuncts(disjuncts), frame_stream));
}
</pre></div></div></td></tr></table>
      Can you give examples of queries where these simpler definitions would
      lead to undesirable behavior?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.79" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.79">Exercise 4.79 </a></b> 
  
      Why do <kbd>disjoin</kbd> and
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      interleave the streams rather than simply append them?  Give examples that
      illustrate why interleaving works better.  (Hint: Why did we use
      <kbd>interleave</kbd> in
      section <REF NAME="sec:exploiting-streams"><a class="superscript" id="4.4.4-sec-link-3.5.3" href="./3.5.3.html">3.5.3</a></REF>?)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.80" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.80">Exercise 4.80 </a></b> 
  
    Why does
    
      <span style="color:teal"><kbd>flatten-stream</kbd></span>
      <span style="color:blue"><kbd>flatten_stream</kbd>
      </span>
    
    use
    
      <span style="color:teal"><kbd>delay</kbd> explicitly?</span>
      <span style="color:blue">a lambda expression in its body?</span>
    
    What would be wrong with defining it as follows:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (flatten-stream stream)
        (if (stream-null? stream)
        the-empty-stream
        (interleave
        (stream-car stream)
        (flatten-stream (stream-cdr stream)))))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_47_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function flatten_stream(stream) {
    return is_null(stream)
        ? null
        : interleave(head(stream),
                     flatten_stream(stream_tail(stream)));
}
</pre></div></div></td></tr></table>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.81" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.81">Exercise 4.81 </a></b> 
  
      
      Alyssa P. Hacker proposes to use a simpler version of
      
	<span style="color:teal"><kbd>stream-flatmap</kbd></span>
	<span style="color:blue"><kbd>stream_flatmap</kbd>
	</span>
      
      in <kbd>negate</kbd>,
      
	<span style="color:teal"><kbd>lisp-value</kbd>,</span>
	<span style="color:blue"><kbd>javascript_value</kbd>,
	</span>
      
      and
      
	<span style="color:teal"><kbd>find-assertions</kbd>.</span>
	<span style="color:blue"><kbd>find_assertions</kbd>.
	</span>
      
      She observes that the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that is mapped over the frame stream in these cases always produces either
      the empty stream or a singleton stream, so no interleaving is needed when
      combining these streams.
      <OL>
	<LI>
          Fill in the missing expressions in Alyssa's program.
          <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (simple-stream-flatmap proc s)
      (simple-flatten (stream-map proc s)))

      (define (simple-flatten stream)
      (stream-map ^??^
      (stream-filter ^??^ stream)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_48_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function simple_stream_flatmap(fun, s) {
    return simple_flatten(stream_map(fun, s));
}
function simple_flatten(stream) {
    return stream_map(...,
                      stream_filter(..., stream));
}
</pre></div></div></td></tr></table>
	</LI>
	<LI>
          Does the query system's behavior change if we change it in this
	  way?
	</LI>
      </OL>
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.82" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.82">Exercise 4.82 </a></b> 
  
      
      
      
      Implement for the query language a
      
	<span style="color:teal">new special form called
	<kbd>unique</kbd>.</span>
	<span style="color:blue">query expression called
	<kbd>unique</kbd>.</span>
      
      
	<span style="color:teal">
	  <kbd>Unique</kbd>
	</span>
	<span style="color:blue">
	  Applictions of <kbd>unique</kbd>
	</span>
      
      should succeed if there is precisely one item in the data base satisfying
      a specified query.  For example,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer wizard)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_49_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "wizard")))
</pre></div></div></td></tr></table>
      should print the one-item stream
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job (Bitdiddle Ben) (computer wizard)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_50_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(list("Bitdiddle", "Ben"), list("computer", "wizard")))
</pre></div></div></td></tr></table>
      since Ben is the only computer wizard, and
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(unique (job ?x (computer programmer)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_51_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
unique(job(x, list("computer", "programmer")))
</pre></div></div></td></tr></table>
      should print the empty stream, since there is more than one computer
      programmer.  Moreover,
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(and (job ?x ?j) (unique (job ?anyone ?j)))
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_52_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
and(job(x, j), unique(job(anyone, j)))
</pre></div></div></td></tr></table>
      should list all the jobs that are filled by only one person, and the
      people who fill them.
      <p></p>
      There are two parts to implementing <kbd>unique</kbd>.
      The first is to write a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that handles this special form, and the second is to make
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      dispatch to that
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      The second part is trivial, since
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      does its dispatching in a data-directed way.  If your
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      is called
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>,</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>,
	</span>
      
      all you need to do is
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(put 'unique 'qeval uniquely-asserted)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_53_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
put("unique", "evaluate_query", uniquely_asserted);
</pre></div></div></td></tr></table>
      and
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      will dispatch to this
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      for every query whose
      <kbd>type</kbd>
      
	<span style="color:teal">(<kbd>car</kbd>)</span>
	<span style="color:blue">(<kbd>head</kbd>)</span>
      
      is the
      
	<span style="color:teal">symbol</span>
	<span style="color:blue">string</span>
      
      
	<span style="color:teal"><kbd>unique</kbd></span>
	<span style="color:blue"><kbd>"unique"</kbd></span>
      
      <p></p>
      The real problem is to write the
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:teal"><kbd>uniquely-asserted</kbd>.</span>
	<span style="color:blue"><kbd>uniquely_asserted</kbd>.
	</span>
      
      This should take as input the <kbd>contents</kbd>
      
	<span style="color:teal">(<kbd>cdr</kbd>)</span>
	<span style="color:blue">(<kbd>tail</kbd>)</span>
      
      of the <kbd>unique</kbd> query, together with a stream
      of frames.  For each frame in the stream, it should use
      
	<span style="color:teal"><kbd>qeval</kbd></span>
	<span style="color:blue"><kbd>evaluate_query</kbd>
	</span>
      
      to find the stream of all extensions to the frame that satisfy the given
      query.  Any stream that does not have exactly one item in it should be
      eliminated.  The remaining streams should be passed back to be accumulated
      into one big stream that is the result of the
      <kbd>unique</kbd> query.  This is similar to the
      implementation of the <kbd>not</kbd> special form.
      <p></p>
      Test your implementation by forming a query that lists all people who
      supervise precisely one person.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_6_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_6_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.83" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.83">Exercise 4.83 </a></b> 
  
      
      
      
      Our implementation of <kbd>and</kbd> as a series
      combination of queries
      
	<span style="color:teal">
	  (figure <REF NAME="fig:query-and_scheme"><a class="superscript" id="4.4.4-fig-link-4.8" href="./4.4.2.html#fig_4.8">4.8</a></REF>)
	</span>
	<span style="color:blue">
	  (figure <REF NAME="fig:query-and"><a class="superscript" id="4.4.4-fig-link-4.9" href="./4.4.2.html#fig_4.9">4.9</a></REF>)
	</span>
      
      is
      elegant, but it is inefficient because in processing the second query of
      the <kbd>and</kbd> we must scan the data base for each
      frame produced by the first query.  If the data base has
      $N$ elements, and a typical query produces a
      number of output frames proportional to $N$
      (say $N/k$), then scanning the data base for
      each frame produced by the first query will require
      $N^{2}/k$ calls to the pattern matcher.
      Another approach would be to process the two clauses of the
      <kbd>and</kbd> separately, then look for all pairs of
      output frames that are compatible.  If each query produces
      $N/k$ output frames, then this means that we
      must perform $N^{2}/k^{2}$ compatibility
      checks—a factor of $k$ fewer than the
      number of matches required in our current  method.
      <p></p>
      Devise an implementation of <kbd>and</kbd> that uses
      this strategy.  You  must implement a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      that takes two frames as inputs, checks whether the bindings in the
      frames are compatible, and, if so, produces a frame that merges the two
      sets of bindings.  This operation is similar to unification.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_7_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_7_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.84" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.84">Exercise 4.84 </a></b> 
  
      
      
      
      
      
      In section <REF NAME="sec:math-logic"><a class="superscript" id="4.4.4-sec-link-4.4.3" href="./4.4.3.html">4.4.3</a></REF> we saw that
      <kbd>not</kbd> and
      
	<span style="color:teal"><kbd>lisp-value</kbd></span>
	<span style="color:blue"><kbd>javascript_value</kbd>
	</span>
      
      can cause the query language to give <QUOTE>wrong</QUOTE> answers if
      these filtering operations are applied to frames in which variables
      are unbound.  Devise a way to fix this shortcoming.  One idea is to
      perform the filtering in a <QUOTE>delayed</QUOTE> manner by appending to
      the frame a <QUOTE>promise</QUOTE> to filter that is fulfilled only when
      enough variables have been bound to make the operation possible.  We could
      wait to perform filtering until all other operations have been performed.
      However, for efficiency's sake, we would like to perform filtering
      as soon as possible so as to cut down on the number of intermediate frames
      generated.
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_8_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_8_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


    
    <div class="permalink">
    <a name="ex_4.85" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.85">Exercise 4.85 </a></b> 
  
      
      Redesign the query language as a nondeterministic program to be
      implemented using the evaluator of
      section <REF NAME="sec:nondeterministic-evaluation"><a class="superscript" id="4.4.4-sec-link-4.3" href="./4.3.html">4.3</a></REF>, rather than as a stream
      process.  In this approach, each query will produce a single answer
      (rather than the stream of all answers) and the user can type
      
	<span style="color:teal"><kbd>try-again</kbd></span>
	<span style="color:blue"><kbd>try again</kbd>
	</span>
      
      to see more answers.  You should find that much of the mechanism we built
      in this section is subsumed by nondeterministic search and backtracking.
      You will probably also find, however, that your new query language has
      subtle differences in behavior from the one implemented here.  Can you
      find examples that illustrate this difference?
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_9_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_9_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>



    
    <div class="permalink">
    <a name="ex_4.86" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_4.86">Exercise 4.86 </a></b> 
  
      
      
      When we implemented the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator in section <REF NAME="sec:mc-eval"><a class="superscript" id="4.4.4-sec-link-4.1" href="./4.1.html">4.1</a></REF>, we saw how to use
      local environments to avoid name conflicts between the parameters of
      
	<span style="color:teal">procedures.</span>
	<span style="color:blue">functions.</span>
      
      For example, in evaluating
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
(define (square x)
        (* x x))

        (define (sum-of-squares x y)
        (+ (square x) (square y)))

        (sum-of-squares 3 4)
</pre></div></div>    </td>
            <td><div class='snippet' id='javascript_95_54_div'><div class='pre-prettyprint'><pre class='prettyprint' title='Evaluate Javascript expression'onclick="window.open('http://source-academy.github.io/playground#chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHTpQKCwMwK4B2AxgC4CWA9oaAM4CO+AhgE4CmAFAB4CUoA3llDDQ7UvhY0uoAFSguAbiwBfPETJUatfAFsA+pVx6GzdrW4AaUAE8+gkaLbjJdRq069QAalenOtpVVtfUNjNzMOAGYrFB4FIA')">function square(x) {
    return x * x;
}
function sum_of_squares(x, y) {
    return square(x) + square(y);
}
sum_of_squares(3, 4);

</pre></div></div></td></tr></table>
      there is no confusion between the <kbd>x</kbd> in
      <kbd>square</kbd> and the <kbd>x</kbd>
      in
      
	<span style="color:teal"><kbd>sum-of-squares</kbd>,</span>
	<span style="color:blue"><kbd>sum_of_squares</kbd>,
	</span>
      
      because we evaluate the body of each
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      in an environment that is specially constructed to contain
      bindings for the local variables.  In the query system, we used a
      different strategy to avoid name conflicts in applying rules.  Each
      time we apply a rule we rename the variables with new names that are
      guaranteed to be unique.  The analogous strategy for the
      
	<span style="color:teal">Lisp</span>
	<span style="color:blue">JavaScript</span>
      
      evaluator would be to do away with local environments and simply
      rename the variables in the body of a
      
	<span style="color:teal">procedure</span>
	<span style="color:blue">function</span>
      
      each time we apply the
      
	<span style="color:teal">procedure.</span>
	<span style="color:blue">function.</span>
      
      <p></p>
      
      
      
      
      Implement for the query language a rule-application method that uses
      environments rather than renaming.  See if you can build on your
      environment structure to create constructs in the query language for
      dealing with large systems, such as the rule analog of
      block-structured
      
	<span style="color:teal">procedures.</span>
      <span style="color:blue">functions.</span>
      Can you relate any of this to the problem of making deductions in a
      context (e.g., <QUOTE>If I supposed that $P$
      were true, then I would be able to deduce $A$
      and $B$.</QUOTE>) as a method of problem
      solving?  (This problem is open-ended.  A good answer is probably worth
      a Ph.D.)
      
    
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_95_10_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_95_10_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In general,
      unifying
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      with an expression involving
      
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      would require our being able to find a fixed point of the equation
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $ = \textit{expression involving}$
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      It is sometimes possible to syntactically form an expression that appears
      to be the solution.  For example,
      
	<span style="color:teal"><kbd>?y</kbd></span>
	<span style="color:blue"><kbd>y</kbd></span>
      
      $=$
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      seems to have the fixed point
      
	<span style="color:teal"><kbd>(f (f (f </kbd>…
	<kbd>)))</kbd>,
	</span>
	<span style="color:blue">
	  <kbd>list("f", list("f", list("f",</kbd>
	  …
	  <kbd>)))</kbd>,
	</span>
      
      which we can produce by beginning with the expression
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      and repeatedly substituting
      
	<span style="color:teal"><kbd>(f ?y)</kbd></span>
	<span style="color:blue"><kbd>list("f", y)</kbd>
	</span>
      
      for
      
	<span style="color:teal"><kbd>?y</kbd>.</span>
	<span style="color:blue"><kbd>y</kbd>.</span>
      
      Unfortunately, not every such equation has a meaningful fixed point.  The
      issues that arise here are similar to the issues of manipulating 
      
      infinite series in mathematics.  For example, we know that 2 is the
      solution to the equation $y = 1 + y/2$.
      Beginning with the expression $1 + y/2$ and
      repeatedly substituting $1 + y/2$ for
      $y$ gives
      
        \[ 2 = y = 1 + y/2 = 1 + (1+y/2)/2 = 1 + 1/2 + y/4 =\cdots, \]
      
      which leads to
      
        \[ 2 = 1 + 1/2 + 1/4 + 1/8 +\cdots. \]
      
      However, if we try the same manipulation beginning with the
      observation that $-1$ is the solution to the
      equation $y = 1 + 2y$, we obtain
      
        \[ -1 = y = 1 + 2y = 1 + 2(1 + 2y) = 1 + 2 + 4y = \cdots, \]
      
      which leads to 
      
        \[ -1 = 1 + 2 + 4 + 8 +\cdots. \]
      
      Although the formal manipulations used in deriving these two equations
      are identical, the first result is a valid assertion about infinite
      series but the second is not.  Similarly, for our unification results,
      reasoning with an arbitrary syntactically constructed expression may
      lead to errors.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:teal">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:teal">[2] </a>
    <FOOTNOTE>
    Most Lisp systems give the user
	  the ability to modify the ordinary <kbd>read</kbd>
	  procedure to perform such transformations by defining 
	  
	  
	  
	  
	  <EM>reader macro characters</EM>.  Quoted
	  expressions are already handled in this way: The reader automatically
	  translates <kbd>'expression</kbd> into
	  <kbd>(quote expression)</kbd> before the
	  evaluator sees it.  We could arrange for
	  <kbd>?expression</kbd> to be transformed into
	  <kbd>(? expression)</kbd> in the same way; however,
	  for the sake of clarity we have included the transformation
	  procedure here explicitly.
	  <p></p>
	  
	  <kbd>Expand-question-mark</kbd> and
	  <kbd>contract-question-mark</kbd> use several
	  procedures with <kbd>string</kbd> in their names.
	  These are Scheme primitives.
    </FOOTNOTE></span></div>
    
    
</SUBSECTION></div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./4.4.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='97' href='./5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      4.4.4  Implementing the Query System
    </div>
    <script> var chapter_id = 96; </script>
    <script> var chapter_path = "chapters/4.4.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>